{"items":[{"tags":["java","immutability"],"comments":[{"owner":{"account_id":10214190,"reputation":2729,"user_id":7540393,"accept_rate":73,"display_name":"Arthur Attout"},"score":0,"creation_date":1568554124,"post_id":57944528,"comment_id":102302868,"body_markdown":"_Does it mean it must be immutable ?_ : Yes. _How to check immutability or not of an object ?_ : Do you mean programmatically or by design ?","body":"<i>Does it mean it must be immutable ?</i> : Yes. <i>How to check immutability or not of an object ?</i> : Do you mean programmatically or by design ?"},{"owner":{"account_id":1136458,"reputation":10832,"user_id":1652954,"accept_rate":58,"display_name":"Amrmsmb"},"score":0,"creation_date":1568554179,"post_id":57944528,"comment_id":102302881,"body_markdown":"@ArthurAttout programmtically..i modified the question#","body":"@ArthurAttout programmtically..i modified the question#"},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1683736250,"post_id":57944528,"comment_id":134413618,"body_markdown":"In general, there are two different pathways of detecting if an instance of an object is immutable; at compile time or at run time. At present, Java&#39;s design and platform doesn&#39;t really enable detection at compile time. I have created a very small Open Source library that will detect it at runtime. I describe the general solution as a StackOverflow Answer (which contains the link to Github where the code is published) located here: https://stackoverflow.com/a/75043881/501113","body":"In general, there are two different pathways of detecting if an instance of an object is immutable; at compile time or at run time. At present, Java&#39;s design and platform doesn&#39;t really enable detection at compile time. I have created a very small Open Source library that will detect it at runtime. I describe the general solution as a StackOverflow Answer (which contains the link to Github where the code is published) located here: <a href=\"https://stackoverflow.com/a/75043881/501113\">stackoverflow.com/a/75043881/501113</a>"}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1568554554,"creation_date":1568554174,"answer_id":57944576,"question_id":57944528,"body_markdown":"&gt; does it mean, it must be immutable?\r\n\r\nYes, &quot;not changeable&quot; and &quot;immutable&quot; are synonyms.\r\n\r\n&gt; how to check immutability or not of an object\r\n\r\n*(see below for updated answer for updated question)*\r\n\r\nBy looking at its documentation and API of the object&#39;s class. If it doesn&#39;t provide any mutation operations (setters, etc.), then the object is immutable. The class would also need to be `final` or have no `protected` fields, since otherwise you could subclass it and modify the protected fields.\r\n\r\n[`Long`][1] is immutable, for instance (unless you use reflection to break into a specific implementation). If you look through its method list, it doesn&#39;t provide any mutator operations, and it&#39;s a `final` class.\r\n\r\n----\r\n\r\nAfter this answer was posted, you modified the question to:\r\n\r\n&gt; how to check immutability or not of an object programmatically\r\n\r\nI don&#39;t think you can. There&#39;s nothing in reflection that tells you whether a method is a mutator or not, and it would be extremely unreliable to make assumptions based on method names. Of course, if the object&#39;s class is `final` and offers **no** instance methods at all, that probably means it&#39;s immutable. But lots of immutable classes have instance methods (including `Long`).\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Long.html","title":"how to check immutability and mutability of an object","body":"<blockquote>\n  <p>does it mean, it must be immutable?</p>\n</blockquote>\n\n<p>Yes, \"not changeable\" and \"immutable\" are synonyms.</p>\n\n<blockquote>\n  <p>how to check immutability or not of an object</p>\n</blockquote>\n\n<p><em>(see below for updated answer for updated question)</em></p>\n\n<p>By looking at its documentation and API of the object's class. If it doesn't provide any mutation operations (setters, etc.), then the object is immutable. The class would also need to be <code>final</code> or have no <code>protected</code> fields, since otherwise you could subclass it and modify the protected fields.</p>\n\n<p><a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Long.html\" rel=\"nofollow noreferrer\"><code>Long</code></a> is immutable, for instance (unless you use reflection to break into a specific implementation). If you look through its method list, it doesn't provide any mutator operations, and it's a <code>final</code> class.</p>\n\n<hr>\n\n<p>After this answer was posted, you modified the question to:</p>\n\n<blockquote>\n  <p>how to check immutability or not of an object programmatically</p>\n</blockquote>\n\n<p>I don't think you can. There's nothing in reflection that tells you whether a method is a mutator or not, and it would be extremely unreliable to make assumptions based on method names. Of course, if the object's class is <code>final</code> and offers <strong>no</strong> instance methods at all, that probably means it's immutable. But lots of immutable classes have instance methods (including <code>Long</code>).</p>\n"},{"tags":[],"owner":{"display_name":"user10762593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568562135,"creation_date":1568554817,"answer_id":57944655,"question_id":57944528,"body_markdown":"The issue is not whether &#39;Long&#39; is immutable; the issue is whether the the id of a &#39;Product&#39; is immutable.\r\n\r\nYou provide immutability of the id by making the id field private, by not implementing any method that will change the id, and by not writing any code in the Product class that changes the id.\r\n\r\nWhy isn&#39;t the immutability of Long relevant?  Consider this example that fails to meet your requirement that the id should not be changeable:\r\n\r\n    class Product {\r\n        private Long id;\r\n        Product() { id = 42; }\r\n        Long getId() { return id; }\r\n        void setId(Long newId) { id = newId; }\r\n           :\r\n    }\r\n\r\n\r\nAll of those Longs are themselves immutable, but the product id changes nevertheless: because ```setId``` assigns a *different* immutable Long value to the id member.\r\n\r\nHowever, if you just delete that ```setId``` method (and don&#39;t write anything similar in the Product class) then the product id is now not changeable.","title":"how to check immutability and mutability of an object","body":"<p>The issue is not whether 'Long' is immutable; the issue is whether the the id of a 'Product' is immutable.</p>\n\n<p>You provide immutability of the id by making the id field private, by not implementing any method that will change the id, and by not writing any code in the Product class that changes the id.</p>\n\n<p>Why isn't the immutability of Long relevant?  Consider this example that fails to meet your requirement that the id should not be changeable:</p>\n\n<pre><code>class Product {\n    private Long id;\n    Product() { id = 42; }\n    Long getId() { return id; }\n    void setId(Long newId) { id = newId; }\n       :\n}\n</code></pre>\n\n<p>All of those Longs are themselves immutable, but the product id changes nevertheless: because <code>setId</code> assigns a <em>different</em> immutable Long value to the id member.</p>\n\n<p>However, if you just delete that <code>setId</code> method (and don't write anything similar in the Product class) then the product id is now not changeable.</p>\n"},{"tags":[],"owner":{"account_id":8154208,"reputation":4189,"user_id":6140314,"display_name":"Mohamed Anees A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568556285,"creation_date":1568556285,"answer_id":57944849,"question_id":57944528,"body_markdown":"&gt; how to check immutability or not of an object programmatically?\r\n\r\nWe can&#39;t. Moreover I don&#39;t feel this *must* be done programmatically. Read further,\r\n\r\nLet&#39;s have an imaginary `Exception` class as below,\r\n\r\n    public class MutationOfImmutableException extends Exception {\r\n    \r\n      /**\r\n       * \r\n       */\r\n      private static final long serialVersionUID = 1L;\r\n\r\n      public MutationOfImmutableException(String string) {\r\n        super(string);\r\n      } \r\n    \r\n    }\r\n\r\nAnd our class (I can&#39;t think of a great name, but I guess this conveys the idea) have\r\n\r\n    public void setName(String name) throws MutationOfImmutableException {\r\n        throw new MutationOfImmutableException(&quot;Cannot mutate this immutable instance&quot;);\r\n    }\r\n\r\nAnd, in our main class, whenever someone calls `setName()` by mistake, the compiler warns us to handle the Exception properly.\r\n\r\n    p.setName(&quot;Anees&quot;); // Cannot do this until handled!\r\n\r\nIn short, if you have access to the class `Product` which is immutable, you can throw a **Checked Exception** from `setId()`, to avoid everything going haywire!\r\n\r\nBetter still, make your `setters` private so that you cannot even encounter this scenario.\r\n\r\n\r\n\r\n\r\n","title":"how to check immutability and mutability of an object","body":"<blockquote>\n  <p>how to check immutability or not of an object programmatically?</p>\n</blockquote>\n\n<p>We can't. Moreover I don't feel this <em>must</em> be done programmatically. Read further,</p>\n\n<p>Let's have an imaginary <code>Exception</code> class as below,</p>\n\n<pre><code>public class MutationOfImmutableException extends Exception {\n\n  /**\n   * \n   */\n  private static final long serialVersionUID = 1L;\n\n  public MutationOfImmutableException(String string) {\n    super(string);\n  } \n\n}\n</code></pre>\n\n<p>And our class (I can't think of a great name, but I guess this conveys the idea) have</p>\n\n<pre><code>public void setName(String name) throws MutationOfImmutableException {\n    throw new MutationOfImmutableException(\"Cannot mutate this immutable instance\");\n}\n</code></pre>\n\n<p>And, in our main class, whenever someone calls <code>setName()</code> by mistake, the compiler warns us to handle the Exception properly.</p>\n\n<pre><code>p.setName(\"Anees\"); // Cannot do this until handled!\n</code></pre>\n\n<p>In short, if you have access to the class <code>Product</code> which is immutable, you can throw a <strong>Checked Exception</strong> from <code>setId()</code>, to avoid everything going haywire!</p>\n\n<p>Better still, make your <code>setters</code> private so that you cannot even encounter this scenario.</p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683638391,"creation_date":1683638391,"answer_id":76209829,"question_id":57944528,"body_markdown":"Yes you can determine whether an object is immutable. However, it is very complicated business, so a solution would not fit within an answer here on Stack Overflow.\r\n\r\nThere are two approaches to determine whether a class is immutable:\r\n\r\n- Via static analysis\r\n- Via runtime checking\r\n\r\nAn existing static analysis tool is ***MutabilityDetector*** at https://github.com/MutabilityDetector. \r\n\r\nAn existing runtime checking tool is ***Bathyscaphe*** at https://github.com/mikenakis/Bathyscaphe (I am the author.)\r\n\r\nIn my opinion, static analysis can be useful at certain times and under certain scenarios, but it does not provide a complete solution to the problem at all times. A complete solution requires runtime checking as I explain on my blog here: https://blog.michael.gr/2022/05/bathyscaphe.html, and that&#39;s why I have written Bathyscaphe.\r\n","title":"how to check immutability and mutability of an object","body":"<p>Yes you can determine whether an object is immutable. However, it is very complicated business, so a solution would not fit within an answer here on Stack Overflow.</p>\n<p>There are two approaches to determine whether a class is immutable:</p>\n<ul>\n<li>Via static analysis</li>\n<li>Via runtime checking</li>\n</ul>\n<p>An existing static analysis tool is <em><strong>MutabilityDetector</strong></em> at <a href=\"https://github.com/MutabilityDetector\" rel=\"nofollow noreferrer\">https://github.com/MutabilityDetector</a>.</p>\n<p>An existing runtime checking tool is <em><strong>Bathyscaphe</strong></em> at <a href=\"https://github.com/mikenakis/Bathyscaphe\" rel=\"nofollow noreferrer\">https://github.com/mikenakis/Bathyscaphe</a> (I am the author.)</p>\n<p>In my opinion, static analysis can be useful at certain times and under certain scenarios, but it does not provide a complete solution to the problem at all times. A complete solution requires runtime checking as I explain on my blog here: <a href=\"https://blog.michael.gr/2022/05/bathyscaphe.html\" rel=\"nofollow noreferrer\">https://blog.michael.gr/2022/05/bathyscaphe.html</a>, and that's why I have written Bathyscaphe.</p>\n"}],"owner":{"account_id":1136458,"reputation":10832,"user_id":1652954,"accept_rate":58,"display_name":"Amrmsmb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57944576,"answer_count":4,"score":3,"last_activity_date":1683638391,"creation_date":1568553853,"question_id":57944528,"body_markdown":"It is stated in the specifications and the requiremnets of the project, that \r\n\r\n&gt; Id of Product should not be changeable..it is of type `Long`\r\n\t\t \r\nDoes it mean, it must be immutable? If yes, how to check for immutability of an object programmatically?\r\n","title":"how to check immutability and mutability of an object","body":"<p>It is stated in the specifications and the requiremnets of the project, that </p>\n\n<blockquote>\n  <p>Id of Product should not be changeable..it is of type <code>Long</code></p>\n</blockquote>\n\n<p>Does it mean, it must be immutable? If yes, how to check for immutability of an object programmatically?</p>\n"},{"tags":["eclipse","java"],"answers":[{"tags":[],"owner":{"account_id":1196026,"reputation":11248,"user_id":1167744,"accept_rate":79,"display_name":"Parth Soni"},"down_vote_count":2,"up_vote_count":19,"is_accepted":true,"score":17,"last_activity_date":1474610581,"creation_date":1364314259,"answer_id":15641944,"question_id":15641849,"body_markdown":"Right click on your eclipse project, In `Preferences` go to `Java &gt; Installed JREs, select your JDK` and click on `Edit`. In the new Dialog you can **add external jars** like `tools.jar` to your execution environment.","title":"Tools jar does not exist Eclipse JAVA","body":"<p>Right click on your eclipse project, In <code>Preferences</code> go to <code>Java &gt; Installed JREs, select your JDK</code> and click on <code>Edit</code>. In the new Dialog you can <strong>add external jars</strong> like <code>tools.jar</code> to your execution environment.</p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364314280,"creation_date":1364314280,"answer_id":15641953,"question_id":15641849,"body_markdown":"Tomcat needs a full JDK/SDK to run but under `C:/Java/jdk1.6.0_26-32/`, you only have a JRE installed.\r\n\r\nCleaning and deploying is done by Eclipse, no Tomcat code is involved so this works.\r\n\r\nYou need to configure your environment so that Tomcat uses `C:\\Java\\jdk1.6.0_34` as Java VM. Check the values of `JAVA_HOME` and the content of `setenv.bat`","title":"Tools jar does not exist Eclipse JAVA","body":"<p>Tomcat needs a full JDK/SDK to run but under <code>C:/Java/jdk1.6.0_26-32/</code>, you only have a JRE installed.</p>\n\n<p>Cleaning and deploying is done by Eclipse, no Tomcat code is involved so this works.</p>\n\n<p>You need to configure your environment so that Tomcat uses <code>C:\\Java\\jdk1.6.0_34</code> as Java VM. Check the values of <code>JAVA_HOME</code> and the content of <code>setenv.bat</code></p>\n"},{"tags":[],"owner":{"account_id":3126091,"reputation":11,"user_id":2644916,"display_name":"Jai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400145049,"creation_date":1400145049,"answer_id":23673868,"question_id":15641849,"body_markdown":"Right click on project-&gt;Properties-&gt;Compiler-&gt;Configure workspace settings-&gt;go to configure-&gt;installed jre-&gt;give jdk path","title":"Tools jar does not exist Eclipse JAVA","body":"<p>Right click on project->Properties->Compiler->Configure workspace settings->go to configure->installed jre->give jdk path</p>\n"},{"tags":[],"owner":{"account_id":4632724,"reputation":570,"user_id":3754754,"accept_rate":43,"display_name":"Manpreet"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1416292822,"creation_date":1416292822,"answer_id":26988147,"question_id":15641849,"body_markdown":"I found the solution to resolve this.\r\n\r\n Go to Run Configurations &gt; classpath and under User Enteries you will have tools.jar and its path would be pointing to the old folder. Remove that and click on &quot;Add External Jars&quot; to add the tools.jar from the new path. And that is it.","title":"Tools jar does not exist Eclipse JAVA","body":"<p>I found the solution to resolve this.</p>\n\n<p>Go to Run Configurations > classpath and under User Enteries you will have tools.jar and its path would be pointing to the old folder. Remove that and click on \"Add External Jars\" to add the tools.jar from the new path. And that is it.</p>\n"},{"tags":[],"owner":{"account_id":75221,"reputation":5709,"user_id":215838,"accept_rate":67,"display_name":"Hartmut Pfarr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1455718159,"creation_date":1420424385,"answer_id":27772608,"question_id":15641849,"body_markdown":"Check your &quot;run configurations&quot; (Eclipse Menu Run -&gt; Run Configurations ....) also, since therein the classpath may be wrong or has gotten obsolete.","title":"Tools jar does not exist Eclipse JAVA","body":"<p>Check your \"run configurations\" (Eclipse Menu Run -> Run Configurations ....) also, since therein the classpath may be wrong or has gotten obsolete.</p>\n"},{"tags":[],"owner":{"account_id":5009268,"reputation":353,"user_id":4025989,"display_name":"Gloria Rampur"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1462875210,"creation_date":1455292295,"answer_id":35366777,"question_id":15641849,"body_markdown":"This worked for me on Eclipse:\r\n\r\n    Windows -&gt; Preferences -&gt; Select Java -&gt; Select Installed JREs -&gt; Add \r\n    -&gt; Add your JDK -&gt; Establish it as default -&gt; Apply -&gt; OK.\r\n\r\nAfter this, I&#39;ve to establish project related settings too:\r\n\r\n    Right click on your Project Name (in Project explorer ) -&gt; Properties -&gt;\r\n    Java Build Path -&gt; Click on JRE System Libraries -&gt; Edit -&gt; \r\n    Select Workspace Default JRE (jdk included above)","title":"Tools jar does not exist Eclipse JAVA","body":"<p>This worked for me on Eclipse:</p>\n\n<pre><code>Windows -&gt; Preferences -&gt; Select Java -&gt; Select Installed JREs -&gt; Add \n-&gt; Add your JDK -&gt; Establish it as default -&gt; Apply -&gt; OK.\n</code></pre>\n\n<p>After this, I've to establish project related settings too:</p>\n\n<pre><code>Right click on your Project Name (in Project explorer ) -&gt; Properties -&gt;\nJava Build Path -&gt; Click on JRE System Libraries -&gt; Edit -&gt; \nSelect Workspace Default JRE (jdk included above)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4436640,"reputation":1160,"user_id":3612321,"accept_rate":75,"display_name":"rrhrg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468415432,"creation_date":1468415432,"answer_id":38352720,"question_id":15641849,"body_markdown":"I had the same problem (I can reproduce it) and my solution sounds like the integration in Eclipse is really screwed up but I actually fixed it by starting Eclipse with the same JDK version.\r\n\r\nAdd/edit the following in your *eclipse.ini* (which is in the Eclipse directory):\r\n\r\n    -vm\r\n    path/to/jdk/bin\r\n\r\nWhere *path/to/jdk/bin* is the path to the JDK bin directory of the version you are using for ant/tomcat.\r\n\r\nNote that tools.jar is NOT included in a JRE distribution.","title":"Tools jar does not exist Eclipse JAVA","body":"<p>I had the same problem (I can reproduce it) and my solution sounds like the integration in Eclipse is really screwed up but I actually fixed it by starting Eclipse with the same JDK version.</p>\n\n<p>Add/edit the following in your <em>eclipse.ini</em> (which is in the Eclipse directory):</p>\n\n<pre><code>-vm\npath/to/jdk/bin\n</code></pre>\n\n<p>Where <em>path/to/jdk/bin</em> is the path to the JDK bin directory of the version you are using for ant/tomcat.</p>\n\n<p>Note that tools.jar is NOT included in a JRE distribution.</p>\n"},{"tags":[],"owner":{"account_id":2935084,"reputation":4213,"user_id":2514228,"accept_rate":67,"display_name":"Micah Smith"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1530568368,"creation_date":1475351631,"answer_id":39810871,"question_id":15641849,"body_markdown":"I found this question trying to build my project using Ant in Eclipse, and I would get the same error message as above. The suggestions in @Parth&#39;s and other answers to edit the Installed JREs is the first step. What I also needed to run Ant successfully was\r\n\r\n 1. Right click on build.xml, select &quot;Run As&quot;, select &quot;Ant Build...&quot; (note the ...)\r\n 2. Click on the JRE tab\r\n 3. Change the Runtime JRE to the same thing that you updated in the first stage, and press Apply. (That is, the runtime JRE as you specified by &quot;Preferences&quot; -&gt; &quot;Java&quot; -&gt; &quot;Installed JREs&quot;, as in @Parth&#39;s answer.)\r\n\r\nOtherwise it seems that Ant will still try to build with the old JRE that doesn&#39;t have `tools.jar`. Hope this helps someone.","title":"Tools jar does not exist Eclipse JAVA","body":"<p>I found this question trying to build my project using Ant in Eclipse, and I would get the same error message as above. The suggestions in @Parth's and other answers to edit the Installed JREs is the first step. What I also needed to run Ant successfully was</p>\n\n<ol>\n<li>Right click on build.xml, select \"Run As\", select \"Ant Build...\" (note the ...)</li>\n<li>Click on the JRE tab</li>\n<li>Change the Runtime JRE to the same thing that you updated in the first stage, and press Apply. (That is, the runtime JRE as you specified by \"Preferences\" -> \"Java\" -> \"Installed JREs\", as in @Parth's answer.)</li>\n</ol>\n\n<p>Otherwise it seems that Ant will still try to build with the old JRE that doesn't have <code>tools.jar</code>. Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":8733464,"reputation":43,"user_id":6532790,"display_name":"Maalini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477646057,"creation_date":1477646057,"answer_id":40301826,"question_id":15641849,"body_markdown":"In my case with using ANT build I had to change the setting\r\nAdd tools.jar in the below location.\r\n Windows --&gt; Preferences --&gt; Ant --&gt; Runtime --&gt; Global Entries. ","title":"Tools jar does not exist Eclipse JAVA","body":"<p>In my case with using ANT build I had to change the setting\nAdd tools.jar in the below location.\n Windows --> Preferences --> Ant --> Runtime --> Global Entries. </p>\n"},{"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488191900,"creation_date":1488191548,"answer_id":42483436,"question_id":15641849,"body_markdown":"If you are running Ant build file and getting this error in eclipse, then your eclipse is configured to use two differently named JRE&#39;s. i.e. One from the jre folder and another jre from inside the jdk&#39;s folder. Adding `tools.jar` may be a workaround but I used the JRE inside the JDK&#39;s folder(`C:\\Program Files\\Java\\jdk1.8.0_121`). Inorder to change this, \r\n\r\n 1. Check in Installed JRE section which JRE is cheked(I had `jdk1.8.0_121` checked and `jre1.8.0_121` left unchecked).\r\n\r\n 2. Update your eclipse classpath by navigating to `Window &gt; Preferences &gt; Java &gt; Installed JRE &gt; Execution Environments`. \r\n\r\n 2. Now select the `JavaSE-1.x` on the left side and select the compatible JRE[perfect match]. Select the same JRE(`jdk1.8.0_121`) you had it checked above and click Ok. Optionally you can delete the JRE(jre1.8.0_121) which is unused to avoid confusion if it is not used in any other projects.\r\n\r\nNow your project will build and you can run the Ant build files. Check the image below.\r\n\r\n[![Eclipse Installed JRE configuration][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aIfPp.png","title":"Tools jar does not exist Eclipse JAVA","body":"<p>If you are running Ant build file and getting this error in eclipse, then your eclipse is configured to use two differently named JRE's. i.e. One from the jre folder and another jre from inside the jdk's folder. Adding <code>tools.jar</code> may be a workaround but I used the JRE inside the JDK's folder(<code>C:\\Program Files\\Java\\jdk1.8.0_121</code>). Inorder to change this, </p>\n\n<ol>\n<li><p>Check in Installed JRE section which JRE is cheked(I had <code>jdk1.8.0_121</code> checked and <code>jre1.8.0_121</code> left unchecked).</p></li>\n<li><p>Update your eclipse classpath by navigating to <code>Window &gt; Preferences &gt; Java &gt; Installed JRE &gt; Execution Environments</code>. </p></li>\n<li><p>Now select the <code>JavaSE-1.x</code> on the left side and select the compatible JRE[perfect match]. Select the same JRE(<code>jdk1.8.0_121</code>) you had it checked above and click Ok. Optionally you can delete the JRE(jre1.8.0_121) which is unused to avoid confusion if it is not used in any other projects.</p></li>\n</ol>\n\n<p>Now your project will build and you can run the Ant build files. Check the image below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/aIfPp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aIfPp.png\" alt=\"Eclipse Installed JRE configuration\"></a></p>\n"},{"tags":[],"owner":{"account_id":2971110,"reputation":14744,"user_id":2523147,"accept_rate":38,"display_name":"prime"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502448367,"creation_date":1502448367,"answer_id":45633337,"question_id":15641849,"body_markdown":"Try to add the tools.jar as an external JAR. \r\n\r\nFor eclipse,\r\n\r\n 1. Right click the project name and select Properties\r\n 2. Go to Java &quot;Build Path&quot;\r\n 3. Select tab &quot;Libraries&quot;\r\n 4. Click &quot;Add External JARs&quot;\r\n 5. Select the relevant .jar file from the file selection\r\n","title":"Tools jar does not exist Eclipse JAVA","body":"<p>Try to add the tools.jar as an external JAR. </p>\n\n<p>For eclipse,</p>\n\n<ol>\n<li>Right click the project name and select Properties</li>\n<li>Go to Java \"Build Path\"</li>\n<li>Select tab \"Libraries\"</li>\n<li>Click \"Add External JARs\"</li>\n<li>Select the relevant .jar file from the file selection</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1049262,"reputation":5113,"user_id":1053562,"display_name":"mikiqex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504335001,"creation_date":1504335001,"answer_id":46011266,"question_id":15641849,"body_markdown":"In my case the Tomcat server in Eclipse has been created under older JDK (just a few builds). My solution was to remove the sever and add it again (now using current JDK).","title":"Tools jar does not exist Eclipse JAVA","body":"<p>In my case the Tomcat server in Eclipse has been created under older JDK (just a few builds). My solution was to remove the sever and add it again (now using current JDK).</p>\n"},{"tags":[],"owner":{"account_id":1254376,"reputation":31,"user_id":1214171,"display_name":"Sasha Raskind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608591341,"creation_date":1608591341,"answer_id":65401074,"question_id":15641849,"body_markdown":"I am not sure it applies to all situations, but if you right click Ant script and there is an item &quot;External tools configuration&quot; under &quot;Run as&quot; menu, select it, and go to JRE tab. As far as I can say, it may be configured independently from your project and point to the JRE, not JDK, in which case there would be missing tools.jar","title":"Tools jar does not exist Eclipse JAVA","body":"<p>I am not sure it applies to all situations, but if you right click Ant script and there is an item &quot;External tools configuration&quot; under &quot;Run as&quot; menu, select it, and go to JRE tab. As far as I can say, it may be configured independently from your project and point to the JRE, not JDK, in which case there would be missing tools.jar</p>\n"},{"tags":[],"owner":{"account_id":21236034,"reputation":1,"user_id":15620209,"display_name":"Sel&#231;uk YAPICI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618301223,"creation_date":1618301223,"answer_id":67070977,"question_id":15641849,"body_markdown":"I remove server (Tomcat 6.0) from window -&gt; preferences -&gt; server -&gt; Runtime environment. \r\nAnd add again. Then, I add my project to server again. The problem is destroyed. ","title":"Tools jar does not exist Eclipse JAVA","body":"<p>I remove server (Tomcat 6.0) from window -&gt; preferences -&gt; server -&gt; Runtime environment.\nAnd add again. Then, I add my project to server again. The problem is destroyed.</p>\n"},{"tags":[],"owner":{"account_id":11361306,"reputation":1,"user_id":8329353,"display_name":"Nelson Oliver mathias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628174910,"creation_date":1628151087,"answer_id":68662860,"question_id":15641849,"body_markdown":"If You are getting this error while running the ANT build then follow the below steps.\r\nIn the Eclipse go-to window-&gt; preferences-&gt; ANT-&gt; RUNTIME\r\nthen select classpath tab then select Global Entries and add `tools.jar` as an `external jar`.\r\n\r\nRun the ANT build.","title":"Tools jar does not exist Eclipse JAVA","body":"<p>If You are getting this error while running the ANT build then follow the below steps.\nIn the Eclipse go-to window-&gt; preferences-&gt; ANT-&gt; RUNTIME\nthen select classpath tab then select Global Entries and add <code>tools.jar</code> as an <code>external jar</code>.</p>\n<p>Run the ANT build.</p>\n"},{"tags":[],"owner":{"account_id":463980,"reputation":6162,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683638255,"creation_date":1683638255,"answer_id":76209804,"question_id":15641849,"body_markdown":"Right Click on Project-&gt;\r\nProperties-&gt;\r\nJava Build Path-&gt;\r\nLibraries-&gt;\r\nAdd Library-&gt;\r\nJRE System Library-&gt;\r\nChoose Alternate JRE-&gt;\r\nClick Installed JREs-&gt;\r\nClick Add-&gt;\r\nselect Jdk path from program files\r\nclick on jdk checkbox then Apply and close","title":"Tools jar does not exist Eclipse JAVA","body":"<p>Right Click on Project-&gt;\nProperties-&gt;\nJava Build Path-&gt;\nLibraries-&gt;\nAdd Library-&gt;\nJRE System Library-&gt;\nChoose Alternate JRE-&gt;\nClick Installed JREs-&gt;\nClick Add-&gt;\nselect Jdk path from program files\nclick on jdk checkbox then Apply and close</p>\n"}],"owner":{"account_id":1514789,"reputation":5960,"user_id":1416058,"accept_rate":91,"display_name":"bouncingHippo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73770,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":15641944,"answer_count":16,"score":33,"last_activity_date":1683638255,"creation_date":1364314068,"question_id":15641849,"body_markdown":"`The archive: C:/Java/jdk1.6.0_26-32/lib/tools.jar which is referenced by the classpath, does not exist.`\r\n\r\nThis is the error I have when run Tomcat. There was no problem cleaning or publishing - only when i start the Tomcat server.\r\n\r\nNow, I checked my folders and there is a `tools.jar` in file path `C:\\Java\\jdk1.6.0_34\\lib`\r\n\r\nWhat am i missing?\r\n\r\nusing jre6 and have jdk1.6.0_34 installed\r\n\r\n\r\n","title":"Tools jar does not exist Eclipse JAVA","body":"<p><code>The archive: C:/Java/jdk1.6.0_26-32/lib/tools.jar which is referenced by the classpath, does not exist.</code></p>\n\n<p>This is the error I have when run Tomcat. There was no problem cleaning or publishing - only when i start the Tomcat server.</p>\n\n<p>Now, I checked my folders and there is a <code>tools.jar</code> in file path <code>C:\\Java\\jdk1.6.0_34\\lib</code></p>\n\n<p>What am i missing?</p>\n\n<p>using jre6 and have jdk1.6.0_34 installed</p>\n"},{"tags":["java","logging","slf4j","lombok"],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1630155921,"creation_date":1630155921,"answer_id":68964629,"question_id":68964611,"body_markdown":"From the [documentation of `@Log` and friends][LombobkSlf4jDoc]:\r\n&gt; ...\r\n&gt;\r\n&gt; `@Slf4j`\r\n&gt;\r\n&gt; Creates `private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(LogExample.class);`\r\n&gt;\r\n&gt; ...\r\n\r\nWe see that this is equivalent to \r\n\r\n    private static final Logger LOG = LogManager.getLogger(TestController.class);\r\n\r\naside from the name of the field.\r\n\r\n\r\n[LombobkSlf4jDoc]: https://projectlombok.org/features/log","title":"Using @Slf4j annotation for logging","body":"<p>From the <a href=\"https://projectlombok.org/features/log\" rel=\"noreferrer\">documentation of <code>@Log</code> and friends</a>:</p>\n<blockquote>\n<p>...</p>\n<p><code>@Slf4j</code></p>\n<p>Creates <code>private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(LogExample.class);</code></p>\n<p>...</p>\n</blockquote>\n<p>We see that this is equivalent to</p>\n<pre><code>private static final Logger LOG = LogManager.getLogger(TestController.class);\n</code></pre>\n<p>aside from the name of the field.</p>\n"},{"tags":[],"owner":{"account_id":10382255,"reputation":94,"user_id":7656591,"display_name":"Ganeson Ravichandran"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1683638239,"creation_date":1630157528,"answer_id":68964851,"question_id":68964611,"body_markdown":"```\r\n@Slf4j\r\n```\r\n\r\n\r\nThe above annotation from lombok creates a slf4j based Logger, but you would be requiring a log4j based logger. So don&#39;t feel you could use slf4j based logger.\r\n\r\nIf you plan to user slf4j based logger, lombok modifies the code and creates code during the **compile** phase not during runtime like cglib or using reflections. This would mean there won&#39;t be any dip in the performance.","title":"Using @Slf4j annotation for logging","body":"<pre><code>@Slf4j\n</code></pre>\n<p>The above annotation from lombok creates a slf4j based Logger, but you would be requiring a log4j based logger. So don't feel you could use slf4j based logger.</p>\n<p>If you plan to user slf4j based logger, lombok modifies the code and creates code during the <strong>compile</strong> phase not during runtime like cglib or using reflections. This would mean there won't be any dip in the performance.</p>\n"}],"owner":{"account_id":9735515,"reputation":1045,"user_id":7218881,"display_name":"Sankalpa Wijewickrama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30424,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":68964629,"answer_count":2,"score":14,"last_activity_date":1683638239,"creation_date":1630155719,"question_id":68964611,"body_markdown":"First of all I will give a brief explanation about the scenario. In my application I am using SLF4J as the logging facade. For logging, I am using Log4j2 and I have my customized `log4j2.xml` as well. \r\nWhen I log in my classes, I create a logger as mentioned below:\r\n\r\n    private static final Logger LOG = LogManager.getLogger(TestController.class);\r\n\r\nLater, I found out that there is a `@Slf4j` annotation and then I can log without creating a logger instance manually. \r\n\r\n    log.info(&quot;Info log in getHello() in TestController&quot;);\r\n\r\nI did a minor research about the topic where is there any drawbacks of using `@Slf4j` annotation, instead of creating a logger instance within the class. I did not come across any reason why shouldn&#39;t use `@Slf4j` annotation. \r\n\r\nHowever, before proceeding I wanted to ask from this community to confirm is there any drawback of using `@Slf4j`? \r\n","title":"Using @Slf4j annotation for logging","body":"<p>First of all I will give a brief explanation about the scenario. In my application I am using SLF4J as the logging facade. For logging, I am using Log4j2 and I have my customized <code>log4j2.xml</code> as well.\nWhen I log in my classes, I create a logger as mentioned below:</p>\n<pre><code>private static final Logger LOG = LogManager.getLogger(TestController.class);\n</code></pre>\n<p>Later, I found out that there is a <code>@Slf4j</code> annotation and then I can log without creating a logger instance manually.</p>\n<pre><code>log.info(&quot;Info log in getHello() in TestController&quot;);\n</code></pre>\n<p>I did a minor research about the topic where is there any drawbacks of using <code>@Slf4j</code> annotation, instead of creating a logger instance within the class. I did not come across any reason why shouldn't use <code>@Slf4j</code> annotation.</p>\n<p>However, before proceeding I wanted to ask from this community to confirm is there any drawback of using <code>@Slf4j</code>?</p>\n"},{"tags":["java","javafx","combobox"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1683637981,"creation_date":1683636786,"answer_id":76209564,"question_id":76209322,"body_markdown":"Your code looks like this, structurally:\r\n\r\n    public class GUIProjectEWIW7 extends Application {\r\n    \r\n    // ...\r\n    \r\n    @Override\r\n       \r\n    public void start(Stage primaryStage){\r\n    \r\n    // ...\r\n    \r\n    imageApplyBtn.setOnAction(event -&gt;{\r\n    String selectedImage = imageComboBox.getSelectionModel().getSelectedItem();\r\n       \r\n                \r\n    VBox vBox2 = new VBox(20);\r\n    vBox2.setAlignment(Pos.CENTER); //alignment\r\n    vBox2.getChildren().addAll(imageComboBox, imageApplyBtn, borderColor, applybutton);\r\n    vBox2.getChildren().add(hBox); //add the play button\r\n          \r\n    //combine the graphics (sPane2) with GUI(vBox2) into a FlowPane\r\n    FlowPane fPane = new FlowPane(20,20);\r\n    fPane.getChildren().addAll(sPane2, vBox2);\r\n          \r\n    Scene scene = new Scene (fPane, 300, 400);\r\n    primaryStage.setTitle(&quot;RWU Athletics&quot;);\r\n    primaryStage.setScene( scene ); //set the scene on top of the stage\r\n    primaryStage.show(); //visible\r\n       \r\n    }); \r\n    }//end of start()\r\n\r\n    }\r\n\r\nIt is strongly recommended that you format your code in a way that makes the scope of the statements clear. If you apply standard indentation, the problem becomes immediately obvious:\r\n\r\n    public class GUIProjectEWIW7 extends Application {\r\n    \r\n        // ...\r\n    \r\n        @Override\r\n           \r\n        public void start(Stage primaryStage){\r\n        \r\n            // ...\r\n            \r\n            imageApplyBtn.setOnAction(event -&gt;{\r\n            \r\n                String selectedImage = imageComboBox.getSelectionModel().getSelectedItem();\r\n                   \r\n                            \r\n                VBox vBox2 = new VBox(20);\r\n                vBox2.setAlignment(Pos.CENTER); //alignment\r\n                vBox2.getChildren().addAll(imageComboBox, imageApplyBtn, borderColor, applybutton);\r\n                vBox2.getChildren().add(hBox); //add the play button\r\n                      \r\n                //combine the graphics (sPane2) with GUI(vBox2) into a FlowPane\r\n                FlowPane fPane = new FlowPane(20,20);\r\n                fPane.getChildren().addAll(sPane2, vBox2);\r\n                      \r\n                Scene scene = new Scene (fPane, 300, 400);\r\n                primaryStage.setTitle(&quot;RWU Athletics&quot;);\r\n                primaryStage.setScene( scene ); //set the scene on top of the stage\r\n                primaryStage.show(); //visible\r\n            \r\n               \r\n            }); \r\n        \r\n        }//end of start()\r\n    \r\n    }\r\n\r\nThe call to `primaryStage.show()` is inside the event handler for `imageApplyBtn`. So the window will only be shown when the button is pressed (which is of course impossible, since the user can&#39;t press the button before the window is shown).\r\n\r\nIt&#39;s not entirely clear what code you want to execute in the event handler, but you need to move most of that code outside of the handler:\r\n\r\n\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n\r\n            // ...\r\n\r\n            imageApplyBtn.setOnAction(event -&gt;{\r\n            \r\n                String selectedImage = imageComboBox.getSelectionModel().getSelectedItem();\r\n                   \r\n            }); \r\n                            \r\n            VBox vBox2 = new VBox(20);\r\n            vBox2.setAlignment(Pos.CENTER); //alignment\r\n            vBox2.getChildren().addAll(imageComboBox, imageApplyBtn, borderColor, applybutton);\r\n            vBox2.getChildren().add(hBox); //add the play button\r\n                  \r\n            //combine the graphics (sPane2) with GUI(vBox2) into a FlowPane\r\n            FlowPane fPane = new FlowPane(20,20);\r\n            fPane.getChildren().addAll(sPane2, vBox2);\r\n                  \r\n            Scene scene = new Scene (fPane, 300, 400);\r\n            primaryStage.setTitle(&quot;RWU Athletics&quot;);\r\n            primaryStage.setScene( scene ); //set the scene on top of the stage\r\n            primaryStage.show(); //visible\r\n        \r\n           \r\n        \r\n        }//end of start()","title":"JavaFX code will compile but nothing happens when it runs","body":"<p>Your code looks like this, structurally:</p>\n<pre><code>public class GUIProjectEWIW7 extends Application {\n\n// ...\n\n@Override\n   \npublic void start(Stage primaryStage){\n\n// ...\n\nimageApplyBtn.setOnAction(event -&gt;{\nString selectedImage = imageComboBox.getSelectionModel().getSelectedItem();\n   \n            \nVBox vBox2 = new VBox(20);\nvBox2.setAlignment(Pos.CENTER); //alignment\nvBox2.getChildren().addAll(imageComboBox, imageApplyBtn, borderColor, applybutton);\nvBox2.getChildren().add(hBox); //add the play button\n      \n//combine the graphics (sPane2) with GUI(vBox2) into a FlowPane\nFlowPane fPane = new FlowPane(20,20);\nfPane.getChildren().addAll(sPane2, vBox2);\n      \nScene scene = new Scene (fPane, 300, 400);\nprimaryStage.setTitle(&quot;RWU Athletics&quot;);\nprimaryStage.setScene( scene ); //set the scene on top of the stage\nprimaryStage.show(); //visible\n   \n}); \n}//end of start()\n\n}\n</code></pre>\n<p>It is strongly recommended that you format your code in a way that makes the scope of the statements clear. If you apply standard indentation, the problem becomes immediately obvious:</p>\n<pre><code>public class GUIProjectEWIW7 extends Application {\n\n    // ...\n\n    @Override\n       \n    public void start(Stage primaryStage){\n    \n        // ...\n        \n        imageApplyBtn.setOnAction(event -&gt;{\n        \n            String selectedImage = imageComboBox.getSelectionModel().getSelectedItem();\n               \n                        \n            VBox vBox2 = new VBox(20);\n            vBox2.setAlignment(Pos.CENTER); //alignment\n            vBox2.getChildren().addAll(imageComboBox, imageApplyBtn, borderColor, applybutton);\n            vBox2.getChildren().add(hBox); //add the play button\n                  \n            //combine the graphics (sPane2) with GUI(vBox2) into a FlowPane\n            FlowPane fPane = new FlowPane(20,20);\n            fPane.getChildren().addAll(sPane2, vBox2);\n                  \n            Scene scene = new Scene (fPane, 300, 400);\n            primaryStage.setTitle(&quot;RWU Athletics&quot;);\n            primaryStage.setScene( scene ); //set the scene on top of the stage\n            primaryStage.show(); //visible\n        \n           \n        }); \n    \n    }//end of start()\n\n}\n</code></pre>\n<p>The call to <code>primaryStage.show()</code> is inside the event handler for <code>imageApplyBtn</code>. So the window will only be shown when the button is pressed (which is of course impossible, since the user can't press the button before the window is shown).</p>\n<p>It's not entirely clear what code you want to execute in the event handler, but you need to move most of that code outside of the handler:</p>\n<pre><code>    @Override\n    public void start(Stage primaryStage) {\n\n        // ...\n\n        imageApplyBtn.setOnAction(event -&gt;{\n        \n            String selectedImage = imageComboBox.getSelectionModel().getSelectedItem();\n               \n        }); \n                        \n        VBox vBox2 = new VBox(20);\n        vBox2.setAlignment(Pos.CENTER); //alignment\n        vBox2.getChildren().addAll(imageComboBox, imageApplyBtn, borderColor, applybutton);\n        vBox2.getChildren().add(hBox); //add the play button\n              \n        //combine the graphics (sPane2) with GUI(vBox2) into a FlowPane\n        FlowPane fPane = new FlowPane(20,20);\n        fPane.getChildren().addAll(sPane2, vBox2);\n              \n        Scene scene = new Scene (fPane, 300, 400);\n        primaryStage.setTitle(&quot;RWU Athletics&quot;);\n        primaryStage.setScene( scene ); //set the scene on top of the stage\n        primaryStage.show(); //visible\n    \n       \n    \n    }//end of start()\n</code></pre>\n"}],"owner":{"account_id":28557564,"reputation":1,"user_id":21861571,"display_name":"Emily Williams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683637981,"creation_date":1683635005,"question_id":76209322,"body_markdown":"I am working on a relatively simple JavaFX project, where the goal is to display a college logo, and text, and the background color and logo can be changed using combo boxes to select a specific sports team and color. The program was working before, but after adding the last &quot;apply&quot; button, the code will compile but nothing happens when it runs. There are no errors shown, and I can&#39;t seem to find anything within the code that would be causing this... maybe someone else might catch something?\r\n\r\nHere is the code:\r\n\r\n```\r\n  import javafx.application.Application;\r\n  import javafx.scene.Scene;\r\n  import javafx.scene.layout.StackPane;\r\n  import javafx.stage.Stage;\r\n  import javafx.scene.shape.Rectangle;\r\n  import javafx.scene.paint.Color;\r\n \r\n  import javafx.scene.layout.VBox;\r\n  import javafx.scene.shape.Circle;\r\n  import javafx.scene.text.Text;\r\n  import javafx.scene.text.Font;\r\n  import javafx.scene.text.FontWeight;\r\n  import javafx.geometry.Pos;\r\n  import javafx.scene.image.Image;\r\n  import javafx.scene.image.ImageView;\r\n \r\n  import javafx.scene.control.Button;\r\n  import javafx.scene.control.TextField;\r\n  import javafx.scene.control.ComboBox;\r\n  import javafx.scene.layout.FlowPane;\r\n \r\n  //for the media\r\n  import java.io.File;\r\n  import javafx.scene.layout.HBox;\r\n  import javafx.scene.media.Media;\r\n  import javafx.scene.media.MediaPlayer;\r\n  import javafx.event.ActionEvent;\r\n  import javafx.event.EventHandler; \r\n  import javafx.collections.FXCollections;\r\n  import javafx.geometry.Insets;\r\n  import java.io.File;\r\n\r\n  \r\n  public class GUIProjectEWIW7 extends Application {\r\n  public ImageView imageView;\r\n  private ComboBox&lt;String&gt; imageComboBox;\r\n  private Text displayText;\r\n   \r\n  @Override\r\n   \r\n  public void start(Stage primaryStage){\r\n   \r\n  //add media\r\n  File mediaFile = new File(&quot;cheer.mp3&quot;);\r\n  Media media = new Media(mediaFile.toURI().toString() );\r\n  MediaPlayer cheer = new MediaPlayer(media);\r\n   \r\n  //create play button\r\n  Button playButton = new Button(&quot;CHEER&quot;); \r\n   \r\n  //add listener of the playButton to play the music\r\n  playButton.setOnAction(e -&gt; {\r\n  //add the actual actions when the button is pressed\r\n  if(playButton.getText().equals(&quot;CHEER&quot;)){\r\n  cheer.play();\r\n  playButton.setText(&quot;STOP&quot;);\r\n  } \r\n  else{\r\n  cheer.pause();\r\n  playButton.setText(&quot;CHEER&quot;);\r\n  }\r\n  });\r\n   \r\n  HBox hBox = new HBox(10);\r\n  hBox.setAlignment(Pos.CENTER);\r\n  hBox.getChildren().add(playButton);\r\n   \r\n   \r\n  //DEFINE SHAPES &amp; COLORS\r\n  Rectangle r1 = new Rectangle(200, 300);\r\n  r1.setFill(Color.DARKBLUE);\r\n      \r\n      \r\n  // Create an image view\r\n  imageView = new ImageView(&quot;rwuhawks.png&quot;);\r\n  imageView.setFitHeight(200);\r\n  imageView.setFitWidth(200);\r\n\r\n   \r\n   Text text1 = new Text(&quot;Here we go Hawks!&quot;);\r\n   text1.setFill(Color.GOLD);\r\n   text1.setFont(Font.font(&quot;Impact&quot;, FontWeight.BOLD, 18) );\r\n   \r\n   //structure of your design\r\n   StackPane sPane = new StackPane();\r\n   \r\n   VBox vBox = new VBox(50); //padding\r\n   vBox.setAlignment(Pos.CENTER);\r\n   vBox.getChildren().addAll(sPane, text1);\r\n   \r\n   \r\n   //sPane2 needs to be defined before using\r\n   StackPane sPane2 = new StackPane();\r\n   sPane2.getChildren().add(r1); //add a node called r1 to be the first component\r\n   sPane2.getChildren().addAll(vBox);\r\n      \r\n   //add GUI components (graphical user interface)\r\n   \r\n\r\n       //new combo box to be copied in under old box \r\n   ComboBox&lt;String&gt; borderColor = new ComboBox&lt;&gt;(); \r\n   borderColor.getItems().addAll(&quot;Select Color...&quot;,&quot;Dark Blue&quot;, &quot;Light Blue&quot;,&quot;White&quot;);\r\n   borderColor.setValue(&quot;Select Color...&quot;);\r\n      \r\n   Button applybutton = new Button (&quot;Apply&quot;);\r\n   applybutton.setOnAction(event -&gt; {\r\n   String selectedItem = borderColor.getSelectionModel().getSelectedItem();\r\n    \r\n   switch(selectedItem){\r\n     \r\n   case &quot;Dark Blue&quot;:\r\n   r1.setFill(Color.BLUE);\r\n   break;\r\n           \r\n     \r\n   case &quot;Light Blue&quot;:\r\n   r1.setFill(Color.LIGHTBLUE);\r\n   break;\r\n     \r\n     \r\n   case &quot;White&quot;:\r\n   r1.setFill(Color.WHITE);\r\n   break;\r\n   }\r\n   });\r\n  \r\n  \r\n   //3 - ComboBox\r\n   imageComboBox = new ComboBox&lt;&gt;();\r\n   imageComboBox.getItems().addAll(&quot;Select Team...&quot;, &quot;Volleyball&quot;, &quot;Basketball&quot;, &quot;Rugby&quot;,   &quot;Gymnastics&quot;, &quot;Hockey&quot;);\r\n   imageComboBox.setValue(&quot;Select Team...&quot;);\r\n      \r\n   imageView = new ImageView();\r\n   imageView.setFitWidth(100);\r\n   imageView.setFitHeight(100);\r\n  \r\n   Button imageApplyBtn = new Button (&quot;Apply&quot;);\r\n   imageApplyBtn.setOnAction(event -&gt;{\r\n   String selectedImage = imageComboBox.getSelectionModel().getSelectedItem();\r\n   \r\n            \r\n   VBox vBox2 = new VBox(20);\r\n   vBox2.setAlignment(Pos.CENTER); //alignment\r\n   vBox2.getChildren().addAll(imageComboBox, imageApplyBtn, borderColor, applybutton);\r\n   vBox2.getChildren().add(hBox); //add the play button\r\n      \r\n   //combine the graphics (sPane2) with GUI(vBox2) into a FlowPane\r\n   FlowPane fPane = new FlowPane(20,20);\r\n   fPane.getChildren().addAll(sPane2, vBox2);\r\n      \r\n   Scene scene = new Scene (fPane, 300, 400);\r\n   primaryStage.setTitle(&quot;RWU Athletics&quot;);\r\n   primaryStage.setScene( scene ); //set the scene on top of the stage\r\n   primaryStage.show(); //visible\r\n   \r\n   }); \r\n   }//end of start()\r\n   \r\n   private void setImage() {\r\n   String selectedImage = imageComboBox.getValue();\r\n\r\n   // Load and set the corresponding image\r\n   Image image = null;\r\n   switch (selectedImage) {\r\n   case &quot;Volleyball&quot;:\r\n   image = new Image(&quot;rwuvolleyball.png&quot;);\r\n   break;\r\n                \r\n   case &quot;Rugby&quot;:\r\n   image = new Image(&quot;rwurugby.png&quot;);\r\n   break;\r\n                \r\n   case &quot;Hockey&quot;:\r\n   image = new Image(&quot;rwuhockey.png&quot;);\r\n   break;\r\n                \r\n   case &quot;Basketball&quot;:\r\n   image = new Image(&quot;rwubasketball.jpeg&quot;);\r\n   break;\r\n                \r\n   case &quot;Gymnastics&quot;:\r\n   image = new Image(&quot;rwugymnastics.png&quot;);\r\n   break;\r\n                \r\n   default:\r\n   image = new Image(&quot;rwuhawks.png&quot;);\r\n   break;\r\n   }\r\n\r\n   imageView.setImage(image);\r\n   }\r\n   \r\n   }\r\n```","title":"JavaFX code will compile but nothing happens when it runs","body":"<p>I am working on a relatively simple JavaFX project, where the goal is to display a college logo, and text, and the background color and logo can be changed using combo boxes to select a specific sports team and color. The program was working before, but after adding the last &quot;apply&quot; button, the code will compile but nothing happens when it runs. There are no errors shown, and I can't seem to find anything within the code that would be causing this... maybe someone else might catch something?</p>\n<p>Here is the code:</p>\n<pre><code>  import javafx.application.Application;\n  import javafx.scene.Scene;\n  import javafx.scene.layout.StackPane;\n  import javafx.stage.Stage;\n  import javafx.scene.shape.Rectangle;\n  import javafx.scene.paint.Color;\n \n  import javafx.scene.layout.VBox;\n  import javafx.scene.shape.Circle;\n  import javafx.scene.text.Text;\n  import javafx.scene.text.Font;\n  import javafx.scene.text.FontWeight;\n  import javafx.geometry.Pos;\n  import javafx.scene.image.Image;\n  import javafx.scene.image.ImageView;\n \n  import javafx.scene.control.Button;\n  import javafx.scene.control.TextField;\n  import javafx.scene.control.ComboBox;\n  import javafx.scene.layout.FlowPane;\n \n  //for the media\n  import java.io.File;\n  import javafx.scene.layout.HBox;\n  import javafx.scene.media.Media;\n  import javafx.scene.media.MediaPlayer;\n  import javafx.event.ActionEvent;\n  import javafx.event.EventHandler; \n  import javafx.collections.FXCollections;\n  import javafx.geometry.Insets;\n  import java.io.File;\n\n  \n  public class GUIProjectEWIW7 extends Application {\n  public ImageView imageView;\n  private ComboBox&lt;String&gt; imageComboBox;\n  private Text displayText;\n   \n  @Override\n   \n  public void start(Stage primaryStage){\n   \n  //add media\n  File mediaFile = new File(&quot;cheer.mp3&quot;);\n  Media media = new Media(mediaFile.toURI().toString() );\n  MediaPlayer cheer = new MediaPlayer(media);\n   \n  //create play button\n  Button playButton = new Button(&quot;CHEER&quot;); \n   \n  //add listener of the playButton to play the music\n  playButton.setOnAction(e -&gt; {\n  //add the actual actions when the button is pressed\n  if(playButton.getText().equals(&quot;CHEER&quot;)){\n  cheer.play();\n  playButton.setText(&quot;STOP&quot;);\n  } \n  else{\n  cheer.pause();\n  playButton.setText(&quot;CHEER&quot;);\n  }\n  });\n   \n  HBox hBox = new HBox(10);\n  hBox.setAlignment(Pos.CENTER);\n  hBox.getChildren().add(playButton);\n   \n   \n  //DEFINE SHAPES &amp; COLORS\n  Rectangle r1 = new Rectangle(200, 300);\n  r1.setFill(Color.DARKBLUE);\n      \n      \n  // Create an image view\n  imageView = new ImageView(&quot;rwuhawks.png&quot;);\n  imageView.setFitHeight(200);\n  imageView.setFitWidth(200);\n\n   \n   Text text1 = new Text(&quot;Here we go Hawks!&quot;);\n   text1.setFill(Color.GOLD);\n   text1.setFont(Font.font(&quot;Impact&quot;, FontWeight.BOLD, 18) );\n   \n   //structure of your design\n   StackPane sPane = new StackPane();\n   \n   VBox vBox = new VBox(50); //padding\n   vBox.setAlignment(Pos.CENTER);\n   vBox.getChildren().addAll(sPane, text1);\n   \n   \n   //sPane2 needs to be defined before using\n   StackPane sPane2 = new StackPane();\n   sPane2.getChildren().add(r1); //add a node called r1 to be the first component\n   sPane2.getChildren().addAll(vBox);\n      \n   //add GUI components (graphical user interface)\n   \n\n       //new combo box to be copied in under old box \n   ComboBox&lt;String&gt; borderColor = new ComboBox&lt;&gt;(); \n   borderColor.getItems().addAll(&quot;Select Color...&quot;,&quot;Dark Blue&quot;, &quot;Light Blue&quot;,&quot;White&quot;);\n   borderColor.setValue(&quot;Select Color...&quot;);\n      \n   Button applybutton = new Button (&quot;Apply&quot;);\n   applybutton.setOnAction(event -&gt; {\n   String selectedItem = borderColor.getSelectionModel().getSelectedItem();\n    \n   switch(selectedItem){\n     \n   case &quot;Dark Blue&quot;:\n   r1.setFill(Color.BLUE);\n   break;\n           \n     \n   case &quot;Light Blue&quot;:\n   r1.setFill(Color.LIGHTBLUE);\n   break;\n     \n     \n   case &quot;White&quot;:\n   r1.setFill(Color.WHITE);\n   break;\n   }\n   });\n  \n  \n   //3 - ComboBox\n   imageComboBox = new ComboBox&lt;&gt;();\n   imageComboBox.getItems().addAll(&quot;Select Team...&quot;, &quot;Volleyball&quot;, &quot;Basketball&quot;, &quot;Rugby&quot;,   &quot;Gymnastics&quot;, &quot;Hockey&quot;);\n   imageComboBox.setValue(&quot;Select Team...&quot;);\n      \n   imageView = new ImageView();\n   imageView.setFitWidth(100);\n   imageView.setFitHeight(100);\n  \n   Button imageApplyBtn = new Button (&quot;Apply&quot;);\n   imageApplyBtn.setOnAction(event -&gt;{\n   String selectedImage = imageComboBox.getSelectionModel().getSelectedItem();\n   \n            \n   VBox vBox2 = new VBox(20);\n   vBox2.setAlignment(Pos.CENTER); //alignment\n   vBox2.getChildren().addAll(imageComboBox, imageApplyBtn, borderColor, applybutton);\n   vBox2.getChildren().add(hBox); //add the play button\n      \n   //combine the graphics (sPane2) with GUI(vBox2) into a FlowPane\n   FlowPane fPane = new FlowPane(20,20);\n   fPane.getChildren().addAll(sPane2, vBox2);\n      \n   Scene scene = new Scene (fPane, 300, 400);\n   primaryStage.setTitle(&quot;RWU Athletics&quot;);\n   primaryStage.setScene( scene ); //set the scene on top of the stage\n   primaryStage.show(); //visible\n   \n   }); \n   }//end of start()\n   \n   private void setImage() {\n   String selectedImage = imageComboBox.getValue();\n\n   // Load and set the corresponding image\n   Image image = null;\n   switch (selectedImage) {\n   case &quot;Volleyball&quot;:\n   image = new Image(&quot;rwuvolleyball.png&quot;);\n   break;\n                \n   case &quot;Rugby&quot;:\n   image = new Image(&quot;rwurugby.png&quot;);\n   break;\n                \n   case &quot;Hockey&quot;:\n   image = new Image(&quot;rwuhockey.png&quot;);\n   break;\n                \n   case &quot;Basketball&quot;:\n   image = new Image(&quot;rwubasketball.jpeg&quot;);\n   break;\n                \n   case &quot;Gymnastics&quot;:\n   image = new Image(&quot;rwugymnastics.png&quot;);\n   break;\n                \n   default:\n   image = new Image(&quot;rwuhawks.png&quot;);\n   break;\n   }\n\n   imageView.setImage(image);\n   }\n   \n   }\n</code></pre>\n"},{"tags":["java","mysql","utf-8"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1339826394,"creation_date":1339826394,"answer_id":11061234,"question_id":11057463,"body_markdown":"These appear to be [unicode surrogate characters][1]. Since they are not actual characters, and it seems MySQL doesn&#39;t support them, it is safe to trim them:\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    for (int i = 0; i &lt; text.length(); i++) {\r\n        char ch = text.charAt(i);\r\n        if (!Character.isHighSurrogate(ch) &amp;&amp; !Character.isLowSurrogate(ch)) {\r\n            sb.append(ch);\r\n        }\r\n    }\r\n    return sb.toString();\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Mapping_of_Unicode_characters#Surrogates","title":"How to handle SQL state [HY000]; error code [1366]; Incorrect string value?","body":"<p>These appear to be <a href=\"http://en.wikipedia.org/wiki/Mapping_of_Unicode_characters#Surrogates\" rel=\"noreferrer\">unicode surrogate characters</a>. Since they are not actual characters, and it seems MySQL doesn't support them, it is safe to trim them:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nfor (int i = 0; i &lt; text.length(); i++) {\n    char ch = text.charAt(i);\n    if (!Character.isHighSurrogate(ch) &amp;&amp; !Character.isLowSurrogate(ch)) {\n        sb.append(ch);\n    }\n}\nreturn sb.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15883687,"reputation":33,"user_id":11460743,"display_name":"Ioan Simiciuc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683637011,"creation_date":1683637011,"answer_id":76209618,"question_id":11057463,"body_markdown":"I fixed the error by changing the collation of the DB from utf_8 to utf_16.","title":"How to handle SQL state [HY000]; error code [1366]; Incorrect string value?","body":"<p>I fixed the error by changing the collation of the DB from utf_8 to utf_16.</p>\n"}],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18542,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":11061234,"answer_count":2,"score":10,"last_activity_date":1683637011,"creation_date":1339790569,"question_id":11057463,"body_markdown":"I&#39;m aware this error means a mysql column doesn&#39;t accept the value, but this is strange, since the value fits in a Java UTF-8 encoded string, and the mysql column is utf8_general_ci. Also, all utf8 characters have worked properly so far, apart from these. \r\n\r\nThe use-case is: I am importing tweets. The tweet in question is: https://twitter.com/bakervin/status/210054214951518212 - you can see the two &quot;strange&quot; characters (and two strange whitespaces between them). The question is - how to handle this:\r\n\r\n- trim these characters (how - which are they, how does the Java UTF-8 differ from MySQL one)\r\n- make the column capable of accepting this value (how - is there anything more utf-y than utf8_general_ci)","title":"How to handle SQL state [HY000]; error code [1366]; Incorrect string value?","body":"<p>I'm aware this error means a mysql column doesn't accept the value, but this is strange, since the value fits in a Java UTF-8 encoded string, and the mysql column is utf8_general_ci. Also, all utf8 characters have worked properly so far, apart from these. </p>\n\n<p>The use-case is: I am importing tweets. The tweet in question is: <a href=\"https://twitter.com/bakervin/status/210054214951518212\" rel=\"noreferrer\">https://twitter.com/bakervin/status/210054214951518212</a> - you can see the two \"strange\" characters (and two strange whitespaces between them). The question is - how to handle this:</p>\n\n<ul>\n<li>trim these characters (how - which are they, how does the Java UTF-8 differ from MySQL one)</li>\n<li>make the column capable of accepting this value (how - is there anything more utf-y than utf8_general_ci)</li>\n</ul>\n"},{"tags":["java","frameworks","annotations","code-structure"],"comments":[{"owner":{"account_id":191656,"reputation":7199,"user_id":432354,"accept_rate":95,"display_name":"pvorb"},"score":0,"creation_date":1657134973,"post_id":43679586,"comment_id":128740871,"body_markdown":"I&#39;m late to the party and this is not directly an answer to your question, but I would suggest to declare a constant `static final String ENTITY_NAME = &quot;bank_account_holder_name&quot;;` that you can use in all the annotation declarations.","body":"I&#39;m late to the party and this is not directly an answer to your question, but I would suggest to declare a constant <code>static final String ENTITY_NAME = &quot;bank_account_holder_name&quot;;</code> that you can use in all the annotation declarations."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1668785282,"creation_date":1493380709,"answer_id":43679695,"question_id":43679586,"body_markdown":"The answer is: *probably* no, this is not possible (using &quot;standard&quot; java).\r\n\r\nYou see, there is no *[inheritance][1]* for annotations, let alone &quot;multiple&quot; inheritance which would allow you to express:\r\n\r\n    public @interface MultiAnnotiation extends Column, XmlElement, ...\r\n\r\nAnd most likely, those annotations work like this: at **runtime** the corresponding frameworks uses reflection to check if a certain object *has* that annotation. And if it doesn&#39;t find &quot;its&quot; annotation, nothing happens. \r\n\r\nSo you would need a way to &quot;magically&quot; insert those annotations into your class file. \r\n\r\nBoiling down to: when you would write your own compiler, and invent something on top of java, then you could do something like that. \r\n\r\nThings might be different when dealing with annotations that come with compiler-plugins (meaning: an annotation that is processed at compile time). Maybe you could write your own custom annotation then that triggers the **same** compile-time operations. \r\n\r\nLong story short: all of this sounds *interesting*, but rather *advanced*, and most likely: not resulting in robust, production-worthy code!\r\n\r\n  [1]: https://stackoverflow.com/questions/7761513/is-there-something-like-annotation-inheritance-in-java","title":"merge multiple annotations with parameters","body":"<p>The answer is: <em>probably</em> no, this is not possible (using &quot;standard&quot; java).</p>\n<p>You see, there is no <em><a href=\"https://stackoverflow.com/questions/7761513/is-there-something-like-annotation-inheritance-in-java\">inheritance</a></em> for annotations, let alone &quot;multiple&quot; inheritance which would allow you to express:</p>\n<pre><code>public @interface MultiAnnotiation extends Column, XmlElement, ...\n</code></pre>\n<p>And most likely, those annotations work like this: at <strong>runtime</strong> the corresponding frameworks uses reflection to check if a certain object <em>has</em> that annotation. And if it doesn't find &quot;its&quot; annotation, nothing happens.</p>\n<p>So you would need a way to &quot;magically&quot; insert those annotations into your class file.</p>\n<p>Boiling down to: when you would write your own compiler, and invent something on top of java, then you could do something like that.</p>\n<p>Things might be different when dealing with annotations that come with compiler-plugins (meaning: an annotation that is processed at compile time). Maybe you could write your own custom annotation then that triggers the <strong>same</strong> compile-time operations.</p>\n<p>Long story short: all of this sounds <em>interesting</em>, but rather <em>advanced</em>, and most likely: not resulting in robust, production-worthy code!</p>\n"},{"tags":[],"owner":{"account_id":6745176,"reputation":2134,"user_id":5197004,"accept_rate":86,"display_name":"Benjamin Sch&#252;ller"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1493381064,"creation_date":1493381064,"answer_id":43679815,"question_id":43679586,"body_markdown":"It is possible to merge some annotations to only one annotation. Spring for example do it in the SpringBootApplication-Annotation:\r\n\r\n    /**\r\n     * Indicates a {@link Configuration configuration} class that declares one or more\r\n     * {@link Bean @Bean} methods and also triggers {@link EnableAutoConfiguration\r\n     * auto-configuration} and {@link ComponentScan component scanning}. This is a convenience\r\n     * annotation that is equivalent to declaring {@code @Configuration},\r\n     * {@code @EnableAutoConfiguration} and {@code @ComponentScan}.\r\n     *\r\n     * @author Phillip Webb\r\n     * @since 1.2.0\r\n     */\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    @Inherited\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n    public @interface SpringBootApplication {\r\n    \r\n    \t/**\r\n    \t * Exclude specific auto-configuration classes such that they will never be applied.\r\n    \t * @return the classes to exclude\r\n    \t */\r\n    \tClass&lt;?&gt;[] exclude() default {};\r\n    \r\n    }\r\n\r\nBut i don&#39;t know if it is possible to set a value to the inner annotations from the merged annotation.","title":"merge multiple annotations with parameters","body":"<p>It is possible to merge some annotations to only one annotation. Spring for example do it in the SpringBootApplication-Annotation:</p>\n\n<pre><code>/**\n * Indicates a {@link Configuration configuration} class that declares one or more\n * {@link Bean @Bean} methods and also triggers {@link EnableAutoConfiguration\n * auto-configuration} and {@link ComponentScan component scanning}. This is a convenience\n * annotation that is equivalent to declaring {@code @Configuration},\n * {@code @EnableAutoConfiguration} and {@code @ComponentScan}.\n *\n * @author Phillip Webb\n * @since 1.2.0\n */\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Inherited\n@Configuration\n@EnableAutoConfiguration\n@ComponentScan\npublic @interface SpringBootApplication {\n\n    /**\n     * Exclude specific auto-configuration classes such that they will never be applied.\n     * @return the classes to exclude\n     */\n    Class&lt;?&gt;[] exclude() default {};\n\n}\n</code></pre>\n\n<p>But i don't know if it is possible to set a value to the inner annotations from the merged annotation.</p>\n"},{"tags":[],"owner":{"account_id":3618042,"reputation":33,"user_id":3017457,"display_name":"Solksjaer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683636852,"creation_date":1683636852,"answer_id":76209582,"question_id":43679586,"body_markdown":"You can actually do that (at least I&#180;ve used for TestCases annotations).\r\n\r\nCheck the article from here:\r\nhttps://www.swtestacademy.com/how-to-merge-multiple-annotations-in-java/\r\n\r\nJust create a new `@interface` including the annotations you need.\r\n\r\n```\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Column(name = &quot;bank_account_holder_name&quot;)\r\n@XmlElement(name = &quot;bank_account_holder_name&quot;)\r\n@SerializedName(&quot;bank_account_holder_name&quot;)\r\n@ApiModelProperty(name = &quot;bank_account_holder_name&quot;, value = &quot;The name of the recipient bank account holder&quot;)\r\n@Target({ElementType.TYPE, ElementType.METHOD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface MyCoolAnnotation {\r\n}\r\n```","title":"merge multiple annotations with parameters","body":"<p>You can actually do that (at least Ive used for TestCases annotations).</p>\n<p>Check the article from here:\n<a href=\"https://www.swtestacademy.com/how-to-merge-multiple-annotations-in-java/\" rel=\"nofollow noreferrer\">https://www.swtestacademy.com/how-to-merge-multiple-annotations-in-java/</a></p>\n<p>Just create a new <code>@interface</code> including the annotations you need.</p>\n<pre><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Column(name = &quot;bank_account_holder_name&quot;)\n@XmlElement(name = &quot;bank_account_holder_name&quot;)\n@SerializedName(&quot;bank_account_holder_name&quot;)\n@ApiModelProperty(name = &quot;bank_account_holder_name&quot;, value = &quot;The name of the recipient bank account holder&quot;)\n@Target({ElementType.TYPE, ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MyCoolAnnotation {\n}\n</code></pre>\n"}],"owner":{"account_id":4372509,"reputation":2646,"user_id":3566441,"accept_rate":69,"display_name":"munHunger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16988,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":43679695,"answer_count":3,"score":13,"last_activity_date":1683636852,"creation_date":1493380418,"question_id":43679586,"body_markdown":"I have a problem with using multiple annotations that all say more or less the same thing but to different frameworks and I would like to group them all into one custom annotation. Currently it looks like this:\r\n\r\n    @Column(name = &quot;bank_account_holder_name&quot;)\r\n    @XmlElement(name = &quot;bank_account_holder_name&quot;)\r\n    @SerializedName(&quot;bank_account_holder_name&quot;)\r\n    @ApiModelProperty(name = &quot;bank_account_holder_name&quot;, value = &quot;The name of the recipient bank account holder&quot;)\r\n    public String bankAccountHolderName;\r\n\r\nAs you can see they all repeat the same String and I would like to combine them, but I have yet to find a way of doing so.\r\n\r\nIs it at all possible to do this, or do I have to either continue doing this or change/create a new framework?","title":"merge multiple annotations with parameters","body":"<p>I have a problem with using multiple annotations that all say more or less the same thing but to different frameworks and I would like to group them all into one custom annotation. Currently it looks like this:</p>\n\n<pre><code>@Column(name = \"bank_account_holder_name\")\n@XmlElement(name = \"bank_account_holder_name\")\n@SerializedName(\"bank_account_holder_name\")\n@ApiModelProperty(name = \"bank_account_holder_name\", value = \"The name of the recipient bank account holder\")\npublic String bankAccountHolderName;\n</code></pre>\n\n<p>As you can see they all repeat the same String and I would like to combine them, but I have yet to find a way of doing so.</p>\n\n<p>Is it at all possible to do this, or do I have to either continue doing this or change/create a new framework?</p>\n"},{"tags":["javascript","java","maven","jakarta-mail"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683632972,"post_id":76208772,"comment_id":134393450,"body_markdown":"The subject is incorrect. You are not having a problem reading the body of the email. If the application is not able to authenticate it will never read the body. You have an authentication issue instead.","body":"The subject is incorrect. You are not having a problem reading the body of the email. If the application is not able to authenticate it will never read the body. You have an authentication issue instead."},{"owner":{"account_id":28073051,"reputation":1,"user_id":21445342,"display_name":"Shubham Agrawal"},"score":0,"creation_date":1683635232,"post_id":76208772,"comment_id":134394022,"body_markdown":"@aled ohh yes, can you please help me with this authentication issue?\nor Do you know how to can read the body of the email? because I want to verify my email using automation script","body":"@aled ohh yes, can you please help me with this authentication issue? or Do you know how to can read the body of the email? because I want to verify my email using automation script"}],"owner":{"account_id":28073051,"reputation":1,"user_id":21445342,"display_name":"Shubham Agrawal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683636761,"creation_date":1683631339,"question_id":76208772,"body_markdown":"I am using the below code to read text inside the body of the mail, but getting an error on while connecting to the server:\r\n\r\n```\r\nimport java.util.Map;\r\nimport java.util.Properties;\r\nimport javax.mail.*;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport com.sun.mail.iap.ProtocolException;\r\nimport com.sun.mail.imap.IMAPFolder;\r\nimport com.sun.mail.imap.protocol.IMAPProtocol;\r\n\r\nimport javax.mail.Message;\r\n\r\npublic class test1 {\r\n\r\n    public static void readInboundEmails() {\r\n//create session object\r\n        Session session = getImapSession();\r\n        try {\r\n//connect to message store\r\n            Store store = session.getStore(&quot;imap&quot;);\r\n            store.connect( &quot;imap.mail.yahoo.com&quot;, &quot;username&quot;, &quot;password&quot;);\r\n//open the inbox folder\r\n            IMAPFolder inbox = (IMAPFolder) store.getFolder(&quot;INBOX&quot;);\r\n            inbox.open(Folder.READ_WRITE);\r\n//fetch messages\r\n            Message[] messages = inbox.getMessages();\r\n//read messages\r\n            for (int i = 0; i &lt; messages.length; i++) {\r\n                Message msg = messages[i];\r\n                Address[] fromAddress = msg.getFrom();\r\n                String from = fromAddress[0].toString();\r\n                String subject = msg.getSubject();\r\n                Address[] toList = msg.getRecipients(Message.RecipientType.TO);\r\n                Address[] ccList = msg.getRecipients(Message.RecipientType.CC);\r\n                String contentType = msg.getContentType();\r\n            }\r\n        } catch (AuthenticationFailedException e) {\r\n            System.out.println(&quot;Exception in reading EMails : &quot; + e.getMessage());\r\n        } catch (MessagingException e) {\r\n            System.out.println(&quot;Exception in reading EMails : &quot; + e.getMessage());\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception in reading EMails : &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    private static Session getImapSession() {\r\n        Properties props = new Properties();\r\n        props.setProperty(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\r\n        props.setProperty(&quot;mail.debug&quot;, &quot;true&quot;);\r\n        props.setProperty(&quot;mail.imap.host&quot;, &quot;imap.mail.yahoo.com&quot;);\r\n        props.setProperty(&quot;mail.imap.port&quot;, &quot;993&quot;);\r\n        props.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\r\n        Session session = Session.getDefaultInstance(props, null);\r\n        session.setDebug(true);\r\n        return session;\r\n    }\r\n    public static void main(String[] args) {\r\n        readInboundEmails();\r\n    }\r\n}\r\n```\r\n\r\nwhen I run this java class by adding username and password then getting below error\r\n```\r\nDEBUG IMAP: trying to connect to host &quot;imap.mail.yahoo.com&quot;, port 993, isSSL true\r\n\r\n\\* OK Welcome! IMAP Server up and ready to accept your request\r\n\r\nA0 CAPABILITY\r\n\r\n\\* CAPABILITY IMAP4rev1 SASL-IR AUTH=PLAIN AUTH=XOAUTH2 AUTH=OAUTHBEARER ID MOVE NAMESPACE XYMHIGHESTMODSEQ UIDPLUS LITERAL+ CHILDREN UNSELECT X-MSG-EXT OBJECTID IDLE ENABLE UIDONLY X-ALL-MAIL X-UIDONLY LIST-EXTENDED LIST-STATUS SPECIAL-USE PARTIAL APPENDLIMIT=41697280\r\n\r\nA0 OK CAPABILITY completed\r\n\r\nDEBUG IMAP: AUTH: PLAIN\r\n\r\nDEBUG IMAP: AUTH: XOAUTH2\r\n\r\nDEBUG IMAP: AUTH: OAUTHBEARER\r\n\r\nDEBUG IMAP: protocolConnect login, host=imap.mail.yahoo.com, user=username, password=\\&lt;non-null\\&gt;\r\n\r\nDEBUG IMAP: AUTHENTICATE PLAIN command trace suppressed\r\n\r\nDEBUG IMAP: AUTHENTICATE PLAIN command result: A1 NO \\[AUTHENTICATIONFAILED\\] AUTHENTICATE Invalid credentials\r\n\r\nException in reading EMails : \\[AUTHENTICATIONFAILED\\] AUTHENTICATE Invalid credentials\r\n```\r\nPlease help me out on this.","title":"Authentication error when trying to connect to yahoo using imap","body":"<p>I am using the below code to read text inside the body of the mail, but getting an error on while connecting to the server:</p>\n<pre><code>import java.util.Map;\nimport java.util.Properties;\nimport javax.mail.*;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport com.sun.mail.iap.ProtocolException;\nimport com.sun.mail.imap.IMAPFolder;\nimport com.sun.mail.imap.protocol.IMAPProtocol;\n\nimport javax.mail.Message;\n\npublic class test1 {\n\n    public static void readInboundEmails() {\n//create session object\n        Session session = getImapSession();\n        try {\n//connect to message store\n            Store store = session.getStore(&quot;imap&quot;);\n            store.connect( &quot;imap.mail.yahoo.com&quot;, &quot;username&quot;, &quot;password&quot;);\n//open the inbox folder\n            IMAPFolder inbox = (IMAPFolder) store.getFolder(&quot;INBOX&quot;);\n            inbox.open(Folder.READ_WRITE);\n//fetch messages\n            Message[] messages = inbox.getMessages();\n//read messages\n            for (int i = 0; i &lt; messages.length; i++) {\n                Message msg = messages[i];\n                Address[] fromAddress = msg.getFrom();\n                String from = fromAddress[0].toString();\n                String subject = msg.getSubject();\n                Address[] toList = msg.getRecipients(Message.RecipientType.TO);\n                Address[] ccList = msg.getRecipients(Message.RecipientType.CC);\n                String contentType = msg.getContentType();\n            }\n        } catch (AuthenticationFailedException e) {\n            System.out.println(&quot;Exception in reading EMails : &quot; + e.getMessage());\n        } catch (MessagingException e) {\n            System.out.println(&quot;Exception in reading EMails : &quot; + e.getMessage());\n        } catch (Exception e) {\n            System.out.println(&quot;Exception in reading EMails : &quot; + e.getMessage());\n        }\n    }\n\n    private static Session getImapSession() {\n        Properties props = new Properties();\n        props.setProperty(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\n        props.setProperty(&quot;mail.debug&quot;, &quot;true&quot;);\n        props.setProperty(&quot;mail.imap.host&quot;, &quot;imap.mail.yahoo.com&quot;);\n        props.setProperty(&quot;mail.imap.port&quot;, &quot;993&quot;);\n        props.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\n        Session session = Session.getDefaultInstance(props, null);\n        session.setDebug(true);\n        return session;\n    }\n    public static void main(String[] args) {\n        readInboundEmails();\n    }\n}\n</code></pre>\n<p>when I run this java class by adding username and password then getting below error</p>\n<pre><code>DEBUG IMAP: trying to connect to host &quot;imap.mail.yahoo.com&quot;, port 993, isSSL true\n\n\\* OK Welcome! IMAP Server up and ready to accept your request\n\nA0 CAPABILITY\n\n\\* CAPABILITY IMAP4rev1 SASL-IR AUTH=PLAIN AUTH=XOAUTH2 AUTH=OAUTHBEARER ID MOVE NAMESPACE XYMHIGHESTMODSEQ UIDPLUS LITERAL+ CHILDREN UNSELECT X-MSG-EXT OBJECTID IDLE ENABLE UIDONLY X-ALL-MAIL X-UIDONLY LIST-EXTENDED LIST-STATUS SPECIAL-USE PARTIAL APPENDLIMIT=41697280\n\nA0 OK CAPABILITY completed\n\nDEBUG IMAP: AUTH: PLAIN\n\nDEBUG IMAP: AUTH: XOAUTH2\n\nDEBUG IMAP: AUTH: OAUTHBEARER\n\nDEBUG IMAP: protocolConnect login, host=imap.mail.yahoo.com, user=username, password=\\&lt;non-null\\&gt;\n\nDEBUG IMAP: AUTHENTICATE PLAIN command trace suppressed\n\nDEBUG IMAP: AUTHENTICATE PLAIN command result: A1 NO \\[AUTHENTICATIONFAILED\\] AUTHENTICATE Invalid credentials\n\nException in reading EMails : \\[AUTHENTICATIONFAILED\\] AUTHENTICATE Invalid credentials\n</code></pre>\n<p>Please help me out on this.</p>\n"},{"tags":["java","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":18623444,"reputation":76,"user_id":13573083,"display_name":"Supriya Sinha"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1589880435,"creation_date":1589877906,"answer_id":61886871,"question_id":61886714,"body_markdown":"I was facing the same issue and didn&#39;t find any relevant answers. I resolved it myself. This is the issue with your port 27017 blocked by your firewall. You need to open the outbound and inbound for this port in your firewall.\r\n\r\nSteps for Windows:\r\n\r\n- Go to Firewall\r\n- Advanced Settings\r\n- Inbound Rules\r\n- Create a new rule with New Rule under Actions tab\r\n- Select Port\r\n- Select TCP and specify port no (27015,27016,27017)\r\n- Allow the connection\r\n- Click Next\r\n- Add name for new Rule Finish\r\n\r\nFollow the same steps for Outbound Rule.\r\nOnce done, restart your system.","title":"Unable to look up TXT record for host Cluster0-XXXXX.mongodb.net","body":"<p>I was facing the same issue and didn't find any relevant answers. I resolved it myself. This is the issue with your port 27017 blocked by your firewall. You need to open the outbound and inbound for this port in your firewall.</p>\n\n<p>Steps for Windows:</p>\n\n<ul>\n<li>Go to Firewall</li>\n<li>Advanced Settings</li>\n<li>Inbound Rules</li>\n<li>Create a new rule with New Rule under Actions tab</li>\n<li>Select Port</li>\n<li>Select TCP and specify port no (27015,27016,27017)</li>\n<li>Allow the connection</li>\n<li>Click Next</li>\n<li>Add name for new Rule Finish</li>\n</ul>\n\n<p>Follow the same steps for Outbound Rule.\nOnce done, restart your system.</p>\n"},{"tags":[],"owner":{"account_id":12538154,"reputation":31,"user_id":9124122,"display_name":"Excelsior"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1626539979,"creation_date":1626539624,"answer_id":68422392,"question_id":61886714,"body_markdown":"If you&#39;re still looking for an answer:\r\n\r\nThe issue is because some ISPs block connection string. The error will occur when using default DNS server with such ISPs.\r\n\r\nA simple test to find out if ISP&#39;s the issue, try switching over to other network and see if it still persists. \r\n\r\nIf you&#39;re lucky and switched to an ISP which doesn&#39;t block connection string then you&#39;ll connected to your cluster. If not, you can try changing the DNS configuration to use public DNS server. \r\n\r\nfor reference: https://developers.google.com//speed/public-dns/docs/using","title":"Unable to look up TXT record for host Cluster0-XXXXX.mongodb.net","body":"<p>If you're still looking for an answer:</p>\n<p>The issue is because some ISPs block connection string. The error will occur when using default DNS server with such ISPs.</p>\n<p>A simple test to find out if ISP's the issue, try switching over to other network and see if it still persists.</p>\n<p>If you're lucky and switched to an ISP which doesn't block connection string then you'll connected to your cluster. If not, you can try changing the DNS configuration to use public DNS server.</p>\n<p>for reference: <a href=\"https://developers.google.com//speed/public-dns/docs/using\" rel=\"nofollow noreferrer\">https://developers.google.com//speed/public-dns/docs/using</a></p>\n"},{"tags":[],"owner":{"account_id":981686,"reputation":887,"user_id":1001242,"accept_rate":62,"display_name":"itsraghz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672490872,"creation_date":1672490872,"answer_id":74969637,"question_id":61886714,"body_markdown":"For me, the cluster was paused by MongoDB Team due to the prolonged inactivity. Upon resuming it, it worked. For resuming, you go to MongoDB Atlas Cluster Dashboard, see the status and click on the Resume Cluster button.","title":"Unable to look up TXT record for host Cluster0-XXXXX.mongodb.net","body":"<p>For me, the cluster was paused by MongoDB Team due to the prolonged inactivity. Upon resuming it, it worked. For resuming, you go to MongoDB Atlas Cluster Dashboard, see the status and click on the Resume Cluster button.</p>\n"},{"tags":[],"owner":{"account_id":1016338,"reputation":3267,"user_id":1027842,"accept_rate":75,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683635664,"creation_date":1683635664,"answer_id":76209425,"question_id":61886714,"body_markdown":"Your uri is: `mongodb+srv://XXXXXX:XXXXXXXXXXX@luster0-XXXXX.mongodb.net/test?retryWrites=true&amp;w=majority`.\r\n\r\nDuring the creation of the `Connection` there are some parts of the URI parsed. Try removing the `?retryWrites=true&amp;w=majority` part and check whether the TXT parsing is fixed. Maybe your TXT parser doesn&#39;t recognize those options.\r\n","title":"Unable to look up TXT record for host Cluster0-XXXXX.mongodb.net","body":"<p>Your uri is: <code>mongodb+srv://XXXXXX:XXXXXXXXXXX@luster0-XXXXX.mongodb.net/test?retryWrites=true&amp;w=majority</code>.</p>\n<p>During the creation of the <code>Connection</code> there are some parts of the URI parsed. Try removing the <code>?retryWrites=true&amp;w=majority</code> part and check whether the TXT parsing is fixed. Maybe your TXT parser doesn't recognize those options.</p>\n"}],"owner":{"account_id":4841261,"reputation":63,"user_id":3906232,"display_name":"user3906232"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11367,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":61886871,"answer_count":4,"score":6,"last_activity_date":1683635664,"creation_date":1589877364,"question_id":61886714,"body_markdown":"    spring.data.mongodb.uri=mongodb+srv://XXXXXX:XXXXXXXXXXX@luster0-XXXXX.mongodb.net/test?retryWrites=true&amp;w=majority\r\n    spring.data.mongodb.database=test\r\n\r\nException encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mongoBootApplication&#39;: Unsatisfied dependency expressed through field &#39;repository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Cannot resolve reference to bean &#39;mongoTemplate&#39; while setting bean property &#39;mongoOperations&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mongoTemplate&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDbFactoryDependentConfiguration.class]: Unsatisfied dependency expressed through method &#39;mongoTemplate&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoDbFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDbFactoryConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.core.MongoDbFactorySupport]: Factory method &#39;mongoDbFactory&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongo&#39; defined in class path resource [org/springframework/boot/autoconfigure/mongo/MongoAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.mongodb.MongoClient]: Factory method &#39;mongo&#39; threw exception; nested exception is com.mongodb.MongoConfigurationException: Unable to look up TXT record for host Cluster0-XXXXX.mongodb.net","title":"Unable to look up TXT record for host Cluster0-XXXXX.mongodb.net","body":"<pre><code>spring.data.mongodb.uri=mongodb+srv://XXXXXX:XXXXXXXXXXX@luster0-XXXXX.mongodb.net/test?retryWrites=true&amp;w=majority\nspring.data.mongodb.database=test\n</code></pre>\n\n<p>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongoBootApplication': Unsatisfied dependency expressed through field 'repository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongoTemplate' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDbFactoryDependentConfiguration.class]: Unsatisfied dependency expressed through method 'mongoTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoDbFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDbFactoryConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.core.MongoDbFactorySupport]: Factory method 'mongoDbFactory' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongo' defined in class path resource [org/springframework/boot/autoconfigure/mongo/MongoAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.mongodb.MongoClient]: Factory method 'mongo' threw exception; nested exception is com.mongodb.MongoConfigurationException: Unable to look up TXT record for host Cluster0-XXXXX.mongodb.net</p>\n"},{"tags":["java","spring","hibernate","grails","hql"],"answers":[{"tags":[],"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379092114,"creation_date":1379092114,"answer_id":18791682,"question_id":18791580,"body_markdown":"This is how to do in Hibernate Criteria \r\n\r\n    Criteria crit = session.createCriteria(Rating.class)\r\n    .add(Restrictions.like(&quot;item&quot;, item)\r\n    .addOrder(Order.asc(&quot;user&quot;))\r\n    .setProjection(\r\n           Projections.distinct(Projections.projectionList()\r\n                            .add(Projections.property(&quot;user&quot;), &quot;user&quot;)))\r\n    .setResultTransformer(Transformers.aliasToBean(Rating.class));","title":"Hibernate HQL Count Distinct not working?","body":"<p>This is how to do in Hibernate Criteria </p>\n\n<pre><code>Criteria crit = session.createCriteria(Rating.class)\n.add(Restrictions.like(\"item\", item)\n.addOrder(Order.asc(\"user\"))\n.setProjection(\n       Projections.distinct(Projections.projectionList()\n                        .add(Projections.property(\"user\"), \"user\")))\n.setResultTransformer(Transformers.aliasToBean(Rating.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2340572,"reputation":49545,"user_id":2051952,"display_name":"dmahapatro"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1432070813,"creation_date":1379096051,"answer_id":18792677,"question_id":18791580,"body_markdown":"Your query should work as expected with a minor modification to the way you use `distinct`:\r\n\r\n    select count(distinct r.user) from Rating as r \r\n    where r.item = :item group by r.user\r\nAn other, but more lengthy way, of doing this query is by using `User` and `join`: \r\n\r\n    select count(distinct u) from User as u \r\n    inner join u.ratings as r where r.item = :item\r\n    group by r.user\r\n\r\n","title":"Hibernate HQL Count Distinct not working?","body":"<p>Your query should work as expected with a minor modification to the way you use <code>distinct</code>:</p>\n\n<pre><code>select count(distinct r.user) from Rating as r \nwhere r.item = :item group by r.user\n</code></pre>\n\n<p>An other, but more lengthy way, of doing this query is by using <code>User</code> and <code>join</code>: </p>\n\n<pre><code>select count(distinct u) from User as u \ninner join u.ratings as r where r.item = :item\ngroup by r.user\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8212780,"reputation":173,"user_id":6180243,"display_name":"iamfnizami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683635627,"creation_date":1683635627,"answer_id":76209417,"question_id":18791580,"body_markdown":"Use distinct as keyword not function, inside count function like-\r\n\r\n    count(distinct column) : Works\r\n\r\n    count(distinct(column)): Doesn&#39;t work","title":"Hibernate HQL Count Distinct not working?","body":"<p>Use distinct as keyword not function, inside count function like-</p>\n<pre><code>count(distinct column) : Works\n\ncount(distinct(column)): Doesn't work\n</code></pre>\n"}],"owner":{"account_id":1051966,"reputation":32747,"user_id":1055664,"accept_rate":57,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24628,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":18792677,"answer_count":3,"score":19,"last_activity_date":1683635627,"creation_date":1379091717,"question_id":18791580,"body_markdown":"I have the following classes: \r\n\r\n    class User {\r\n      hasMany = [ratings: Rating] \r\n    } \r\n    \r\n    class Item {\r\n     hasMany = [ratings: Rating]\r\n    }\r\n    \r\n    class Rating {\r\n     belongsTo = [user: User, item: Item]\r\n    }\r\n\r\nI want to count the distinct users that rated on an item.\r\n\r\nThe following does not work: \r\n\r\n    select count(distinct(r.user)) from Rating as r\r\n    \t\twhere r.item=:item\r\n    \t\tgroup by r.user\r\n\r\n**How do I have to modify the HQL query to make it work?**","title":"Hibernate HQL Count Distinct not working?","body":"<p>I have the following classes: </p>\n\n<pre><code>class User {\n  hasMany = [ratings: Rating] \n} \n\nclass Item {\n hasMany = [ratings: Rating]\n}\n\nclass Rating {\n belongsTo = [user: User, item: Item]\n}\n</code></pre>\n\n<p>I want to count the distinct users that rated on an item.</p>\n\n<p>The following does not work: </p>\n\n<pre><code>select count(distinct(r.user)) from Rating as r\n        where r.item=:item\n        group by r.user\n</code></pre>\n\n<p><strong>How do I have to modify the HQL query to make it work?</strong></p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1683631570,"post_id":76208796,"comment_id":134393088,"body_markdown":"Backslash is the escape character for json as well, so `\\&quot;` will result in escaped double quotes. You&#39;d need to escape the backslash though so use `&quot;C:\\\\&quot;`.","body":"Backslash is the escape character for json as well, so <code>\\&quot;</code> will result in escaped double quotes. You&#39;d need to escape the backslash though so use <code>&quot;C:\\\\&quot;</code>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1683631645,"post_id":76208796,"comment_id":134393105,"body_markdown":"Btw, &quot;I think the problem is ...&quot; isn&#39;t going to help. You might be correct but if you&#39;re asking here you should include more details on the error, e.g. messages, stack traces etc. so we can check for ourselves.","body":"Btw, &quot;I think the problem is ...&quot; isn&#39;t going to help. You might be correct but if you&#39;re asking here you should include more details on the error, e.g. messages, stack traces etc. so we can check for ourselves."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":4,"creation_date":1683632256,"post_id":76208796,"comment_id":134393252,"body_markdown":"Ideally the data going to the database would be legal JSON in the first place.","body":"Ideally the data going to the database would be legal JSON in the first place."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":3,"creation_date":1683632341,"post_id":76208796,"comment_id":134393274,"body_markdown":"I&#39;d advice you to use a proper JSON serializer to generate the JSON that you store in the database. A proper serializer shouldn&#39;t generate invalid JSON.","body":"I&#39;d advice you to use a proper JSON serializer to generate the JSON that you store in the database. A proper serializer shouldn&#39;t generate invalid JSON."},{"owner":{"account_id":10502604,"reputation":2690,"user_id":7740888,"accept_rate":100,"display_name":"Code4R7"},"score":0,"creation_date":1683644094,"post_id":76208796,"comment_id":134396303,"body_markdown":"I&#39;ve found this validator service helpful in the past: https://jsonformatter.curiousconcept.com","body":"I&#39;ve found this validator service helpful in the past: <a href=\"https://jsonformatter.curiousconcept.com\" rel=\"nofollow noreferrer\">jsonformatter.curiousconcept.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683632067,"creation_date":1683632067,"answer_id":76208877,"question_id":76208796,"body_markdown":"Because of incorrectly using the escape character the input JSON is invalid. The correct way to represent the backlash character in a JSON string is escaping it: `&quot;C:\\\\&quot;`","title":"Error trying to parse json string with backslash","body":"<p>Because of incorrectly using the escape character the input JSON is invalid. The correct way to represent the backlash character in a JSON string is escaping it: <code>&quot;C:\\\\&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1683635515,"creation_date":1683635515,"answer_id":76209403,"question_id":76208796,"body_markdown":"The string in the database means you already &#39;lost&#39;. Because that looks like JSON but it is not. Had it been correct JSON, It&#39;d have read `C:\\\\`. Given that you&#39;ve now arrived at a broken location, __you can no longer fix it from here__ - you need to go to whatever made that string appear in the database and fix it _there_. If you&#39;ve already got millions of such strings in your db and you can&#39;t go back, then you&#39;re in some trouble and need to start thinking about an AI-like rules-based system that tries to figure out what those strings were intended to represent, which is extremely complicated.\r\n\r\nIf you know for certain that every backslash in these strings is necessarily a real backslash (and not an escape character), _which therefore implies no strings in your entire DB could possibly contain an actual quote - because if they do, how are those escaped then?_ - you could simply execute `UPDATE thatTable SET thatColumn = REPLACE(thatColumn, &#39;\\&#39;, &#39;\\\\&#39;);` and that&#39;ll fix it. Which still means you need to fully address the problematic situation that caused you your current predicament - so read on either way.\r\n\r\nYou&#39;d have to paste the code of whatever `INSERT`ed this data if you need help _there_. A few notes on that:\r\n\r\n* Don&#39;t make JSON by just appending characters to a stringbuilder or similar. Use an actual JSON library. Why, you might ask - JSON is so simple, why bother? Well, __this__ - this very question is exhibit A in why it&#39;s a really really bad idea to handroll even seemingly very simple formats. Formats almost invariably have hidden tricky aspects to it, and a library explicitly designed to produce the format in question tends to do it right, where handroll code does not. For java, there&#39;s [a ton of libraries you can use](https://javarevisited.blogspot.com/2016/09/top-5-json-library-in-java-JEE.html) - any of those 5 can do the job.\r\n\r\n* Some databases, including notably postgres, have native support for JSON columns. They have operators and functions baked in so you can e.g. select all rows with a totalbytes less than 4 billion, or whatever. Storing raw binary data in databases when it is feasible to directly store the underlying data is virtually always a mistake, because one day somebody somewhere designs a feature that requires that you query on the content within that JSON string, and if you then start writing, in DB queries, some sort of SUBSTR/LEFT/RIGHT/~ (regexp) string manipulation you just get stuck further and further, as JSON is far too complex to try to parse in such a fashion. I would very very very strongly reconsider how you are storing this stuff - you should either be storing this in a JSON column instead of a VARCHAR one, or, have a column named &#39;MountPoint&#39;, a column named &#39;FreeSpace&#39;, and so on (that would be even better). Or, you should be using mangodb or some sort document DB (vs. this, which is a relational DB). Usually that adds up to more trouble than its worth, but it&#39;s __definitely__ vastly superior to storing JSON in VARCHARs in a relational DB - that is the worst of both worlds!\r\n","title":"Error trying to parse json string with backslash","body":"<p>The string in the database means you already 'lost'. Because that looks like JSON but it is not. Had it been correct JSON, It'd have read <code>C:\\\\</code>. Given that you've now arrived at a broken location, <strong>you can no longer fix it from here</strong> - you need to go to whatever made that string appear in the database and fix it <em>there</em>. If you've already got millions of such strings in your db and you can't go back, then you're in some trouble and need to start thinking about an AI-like rules-based system that tries to figure out what those strings were intended to represent, which is extremely complicated.</p>\n<p>If you know for certain that every backslash in these strings is necessarily a real backslash (and not an escape character), <em>which therefore implies no strings in your entire DB could possibly contain an actual quote - because if they do, how are those escaped then?</em> - you could simply execute <code>UPDATE thatTable SET thatColumn = REPLACE(thatColumn, '\\', '\\\\');</code> and that'll fix it. Which still means you need to fully address the problematic situation that caused you your current predicament - so read on either way.</p>\n<p>You'd have to paste the code of whatever <code>INSERT</code>ed this data if you need help <em>there</em>. A few notes on that:</p>\n<ul>\n<li><p>Don't make JSON by just appending characters to a stringbuilder or similar. Use an actual JSON library. Why, you might ask - JSON is so simple, why bother? Well, <strong>this</strong> - this very question is exhibit A in why it's a really really bad idea to handroll even seemingly very simple formats. Formats almost invariably have hidden tricky aspects to it, and a library explicitly designed to produce the format in question tends to do it right, where handroll code does not. For java, there's <a href=\"https://javarevisited.blogspot.com/2016/09/top-5-json-library-in-java-JEE.html\" rel=\"nofollow noreferrer\">a ton of libraries you can use</a> - any of those 5 can do the job.</p>\n</li>\n<li><p>Some databases, including notably postgres, have native support for JSON columns. They have operators and functions baked in so you can e.g. select all rows with a totalbytes less than 4 billion, or whatever. Storing raw binary data in databases when it is feasible to directly store the underlying data is virtually always a mistake, because one day somebody somewhere designs a feature that requires that you query on the content within that JSON string, and if you then start writing, in DB queries, some sort of SUBSTR/LEFT/RIGHT/~ (regexp) string manipulation you just get stuck further and further, as JSON is far too complex to try to parse in such a fashion. I would very very very strongly reconsider how you are storing this stuff - you should either be storing this in a JSON column instead of a VARCHAR one, or, have a column named 'MountPoint', a column named 'FreeSpace', and so on (that would be even better). Or, you should be using mangodb or some sort document DB (vs. this, which is a relational DB). Usually that adds up to more trouble than its worth, but it's <strong>definitely</strong> vastly superior to storing JSON in VARCHARs in a relational DB - that is the worst of both worlds!</p>\n</li>\n</ul>\n"}],"owner":{"account_id":19638455,"reputation":71,"user_id":14375184,"display_name":"Liran_T"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1683635515,"creation_date":1683631483,"question_id":76208796,"body_markdown":"I have the following string (character varying) in my database: \r\n```\r\n[{&quot;MountPoint&quot;:&quot;C:\\&quot;,&quot;FreeSpace&quot;:&quot;18 GB&quot;,&quot;TotalCapacity&quot;:&quot;39 GB&quot;,&quot;TotalBytes&quot;:42580570112,&quot;FreeBytes&quot;:19708321792}]\r\n```\r\nIt is added as is to a java JSONObject than sent to the client where it failed to parse to a javascript array of objects. \r\nWhat I get in the browser network is: \r\n```\r\n&quot;[{\\&quot;MountPoint\\&quot;:\\&quot;C:\\\\\\&quot;,\\&quot;FreeSpace\\&quot;:\\&quot;18 GB\\&quot;,\\&quot;TotalCapacity\\&quot;:\\&quot;39 GB\\&quot;,\\&quot;TotalBytes\\&quot;:42580570112,\\&quot;FreeBytes\\&quot;:19708321792}]&quot;\r\n```\r\nand trying to parse it in console using JSON.parse raises error:\r\n\r\ncaught SyntaxError: Expected &#39;,&#39; or &#39;}&#39; after property value in JSON at position 23\r\n    at JSON.parse (&lt;anonymous&gt;)\r\n    at &lt;anonymous&gt;:1:6\r\n\r\nTrying to add backslash or parse and stringify again didn&#39;t worked. Any idea how can it be fixed?","title":"Error trying to parse json string with backslash","body":"<p>I have the following string (character varying) in my database:</p>\n<pre><code>[{&quot;MountPoint&quot;:&quot;C:\\&quot;,&quot;FreeSpace&quot;:&quot;18 GB&quot;,&quot;TotalCapacity&quot;:&quot;39 GB&quot;,&quot;TotalBytes&quot;:42580570112,&quot;FreeBytes&quot;:19708321792}]\n</code></pre>\n<p>It is added as is to a java JSONObject than sent to the client where it failed to parse to a javascript array of objects.\nWhat I get in the browser network is:</p>\n<pre><code>&quot;[{\\&quot;MountPoint\\&quot;:\\&quot;C:\\\\\\&quot;,\\&quot;FreeSpace\\&quot;:\\&quot;18 GB\\&quot;,\\&quot;TotalCapacity\\&quot;:\\&quot;39 GB\\&quot;,\\&quot;TotalBytes\\&quot;:42580570112,\\&quot;FreeBytes\\&quot;:19708321792}]&quot;\n</code></pre>\n<p>and trying to parse it in console using JSON.parse raises error:</p>\n<p>caught SyntaxError: Expected ',' or '}' after property value in JSON at position 23\nat JSON.parse ()\nat :1:6</p>\n<p>Trying to add backslash or parse and stringify again didn't worked. Any idea how can it be fixed?</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":0,"creation_date":1644413638,"post_id":71040168,"comment_id":125599845,"body_markdown":"you should just need to move the `defaultIfEmpty` to be after `flatMap` to get the desired behaviour. In the case of `findById` returning an empty mono, you are returning a 404 `ResponseEntity` and then `flatMapping` it to a 204 `ResponseEntity`","body":"you should just need to move the <code>defaultIfEmpty</code> to be after <code>flatMap</code> to get the desired behaviour. In the case of <code>findById</code> returning an empty mono, you are returning a 404 <code>ResponseEntity</code> and then <code>flatMapping</code> it to a 204 <code>ResponseEntity</code>"}],"answers":[{"tags":[],"owner":{"account_id":20958742,"reputation":19,"user_id":15398639,"display_name":"J&#246;rn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644665777,"creation_date":1644353173,"answer_id":71040670,"question_id":71040168,"body_markdown":"After some more research I found a solution:\r\n\r\n```java\r\n  @DeleteMapping(&quot;/{id}&quot;)\r\n  @ResponseStatus(HttpStatus.NO_CONTENT)\r\n  public Mono&lt;ResponseEntity&lt;Void&gt;&gt; deletePet(@PathVariable String id) {\r\n    return petRepository.findById(id)\r\n      .defaultIfEmpty(new Pet())\r\n      .flatMap(pet -&gt; {\r\n        if (null == pet.id) {\r\n          return Mono.just(new ResponseEntity&lt;Void&gt;(HttpStatus.NOT_FOUND));\r\n        }\r\n        else {\r\n          return petRepository.deleteById(id)\r\n            .map(v -&gt; new ResponseEntity&lt;Void&gt;(HttpStatus.NO_CONTENT));\r\n        }\r\n      });\r\n  }\r\n```\r\n\r\nNow an empty Pet object is created when `findById()` gives an empty\r\nresult using `defaultIfEmpty()`.\r\n\r\nSo the `flatMap()` gets either the Pet for the given ID or an empty\r\nPet. The latter is recognized by the fact that the id property is null\r\nwhich is turned into a 404 response. In the other case the Pet is\r\ndeleted and 204 is returned. But note, that the `.map()` there isn&#39;t executed because of the empty `deleteById()` result. It&#39;s just necessary to satisfy the generic interface here. The 204 comes from the `@ResponseStatus` annotation.\r\n\r\nSo this is a possible solution - but it looks not very elegant to me (creating an empty Pet and having this no-op `deleteById().map()`).\r\n\r\nIf there is a better way to do this, please give your answer here.\r\n","title":"Give 404 response on DELETE in restful Spring Boot Reactive Controller","body":"<p>After some more research I found a solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @DeleteMapping(&quot;/{id}&quot;)\n  @ResponseStatus(HttpStatus.NO_CONTENT)\n  public Mono&lt;ResponseEntity&lt;Void&gt;&gt; deletePet(@PathVariable String id) {\n    return petRepository.findById(id)\n      .defaultIfEmpty(new Pet())\n      .flatMap(pet -&gt; {\n        if (null == pet.id) {\n          return Mono.just(new ResponseEntity&lt;Void&gt;(HttpStatus.NOT_FOUND));\n        }\n        else {\n          return petRepository.deleteById(id)\n            .map(v -&gt; new ResponseEntity&lt;Void&gt;(HttpStatus.NO_CONTENT));\n        }\n      });\n  }\n</code></pre>\n<p>Now an empty Pet object is created when <code>findById()</code> gives an empty\nresult using <code>defaultIfEmpty()</code>.</p>\n<p>So the <code>flatMap()</code> gets either the Pet for the given ID or an empty\nPet. The latter is recognized by the fact that the id property is null\nwhich is turned into a 404 response. In the other case the Pet is\ndeleted and 204 is returned. But note, that the <code>.map()</code> there isn't executed because of the empty <code>deleteById()</code> result. It's just necessary to satisfy the generic interface here. The 204 comes from the <code>@ResponseStatus</code> annotation.</p>\n<p>So this is a possible solution - but it looks not very elegant to me (creating an empty Pet and having this no-op <code>deleteById().map()</code>).</p>\n<p>If there is a better way to do this, please give your answer here.</p>\n"},{"tags":[],"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644413893,"creation_date":1644413893,"answer_id":71050579,"question_id":71040168,"body_markdown":"When `findById` returns an empty `Mono`, the code below will **not** executed either `map` or `flatMap` and will only return the value from `defaultIfEmpty`\r\n```java\r\n @DeleteMapping(&quot;/{id}&quot;)\r\n  public Mono&lt;ResponseEntity&lt;Void&gt;&gt; deletePet(@PathVariable String id) {\r\n    return petRepository.findById(id)\r\n      .map(pet1 -&gt; new ResponseEntity&lt;Void&gt;(HttpStatus.NO_CONTENT))\r\n      .flatMap(res -&gt; {\r\n        return petRepository.deleteById(id)\r\n          .map(v -&gt; new ResponseEntity&lt;Void&gt;(HttpStatus.NO_CONTENT));\r\n      })\r\n      .defaultIfEmpty(new ResponseEntity&lt;Void&gt;(HttpStatus.NOT_FOUND));\r\n  }\r\n```\r\n\r\nAlso, your understanding as to why this happens in your code snippet is correct.","title":"Give 404 response on DELETE in restful Spring Boot Reactive Controller","body":"<p>When <code>findById</code> returns an empty <code>Mono</code>, the code below will <strong>not</strong> executed either <code>map</code> or <code>flatMap</code> and will only return the value from <code>defaultIfEmpty</code></p>\n<pre class=\"lang-java prettyprint-override\"><code> @DeleteMapping(&quot;/{id}&quot;)\n  public Mono&lt;ResponseEntity&lt;Void&gt;&gt; deletePet(@PathVariable String id) {\n    return petRepository.findById(id)\n      .map(pet1 -&gt; new ResponseEntity&lt;Void&gt;(HttpStatus.NO_CONTENT))\n      .flatMap(res -&gt; {\n        return petRepository.deleteById(id)\n          .map(v -&gt; new ResponseEntity&lt;Void&gt;(HttpStatus.NO_CONTENT));\n      })\n      .defaultIfEmpty(new ResponseEntity&lt;Void&gt;(HttpStatus.NOT_FOUND));\n  }\n</code></pre>\n<p>Also, your understanding as to why this happens in your code snippet is correct.</p>\n"},{"tags":[],"owner":{"account_id":14598037,"reputation":1253,"user_id":10543130,"display_name":"usersina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683635454,"creation_date":1683635454,"answer_id":76209397,"question_id":71040168,"body_markdown":"Not as good as the above answers but I kept getting type errors trying them out so here&#39;s a more verbose approach:\r\n\r\n```java\r\n@DeleteMapping(&quot;/{id}&quot;)\r\npublic ResponseEntity&lt;?&gt; deletePet(@PathVariable(value = &quot;id&quot;) String id) {\r\n    log.info(&quot;Deleting pet with id: {}&quot;, id);\r\n    Pet pet = petRepository.findById(id)\r\n                .orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND,\r\n                    &quot;Pet with the specified id is not found&quot;));\r\n    petRepository.delete(pet);\r\n    return ResponseEntity.status(HttpStatus.OK).build();\r\n}\r\n```","title":"Give 404 response on DELETE in restful Spring Boot Reactive Controller","body":"<p>Not as good as the above answers but I kept getting type errors trying them out so here's a more verbose approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DeleteMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;?&gt; deletePet(@PathVariable(value = &quot;id&quot;) String id) {\n    log.info(&quot;Deleting pet with id: {}&quot;, id);\n    Pet pet = petRepository.findById(id)\n                .orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND,\n                    &quot;Pet with the specified id is not found&quot;));\n    petRepository.delete(pet);\n    return ResponseEntity.status(HttpStatus.OK).build();\n}\n</code></pre>\n"}],"owner":{"account_id":20958742,"reputation":19,"user_id":15398639,"display_name":"J&#246;rn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1383,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1683635454,"creation_date":1644350407,"question_id":71040168,"body_markdown":"I am fairly new to Java and Spring Boot (coming from TypeScript) and\r\nexperimenting with a small restful CRUD Controller using the\r\nreactive Spring Boot API.\r\n\r\nThere are many tutorials and examples out there but they all lack\r\nproper response statuses, e.g. giving a 404 on DELETE when the\r\nresource doesn&#39;t exist.\r\n\r\nWhat I like to achieve is a DELETE handler which\r\n\r\n* returns &quot;204 No Content&quot; if the resource existed and was deleted successfully\r\n* returns &quot;404 Not found&quot; if the resource doesn&#39;t exist\r\n\r\nA simple &quot;I don&#39;t care about HTTP status&quot; DELETE handler\r\nlooks like this:\r\n\r\n```java\r\n  @DeleteMapping(&quot;/{id}&quot;)\r\n  public Mono&lt;Void&gt; deletePet(@PathVariable String id) {\r\n    return petRepository.deleteById(id);\r\n  }\r\n```\r\n\r\nThis always gives status 200, even when there is no Pet for this ID.\r\n\r\nI tried to use `petRepository.findById(id)` and `.defaultIfEmpty()`\r\nin several ways to catch the 404 case, but without luck. E.g. with\r\nthis implementation I am getting always 204:\r\n\r\n```java\r\n  @DeleteMapping(&quot;/{id}&quot;)\r\n  public Mono&lt;ResponseEntity&lt;Void&gt;&gt; deletePet(@PathVariable String id) {\r\n    return petRepository.findById(id)\r\n      .map(pet1 -&gt; new ResponseEntity&lt;Void&gt;(HttpStatus.NO_CONTENT))\r\n      .defaultIfEmpty(new ResponseEntity&lt;Void&gt;(HttpStatus.NOT_FOUND))\r\n      .flatMap(res -&gt; {\r\n        return petRepository.deleteById(id)\r\n          .map(v -&gt; new ResponseEntity&lt;Void&gt;(HttpStatus.NO_CONTENT));\r\n      });\r\n  }\r\n```\r\n\r\nI think I understand why this isn&#39;t working, because after the .defaultIfEmpty()\r\nthe Mono isn&#39;t empty anymore and the .flatMap will have something to work\r\non (the 404 response) so the deleteById() is executed. This returns an (obviously)\r\nnon empty Mono&lt;Void&gt; as well, so the status turns into NO_CONTENT again.\r\n\r\nBut all my (many) attempts to change this failed so I hope anyone has the right\r\nsolution for this problem.\r\n\r\nThanks! :)\r\n","title":"Give 404 response on DELETE in restful Spring Boot Reactive Controller","body":"<p>I am fairly new to Java and Spring Boot (coming from TypeScript) and\nexperimenting with a small restful CRUD Controller using the\nreactive Spring Boot API.</p>\n<p>There are many tutorials and examples out there but they all lack\nproper response statuses, e.g. giving a 404 on DELETE when the\nresource doesn't exist.</p>\n<p>What I like to achieve is a DELETE handler which</p>\n<ul>\n<li>returns &quot;204 No Content&quot; if the resource existed and was deleted successfully</li>\n<li>returns &quot;404 Not found&quot; if the resource doesn't exist</li>\n</ul>\n<p>A simple &quot;I don't care about HTTP status&quot; DELETE handler\nlooks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @DeleteMapping(&quot;/{id}&quot;)\n  public Mono&lt;Void&gt; deletePet(@PathVariable String id) {\n    return petRepository.deleteById(id);\n  }\n</code></pre>\n<p>This always gives status 200, even when there is no Pet for this ID.</p>\n<p>I tried to use <code>petRepository.findById(id)</code> and <code>.defaultIfEmpty()</code>\nin several ways to catch the 404 case, but without luck. E.g. with\nthis implementation I am getting always 204:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @DeleteMapping(&quot;/{id}&quot;)\n  public Mono&lt;ResponseEntity&lt;Void&gt;&gt; deletePet(@PathVariable String id) {\n    return petRepository.findById(id)\n      .map(pet1 -&gt; new ResponseEntity&lt;Void&gt;(HttpStatus.NO_CONTENT))\n      .defaultIfEmpty(new ResponseEntity&lt;Void&gt;(HttpStatus.NOT_FOUND))\n      .flatMap(res -&gt; {\n        return petRepository.deleteById(id)\n          .map(v -&gt; new ResponseEntity&lt;Void&gt;(HttpStatus.NO_CONTENT));\n      });\n  }\n</code></pre>\n<p>I think I understand why this isn't working, because after the .defaultIfEmpty()\nthe Mono isn't empty anymore and the .flatMap will have something to work\non (the 404 response) so the deleteById() is executed. This returns an (obviously)\nnon empty Mono as well, so the status turns into NO_CONTENT again.</p>\n<p>But all my (many) attempts to change this failed so I hope anyone has the right\nsolution for this problem.</p>\n<p>Thanks! :)</p>\n"},{"tags":["java","http","spring-mvc","character-encoding","tomcat9"],"answers":[{"tags":[],"owner":{"account_id":28536405,"reputation":11,"user_id":21843067,"display_name":"Blc Dragon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683635209,"creation_date":1683635209,"answer_id":76209356,"question_id":76194258,"body_markdown":"Solved it  \r\nSolution is set thymeleaf&#39;s content type\r\n```\r\n@Override\r\n    public void configureViewResolvers(ViewResolverRegistry registry) {\r\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n        resolver.setTemplateEngine(templateEngine());\r\n        resolver.setContentType(&quot;text/html; charset=UTF-8&quot;);\r\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        registry.viewResolver(resolver);\r\n    }\r\n```","title":"Spring MVC with Tomcat UTF-8 encoding","body":"<p>Solved it<br />\nSolution is set thymeleaf's content type</p>\n<pre><code>@Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine());\n        resolver.setContentType(&quot;text/html; charset=UTF-8&quot;);\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        registry.viewResolver(resolver);\n    }\n</code></pre>\n"}],"owner":{"account_id":28536405,"reputation":11,"user_id":21843067,"display_name":"Blc Dragon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683635209,"creation_date":1683466586,"question_id":76194258,"body_markdown":"At the moment I&#39;m trying to get started with Spring MVC.\r\nSomething wrong with my encoding.\r\n\r\n\r\nEvery time response header is:\r\n`Content-Type: text/html;charset=ISO-8859-1`, so all non-ASCII characters appear as `?`.\r\n\r\nAlso I try not to use any config files, all config is programmly\r\n\r\nI tried:  \r\n1. Add `CharacterEncodingFilter` in my `ConfigDispatcherServletInitializer`\r\n\r\n```\r\n@Override\r\nprotected Filter[] getServletFilters() {\r\n   //if encoding has issues we need to add UTF-8 encoding filter\r\n   CharacterEncodingFilter encodingFilter = new CharacterEncodingFilter();\r\n   encodingFilter.setForceEncoding(true);\r\n   encodingFilter.setEncoding(&quot;UTF-8&quot;);\r\n   //encoding filter must be the first one\r\n   return new Filter[]{encodingFilter,\r\n       new DelegatingFilterProxy(&quot;springSecurityFilterChain&quot;),\r\n    };\r\n}\r\n```\r\nIn my `WebMvcConfigurer`:  \r\n2. configure message converter\r\n\r\n```\r\n@Override\r\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n        converters.add(0, new StringHttpMessageConverter(StandardCharsets.UTF_8));\r\n    }\r\n```\r\n3. add message converter bean\r\n\r\n```\r\n @Bean\r\n    public StringHttpMessageConverter stringHttpMessageConverter() {\r\n        return new StringHttpMessageConverter(StandardCharsets.UTF_8);\r\n    }\r\n```\r\n4. setup thymeleaf ViewResolver&#39;s encoding\r\n\r\n```\r\nresolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n```\r\n\r\nIn my `WebSecurityConfigurerAdapter`  \r\n5. add encoding filter\r\n\r\n```\r\nhttp.addFilterBefore(new CharacterEncodingFilter(&quot;UTF-8&quot;, true, true), ChannelProcessingFilter.class);\r\n```\r\n\r\nI also tried add VM option `-Dfile.encoding=UTF-8` in my tomcat run configuration\r\n\r\nNothing works for me, responce header charset is `ISO-8859-1`\r\n\r\nAll files encoding is `UTF-8`, Intellij Idea option &quot;Default encoding for options file&quot; also is `UTF-8`  \r\nmaven compiler encoding property:  \r\n`&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;`  \r\nAll my html files has this meta tag line for encoding.  \r\n`&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;`\r\n\r\ntomcat version is 9.0.74, JDK is v11, spring version 5.3.27\r\n","title":"Spring MVC with Tomcat UTF-8 encoding","body":"<p>At the moment I'm trying to get started with Spring MVC.\nSomething wrong with my encoding.</p>\n<p>Every time response header is:\n<code>Content-Type: text/html;charset=ISO-8859-1</code>, so all non-ASCII characters appear as <code>?</code>.</p>\n<p>Also I try not to use any config files, all config is programmly</p>\n<p>I tried:</p>\n<ol>\n<li>Add <code>CharacterEncodingFilter</code> in my <code>ConfigDispatcherServletInitializer</code></li>\n</ol>\n<pre><code>@Override\nprotected Filter[] getServletFilters() {\n   //if encoding has issues we need to add UTF-8 encoding filter\n   CharacterEncodingFilter encodingFilter = new CharacterEncodingFilter();\n   encodingFilter.setForceEncoding(true);\n   encodingFilter.setEncoding(&quot;UTF-8&quot;);\n   //encoding filter must be the first one\n   return new Filter[]{encodingFilter,\n       new DelegatingFilterProxy(&quot;springSecurityFilterChain&quot;),\n    };\n}\n</code></pre>\n<p>In my <code>WebMvcConfigurer</code>:<br />\n2. configure message converter</p>\n<pre><code>@Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        converters.add(0, new StringHttpMessageConverter(StandardCharsets.UTF_8));\n    }\n</code></pre>\n<ol start=\"3\">\n<li>add message converter bean</li>\n</ol>\n<pre><code> @Bean\n    public StringHttpMessageConverter stringHttpMessageConverter() {\n        return new StringHttpMessageConverter(StandardCharsets.UTF_8);\n    }\n</code></pre>\n<ol start=\"4\">\n<li>setup thymeleaf ViewResolver's encoding</li>\n</ol>\n<pre><code>resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n</code></pre>\n<p>In my <code>WebSecurityConfigurerAdapter</code><br />\n5. add encoding filter</p>\n<pre><code>http.addFilterBefore(new CharacterEncodingFilter(&quot;UTF-8&quot;, true, true), ChannelProcessingFilter.class);\n</code></pre>\n<p>I also tried add VM option <code>-Dfile.encoding=UTF-8</code> in my tomcat run configuration</p>\n<p>Nothing works for me, responce header charset is <code>ISO-8859-1</code></p>\n<p>All files encoding is <code>UTF-8</code>, Intellij Idea option &quot;Default encoding for options file&quot; also is <code>UTF-8</code><br />\nmaven compiler encoding property:<br />\n<code>&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;</code><br />\nAll my html files has this meta tag line for encoding.<br />\n<code>&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</code></p>\n<p>tomcat version is 9.0.74, JDK is v11, spring version 5.3.27</p>\n"},{"tags":["java","hash","signature","der","keccak"],"comments":[{"owner":{"account_id":27096767,"reputation":1,"user_id":20643904,"display_name":"Chico Rico"},"score":0,"creation_date":1683635022,"post_id":74626748,"comment_id":134393967,"body_markdown":"In Fact, each provider decide the header for Keccak 384 has it&#39;i not a RFC.","body":"In Fact, each provider decide the header for Keccak 384 has it&#39;i not a RFC."}],"answers":[{"tags":[],"owner":{"account_id":27096767,"reputation":1,"user_id":20643904,"display_name":"Chico Rico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683635132,"creation_date":1683635106,"answer_id":76209340,"question_id":74626748,"body_markdown":"In Fact, each provider decide the header for Keccak 384 as it&#39;s not in a RFC.","title":"How to make &quot;MessageDigest KECCAK-384 and Signature NONEwithRSA&quot;","body":"<p>In Fact, each provider decide the header for Keccak 384 as it's not in a RFC.</p>\n"}],"owner":{"account_id":27096767,"reputation":1,"user_id":20643904,"display_name":"Chico Rico"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76209340,"answer_count":1,"score":0,"last_activity_date":1683635132,"creation_date":1669806358,"question_id":74626748,"body_markdown":"I would like to apply a KECCAK-384 hash with an RSA signature to some data, but I need to do it in two steps - apply the hash first and then sign the data. \r\n\r\nThe `Signature.sign()` function appears to need the right digest DER data structure to sign correctly.\r\n\r\nHow can I make the two equivalents without using any external libraries like BouncyCastle?\r\n\r\nWith `SHA3-384` it&#39;s ok (as there is an OID) but for `KECCAK-384`, I didn&#39;t find the right way as there is no OID.\r\n\r\nRegards,\r\n\r\nFor SHA3-384 it&#39;s ok :\r\n\r\n```\r\nSignature signEng1= Signature.getInstance(&quot;NoneWithRSA&quot;);\r\nsignEng1.initSign(rsaKeyPair.getPrivate());\r\nsignEng1.update(digestinfo);\r\nsignEng1.update(hashToSign);\r\nbyte[] sig1= signEng1.sign();\r\n```","title":"How to make &quot;MessageDigest KECCAK-384 and Signature NONEwithRSA&quot;","body":"<p>I would like to apply a KECCAK-384 hash with an RSA signature to some data, but I need to do it in two steps - apply the hash first and then sign the data.</p>\n<p>The <code>Signature.sign()</code> function appears to need the right digest DER data structure to sign correctly.</p>\n<p>How can I make the two equivalents without using any external libraries like BouncyCastle?</p>\n<p>With <code>SHA3-384</code> it's ok (as there is an OID) but for <code>KECCAK-384</code>, I didn't find the right way as there is no OID.</p>\n<p>Regards,</p>\n<p>For SHA3-384 it's ok :</p>\n<pre><code>Signature signEng1= Signature.getInstance(&quot;NoneWithRSA&quot;);\nsignEng1.initSign(rsaKeyPair.getPrivate());\nsignEng1.update(digestinfo);\nsignEng1.update(hashToSign);\nbyte[] sig1= signEng1.sign();\n</code></pre>\n"},{"tags":["java","spring-boot","rest","controller"],"answers":[{"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683625593,"creation_date":1683625593,"answer_id":76207959,"question_id":76207842,"body_markdown":"Check if this helps! \r\n\r\nResponse entity is overloaded with several arguments, for better readability, you can create a modular method which creates and returns this `Map` so it can be re-used.\r\n\r\n    MultivaluedMap&lt;String,String&gt; responseHeaders =new MultivaluedHashMap&lt;&gt;();\r\n    responseHeaders.add(&quot;content-type&quot;,&quot;application/json&quot;);\r\n    responseHeaders.add(&quot;somethingElse&quot;,&quot;value&quot;);\r\n    return new ResponseEntity&lt;&gt;(users, responseHeaders, HttpStatus.OK);","title":"Spring Boot set response headers on single endopint","body":"<p>Check if this helps!</p>\n<p>Response entity is overloaded with several arguments, for better readability, you can create a modular method which creates and returns this <code>Map</code> so it can be re-used.</p>\n<pre><code>MultivaluedMap&lt;String,String&gt; responseHeaders =new MultivaluedHashMap&lt;&gt;();\nresponseHeaders.add(&quot;content-type&quot;,&quot;application/json&quot;);\nresponseHeaders.add(&quot;somethingElse&quot;,&quot;value&quot;);\nreturn new ResponseEntity&lt;&gt;(users, responseHeaders, HttpStatus.OK);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683629044,"creation_date":1683629044,"answer_id":76208477,"question_id":76207842,"body_markdown":"You can do it without ResponseEntity. Change the signature of your class to\r\n\r\n    @GetMapping()\r\n    public public List&lt;UserFullDto&gt;getAll(HttpServletRequest request, HttpServletResponse response) {\r\n\r\nAnd than you can use `response.addHeader(name, value)` ","title":"Spring Boot set response headers on single endopint","body":"<p>You can do it without ResponseEntity. Change the signature of your class to</p>\n<pre><code>@GetMapping()\npublic public List&lt;UserFullDto&gt;getAll(HttpServletRequest request, HttpServletResponse response) {\n</code></pre>\n<p>And than you can use <code>response.addHeader(name, value)</code></p>\n"}],"owner":{"account_id":18128069,"reputation":332,"user_id":13183434,"display_name":"Bjop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683634982,"creation_date":1683624823,"question_id":76207842,"body_markdown":"I try to add a response header to a singel endopoint.\r\n\r\nThis is my controller class.\r\n\r\n```java\r\n@RequiredArgsConstructor\r\n@RestController\r\n@RequestMapping(&quot;/dds/users&quot;)\r\npublic class TypeController {\r\n    private final UserService userService;\r\n    private final UserMapper userMapper;\r\n\r\n    @GetMapping()\r\n    public List&lt;UserFullDto&gt; getAll() {\r\n        return userService.getAll().stream().map(userMapper::mapToFullDto).toList();\r\n    }\r\n}\r\n```\r\n\r\nIs there a solution to add a response header without making the methode return a `ResponseEntity&lt;&gt;`\r\n\r\nI dont want to use this this:\r\n```java\r\n@GetMapping()\r\npublic ResponseEntity&lt;List&lt;UserFullDto&gt;&gt; getAll() {\r\n    var users = userService.getAll().stream().map(userMapper::mapToFullDto).toList();\r\n    return new ResponseEnity.ok().header().body(users);\r\n}\r\n```\r\n\r\nI have tried this without succes (gives me a 404)\r\n```java\r\n@GetMapping(headers = &quot;Cache-Control=max-age=3600&quot;)\r\npublic ResponseEntity&lt;List&lt;UserFullDto&gt;&gt; getAll() {\r\n    ...\r\n}\r\n```\r\n\r\n","title":"Spring Boot set response headers on single endopint","body":"<p>I try to add a response header to a singel endopoint.</p>\n<p>This is my controller class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\n@RestController\n@RequestMapping(&quot;/dds/users&quot;)\npublic class TypeController {\n    private final UserService userService;\n    private final UserMapper userMapper;\n\n    @GetMapping()\n    public List&lt;UserFullDto&gt; getAll() {\n        return userService.getAll().stream().map(userMapper::mapToFullDto).toList();\n    }\n}\n</code></pre>\n<p>Is there a solution to add a response header without making the methode return a <code>ResponseEntity&lt;&gt;</code></p>\n<p>I dont want to use this this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping()\npublic ResponseEntity&lt;List&lt;UserFullDto&gt;&gt; getAll() {\n    var users = userService.getAll().stream().map(userMapper::mapToFullDto).toList();\n    return new ResponseEnity.ok().header().body(users);\n}\n</code></pre>\n<p>I have tried this without succes (gives me a 404)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(headers = &quot;Cache-Control=max-age=3600&quot;)\npublic ResponseEntity&lt;List&lt;UserFullDto&gt;&gt; getAll() {\n    ...\n}\n</code></pre>\n"},{"tags":["java","multithreading","interface","try-with-resources"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1483088840,"post_id":41393417,"comment_id":69988838,"body_markdown":"Nice question though ... that thought never occurred to me ;-)","body":"Nice question though ... that thought never occurred to me ;-)"},{"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"score":0,"creation_date":1483088892,"post_id":41393417,"comment_id":69988858,"body_markdown":"Related: http://stackoverflow.com/questions/13883293/turning-an-executorservice-to-daemon-in-java","body":"Related: <a href=\"http://stackoverflow.com/questions/13883293/turning-an-executorservice-to-daemon-in-java\" title=\"turning an executorservice to daemon in java\">stackoverflow.com/questions/13883293/&hellip;</a>"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1483096170,"post_id":41393417,"comment_id":69992200,"body_markdown":"There are tons of &quot;resourceful&quot; non-`Closeable` APIs in the JDK","body":"There are tons of &quot;resourceful&quot; non-<code>Closeable</code> APIs in the JDK"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680500433,"post_id":41393417,"comment_id":133902873,"body_markdown":"See [this Answer](https://stackoverflow.com/a/72267126/642706) with an important update for Java 19+.","body":"See <a href=\"https://stackoverflow.com/a/72267126/642706\">this Answer</a> with an important update for Java 19+."},{"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"score":0,"creation_date":1692731422,"post_id":41393417,"comment_id":135663888,"body_markdown":"I had this question just now &amp; searched in SO &amp; got this!","body":"I had this question just now &amp; searched in SO &amp; got this!"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1483089218,"creation_date":1483088603,"answer_id":41393450,"question_id":41393417,"body_markdown":"That [ExecutorService][1] has actually **two** shutdown-related methods; based on the simple fact that **both** ways of shutting down a service make sense.\r\n\r\nThus: how would you auto-close a service then? In a consistent manner that works for everybody?!\r\n\r\nSo, the reasonable explanation in my eyes: you can&#39;t make an ExecutorService a AutoClosable because that service does not have a single &quot;close&quot; like operation; but two!\r\n\r\nAnd if you think you could make good use of such an auto-closing service, writing up your own implementation using &quot;delegation&quot; would be a 5 minute thing! Or probably 10 minutes, because you would create one version calling `shutdown()` as close operation; and one that does `shutdownNow()` instead.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html","title":"Why does the ExecutorService interface not implement AutoCloseable?","body":"<p>That <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html\">ExecutorService</a> has actually <strong>two</strong> shutdown-related methods; based on the simple fact that <strong>both</strong> ways of shutting down a service make sense.</p>\n\n<p>Thus: how would you auto-close a service then? In a consistent manner that works for everybody?!</p>\n\n<p>So, the reasonable explanation in my eyes: you can't make an ExecutorService a AutoClosable because that service does not have a single \"close\" like operation; but two!</p>\n\n<p>And if you think you could make good use of such an auto-closing service, writing up your own implementation using \"delegation\" would be a 5 minute thing! Or probably 10 minutes, because you would create one version calling <code>shutdown()</code> as close operation; and one that does <code>shutdownNow()</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1578662105,"creation_date":1483096807,"answer_id":41395429,"question_id":41393417,"body_markdown":"This is a mediocre workaround\r\n\r\n    ExecutorService service = Executors.newSingleThreadExecutor();\r\n    try (Closeable close = service::shutdown) {\r\n\r\n    }\r\n\r\nOr, if the checked exception bothers you, you could write:\r\n\r\n    interface MyCloseable extends AutoCloseable {\r\n        void close();\r\n    }\r\n\r\nAnd then\r\n\r\n    ExecutorService service = Executors.newSingleThreadExecutor();\r\n    try (MyCloseable close = service::shutdown) {\r\n\r\n    }\r\n\r\n\r\nOf course, you must never ever put anything between the assignment and the `try` statement, nor use the `service` local variable after the `try` statement.\r\n\r\nGiven the caveats, just use `finally` instead.","title":"Why does the ExecutorService interface not implement AutoCloseable?","body":"<p>This is a mediocre workaround</p>\n\n<pre><code>ExecutorService service = Executors.newSingleThreadExecutor();\ntry (Closeable close = service::shutdown) {\n\n}\n</code></pre>\n\n<p>Or, if the checked exception bothers you, you could write:</p>\n\n<pre><code>interface MyCloseable extends AutoCloseable {\n    void close();\n}\n</code></pre>\n\n<p>And then</p>\n\n<pre><code>ExecutorService service = Executors.newSingleThreadExecutor();\ntry (MyCloseable close = service::shutdown) {\n\n}\n</code></pre>\n\n<p>Of course, you must never ever put anything between the assignment and the <code>try</code> statement, nor use the <code>service</code> local variable after the <code>try</code> statement.</p>\n\n<p>Given the caveats, just use <code>finally</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1483120880,"creation_date":1483120880,"answer_id":41400591,"question_id":41393417,"body_markdown":"I don&#39;t see where AutoCloseable is that useful for an Executor.  try-with-resources is for things that can be initialized, used, and released within the scope of a method. This works great for things like files, network connections, jdbc resources, etc., where they get opened, used, and cleaned up quickly. But an executor, especially a threadpool, is something you want available for a long time period, probably over the lifetime of the application, and will tend to get injected into things like singleton services, which can have a method that the DI framework knows to call on application shutdown to clean up the executor. This usage pattern works fine without try-with-resources.\r\n\r\nAlso, a big motivator behind try-with-resources is making sure exceptions don&#39;t get masked. That&#39;s not a consideration so much with executors, all the exception-throwing will be happening in the tasks submitted to the executor, \r\nexception-masking is not an issue.\r\n\r\n","title":"Why does the ExecutorService interface not implement AutoCloseable?","body":"<p>I don't see where AutoCloseable is that useful for an Executor.  try-with-resources is for things that can be initialized, used, and released within the scope of a method. This works great for things like files, network connections, jdbc resources, etc., where they get opened, used, and cleaned up quickly. But an executor, especially a threadpool, is something you want available for a long time period, probably over the lifetime of the application, and will tend to get injected into things like singleton services, which can have a method that the DI framework knows to call on application shutdown to clean up the executor. This usage pattern works fine without try-with-resources.</p>\n\n<p>Also, a big motivator behind try-with-resources is making sure exceptions don't get masked. That's not a consideration so much with executors, all the exception-throwing will be happening in the tasks submitted to the executor, \nexception-masking is not an issue.</p>\n"},{"tags":[],"owner":{"account_id":8129122,"reputation":1496,"user_id":6122976,"display_name":"wilmol"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1683634897,"creation_date":1652749259,"answer_id":72267126,"question_id":41393417,"body_markdown":"# `ExeuctorService` is `AutoCloseable` in Java 19+\r\n\r\nIn [Java 19][1], [`ExeuctorService` now implements `AutoCloseable`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html#close()).\r\n\r\n\r\nThe default implementation invokes `shutdown()` and waits for tasks to complete with `awaitTermination` in a loop. It calls `shutdownNow()` if interrupted.\r\n\r\n# Google Guava \r\n\r\nFor earlier Java, you can use [Guava&#39;s `ForwardingExecutorService`](https://guava.dev/releases/19.0/api/docs/com/google/common/util/concurrent/ForwardingExecutorService.html) to decorate `ExeuctorService` as `AutoCloseable` yourself:\r\n\r\n```java\r\nclass CloseableExecutorService extends ForwardingExecutorService implements AutoCloseable {\r\n\r\n  private final ExecutorService delegate;\r\n\r\n  CloseableExecutorService(ExecutorService delegate) {\r\n    this.delegate = checkNotNull(delegate);\r\n  }\r\n\r\n  @Override\r\n  protected ExecutorService delegate() {\r\n    return delegate;\r\n  }\r\n\r\n  @Override\r\n  public void close() {\r\n    // copy paste from JDK 19 EA\r\n    boolean terminated = isTerminated();\r\n    if (!terminated) {\r\n      shutdown();\r\n      boolean interrupted = false;\r\n      while (!terminated) {\r\n        try {\r\n          terminated = awaitTermination(1L, TimeUnit.DAYS);\r\n        } catch (InterruptedException e) {\r\n          if (!interrupted) {\r\n            shutdownNow();\r\n            interrupted = true;\r\n          }\r\n        }\r\n      }\r\n      if (interrupted) {\r\n        Thread.currentThread().interrupt();\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_19","title":"Why does the ExecutorService interface not implement AutoCloseable?","body":"<h1><code>ExeuctorService</code> is <code>AutoCloseable</code> in Java 19+</h1>\n<p>In <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_19\" rel=\"noreferrer\">Java 19</a>, <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html#close()\" rel=\"noreferrer\"><code>ExeuctorService</code> now implements <code>AutoCloseable</code></a>.</p>\n<p>The default implementation invokes <code>shutdown()</code> and waits for tasks to complete with <code>awaitTermination</code> in a loop. It calls <code>shutdownNow()</code> if interrupted.</p>\n<h1>Google Guava</h1>\n<p>For earlier Java, you can use <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/util/concurrent/ForwardingExecutorService.html\" rel=\"noreferrer\">Guava's <code>ForwardingExecutorService</code></a> to decorate <code>ExeuctorService</code> as <code>AutoCloseable</code> yourself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CloseableExecutorService extends ForwardingExecutorService implements AutoCloseable {\n\n  private final ExecutorService delegate;\n\n  CloseableExecutorService(ExecutorService delegate) {\n    this.delegate = checkNotNull(delegate);\n  }\n\n  @Override\n  protected ExecutorService delegate() {\n    return delegate;\n  }\n\n  @Override\n  public void close() {\n    // copy paste from JDK 19 EA\n    boolean terminated = isTerminated();\n    if (!terminated) {\n      shutdown();\n      boolean interrupted = false;\n      while (!terminated) {\n        try {\n          terminated = awaitTermination(1L, TimeUnit.DAYS);\n        } catch (InterruptedException e) {\n          if (!interrupted) {\n            shutdownNow();\n            interrupted = true;\n          }\n        }\n      }\n      if (interrupted) {\n        Thread.currentThread().interrupt();\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":5405333,"reputation":4229,"user_id":4304038,"accept_rate":92,"display_name":"Adrian Krebs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8894,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":41393450,"answer_count":4,"score":43,"last_activity_date":1683634897,"creation_date":1483088427,"question_id":41393417,"body_markdown":"Failing to call `shutdown()` on a thread executor will result in a never terminating application. \r\n\r\nBest practice to shut down the ExecutorService is this:\r\n\r\n    ExecutorService service = null;\r\n    try {\r\n      service = Executors.newSingleThreadExecutor();\r\n      // add tasks to thread executor\r\n      \r\n    } finally {\r\n      if (service != null) service.shutdown();\r\n    }\r\n\r\nSince Java knows the try-with-resources concept, wouldn&#39;t it be nice if we could do this?\r\n\r\n    try (service = Executors.newSingleThreadExecutor())\r\n    {\r\n      // add tasks to thread executor\r\n      \r\n    } ","title":"Why does the ExecutorService interface not implement AutoCloseable?","body":"<p>Failing to call <code>shutdown()</code> on a thread executor will result in a never terminating application. </p>\n\n<p>Best practice to shut down the ExecutorService is this:</p>\n\n<pre><code>ExecutorService service = null;\ntry {\n  service = Executors.newSingleThreadExecutor();\n  // add tasks to thread executor\n  \n} finally {\n  if (service != null) service.shutdown();\n}\n</code></pre>\n\n<p>Since Java knows the try-with-resources concept, wouldn't it be nice if we could do this?</p>\n\n<pre><code>try (service = Executors.newSingleThreadExecutor())\n{\n  // add tasks to thread executor\n  \n} \n</code></pre>\n"},{"tags":["java","android","string","arduino","bluetooth"],"comments":[{"owner":{"account_id":19211594,"reputation":1477,"user_id":14037302,"display_name":"sweak"},"score":1,"creation_date":1683635539,"post_id":76209307,"comment_id":134394108,"body_markdown":"It&#39;s great you&#39;ve provided so much code, but in your case (application crash) the most useful information would be the Logcat output - the error stacktrace. Please, update the question with that information.","body":"It&#39;s great you&#39;ve provided so much code, but in your case (application crash) the most useful information would be the Logcat output - the error stacktrace. Please, update the question with that information."}],"owner":{"account_id":27846204,"reputation":1,"user_id":21261595,"display_name":"garbel antoan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683634896,"creation_date":1683634896,"question_id":76209307,"body_markdown":"i&#39;m trying to make a smart home application via bluetooth and arduino module So i made a 1st activity for bluetooth device list to be selected which is called &quot; SelectBluetoothDeviceActivity &quot;, and it works fine and i can easily find the required module on it and when i press on the selected device it goes to the second Activity which is called &quot; MainActivity &quot; with the module&#39;s mac address using intent.putExtra() method.\r\nAnd it works all good by far and i can easily turn off and turn on the LED using my phone But when i want to go to the 3rd Activity which is called &quot; TestActivity &quot;, the app keeps crashing, \r\nI copy/pasted the exact same code from the 2nd activity into the 3rd activity but it keeps giving me error.\r\n\r\nFor example in 1st activity The intent code is sth like this :\r\n\r\n`   \r\n```\r\n private AdapterView.OnItemClickListener myListClickListener = new AdapterView.OnItemClickListener()\r\n    {\r\n        public void onItemClick (AdapterView&lt;?&gt; av, View v, int arg2, long arg3)\r\n        {\r\n            // Get the device MAC address, the last 17 chars in the View\r\n            String info = ((TextView) v).getText().toString();\r\n            String address = info.substring(info.length() - 17);\r\n\r\n            // Make an intent to start next activity.\r\n            Intent i = new Intent(SelectBluetoothDeviceActivity.this, MainActivity.class);\r\n\r\n            //Change the activity.\r\n            i.putExtra(EXTRA_ADDRESS, address); //this will be received at ledControl (class) Activity\r\n            startActivity(i);\r\n        }\r\n    };  \r\n```\r\n  `\r\n\r\nin the 2nd activity it receives the extra like this :\r\n\r\n`   \r\n```\r\n Intent newint = getIntent();\r\n        address = newint.getStringExtra(SelectBluetoothDeviceActivity.EXTRA_ADDRESS); //receive the address of the bluetooth device   \r\n```\r\n  `\r\n\r\n\r\nEverything works fine by far, But when i pass this mac address from 2nd activity to 3rd like this :\r\n\r\n`    \r\n```\r\nIntent returnToFreK = new Intent(MainActivity.this, test.class);\r\n                returnToFreK.putExtra(&quot;dawn&quot;,address);\r\n                startActivity(returnToFreK);   \r\n```\r\n `\r\n\r\nAnd recieve it like this on 3rd :\r\n\r\n`  \r\n```\r\n   Intent newint = getIntent();\r\n        address = newint.getStringExtra(&quot;dawn&quot;); //receive the address of the bluetooth device \r\n```\r\n   `\r\n\r\n\r\nThe app crashes.\r\n\r\n\r\n\r\n\r\nThe 1st activity :\r\n\r\n`   \r\n```\r\n public class SelectBluetoothDeviceActivity extends AppCompatActivity {\r\n    //widgets\r\n    Button btnPaired;\r\n    ListView devicelist;\r\n    //Bluetooth\r\n    private BluetoothAdapter myBluetooth = null;\r\n    private Set&lt;BluetoothDevice&gt; pairedDevices;\r\n    public static String EXTRA_ADDRESS = &quot;device_address&quot;;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_select_bluetooth_device);\r\n\r\n        //Calling widgets\r\n        btnPaired = (Button)findViewById(R.id.button);\r\n        devicelist = (ListView)findViewById(R.id.listView);\r\n\r\n        //if the device has bluetooth\r\n        myBluetooth = BluetoothAdapter.getDefaultAdapter();\r\n\r\n        if(myBluetooth == null)\r\n        {\r\n            //Show a mensag. that the device has no bluetooth adapter\r\n            Toast.makeText(getApplicationContext(), &quot;Bluetooth Device Not Available&quot;, Toast.LENGTH_LONG).show();\r\n\r\n            //finish apk\r\n            finish();\r\n        }\r\n        else if(!myBluetooth.isEnabled())\r\n        {\r\n            //Ask to the user turn the bluetooth on\r\n            Intent turnBTon = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n            startActivityForResult(turnBTon,1);\r\n        }\r\n\r\n        btnPaired.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                pairedDevicesList();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void pairedDevicesList()\r\n    {\r\n        pairedDevices = myBluetooth.getBondedDevices();\r\n        ArrayList list = new ArrayList();\r\n\r\n        if (pairedDevices.size()&gt;0)\r\n        {\r\n            for(BluetoothDevice bt : pairedDevices)\r\n            {\r\n                list.add(bt.getName() + &quot;\\n&quot; + bt.getAddress()); //Get the device&#39;s name and the address\r\n            }\r\n        }\r\n        else\r\n        {\r\n            Toast.makeText(getApplicationContext(), &quot;No Paired Bluetooth Devices Found.&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n\r\n        final ArrayAdapter adapter = new ArrayAdapter(this,android.R.layout.simple_list_item_1, list);\r\n        devicelist.setAdapter(adapter);\r\n        devicelist.setOnItemClickListener(myListClickListener); //Method called when the device from the list is clicked\r\n\r\n    }\r\n\r\n    private AdapterView.OnItemClickListener myListClickListener = new AdapterView.OnItemClickListener()\r\n    {\r\n        public void onItemClick (AdapterView&lt;?&gt; av, View v, int arg2, long arg3)\r\n        {\r\n            // Get the device MAC address, the last 17 chars in the View\r\n            String info = ((TextView) v).getText().toString();\r\n            String address = info.substring(info.length() - 17);\r\n\r\n            // Make an intent to start next activity.\r\n            Intent i = new Intent(SelectBluetoothDeviceActivity.this, MainActivity.class);\r\n\r\n            //Change the activity.\r\n            i.putExtra(EXTRA_ADDRESS, address); //this will be received at ledControl (class) Activity\r\n            startActivity(i);\r\n        }\r\n    };\r\n\r\n\r\n\r\n\r\n}    \r\n```\r\n `\r\n\r\nThe 2nd activity :\r\n\r\n`   \r\n```\r\n public class MainActivity extends AppCompatActivity {\r\n    // Button btnOn, btnOff, btnDis;\r\n    Button On, Off, Discnt, Abt;\r\n    String address = null;\r\n    private ProgressDialog progress;\r\n    BluetoothAdapter myBluetooth = null;\r\n    BluetoothSocket btSocket = null;\r\n    private boolean isBtConnected = false;\r\n    //SPP UUID. Look for it\r\n    static final UUID myUUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        Intent newint = getIntent();\r\n        address = newint.getStringExtra(SelectBluetoothDeviceActivity.EXTRA_ADDRESS); //receive the address of the bluetooth device\r\n\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Handler gtx = new Handler();\r\n        gtx.postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n\r\n\r\n                Intent returnToFreK = new Intent(MainActivity.this, test.class);\r\n                returnToFreK.putExtra(&quot;dawn&quot;,address);\r\n                startActivity(returnToFreK);\r\n\r\n            }\r\n        }, 10000);\r\n\r\n\r\n        On = (Button)findViewById(R.id.on_btn);\r\n        Off = (Button)findViewById(R.id.off_btn);\r\n        Discnt = (Button)findViewById(R.id.dis_btn);\r\n        Abt = (Button)findViewById(R.id.abt_btn);\r\n\r\n        new ConnectBT().execute(); //Call the class to connect\r\n\r\n        //commands to be sent to bluetooth\r\n        On.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                turnOnLed();      //method to turn on\r\n            }\r\n        });\r\n\r\n        Off.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                turnOffLed();   //method to turn off\r\n            }\r\n        });\r\n\r\n        Discnt.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                Disconnect(); //close connection\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    private void Disconnect()\r\n    {\r\n        if (btSocket!=null) //If the btSocket is busy\r\n        {\r\n            try\r\n            {\r\n                btSocket.close(); //close connection\r\n            }\r\n            catch (IOException e)\r\n            { msg(&quot;Error&quot;);}\r\n        }\r\n        finish(); //return to the first layout\r\n\r\n    }\r\n\r\n    private void turnOffLed()\r\n    {\r\n        if (btSocket!=null)\r\n        {\r\n            try\r\n            {\r\n                btSocket.getOutputStream().write(&quot;0&quot;.toString().getBytes());\r\n            }\r\n            catch (IOException e)\r\n            {\r\n                msg(&quot;Error&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void turnOnLed()\r\n    {\r\n        if (btSocket!=null)\r\n        {\r\n            try\r\n            {\r\n                btSocket.getOutputStream().write(&quot;1&quot;.toString().getBytes());\r\n            }\r\n            catch (IOException e)\r\n            {\r\n                msg(&quot;Error&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    // fast way to call Toast\r\n    private void msg(String s)\r\n    {\r\n        Toast.makeText(getApplicationContext(),s,Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private class ConnectBT extends AsyncTask&lt;Void, Void, Void&gt;  // UI thread\r\n    {\r\n        private boolean ConnectSuccess = true; //if it&#39;s here, it&#39;s almost connected\r\n\r\n        @Override\r\n        protected void onPreExecute()\r\n        {\r\n            progress = ProgressDialog.show(MainActivity.this, &quot;Connecting...&quot;, &quot;Please wait!!!&quot;);  //show a progress dialog\r\n        }\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... devices) //while the progress dialog is shown, the connection is done in background\r\n        {\r\n            try\r\n            {\r\n                if (btSocket == null || !isBtConnected)\r\n                {\r\n                    myBluetooth = BluetoothAdapter.getDefaultAdapter();//get the mobile bluetooth device\r\n                    BluetoothDevice dispositivo = myBluetooth.getRemoteDevice(address);//connects to the device&#39;s address and checks if it&#39;s available\r\n                    btSocket = dispositivo.createInsecureRfcommSocketToServiceRecord(myUUID);//create a RFCOMM (SPP) connection\r\n                    BluetoothAdapter.getDefaultAdapter().cancelDiscovery();\r\n                    btSocket.connect();//start connection\r\n                }\r\n            }\r\n            catch (IOException e)\r\n            {\r\n                ConnectSuccess = false;//if the try failed, you can check the exception here\r\n            }\r\n            return null;\r\n        }\r\n        @Override\r\n        protected void onPostExecute(Void result) //after the doInBackground, it checks if everything went fine\r\n        {\r\n            super.onPostExecute(result);\r\n\r\n            if (!ConnectSuccess)\r\n            {\r\n                msg(&quot;Connection Failed. Is it a SPP Bluetooth? Try again.&quot;);\r\n                finish();\r\n            }\r\n            else\r\n            {\r\n                msg(&quot;Connected.&quot;);\r\n                isBtConnected = true;\r\n            }\r\n            progress.dismiss();\r\n        }\r\n    }\r\n}    \r\n```\r\n`\r\n\r\n\r\nthe 3rd activity :\r\n\r\n`  \r\n```\r\n  public class test extends AppCompatActivity {\r\n\r\n    Button On, Off, Discnt, Abt;\r\n    String address = null;\r\n    private ProgressDialog progress;\r\n    BluetoothAdapter myBluetooth = null;\r\n    BluetoothSocket btSocket = null;\r\n    private boolean isBtConnected = false;\r\n    //SPP UUID. Look for it\r\n    static final UUID myUUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        Intent newint = getIntent();\r\n        address = newint.getStringExtra(&quot;dawn&quot;); //receive the address of the bluetooth device\r\n\r\n        setContentView(R.layout.activity_test);\r\n\r\n\r\n        On = (Button)findViewById(R.id.on_btn);\r\n        Off = (Button)findViewById(R.id.off_btn);\r\n        Discnt = (Button)findViewById(R.id.dis_btn);\r\n        Abt = (Button)findViewById(R.id.abt_btn);\r\n\r\n        new test.ConnectBT().execute(); //Call the class to connect\r\n\r\n        //commands to be sent to bluetooth\r\n        On.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                turnOnLed();      //method to turn on\r\n            }\r\n        });\r\n\r\n        Off.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                turnOffLed();   //method to turn off\r\n            }\r\n        });\r\n\r\n        Discnt.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                Disconnect(); //close connection\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    private void Disconnect()\r\n    {\r\n        if (btSocket!=null) //If the btSocket is busy\r\n        {\r\n            try\r\n            {\r\n                btSocket.close(); //close connection\r\n            }\r\n            catch (IOException e)\r\n            { msg(&quot;Error&quot;);}\r\n        }\r\n        finish(); //return to the first layout\r\n\r\n    }\r\n\r\n    private void turnOffLed()\r\n    {\r\n        if (btSocket!=null)\r\n        {\r\n            try\r\n            {\r\n                btSocket.getOutputStream().write(&quot;0&quot;.toString().getBytes());\r\n            }\r\n            catch (IOException e)\r\n            {\r\n                msg(&quot;Error&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void turnOnLed()\r\n    {\r\n        if (btSocket!=null)\r\n        {\r\n            try\r\n            {\r\n                btSocket.getOutputStream().write(&quot;1&quot;.toString().getBytes());\r\n            }\r\n            catch (IOException e)\r\n            {\r\n                msg(&quot;Error&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    // fast way to call Toast\r\n    private void msg(String s)\r\n    {\r\n        Toast.makeText(getApplicationContext(),s,Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private class ConnectBT extends AsyncTask&lt;Void, Void, Void&gt;  // UI thread\r\n    {\r\n        private boolean ConnectSuccess = true; //if it&#39;s here, it&#39;s almost connected\r\n\r\n        @Override\r\n        protected void onPreExecute()\r\n        {\r\n            progress = ProgressDialog.show(test.this, &quot;Connecting...&quot;, &quot;Please wait!!!&quot;);  //show a progress dialog\r\n        }\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... devices) //while the progress dialog is shown, the connection is done in background\r\n        {\r\n            try\r\n            {\r\n                if (btSocket == null || !isBtConnected)\r\n                {\r\n                    myBluetooth = BluetoothAdapter.getDefaultAdapter();//get the mobile bluetooth device\r\n                    BluetoothDevice dispositivo = myBluetooth.getRemoteDevice(address);//connects to the device&#39;s address and checks if it&#39;s available\r\n                    btSocket = dispositivo.createInsecureRfcommSocketToServiceRecord(myUUID);//create a RFCOMM (SPP) connection\r\n                    BluetoothAdapter.getDefaultAdapter().cancelDiscovery();\r\n                    btSocket.connect();//start connection\r\n                }\r\n            }\r\n            catch (IOException e)\r\n            {\r\n                ConnectSuccess = false;//if the try failed, you can check the exception here\r\n            }\r\n            return null;\r\n        }\r\n        @Override\r\n        protected void onPostExecute(Void result) //after the doInBackground, it checks if everything went fine\r\n        {\r\n            super.onPostExecute(result);\r\n\r\n            if (!ConnectSuccess)\r\n            {\r\n                msg(&quot;Connection Failed. Is it a SPP Bluetooth? Try again.&quot;);\r\n                finish();\r\n            }\r\n            else\r\n            {\r\n                msg(&quot;Connected.&quot;);\r\n                isBtConnected = true;\r\n            }\r\n            progress.dismiss();\r\n        }\r\n    }\r\n}    \r\n```\r\n `\r\n\r\n\r\nI tried to change the &quot;     String address = null; &quot; in the 3rd application to the manual Mac address i got from device list, but the error remains.","title":"App crashes when passing Bluetooth mac address to 3rd activity in android","body":"<p>i'm trying to make a smart home application via bluetooth and arduino module So i made a 1st activity for bluetooth device list to be selected which is called &quot; SelectBluetoothDeviceActivity &quot;, and it works fine and i can easily find the required module on it and when i press on the selected device it goes to the second Activity which is called &quot; MainActivity &quot; with the module's mac address using intent.putExtra() method.\nAnd it works all good by far and i can easily turn off and turn on the LED using my phone But when i want to go to the 3rd Activity which is called &quot; TestActivity &quot;, the app keeps crashing,\nI copy/pasted the exact same code from the 2nd activity into the 3rd activity but it keeps giving me error.</p>\n<p>For example in 1st activity The intent code is sth like this :</p>\n<p>`</p>\n<pre><code> private AdapterView.OnItemClickListener myListClickListener = new AdapterView.OnItemClickListener()\n    {\n        public void onItemClick (AdapterView&lt;?&gt; av, View v, int arg2, long arg3)\n        {\n            // Get the device MAC address, the last 17 chars in the View\n            String info = ((TextView) v).getText().toString();\n            String address = info.substring(info.length() - 17);\n\n            // Make an intent to start next activity.\n            Intent i = new Intent(SelectBluetoothDeviceActivity.this, MainActivity.class);\n\n            //Change the activity.\n            i.putExtra(EXTRA_ADDRESS, address); //this will be received at ledControl (class) Activity\n            startActivity(i);\n        }\n    };  \n</code></pre>\n<p>`</p>\n<p>in the 2nd activity it receives the extra like this :</p>\n<p>`</p>\n<pre><code> Intent newint = getIntent();\n        address = newint.getStringExtra(SelectBluetoothDeviceActivity.EXTRA_ADDRESS); //receive the address of the bluetooth device   \n</code></pre>\n<p>`</p>\n<p>Everything works fine by far, But when i pass this mac address from 2nd activity to 3rd like this :</p>\n<p>`</p>\n<pre><code>Intent returnToFreK = new Intent(MainActivity.this, test.class);\n                returnToFreK.putExtra(&quot;dawn&quot;,address);\n                startActivity(returnToFreK);   \n</code></pre>\n<p>`</p>\n<p>And recieve it like this on 3rd :</p>\n<p>`</p>\n<pre><code>   Intent newint = getIntent();\n        address = newint.getStringExtra(&quot;dawn&quot;); //receive the address of the bluetooth device \n</code></pre>\n<p>`</p>\n<p>The app crashes.</p>\n<p>The 1st activity :</p>\n<p>`</p>\n<pre><code> public class SelectBluetoothDeviceActivity extends AppCompatActivity {\n    //widgets\n    Button btnPaired;\n    ListView devicelist;\n    //Bluetooth\n    private BluetoothAdapter myBluetooth = null;\n    private Set&lt;BluetoothDevice&gt; pairedDevices;\n    public static String EXTRA_ADDRESS = &quot;device_address&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_select_bluetooth_device);\n\n        //Calling widgets\n        btnPaired = (Button)findViewById(R.id.button);\n        devicelist = (ListView)findViewById(R.id.listView);\n\n        //if the device has bluetooth\n        myBluetooth = BluetoothAdapter.getDefaultAdapter();\n\n        if(myBluetooth == null)\n        {\n            //Show a mensag. that the device has no bluetooth adapter\n            Toast.makeText(getApplicationContext(), &quot;Bluetooth Device Not Available&quot;, Toast.LENGTH_LONG).show();\n\n            //finish apk\n            finish();\n        }\n        else if(!myBluetooth.isEnabled())\n        {\n            //Ask to the user turn the bluetooth on\n            Intent turnBTon = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n            startActivityForResult(turnBTon,1);\n        }\n\n        btnPaired.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v)\n            {\n                pairedDevicesList();\n            }\n        });\n\n    }\n\n    private void pairedDevicesList()\n    {\n        pairedDevices = myBluetooth.getBondedDevices();\n        ArrayList list = new ArrayList();\n\n        if (pairedDevices.size()&gt;0)\n        {\n            for(BluetoothDevice bt : pairedDevices)\n            {\n                list.add(bt.getName() + &quot;\\n&quot; + bt.getAddress()); //Get the device's name and the address\n            }\n        }\n        else\n        {\n            Toast.makeText(getApplicationContext(), &quot;No Paired Bluetooth Devices Found.&quot;, Toast.LENGTH_LONG).show();\n        }\n\n        final ArrayAdapter adapter = new ArrayAdapter(this,android.R.layout.simple_list_item_1, list);\n        devicelist.setAdapter(adapter);\n        devicelist.setOnItemClickListener(myListClickListener); //Method called when the device from the list is clicked\n\n    }\n\n    private AdapterView.OnItemClickListener myListClickListener = new AdapterView.OnItemClickListener()\n    {\n        public void onItemClick (AdapterView&lt;?&gt; av, View v, int arg2, long arg3)\n        {\n            // Get the device MAC address, the last 17 chars in the View\n            String info = ((TextView) v).getText().toString();\n            String address = info.substring(info.length() - 17);\n\n            // Make an intent to start next activity.\n            Intent i = new Intent(SelectBluetoothDeviceActivity.this, MainActivity.class);\n\n            //Change the activity.\n            i.putExtra(EXTRA_ADDRESS, address); //this will be received at ledControl (class) Activity\n            startActivity(i);\n        }\n    };\n\n\n\n\n}    \n</code></pre>\n<p>`</p>\n<p>The 2nd activity :</p>\n<p>`</p>\n<pre><code> public class MainActivity extends AppCompatActivity {\n    // Button btnOn, btnOff, btnDis;\n    Button On, Off, Discnt, Abt;\n    String address = null;\n    private ProgressDialog progress;\n    BluetoothAdapter myBluetooth = null;\n    BluetoothSocket btSocket = null;\n    private boolean isBtConnected = false;\n    //SPP UUID. Look for it\n    static final UUID myUUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        Intent newint = getIntent();\n        address = newint.getStringExtra(SelectBluetoothDeviceActivity.EXTRA_ADDRESS); //receive the address of the bluetooth device\n\n        setContentView(R.layout.activity_main);\n\n        Handler gtx = new Handler();\n        gtx.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n\n\n                Intent returnToFreK = new Intent(MainActivity.this, test.class);\n                returnToFreK.putExtra(&quot;dawn&quot;,address);\n                startActivity(returnToFreK);\n\n            }\n        }, 10000);\n\n\n        On = (Button)findViewById(R.id.on_btn);\n        Off = (Button)findViewById(R.id.off_btn);\n        Discnt = (Button)findViewById(R.id.dis_btn);\n        Abt = (Button)findViewById(R.id.abt_btn);\n\n        new ConnectBT().execute(); //Call the class to connect\n\n        //commands to be sent to bluetooth\n        On.setOnClickListener(new View.OnClickListener()\n        {\n            @Override\n            public void onClick(View v)\n            {\n                turnOnLed();      //method to turn on\n            }\n        });\n\n        Off.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v)\n            {\n                turnOffLed();   //method to turn off\n            }\n        });\n\n        Discnt.setOnClickListener(new View.OnClickListener()\n        {\n            @Override\n            public void onClick(View v)\n            {\n                Disconnect(); //close connection\n            }\n        });\n\n\n    }\n\n    private void Disconnect()\n    {\n        if (btSocket!=null) //If the btSocket is busy\n        {\n            try\n            {\n                btSocket.close(); //close connection\n            }\n            catch (IOException e)\n            { msg(&quot;Error&quot;);}\n        }\n        finish(); //return to the first layout\n\n    }\n\n    private void turnOffLed()\n    {\n        if (btSocket!=null)\n        {\n            try\n            {\n                btSocket.getOutputStream().write(&quot;0&quot;.toString().getBytes());\n            }\n            catch (IOException e)\n            {\n                msg(&quot;Error&quot;);\n            }\n        }\n    }\n\n    private void turnOnLed()\n    {\n        if (btSocket!=null)\n        {\n            try\n            {\n                btSocket.getOutputStream().write(&quot;1&quot;.toString().getBytes());\n            }\n            catch (IOException e)\n            {\n                msg(&quot;Error&quot;);\n            }\n        }\n    }\n\n    // fast way to call Toast\n    private void msg(String s)\n    {\n        Toast.makeText(getApplicationContext(),s,Toast.LENGTH_LONG).show();\n    }\n\n\n\n\n\n\n    private class ConnectBT extends AsyncTask&lt;Void, Void, Void&gt;  // UI thread\n    {\n        private boolean ConnectSuccess = true; //if it's here, it's almost connected\n\n        @Override\n        protected void onPreExecute()\n        {\n            progress = ProgressDialog.show(MainActivity.this, &quot;Connecting...&quot;, &quot;Please wait!!!&quot;);  //show a progress dialog\n        }\n\n        @Override\n        protected Void doInBackground(Void... devices) //while the progress dialog is shown, the connection is done in background\n        {\n            try\n            {\n                if (btSocket == null || !isBtConnected)\n                {\n                    myBluetooth = BluetoothAdapter.getDefaultAdapter();//get the mobile bluetooth device\n                    BluetoothDevice dispositivo = myBluetooth.getRemoteDevice(address);//connects to the device's address and checks if it's available\n                    btSocket = dispositivo.createInsecureRfcommSocketToServiceRecord(myUUID);//create a RFCOMM (SPP) connection\n                    BluetoothAdapter.getDefaultAdapter().cancelDiscovery();\n                    btSocket.connect();//start connection\n                }\n            }\n            catch (IOException e)\n            {\n                ConnectSuccess = false;//if the try failed, you can check the exception here\n            }\n            return null;\n        }\n        @Override\n        protected void onPostExecute(Void result) //after the doInBackground, it checks if everything went fine\n        {\n            super.onPostExecute(result);\n\n            if (!ConnectSuccess)\n            {\n                msg(&quot;Connection Failed. Is it a SPP Bluetooth? Try again.&quot;);\n                finish();\n            }\n            else\n            {\n                msg(&quot;Connected.&quot;);\n                isBtConnected = true;\n            }\n            progress.dismiss();\n        }\n    }\n}    \n</code></pre>\n<p>`</p>\n<p>the 3rd activity :</p>\n<p>`</p>\n<pre><code>  public class test extends AppCompatActivity {\n\n    Button On, Off, Discnt, Abt;\n    String address = null;\n    private ProgressDialog progress;\n    BluetoothAdapter myBluetooth = null;\n    BluetoothSocket btSocket = null;\n    private boolean isBtConnected = false;\n    //SPP UUID. Look for it\n    static final UUID myUUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        Intent newint = getIntent();\n        address = newint.getStringExtra(&quot;dawn&quot;); //receive the address of the bluetooth device\n\n        setContentView(R.layout.activity_test);\n\n\n        On = (Button)findViewById(R.id.on_btn);\n        Off = (Button)findViewById(R.id.off_btn);\n        Discnt = (Button)findViewById(R.id.dis_btn);\n        Abt = (Button)findViewById(R.id.abt_btn);\n\n        new test.ConnectBT().execute(); //Call the class to connect\n\n        //commands to be sent to bluetooth\n        On.setOnClickListener(new View.OnClickListener()\n        {\n            @Override\n            public void onClick(View v)\n            {\n                turnOnLed();      //method to turn on\n            }\n        });\n\n        Off.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v)\n            {\n                turnOffLed();   //method to turn off\n            }\n        });\n\n        Discnt.setOnClickListener(new View.OnClickListener()\n        {\n            @Override\n            public void onClick(View v)\n            {\n                Disconnect(); //close connection\n            }\n        });\n\n\n    }\n\n    private void Disconnect()\n    {\n        if (btSocket!=null) //If the btSocket is busy\n        {\n            try\n            {\n                btSocket.close(); //close connection\n            }\n            catch (IOException e)\n            { msg(&quot;Error&quot;);}\n        }\n        finish(); //return to the first layout\n\n    }\n\n    private void turnOffLed()\n    {\n        if (btSocket!=null)\n        {\n            try\n            {\n                btSocket.getOutputStream().write(&quot;0&quot;.toString().getBytes());\n            }\n            catch (IOException e)\n            {\n                msg(&quot;Error&quot;);\n            }\n        }\n    }\n\n    private void turnOnLed()\n    {\n        if (btSocket!=null)\n        {\n            try\n            {\n                btSocket.getOutputStream().write(&quot;1&quot;.toString().getBytes());\n            }\n            catch (IOException e)\n            {\n                msg(&quot;Error&quot;);\n            }\n        }\n    }\n\n    // fast way to call Toast\n    private void msg(String s)\n    {\n        Toast.makeText(getApplicationContext(),s,Toast.LENGTH_LONG).show();\n    }\n\n\n\n\n\n\n    private class ConnectBT extends AsyncTask&lt;Void, Void, Void&gt;  // UI thread\n    {\n        private boolean ConnectSuccess = true; //if it's here, it's almost connected\n\n        @Override\n        protected void onPreExecute()\n        {\n            progress = ProgressDialog.show(test.this, &quot;Connecting...&quot;, &quot;Please wait!!!&quot;);  //show a progress dialog\n        }\n\n        @Override\n        protected Void doInBackground(Void... devices) //while the progress dialog is shown, the connection is done in background\n        {\n            try\n            {\n                if (btSocket == null || !isBtConnected)\n                {\n                    myBluetooth = BluetoothAdapter.getDefaultAdapter();//get the mobile bluetooth device\n                    BluetoothDevice dispositivo = myBluetooth.getRemoteDevice(address);//connects to the device's address and checks if it's available\n                    btSocket = dispositivo.createInsecureRfcommSocketToServiceRecord(myUUID);//create a RFCOMM (SPP) connection\n                    BluetoothAdapter.getDefaultAdapter().cancelDiscovery();\n                    btSocket.connect();//start connection\n                }\n            }\n            catch (IOException e)\n            {\n                ConnectSuccess = false;//if the try failed, you can check the exception here\n            }\n            return null;\n        }\n        @Override\n        protected void onPostExecute(Void result) //after the doInBackground, it checks if everything went fine\n        {\n            super.onPostExecute(result);\n\n            if (!ConnectSuccess)\n            {\n                msg(&quot;Connection Failed. Is it a SPP Bluetooth? Try again.&quot;);\n                finish();\n            }\n            else\n            {\n                msg(&quot;Connected.&quot;);\n                isBtConnected = true;\n            }\n            progress.dismiss();\n        }\n    }\n}    \n</code></pre>\n<p>`</p>\n<p>I tried to change the &quot;     String address = null; &quot; in the 3rd application to the manual Mac address i got from device list, but the error remains.</p>\n"},{"tags":["java","byte","converters"],"comments":[{"owner":{"display_name":"user1849298"},"score":0,"creation_date":1414246398,"post_id":26563272,"comment_id":41746406,"body_markdown":"You should&#39;ve edited the post, not put the example in the comments","body":"You should&#39;ve edited the post, not put the example in the comments"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1414246524,"creation_date":1414246094,"answer_id":26563288,"question_id":26563272,"body_markdown":"The number of bytes divided by 1024 is the number of kilobytes. The number of kilobytes divided by 1024 is the number of megabytes. That divided by 1024 is the number of gigabytes. Something like,\r\n\r\n    long bytes = 3434901120028l;\r\n\tlong gb = bytes / (1024 * 1024 * 1024);\r\n\tbytes -= gb * 1024 * 1024 * 1024;\r\n\tlong mb = bytes / (1024 * 1024);\r\n\tbytes -= mb * 1024 * 1024;\r\n\r\n\tlong kb = bytes / 1024;\r\n\tbytes -= kb * 1024;\r\n\r\n\tif (gb &gt; 0) {\r\n\t\tSystem.out.printf(&quot;%d gigabytes &quot;, gb);\r\n\t}\r\n\tif (mb &gt; 0) {\r\n\t\tSystem.out.printf(&quot;%d megabytes &quot;, mb);\r\n\t}\r\n\tif (kb &gt; 0) {\r\n\t\tSystem.out.printf(&quot;%d kilobytes &quot;, kb);\r\n\t}\r\n\tif (bytes &gt; 0) {\r\n\t\tSystem.out.printf(&quot;%d bytes &quot;, bytes);\r\n\t}\r\n\r\nOutput is\r\n\r\n    3199 gigabytes 1001 kilobytes 28 bytes \r\n","title":"The amount of gb mb kb and bytes in X bytes, java","body":"<p>The number of bytes divided by 1024 is the number of kilobytes. The number of kilobytes divided by 1024 is the number of megabytes. That divided by 1024 is the number of gigabytes. Something like,</p>\n\n<pre><code>long bytes = 3434901120028l;\nlong gb = bytes / (1024 * 1024 * 1024);\nbytes -= gb * 1024 * 1024 * 1024;\nlong mb = bytes / (1024 * 1024);\nbytes -= mb * 1024 * 1024;\n\nlong kb = bytes / 1024;\nbytes -= kb * 1024;\n\nif (gb &gt; 0) {\n    System.out.printf(\"%d gigabytes \", gb);\n}\nif (mb &gt; 0) {\n    System.out.printf(\"%d megabytes \", mb);\n}\nif (kb &gt; 0) {\n    System.out.printf(\"%d kilobytes \", kb);\n}\nif (bytes &gt; 0) {\n    System.out.printf(\"%d bytes \", bytes);\n}\n</code></pre>\n\n<p>Output is</p>\n\n<pre><code>3199 gigabytes 1001 kilobytes 28 bytes \n</code></pre>\n"}],"owner":{"account_id":5165468,"reputation":13,"user_id":4135625,"display_name":"fabio lapa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1771,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":26563288,"answer_count":1,"score":0,"last_activity_date":1683634867,"creation_date":1414246010,"question_id":26563272,"body_markdown":"Ok so I have this problem for my pg class, where I&#39;m supposed to take a number(which represents a number of bytes) as input and convert it to gigabytes, megabytes, kilobytes and bytes. Did a little research and couldn&#39;t find a way to solve this. I&#39;m using Java by the way. Thanks in advice!\r\n\r\n    Here is an example:\r\n     Input  : 3434901120028\r\n     Output : 3199 GB + 1001 KB + 28 bytes\r\n\r\n","title":"The amount of gb mb kb and bytes in X bytes, java","body":"<p>Ok so I have this problem for my pg class, where I'm supposed to take a number(which represents a number of bytes) as input and convert it to gigabytes, megabytes, kilobytes and bytes. Did a little research and couldn't find a way to solve this. I'm using Java by the way. Thanks in advice!</p>\n<pre><code>Here is an example:\n Input  : 3434901120028\n Output : 3199 GB + 1001 KB + 28 bytes\n</code></pre>\n"},{"tags":["java","arrays","string","printing"],"comments":[{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"Xoc  epe&#250;pa "},"score":5,"creation_date":1487879157,"post_id":42424751,"comment_id":71994986,"body_markdown":"working fine by me http://ideone.com/xhNVpc","body":"working fine by me <a href=\"http://ideone.com/xhNVpc\" rel=\"nofollow noreferrer\">ideone.com/xhNVpc</a>"},{"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"score":2,"creation_date":1487879700,"post_id":42424751,"comment_id":71995311,"body_markdown":"Are you sure it is not writing all of them? Can your screen display all of the lnies at once? Perhaps the first items are rolled off the top of your screen and you only see the bottom ones","body":"Are you sure it is not writing all of them? Can your screen display all of the lnies at once? Perhaps the first items are rolled off the top of your screen and you only see the bottom ones"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1487881390,"post_id":42424751,"comment_id":71996252,"body_markdown":"Are you running your program in an IDE? Which one (Eclipse, IntelliJ IDEA or some other)? Or from a command prompt (DOS prompt or shell)?","body":"Are you running your program in an IDE? Which one (Eclipse, IntelliJ IDEA or some other)? Or from a command prompt (DOS prompt or shell)?"},{"owner":{"account_id":26023,"reputation":1592,"user_id":67417,"accept_rate":88,"display_name":"Dave C"},"score":1,"creation_date":1487882756,"post_id":42424751,"comment_id":71997036,"body_markdown":"Perhaps set a breakpoint in your IDE in the loop and watch it. It certainly looks ok. As others have said, perhaps it&#39;s writing everything, but you&#39;re not able to see it all.","body":"Perhaps set a breakpoint in your IDE in the loop and watch it. It certainly looks ok. As others have said, perhaps it&#39;s writing everything, but you&#39;re not able to see it all."}],"answers":[{"tags":[],"owner":{"account_id":13964622,"reputation":49,"user_id":10084790,"display_name":"Shmuel Greenberger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683634611,"creation_date":1683634611,"answer_id":76209271,"question_id":42424751,"body_markdown":"Perhaps you should try to print the results to a file and not to the console.\r\nThis way you can ascertain whether the problem is in the algorithm or just your console (as mentioned in the comments).","title":"Java Only half of the elements in my String Array are printed","body":"<p>Perhaps you should try to print the results to a file and not to the console.\nThis way you can ascertain whether the problem is in the algorithm or just your console (as mentioned in the comments).</p>\n"}],"owner":{"account_id":10319962,"reputation":11,"user_id":7613175,"display_name":"Power Michael"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683634611,"creation_date":1487878940,"question_id":42424751,"body_markdown":"I am trying to print out every element of my Array of Strings called `Resources` along with a statement before it, and an integer after it.\r\n\r\nIt should be printed out like this:\r\n\r\n&gt; gather.rate dispenser Wood 10\r\n\r\nFirst off, here is my code: \r\n\r\n    private String[] Resources =  { &quot;Explosives&quot;, &quot;Animal Fat&quot;, &quot;Cooked Fish&quot;,\r\n            &quot;Raw Fish&quot;, &quot;Low Grade Fuel&quot;, &quot;Granola Bar&quot;, &quot;Gun Powder&quot;, &quot;Hemp Clone&quot;, &quot;Hemp Seed&quot;,\r\n            &quot;High Quality Metal Ore&quot;, &quot;Burned Human Meat&quot;, &quot;Cooked Human Meat&quot;, &quot;Raw Human Meat&quot;,\r\n            &quot;Spoiled Human Meat&quot;, &quot;Leather&quot;, &quot;Burnt Bear Meat&quot;, &quot;Bear Meat Cooked&quot;, &quot;Bear Meat&quot;,\r\n            &quot;Burned Pork&quot;, &quot;Cooked Pork&quot;, &quot;Pork&quot;, &quot;Burned Wolf Meat&quot;, &quot;Cooked Wolf Meat&quot;, \r\n            &quot;Raw Wolf Meat&quot;, &quot;Spoiled Wolf Meat&quot;, &quot;Metal Fragments&quot;, &quot;Metal Ore&quot;,&quot;High Quality Metal&quot;,\r\n            &quot;Minnows&quot;, &quot;Mushroom&quot;, &quot;Paper&quot;, &quot;Pumpkin&quot;, &quot;Pumpkin Plant Clone&quot;, &quot;Pumpkin Seed&quot;,\r\n            &quot;Research Paper&quot;, &quot;Salt Water&quot;, &quot;Human Skull&quot;, &quot;Wolf Skull&quot;, &quot;Small Trout&quot;, &quot;Small Water Bottle&quot;,\r\n            &quot;Stones&quot;, &quot;Sulfur&quot;, &quot;Sulfur Ore&quot;, &quot;Targeting Computer&quot;, &quot;Water&quot;, &quot;Water Jug&quot;, &quot;Wood&quot;, &quot;Apple&quot;, \r\n            &quot;Rotten Apple&quot;, &quot;Battery - Small&quot;, &quot;Black Raspberries&quot;, &quot;Blueberries&quot;,&quot;Bone Fragments&quot;, \r\n            &quot;Cactus Flesh&quot;, &quot;Can of Beans&quot;, &quot;Empty Can Of Beans&quot;, &quot;Can of Tuna&quot;, &quot;Candy Cane&quot;, &quot;CCTV Camera&quot;, \r\n            &quot;Charcoal&quot;, &quot;Burned Chicken&quot;, &quot;Cooked Chicken&quot;, &quot;Raw Chicken Breast&quot;, &quot;Spoiled Chicken&quot;, &quot;Chocolate Bar&quot;,\r\n            &quot;Cloth&quot;, &quot;Coal :(&quot;, &quot;Corn&quot;, &quot;Corn Clone&quot;, &quot;Corn Seed&quot;, &quot;Crude Oil&quot; };\r\n\r\n    private int multiplier;\r\n\r\n    public Miserum(int value)\r\n    {\r\n        // initialise instance variables\r\n        multiplier = value;\r\n    }\r\n\r\n    public void DoThis(){\r\n        String result = &quot; &quot;;\r\n        for(int x = 0; x &lt; Resources.length; x++){\r\n            result = &quot;gather.rate dispenser &quot; + Resources[x] + &quot; &quot; + multiplier;\r\n            System.out.println(result);\r\n        }\r\n    }\r\n\r\nSo there are about 71 elements in my `String[] Resources`. \r\n\r\nWhen I run the `DoThis()` method, it prints about 46 elements and it doesn&#39;t even start at the beginning, it starts at\r\n\r\n&gt; Spoiled Wolf Meat.\r\n\r\nWhy might this be? It completely spaces over the first elements and starts printing from the middle.\r\n\r\nI don&#39;t think that is what my code is saying to do, but clearly there&#39;s something wrong.\r\n\r\nIF you have a better way to do this/fix to my solution, please spill the beans.\r\n\r\n*And I am using the BlueJ IDE","title":"Java Only half of the elements in my String Array are printed","body":"<p>I am trying to print out every element of my Array of Strings called <code>Resources</code> along with a statement before it, and an integer after it.</p>\n\n<p>It should be printed out like this:</p>\n\n<blockquote>\n  <p>gather.rate dispenser Wood 10</p>\n</blockquote>\n\n<p>First off, here is my code: </p>\n\n<pre><code>private String[] Resources =  { \"Explosives\", \"Animal Fat\", \"Cooked Fish\",\n        \"Raw Fish\", \"Low Grade Fuel\", \"Granola Bar\", \"Gun Powder\", \"Hemp Clone\", \"Hemp Seed\",\n        \"High Quality Metal Ore\", \"Burned Human Meat\", \"Cooked Human Meat\", \"Raw Human Meat\",\n        \"Spoiled Human Meat\", \"Leather\", \"Burnt Bear Meat\", \"Bear Meat Cooked\", \"Bear Meat\",\n        \"Burned Pork\", \"Cooked Pork\", \"Pork\", \"Burned Wolf Meat\", \"Cooked Wolf Meat\", \n        \"Raw Wolf Meat\", \"Spoiled Wolf Meat\", \"Metal Fragments\", \"Metal Ore\",\"High Quality Metal\",\n        \"Minnows\", \"Mushroom\", \"Paper\", \"Pumpkin\", \"Pumpkin Plant Clone\", \"Pumpkin Seed\",\n        \"Research Paper\", \"Salt Water\", \"Human Skull\", \"Wolf Skull\", \"Small Trout\", \"Small Water Bottle\",\n        \"Stones\", \"Sulfur\", \"Sulfur Ore\", \"Targeting Computer\", \"Water\", \"Water Jug\", \"Wood\", \"Apple\", \n        \"Rotten Apple\", \"Battery - Small\", \"Black Raspberries\", \"Blueberries\",\"Bone Fragments\", \n        \"Cactus Flesh\", \"Can of Beans\", \"Empty Can Of Beans\", \"Can of Tuna\", \"Candy Cane\", \"CCTV Camera\", \n        \"Charcoal\", \"Burned Chicken\", \"Cooked Chicken\", \"Raw Chicken Breast\", \"Spoiled Chicken\", \"Chocolate Bar\",\n        \"Cloth\", \"Coal :(\", \"Corn\", \"Corn Clone\", \"Corn Seed\", \"Crude Oil\" };\n\nprivate int multiplier;\n\npublic Miserum(int value)\n{\n    // initialise instance variables\n    multiplier = value;\n}\n\npublic void DoThis(){\n    String result = \" \";\n    for(int x = 0; x &lt; Resources.length; x++){\n        result = \"gather.rate dispenser \" + Resources[x] + \" \" + multiplier;\n        System.out.println(result);\n    }\n}\n</code></pre>\n\n<p>So there are about 71 elements in my <code>String[] Resources</code>. </p>\n\n<p>When I run the <code>DoThis()</code> method, it prints about 46 elements and it doesn't even start at the beginning, it starts at</p>\n\n<blockquote>\n  <p>Spoiled Wolf Meat.</p>\n</blockquote>\n\n<p>Why might this be? It completely spaces over the first elements and starts printing from the middle.</p>\n\n<p>I don't think that is what my code is saying to do, but clearly there's something wrong.</p>\n\n<p>IF you have a better way to do this/fix to my solution, please spill the beans.</p>\n\n<p>*And I am using the BlueJ IDE</p>\n"},{"tags":["java","android","layout","android-linearlayout"],"comments":[{"owner":{"account_id":5204362,"reputation":1292,"user_id":4162800,"accept_rate":65,"display_name":"DJphy"},"score":0,"creation_date":1458045661,"post_id":36009731,"comment_id":59674526,"body_markdown":"stack trace please","body":"stack trace please"}],"answers":[{"tags":[],"owner":{"account_id":236188,"reputation":15922,"user_id":503508,"accept_rate":81,"display_name":"Knossos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683633569,"creation_date":1458040856,"answer_id":36009820,"question_id":36009731,"body_markdown":"Instead of using `setLayoutParams`, use the `LayoutParams` in the `addView(View v, LayoutParams params)` method of your `LinearLayout`:\r\n\r\n    TextView nameView = new TextView(this);\r\n    nameView.setText(contact.getName());\r\n    contactInfoWrapper.addView(nameView, new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT));\r\n\r\n","title":"Unable to correctly use .setLayoutParams(...) - Android","body":"<p>Instead of using <code>setLayoutParams</code>, use the <code>LayoutParams</code> in the <code>addView(View v, LayoutParams params)</code> method of your <code>LinearLayout</code>:</p>\n<pre><code>TextView nameView = new TextView(this);\nnameView.setText(contact.getName());\ncontactInfoWrapper.addView(nameView, new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8043749,"reputation":25,"user_id":6064555,"display_name":"Yadu CR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683633539,"creation_date":1458042450,"answer_id":36010463,"question_id":36009731,"body_markdown":"Change the line  \r\n\r\n    numberView.setText(contact.getPhoneNumber());\r\n\r\nto this: \r\n\r\n    numberView.setText(String.valueOf(contact.getPhoneNumber()));\r\n","title":"Unable to correctly use .setLayoutParams(...) - Android","body":"<p>Change the line</p>\n<pre><code>numberView.setText(contact.getPhoneNumber());\n</code></pre>\n<p>to this:</p>\n<pre><code>numberView.setText(String.valueOf(contact.getPhoneNumber()));\n</code></pre>\n"}],"owner":{"account_id":8045682,"reputation":11,"user_id":6065979,"display_name":"Bruno"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683634601,"creation_date":1458040605,"question_id":36009731,"body_markdown":"I wanted to try using a database on Android, so I made a small app that allows you to add contacts to the database and then it displays them.\r\n\r\nI have been able to display contacts (from the database) if I create the layout in XML and then edit the text field in code. But I wanted to build the layouts in code so I can add as many contacts as I want.\r\n\r\nThe following code is the method I use to create the layout and the app crashes whenever I make it run this code. My guess is that there is a problem with the parameters. If only type LayoutParams.MatchContent, it asks me to import and it gives me many options, and thats why it says LinearLayout.LayoutParams...;\r\n\r\nI add the resulting layout to a LinearLayout.\r\n\r\n```lang-java\r\nprivate LinearLayout createContactView (Contact contact) {\r\n    LinearLayout contactInfoWrapper = new LinearLayout(this);\r\n    contactInfoWrapper.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT));\r\n    contactInfoWrapper.setOrientation(LinearLayout.VERTICAL);\r\n\r\n    TextView nameView = new TextView(this);\r\n    nameView.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT));\r\n    nameView.setText(contact.getName());\r\n    contactInfoWrapper.addView(nameView);\r\n\r\n    TextView numberView = new TextView(this);\r\n    numberView.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT));\r\n    numberView.setText(contact.getPhoneNumber());\r\n    contactInfoWrapper.addView(numberView);\r\n\r\n    return contactInfoWrapper;\r\n}\r\n```\r\n\r\n","title":"Unable to correctly use .setLayoutParams(...) - Android","body":"<p>I wanted to try using a database on Android, so I made a small app that allows you to add contacts to the database and then it displays them.</p>\n<p>I have been able to display contacts (from the database) if I create the layout in XML and then edit the text field in code. But I wanted to build the layouts in code so I can add as many contacts as I want.</p>\n<p>The following code is the method I use to create the layout and the app crashes whenever I make it run this code. My guess is that there is a problem with the parameters. If only type LayoutParams.MatchContent, it asks me to import and it gives me many options, and thats why it says LinearLayout.LayoutParams...;</p>\n<p>I add the resulting layout to a LinearLayout.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private LinearLayout createContactView (Contact contact) {\n    LinearLayout contactInfoWrapper = new LinearLayout(this);\n    contactInfoWrapper.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT));\n    contactInfoWrapper.setOrientation(LinearLayout.VERTICAL);\n\n    TextView nameView = new TextView(this);\n    nameView.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT));\n    nameView.setText(contact.getName());\n    contactInfoWrapper.addView(nameView);\n\n    TextView numberView = new TextView(this);\n    numberView.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT));\n    numberView.setText(contact.getPhoneNumber());\n    contactInfoWrapper.addView(numberView);\n\n    return contactInfoWrapper;\n}\n</code></pre>\n"},{"tags":["java","soap","jaxb","unmarshalling"],"answers":[{"tags":[],"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642777339,"creation_date":1642777339,"answer_id":70803358,"question_id":70802106,"body_markdown":"I had to use an XMLStreamReader as answered [here][1] but instead of file I also used an ```InputStream```:\r\n\r\n         SOAPBody soapBody = soapResponse.getSOAPBody();\r\n         XMLInputFactory xmlInputFactory = XMLInputFactory.newFactory();\r\n         Node soapBodyChild = soapBody.getFirstChild();\r\n         String bspQuittungAsXmlString = soapBodyChild.getFirstChild().getFirstChild().getNodeValue();\r\n         byte[] bspQuittungAsByteArray = bspQuittungAsXmlString.getBytes(StandardCharsets.UTF_8);\r\n         ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(bspQuittungAsByteArray);\r\n         InputStreamReader inputStreamReader = new InputStreamReader(byteArrayInputStream);\r\n         XMLStreamReader xmlStreamReader = xmlInputFactory.createXMLStreamReader(inputStreamReader);\r\n         JAXBContext jaxbContext = JAXBContext.newInstance(BspQuittung.class);\r\n         Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n         BspQuittung bspQuittung = jaxbUnmarshaller.unmarshal(xmlStreamReader, BspQuittung.class).getValue();\r\n         xmlStreamReader.close();\r\n         inputStreamReader.close();\r\n         byteArrayInputStream.close();\r\n\r\nAfter this the variable ```bspQuittung``` had the right values.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11465653/how-to-unmarshall-soap-response-using-jaxb-if-namespace-declaration-is-on-soap-e","title":"Unmarshal SOAP response with CDATA in its body using JAXB","body":"<p>I had to use an XMLStreamReader as answered <a href=\"https://stackoverflow.com/questions/11465653/how-to-unmarshall-soap-response-using-jaxb-if-namespace-declaration-is-on-soap-e\">here</a> but instead of file I also used an <code>InputStream</code>:</p>\n<pre><code>     SOAPBody soapBody = soapResponse.getSOAPBody();\n     XMLInputFactory xmlInputFactory = XMLInputFactory.newFactory();\n     Node soapBodyChild = soapBody.getFirstChild();\n     String bspQuittungAsXmlString = soapBodyChild.getFirstChild().getFirstChild().getNodeValue();\n     byte[] bspQuittungAsByteArray = bspQuittungAsXmlString.getBytes(StandardCharsets.UTF_8);\n     ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(bspQuittungAsByteArray);\n     InputStreamReader inputStreamReader = new InputStreamReader(byteArrayInputStream);\n     XMLStreamReader xmlStreamReader = xmlInputFactory.createXMLStreamReader(inputStreamReader);\n     JAXBContext jaxbContext = JAXBContext.newInstance(BspQuittung.class);\n     Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n     BspQuittung bspQuittung = jaxbUnmarshaller.unmarshal(xmlStreamReader, BspQuittung.class).getValue();\n     xmlStreamReader.close();\n     inputStreamReader.close();\n     byteArrayInputStream.close();\n</code></pre>\n<p>After this the variable <code>bspQuittung</code> had the right values.</p>\n"}],"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70803358,"answer_count":1,"score":0,"last_activity_date":1683634334,"creation_date":1642771946,"question_id":70802106,"body_markdown":"I am trying to unmarshal a SOAP response using JAXB but without success. What I have so far are the model classes generated using an xsd and the following code which should unmarshal the response:\r\n\r\n    SOAPBody soapBody = soapResponse.getSOAPBody();\r\n    // Next line should get me to bspQuittung element from response\r\n    DOMSource domSource = new DOMSource(soapBody.getFirstChild().getFirstChild());\r\n    JAXBContext jaxbContext = JAXBContext.newInstance(BspQuittung.class);\r\n    Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n    BspQuittung bspQuittung = jaxbUnmarshaller.unmarshal(domSource, BspQuittung.class).getValue();\r\nThen I try to access the value of the ```&lt;AnnahmeErfolgreich&gt;``` element but instead of being ```true``` like in the response the object which unmarshaller gives me has the value for it being ```false```.\r\n\r\nWhat am I missing? Trying to get deeper by calling getFirstChild() again results in an ```Unexpected node type: com.sun.xml.messaging.saaj.soap.impl.SOAPTextImpl``` exception.\r\n\r\nBelow is the response itself:\r\n\r\n    &lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n       &lt;SOAP-ENV:Header/&gt;\r\n       &lt;SOAP-ENV:Body&gt;\r\n          &lt;ns2:sendBspNachrichtNativeOutput xmlns:ns2=&quot;somevalue&quot;&gt;\r\n             &lt;bspQuittung&gt;&lt;![CDATA[&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;BspQuittung version=&quot;1.5&quot; fassung=&quot;2020-03-15&quot; xmlns=&quot;somevalue&quot;&gt;\r\n        &lt;AnnahmeErfolgreich&gt;true&lt;/AnnahmeErfolgreich&gt;\r\n        &lt;ErgebnisStatus&gt;\r\n            &lt;Tabelle&gt;someInt&lt;/Tabelle&gt;\r\n            &lt;Schluessel&gt;someInt&lt;/Schluessel&gt;\r\n        &lt;/ErgebnisStatus&gt;\r\n    &lt;/BspQuittung&gt;]]&gt;&lt;/bspQuittung&gt;\r\n          &lt;/ns2:sendBspNachrichtNativeOutput&gt;\r\n       &lt;/SOAP-ENV:Body&gt;\r\n    &lt;/SOAP-ENV:Envelope&gt;\r\nHow can I change the code to get the unmarshaller work as expected? \r\n","title":"Unmarshal SOAP response with CDATA in its body using JAXB","body":"<p>I am trying to unmarshal a SOAP response using JAXB but without success. What I have so far are the model classes generated using an xsd and the following code which should unmarshal the response:</p>\n<pre><code>SOAPBody soapBody = soapResponse.getSOAPBody();\n// Next line should get me to bspQuittung element from response\nDOMSource domSource = new DOMSource(soapBody.getFirstChild().getFirstChild());\nJAXBContext jaxbContext = JAXBContext.newInstance(BspQuittung.class);\nUnmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\nBspQuittung bspQuittung = jaxbUnmarshaller.unmarshal(domSource, BspQuittung.class).getValue();\n</code></pre>\n<p>Then I try to access the value of the <code>&lt;AnnahmeErfolgreich&gt;</code> element but instead of being <code>true</code> like in the response the object which unmarshaller gives me has the value for it being <code>false</code>.</p>\n<p>What am I missing? Trying to get deeper by calling getFirstChild() again results in an <code>Unexpected node type: com.sun.xml.messaging.saaj.soap.impl.SOAPTextImpl</code> exception.</p>\n<p>Below is the response itself:</p>\n<pre><code>&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n   &lt;SOAP-ENV:Header/&gt;\n   &lt;SOAP-ENV:Body&gt;\n      &lt;ns2:sendBspNachrichtNativeOutput xmlns:ns2=&quot;somevalue&quot;&gt;\n         &lt;bspQuittung&gt;&lt;![CDATA[&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;BspQuittung version=&quot;1.5&quot; fassung=&quot;2020-03-15&quot; xmlns=&quot;somevalue&quot;&gt;\n    &lt;AnnahmeErfolgreich&gt;true&lt;/AnnahmeErfolgreich&gt;\n    &lt;ErgebnisStatus&gt;\n        &lt;Tabelle&gt;someInt&lt;/Tabelle&gt;\n        &lt;Schluessel&gt;someInt&lt;/Schluessel&gt;\n    &lt;/ErgebnisStatus&gt;\n&lt;/BspQuittung&gt;]]&gt;&lt;/bspQuittung&gt;\n      &lt;/ns2:sendBspNachrichtNativeOutput&gt;\n   &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n<p>How can I change the code to get the unmarshaller work as expected?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4898014,"reputation":7936,"user_id":3946958,"accept_rate":72,"display_name":"Ravindra Kushwaha"},"score":0,"creation_date":1458018457,"post_id":36003060,"comment_id":59658426,"body_markdown":"Why are u not using the LinearLayout in it , use the property of weightSum of linearlayot than it will work","body":"Why are u not using the LinearLayout in it , use the property of weightSum of linearlayot than it will work"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1458018562,"post_id":36003060,"comment_id":59658462,"body_markdown":"Because obviously for such things RelativeLayout is better ... you can&#39;t do this(image on the right, and 3 lines of text) with a single LinearLayout","body":"Because obviously for such things RelativeLayout is better ... you can&#39;t do this(image on the right, and 3 lines of text) with a single LinearLayout"},{"owner":{"account_id":4898014,"reputation":7936,"user_id":3946958,"accept_rate":72,"display_name":"Ravindra Kushwaha"},"score":0,"creation_date":1458018754,"post_id":36003060,"comment_id":59658529,"body_markdown":"@Selvin ...But the LinearLayout approach is better (As i think) ..Use the LinearLayout divide in into two part using weight sum and than in first part it should divide it into 3 parts ..What do you think sir ??","body":"@Selvin ...But the LinearLayout approach is better (As i think) ..Use the LinearLayout divide in into two part using weight sum and than in first part it should divide it into 3 parts ..What do you think sir ??"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":1,"creation_date":1458018856,"post_id":36003060,"comment_id":59658574,"body_markdown":"obviously you are wrong .. multiple LinearLayouts instead single RelativeLayout as ListView items will cause performance problems please read official guides/trainings before writing &quot;what you think&quot; http://developer.android.com/training/improving-layouts/optimizing-layout.html","body":"obviously you are wrong .. multiple LinearLayouts instead single RelativeLayout as ListView items will cause performance problems please read official guides/trainings before writing &quot;what you think&quot; <a href=\"http://developer.android.com/training/improving-layouts/optimizing-layout.html\" rel=\"nofollow noreferrer\">developer.android.com/training/improving-layouts/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4421735,"reputation":585,"user_id":3601456,"accept_rate":50,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683632428,"creation_date":1458018829,"answer_id":36003130,"question_id":36003060,"body_markdown":"You can use an `android:weight=&quot;&quot;` to a child of a relative layout.\r\n\r\n","title":"How to align title, description and URL in an equal space","body":"<p>You can use an <code>android:weight=&quot;&quot;</code> to a child of a relative layout.</p>\n"},{"tags":[],"owner":{"account_id":7972743,"reputation":126,"user_id":6016831,"accept_rate":14,"display_name":"Gvs13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683632478,"creation_date":1458018919,"answer_id":36003144,"question_id":36003060,"body_markdown":"Create a *LinearLayout* for title, description and URL with a vertical orientation and weightsum=3 in Layout and for each of them use width=wrap_content, height=0dp, weight=1.\r\n\r\n\r\n","title":"How to align title, description and URL in an equal space","body":"<p>Create a <em>LinearLayout</em> for title, description and URL with a vertical orientation and weightsum=3 in Layout and for each of them use width=wrap_content, height=0dp, weight=1.</p>\n"},{"tags":[],"owner":{"account_id":6672594,"reputation":5516,"user_id":5148289,"accept_rate":58,"display_name":"V-rund Puro-hit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683632672,"creation_date":1458019133,"answer_id":36003190,"question_id":36003060,"body_markdown":"First remove `android:height` from each `TextView`. In the last `TextView`, you have set `android:layout_marginTop=&quot;50`. Remove it.\r\n\r\n**Tip**: Use `LinearLayout` if you want to show all your views vertically or horizontally. If you want to use `RelativeLayout`, make sure you give margin and padding properly so they look good.\r\n","title":"How to align title, description and URL in an equal space","body":"<p>First remove <code>android:height</code> from each <code>TextView</code>. In the last <code>TextView</code>, you have set <code>android:layout_marginTop=&quot;50</code>. Remove it.</p>\n<p><strong>Tip</strong>: Use <code>LinearLayout</code> if you want to show all your views vertically or horizontally. If you want to use <code>RelativeLayout</code>, make sure you give margin and padding properly so they look good.</p>\n"},{"tags":[],"owner":{"account_id":5811740,"reputation":1909,"user_id":4582558,"accept_rate":50,"display_name":"Divyang Panchal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1683633368,"creation_date":1458019201,"answer_id":36003207,"question_id":36003060,"body_markdown":"Here is your layout,\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/icon&quot;\r\n        android:layout_width=&quot;110dp&quot;\r\n        android:layout_height=&quot;110dp&quot;\r\n        android:layout_alignParentRight=&quot;true&quot;\r\n        android:layout_marginRight=&quot;-10dp&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;110dp&quot;\r\n        android:layout_toLeftOf=&quot;@+id/icon&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:weightSum=&quot;3&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/title&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:fontFamily=&quot;Cabin-Regular&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            android:paddingLeft=&quot;10dp&quot;\r\n            android:text=&quot;Title&quot;\r\n            android:textColor=&quot;#E35B5B&quot;\r\n            android:textSize=&quot;14dp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/desc&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_below=&quot;@+id/title&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:fontFamily=&quot;Cabin-Regular&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            android:paddingLeft=&quot;10dp&quot;\r\n            android:text=&quot;Description&quot;\r\n            android:textColor=&quot;#2D2D2D&quot;\r\n            android:textSize=&quot;16dp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/url_view&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_below=&quot;@+id/title&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            android:paddingLeft=&quot;10dp&quot;\r\n            android:text=&quot;URL&quot;\r\n            android:textColor=&quot;#BDBDBD&quot;\r\n            android:textSize=&quot;10dp&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n","title":"How to align title, description and URL in an equal space","body":"<p>Here is your layout,</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/icon&quot;\n        android:layout_width=&quot;110dp&quot;\n        android:layout_height=&quot;110dp&quot;\n        android:layout_alignParentRight=&quot;true&quot;\n        android:layout_marginRight=&quot;-10dp&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;110dp&quot;\n        android:layout_toLeftOf=&quot;@+id/icon&quot;\n        android:orientation=&quot;vertical&quot;\n        android:weightSum=&quot;3&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/title&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:fontFamily=&quot;Cabin-Regular&quot;\n            android:gravity=&quot;center_vertical&quot;\n            android:paddingLeft=&quot;10dp&quot;\n            android:text=&quot;Title&quot;\n            android:textColor=&quot;#E35B5B&quot;\n            android:textSize=&quot;14dp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/desc&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_below=&quot;@+id/title&quot;\n            android:layout_weight=&quot;1&quot;\n            android:fontFamily=&quot;Cabin-Regular&quot;\n            android:gravity=&quot;center_vertical&quot;\n            android:paddingLeft=&quot;10dp&quot;\n            android:text=&quot;Description&quot;\n            android:textColor=&quot;#2D2D2D&quot;\n            android:textSize=&quot;16dp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/url_view&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_below=&quot;@+id/title&quot;\n            android:layout_weight=&quot;1&quot;\n            android:gravity=&quot;center_vertical&quot;\n            android:paddingLeft=&quot;10dp&quot;\n            android:text=&quot;URL&quot;\n            android:textColor=&quot;#BDBDBD&quot;\n            android:textSize=&quot;10dp&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4729530,"reputation":993,"user_id":3825545,"accept_rate":8,"display_name":"chetan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683633430,"creation_date":1458019976,"answer_id":36003353,"question_id":36003060,"body_markdown":"Use Linear layout as the parent with weightsum and equally distribute weight among the child layouts. Example: If `android:weightsum = &quot;3&quot;` for the parent and then `android:layout_weight = &quot;1&quot;` for each child layout (if you want equal space for each one of the three children).\r\n\r\nPS: dont forget to mention orientation for `LinearLayout`.\r\n\r\n","title":"How to align title, description and URL in an equal space","body":"<p>Use Linear layout as the parent with weightsum and equally distribute weight among the child layouts. Example: If <code>android:weightsum = &quot;3&quot;</code> for the parent and then <code>android:layout_weight = &quot;1&quot;</code> for each child layout (if you want equal space for each one of the three children).</p>\n<p>PS: dont forget to mention orientation for <code>LinearLayout</code>.</p>\n"},{"tags":[],"owner":{"account_id":4028665,"reputation":75,"user_id":3315750,"accept_rate":33,"display_name":"Arvind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683634037,"creation_date":1458020199,"answer_id":36003403,"question_id":36003060,"body_markdown":"Use the same `paddingLeft` for all tests and `layout_below` like below:\r\n\r\n```lang-xml\r\n&lt;TextView\r\n    android:id=&quot;@+id/url_view&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_below=&quot;@+id/desc&quot;\r\n    android:height=&quot;15dp&quot;\r\n    android:paddingRight=&quot;80dp&quot;\r\n    android:paddingLeft=&quot;10dp&quot;\r\n    android:text=&quot;url&quot;\r\n    android:textColor=&quot;#BDBDBD&quot;\r\n    android:textSize=&quot;10dp&quot; /&gt;\r\n```\r\n\r\n","title":"How to align title, description and URL in an equal space","body":"<p>Use the same <code>paddingLeft</code> for all tests and <code>layout_below</code> like below:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;TextView\n    android:id=&quot;@+id/url_view&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_below=&quot;@+id/desc&quot;\n    android:height=&quot;15dp&quot;\n    android:paddingRight=&quot;80dp&quot;\n    android:paddingLeft=&quot;10dp&quot;\n    android:text=&quot;url&quot;\n    android:textColor=&quot;#BDBDBD&quot;\n    android:textSize=&quot;10dp&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8043749,"reputation":25,"user_id":6064555,"display_name":"Yadu CR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683633183,"creation_date":1458021246,"answer_id":36003622,"question_id":36003060,"body_markdown":"Here is the code. Try maximum to use `LinearLayout` instead of `RelativeLayout`. `RelativeLayout` is used in cases where two or more elements have to be overlapped each other. Don&#39;t include every elements in a single layout. Divide your design into different sections, and use LinearLayout for each section and within each section, and include elements belonging to that section.\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    &gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;.25&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        &gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/title&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:textColor=&quot;#E35B5B&quot;\r\n            android:fontFamily=&quot;Cabin-Regular&quot;\r\n            android:textSize=&quot;14dp&quot;\r\n            android:layout_weight=&quot;0.33&quot;\r\n            android:singleLine=&quot;true&quot;\r\n            android:ellipsize=&quot;end&quot;\r\n            android:gravity=&quot;center|left&quot;\r\n            android:paddingLeft=&quot;10dp&quot;\r\n            android:text=&quot;Google&quot;\r\n            /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/desc&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:textColor=&quot;#2D2D2D&quot;\r\n            android:fontFamily=&quot;Cabin-Regular&quot;\r\n            android:textSize=&quot;16dp&quot;\r\n            android:layout_weight=&quot;0.33&quot;\r\n            android:singleLine=&quot;true&quot;\r\n            android:ellipsize=&quot;end&quot;\r\n            android:gravity=&quot;center|left&quot;\r\n            android:paddingLeft=&quot;10dp&quot;\r\n            android:text=&quot;Google is a Search engine&quot;\r\n            /&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/url_view&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_below=&quot;@+id/title&quot;\r\n            android:textColor=&quot;#BDBDBD&quot;\r\n            android:textSize=&quot;10dp&quot;\r\n            android:layout_weight=&quot;0.33&quot;\r\n            android:singleLine=&quot;true&quot;\r\n            android:ellipsize=&quot;end&quot;\r\n            android:gravity=&quot;center|left&quot;\r\n            android:paddingLeft=&quot;10dp&quot;\r\n            android:text=&quot;http://www.google.com&quot;\r\n            /&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;110dp&quot;\r\n        android:layout_height=&quot;110dp&quot;\r\n\r\n        &gt;\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/icon&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n\r\n            /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n","title":"How to align title, description and URL in an equal space","body":"<p>Here is the code. Try maximum to use <code>LinearLayout</code> instead of <code>RelativeLayout</code>. <code>RelativeLayout</code> is used in cases where two or more elements have to be overlapped each other. Don't include every elements in a single layout. Divide your design into different sections, and use LinearLayout for each section and within each section, and include elements belonging to that section.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_width=&quot;match_parent&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:orientation=&quot;horizontal&quot;\n    &gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;.25&quot;\n        android:orientation=&quot;vertical&quot;\n        &gt;\n        &lt;TextView\n            android:id=&quot;@+id/title&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:textColor=&quot;#E35B5B&quot;\n            android:fontFamily=&quot;Cabin-Regular&quot;\n            android:textSize=&quot;14dp&quot;\n            android:layout_weight=&quot;0.33&quot;\n            android:singleLine=&quot;true&quot;\n            android:ellipsize=&quot;end&quot;\n            android:gravity=&quot;center|left&quot;\n            android:paddingLeft=&quot;10dp&quot;\n            android:text=&quot;Google&quot;\n            /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/desc&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:textColor=&quot;#2D2D2D&quot;\n            android:fontFamily=&quot;Cabin-Regular&quot;\n            android:textSize=&quot;16dp&quot;\n            android:layout_weight=&quot;0.33&quot;\n            android:singleLine=&quot;true&quot;\n            android:ellipsize=&quot;end&quot;\n            android:gravity=&quot;center|left&quot;\n            android:paddingLeft=&quot;10dp&quot;\n            android:text=&quot;Google is a Search engine&quot;\n            /&gt;\n        &lt;TextView\n            android:id=&quot;@+id/url_view&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_below=&quot;@+id/title&quot;\n            android:textColor=&quot;#BDBDBD&quot;\n            android:textSize=&quot;10dp&quot;\n            android:layout_weight=&quot;0.33&quot;\n            android:singleLine=&quot;true&quot;\n            android:ellipsize=&quot;end&quot;\n            android:gravity=&quot;center|left&quot;\n            android:paddingLeft=&quot;10dp&quot;\n            android:text=&quot;http://www.google.com&quot;\n            /&gt;\n    &lt;/LinearLayout&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;110dp&quot;\n        android:layout_height=&quot;110dp&quot;\n\n        &gt;\n        &lt;ImageView\n            android:id=&quot;@+id/icon&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n\n            /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4873576,"reputation":951,"user_id":3929340,"accept_rate":20,"display_name":"Chandan kushwaha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683633244,"creation_date":1458021763,"answer_id":36003744,"question_id":36003060,"body_markdown":"Just check this:\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;1\r\n        android:padding=&quot;10dp&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/title&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textColor=&quot;#E35B5B&quot;\r\n            android:fontFamily=&quot;Cabin-Regular&quot;\r\n            android:textSize=&quot;14dp&quot;\r\n            android:text=&quot;Google&quot;/&gt;\r\n\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/desc&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:textColor=&quot;#2D2D2D&quot;\r\n            android:fontFamily=&quot;Cabin-Regular&quot;\r\n            android:textSize=&quot;16dp&quot;\r\n            android:margin_top=&quot;5dp&quot;\r\n            android:text=&quot;Google is a Search engine&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/url_view&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:textColor=&quot;#BDBDBD&quot;\r\n            android:textSize=&quot;10dp&quot;\r\n            android:margin_top=&quot;5dp&quot;\r\n            android:text=&quot;http://www.google.com&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/icon&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;10dp&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n","title":"How to align title, description and URL in an equal space","body":"<p>Just check this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;1\n        android:padding=&quot;10dp&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/title&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:textColor=&quot;#E35B5B&quot;\n            android:fontFamily=&quot;Cabin-Regular&quot;\n            android:textSize=&quot;14dp&quot;\n            android:text=&quot;Google&quot;/&gt;\n\n\n        &lt;TextView\n            android:id=&quot;@+id/desc&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:textColor=&quot;#2D2D2D&quot;\n            android:fontFamily=&quot;Cabin-Regular&quot;\n            android:textSize=&quot;16dp&quot;\n            android:margin_top=&quot;5dp&quot;\n            android:text=&quot;Google is a Search engine&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/url_view&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:textColor=&quot;#BDBDBD&quot;\n            android:textSize=&quot;10dp&quot;\n            android:margin_top=&quot;5dp&quot;\n            android:text=&quot;http://www.google.com&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n        &lt;ImageView\n            android:id=&quot;@+id/icon&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;10dp&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":7949945,"reputation":27,"user_id":6001050,"accept_rate":100,"display_name":"Pawan Thakur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36003207,"answer_count":8,"score":0,"last_activity_date":1683634199,"creation_date":1458018328,"question_id":36003060,"body_markdown":"Here is a screenshot of the layout as it currently appears on my screen:\r\n\r\n[![Enter image description here][1]][1]\r\n\r\nHere is the XML code snippet for the layout:\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/icon&quot;\r\n        android:layout_width=&quot;110dp&quot;\r\n        android:layout_height=&quot;110dp&quot;\r\n        android:layout_alignParentRight=&quot;true&quot;\r\n        android:layout_marginRight=&quot;-10dp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/title&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:height=&quot;20dp&quot;\r\n        android:fontFamily=&quot;Cabin-Regular&quot;\r\n        android:paddingLeft=&quot;10dp&quot;\r\n        android:textColor=&quot;#E35B5B&quot;\r\n        android:textSize=&quot;14dp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/desc&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/title&quot;\r\n        android:height=&quot;44dp&quot;\r\n        android:fontFamily=&quot;Cabin-Regular&quot;\r\n        android:paddingLeft=&quot;10dp&quot;\r\n        android:paddingRight=&quot;100dp&quot;\r\n        android:textColor=&quot;#2D2D2D&quot;\r\n        android:textSize=&quot;16dp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/url_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/title&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:height=&quot;15dp&quot;\r\n        android:paddingLeft=&quot;10dp&quot;\r\n        android:paddingRight=&quot;80dp&quot;\r\n        android:textColor=&quot;#BDBDBD&quot;\r\n        android:textSize=&quot;10dp&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nI just want to have the three textviews properly aligned and have equal space among each other.\r\n\r\n  [1]: http://i.stack.imgur.com/3AOJg.png\r\n","title":"How to align title, description and URL in an equal space","body":"<p>Here is a screenshot of the layout as it currently appears on my screen:</p>\n<p><a href=\"https://i.stack.imgur.com/3AOJg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3AOJg.png\" alt=\"Enter image description here\" /></a></p>\n<p>Here is the XML code snippet for the layout:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/icon&quot;\n        android:layout_width=&quot;110dp&quot;\n        android:layout_height=&quot;110dp&quot;\n        android:layout_alignParentRight=&quot;true&quot;\n        android:layout_marginRight=&quot;-10dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/title&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:height=&quot;20dp&quot;\n        android:fontFamily=&quot;Cabin-Regular&quot;\n        android:paddingLeft=&quot;10dp&quot;\n        android:textColor=&quot;#E35B5B&quot;\n        android:textSize=&quot;14dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/desc&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/title&quot;\n        android:height=&quot;44dp&quot;\n        android:fontFamily=&quot;Cabin-Regular&quot;\n        android:paddingLeft=&quot;10dp&quot;\n        android:paddingRight=&quot;100dp&quot;\n        android:textColor=&quot;#2D2D2D&quot;\n        android:textSize=&quot;16dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/url_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/title&quot;\n        android:layout_marginTop=&quot;50dp&quot;\n        android:height=&quot;15dp&quot;\n        android:paddingLeft=&quot;10dp&quot;\n        android:paddingRight=&quot;80dp&quot;\n        android:textColor=&quot;#BDBDBD&quot;\n        android:textSize=&quot;10dp&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>I just want to have the three textviews properly aligned and have equal space among each other.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":17321094,"reputation":21,"user_id":12546560,"display_name":"Niko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683634081,"creation_date":1683634081,"answer_id":76209193,"question_id":76209070,"body_markdown":"You should use explicit types for collections if possible. Your problem is, that you implicitly cast your custom class to objects of the object class, which don&#39;t have your method. \r\nEither cast the objects in the loop to your class \r\n\r\n    YourClass element = (YourClass) o;\r\n    element.setError\r\n\r\nOr use an explicit type for your collection.\r\n\r\n    ArrayList&lt;YourClass&gt;","title":"How do I set error to dynamically created elements?","body":"<p>You should use explicit types for collections if possible. Your problem is, that you implicitly cast your custom class to objects of the object class, which don't have your method.\nEither cast the objects in the loop to your class</p>\n<pre><code>YourClass element = (YourClass) o;\nelement.setError\n</code></pre>\n<p>Or use an explicit type for your collection.</p>\n<pre><code>ArrayList&lt;YourClass&gt;\n</code></pre>\n"}],"owner":{"display_name":"user21742102"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683634081,"creation_date":1683633400,"question_id":76209070,"body_markdown":"I have an arraylist:\r\n```\r\nArrayList&lt;Object&gt; dynamic_arr = new ArrayList&lt;&gt;();\r\n```\r\nI am storing all the programatically created elements into this `arraylist`:\r\n```\r\nEditText myEditText = new EditText(candidate_registration.this);\r\nmyEditText.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT));\r\nmyEditText.setTypeface(Typeface.create(&quot;sans-serif-smallcaps&quot;, Typeface.NORMAL));\r\nmyEditText.setHint(&quot;name&quot;);\r\ndynamic_arr.add(myEditText);\r\nparent.addView(myEditText);\r\n\r\nAppCompatSpinner spin = new AppCompatSpinner(candidate_registration.this, Spinner.MODE_DIALOG);\r\nspin.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT));\r\nArrayList&lt;String&gt; spinnerArray = new ArrayList&lt;&gt;();\r\nspinnerArray.add(&quot;A&quot;);\r\nspinnerArray.add(&quot;B&quot;);\r\nspinnerArray.add(&quot;C&quot;);\r\nspin.setAdapter(arrayadapter);\r\ndynamic_arr.add(spin);\r\nparent.addView(spin);\r\n\r\n//In this way I am creating multiple elements and storing them into the arraylist\r\n```\r\nNow I want to `setError()` in each of the elements if their respective values are empty and remove the error otherwise.\r\n```\r\nfor(Object o: dynamic_arr){\r\n    //How do I proceed?\r\n}\r\n```\r\nHow do I proceed? Please help me.","title":"How do I set error to dynamically created elements?","body":"<p>I have an arraylist:</p>\n<pre><code>ArrayList&lt;Object&gt; dynamic_arr = new ArrayList&lt;&gt;();\n</code></pre>\n<p>I am storing all the programatically created elements into this <code>arraylist</code>:</p>\n<pre><code>EditText myEditText = new EditText(candidate_registration.this);\nmyEditText.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT));\nmyEditText.setTypeface(Typeface.create(&quot;sans-serif-smallcaps&quot;, Typeface.NORMAL));\nmyEditText.setHint(&quot;name&quot;);\ndynamic_arr.add(myEditText);\nparent.addView(myEditText);\n\nAppCompatSpinner spin = new AppCompatSpinner(candidate_registration.this, Spinner.MODE_DIALOG);\nspin.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT));\nArrayList&lt;String&gt; spinnerArray = new ArrayList&lt;&gt;();\nspinnerArray.add(&quot;A&quot;);\nspinnerArray.add(&quot;B&quot;);\nspinnerArray.add(&quot;C&quot;);\nspin.setAdapter(arrayadapter);\ndynamic_arr.add(spin);\nparent.addView(spin);\n\n//In this way I am creating multiple elements and storing them into the arraylist\n</code></pre>\n<p>Now I want to <code>setError()</code> in each of the elements if their respective values are empty and remove the error otherwise.</p>\n<pre><code>for(Object o: dynamic_arr){\n    //How do I proceed?\n}\n</code></pre>\n<p>How do I proceed? Please help me.</p>\n"},{"tags":["java","android","checkbox"],"comments":[{"owner":{"account_id":20633,"reputation":17376,"user_id":49489,"accept_rate":100,"display_name":"Barend"},"score":0,"creation_date":1368392570,"post_id":16511535,"comment_id":23705796,"body_markdown":"For implementing the visual aspect, use the [`level-list` drawable](http://developer.android.com/guide/topics/resources/drawable-resource.html#LevelList).","body":"For implementing the visual aspect, use the <a href=\"http://developer.android.com/guide/topics/resources/drawable-resource.html#LevelList\" rel=\"nofollow noreferrer\"><code>level-list</code> drawable</a>."},{"owner":{"account_id":382093,"reputation":375,"user_id":737121,"accept_rate":60,"display_name":"Thomas"},"score":0,"creation_date":1368433125,"post_id":16511535,"comment_id":23715093,"body_markdown":"i already made a custom drawable as a state-liste and it works well with the stock checkbox code. But why the level-list drawable when the original checkbox uses state-liste ?","body":"i already made a custom drawable as a state-liste and it works well with the stock checkbox code. But why the level-list drawable when the original checkbox uses state-liste ?"},{"owner":{"account_id":2662349,"reputation":807,"user_id":2301721,"accept_rate":0,"display_name":"ashishdhiman2007"},"score":0,"creation_date":1478853072,"post_id":16511535,"comment_id":68326537,"body_markdown":"@Thomas  Did you found any suitable methodology ?","body":"@Thomas  Did you found any suitable methodology ?"},{"owner":{"account_id":382093,"reputation":375,"user_id":737121,"accept_rate":60,"display_name":"Thomas"},"score":0,"creation_date":1487325268,"post_id":16511535,"comment_id":71744540,"body_markdown":"@ashishdhiman2007 This is a very old topic, I&#39;m not sure anymore...\nHave a look by yourself: https://github.com/feeeermendoza/dev.android.HFUNotenalarm","body":"@ashishdhiman2007 This is a very old topic, I&#39;m not sure anymore... Have a look by yourself: <a href=\"https://github.com/feeeermendoza/dev.android.HFUNotenalarm\" rel=\"nofollow noreferrer\">github.com/feeeermendoza/dev.android.HFUNotenalarm</a>"}],"answers":[{"tags":[],"owner":{"account_id":7052362,"reputation":62,"user_id":5400975,"accept_rate":60,"display_name":"Mr. M"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1444735794,"creation_date":1444735794,"answer_id":33101540,"question_id":16511535,"body_markdown":"If you really insist on using a CheckBox where each element have 3 states then the following might work but I haven&#39;t tried it:\r\n- Make a class that extends the CheckBox class.\r\n- Add a variable : &quot;checkstate&quot; of type int or byte. The class should have a Boolean &quot;isChecked&quot; variable. \r\n- Override the onClick or onCheck method so that it change the checkstate variable between the 3 states instead of toggling the isChecked variable. \r\n- Upon display, check the &quot;checkstate&quot; and do some visual effect to show the 3rd state.\r\n- Finally, tell me if it works.","title":"Creating a three states checkbox on android","body":"<p>If you really insist on using a CheckBox where each element have 3 states then the following might work but I haven't tried it:\n- Make a class that extends the CheckBox class.\n- Add a variable : \"checkstate\" of type int or byte. The class should have a Boolean \"isChecked\" variable. \n- Override the onClick or onCheck method so that it change the checkstate variable between the 3 states instead of toggling the isChecked variable. \n- Upon display, check the \"checkstate\" and do some visual effect to show the 3rd state.\n- Finally, tell me if it works.</p>\n"},{"tags":[],"owner":{"account_id":6472347,"reputation":241,"user_id":5012083,"display_name":"tazer"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1571289264,"creation_date":1480705846,"answer_id":40939367,"question_id":16511535,"body_markdown":"Old topic, but I give my solution for who  are interessed:\r\n\r\n\r\n    public class CheckBoxTriStates extends CheckBox {\r\n        static private final int UNKNOW = -1;\r\n        static private final int UNCHECKED = 0;\r\n        static private final int CHECKED = 1;\r\n        private int state;\r\n    \r\n        public CheckBoxTriStates(Context context) {\r\n            super(context);\r\n            init();\r\n        }\r\n    \r\n        public CheckBoxTriStates(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n            init();\r\n        }\r\n    \r\n        public CheckBoxTriStates(Context context, AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n            init();\r\n        }\r\n    \r\n        private void init() {\r\n            state = UNKNOW;\r\n            updateBtn();\r\n    \r\n            setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n    \r\n                // checkbox status is changed from uncheck to checked.\r\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                    switch (state) {\r\n                        default:\r\n                        case UNKNOW:\r\n                            state = UNCHECKED;\r\n                            break;\r\n                        case UNCHECKED:\r\n                            state = CHECKED;\r\n                            break;\r\n                        case CHECKED:\r\n                            state = UNKNOW;\r\n                            break;\r\n                    }\r\n                    updateBtn();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void updateBtn() {\r\n            int btnDrawable = R.drawable.ic_checkbox_indeterminate_black;\r\n            switch (state) {\r\n                default:\r\n                case UNKNOW:\r\n                    btnDrawable = R.drawable.ic_checkbox_indeterminate_black;\r\n                    break;\r\n                case UNCHECKED:\r\n                    btnDrawable = R.drawable.ic_checkbox_unchecked_black;\r\n                    break;\r\n                case CHECKED:\r\n                    btnDrawable = R.drawable.ic_checkbox_checked_black;\r\n                    break;\r\n            }\r\n            \r\n            setButtonDrawable(btnDrawable);\r\n        }\r\n    \r\n        public int getState() {\r\n            return state;\r\n        }\r\n    \r\n        public void setState(int state) {\r\n            this.state = state;\r\n            updateBtn();\r\n        }\r\n    }\r\n\r\n\r\nYou can find the button resources [Here][1]. It work perfect.\r\n\r\n\r\n  [1]: https://material.io/icons/","title":"Creating a three states checkbox on android","body":"<p>Old topic, but I give my solution for who  are interessed:</p>\n\n<pre><code>public class CheckBoxTriStates extends CheckBox {\n    static private final int UNKNOW = -1;\n    static private final int UNCHECKED = 0;\n    static private final int CHECKED = 1;\n    private int state;\n\n    public CheckBoxTriStates(Context context) {\n        super(context);\n        init();\n    }\n\n    public CheckBoxTriStates(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        init();\n    }\n\n    public CheckBoxTriStates(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init();\n    }\n\n    private void init() {\n        state = UNKNOW;\n        updateBtn();\n\n        setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n\n            // checkbox status is changed from uncheck to checked.\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                switch (state) {\n                    default:\n                    case UNKNOW:\n                        state = UNCHECKED;\n                        break;\n                    case UNCHECKED:\n                        state = CHECKED;\n                        break;\n                    case CHECKED:\n                        state = UNKNOW;\n                        break;\n                }\n                updateBtn();\n            }\n        });\n    }\n\n    private void updateBtn() {\n        int btnDrawable = R.drawable.ic_checkbox_indeterminate_black;\n        switch (state) {\n            default:\n            case UNKNOW:\n                btnDrawable = R.drawable.ic_checkbox_indeterminate_black;\n                break;\n            case UNCHECKED:\n                btnDrawable = R.drawable.ic_checkbox_unchecked_black;\n                break;\n            case CHECKED:\n                btnDrawable = R.drawable.ic_checkbox_checked_black;\n                break;\n        }\n\n        setButtonDrawable(btnDrawable);\n    }\n\n    public int getState() {\n        return state;\n    }\n\n    public void setState(int state) {\n        this.state = state;\n        updateBtn();\n    }\n}\n</code></pre>\n\n<p>You can find the button resources <a href=\"https://material.io/icons/\" rel=\"noreferrer\">Here</a>. It work perfect.</p>\n"},{"tags":[],"owner":{"account_id":5116959,"reputation":1506,"user_id":4101786,"accept_rate":14,"display_name":"Android Dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580355937,"creation_date":1580355937,"answer_id":59978795,"question_id":16511535,"body_markdown":"If you want checkbox without Vector Animation while changing state then try this simple custom class for checkbox with indeterminate state\n\ncheck [github][1] example here\n\n  [1]: https://github.com/imhardiklakhani/IndeterminateCheckbox","title":"Creating a three states checkbox on android","body":"<p>If you want checkbox without Vector Animation while changing state then try this simple custom class for checkbox with indeterminate state</p>\n<p>check <a href=\"https://github.com/imhardiklakhani/IndeterminateCheckbox\" rel=\"nofollow noreferrer\">github</a> example here</p>\n"},{"tags":[],"owner":{"account_id":18444829,"reputation":694,"user_id":13436464,"display_name":"Mohammad Mostafa Dastjerdi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619935285,"creation_date":1619853570,"answer_id":67343830,"question_id":16511535,"body_markdown":"previously I wanted to do the same thing. after doing some hard research I approached this.\r\n\r\n**pros:**\r\n- animated button\r\n- material design\r\n\r\n-------\r\n\r\nTriStateMaterialCheckBox.kt:\r\n```kotlin\r\nimport android.content.Context\r\nimport android.util.AttributeSet\r\nimport androidx.annotation.StyleableRes\r\nimport com.google.android.material.checkbox.MaterialCheckBox\r\n\r\nclass TriStateMaterialCheckBox : MaterialCheckBox {\r\n\tconstructor(context: Context) : this(context, null)\r\n\tconstructor(context: Context, attrs: AttributeSet?) : this(context, attrs, com.google.android.material.R.attr.checkboxStyle)\r\n\tconstructor(context: Context, attrs: AttributeSet?, defStyleAttr: Int) : super(context, attrs, defStyleAttr) {\r\n\t\tval sets = intArrayOf(R.attr.state)\r\n\t\t\r\n\t\tval typedArray = context.obtainStyledAttributes(attrs, sets)\r\n\t\t\r\n\t\ttry {\r\n\t\t\tstate = typedArray.getInt(ATTR_STATE, STATE_UNCHECKED)\r\n\t\t} finally {\r\n\t\t\ttypedArray.recycle()\r\n\t\t}\r\n\t\t\r\n\t\tinitComponent()\r\n\t}\r\n\t\r\n\tcompanion object {\r\n\t\t// @formatter:off\r\n\t\t@StyleableRes private const val ATTR_STATE = 0\r\n\t\t// @formatter:on\r\n\t\t\r\n\t\tconst val STATE_UNCHECKED: Int = 0\r\n\t\tconst val STATE_INDETERMINATE: Int = 1\r\n\t\tconst val STATE_CHECKED: Int = 2\r\n\t\t\r\n\t\tprivate val UNCHECKED = intArrayOf(R.attr.state_unchecked)\r\n\t\tprivate val INDETERMINATE = intArrayOf(R.attr.state_indeterminate)\r\n\t\tprivate val CHECKED = intArrayOf(R.attr.state_checked)\r\n\t}\r\n\t\r\n\tprivate var isChangingState = false\r\n\t\r\n\tvar state: Int\r\n\t\t@Throws(IllegalStateException::class)\r\n\t\tset(value) {\r\n\t\t\tif (isChangingState) return\r\n\t\t\tif (field == value) return\r\n\t\t\tisChangingState = true\r\n\t\t\t\r\n\t\t\tfield = value\r\n\t\t\tisChecked = when (value) {\r\n\t\t\t\tSTATE_UNCHECKED -&gt; false\r\n\t\t\t\tSTATE_INDETERMINATE -&gt; true\r\n\t\t\t\tSTATE_CHECKED -&gt; true\r\n\t\t\t\telse -&gt; throw IllegalStateException(&quot;$value is not a valid state for ${this.javaClass.name}&quot;)\r\n\t\t\t}\r\n\t\t\trefreshDrawableState()\r\n\t\t\t\r\n\t\t\tisChangingState = false\r\n\t\t\t\r\n\t\t\tonStateChanged?.let { it(this@TriStateMaterialCheckBox, value) }\r\n\t\t}\r\n\t\r\n\tvar onStateChanged: ((TriStateMaterialCheckBox, Int) -&gt; Unit)? = null\r\n\t\r\n\tprivate fun initComponent() {\r\n\t\tsetButtonDrawable(R.drawable.tri_state_button)\r\n\t\tsetOnCheckedChangeListener { _, _ -&gt;\r\n\t\t\tstate = when (state) {\r\n\t\t\t\tSTATE_UNCHECKED -&gt; STATE_CHECKED\r\n\t\t\t\tSTATE_INDETERMINATE -&gt; STATE_CHECKED\r\n\t\t\t\tSTATE_CHECKED -&gt; STATE_UNCHECKED\r\n\t\t\t\telse -&gt; -1\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\toverride fun onCreateDrawableState(extraSpace: Int): IntArray {\r\n\t\tval drawableState = super.onCreateDrawableState(extraSpace + 1)\r\n\t\t\r\n\t\tmergeDrawableStates(\r\n\t\t\tdrawableState, when (state) {\r\n\t\t\t\tSTATE_UNCHECKED -&gt; UNCHECKED\r\n\t\t\t\tSTATE_INDETERMINATE -&gt; INDETERMINATE\r\n\t\t\t\tSTATE_CHECKED -&gt; CHECKED\r\n\t\t\t\telse -&gt; throw IllegalStateException(&quot;$state is not a valid state for ${this.javaClass.name}&quot;)\r\n\t\t\t}\r\n\t\t)\r\n\t\t\r\n\t\treturn drawableState\r\n\t}\r\n}\r\n```\r\n\r\nattrs.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;resources&gt;\r\n\t&lt;attr name=&quot;state&quot; format=&quot;enum&quot;&gt;\r\n\t\t&lt;enum name=&quot;unchecked&quot; value=&quot;0&quot; /&gt;\r\n\t\t&lt;enum name=&quot;indeterminate&quot; value=&quot;1&quot; /&gt;\r\n\t\t&lt;enum name=&quot;checked&quot; value=&quot;2&quot; /&gt;\r\n\t&lt;/attr&gt;\r\n\t\r\n\t&lt;declare-styleable name=&quot;TriStateMaterialCheckBox&quot;&gt;\r\n\t\t&lt;attr name=&quot;state&quot; /&gt;\r\n\t\t&lt;attr name=&quot;state_unchecked&quot; format=&quot;boolean&quot; /&gt;\r\n\t\t&lt;attr name=&quot;state_indeterminate&quot; format=&quot;boolean&quot; /&gt;\r\n\t\t&lt;attr name=&quot;state_checked&quot; format=&quot;boolean&quot; /&gt;\r\n\t&lt;/declare-styleable&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\ntri_state_button.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; android:enterFadeDuration=&quot;@android:integer/config_shortAnimTime&quot; android:exitFadeDuration=&quot;@android:integer/config_shortAnimTime&quot;&gt;\r\n\t&lt;item android:drawable=&quot;@drawable/ic_unchecked&quot; app:state_unchecked=&quot;true&quot; /&gt;\r\n\t&lt;item android:drawable=&quot;@drawable/ic_indeterminate&quot; app:state_indeterminate=&quot;true&quot; /&gt;\r\n\t&lt;item android:drawable=&quot;@drawable/ic_checked&quot; app:state_checked=&quot;true&quot; /&gt;\r\n\t&lt;item android:drawable=&quot;@drawable/ic_unchecked&quot; /&gt;\r\n&lt;/selector&gt;\r\n```","title":"Creating a three states checkbox on android","body":"<p>previously I wanted to do the same thing. after doing some hard research I approached this.</p>\n<p><strong>pros:</strong></p>\n<ul>\n<li>animated button</li>\n<li>material design</li>\n</ul>\n<hr />\n<p>TriStateMaterialCheckBox.kt:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import android.content.Context\nimport android.util.AttributeSet\nimport androidx.annotation.StyleableRes\nimport com.google.android.material.checkbox.MaterialCheckBox\n\nclass TriStateMaterialCheckBox : MaterialCheckBox {\n    constructor(context: Context) : this(context, null)\n    constructor(context: Context, attrs: AttributeSet?) : this(context, attrs, com.google.android.material.R.attr.checkboxStyle)\n    constructor(context: Context, attrs: AttributeSet?, defStyleAttr: Int) : super(context, attrs, defStyleAttr) {\n        val sets = intArrayOf(R.attr.state)\n        \n        val typedArray = context.obtainStyledAttributes(attrs, sets)\n        \n        try {\n            state = typedArray.getInt(ATTR_STATE, STATE_UNCHECKED)\n        } finally {\n            typedArray.recycle()\n        }\n        \n        initComponent()\n    }\n    \n    companion object {\n        // @formatter:off\n        @StyleableRes private const val ATTR_STATE = 0\n        // @formatter:on\n        \n        const val STATE_UNCHECKED: Int = 0\n        const val STATE_INDETERMINATE: Int = 1\n        const val STATE_CHECKED: Int = 2\n        \n        private val UNCHECKED = intArrayOf(R.attr.state_unchecked)\n        private val INDETERMINATE = intArrayOf(R.attr.state_indeterminate)\n        private val CHECKED = intArrayOf(R.attr.state_checked)\n    }\n    \n    private var isChangingState = false\n    \n    var state: Int\n        @Throws(IllegalStateException::class)\n        set(value) {\n            if (isChangingState) return\n            if (field == value) return\n            isChangingState = true\n            \n            field = value\n            isChecked = when (value) {\n                STATE_UNCHECKED -&gt; false\n                STATE_INDETERMINATE -&gt; true\n                STATE_CHECKED -&gt; true\n                else -&gt; throw IllegalStateException(&quot;$value is not a valid state for ${this.javaClass.name}&quot;)\n            }\n            refreshDrawableState()\n            \n            isChangingState = false\n            \n            onStateChanged?.let { it(this@TriStateMaterialCheckBox, value) }\n        }\n    \n    var onStateChanged: ((TriStateMaterialCheckBox, Int) -&gt; Unit)? = null\n    \n    private fun initComponent() {\n        setButtonDrawable(R.drawable.tri_state_button)\n        setOnCheckedChangeListener { _, _ -&gt;\n            state = when (state) {\n                STATE_UNCHECKED -&gt; STATE_CHECKED\n                STATE_INDETERMINATE -&gt; STATE_CHECKED\n                STATE_CHECKED -&gt; STATE_UNCHECKED\n                else -&gt; -1\n            }\n        }\n    }\n    \n    override fun onCreateDrawableState(extraSpace: Int): IntArray {\n        val drawableState = super.onCreateDrawableState(extraSpace + 1)\n        \n        mergeDrawableStates(\n            drawableState, when (state) {\n                STATE_UNCHECKED -&gt; UNCHECKED\n                STATE_INDETERMINATE -&gt; INDETERMINATE\n                STATE_CHECKED -&gt; CHECKED\n                else -&gt; throw IllegalStateException(&quot;$state is not a valid state for ${this.javaClass.name}&quot;)\n            }\n        )\n        \n        return drawableState\n    }\n}\n</code></pre>\n<p>attrs.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources&gt;\n    &lt;attr name=&quot;state&quot; format=&quot;enum&quot;&gt;\n        &lt;enum name=&quot;unchecked&quot; value=&quot;0&quot; /&gt;\n        &lt;enum name=&quot;indeterminate&quot; value=&quot;1&quot; /&gt;\n        &lt;enum name=&quot;checked&quot; value=&quot;2&quot; /&gt;\n    &lt;/attr&gt;\n    \n    &lt;declare-styleable name=&quot;TriStateMaterialCheckBox&quot;&gt;\n        &lt;attr name=&quot;state&quot; /&gt;\n        &lt;attr name=&quot;state_unchecked&quot; format=&quot;boolean&quot; /&gt;\n        &lt;attr name=&quot;state_indeterminate&quot; format=&quot;boolean&quot; /&gt;\n        &lt;attr name=&quot;state_checked&quot; format=&quot;boolean&quot; /&gt;\n    &lt;/declare-styleable&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>tri_state_button.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; android:enterFadeDuration=&quot;@android:integer/config_shortAnimTime&quot; android:exitFadeDuration=&quot;@android:integer/config_shortAnimTime&quot;&gt;\n    &lt;item android:drawable=&quot;@drawable/ic_unchecked&quot; app:state_unchecked=&quot;true&quot; /&gt;\n    &lt;item android:drawable=&quot;@drawable/ic_indeterminate&quot; app:state_indeterminate=&quot;true&quot; /&gt;\n    &lt;item android:drawable=&quot;@drawable/ic_checked&quot; app:state_checked=&quot;true&quot; /&gt;\n    &lt;item android:drawable=&quot;@drawable/ic_unchecked&quot; /&gt;\n&lt;/selector&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9462283,"reputation":1332,"user_id":7035703,"display_name":"anro"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1683633482,"creation_date":1673939603,"answer_id":75142985,"question_id":16511535,"body_markdown":"Last version of material library supports three-states checkboxes.\r\nAdd this to build.gradle:\r\n\r\n    implementation &#39;com.google.android.material:material:1.8.0-rc01&#39;\r\n\r\nAfter that, you can set indeterminate state both in xml:\r\n\r\n      &lt;com.google.android.material.checkbox.MaterialCheckBox\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:checkedState=&quot;indeterminate&quot; /&gt;\r\n\r\nOr through code:\r\n\r\n        checkbox.checkedState = when (childrenSelected) {\r\n            0 -&gt; MaterialCheckBox.STATE_UNCHECKED\r\n            childrenTotal -&gt; MaterialCheckBox.STATE_CHECKED\r\n            else -&gt; MaterialCheckBox.STATE_INDETERMINATE\r\n        }\r\n\r\nWhere childrenSelected is the number of selected checkboxes. You can also customize checkbox appearance as you like, see full documentation here:\r\nhttps://developer.android.com/reference/com/google/android/material/checkbox/MaterialCheckBox","title":"Creating a three states checkbox on android","body":"<p>Last version of material library supports three-states checkboxes.\nAdd this to build.gradle:</p>\n<pre><code>implementation 'com.google.android.material:material:1.8.0-rc01'\n</code></pre>\n<p>After that, you can set indeterminate state both in xml:</p>\n<pre><code>  &lt;com.google.android.material.checkbox.MaterialCheckBox\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:checkedState=&quot;indeterminate&quot; /&gt;\n</code></pre>\n<p>Or through code:</p>\n<pre><code>    checkbox.checkedState = when (childrenSelected) {\n        0 -&gt; MaterialCheckBox.STATE_UNCHECKED\n        childrenTotal -&gt; MaterialCheckBox.STATE_CHECKED\n        else -&gt; MaterialCheckBox.STATE_INDETERMINATE\n    }\n</code></pre>\n<p>Where childrenSelected is the number of selected checkboxes. You can also customize checkbox appearance as you like, see full documentation here:\n<a href=\"https://developer.android.com/reference/com/google/android/material/checkbox/MaterialCheckBox\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/com/google/android/material/checkbox/MaterialCheckBox</a></p>\n"}],"owner":{"account_id":382093,"reputation":375,"user_id":737121,"accept_rate":60,"display_name":"Thomas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15778,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":5,"score":29,"last_activity_date":1683633482,"creation_date":1368389129,"question_id":16511535,"body_markdown":"I&#39;m stuck in front of a big problem:\r\nI&#39;d like to make three state checkbox on android.\r\nIt&#39;s a checkbox upon a ListView with checkboxes. It should allows user to switch between three states:\r\n\r\n - all checked\r\n - none checked\r\n - misc checked\r\n\r\nAnd optionally retain the misc state on change.\r\n\r\nIf I&#39;m right I should make a subclass of the CompoundButton class and implement a int mstate intead of the boolean mchecked.\r\nThen I should override the event listener, the functions to save the state, and the state getter and setter.\r\n\r\nMy question is basically how can I implement that ?\r\nHow to switch between the drawable states ? (I have implemented the middle_state in the xml) and how to correctly implement the event handler?\r\n\r\nHere is the implementation I started:\r\n\r\n\r\n    public class TriStateCheckBox extends CompoundButton{\r\n    \tprivate int state;\r\n    \t\r\n    \tpublic TriStateCheckBox(Context context) {\r\n    \t\tsuper(context);\r\n    \t}\r\n    \tpublic static interface onCheckChangedListener{\r\n    \t\tvoid onCheckChanged(TriStateCheckBox view, int state);\r\n    \t}\r\n    \t\r\n    \tpublic void onCheckChanged(TriStateCheckBox view, int state){\r\n    \t\tthis.state = state;\r\n    \t}\r\n    }\r\n\r\nHere is the code of the stock CompoundButton:\r\n\r\n    /*\r\n     * Copyright (C) 2007 The Android Open Source Project\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     *      http://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     */\r\n    \r\n    package android.widget;\r\n    \r\n    import com.android.internal.R;\r\n    \r\n    import android.content.Context;\r\n    import android.content.res.TypedArray;\r\n    import android.graphics.Canvas;\r\n    import android.graphics.drawable.Drawable;\r\n    import android.os.Parcel;\r\n    import android.os.Parcelable;\r\n    import android.util.AttributeSet;\r\n    import android.view.Gravity;\r\n    import android.view.ViewDebug;\r\n    import android.view.accessibility.AccessibilityEvent;\r\n    import android.view.accessibility.AccessibilityNodeInfo;\r\n    \r\n    /**\r\n     * &lt;p&gt;\r\n     * A button with two states, checked and unchecked. When the button is pressed\r\n     * or clicked, the state changes automatically.\r\n     * &lt;/p&gt;\r\n     *\r\n     * &lt;p&gt;&lt;strong&gt;XML attributes&lt;/strong&gt;&lt;/p&gt;\r\n     * &lt;p&gt;\r\n     * See {@link android.R.styleable#CompoundButton\r\n     * CompoundButton Attributes}, {@link android.R.styleable#Button Button\r\n     * Attributes}, {@link android.R.styleable#TextView TextView Attributes}, {@link\r\n     * android.R.styleable#View View Attributes}\r\n     * &lt;/p&gt;\r\n     */\r\n    public abstract class CompoundButton extends Button implements Checkable {\r\n        private boolean mChecked;\r\n        private int mButtonResource;\r\n        private boolean mBroadcasting;\r\n        private Drawable mButtonDrawable;\r\n        private OnCheckedChangeListener mOnCheckedChangeListener;\r\n        private OnCheckedChangeListener mOnCheckedChangeWidgetListener;\r\n    \r\n        private static final int[] CHECKED_STATE_SET = {\r\n            R.attr.state_checked\r\n        };\r\n    \r\n        public CompoundButton(Context context) {\r\n            this(context, null);\r\n        }\r\n    \r\n        public CompoundButton(Context context, AttributeSet attrs) {\r\n            this(context, attrs, 0);\r\n        }\r\n    \r\n        public CompoundButton(Context context, AttributeSet attrs, int defStyle) {\r\n            super(context, attrs, defStyle);\r\n    \r\n            TypedArray a =\r\n                    context.obtainStyledAttributes(\r\n                            attrs, com.android.internal.R.styleable.CompoundButton, defStyle, 0);\r\n    \r\n            Drawable d = a.getDrawable(com.android.internal.R.styleable.CompoundButton_button);\r\n            if (d != null) {\r\n                setButtonDrawable(d);\r\n            }\r\n    \r\n            boolean checked = a\r\n                    .getBoolean(com.android.internal.R.styleable.CompoundButton_checked, false);\r\n            setChecked(checked);\r\n    \r\n            a.recycle();\r\n        }\r\n    \r\n        public void toggle() {\r\n            setChecked(!mChecked);\r\n        }\r\n    \r\n        @Override\r\n        public boolean performClick() {\r\n            /*\r\n             * XXX: These are tiny, need some surrounding &#39;expanded touch area&#39;,\r\n             * which will need to be implemented in Button if we only override\r\n             * performClick()\r\n             */\r\n    \r\n            /* When clicked, toggle the state */\r\n            toggle();\r\n            return super.performClick();\r\n        }\r\n    \r\n        @ViewDebug.ExportedProperty\r\n        public boolean isChecked() {\r\n            return mChecked;\r\n        }\r\n    \r\n        /**\r\n         * &lt;p&gt;Changes the checked state of this button.&lt;/p&gt;\r\n         *\r\n         * @param checked true to check the button, false to uncheck it\r\n         */\r\n        public void setChecked(boolean checked) {\r\n            if (mChecked != checked) {\r\n                mChecked = checked;\r\n                refreshDrawableState();\r\n    \r\n                // Avoid infinite recursions if setChecked() is called from a listener\r\n                if (mBroadcasting) {\r\n                    return;\r\n                }\r\n    \r\n                mBroadcasting = true;\r\n                if (mOnCheckedChangeListener != null) {\r\n                    mOnCheckedChangeListener.onCheckedChanged(this, mChecked);\r\n                }\r\n                if (mOnCheckedChangeWidgetListener != null) {\r\n                    mOnCheckedChangeWidgetListener.onCheckedChanged(this, mChecked);\r\n                }\r\n    \r\n                mBroadcasting = false;            \r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Register a callback to be invoked when the checked state of this button\r\n         * changes.\r\n         *\r\n         * @param listener the callback to call on checked state change\r\n         */\r\n        public void setOnCheckedChangeListener(OnCheckedChangeListener listener) {\r\n            mOnCheckedChangeListener = listener;\r\n        }\r\n    \r\n        /**\r\n         * Register a callback to be invoked when the checked state of this button\r\n         * changes. This callback is used for internal purpose only.\r\n         *\r\n         * @param listener the callback to call on checked state change\r\n         * @hide\r\n         */\r\n        void setOnCheckedChangeWidgetListener(OnCheckedChangeListener listener) {\r\n            mOnCheckedChangeWidgetListener = listener;\r\n        }\r\n    \r\n        /**\r\n         * Interface definition for a callback to be invoked when the checked state\r\n         * of a compound button changed.\r\n         */\r\n        public static interface OnCheckedChangeListener {\r\n            /**\r\n             * Called when the checked state of a compound button has changed.\r\n             *\r\n             * @param buttonView The compound button view whose state has changed.\r\n             * @param isChecked  The new checked state of buttonView.\r\n             */\r\n            void onCheckedChanged(CompoundButton buttonView, boolean isChecked);\r\n        }\r\n    \r\n        /**\r\n         * Set the background to a given Drawable, identified by its resource id.\r\n         *\r\n         * @param resid the resource id of the drawable to use as the background \r\n         */\r\n        public void setButtonDrawable(int resid) {\r\n            if (resid != 0 &amp;&amp; resid == mButtonResource) {\r\n                return;\r\n            }\r\n    \r\n            mButtonResource = resid;\r\n    \r\n            Drawable d = null;\r\n            if (mButtonResource != 0) {\r\n                d = getResources().getDrawable(mButtonResource);\r\n            }\r\n            setButtonDrawable(d);\r\n        }\r\n    \r\n        /**\r\n         * Set the background to a given Drawable\r\n         *\r\n         * @param d The Drawable to use as the background\r\n         */\r\n        public void setButtonDrawable(Drawable d) {\r\n            if (d != null) {\r\n                if (mButtonDrawable != null) {\r\n                    mButtonDrawable.setCallback(null);\r\n                    unscheduleDrawable(mButtonDrawable);\r\n                }\r\n                d.setCallback(this);\r\n                d.setState(getDrawableState());\r\n                d.setVisible(getVisibility() == VISIBLE, false);\r\n                mButtonDrawable = d;\r\n                mButtonDrawable.setState(null);\r\n                setMinHeight(mButtonDrawable.getIntrinsicHeight());\r\n            }\r\n    \r\n            refreshDrawableState();\r\n        }\r\n    \r\n        @Override\r\n        public void onInitializeAccessibilityEvent(AccessibilityEvent event) {\r\n            super.onInitializeAccessibilityEvent(event);\r\n            event.setChecked(mChecked);\r\n        }\r\n    \r\n        @Override\r\n        public void onInitializeAccessibilityNodeInfo(AccessibilityNodeInfo info) {\r\n            super.onInitializeAccessibilityNodeInfo(info);\r\n            info.setCheckable(true);\r\n            info.setChecked(mChecked);\r\n        }\r\n    \r\n        @Override\r\n        protected void onDraw(Canvas canvas) {\r\n            super.onDraw(canvas);\r\n    \r\n            final Drawable buttonDrawable = mButtonDrawable;\r\n            if (buttonDrawable != null) {\r\n                final int verticalGravity = getGravity() &amp; Gravity.VERTICAL_GRAVITY_MASK;\r\n                final int height = buttonDrawable.getIntrinsicHeight();\r\n    \r\n                int y = 0;\r\n    \r\n                switch (verticalGravity) {\r\n                    case Gravity.BOTTOM:\r\n                        y = getHeight() - height;\r\n                        break;\r\n                    case Gravity.CENTER_VERTICAL:\r\n                        y = (getHeight() - height) / 2;\r\n                        break;\r\n                }\r\n    \r\n                buttonDrawable.setBounds(0, y, buttonDrawable.getIntrinsicWidth(), y + height);\r\n                buttonDrawable.draw(canvas);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected int[] onCreateDrawableState(int extraSpace) {\r\n            final int[] drawableState = super.onCreateDrawableState(extraSpace + 1);\r\n            if (isChecked()) {\r\n                mergeDrawableStates(drawableState, CHECKED_STATE_SET);\r\n            }\r\n            return drawableState;\r\n        }\r\n    \r\n        @Override\r\n        protected void drawableStateChanged() {\r\n            super.drawableStateChanged();\r\n            \r\n            if (mButtonDrawable != null) {\r\n                int[] myDrawableState = getDrawableState();\r\n                \r\n                // Set the state of the Drawable\r\n                mButtonDrawable.setState(myDrawableState);\r\n                \r\n                invalidate();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected boolean verifyDrawable(Drawable who) {\r\n            return super.verifyDrawable(who) || who == mButtonDrawable;\r\n        }\r\n    \r\n        @Override\r\n        public void jumpDrawablesToCurrentState() {\r\n            super.jumpDrawablesToCurrentState();\r\n            if (mButtonDrawable != null) mButtonDrawable.jumpToCurrentState();\r\n        }\r\n    \r\n        static class SavedState extends BaseSavedState {\r\n            boolean checked;\r\n    \r\n            /**\r\n             * Constructor called from {@link CompoundButton#onSaveInstanceState()}\r\n             */\r\n            SavedState(Parcelable superState) {\r\n                super(superState);\r\n            }\r\n            \r\n            /**\r\n             * Constructor called from {@link #CREATOR}\r\n             */\r\n            private SavedState(Parcel in) {\r\n                super(in);\r\n                checked = (Boolean)in.readValue(null);\r\n            }\r\n    \r\n            @Override\r\n            public void writeToParcel(Parcel out, int flags) {\r\n                super.writeToParcel(out, flags);\r\n                out.writeValue(checked);\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return &quot;CompoundButton.SavedState{&quot;\r\n                        + Integer.toHexString(System.identityHashCode(this))\r\n                        + &quot; checked=&quot; + checked + &quot;}&quot;;\r\n            }\r\n    \r\n            public static final Parcelable.Creator&lt;SavedState&gt; CREATOR\r\n                    = new Parcelable.Creator&lt;SavedState&gt;() {\r\n                public SavedState createFromParcel(Parcel in) {\r\n                    return new SavedState(in);\r\n                }\r\n    \r\n                public SavedState[] newArray(int size) {\r\n                    return new SavedState[size];\r\n                }\r\n            };\r\n        }\r\n    \r\n        @Override\r\n        public Parcelable onSaveInstanceState() {\r\n            // Force our ancestor class to save its state\r\n            setFreezesText(true);\r\n            Parcelable superState = super.onSaveInstanceState();\r\n    \r\n            SavedState ss = new SavedState(superState);\r\n    \r\n            ss.checked = isChecked();\r\n            return ss;\r\n        }\r\n    \r\n        @Override\r\n        public void onRestoreInstanceState(Parcelable state) {\r\n            SavedState ss = (SavedState) state;\r\n      \r\n            super.onRestoreInstanceState(ss.getSuperState());\r\n            setChecked(ss.checked);\r\n            requestLayout();\r\n        }\r\n    }\r\n\r\nHere is my xml state-liste implementation (working):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n        \r\n        &lt;item android:state_checked=&quot;false&quot;\r\n              android:state_pressed=&quot;true&quot;\r\n              android:drawable=&quot;@drawable/btn_check_off_pressed&quot; /&gt; &lt;!-- unchecked pressed --&gt;\r\n              \r\n        &lt;item android:state_checked=&quot;false&quot;\r\n              android:state_selected=&quot;true&quot;\r\n              android:drawable=&quot;@drawable/btn_check_off_selected&quot; /&gt; &lt;!-- unchecked selected --&gt;\r\n              \r\n        &lt;item android:state_checked=&quot;true&quot;\r\n              android:state_pressed=&quot;false&quot;\r\n              android:state_focused=&quot;false&quot;\r\n              android:drawable=&quot;@drawable/btn_check_on&quot; /&gt; &lt;!-- checked --&gt;\r\n              \r\n        &lt;item android:state_checked=&quot;true&quot;\r\n              android:state_pressed=&quot;true&quot;\r\n              android:drawable=&quot;@drawable/btn_check_on_pressed&quot; /&gt; &lt;!-- checked pressed--&gt;\r\n              \r\n        &lt;item android:state_checked=&quot;true&quot;\r\n              android:state_selected=&quot;true&quot;\r\n              android:drawable=&quot;@drawable/btn_check_on_selected&quot; /&gt; &lt;!-- checked selected--&gt;\r\n                   \r\n        &lt;item android:state_middle=&quot;true&quot;\r\n              android:state_pressed=&quot;false&quot;\r\n              android:state_focused=&quot;false&quot;\r\n              android:drawable=&quot;@drawable/btn_check_middle&quot; /&gt; &lt;!-- middle --&gt;        \r\n               \r\n        &lt;item android:state_middle=&quot;true&quot;\r\n              android:state_pressed=&quot;true&quot;\r\n              android:drawable=&quot;@drawable/btn_check_middle_pressed&quot; /&gt; &lt;!-- middle pressed--&gt;\r\n              \r\n        &lt;item android:state_middle=&quot;true&quot;\r\n              android:state_selected=&quot;true&quot;\r\n              android:drawable=&quot;@drawable/btn_check_middle_selected&quot;  /&gt; &lt;!-- middle selected--&gt; \r\n          \r\n        &lt;item android:drawable=&quot;@drawable/btn_check_off&quot; /&gt; &lt;!-- unchecked --&gt;\r\n    &lt;/selector&gt;\r\n\r\nAnd here is the stock xml implementation for the checkbox:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;!-- Copyright (C) 2008 The Android Open Source Project\r\n    \r\n         Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n         you may not use this file except in compliance with the License.\r\n         You may obtain a copy of the License at\r\n    \r\n              http://www.apache.org/licenses/LICENSE-2.0\r\n    \r\n         Unless required by applicable law or agreed to in writing, software\r\n         distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n         WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n         See the License for the specific language governing permissions and\r\n         limitations under the License.\r\n    --&gt;\r\n    \r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n        &lt;!-- Enabled states --&gt;\r\n            \r\n        &lt;item android:state_checked=&quot;true&quot; android:state_window_focused=&quot;false&quot;\r\n              android:state_enabled=&quot;true&quot;\r\n              android:drawable=&quot;@drawable/btn_check_on&quot; /&gt;\r\n        &lt;item android:state_checked=&quot;false&quot; android:state_window_focused=&quot;false&quot;\r\n              android:state_enabled=&quot;true&quot;\r\n              android:drawable=&quot;@drawable/btn_check_off&quot; /&gt;\r\n    \r\n        &lt;item android:state_checked=&quot;true&quot; android:state_pressed=&quot;true&quot;\r\n              android:state_enabled=&quot;true&quot;\r\n              android:drawable=&quot;@drawable/btn_check_on_pressed&quot; /&gt;\r\n        &lt;item android:state_checked=&quot;false&quot; android:state_pressed=&quot;true&quot;\r\n              android:state_enabled=&quot;true&quot;\r\n              android:drawable=&quot;@drawable/btn_check_off_pressed&quot; /&gt;\r\n    \r\n        &lt;item android:state_checked=&quot;true&quot; android:state_focused=&quot;true&quot;\r\n              android:state_enabled=&quot;true&quot;\r\n              android:drawable=&quot;@drawable/btn_check_on_selected&quot; /&gt;\r\n        &lt;item android:state_checked=&quot;false&quot; android:state_focused=&quot;true&quot;\r\n              android:state_enabled=&quot;true&quot;\r\n              android:drawable=&quot;@drawable/btn_check_off_selected&quot; /&gt;\r\n    \r\n        &lt;item android:state_checked=&quot;false&quot;\r\n              android:state_enabled=&quot;true&quot;\r\n              android:drawable=&quot;@drawable/btn_check_off&quot; /&gt;\r\n        &lt;item android:state_checked=&quot;true&quot;\r\n              android:state_enabled=&quot;true&quot;\r\n              android:drawable=&quot;@drawable/btn_check_on&quot; /&gt;\r\n    \r\n    \r\n        &lt;!-- Disabled states --&gt;\r\n    \r\n        &lt;item android:state_checked=&quot;true&quot; android:state_window_focused=&quot;false&quot;\r\n              android:drawable=&quot;@drawable/btn_check_on_disable&quot; /&gt;\r\n        &lt;item android:state_checked=&quot;false&quot; android:state_window_focused=&quot;false&quot;\r\n              android:drawable=&quot;@drawable/btn_check_off_disable&quot; /&gt;\r\n    \r\n        &lt;item android:state_checked=&quot;true&quot; android:state_focused=&quot;true&quot;\r\n              android:drawable=&quot;@drawable/btn_check_on_disable_focused&quot; /&gt;\r\n        &lt;item android:state_checked=&quot;false&quot; android:state_focused=&quot;true&quot;\r\n              android:drawable=&quot;@drawable/btn_check_off_disable_focused&quot; /&gt;\r\n    \r\n        &lt;item android:state_checked=&quot;false&quot; android:drawable=&quot;@drawable/btn_check_off_disable&quot; /&gt;\r\n        &lt;item android:state_checked=&quot;true&quot; android:drawable=&quot;@drawable/btn_check_on_disable&quot; /&gt;\r\n    \r\n    &lt;/selector&gt;","title":"Creating a three states checkbox on android","body":"<p>I'm stuck in front of a big problem:\nI'd like to make three state checkbox on android.\nIt's a checkbox upon a ListView with checkboxes. It should allows user to switch between three states:</p>\n\n<ul>\n<li>all checked</li>\n<li>none checked</li>\n<li>misc checked</li>\n</ul>\n\n<p>And optionally retain the misc state on change.</p>\n\n<p>If I'm right I should make a subclass of the CompoundButton class and implement a int mstate intead of the boolean mchecked.\nThen I should override the event listener, the functions to save the state, and the state getter and setter.</p>\n\n<p>My question is basically how can I implement that ?\nHow to switch between the drawable states ? (I have implemented the middle_state in the xml) and how to correctly implement the event handler?</p>\n\n<p>Here is the implementation I started:</p>\n\n<pre><code>public class TriStateCheckBox extends CompoundButton{\n    private int state;\n\n    public TriStateCheckBox(Context context) {\n        super(context);\n    }\n    public static interface onCheckChangedListener{\n        void onCheckChanged(TriStateCheckBox view, int state);\n    }\n\n    public void onCheckChanged(TriStateCheckBox view, int state){\n        this.state = state;\n    }\n}\n</code></pre>\n\n<p>Here is the code of the stock CompoundButton:</p>\n\n<pre><code>/*\n * Copyright (C) 2007 The Android Open Source Project\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\npackage android.widget;\n\nimport com.android.internal.R;\n\nimport android.content.Context;\nimport android.content.res.TypedArray;\nimport android.graphics.Canvas;\nimport android.graphics.drawable.Drawable;\nimport android.os.Parcel;\nimport android.os.Parcelable;\nimport android.util.AttributeSet;\nimport android.view.Gravity;\nimport android.view.ViewDebug;\nimport android.view.accessibility.AccessibilityEvent;\nimport android.view.accessibility.AccessibilityNodeInfo;\n\n/**\n * &lt;p&gt;\n * A button with two states, checked and unchecked. When the button is pressed\n * or clicked, the state changes automatically.\n * &lt;/p&gt;\n *\n * &lt;p&gt;&lt;strong&gt;XML attributes&lt;/strong&gt;&lt;/p&gt;\n * &lt;p&gt;\n * See {@link android.R.styleable#CompoundButton\n * CompoundButton Attributes}, {@link android.R.styleable#Button Button\n * Attributes}, {@link android.R.styleable#TextView TextView Attributes}, {@link\n * android.R.styleable#View View Attributes}\n * &lt;/p&gt;\n */\npublic abstract class CompoundButton extends Button implements Checkable {\n    private boolean mChecked;\n    private int mButtonResource;\n    private boolean mBroadcasting;\n    private Drawable mButtonDrawable;\n    private OnCheckedChangeListener mOnCheckedChangeListener;\n    private OnCheckedChangeListener mOnCheckedChangeWidgetListener;\n\n    private static final int[] CHECKED_STATE_SET = {\n        R.attr.state_checked\n    };\n\n    public CompoundButton(Context context) {\n        this(context, null);\n    }\n\n    public CompoundButton(Context context, AttributeSet attrs) {\n        this(context, attrs, 0);\n    }\n\n    public CompoundButton(Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n\n        TypedArray a =\n                context.obtainStyledAttributes(\n                        attrs, com.android.internal.R.styleable.CompoundButton, defStyle, 0);\n\n        Drawable d = a.getDrawable(com.android.internal.R.styleable.CompoundButton_button);\n        if (d != null) {\n            setButtonDrawable(d);\n        }\n\n        boolean checked = a\n                .getBoolean(com.android.internal.R.styleable.CompoundButton_checked, false);\n        setChecked(checked);\n\n        a.recycle();\n    }\n\n    public void toggle() {\n        setChecked(!mChecked);\n    }\n\n    @Override\n    public boolean performClick() {\n        /*\n         * XXX: These are tiny, need some surrounding 'expanded touch area',\n         * which will need to be implemented in Button if we only override\n         * performClick()\n         */\n\n        /* When clicked, toggle the state */\n        toggle();\n        return super.performClick();\n    }\n\n    @ViewDebug.ExportedProperty\n    public boolean isChecked() {\n        return mChecked;\n    }\n\n    /**\n     * &lt;p&gt;Changes the checked state of this button.&lt;/p&gt;\n     *\n     * @param checked true to check the button, false to uncheck it\n     */\n    public void setChecked(boolean checked) {\n        if (mChecked != checked) {\n            mChecked = checked;\n            refreshDrawableState();\n\n            // Avoid infinite recursions if setChecked() is called from a listener\n            if (mBroadcasting) {\n                return;\n            }\n\n            mBroadcasting = true;\n            if (mOnCheckedChangeListener != null) {\n                mOnCheckedChangeListener.onCheckedChanged(this, mChecked);\n            }\n            if (mOnCheckedChangeWidgetListener != null) {\n                mOnCheckedChangeWidgetListener.onCheckedChanged(this, mChecked);\n            }\n\n            mBroadcasting = false;            \n        }\n    }\n\n    /**\n     * Register a callback to be invoked when the checked state of this button\n     * changes.\n     *\n     * @param listener the callback to call on checked state change\n     */\n    public void setOnCheckedChangeListener(OnCheckedChangeListener listener) {\n        mOnCheckedChangeListener = listener;\n    }\n\n    /**\n     * Register a callback to be invoked when the checked state of this button\n     * changes. This callback is used for internal purpose only.\n     *\n     * @param listener the callback to call on checked state change\n     * @hide\n     */\n    void setOnCheckedChangeWidgetListener(OnCheckedChangeListener listener) {\n        mOnCheckedChangeWidgetListener = listener;\n    }\n\n    /**\n     * Interface definition for a callback to be invoked when the checked state\n     * of a compound button changed.\n     */\n    public static interface OnCheckedChangeListener {\n        /**\n         * Called when the checked state of a compound button has changed.\n         *\n         * @param buttonView The compound button view whose state has changed.\n         * @param isChecked  The new checked state of buttonView.\n         */\n        void onCheckedChanged(CompoundButton buttonView, boolean isChecked);\n    }\n\n    /**\n     * Set the background to a given Drawable, identified by its resource id.\n     *\n     * @param resid the resource id of the drawable to use as the background \n     */\n    public void setButtonDrawable(int resid) {\n        if (resid != 0 &amp;&amp; resid == mButtonResource) {\n            return;\n        }\n\n        mButtonResource = resid;\n\n        Drawable d = null;\n        if (mButtonResource != 0) {\n            d = getResources().getDrawable(mButtonResource);\n        }\n        setButtonDrawable(d);\n    }\n\n    /**\n     * Set the background to a given Drawable\n     *\n     * @param d The Drawable to use as the background\n     */\n    public void setButtonDrawable(Drawable d) {\n        if (d != null) {\n            if (mButtonDrawable != null) {\n                mButtonDrawable.setCallback(null);\n                unscheduleDrawable(mButtonDrawable);\n            }\n            d.setCallback(this);\n            d.setState(getDrawableState());\n            d.setVisible(getVisibility() == VISIBLE, false);\n            mButtonDrawable = d;\n            mButtonDrawable.setState(null);\n            setMinHeight(mButtonDrawable.getIntrinsicHeight());\n        }\n\n        refreshDrawableState();\n    }\n\n    @Override\n    public void onInitializeAccessibilityEvent(AccessibilityEvent event) {\n        super.onInitializeAccessibilityEvent(event);\n        event.setChecked(mChecked);\n    }\n\n    @Override\n    public void onInitializeAccessibilityNodeInfo(AccessibilityNodeInfo info) {\n        super.onInitializeAccessibilityNodeInfo(info);\n        info.setCheckable(true);\n        info.setChecked(mChecked);\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        super.onDraw(canvas);\n\n        final Drawable buttonDrawable = mButtonDrawable;\n        if (buttonDrawable != null) {\n            final int verticalGravity = getGravity() &amp; Gravity.VERTICAL_GRAVITY_MASK;\n            final int height = buttonDrawable.getIntrinsicHeight();\n\n            int y = 0;\n\n            switch (verticalGravity) {\n                case Gravity.BOTTOM:\n                    y = getHeight() - height;\n                    break;\n                case Gravity.CENTER_VERTICAL:\n                    y = (getHeight() - height) / 2;\n                    break;\n            }\n\n            buttonDrawable.setBounds(0, y, buttonDrawable.getIntrinsicWidth(), y + height);\n            buttonDrawable.draw(canvas);\n        }\n    }\n\n    @Override\n    protected int[] onCreateDrawableState(int extraSpace) {\n        final int[] drawableState = super.onCreateDrawableState(extraSpace + 1);\n        if (isChecked()) {\n            mergeDrawableStates(drawableState, CHECKED_STATE_SET);\n        }\n        return drawableState;\n    }\n\n    @Override\n    protected void drawableStateChanged() {\n        super.drawableStateChanged();\n\n        if (mButtonDrawable != null) {\n            int[] myDrawableState = getDrawableState();\n\n            // Set the state of the Drawable\n            mButtonDrawable.setState(myDrawableState);\n\n            invalidate();\n        }\n    }\n\n    @Override\n    protected boolean verifyDrawable(Drawable who) {\n        return super.verifyDrawable(who) || who == mButtonDrawable;\n    }\n\n    @Override\n    public void jumpDrawablesToCurrentState() {\n        super.jumpDrawablesToCurrentState();\n        if (mButtonDrawable != null) mButtonDrawable.jumpToCurrentState();\n    }\n\n    static class SavedState extends BaseSavedState {\n        boolean checked;\n\n        /**\n         * Constructor called from {@link CompoundButton#onSaveInstanceState()}\n         */\n        SavedState(Parcelable superState) {\n            super(superState);\n        }\n\n        /**\n         * Constructor called from {@link #CREATOR}\n         */\n        private SavedState(Parcel in) {\n            super(in);\n            checked = (Boolean)in.readValue(null);\n        }\n\n        @Override\n        public void writeToParcel(Parcel out, int flags) {\n            super.writeToParcel(out, flags);\n            out.writeValue(checked);\n        }\n\n        @Override\n        public String toString() {\n            return \"CompoundButton.SavedState{\"\n                    + Integer.toHexString(System.identityHashCode(this))\n                    + \" checked=\" + checked + \"}\";\n        }\n\n        public static final Parcelable.Creator&lt;SavedState&gt; CREATOR\n                = new Parcelable.Creator&lt;SavedState&gt;() {\n            public SavedState createFromParcel(Parcel in) {\n                return new SavedState(in);\n            }\n\n            public SavedState[] newArray(int size) {\n                return new SavedState[size];\n            }\n        };\n    }\n\n    @Override\n    public Parcelable onSaveInstanceState() {\n        // Force our ancestor class to save its state\n        setFreezesText(true);\n        Parcelable superState = super.onSaveInstanceState();\n\n        SavedState ss = new SavedState(superState);\n\n        ss.checked = isChecked();\n        return ss;\n    }\n\n    @Override\n    public void onRestoreInstanceState(Parcelable state) {\n        SavedState ss = (SavedState) state;\n\n        super.onRestoreInstanceState(ss.getSuperState());\n        setChecked(ss.checked);\n        requestLayout();\n    }\n}\n</code></pre>\n\n<p>Here is my xml state-liste implementation (working):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;item android:state_checked=\"false\"\n          android:state_pressed=\"true\"\n          android:drawable=\"@drawable/btn_check_off_pressed\" /&gt; &lt;!-- unchecked pressed --&gt;\n\n    &lt;item android:state_checked=\"false\"\n          android:state_selected=\"true\"\n          android:drawable=\"@drawable/btn_check_off_selected\" /&gt; &lt;!-- unchecked selected --&gt;\n\n    &lt;item android:state_checked=\"true\"\n          android:state_pressed=\"false\"\n          android:state_focused=\"false\"\n          android:drawable=\"@drawable/btn_check_on\" /&gt; &lt;!-- checked --&gt;\n\n    &lt;item android:state_checked=\"true\"\n          android:state_pressed=\"true\"\n          android:drawable=\"@drawable/btn_check_on_pressed\" /&gt; &lt;!-- checked pressed--&gt;\n\n    &lt;item android:state_checked=\"true\"\n          android:state_selected=\"true\"\n          android:drawable=\"@drawable/btn_check_on_selected\" /&gt; &lt;!-- checked selected--&gt;\n\n    &lt;item android:state_middle=\"true\"\n          android:state_pressed=\"false\"\n          android:state_focused=\"false\"\n          android:drawable=\"@drawable/btn_check_middle\" /&gt; &lt;!-- middle --&gt;        \n\n    &lt;item android:state_middle=\"true\"\n          android:state_pressed=\"true\"\n          android:drawable=\"@drawable/btn_check_middle_pressed\" /&gt; &lt;!-- middle pressed--&gt;\n\n    &lt;item android:state_middle=\"true\"\n          android:state_selected=\"true\"\n          android:drawable=\"@drawable/btn_check_middle_selected\"  /&gt; &lt;!-- middle selected--&gt; \n\n    &lt;item android:drawable=\"@drawable/btn_check_off\" /&gt; &lt;!-- unchecked --&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p>And here is the stock xml implementation for the checkbox:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!-- Copyright (C) 2008 The Android Open Source Project\n\n     Licensed under the Apache License, Version 2.0 (the \"License\");\n     you may not use this file except in compliance with the License.\n     You may obtain a copy of the License at\n\n          http://www.apache.org/licenses/LICENSE-2.0\n\n     Unless required by applicable law or agreed to in writing, software\n     distributed under the License is distributed on an \"AS IS\" BASIS,\n     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     See the License for the specific language governing permissions and\n     limitations under the License.\n--&gt;\n\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;!-- Enabled states --&gt;\n\n    &lt;item android:state_checked=\"true\" android:state_window_focused=\"false\"\n          android:state_enabled=\"true\"\n          android:drawable=\"@drawable/btn_check_on\" /&gt;\n    &lt;item android:state_checked=\"false\" android:state_window_focused=\"false\"\n          android:state_enabled=\"true\"\n          android:drawable=\"@drawable/btn_check_off\" /&gt;\n\n    &lt;item android:state_checked=\"true\" android:state_pressed=\"true\"\n          android:state_enabled=\"true\"\n          android:drawable=\"@drawable/btn_check_on_pressed\" /&gt;\n    &lt;item android:state_checked=\"false\" android:state_pressed=\"true\"\n          android:state_enabled=\"true\"\n          android:drawable=\"@drawable/btn_check_off_pressed\" /&gt;\n\n    &lt;item android:state_checked=\"true\" android:state_focused=\"true\"\n          android:state_enabled=\"true\"\n          android:drawable=\"@drawable/btn_check_on_selected\" /&gt;\n    &lt;item android:state_checked=\"false\" android:state_focused=\"true\"\n          android:state_enabled=\"true\"\n          android:drawable=\"@drawable/btn_check_off_selected\" /&gt;\n\n    &lt;item android:state_checked=\"false\"\n          android:state_enabled=\"true\"\n          android:drawable=\"@drawable/btn_check_off\" /&gt;\n    &lt;item android:state_checked=\"true\"\n          android:state_enabled=\"true\"\n          android:drawable=\"@drawable/btn_check_on\" /&gt;\n\n\n    &lt;!-- Disabled states --&gt;\n\n    &lt;item android:state_checked=\"true\" android:state_window_focused=\"false\"\n          android:drawable=\"@drawable/btn_check_on_disable\" /&gt;\n    &lt;item android:state_checked=\"false\" android:state_window_focused=\"false\"\n          android:drawable=\"@drawable/btn_check_off_disable\" /&gt;\n\n    &lt;item android:state_checked=\"true\" android:state_focused=\"true\"\n          android:drawable=\"@drawable/btn_check_on_disable_focused\" /&gt;\n    &lt;item android:state_checked=\"false\" android:state_focused=\"true\"\n          android:drawable=\"@drawable/btn_check_off_disable_focused\" /&gt;\n\n    &lt;item android:state_checked=\"false\" android:drawable=\"@drawable/btn_check_off_disable\" /&gt;\n    &lt;item android:state_checked=\"true\" android:drawable=\"@drawable/btn_check_on_disable\" /&gt;\n\n&lt;/selector&gt;\n</code></pre>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":18236,"reputation":46374,"user_id":41619,"accept_rate":91,"display_name":"Adam Paynter"},"score":2,"creation_date":1304759916,"post_id":5920135,"comment_id":6817970,"body_markdown":"I recommend you become familiar with Java&#39;s documentation (it will answer many of your questions). For example, this is the documentation for `Map`&#39;s [`size()` method](http://download.oracle.com/javase/6/docs/api/java/util/Map.html#size()): &quot;Returns the number of key-value mappings in this map. If the map contains more than `Integer.MAX_VALUE` elements, returns `Integer.MAX_VALUE`.&quot;","body":"I recommend you become familiar with Java&#39;s documentation (it will answer many of your questions). For example, this is the documentation for <code>Map</code>&#39;s <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Map.html#size()\" rel=\"nofollow noreferrer\"><code>size()</code> method</a>: &quot;Returns the number of key-value mappings in this map. If the map contains more than <code>Integer.MAX_VALUE</code> elements, returns <code>Integer.MAX_VALUE</code>.&quot;"},{"owner":{"account_id":171452,"reputation":7936,"user_id":398885,"display_name":"d-live"},"score":0,"creation_date":1304761952,"post_id":5920135,"comment_id":6818192,"body_markdown":"Your code is looking for Values in Keys - which is not correct. Either look for key in Keys or value in Values","body":"Your code is looking for Values in Keys - which is not correct. Either look for key in Keys or value in Values"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1304769594,"post_id":5920135,"comment_id":6818975,"body_markdown":"If it has 1 key / value it will ofcourse have size 1. But this does not have anything to do with zero-based indexing.","body":"If it has 1 key / value it will ofcourse have size 1. But this does not have anything to do with zero-based indexing."},{"owner":{"account_id":2828461,"reputation":19324,"user_id":2430549,"display_name":"HoldOffHunger"},"score":0,"creation_date":1496616473,"post_id":5920135,"comment_id":75720916,"body_markdown":"This is a good question.  But there is an answer here provided here that can do this in one line, if you see Mingfei&#39;s solution.","body":"This is a good question.  But there is an answer here provided here that can do this in one line, if you see Mingfei&#39;s solution."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1304762147,"creation_date":1304759479,"answer_id":5920145,"question_id":5920135,"body_markdown":"You have several options\r\n\r\n- Get [`map.values()`](http://download.oracle.com/javase/6/docs/api/java/util/Map.html#values()) , which gets the values, not the keys\r\n- Get the [`map.entrySet()`](http://download.oracle.com/javase/6/docs/api/java/util/Map.html#entrySet()) which has both\r\n- Get the [`keySet()`](http://download.oracle.com/javase/6/docs/api/java/util/Map.html#keySet()) and for each key call [`map.get(key)`](http://download.oracle.com/javase/6/docs/api/java/util/Map.html#get(java.lang.Object))","title":"Printing HashMap In Java","body":"<p>You have several options</p>\n\n<ul>\n<li>Get <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Map.html#values()\" rel=\"noreferrer\"><code>map.values()</code></a> , which gets the values, not the keys</li>\n<li>Get the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Map.html#entrySet()\" rel=\"noreferrer\"><code>map.entrySet()</code></a> which has both</li>\n<li>Get the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Map.html#keySet()\" rel=\"noreferrer\"><code>keySet()</code></a> and for each key call <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Map.html#get(java.lang.Object)\" rel=\"noreferrer\"><code>map.get(key)</code></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":165320,"reputation":20240,"user_id":388661,"accept_rate":75,"display_name":"davmac"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1304759577,"creation_date":1304759577,"answer_id":5920155,"question_id":5920135,"body_markdown":"You want the value set, not the key set:\r\n\r\n    for (TypeValue name: this.example.values()) {\r\n            System.out.println(name);\r\n    }\r\n\r\nThe code you give wouldn&#39;t even compile, which may be worth mentioning in future questions - &quot;doesn&#39;t seem to work&quot; is a bit vague!\r\n","title":"Printing HashMap In Java","body":"<p>You want the value set, not the key set:</p>\n\n<pre><code>for (TypeValue name: this.example.values()) {\n        System.out.println(name);\n}\n</code></pre>\n\n<p>The code you give wouldn't even compile, which may be worth mentioning in future questions - \"doesn't seem to work\" is a bit vague!</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":5,"up_vote_count":223,"is_accepted":true,"score":218,"last_activity_date":1683633331,"creation_date":1304759611,"answer_id":5920157,"question_id":5920135,"body_markdown":"[`keySet()`][1] only returns a set of keys from your hash map, you should iterate this key set and the get the value from the hash map using these keys.\r\n\r\nIn your example, the type of the hash map&#39;s key is `TypeKey`, but you specified `TypeValue` in your generic `for-loop`, so it cannot be compiled. You should change it to:\r\n\r\n```java\r\nfor (TypeKey name: example.keySet()) {\r\n\tString key = name.toString();\r\n\tString value = example.get(name).toString();\r\n\tSystem.out.println(key + &quot; &quot; + value);\r\n}\r\n```\r\n\r\n*Update for Java8:*\r\n\r\n```java\r\nexample.forEach((key, value) -&gt; System.out.println(key + &quot; &quot; + value));\r\n```\r\n----------\r\n\r\nIf you don&#39;t require to print key value and just need the hash map value, you can use others&#39; suggestions.\r\n\r\n&gt; Another question: Is this collection is zero base? I mean if it has 1 key and value will it size be 0 or 1?\r\n\r\nThe collection returned from `keySet()` is a [`Set`][2]. You cannot get the value from a set using an index, so it is not a question of whether it is zero-based or one-based. If your hash map has one key, the `keySet()` returned will have one entry inside, and its size will be 1.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/HashMap.html#keySet%28%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/Set.html","title":"Printing HashMap In Java","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/HashMap.html#keySet%28%29\" rel=\"noreferrer\"><code>keySet()</code></a> only returns a set of keys from your hash map, you should iterate this key set and the get the value from the hash map using these keys.</p>\n<p>In your example, the type of the hash map's key is <code>TypeKey</code>, but you specified <code>TypeValue</code> in your generic <code>for-loop</code>, so it cannot be compiled. You should change it to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (TypeKey name: example.keySet()) {\n    String key = name.toString();\n    String value = example.get(name).toString();\n    System.out.println(key + &quot; &quot; + value);\n}\n</code></pre>\n<p><em>Update for Java8:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>example.forEach((key, value) -&gt; System.out.println(key + &quot; &quot; + value));\n</code></pre>\n<hr />\n<p>If you don't require to print key value and just need the hash map value, you can use others' suggestions.</p>\n<blockquote>\n<p>Another question: Is this collection is zero base? I mean if it has 1 key and value will it size be 0 or 1?</p>\n</blockquote>\n<p>The collection returned from <code>keySet()</code> is a <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Set.html\" rel=\"noreferrer\"><code>Set</code></a>. You cannot get the value from a set using an index, so it is not a question of whether it is zero-based or one-based. If your hash map has one key, the <code>keySet()</code> returned will have one entry inside, and its size will be 1.</p>\n"},{"tags":[],"owner":{"account_id":439324,"reputation":32505,"user_id":828193,"accept_rate":85,"display_name":"user000001"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1371047685,"creation_date":1371047685,"answer_id":17068246,"question_id":5920135,"body_markdown":"Assuming you have a `Map&lt;KeyType, ValueType&gt;`, you can print it like this:\r\n\r\n    for (Map.Entry&lt;KeyType, ValueType&gt; entry : map.entrySet()) {\r\n        System.out.println(entry.getKey()+&quot; : &quot;+entry.getValue());\r\n    }","title":"Printing HashMap In Java","body":"<p>Assuming you have a <code>Map&lt;KeyType, ValueType&gt;</code>, you can print it like this:</p>\n\n<pre><code>for (Map.Entry&lt;KeyType, ValueType&gt; entry : map.entrySet()) {\n    System.out.println(entry.getKey()+\" : \"+entry.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1991861,"reputation":577,"user_id":1785712,"display_name":"Venkatesh"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1539979831,"creation_date":1413777632,"answer_id":26458403,"question_id":5920135,"body_markdown":"To print both key and value, use the following:\r\n\r\n    for (Object objectName : example.keySet()) {\r\n       System.out.println(objectName);\r\n       System.out.println(example.get(objectName));\r\n     }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Printing HashMap In Java","body":"<p>To print both key and value, use the following:</p>\n\n<pre><code>for (Object objectName : example.keySet()) {\n   System.out.println(objectName);\n   System.out.println(example.get(objectName));\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5660787,"reputation":41,"user_id":4478518,"display_name":"Edson J&#250;nior"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1510851358,"creation_date":1421847752,"answer_id":28068729,"question_id":5920135,"body_markdown":"I did it using String map (if you&#39;re working with String Map).\r\n\r\n    for (Object obj : dados.entrySet()) {\r\n        Map.Entry&lt;String, String&gt; entry = (Map.Entry) obj;\r\n        System.out.print(&quot;Key: &quot; + entry.getKey());\r\n        System.out.println(&quot;, Value: &quot; + entry.getValue());\r\n    }","title":"Printing HashMap In Java","body":"<p>I did it using String map (if you're working with String Map).</p>\n\n<pre><code>for (Object obj : dados.entrySet()) {\n    Map.Entry&lt;String, String&gt; entry = (Map.Entry) obj;\n    System.out.print(\"Key: \" + entry.getKey());\n    System.out.println(\", Value: \" + entry.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1424435616,"creation_date":1424435616,"answer_id":28629144,"question_id":5920135,"body_markdown":"Worth mentioning Java 8 approach, using [`BiConsumer`](http://docs.oracle.com/javase/8/docs/api/java/util/function/BiConsumer.html) and lambda functions:\r\n\r\n    BiConsumer&lt;TypeKey, TypeValue&gt; consumer = (o1, o2) -&gt; \r\n               System.out.println(o1 + &quot;, &quot; + o2);\r\n    \r\n    example.forEach(consumer);\r\n\r\nAssuming that you&#39;ve overridden `toString` method of the two types if needed.","title":"Printing HashMap In Java","body":"<p>Worth mentioning Java 8 approach, using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/function/BiConsumer.html\" rel=\"noreferrer\"><code>BiConsumer</code></a> and lambda functions:</p>\n\n<pre><code>BiConsumer&lt;TypeKey, TypeValue&gt; consumer = (o1, o2) -&gt; \n           System.out.println(o1 + \", \" + o2);\n\nexample.forEach(consumer);\n</code></pre>\n\n<p>Assuming that you've overridden <code>toString</code> method of the two types if needed.</p>\n"},{"tags":[],"owner":{"account_id":4165053,"reputation":1499,"user_id":3414180,"display_name":"Mingfei"},"down_vote_count":1,"up_vote_count":122,"is_accepted":false,"score":121,"last_activity_date":1510849194,"creation_date":1446522908,"answer_id":33491115,"question_id":5920135,"body_markdown":"A simple way to see the key value pairs:\r\n\r\n    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;a&quot;, 1);\r\n    map.put(&quot;b&quot;, 2);\r\n    System.out.println(Arrays.asList(map)); // method 1\r\n    System.out.println(Collections.singletonList(map)); // method 2\r\n\r\nBoth method 1 and method 2 output this:\r\n\r\n    [{b=2, a=1}]","title":"Printing HashMap In Java","body":"<p>A simple way to see the key value pairs:</p>\n\n<pre><code>Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\nmap.put(\"a\", 1);\nmap.put(\"b\", 2);\nSystem.out.println(Arrays.asList(map)); // method 1\nSystem.out.println(Collections.singletonList(map)); // method 2\n</code></pre>\n\n<p>Both method 1 and method 2 output this:</p>\n\n<pre><code>[{b=2, a=1}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":329088,"reputation":1085,"user_id":652414,"accept_rate":70,"display_name":"ahmet"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1472459161,"creation_date":1472459161,"answer_id":39201684,"question_id":5920135,"body_markdown":"Java 8 new feature `forEach` style \r\n\r\n    import java.util.HashMap;\r\n    \r\n    public class PrintMap {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tHashMap&lt;String, Integer&gt; example = new HashMap&lt;&gt;();\r\n    \t\texample.put(&quot;a&quot;, 1);\r\n    \t\texample.put(&quot;b&quot;, 2);\r\n    \t\texample.put(&quot;c&quot;, 3);\r\n    \t\texample.put(&quot;d&quot;, 5);\r\n    \t\t\r\n    \t\texample.forEach((key, value) -&gt; System.out.println(key + &quot; : &quot; + value));\r\n    \t\t\r\n    //\t\tOutput:\r\n    //\t\ta : 1\r\n    //\t\tb : 2\r\n    //\t\tc : 3\r\n    //\t\td : 5\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"Printing HashMap In Java","body":"<p>Java 8 new feature <code>forEach</code> style </p>\n\n<pre><code>import java.util.HashMap;\n\npublic class PrintMap {\n    public static void main(String[] args) {\n        HashMap&lt;String, Integer&gt; example = new HashMap&lt;&gt;();\n        example.put(\"a\", 1);\n        example.put(\"b\", 2);\n        example.put(\"c\", 3);\n        example.put(\"d\", 5);\n\n        example.forEach((key, value) -&gt; System.out.println(key + \" : \" + value));\n\n//      Output:\n//      a : 1\n//      b : 2\n//      c : 3\n//      d : 5\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5162774,"reputation":1440,"user_id":4133874,"accept_rate":100,"display_name":"Sagar Chilukuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483095734,"creation_date":1483095734,"answer_id":41395174,"question_id":5920135,"body_markdown":"You can use `Entry` class to read `HashMap` easily.\r\n\r\n    for(Map.Entry&lt;TypeKey, TypeKey&gt; temp : example.entrySet()){\r\n\t\tSystem.out.println(temp.getValue()); // Or something as per temp defination. can be used\r\n\t}\r\n","title":"Printing HashMap In Java","body":"<p>You can use <code>Entry</code> class to read <code>HashMap</code> easily.</p>\n\n<pre><code>for(Map.Entry&lt;TypeKey, TypeKey&gt; temp : example.entrySet()){\n    System.out.println(temp.getValue()); // Or something as per temp defination. can be used\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2991424,"reputation":41,"user_id":2538943,"display_name":"Thirukka Karnan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510851342,"creation_date":1483661679,"answer_id":41496959,"question_id":5920135,"body_markdown":"If the map holds a collection as value, the other answers require additional effort to convert them as strings, such as `Arrays.deepToString(value.toArray())` (if its a map of list values), etc.\r\n\r\nI faced these issues quite often and came across the generic function to print all objects using `ObjectMappers`. This is quite handy at all the places, especially during experimenting things, and I would recommend you to choose this way.\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializationFeature;\r\n\r\n    public static String convertObjectAsString(Object object) {\r\n        String s = &quot;&quot;;\r\n        ObjectMapper om = new ObjectMapper();\r\n        try {\r\n            om.enable(SerializationFeature.INDENT_OUTPUT);\r\n            s = om.writeValueAsString(object);\r\n        } catch (Exception e) {\r\n            log.error(&quot;error converting object to string - &quot; + e);\r\n        }\r\n        return s;\r\n    }\r\n","title":"Printing HashMap In Java","body":"<p>If the map holds a collection as value, the other answers require additional effort to convert them as strings, such as <code>Arrays.deepToString(value.toArray())</code> (if its a map of list values), etc.</p>\n\n<p>I faced these issues quite often and came across the generic function to print all objects using <code>ObjectMappers</code>. This is quite handy at all the places, especially during experimenting things, and I would recommend you to choose this way.</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\n\npublic static String convertObjectAsString(Object object) {\n    String s = \"\";\n    ObjectMapper om = new ObjectMapper();\n    try {\n        om.enable(SerializationFeature.INDENT_OUTPUT);\n        s = om.writeValueAsString(object);\n    } catch (Exception e) {\n        log.error(\"error converting object to string - \" + e);\n    }\n    return s;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6857032,"reputation":685,"user_id":5272283,"accept_rate":36,"display_name":"arjun gulyani"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1510848746,"creation_date":1510848746,"answer_id":47334327,"question_id":5920135,"body_markdown":"A simple print statement with the variable name which contains the reference of the Hash Map would do :\r\n\r\n    HashMap&lt;K,V&gt; HM = new HashMap&lt;&gt;(); //empty\r\n    System.out.println(HM); //prints key value pairs enclosed in {}\r\n\r\n\r\nThis works because the `toString()`method is already over-ridden in the `AbstractMap class` which is extended by the `HashMap Class`\r\nMore information from the documentation \r\n&gt;Returns a string representation of this map. The string representation consists of a list of key-value mappings in the order returned by the map&#39;s entrySet view&#39;s iterator, enclosed in braces (&quot;{}&quot;). Adjacent mappings are separated by the characters &quot;, &quot; (comma and space). Each key-value mapping is rendered as the key followed by an equals sign (&quot;=&quot;) followed by the associated value. Keys and values are converted to strings as by String.valueOf(Object).","title":"Printing HashMap In Java","body":"<p>A simple print statement with the variable name which contains the reference of the Hash Map would do :</p>\n\n<pre><code>HashMap&lt;K,V&gt; HM = new HashMap&lt;&gt;(); //empty\nSystem.out.println(HM); //prints key value pairs enclosed in {}\n</code></pre>\n\n<p>This works because the <code>toString()</code>method is already over-ridden in the <code>AbstractMap class</code> which is extended by the <code>HashMap Class</code>\nMore information from the documentation </p>\n\n<blockquote>\n  <p>Returns a string representation of this map. The string representation consists of a list of key-value mappings in the order returned by the map's entrySet view's iterator, enclosed in braces (\"{}\"). Adjacent mappings are separated by the characters \", \" (comma and space). Each key-value mapping is rendered as the key followed by an equals sign (\"=\") followed by the associated value. Keys and values are converted to strings as by String.valueOf(Object).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1537187542,"creation_date":1537187542,"answer_id":52367834,"question_id":5920135,"body_markdown":"For me this simple one line worked well:\r\n\r\n    Arrays.toString(map.entrySet().toArray())","title":"Printing HashMap In Java","body":"<p>For me this simple one line worked well:</p>\n\n<pre><code>Arrays.toString(map.entrySet().toArray())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9469769,"reputation":678,"user_id":7040932,"display_name":"ThReSholD"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1551672368,"creation_date":1551672368,"answer_id":54976470,"question_id":5920135,"body_markdown":"Useful to quickly print entries in a HashMap\r\n\r\n    System.out.println(Arrays.toString(map.entrySet().toArray()));\r\n\r\n","title":"Printing HashMap In Java","body":"<p>Useful to quickly print entries in a HashMap</p>\n\n<pre><code>System.out.println(Arrays.toString(map.entrySet().toArray()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14044283,"reputation":733,"user_id":10144963,"display_name":"Th0rgal"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1560235489,"creation_date":1560183616,"answer_id":56530038,"question_id":5920135,"body_markdown":"    map.forEach((key, value) -&gt; System.out.println(key + &quot; &quot; + value));\r\nUsing java 8 features","title":"Printing HashMap In Java","body":"<pre><code>map.forEach((key, value) -&gt; System.out.println(key + \" \" + value));\n</code></pre>\n\n<p>Using java 8 features</p>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629213431,"creation_date":1629212416,"answer_id":68819676,"question_id":5920135,"body_markdown":"Using java 8 feature:\r\n\r\n        map.forEach((key, value) -&gt; System.out.println(key + &quot; : &quot; + value));\r\n\r\nUsing Map.Entry you can print like this:\r\n\r\n     for(Map.Entry entry:map.entrySet())\r\n    {\r\n        System.out.print(entry.getKey() + &quot; : &quot; + entry.getValue());\r\n    }\r\nTraditional way to get all keys and values from the map, you have to follow this sequence:\r\n\r\n - Convert `HashMap` to `MapSet` to get set of entries in `Map` with `entryset()` method.:&lt;br&gt; `Set dataset = map.entrySet();`\r\n - Get the iterator of this set: &lt;br&gt;`Iterator it = dataset.iterator();`\r\n - Get `Map.Entry` from the iterator: &lt;br&gt;`Map.Entry entry = it.next();`\r\n - use `getKey()` and `getValue()` methods of the `Map.Entry` to retrive keys and values.\r\n\r\n&lt;!-- language: java --&gt;\r\n    \r\n    Set dataset = (Set) map.entrySet();\r\n    Iterator it = dataset.iterator();\r\n    while(it.hasNext()){\r\n        Map.Entry entry = mapIterator.next();\r\n        System.out.print(entry.getKey() + &quot; : &quot; + entry.getValue());\r\n    }\r\n","title":"Printing HashMap In Java","body":"<p>Using java 8 feature:</p>\n<pre><code>    map.forEach((key, value) -&gt; System.out.println(key + &quot; : &quot; + value));\n</code></pre>\n<p>Using Map.Entry you can print like this:</p>\n<pre><code> for(Map.Entry entry:map.entrySet())\n{\n    System.out.print(entry.getKey() + &quot; : &quot; + entry.getValue());\n}\n</code></pre>\n<p>Traditional way to get all keys and values from the map, you have to follow this sequence:</p>\n<ul>\n<li>Convert <code>HashMap</code> to <code>MapSet</code> to get set of entries in <code>Map</code> with <code>entryset()</code> method.:<br> <code>Set dataset = map.entrySet();</code></li>\n<li>Get the iterator of this set: <br><code>Iterator it = dataset.iterator();</code></li>\n<li>Get <code>Map.Entry</code> from the iterator: <br><code>Map.Entry entry = it.next();</code></li>\n<li>use <code>getKey()</code> and <code>getValue()</code> methods of the <code>Map.Entry</code> to retrive keys and values.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>Set dataset = (Set) map.entrySet();\nIterator it = dataset.iterator();\nwhile(it.hasNext()){\n    Map.Entry entry = mapIterator.next();\n    System.out.print(entry.getKey() + &quot; : &quot; + entry.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17737955,"reputation":1051,"user_id":12878982,"display_name":"CodingBee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631022395,"creation_date":1631022395,"answer_id":69089400,"question_id":5920135,"body_markdown":"Print a Map using java 8\r\n\r\n    Map&lt;Long, String&gt; productIdAndTypeMapping = new LinkedHashMap&lt;&gt;();\r\n    productIdAndTypeMapping.forEach((k, v) -&gt; log.info(&quot;Product Type Key: &quot; + k + &quot;: Value: &quot; + v));","title":"Printing HashMap In Java","body":"<p>Print a Map using java 8</p>\n<pre><code>Map&lt;Long, String&gt; productIdAndTypeMapping = new LinkedHashMap&lt;&gt;();\nproductIdAndTypeMapping.forEach((k, v) -&gt; log.info(&quot;Product Type Key: &quot; + k + &quot;: Value: &quot; + v));\n</code></pre>\n"}],"owner":{"account_id":256928,"reputation":44771,"user_id":537967,"accept_rate":75,"display_name":"Unknown user"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":749667,"favorite_count":0,"down_vote_count":1,"up_vote_count":184,"accepted_answer_id":5920157,"answer_count":17,"score":183,"last_activity_date":1683633331,"creation_date":1304759356,"question_id":5920135,"body_markdown":"I have a `HashMap`:\r\n```java\r\nprivate HashMap&lt;TypeKey, TypeValue&gt; example = new HashMap&lt;TypeKey, TypeValue&gt;();\r\n```\r\nNow I would like to run through all the values and print them.\r\n\r\nI wrote this:\r\n```java\r\nfor (TypeValue name : this.example.keySet()) {\r\n    System.out.println(name);\r\n}\r\n```\r\nIt doesn&#39;t seem to work.\r\n\r\nWhat is the problem?\r\n\r\nEDIT:\r\nAnother question: Is this collection zero based? I mean if it has 1 key and value will the size be 0 or 1?","title":"Printing HashMap In Java","body":"<p>I have a <code>HashMap</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private HashMap&lt;TypeKey, TypeValue&gt; example = new HashMap&lt;TypeKey, TypeValue&gt;();\n</code></pre>\n<p>Now I would like to run through all the values and print them.</p>\n<p>I wrote this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (TypeValue name : this.example.keySet()) {\n    System.out.println(name);\n}\n</code></pre>\n<p>It doesn't seem to work.</p>\n<p>What is the problem?</p>\n<p>EDIT:\nAnother question: Is this collection zero based? I mean if it has 1 key and value will the size be 0 or 1?</p>\n"},{"tags":["java","logging","glassfish","dst"],"answers":[{"tags":[],"owner":{"account_id":329612,"reputation":71055,"user_id":653230,"display_name":"WhiteFang34"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1300381311,"creation_date":1300381311,"answer_id":5342524,"question_id":5315512,"body_markdown":"You might need to update the JVM to get the latest time zone information. Or use the [Timezone Updater Tool][1].\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html","title":"Glassfish Logs Date and DST?","body":"<p>You might need to update the JVM to get the latest time zone information. Or use the <a href=\"http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html\" rel=\"nofollow\">Timezone Updater Tool</a>.</p>\n"}],"owner":{"account_id":32433,"reputation":5697,"user_id":90042,"accept_rate":98,"display_name":"Joseph Weissman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":922,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":5342524,"answer_count":1,"score":1,"last_activity_date":1683632556,"creation_date":1300209849,"question_id":5315512,"body_markdown":"So, the system time on my Ubuntu server updated appropriately with DST on Sunday. \r\n\r\nHowever, the timestamp on my glassfish logs are still an hour off. I&#39;ve restarted the application server, but this doesn&#39;t seem to have changed anything. \r\n\r\nA quick hello-world indicates that the JVM grabs the (correct) system time. Any ideas on why \r\nthe time in the glassfish logs do not match the system or JVM date and time?\r\n\r\nAs suggested, I&#39;ve also run the `tzupdate` tool. This does not seem to have done much.\r\n\r\nAny ideas what&#39;s going on? How can I repair this?","title":"Glassfish Logs Date and DST?","body":"<p>So, the system time on my Ubuntu server updated appropriately with DST on Sunday. </p>\n\n<p>However, the timestamp on my glassfish logs are still an hour off. I've restarted the application server, but this doesn't seem to have changed anything. </p>\n\n<p>A quick hello-world indicates that the JVM grabs the (correct) system time. Any ideas on why \nthe time in the glassfish logs do not match the system or JVM date and time?</p>\n\n<p>As suggested, I've also run the <code>tzupdate</code> tool. This does not seem to have done much.</p>\n\n<p>Any ideas what's going on? How can I repair this?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jooq"],"comments":[{"owner":{"account_id":4890986,"reputation":1123,"user_id":3942132,"display_name":"Roie Beck"},"score":1,"creation_date":1683621261,"post_id":76204110,"comment_id":134390667,"body_markdown":"Don&#39;t know who downvoted that looks like a legitimate question, \napart from you link see:\n\nhttps://www.jooq.org/doc/3.18/manual/sql-execution/alternative-execution-models/using-jooq-with-jpa/\n\nit should be ok as long as you use the same connection pool(HikariCP for example)","body":"Don&#39;t know who downvoted that looks like a legitimate question,  apart from you link see:  <a href=\"https://www.jooq.org/doc/3.18/manual/sql-execution/alternative-execution-models/using-jooq-with-jpa/\" rel=\"nofollow noreferrer\">jooq.org/doc/3.18/manual/sql-execution/&hellip;</a>  it should be ok as long as you use the same connection pool(HikariCP for example)"}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683632552,"creation_date":1683632552,"answer_id":76208949,"question_id":76204110,"body_markdown":"&gt; The problem is I am not 100% sure that it&#39;s ok to use jooq for this specific endpoint and continue using jpa for the rest of my app. \r\n\r\nIt&#39;s totally OK.\r\n\r\n&gt; the solution is to make the jooq queries by calling `em.createNativeQuery()`\r\n\r\nIt&#39;s not necessary to use `em.createNativeQuery()`.\r\n\r\nIf you really want to reuse the `Connection`/`Transaction` that Hibernate is using, you could use `Session.doWork()` or `Session.doReturningWork()`. (You would need to cast the `EntityManager` to `Session`.)\r\n\r\nBut even this is not necessary. Relational databases are meant to serve many different clients in a distributed system at the same time. You are not supposed to have to force your access to the database through one particular technology.\r\n\r\n&gt; Is it really necessary to use the entity manager for all requests to keep data coherent?\r\n\r\nNo. Absolutely not. That would go against *everything* that relational databases are about. _Of course_ Hibernate would never force you to do that.\r\n\r\n&gt; For example is there a problem using jdbc template and jpa in the same app without any preparation?\r\n\r\nDefinitely not. That&#39;s completely fine.\r\n\r\nThere&#39;s just one thing you need to be careful about: if you use JPA and direct JDBC together in *a single unit of work*, you need to make sure that the work is happening inside a single transaction.\r\n\r\nI&#39;m not a Spring user but I&#39;m sure Spring will take care of this detail for you.","title":"use jooq in a project that already uses jpa","body":"<blockquote>\n<p>The problem is I am not 100% sure that it's ok to use jooq for this specific endpoint and continue using jpa for the rest of my app.</p>\n</blockquote>\n<p>It's totally OK.</p>\n<blockquote>\n<p>the solution is to make the jooq queries by calling <code>em.createNativeQuery()</code></p>\n</blockquote>\n<p>It's not necessary to use <code>em.createNativeQuery()</code>.</p>\n<p>If you really want to reuse the <code>Connection</code>/<code>Transaction</code> that Hibernate is using, you could use <code>Session.doWork()</code> or <code>Session.doReturningWork()</code>. (You would need to cast the <code>EntityManager</code> to <code>Session</code>.)</p>\n<p>But even this is not necessary. Relational databases are meant to serve many different clients in a distributed system at the same time. You are not supposed to have to force your access to the database through one particular technology.</p>\n<blockquote>\n<p>Is it really necessary to use the entity manager for all requests to keep data coherent?</p>\n</blockquote>\n<p>No. Absolutely not. That would go against <em>everything</em> that relational databases are about. <em>Of course</em> Hibernate would never force you to do that.</p>\n<blockquote>\n<p>For example is there a problem using jdbc template and jpa in the same app without any preparation?</p>\n</blockquote>\n<p>Definitely not. That's completely fine.</p>\n<p>There's just one thing you need to be careful about: if you use JPA and direct JDBC together in <em>a single unit of work</em>, you need to make sure that the work is happening inside a single transaction.</p>\n<p>I'm not a Spring user but I'm sure Spring will take care of this detail for you.</p>\n"}],"owner":{"account_id":14183682,"reputation":345,"user_id":10246394,"display_name":"Imu Sama"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76208949,"answer_count":1,"score":1,"last_activity_date":1683632552,"creation_date":1683577332,"question_id":76204110,"body_markdown":"I have a spring boot project that uses jpa with hibernate and spring data to access database.\r\nI have a many to many mapping between products and their locations (on shelves).\r\nThe product entity has a collection of shelves and vice versa.\r\nI initially didn&#39;t need to return the locations to the client so i added @JsonProperty(access = JsonProperty.Access.WRITE_ONLY) to the locations field in the product entity.\r\nNow I need to send it so i removed the write_only and noticed my endpoint slowed down (from 75 ms to 450 ms loading time).\r\nThinking about solutions to optimize I decided to try making a similar request with jooq and it&#39;s much faster ( ~ 90 ms). \r\nI used the multiset functionnality of jooq and converters to fetch into a new product dto that has a collection of locations.\r\nI find this way of doing it perfect and I don&#39;t get the problem I had with jpa that product has locations, each locations has products and products has locations infinitely.\r\n\r\nHere is the example I used : [jooq multiset and converters][1]\r\n\r\n\r\nThe problem is I am not 100% sure that it&#39;s ok to use jooq for this specific endpoint and continue using jpa for the rest of my app.\r\nI am afraid the data fetched with jooq will not always be coherent with data handled by jpa because for some reasons I don&#39;t fully understand but i think it&#39;s related to flush modes, the changes made from hibernate are not automatically sent to the database.\r\n\r\nHere is an article I found on how to use jooq and jpa in the same app [jooq with hibernate][2] : the solution is to make the jooq queries by calling em.createNativeQuery\r\n\r\nBut this prevents me from using the powerfull jooq converters to map the query result directly to dto even with multisets nested collections.\r\n\r\nIs it really necessary to use the entity manager for all requests to keep data coherent ? I would like to understand enough jpa so that the answer to these kind of questions will become clear. For example is there a problem using jdbc template and jpa in the same app without any preparation ? \r\n\r\n\r\n  [1]: https://github.com/PacktPublishing/jOOQ-Masterclass/blob/410b7c63c5b018a6f6ae40285de12d2c591d4a9f/Chapter08/PostgreSQL/Maven/Multiset/NestedMultiset/src/main/java/com/classicmodels/repository/ClassicModelsRepository.java#L79\r\n  [2]: https://thorben-janssen.com/hibernate-jooq-a-match-made-in-heaven/","title":"use jooq in a project that already uses jpa","body":"<p>I have a spring boot project that uses jpa with hibernate and spring data to access database.\nI have a many to many mapping between products and their locations (on shelves).\nThe product entity has a collection of shelves and vice versa.\nI initially didn't need to return the locations to the client so i added @JsonProperty(access = JsonProperty.Access.WRITE_ONLY) to the locations field in the product entity.\nNow I need to send it so i removed the write_only and noticed my endpoint slowed down (from 75 ms to 450 ms loading time).\nThinking about solutions to optimize I decided to try making a similar request with jooq and it's much faster ( ~ 90 ms).\nI used the multiset functionnality of jooq and converters to fetch into a new product dto that has a collection of locations.\nI find this way of doing it perfect and I don't get the problem I had with jpa that product has locations, each locations has products and products has locations infinitely.</p>\n<p>Here is the example I used : <a href=\"https://github.com/PacktPublishing/jOOQ-Masterclass/blob/410b7c63c5b018a6f6ae40285de12d2c591d4a9f/Chapter08/PostgreSQL/Maven/Multiset/NestedMultiset/src/main/java/com/classicmodels/repository/ClassicModelsRepository.java#L79\" rel=\"nofollow noreferrer\">jooq multiset and converters</a></p>\n<p>The problem is I am not 100% sure that it's ok to use jooq for this specific endpoint and continue using jpa for the rest of my app.\nI am afraid the data fetched with jooq will not always be coherent with data handled by jpa because for some reasons I don't fully understand but i think it's related to flush modes, the changes made from hibernate are not automatically sent to the database.</p>\n<p>Here is an article I found on how to use jooq and jpa in the same app <a href=\"https://thorben-janssen.com/hibernate-jooq-a-match-made-in-heaven/\" rel=\"nofollow noreferrer\">jooq with hibernate</a> : the solution is to make the jooq queries by calling em.createNativeQuery</p>\n<p>But this prevents me from using the powerfull jooq converters to map the query result directly to dto even with multisets nested collections.</p>\n<p>Is it really necessary to use the entity manager for all requests to keep data coherent ? I would like to understand enough jpa so that the answer to these kind of questions will become clear. For example is there a problem using jdbc template and jpa in the same app without any preparation ?</p>\n"},{"tags":["java","unit-testing","junit"],"answers":[{"tags":[],"owner":{"account_id":1233122,"reputation":3934,"user_id":1197297,"accept_rate":67,"display_name":"StvnBrkdll"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1629828041,"creation_date":1505786542,"answer_id":46290687,"question_id":46290503,"body_markdown":"You can use `PowerMockito` to mock static methods. This code demonstrates mocking the `System` class and stubbing `getenv()`\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({System.class})\r\n    public class Xxx {\r\n    \r\n        @Test\r\n        public void testThis() throws Exception {\r\n            System.setProperty(&quot;test-prop&quot;, &quot;test-value&quot;);\r\n            PowerMockito.mockStatic(System.class);\r\n    \r\n            PowerMockito.when(System.getenv(Mockito.eq(&quot;name&quot;))).thenReturn(&quot;bart&quot;);\r\n            // you will need to do this (thenCallRealMethod()) for all the other methods\r\n            PowerMockito.when(System.getProperty(Mockito.any())).thenCallRealMethod();\r\n    \r\n            Assert.assertEquals(&quot;bart&quot;, System.getenv(&quot;name&quot;));\r\n            Assert.assertEquals(&quot;test-value&quot;, System.getProperty(&quot;test-prop&quot;));\r\n        }\r\n    }\r\n\r\nI believe this illustrates what you are trying to accomplish.\r\nThere _may_ be a more elegant way to do this using PowerMockito.spy(), I just can&#39;t remember it.\r\n\r\nYou will need to do `thenCallRealMethod()` for all the other methods in System.class that get called directly or indirectly by your code.","title":"Having trouble mocking System.getenv calls in junit","body":"<p>You can use <code>PowerMockito</code> to mock static methods. This code demonstrates mocking the <code>System</code> class and stubbing <code>getenv()</code></p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({System.class})\npublic class Xxx {\n\n    @Test\n    public void testThis() throws Exception {\n        System.setProperty(&quot;test-prop&quot;, &quot;test-value&quot;);\n        PowerMockito.mockStatic(System.class);\n\n        PowerMockito.when(System.getenv(Mockito.eq(&quot;name&quot;))).thenReturn(&quot;bart&quot;);\n        // you will need to do this (thenCallRealMethod()) for all the other methods\n        PowerMockito.when(System.getProperty(Mockito.any())).thenCallRealMethod();\n\n        Assert.assertEquals(&quot;bart&quot;, System.getenv(&quot;name&quot;));\n        Assert.assertEquals(&quot;test-value&quot;, System.getProperty(&quot;test-prop&quot;));\n    }\n}\n</code></pre>\n<p>I believe this illustrates what you are trying to accomplish.\nThere <em>may</em> be a more elegant way to do this using PowerMockito.spy(), I just can't remember it.</p>\n<p>You will need to do <code>thenCallRealMethod()</code> for all the other methods in System.class that get called directly or indirectly by your code.</p>\n"},{"tags":[],"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605883047,"creation_date":1605864225,"answer_id":64926862,"question_id":46290503,"body_markdown":"This can be achieved with https://github.com/webcompere/system-stubs \r\n\r\nYou have a couple of options:\r\n\r\n```java\r\nEnvironmentVariables environmentVariables = new EnvironmentVariables(&quot;VARIABLE&quot;, &quot;http://testurl&quot;);\r\n\r\n// then put the test code inside an execute method\r\nenvironmentVariables.execute(() -&gt; {\r\n   // inside here, the VARIABLE will contain the test value\r\n});\r\n\r\n// out here, the system variables are back to normal\r\n```\r\n\r\nOr it can be done with a JUnit4 or 5 plugin:\r\n\r\n```java\r\n@ExtendWith(SystemStubsExtension.class)\r\nclass SomeTest {\r\n\r\n    @SystemStub\r\n    private EnvironmentVariables environment = new EnvironmentVariables(&quot;VARIABLE&quot;, &quot;http://testurl&quot;);\r\n\r\n    @Test\r\n    void someTest() {\r\n        // inside the test the variable is set\r\n        // we can also change environment variables:\r\n\r\n        environment.set(&quot;OTHER&quot;, &quot;value&quot;);\r\n    }\r\n\r\n}\r\n```","title":"Having trouble mocking System.getenv calls in junit","body":"<p>This can be achieved with <a href=\"https://github.com/webcompere/system-stubs\" rel=\"nofollow noreferrer\">https://github.com/webcompere/system-stubs</a></p>\n<p>You have a couple of options:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EnvironmentVariables environmentVariables = new EnvironmentVariables(&quot;VARIABLE&quot;, &quot;http://testurl&quot;);\n\n// then put the test code inside an execute method\nenvironmentVariables.execute(() -&gt; {\n   // inside here, the VARIABLE will contain the test value\n});\n\n// out here, the system variables are back to normal\n</code></pre>\n<p>Or it can be done with a JUnit4 or 5 plugin:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SystemStubsExtension.class)\nclass SomeTest {\n\n    @SystemStub\n    private EnvironmentVariables environment = new EnvironmentVariables(&quot;VARIABLE&quot;, &quot;http://testurl&quot;);\n\n    @Test\n    void someTest() {\n        // inside the test the variable is set\n        // we can also change environment variables:\n\n        environment.set(&quot;OTHER&quot;, &quot;value&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16910112,"reputation":1,"user_id":12229377,"display_name":"hiteshree neve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683632370,"creation_date":1683621416,"answer_id":76207344,"question_id":46290503,"body_markdown":"Make the below changes to your `pom.xml`:\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;2.22.2&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n   &lt;environmentVariables&gt;\r\n      &lt;PROPERTY_NAME&gt;PROPERTY_VALUE&lt;/PROPERTY_NAME&gt;\r\n   &lt;/environmentVariables&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/dependency&gt;\r\n```\r\nDetailed answer can be found [here][1].\r\n\r\n  [1]: https://stackoverflow.com/a/76070256/12229377","title":"Having trouble mocking System.getenv calls in junit","body":"<p>Make the below changes to your <code>pom.xml</code>:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.22.2&lt;/version&gt;\n  &lt;configuration&gt;\n   &lt;environmentVariables&gt;\n      &lt;PROPERTY_NAME&gt;PROPERTY_VALUE&lt;/PROPERTY_NAME&gt;\n   &lt;/environmentVariables&gt;\n  &lt;/configuration&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Detailed answer can be found <a href=\"https://stackoverflow.com/a/76070256/12229377\">here</a>.</p>\n"}],"owner":{"account_id":7815977,"reputation":265,"user_id":5910671,"accept_rate":41,"display_name":"PCR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28645,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":46290687,"answer_count":3,"score":7,"last_activity_date":1683632370,"creation_date":1505785191,"question_id":46290503,"body_markdown":"I&#39;m trying to write a unit test with junit and mockito (very new to this) for a Spring Boot application. Basically in my code, I have specified an environment variable for a specific URL in a manifest.yml file (for deployment) that I can access through `String URL = System.getenv(&quot;VARIABLE&quot;)` in my code. I&#39;m having a lot of trouble with my unit testing however, since the `URL` variable is obviously undefined. I tried the solution [here][1], but realized this is only for mocking an environment variable if you&#39;re calling it from the actual test itself, not if you&#39;re relying on the environment variable being accessible from the code.\r\n\r\nIs there any way to set it up so that when the test is run, I can set environment variables that can be accessed within the code?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8168884/how-to-test-code-dependent-on-environment-variables-using-junit/8169008","title":"Having trouble mocking System.getenv calls in junit","body":"<p>I'm trying to write a unit test with junit and mockito (very new to this) for a Spring Boot application. Basically in my code, I have specified an environment variable for a specific URL in a manifest.yml file (for deployment) that I can access through <code>String URL = System.getenv(\"VARIABLE\")</code> in my code. I'm having a lot of trouble with my unit testing however, since the <code>URL</code> variable is obviously undefined. I tried the solution <a href=\"https://stackoverflow.com/questions/8168884/how-to-test-code-dependent-on-environment-variables-using-junit/8169008\">here</a>, but realized this is only for mocking an environment variable if you're calling it from the actual test itself, not if you're relying on the environment variable being accessible from the code.</p>\n\n<p>Is there any way to set it up so that when the test is run, I can set environment variables that can be accessed within the code?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1583745691,"post_id":60576554,"comment_id":107206561,"body_markdown":"Do you use any custom plugins?","body":"Do you use any custom plugins?"}],"answers":[{"tags":[],"owner":{"account_id":1228519,"reputation":31,"user_id":11876059,"display_name":"Marcos Jr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666345203,"creation_date":1666345203,"answer_id":74151727,"question_id":60576554,"body_markdown":"In my *specific* case it was happening because I had disabled InteliJ IDEA&#39;s formatter:\r\n\r\n[![Settings | Editor | Code Style | Formatter tab][1]][1]\r\n\r\n(I added the * in the &quot;Do not format&quot; text box).\r\n\r\nSettings | Editor | Code Style | Formatter tab\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LCIVf.png","title":"Intellij new import goes to same line as the previous imported class","body":"<p>In my <em>specific</em> case it was happening because I had disabled InteliJ IDEA's formatter:</p>\n<p><a href=\"https://i.stack.imgur.com/LCIVf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LCIVf.png\" alt=\"Settings | Editor | Code Style | Formatter tab\" /></a></p>\n<p>(I added the * in the &quot;Do not format&quot; text box).</p>\n<p>Settings | Editor | Code Style | Formatter tab</p>\n"},{"tags":[],"owner":{"account_id":21864839,"reputation":1,"user_id":16155176,"display_name":"user16155176"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683632206,"creation_date":1683632206,"answer_id":76208893,"question_id":60576554,"body_markdown":"In my specific case is happened because I had old an codestyle plugin. Updating and restarting IntelliJ fixed it.","title":"Intellij new import goes to same line as the previous imported class","body":"<p>In my specific case is happened because I had old an codestyle plugin. Updating and restarting IntelliJ fixed it.</p>\n"}],"owner":{"account_id":4888372,"reputation":129,"user_id":3940148,"display_name":"Secondo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683632206,"creation_date":1583576589,"question_id":60576554,"body_markdown":"[![import goes to same line as the previous import][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eOwuw.png\r\n\r\n\r\nhi guys \r\n\r\n  im using IntelliJ 2019.3.2 , i&#39;ve been searching on how i can change the way new import added in my code (no luck) already checked the Code Style area , as you guys can see my new imported class goes to same line as the previous imported class..\r\n\r\n","title":"Intellij new import goes to same line as the previous imported class","body":"<p><a href=\"https://i.stack.imgur.com/eOwuw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eOwuw.png\" alt=\"import goes to same line as the previous import\"></a></p>\n\n<p>hi guys </p>\n\n<p>im using IntelliJ 2019.3.2 , i've been searching on how i can change the way new import added in my code (no luck) already checked the Code Style area , as you guys can see my new imported class goes to same line as the previous imported class..</p>\n"},{"tags":["java","security","ocsp","jca","pkix"],"comments":[{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1683877790,"post_id":76192992,"comment_id":134436775,"body_markdown":"Another way would be to implement a custom PKIXRevocationChecker class...","body":"Another way would be to implement a custom PKIXRevocationChecker class..."}],"answers":[{"tags":[],"owner":{"account_id":3640818,"reputation":1743,"user_id":3034938,"accept_rate":100,"display_name":"Pushpendra Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683631987,"creation_date":1683631987,"answer_id":76208865,"question_id":76192992,"body_markdown":"`sun.security.validator.ValidatorException` exception does not provide direct access to the `CertPathValidatorException` or its message.\r\n\r\nHowever, you can catch the `ValidatorException` and inspect its cause to see if it is a `CertPathBuilderException`. If it is, you can then catch its cause and check if it is a `CertPathValidatorException`. If it is, you can then access its message using the `getMessage()` method.\r\n\r\n```java\r\ntry {\r\n    // your code that throws the ValidatorException\r\n} catch (ValidatorException e) {\r\n    Throwable cause = e.getCause();\r\n    if (cause instanceof CertPathBuilderException) {\r\n        CertPathBuilderException cpbe = (CertPathBuilderException) cause;\r\n        Throwable cpbeCause = cpbe.getCause();\r\n        if (cpbeCause instanceof CertPathValidatorException) {\r\n            CertPathValidatorException cpve = (CertPathValidatorException) cpbeCause;\r\n            String message = cpve.getMessage();\r\n            // handle or display the message here\r\n        }\r\n    }\r\n}\r\n```\r\ncatching the exception and inspecting its cause may not be the most elegant solution, but it should allow you to access the underlying `CertPathValidatorException` message that you are interested ","title":"How to get hold of the cause of the PKIX path building failed Exception","body":"<p><code>sun.security.validator.ValidatorException</code> exception does not provide direct access to the <code>CertPathValidatorException</code> or its message.</p>\n<p>However, you can catch the <code>ValidatorException</code> and inspect its cause to see if it is a <code>CertPathBuilderException</code>. If it is, you can then catch its cause and check if it is a <code>CertPathValidatorException</code>. If it is, you can then access its message using the <code>getMessage()</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    // your code that throws the ValidatorException\n} catch (ValidatorException e) {\n    Throwable cause = e.getCause();\n    if (cause instanceof CertPathBuilderException) {\n        CertPathBuilderException cpbe = (CertPathBuilderException) cause;\n        Throwable cpbeCause = cpbe.getCause();\n        if (cpbeCause instanceof CertPathValidatorException) {\n            CertPathValidatorException cpve = (CertPathValidatorException) cpbeCause;\n            String message = cpve.getMessage();\n            // handle or display the message here\n        }\n    }\n}\n</code></pre>\n<p>catching the exception and inspecting its cause may not be the most elegant solution, but it should allow you to access the underlying <code>CertPathValidatorException</code> message that you are interested</p>\n"}],"owner":{"account_id":6974,"reputation":6156,"user_id":11906,"accept_rate":87,"display_name":"Paralife"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683631987,"creation_date":1683450067,"question_id":76192992,"body_markdown":"I am getting the well known `PKIX path building failed` exception, and to find the underlying cause i have to enable java.security.debug=certpath and look at the logs. In my case the cause is \r\n\r\n&gt; certpath: SunCertPathBuilder.depthFirstSearchForward(): final verification failed: java.security.cert.CertPathValidatorException: Certificate does not specify OCSP responder\r\n\r\nbut my problem is that I cannot get to the above underlying cause programmatically because the exception thrown(see below) is in the sun.security.validator package which I cannot import and even if I could I am not sure it contains any references to the underlying cause (please correct me if I am wrong)\r\n\r\nI am using Java 17\r\n\r\nThe relevant code is: \r\n\r\n    PKIXBuilderParameters params = new PKIXBuilderParameters(trustAnchors, null);\r\n    params.addCertStore(intermediateCAcertStore);\r\n    params.addCertPathChecker((PKIXCertPathChecker) CertPathValidator.getInstance(&quot;PKIX&quot;).getRevocationChecker());\r\n    \r\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(&quot;PKIX&quot;);\r\n    tmf.init(new CertPathTrustManagerParameters(params));\r\n    X509TrustManager tm = (X509TrustManager) tmf.getTrustManagers()[0];\r\n    tm.checkClientTrusted(new X509Certificate[]{ targetCert }), &quot;RSA&quot;);\r\n\r\nwhich throws:\r\n\r\n    Exception in thread &quot;main&quot; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\t  at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\r\n\t  at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\r\n\t  at java.base/sun.security.validator.Validator.validate(Validator.java:264)\r\n\t  at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:242)\r\n\t  at java.base/sun.security.ssl.X509TrustManagerImpl.checkClientTrusted(X509TrustManagerImpl.java:107)\r\n\t  at com.example.TrustManagerTest.test1(TrustManagerTest.java:98)\r\n\t  at com.example.TrustManagerTest.main(TrustManagerTest.java:54)\r\n    Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\t  at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\n\t  at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\n\t  at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\r\n\t  at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\r\n\t... 6 more\r\n\r\nso no way for me to see that the real cause is the OCSP check, unless i enable security debugging and search in the logs. But I want to programmatically discover it and maybe handle it, or at least somehow get hold of the \r\n\r\n&gt; java.security.cert.CertPathValidatorException: Certificate does not\r\n&gt; specify OCSP responder\r\n\r\nmessage and display it.\r\n \r\n\r\nAny suggestions?","title":"How to get hold of the cause of the PKIX path building failed Exception","body":"<p>I am getting the well known <code>PKIX path building failed</code> exception, and to find the underlying cause i have to enable java.security.debug=certpath and look at the logs. In my case the cause is</p>\n<blockquote>\n<p>certpath: SunCertPathBuilder.depthFirstSearchForward(): final verification failed: java.security.cert.CertPathValidatorException: Certificate does not specify OCSP responder</p>\n</blockquote>\n<p>but my problem is that I cannot get to the above underlying cause programmatically because the exception thrown(see below) is in the sun.security.validator package which I cannot import and even if I could I am not sure it contains any references to the underlying cause (please correct me if I am wrong)</p>\n<p>I am using Java 17</p>\n<p>The relevant code is:</p>\n<pre><code>PKIXBuilderParameters params = new PKIXBuilderParameters(trustAnchors, null);\nparams.addCertStore(intermediateCAcertStore);\nparams.addCertPathChecker((PKIXCertPathChecker) CertPathValidator.getInstance(&quot;PKIX&quot;).getRevocationChecker());\n\nTrustManagerFactory tmf = TrustManagerFactory.getInstance(&quot;PKIX&quot;);\ntmf.init(new CertPathTrustManagerParameters(params));\nX509TrustManager tm = (X509TrustManager) tmf.getTrustManagers()[0];\ntm.checkClientTrusted(new X509Certificate[]{ targetCert }), &quot;RSA&quot;);\n</code></pre>\n<p>which throws:</p>\n<pre><code>Exception in thread &quot;main&quot; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n  at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\n  at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\n  at java.base/sun.security.validator.Validator.validate(Validator.java:264)\n  at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:242)\n  at java.base/sun.security.ssl.X509TrustManagerImpl.checkClientTrusted(X509TrustManagerImpl.java:107)\n  at com.example.TrustManagerTest.test1(TrustManagerTest.java:98)\n  at com.example.TrustManagerTest.main(TrustManagerTest.java:54)\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n  at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\n  at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\n  at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\n  at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\n... 6 more\n</code></pre>\n<p>so no way for me to see that the real cause is the OCSP check, unless i enable security debugging and search in the logs. But I want to programmatically discover it and maybe handle it, or at least somehow get hold of the</p>\n<blockquote>\n<p>java.security.cert.CertPathValidatorException: Certificate does not\nspecify OCSP responder</p>\n</blockquote>\n<p>message and display it.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","angular","selenium-webdriver","cucumber","tekton"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1683636981,"post_id":76208850,"comment_id":134394442,"body_markdown":"Do you use some implicit wait?","body":"Do you use some implicit wait?"},{"owner":{"account_id":1416016,"reputation":158,"user_id":7101236,"display_name":"kakemonsteret"},"score":0,"creation_date":1683642024,"post_id":76208850,"comment_id":134395717,"body_markdown":"Nope. Most of the time there aren&#39;t any other sorts of Waits either.","body":"Nope. Most of the time there aren&#39;t any other sorts of Waits either."},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1683694961,"post_id":76208850,"comment_id":134403970,"body_markdown":"Then use implicit wait. Selenium has to simulate real user and real user has to wait to embeded resources as well. Using implicit wait is pretty much standard / best practice. I usually set it to 10 seconds but some webs (better say environments) can require more depending on it&#39;s availability and latency. Run a simple test in JMeter with enabled option &#39;download embeded resources&#39; to see potential bottlenecks.","body":"Then use implicit wait. Selenium has to simulate real user and real user has to wait to embeded resources as well. Using implicit wait is pretty much standard / best practice. I usually set it to 10 seconds but some webs (better say environments) can require more depending on it&#39;s availability and latency. Run a simple test in JMeter with enabled option &#39;download embeded resources&#39; to see potential bottlenecks."}],"owner":{"account_id":1416016,"reputation":158,"user_id":7101236,"display_name":"kakemonsteret"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683631899,"creation_date":1683631899,"question_id":76208850,"body_markdown":"After upgrading a complex site to Angular 14 (from previous version), an error that I&#39;ve never seen before has started popping up seemingligly at random when the Selenium/Cucumber/Java test suite is run in Tekton. The error is not reproducible locally.\r\n\r\n    org.openqa.selenium.JavascriptException: javascript error: document unloaded while waiting for  result\r\n\r\nI&#39;ve not found anything about this error in Selenium, only a few cases with general page functionality and JavaScript.\r\n\r\nHas anyone seen this before? I can&#39;t see that it has to do with Wait()-problems, since Selenium doesn&#39;t report anything about not finding elements. It doesn&#39;t report anything about page elements at all, just &quot;document unloaded&quot;. \r\n\r\nThere are no screenshots produced by Cucumber either, and it doesn&#39;t mark the last step as failed. There&#39;s just the error after the step.\r\n\r\nThe complete error:\r\n\r\n    org.openqa.selenium.JavascriptException: javascript error: document unloaded while waiting for result\r\n    (Session info: chrome=105.0.5195.52)\r\n    Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n    System info: host: &#39;sak-tjt-4927-oppgrader-star-20230509-105719-e2e-run-pod&#39;, ip: &#39;10.128.9.195&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;4.18.0-372.52.1.el8_6.x86_64&#39;, java.version: &#39;11.0.13&#39;\r\n    Driver info: org.openqa.selenium.remote.RemoteWebDriver\r\n    Capabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 105.0.5195.52, chrome: {chromedriverVersion: 105.0.5195.19 (b9c217c128c1..., userDataDir: /tmp/.com.google.Chrome.sx4Zaj}, goog:chromeOptions: {debuggerAddress: localhost:33141}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: LINUX, platformName: LINUX, proxy: Proxy(), se:cdp: ws://10.129.12.14:4444/sess..., se:cdpVersion: 105.0.5195.52, se:vnc: ws://10.129.12.14:4444/sess..., se:vncEnabled: true, se:vncLocalAddress: ws://10.129.12.14:7900, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\n    Session ID: 6ac5e2775265c90d61ef4963f6e30631 \r\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.executeAsyncScript(RemoteWebDriver.java:506)\r\n\tat no.husbanken.e2e.rammeverk.selenium.driver.ExtendedWebDriver.isPageReady(ExtendedWebDriver.java:38)\r\n\tat e2e.support.Hooks.afterEachScenario(Hooks.java:145)\r\n\tat e2e.support.Hooks.tearDown(Hooks.java:120)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor73.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat cucumber.runtime.Utils$1.call(Utils.java:26)\r\n\tat cucumber.runtime.Timeout.timeout(Timeout.java:16)\r\n\tat cucumber.runtime.Utils.invoke(Utils.java:20)\r\n\tat cucumber.runtime.java.JavaHookDefinition.execute(JavaHookDefinition.java:65)\r\n\tat cucumber.runner.HookDefinitionMatch.runStep(HookDefinitionMatch.java:16)\r\n\tat cucumber.runner.TestStep.executeStep(TestStep.java:65)\r\n\tat cucumber.runner.TestStep.run(TestStep.java:50)\r\n\tat cucumber.runner.TestCase.run(TestCase.java:50)\r\n\tat cucumber.runner.Runner.runPickle(Runner.java:50)\r\n\tat io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:146)\r\n\tat io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:68)\r\n\tat io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:23)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat io.cucumber.junit.Cucumber.runChild(Cucumber.java:142)\r\n\tat io.cucumber.junit.Cucumber.runChild(Cucumber.java:65)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat io.cucumber.junit.Cucumber$RunCucumber.evaluate(Cucumber.java:172)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)","title":"Selenium (Java) and Angular 14 - document unloaded error","body":"<p>After upgrading a complex site to Angular 14 (from previous version), an error that I've never seen before has started popping up seemingligly at random when the Selenium/Cucumber/Java test suite is run in Tekton. The error is not reproducible locally.</p>\n<pre><code>org.openqa.selenium.JavascriptException: javascript error: document unloaded while waiting for  result\n</code></pre>\n<p>I've not found anything about this error in Selenium, only a few cases with general page functionality and JavaScript.</p>\n<p>Has anyone seen this before? I can't see that it has to do with Wait()-problems, since Selenium doesn't report anything about not finding elements. It doesn't report anything about page elements at all, just &quot;document unloaded&quot;.</p>\n<p>There are no screenshots produced by Cucumber either, and it doesn't mark the last step as failed. There's just the error after the step.</p>\n<p>The complete error:</p>\n<pre><code>org.openqa.selenium.JavascriptException: javascript error: document unloaded while waiting for result\n(Session info: chrome=105.0.5195.52)\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'sak-tjt-4927-oppgrader-star-20230509-105719-e2e-run-pod', ip: '10.128.9.195', os.name: 'Linux', os.arch: 'amd64', os.version: '4.18.0-372.52.1.el8_6.x86_64', java.version: '11.0.13'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 105.0.5195.52, chrome: {chromedriverVersion: 105.0.5195.19 (b9c217c128c1..., userDataDir: /tmp/.com.google.Chrome.sx4Zaj}, goog:chromeOptions: {debuggerAddress: localhost:33141}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: LINUX, platformName: LINUX, proxy: Proxy(), se:cdp: ws://10.129.12.14:4444/sess..., se:cdpVersion: 105.0.5195.52, se:vnc: ws://10.129.12.14:4444/sess..., se:vncEnabled: true, se:vncLocalAddress: ws://10.129.12.14:7900, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nSession ID: 6ac5e2775265c90d61ef4963f6e30631 \nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\nat org.openqa.selenium.remote.RemoteWebDriver.executeAsyncScript(RemoteWebDriver.java:506)\nat no.husbanken.e2e.rammeverk.selenium.driver.ExtendedWebDriver.isPageReady(ExtendedWebDriver.java:38)\nat e2e.support.Hooks.afterEachScenario(Hooks.java:145)\nat e2e.support.Hooks.tearDown(Hooks.java:120)\nat jdk.internal.reflect.GeneratedMethodAccessor73.invoke(Unknown Source)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat cucumber.runtime.Utils$1.call(Utils.java:26)\nat cucumber.runtime.Timeout.timeout(Timeout.java:16)\nat cucumber.runtime.Utils.invoke(Utils.java:20)\nat cucumber.runtime.java.JavaHookDefinition.execute(JavaHookDefinition.java:65)\nat cucumber.runner.HookDefinitionMatch.runStep(HookDefinitionMatch.java:16)\nat cucumber.runner.TestStep.executeStep(TestStep.java:65)\nat cucumber.runner.TestStep.run(TestStep.java:50)\nat cucumber.runner.TestCase.run(TestCase.java:50)\nat cucumber.runner.Runner.runPickle(Runner.java:50)\nat io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:146)\nat io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:68)\nat io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:23)\nat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\nat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\nat io.cucumber.junit.Cucumber.runChild(Cucumber.java:142)\nat io.cucumber.junit.Cucumber.runChild(Cucumber.java:65)\nat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\nat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\nat io.cucumber.junit.Cucumber$RunCucumber.evaluate(Cucumber.java:172)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\nat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\nat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)\nat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)\nat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)\nat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)\nat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)\nat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)\nat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)\nat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)\n</code></pre>\n"},{"tags":["java","unit-testing","testing","automated-tests","testng"],"comments":[{"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"score":0,"creation_date":1401115319,"post_id":23872603,"comment_id":36746252,"body_markdown":"Can you show us the code that calls this?  Are you sure it&#39;s not somehow wrapped in a `try/catch`?","body":"Can you show us the code that calls this?  Are you sure it&#39;s not somehow wrapped in a <code>try&#47;catch</code>?"},{"owner":{"account_id":3319350,"reputation":1394,"user_id":2790903,"accept_rate":57,"display_name":"Doe Johnson"},"score":0,"creation_date":1401115503,"post_id":23872603,"comment_id":36746356,"body_markdown":"The method referring to the dataProvider is not aware of any exception in any way.","body":"The method referring to the dataProvider is not aware of any exception in any way."},{"owner":{"account_id":3319350,"reputation":1394,"user_id":2790903,"accept_rate":57,"display_name":"Doe Johnson"},"score":0,"creation_date":1401116121,"post_id":23872603,"comment_id":36746664,"body_markdown":"As far as I understand it the test method itself doesen*t call the dataprovider. A test method gets called with params provided by the Dataprovider.","body":"As far as I understand it the test method itself doesen*t call the dataprovider. A test method gets called with params provided by the Dataprovider."},{"owner":{"account_id":1288640,"reputation":8167,"user_id":1241193,"display_name":"Bob Dalgleish"},"score":0,"creation_date":1401118660,"post_id":23872603,"comment_id":36747894,"body_markdown":"The DataProvider is part of the preamble for tests, and, as such, does not get reported as an error. It is your responsibility to catch and log any errors in the DataProvider method.","body":"The DataProvider is part of the preamble for tests, and, as such, does not get reported as an error. It is your responsibility to catch and log any errors in the DataProvider method."},{"owner":{"account_id":3319350,"reputation":1394,"user_id":2790903,"accept_rate":57,"display_name":"Doe Johnson"},"score":0,"creation_date":1401133311,"post_id":23872603,"comment_id":36754096,"body_markdown":"Too bad. I wonder if there is any possibility to trigger an error directly. It does not need to be done in a DataProvider. I mean generally, is there a way?","body":"Too bad. I wonder if there is any possibility to trigger an error directly. It does not need to be done in a DataProvider. I mean generally, is there a way?"},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1527893843,"post_id":23872603,"comment_id":88314650,"body_markdown":"The behaviour of TestNG&#39;s `DataProvider` is really counterintuitive. I&#39;ve just wasted a couple of hours on this issue: I couldn&#39;t understand why my tests weren&#39;t running. However, your question and Roman&#39;s answer put me on the right track: it turns out an exception was being thrown from within my `DataProvider`. Thanks to you both!","body":"The behaviour of TestNG&#39;s <code>DataProvider</code> is really counterintuitive. I&#39;ve just wasted a couple of hours on this issue: I couldn&#39;t understand why my tests weren&#39;t running. However, your question and Roman&#39;s answer put me on the right track: it turns out an exception was being thrown from within my <code>DataProvider</code>. Thanks to you both!"}],"answers":[{"tags":[],"owner":{"account_id":70642,"reputation":12820,"user_id":204665,"accept_rate":92,"display_name":"Roman Nikitchenko"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1420889751,"creation_date":1420889751,"answer_id":27875783,"question_id":23872603,"body_markdown":"Here is the article which proposes fair set of alternatives with detailed enough explanations:\r\n\r\n[Fail instead of Skip a Test when TestNGs DataProvider throws an Exception][1]\r\n\r\nFor me best way happened to add test for data providers and here is brief illustration of idea:\r\n\r\n    public class MyClass {\r\n\r\n        @DataProvider(name = &quot;my-data-provider&quot;)\r\n        private Object [][] myProvider() {\r\n            // ...\r\n        }\r\n\r\n        @Test\r\n        public void testDataProviders() {\r\n            Assert.assertTrue(myProvider().length &gt; 0);\r\n        }\r\n\r\n        @Test\r\n        // ... Real tests.\r\n\r\n    }\r\n\r\n\r\n  [1]: http://rolf-engelhard.de/2011/10/fail-instead-of-skip-a-test-when-testngs-dataprovider-throws-an-exception/","title":"TestNG skips test after raising Exception in @DataProvider method","body":"<p>Here is the article which proposes fair set of alternatives with detailed enough explanations:</p>\n\n<p><a href=\"http://rolf-engelhard.de/2011/10/fail-instead-of-skip-a-test-when-testngs-dataprovider-throws-an-exception/\">Fail instead of Skip a Test when TestNGs DataProvider throws an Exception</a></p>\n\n<p>For me best way happened to add test for data providers and here is brief illustration of idea:</p>\n\n<pre><code>public class MyClass {\n\n    @DataProvider(name = \"my-data-provider\")\n    private Object [][] myProvider() {\n        // ...\n    }\n\n    @Test\n    public void testDataProviders() {\n        Assert.assertTrue(myProvider().length &gt; 0);\n    }\n\n    @Test\n    // ... Real tests.\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4680084,"reputation":547,"user_id":4947488,"display_name":"Savvy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683631858,"creation_date":1683631246,"answer_id":76208757,"question_id":23872603,"body_markdown":"Today, the most recent version of TestNG allows the user to explicitly tell the TestNG runner to treat DataProvider exceptions as Failures.\r\n\r\nIf you&#39;re running TestNG programmatically, this can be done like so - \r\n\r\n    TestNG tng = new TestNG();\r\n    tng.propagateDataProviderFailureAsTestFailure();\r\n\r\nIf you&#39;re running TestNG conventionally, you can also set the attribute on the DataProvider annotation like so - \r\n\r\n    @DataProvider(name = &quot;DataProviderName&quot;, propagateFailureAsTestFailure = true)\r\n    \tpublic Object[][] dataProviderMethod(){\r\n    \t\treturn new Object[][]{{&quot;row1-column1&quot;, &quot;row1-column2&quot;},\r\n    \t\t\t\t{&quot;row2-column1&quot;, &quot;row2-column2&quot;}};\r\n    \t}\r\n\r\n**Reference:**\r\n\r\nhttps://github.com/testng-team/testng/issues/217","title":"TestNG skips test after raising Exception in @DataProvider method","body":"<p>Today, the most recent version of TestNG allows the user to explicitly tell the TestNG runner to treat DataProvider exceptions as Failures.</p>\n<p>If you're running TestNG programmatically, this can be done like so -</p>\n<pre><code>TestNG tng = new TestNG();\ntng.propagateDataProviderFailureAsTestFailure();\n</code></pre>\n<p>If you're running TestNG conventionally, you can also set the attribute on the DataProvider annotation like so -</p>\n<pre><code>@DataProvider(name = &quot;DataProviderName&quot;, propagateFailureAsTestFailure = true)\n    public Object[][] dataProviderMethod(){\n        return new Object[][]{{&quot;row1-column1&quot;, &quot;row1-column2&quot;},\n                {&quot;row2-column1&quot;, &quot;row2-column2&quot;}};\n    }\n</code></pre>\n<p><strong>Reference:</strong></p>\n<p><a href=\"https://github.com/testng-team/testng/issues/217\" rel=\"nofollow noreferrer\">https://github.com/testng-team/testng/issues/217</a></p>\n"}],"owner":{"account_id":3319350,"reputation":1394,"user_id":2790903,"accept_rate":57,"display_name":"Doe Johnson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6179,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":27875783,"answer_count":2,"score":14,"last_activity_date":1683631858,"creation_date":1401115240,"question_id":23872603,"body_markdown":"I&#39;m a bit confused.\r\n\r\nHow can I get TestNG to report an error for a test?\r\n\r\n    // ...\r\n    @DataProvider(name = &quot;foo&quot;)\r\n    public Object[][] provideData () {\r\n        throw new SomeRuntimeException(&quot;Some error occurred. The test configuration &quot;\r\n                + &quot;is somehow incorrect.&quot;);\r\n    }\r\n\r\nThis will just lead to test skipping. The exception doesn&#39;t even get logged. \r\nMoving this to a constructor will just get the exception logged but that&#39;s not enough...\r\n\r\nI want a big fat error message.\r\n\r\nAt the moment, using a dedicated (self) test method does the job which at leasts shows some test failure...\r\n\r\nAnyway, it would be nice to know how testNG&#39;s definition of an error looks like.\r\n\r\nThank you for any hints!","title":"TestNG skips test after raising Exception in @DataProvider method","body":"<p>I'm a bit confused.</p>\n\n<p>How can I get TestNG to report an error for a test?</p>\n\n<pre><code>// ...\n@DataProvider(name = \"foo\")\npublic Object[][] provideData () {\n    throw new SomeRuntimeException(\"Some error occurred. The test configuration \"\n            + \"is somehow incorrect.\");\n}\n</code></pre>\n\n<p>This will just lead to test skipping. The exception doesn't even get logged. \nMoving this to a constructor will just get the exception logged but that's not enough...</p>\n\n<p>I want a big fat error message.</p>\n\n<p>At the moment, using a dedicated (self) test method does the job which at leasts shows some test failure...</p>\n\n<p>Anyway, it would be nice to know how testNG's definition of an error looks like.</p>\n\n<p>Thank you for any hints!</p>\n"},{"tags":["java","volatile","concurrenthashmap"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683564602,"post_id":76096854,"comment_id":134382537,"body_markdown":"Why do you think that an acquirerelease relationship doesnt guaranty memory visibility?","body":"Why do you think that an acquirerelease relationship doesnt guaranty memory visibility?"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1683567971,"post_id":76096854,"comment_id":134383269,"body_markdown":"&quot;Using only acquire and release semantics can&#39;t guarantee visibility&quot; - it does, but it&#39;s weaker then volatile. very good read [over here](https://stackoverflow.com/questions/46889610/sequential-consistency-volatile-explanation)","body":"&quot;Using only acquire and release semantics can&#39;t guarantee visibility&quot; - it does, but it&#39;s weaker then volatile. very good read <a href=\"https://stackoverflow.com/questions/46889610/sequential-consistency-volatile-explanation\">over here</a>"},{"owner":{"account_id":9352621,"reputation":41,"user_id":6941784,"display_name":"Oliver"},"score":0,"creation_date":1683596086,"post_id":76096854,"comment_id":134387471,"body_markdown":"Maybe I didnt describe it accurately. When I say using only acquire and release semantics can&#39;t guarantee visibility, I mean that the thread that calls `getObjectVolatile` can&#39;t immediately see the update made by the thread that calls `putObjectRelease`.@Holger @Eugene","body":"Maybe I didnt describe it accurately. When I say using only acquire and release semantics can&#39;t guarantee visibility, I mean that the thread that calls <code>getObjectVolatile</code> can&#39;t immediately see the update made by the thread that calls <code>putObjectRelease</code>.@Holger @Eugene"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683620416,"post_id":76096854,"comment_id":134390478,"body_markdown":"Depends on what you mean with immediately. There are no timing guarantees at all. But opaque and stronger memory accesses all have the same visibility regarding the writes and reads of the same variable. When it comes to transitivity relations, acquire/release is as good as volatile; the discussion about locking is about the ordering of concurrent `compute` operations, not about `get` calls.","body":"Depends on what you mean with immediately. There are no timing guarantees at all. But opaque and stronger memory accesses all have the same visibility regarding the writes and reads of the same variable. When it comes to transitivity relations, acquire/release is as good as volatile; the discussion about locking is about the ordering of concurrent <code>compute</code> operations, not about <code>get</code> calls."},{"owner":{"account_id":9352621,"reputation":41,"user_id":6941784,"display_name":"Oliver"},"score":0,"creation_date":1683623964,"post_id":76096854,"comment_id":134391287,"body_markdown":"In `jdk.internal.misc.Unsafe` of JDK11, the author mentioned something about immediate visibility in the comment of the method `putObjectRelease`.    ```Versions of {@link #putObjectVolatile(Object, long, Object)} that do not guarantee immediate visibility of the store to other threads. This method is generally only useful if the underlying field is a Java volatile (or if an array cell, one that is otherwise only accessed using volatile accesses). Corresponds to C11 atomic_store_explicit(..., memory_order_release).```","body":"In <code>jdk.internal.misc.Unsafe</code> of JDK11, the author mentioned something about immediate visibility in the comment of the method <code>putObjectRelease</code>.    <code>Versions of {@link #putObjectVolatile(Object, long, Object)} that do not guarantee immediate visibility of the store to other threads. This method is generally only useful if the underlying field is a Java volatile (or if an array cell, one that is otherwise only accessed using volatile accesses). Corresponds to C11 atomic_store_explicit(..., memory_order_release).</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683628501,"post_id":76096854,"comment_id":134392415,"body_markdown":"This comment originally belonged to `putOrderedObject` back then, when there were no acquire/release/opaque and not even a getOrderedObject, so the counterpart had to be a volatile read when the comment was written. I dont know why they decided to keep the comment dangling somewhere above the put methods (its *not* a documentation comment for `putReferenceRelease`) and change the first sentence to plural while not changing the second. otherwise only accessed using volatile accesses should have been updated to otherwise only accessed using opaque or stronger accesses.","body":"This comment originally belonged to <code>putOrderedObject</code> back then, when there were no acquire/release/opaque and not even a getOrderedObject, so the counterpart had to be a volatile read when the comment was written. I dont know why they decided to keep the comment dangling somewhere above the put methods (its <i>not</i> a documentation comment for <code>putReferenceRelease</code>) and change the first sentence to plural while not changing the second. otherwise only accessed using volatile accesses should have been updated to otherwise only accessed using opaque or stronger accesses."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683629219,"post_id":76096854,"comment_id":134392577,"body_markdown":"On the other hand, its neither an official API nor a javadoc comment that would appear anywhere. Since the official API (`VarHandle`) doesnt provide a documentation of these access mode either (and even the JMM doesnt cover them), the best you can get is [this document](https://gee.cs.oswego.edu/dl/html/j9mm.html).","body":"On the other hand, its neither an official API nor a javadoc comment that would appear anywhere. Since the official API (<code>VarHandle</code>) doesnt provide a documentation of these access mode either (and even the JMM doesnt cover them), the best you can get is <a href=\"https://gee.cs.oswego.edu/dl/html/j9mm.html\" rel=\"nofollow noreferrer\">this document</a>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683629496,"post_id":76096854,"comment_id":134392626,"body_markdown":"When you look at [the summary at the end](https://gee.cs.oswego.edu/dl/html/j9mm.html#summarysec) you find  Opaque mode ensures awareness of variables across threads  Release/Acquire mode additionally supports  Volatile mode additionally supports In short, opaque is enough for visibility (of a single variable) while the other modes provide additional guarantees regarding ordering, which is necessary to see compound objects in a consistent state or establish a *happens-before* relationship. It would be strange, if a release was not combinable with an acquire but required a volatile read","body":"When you look at <a href=\"https://gee.cs.oswego.edu/dl/html/j9mm.html#summarysec\" rel=\"nofollow noreferrer\">the summary at the end</a> you find  Opaque mode ensures awareness of variables across threads  Release/Acquire mode additionally supports  Volatile mode additionally supports In short, opaque is enough for visibility (of a single variable) while the other modes provide additional guarantees regarding ordering, which is necessary to see compound objects in a consistent state or establish a <i>happens-before</i> relationship. It would be strange, if a release was not combinable with an acquire but required a volatile read"}],"owner":{"account_id":9352621,"reputation":41,"user_id":6941784,"display_name":"Oliver"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1683631826,"creation_date":1682381034,"question_id":76096854,"body_markdown":"In `ConcurrentHashMap` of JDK8, both of the methods `tabAt`and `setTabAt` need volatile semantics.\r\n\r\n```java\r\nstatic final &lt;K,V&gt; Node&lt;K,V&gt; tabAt(Node&lt;K,V&gt;[] tab, int i) {\r\n    return (Node&lt;K,V&gt;)U.getObjectVolatile(tab, ((long)i &lt;&lt; ASHIFT) + ABASE);\r\n}\r\n\r\nstatic final &lt;K,V&gt; void setTabAt(Node&lt;K,V&gt;[] tab, int i, Node&lt;K,V&gt; v) {\r\n    U.putObjectVolatile(tab, ((long)i &lt;&lt; ASHIFT) + ABASE, v);\r\n}\r\n```\r\n\r\nThe author commented that:\r\n\r\n&gt; Note that calls to setTabAt always occur within locked regions,  and\r\n&gt; so in principle require only release ordering, not full volatile\r\n&gt; semantics, but are currently coded as volatile writes to be\r\n&gt; conservative.\r\n\r\nThen in `ConcurrentHashMap` of JDK11, both of the methods `tabAt` and `setTabAt` don&#39;t need volatile semantics and use acquire and release semantics instead.\r\n\r\n```java\r\nstatic final &lt;K,V&gt; Node&lt;K,V&gt; tabAt(Node&lt;K,V&gt;[] tab, int i) {\r\n    return (Node&lt;K,V&gt;)U.getObjectAcquire(tab, ((long)i &lt;&lt; ASHIFT) + ABASE);\r\n}\r\n\r\nstatic final &lt;K,V&gt; void setTabAt(Node&lt;K,V&gt;[] tab, int i, Node&lt;K,V&gt; v) {\r\n    U.putObjectRelease(tab, ((long)i &lt;&lt; ASHIFT) + ABASE, v);\r\n}\r\n```\r\n\r\nThe author commented that:\r\n\r\n&gt; Note that calls to setTabAt always occur within locked regions,  and\r\n&gt; so require only release ordering.\r\n\r\nAs far as I know, the elements of the array `Node&lt;K,V&gt;[] tab` aren&#39;t `volatile`. Using only acquire and release semantics can&#39;t guarantee immediate visibility. The thread that gets elements can&#39;t  immediately see the update made by the thread that sets elements.\r\n\r\nEven if the calls to `setTabAt` always occur within locked regions, it seems that it doesn&#39;t make any difference. Because the calls to `tabAt` don&#39;t always occur within locked regions, there is no guarantee of happens-before relationship.\r\n\r\nThe call to `tabAt` doesn&#39;t occur within a locked region in the method `get`\r\n\r\n```java\r\npublic V get(Object key) {\r\n    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; e, p; int n, eh; K ek;\r\n    int h = spread(key.hashCode());\r\n    if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp;\r\n        (e = tabAt(tab, (n - 1) &amp; h)) != null) {\r\n        if ((eh = e.hash) == h) {\r\n            if ((ek = e.key) == key || (ek != null &amp;&amp; key.equals(ek)))\r\n                return e.val;\r\n        }\r\n        else if (eh &lt; 0)\r\n            return (p = e.find(h, key)) != null ? p.val : null;\r\n        while ((e = e.next) != null) {\r\n            if (e.hash == h &amp;&amp;\r\n                ((ek = e.key) == key || (ek != null &amp;&amp; key.equals(ek))))\r\n                return e.val;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nI wonder if there is something wrong with my understanding. Could anyone provide more information about this?\r\n\r\n","title":"Why doesn&#39;t ConcurrentHashMap of JDK11 need volatile semantics in the methods tabAt and setTabAt?","body":"<p>In <code>ConcurrentHashMap</code> of JDK8, both of the methods <code>tabAt</code>and <code>setTabAt</code> need volatile semantics.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final &lt;K,V&gt; Node&lt;K,V&gt; tabAt(Node&lt;K,V&gt;[] tab, int i) {\n    return (Node&lt;K,V&gt;)U.getObjectVolatile(tab, ((long)i &lt;&lt; ASHIFT) + ABASE);\n}\n\nstatic final &lt;K,V&gt; void setTabAt(Node&lt;K,V&gt;[] tab, int i, Node&lt;K,V&gt; v) {\n    U.putObjectVolatile(tab, ((long)i &lt;&lt; ASHIFT) + ABASE, v);\n}\n</code></pre>\n<p>The author commented that:</p>\n<blockquote>\n<p>Note that calls to setTabAt always occur within locked regions,  and\nso in principle require only release ordering, not full volatile\nsemantics, but are currently coded as volatile writes to be\nconservative.</p>\n</blockquote>\n<p>Then in <code>ConcurrentHashMap</code> of JDK11, both of the methods <code>tabAt</code> and <code>setTabAt</code> don't need volatile semantics and use acquire and release semantics instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final &lt;K,V&gt; Node&lt;K,V&gt; tabAt(Node&lt;K,V&gt;[] tab, int i) {\n    return (Node&lt;K,V&gt;)U.getObjectAcquire(tab, ((long)i &lt;&lt; ASHIFT) + ABASE);\n}\n\nstatic final &lt;K,V&gt; void setTabAt(Node&lt;K,V&gt;[] tab, int i, Node&lt;K,V&gt; v) {\n    U.putObjectRelease(tab, ((long)i &lt;&lt; ASHIFT) + ABASE, v);\n}\n</code></pre>\n<p>The author commented that:</p>\n<blockquote>\n<p>Note that calls to setTabAt always occur within locked regions,  and\nso require only release ordering.</p>\n</blockquote>\n<p>As far as I know, the elements of the array <code>Node&lt;K,V&gt;[] tab</code> aren't <code>volatile</code>. Using only acquire and release semantics can't guarantee immediate visibility. The thread that gets elements can't  immediately see the update made by the thread that sets elements.</p>\n<p>Even if the calls to <code>setTabAt</code> always occur within locked regions, it seems that it doesn't make any difference. Because the calls to <code>tabAt</code> don't always occur within locked regions, there is no guarantee of happens-before relationship.</p>\n<p>The call to <code>tabAt</code> doesn't occur within a locked region in the method <code>get</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public V get(Object key) {\n    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; e, p; int n, eh; K ek;\n    int h = spread(key.hashCode());\n    if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp;\n        (e = tabAt(tab, (n - 1) &amp; h)) != null) {\n        if ((eh = e.hash) == h) {\n            if ((ek = e.key) == key || (ek != null &amp;&amp; key.equals(ek)))\n                return e.val;\n        }\n        else if (eh &lt; 0)\n            return (p = e.find(h, key)) != null ? p.val : null;\n        while ((e = e.next) != null) {\n            if (e.hash == h &amp;&amp;\n                ((ek = e.key) == key || (ek != null &amp;&amp; key.equals(ek))))\n                return e.val;\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>I wonder if there is something wrong with my understanding. Could anyone provide more information about this?</p>\n"},{"tags":["java","string","encoding","character-encoding","windows-1251"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1683565927,"post_id":76202691,"comment_id":134382809,"body_markdown":"Very strange: on my machine this works without problem and yields the expected output. Also running it in an online IDE like https://www.jdoodle.com/online-java-compiler/ also gives the expected output.","body":"Very strange: on my machine this works without problem and yields the expected output. Also running it in an online IDE like <a href=\"https://www.jdoodle.com/online-java-compiler/\" rel=\"nofollow noreferrer\">jdoodle.com/online-java-compiler</a> also gives the expected output."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1683566241,"post_id":76202691,"comment_id":134382886,"body_markdown":"Note that `HexFormat.of().withDelimiter(&quot;, &quot;).formatHex(&quot;&quot;.getBytes(&quot;UTF-8&quot;))` is `d0, 9f, d1, 80, d0, b8, d0, b2, d0, b5, d1, 82`, perhaps you have compiled with source file of different encoding to windows-1251","body":"Note that <code>HexFormat.of().withDelimiter(&quot;, &quot;).formatHex(&quot;&quot;.getBytes(&quot;UTF-8&quot;))</code> is <code>d0, 9f, d1, 80, d0, b8, d0, b2, d0, b5, d1, 82</code>, perhaps you have compiled with source file of different encoding to windows-1251"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1683566313,"post_id":76202691,"comment_id":134382896,"body_markdown":"For some reason it looks like your vm cannot decode Windows-1251. It&#39;s essentially ignored and you get UTF-8. btw if you import `HexFormat` why do you do so much work? ;)","body":"For some reason it looks like your vm cannot decode Windows-1251. It&#39;s essentially ignored and you get UTF-8. btw if you import <code>HexFormat</code> why do you do so much work? ;)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683566529,"post_id":76202691,"comment_id":134382958,"body_markdown":"[Can not reproduce](https://tio.run/##fVDLasMwELznKxaBQSaOSAK9NO2lpcf2kmPIQbFlR7EjGWudxJRA6Y/0HwqFfobzRa78CDGlqS6LdndmZ2bDd3y0CeKq8hNuDDxzqeB1APal@SqRPhjkaMtOywC2dkrnmEkVLZbAs8i4gOtM7w08HXyRotRndP3mhUGxZTpHlloMJopu7D2mpGb@mmdGIHvsaiBCnifYfanLAmnShBcvfCuo684upM15MHAPpPw4vZXf5Wf5dXons//uklWBwoCvc4VgLe6lCqzs0WR6M7kFAkMwLBL4UG9R0p8SlyVCRbjuaWhY293rMA9@NVr8cXAt3R5rrbZJOOOFd7asbBRuL95QZ0AtBGKbxXhmy12L6ATbznDYB/yVTUiJYxZOsKw5Ds54enAU8ZpbHsReS7iIlz33x87Hsap@AA). You should ensure that you source file has the right encoding (and the compiler options matched). Try to verify with `System.out.println(s);`","body":"<a href=\"https://tio.run/##fVDLasMwELznKxaBQSaOSAK9NO2lpcf2kmPIQbFlR7EjGWudxJRA6Y/0HwqFfobzRa78CDGlqS6LdndmZ2bDd3y0CeKq8hNuDDxzqeB1APal@SqRPhjkaMtOywC2dkrnmEkVLZbAs8i4gOtM7w08HXyRotRndP3mhUGxZTpHlloMJopu7D2mpGb@mmdGIHvsaiBCnifYfanLAmnShBcvfCuo684upM15MHAPpPw4vZXf5Wf5dXons//uklWBwoCvc4VgLe6lCqzs0WR6M7kFAkMwLBL4UG9R0p8SlyVCRbjuaWhY293rMA9@NVr8cXAt3R5rrbZJOOOFd7asbBRuL95QZ0AtBGKbxXhmy12L6ATbznDYB/yVTUiJYxZOsKw5Ds54enAU8ZpbHsReS7iIlz33x87Hsap@AA\" rel=\"nofollow noreferrer\">Can not reproduce</a>. You should ensure that you source file has the right encoding (and the compiler options matched). Try to verify with <code>System.out.println(s);</code>"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683631651,"creation_date":1683566608,"answer_id":76202887,"question_id":76202691,"body_markdown":"It looks like perhaps you have UTF-8 encoded source file when you compiled?\r\n\r\n    HexFormat.of().withPrefix(&quot;, &quot;).formatHex(&quot;&quot;.getBytes(&quot;UTF-8&quot;))\r\n    ==&gt; &quot;d09fd180d0b8d0b2d0b5d182&quot;\r\n\r\nIf I save your code in my UTF-8 editor and compile+run:\r\n\r\n    java -Dfile.encoding=UTF-8 Foo.java\r\n    UTF-8\r\n    bytes count in windows-1251: 6\r\n    windows-1251[0] = 0xcf\r\n    windows-1251[1] = 0xf0\r\n    windows-1251[2] = 0xe8\r\n    windows-1251[3] = 0xe2\r\n    windows-1251[4] = 0xe5\r\n    windows-1251[5] = 0xf2\r\n\r\nWhereas this matches your output if compile+run that UTF8 file with your default encoding:\r\n\r\n    java -Dfile.encoding=windows-1251 Foo.java\r\n    windows-1251\r\n    bytes count in windows-1251: 12\r\n    windows-1251[0] = 0xd0\r\n    windows-1251[1] = 0x9f\r\n    windows-1251[2] = 0xd1\r\n    windows-1251[3] = 0x80\r\n    windows-1251[4] = 0xd0\r\n    windows-1251[5] = 0xb8\r\n    windows-1251[6] = 0xd0\r\n    windows-1251[7] = 0xb2\r\n    windows-1251[8] = 0xd0\r\n    windows-1251[9] = 0xb5\r\n    windows-1251[10] = 0xd1\r\n    windows-1251[11] = 0x82\r\n\r\nIf I change my editor charset to windows-1251 then the output is as expected:\r\n\r\n    java -Dfile.encoding=windows-1251 Foo.java\r\n    windows-1251\r\n    bytes count in windows-1251: 6\r\n    windows-1251[0] = 0xcf\r\n    windows-1251[1] = 0xf0\r\n    windows-1251[2] = 0xe8\r\n    windows-1251[3] = 0xe2\r\n    windows-1251[4] = 0xe5\r\n    windows-1251[5] = 0xf2\r\n\r\n**EDIT**\r\n\r\nFor simplicity above I&#39;ve used `java Foo.java` &quot;compile and launch&quot; mode but for normal separate use the important steps are to match up `javac` with character encoding of the source code, and `java` with any encoding you want the app to use:\r\n\r\n    javac -Dfile.encoding=TheJavaFilesCharSet {JavaFiles}\r\n    java  -Dfile.encoding=AnyOrDefaultCharSet {ClassWithMain}\r\n\r\nAs mentioned in the comments its worth using `HexFormat`, it is immutable and therefore safe to assign to a static field directly or via a user-friendly debugging output method:\r\n\r\n    private static final HexFormat HEX = HexFormat.ofDelimiter(&quot;, &quot;).withPrefix(&quot;0x&quot;).withUpperCase();\r\n    public static String formatHex(byte[] arr) {\r\n        return &quot;new byte[/*&quot;+arr.length+&quot;*/] {&quot;+HEX.formatHex(arr)+&quot;}&quot;;\r\n    }\r\n\r\n    HEX.formatHex(new byte[]{1,2,3});\r\n    ==&gt; &quot;0x01, 0x02, 0x03&quot;\r\n\r\n    formatHex(new byte[]{1,2,3});\r\n    ==&gt; &quot;new byte[/*3*/] {0x01, 0x02, 0x03}&quot;\r\n\r\nThe latter is helpful if you want to cut/paste definitions back into testcases. ","title":"String.getBytes(&quot;8bit encoding&quot;) returns 2 bytes per symbol","body":"<p>It looks like perhaps you have UTF-8 encoded source file when you compiled?</p>\n<pre><code>HexFormat.of().withPrefix(&quot;, &quot;).formatHex(&quot;&quot;.getBytes(&quot;UTF-8&quot;))\n==&gt; &quot;d09fd180d0b8d0b2d0b5d182&quot;\n</code></pre>\n<p>If I save your code in my UTF-8 editor and compile+run:</p>\n<pre><code>java -Dfile.encoding=UTF-8 Foo.java\nUTF-8\nbytes count in windows-1251: 6\nwindows-1251[0] = 0xcf\nwindows-1251[1] = 0xf0\nwindows-1251[2] = 0xe8\nwindows-1251[3] = 0xe2\nwindows-1251[4] = 0xe5\nwindows-1251[5] = 0xf2\n</code></pre>\n<p>Whereas this matches your output if compile+run that UTF8 file with your default encoding:</p>\n<pre><code>java -Dfile.encoding=windows-1251 Foo.java\nwindows-1251\nbytes count in windows-1251: 12\nwindows-1251[0] = 0xd0\nwindows-1251[1] = 0x9f\nwindows-1251[2] = 0xd1\nwindows-1251[3] = 0x80\nwindows-1251[4] = 0xd0\nwindows-1251[5] = 0xb8\nwindows-1251[6] = 0xd0\nwindows-1251[7] = 0xb2\nwindows-1251[8] = 0xd0\nwindows-1251[9] = 0xb5\nwindows-1251[10] = 0xd1\nwindows-1251[11] = 0x82\n</code></pre>\n<p>If I change my editor charset to windows-1251 then the output is as expected:</p>\n<pre><code>java -Dfile.encoding=windows-1251 Foo.java\nwindows-1251\nbytes count in windows-1251: 6\nwindows-1251[0] = 0xcf\nwindows-1251[1] = 0xf0\nwindows-1251[2] = 0xe8\nwindows-1251[3] = 0xe2\nwindows-1251[4] = 0xe5\nwindows-1251[5] = 0xf2\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>For simplicity above I've used <code>java Foo.java</code> &quot;compile and launch&quot; mode but for normal separate use the important steps are to match up <code>javac</code> with character encoding of the source code, and <code>java</code> with any encoding you want the app to use:</p>\n<pre><code>javac -Dfile.encoding=TheJavaFilesCharSet {JavaFiles}\njava  -Dfile.encoding=AnyOrDefaultCharSet {ClassWithMain}\n</code></pre>\n<p>As mentioned in the comments its worth using <code>HexFormat</code>, it is immutable and therefore safe to assign to a static field directly or via a user-friendly debugging output method:</p>\n<pre><code>private static final HexFormat HEX = HexFormat.ofDelimiter(&quot;, &quot;).withPrefix(&quot;0x&quot;).withUpperCase();\npublic static String formatHex(byte[] arr) {\n    return &quot;new byte[/*&quot;+arr.length+&quot;*/] {&quot;+HEX.formatHex(arr)+&quot;}&quot;;\n}\n\nHEX.formatHex(new byte[]{1,2,3});\n==&gt; &quot;0x01, 0x02, 0x03&quot;\n\nformatHex(new byte[]{1,2,3});\n==&gt; &quot;new byte[/*3*/] {0x01, 0x02, 0x03}&quot;\n</code></pre>\n<p>The latter is helpful if you want to cut/paste definitions back into testcases.</p>\n"}],"owner":{"account_id":6306550,"reputation":33,"user_id":4899476,"display_name":"Ilyas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76202887,"answer_count":1,"score":2,"last_activity_date":1683631651,"creation_date":1683564940,"question_id":76202691,"body_markdown":"I&#39;m trying to understand character encoding for Strings in Java. I&#39;m working on Windows 10 and the default character encoding is `windows-1251`. it is 8-bit encoding character. So it must be 1 byte for 1 symbol. So when I call `getBytes()` for a String with 6 symbols, I expect an array of 6 bytes. But the following code snippet returns 12, instead of 6.\r\n```\r\n&quot;&quot;.getBytes(&quot;windows-1251&quot;).length // returns 12\r\n```\r\nAt first, I thought that the first byte of the character must be zero. But both bytes related to the character have non-zero values. Could anyone explain, what I&#39;m missing here, please?\r\n\r\nHere is an example of how I tested it\r\n\r\n```\r\nimport java.nio.charset.Charset;\r\nimport java.io.*;\r\nimport java.util.HexFormat;\r\n\r\npublic class Foo\r\n{\r\n    public static void main(String[] args) throws Exception\r\n    {\r\n\t\tSystem.out.println(Charset.defaultCharset().displayName());\r\n\t\tString s = &quot;&quot;;\r\n\t\tSystem.out.println(&quot;bytes count in windows-1251: &quot; + s.getBytes(&quot;windows-1251&quot;).length);\r\n\t\tprintBytes(s.getBytes(&quot;windows-1251&quot;), &quot;windows-1251&quot;);\r\n    }\r\n\t\r\n\tpublic static void printBytes(byte[] array, String name) {\r\n\t\tfor (int k = 0; k &lt; array.length; k++) {\r\n\t\t\tSystem.out.println(name + &quot;[&quot; + k + &quot;] = &quot; + &quot;0x&quot; +\r\n\t\t\t\tbyteToHex(array[k]));\r\n\t\t}\r\n\t}\r\n\r\nstatic public String byteToHex(byte b) {\r\n      // Returns hex String representation of byte b\r\n      char hexDigit[] = {\r\n         &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;,\r\n         &#39;8&#39;, &#39;9&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;\r\n      };\r\n      char[] array = { hexDigit[(b &gt;&gt; 4) &amp; 0x0f], hexDigit[b &amp; 0x0f] };\r\n      return new String(array);\r\n   }\r\n}\r\n```\r\nthe result is:\r\n\r\n```\r\nwindows-1251\r\nbytes count in windows-1251: 12\r\nwindows-1251[0] = 0xd0\r\nwindows-1251[1] = 0x9f\r\nwindows-1251[2] = 0xd1\r\nwindows-1251[3] = 0x80\r\nwindows-1251[4] = 0xd0\r\nwindows-1251[5] = 0xb8\r\nwindows-1251[6] = 0xd0\r\nwindows-1251[7] = 0xb2\r\nwindows-1251[8] = 0xd0\r\nwindows-1251[9] = 0xb5\r\nwindows-1251[10] = 0xd1\r\nwindows-1251[11] = 0x82\r\n```\r\n\r\nbut what I expect is:\r\n\r\n```\r\nwindows-1251\r\nbytes count in windows-1251: 6\r\nwindows-1251[0] = 0xcf\r\nwindows-1251[1] = 0xf0\r\nwindows-1251[2] = 0xe8\r\nwindows-1251[3] = 0xe2\r\nwindows-1251[4] = 0xe5\r\nwindows-1251[5] = 0xf2\r\n```\r\n\r\n","title":"String.getBytes(&quot;8bit encoding&quot;) returns 2 bytes per symbol","body":"<p>I'm trying to understand character encoding for Strings in Java. I'm working on Windows 10 and the default character encoding is <code>windows-1251</code>. it is 8-bit encoding character. So it must be 1 byte for 1 symbol. So when I call <code>getBytes()</code> for a String with 6 symbols, I expect an array of 6 bytes. But the following code snippet returns 12, instead of 6.</p>\n<pre><code>&quot;&quot;.getBytes(&quot;windows-1251&quot;).length // returns 12\n</code></pre>\n<p>At first, I thought that the first byte of the character must be zero. But both bytes related to the character have non-zero values. Could anyone explain, what I'm missing here, please?</p>\n<p>Here is an example of how I tested it</p>\n<pre><code>import java.nio.charset.Charset;\nimport java.io.*;\nimport java.util.HexFormat;\n\npublic class Foo\n{\n    public static void main(String[] args) throws Exception\n    {\n        System.out.println(Charset.defaultCharset().displayName());\n        String s = &quot;&quot;;\n        System.out.println(&quot;bytes count in windows-1251: &quot; + s.getBytes(&quot;windows-1251&quot;).length);\n        printBytes(s.getBytes(&quot;windows-1251&quot;), &quot;windows-1251&quot;);\n    }\n    \n    public static void printBytes(byte[] array, String name) {\n        for (int k = 0; k &lt; array.length; k++) {\n            System.out.println(name + &quot;[&quot; + k + &quot;] = &quot; + &quot;0x&quot; +\n                byteToHex(array[k]));\n        }\n    }\n\nstatic public String byteToHex(byte b) {\n      // Returns hex String representation of byte b\n      char hexDigit[] = {\n         '0', '1', '2', '3', '4', '5', '6', '7',\n         '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'\n      };\n      char[] array = { hexDigit[(b &gt;&gt; 4) &amp; 0x0f], hexDigit[b &amp; 0x0f] };\n      return new String(array);\n   }\n}\n</code></pre>\n<p>the result is:</p>\n<pre><code>windows-1251\nbytes count in windows-1251: 12\nwindows-1251[0] = 0xd0\nwindows-1251[1] = 0x9f\nwindows-1251[2] = 0xd1\nwindows-1251[3] = 0x80\nwindows-1251[4] = 0xd0\nwindows-1251[5] = 0xb8\nwindows-1251[6] = 0xd0\nwindows-1251[7] = 0xb2\nwindows-1251[8] = 0xd0\nwindows-1251[9] = 0xb5\nwindows-1251[10] = 0xd1\nwindows-1251[11] = 0x82\n</code></pre>\n<p>but what I expect is:</p>\n<pre><code>windows-1251\nbytes count in windows-1251: 6\nwindows-1251[0] = 0xcf\nwindows-1251[1] = 0xf0\nwindows-1251[2] = 0xe8\nwindows-1251[3] = 0xe2\nwindows-1251[4] = 0xe5\nwindows-1251[5] = 0xf2\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","hibernate-tools","hbm2java"],"comments":[{"owner":{"account_id":10350691,"reputation":907,"user_id":7634201,"display_name":"C. Weber"},"score":0,"creation_date":1683215357,"post_id":76174987,"comment_id":134335884,"body_markdown":"Does this answer your question? [Getting error when mapping PostgreSQL LTREE column in hibernate](https://stackoverflow.com/questions/41287897/getting-error-when-mapping-postgresql-ltree-column-in-hibernate)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/41287897/getting-error-when-mapping-postgresql-ltree-column-in-hibernate\">Getting error when mapping PostgreSQL LTREE column in hibernate</a>"},{"owner":{"account_id":2569018,"reputation":647,"user_id":2228257,"accept_rate":55,"display_name":"Daniel Ziltener"},"score":0,"creation_date":1683216344,"post_id":76174987,"comment_id":134336115,"body_markdown":"No, because it does not tell me how I can configure hbm2java to use it.","body":"No, because it does not tell me how I can configure hbm2java to use it."}],"answers":[{"tags":[],"owner":{"account_id":2569018,"reputation":647,"user_id":2228257,"accept_rate":55,"display_name":"Daniel Ziltener"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683631471,"creation_date":1683631471,"answer_id":76208795,"question_id":76174987,"body_markdown":"So, I finally managed to do it. It&#39;s complicated, to say the least. \r\n\r\nFirst, you have to create your user type - make sure to implement both `UserType&lt;&gt;` and `JdbcType` - in this case, I used `UserType&lt;LTree&gt;` and created an `LTree` class to hold the value, but you could also just use `String`.\r\n\r\nThen you need to subclass `DelegatingStrategy` as well as whatever SQLDialect you are using - in my example, it&#39;s `PostgreSQLDialect`.\r\n\r\nExampleReverseEngineeringStrategy:\r\n```java\r\npublic class ExampleReverseEngineeringStrategy extends DelegatingStrategy {\r\n  public ExampleReverseEngineeringStrategy(RevengStrategy delegate) {\r\n    super(delegate);\r\n  }\r\n\r\n  @Override\r\n  public String columnToHibernateTypeName(TableIdentifier table, String columnName, int sqlType, int length, int precision, int scale, boolean nullable, boolean generatedIdentifier) {\r\n    if(columnName.equals(&quot;path&quot;)) {\r\n      return &quot;ltree&quot;;\r\n    } else {\r\n      return super.columnToHibernateTypeName(table, columnName, sqlType, length, precision, scale, nullable, generatedIdentifier);\r\n  }\r\n}\r\n```\r\n\r\nExamplePostgreSQLDialect:\r\n```java\r\npublic class ExamplePostgreSQLDialect extends PostgreSQLDialect {\r\n  @Override\r\n  public void contributeTypes(TypeContributions typeContributions, ServiceRegistry serviceRegistry) {\r\n    super.contributeTypes(typeContributions, serviceRegistry);\r\n    typeContributions.getTypeConfiguration().getBasicTypeRegistry().register(LTreeType.INSTANCE, &quot;ltree&quot;);\r\n  }\r\n}\r\n```\r\n\r\nFinally, I used the Maven antrun plugin. This is by far the longest code block, so beware:\r\n\r\n```xml\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.tool&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-tools-ant&lt;/artifactId&gt;\r\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.tool&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-tools-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.6.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;entity-generation-ant&lt;/id&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n            &lt;configuration&gt;\r\n              &lt;target&gt;\r\n                &lt;echo message=&quot;Ant: Running Hibernatetool with ${project.build.sourceDirectory}&quot; /&gt;\r\n                &lt;property name=&quot;maven_compile_classpath&quot;\r\n                refid=&quot;maven.compile.classpath&quot; /&gt;\r\n                &lt;property name=&quot;maven_test_classpath&quot;\r\n                refid=&quot;maven.test.classpath&quot; /&gt;\r\n                &lt;path id=&quot;hibernatetool.path&quot;&gt;\r\n                  &lt;pathelement path=&quot;${maven_compile_classpath}&quot; /&gt;\r\n                  &lt;pathelement path=&quot;${maven_test_classpath}&quot; /&gt;\r\n                  &lt;pathelement path=&quot;${project.build.sourceDirectory}&quot; /&gt;\r\n                  &lt;pathelement path=&quot;${project.build.outputDirectory}&quot; /&gt;\r\n                &lt;/path&gt;\r\n                &lt;taskdef name=&quot;hibernatetool&quot;\r\n                classname=&quot;org.hibernate.tool.ant.HibernateToolTask&quot;\r\n                classpathref=&quot;hibernatetool.path&quot; /&gt;\r\n                &lt;hibernatetool destdir=&quot;${project.build.directory}/generated-sources&quot;&gt;\r\n\r\n                  &lt;classpath&gt;\r\n                    &lt;path refid=&quot;hibernatetool.path&quot; /&gt;\r\n                    &lt;path location=&quot;${project.build.outputDirectory}&quot; /&gt;\r\n                  &lt;/classpath&gt;\r\n                  &lt;jdbcconfiguration propertyfile=&quot;src/main/resources/application.properties&quot;\r\n                  packagename=&quot;com.example.db&quot;\r\n                  reversestrategy=&quot;com.example.SparsanaReverseEngineeringStrategy&quot;&gt;\r\n\r\n                    &lt;!-- revengfile=&quot;src/main/resources/hibernate.reveng.xml&quot; &gt; --&gt;\r\n                    &lt;fileset dir=&quot;${project.build.sourceDirectory}&quot; /&gt;\r\n                  &lt;/jdbcconfiguration&gt;\r\n                  &lt;hbm2java jdk5=&quot;true&quot; ejb3=&quot;true&quot; /&gt;\r\n                &lt;/hibernatetool&gt;\r\n              &lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;run&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\nIt might also work with the &quot;normal&quot; hbm2java Maven plugin, I didn&#39;t test that yet, I didn&#39;t have the nerve yet. Hopefully this will help someone in as dire a situation as I was.","title":"How can one get Hibernate to use UserType for hbm2java code generation?","body":"<p>So, I finally managed to do it. It's complicated, to say the least.</p>\n<p>First, you have to create your user type - make sure to implement both <code>UserType&lt;&gt;</code> and <code>JdbcType</code> - in this case, I used <code>UserType&lt;LTree&gt;</code> and created an <code>LTree</code> class to hold the value, but you could also just use <code>String</code>.</p>\n<p>Then you need to subclass <code>DelegatingStrategy</code> as well as whatever SQLDialect you are using - in my example, it's <code>PostgreSQLDialect</code>.</p>\n<p>ExampleReverseEngineeringStrategy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExampleReverseEngineeringStrategy extends DelegatingStrategy {\n  public ExampleReverseEngineeringStrategy(RevengStrategy delegate) {\n    super(delegate);\n  }\n\n  @Override\n  public String columnToHibernateTypeName(TableIdentifier table, String columnName, int sqlType, int length, int precision, int scale, boolean nullable, boolean generatedIdentifier) {\n    if(columnName.equals(&quot;path&quot;)) {\n      return &quot;ltree&quot;;\n    } else {\n      return super.columnToHibernateTypeName(table, columnName, sqlType, length, precision, scale, nullable, generatedIdentifier);\n  }\n}\n</code></pre>\n<p>ExamplePostgreSQLDialect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExamplePostgreSQLDialect extends PostgreSQLDialect {\n  @Override\n  public void contributeTypes(TypeContributions typeContributions, ServiceRegistry serviceRegistry) {\n    super.contributeTypes(typeContributions, serviceRegistry);\n    typeContributions.getTypeConfiguration().getBasicTypeRegistry().register(LTreeType.INSTANCE, &quot;ltree&quot;);\n  }\n}\n</code></pre>\n<p>Finally, I used the Maven antrun plugin. This is by far the longest code block, so beware:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.tool&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-tools-ant&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.tool&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-tools-orm&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.6.0&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;entity-generation-ant&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;configuration&gt;\n              &lt;target&gt;\n                &lt;echo message=&quot;Ant: Running Hibernatetool with ${project.build.sourceDirectory}&quot; /&gt;\n                &lt;property name=&quot;maven_compile_classpath&quot;\n                refid=&quot;maven.compile.classpath&quot; /&gt;\n                &lt;property name=&quot;maven_test_classpath&quot;\n                refid=&quot;maven.test.classpath&quot; /&gt;\n                &lt;path id=&quot;hibernatetool.path&quot;&gt;\n                  &lt;pathelement path=&quot;${maven_compile_classpath}&quot; /&gt;\n                  &lt;pathelement path=&quot;${maven_test_classpath}&quot; /&gt;\n                  &lt;pathelement path=&quot;${project.build.sourceDirectory}&quot; /&gt;\n                  &lt;pathelement path=&quot;${project.build.outputDirectory}&quot; /&gt;\n                &lt;/path&gt;\n                &lt;taskdef name=&quot;hibernatetool&quot;\n                classname=&quot;org.hibernate.tool.ant.HibernateToolTask&quot;\n                classpathref=&quot;hibernatetool.path&quot; /&gt;\n                &lt;hibernatetool destdir=&quot;${project.build.directory}/generated-sources&quot;&gt;\n\n                  &lt;classpath&gt;\n                    &lt;path refid=&quot;hibernatetool.path&quot; /&gt;\n                    &lt;path location=&quot;${project.build.outputDirectory}&quot; /&gt;\n                  &lt;/classpath&gt;\n                  &lt;jdbcconfiguration propertyfile=&quot;src/main/resources/application.properties&quot;\n                  packagename=&quot;com.example.db&quot;\n                  reversestrategy=&quot;com.example.SparsanaReverseEngineeringStrategy&quot;&gt;\n\n                    &lt;!-- revengfile=&quot;src/main/resources/hibernate.reveng.xml&quot; &gt; --&gt;\n                    &lt;fileset dir=&quot;${project.build.sourceDirectory}&quot; /&gt;\n                  &lt;/jdbcconfiguration&gt;\n                  &lt;hbm2java jdk5=&quot;true&quot; ejb3=&quot;true&quot; /&gt;\n                &lt;/hibernatetool&gt;\n              &lt;/target&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;run&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>It might also work with the &quot;normal&quot; hbm2java Maven plugin, I didn't test that yet, I didn't have the nerve yet. Hopefully this will help someone in as dire a situation as I was.</p>\n"}],"owner":{"account_id":2569018,"reputation":647,"user_id":2228257,"accept_rate":55,"display_name":"Daniel Ziltener"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76208795,"answer_count":1,"score":0,"last_activity_date":1683631471,"creation_date":1683214942,"question_id":76174987,"body_markdown":"My situation is that I have a Spring Boot application, a PostgreSQL database, and use the hbm2java hibernate Maven plugin to generate the entity classes. The database uses types for which JPA/Hibernate do not have a matching builtin type (example: ltree), so my idea is to use a UserType.\r\n\r\nI have created an LTreeType.java class implementing the UserType interface. How can I get hbm2java to use it for every database column of type ltree?\r\n\r\nEDIT:\r\n\r\nI found out so far that I have to either create a reveng.xml file or subclass `DefaultReverseEngineeringStrategy`. I have no idea how to tell the plugin to use the former (if it even still exists - this whole mess is completely undocumented), or how to actually get my subclass to work with the Maven plugin.\r\n\r\nFor the former, `&lt;revengFile&gt;` does seem to work, although I do end up with the error `Execution entity-generation of goal org.hibernate.tool:hibernate-tools-maven:6.2.1.Final:hbm2java failed: Could not resolve named type`.\r\n\r\nSo if anyone knows how to tell either Maven or this darned plugin to add my normal source folder to the classpath, this might potentially solve the problem.\r\n\r\nAs a final word of advice: stay away as far as possible from hibernate-tools if you have the choice. It&#39;s an undocumented mess.","title":"How can one get Hibernate to use UserType for hbm2java code generation?","body":"<p>My situation is that I have a Spring Boot application, a PostgreSQL database, and use the hbm2java hibernate Maven plugin to generate the entity classes. The database uses types for which JPA/Hibernate do not have a matching builtin type (example: ltree), so my idea is to use a UserType.</p>\n<p>I have created an LTreeType.java class implementing the UserType interface. How can I get hbm2java to use it for every database column of type ltree?</p>\n<p>EDIT:</p>\n<p>I found out so far that I have to either create a reveng.xml file or subclass <code>DefaultReverseEngineeringStrategy</code>. I have no idea how to tell the plugin to use the former (if it even still exists - this whole mess is completely undocumented), or how to actually get my subclass to work with the Maven plugin.</p>\n<p>For the former, <code>&lt;revengFile&gt;</code> does seem to work, although I do end up with the error <code>Execution entity-generation of goal org.hibernate.tool:hibernate-tools-maven:6.2.1.Final:hbm2java failed: Could not resolve named type</code>.</p>\n<p>So if anyone knows how to tell either Maven or this darned plugin to add my normal source folder to the classpath, this might potentially solve the problem.</p>\n<p>As a final word of advice: stay away as far as possible from hibernate-tools if you have the choice. It's an undocumented mess.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":10570114,"reputation":663,"user_id":7787197,"display_name":"theNishant"},"score":0,"creation_date":1683607114,"post_id":76205869,"comment_id":134388401,"body_markdown":"Can you show what you tried?","body":"Can you show what you tried?"}],"owner":{"account_id":28553730,"reputation":1,"user_id":21858232,"display_name":"Priyanka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683631412,"creation_date":1683606890,"question_id":76205869,"body_markdown":"\r\nThe aim was to execute all test cases at the same time but its not working. When executing them separately they are running successfully.\r\n\r\n    errororg.openqa.selenium.NoSuchSessionException: invalid session id\r\n    Build info: version: &#39;4.9.0&#39;, revision: &#39;d7057100a6&#39;\r\n    System info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.3&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Command: [40f27c9d62b0d992228d008cc9e59bc2, switchToFrame {id=null}]\r\n    Capabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 112.0.5615.140, chrome: {chromedriverVersion: 112.0.5615.49 (bd2a7bcb881c..., userDataDir: C:\\Users\\Priyanka\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:58299}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:58299/devtoo..., se:cdpVersion: 112.0.5615.140, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\r\n    Session ID: 40f27c9d62b0d992228d008cc9e59bc2\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) \r\n    \tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:596)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n    \tat org.testng.TestNG.run(TestNG.java:1031)\r\n    \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\r\n\r\n","title":"Getting &quot;org.openqa.selenium.NoSuchSessionException: invalid session id&quot; error while running multiple test cases","body":"<p>The aim was to execute all test cases at the same time but its not working. When executing them separately they are running successfully.</p>\n<pre><code>errororg.openqa.selenium.NoSuchSessionException: invalid session id\nBuild info: version: '4.9.0', revision: 'd7057100a6'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.3'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [40f27c9d62b0d992228d008cc9e59bc2, switchToFrame {id=null}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 112.0.5615.140, chrome: {chromedriverVersion: 112.0.5615.49 (bd2a7bcb881c..., userDataDir: C:\\Users\\Priyanka\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:58299}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:58299/devtoo..., se:cdpVersion: 112.0.5615.140, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nSession ID: 40f27c9d62b0d992228d008cc9e59bc2\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) \n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:794)\n    at org.testng.TestRunner.run(TestRunner.java:596)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1572558858,"post_id":58651588,"comment_id":103607947,"body_markdown":"Does https://intellij-support.jetbrains.com/hc/en-us/community/posts/206171329-How-to-hide-iml-name-in-bold-and-in-square-brackets-next-to-module-folder- gives you information ? is there any kind of module for you ?","body":"Does <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/206171329-How-to-hide-iml-name-in-bold-and-in-square-brackets-next-to-module-folder-\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/posts/&hellip;</a> gives you information ? is there any kind of module for you ?"},{"owner":{"account_id":1754145,"reputation":43950,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1572559011,"post_id":58651588,"comment_id":103607998,"body_markdown":"Does it happen when you cleanly reimport the project or is it a result of manual module rename? Does it affect the root module?","body":"Does it happen when you cleanly reimport the project or is it a result of manual module rename? Does it affect the root module?"}],"answers":[{"tags":[],"owner":{"account_id":3268065,"reputation":2586,"user_id":2752129,"accept_rate":47,"display_name":"Matt Takao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572559068,"creation_date":1572559068,"answer_id":58651654,"question_id":58651588,"body_markdown":"I fixed this by ensuring my `settings.gradle` had the correct name in it. ","title":"Intellij: Project has two names?","body":"<p>I fixed this by ensuring my <code>settings.gradle</code> had the correct name in it. </p>\n"},{"tags":[],"owner":{"account_id":28557160,"reputation":1,"user_id":21861207,"display_name":"Artus 8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683631344,"creation_date":1683631344,"answer_id":76208773,"question_id":58651588,"body_markdown":"This happens when the local folder, where your project is saved, has a different name than your project in your gradle/maven configurations. Also make sure you check your name in your Project Sturcture. That means the name from your modules and your project","title":"Intellij: Project has two names?","body":"<p>This happens when the local folder, where your project is saved, has a different name than your project in your gradle/maven configurations. Also make sure you check your name in your Project Sturcture. That means the name from your modules and your project</p>\n"}],"owner":{"account_id":3268065,"reputation":2586,"user_id":2752129,"accept_rate":47,"display_name":"Matt Takao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683631344,"creation_date":1572558650,"question_id":58651588,"body_markdown":"I&#39;ve been moving things around between multiple repositories and refactoring things, now one of my projects seems to have two names? Not sure what this means or how to fix it. \r\n\r\nThe unbolded one is the correct project name, the bolded one in brackets is another repository that I don&#39;t think should be there. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e2AtT.png","title":"Intellij: Project has two names?","body":"<p>I've been moving things around between multiple repositories and refactoring things, now one of my projects seems to have two names? Not sure what this means or how to fix it. </p>\n\n<p>The unbolded one is the correct project name, the bolded one in brackets is another repository that I don't think should be there. </p>\n\n<p><a href=\"https://i.stack.imgur.com/e2AtT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e2AtT.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","generics"],"owner":{"account_id":10918971,"reputation":2016,"user_id":8025936,"accept_rate":71,"display_name":"schuelermine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683631789,"answer_count":0,"score":0,"last_activity_date":1683630850,"creation_date":1683630850,"question_id":76208711,"body_markdown":"Suppose I have the following class:\r\n```java\r\nclass Box&lt;T&gt; {\r\n    public Box(T value) {\r\n        this.value = value;\r\n    }\r\n    public T value;\r\n}\r\n```\r\n\r\nWhy cant I do this:\r\n```java\r\nObject obj = new Object();\r\nboolean isBox = obj instanceof Box&lt;Object&gt;;\r\n```\r\n```\r\n|  Error:\r\n|  java.lang.Object cannot be safely cast to Box&lt;java.lang.Object&gt;\r\n|  boolean isBox = obj instanceof Box&lt;Object&gt;;\r\n|                  ^-^\r\n```\r\n\r\nBut I _can_ do this:\r\n```java\r\nObject obj = new Object();\r\nboolean isBox = obj instanceof Box&lt;?&gt;;\r\n```","title":"Why can Object not be cast to generic of Object but can be cast to generic with wildcard?","body":"<p>Suppose I have the following class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Box&lt;T&gt; {\n    public Box(T value) {\n        this.value = value;\n    }\n    public T value;\n}\n</code></pre>\n<p>Why cant I do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object obj = new Object();\nboolean isBox = obj instanceof Box&lt;Object&gt;;\n</code></pre>\n<pre><code>|  Error:\n|  java.lang.Object cannot be safely cast to Box&lt;java.lang.Object&gt;\n|  boolean isBox = obj instanceof Box&lt;Object&gt;;\n|                  ^-^\n</code></pre>\n<p>But I <em>can</em> do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object obj = new Object();\nboolean isBox = obj instanceof Box&lt;?&gt;;\n</code></pre>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":3040588,"reputation":15226,"user_id":2577734,"accept_rate":91,"display_name":"Joe Taras"},"score":0,"creation_date":1588170871,"post_id":61504208,"comment_id":108797923,"body_markdown":"Please add your data set (values in iStore) and your wished result set","body":"Please add your data set (values in iStore) and your wished result set"},{"owner":{"account_id":8358723,"reputation":11,"user_id":6277954,"display_name":"MrPoofyWaffle"},"score":0,"creation_date":1588170963,"post_id":61504208,"comment_id":108797978,"body_markdown":"rlegstat:\n  - Cured\n  - Fracture\n\nResult if injury is equal to broken:\nrlegstat:\n  - Cured\n  - Broken\nActual results \nrlegstat:\n  - Cured\n  - Fracture\n  - Broken","body":"rlegstat:   - Cured   - Fracture  Result if injury is equal to broken: rlegstat:   - Cured   - Broken Actual results  rlegstat:   - Cured   - Fracture   - Broken"},{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":0,"creation_date":1588198139,"post_id":61504208,"comment_id":108811938,"body_markdown":"Does `iStore.getStringList` return a reference to the same list every time, or does it return a new copy of the list each time it&#39;s called?","body":"Does <code>iStore.getStringList</code> return a reference to the same list every time, or does it return a new copy of the list each time it&#39;s called?"}],"answers":[{"tags":[],"owner":{"account_id":25879451,"reputation":9,"user_id":19608810,"display_name":"justADeni"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683629516,"creation_date":1683629516,"answer_id":76208542,"question_id":61504208,"body_markdown":"To avoid unpredictable behaviour and even a potential ConcurrentModificationException, instead of using enhanced for loop, use [Iterator][1], which supports removing element while iterating over them.\r\n\r\nAlternatively, you could use simple for loop and iterate backwards:\r\n\r\n    List&lt;String&gt; list;\r\n    \r\n    for(int i = list.size() - 1; i &gt;= 0; --i) {\r\n            if(list.get(i).contains(&quot;bad&quot;)){\r\n                    list.remove(i);\r\n            }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html","title":"Java not removing specific item from list","body":"<p>To avoid unpredictable behaviour and even a potential ConcurrentModificationException, instead of using enhanced for loop, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\" rel=\"nofollow noreferrer\">Iterator</a>, which supports removing element while iterating over them.</p>\n<p>Alternatively, you could use simple for loop and iterate backwards:</p>\n<pre><code>List&lt;String&gt; list;\n\nfor(int i = list.size() - 1; i &gt;= 0; --i) {\n        if(list.get(i).contains(&quot;bad&quot;)){\n                list.remove(i);\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683630303,"creation_date":1683630303,"answer_id":76208643,"question_id":61504208,"body_markdown":"It&#39;s hard to follow your exact logic (since you didn&#39;t give us a full method, for example it&#39;s unclear where `injury` is coming from), but it seems you don&#39;t need to loop at all. Simply using `.contains()`, `.add()` and `.remove()` should suffice:\r\n\r\n```\r\nprivate addInjury(String section, String injury) {\r\n  String storeKey = uuid + &quot;.&quot; + section;\r\n  List&lt;String&gt; sevs = iStore.getStringList(storeKey);\r\n  if (injury.equals(&quot;Broken&quot;)) {\r\n    sevs.remove(&quot;Fracture&quot;); // no need to check if it&#39;s in sev, if it isn&#39;t this will do nothing.\r\n  } else {\r\n    sevs.remove(&quot;Intact&quot;); // depending on the desired logic, this could just go after the if outside of the else block.\r\n  }\r\n  if (!sevs.contains(injury)) {\r\n    sevs.add(injury);\r\n  }\r\n  iStore.set(storeKey, sevs);\r\n  store.saveStore();\r\n}\r\n```","title":"Java not removing specific item from list","body":"<p>It's hard to follow your exact logic (since you didn't give us a full method, for example it's unclear where <code>injury</code> is coming from), but it seems you don't need to loop at all. Simply using <code>.contains()</code>, <code>.add()</code> and <code>.remove()</code> should suffice:</p>\n<pre><code>private addInjury(String section, String injury) {\n  String storeKey = uuid + &quot;.&quot; + section;\n  List&lt;String&gt; sevs = iStore.getStringList(storeKey);\n  if (injury.equals(&quot;Broken&quot;)) {\n    sevs.remove(&quot;Fracture&quot;); // no need to check if it's in sev, if it isn't this will do nothing.\n  } else {\n    sevs.remove(&quot;Intact&quot;); // depending on the desired logic, this could just go after the if outside of the else block.\n  }\n  if (!sevs.contains(injury)) {\n    sevs.add(injury);\n  }\n  iStore.set(storeKey, sevs);\n  store.saveStore();\n}\n</code></pre>\n"}],"owner":{"account_id":8358723,"reputation":11,"user_id":6277954,"display_name":"MrPoofyWaffle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683630303,"creation_date":1588170367,"question_id":61504208,"body_markdown":"I am currently developing a plugin in minecraft spigot. I don&#39;t believe this is a spigot problem though, I believe this is a java problem. I have a method called setInjury() in my class that is supposed to make a copy of a list, remove an item from the copy and replace the list with the new one. The weird thing is, this works. For one item in particular though, it just refuses to remove it. It will remove other ones, but not this one. I checked casing and everything. Even the boolean from .remove says it has been removed, yet it just doesn&#39;t.\r\n\r\n(iStore is a file configuration file while store is my class it&#39;s in)\r\n\r\nIt used to be in an if else statement, but the boolean inside the remove works just the same. The weirdest thing about all of this is it was literally working yesterday.\r\n\r\n    List&lt;String&gt; sevs = iStore.getStringList(uuid + &quot;.&quot; + section);\r\n\t\t\r\n    for(String s : iStore.getStringList(uuid + &quot;.&quot; + section)) {\r\n\t\tboolean isFracture = s.equals(&quot;Fracture&quot;) &amp;&amp; injury.equals(&quot;Broken&quot;) ;\r\n\t\t\t\r\n\t\tif(s.equals(injury)) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\t\t\r\n\t\tsevs.add(&quot;Broken&quot;);\r\n\t\tsevs.remove(isFracture ? &quot;Fracture&quot; : &quot;Intact&quot;);\r\n\r\n\t\tiStore.set(uuid + &quot;.&quot; + section, sevs);\r\n\t\tstore.saveStore();\r\n\t\t\t\r\n\t}\r\n\r\n\r\nMy other more messy code that does the same thing, to prove that it should remove it:\r\n\r\n        List&lt;String&gt; sevs = iStore.getStringList(uuid + &quot;.&quot; + section);\r\n        for(String s : iStore.getStringList(uuid + &quot;.&quot; + section)) {\r\n            if(sevs.contains(injury)) {\r\n                return;\r\n            }else if(injury.equals(&quot;Broken&quot;) &amp;&amp; s.equals(&quot;Fracture&quot;)){\r\n                sevs.add(&quot;Broken&quot;);\r\n                sevs.remove(&quot;Fracture&quot;);\r\n                \r\n              Bukkit.getLogger().info(Boolean.toString(sevs.remove(&quot;Fracture&quot;))); //returns true??\r\n                iStore.set(uuid + &quot;.&quot; + section, sevs);\r\n                store.saveStore();\r\n            }else{\r\n                sevs.add(injury);\r\n                sevs.remove(&quot;Intact&quot;);\r\n                iStore.set(uuid + &quot;.&quot; + section, sevs);\r\n                store.saveStore();\r\n            }\r\n\r\nList before running code:\r\n\r\n \r\n    rlegstat: \r\n     - Cured \r\n     - Fracture \r\n    //Desired result if injury is equal to broken: \r\n    rlegstat: \r\n     - Cured \r\n     - Broken \r\n    //Actual results \r\n    rlegstat: \r\n     - Cured \r\n     - Fracture \r\n     - Broken","title":"Java not removing specific item from list","body":"<p>I am currently developing a plugin in minecraft spigot. I don't believe this is a spigot problem though, I believe this is a java problem. I have a method called setInjury() in my class that is supposed to make a copy of a list, remove an item from the copy and replace the list with the new one. The weird thing is, this works. For one item in particular though, it just refuses to remove it. It will remove other ones, but not this one. I checked casing and everything. Even the boolean from .remove says it has been removed, yet it just doesn't.</p>\n\n<p>(iStore is a file configuration file while store is my class it's in)</p>\n\n<p>It used to be in an if else statement, but the boolean inside the remove works just the same. The weirdest thing about all of this is it was literally working yesterday.</p>\n\n<pre><code>List&lt;String&gt; sevs = iStore.getStringList(uuid + \".\" + section);\n\nfor(String s : iStore.getStringList(uuid + \".\" + section)) {\n    boolean isFracture = s.equals(\"Fracture\") &amp;&amp; injury.equals(\"Broken\") ;\n\n    if(s.equals(injury)) {\n        continue;\n    }\n\n    sevs.add(\"Broken\");\n    sevs.remove(isFracture ? \"Fracture\" : \"Intact\");\n\n    iStore.set(uuid + \".\" + section, sevs);\n    store.saveStore();\n\n}\n</code></pre>\n\n<p>My other more messy code that does the same thing, to prove that it should remove it:</p>\n\n<pre><code>    List&lt;String&gt; sevs = iStore.getStringList(uuid + \".\" + section);\n    for(String s : iStore.getStringList(uuid + \".\" + section)) {\n        if(sevs.contains(injury)) {\n            return;\n        }else if(injury.equals(\"Broken\") &amp;&amp; s.equals(\"Fracture\")){\n            sevs.add(\"Broken\");\n            sevs.remove(\"Fracture\");\n\n          Bukkit.getLogger().info(Boolean.toString(sevs.remove(\"Fracture\"))); //returns true??\n            iStore.set(uuid + \".\" + section, sevs);\n            store.saveStore();\n        }else{\n            sevs.add(injury);\n            sevs.remove(\"Intact\");\n            iStore.set(uuid + \".\" + section, sevs);\n            store.saveStore();\n        }\n</code></pre>\n\n<p>List before running code:</p>\n\n<pre><code>rlegstat: \n - Cured \n - Fracture \n//Desired result if injury is equal to broken: \nrlegstat: \n - Cured \n - Broken \n//Actual results \nrlegstat: \n - Cured \n - Fracture \n - Broken\n</code></pre>\n"},{"tags":["java","android","kotlin","android-jetpack-datastore"],"answers":[{"tags":[],"owner":{"account_id":19966209,"reputation":21,"user_id":14632745,"display_name":"Khaoula MECHERGUI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650908556,"creation_date":1650894421,"answer_id":72000615,"question_id":71634780,"body_markdown":"I had the same problem and, I think that `context.createDatastore` isn&#39;t yet in this version\r\nI tried with this dependency version\r\n\r\n    &quot;androidx.datastore:datastore-preferences:1.0.0-alpha01&quot;\r\n\r\n and it worked for me but be careful this version is not yet stable.","title":"context.createDatabase is not finding in preferences DataStore Android","body":"<p>I had the same problem and, I think that <code>context.createDatastore</code> isn't yet in this version\nI tried with this dependency version</p>\n<pre><code>&quot;androidx.datastore:datastore-preferences:1.0.0-alpha01&quot;\n</code></pre>\n<p>and it worked for me but be careful this version is not yet stable.</p>\n"},{"tags":[],"owner":{"account_id":7017583,"reputation":51,"user_id":5378327,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683630177,"creation_date":1683629860,"answer_id":76208591,"question_id":71634780,"body_markdown":"I used this version and solved the problem:\r\n\r\n    androidx.datastore:datastore-preferences:1.0.0\r\n\r\nI was using this version before:\r\n\r\n    androidx.datastore:datastore-preferences-core:1.0.0\r\n\r\n    ","title":"context.createDatabase is not finding in preferences DataStore Android","body":"<p>I used this version and solved the problem:</p>\n<pre><code>androidx.datastore:datastore-preferences:1.0.0\n</code></pre>\n<p>I was using this version before:</p>\n<pre><code>androidx.datastore:datastore-preferences-core:1.0.0\n</code></pre>\n"}],"owner":{"account_id":16147660,"reputation":424,"user_id":11656856,"display_name":"Mostafa Imani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":812,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683630177,"creation_date":1648369736,"question_id":71634780,"body_markdown":"I&#39;ve just implemented Preferences by Android DataStore \r\nbut I can&#39;t find  &quot;context.createDataStore&quot;\r\n I added this dependency below\r\n \r\n\r\n&gt;  implementation &quot;androidx.datastore:datastore-preferences:1.0.0&quot;\r\n\r\nand also I did clean and Rebuild Project\r\nbut I can&#39;t find createDataStore function","title":"context.createDatabase is not finding in preferences DataStore Android","body":"<p>I've just implemented Preferences by Android DataStore\nbut I can't find  &quot;context.createDataStore&quot;\nI added this dependency below</p>\n<blockquote>\n<p>implementation &quot;androidx.datastore:datastore-preferences:1.0.0&quot;</p>\n</blockquote>\n<p>and also I did clean and Rebuild Project\nbut I can't find createDataStore function</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1683628226,"post_id":76208296,"comment_id":134392350,"body_markdown":"The Spring Cloud version in use is not compatible with Spring Boot 3.","body":"The Spring Cloud version in use is not compatible with Spring Boot 3."}],"owner":{"account_id":9210277,"reputation":201,"user_id":6843798,"display_name":"S.R.D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":897,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683630090,"creation_date":1683627827,"question_id":76208296,"body_markdown":"I am not able to run my project. While running I am getting below error (see the error log). Could anyone please help what will be the issue here? It seems like a version mismatch issue.\r\n\r\nError log\r\n```none\r\n10:09:40.437 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\n    java.lang.NoClassDefFoundError: org/springframework/boot/Bootstrapper\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat org.springframework.cloud.bootstrap.encrypt.DecryptEnvironmentPostProcessor.getTextEncryptor(DecryptEnvironmentPostProcessor.java:82)\r\n    \tat org.springframework.cloud.bootstrap.encrypt.DecryptEnvironmentPostProcessor.postProcessEnvironment(DecryptEnvironmentPostProcessor.java:68)\r\n    \tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:109)\r\n    \tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:94)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:352)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\r\n    \tat com.hp.it.os.warrantyorch.Application.main(Application.java:19)\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.Bootstrapper\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 29 common frames omitted\r\n```\r\n\r\nI have added log file here and as well as my pom.xml file.\r\n\r\npom.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.hp.it.psoit&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;warrantyorch&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;warrantyorch&lt;/name&gt;\r\n\t&lt;version&gt;v1&lt;/version&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n\t\t&lt;jaxb2.version&gt;1.11.1&lt;/jaxb2.version&gt;\r\n\t\t&lt;threetenbp.version&gt;2.10.0&lt;/threetenbp.version&gt;\r\n\t\t&lt;openfeign.version&gt;3.0.1&lt;/openfeign.version&gt;\r\n\t\t&lt;soap.version&gt;11.8&lt;/soap.version&gt;\r\n\t\t&lt;hc5.version&gt;10.12&lt;/hc5.version&gt;\r\n\t\t&lt;feign.okhttp.version&gt;12.3&lt;/feign.okhttp.version&gt;\r\n\t\t&lt;resilience4j.version&gt;2.0.2&lt;/resilience4j.version&gt;\r\n\t\t&lt;spi.version&gt;2.17.224&lt;/spi.version&gt;\r\n\t\t&lt;aws.crt.version&gt;0.21.14&lt;/aws.crt.version&gt;\r\n\t\t&lt;crt.client.version&gt;2.20.25&lt;/crt.client.version&gt;\r\n\t\t&lt;sdk-core.version&gt;2.20.25&lt;/sdk-core.version&gt;\r\n\t\t&lt;jwt.version&gt;4.2.1&lt;/jwt.version&gt;\r\n\t\t&lt;rsa.version&gt;0.21.2&lt;/rsa.version&gt;\r\n\t\t&lt;commonlib.version&gt;0.4.85&lt;/commonlib.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.hp.os&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commonlib&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${commonlib.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;netty-buffer&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0.Alpha2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-annotations --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb2-basics&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jaxb2.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.joschi.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-datatype-threetenbp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${threetenbp.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.github.openfeign/feign-soap --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${openfeign.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;feign-soap&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${soap.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.github.openfeign/feign-hc5 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;feign-hc5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${hc5.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-dependencies --&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.github.openfeign/feign-okhttp --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;feign-okhttp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${feign.okhttp.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- AOP LOG --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${resilience4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;http-client-spi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spi.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk.crt&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aws-crt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${aws.crt.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aws-crt-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${crt.client.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sdk-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${sdk-core.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jwt.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jwks-rsa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${rsa.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n","title":"java.lang.NoClassDefFoundError: org/springframework/boot/Bootstrapper","body":"<p>I am not able to run my project. While running I am getting below error (see the error log). Could anyone please help what will be the issue here? It seems like a version mismatch issue.</p>\n<p>Error log</p>\n<pre class=\"lang-none prettyprint-override\"><code>10:09:40.437 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\n    java.lang.NoClassDefFoundError: org/springframework/boot/Bootstrapper\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        at org.springframework.cloud.bootstrap.encrypt.DecryptEnvironmentPostProcessor.getTextEncryptor(DecryptEnvironmentPostProcessor.java:82)\n        at org.springframework.cloud.bootstrap.encrypt.DecryptEnvironmentPostProcessor.postProcessEnvironment(DecryptEnvironmentPostProcessor.java:68)\n        at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:109)\n        at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:94)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n        at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n        at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\n        at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\n        at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n        at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n        at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\n        at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\n        at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:352)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\n        at com.hp.it.os.warrantyorch.Application.main(Application.java:19)\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.Bootstrapper\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        ... 29 common frames omitted\n</code></pre>\n<p>I have added log file here and as well as my pom.xml file.</p>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.hp.it.psoit&lt;/groupId&gt;\n    &lt;artifactId&gt;warrantyorch&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;warrantyorch&lt;/name&gt;\n    &lt;version&gt;v1&lt;/version&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;jaxb2.version&gt;1.11.1&lt;/jaxb2.version&gt;\n        &lt;threetenbp.version&gt;2.10.0&lt;/threetenbp.version&gt;\n        &lt;openfeign.version&gt;3.0.1&lt;/openfeign.version&gt;\n        &lt;soap.version&gt;11.8&lt;/soap.version&gt;\n        &lt;hc5.version&gt;10.12&lt;/hc5.version&gt;\n        &lt;feign.okhttp.version&gt;12.3&lt;/feign.okhttp.version&gt;\n        &lt;resilience4j.version&gt;2.0.2&lt;/resilience4j.version&gt;\n        &lt;spi.version&gt;2.17.224&lt;/spi.version&gt;\n        &lt;aws.crt.version&gt;0.21.14&lt;/aws.crt.version&gt;\n        &lt;crt.client.version&gt;2.20.25&lt;/crt.client.version&gt;\n        &lt;sdk-core.version&gt;2.20.25&lt;/sdk-core.version&gt;\n        &lt;jwt.version&gt;4.2.1&lt;/jwt.version&gt;\n        &lt;rsa.version&gt;0.21.2&lt;/rsa.version&gt;\n        &lt;commonlib.version&gt;0.4.85&lt;/commonlib.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.hp.os&lt;/groupId&gt;\n            &lt;artifactId&gt;commonlib&lt;/artifactId&gt;\n            &lt;version&gt;${commonlib.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;netty-buffer&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0.Alpha2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-annotations --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-basics&lt;/artifactId&gt;\n            &lt;version&gt;${jaxb2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.joschi.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-threetenbp&lt;/artifactId&gt;\n            &lt;version&gt;${threetenbp.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.github.openfeign/feign-soap --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n            &lt;version&gt;${openfeign.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\n            &lt;artifactId&gt;feign-soap&lt;/artifactId&gt;\n            &lt;version&gt;${soap.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.github.openfeign/feign-hc5 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\n            &lt;artifactId&gt;feign-hc5&lt;/artifactId&gt;\n            &lt;version&gt;${hc5.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-dependencies --&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.github.openfeign/feign-okhttp --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\n            &lt;artifactId&gt;feign-okhttp&lt;/artifactId&gt;\n            &lt;version&gt;${feign.okhttp.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;!-- AOP LOG --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n            &lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\n            &lt;version&gt;${resilience4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;http-client-spi&lt;/artifactId&gt;\n            &lt;version&gt;${spi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk.crt&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-crt&lt;/artifactId&gt;\n            &lt;version&gt;${aws.crt.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-crt-client&lt;/artifactId&gt;\n            &lt;version&gt;${crt.client.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;sdk-core&lt;/artifactId&gt;\n            &lt;version&gt;${sdk-core.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;${jwt.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;jwks-rsa&lt;/artifactId&gt;\n            &lt;version&gt;${rsa.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n            &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","android-spinner"],"answers":[{"tags":[],"owner":{"display_name":"user21742102"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683629875,"creation_date":1683629875,"answer_id":76208596,"question_id":76207133,"body_markdown":"You have to `setError(null)`, when an item is selected:\r\n```\r\ncaste.setOnItemClickListener((adapterView, view, i, l) -&gt; caste.setError(null));\r\n```","title":"Material Autocompletetextview shows error even when an item is selected","body":"<p>You have to <code>setError(null)</code>, when an item is selected:</p>\n<pre><code>caste.setOnItemClickListener((adapterView, view, i, l) -&gt; caste.setError(null));\n</code></pre>\n"}],"owner":{"display_name":"user21742102"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683629875,"creation_date":1683619617,"question_id":76207133,"body_markdown":"My code:\r\n\r\n*xml:*\r\n```\r\n&lt;com.google.android.material.textfield.TextInputLayout                         \r\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\r\n    android:layout_marginTop=&quot;5dp&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:id=&quot;@+id/caste_textinputlayout&quot;\r\n    android:hint=&quot;caste&quot;\r\n    app:errorTextAppearance=&quot;@style/error_appearance&quot;\r\n    app:hintTextAppearance=&quot;@style/error_appearance&quot;&gt;\r\n                                \r\n    &lt;com.google.android.material.textfield.MaterialAutoCompleteTextView\r\n        android:id=&quot;@+id/caste_dropdown&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fontFamily=&quot;sans-serif-smallcaps&quot;\r\n        android:focusable=&quot;false&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n```\r\n\r\n*java:*\r\n```\r\nMaterialAutoCompleteTextView caste = findViewById(R.id.caste_dropdown);\r\nArrayList&lt;String&gt; arr = new ArrayList&lt;&gt;();\r\narr.add(&quot;general&quot;);\r\narr.add(&quot;sc&quot;);\r\narr.add(&quot;st&quot;);\r\narr.add(&quot;obc&quot;);\r\narrayadapter = new ArrayAdapter&lt;&gt;(this,R.layout.spinner_layout,arr);\r\ncaste.setAdapter(arrayadapter);\r\nsubmit.setOnClickListener(view -&gt; {\r\n    if (caste.getText().toString().isEmpty()) {\r\n        caste.requestFocus();\r\n        caste.setError(&quot;Please don&#39;t leave the field empty&quot;);\r\n    }\r\n});\r\n```\r\n\r\n\r\n----------\r\nWhen no item is selected in the dropdown, then the error shows, which it should. Now if I select an item, it still shows the error. Why?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z1M7k.jpg","title":"Material Autocompletetextview shows error even when an item is selected","body":"<p>My code:</p>\n<p><em>xml:</em></p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout                         \n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\n    android:layout_marginTop=&quot;5dp&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/caste_textinputlayout&quot;\n    android:hint=&quot;caste&quot;\n    app:errorTextAppearance=&quot;@style/error_appearance&quot;\n    app:hintTextAppearance=&quot;@style/error_appearance&quot;&gt;\n                                \n    &lt;com.google.android.material.textfield.MaterialAutoCompleteTextView\n        android:id=&quot;@+id/caste_dropdown&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:fontFamily=&quot;sans-serif-smallcaps&quot;\n        android:focusable=&quot;false&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p><em>java:</em></p>\n<pre><code>MaterialAutoCompleteTextView caste = findViewById(R.id.caste_dropdown);\nArrayList&lt;String&gt; arr = new ArrayList&lt;&gt;();\narr.add(&quot;general&quot;);\narr.add(&quot;sc&quot;);\narr.add(&quot;st&quot;);\narr.add(&quot;obc&quot;);\narrayadapter = new ArrayAdapter&lt;&gt;(this,R.layout.spinner_layout,arr);\ncaste.setAdapter(arrayadapter);\nsubmit.setOnClickListener(view -&gt; {\n    if (caste.getText().toString().isEmpty()) {\n        caste.requestFocus();\n        caste.setError(&quot;Please don't leave the field empty&quot;);\n    }\n});\n</code></pre>\n<hr />\n<p>When no item is selected in the dropdown, then the error shows, which it should. Now if I select an item, it still shows the error. Why?</p>\n<p><a href=\"https://i.stack.imgur.com/Z1M7k.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z1M7k.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mysql","kubernetes","ssl","amazon-rds"],"owner":{"account_id":978323,"reputation":5182,"user_id":998692,"accept_rate":97,"display_name":"user998692"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683629296,"creation_date":1683629296,"question_id":76208517,"body_markdown":"I have an environment where SSL is enabled for the db connection with Amazon RDS MySQL, and I&#39;m seeing the following exception when the application starts:\r\n```Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Path does not chain with any of the trust anchors\\n\\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)```\r\n\r\nI have downloaded the pem file from the Amazon website, and used the following scripts to first create the truststore, then to upload the secret to the environments.\r\n\r\n```#!/bin/bash\r\n\r\nmydir= &quot;/myproject/scripts/python/secrets/resources&quot;\r\ntruststore=truststore.jks\r\nstorepassword=password\r\n\r\nsplit -p &quot;-----BEGIN CERTIFICATE-----&quot; /myproject/scripts/python/secrets/resources/dev-certs/eucentral/eu-central-1-bundle.pem rds-ca-\r\n\r\nfor CERT in rds-ca-*; do\r\n  alias=$(openssl x509 -noout -text -in $CERT | perl -ne &#39;next unless /Subject:/; s/.*(CN=|CN = )//; print&#39;)\r\n  echo &quot;Importing $alias&quot;\r\n  keytool -import -file ${CERT} -alias &quot;${alias}&quot; -storepass ${storepassword} -keystore ${truststore} -noprompt\r\n  rm $CERT\r\ndone\r\n\r\necho &quot;Trust store content is: &quot;\r\n\r\nkeytool -list -v -keystore &quot;$truststore&quot; -storepass ${storepassword} | grep Alias | cut -d &quot; &quot; -f3- | while read alias \r\ndo\r\n   expiry=`keytool -list -v -keystore &quot;$truststore&quot; -storepass ${storepassword} -alias &quot;${alias}&quot; | grep Valid | perl -ne &#39;if(/until: (.*?)\\n/) { print &quot;$1\\n&quot;; }&#39;`\r\n   echo &quot; Certificate ${alias} expires in &#39;$expiry&#39;&quot; \r\ndone\r\n```\r\n\r\n```\r\ndef create_certificate_secret(context, namespace, secret_name):\r\n    certs = []\r\n    path = &#39;resources/&#39;\r\n\r\n    if &#39;dev&#39; in context:\r\n        path = path + &#39;dev-certs/&#39;\r\n\r\n    eu_central_certs = [&#39;truststore.jks&#39;, &#39;eu-central-1-bundle.pem&#39;]\r\n\r\n    if &#39;eucentral&#39; in context:\r\n        path = path + &#39;eucentral/&#39;\r\n        certs = eu_central_certs\r\n\r\n    statement = &quot;kubectl --context &quot; + context + &quot; -n &quot; + namespace + &quot; create secret generic &quot; + secret_name\r\n\r\n    for cert in certs:\r\n        statement = statement + &quot; --from-file=&quot; + cert + &#39;=&#39; + path + cert\r\n\r\n    os.system(statement)\r\n```\r\n\r\nWhen I run the script, I can see that the secret gets created, and it has inside the pem file and the truststore, and that all the certificates from the pem were included in the truststore. The mountPath looks correct too, so I am wondering why the above configuration doesn&#39;t work.\r\n","title":"SSL issue for database connection on Kubernetes","body":"<p>I have an environment where SSL is enabled for the db connection with Amazon RDS MySQL, and I'm seeing the following exception when the application starts:\n<code>Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Path does not chain with any of the trust anchors\\n\\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)</code></p>\n<p>I have downloaded the pem file from the Amazon website, and used the following scripts to first create the truststore, then to upload the secret to the environments.</p>\n<pre><code>\nmydir= &quot;/myproject/scripts/python/secrets/resources&quot;\ntruststore=truststore.jks\nstorepassword=password\n\nsplit -p &quot;-----BEGIN CERTIFICATE-----&quot; /myproject/scripts/python/secrets/resources/dev-certs/eucentral/eu-central-1-bundle.pem rds-ca-\n\nfor CERT in rds-ca-*; do\n  alias=$(openssl x509 -noout -text -in $CERT | perl -ne 'next unless /Subject:/; s/.*(CN=|CN = )//; print')\n  echo &quot;Importing $alias&quot;\n  keytool -import -file ${CERT} -alias &quot;${alias}&quot; -storepass ${storepassword} -keystore ${truststore} -noprompt\n  rm $CERT\ndone\n\necho &quot;Trust store content is: &quot;\n\nkeytool -list -v -keystore &quot;$truststore&quot; -storepass ${storepassword} | grep Alias | cut -d &quot; &quot; -f3- | while read alias \ndo\n   expiry=`keytool -list -v -keystore &quot;$truststore&quot; -storepass ${storepassword} -alias &quot;${alias}&quot; | grep Valid | perl -ne 'if(/until: (.*?)\\n/) { print &quot;$1\\n&quot;; }'`\n   echo &quot; Certificate ${alias} expires in '$expiry'&quot; \ndone\n</code></pre>\n<pre><code>def create_certificate_secret(context, namespace, secret_name):\n    certs = []\n    path = 'resources/'\n\n    if 'dev' in context:\n        path = path + 'dev-certs/'\n\n    eu_central_certs = ['truststore.jks', 'eu-central-1-bundle.pem']\n\n    if 'eucentral' in context:\n        path = path + 'eucentral/'\n        certs = eu_central_certs\n\n    statement = &quot;kubectl --context &quot; + context + &quot; -n &quot; + namespace + &quot; create secret generic &quot; + secret_name\n\n    for cert in certs:\n        statement = statement + &quot; --from-file=&quot; + cert + '=' + path + cert\n\n    os.system(statement)\n</code></pre>\n<p>When I run the script, I can see that the secret gets created, and it has inside the pem file and the truststore, and that all the certificates from the pem were included in the truststore. The mountPath looks correct too, so I am wondering why the above configuration doesn't work.</p>\n"},{"tags":["java","junit","junit5"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":2,"creation_date":1683626912,"post_id":76208064,"comment_id":134391998,"body_markdown":"Place the test in the same package as the enum.","body":"Place the test in the same package as the enum."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":3,"creation_date":1683626964,"post_id":76208064,"comment_id":134392010,"body_markdown":"Put your unit test in the package com","body":"Put your unit test in the package com"},{"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"score":0,"creation_date":1683627313,"post_id":76208064,"comment_id":134392122,"body_markdown":"enums are package-private per default. Therefore the suggestion from @JustanotherJavaprogrammer should work.","body":"enums are package-private per default. Therefore the suggestion from @JustanotherJavaprogrammer should work."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683627593,"post_id":76208064,"comment_id":134392197,"body_markdown":"What is &#39; public intron&#39;? And if you want access from outside, why is it private?","body":"What is &#39; public intron&#39;? And if you want access from outside, why is it private?"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1683628369,"post_id":76208064,"comment_id":134392388,"body_markdown":"how is `IssueMap.getIssueTypes(....)` used by your code? The enum not public, in other words, it&#39;s an implementation detail encapsulated in a bigger usecase. For example, if `ServiceX` uses these issues types when implementing `methodY`, maybe it&#39;s enough to only test `ServiceX.methodY()`.","body":"how is <code>IssueMap.getIssueTypes(....)</code> used by your code? The enum not public, in other words, it&#39;s an implementation detail encapsulated in a bigger usecase. For example, if <code>ServiceX</code> uses these issues types when implementing <code>methodY</code>, maybe it&#39;s enough to only test <code>ServiceX.methodY()</code>."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1683628784,"post_id":76208064,"comment_id":134392473,"body_markdown":"@EmanuelTrandafir it&#39;s called into the same package","body":"@EmanuelTrandafir it&#39;s called into the same package"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1683632195,"post_id":76208064,"comment_id":134393236,"body_markdown":"@PeterPenzov but it has to be called by some public method eventually, even if this method is part of a different class","body":"@PeterPenzov but it has to be called by some public method eventually, even if this method is part of a different class"}],"answers":[{"tags":[],"owner":{"account_id":1038724,"reputation":196,"user_id":1045253,"display_name":"Lance Reid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683627807,"creation_date":1683627468,"answer_id":76208253,"question_id":76208064,"body_markdown":"Your IssueMap enum is not private, but rather [package-private][1]. If your test class is in the same package name as your IssueMap enum then your test class should be able to access the IssueMap enum without changing the IssueMap enum\r\n\r\n```\r\npackage com.myenum;\r\n\r\nenum IssueMap {\r\n\r\n  ISSUE_TYPE,\r\n\r\n  public static .... getIssueTypes(String IssueName) {\r\n    \r\n    return ...;\r\n  }\r\n\r\n} \r\n```\r\n\r\n```\r\npackage com.myenum;\r\n\r\nclass IssueMapTest {\r\n  @Test\r\n  public void genericTest() {\r\n    ....... = IssueMap.getIssueTypes(....);\r\n    assertNotNull(...);\r\n  }\r\n}\r\n```\r\n\r\nNotice the package name in IssueMap and IssueMapTest are the same. Even though my IssueMap path is *src/main/java/com/myenum/IssueMap.java* and IssueMapTest path is *src/test/java/com/myenum/IssueMapTest.java*\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html","title":"access private enum in Java","body":"<p>Your IssueMap enum is not private, but rather <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">package-private</a>. If your test class is in the same package name as your IssueMap enum then your test class should be able to access the IssueMap enum without changing the IssueMap enum</p>\n<pre><code>package com.myenum;\n\nenum IssueMap {\n\n  ISSUE_TYPE,\n\n  public static .... getIssueTypes(String IssueName) {\n    \n    return ...;\n  }\n\n} \n</code></pre>\n<pre><code>package com.myenum;\n\nclass IssueMapTest {\n  @Test\n  public void genericTest() {\n    ....... = IssueMap.getIssueTypes(....);\n    assertNotNull(...);\n  }\n}\n</code></pre>\n<p>Notice the package name in IssueMap and IssueMapTest are the same. Even though my IssueMap path is <em>src/main/java/com/myenum/IssueMap.java</em> and IssueMapTest path is <em>src/test/java/com/myenum/IssueMapTest.java</em></p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76208253,"answer_count":1,"score":-1,"last_activity_date":1683628233,"creation_date":1683626248,"question_id":76208064,"body_markdown":"I have the following Java Enum:\r\n\r\n    enum IssueMap {\r\n    \r\n      ISSUE_TYPE,\r\n    \r\n      public static .... getIssueTypes(String IssueName) {\r\n        \r\n        return ...;\r\n      }\r\n    \r\n    } \r\n\r\n*Notice that I don&#39;t have public keyword in front of a enum!*\r\n\r\n\r\nI want to call this code into JUnit test like this:\r\n\r\n      @Test\r\n      public void genericTest() {\r\n        ....... = IssueMap.getIssueTypes(....);\r\n        assertNotNull(...);\r\n      }\r\n\r\nI get error `&#39;com.IssueMap&#39; is not public in &#39;com....&#39;. Cannot be accessed from outside package`\r\n\r\nI can&#39;t change the original enum code. Is there some solution with reflection for example to access the enum code?\r\n\r\n","title":"access private enum in Java","body":"<p>I have the following Java Enum:</p>\n<pre><code>enum IssueMap {\n\n  ISSUE_TYPE,\n\n  public static .... getIssueTypes(String IssueName) {\n    \n    return ...;\n  }\n\n} \n</code></pre>\n<p><em>Notice that I don't have public keyword in front of a enum!</em></p>\n<p>I want to call this code into JUnit test like this:</p>\n<pre><code>  @Test\n  public void genericTest() {\n    ....... = IssueMap.getIssueTypes(....);\n    assertNotNull(...);\n  }\n</code></pre>\n<p>I get error <code>'com.IssueMap' is not public in 'com....'. Cannot be accessed from outside package</code></p>\n<p>I can't change the original enum code. Is there some solution with reflection for example to access the enum code?</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1683627019,"post_id":76208176,"comment_id":134392025,"body_markdown":"Does TestBaseClass compile?","body":"Does TestBaseClass compile?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1683627103,"post_id":76208176,"comment_id":134392049,"body_markdown":"`TestBaseClass` is, presumably, in the default package. You can&#39;t import things from the default package. Move it into an explicit package, and import it.","body":"<code>TestBaseClass</code> is, presumably, in the default package. You can&#39;t import things from the default package. Move it into an explicit package, and import it."},{"owner":{"account_id":12706527,"reputation":999,"user_id":9231614,"display_name":"kris82pl"},"score":0,"creation_date":1683628056,"post_id":76208176,"comment_id":134392299,"body_markdown":"@AndyTurner that was the problem. Thanks for solution.","body":"@AndyTurner that was the problem. Thanks for solution."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683628129,"creation_date":1683628129,"answer_id":76208348,"question_id":76208176,"body_markdown":"1. Move TestBaseClass to some package\r\n2. If CucumberTestBaseClass and TestBaseClass are in different packages make sure to import TestBaseClass in your CucumberTestBaseClass ","title":"Can&#39;t resolve symbol while trying to extend class from different package","body":"<ol>\n<li>Move TestBaseClass to some package</li>\n<li>If CucumberTestBaseClass and TestBaseClass are in different packages make sure to import TestBaseClass in your CucumberTestBaseClass</li>\n</ol>\n"}],"owner":{"account_id":12706527,"reputation":999,"user_id":9231614,"display_name":"kris82pl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683628129,"creation_date":1683626912,"question_id":76208176,"body_markdown":"I have following structure:\r\n\r\nsrc\\test\\java\\TestBaseClass.java\r\n\r\nsrc\\test\\java\\cucumber\\CucumberTestBaseClass.java\r\n\r\nWhen I want to extend TestBaseClass\r\n\r\n    public class CucumberTestBaseClass extends TestBaseClass {\r\n    }\r\n\r\nI receive an error &quot;Can&#39;t resolve symbol: TestBaseClass&quot;\r\nI use IntelliJ Ultimate 2022.2.3 but I have past projects when such extension is compiling so I don&#39;t have idea what is wrong here.\r\nI have no idea what is going on becuase I have","title":"Can&#39;t resolve symbol while trying to extend class from different package","body":"<p>I have following structure:</p>\n<p>src\\test\\java\\TestBaseClass.java</p>\n<p>src\\test\\java\\cucumber\\CucumberTestBaseClass.java</p>\n<p>When I want to extend TestBaseClass</p>\n<pre><code>public class CucumberTestBaseClass extends TestBaseClass {\n}\n</code></pre>\n<p>I receive an error &quot;Can't resolve symbol: TestBaseClass&quot;\nI use IntelliJ Ultimate 2022.2.3 but I have past projects when such extension is compiling so I don't have idea what is wrong here.\nI have no idea what is going on becuase I have</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":769702,"reputation":5530,"user_id":1061193,"accept_rate":83,"display_name":"drum"},"score":2,"creation_date":1683307120,"post_id":76184575,"comment_id":134352171,"body_markdown":"what are your inputs and outputs","body":"what are your inputs and outputs"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1683307420,"post_id":76184575,"comment_id":134352228,"body_markdown":"Does this answer your question? [java timestamps calculate overlap duration with interval](https://stackoverflow.com/questions/51465913/java-timestamps-calculate-overlap-duration-with-interval)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51465913/java-timestamps-calculate-overlap-duration-with-interval\">java timestamps calculate overlap duration with interval</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683308204,"post_id":76184575,"comment_id":134352362,"body_markdown":"`if (lt1.isAfter(lt2)) { System.out.printf(&quot;Time %s is after time %s%n&quot;, lt1, lt2);System.out.printf(&quot;Time %s is before time %s%n&quot;, lt1.atDate(LocalDate.now()), lt2.atDate(LocalDate.now()).plusDays(1));}` perhaps?","body":"<code>if (lt1.isAfter(lt2)) { System.out.printf(&quot;Time %s is after time %s%n&quot;, lt1, lt2);System.out.printf(&quot;Time %s is before time %s%n&quot;, lt1.atDate(LocalDate.now()), lt2.atDate(LocalDate.now()).plusDays(1));}</code> perhaps?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1683308602,"post_id":76184575,"comment_id":134352418,"body_markdown":"If you want any of this to work your timestamps must be _complete_ timestamps (i.e. `Instant`), with both date and time.  Then calculating the interval is just a subtraction.","body":"If you want any of this to work your timestamps must be <i>complete</i> timestamps (i.e. <code>Instant</code>), with both date and time.  Then calculating the interval is just a subtraction."},{"owner":{"account_id":25158292,"reputation":7,"user_id":19002824,"display_name":"DinoKing"},"score":0,"creation_date":1683311503,"post_id":76184575,"comment_id":134353053,"body_markdown":"@drum - current output with my example of 23:00-05:00 is 28:00","body":"@drum - current output with my example of 23:00-05:00 is 28:00"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683314252,"post_id":76184575,"comment_id":134353585,"body_markdown":"Your numbers do not make sense. What does &quot;01:00-06:00&quot; have to do with &quot;workday starts at 23:00 and ends at 05:00&quot;? You say &quot;The result is 4 hours&quot; but none of your examples are four hours long. Please take more care when drafting your Question.","body":"Your numbers do not make sense. What does &quot;01:00-06:00&quot; have to do with &quot;workday starts at 23:00 and ends at 05:00&quot;? You say &quot;The result is 4 hours&quot; but none of your examples are four hours long. Please take more care when drafting your Question."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1683318653,"post_id":76184575,"comment_id":134354402,"body_markdown":"@BasilBourque if you start at 23:00 and end at 05:00, exactly four of the hours worked are between 01:00 and 06:00 (from 01:00 to 05:00).","body":"@BasilBourque if you start at 23:00 and end at 05:00, exactly four of the hours worked are between 01:00 and 06:00 (from 01:00 to 05:00)."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1683318724,"post_id":76184575,"comment_id":134354413,"body_markdown":"What types are `start` and `end`? If starting after 06:00, simply use midnight as start.","body":"What types are <code>start</code> and <code>end</code>? If starting after 06:00, simply use midnight as start."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683625409,"post_id":76184575,"comment_id":134391647,"body_markdown":"[mcve] please (mind the __M__!) - if you have problems using Date/Time api, there is no need to mix-in the ui (or the other way round :) And __do not__ use the old Date api.","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please (mind the <b>M</b>!) - if you have problems using Date/Time api, there is no need to mix-in the ui (or the other way round :) And <b>do not</b> use the old Date api."},{"owner":{"account_id":25158292,"reputation":7,"user_id":19002824,"display_name":"DinoKing"},"score":0,"creation_date":1683702144,"post_id":76184575,"comment_id":134405093,"body_markdown":"@kleopatra - TY for your comment, unfortunately I can&#39;t make everyone happy and some want more, some want less of my code. My code does not that big, so I hope (and think) it is okay for now. What should I use instead of the &quot;old date api&quot; in your opinion then?","body":"@kleopatra - TY for your comment, unfortunately I can&#39;t make everyone happy and some want more, some want less of my code. My code does not that big, so I hope (and think) it is okay for now. What should I use instead of the &quot;old date api&quot; in your opinion then?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683332261,"creation_date":1683313951,"answer_id":76185275,"question_id":76184575,"body_markdown":"# `LocalDateTime` is ambiguous\r\n\r\nThe `LocalDateTime` class is the wrong class for your purpose. The `LocalDateTime` class purposely lacks any concept of time zone or offset from UTC, so it is inherently indefinite, ambiguous.\r\n\r\nWhen recording a moment, a specific point on the timeline, use `Instant`, `OffsetDateTime`, or `ZonedDateTime`. \r\n\r\n# Use `ZonedDateTime`\r\n\r\nFor your purpose, use [`ZonedDateTime`][1]. This class accounts for temporal anomalies such as [Daylight Saving Time (DST)][2] that occur in time zones with rules changed by politicians.\r\n\r\n```java\r\nZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; );\r\nZonedDateTime start = ZonedDateTime.of( 2023 , 5 , 13 , 23 , 0 , 0 , 0 , z );\r\nZonedDateTime end = ZonedDateTime.of( 2023 , 5 , 14 , 5 , 0 , 0 , 0 , z );\r\nDuration duration = Duration.between( start , end );\r\n```\r\n\r\nWhen run we get a result of 6 hours between those two moments.\r\n\r\n```none\r\nstart.toString() = 2023-05-13T23:00+09:00[Asia/Tokyo]\r\nend.toString() = 2023-05-14T05:00+09:00[Asia/Tokyo]\r\nduration.toString() = PT6H\r\n```\r\n\r\n# Intersection of time spans\r\n\r\n[Thanks to David Conrad][3], I see now that you want to know how much of one span of time coincides with another. \r\n\r\nThis calculation is actually quite easy, if you add the [*ThreeTen-Extra*][4] library to your project. From that library, make use of the `org.threeten.extra.Interval` class. That class represents a span of time attached to the timeline. The beginning &amp; ending of the span are moments as seen with an [offset from UTC][5] of zero hours-minutes-seconds. These moments are represented with the `java.time.Instant` class.\r\n\r\nGet the interval of our worked time.\r\n\r\n```java\r\nInterval worked = Interval.of( start.toInstant() , end.toInstant() );\r\n```\r\n\r\nNow get the target interval. We want 1 AM to 6 AM of the second day of work.\r\n\r\n```java\r\nZonedDateTime targetStart = ZonedDateTime.of( 2023 , 5 , 14 , 1 , 0 , 0 , 0 , z );\r\nZonedDateTime targetEnd = ZonedDateTime.of( 2023 , 5 , 14 , 6 , 0 , 0 , 0 , z );\r\nInterval target = Interval.of( targetStart.toInstant() , targetEnd.toInstant() );\r\n```\r\n\r\nNotice that we used `ZonedDateTime` again, to represent the start and end of our target. We do this to account for politicians temporal anomalies. The span from 1 AM to 6 AM may or may not be five hours long. It might be four hours, or six hours, or four and a half hours, or any other length the politicians dream up. \r\n\r\nGet the intersection of those two spans of time.\r\n\r\n```java\r\nInterval intersection = worked.intersection( target );\r\n```\r\n\r\nDetermine how long is that span of time.\r\n\r\n```java\r\nDuration durationOfIntersection = intersection.toDuration();\r\n```\r\n\r\nWhen run, we see a result of four hours.\r\n\r\n```none\r\nworked.toString() = 2023-05-13T14:00:00Z/2023-05-13T20:00:00Z\r\ntarget.toString() = 2023-05-13T16:00:00Z/2023-05-13T21:00:00Z\r\nintersection.toString() = 2023-05-13T16:00:00Z/2023-05-13T20:00:00Z\r\ndurationOfIntersection.toString() = PT4H\r\n```\r\n    \r\nThe output of the various `toString` methods is shown above. The formats of those are part of the [ISO 8601][6] standard. The `Z` at the end is an abbreviation of `+00:00`, an offset of zero. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\r\n  [2]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [3]: https://stackoverflow.com/questions/76184575/how-to-calculate-work-schedule-between-0100-0600?noredirect=1#comment134354402_76184575\r\n  [4]: https://www.threeten.org/threeten-extra/\r\n  [5]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [6]: https://en.wikipedia.org/wiki/ISO_8601","title":"How to calculate work schedule between 01:00-06:00","body":"<h1><code>LocalDateTime</code> is ambiguous</h1>\n<p>The <code>LocalDateTime</code> class is the wrong class for your purpose. The <code>LocalDateTime</code> class purposely lacks any concept of time zone or offset from UTC, so it is inherently indefinite, ambiguous.</p>\n<p>When recording a moment, a specific point on the timeline, use <code>Instant</code>, <code>OffsetDateTime</code>, or <code>ZonedDateTime</code>.</p>\n<h1>Use <code>ZonedDateTime</code></h1>\n<p>For your purpose, use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a>. This class accounts for temporal anomalies such as <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">Daylight Saving Time (DST)</a> that occur in time zones with rules changed by politicians.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; );\nZonedDateTime start = ZonedDateTime.of( 2023 , 5 , 13 , 23 , 0 , 0 , 0 , z );\nZonedDateTime end = ZonedDateTime.of( 2023 , 5 , 14 , 5 , 0 , 0 , 0 , z );\nDuration duration = Duration.between( start , end );\n</code></pre>\n<p>When run we get a result of 6 hours between those two moments.</p>\n<pre class=\"lang-none prettyprint-override\"><code>start.toString() = 2023-05-13T23:00+09:00[Asia/Tokyo]\nend.toString() = 2023-05-14T05:00+09:00[Asia/Tokyo]\nduration.toString() = PT6H\n</code></pre>\n<h1>Intersection of time spans</h1>\n<p><a href=\"https://stackoverflow.com/questions/76184575/how-to-calculate-work-schedule-between-0100-0600?noredirect=1#comment134354402_76184575\">Thanks to David Conrad</a>, I see now that you want to know how much of one span of time coincides with another.</p>\n<p>This calculation is actually quite easy, if you add the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Extra</em></a> library to your project. From that library, make use of the <code>org.threeten.extra.Interval</code> class. That class represents a span of time attached to the timeline. The beginning &amp; ending of the span are moments as seen with an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset from UTC</a> of zero hours-minutes-seconds. These moments are represented with the <code>java.time.Instant</code> class.</p>\n<p>Get the interval of our worked time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Interval worked = Interval.of( start.toInstant() , end.toInstant() );\n</code></pre>\n<p>Now get the target interval. We want 1 AM to 6 AM of the second day of work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime targetStart = ZonedDateTime.of( 2023 , 5 , 14 , 1 , 0 , 0 , 0 , z );\nZonedDateTime targetEnd = ZonedDateTime.of( 2023 , 5 , 14 , 6 , 0 , 0 , 0 , z );\nInterval target = Interval.of( targetStart.toInstant() , targetEnd.toInstant() );\n</code></pre>\n<p>Notice that we used <code>ZonedDateTime</code> again, to represent the start and end of our target. We do this to account for politicians temporal anomalies. The span from 1 AM to 6 AM may or may not be five hours long. It might be four hours, or six hours, or four and a half hours, or any other length the politicians dream up.</p>\n<p>Get the intersection of those two spans of time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Interval intersection = worked.intersection( target );\n</code></pre>\n<p>Determine how long is that span of time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Duration durationOfIntersection = intersection.toDuration();\n</code></pre>\n<p>When run, we see a result of four hours.</p>\n<pre class=\"lang-none prettyprint-override\"><code>worked.toString() = 2023-05-13T14:00:00Z/2023-05-13T20:00:00Z\ntarget.toString() = 2023-05-13T16:00:00Z/2023-05-13T21:00:00Z\nintersection.toString() = 2023-05-13T16:00:00Z/2023-05-13T20:00:00Z\ndurationOfIntersection.toString() = PT4H\n</code></pre>\n<p>The output of the various <code>toString</code> methods is shown above. The formats of those are part of the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard. The <code>Z</code> at the end is an abbreviation of <code>+00:00</code>, an offset of zero.</p>\n"}],"owner":{"account_id":25158292,"reputation":7,"user_id":19002824,"display_name":"DinoKing"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1683627971,"creation_date":1683306932,"question_id":76184575,"body_markdown":"After keeping getting &quot;warnings&quot; of my question is not good enough I will try again and get every single thing added to this question.\r\n\r\nI&#39;m trying to make an application where I can calculate my salary (hourly paid). For this there is certain requirements since different time slots/days have different appendices.\r\n\r\nMy most important requirement, and the one I&#39;m strugling with is to check if my workday has been between the timeslot of 01:00-06:00, if so how many hours.\r\nE.g. start Monday 23:00 end Tuesday 05:00\r\nI have worked 06:00 hours and 04:00 hours has been between 01:00-06:00\r\n\r\nThis is my current code where I have tried with different types of if-statements to get the interval, but I can&#39;t get it to work in all situations (no matter what I type), this is because of the difficulty with it possibly is going from one day to another.\r\n\r\n(My notes etc. are in danish, but this question is only regarding table 2,3 and 8 and is all in my tableChanged method)\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.time.*;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.format.DateTimeParseException;\r\nimport java.util.Calendar;\r\nimport javax.swing.*;\r\nimport javax.swing.event.TableModelEvent;\r\nimport javax.swing.event.TableModelListener;\r\nimport javax.swing.table.*;\r\n\r\npublic class TimeDifferenceCalculator222 extends JFrame {\r\n    private JTextField dateField;\r\n    private JTextField dateField1;\r\n    private JTable table;\r\n    private DefaultTableModel model;\r\n\r\n    public TimeDifferenceCalculator222() {\r\n        super(&quot;Time Difference Calculator&quot;);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        // Opret tekstfelt for dato\r\n        dateField = new JTextField(10);\r\n        dateField.setToolTipText(&quot;Indtast dato i formatet dd/MM/yyyy&quot;);\r\n\r\n        // Opret tabel for datoer og start/slut-tidspunkter\r\n        model = new DefaultTableModel() {\r\n            @Override\r\n            public boolean isCellEditable(int row, int column) {\r\n                return column != 0;\r\n            }\r\n        };\r\n        table = new JTable(model);\r\n        model.addColumn(&quot;Dato&quot;);\r\n        model.addColumn(&quot;Ugedag&quot;);\r\n        model.addColumn(&quot;Starttidspunkt&quot;);\r\n        model.addColumn(&quot;Sluttidspunkt&quot;);\r\n        model.addColumn(&quot;Differencetid&quot;);\r\n        model.addColumn(&quot;Branchetill&#230;g&quot;);\r\n        model.addColumn(&quot;VC1 till&#230;g&quot;);\r\n        model.addColumn(&quot;Nattetill&#230;g&quot;);\r\n        model.addColumn(&quot;Nattetimer (01:00-06:00)&quot;);\r\n        model.addColumn(&quot;Weekendtill&#230;g (l&#248;rdag)&quot;);\r\n        model.addColumn(&quot;Weekend / Helligdage&quot;);\r\n\r\n        // Tilf&#248;j 31 r&#230;kker til tabellen\r\n        LocalDate startDate = LocalDate.now();\r\n        for (int i = 0; i &lt; 31; i++) {\r\n            model.addRow(new Object[] { startDate.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), &quot;&quot;, &quot;&quot;, &quot;&quot; });\r\n            startDate = startDate.plusDays(1);\r\n        }\r\n\r\n        // Tilf&#248;j lytter til dato-feltet\r\n        dateField.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                try {\r\n                    LocalDate date = LocalDate.parse(dateField.getText(), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\r\n                    LocalDate endDate = date.plusDays(30);\r\n                    int row = 0;\r\n                    for (LocalDate d = date; !d.isAfter(endDate); d = d.plusDays(1)) {\r\n                        model.setValueAt(d.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), row, 0);\r\n                        Calendar calendar = Calendar.getInstance();\r\n                        calendar.set(d.getYear(), d.getMonthValue() - 1, d.getDayOfMonth());\r\n                        int dayOfWeek = calendar.get(Calendar.DAY_OF_WEEK);\r\n                        String dayOfWeekString;\r\n                        switch (dayOfWeek) {\r\n                            case Calendar.SUNDAY:\r\n                                dayOfWeekString = &quot;S&#248;ndag&quot;;\r\n                                break;\r\n                            case Calendar.MONDAY:\r\n                                dayOfWeekString = &quot;Mandag&quot;;\r\n                                break;\r\n                            case Calendar.TUESDAY:\r\n                                dayOfWeekString = &quot;Tirsdag&quot;;\r\n                                break;\r\n                            case Calendar.WEDNESDAY:\r\n                                dayOfWeekString = &quot;Onsdag&quot;;\r\n                                break;\r\n                            case Calendar.THURSDAY:\r\n                                dayOfWeekString = &quot;Torsdag&quot;;\r\n                                break;\r\n                            case Calendar.FRIDAY:\r\n                                dayOfWeekString = &quot;Fredag&quot;;\r\n                                break;\r\n                            case Calendar.SATURDAY:\r\n                                dayOfWeekString = &quot;L&#248;rdag&quot;;\r\n                                break;\r\n                            default:\r\n                                dayOfWeekString = &quot;&quot;;\r\n                                break;\r\n                        }\r\n                        model.setValueAt(dayOfWeekString, row, 1);\r\n                        row++;\r\n                    }\r\n                } catch (DateTimeParseException ex) {\r\n                    JOptionPane.showMessageDialog(TimeDifferenceCalculator222.this, &quot;Ugyldig datoformat&quot;, &quot;Fejl&quot;, JOptionPane.ERROR_MESSAGE);\r\n                }\r\n            }\r\n        });\r\n\r\n        // Tilf&#248;j lytter til tabelen\r\n        table.getModel().addTableModelListener(new TableModelListener() {\r\n            @Override\r\n            public void tableChanged(TableModelEvent e) {\r\n                if (e.getType() == TableModelEvent.UPDATE &amp;&amp; e.getColumn() &gt;= 2 &amp;&amp; e.getColumn() &lt;= 3) {\r\n                    int row = e.getFirstRow();\r\n                    String startStr = (String) model.getValueAt(row, 2);\r\n                    String endStr = (String) model.getValueAt(row, 3);\r\n                    if (!startStr.isEmpty() &amp;&amp; !endStr.isEmpty()) {\r\n                        LocalTime start = LocalTime.parse(startStr, DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\r\n                        LocalTime end = LocalTime.parse(endStr, DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\r\n                        LocalDateTime startDateTime = LocalDateTime.of(LocalDate.parse((String) model.getValueAt(row, 0), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), start);\r\n                        LocalDateTime endDateTime = LocalDateTime.of(LocalDate.parse((String) model.getValueAt(row, 0), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), end);\r\n                        if (end.isBefore(start)) {\r\n                            endDateTime = endDateTime.plusDays(1);\r\n                        }\r\n                        Duration duration = Duration.between(startDateTime, endDateTime);\r\n                        long minutes = duration.toMinutes();\r\n                        long hours = minutes / 60;\r\n                        long remainingMinutes = minutes % 60;\r\n                        String differenceTime = String.format(&quot;%02d:%02d&quot;, hours, remainingMinutes);\r\n                        model.setValueAt(differenceTime, row, 4);\r\n\r\n                        // Beregn antal timer mellem 01:00 og 06:00 og s&#230;t i kolonne 8\r\n                        LocalTime oneAM = LocalTime.of(1, 0);\r\n                        LocalTime sixAM = LocalTime.of(6, 0);\r\n\r\n\r\n                        if (start.isBefore(oneAM) &amp;&amp; end.isAfter(oneAM) || start.isAfter(oneAM) &amp;&amp; end.isBefore(sixAM) || start.isAfter(oneAM) &amp;&amp; end.isAfter(sixAM)) {\r\n\r\n                            LocalDateTime start1am = LocalDateTime.of(LocalDate.parse((String) model.getValueAt(row, 0), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), oneAM);\r\n                            LocalDateTime end6am = LocalDateTime.of(LocalDate.parse((String) model.getValueAt(row, 0), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), sixAM);\r\n                            if (start.isBefore(oneAM) &amp;&amp; end.isBefore(sixAM)) {\r\n                                start1am = LocalDateTime.from(oneAM);\r\n                            }\r\n                            if (start.isAfter(oneAM) &amp;&amp; end.isBefore(sixAM)) {\r\n                                start1am = LocalDateTime.from(startDateTime);\r\n                                end6am = LocalDateTime.from(endDateTime);\r\n                            }\r\n                            if (end.isBefore(sixAM)) {\r\n                                end6am = endDateTime;\r\n                            }\r\n                            Duration durationBetween1and6 = Duration.between(start1am, end6am);\r\n                            long minutesBetween1and6 = durationBetween1and6.toMinutes();\r\n                            long hoursBetween1and6 = minutesBetween1and6 / 60;\r\n                            long remainingMinutesBetween1and6 = minutesBetween1and6 % 60;\r\n                            String hoursMinutesBetween1and6 = String.format(&quot;%02d:%02d&quot;, hoursBetween1and6, remainingMinutesBetween1and6);\r\n                            model.setValueAt(hoursMinutesBetween1and6, row, 8);\r\n\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        // Opret scroll-pane og tilf&#248;j tabelen til den\r\n        JScrollPane scrollPane = new JScrollPane(table);\r\n\r\n        // Tilf&#248;j komponenter til frame\r\n        Container c = getContentPane();\r\n        c.setLayout(new BorderLayout());\r\n        c.add(dateField, BorderLayout.NORTH);\r\n        c.add(scrollPane, BorderLayout.CENTER);\r\n\r\n        // Vis frame\r\n        pack();\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new TimeDifferenceCalculator222();\r\n    }\r\n}\r\n\r\n\r\n```","title":"How to calculate work schedule between 01:00-06:00","body":"<p>After keeping getting &quot;warnings&quot; of my question is not good enough I will try again and get every single thing added to this question.</p>\n<p>I'm trying to make an application where I can calculate my salary (hourly paid). For this there is certain requirements since different time slots/days have different appendices.</p>\n<p>My most important requirement, and the one I'm strugling with is to check if my workday has been between the timeslot of 01:00-06:00, if so how many hours.\nE.g. start Monday 23:00 end Tuesday 05:00\nI have worked 06:00 hours and 04:00 hours has been between 01:00-06:00</p>\n<p>This is my current code where I have tried with different types of if-statements to get the interval, but I can't get it to work in all situations (no matter what I type), this is because of the difficulty with it possibly is going from one day to another.</p>\n<p>(My notes etc. are in danish, but this question is only regarding table 2,3 and 8 and is all in my tableChanged method)</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.time.*;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeParseException;\nimport java.util.Calendar;\nimport javax.swing.*;\nimport javax.swing.event.TableModelEvent;\nimport javax.swing.event.TableModelListener;\nimport javax.swing.table.*;\n\npublic class TimeDifferenceCalculator222 extends JFrame {\n    private JTextField dateField;\n    private JTextField dateField1;\n    private JTable table;\n    private DefaultTableModel model;\n\n    public TimeDifferenceCalculator222() {\n        super(&quot;Time Difference Calculator&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        // Opret tekstfelt for dato\n        dateField = new JTextField(10);\n        dateField.setToolTipText(&quot;Indtast dato i formatet dd/MM/yyyy&quot;);\n\n        // Opret tabel for datoer og start/slut-tidspunkter\n        model = new DefaultTableModel() {\n            @Override\n            public boolean isCellEditable(int row, int column) {\n                return column != 0;\n            }\n        };\n        table = new JTable(model);\n        model.addColumn(&quot;Dato&quot;);\n        model.addColumn(&quot;Ugedag&quot;);\n        model.addColumn(&quot;Starttidspunkt&quot;);\n        model.addColumn(&quot;Sluttidspunkt&quot;);\n        model.addColumn(&quot;Differencetid&quot;);\n        model.addColumn(&quot;Branchetillg&quot;);\n        model.addColumn(&quot;VC1 tillg&quot;);\n        model.addColumn(&quot;Nattetillg&quot;);\n        model.addColumn(&quot;Nattetimer (01:00-06:00)&quot;);\n        model.addColumn(&quot;Weekendtillg (lrdag)&quot;);\n        model.addColumn(&quot;Weekend / Helligdage&quot;);\n\n        // Tilfj 31 rkker til tabellen\n        LocalDate startDate = LocalDate.now();\n        for (int i = 0; i &lt; 31; i++) {\n            model.addRow(new Object[] { startDate.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), &quot;&quot;, &quot;&quot;, &quot;&quot; });\n            startDate = startDate.plusDays(1);\n        }\n\n        // Tilfj lytter til dato-feltet\n        dateField.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    LocalDate date = LocalDate.parse(dateField.getText(), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\n                    LocalDate endDate = date.plusDays(30);\n                    int row = 0;\n                    for (LocalDate d = date; !d.isAfter(endDate); d = d.plusDays(1)) {\n                        model.setValueAt(d.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), row, 0);\n                        Calendar calendar = Calendar.getInstance();\n                        calendar.set(d.getYear(), d.getMonthValue() - 1, d.getDayOfMonth());\n                        int dayOfWeek = calendar.get(Calendar.DAY_OF_WEEK);\n                        String dayOfWeekString;\n                        switch (dayOfWeek) {\n                            case Calendar.SUNDAY:\n                                dayOfWeekString = &quot;Sndag&quot;;\n                                break;\n                            case Calendar.MONDAY:\n                                dayOfWeekString = &quot;Mandag&quot;;\n                                break;\n                            case Calendar.TUESDAY:\n                                dayOfWeekString = &quot;Tirsdag&quot;;\n                                break;\n                            case Calendar.WEDNESDAY:\n                                dayOfWeekString = &quot;Onsdag&quot;;\n                                break;\n                            case Calendar.THURSDAY:\n                                dayOfWeekString = &quot;Torsdag&quot;;\n                                break;\n                            case Calendar.FRIDAY:\n                                dayOfWeekString = &quot;Fredag&quot;;\n                                break;\n                            case Calendar.SATURDAY:\n                                dayOfWeekString = &quot;Lrdag&quot;;\n                                break;\n                            default:\n                                dayOfWeekString = &quot;&quot;;\n                                break;\n                        }\n                        model.setValueAt(dayOfWeekString, row, 1);\n                        row++;\n                    }\n                } catch (DateTimeParseException ex) {\n                    JOptionPane.showMessageDialog(TimeDifferenceCalculator222.this, &quot;Ugyldig datoformat&quot;, &quot;Fejl&quot;, JOptionPane.ERROR_MESSAGE);\n                }\n            }\n        });\n\n        // Tilfj lytter til tabelen\n        table.getModel().addTableModelListener(new TableModelListener() {\n            @Override\n            public void tableChanged(TableModelEvent e) {\n                if (e.getType() == TableModelEvent.UPDATE &amp;&amp; e.getColumn() &gt;= 2 &amp;&amp; e.getColumn() &lt;= 3) {\n                    int row = e.getFirstRow();\n                    String startStr = (String) model.getValueAt(row, 2);\n                    String endStr = (String) model.getValueAt(row, 3);\n                    if (!startStr.isEmpty() &amp;&amp; !endStr.isEmpty()) {\n                        LocalTime start = LocalTime.parse(startStr, DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\n                        LocalTime end = LocalTime.parse(endStr, DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\n                        LocalDateTime startDateTime = LocalDateTime.of(LocalDate.parse((String) model.getValueAt(row, 0), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), start);\n                        LocalDateTime endDateTime = LocalDateTime.of(LocalDate.parse((String) model.getValueAt(row, 0), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), end);\n                        if (end.isBefore(start)) {\n                            endDateTime = endDateTime.plusDays(1);\n                        }\n                        Duration duration = Duration.between(startDateTime, endDateTime);\n                        long minutes = duration.toMinutes();\n                        long hours = minutes / 60;\n                        long remainingMinutes = minutes % 60;\n                        String differenceTime = String.format(&quot;%02d:%02d&quot;, hours, remainingMinutes);\n                        model.setValueAt(differenceTime, row, 4);\n\n                        // Beregn antal timer mellem 01:00 og 06:00 og st i kolonne 8\n                        LocalTime oneAM = LocalTime.of(1, 0);\n                        LocalTime sixAM = LocalTime.of(6, 0);\n\n\n                        if (start.isBefore(oneAM) &amp;&amp; end.isAfter(oneAM) || start.isAfter(oneAM) &amp;&amp; end.isBefore(sixAM) || start.isAfter(oneAM) &amp;&amp; end.isAfter(sixAM)) {\n\n                            LocalDateTime start1am = LocalDateTime.of(LocalDate.parse((String) model.getValueAt(row, 0), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), oneAM);\n                            LocalDateTime end6am = LocalDateTime.of(LocalDate.parse((String) model.getValueAt(row, 0), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), sixAM);\n                            if (start.isBefore(oneAM) &amp;&amp; end.isBefore(sixAM)) {\n                                start1am = LocalDateTime.from(oneAM);\n                            }\n                            if (start.isAfter(oneAM) &amp;&amp; end.isBefore(sixAM)) {\n                                start1am = LocalDateTime.from(startDateTime);\n                                end6am = LocalDateTime.from(endDateTime);\n                            }\n                            if (end.isBefore(sixAM)) {\n                                end6am = endDateTime;\n                            }\n                            Duration durationBetween1and6 = Duration.between(start1am, end6am);\n                            long minutesBetween1and6 = durationBetween1and6.toMinutes();\n                            long hoursBetween1and6 = minutesBetween1and6 / 60;\n                            long remainingMinutesBetween1and6 = minutesBetween1and6 % 60;\n                            String hoursMinutesBetween1and6 = String.format(&quot;%02d:%02d&quot;, hoursBetween1and6, remainingMinutesBetween1and6);\n                            model.setValueAt(hoursMinutesBetween1and6, row, 8);\n\n                        }\n\n                    }\n                }\n            }\n        });\n\n        // Opret scroll-pane og tilfj tabelen til den\n        JScrollPane scrollPane = new JScrollPane(table);\n\n        // Tilfj komponenter til frame\n        Container c = getContentPane();\n        c.setLayout(new BorderLayout());\n        c.add(dateField, BorderLayout.NORTH);\n        c.add(scrollPane, BorderLayout.CENTER);\n\n        // Vis frame\n        pack();\n        setLocationRelativeTo(null);\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new TimeDifferenceCalculator222();\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":1,"creation_date":1683624406,"post_id":76207657,"comment_id":134391401,"body_markdown":"You shouldn&#39;t check `string` for equality in `==` manner","body":"You shouldn&#39;t check <code>string</code> for equality in <code>==</code> manner"},{"owner":{"account_id":15497178,"reputation":65,"user_id":11847670,"display_name":"Theow Meng Ang"},"score":0,"creation_date":1683624661,"post_id":76207657,"comment_id":134391478,"body_markdown":"I used the equals() function and I still get the same error","body":"I used the equals() function and I still get the same error"},{"owner":{"account_id":15497178,"reputation":65,"user_id":11847670,"display_name":"Theow Meng Ang"},"score":0,"creation_date":1683626119,"post_id":76207657,"comment_id":134391794,"body_markdown":"I also find this error UnexpectedTypeException: HV000030","body":"I also find this error UnexpectedTypeException: HV000030"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683627785,"creation_date":1683626777,"answer_id":76208151,"question_id":76207657,"body_markdown":"### Short Answer\r\nYour validator should, as your model and your error message imply:\r\n```lang-java\r\n... implements ConstraintValidator&lt;LastName, String&gt;\r\n```\r\nAnd not `&lt;LastName, User&gt;`.\r\n\r\nAccordingly, you should re-implement the `isValid(...)` method: accepting the last name `String` (and not the containing `User`).\r\n\r\nIf you want to use this annotation on `User` and `String` &quot;fields&quot;, you *must* implement an additional `ConstraintValidator&lt;LastName, ...&gt;`, with according &quot;API facade&quot;.\r\n\r\nThis *can* be wired/refered like:\r\n```lang-java\r\n@Constraint(\r\n  validatedBy = {\r\n    StringLastNameValidator.class, \r\n    UserLastNameValidator.class /*,...*/ \r\n  }\r\n) // accepts array!;)\r\n```\r\n### Extended answer\r\nYour (current) validator seems wrong (&quot;Mr. Jack Jack&quot; is invalid, while &quot;Mr `&lt;null&gt;` X&quot; valid!?), but should (if reasoned) be used **on `User`** &quot;fields&quot;, e.g (&quot;method parameter&quot; in this case) :\r\n```lang-java\r\n@PostMapping(&quot;/submitForm&quot;)\r\n    public String handleSubmit(\r\n  @Valid @LastName User user // ! ...\r\n```\r\n...to use it **inside `User`** (on `String` fields), stick to &quot;short answer&quot;.","title":"I don&#39;t know whether my valid type is wrong or what","body":"<h3>Short Answer</h3>\n<p>Your validator should, as your model and your error message imply:</p>\n<pre class=\"lang-java prettyprint-override\"><code>... implements ConstraintValidator&lt;LastName, String&gt;\n</code></pre>\n<p>And not <code>&lt;LastName, User&gt;</code>.</p>\n<p>Accordingly, you should re-implement the <code>isValid(...)</code> method: accepting the last name <code>String</code> (and not the containing <code>User</code>).</p>\n<p>If you want to use this annotation on <code>User</code> and <code>String</code> &quot;fields&quot;, you <em>must</em> implement an additional <code>ConstraintValidator&lt;LastName, ...&gt;</code>, with according &quot;API facade&quot;.</p>\n<p>This <em>can</em> be wired/refered like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Constraint(\n  validatedBy = {\n    StringLastNameValidator.class, \n    UserLastNameValidator.class /*,...*/ \n  }\n) // accepts array!;)\n</code></pre>\n<h3>Extended answer</h3>\n<p>Your (current) validator seems wrong (&quot;Mr. Jack Jack&quot; is invalid, while &quot;Mr <code>&lt;null&gt;</code> X&quot; valid!?), but should (if reasoned) be used <strong>on <code>User</code></strong> &quot;fields&quot;, e.g (&quot;method parameter&quot; in this case) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/submitForm&quot;)\n    public String handleSubmit(\n  @Valid @LastName User user // ! ...\n</code></pre>\n<p>...to use it <strong>inside <code>User</code></strong> (on <code>String</code> fields), stick to &quot;short answer&quot;.</p>\n"}],"owner":{"account_id":15497178,"reputation":65,"user_id":11847670,"display_name":"Theow Meng Ang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1683627785,"creation_date":1683623704,"question_id":76207657,"body_markdown":"I am new to spring boot. I want to validator check so that the first name and last name cannot be equal. I don&#39;t know my code is correct or wrong for the LastNameValidator.java. I use the user object instead of just the last name to check and I get the error. No validator could be found for constraint &#39;com.example.workbook31.LastName&#39; validating type &#39;java.lang.String&#39;. Check configuration for &#39;lastName&#39;.\r\n\r\nMy LastNameValidator.java code\r\n```java\r\npackage com.example.workbook31;\r\n\r\nimport jakarta.validation.ConstraintValidator;\r\nimport jakarta.validation.ConstraintValidatorContext;\r\n\r\npublic class LastNameValidator implements ConstraintValidator&lt;LastName, User&gt; {\r\n    @Override\r\n    public boolean isValid(User user, ConstraintValidatorContext context){\r\n        if(user.getFirstName() != user.getLastName() ){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    \r\n}\r\n```\r\nMy LastName.java code\r\n```java\r\npackage com.example.workbook31;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\nimport jakarta.validation.Constraint;\r\nimport jakarta.validation.Payload;\r\n\r\n@Target(ElementType.FIELD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy = LastNameValidator.class)\r\npublic @interface LastName {\r\n    String message() default &quot;First Name cannot equal to Last Name&quot;;\r\n    Class&lt;?&gt;[] groups() default {};\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n    \r\n}\r\n```\r\nMy ApplicationController.java\r\n```java\r\npackage com.example.workbook31;\r\n\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\n\r\nimport jakarta.validation.Valid;\r\n\r\n@Controller\r\npublic class ApplicationController {\r\n    \r\n    List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String getForm(Model model,@RequestParam(required=false)String id){ \r\n        int index = getIndexFromId(id);\r\n        model.addAttribute(&quot;user&quot;, index == -1000 ? new User(): users.get(index));\r\n        return &quot;sign-up&quot;;\r\n    }\r\n    \r\n    @PostMapping(&quot;/submitForm&quot;)\r\n    public String handleSubmit(@Valid User user, BindingResult result){\r\n        int index = getIndexFromId(user.getId());\r\n        if(result.hasErrors()){\r\n            return &quot;sign-up&quot;;\r\n        }\r\n        \r\n        if(index == -1000){\r\n            users.add(user);\r\n        }else {\r\n            users.set(index,user);\r\n        }\r\n       \r\n        return &quot;redirect:/result&quot;;\r\n    }\r\n    \r\n    @GetMapping(&quot;/result&quot;)\r\n    public String getResult(Model model){\r\n        model.addAttribute(&quot;users&quot;, users);\r\n        return &quot;result&quot;;\r\n    }\r\n\r\n    public Integer getIndexFromId(String id){\r\n        for(int i=0;i&lt;users.size();i++){\r\n            if(users.get(i).getId().equals(id)){\r\n                return i;\r\n            }\r\n        }\r\n        return -1000;\r\n}\r\n\r\n}\r\n```\r\nMy User.java\r\n```java\r\npackage com.example.workbook31;\r\n\r\nimport org.springframework.format.annotation.DateTimeFormat;\r\n\r\nimport jakarta.validation.constraints.Email;\r\nimport jakarta.validation.constraints.NotBlank;\r\nimport jakarta.validation.constraints.Past;\r\nimport jakarta.validation.constraints.Size;\r\n\r\nimport java.util.Date;\r\nimport java.util.UUID;\r\n\r\n\r\npublic class User {\r\n    @NotBlank(message = &quot;First name cannot be blank&quot;)\r\n    @Size(min=2, message=&quot;First name is too short&quot;)\r\n    private String firstName;\r\n    \r\n    @NotBlank(message = &quot;First name cannot be blank&quot;)\r\n    @Size(min=2, message=&quot;First name is too short&quot;)\r\n    @LastName\r\n    private String lastName;\r\n    \r\n    @NotBlank(message = &quot;Username cannot be blank&quot;)\r\n    @Size(min=7, message= &quot;Username must at least be 7 characters&quot;)\r\n    private String userName;\r\n    \r\n    @Email(message = &quot;Invalid Email&quot;)\r\n    private String email;\r\n    \r\n    @Past(message = &quot;date of birth must be in the past&quot;)\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private Date dateOfBirth;\r\n    private String id;\r\n    \r\n    public User() {\r\n        this.id = UUID.randomUUID().toString();\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getUserName() {\r\n        return userName;\r\n    }\r\n\r\n    public void setUserName(String userName) {\r\n        this.userName = userName;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public Date getDateOfBirth() {\r\n        return dateOfBirth;\r\n    }\r\n\r\n    public void setDateOfBirth(Date dateOfBirth) {\r\n        this.dateOfBirth = dateOfBirth;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n      \r\n    \r\n    \r\n}\r\n```\r\nMy Application.java\r\n```java\r\npackage com.example.workbook31;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nMy sign-up.html\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n    &lt;title&gt;Sign Up&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/form-stylesheet.css}&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;h2&gt;Javagram&lt;/h2&gt;\r\n        &lt;form method=&quot;post&quot; th:object=&quot;${user}&quot; th:action=&quot;@{/submitForm}&quot;&gt;\r\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{firstName}&quot;&gt;&lt;/p&gt;\r\n            &lt;input type=&quot;text&quot; placeholder=&quot;First Name&quot; th:field=&quot;*{firstName}&quot;&gt;\r\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{lastName}&quot;&gt;&lt;/p&gt;\r\n            &lt;input type=&quot;text&quot; placeholder=&quot;Last Name&quot; th:field=&quot;*{lastName}&quot;&gt;\r\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{userName}&quot;&gt;&lt;/p&gt;\r\n            &lt;input type=&quot;text&quot; placeholder=&quot;Username&quot; th:field=&quot;*{userName}&quot; &gt;\r\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{email}&quot;&gt;&lt;/p&gt;\r\n            &lt;input type=&quot;text&quot; placeholder=&quot;Email&quot; th:field=&quot;*{email}&quot;&gt;\r\n            &lt;p style=&quot;font-weight: bold;&quot;&gt;Date of Birth&lt;/p&gt;\r\n            &lt;input type=&quot;date&quot; th:field=&quot;*{dateOfBirth}&quot; &gt;\r\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{dateOfBirth}&quot;&gt;&lt;/p&gt;\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot; &gt;\r\n            &lt;br&gt;&lt;br&gt;\r\n            &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nMy pom\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```","title":"I don&#39;t know whether my valid type is wrong or what","body":"<p>I am new to spring boot. I want to validator check so that the first name and last name cannot be equal. I don't know my code is correct or wrong for the LastNameValidator.java. I use the user object instead of just the last name to check and I get the error. No validator could be found for constraint 'com.example.workbook31.LastName' validating type 'java.lang.String'. Check configuration for 'lastName'.</p>\n<p>My LastNameValidator.java code</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.workbook31;\n\nimport jakarta.validation.ConstraintValidator;\nimport jakarta.validation.ConstraintValidatorContext;\n\npublic class LastNameValidator implements ConstraintValidator&lt;LastName, User&gt; {\n    @Override\n    public boolean isValid(User user, ConstraintValidatorContext context){\n        if(user.getFirstName() != user.getLastName() ){\n            return true;\n        }\n        return false;\n    }\n    \n}\n</code></pre>\n<p>My LastName.java code</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.workbook31;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\nimport jakarta.validation.Constraint;\nimport jakarta.validation.Payload;\n\n@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = LastNameValidator.class)\npublic @interface LastName {\n    String message() default &quot;First Name cannot equal to Last Name&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n    \n}\n</code></pre>\n<p>My ApplicationController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.workbook31;\n\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\nimport jakarta.validation.Valid;\n\n@Controller\npublic class ApplicationController {\n    \n    List&lt;User&gt; users = new ArrayList&lt;&gt;();\n\n    @GetMapping(&quot;/&quot;)\n    public String getForm(Model model,@RequestParam(required=false)String id){ \n        int index = getIndexFromId(id);\n        model.addAttribute(&quot;user&quot;, index == -1000 ? new User(): users.get(index));\n        return &quot;sign-up&quot;;\n    }\n    \n    @PostMapping(&quot;/submitForm&quot;)\n    public String handleSubmit(@Valid User user, BindingResult result){\n        int index = getIndexFromId(user.getId());\n        if(result.hasErrors()){\n            return &quot;sign-up&quot;;\n        }\n        \n        if(index == -1000){\n            users.add(user);\n        }else {\n            users.set(index,user);\n        }\n       \n        return &quot;redirect:/result&quot;;\n    }\n    \n    @GetMapping(&quot;/result&quot;)\n    public String getResult(Model model){\n        model.addAttribute(&quot;users&quot;, users);\n        return &quot;result&quot;;\n    }\n\n    public Integer getIndexFromId(String id){\n        for(int i=0;i&lt;users.size();i++){\n            if(users.get(i).getId().equals(id)){\n                return i;\n            }\n        }\n        return -1000;\n}\n\n}\n</code></pre>\n<p>My User.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.workbook31;\n\nimport org.springframework.format.annotation.DateTimeFormat;\n\nimport jakarta.validation.constraints.Email;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.Past;\nimport jakarta.validation.constraints.Size;\n\nimport java.util.Date;\nimport java.util.UUID;\n\n\npublic class User {\n    @NotBlank(message = &quot;First name cannot be blank&quot;)\n    @Size(min=2, message=&quot;First name is too short&quot;)\n    private String firstName;\n    \n    @NotBlank(message = &quot;First name cannot be blank&quot;)\n    @Size(min=2, message=&quot;First name is too short&quot;)\n    @LastName\n    private String lastName;\n    \n    @NotBlank(message = &quot;Username cannot be blank&quot;)\n    @Size(min=7, message= &quot;Username must at least be 7 characters&quot;)\n    private String userName;\n    \n    @Email(message = &quot;Invalid Email&quot;)\n    private String email;\n    \n    @Past(message = &quot;date of birth must be in the past&quot;)\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private Date dateOfBirth;\n    private String id;\n    \n    public User() {\n        this.id = UUID.randomUUID().toString();\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public Date getDateOfBirth() {\n        return dateOfBirth;\n    }\n\n    public void setDateOfBirth(Date dateOfBirth) {\n        this.dateOfBirth = dateOfBirth;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n      \n    \n    \n}\n</code></pre>\n<p>My Application.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.workbook31;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n<p>My sign-up.html</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;title&gt;Sign Up&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/form-stylesheet.css}&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=&quot;container&quot;&gt;\n        &lt;h2&gt;Javagram&lt;/h2&gt;\n        &lt;form method=&quot;post&quot; th:object=&quot;${user}&quot; th:action=&quot;@{/submitForm}&quot;&gt;\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{firstName}&quot;&gt;&lt;/p&gt;\n            &lt;input type=&quot;text&quot; placeholder=&quot;First Name&quot; th:field=&quot;*{firstName}&quot;&gt;\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{lastName}&quot;&gt;&lt;/p&gt;\n            &lt;input type=&quot;text&quot; placeholder=&quot;Last Name&quot; th:field=&quot;*{lastName}&quot;&gt;\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{userName}&quot;&gt;&lt;/p&gt;\n            &lt;input type=&quot;text&quot; placeholder=&quot;Username&quot; th:field=&quot;*{userName}&quot; &gt;\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{email}&quot;&gt;&lt;/p&gt;\n            &lt;input type=&quot;text&quot; placeholder=&quot;Email&quot; th:field=&quot;*{email}&quot;&gt;\n            &lt;p style=&quot;font-weight: bold;&quot;&gt;Date of Birth&lt;/p&gt;\n            &lt;input type=&quot;date&quot; th:field=&quot;*{dateOfBirth}&quot; &gt;\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{dateOfBirth}&quot;&gt;&lt;/p&gt;\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot; &gt;\n            &lt;br&gt;&lt;br&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>My pom</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","ssl","tls1.3"],"comments":[{"owner":{"account_id":22112469,"reputation":74,"user_id":16367144,"display_name":"SquidXTV"},"score":2,"creation_date":1683630245,"post_id":76208273,"comment_id":134392785,"body_markdown":"based on this specification: https://docs.oracle.com/en/java/javase/19/docs/specs/security/standard-names.html#sslcontext-algorithms there is no string for latest version","body":"based on this specification: <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/security/standard-names.html#sslcontext-algorithms\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/19/docs/specs/security/&hellip;</a> there is no string for latest version"},{"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"score":0,"creation_date":1683646013,"post_id":76208273,"comment_id":134396821,"body_markdown":"@SquidXTV Yes, this I why I wrote *simulate*.","body":"@SquidXTV Yes, this I why I wrote <i>simulate</i>."},{"owner":{"account_id":8493198,"reputation":11341,"user_id":6368697,"display_name":"Patrick Mevzek"},"score":0,"creation_date":1683651395,"post_id":76208273,"comment_id":134398140,"body_markdown":"And what if next version, if that happens, is TLS2? Or TLS42? Or TLS 1.11? Your code will seem to work but won&#39;t really use the &quot;latest&quot; or best version. Today, there is really no reason to use anything else than 1.3, and I believe it is best to just hardcode that (if you can be 100% sure to connect only to hosts not requiring anything else). Separate: there is no introspection possible in that library to just know what is defined?","body":"And what if next version, if that happens, is TLS2? Or TLS42? Or TLS 1.11? Your code will seem to work but won&#39;t really use the &quot;latest&quot; or best version. Today, there is really no reason to use anything else than 1.3, and I believe it is best to just hardcode that (if you can be 100% sure to connect only to hosts not requiring anything else). Separate: there is no introspection possible in that library to just know what is defined?"}],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683627617,"creation_date":1683627617,"question_id":76208273,"body_markdown":"Today, I write: `SSLContext.getInstance(&quot;TLSv1.3&quot;)`, but I would prefer something like: `SSLContext.getInstance(&quot;TLSvLatest&quot;)`.\r\n\r\nI cannot find a direct way using the existing API/ctor.  Is this possible to simulate?\r\n\r\nOne hacky idea:\r\n\r\n    private static SSLContext\r\n    _getSSLContextTLSLatest()\r\n    throws NoSuchAlgorithmException\r\n    {\r\n        for (int i = 9; i &gt;= 3; --i)\r\n        {\r\n            final String protocol = &quot;TLSv1.&quot; + i;\r\n            try {\r\n                final SSLContext x = SSLContext.getInstance(protocol);\r\n                return x;\r\n            }\r\n            catch (NoSuchAlgorithmException e)\r\n            {\r\n                // do nothing\r\n            }\r\n        }\r\n        throw new NoSuchAlgorithmException(&quot;SSLContext: Failed to final TLS latest&quot;);\r\n    }\r\n\r\nNote: Please re-tag this question if better tags can be used.","title":"SSLContext.getInstance(String): Is there a way to always get the latest TLS?","body":"<p>Today, I write: <code>SSLContext.getInstance(&quot;TLSv1.3&quot;)</code>, but I would prefer something like: <code>SSLContext.getInstance(&quot;TLSvLatest&quot;)</code>.</p>\n<p>I cannot find a direct way using the existing API/ctor.  Is this possible to simulate?</p>\n<p>One hacky idea:</p>\n<pre><code>private static SSLContext\n_getSSLContextTLSLatest()\nthrows NoSuchAlgorithmException\n{\n    for (int i = 9; i &gt;= 3; --i)\n    {\n        final String protocol = &quot;TLSv1.&quot; + i;\n        try {\n            final SSLContext x = SSLContext.getInstance(protocol);\n            return x;\n        }\n        catch (NoSuchAlgorithmException e)\n        {\n            // do nothing\n        }\n    }\n    throw new NoSuchAlgorithmException(&quot;SSLContext: Failed to final TLS latest&quot;);\n}\n</code></pre>\n<p>Note: Please re-tag this question if better tags can be used.</p>\n"},{"tags":["java","sql","mysql","glassfish","mysql-connector"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682241127,"creation_date":1682241127,"answer_id":76084009,"question_id":76083846,"body_markdown":"Two problems.\r\n\r\nThe jarfile is in the wrong place. Should be in the /lib not lib/ext.\r\n\r\nYou have the wrong jar. You need [mysql-connector-j-8.0.33.jar][1] or possibly an older version. sqljdbc is for ms sqlserver.\r\n\r\nSomething else that looks off is that your Resource Type is `XADataSource` but you have selected a non XA driver class. They need to match. I suspect you want `com.mysql.cj.jdbc.MysqlXADataSource`\r\n\r\n\r\n  [1]: https://repo1.maven.org/maven2/com/mysql/mysql-connector-j/8.0.33/mysql-connector-j-8.0.33.jar","title":"How to set classpath for com.mysql.cj.jdbc.MysqlXADataSource","body":"<p>Two problems.</p>\n<p>The jarfile is in the wrong place. Should be in the /lib not lib/ext.</p>\n<p>You have the wrong jar. You need <a href=\"https://repo1.maven.org/maven2/com/mysql/mysql-connector-j/8.0.33/mysql-connector-j-8.0.33.jar\" rel=\"nofollow noreferrer\">mysql-connector-j-8.0.33.jar</a> or possibly an older version. sqljdbc is for ms sqlserver.</p>\n<p>Something else that looks off is that your Resource Type is <code>XADataSource</code> but you have selected a non XA driver class. They need to match. I suspect you want <code>com.mysql.cj.jdbc.MysqlXADataSource</code></p>\n"},{"tags":[],"owner":{"display_name":"user5456746"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682569577,"creation_date":1682264164,"answer_id":76085761,"question_id":76083846,"body_markdown":"I put everything mentioned in another answer so I recommend you follow that answer. \r\n\r\nThe most important things to do are:\r\n\r\n1) Include all those `.jar` files in both `lib` directories that exist.\r\n2) Add a new property in JDBC connection pool settings: `&quot;useSSL&quot;` and set its value to `false`.\r\n\r\nAfter you do this, you&#39;ll get some obvious error messages, but those shouldn&#39;t be that hard to fix.","title":"How to set classpath for com.mysql.cj.jdbc.MysqlXADataSource","body":"<p>I put everything mentioned in another answer so I recommend you follow that answer.</p>\n<p>The most important things to do are:</p>\n<ol>\n<li>Include all those <code>.jar</code> files in both <code>lib</code> directories that exist.</li>\n<li>Add a new property in JDBC connection pool settings: <code>&quot;useSSL&quot;</code> and set its value to <code>false</code>.</li>\n</ol>\n<p>After you do this, you'll get some obvious error messages, but those shouldn't be that hard to fix.</p>\n"}],"owner":{"display_name":"user5456746"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76084009,"answer_count":2,"score":1,"last_activity_date":1683627580,"creation_date":1682238776,"question_id":76083846,"body_markdown":"I want to deploy application called &quot;banksmart&quot; in glassfish application server.\r\n\r\nThis step is done for database connection for banksmart deployment.\r\n\r\nI am getting the following error when I ping in glassfish from here:\r\n\r\n![](https://i.imgur.com/p3bYuDf.png)\r\n\r\n\r\n    Ping Connection Pool failed for banksmart. Class name is wrong or classpath is not set for : com.mysql.cj.jdbc.MysqlXADataSource Please check the server.log for more details.\r\n\r\nHere&#39;s the JDBC Resources settings:\r\n\r\n![](https://i.imgur.com/bVV9aFt.png)\r\n\r\nHere&#39;s the JDBC connection pools settings:\r\n\r\n![](https://i.imgur.com/REafiPE.png)\r\n![](https://i.imgur.com/7QHpvmx.png)\r\n\r\nHere&#39;s the server.log logfile.\r\n\r\n    [2023-04-23T17:53:59.428+0545] [glassfish 4.1] [SEVERE] [jdbc.exc_cnfe_ds] [javax.enterprise.resource.resourceadapter.com.sun.gjc.util] [tid: _ThreadID=312 _ThreadName=admin-listener(45)] [timeMillis: 1682251739428] [levelValue: 1000] [[\r\n      RAR5099 : Wrong class name or classpath for Datasource Object\r\n    java.lang.ClassNotFoundException: com.mysql.cj.jdbc.MysqlXADataSource\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n            at java.lang.Class.forName0(Native Method)\r\n            at java.lang.Class.forName(Class.java:348)\r\n            at com.sun.gjc.common.DataSourceObjectBuilder.getDataSourceObject(DataSourceObjectBuilder.java:285)\r\n            at com.sun.gjc.common.DataSourceObjectBuilder.constructDataSourceObject(DataSourceObjectBuilder.java:114)\r\n            at com.sun.gjc.spi.ManagedConnectionFactoryImpl.getDataSource(ManagedConnectionFactoryImpl.java:1300)\r\n            at com.sun.gjc.spi.DSManagedConnectionFactory.getDataSource(DSManagedConnectionFactory.java:163)\r\n            at com.sun.gjc.spi.DSManagedConnectionFactory.createManagedConnection(DSManagedConnectionFactory.java:102)\r\n            at com.sun.enterprise.connectors.service.ConnectorConnectionPoolAdminServiceImpl.getUnpooledConnection(ConnectorConnectionPoolAdminServiceImpl.java:702)\r\n            at com.sun.enterprise.connectors.service.ConnectorConnectionPoolAdminServiceImpl.testConnectionPool(ConnectorConnectionPoolAdminServiceImpl.java:431)\r\n            at com.sun.enterprise.connectors.ConnectorRuntime.pingConnectionPool(ConnectorRuntime.java:1162)\r\n            at org.glassfish.connectors.admin.cli.PingConnectionPool.execute(PingConnectionPool.java:143)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:539)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:535)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at javax.security.auth.Subject.doAs(Subject.java:360)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:534)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:565)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:557)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at javax.security.auth.Subject.doAs(Subject.java:360)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:556)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1464)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1300(CommandRunnerImpl.java:109)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1846)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1722)\r\n            at org.glassfish.admin.rest.utils.ResourceUtil.runCommand(ResourceUtil.java:253)\r\n            at org.glassfish.admin.rest.utils.ResourceUtil.runCommand(ResourceUtil.java:231)\r\n            at org.glassfish.admin.rest.resources.TemplateExecCommand.executeCommandLegacyFormat(TemplateExecCommand.java:157)\r\n            at org.glassfish.admin.rest.resources.TemplateCommandGetResource.processGetLegacyFormat(TemplateCommandGetResource.java:75)\r\n            at sun.reflect.GeneratedMethodAccessor152.invoke(Unknown Source)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)\r\n            at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:151)\r\n            at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:171)\r\n            at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:152)\r\n            at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:104)\r\n            at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:387)\r\n            at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:331)\r\n            at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:103)\r\n            at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:271)\r\n            at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\r\n            at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\r\n            at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n            at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n            at org.glassfish.jersey.internal.Errors.process(Errors.java:267)\r\n            at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:297)\r\n            at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:254)\r\n            at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1028)\r\n            at org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.service(GrizzlyHttpContainer.java:365)\r\n            at org.glassfish.admin.rest.adapter.RestAdapter$2.service(RestAdapter.java:316)\r\n            at org.glassfish.admin.rest.adapter.RestAdapter.service(RestAdapter.java:179)\r\n            at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\r\n            at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\r\n            at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:201)\r\n            at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:175)\r\n            at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\r\n            at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\r\n            at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\r\n            at org.glassfish.grizzly.portunif.PUFilter.handleRead(PUFilter.java:231)\r\n            at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\r\n            at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\r\n            at org.glassfish.grizzly.portunif.PUFilter.handleRead(PUFilter.java:231)\r\n            at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\r\n            at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\r\n            at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:561)\r\n            at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\r\n            at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\r\n            at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\r\n            at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\r\n            at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\r\n            at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\r\n            at java.lang.Thread.run(Thread.java:750)\r\n    ]]\r\n    \r\n    [2023-04-23T17:53:59.449+0545] [glassfish 4.1] [WARNING] [test.connection.pool.failed] [javax.enterprise.resource.resourceadapter.com.sun.enterprise.connectors.service] [tid: _ThreadID=312 _ThreadName=admin-listener(45)] [timeMillis: 1682251739449] [levelValue: 900] [[\r\n      RAR8054: Exception while creating an unpooled [test] connection for pool [ banksmart ], Class name is wrong or classpath is not set for : com.mysql.cj.jdbc.MysqlXADataSource]]\r\n    \r\n    [2023-04-23T17:53:59.459+0545] [glassfish 4.1] [SEVERE] [] [org.glassfish.admingui] [tid: _ThreadID=311 _ThreadName=admin-listener(44)] [timeMillis: 1682251739459] [levelValue: 1000] [[\r\n      RestResponse.getResponse() gives FAILURE.  endpoint = &#39;https://localhost:4848/management/domain/resources/ping-connection-pool.json&#39;; attrs = &#39;{id=banksmart}&#39;]]\r\n\r\n\r\n\r\nHow do I fix this error?\r\n\r\n","title":"How to set classpath for com.mysql.cj.jdbc.MysqlXADataSource","body":"<p>I want to deploy application called &quot;banksmart&quot; in glassfish application server.</p>\n<p>This step is done for database connection for banksmart deployment.</p>\n<p>I am getting the following error when I ping in glassfish from here:</p>\n<p><img src=\"https://i.imgur.com/p3bYuDf.png\" alt=\"\" /></p>\n<pre><code>Ping Connection Pool failed for banksmart. Class name is wrong or classpath is not set for : com.mysql.cj.jdbc.MysqlXADataSource Please check the server.log for more details.\n</code></pre>\n<p>Here's the JDBC Resources settings:</p>\n<p><img src=\"https://i.imgur.com/bVV9aFt.png\" alt=\"\" /></p>\n<p>Here's the JDBC connection pools settings:</p>\n<p><img src=\"https://i.imgur.com/REafiPE.png\" alt=\"\" />\n<img src=\"https://i.imgur.com/7QHpvmx.png\" alt=\"\" /></p>\n<p>Here's the server.log logfile.</p>\n<pre><code>[2023-04-23T17:53:59.428+0545] [glassfish 4.1] [SEVERE] [jdbc.exc_cnfe_ds] [javax.enterprise.resource.resourceadapter.com.sun.gjc.util] [tid: _ThreadID=312 _ThreadName=admin-listener(45)] [timeMillis: 1682251739428] [levelValue: 1000] [[\n  RAR5099 : Wrong class name or classpath for Datasource Object\njava.lang.ClassNotFoundException: com.mysql.cj.jdbc.MysqlXADataSource\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:348)\n        at com.sun.gjc.common.DataSourceObjectBuilder.getDataSourceObject(DataSourceObjectBuilder.java:285)\n        at com.sun.gjc.common.DataSourceObjectBuilder.constructDataSourceObject(DataSourceObjectBuilder.java:114)\n        at com.sun.gjc.spi.ManagedConnectionFactoryImpl.getDataSource(ManagedConnectionFactoryImpl.java:1300)\n        at com.sun.gjc.spi.DSManagedConnectionFactory.getDataSource(DSManagedConnectionFactory.java:163)\n        at com.sun.gjc.spi.DSManagedConnectionFactory.createManagedConnection(DSManagedConnectionFactory.java:102)\n        at com.sun.enterprise.connectors.service.ConnectorConnectionPoolAdminServiceImpl.getUnpooledConnection(ConnectorConnectionPoolAdminServiceImpl.java:702)\n        at com.sun.enterprise.connectors.service.ConnectorConnectionPoolAdminServiceImpl.testConnectionPool(ConnectorConnectionPoolAdminServiceImpl.java:431)\n        at com.sun.enterprise.connectors.ConnectorRuntime.pingConnectionPool(ConnectorRuntime.java:1162)\n        at org.glassfish.connectors.admin.cli.PingConnectionPool.execute(PingConnectionPool.java:143)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:539)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:535)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:360)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:534)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:565)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:557)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:360)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:556)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1464)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1300(CommandRunnerImpl.java:109)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1846)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1722)\n        at org.glassfish.admin.rest.utils.ResourceUtil.runCommand(ResourceUtil.java:253)\n        at org.glassfish.admin.rest.utils.ResourceUtil.runCommand(ResourceUtil.java:231)\n        at org.glassfish.admin.rest.resources.TemplateExecCommand.executeCommandLegacyFormat(TemplateExecCommand.java:157)\n        at org.glassfish.admin.rest.resources.TemplateCommandGetResource.processGetLegacyFormat(TemplateCommandGetResource.java:75)\n        at sun.reflect.GeneratedMethodAccessor152.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:151)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:171)\n        at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:152)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:104)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:387)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:331)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:103)\n        at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:271)\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:267)\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:297)\n        at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:254)\n        at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1028)\n        at org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.service(GrizzlyHttpContainer.java:365)\n        at org.glassfish.admin.rest.adapter.RestAdapter$2.service(RestAdapter.java:316)\n        at org.glassfish.admin.rest.adapter.RestAdapter.service(RestAdapter.java:179)\n        at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\n        at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\n        at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:201)\n        at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:175)\n        at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\n        at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\n        at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\n        at org.glassfish.grizzly.portunif.PUFilter.handleRead(PUFilter.java:231)\n        at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\n        at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\n        at org.glassfish.grizzly.portunif.PUFilter.handleRead(PUFilter.java:231)\n        at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\n        at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\n        at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:561)\n        at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\n        at java.lang.Thread.run(Thread.java:750)\n]]\n\n[2023-04-23T17:53:59.449+0545] [glassfish 4.1] [WARNING] [test.connection.pool.failed] [javax.enterprise.resource.resourceadapter.com.sun.enterprise.connectors.service] [tid: _ThreadID=312 _ThreadName=admin-listener(45)] [timeMillis: 1682251739449] [levelValue: 900] [[\n  RAR8054: Exception while creating an unpooled [test] connection for pool [ banksmart ], Class name is wrong or classpath is not set for : com.mysql.cj.jdbc.MysqlXADataSource]]\n\n[2023-04-23T17:53:59.459+0545] [glassfish 4.1] [SEVERE] [] [org.glassfish.admingui] [tid: _ThreadID=311 _ThreadName=admin-listener(44)] [timeMillis: 1682251739459] [levelValue: 1000] [[\n  RestResponse.getResponse() gives FAILURE.  endpoint = 'https://localhost:4848/management/domain/resources/ping-connection-pool.json'; attrs = '{id=banksmart}']]\n</code></pre>\n<p>How do I fix this error?</p>\n"},{"tags":["java","file-io"],"answers":[{"tags":[],"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1245669076,"creation_date":1245667207,"answer_id":1026490,"question_id":1026479,"body_markdown":"Add the following code (after you have done your operations with the file):\r\n\r\n    buffout.close();\r\n    fileoutput.close();\r\n    temp.delete();\r\n\r\nAs long as some stream on the file is open, it is locked (at least on the windows-implementation of the JVM). So it cannot be deleted.\r\n\r\nIt is good practice always to check if all opened streams get closed again after usage, because this is a bad memory-leak-situation. Your application can even eat up all available file-handles, that can lead to an unusable system.","title":"delete temporary file in java","body":"<p>Add the following code (after you have done your operations with the file):</p>\n\n<pre><code>buffout.close();\nfileoutput.close();\ntemp.delete();\n</code></pre>\n\n<p>As long as some stream on the file is open, it is locked (at least on the windows-implementation of the JVM). So it cannot be deleted.</p>\n\n<p>It is good practice always to check if all opened streams get closed again after usage, because this is a bad memory-leak-situation. Your application can even eat up all available file-handles, that can lead to an unusable system.</p>\n"},{"tags":[],"owner":{"account_id":15923,"reputation":28380,"user_id":34161,"accept_rate":83,"display_name":"Yoni Roit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1245667288,"creation_date":1245667288,"answer_id":1026493,"question_id":1026479,"body_markdown":"There&#39;s a [bug][1] saying that if the file is open by filewriter or anything, it won&#39;t be deleted. On windows. Check if you close your file writers.\r\n\r\nAnother workaround would be installing a [ShutdownHook][2] which would manually delete the file.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4171239\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4171239","title":"delete temporary file in java","body":"<p>There's a <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4171239\" rel=\"nofollow noreferrer\">bug</a> saying that if the file is open by filewriter or anything, it won't be deleted. On windows. Check if you close your file writers.</p>\n<p>Another workaround would be installing a <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4171239\" rel=\"nofollow noreferrer\">ShutdownHook</a> which would manually delete the file.</p>\n"},{"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1245667630,"creation_date":1245667630,"answer_id":1026514,"question_id":1026479,"body_markdown":"You have to shut down a VM *cleanly* in order for the `deleteOnExit` to work properly (I suspect). On `UNIX` a `kill` would be a clean shutdown (i.e. the `ShutdownHooks` would be processed) whereas a `kill -9` would be more like a *force quit*.\r\n\r\n`deleteOnExit` definitely works for me!","title":"delete temporary file in java","body":"<p>You have to shut down a VM <em>cleanly</em> in order for the <code>deleteOnExit</code> to work properly (I suspect). On <code>UNIX</code> a <code>kill</code> would be a clean shutdown (i.e. the <code>ShutdownHooks</code> would be processed) whereas a <code>kill -9</code> would be more like a <em>force quit</em>.</p>\n\n<p><code>deleteOnExit</code> definitely works for me!</p>\n"},{"tags":[],"owner":{"account_id":14911716,"reputation":1,"user_id":10766998,"display_name":"vineetawaw kkklll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544365074,"creation_date":1544364264,"answer_id":53693131,"question_id":1026479,"body_markdown":"Code to close the inpustream and outputstream:\r\n\r\n \r\n        FileInputStream in = new FileInputStream();\r\n        \r\n         ArrayList list_in = new ArrayList&lt;FileInputStream&gt;();\r\n    \r\n         list_in.add(in);\r\n    \r\n         FileOutputStream out = new FileOutputStream();\r\n    \r\n         ArrayList list_out = new ArrayList&lt;OutputputStream&gt;();\r\n           \r\n         list_in.add(out);\r\n    \r\n         public do_before_exit()\r\n         {\r\n          \r\n          for(int i=0;i&lt;list_in.size();i++)\r\n          {\r\n          FileInputStream in=(FileInputStream)list_in.get(i)\r\n           FileInputStream out=(FileInputStream)list_out.get(i)\r\n    \r\n          in.close()\r\n        out.close();\r\n       }\r\n    \r\n    }\r\n\r\n","title":"delete temporary file in java","body":"<p>Code to close the inpustream and outputstream:</p>\n\n<pre><code>    FileInputStream in = new FileInputStream();\n\n     ArrayList list_in = new ArrayList&lt;FileInputStream&gt;();\n\n     list_in.add(in);\n\n     FileOutputStream out = new FileOutputStream();\n\n     ArrayList list_out = new ArrayList&lt;OutputputStream&gt;();\n\n     list_in.add(out);\n\n     public do_before_exit()\n     {\n\n      for(int i=0;i&lt;list_in.size();i++)\n      {\n      FileInputStream in=(FileInputStream)list_in.get(i)\n       FileInputStream out=(FileInputStream)list_out.get(i)\n\n      in.close()\n    out.close();\n   }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"sunil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39057,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":4,"score":25,"last_activity_date":1683626242,"creation_date":1245666979,"question_id":1026479,"body_markdown":"I&#39;m creating a temporary file in Java but I&#39;m unable to delete it. This is the code I have written:\r\n\r\n    temp = File.createTempFile(&quot;temp&quot;, &quot;.txt&quot;);\r\n    temp.deleteOnExit();\r\n    fileoutput = new FileWriter(temp);\r\n    buffout = new BufferedWriter(fileoutput);\r\n\r\n\r\n\r\n\r\n\r\n","title":"delete temporary file in java","body":"<p>I'm creating a temporary file in Java but I'm unable to delete it. This is the code I have written:</p>\n<pre><code>temp = File.createTempFile(&quot;temp&quot;, &quot;.txt&quot;);\ntemp.deleteOnExit();\nfileoutput = new FileWriter(temp);\nbuffout = new BufferedWriter(fileoutput);\n</code></pre>\n"},{"tags":["java","spring","http","spring-security","authorization"],"comments":[{"owner":{"account_id":12131022,"reputation":3,"user_id":14376766,"display_name":"tgoel-dev"},"score":0,"creation_date":1683595213,"post_id":76205217,"comment_id":134387369,"body_markdown":"I have added the JwtAuthenticationFilter to the post as well. Please let me know if there is any other class that will be helpful. Thanks","body":"I have added the JwtAuthenticationFilter to the post as well. Please let me know if there is any other class that will be helpful. Thanks"},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1683599501,"post_id":76205217,"comment_id":134387753,"body_markdown":"What is your JDK version, Java language version, Spring Boot version?","body":"What is your JDK version, Java language version, Spring Boot version?"}],"answers":[{"tags":[],"owner":{"account_id":6067804,"reputation":38,"user_id":4737551,"display_name":"Aitor Gil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683626185,"creation_date":1683626185,"answer_id":76208053,"question_id":76205217,"body_markdown":"In the **SecurityConfig** class, inside the **securityFilterChain** method, you are using the **&quot;denyAll()&quot;** method. With it, you are saying that all the aforementioned requests should be denied. Change the &quot;denyAll()&quot; to **&quot;authenticated()&quot;**.\r\n\r\nThe method would be as follows:\r\n\r\n```\r\n @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(publicEndpoints()).permitAll()\r\n                .requestMatchers(userEndpoints()).permitAll()\r\n                .requestMatchers(adminEndpoints()).hasRole(&quot;ADMIN&quot;)\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .exceptionHandling()\r\n                .accessDeniedHandler((request, response, ex) -&gt; {\r\n                    System.out.println(&quot;Access Denied: &quot; + ex.getMessage());\r\n                    response.sendError(HttpServletResponse.SC_FORBIDDEN);\r\n                });\r\n\r\n        return http.build();\r\n    }\r\n```","title":"Spring Security: returning 403 Forbidden for all requests after successful authentication","body":"<p>In the <strong>SecurityConfig</strong> class, inside the <strong>securityFilterChain</strong> method, you are using the <strong>&quot;denyAll()&quot;</strong> method. With it, you are saying that all the aforementioned requests should be denied. Change the &quot;denyAll()&quot; to <strong>&quot;authenticated()&quot;</strong>.</p>\n<p>The method would be as follows:</p>\n<pre><code> @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(publicEndpoints()).permitAll()\n                .requestMatchers(userEndpoints()).permitAll()\n                .requestMatchers(adminEndpoints()).hasRole(&quot;ADMIN&quot;)\n                .anyRequest().authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n                .exceptionHandling()\n                .accessDeniedHandler((request, response, ex) -&gt; {\n                    System.out.println(&quot;Access Denied: &quot; + ex.getMessage());\n                    response.sendError(HttpServletResponse.SC_FORBIDDEN);\n                });\n\n        return http.build();\n    }\n</code></pre>\n"}],"owner":{"account_id":12131022,"reputation":3,"user_id":14376766,"display_name":"tgoel-dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76208053,"answer_count":1,"score":0,"last_activity_date":1683626185,"creation_date":1683593686,"question_id":76205217,"body_markdown":"I wish to allow all users to login via JWT. Only logged in users are allowed to access the private endpoints. Nothing is being logged, not even as &quot;Access Denied&quot;. Here is my `SecurityConfig` configuration class. \r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\n@EnableMethodSecurity\r\npublic class SecurityConfig {\r\n\r\n    private final JwtAuthenticationFilter jwtAuthFilter;\r\n    private final AuthenticationProvider authProvider;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(publicEndpoints()).permitAll()\r\n                .requestMatchers(userEndpoints()).permitAll()\r\n                .requestMatchers(adminEndpoints()).hasRole(&quot;ADMIN&quot;)\r\n                .anyRequest().denyAll()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .exceptionHandling()\r\n                .accessDeniedHandler((request, response, ex) -&gt; {\r\n                    System.out.println(&quot;Access Denied: &quot; + ex.getMessage());\r\n                    response.sendError(HttpServletResponse.SC_FORBIDDEN);\r\n                });\r\n\r\n        return http.build();\r\n    }\r\n\r\n    private RequestMatcher userEndpoints() {\r\n        return new OrRequestMatcher(\r\n                new AntPathRequestMatcher(&quot;/u/**&quot;)\r\n        );\r\n    }\r\n\r\n    private RequestMatcher adminEndpoints() {\r\n        return new OrRequestMatcher(\r\n                new AntPathRequestMatcher(&quot;/admin/**&quot;)\r\n        );\r\n    }\r\n\r\n    private RequestMatcher publicEndpoints() {\r\n        return new OrRequestMatcher(\r\n                new AntPathRequestMatcher(&quot;/user/register&quot;),\r\n                new AntPathRequestMatcher(&quot;/user/signin&quot;)\r\n        );\r\n    }\r\n}  \r\n```\r\n\r\nHere is the JwtAuthenticationFilter:\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    private final JwtService jwtService;\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(@NonNull HttpServletRequest request,\r\n                                    @NonNull HttpServletResponse response,\r\n                                    @NonNull FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n\r\n        if(authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n        final String jwtToken = authHeader.substring(7); // removes &quot;Bearer &quot; string.\r\n        final String username = jwtService.extractUsername(jwtToken);\r\n\r\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\r\n\r\n            if (jwtService.isTokenValid(jwtToken, userDetails)) {\r\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, userDetails.getAuthorities());\r\n\r\n                authToken.setDetails(new WebAuthenticationDetailsSource()\r\n                        .buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(authToken);\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\n\r\nCurrently, with the above configuration, I am getting no logs whatsoever. I tried changing the security configuration to `.requestMatchers(userEndpoints()).hasRole(&quot;USER&quot;)` which still returned 403 Forbidden. But this time, there was a log saying &quot;Access Denied: Access Denied&quot;.\r\n\r\nI have also tried using `@PreAuthorize(&quot;hasRole(&#39;USER&#39;)&quot;)` for the controller method being called, but that also did nothing. ","title":"Spring Security: returning 403 Forbidden for all requests after successful authentication","body":"<p>I wish to allow all users to login via JWT. Only logged in users are allowed to access the private endpoints. Nothing is being logged, not even as &quot;Access Denied&quot;. Here is my <code>SecurityConfig</code> configuration class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\n@EnableMethodSecurity\npublic class SecurityConfig {\n\n    private final JwtAuthenticationFilter jwtAuthFilter;\n    private final AuthenticationProvider authProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(publicEndpoints()).permitAll()\n                .requestMatchers(userEndpoints()).permitAll()\n                .requestMatchers(adminEndpoints()).hasRole(&quot;ADMIN&quot;)\n                .anyRequest().denyAll()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n                .exceptionHandling()\n                .accessDeniedHandler((request, response, ex) -&gt; {\n                    System.out.println(&quot;Access Denied: &quot; + ex.getMessage());\n                    response.sendError(HttpServletResponse.SC_FORBIDDEN);\n                });\n\n        return http.build();\n    }\n\n    private RequestMatcher userEndpoints() {\n        return new OrRequestMatcher(\n                new AntPathRequestMatcher(&quot;/u/**&quot;)\n        );\n    }\n\n    private RequestMatcher adminEndpoints() {\n        return new OrRequestMatcher(\n                new AntPathRequestMatcher(&quot;/admin/**&quot;)\n        );\n    }\n\n    private RequestMatcher publicEndpoints() {\n        return new OrRequestMatcher(\n                new AntPathRequestMatcher(&quot;/user/register&quot;),\n                new AntPathRequestMatcher(&quot;/user/signin&quot;)\n        );\n    }\n}  \n</code></pre>\n<p>Here is the JwtAuthenticationFilter:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    private final JwtService jwtService;\n    private final UserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(@NonNull HttpServletRequest request,\n                                    @NonNull HttpServletResponse response,\n                                    @NonNull FilterChain filterChain) throws ServletException, IOException {\n\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n\n        if(authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n        final String jwtToken = authHeader.substring(7); // removes &quot;Bearer &quot; string.\n        final String username = jwtService.extractUsername(jwtToken);\n\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\n\n            if (jwtService.isTokenValid(jwtToken, userDetails)) {\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities());\n\n                authToken.setDetails(new WebAuthenticationDetailsSource()\n                        .buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>Currently, with the above configuration, I am getting no logs whatsoever. I tried changing the security configuration to <code>.requestMatchers(userEndpoints()).hasRole(&quot;USER&quot;)</code> which still returned 403 Forbidden. But this time, there was a log saying &quot;Access Denied: Access Denied&quot;.</p>\n<p>I have also tried using <code>@PreAuthorize(&quot;hasRole('USER')&quot;)</code> for the controller method being called, but that also did nothing.</p>\n"},{"tags":["java","java-8","executable-jar","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":1133977,"reputation":1901,"user_id":1119431,"accept_rate":80,"display_name":"zakkak"},"score":0,"creation_date":1683118453,"post_id":76163668,"comment_id":134317100,"body_markdown":"It looks like native-image is failing to generate a binary and is falling back to JVM-mode. Try compiling with `--no-fallback` and the build will probably fail.","body":"It looks like native-image is failing to generate a binary and is falling back to JVM-mode. Try compiling with <code>--no-fallback</code> and the build will probably fail."},{"owner":{"account_id":302301,"reputation":3398,"user_id":610607,"accept_rate":61,"display_name":"Mian Ahmad"},"score":0,"creation_date":1683118619,"post_id":76163668,"comment_id":134317141,"body_markdown":"@zakkak yes it failed with some type error `Error: type is not available in this platform: org.graalvm.nativeimage.impl.ImageSingletonsSupport`","body":"@zakkak yes it failed with some type error <code>Error: type is not available in this platform: org.graalvm.nativeimage.impl.ImageSingletonsSupport</code>"},{"owner":{"account_id":302301,"reputation":3398,"user_id":610607,"accept_rate":61,"display_name":"Mian Ahmad"},"score":0,"creation_date":1683118643,"post_id":76163668,"comment_id":134317150,"body_markdown":"Is it because of the mac m1 max or some other issue?","body":"Is it because of the mac m1 max or some other issue?"},{"owner":{"account_id":1133977,"reputation":1901,"user_id":1119431,"accept_rate":80,"display_name":"zakkak"},"score":2,"creation_date":1683208911,"post_id":76163668,"comment_id":134334131,"body_markdown":"I am not sure to be honest. Better update the github issue and provide more info there (like the full stack trace).","body":"I am not sure to be honest. Better update the github issue and provide more info there (like the full stack trace)."}],"answers":[{"tags":[],"owner":{"account_id":302301,"reputation":3398,"user_id":610607,"accept_rate":61,"display_name":"Mian Ahmad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683626155,"creation_date":1683282449,"answer_id":76181228,"question_id":76163668,"body_markdown":"Okay, finally, what worked for me is to create the configuration file. It becomes a two-step process\r\n\r\nStep 1:\r\n\r\n\r\nFirst I create a jar file of the project using intellij then I run the jar file to create a configuration file of the project in META_INF/native-image directory using `-agentlib:native-image-agent` i.e.\r\n```\r\njava -agentlib:native-image-agent=config-output-dir=/Users/mianahmad/goldeneye/json-processor/src/main/resources/META-INF/native-image -jar metadata-processor.jar -i /Users/mianahmad/goldeneye/json-processor/input/Claimant.json -o /Users/mianahmad/goldeneye/json-processor/output/Claimant_output.json\r\n```\r\n\r\nStep 2: \r\n\r\nAfter that I created a jar again and then created the native image.\r\n\r\n```\r\nnative-image -jar app-1.0-SNAPSHOT-jar-with-dependencies.jar\r\n```\r\nAfter that, I moved the project to another location using \r\n```\r\nmv app-1.0-SNAPSHOT-jar-with-dependencies /Users/mianahmad/Desktop\r\n```\r\nRun the binary and viola it is still working\r\n```\r\n./app-1.0-SNAPSHOT-jar-with-dependencies\r\n```\r\n\r\n","title":"Graalvm generated binary is working inside the project directory but not outside that directory","body":"<p>Okay, finally, what worked for me is to create the configuration file. It becomes a two-step process</p>\n<p>Step 1:</p>\n<p>First I create a jar file of the project using intellij then I run the jar file to create a configuration file of the project in META_INF/native-image directory using <code>-agentlib:native-image-agent</code> i.e.</p>\n<pre><code>java -agentlib:native-image-agent=config-output-dir=/Users/mianahmad/goldeneye/json-processor/src/main/resources/META-INF/native-image -jar metadata-processor.jar -i /Users/mianahmad/goldeneye/json-processor/input/Claimant.json -o /Users/mianahmad/goldeneye/json-processor/output/Claimant_output.json\n</code></pre>\n<p>Step 2:</p>\n<p>After that I created a jar again and then created the native image.</p>\n<pre><code>native-image -jar app-1.0-SNAPSHOT-jar-with-dependencies.jar\n</code></pre>\n<p>After that, I moved the project to another location using</p>\n<pre><code>mv app-1.0-SNAPSHOT-jar-with-dependencies /Users/mianahmad/Desktop\n</code></pre>\n<p>Run the binary and viola it is still working</p>\n<pre><code>./app-1.0-SNAPSHOT-jar-with-dependencies\n</code></pre>\n"}],"owner":{"account_id":302301,"reputation":3398,"user_id":610607,"accept_rate":61,"display_name":"Mian Ahmad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76181228,"answer_count":1,"score":0,"last_activity_date":1683626155,"creation_date":1683115807,"question_id":76163668,"body_markdown":"I am using a rather simple Java application that receives an input file, process it and generate an output file. I am using `Picocli` for arguments to the application and `Graalvm` to create a native binary. \r\nI first created the `artifact` in intellij including the libraries and specifying the class containing the main method, I then used `build artifact` option to build the jar file. After that, I used the following command to create the binary \r\n```\r\nnative-image -jar metadata-processor.jar\r\n```\r\nThe jar and binary are created inside the project as `projectName/out/artifacts/app_jar` I can run the binary using\r\n```\r\n./binary -i abc -o xyz\r\n```\r\nI can run the jar file using\r\n```\r\njava -jar binary.jar -i abc -o xyz\r\n```\r\nHowever when I move the `binary` to `~Download` directory and run the same above command I get the error \r\n```\r\n./binary -i abc -o xyz\r\nError: Could not find or load main class Main\r\n```\r\nThe jar is still working though i.e.\r\n```\r\njava -jar binary.jar -i abc -o xyz\r\n```\r\n\r\nIf I create a simple hello world program and create a binary then it works fine even if I move it to another folder so it seems to be a library issue or project structure.\r\n\r\nPlease let me know if some special step is required in the case of libraries.","title":"Graalvm generated binary is working inside the project directory but not outside that directory","body":"<p>I am using a rather simple Java application that receives an input file, process it and generate an output file. I am using <code>Picocli</code> for arguments to the application and <code>Graalvm</code> to create a native binary.\nI first created the <code>artifact</code> in intellij including the libraries and specifying the class containing the main method, I then used <code>build artifact</code> option to build the jar file. After that, I used the following command to create the binary</p>\n<pre><code>native-image -jar metadata-processor.jar\n</code></pre>\n<p>The jar and binary are created inside the project as <code>projectName/out/artifacts/app_jar</code> I can run the binary using</p>\n<pre><code>./binary -i abc -o xyz\n</code></pre>\n<p>I can run the jar file using</p>\n<pre><code>java -jar binary.jar -i abc -o xyz\n</code></pre>\n<p>However when I move the <code>binary</code> to <code>~Download</code> directory and run the same above command I get the error</p>\n<pre><code>./binary -i abc -o xyz\nError: Could not find or load main class Main\n</code></pre>\n<p>The jar is still working though i.e.</p>\n<pre><code>java -jar binary.jar -i abc -o xyz\n</code></pre>\n<p>If I create a simple hello world program and create a binary then it works fine even if I move it to another folder so it seems to be a library issue or project structure.</p>\n<p>Please let me know if some special step is required in the case of libraries.</p>\n"},{"tags":["java","jar","launch"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1683622566,"post_id":76205893,"comment_id":134390971,"body_markdown":"This link should also be helpful https://stackoverflow.com/questions/22381202/error-a-jni-error-has-occurred-please-check-your-installation-and-try-again-in","body":"This link should also be helpful <a href=\"https://stackoverflow.com/questions/22381202/error-a-jni-error-has-occurred-please-check-your-installation-and-try-again-in\" title=\"error a jni error has occurred please check your installation and try again in\">stackoverflow.com/questions/22381202/&hellip;</a>"},{"owner":{"account_id":23361584,"reputation":23,"user_id":17433720,"display_name":"Bread Bouquet"},"score":0,"creation_date":1683652068,"post_id":76205893,"comment_id":134398302,"body_markdown":"This did not help","body":"This did not help"}],"owner":{"account_id":23361584,"reputation":23,"user_id":17433720,"display_name":"Bread Bouquet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683626025,"answer_count":0,"score":0,"last_activity_date":1683626041,"creation_date":1683607118,"question_id":76205893,"body_markdown":"so I&#39;ve just created a jar file for the first time. When I double click on it to run the program I get an error. &quot;JNI error has occurred please check your installation&quot;. My program is terminal based. How do I get my program to open the terminal when launched. Thanks!","title":"How to get my java program to launch from a jar file?","body":"<p>so I've just created a jar file for the first time. When I double click on it to run the program I get an error. &quot;JNI error has occurred please check your installation&quot;. My program is terminal based. How do I get my program to open the terminal when launched. Thanks!</p>\n"},{"tags":["java","spring-boot","spring-validator"],"comments":[{"owner":{"account_id":14500349,"reputation":118,"user_id":10473718,"display_name":"I_AM__PAUL"},"score":0,"creation_date":1685103373,"post_id":76203513,"comment_id":134618399,"body_markdown":"Did you find a solution for this? I have same issue and cant find solution for that","body":"Did you find a solution for this? I have same issue and cant find solution for that"},{"owner":{"account_id":12695732,"reputation":3368,"user_id":9224219,"display_name":"Datz"},"score":0,"creation_date":1685104877,"post_id":76203513,"comment_id":134618740,"body_markdown":"@I_AM__PAUL not yet :(","body":"@I_AM__PAUL not yet :("}],"owner":{"account_id":12695732,"reputation":3368,"user_id":9224219,"display_name":"Datz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683625979,"creation_date":1683571764,"question_id":76203513,"body_markdown":"I want to validate the JSON content of a POST request in my controller.\r\nI use @NullValue annotations and a custom Validator for a conditional validation. The input is invalid if the attribute `type` is `A` and the attribute `name` is empty.\r\nBut I can&#39;t get the validator to work.\r\n\r\nI have this controller:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/orders&quot;)\r\n@Validated\r\npublic class OrderController {\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public void createOrder(@Valid @RequestBody Order order) {\r\n      // do something\r\n    }\r\n}\r\n```\r\n\r\nand this `Validator` for the `Order` class:\r\n\r\n```\r\n@Component\r\npublic class OrderValidator implements Validator {\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; clazz) {\r\n        return Order.class.isAssignableFrom(clazz);\r\n    }\r\n\r\n    @Override\r\n    public void validate(Object target, Errors errors) {\r\n        final var order = (Order) target;\r\n\r\n        if (order.getType() == Type.A &amp;&amp; Strings.isEmpty(order.getName())) {\r\n            errors.rejectValue(&quot;name&quot;, &quot;name.required&quot;, &quot;Name required for type A&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand `Order` class\r\n```\r\n@Getter\r\n@Setter\r\npublic class OrderDto {\r\n    private String name;\r\n    @NotNull\r\n    private Type type;\r\n}\r\n```\r\n\r\nIf I send a POST request where `type` is null, I get HTTP status 400 (Bad request) as expected.\r\n\r\n**But when I send a POST request with `type`=`A` and `name`=`null` the method returns HTTP 201 (Created). The `OrderValidator` is not executed.**\r\nBreakpoints prove, that the `supports` and `validate` methods are not called. But I can inject a `OrderValidator` bean, which means the component was found by Spring Boot.\r\n\r\n*The only work-around I found was to use this as controller, but this does not look feel right to me:*\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/orders&quot;)\r\n@Validated\r\npublic class OrderController {\r\n    @Autowired\r\n    private final OrderValidator orderValidator;\r\n\r\n    @InitBinder\r\n    public void initBinder(WebDataBinder binder) {\r\n        binder.addValidators(orderValidator);\r\n    }\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public void createOrder(@Valid @RequestBody Order order, BindingResult result) {\r\n      // evaluate bindingResult manually\r\n      // do something\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhat am I doing wrong?","title":"How can I make a Spring Validator to be detected and used automatically?","body":"<p>I want to validate the JSON content of a POST request in my controller.\nI use @NullValue annotations and a custom Validator for a conditional validation. The input is invalid if the attribute <code>type</code> is <code>A</code> and the attribute <code>name</code> is empty.\nBut I can't get the validator to work.</p>\n<p>I have this controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/orders&quot;)\n@Validated\npublic class OrderController {\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public void createOrder(@Valid @RequestBody Order order) {\n      // do something\n    }\n}\n</code></pre>\n<p>and this <code>Validator</code> for the <code>Order</code> class:</p>\n<pre><code>@Component\npublic class OrderValidator implements Validator {\n    @Override\n    public boolean supports(Class&lt;?&gt; clazz) {\n        return Order.class.isAssignableFrom(clazz);\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n        final var order = (Order) target;\n\n        if (order.getType() == Type.A &amp;&amp; Strings.isEmpty(order.getName())) {\n            errors.rejectValue(&quot;name&quot;, &quot;name.required&quot;, &quot;Name required for type A&quot;);\n        }\n    }\n}\n</code></pre>\n<p>and <code>Order</code> class</p>\n<pre><code>@Getter\n@Setter\npublic class OrderDto {\n    private String name;\n    @NotNull\n    private Type type;\n}\n</code></pre>\n<p>If I send a POST request where <code>type</code> is null, I get HTTP status 400 (Bad request) as expected.</p>\n<p><strong>But when I send a POST request with <code>type</code>=<code>A</code> and <code>name</code>=<code>null</code> the method returns HTTP 201 (Created). The <code>OrderValidator</code> is not executed.</strong>\nBreakpoints prove, that the <code>supports</code> and <code>validate</code> methods are not called. But I can inject a <code>OrderValidator</code> bean, which means the component was found by Spring Boot.</p>\n<p><em>The only work-around I found was to use this as controller, but this does not look feel right to me:</em></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/orders&quot;)\n@Validated\npublic class OrderController {\n    @Autowired\n    private final OrderValidator orderValidator;\n\n    @InitBinder\n    public void initBinder(WebDataBinder binder) {\n        binder.addValidators(orderValidator);\n    }\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public void createOrder(@Valid @RequestBody Order order, BindingResult result) {\n      // evaluate bindingResult manually\n      // do something\n    }\n\n}\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","windows","maven"],"comments":[{"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"score":4,"creation_date":1436174332,"post_id":11118237,"comment_id":50481708,"body_markdown":"Just downloaded **binary** `zip` and it was broken. Replaced with `.tar.gz` and it works. So when `M2_HOME` is set correctly really try to check that what you downloaded is correct.","body":"Just downloaded <b>binary</b> <code>zip</code> and it was broken. Replaced with <code>.tar.gz</code> and it works. So when <code>M2_HOME</code> is set correctly really try to check that what you downloaded is correct."},{"owner":{"account_id":7384842,"reputation":977,"user_id":5620182,"accept_rate":83,"display_name":"hoaphumanoid"},"score":0,"creation_date":1469442926,"post_id":11118237,"comment_id":64520857,"body_markdown":"@PavelHoral same happened to me","body":"@PavelHoral same happened to me"},{"owner":{"account_id":1314832,"reputation":1915,"user_id":1261959,"accept_rate":0,"display_name":"Nullpointer"},"score":0,"creation_date":1589886491,"post_id":11118237,"comment_id":109464595,"body_markdown":"I get this error on this jenkins only, via command like mvn compile working fine !","body":"I get this error on this jenkins only, via command like mvn compile working fine !"}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1340190777,"creation_date":1340190777,"answer_id":11118287,"question_id":11118237,"body_markdown":"You should change the location of the M2_HOME into the following:\r\n\r\n    set M2_HOME=C:\\apache-maven-3.0.4\\apache-maven\r\n\r\nFurthermore the installation of the JDK looks more a JRE instead of JDK. For Maven you need JDK and NOT JRE.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>You should change the location of the M2_HOME into the following:</p>\n\n<pre><code>set M2_HOME=C:\\apache-maven-3.0.4\\apache-maven\n</code></pre>\n\n<p>Furthermore the installation of the JDK looks more a JRE instead of JDK. For Maven you need JDK and NOT JRE.</p>\n"},{"tags":[],"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340196189,"creation_date":1340196189,"answer_id":11119819,"question_id":11118237,"body_markdown":"Besides what @khmarbaise has pointed out, I think you have mistyped your JAVA_HOME.  If you have installed in the default location, then there should be no &quot;-&quot; (hyphen) between jdk and 1.7.0_04.  So it would be\r\n\r\n    JAVA_HOME C:\\Program Files\\Java\\jdk1.7.0_04 ","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Besides what @khmarbaise has pointed out, I think you have mistyped your JAVA_HOME.  If you have installed in the default location, then there should be no \"-\" (hyphen) between jdk and 1.7.0_04.  So it would be</p>\n\n<pre><code>JAVA_HOME C:\\Program Files\\Java\\jdk1.7.0_04 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":304241,"reputation":1035,"user_id":613635,"display_name":"Alex Fairchild"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1440448182,"creation_date":1352830120,"answer_id":13366230,"question_id":11118237,"body_markdown":"I was having this same problem and was able to resolve it by carefully redoing the Environment Variables: \r\n\r\n - M2_HOME  \r\n - M2 \r\n - JAVA_HOME\r\n\r\n  \r\nAlso, I made them all **System** Variables, not User Variables like the Maven instructions say. When you \r\n\r\n    echo %Path%\r\n\r\nMake sure you can see the %M2% and %JAVA_HOME% variables completely expanded, i.e. :\r\n\r\n    C:\\Users\\afairchild&gt;echo %Path%\r\n    C:\\Program Files\\Apache Software Foundation\\apache-maven-3.0.4\\bin;C:\\Program Files\\Java\\jdk1.7.0_09\\bin; [etc]","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I was having this same problem and was able to resolve it by carefully redoing the Environment Variables: </p>\n\n<ul>\n<li>M2_HOME  </li>\n<li>M2 </li>\n<li>JAVA_HOME</li>\n</ul>\n\n<p>Also, I made them all <strong>System</strong> Variables, not User Variables like the Maven instructions say. When you </p>\n\n<pre><code>echo %Path%\n</code></pre>\n\n<p>Make sure you can see the %M2% and %JAVA_HOME% variables completely expanded, i.e. :</p>\n\n<pre><code>C:\\Users\\afairchild&gt;echo %Path%\nC:\\Program Files\\Apache Software Foundation\\apache-maven-3.0.4\\bin;C:\\Program Files\\Java\\jdk1.7.0_09\\bin; [etc]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":272852,"reputation":19440,"user_id":564157,"accept_rate":88,"display_name":"Joseph Lust"},"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1362530415,"creation_date":1362530415,"answer_id":15236910,"question_id":11118237,"body_markdown":"Had this issue on two different Ubuntu 12.04 installs, despite the installs being done by apt-get. Issue was M2_HOME.\r\n\r\nFixed with:\r\n\r\n    export M2_HOME=/usr/share/maven","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Had this issue on two different Ubuntu 12.04 installs, despite the installs being done by apt-get. Issue was M2_HOME.</p>\n\n<p>Fixed with:</p>\n\n<pre><code>export M2_HOME=/usr/share/maven\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2458354,"reputation":21,"user_id":2142986,"display_name":"Lou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362638641,"creation_date":1362637241,"answer_id":15264467,"question_id":11118237,"body_markdown":"I had the same issue. I have Windows xp box and when I would type `mvn -version` at the command line prompt I got the dreaded error message \r\n\r\n    &quot;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/codehaus/plexus/classworlds/launcher/Launcher&quot;\r\n\r\nI confirmed that my `M2_HOME` variable was set to the path where Maven was installed on pc and that the `echo %path%` confirmed that Maven was in my path. \r\n\r\nI have been searching for a solution for hours when I stumbled on to my solution (I say my solution because I know this probably won&#39;t be the solution for everyone that is getting the same error). \r\n\r\nI copied the path that was assigned to my `M2_HOME` variable. I opened a cmd window and typed cd and pasted the path I got from my `M2_HOME` variable. At that point I knew that the path was correct because the path was displayed in the window. At this point I entered the dir command and to my surprise, I got the error File Not Found. \r\n\r\nI went to that path via Explorer and sure enough there were files present. I noticed that the folders were faded out, but I could access them and see the files within each folder (I have admin rights on my pc). I looked at the properties of the parent folder for Maven and saw that the Hidden box was checked. I removed the check and applied and tried my dir command again with success.\r\n\r\nNext I tried the `mvn version` command again, but this time I got back the expected results.\r\n\r\n    C:\\&gt;mvn -version\r\n    Apache Maven 3.0.3 (r1075438; 2011-02-28 11:31:09-0600)\r\n    Maven home: C:\\Program Files\\apache-maven-3.0.3\r\n    Java version: 1.5.0_16, vendor: Sun Microsystems Inc.\r\n    Java home: C:\\Java\\jdk1.5.0_16\\jre\r\n    Default locale: en_US, platform encoding: Cp1252\r\n    OS name: &quot;windows xp&quot;, version: &quot;5.1&quot;, arch: &quot;x86&quot;, family: &quot;windows&quot;\r\n\r\nFinally I created a jar and war file and my web app ran successfully on my local Tomcat.\r\n\r\nI hope this helps some of you out there.\r\n\r\n\r\n","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I had the same issue. I have Windows xp box and when I would type <code>mvn -version</code> at the command line prompt I got the dreaded error message </p>\n\n<pre><code>\"Exception in thread \"main\" java.lang.NoClassDefFoundError: org/codehaus/plexus/classworlds/launcher/Launcher\"\n</code></pre>\n\n<p>I confirmed that my <code>M2_HOME</code> variable was set to the path where Maven was installed on pc and that the <code>echo %path%</code> confirmed that Maven was in my path. </p>\n\n<p>I have been searching for a solution for hours when I stumbled on to my solution (I say my solution because I know this probably won't be the solution for everyone that is getting the same error). </p>\n\n<p>I copied the path that was assigned to my <code>M2_HOME</code> variable. I opened a cmd window and typed cd and pasted the path I got from my <code>M2_HOME</code> variable. At that point I knew that the path was correct because the path was displayed in the window. At this point I entered the dir command and to my surprise, I got the error File Not Found. </p>\n\n<p>I went to that path via Explorer and sure enough there were files present. I noticed that the folders were faded out, but I could access them and see the files within each folder (I have admin rights on my pc). I looked at the properties of the parent folder for Maven and saw that the Hidden box was checked. I removed the check and applied and tried my dir command again with success.</p>\n\n<p>Next I tried the <code>mvn version</code> command again, but this time I got back the expected results.</p>\n\n<pre><code>C:\\&gt;mvn -version\nApache Maven 3.0.3 (r1075438; 2011-02-28 11:31:09-0600)\nMaven home: C:\\Program Files\\apache-maven-3.0.3\nJava version: 1.5.0_16, vendor: Sun Microsystems Inc.\nJava home: C:\\Java\\jdk1.5.0_16\\jre\nDefault locale: en_US, platform encoding: Cp1252\nOS name: \"windows xp\", version: \"5.1\", arch: \"x86\", family: \"windows\"\n</code></pre>\n\n<p>Finally I created a jar and war file and my web app ran successfully on my local Tomcat.</p>\n\n<p>I hope this helps some of you out there.</p>\n"},{"tags":[],"owner":{"account_id":2554102,"reputation":219,"user_id":2216499,"display_name":"jdmidtun"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1364401152,"creation_date":1364401152,"answer_id":15663889,"question_id":11118237,"body_markdown":"It sounds like you installed (extracted) the source files instead of the binaries based on your path information.  Try installing the binaries instead and following the other posters answer.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>It sounds like you installed (extracted) the source files instead of the binaries based on your path information.  Try installing the binaries instead and following the other posters answer.</p>\n"},{"tags":[],"owner":{"account_id":1199784,"reputation":18304,"user_id":1170677,"accept_rate":54,"display_name":"Adelin"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1376080594,"creation_date":1376080594,"answer_id":18155226,"question_id":11118237,"body_markdown":"Well, I had this problem and after seeing this post and particularly khmarbaise answer I noticed that `M2_HOME` was \r\n\r\n    D:\\workspace\\apache-maven-3.1.0-bin\\apache-maven-3.1.0\\bin\r\n\r\nand then I chaged it to \r\n\r\n    D:\\workspace\\apache-maven-3.1.0-bin\\apache-maven-3.1.0\r\n\r\n\r\nI would like to mention that I use windows 7 (x64)    ","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Well, I had this problem and after seeing this post and particularly khmarbaise answer I noticed that <code>M2_HOME</code> was </p>\n\n<pre><code>D:\\workspace\\apache-maven-3.1.0-bin\\apache-maven-3.1.0\\bin\n</code></pre>\n\n<p>and then I chaged it to </p>\n\n<pre><code>D:\\workspace\\apache-maven-3.1.0-bin\\apache-maven-3.1.0\n</code></pre>\n\n<p>I would like to mention that I use windows 7 (x64)    </p>\n"},{"tags":[],"owner":{"account_id":3306933,"reputation":41,"user_id":2781456,"accept_rate":25,"display_name":"HMB"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1379847038,"creation_date":1379846602,"answer_id":18942952,"question_id":11118237,"body_markdown":"This is a common issue while setting up Maven.\r\nAll you need to do is the below :-\r\n\r\n1. M2_HOME :- D:\\apache-maven-2.0.11      \r\n2. M2      :- D:\\apache-maven-2.0.11\\bin\r\n3. Path    :- Append it with ;%M2%\r\n\r\n\r\nM2_HOME &amp; M2 :- need to be declared as System variables and not as USER / ADMIN Variables.\r\n\r\nPath :- This can be the System Variable OR the USER / ADMIN variable [PATH]. Preferably System Variable.\r\n\r\nOnce you carefully do the setting of these 3 variable, you can verify Maven&#39;s installation as below.\r\n\r\n\r\nOn CMD Prompt :-\r\n************************\r\n\r\nC:\\Documents and Settings\\ADMIN&gt;mvn --version\r\n\r\n************************\r\nOutput :-\r\n************************\r\nApache Maven 2.0.11 (r909250; 2010-02-12 11:25:50+0530)\r\nJava version: 1.6.0_22\r\nJava home: C:\\Program Files\\Java\\jdk1.6.0_22\\jre\r\nDefault locale: en_US, platform encoding: Cp1252\r\nOS name: &quot;windows xp&quot; version: &quot;5.1&quot; arch: &quot;x86&quot; Family: &quot;windows&quot;\r\n\r\n\r\nThanks.\r\n\r\n","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>This is a common issue while setting up Maven.\nAll you need to do is the below :-</p>\n\n<ol>\n<li>M2_HOME :- D:\\apache-maven-2.0.11      </li>\n<li>M2      :- D:\\apache-maven-2.0.11\\bin</li>\n<li>Path    :- Append it with ;%M2%</li>\n</ol>\n\n<p>M2_HOME &amp; M2 :- need to be declared as System variables and not as USER / ADMIN Variables.</p>\n\n<p>Path :- This can be the System Variable OR the USER / ADMIN variable [PATH]. Preferably System Variable.</p>\n\n<p>Once you carefully do the setting of these 3 variable, you can verify Maven's installation as below.</p>\n\n<p>On CMD Prompt :-</p>\n\n<hr>\n\n<p>C:\\Documents and Settings\\ADMIN>mvn --version</p>\n\n<hr>\n\n<p>Output :-</p>\n\n<hr>\n\n<p>Apache Maven 2.0.11 (r909250; 2010-02-12 11:25:50+0530)\nJava version: 1.6.0_22\nJava home: C:\\Program Files\\Java\\jdk1.6.0_22\\jre\nDefault locale: en_US, platform encoding: Cp1252\nOS name: \"windows xp\" version: \"5.1\" arch: \"x86\" Family: \"windows\"</p>\n\n<p>Thanks.</p>\n"},{"tags":[],"owner":{"account_id":193421,"reputation":2941,"user_id":435140,"accept_rate":100,"display_name":"dirbacke"},"down_vote_count":1,"up_vote_count":83,"is_accepted":false,"score":82,"last_activity_date":1381435476,"creation_date":1380186956,"answer_id":19024073,"question_id":11118237,"body_markdown":"Even though the question is answered I would like to add that, if you are getting the above mentioned error, be sure that you have downloaded the **Binary file**. \r\n\r\nThe source file should only be downloaded if you are an advanced user and that you know how to deal with it. \r\n\r\nI have had quite a share of people downloading the wrong file, seniors and juniors","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Even though the question is answered I would like to add that, if you are getting the above mentioned error, be sure that you have downloaded the <strong>Binary file</strong>. </p>\n\n<p>The source file should only be downloaded if you are an advanced user and that you know how to deal with it. </p>\n\n<p>I have had quite a share of people downloading the wrong file, seniors and juniors</p>\n"},{"tags":[],"owner":{"account_id":495819,"reputation":13159,"user_id":1017787,"accept_rate":64,"display_name":"JBCP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387307887,"creation_date":1387307887,"answer_id":20642762,"question_id":11118237,"body_markdown":"For other people who might run into this, don&#39;t forget to check ~/.mavenrc for M2_HOME or JAVA_HOME settings.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>For other people who might run into this, don't forget to check ~/.mavenrc for M2_HOME or JAVA_HOME settings.</p>\n"},{"tags":[],"owner":{"account_id":408096,"reputation":3816,"user_id":778554,"accept_rate":67,"display_name":"Ian"},"down_vote_count":2,"up_vote_count":147,"is_accepted":false,"score":145,"last_activity_date":1671841004,"creation_date":1394482766,"answer_id":22310438,"question_id":11118237,"body_markdown":"I hit this problem too, and found [**this**][1] article.  For Maven3, changing my environment variable name from M2_HOME to M3_HOME did the trick.  I am on a Mac running OSX 10.9 with JDK 1.7.\r\n\r\n\r\n  [1]: http://www.johnlabarge.com/post/33156663109/dreaded-maven-error-could-not-find-or-load-main-class\r\n\r\nNote: Please delete M2_HOME, if already set. Eg: `unset M2_HOME`.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I hit this problem too, and found <a href=\"http://www.johnlabarge.com/post/33156663109/dreaded-maven-error-could-not-find-or-load-main-class\" rel=\"nofollow noreferrer\"><strong>this</strong></a> article.  For Maven3, changing my environment variable name from M2_HOME to M3_HOME did the trick.  I am on a Mac running OSX 10.9 with JDK 1.7.</p>\n<p>Note: Please delete M2_HOME, if already set. Eg: <code>unset M2_HOME</code>.</p>\n"},{"tags":[],"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1400179787,"creation_date":1400179787,"answer_id":23686393,"question_id":11118237,"body_markdown":"I came across a similar problem on my mac OSX. After a series of trial and error attempts I finally resolved it.\r\n\r\nMy `~/.bash_profile` looked like this\r\n\r\n    export M2_HOME=/Users/xyz/maven-3.x/bin\r\n    export PATH=$PATH:$M2_HOME\r\n\r\nand when I tried to `echo M2_HOME` from the terminal, it showed me the correct path but when I tried to fire any maven command like `mvn clean` or `mvn install`, it always gave the same problem\r\n\r\n&gt;Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher\r\n\r\nI solved this issue by changing my `M2_HOME` to this\r\n\r\n\r\n    export M2_HOME=/Users/xyz/maven-3.x\r\n    export PATH=$PATH:$M2_HOME/bin\r\n\r\nAnd voila ! It started working ! Just by moving the position of `/bin` from M2_HOME to in front of the `PATH`\r\n","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I came across a similar problem on my mac OSX. After a series of trial and error attempts I finally resolved it.</p>\n\n<p>My <code>~/.bash_profile</code> looked like this</p>\n\n<pre><code>export M2_HOME=/Users/xyz/maven-3.x/bin\nexport PATH=$PATH:$M2_HOME\n</code></pre>\n\n<p>and when I tried to <code>echo M2_HOME</code> from the terminal, it showed me the correct path but when I tried to fire any maven command like <code>mvn clean</code> or <code>mvn install</code>, it always gave the same problem</p>\n\n<blockquote>\n  <p>Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher</p>\n</blockquote>\n\n<p>I solved this issue by changing my <code>M2_HOME</code> to this</p>\n\n<pre><code>export M2_HOME=/Users/xyz/maven-3.x\nexport PATH=$PATH:$M2_HOME/bin\n</code></pre>\n\n<p>And voila ! It started working ! Just by moving the position of <code>/bin</code> from M2_HOME to in front of the <code>PATH</code></p>\n"},{"tags":[],"owner":{"account_id":1799758,"reputation":487,"user_id":1638386,"accept_rate":86,"display_name":"dytori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404637108,"creation_date":1404637108,"answer_id":24594223,"question_id":11118237,"body_markdown":"Exactly the same error may appear even with correct environment variable settings, if you copy ONLY &lt;code&gt;bin&lt;/code&gt; directory to the installation directory.\r\nIt make &lt;code&gt;which&lt;/code&gt; work finely, and novices get stuck.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Exactly the same error may appear even with correct environment variable settings, if you copy ONLY <code>bin</code> directory to the installation directory.\nIt make <code>which</code> work finely, and novices get stuck.</p>\n"},{"tags":[],"owner":{"account_id":466656,"reputation":769,"user_id":871542,"accept_rate":46,"display_name":"Shendor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417523262,"creation_date":1417523262,"answer_id":27249503,"question_id":11118237,"body_markdown":"Try to download binary zip (for ex. Maven 3.0.5 (Binary zip)) instead of complete source in official maven site.\r\nAlso make sure that command line recognizes java and javac commands.\r\nI noticed that Maven Source zip didn&#39;t include any libraries at lib folder however Binary zip had them + in boot folder it had plexus-classworlds-2.4.jar. Perhaps the problem was with the absence of these libraries. Anyway it helped me so my M2_HOME is: C:\\Program Files\\Java\\apache-maven-3.0.5 and at PATH I put: C:\\Program Files\\Java\\apache-maven-3.0.5\\bin.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Try to download binary zip (for ex. Maven 3.0.5 (Binary zip)) instead of complete source in official maven site.\nAlso make sure that command line recognizes java and javac commands.\nI noticed that Maven Source zip didn't include any libraries at lib folder however Binary zip had them + in boot folder it had plexus-classworlds-2.4.jar. Perhaps the problem was with the absence of these libraries. Anyway it helped me so my M2_HOME is: C:\\Program Files\\Java\\apache-maven-3.0.5 and at PATH I put: C:\\Program Files\\Java\\apache-maven-3.0.5\\bin.</p>\n"},{"tags":[],"owner":{"account_id":484929,"reputation":1993,"user_id":900924,"display_name":"wu liang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425373663,"creation_date":1425373663,"answer_id":28827809,"question_id":11118237,"body_markdown":"I find this issue in my centOS is caused by &quot;Oracle Java is replace by gcj&quot;, after change default java to &quot;Oracle Java&quot;, the issue is resolved.\r\n\r\n\r\n    alternatives --config java\r\n    \r\n    There are 2 programs which provide &#39;java&#39;.\r\n    \r\n      Selection    Command\r\n    -----------------------------------------------\r\n    *  1           /usr/lib/jvm/jre-1.5.0-gcj/bin/java\r\n     + 2           /usr/java/jdk1.7.0_67/bin/java","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I find this issue in my centOS is caused by \"Oracle Java is replace by gcj\", after change default java to \"Oracle Java\", the issue is resolved.</p>\n\n<pre><code>alternatives --config java\n\nThere are 2 programs which provide 'java'.\n\n  Selection    Command\n-----------------------------------------------\n*  1           /usr/lib/jvm/jre-1.5.0-gcj/bin/java\n + 2           /usr/java/jdk1.7.0_67/bin/java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3805046,"reputation":1192,"user_id":3157709,"accept_rate":28,"display_name":"Hammad Hassan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440052443,"creation_date":1440052443,"answer_id":32111076,"question_id":11118237,"body_markdown":"It look like that you have installed Source files(Because `src` only comes in Source Files and we don&#39;t need it). Try to install **Binary Files** from\r\n[there](https://maven.apache.org/download.cgi).\r\nAnd then set environment variables as described\r\n[there](http://www.mkyong.com/maven/how-to-install-maven-in-windows/).\r\nThis worked for me. And I am sure it will also work for you.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>It look like that you have installed Source files(Because <code>src</code> only comes in Source Files and we don't need it). Try to install <strong>Binary Files</strong> from\n<a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow\">there</a>.\nAnd then set environment variables as described\n<a href=\"http://www.mkyong.com/maven/how-to-install-maven-in-windows/\" rel=\"nofollow\">there</a>.\nThis worked for me. And I am sure it will also work for you.</p>\n"},{"tags":[],"owner":{"account_id":1798893,"reputation":13116,"user_id":1637673,"accept_rate":63,"display_name":"Mithril"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446781321,"creation_date":1446781321,"answer_id":33559093,"question_id":11118237,"body_markdown":"I think you download the wrong version.\r\nI meet this problem just now, no method work after searching and searching.\r\nFinally, I found that maven I downloaded is [Source zip archive][2].\r\nAfter I change to [Binary zip archive][1], everything go to be fine.\r\n\r\n\r\n  [1]: http://mirrors.cnnic.cn/apache/maven/maven-3/3.3.3/binaries/apache-maven-3.3.3-bin.zip\r\n  [2]: http://mirrors.cnnic.cn/apache/maven/maven-3/3.3.3/source/apache-maven-3.3.3-src.zip","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I think you download the wrong version.\nI meet this problem just now, no method work after searching and searching.\nFinally, I found that maven I downloaded is <a href=\"http://mirrors.cnnic.cn/apache/maven/maven-3/3.3.3/source/apache-maven-3.3.3-src.zip\" rel=\"nofollow\">Source zip archive</a>.\nAfter I change to <a href=\"http://mirrors.cnnic.cn/apache/maven/maven-3/3.3.3/binaries/apache-maven-3.3.3-bin.zip\" rel=\"nofollow\">Binary zip archive</a>, everything go to be fine.</p>\n"},{"tags":[],"owner":{"account_id":1988549,"reputation":12047,"user_id":1783163,"accept_rate":97,"display_name":"peterh"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1453309739,"creation_date":1453309739,"answer_id":34906223,"question_id":11118237,"body_markdown":"Next to the maybe useful, but maybe too symptomatic answers, here is one which tries to help to find the cause of the problem.\r\n\r\nMaven is a command-line java tool. That means, it is not a standalone binary, it is a collection of java `.jar`s, interpreted by a jvm (`java.exe` on windows, `java` on linux).\r\n\r\nThe `mvn` command, is a script. On windows, it is a script called `mvn.cmd` and on linux, it is a shell script. Thus, if you write: `mvn install`, what will happen:\r\n\r\n1. a command interpreter (`/bin/sh` or `cmd.exe`) is called for the actual invoking script\r\n2. this script sets the needed environment variables\r\n3. and finally, it calls a java interpreter with the the required classpath which contain the maven functionality.\r\n\r\nThe problem is with (2). Fortunately, this script is simply, very simple. For a java programmer it shouldn&#39;t be a big trouble to debug a script around 20 lines, even if it is a little bit alien language.\r\n\r\nOn linux, you can debug shellscripts giving the `-x` flag to your shell interpreter (which is most probably `bash`). On windows, you have to find some other way to debug a `cmd.exe` script. So, instead of `mvn install`, give the command `bash -x mvn install`.\r\n\r\nThe result be like:\r\n\r\n    + &#39;[&#39; -z &#39;&#39; &#39;]&#39;\r\n    + &#39;[&#39; -f /etc/mavenrc &#39;]&#39;\r\n    + &#39;[&#39; -f /home/picsa/.mavenrc &#39;]&#39;\r\n    + cygwin=true\r\n    + darwin=false\r\n\r\n...not so many things...\r\n\r\n    + MAVEN_PROJECTBASEDIR=&#39;C:\\peter\\bin&#39;\r\n    + export MAVEN_PROJECTBASEDIR\r\n    + MAVEN_CMD_LINE_ARGS=&#39; &#39;\r\n    + export MAVEN_CMD_LINE_ARGS\r\n    + exec &#39;/cygdrive/c/Program Files/Java/jdk1.8.0_66/bin/java&#39; -classpath &#39;C:\\peter/boot/plexus-classworlds-*.jar&#39; &#39;-Dclassworlds.conf=C:\\peter/bin/m2.conf&#39; &#39;-Dmaven.home=C:\\peter&#39; &#39;-Dmaven.multiModuleProjectDirectory=C:\\peter\\bin&#39; org.codehaus.plexus.classworlds.launcher.Launcher\r\n    Fehler: Hauptklasse org.codehaus.plexus.classworlds.launcher.Launcher konnte nicht gefunden oder geladen werden\r\n\r\nAt the end, you can easily test, which environment variable gone bad, and you can very easily fix your script (or set it what is needed).","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Next to the maybe useful, but maybe too symptomatic answers, here is one which tries to help to find the cause of the problem.</p>\n\n<p>Maven is a command-line java tool. That means, it is not a standalone binary, it is a collection of java <code>.jar</code>s, interpreted by a jvm (<code>java.exe</code> on windows, <code>java</code> on linux).</p>\n\n<p>The <code>mvn</code> command, is a script. On windows, it is a script called <code>mvn.cmd</code> and on linux, it is a shell script. Thus, if you write: <code>mvn install</code>, what will happen:</p>\n\n<ol>\n<li>a command interpreter (<code>/bin/sh</code> or <code>cmd.exe</code>) is called for the actual invoking script</li>\n<li>this script sets the needed environment variables</li>\n<li>and finally, it calls a java interpreter with the the required classpath which contain the maven functionality.</li>\n</ol>\n\n<p>The problem is with (2). Fortunately, this script is simply, very simple. For a java programmer it shouldn't be a big trouble to debug a script around 20 lines, even if it is a little bit alien language.</p>\n\n<p>On linux, you can debug shellscripts giving the <code>-x</code> flag to your shell interpreter (which is most probably <code>bash</code>). On windows, you have to find some other way to debug a <code>cmd.exe</code> script. So, instead of <code>mvn install</code>, give the command <code>bash -x mvn install</code>.</p>\n\n<p>The result be like:</p>\n\n<pre><code>+ '[' -z '' ']'\n+ '[' -f /etc/mavenrc ']'\n+ '[' -f /home/picsa/.mavenrc ']'\n+ cygwin=true\n+ darwin=false\n</code></pre>\n\n<p>...not so many things...</p>\n\n<pre><code>+ MAVEN_PROJECTBASEDIR='C:\\peter\\bin'\n+ export MAVEN_PROJECTBASEDIR\n+ MAVEN_CMD_LINE_ARGS=' '\n+ export MAVEN_CMD_LINE_ARGS\n+ exec '/cygdrive/c/Program Files/Java/jdk1.8.0_66/bin/java' -classpath 'C:\\peter/boot/plexus-classworlds-*.jar' '-Dclassworlds.conf=C:\\peter/bin/m2.conf' '-Dmaven.home=C:\\peter' '-Dmaven.multiModuleProjectDirectory=C:\\peter\\bin' org.codehaus.plexus.classworlds.launcher.Launcher\nFehler: Hauptklasse org.codehaus.plexus.classworlds.launcher.Launcher konnte nicht gefunden oder geladen werden\n</code></pre>\n\n<p>At the end, you can easily test, which environment variable gone bad, and you can very easily fix your script (or set it what is needed).</p>\n"},{"tags":[],"owner":{"account_id":9978701,"reputation":21,"user_id":7382339,"display_name":"vinoth kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484646258,"creation_date":1484646258,"answer_id":41693734,"question_id":11118237,"body_markdown":"Me too faced the similar issue. But in my case I used apache-maven-3.3.3-src folder in path variables. Later I corrected those with correct path of folder apache-maven-3.3.3-bin. This resolved the issue. Am not telling that is the same error reported here but this way also you can get this error and rectify it. That is what I am trying to say here.\r\n","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Me too faced the similar issue. But in my case I used apache-maven-3.3.3-src folder in path variables. Later I corrected those with correct path of folder apache-maven-3.3.3-bin. This resolved the issue. Am not telling that is the same error reported here but this way also you can get this error and rectify it. That is what I am trying to say here.</p>\n"},{"tags":[],"owner":{"account_id":200555,"reputation":4778,"user_id":446464,"accept_rate":77,"display_name":"JESii"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1487218313,"creation_date":1487218313,"answer_id":42264796,"question_id":11118237,"body_markdown":"The solution for later versions of Maven is straight-forward. I am on OS X ElCap, 10.11.6 and upgraded to Maven 3.3.9. I had the same problem with error &quot;`Could not find ...org.codehaus.plexus...`&quot;. The link provided [here][1] offered the solution in a comment by McKamey - simply delete M2_HOME (`unset M2_HOME`). Once I tried that, it all worked as expected. \r\n\r\nThis can be confirmed by visiting the `Maven install page`: &quot;Add the bin directory of the created directory apache-maven-3.3.9 to the PATH environment variable&quot; -- no mention of M2_HOME or M3_HOME at all.\r\n\r\n\r\n  [1]: http://www.johnlabarge.com/post/33156663109/dreaded-maven-error-could-not-find-or-load-main","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>The solution for later versions of Maven is straight-forward. I am on OS X ElCap, 10.11.6 and upgraded to Maven 3.3.9. I had the same problem with error \"<code>Could not find ...org.codehaus.plexus...</code>\". The link provided <a href=\"http://www.johnlabarge.com/post/33156663109/dreaded-maven-error-could-not-find-or-load-main\" rel=\"noreferrer\">here</a> offered the solution in a comment by McKamey - simply delete M2_HOME (<code>unset M2_HOME</code>). Once I tried that, it all worked as expected. </p>\n\n<p>This can be confirmed by visiting the <code>Maven install page</code>: \"Add the bin directory of the created directory apache-maven-3.3.9 to the PATH environment variable\" -- no mention of M2_HOME or M3_HOME at all.</p>\n"},{"tags":[],"owner":{"account_id":7781494,"reputation":537,"user_id":5887766,"display_name":"Shaini Sinha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501752012,"creation_date":1501752012,"answer_id":45479974,"question_id":11118237,"body_markdown":"Just make sure you&#39;ve downloaded Binary zip archive(apache-maven-3.5.0-bin.zip) instead of Source zip archive. Then add the bin directory of the created directory apache-maven-3.5.0 to the PATH environment variable.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Just make sure you've downloaded Binary zip archive(apache-maven-3.5.0-bin.zip) instead of Source zip archive. Then add the bin directory of the created directory apache-maven-3.5.0 to the PATH environment variable.</p>\n"},{"tags":[],"owner":{"account_id":4438311,"reputation":571,"user_id":3613535,"display_name":"saravp"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1514212403,"creation_date":1514212403,"answer_id":47969545,"question_id":11118237,"body_markdown":"I believe this error caused because of downloading SRC instead of BINARY from Maven site. Please make sure to download Binary zip.\r\n\r\nBecause the below path, you will get only when you download SRC:\r\n\r\n&gt; M2_HOME C:\\apache-maven-3.0.4\\apache-maven\\src\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AJaKj.jpg","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I believe this error caused because of downloading SRC instead of BINARY from Maven site. Please make sure to download Binary zip.</p>\n\n<p>Because the below path, you will get only when you download SRC:</p>\n\n<blockquote>\n  <p>M2_HOME C:\\apache-maven-3.0.4\\apache-maven\\src</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/AJaKj.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AJaKj.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3392135,"reputation":101,"user_id":2846748,"display_name":"Sreekanth"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1531765371,"creation_date":1531765371,"answer_id":51367951,"question_id":11118237,"body_markdown":"For most of the Maven setup issues something like &quot;Could not find or load main class...&quot;, start-with below steps to see if that fixes:\r\n\r\n - Make sure you unzipped the right archive (BINARY archive and not SOURCE archive)\r\n - Remove all user and system variables related to Maven (ex. M2_HOME,M2_OPTS etc.)\r\n - Make sure JAVA_HOME system variable is setup  (ex. &quot;C:\\Program Files\\Java\\jdk1.8.0_172&quot;)\r\n - Make sure java bin location is added in &quot;path&quot; system variable (ex. &quot;%JAVA_HOME%\\bin&quot;)\r\n - Make sure maven bin location is added in &quot;path&quot; system variable (ex. &quot;C:\\MyInstalls\\apache-maven-3.5.4\\bin&quot;)\r\n\r\nthen...\r\n\r\n - Verify java is setup (at commandprompt : java -version)\r\n - Verify maven is setup (at commandprompt : mvn --version)\r\n\r\n\r\n","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>For most of the Maven setup issues something like \"Could not find or load main class...\", start-with below steps to see if that fixes:</p>\n\n<ul>\n<li>Make sure you unzipped the right archive (BINARY archive and not SOURCE archive)</li>\n<li>Remove all user and system variables related to Maven (ex. M2_HOME,M2_OPTS etc.)</li>\n<li>Make sure JAVA_HOME system variable is setup  (ex. \"C:\\Program Files\\Java\\jdk1.8.0_172\")</li>\n<li>Make sure java bin location is added in \"path\" system variable (ex. \"%JAVA_HOME%\\bin\")</li>\n<li>Make sure maven bin location is added in \"path\" system variable (ex. \"C:\\MyInstalls\\apache-maven-3.5.4\\bin\")</li>\n</ul>\n\n<p>then...</p>\n\n<ul>\n<li>Verify java is setup (at commandprompt : java -version)</li>\n<li>Verify maven is setup (at commandprompt : mvn --version)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542642920,"creation_date":1542642920,"answer_id":53378345,"question_id":11118237,"body_markdown":"I had this problem when I used Maven 3.5.4 on OpenJDK 11 on Ubuntu. The OpenJDK 11 on Ubuntu is actually still a JDK10:\r\n\r\n    $ ls -al /etc/alternatives/java\r\n    lrwxrwxrwx 1 root root 43 Aug 24 04:54 /etc/alternatives/java -&gt; /usr/lib/jvm/java-11-openjdk-amd64/bin/java\r\n    $ java --version\r\n    openjdk 10.0.2 2018-07-17\r\n    OpenJDK Runtime Environment (build 10.0.2+13-Ubuntu-1ubuntu0.18.04.3)\r\n    OpenJDK 64-Bit Server VM (build 10.0.2+13-Ubuntu-1ubuntu0.18.04.3, mixed mode)\r\n\r\nI installed OpenJDK from Oracle into /opt/jdk-11.0.1 and run Maven like this:\r\n\r\n    JAVA_HOME=/opt/jdk-11.0.1 mvn\r\n\r\nIt now works like a charm.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I had this problem when I used Maven 3.5.4 on OpenJDK 11 on Ubuntu. The OpenJDK 11 on Ubuntu is actually still a JDK10:</p>\n\n<pre><code>$ ls -al /etc/alternatives/java\nlrwxrwxrwx 1 root root 43 Aug 24 04:54 /etc/alternatives/java -&gt; /usr/lib/jvm/java-11-openjdk-amd64/bin/java\n$ java --version\nopenjdk 10.0.2 2018-07-17\nOpenJDK Runtime Environment (build 10.0.2+13-Ubuntu-1ubuntu0.18.04.3)\nOpenJDK 64-Bit Server VM (build 10.0.2+13-Ubuntu-1ubuntu0.18.04.3, mixed mode)\n</code></pre>\n\n<p>I installed OpenJDK from Oracle into /opt/jdk-11.0.1 and run Maven like this:</p>\n\n<pre><code>JAVA_HOME=/opt/jdk-11.0.1 mvn\n</code></pre>\n\n<p>It now works like a charm.</p>\n"},{"tags":[],"owner":{"account_id":2328194,"reputation":53,"user_id":2042177,"display_name":"Coolius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543225329,"creation_date":1543225329,"answer_id":53478323,"question_id":11118237,"body_markdown":"I had a problem with surefire plugin itself. Going back to version 2.6 worked for me. Version 2.18/20/22.1 gave me the error.\r\nNow I tried version 3.0.0-M1 of surefire plugin and it works.\r\n\r\nSo something is wrong in surefire plgin between version 2.6 and 3.0.0. I assume there is something hardcoded as default which should not.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I had a problem with surefire plugin itself. Going back to version 2.6 worked for me. Version 2.18/20/22.1 gave me the error.\nNow I tried version 3.0.0-M1 of surefire plugin and it works.</p>\n\n<p>So something is wrong in surefire plgin between version 2.6 and 3.0.0. I assume there is something hardcoded as default which should not.</p>\n"},{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543865480,"creation_date":1543865480,"answer_id":53600612,"question_id":11118237,"body_markdown":"For me, funny as it sounds, it helped just restarting `eclipse`...","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>For me, funny as it sounds, it helped just restarting <code>eclipse</code>...</p>\n"},{"tags":[],"owner":{"account_id":6850508,"reputation":26,"user_id":5267823,"display_name":"Aberaitius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552290474,"creation_date":1552290474,"answer_id":55097280,"question_id":11118237,"body_markdown":"This worked for me:\r\n\r\n 1. Remove all Mavin references in Environment Variables\r\n 2. Download the **Binary** from mavin\r\n 3. Unzip it to where you&#39;d like ex: C:\\apache-maven-3.6.0\r\n 4. Go to Environment variables and add to **System** variable path &quot;C:\\apache-maven-3.6.0\\bin&quot;\r\n 5. start command prompt as Administrator \r\n 6. check version with: mvn -v\r\n\r\nCMD Result:\r\n\r\nApache Maven 3.6.0 (97c98ec64a1fdfee7767ce5ffb20918da4f719f3; 2018-10-24T20:41:47+02:00)\r\nMaven home: C:\\apache-maven-3.6.0\\bin\\..\r\n\r\n\r\n\r\n\r\n\r\n","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>This worked for me:</p>\n\n<ol>\n<li>Remove all Mavin references in Environment Variables</li>\n<li>Download the <strong>Binary</strong> from mavin</li>\n<li>Unzip it to where you'd like ex: C:\\apache-maven-3.6.0</li>\n<li>Go to Environment variables and add to <strong>System</strong> variable path \"C:\\apache-maven-3.6.0\\bin\"</li>\n<li>start command prompt as Administrator </li>\n<li>check version with: mvn -v</li>\n</ol>\n\n<p>CMD Result:</p>\n\n<p>Apache Maven 3.6.0 (97c98ec64a1fdfee7767ce5ffb20918da4f719f3; 2018-10-24T20:41:47+02:00)\nMaven home: C:\\apache-maven-3.6.0\\bin..</p>\n"},{"tags":[],"owner":{"account_id":6374226,"reputation":351,"user_id":4945738,"display_name":"Bharath Kumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564656157,"creation_date":1564656157,"answer_id":57307223,"question_id":11118237,"body_markdown":"install binary version of maven fixes the issues\r\n\r\napache-maven-3.6.1-bin.zip\r\n","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>install binary version of maven fixes the issues</p>\n\n<p>apache-maven-3.6.1-bin.zip</p>\n"},{"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1565824355,"creation_date":1565824355,"answer_id":57503126,"question_id":11118237,"body_markdown":"Open a new terminal and do the followin\r\n\r\n    M2_HOME=/Users/macbook/apache-maven-3.6.1 //Set where maven is\r\n    M2=$M2_HOME/bin                          //Set home as bin\r\n    export PATH=$M2:$PATH                   //Place the new path\r\n\r\nThen type\r\n\r\n    mvn -version\r\n\r\nYou can set this in `./bash_profile` to do it automatically each time you run the terminal","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Open a new terminal and do the followin</p>\n\n<pre><code>M2_HOME=/Users/macbook/apache-maven-3.6.1 //Set where maven is\nM2=$M2_HOME/bin                          //Set home as bin\nexport PATH=$M2:$PATH                   //Place the new path\n</code></pre>\n\n<p>Then type</p>\n\n<pre><code>mvn -version\n</code></pre>\n\n<p>You can set this in <code>./bash_profile</code> to do it automatically each time you run the terminal</p>\n"},{"tags":[],"owner":{"account_id":7608155,"reputation":31,"user_id":5770075,"display_name":"Venkata Rajeev Mandava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585805985,"creation_date":1585805985,"answer_id":60984867,"question_id":11118237,"body_markdown":"I also faced the following Error in my system (Mac)\r\n\r\n**Error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher**\r\n\r\nAfter doing some random browsing, I came across the link &quot;http://maven.apache.org/install.html&quot; that says &quot;JAVA_HOME&quot; should be set to &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/jre&quot;.\r\n\r\nWhen I changed &quot;JAVA_HOME&quot; as stated above in &quot;.bash_profile&quot;, &quot;mvn&quot; command started working but &quot;javac -version&quot; command stopped working.\r\n\r\nWhen I typed &quot;javac -version&quot; command, I got the following error\r\n\r\n**Unable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/jre/bin/javac&quot; (-1)**\r\n\r\nHence I rolled back my &quot;JAVA_HOME&quot; to &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home&quot; in &quot;.bash_profile&quot; and added the following line at the top in &quot;mvn&quot; script\r\n\r\n**export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/jre**\r\n\r\nNow both &quot;mvn&quot; and &quot;javac&quot; commands worked properly, but after careful observation of the mvn script, I could not make the difference between the following commands\r\n\r\n/Library/Java/JavaVirtualMachines/**jdk1.8.0_45.jdk/Contents/Home/bin/java** -classpath /Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/boot/plexus-classworlds-2.6.0.jar -Dclassworlds.conf=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/bin/m2.conf -Dmaven.home=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1 -Dlibrary.jansi.path=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/lib/jansi-native -Dmaven.multiModuleProjectDirectory=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/bin org.codehaus.plexus.classworlds.launcher.Launcher\r\n\r\n/Library/Java/JavaVirtualMachines/**jdk1.8.0_45.jdk/Contents/Home/jre/bin/java** -classpath /Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/boot/plexus-classworlds-2.6.0.jar -Dclassworlds.conf=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/bin/m2.conf -Dmaven.home=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1 -Dlibrary.jansi.path=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/lib/jansi-native -Dmaven.multiModuleProjectDirectory=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/bin org.codehaus.plexus.classworlds.launcher.Launcher\r\n\r\nIn the above the first command caused the following error \r\n\r\n**Error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher**\r\n\r\nwhile the second command worked fine.\r\nPlease Note that both the above paths have &quot;java&quot; command while one is from &quot;jre&quot; the other is from &quot;jdk&quot;\r\n\r\nOther global variables are as following in &quot;.bash_profile&quot;\r\n\r\nexport M2_HOME=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1\r\n\r\nexport PATH=$PATH:$M2_HOME/bin","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I also faced the following Error in my system (Mac)</p>\n\n<p><strong>Error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher</strong></p>\n\n<p>After doing some random browsing, I came across the link \"<a href=\"http://maven.apache.org/install.html\" rel=\"nofollow noreferrer\">http://maven.apache.org/install.html</a>\" that says \"JAVA_HOME\" should be set to \"/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/jre\".</p>\n\n<p>When I changed \"JAVA_HOME\" as stated above in \".bash_profile\", \"mvn\" command started working but \"javac -version\" command stopped working.</p>\n\n<p>When I typed \"javac -version\" command, I got the following error</p>\n\n<p><strong>Unable to locate an executable at \"/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/jre/bin/javac\" (-1)</strong></p>\n\n<p>Hence I rolled back my \"JAVA_HOME\" to \"/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home\" in \".bash_profile\" and added the following line at the top in \"mvn\" script</p>\n\n<p><strong>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/jre</strong></p>\n\n<p>Now both \"mvn\" and \"javac\" commands worked properly, but after careful observation of the mvn script, I could not make the difference between the following commands</p>\n\n<p>/Library/Java/JavaVirtualMachines/<strong>jdk1.8.0_45.jdk/Contents/Home/bin/java</strong> -classpath /Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/boot/plexus-classworlds-2.6.0.jar -Dclassworlds.conf=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/bin/m2.conf -Dmaven.home=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1 -Dlibrary.jansi.path=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/lib/jansi-native -Dmaven.multiModuleProjectDirectory=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/bin org.codehaus.plexus.classworlds.launcher.Launcher</p>\n\n<p>/Library/Java/JavaVirtualMachines/<strong>jdk1.8.0_45.jdk/Contents/Home/jre/bin/java</strong> -classpath /Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/boot/plexus-classworlds-2.6.0.jar -Dclassworlds.conf=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/bin/m2.conf -Dmaven.home=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1 -Dlibrary.jansi.path=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/lib/jansi-native -Dmaven.multiModuleProjectDirectory=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/bin org.codehaus.plexus.classworlds.launcher.Launcher</p>\n\n<p>In the above the first command caused the following error </p>\n\n<p><strong>Error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher</strong></p>\n\n<p>while the second command worked fine.\nPlease Note that both the above paths have \"java\" command while one is from \"jre\" the other is from \"jdk\"</p>\n\n<p>Other global variables are as following in \".bash_profile\"</p>\n\n<p>export M2_HOME=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1</p>\n\n<p>export PATH=$PATH:$M2_HOME/bin</p>\n"},{"tags":[],"owner":{"account_id":6557464,"reputation":4145,"user_id":5069746,"accept_rate":50,"display_name":"Kshitij Kohli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648810197,"creation_date":1648810197,"answer_id":71705719,"question_id":11118237,"body_markdown":"Was able to solve this issue by deleting the downloaded maven in my machine (  /Users/kkohli/Desktop/Personal/Code/Java/apache-maven-3.6.3 ) and re-downloading the binary version from the apache site. Did not modify any other bashprofile file etc ( My M2_HOME, JAVA_HOME etc are set inside my bashprofile)","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Was able to solve this issue by deleting the downloaded maven in my machine (  /Users/kkohli/Desktop/Personal/Code/Java/apache-maven-3.6.3 ) and re-downloading the binary version from the apache site. Did not modify any other bashprofile file etc ( My M2_HOME, JAVA_HOME etc are set inside my bashprofile)</p>\n"},{"tags":[],"owner":{"account_id":6234233,"reputation":119,"user_id":4850014,"display_name":"samson ojo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661630691,"creation_date":1661630141,"answer_id":73514012,"question_id":11118237,"body_markdown":"I ran into the same error. Below is what happen. \r\n\r\nI introduced an error by mistake. So, instead of separating each PATH with semicolon\r\n\r\n&gt; (;)\r\n\r\n I separated it with column\r\n\r\n&gt; (:)\r\n\r\n hence the reason for the error below:\r\n\r\nError: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher\r\n\r\nAfter realising my mistake I changed the path from this:\r\n\r\n    export PATH=&quot;/Users/samo/Downloads/apache-maven-3.8.6/bin:$PATH:/Users/samo/Documents/flutter/bin&quot;\r\n\r\nto this:\r\n\r\n    export PATH=&quot;/Users/samo/Downloads/apache-maven-3.8.6/bin;$PATH:/Users/samo/Documents/flutter/bin&quot;\r\n\r\n\r\nAfter which everything started working.\r\n\r\nSo, please check that you are not making the same/similar mistake","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I ran into the same error. Below is what happen.</p>\n<p>I introduced an error by mistake. So, instead of separating each PATH with semicolon</p>\n<blockquote>\n<p>(;)</p>\n</blockquote>\n<p>I separated it with column</p>\n<blockquote>\n<p>(:)</p>\n</blockquote>\n<p>hence the reason for the error below:</p>\n<p>Error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher</p>\n<p>After realising my mistake I changed the path from this:</p>\n<pre><code>export PATH=&quot;/Users/samo/Downloads/apache-maven-3.8.6/bin:$PATH:/Users/samo/Documents/flutter/bin&quot;\n</code></pre>\n<p>to this:</p>\n<pre><code>export PATH=&quot;/Users/samo/Downloads/apache-maven-3.8.6/bin;$PATH:/Users/samo/Documents/flutter/bin&quot;\n</code></pre>\n<p>After which everything started working.</p>\n<p>So, please check that you are not making the same/similar mistake</p>\n"},{"tags":[],"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666870709,"creation_date":1666870709,"answer_id":74221450,"question_id":11118237,"body_markdown":"step1: Install JDK and Set up JAVA_HOME\r\n\r\nStep2: then download the maven from [https://maven.apache.org/download.cgi][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://maven.apache.org/download.cgi\r\n  [2]: https://i.stack.imgur.com/qHRiF.png\r\n\r\nStep3: Follow these steps to add the MAVEN_HOME environment variable\r\n\r\nClick on the New button and put MAVEN_HOME as variable name and C:\\Users\\fazal\\soft\\apache-maven-3.8.6 as variable value\r\n\r\nthen Add %MAVEN_HOME%\\bin to the PATH\r\n\r\nStep4: check again \r\n\r\n&gt; mvn -version","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>step1: Install JDK and Set up JAVA_HOME</p>\n<p>Step2: then download the maven from <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">https://maven.apache.org/download.cgi</a>\n<a href=\"https://i.stack.imgur.com/qHRiF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qHRiF.png\" alt=\"enter image description here\" /></a></p>\n<p>Step3: Follow these steps to add the MAVEN_HOME environment variable</p>\n<p>Click on the New button and put MAVEN_HOME as variable name and C:\\Users\\fazal\\soft\\apache-maven-3.8.6 as variable value</p>\n<p>then Add %MAVEN_HOME%\\bin to the PATH</p>\n<p>Step4: check again</p>\n<blockquote>\n<p>mvn -version</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":20658998,"reputation":567,"user_id":15167371,"display_name":"shamnad sherief"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683625756,"creation_date":1683625756,"answer_id":76207987,"question_id":11118237,"body_markdown":"For a windows machine I cleared the error by downloading the tar.gz file and added the path after extracting the content to Programming files folder","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>For a windows machine I cleared the error by downloading the tar.gz file and added the path after extracting the content to Programming files folder</p>\n"}],"owner":{"account_id":426618,"reputation":1583,"user_id":807916,"accept_rate":17,"display_name":"manofsins"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339890,"favorite_count":0,"down_vote_count":0,"up_vote_count":145,"answer_count":34,"score":145,"last_activity_date":1683625756,"creation_date":1340190506,"question_id":11118237,"body_markdown":"I have installed a latest `maven-3.0.4` on *Windows 7*:  \r\nThe installation details are as follows:  \r\nInstallation Path :  \r\n\r\n    C:\\apache-maven-3.0.4  \r\n\r\nEnvironment Variables are:  \r\n\r\n    M2_HOME C:\\apache-maven-3.0.4\\apache-maven\\src  \r\n    JAVA_HOME C:\\Program Files\\Java\\jdk-1.7.0_04  \r\n\r\nPath variables added are:  \r\n\r\n    %M2_HOME%\\bin;%JAVA_HOME%\\bin;\r\n\r\n  \r\nIn the command window it shows it like this:  \r\n\r\n    C:\\&gt;java -version  \r\n    java version &quot;1.7.0_04&quot;  \r\n    Java(TM) SE Runtime Environment (build 1.7.0_04-b22)  \r\n    Java HotSpot(TM) Client VM (build 23.0-b21, mixed mode, sharing)  \r\n    C:\\&gt;mvn -version  \r\n    Error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher  \r\n\r\nThis is the only version on maven installed on my PC and the solution given on many blogs referring to the deletion of the previous `M2_HOME` environment variable is not valid. \r\n\r\nI have read and tried all the solutions given at blogs such as : \r\n \r\n- [oracle blog](https://blogs.oracle.com/sreekanth/entry/java_lang_noclassdeffounderror_org_codehaus),  \r\n- [stackoverflow question](https://stackoverflow.com/questions/8139115/new-maven-install-mvn-version-java-lang-classnotfoundexception),  \r\n- [another stack question](https://stackoverflow.com/questions/6305795/problems-setting-up-maven),  \r\n- [some blog](http://www.permeance.com.au/web/terry.mueller/home/-/blogs/maven2-reports-java-lang-noclassdeffounderror:-org-codehaus-classworlds-launcher),  \r\n\r\nBut I&#39;m still not able to get to it. What I might be missing in this whole thing?","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I have installed a latest <code>maven-3.0.4</code> on <em>Windows 7</em>:<br />\nThe installation details are as follows:<br />\nInstallation Path :</p>\n<pre><code>C:\\apache-maven-3.0.4  \n</code></pre>\n<p>Environment Variables are:</p>\n<pre><code>M2_HOME C:\\apache-maven-3.0.4\\apache-maven\\src  \nJAVA_HOME C:\\Program Files\\Java\\jdk-1.7.0_04  \n</code></pre>\n<p>Path variables added are:</p>\n<pre><code>%M2_HOME%\\bin;%JAVA_HOME%\\bin;\n</code></pre>\n<p>In the command window it shows it like this:</p>\n<pre><code>C:\\&gt;java -version  \njava version &quot;1.7.0_04&quot;  \nJava(TM) SE Runtime Environment (build 1.7.0_04-b22)  \nJava HotSpot(TM) Client VM (build 23.0-b21, mixed mode, sharing)  \nC:\\&gt;mvn -version  \nError: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher  \n</code></pre>\n<p>This is the only version on maven installed on my PC and the solution given on many blogs referring to the deletion of the previous <code>M2_HOME</code> environment variable is not valid.</p>\n<p>I have read and tried all the solutions given at blogs such as :</p>\n<ul>\n<li><a href=\"https://blogs.oracle.com/sreekanth/entry/java_lang_noclassdeffounderror_org_codehaus\" rel=\"nofollow noreferrer\">oracle blog</a>,</li>\n<li><a href=\"https://stackoverflow.com/questions/8139115/new-maven-install-mvn-version-java-lang-classnotfoundexception\">stackoverflow question</a>,</li>\n<li><a href=\"https://stackoverflow.com/questions/6305795/problems-setting-up-maven\">another stack question</a>,</li>\n<li><a href=\"http://www.permeance.com.au/web/terry.mueller/home/-/blogs/maven2-reports-java-lang-noclassdeffounderror:-org-codehaus-classworlds-launcher\" rel=\"nofollow noreferrer\">some blog</a>,</li>\n</ul>\n<p>But I'm still not able to get to it. What I might be missing in this whole thing?</p>\n"},{"tags":["java","appium","android-uiautomator"],"comments":[{"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"score":0,"creation_date":1680786614,"post_id":75947817,"comment_id":133959113,"body_markdown":"Can you please try to increase the `uiautomator2ServerLaunchTimeout` time to `15000` or more as per observed from the logs you shared?","body":"Can you please try to increase the <code>uiautomator2ServerLaunchTimeout</code> time to <code>15000</code> or more as per observed from the logs you shared?"},{"owner":{"account_id":28230281,"reputation":11,"user_id":21579606,"display_name":"Grzeche"},"score":0,"creation_date":1680847925,"post_id":75947817,"comment_id":133969108,"body_markdown":"@BipinKumarChaurasia Hi, I did that and it didn&#39;t help. I increased it to as much as `240000`. It still fails, just takes more time before app timeouts","body":"@BipinKumarChaurasia Hi, I did that and it didn&#39;t help. I increased it to as much as <code>240000</code>. It still fails, just takes more time before app timeouts"},{"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"score":0,"creation_date":1680867055,"post_id":75947817,"comment_id":133972309,"body_markdown":"Which real mobile device are you using? Can you please share the model information along with android OS version?","body":"Which real mobile device are you using? Can you please share the model information along with android OS version?"}],"answers":[{"tags":[],"owner":{"account_id":28230281,"reputation":11,"user_id":21579606,"display_name":"Grzeche"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683625513,"creation_date":1683625513,"answer_id":76207948,"question_id":75947817,"body_markdown":"So I found a resolution to my problem. I used \r\n```\r\nUiAutomator2Options.setRemoteAdbHost(&quot;localhost&quot;) \r\n```\r\nand that&#39;s where the issue was. I don&#39;t really know why, as &quot;localhost&quot; is the default value. But changing it to \r\n```\r\nUiAutomator2Options.setRemoteAdbHost(&quot;127.0.0.1&quot;) \r\n``` \r\nfixed the issue for me. The session is correctly started.","title":"Cannot set AndroidDriver. AndroidUIAutomator2 cannot start a new session, with response code 500","body":"<p>So I found a resolution to my problem. I used</p>\n<pre><code>UiAutomator2Options.setRemoteAdbHost(&quot;localhost&quot;) \n</code></pre>\n<p>and that's where the issue was. I don't really know why, as &quot;localhost&quot; is the default value. But changing it to</p>\n<pre><code>UiAutomator2Options.setRemoteAdbHost(&quot;127.0.0.1&quot;) \n</code></pre>\n<p>fixed the issue for me. The session is correctly started.</p>\n"}],"owner":{"account_id":28230281,"reputation":11,"user_id":21579606,"display_name":"Grzeche"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683625513,"creation_date":1680772649,"question_id":75947817,"body_markdown":"I&#39;m using Appium 2.0.0-beta.61 and AndroidUiAutomator2, and when I try to start the Android driver, it fails, returning Response Code 500. I tried removing the Appium server app from the device and using a different device like other threads suggested but it doesn&#39;t help.  \r\n\r\nIncreasing the *uiautomator2ServerLaunchTimeout* also didn&#39;t help.\r\n\r\n```\r\n[AndroidUiautomator2Driver@9c56 (e03bdf49)] The instrumentation process cannot be initialized within 120000ms timeout. Make sure the application under test does not crash and investigate the logcat output. You could also try to increase the value of &#39;uiautomator2ServerLaunchTimeout&#39; capability\r\n10:31:32 SamsungS8Plus [ERROR] Failed to set driver. Closing Appium to prevent it from staying open after test fail. Please check exception below:\r\n10:31:32 SamsungS8Plus [ERROR] Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: The instrumentation process cannot be initialized within 120000ms timeout. Make sure the application under test does not crash and investigate the logcat output. You could also try to increase the value of &#39;uiautomator2ServerLaunchTimeout&#39; capability \r\nHost info: host: &#39;INV-15330&#39;, ip: &#39;192.168.67.232&#39;\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.15&#39;\r\nDriver info: io.appium.java_client.android.AndroidDriver\r\nCommand: [null, newSession {capabilities=[{appium:adbPort=5037, appium:systemPort=8301, appium:newCommandTimeout=180, appium:androidInstallTimeout=120000, appium:automationName=UIAutomator2, appium:udid=712KPRW1234990, appium:uiautomator2ServerLaunchTimeout=120000, appium:autoGrantPermissions=true, appium:remoteAdbHost=localhost, appium:appActivity=com.unity3d.player.UnityPlayerActivity, platformName=ANDROID, appium:app=C:\\Users\\Gre\\Documents\\htautomation\\games\\Puzzle\\Android\\Puzzle.apk, appium:uiautomator2ServerInstallTimeout=120000}], desiredCapabilities=Capabilities {appium:adbPort: 5037, appium:androidInstallTimeout: 120000, appium:app: C:\\Users\\Gre\\Doc..., appium:appActivity: com.unity3d.player.UnityPla..., appium:autoGrantPermissions: true, appium:automationName: UIAutomator2, appium:newCommandTimeout: 180, appium:remoteAdbHost: localhost, appium:systemPort: 8301, appium:udid: 712KPRW1234990, appium:uiautomator2ServerInstallTimeout: 120000, appium:uiautomator2ServerLaunchTimeout: 120000, platformName: ANDROID}}]\r\nCapabilities {appium:adbPort: 5037, appium:androidInstallTimeout: 120000, appium:app: C:\\Users\\Gre\\Doc..., appium:appActivity: com.unity3d.player.UnityPla..., appium:autoGrantPermissions: true, appium:automationName: UIAutomator2, appium:newCommandTimeout: 180, appium:remoteAdbHost: localhost, appium:systemPort: 8301, appium:udid: 712KPRW1234990, appium:uiautomator2ServerInstallTimeout: 120000, appium:uiautomator2ServerLaunchTimeout: 120000, platformName: ANDROID}\r\n```\r\n\r\n```\r\nAppiumServiceBuilder builder;\r\n        builder = new AppiumServiceBuilder()\r\n                .withArgument(GeneralServerFlag.LOG_LEVEL, &quot;error&quot;)\r\n                .withArgument(GeneralServerFlag.ALLOW_INSECURE, &quot;adb_screen_streaming, chromedriver_autodownload&quot;)\r\n                .withIPAddress(&quot;127.0.0.1&quot;)\r\n                .usingPort(getAppiumServerFromSystemEnv());\r\n\r\n        server = AppiumDriverLocalService.buildService(builder);\r\n        server.start();\r\n```\r\n\r\n```\r\ntry {\r\n            driver = new AndroidDriver(server.getUrl(), options);\r\n        } catch (org.openqa.selenium.SessionNotCreatedException e) {\r\n            loggerUtils.log(LoggerLevel.ERROR,&quot;[HTA] Failed to set driver. Closing Appium to prevent it from staying open after test fail. Please check exception below:&quot;);\r\n            loggerUtils.log(LoggerLevel.ERROR, e.getMessage());\r\n            closeAppiumServer();\r\n        }\r\n```\r\n\r\nI wanted to launch an android application on a real device. Using Appium2 and AndroidUiAutomator2. The AndroidDriver cannot be initialized, timeout happens and returns Response code 500.","title":"Cannot set AndroidDriver. AndroidUIAutomator2 cannot start a new session, with response code 500","body":"<p>I'm using Appium 2.0.0-beta.61 and AndroidUiAutomator2, and when I try to start the Android driver, it fails, returning Response Code 500. I tried removing the Appium server app from the device and using a different device like other threads suggested but it doesn't help.</p>\n<p>Increasing the <em>uiautomator2ServerLaunchTimeout</em> also didn't help.</p>\n<pre><code>[AndroidUiautomator2Driver@9c56 (e03bdf49)] The instrumentation process cannot be initialized within 120000ms timeout. Make sure the application under test does not crash and investigate the logcat output. You could also try to increase the value of 'uiautomator2ServerLaunchTimeout' capability\n10:31:32 SamsungS8Plus [ERROR] Failed to set driver. Closing Appium to prevent it from staying open after test fail. Please check exception below:\n10:31:32 SamsungS8Plus [ERROR] Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: The instrumentation process cannot be initialized within 120000ms timeout. Make sure the application under test does not crash and investigate the logcat output. You could also try to increase the value of 'uiautomator2ServerLaunchTimeout' capability \nHost info: host: 'INV-15330', ip: '192.168.67.232'\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.15'\nDriver info: io.appium.java_client.android.AndroidDriver\nCommand: [null, newSession {capabilities=[{appium:adbPort=5037, appium:systemPort=8301, appium:newCommandTimeout=180, appium:androidInstallTimeout=120000, appium:automationName=UIAutomator2, appium:udid=712KPRW1234990, appium:uiautomator2ServerLaunchTimeout=120000, appium:autoGrantPermissions=true, appium:remoteAdbHost=localhost, appium:appActivity=com.unity3d.player.UnityPlayerActivity, platformName=ANDROID, appium:app=C:\\Users\\Gre\\Documents\\htautomation\\games\\Puzzle\\Android\\Puzzle.apk, appium:uiautomator2ServerInstallTimeout=120000}], desiredCapabilities=Capabilities {appium:adbPort: 5037, appium:androidInstallTimeout: 120000, appium:app: C:\\Users\\Gre\\Doc..., appium:appActivity: com.unity3d.player.UnityPla..., appium:autoGrantPermissions: true, appium:automationName: UIAutomator2, appium:newCommandTimeout: 180, appium:remoteAdbHost: localhost, appium:systemPort: 8301, appium:udid: 712KPRW1234990, appium:uiautomator2ServerInstallTimeout: 120000, appium:uiautomator2ServerLaunchTimeout: 120000, platformName: ANDROID}}]\nCapabilities {appium:adbPort: 5037, appium:androidInstallTimeout: 120000, appium:app: C:\\Users\\Gre\\Doc..., appium:appActivity: com.unity3d.player.UnityPla..., appium:autoGrantPermissions: true, appium:automationName: UIAutomator2, appium:newCommandTimeout: 180, appium:remoteAdbHost: localhost, appium:systemPort: 8301, appium:udid: 712KPRW1234990, appium:uiautomator2ServerInstallTimeout: 120000, appium:uiautomator2ServerLaunchTimeout: 120000, platformName: ANDROID}\n</code></pre>\n<pre><code>AppiumServiceBuilder builder;\n        builder = new AppiumServiceBuilder()\n                .withArgument(GeneralServerFlag.LOG_LEVEL, &quot;error&quot;)\n                .withArgument(GeneralServerFlag.ALLOW_INSECURE, &quot;adb_screen_streaming, chromedriver_autodownload&quot;)\n                .withIPAddress(&quot;127.0.0.1&quot;)\n                .usingPort(getAppiumServerFromSystemEnv());\n\n        server = AppiumDriverLocalService.buildService(builder);\n        server.start();\n</code></pre>\n<pre><code>try {\n            driver = new AndroidDriver(server.getUrl(), options);\n        } catch (org.openqa.selenium.SessionNotCreatedException e) {\n            loggerUtils.log(LoggerLevel.ERROR,&quot;[HTA] Failed to set driver. Closing Appium to prevent it from staying open after test fail. Please check exception below:&quot;);\n            loggerUtils.log(LoggerLevel.ERROR, e.getMessage());\n            closeAppiumServer();\n        }\n</code></pre>\n<p>I wanted to launch an android application on a real device. Using Appium2 and AndroidUiAutomator2. The AndroidDriver cannot be initialized, timeout happens and returns Response code 500.</p>\n"},{"tags":["java","properties","fileoutputstream"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1316354425,"post_id":7461901,"comment_id":9027480,"body_markdown":"If you read in the properties, add/change a property to that, and write out those properties, all of the properties should be there--can you show the code you tried for that?","body":"If you read in the properties, add/change a property to that, and write out those properties, all of the properties should be there--can you show the code you tried for that?"},{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1316354469,"post_id":7461901,"comment_id":9027484,"body_markdown":"@Dave Newton: Yeah, but they are not in the same order. This is a known problem... I guess this is what OP really wants.","body":"@Dave Newton: Yeah, but they are not in the same order. This is a known problem... I guess this is what OP really wants."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1316354664,"post_id":7461901,"comment_id":9027506,"body_markdown":"@home: Oh, I get it. Yeah, the curse of unordered collections, I guess. If that&#39;s the problem, might as well just treat it as a string, do a replace, and write it back out.","body":"@home: Oh, I get it. Yeah, the curse of unordered collections, I guess. If that&#39;s the problem, might as well just treat it as a string, do a replace, and write it back out."},{"owner":{"display_name":"user890704"},"score":0,"creation_date":1316355547,"post_id":7461901,"comment_id":9027635,"body_markdown":"There, just updated.  Still same result, whole file is overwritten.","body":"There, just updated.  Still same result, whole file is overwritten."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1316985715,"post_id":7461901,"comment_id":114292910,"body_markdown":"Another answer reminded me of the [Apache Commons Configuration](http://commons.apache.org/configuration/howto_properties.html) library, specifically the capabilities [PropertiesConfigurationLayout](http://commons.apache.org/configuration/apidocs/org/apache/commons/configuration/PropertiesConfigurationLayout.html). This allows (more or less) the original layout, comments, ordering, etc. to be preserved.","body":"Another answer reminded me of the <a href=\"http://commons.apache.org/configuration/howto_properties.html\" rel=\"nofollow noreferrer\">Apache Commons Configuration</a> library, specifically the capabilities <a href=\"http://commons.apache.org/configuration/apidocs/org/apache/commons/configuration/PropertiesConfigurationLayout.html\" rel=\"nofollow noreferrer\">PropertiesConfigurationLayout</a>. This allows (more or less) the original layout, comments, ordering, etc. to be preserved."},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1498815808,"post_id":7461901,"comment_id":76666978,"body_markdown":"Possible duplicate of [Updating property value in properties file without deleting other values](https://stackoverflow.com/questions/15337409/updating-property-value-in-properties-file-without-deleting-other-values)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/15337409/updating-property-value-in-properties-file-without-deleting-other-values\">Updating property value in properties file without deleting other values</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1643297518,"creation_date":1316356614,"answer_id":7462171,"question_id":7461901,"body_markdown":"The `Properties` API doesn&#39;t provide any methods for adding/replacing/removing a property in the properties file.  The model that the API supports is to load all of the properties from a file, make changes to the in-memory `Properties` object, and then store all of the properties to a file (the same one or a different one).\r\n\r\nBut the `Properties` API is not unusual in the respect.  In reality, in-place updating of a text file is difficult to implement without rewriting the entire file.  This difficulty is a direct consequence of the way that files / file systems are implemented by a modern operating system.\r\n\r\nIf you really need to do incremental updates, then you need to use some kind of database to hold the properties, not a &quot;.properties&quot; file.\r\n\r\n--------------\r\n\r\nOther Answers have suggested the following approach in various guises:\r\n\r\n  1.  Load properties from file into `Properties` object.\r\n  2.  Update `Properties` object.\r\n  3.  Save `Properties` object on top of existing file.\r\n\r\nThis works for some use-cases.  However the load / save is liable to reorder the properties, remove embedded comments and white space.   These things *may* matter&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nThe other point is that this involves rewriting the entire properties file, which the OP is explicitly trying&lt;sup&gt;2&lt;/sup&gt; to avoid.\r\n\r\n----------------\r\n\r\n&lt;sup&gt;1 - If the API is used as the designers intended, property order, embedded comments, and so on *wouldn&#39;t* matter.  But lets assume that the OP is doing this for &quot;pragmatic reasons&quot;.&lt;br&gt;\r\n2 - Not that it is *practical* to avoid this; see earlier.&lt;/sup&gt;  \r\n","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<p>The <code>Properties</code> API doesn't provide any methods for adding/replacing/removing a property in the properties file.  The model that the API supports is to load all of the properties from a file, make changes to the in-memory <code>Properties</code> object, and then store all of the properties to a file (the same one or a different one).</p>\n<p>But the <code>Properties</code> API is not unusual in the respect.  In reality, in-place updating of a text file is difficult to implement without rewriting the entire file.  This difficulty is a direct consequence of the way that files / file systems are implemented by a modern operating system.</p>\n<p>If you really need to do incremental updates, then you need to use some kind of database to hold the properties, not a &quot;.properties&quot; file.</p>\n<hr />\n<p>Other Answers have suggested the following approach in various guises:</p>\n<ol>\n<li>Load properties from file into <code>Properties</code> object.</li>\n<li>Update <code>Properties</code> object.</li>\n<li>Save <code>Properties</code> object on top of existing file.</li>\n</ol>\n<p>This works for some use-cases.  However the load / save is liable to reorder the properties, remove embedded comments and white space.   These things <em>may</em> matter<sup>1</sup>.</p>\n<p>The other point is that this involves rewriting the entire properties file, which the OP is explicitly trying<sup>2</sup> to avoid.</p>\n<hr />\n<p><sup>1 - If the API is used as the designers intended, property order, embedded comments, and so on <em>wouldn't</em> matter.  But lets assume that the OP is doing this for &quot;pragmatic reasons&quot;.<br>\n2 - Not that it is <em>practical</em> to avoid this; see earlier.</sup></p>\n"},{"tags":[],"owner":{"account_id":781143,"reputation":1507,"user_id":839428,"display_name":"parsifal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1316357025,"creation_date":1316357025,"answer_id":7462208,"question_id":7461901,"body_markdown":"Properties files are an easy way to provide configuration for an application, but not necessarily a good way to do programmatic, user-specific customization, for just the reason that you&#39;ve found.\r\n\r\nFor that, I&#39;d use the [Preferences][1] API.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/index.html?overview-summary.html","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<p>Properties files are an easy way to provide configuration for an application, but not necessarily a good way to do programmatic, user-specific customization, for just the reason that you've found.</p>\n\n<p>For that, I'd use the <a href=\"http://download.oracle.com/javase/6/docs/api/index.html?overview-summary.html\" rel=\"nofollow\">Preferences</a> API.</p>\n"},{"tags":[],"owner":{"account_id":2495067,"reputation":1,"user_id":2171744,"display_name":"Laks"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683625462,"creation_date":1363297127,"answer_id":15420706,"question_id":7461901,"body_markdown":"```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\nclass WritePropertiesFile\r\n{\r\n\r\n             public static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tProperties p = new Properties();\r\n\t\t\tp.setProperty(&quot;1&quot;, &quot;one&quot;);\r\n\t\t\tp.setProperty(&quot;2&quot;, &quot;two&quot;);\r\n\t\t\tp.setProperty(&quot;3&quot;, &quot;three&quot;);\r\n\r\n\t\t\tFile file = new File(&quot;task.properties&quot;);\r\n\t\t\tFileOutputStream fOut = new FileOutputStream(file);\r\n\t\t\tp.store(fOut, &quot;Favorite Things&quot;);\r\n\t\t\tfOut.close();\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<pre><code>import java.io.*;\nimport java.util.*;\n\nclass WritePropertiesFile\n{\n\n             public static void main(String[] args) {\n        try {\n            Properties p = new Properties();\n            p.setProperty(&quot;1&quot;, &quot;one&quot;);\n            p.setProperty(&quot;2&quot;, &quot;two&quot;);\n            p.setProperty(&quot;3&quot;, &quot;three&quot;);\n\n            File file = new File(&quot;task.properties&quot;);\n            FileOutputStream fOut = new FileOutputStream(file);\n            p.store(fOut, &quot;Favorite Things&quot;);\n            fOut.close();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1956719,"reputation":321,"user_id":1759581,"display_name":"davidpolo"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1494588834,"creation_date":1363778832,"answer_id":15522238,"question_id":7461901,"body_markdown":"You can use PropertiesConfiguration from [Apache Commons Configuration][1].\r\n\r\nIn version 1.X:\r\n\r\n    PropertiesConfiguration config = new PropertiesConfiguration(&quot;file.properties&quot;);\r\n    config.setProperty(&quot;somekey&quot;, &quot;somevalue&quot;);\r\n    config.save();\r\n\r\nFrom version 2.0:\r\n\r\n    Parameters params = new Parameters();\r\n    FileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt; builder =\r\n        new FileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt;(PropertiesConfiguration.class)\r\n        .configure(params.properties()\r\n            .setFileName(&quot;file.properties&quot;));\r\n    Configuration config = builder.getConfiguration();\r\n    config.setProperty(&quot;somekey&quot;, &quot;somevalue&quot;);\r\n    builder.save();\r\n\r\n  [1]: http://commons.apache.org/proper/commons-configuration//userguide/howto_properties.html#Properties_files","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<p>You can use PropertiesConfiguration from <a href=\"http://commons.apache.org/proper/commons-configuration//userguide/howto_properties.html#Properties_files\" rel=\"noreferrer\">Apache Commons Configuration</a>.</p>\n\n<p>In version 1.X:</p>\n\n<pre><code>PropertiesConfiguration config = new PropertiesConfiguration(\"file.properties\");\nconfig.setProperty(\"somekey\", \"somevalue\");\nconfig.save();\n</code></pre>\n\n<p>From version 2.0:</p>\n\n<pre><code>Parameters params = new Parameters();\nFileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt; builder =\n    new FileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt;(PropertiesConfiguration.class)\n    .configure(params.properties()\n        .setFileName(\"file.properties\"));\nConfiguration config = builder.getConfiguration();\nconfig.setProperty(\"somekey\", \"somevalue\");\nbuilder.save();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1210400,"reputation":125,"user_id":1179056,"accept_rate":56,"display_name":"rIshab1988"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372128597,"creation_date":1372128597,"answer_id":17288381,"question_id":7461901,"body_markdown":"    public class PropertiesXMLExample {\r\n        public static void main(String[] args) throws IOException {\r\n        \r\n        // get properties object\r\n\t\tProperties props = new Properties();\r\n\r\n        // get path of the file that you want\r\n        String filepath = System.getProperty(&quot;user.home&quot;)\r\n\t\t\t\t+ System.getProperty(&quot;file.separator&quot;) +&quot;email-configuration.xml&quot;;\r\n\t\t\r\n        // get file object\r\n\t\tFile file = new File(filepath);\r\n                \r\n        // check whether the file exists\r\n\t\tif (file.exists()) {\r\n            // get inpustream of the file\r\n\t\t\tInputStream is = new FileInputStream(filepath);\r\n\r\n\t\t\t// load the xml file into properties format\r\n\t\t\tprops.loadFromXML(is);\r\n                        \r\n            // store all the property keys in a set \r\n\t\t\tSet&lt;String&gt; names = props.stringPropertyNames();\r\n            \r\n            // iterate over all the property names\r\n\t\t\tfor (Iterator&lt;String&gt; i = names.iterator(); i.hasNext();) {\r\n                // store each propertyname that you get\r\n\t\t\t\tString propname = i.next();\r\n                                \r\n                // set all the properties (since these properties are not automatically stored when you update the file). All these properties will be rewritten. You also set some new value for the property names that you read\r\n\t\t\t\tprops.setProperty(propname, props.getProperty(propname));\r\n\t\t\t}\r\n\r\n            // add some new properties to the props object\r\n\t\t\tprops.setProperty(&quot;email.support&quot;, &quot;donot-spam-me@nospam.com&quot;);\r\n\t\t\tprops.setProperty(&quot;email.support_2&quot;, &quot;donot-spam-me@nospam.com&quot;);\r\n\r\n           // get outputstream object to for storing the properties into the same xml file that you read\r\n\t\t\tOutputStream os = new FileOutputStream(\r\n\t\t\t\t\tSystem.getProperty(&quot;user.home&quot;)\r\n\t\t\t\t\t\t\t+ &quot;/email-configuration.xml&quot;);\r\n\r\n\t\t\t// store the properties detail into a pre-defined XML file\r\n\t\t\tprops.storeToXML(os, &quot;Support Email&quot;, &quot;UTF-8&quot;);\r\n                        \r\n            // an earlier stored property\r\n\t\t\tString email = props.getProperty(&quot;email.support_1&quot;);\r\n\r\n\t\t\tSystem.out.println(email);\r\n\t\t  }\r\n\t   }\r\n    }\r\n\r\n\r\nThe output of the program would be:\r\n    \r\n    support@stackoverflow.com","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<pre><code>public class PropertiesXMLExample {\n    public static void main(String[] args) throws IOException {\n\n    // get properties object\n    Properties props = new Properties();\n\n    // get path of the file that you want\n    String filepath = System.getProperty(\"user.home\")\n            + System.getProperty(\"file.separator\") +\"email-configuration.xml\";\n\n    // get file object\n    File file = new File(filepath);\n\n    // check whether the file exists\n    if (file.exists()) {\n        // get inpustream of the file\n        InputStream is = new FileInputStream(filepath);\n\n        // load the xml file into properties format\n        props.loadFromXML(is);\n\n        // store all the property keys in a set \n        Set&lt;String&gt; names = props.stringPropertyNames();\n\n        // iterate over all the property names\n        for (Iterator&lt;String&gt; i = names.iterator(); i.hasNext();) {\n            // store each propertyname that you get\n            String propname = i.next();\n\n            // set all the properties (since these properties are not automatically stored when you update the file). All these properties will be rewritten. You also set some new value for the property names that you read\n            props.setProperty(propname, props.getProperty(propname));\n        }\n\n        // add some new properties to the props object\n        props.setProperty(\"email.support\", \"donot-spam-me@nospam.com\");\n        props.setProperty(\"email.support_2\", \"donot-spam-me@nospam.com\");\n\n       // get outputstream object to for storing the properties into the same xml file that you read\n        OutputStream os = new FileOutputStream(\n                System.getProperty(\"user.home\")\n                        + \"/email-configuration.xml\");\n\n        // store the properties detail into a pre-defined XML file\n        props.storeToXML(os, \"Support Email\", \"UTF-8\");\n\n        // an earlier stored property\n        String email = props.getProperty(\"email.support_1\");\n\n        System.out.println(email);\n      }\n   }\n}\n</code></pre>\n\n<p>The output of the program would be:</p>\n\n<pre><code>support@stackoverflow.com\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6657673,"reputation":11,"user_id":5137655,"display_name":"Prateek Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475562823,"creation_date":1475562823,"answer_id":39845589,"question_id":7461901,"body_markdown":"I do the following method:-\r\n\r\n 1. Read the file and load the properties object\r\n 2. Update or add new properties by using &quot;.setProperty&quot; method. (setProperty method is better than .put method as it can be used for inserting as well as updating the property object)\r\n 3. Write the property object back to file to keep the file in sync with the change.","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<p>I do the following method:-</p>\n\n<ol>\n<li>Read the file and load the properties object</li>\n<li>Update or add new properties by using \".setProperty\" method. (setProperty method is better than .put method as it can be used for inserting as well as updating the property object)</li>\n<li>Write the property object back to file to keep the file in sync with the change.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5739121,"reputation":514,"user_id":4532319,"display_name":"oguz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1594894530,"creation_date":1594894530,"answer_id":62932445,"question_id":7461901,"body_markdown":"If you just want to override 1 prop why not just add parameter to your java command. Whatever you provide in your properties file they will be overrided with properties args.\r\n\r\n```\r\njava -Dyour.prop.to.be.overrided=&quot;value&quot; -jar  your.jar\r\n```","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<p>If you just want to override 1 prop why not just add parameter to your java command. Whatever you provide in your properties file they will be overrided with properties args.</p>\n<pre><code>java -Dyour.prop.to.be.overrided=&quot;value&quot; -jar  your.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7446926,"reputation":21,"user_id":5662782,"display_name":"Sawek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644338040,"creation_date":1644338040,"answer_id":71037430,"question_id":7461901,"body_markdown":"Please use just update file line instead using Properies e.g. \r\n\r\n    public static void updateProperty(String key, String oldValue, String newValue)\r\n    {\r\n        File f = new File(CONFIG_FILE);\r\n        try {\r\n            List&lt;String&gt; fileContent = new ArrayList&lt;&gt;(Files.readAllLines(f.toPath(), StandardCharsets.UTF_8));\r\n\r\n            for (int i = 0; i &lt; fileContent.size(); i++) {\r\n                if (fileContent.get(i).replaceAll(&quot;\\\\s+&quot;,&quot;&quot;).equals(key + &quot;=&quot; + oldValue)) {\r\n                    fileContent.set(i, key + &quot; = &quot; + newValue);\r\n                    break;\r\n                }\r\n            }\r\n            Files.write(f.toPath(), fileContent, StandardCharsets.UTF_8);\r\n        } catch (Exception e) {\r\n            \r\n        }\r\n    }\r\n\r\n","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<p>Please use just update file line instead using Properies e.g.</p>\n<pre><code>public static void updateProperty(String key, String oldValue, String newValue)\n{\n    File f = new File(CONFIG_FILE);\n    try {\n        List&lt;String&gt; fileContent = new ArrayList&lt;&gt;(Files.readAllLines(f.toPath(), StandardCharsets.UTF_8));\n\n        for (int i = 0; i &lt; fileContent.size(); i++) {\n            if (fileContent.get(i).replaceAll(&quot;\\\\s+&quot;,&quot;&quot;).equals(key + &quot;=&quot; + oldValue)) {\n                fileContent.set(i, key + &quot; = &quot; + newValue);\n                break;\n            }\n        }\n        Files.write(f.toPath(), fileContent, StandardCharsets.UTF_8);\n    } catch (Exception e) {\n        \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7365909,"reputation":442,"user_id":5607657,"accept_rate":100,"display_name":"Davey D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683622043,"creation_date":1683622043,"answer_id":76207423,"question_id":7461901,"body_markdown":"I know this is an old question, but this is working code (slightly modified from the code in the question, to prevent the deletion of the values before we load them):\r\n\r\n    FileInputStream in = new FileInputStream(&quot;file.properties&quot;);\r\n    Properties props = new Properties();\r\n    \r\n    props.load(in);\r\n    in.close();\r\n    \r\n    props.setProperty(&quot;somekey&quot;, &quot;somevalue&quot;);\r\n    \r\n    FileOutputStream out = new FileOutputStream(&quot;file.properties&quot;);\r\n    props.store(out, null);\r\n    out.close();","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<p>I know this is an old question, but this is working code (slightly modified from the code in the question, to prevent the deletion of the values before we load them):</p>\n<pre><code>FileInputStream in = new FileInputStream(&quot;file.properties&quot;);\nProperties props = new Properties();\n\nprops.load(in);\nin.close();\n\nprops.setProperty(&quot;somekey&quot;, &quot;somevalue&quot;);\n\nFileOutputStream out = new FileOutputStream(&quot;file.properties&quot;);\nprops.store(out, null);\nout.close();\n</code></pre>\n"}],"owner":{"display_name":"user890704"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69443,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":7462171,"answer_count":9,"score":32,"last_activity_date":1683625462,"creation_date":1316354129,"question_id":7461901,"body_markdown":"Basically, I have to overwrite a certain property in a .properties file through a Java app, but when I use Properties.setProperty() and Properties.Store() it overwrites the whole file rather than just that one property.\r\n\r\nI&#39;ve tried constructing the FileOutputStream with append = true, but with that it adds another property and doesn&#39;t delete/overwrite the existing property.\r\n\r\nHow can I code it so that setting one property overwrites that specific property, without overwriting the whole file?\r\n\r\nEdit:  I tried reading the file and adding to it.  Here&#39;s my updated code:\r\n\r\n    FileOutputStream out = new FileOutputStream(&quot;file.properties&quot;);\r\n    FileInputStream in = new FileInputStream(&quot;file.properties&quot;);\r\n    Properties props = new Properties();\r\n            \r\n    props.load(in);\r\n    in.close();\r\n         \r\n    props.setProperty(&quot;somekey&quot;, &quot;somevalue&quot;);\r\n    props.store(out, null);\r\n    out.close();","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<p>Basically, I have to overwrite a certain property in a .properties file through a Java app, but when I use Properties.setProperty() and Properties.Store() it overwrites the whole file rather than just that one property.</p>\n\n<p>I've tried constructing the FileOutputStream with append = true, but with that it adds another property and doesn't delete/overwrite the existing property.</p>\n\n<p>How can I code it so that setting one property overwrites that specific property, without overwriting the whole file?</p>\n\n<p>Edit:  I tried reading the file and adding to it.  Here's my updated code:</p>\n\n<pre><code>FileOutputStream out = new FileOutputStream(\"file.properties\");\nFileInputStream in = new FileInputStream(\"file.properties\");\nProperties props = new Properties();\n\nprops.load(in);\nin.close();\n\nprops.setProperty(\"somekey\", \"somevalue\");\nprops.store(out, null);\nout.close();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","yaml"],"comments":[{"owner":{"account_id":9223153,"reputation":1182,"user_id":6851769,"accept_rate":80,"display_name":"Samuel"},"score":1,"creation_date":1670370844,"post_id":74709805,"comment_id":131860465,"body_markdown":"@xerx593 : Thank you for your comment. I tried the suggested approach but now I am getting `The filename, directory name, or volume label syntax is incorrect` . I have added `UPDATE 3` in my question for more insight","body":"@xerx593 : Thank you for your comment. I tried the suggested approach but now I am getting <code>The filename, directory name, or volume label syntax is incorrect</code> . I have added <code>UPDATE 3</code> in my question for more insight"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670377154,"post_id":74709805,"comment_id":131861460,"body_markdown":"so with (springboot-web) `server.ssl.key-store` i got it working like so: `C:/Users/xerx/Desktop/TEST FOLDER/springboot.jks` (double backslash also works), no chance with `file:` neither with wrong file name/typos :)) (tested also with spring-boot:2.6.4 (and java 19!:))) ..now the question is only about kafka...","body":"so with (springboot-web) <code>server.ssl.key-store</code> i got it working like so: <code>C:&#47;Users&#47;xerx&#47;Desktop&#47;TEST FOLDER&#47;springboot.jks</code> (double backslash also works), no chance with <code>file:</code> neither with wrong file name/typos :)) (tested also with spring-boot:2.6.4 (and java 19!:))) ..now the question is only about kafka..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670377719,"post_id":74709805,"comment_id":131861541,"body_markdown":"at least i found the line (hope correct version) to blame/debug: https://github.com/confluentinc/schema-registry/blob/2e7500bb2daea563be009574f8a786fc65cc833c/client/src/main/java/io/confluent/kafka/schemaregistry/client/security/SslFactory.java#L161  ..so provide the same string as you would to `new FileInputStream(...);`","body":"at least i found the line (hope correct version) to blame/debug: <a href=\"https://github.com/confluentinc/schema-registry/blob/2e7500bb2daea563be009574f8a786fc65cc833c/client/src/main/java/io/confluent/kafka/schemaregistry/client/security/SslFactory.java#L161\" rel=\"nofollow noreferrer\">github.com/confluentinc/schema-registry/blob/&hellip;</a>  ..so provide the same string as you would to <code>new FileInputStream(...);</code>"},{"owner":{"account_id":7644621,"reputation":488,"user_id":5795699,"display_name":"Kristian Ferki"},"score":0,"creation_date":1670416948,"post_id":74709805,"comment_id":131871045,"body_markdown":"Have you tried `file://C:/Users/xx/Downloads/stores/testclient.jks`?","body":"Have you tried <code>file:&#47;&#47;C:&#47;Users&#47;xx&#47;Downloads&#47;stores&#47;testclient.jks</code>?"}],"answers":[{"tags":[],"owner":{"account_id":21104016,"reputation":21,"user_id":18371085,"display_name":"aerialace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683625399,"creation_date":1683625399,"answer_id":76207930,"question_id":74709805,"body_markdown":"maybe you could try the below sol. it can work in my case\r\n\r\n    config-path: &quot;file:E:\\\\config&quot;\r\n","title":"Setting correct absolute path in application yaml spring boot for file","body":"<p>maybe you could try the below sol. it can work in my case</p>\n<pre><code>config-path: &quot;file:E:\\\\config&quot;\n</code></pre>\n"}],"owner":{"account_id":9223153,"reputation":1182,"user_id":6851769,"accept_rate":80,"display_name":"Samuel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1007,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683625399,"creation_date":1670366219,"question_id":74709805,"body_markdown":"I am trying to run a kafka code, and to do that I have setup some config in application.yaml file. The config also include pointing to the certificates. \r\n\r\nWhen I have put values like:\r\n\r\n```yaml\r\n    ssl:\r\n      key-password: xxxx\r\n      keystore-location: &#39;file:\\\\C:\\Users\\xx\\Downloads\\stores\\testclient.jks&#39;\r\n      keystore-password: dmlnvba\r\n      truststore-location: &#39;file:\\\\C:\\Users\\xx\\Downloads\\stores\\truststore.jks&#39;\r\n      truststore-password: xxxxx\r\n```\r\n\r\nI get errors like:\r\n\r\n```\r\nCaused by: java.io.FileNotFoundException: file:\\C:\\Users\\xx\\Downloads\\stores\\testclient.jks (The filename, directory name, or volume label syntax is incorrect)\r\n\tat java.io.FileInputStream.open0(Native Method) ~[?:?]\r\n\tat java.io.FileInputStream.open(FileInputStream.java:216) ~[?:?]\r\n\tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157) ~[?:?]\r\n\tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111) ~[?:?]\r\n\tat io.confluent.kafka.schemaregistry.client.security.SslFactory$SecurityStore.load(SslFactory.java:161) ~[kafka-schema-registry-client-6.0.0.jar:?]\r\n```\r\n\r\nI looked over into answers like [this][1] but I am not sure why is it not working for me. \r\n\r\n### Update 2\r\n\r\nWhen I do it like\r\n\r\n```yaml\r\n    ssl:\r\n      key-password: xxxx\r\n      keystore-location: &#39;C:/Users/xx/Downloads/stores/testclient.jks&#39;\r\n      keystore-password: dmlnvba\r\n      truststore-location: &#39;C:/Users/xx/Downloads/stores/truststore.jks&#39;\r\n      truststore-password: xxxxx\r\n\r\n```\r\n\r\n```\r\nCaused by: java.io.FileNotFoundException: ServletContext resource [/C:/Users/xx/Downloads/stores/testclient.jks] cannot be resolved to absolute file path - web application archive not expanded?\r\n\tat org.springframework.web.util.WebUtils.getRealPath(WebUtils.java:344) ~[spring-web-5.3.16.jar:5.3.16]\tat org.springframework.web.context.support.ServletContextResource.getFile(ServletContextResource.java:194) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.boot.autoconfigure.kafka.KafkaProperties$Ssl.resourceToPath(KafkaProperties.java:1222) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.context.properties.PropertyMapper$Source.lambda$as$2(PropertyMapper.java:195) ~[spring-boot-2.6.4.jar:2.6.4]\r\n```\r\n\r\n&gt; I notice that the path in the update 2 has `/C:` a slash appended to it.\r\n\r\nHow to fix this path issue ?\r\n\r\n### OS: Windows 10\r\n\r\n### Update 3\r\n\r\nWhen I do it like what @xerx593 suggested :\r\n \r\n\r\n```yaml\r\n    ssl:\r\n      key-password: xxxx\r\n      keystore-location: &#39;file:C:/Users/xx/Downloads/stores/testclient.jks&#39;\r\n      keystore-password: dmlnvba\r\n      truststore-location: &#39;file:C:/Users/xx/Downloads/stores/truststore.jks&#39;\r\n      truststore-password: xxxxx\r\n\r\n```\r\nI get \r\n\r\n&gt; Caused by: java.io.FileNotFoundException: file:C:\\Users\\xx\\Downloads\\stores\\testclient.jks (The filename, directory name, or volume label syntax is incorrect)\r\n\r\n  [1]: https://stackoverflow.com/questions/39049075/absolute-path-in-application-yml","title":"Setting correct absolute path in application yaml spring boot for file","body":"<p>I am trying to run a kafka code, and to do that I have setup some config in application.yaml file. The config also include pointing to the certificates.</p>\n<p>When I have put values like:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    ssl:\n      key-password: xxxx\n      keystore-location: 'file:\\\\C:\\Users\\xx\\Downloads\\stores\\testclient.jks'\n      keystore-password: dmlnvba\n      truststore-location: 'file:\\\\C:\\Users\\xx\\Downloads\\stores\\truststore.jks'\n      truststore-password: xxxxx\n</code></pre>\n<p>I get errors like:</p>\n<pre><code>Caused by: java.io.FileNotFoundException: file:\\C:\\Users\\xx\\Downloads\\stores\\testclient.jks (The filename, directory name, or volume label syntax is incorrect)\n    at java.io.FileInputStream.open0(Native Method) ~[?:?]\n    at java.io.FileInputStream.open(FileInputStream.java:216) ~[?:?]\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157) ~[?:?]\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111) ~[?:?]\n    at io.confluent.kafka.schemaregistry.client.security.SslFactory$SecurityStore.load(SslFactory.java:161) ~[kafka-schema-registry-client-6.0.0.jar:?]\n</code></pre>\n<p>I looked over into answers like <a href=\"https://stackoverflow.com/questions/39049075/absolute-path-in-application-yml\">this</a> but I am not sure why is it not working for me.</p>\n<h3>Update 2</h3>\n<p>When I do it like</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    ssl:\n      key-password: xxxx\n      keystore-location: 'C:/Users/xx/Downloads/stores/testclient.jks'\n      keystore-password: dmlnvba\n      truststore-location: 'C:/Users/xx/Downloads/stores/truststore.jks'\n      truststore-password: xxxxx\n\n</code></pre>\n<pre><code>Caused by: java.io.FileNotFoundException: ServletContext resource [/C:/Users/xx/Downloads/stores/testclient.jks] cannot be resolved to absolute file path - web application archive not expanded?\n    at org.springframework.web.util.WebUtils.getRealPath(WebUtils.java:344) ~[spring-web-5.3.16.jar:5.3.16] at org.springframework.web.context.support.ServletContextResource.getFile(ServletContextResource.java:194) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.boot.autoconfigure.kafka.KafkaProperties$Ssl.resourceToPath(KafkaProperties.java:1222) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    at org.springframework.boot.context.properties.PropertyMapper$Source.lambda$as$2(PropertyMapper.java:195) ~[spring-boot-2.6.4.jar:2.6.4]\n</code></pre>\n<blockquote>\n<p>I notice that the path in the update 2 has <code>/C:</code> a slash appended to it.</p>\n</blockquote>\n<p>How to fix this path issue ?</p>\n<h3>OS: Windows 10</h3>\n<h3>Update 3</h3>\n<p>When I do it like what @xerx593 suggested :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    ssl:\n      key-password: xxxx\n      keystore-location: 'file:C:/Users/xx/Downloads/stores/testclient.jks'\n      keystore-password: dmlnvba\n      truststore-location: 'file:C:/Users/xx/Downloads/stores/truststore.jks'\n      truststore-password: xxxxx\n\n</code></pre>\n<p>I get</p>\n<blockquote>\n<p>Caused by: java.io.FileNotFoundException: file:C:\\Users\\xx\\Downloads\\stores\\testclient.jks (The filename, directory name, or volume label syntax is incorrect)</p>\n</blockquote>\n"},{"tags":["java","git","docker","maven","jenkins"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683631215,"post_id":76207776,"comment_id":134393006,"body_markdown":"Error messages and logs have to use the same format as code, for readability.","body":"Error messages and logs have to use the same format as code, for readability."},{"owner":{"account_id":10833759,"reputation":51,"user_id":7967302,"display_name":"Neo"},"score":0,"creation_date":1683681505,"post_id":76207776,"comment_id":134402854,"body_markdown":"@aled, I know, but it&#39;s one line and very long error, I tried using code format and it seems even worse so I didn&#39;t use it. Please understand.","body":"@aled, I know, but it&#39;s one line and very long error, I tried using code format and it seems even worse so I didn&#39;t use it. Please understand."},{"owner":{"account_id":8512855,"reputation":81,"user_id":6382363,"display_name":"jcmendez"},"score":0,"creation_date":1683888576,"post_id":76207776,"comment_id":134439001,"body_markdown":"On regards of the first failure, in custom Dockerfiles we use to create the Jenkins user for avoid such issue. Have you try it?","body":"On regards of the first failure, in custom Dockerfiles we use to create the Jenkins user for avoid such issue. Have you try it?"},{"owner":{"account_id":10833759,"reputation":51,"user_id":7967302,"display_name":"Neo"},"score":0,"creation_date":1684314185,"post_id":76207776,"comment_id":134498841,"body_markdown":"Yes, it should work with custom Docker images, but how to fix this using public images like &#39;maven:3.6.3-openjdk-8&#39;","body":"Yes, it should work with custom Docker images, but how to fix this using public images like &#39;maven:3.6.3-openjdk-8&#39;"}],"owner":{"account_id":10833759,"reputation":51,"user_id":7967302,"display_name":"Neo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683624825,"creation_date":1683624388,"question_id":76207776,"body_markdown":"I&#39;m using Jenkins and Maven Release plugin to make the release to tag to a private owned GitLab using a SSH private key, in an isolated docker image:\r\n\r\n    withDockerContainer(image: &#39;maven:3.6.3-openjdk-8&#39;) {\r\n        sshagent (credentials: [&quot;${GITLAB_CREDS}&quot;]) {\r\n            sh &#39;ssh -o StrictHostKeyChecking=no git@gitlab.***.com&#39;\r\n            sh &#39;git config --global user.email &quot;no-one@noemail.com&quot;&#39;\r\n            sh &#39;git config --global user.name &quot;Jenkins Job&quot;&#39;\r\n            sh &quot;mvn -B clean release:prepare release:perform -q&quot;\r\n        }\r\n    }\r\n\r\nThis works fine until SysAdmin team decided to run Jenkins using user jenkins:jenkins which maven docker doesn&#39;t have but, ssh requires a valid user. And it throws error:\r\n\r\n    No user exists for uid 332\r\n\r\nSo I don&#39;t want it to rely on system&#39;s native git client but a maven impl. After some investigation, seems maven-scm-provider-jgit is what I need. So I configured it in pom followed by the instruction in its website:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;providerImplementations&gt;\r\n    \t\t\t&lt;git&gt;jgit&lt;/git&gt;\r\n    \t\t&lt;/providerImplementations&gt;\r\n    \t&lt;/configuration&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-scm-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-scm-provider-jgit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n    \r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-scm-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.0.0&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;providerImplementations&gt;\r\n    \t\t\t&lt;git&gt;jgit&lt;/git&gt;\r\n    \t\t&lt;/providerImplementations&gt;\r\n    \t&lt;/configuration&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-scm-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-scm-provider-jgit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAnd in settings.xml:\r\n\r\n    &lt;server&gt;\r\n    \t&lt;id&gt;git@gitlab.***.com&lt;/id&gt;\r\n    \t&lt;privateKey&gt;${ssh.privateKey}&lt;/privateKey&gt;\r\n    \t&lt;passphrase&gt;&lt;/passphrase&gt;\r\n    &lt;/server&gt;\r\n\r\nAnd then in script: \r\n\r\n    withDockerContainer(image: &#39;maven:3.6.3-openjdk-8-slim&#39;) {\r\n    \twithCredentials([sshUserPrivateKey(credentialsId: &quot;${GITLAB_CREDS}&quot;, keyFileVariable: &#39;keyFile&#39;)]) {\r\n    \t\tconfigFileProvider([configFile(fileId: &#39;maven-nexus-settings&#39;, variable: &#39;MAVEN_SETTINGS&#39;)]) {\r\n    \t\t\t sh &quot;mvn -B -s ${MAVEN_SETTINGS} clean release:prepare release:perform -Dssh.privateKey=${keyFile} -q&quot;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nAnd it returns error:\r\n\r\n+ mvn -B -s /var/lib/jenkins/workspace/jenkins-test@tmp/config6359189442870799267tmp clean release:prepare release:perform -Dssh.privateKey=**** -q\r\nThe authenticity of host &#39;gitlab.host.com&#39; cannot be established.: The EC key&#39;s fingerprints are:: MD5:7b:b2:aa:81:25:b9:88:6f:62:4c:13:d4:87:f9:c5:b5: SHA256:PYlJZompVha0FYBp5bTVR56HdGw3ZtfFkVhWol1OLgw: Accept and store this key, and continue connecting? (yes/no): [ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:3.0.0:prepare (default-cli) on project jenkins-test: An error is occurred in the checkin process: Exception while executing SCM command. JGit checkin failure! git@gitlab.host.com:dev-team/jenkins-test.git: DefaultAuthFuture[ssh-connection]: Failed (IllegalStateException) to execute: Cannot prompt user: Failed to read user response: EOF -&gt; [Help 1]\r\n\r\n\r\nAny suggestion on how to fix this error?","title":"Jenkins use maven release without ssh and git installed","body":"<p>I'm using Jenkins and Maven Release plugin to make the release to tag to a private owned GitLab using a SSH private key, in an isolated docker image:</p>\n<pre><code>withDockerContainer(image: 'maven:3.6.3-openjdk-8') {\n    sshagent (credentials: [&quot;${GITLAB_CREDS}&quot;]) {\n        sh 'ssh -o StrictHostKeyChecking=no git@gitlab.***.com'\n        sh 'git config --global user.email &quot;no-one@noemail.com&quot;'\n        sh 'git config --global user.name &quot;Jenkins Job&quot;'\n        sh &quot;mvn -B clean release:prepare release:perform -q&quot;\n    }\n}\n</code></pre>\n<p>This works fine until SysAdmin team decided to run Jenkins using user jenkins:jenkins which maven docker doesn't have but, ssh requires a valid user. And it throws error:</p>\n<pre><code>No user exists for uid 332\n</code></pre>\n<p>So I don't want it to rely on system's native git client but a maven impl. After some investigation, seems maven-scm-provider-jgit is what I need. So I configured it in pom followed by the instruction in its website:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;providerImplementations&gt;\n            &lt;git&gt;jgit&lt;/git&gt;\n        &lt;/providerImplementations&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-scm-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-scm-provider-jgit&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-scm-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;providerImplementations&gt;\n            &lt;git&gt;jgit&lt;/git&gt;\n        &lt;/providerImplementations&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-scm-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-scm-provider-jgit&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And in settings.xml:</p>\n<pre><code>&lt;server&gt;\n    &lt;id&gt;git@gitlab.***.com&lt;/id&gt;\n    &lt;privateKey&gt;${ssh.privateKey}&lt;/privateKey&gt;\n    &lt;passphrase&gt;&lt;/passphrase&gt;\n&lt;/server&gt;\n</code></pre>\n<p>And then in script:</p>\n<pre><code>withDockerContainer(image: 'maven:3.6.3-openjdk-8-slim') {\n    withCredentials([sshUserPrivateKey(credentialsId: &quot;${GITLAB_CREDS}&quot;, keyFileVariable: 'keyFile')]) {\n        configFileProvider([configFile(fileId: 'maven-nexus-settings', variable: 'MAVEN_SETTINGS')]) {\n             sh &quot;mvn -B -s ${MAVEN_SETTINGS} clean release:prepare release:perform -Dssh.privateKey=${keyFile} -q&quot;\n        }\n    }\n}\n</code></pre>\n<p>And it returns error:</p>\n<ul>\n<li>mvn -B -s /var/lib/jenkins/workspace/jenkins-test@tmp/config6359189442870799267tmp clean release:prepare release:perform -Dssh.privateKey=**** -q\nThe authenticity of host 'gitlab.host.com' cannot be established.: The EC key's fingerprints are:: MD5:7b:b2:aa:81:25:b9:88:6f:62:4c:13:d4:87:f9:c5:b5: SHA256:PYlJZompVha0FYBp5bTVR56HdGw3ZtfFkVhWol1OLgw: Accept and store this key, and continue connecting? (yes/no): [ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:3.0.0:prepare (default-cli) on project jenkins-test: An error is occurred in the checkin process: Exception while executing SCM command. JGit checkin failure! git@gitlab.host.com:dev-team/jenkins-test.git: DefaultAuthFuture[ssh-connection]: Failed (IllegalStateException) to execute: Cannot prompt user: Failed to read user response: EOF -&gt; [Help 1]</li>\n</ul>\n<p>Any suggestion on how to fix this error?</p>\n"},{"tags":["java","spring-boot","tomcat","unix-socket"],"owner":{"account_id":2966038,"reputation":315,"user_id":2519165,"accept_rate":40,"display_name":"Devour"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683624691,"creation_date":1683624691,"question_id":76207826,"body_markdown":"I&#39;m trying to configure Springboot(Tomcat) to start using unix-socket in Windows, but I get an error &quot;Address already in use: bind&quot;. I have my own connector with port 0, but in debug mode it appears to be -1 (I don&#39;t think it&#39;s causes this exception though). \r\nI&#39;m totaly new to this topic so will appreciate any pieces of advice where to start from. \r\nOr any examples. Thanks in advance. \r\nHere&#39;s my configuration:    \r\n \r\n    @Configuration\r\n    public class TomcatConfiguration {\r\n            @Bean\r\n            public TomcatServletWebServerFactory tomcatServletWebServerFactory() {\r\n                TomcatServletWebServerFactory factory = new TomcatServletWebServerFactory();\r\n        \r\n                factory.addConnectorCustomizers(\r\n                        connector -&gt; {\r\n                            connector.setPort(0);\r\n                            connector.setScheme(&quot;http&quot;);\r\n                            connector.setProperty(&quot;socketFactoryClassName&quot;, &quot;org.apache.tomcat.jni.SocketFactory&quot;);\r\n                            connector.setProperty(&quot;socketFactoryEncoding&quot;, &quot;UTF-8&quot;);\r\n        \r\n                            try {\r\n                                UnixDomainSocketAddress address =  UnixDomainSocketAddress.of(SOCKET_FILE);\r\n                                StandardProtocolFamily family = StandardProtocolFamily.UNIX;\r\n                                ServerSocketChannel server = ServerSocketChannel.open(family);\r\n                                server.bind(address);\r\n                                server.accept();\r\n                            } catch (Exception e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                );\r\n                return factory;\r\n          }\r\n    }","title":"SpringBoot configuration to enable unix sockets in Windows","body":"<p>I'm trying to configure Springboot(Tomcat) to start using unix-socket in Windows, but I get an error &quot;Address already in use: bind&quot;. I have my own connector with port 0, but in debug mode it appears to be -1 (I don't think it's causes this exception though).\nI'm totaly new to this topic so will appreciate any pieces of advice where to start from.\nOr any examples. Thanks in advance.\nHere's my configuration:</p>\n<pre><code>@Configuration\npublic class TomcatConfiguration {\n        @Bean\n        public TomcatServletWebServerFactory tomcatServletWebServerFactory() {\n            TomcatServletWebServerFactory factory = new TomcatServletWebServerFactory();\n    \n            factory.addConnectorCustomizers(\n                    connector -&gt; {\n                        connector.setPort(0);\n                        connector.setScheme(&quot;http&quot;);\n                        connector.setProperty(&quot;socketFactoryClassName&quot;, &quot;org.apache.tomcat.jni.SocketFactory&quot;);\n                        connector.setProperty(&quot;socketFactoryEncoding&quot;, &quot;UTF-8&quot;);\n    \n                        try {\n                            UnixDomainSocketAddress address =  UnixDomainSocketAddress.of(SOCKET_FILE);\n                            StandardProtocolFamily family = StandardProtocolFamily.UNIX;\n                            ServerSocketChannel server = ServerSocketChannel.open(family);\n                            server.bind(address);\n                            server.accept();\n                        } catch (Exception e) {\n                            e.printStackTrace();\n                        }\n                    }\n            );\n            return factory;\n      }\n}\n</code></pre>\n"},{"tags":["java","if-statement","while-loop","socket.io"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1683625069,"post_id":76207796,"comment_id":134391561,"body_markdown":"take a look at [this](https://stackoverflow.com/a/4300803/16034206), it seems likely that you closed the socket while there are still remainingBytes to be read. It might be better to have the condition while remainingBytes &gt; 0","body":"take a look at <a href=\"https://stackoverflow.com/a/4300803/16034206\">this</a>, it seems likely that you closed the socket while there are still remainingBytes to be read. It might be better to have the condition while remainingBytes &gt; 0"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1683625116,"post_id":76207796,"comment_id":134391573,"body_markdown":"have you debugged your code? Also, you may want to refactor it: this -&gt; &quot;close&quot;.trim().toLowerCase()) makes no sense at all.","body":"have you debugged your code? Also, you may want to refactor it: this -&gt; &quot;close&quot;.trim().toLowerCase()) makes no sense at all."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1683627639,"post_id":76207796,"comment_id":134392208,"body_markdown":"No point in trimming and lowercasing a word that is already trimmed and in lowercase.","body":"No point in trimming and lowercasing a word that is already trimmed and in lowercase."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1683631737,"post_id":76207796,"comment_id":134393121,"body_markdown":"The loop `while ((receivedBytes = dis.read(buffer)) &gt; 0)` will only be terminated when the client closes the connection. It will not terminate after the client is done sending a file.","body":"The loop <code>while ((receivedBytes = dis.read(buffer)) &gt; 0)</code> will only be terminated when the client closes the connection. It will not terminate after the client is done sending a file."}],"owner":{"account_id":28545767,"reputation":11,"user_id":21851209,"display_name":"raygaymon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683624529,"creation_date":1683624529,"question_id":76207796,"body_markdown":"As part of my Java course, I&#39;m writing a server-client socket program that facilitates a file transfer. While the file transfer works fine, it always throws an exception whenever I try to close it from the client side.\r\n\r\nThe code for the server is as follows:\r\n\r\n```\r\n        String client = &quot;&quot;;\r\n        long size;\r\n        //set the connection checker and disconnector\r\n        boolean exit = false;\r\n\r\n        try  {\r\n\r\n            System.out.println(&quot;Client passed to thread&quot;);\r\n            InputStream is = sock.getInputStream();\r\n            BufferedInputStream bis = new BufferedInputStream(is);\r\n            DataInputStream dis = new DataInputStream(bis);\r\n\r\n\r\n            while (!exit) {\r\n\r\n                System.out.println(&quot;Client passed into while loop&quot;);\r\n                //put the stuff in a while loop\r\n                client = dis.readUTF();// can separate the types of input\r\n                size = dis.readLong();\r\n\r\n                if (client.equals(&quot;close&quot;.trim().toLowerCase())) {\r\n                    System.out.println(&quot;Client disconnected&quot;);\r\n                    dis.close();\r\n                    bis.close();\r\n                    is.close();\r\n                    exit = true;\r\n                    continue;\r\n                } \r\n                \r\n                else {\r\n\r\n                    System.out.println(&quot;File received: &quot; + client + &quot;\\nFile size: &quot; + size);\r\n                    // fileoutput is tacked onto output stream directly\r\n                    OutputStream os = new FileOutputStream(client);\r\n                    // create output stream to write to the file\r\n                    BufferedOutputStream bos = new BufferedOutputStream(os);\r\n\r\n                    byte[] buffer = new byte[4 * 1024];\r\n                    int receivedBytes = 0;\r\n                    long remainingBytes = 0;\r\n                    System.out.println(receivedBytes + &quot; received...&quot;);\r\n\r\n                    while ((receivedBytes = dis.read(buffer)) &gt; 0) {\r\n\r\n                        bos.write(buffer, 0, receivedBytes);\r\n                        remainingBytes = size - receivedBytes;\r\n                        System.out.println(receivedBytes + &quot; received...\\n&quot; + remainingBytes + &quot;left&quot;);\r\n                        bos.flush();\r\n                        exit = true;\r\n\r\n                    }\r\n\r\n                    bos.close();\r\n                    os.close();\r\n                }\r\n                \r\n            }\r\n\r\n            dis.close();\r\n            bis.close();\r\n            is.close();\r\n           \r\n            // if (size &lt; 20.0) {\r\n                \r\n            //     System.out.println(&quot;File size insufficient, please include more stuff&quot;);\r\n            // }\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            \r\n        } finally {\r\n            try {\r\n                sock.close();\r\n            } catch (IOException e) {\r\n                \r\n            }\r\n\r\n        }\r\n```\r\n\r\nAnd the client code is here:\r\n\r\n```\r\nString input = &quot;&quot;;\r\n        long l = 1024;\r\n        int fileData;\r\n\r\n        Console cons = System.console();\r\n        Socket socket = new Socket(host, Integer.parseInt(port));\r\n\r\n        while (!(&quot;close&quot;).equals(input.trim().toLowerCase())) {\r\n\r\n            input = cons.readLine(&quot;Please indicate the file to be sent: \\n&quot;);\r\n\r\n\r\n            OutputStream os = socket.getOutputStream();\r\n            BufferedOutputStream bos = new BufferedOutputStream(os);\r\n            DataOutputStream dos = new DataOutputStream(bos);\r\n\r\n            if (input.equals(&quot;close&quot;.trim().toLowerCase())) {\r\n\r\n                dos.writeUTF(input);\r\n                dos.writeLong(l);\r\n                dos.flush();\r\n                System.out.println(&quot;Gotcha. Disconnecting&quot;);\r\n                break;\r\n            }\r\n\r\n            File toBeSent = new File(input);\r\n\r\n            if (!toBeSent.exists()) {\r\n\r\n                input = cons.readLine(&quot;That file does not exist. Would you like to create it: \\n&quot;);\r\n\r\n                if (input.equals(&quot;yes&quot;)) {\r\n\r\n                    toBeSent.createNewFile();\r\n                    System.out.println(&quot;File created, add something inside before sending&quot;);\r\n                    continue;\r\n                }\r\n            }\r\n\r\n            else {\r\n\r\n                try {\r\n                    dos.writeUTF(input);\r\n                    dos.writeLong(toBeSent.length());\r\n                    dos.flush();\r\n\r\n                    InputStream is = new FileInputStream(toBeSent);\r\n\r\n                    BufferedInputStream bis = new BufferedInputStream(is);\r\n\r\n                    byte[] buffer = new byte[4 * 1024];\r\n                    int size = 0;\r\n\r\n                    while ((size = bis.read(buffer)) &gt; 0) {\r\n\r\n                        dos.write(buffer, 0, size);\r\n                        dos.flush();\r\n                    }\r\n\r\n                    bis.close();\r\n                    is.close();\r\n\r\n                    continue;\r\n\r\n                } catch (EOFException e) {\r\n\r\n                }\r\n                dos.close();\r\n                bos.close();\r\n                os.close();\r\n\r\n            }\r\n        }\r\n```\r\n\r\nThis thing is, the server-side code\r\n\r\n```\r\nif (client.equals(&quot;close&quot;.trim().toLowerCase())) {\r\n    System.out.println(&quot;Client disconnected&quot;);\r\n    dis.close();\r\n    bis.close();\r\n    is.close();\r\n    exit = true;\r\n    continue;\r\n} \r\n```\r\n\r\nworks just fine, but only as the first input. As soon as the rest of the server code runs, it throws an exception whenever I try to input &quot;close&quot; from the client:\r\n\r\n```\r\njava.net.SocketException: Connection reset\r\n        at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:313)\r\n        at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:340)\r\n        at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:789)\r\n        at java.base/java.net.Socket$SocketInputStream.read(Socket.java:1025)\r\n        at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:258)\r\n        at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:313)\r\n        at java.base/java.io.BufferedInputStream.implRead(BufferedInputStream.java:386)       \r\n        at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:365)\r\n        at java.base/java.io.DataInputStream.read(DataInputStream.java:102)\r\n        at sg.edu.nus.iss.ClientHandler.run(ClientHandler.java:70)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)  \r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n        at java.base/java.lang.Thread.run(Thread.java:1623)\r\n```\r\n\r\nThe aforementioned Line 70 is the start of the while loop below:\r\n\r\n```\r\nwhile ((receivedBytes = dis.read(buffer)) &gt; 0) {\r\n\r\n                        bos.write(buffer, 0, receivedBytes);\r\n                        remainingBytes = size - receivedBytes;\r\n                        System.out.println(receivedBytes + &quot; received...\\n&quot; + remainingBytes + &quot;left&quot;);\r\n                        bos.flush();\r\n                        exit = true;\r\n\r\n                    }\r\n```\r\n\r\nAny insight would be greatly appreciated. Thank you!","title":"Why does my while loop continue to run despite the if condition","body":"<p>As part of my Java course, I'm writing a server-client socket program that facilitates a file transfer. While the file transfer works fine, it always throws an exception whenever I try to close it from the client side.</p>\n<p>The code for the server is as follows:</p>\n<pre><code>        String client = &quot;&quot;;\n        long size;\n        //set the connection checker and disconnector\n        boolean exit = false;\n\n        try  {\n\n            System.out.println(&quot;Client passed to thread&quot;);\n            InputStream is = sock.getInputStream();\n            BufferedInputStream bis = new BufferedInputStream(is);\n            DataInputStream dis = new DataInputStream(bis);\n\n\n            while (!exit) {\n\n                System.out.println(&quot;Client passed into while loop&quot;);\n                //put the stuff in a while loop\n                client = dis.readUTF();// can separate the types of input\n                size = dis.readLong();\n\n                if (client.equals(&quot;close&quot;.trim().toLowerCase())) {\n                    System.out.println(&quot;Client disconnected&quot;);\n                    dis.close();\n                    bis.close();\n                    is.close();\n                    exit = true;\n                    continue;\n                } \n                \n                else {\n\n                    System.out.println(&quot;File received: &quot; + client + &quot;\\nFile size: &quot; + size);\n                    // fileoutput is tacked onto output stream directly\n                    OutputStream os = new FileOutputStream(client);\n                    // create output stream to write to the file\n                    BufferedOutputStream bos = new BufferedOutputStream(os);\n\n                    byte[] buffer = new byte[4 * 1024];\n                    int receivedBytes = 0;\n                    long remainingBytes = 0;\n                    System.out.println(receivedBytes + &quot; received...&quot;);\n\n                    while ((receivedBytes = dis.read(buffer)) &gt; 0) {\n\n                        bos.write(buffer, 0, receivedBytes);\n                        remainingBytes = size - receivedBytes;\n                        System.out.println(receivedBytes + &quot; received...\\n&quot; + remainingBytes + &quot;left&quot;);\n                        bos.flush();\n                        exit = true;\n\n                    }\n\n                    bos.close();\n                    os.close();\n                }\n                \n            }\n\n            dis.close();\n            bis.close();\n            is.close();\n           \n            // if (size &lt; 20.0) {\n                \n            //     System.out.println(&quot;File size insufficient, please include more stuff&quot;);\n            // }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n            \n        } finally {\n            try {\n                sock.close();\n            } catch (IOException e) {\n                \n            }\n\n        }\n</code></pre>\n<p>And the client code is here:</p>\n<pre><code>String input = &quot;&quot;;\n        long l = 1024;\n        int fileData;\n\n        Console cons = System.console();\n        Socket socket = new Socket(host, Integer.parseInt(port));\n\n        while (!(&quot;close&quot;).equals(input.trim().toLowerCase())) {\n\n            input = cons.readLine(&quot;Please indicate the file to be sent: \\n&quot;);\n\n\n            OutputStream os = socket.getOutputStream();\n            BufferedOutputStream bos = new BufferedOutputStream(os);\n            DataOutputStream dos = new DataOutputStream(bos);\n\n            if (input.equals(&quot;close&quot;.trim().toLowerCase())) {\n\n                dos.writeUTF(input);\n                dos.writeLong(l);\n                dos.flush();\n                System.out.println(&quot;Gotcha. Disconnecting&quot;);\n                break;\n            }\n\n            File toBeSent = new File(input);\n\n            if (!toBeSent.exists()) {\n\n                input = cons.readLine(&quot;That file does not exist. Would you like to create it: \\n&quot;);\n\n                if (input.equals(&quot;yes&quot;)) {\n\n                    toBeSent.createNewFile();\n                    System.out.println(&quot;File created, add something inside before sending&quot;);\n                    continue;\n                }\n            }\n\n            else {\n\n                try {\n                    dos.writeUTF(input);\n                    dos.writeLong(toBeSent.length());\n                    dos.flush();\n\n                    InputStream is = new FileInputStream(toBeSent);\n\n                    BufferedInputStream bis = new BufferedInputStream(is);\n\n                    byte[] buffer = new byte[4 * 1024];\n                    int size = 0;\n\n                    while ((size = bis.read(buffer)) &gt; 0) {\n\n                        dos.write(buffer, 0, size);\n                        dos.flush();\n                    }\n\n                    bis.close();\n                    is.close();\n\n                    continue;\n\n                } catch (EOFException e) {\n\n                }\n                dos.close();\n                bos.close();\n                os.close();\n\n            }\n        }\n</code></pre>\n<p>This thing is, the server-side code</p>\n<pre><code>if (client.equals(&quot;close&quot;.trim().toLowerCase())) {\n    System.out.println(&quot;Client disconnected&quot;);\n    dis.close();\n    bis.close();\n    is.close();\n    exit = true;\n    continue;\n} \n</code></pre>\n<p>works just fine, but only as the first input. As soon as the rest of the server code runs, it throws an exception whenever I try to input &quot;close&quot; from the client:</p>\n<pre><code>java.net.SocketException: Connection reset\n        at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:313)\n        at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:340)\n        at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:789)\n        at java.base/java.net.Socket$SocketInputStream.read(Socket.java:1025)\n        at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:258)\n        at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:313)\n        at java.base/java.io.BufferedInputStream.implRead(BufferedInputStream.java:386)       \n        at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:365)\n        at java.base/java.io.DataInputStream.read(DataInputStream.java:102)\n        at sg.edu.nus.iss.ClientHandler.run(ClientHandler.java:70)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)  \n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n        at java.base/java.lang.Thread.run(Thread.java:1623)\n</code></pre>\n<p>The aforementioned Line 70 is the start of the while loop below:</p>\n<pre><code>while ((receivedBytes = dis.read(buffer)) &gt; 0) {\n\n                        bos.write(buffer, 0, receivedBytes);\n                        remainingBytes = size - receivedBytes;\n                        System.out.println(receivedBytes + &quot; received...\\n&quot; + remainingBytes + &quot;left&quot;);\n                        bos.flush();\n                        exit = true;\n\n                    }\n</code></pre>\n<p>Any insight would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","concurrency","concurrenthashmap"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679486292,"creation_date":1679485921,"answer_id":75811909,"question_id":75811756,"body_markdown":"A simple way to do that is to collect all the Threads into a list, then `join` each of them (in a separate `Thread`, so you don&#39;t block the main thread)\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class X {\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        System.out.println(&quot;Hello World&quot;);\r\n\r\n        var mainMap = new ConcurrentHashMap&lt;Integer, String&gt;();\r\n\r\n        Random rnd = new Random();\r\n\r\n        //I don&#39;t know from the beginning how many objects\r\n        for (int i = 0; i &lt; rnd.nextInt(100); i++) {\r\n            mainMap.put(i, &quot;elem &quot; + i);\r\n        }\r\n\r\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n\r\n        mainMap.forEach(1, (k, v) -&gt; {\r\n\r\n            //this modelize a sub-task my application executes asynchronously\r\n            Thread t = new Thread(() -&gt; {\r\n                System.out.println(&quot;Object &quot; + k + &quot; started working &lt;&quot; + v + &quot;&gt;&quot;);\r\n\r\n                try {\r\n                    Thread.sleep(k * 500);\r\n                } catch (InterruptedException e1) {\r\n                    // TODO Auto-generated catch block\r\n                    e1.printStackTrace();\r\n                }\r\n\r\n\r\n                System.out.println(&quot;Object &quot; + k + &quot; done after &quot; + (k * 500) + &quot; ms&quot;);\r\n            });\r\n            threads.add(t);\r\n            t.start();\r\n        });\r\n        Executors.newSingleThreadExecutor().submit(() -&gt; {\r\n            for (Thread t : threads) {\r\n                try {\r\n                    t.join();\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n            System.out.println(&quot;All job done !&quot;);\r\n        });\r\n        System.out.println(&quot;Main thread not blocked&quot;);\r\n    }\r\n}\r\n```\r\n\r\nBut I don&#39;t think your strategy of an unlimited number of threads is good -- usually there is an optimal degree of parallelism, depending on the number of processors and the amount of IO each thread performs.\r\n\r\nI think it&#39;s better to use a thread pool:\r\n```\r\nimport java.util.Random;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class X {\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        System.out.println(&quot;Hello World&quot;);\r\n\r\n        var mainMap = new ConcurrentHashMap&lt;Integer, String&gt;();\r\n\r\n        Random rnd = new Random();\r\n\r\n        //I don&#39;t know from the beginning how many objects\r\n        for (int i = 0; i &lt; rnd.nextInt(100); i++) {\r\n            mainMap.put(i, &quot;elem &quot; + i);\r\n        }\r\n\r\n        ExecutorService executor = Executors.newFixedThreadPool(10);\r\n        mainMap.forEach(1, (k, v) -&gt; {\r\n            executor.execute(() -&gt; {\r\n                System.out.println(&quot;Object &quot; + k + &quot; started working &lt;&quot; + v + &quot;&gt;&quot;);\r\n                try {\r\n                    Thread.sleep(k * 500);\r\n                } catch (InterruptedException e1) {\r\n                    e1.printStackTrace();\r\n                }\r\n                System.out.println(&quot;Object &quot; + k + &quot; done after &quot; + (k * 500) + &quot; ms&quot;);\r\n            });\r\n        });\r\n        Executors.newSingleThreadExecutor().submit(() -&gt; {\r\n            try {\r\n                executor.shutdown();\r\n                executor.awaitTermination(1, TimeUnit.MINUTES);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            System.out.println(&quot;All job done !&quot;);\r\n        });\r\n        System.out.println(&quot;Main thread not blocked&quot;);\r\n    }\r\n}\r\n```","title":"Check if ConcurrentHashMap.forEach(PARALLELISM_THR, (k, v)-&gt;) has completed","body":"<p>A simple way to do that is to collect all the Threads into a list, then <code>join</code> each of them (in a separate <code>Thread</code>, so you don't block the main thread)</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.Executors;\n\npublic class X {\n    public static void main(String[] args) throws InterruptedException {\n\n        System.out.println(&quot;Hello World&quot;);\n\n        var mainMap = new ConcurrentHashMap&lt;Integer, String&gt;();\n\n        Random rnd = new Random();\n\n        //I don't know from the beginning how many objects\n        for (int i = 0; i &lt; rnd.nextInt(100); i++) {\n            mainMap.put(i, &quot;elem &quot; + i);\n        }\n\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n\n        mainMap.forEach(1, (k, v) -&gt; {\n\n            //this modelize a sub-task my application executes asynchronously\n            Thread t = new Thread(() -&gt; {\n                System.out.println(&quot;Object &quot; + k + &quot; started working &lt;&quot; + v + &quot;&gt;&quot;);\n\n                try {\n                    Thread.sleep(k * 500);\n                } catch (InterruptedException e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n                }\n\n\n                System.out.println(&quot;Object &quot; + k + &quot; done after &quot; + (k * 500) + &quot; ms&quot;);\n            });\n            threads.add(t);\n            t.start();\n        });\n        Executors.newSingleThreadExecutor().submit(() -&gt; {\n            for (Thread t : threads) {\n                try {\n                    t.join();\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n            System.out.println(&quot;All job done !&quot;);\n        });\n        System.out.println(&quot;Main thread not blocked&quot;);\n    }\n}\n</code></pre>\n<p>But I don't think your strategy of an unlimited number of threads is good -- usually there is an optimal degree of parallelism, depending on the number of processors and the amount of IO each thread performs.</p>\n<p>I think it's better to use a thread pool:</p>\n<pre><code>import java.util.Random;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\n\npublic class X {\n    public static void main(String[] args) throws InterruptedException {\n\n        System.out.println(&quot;Hello World&quot;);\n\n        var mainMap = new ConcurrentHashMap&lt;Integer, String&gt;();\n\n        Random rnd = new Random();\n\n        //I don't know from the beginning how many objects\n        for (int i = 0; i &lt; rnd.nextInt(100); i++) {\n            mainMap.put(i, &quot;elem &quot; + i);\n        }\n\n        ExecutorService executor = Executors.newFixedThreadPool(10);\n        mainMap.forEach(1, (k, v) -&gt; {\n            executor.execute(() -&gt; {\n                System.out.println(&quot;Object &quot; + k + &quot; started working &lt;&quot; + v + &quot;&gt;&quot;);\n                try {\n                    Thread.sleep(k * 500);\n                } catch (InterruptedException e1) {\n                    e1.printStackTrace();\n                }\n                System.out.println(&quot;Object &quot; + k + &quot; done after &quot; + (k * 500) + &quot; ms&quot;);\n            });\n        });\n        Executors.newSingleThreadExecutor().submit(() -&gt; {\n            try {\n                executor.shutdown();\n                executor.awaitTermination(1, TimeUnit.MINUTES);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            System.out.println(&quot;All job done !&quot;);\n        });\n        System.out.println(&quot;Main thread not blocked&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683624496,"creation_date":1683624496,"answer_id":76207791,"question_id":75811756,"body_markdown":"It seems, you are completely missing the point of the API. When you call `mainMap.forEach(1, )`, the action is already executed in parallel and theres no sense in creating new threads, especially not one for each element. You are subverting the entire work that has been done in the `forEach` implementation (the use of thread pools) and create the very problem you are now trying to solve.\r\n\r\nThe `forEach` method does run the actions in parallel and when it returns, the operation has completed.\r\n\r\n```java\r\nimport java.util.concurrent.ConcurrentHashMap;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    System.out.println(&quot;Hello World&quot;);\r\n    var mainMap = new ConcurrentHashMap&lt;Integer, String&gt;();\r\n    var rnd = ThreadLocalRandom.current();\r\n\r\n    // I don&#39;t know from the beginning how many objects\r\n    for(int i = 0; i &lt; rnd.nextInt(100); i++) {\r\n      mainMap.put(i, &quot;elem &quot; + i);\r\n    }\r\n\r\n    mainMap.forEach(1, (k, v) -&gt; {\r\n      System.out.println(&quot;Object &quot; + k\r\n          + &quot; started working &lt;&quot; + v + &quot;&gt; &quot; + Thread.currentThread());\r\n      try {\r\n        Thread.sleep(k * 500);\r\n      }\r\n      catch(InterruptedException e1) {\r\n        e1.printStackTrace();\r\n      }\r\n      System.out.println(&quot;Object &quot; + k + &quot; done after &quot; + (k * 500) + &quot; ms&quot;);\r\n    });\r\n\r\n    System.out.println(&quot;All job done !&quot;);\r\n  }\r\n}\r\n```\r\n\r\n```none\r\nHello World\r\nObject 0 started working &lt;elem 0&gt; Thread[#1,main,5,main]\r\nObject 0 done after 0 ms\r\nObject 1 started working &lt;elem 1&gt; Thread[#1,main,5,main]\r\nObject 2 started working &lt;elem 2&gt; Thread[#22,ForkJoinPool.commonPool-worker-1,5,main]\r\nObject 4 started working &lt;elem 4&gt; Thread[#23,ForkJoinPool.commonPool-worker-2,5,main]\r\nObject 1 done after 500 ms\r\nObject 2 done after 1000 ms\r\nObject 3 started working &lt;elem 3&gt; Thread[#22,ForkJoinPool.commonPool-worker-1,5,main]\r\nObject 4 done after 2000 ms\r\nObject 5 started working &lt;elem 5&gt; Thread[#23,ForkJoinPool.commonPool-worker-2,5,main]\r\nObject 3 done after 1500 ms\r\nObject 5 done after 2500 ms\r\nAll job done !\r\n```\r\n\r\nThe result differs from your expectation slightly, as the waiting times for the first keys are too small.\r\n\r\n---\r\n\r\nIf you want to avoid blocking the initiator thread, e.g. because its the event dispatch thread, submit the entire operation to a background thread:\r\n\r\n```java\r\nCompletableFuture&lt;Void&gt; operation = CompletableFuture.runAsync(() -&gt; {\r\n  mainMap.forEach(1, (k, v) -&gt; {\r\n    System.out.println(&quot;Object &quot; + k\r\n        + &quot; started working &lt;&quot; + v + &quot;&gt; &quot; + Thread.currentThread());\r\n    try {\r\n      Thread.sleep(k * 500);\r\n    }\r\n    catch(InterruptedException e1) {\r\n      e1.printStackTrace();\r\n    }\r\n    System.out.println(&quot;Object &quot; + k + &quot; done after &quot; + (k * 500) + &quot; ms&quot;);\r\n  });\r\n});\r\n```\r\n\r\nThen, you can poll the operation status, e.g.\r\n\r\n```java\r\nSystem.out.println(operation.isDone()? &quot;done.&quot;: &quot;still running&quot;);\r\n```\r\n\r\nbut also chain dependent operations like\r\n\r\n```java\r\noperation.thenAccept(_void -&gt; System.out.println(&quot;All job done !&quot;));\r\n```\r\n\r\nor, more interesting for your actual use case,\r\n\r\n```java\r\noperation.thenAcceptAsync(_void -&gt; {\r\n    /* update UI components */\r\n  }, EventQueue::invokeLater);\r\n```\r\n\r\nto update the UI components in the event dispatch thread after completion while not blocking the event dispatch thread while running.\r\n","title":"Check if ConcurrentHashMap.forEach(PARALLELISM_THR, (k, v)-&gt;) has completed","body":"<p>It seems, you are completely missing the point of the API. When you call <code>mainMap.forEach(1, )</code>, the action is already executed in parallel and theres no sense in creating new threads, especially not one for each element. You are subverting the entire work that has been done in the <code>forEach</code> implementation (the use of thread pools) and create the very problem you are now trying to solve.</p>\n<p>The <code>forEach</code> method does run the actions in parallel and when it returns, the operation has completed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class Main {\n  public static void main(String[] args) {\n    System.out.println(&quot;Hello World&quot;);\n    var mainMap = new ConcurrentHashMap&lt;Integer, String&gt;();\n    var rnd = ThreadLocalRandom.current();\n\n    // I don't know from the beginning how many objects\n    for(int i = 0; i &lt; rnd.nextInt(100); i++) {\n      mainMap.put(i, &quot;elem &quot; + i);\n    }\n\n    mainMap.forEach(1, (k, v) -&gt; {\n      System.out.println(&quot;Object &quot; + k\n          + &quot; started working &lt;&quot; + v + &quot;&gt; &quot; + Thread.currentThread());\n      try {\n        Thread.sleep(k * 500);\n      }\n      catch(InterruptedException e1) {\n        e1.printStackTrace();\n      }\n      System.out.println(&quot;Object &quot; + k + &quot; done after &quot; + (k * 500) + &quot; ms&quot;);\n    });\n\n    System.out.println(&quot;All job done !&quot;);\n  }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Hello World\nObject 0 started working &lt;elem 0&gt; Thread[#1,main,5,main]\nObject 0 done after 0 ms\nObject 1 started working &lt;elem 1&gt; Thread[#1,main,5,main]\nObject 2 started working &lt;elem 2&gt; Thread[#22,ForkJoinPool.commonPool-worker-1,5,main]\nObject 4 started working &lt;elem 4&gt; Thread[#23,ForkJoinPool.commonPool-worker-2,5,main]\nObject 1 done after 500 ms\nObject 2 done after 1000 ms\nObject 3 started working &lt;elem 3&gt; Thread[#22,ForkJoinPool.commonPool-worker-1,5,main]\nObject 4 done after 2000 ms\nObject 5 started working &lt;elem 5&gt; Thread[#23,ForkJoinPool.commonPool-worker-2,5,main]\nObject 3 done after 1500 ms\nObject 5 done after 2500 ms\nAll job done !\n</code></pre>\n<p>The result differs from your expectation slightly, as the waiting times for the first keys are too small.</p>\n<hr />\n<p>If you want to avoid blocking the initiator thread, e.g. because its the event dispatch thread, submit the entire operation to a background thread:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Void&gt; operation = CompletableFuture.runAsync(() -&gt; {\n  mainMap.forEach(1, (k, v) -&gt; {\n    System.out.println(&quot;Object &quot; + k\n        + &quot; started working &lt;&quot; + v + &quot;&gt; &quot; + Thread.currentThread());\n    try {\n      Thread.sleep(k * 500);\n    }\n    catch(InterruptedException e1) {\n      e1.printStackTrace();\n    }\n    System.out.println(&quot;Object &quot; + k + &quot; done after &quot; + (k * 500) + &quot; ms&quot;);\n  });\n});\n</code></pre>\n<p>Then, you can poll the operation status, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(operation.isDone()? &quot;done.&quot;: &quot;still running&quot;);\n</code></pre>\n<p>but also chain dependent operations like</p>\n<pre class=\"lang-java prettyprint-override\"><code>operation.thenAccept(_void -&gt; System.out.println(&quot;All job done !&quot;));\n</code></pre>\n<p>or, more interesting for your actual use case,</p>\n<pre class=\"lang-java prettyprint-override\"><code>operation.thenAcceptAsync(_void -&gt; {\n    /* update UI components */\n  }, EventQueue::invokeLater);\n</code></pre>\n<p>to update the UI components in the event dispatch thread after completion while not blocking the event dispatch thread while running.</p>\n"}],"owner":{"account_id":4168155,"reputation":2397,"user_id":3416648,"accept_rate":83,"display_name":"DDS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683624496,"creation_date":1679484938,"question_id":75811756,"body_markdown":"is there a way to know if a parallel foreach on a concurrent hashmap has ended\r\n\r\n\r\nhere is an example of what I want to do:\r\n\r\n```java\r\nimport java.util.concurrent.ConcurrentHashMap;\r\nimport java.util.Random;\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t \r\n\t\tSystem.out.println(&quot;Hello World&quot;);\r\n\t\t\r\n\t\tvar mainMap = new ConcurrentHashMap&lt;Integer, String&gt;();\r\n\t\t\r\n\t\t Random rnd = new Random();\r\n\t\t\r\n        //I don&#39;t know from the beginning how many objects\r\n\t\tfor(int i=0; i&lt;rnd.nextInt(100); i++){\r\n\t\t    mainMap.put(i,&quot;elem &quot;+i);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\tmainMap.forEach(1, (k, v) -&gt; {\r\n                \r\n                //this modelize a sub-task my application executes asynchronously\r\n                Thread t = new Thread(()-&gt;{\r\n                System.out.println(&quot;Object &quot;+k+&quot; started working &lt;&quot; + v+&quot;&gt;&quot;);\r\n                \r\n                try {\r\n\t\t            Thread.sleep(k*500);\t\r\n\t\t            } catch (InterruptedException e1) {\r\n\t\t\t        // TODO Auto-generated catch block\r\n\t\t\t        e1.printStackTrace();\r\n\t\t    }\r\n\t\t\r\n        \r\n                System.out.println(&quot;Object &quot;+k+&quot; done after &quot;+(k*500)+&quot; ms&quot;);\r\n                });\r\n                \r\n                t.start();\r\n            });\r\n            \r\n            //I want to print this only after all jobs are finished\r\n            //but still I don&#39;t want to block the main (GUI) thread\r\n            System.out.println(&quot;All job done !&quot;);\r\n            \r\n       return;\r\n\t}\r\n}\r\n```\r\n\r\nright now an output is like this:\r\n\r\n```\r\nHello World\r\nAll job done !\r\nObject 0 started working &lt;elem 0&gt;\r\nObject 2 started working &lt;elem 2&gt;\r\nObject 4 started working &lt;elem 4&gt;\r\nObject 3 started working &lt;elem 3&gt;\r\nObject 1 started working &lt;elem 1&gt;\r\nObject 0 done after 0 ms\r\nObject 1 done after 500 ms\r\nObject 2 done after 1000 ms\r\nObject 3 done after 1500 ms\r\n```\r\nBut I expect something like this:\r\n\r\n```\r\nHello World\r\nObject 0 started working &lt;elem 0&gt;\r\nObject 2 started working &lt;elem 2&gt;\r\nObject 4 started working &lt;elem 4&gt;\r\nObject 3 started working &lt;elem 3&gt;\r\nObject 1 started working &lt;elem 1&gt;\r\nObject 0 done after 0 ms\r\nObject 4 done after 2000 ms\r\nObject 1 done after 500 ms\r\nObject 2 done after 1000 ms\r\nObject 3 done after 1500 ms\r\nAll job done !\r\n```\r\n","title":"Check if ConcurrentHashMap.forEach(PARALLELISM_THR, (k, v)-&gt;) has completed","body":"<p>is there a way to know if a parallel foreach on a concurrent hashmap has ended</p>\n<p>here is an example of what I want to do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.ConcurrentHashMap;\nimport java.util.Random;\npublic class Main\n{\n    public static void main(String[] args) {\n     \n        System.out.println(&quot;Hello World&quot;);\n        \n        var mainMap = new ConcurrentHashMap&lt;Integer, String&gt;();\n        \n         Random rnd = new Random();\n        \n        //I don't know from the beginning how many objects\n        for(int i=0; i&lt;rnd.nextInt(100); i++){\n            mainMap.put(i,&quot;elem &quot;+i);\n        }\n        \n        \n        \n            mainMap.forEach(1, (k, v) -&gt; {\n                \n                //this modelize a sub-task my application executes asynchronously\n                Thread t = new Thread(()-&gt;{\n                System.out.println(&quot;Object &quot;+k+&quot; started working &lt;&quot; + v+&quot;&gt;&quot;);\n                \n                try {\n                    Thread.sleep(k*500);    \n                    } catch (InterruptedException e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n            }\n        \n        \n                System.out.println(&quot;Object &quot;+k+&quot; done after &quot;+(k*500)+&quot; ms&quot;);\n                });\n                \n                t.start();\n            });\n            \n            //I want to print this only after all jobs are finished\n            //but still I don't want to block the main (GUI) thread\n            System.out.println(&quot;All job done !&quot;);\n            \n       return;\n    }\n}\n</code></pre>\n<p>right now an output is like this:</p>\n<pre><code>Hello World\nAll job done !\nObject 0 started working &lt;elem 0&gt;\nObject 2 started working &lt;elem 2&gt;\nObject 4 started working &lt;elem 4&gt;\nObject 3 started working &lt;elem 3&gt;\nObject 1 started working &lt;elem 1&gt;\nObject 0 done after 0 ms\nObject 1 done after 500 ms\nObject 2 done after 1000 ms\nObject 3 done after 1500 ms\n</code></pre>\n<p>But I expect something like this:</p>\n<pre><code>Hello World\nObject 0 started working &lt;elem 0&gt;\nObject 2 started working &lt;elem 2&gt;\nObject 4 started working &lt;elem 4&gt;\nObject 3 started working &lt;elem 3&gt;\nObject 1 started working &lt;elem 1&gt;\nObject 0 done after 0 ms\nObject 4 done after 2000 ms\nObject 1 done after 500 ms\nObject 2 done after 1000 ms\nObject 3 done after 1500 ms\nAll job done !\n</code></pre>\n"},{"tags":["java","file-io","delete-directory"],"comments":[{"owner":{"account_id":243084,"reputation":31440,"user_id":515034,"accept_rate":59,"display_name":"Abimaran Kugathasan"},"score":7,"creation_date":1385715932,"post_id":20281835,"comment_id":30257710,"body_markdown":"What happened when you tried?","body":"What happened when you tried?"},{"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"score":1,"creation_date":1385716033,"post_id":20281835,"comment_id":30257779,"body_markdown":"What is the question?","body":"What is the question?"},{"owner":{"account_id":3657940,"reputation":3431,"user_id":3048442,"accept_rate":17,"display_name":"Mr.G"},"score":1,"creation_date":1385716050,"post_id":20281835,"comment_id":30257790,"body_markdown":"index file not remove.","body":"index file not remove."},{"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"score":0,"creation_date":1385716101,"post_id":20281835,"comment_id":30257810,"body_markdown":"you are callinf index.mkdir() again,so if the file is removed then also it will create another","body":"you are callinf index.mkdir() again,so if the file is removed then also it will create another"},{"owner":{"account_id":2569717,"reputation":22819,"user_id":2228771,"accept_rate":77,"display_name":"Domi"},"score":0,"creation_date":1385716106,"post_id":20281835,"comment_id":30257814,"body_markdown":"@user3048442 That is probably because you are re-creating it after deleting it.","body":"@user3048442 That is probably because you are re-creating it after deleting it."},{"owner":{"account_id":3657940,"reputation":3431,"user_id":3048442,"accept_rate":17,"display_name":"Mr.G"},"score":0,"creation_date":1385716155,"post_id":20281835,"comment_id":30257834,"body_markdown":"I want a create and delete a file as dynamically.but here file was created not deleted.","body":"I want a create and delete a file as dynamically.but here file was created not deleted."},{"owner":{"account_id":3657940,"reputation":3431,"user_id":3048442,"accept_rate":17,"display_name":"Mr.G"},"score":0,"creation_date":1385716258,"post_id":20281835,"comment_id":30257890,"body_markdown":"mr.JqueryLearner that folder cotains file but that files are not deleted i want delete that file also.","body":"mr.JqueryLearner that folder cotains file but that files are not deleted i want delete that file also."},{"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"score":1,"creation_date":1417289030,"post_id":20281835,"comment_id":42894551,"body_markdown":"Refer [How to delete a directory in Java](http://opensourceforgeeks.blogspot.in/2014/11/how-to-delete-directory-in-java.html)","body":"Refer <a href=\"http://opensourceforgeeks.blogspot.in/2014/11/how-to-delete-directory-in-java.html\" rel=\"nofollow noreferrer\">How to delete a directory in Java</a>"},{"owner":{"account_id":2112055,"reputation":553,"user_id":1877143,"display_name":"Hank Schultz"},"score":1,"creation_date":1447258057,"post_id":20281835,"comment_id":55082648,"body_markdown":"Unfortunately, @AniketThakur, that approach will follow symbolic links and delete files and directories that may not have been intended.","body":"Unfortunately, @AniketThakur, that approach will follow symbolic links and delete files and directories that may not have been intended."},{"owner":{"account_id":95417,"reputation":4933,"user_id":259889,"accept_rate":76,"display_name":"Sid"},"score":0,"creation_date":1548755222,"post_id":20281835,"comment_id":95645856,"body_markdown":"The Apache IO library has the capability to delete directories with files.  Check https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html","body":"The Apache IO library has the capability to delete directories with files.  Check <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-io/javadocs/api-2.5/org/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1385716099,"creation_date":1385716099,"answer_id":20281899,"question_id":20281835,"body_markdown":"Remove it from else part\r\n\r\n    File index = new File(&quot;/home/Work/Indexer1&quot;);\r\n    if (!index.exists())\r\n    {\r\n         index.mkdir();\r\n         System.out.println(&quot;Dir Not present. Creating new one!&quot;);\r\n    }\r\n    index.delete();\r\n    System.out.println(&quot;File deleted successfully&quot;);\r\n","title":"How to delete a folder with files using Java","body":"<p>Remove it from else part</p>\n\n<pre><code>File index = new File(\"/home/Work/Indexer1\");\nif (!index.exists())\n{\n     index.mkdir();\n     System.out.println(\"Dir Not present. Creating new one!\");\n}\nindex.delete();\nSystem.out.println(\"File deleted successfully\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1385717793,"creation_date":1385716177,"answer_id":20281925,"question_id":20281835,"body_markdown":"In this  \r\n\r\n    index.delete();\r\n    \r\n                if (!index.exists())\r\n                   {\r\n                       index.mkdir();\r\n                   }\r\n\r\nyou are calling\r\n\r\n     if (!index.exists())\r\n                       {\r\n                           index.mkdir();\r\n                       }\r\n\r\nafter\r\n\r\n    index.delete();\r\n\r\nThis means that you are creating the file again after deleting\r\n[File.delete()][1] returns a boolean value.So if you want to check then do `System.out.println(index.delete());` if you get `true` then this means that file is deleted\r\n\r\n    File index = new File(&quot;/home/Work/Indexer1&quot;);\r\n    &#160; &#160; if (!index.exists())\r\n    &#160; &#160; &#160; &#160;{\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160;index.mkdir();\r\n    &#160; &#160; &#160; &#160;}\r\n    &#160; &#160; else{\r\n    &#160; &#160; &#160; &#160; &#160; &#160; System.out.println(index.delete());//If you get true then file is deleted\r\n    \r\n    \r\n    \r\n    \r\n    &#160; &#160; &#160; &#160; &#160; &#160; if (!index.exists())\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;{\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;index.mkdir();// here you are creating again after deleting the file\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;}\r\n    \r\n    \r\n    \r\n    \r\n    &#160; &#160; &#160; &#160; }\r\n\r\nfrom the [comments][2] given below,the updated answer is like this\r\n\r\n\r\n    File f=new File(&quot;full_path&quot;);//full path like c:/home/ri\r\n    \tif(f.exists())\r\n    \t{\r\n    \t\tf.delete();\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\ttry {\r\n    \t\t\t//f.createNewFile();//this will create a file\r\n    \t\t\tf.mkdir();//this create a folder\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/File.html#delete%28%29\r\n  [2]: https://stackoverflow.com/questions/20281835/how-to-delete-a-folder-with-files-using-java/20281925?noredirect=1#comment30258407_20281925","title":"How to delete a folder with files using Java","body":"<p>In this  </p>\n\n<pre><code>index.delete();\n\n            if (!index.exists())\n               {\n                   index.mkdir();\n               }\n</code></pre>\n\n<p>you are calling</p>\n\n<pre><code> if (!index.exists())\n                   {\n                       index.mkdir();\n                   }\n</code></pre>\n\n<p>after</p>\n\n<pre><code>index.delete();\n</code></pre>\n\n<p>This means that you are creating the file again after deleting\n<a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/File.html#delete%28%29\" rel=\"nofollow noreferrer\">File.delete()</a> returns a boolean value.So if you want to check then do <code>System.out.println(index.delete());</code> if you get <code>true</code> then this means that file is deleted</p>\n\n<pre><code>File index = new File(\"/home/Work/Indexer1\");\n  if (!index.exists())\n   {\n      index.mkdir();\n   }\n  else{\n      System.out.println(index.delete());//If you get true then file is deleted\n\n\n\n\n      if (!index.exists())\n       {\n         index.mkdir();// here you are creating again after deleting the file\n       }\n\n\n\n\n    }\n</code></pre>\n\n<p>from the <a href=\"https://stackoverflow.com/questions/20281835/how-to-delete-a-folder-with-files-using-java/20281925?noredirect=1#comment30258407_20281925\">comments</a> given below,the updated answer is like this</p>\n\n<pre><code>File f=new File(\"full_path\");//full path like c:/home/ri\n    if(f.exists())\n    {\n        f.delete();\n    }\n    else\n    {\n        try {\n            //f.createNewFile();//this will create a file\n            f.mkdir();//this create a folder\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3622491,"reputation":1453,"user_id":3020884,"display_name":"Cemron"},"down_vote_count":8,"up_vote_count":136,"is_accepted":true,"score":128,"last_activity_date":1385716277,"creation_date":1385716277,"answer_id":20281958,"question_id":20281835,"body_markdown":"Java isn&#39;t able to delete folders with data in it. You have to delete all files before deleting the folder.\r\n\r\nUse something like:\r\n\r\n    String[]entries = index.list();\r\n    for(String s: entries){\r\n        File currentFile = new File(index.getPath(),s);\r\n        currentFile.delete();\r\n    }\r\n\r\nThen you should be able to delete the folder by using `index.delete()`\r\nUntested!","title":"How to delete a folder with files using Java","body":"<p>Java isn't able to delete folders with data in it. You have to delete all files before deleting the folder.</p>\n\n<p>Use something like:</p>\n\n<pre><code>String[]entries = index.list();\nfor(String s: entries){\n    File currentFile = new File(index.getPath(),s);\n    currentFile.delete();\n}\n</code></pre>\n\n<p>Then you should be able to delete the folder by using <code>index.delete()</code>\nUntested!</p>\n"},{"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1590866957,"creation_date":1385716383,"answer_id":20281994,"question_id":20281835,"body_markdown":"In JDK 7 you could use `Files.walkFileTree()` and `Files.deleteIfExists()` to delete a tree of files. (Sample: http://fahdshariff.blogspot.ru/2011/08/java-7-deleting-directory-by-walking.html)\r\n\r\nIn JDK 6 one possible way is to use [FileUtils.deleteQuietly](http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#deleteQuietly(java.io.File)) from Apache Commons which will remove a file, a directory, or a directory with files and sub-directories.","title":"How to delete a folder with files using Java","body":"<p>In JDK 7 you could use <code>Files.walkFileTree()</code> and <code>Files.deleteIfExists()</code> to delete a tree of files. (Sample: <a href=\"http://fahdshariff.blogspot.ru/2011/08/java-7-deleting-directory-by-walking.html\" rel=\"nofollow noreferrer\">http://fahdshariff.blogspot.ru/2011/08/java-7-deleting-directory-by-walking.html</a>)</p>\n\n<p>In JDK 6 one possible way is to use <a href=\"http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#deleteQuietly(java.io.File)\" rel=\"nofollow noreferrer\">FileUtils.deleteQuietly</a> from Apache Commons which will remove a file, a directory, or a directory with files and sub-directories.</p>\n"},{"tags":[],"owner":{"account_id":3617928,"reputation":1462,"user_id":3017357,"accept_rate":78,"display_name":"Indranil.Bharambe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385716418,"creation_date":1385716418,"answer_id":20282002,"question_id":20281835,"body_markdown":" directry cannot simply delete if it has the files so you may need to delete the files inside first and then directory\r\n\r\n    public class DeleteFileFolder {\r\n \r\n    public DeleteFileFolder(String path) {\r\n \r\n        File file = new File(path);\r\n        if(file.exists())\r\n        {\r\n            do{\r\n                delete(file);\r\n            }while(file.exists());\r\n        }else\r\n        {\r\n            System.out.println(&quot;File or Folder not found : &quot;+path);\r\n        }\r\n \r\n    }\r\n    private void delete(File file)\r\n    {\r\n        if(file.isDirectory())\r\n        {\r\n            String fileList[] = file.list();\r\n            if(fileList.length == 0)\r\n            {\r\n                System.out.println(&quot;Deleting Directory : &quot;+file.getPath());\r\n                file.delete();\r\n            }else\r\n            {\r\n                int size = fileList.length;\r\n                for(int i = 0 ; i &lt; size ; i++)\r\n                {\r\n                    String fileName = fileList[i];\r\n                    System.out.println(&quot;File path : &quot;+file.getPath()+&quot; and name :&quot;+fileName);\r\n                    String fullPath = file.getPath()+&quot;/&quot;+fileName;\r\n                    File fileOrFolder = new File(fullPath);\r\n                    System.out.println(&quot;Full Path :&quot;+fileOrFolder.getPath());\r\n                    delete(fileOrFolder);\r\n                }\r\n            }\r\n        }else\r\n        {\r\n            System.out.println(&quot;Deleting file : &quot;+file.getPath());\r\n            file.delete();\r\n        }\r\n    }","title":"How to delete a folder with files using Java","body":"<p>directry cannot simply delete if it has the files so you may need to delete the files inside first and then directory</p>\n\n<pre><code>public class DeleteFileFolder {\n\npublic DeleteFileFolder(String path) {\n\n    File file = new File(path);\n    if(file.exists())\n    {\n        do{\n            delete(file);\n        }while(file.exists());\n    }else\n    {\n        System.out.println(\"File or Folder not found : \"+path);\n    }\n\n}\nprivate void delete(File file)\n{\n    if(file.isDirectory())\n    {\n        String fileList[] = file.list();\n        if(fileList.length == 0)\n        {\n            System.out.println(\"Deleting Directory : \"+file.getPath());\n            file.delete();\n        }else\n        {\n            int size = fileList.length;\n            for(int i = 0 ; i &lt; size ; i++)\n            {\n                String fileName = fileList[i];\n                System.out.println(\"File path : \"+file.getPath()+\" and name :\"+fileName);\n                String fullPath = file.getPath()+\"/\"+fileName;\n                File fileOrFolder = new File(fullPath);\n                System.out.println(\"Full Path :\"+fileOrFolder.getPath());\n                delete(fileOrFolder);\n            }\n        }\n    }else\n    {\n        System.out.println(\"Deleting file : \"+file.getPath());\n        file.delete();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":331432,"reputation":3297,"user_id":656094,"accept_rate":40,"display_name":"Panthro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395415077,"creation_date":1395415077,"answer_id":22562676,"question_id":20281835,"body_markdown":"If you have subfolders, you will find troubles with the Cemron answers. so you should create a method that works like this:\r\n\r\n\r\n    private void deleteTempFile(File tempFile) {\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t    if(tempFile.isDirectory()){\r\n    \t\t\t   File[] entries = tempFile.listFiles();\r\n    \t\t\t   for(File currentFile: entries){\r\n    \t\t\t       deleteTempFile(currentFile);\r\n    \t\t\t   }\r\n    \t\t\t   tempFile.delete();\r\n    \t\t    }else{\r\n                   tempFile.delete();\r\n\t\t        }\r\n\t\t    getLogger().info(&quot;DELETED Temporal File: &quot; + tempFile.getPath());\r\n    \t\t}\r\n    \t\tcatch(Throwable t)\r\n    \t\t{\r\n    \t\t\tgetLogger().error(&quot;Could not DELETE file: &quot; + tempFile.getPath(), t);\r\n    \t\t}\r\n    \t}","title":"How to delete a folder with files using Java","body":"<p>If you have subfolders, you will find troubles with the Cemron answers. so you should create a method that works like this:</p>\n\n<pre><code>private void deleteTempFile(File tempFile) {\n        try\n        {\n            if(tempFile.isDirectory()){\n               File[] entries = tempFile.listFiles();\n               for(File currentFile: entries){\n                   deleteTempFile(currentFile);\n               }\n               tempFile.delete();\n            }else{\n               tempFile.delete();\n            }\n        getLogger().info(\"DELETED Temporal File: \" + tempFile.getPath());\n        }\n        catch(Throwable t)\n        {\n            getLogger().error(\"Could not DELETE file: \" + tempFile.getPath(), t);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1087257,"reputation":2781,"user_id":1082668,"display_name":"Barry Knapp"},"down_vote_count":1,"up_vote_count":256,"is_accepted":false,"score":255,"last_activity_date":1653058692,"creation_date":1400157564,"answer_id":23678498,"question_id":20281835,"body_markdown":"Just a one-liner.\r\n\r\n    import org.apache.commons.io.FileUtils;\r\n    \r\n    FileUtils.deleteDirectory(new File(destination));\r\n\r\nDocumentation [here][1]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#deleteDirectory(java.io.File)","title":"How to delete a folder with files using Java","body":"<p>Just a one-liner.</p>\n<pre><code>import org.apache.commons.io.FileUtils;\n\nFileUtils.deleteDirectory(new File(destination));\n</code></pre>\n<p>Documentation <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#deleteDirectory(java.io.File)\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":2762988,"reputation":49,"user_id":2379481,"display_name":"Marcelo Lopes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420149896,"creation_date":1420149896,"answer_id":27735114,"question_id":20281835,"body_markdown":"    private void deleteFileOrFolder(File file){\r\n        try {\r\n            for (File f : file.listFiles()) {\r\n                f.delete();\r\n                deleteFileOrFolder(f);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace(System.err);\r\n        }\r\n    }","title":"How to delete a folder with files using Java","body":"<pre><code>private void deleteFileOrFolder(File file){\n    try {\n        for (File f : file.listFiles()) {\n            f.delete();\n            deleteFileOrFolder(f);\n        }\n    } catch (Exception e) {\n        e.printStackTrace(System.err);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4458992,"reputation":1216,"user_id":3628421,"accept_rate":67,"display_name":"JRA_TLL"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1527084783,"creation_date":1421155145,"answer_id":27923134,"question_id":20281835,"body_markdown":"Using Apache Commons-IO, it is following one-liner:\r\n\r\n    import org.apache.commons.io.FileUtils;\r\n    \r\n    FileUtils.forceDelete(new File(destination));\r\n\r\nThis is (slightly) more performant than `FileUtils.deleteDirectory`.","title":"How to delete a folder with files using Java","body":"<p>Using Apache Commons-IO, it is following one-liner:</p>\n\n<pre><code>import org.apache.commons.io.FileUtils;\n\nFileUtils.forceDelete(new File(destination));\n</code></pre>\n\n<p>This is (slightly) more performant than <code>FileUtils.deleteDirectory</code>.</p>\n"},{"tags":[],"owner":{"account_id":1664814,"reputation":2953,"user_id":1532454,"accept_rate":80,"display_name":"Jeff Learman"},"down_vote_count":1,"up_vote_count":112,"is_accepted":false,"score":111,"last_activity_date":1525819651,"creation_date":1426882951,"answer_id":29175213,"question_id":20281835,"body_markdown":"This works, and while it looks inefficient to skip the directory test, it&#39;s not: the test happens right away in `listFiles()`.\r\n\r\n    void deleteDir(File file) {\r\n    \tFile[] contents = file.listFiles();\r\n    \tif (contents != null) {\r\n            for (File f : contents) {\r\n                deleteDir(f);\r\n            }\r\n    \t}\r\n        file.delete();\r\n    }\r\n\r\nUpdate, to avoid following symbolic links:\r\n\r\n    void deleteDir(File file) {\r\n        File[] contents = file.listFiles();\r\n        if (contents != null) {\r\n            for (File f : contents) {\r\n            \tif (! Files.isSymbolicLink(f.toPath())) {\r\n            \t\tdeleteDir(f);\r\n            \t}\r\n            }\r\n        }\r\n        file.delete();\r\n    }\r\n","title":"How to delete a folder with files using Java","body":"<p>This works, and while it looks inefficient to skip the directory test, it's not: the test happens right away in <code>listFiles()</code>.</p>\n\n<pre><code>void deleteDir(File file) {\n    File[] contents = file.listFiles();\n    if (contents != null) {\n        for (File f : contents) {\n            deleteDir(f);\n        }\n    }\n    file.delete();\n}\n</code></pre>\n\n<p>Update, to avoid following symbolic links:</p>\n\n<pre><code>void deleteDir(File file) {\n    File[] contents = file.listFiles();\n    if (contents != null) {\n        for (File f : contents) {\n            if (! Files.isSymbolicLink(f.toPath())) {\n                deleteDir(f);\n            }\n        }\n    }\n    file.delete();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5776831,"reputation":342,"user_id":4558679,"display_name":"Pierre Lem&#233;e"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1442233462,"creation_date":1427192493,"answer_id":29230012,"question_id":20281835,"body_markdown":"My basic recursive version, working with older versions of JDK:\r\n\r\n    public static void deleteFile(File element) {\r\n        if (element.isDirectory()) {\r\n            for (File sub : element.listFiles()) {\r\n                deleteFile(sub);\r\n            }\r\n        }\r\n        element.delete();\r\n    }","title":"How to delete a folder with files using Java","body":"<p>My basic recursive version, working with older versions of JDK:</p>\n\n<pre><code>public static void deleteFile(File element) {\n    if (element.isDirectory()) {\n        for (File sub : element.listFiles()) {\n            deleteFile(sub);\n        }\n    }\n    element.delete();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":271954,"reputation":303,"user_id":562765,"display_name":"Mushtaque Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453805145,"creation_date":1453805145,"answer_id":35012024,"question_id":20281835,"body_markdown":"            import org.apache.commons.io.FileUtils;\r\n\r\n            List&lt;String&gt; directory =  new ArrayList(); \r\n\t\t\tdirectory.add(&quot;test-output&quot;); \r\n\t\t\tdirectory.add(&quot;Reports/executions&quot;); \r\n\t\t\tdirectory.add(&quot;Reports/index.html&quot;); \r\n\t\t\tdirectory.add(&quot;Reports/report.properties&quot;); \r\n\t\t\tfor(int count = 0 ; count &lt; directory.size() ; count ++)\r\n\t\t\t{\r\n\t\t\tString destination = directory.get(count);\r\n\t\t\tdeleteDirectory(destination);\r\n\t\t\t}\r\n\r\n\r\n\r\n\r\n\r\n          public void deleteDirectory(String path) {\r\n\r\n\t        File file  = new File(path);\r\n\t        if(file.isDirectory()){\r\n\t        \t System.out.println(&quot;Deleting Directory :&quot; + path);\r\n\t        \ttry {\r\n\t\t\t\t\tFileUtils.deleteDirectory(new File(path)); //deletes the whole folder\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t        }\r\n\t        else {\r\n \t\t\tSystem.out.println(&quot;Deleting File :&quot; + path);\r\n\t            //it is a simple file. Proceed for deletion\r\n\t            file.delete();\r\n\t        }\r\n\t         \r\n\t    }\r\n\r\n\r\nWorks like a Charm . For both folder and files . Salam :) ","title":"How to delete a folder with files using Java","body":"<pre><code>        import org.apache.commons.io.FileUtils;\n\n        List&lt;String&gt; directory =  new ArrayList(); \n        directory.add(\"test-output\"); \n        directory.add(\"Reports/executions\"); \n        directory.add(\"Reports/index.html\"); \n        directory.add(\"Reports/report.properties\"); \n        for(int count = 0 ; count &lt; directory.size() ; count ++)\n        {\n        String destination = directory.get(count);\n        deleteDirectory(destination);\n        }\n\n\n\n\n\n      public void deleteDirectory(String path) {\n\n        File file  = new File(path);\n        if(file.isDirectory()){\n             System.out.println(\"Deleting Directory :\" + path);\n            try {\n                FileUtils.deleteDirectory(new File(path)); //deletes the whole folder\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n        else {\n        System.out.println(\"Deleting File :\" + path);\n            //it is a simple file. Proceed for deletion\n            file.delete();\n        }\n\n    }\n</code></pre>\n\n<p>Works like a Charm . For both folder and files . Salam :) </p>\n"},{"tags":[],"owner":{"account_id":7779706,"reputation":363,"user_id":5886518,"display_name":"Piyush Rumao"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1463202386,"creation_date":1458584412,"answer_id":36138762,"question_id":20281835,"body_markdown":"You can use this function\r\n\r\n    public void delete()    \r\n    {   \r\n        File f = new File(&quot;E://implementation1/&quot;);\r\n        File[] files = f.listFiles();\r\n        for (File file : files) {\r\n            file.delete();\r\n        }\r\n    }\r\n     ","title":"How to delete a folder with files using Java","body":"<p>You can use this function</p>\n\n<pre><code>public void delete()    \n{   \n    File f = new File(\"E://implementation1/\");\n    File[] files = f.listFiles();\n    for (File file : files) {\n        file.delete();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3849703,"reputation":435,"user_id":3190174,"accept_rate":75,"display_name":"Javo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1459420205,"creation_date":1459420205,"answer_id":36330841,"question_id":20281835,"body_markdown":"I like this solution the most. It does not use 3rd party library, instead it uses [NIO2][1] of Java 7.\r\n\r\n    /**\r\n     * Deletes Folder with all of its content\r\n     *\r\n     * @param folder path to folder which should be deleted\r\n     */\r\n    public static void deleteFolderAndItsContent(final Path folder) throws IOException {\r\n        Files.walkFileTree(folder, new SimpleFileVisitor&lt;Path&gt;() {\r\n            @Override\r\n            public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n                Files.delete(file);\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n\r\n            @Override\r\n            public FileVisitResult postVisitDirectory(Path dir, IOException exc) throws IOException {\r\n                if (exc != null) {\r\n                    throw exc;\r\n                }\r\n                Files.delete(dir);\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/io/fileio.html &quot;NIO2&quot;","title":"How to delete a folder with files using Java","body":"<p>I like this solution the most. It does not use 3rd party library, instead it uses <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow\" title=\"NIO2\">NIO2</a> of Java 7.</p>\n\n<pre><code>/**\n * Deletes Folder with all of its content\n *\n * @param folder path to folder which should be deleted\n */\npublic static void deleteFolderAndItsContent(final Path folder) throws IOException {\n    Files.walkFileTree(folder, new SimpleFileVisitor&lt;Path&gt;() {\n        @Override\n        public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n            Files.delete(file);\n            return FileVisitResult.CONTINUE;\n        }\n\n        @Override\n        public FileVisitResult postVisitDirectory(Path dir, IOException exc) throws IOException {\n            if (exc != null) {\n                throw exc;\n            }\n            Files.delete(dir);\n            return FileVisitResult.CONTINUE;\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1487694617,"creation_date":1487694617,"answer_id":42372854,"question_id":20281835,"body_markdown":"This is the best solution for `Java 7+`:\r\n\r\n    public static void deleteDirectory(String directoryFilePath) throws IOException\r\n    {\r\n    \tPath directory = Paths.get(directoryFilePath);\r\n    \r\n    \tif (Files.exists(directory))\r\n    \t{\r\n    \t\tFiles.walkFileTree(directory, new SimpleFileVisitor&lt;Path&gt;()\r\n    \t\t{\r\n    \t\t\t@Override\r\n    \t\t\tpublic FileVisitResult visitFile(Path path, BasicFileAttributes basicFileAttributes) throws IOException\r\n    \t\t\t{\r\n    \t\t\t\tFiles.delete(path);\r\n    \t\t\t\treturn FileVisitResult.CONTINUE;\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic FileVisitResult postVisitDirectory(Path directory, IOException ioException) throws IOException\r\n    \t\t\t{\r\n    \t\t\t\tFiles.delete(directory);\r\n    \t\t\t\treturn FileVisitResult.CONTINUE;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }","title":"How to delete a folder with files using Java","body":"<p>This is the best solution for <code>Java 7+</code>:</p>\n\n<pre><code>public static void deleteDirectory(String directoryFilePath) throws IOException\n{\n    Path directory = Paths.get(directoryFilePath);\n\n    if (Files.exists(directory))\n    {\n        Files.walkFileTree(directory, new SimpleFileVisitor&lt;Path&gt;()\n        {\n            @Override\n            public FileVisitResult visitFile(Path path, BasicFileAttributes basicFileAttributes) throws IOException\n            {\n                Files.delete(path);\n                return FileVisitResult.CONTINUE;\n            }\n\n            @Override\n            public FileVisitResult postVisitDirectory(Path directory, IOException ioException) throws IOException\n            {\n                Files.delete(directory);\n                return FileVisitResult.CONTINUE;\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1571583,"reputation":2828,"user_id":1459174,"accept_rate":88,"display_name":"prem30488"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488866878,"creation_date":1488866878,"answer_id":42641329,"question_id":20281835,"body_markdown":"You can make recursive call if sub directories exists\r\n\r\n    import java.io.File;\r\n\r\n    class DeleteDir {\r\n    public static void main(String args[]) {\r\n    deleteDirectory(new File(args[0]));\r\n    }\r\n\r\n    static public boolean deleteDirectory(File path) {\r\n    if( path.exists() ) {\r\n      File[] files = path.listFiles();\r\n      for(int i=0; i&lt;files.length; i++) {\r\n         if(files[i].isDirectory()) {\r\n           deleteDirectory(files[i]);\r\n         }\r\n         else {\r\n           files[i].delete();\r\n         }\r\n      }\r\n    }\r\n    return( path.delete() );\r\n    }\r\n    }","title":"How to delete a folder with files using Java","body":"<p>You can make recursive call if sub directories exists</p>\n\n<pre><code>import java.io.File;\n\nclass DeleteDir {\npublic static void main(String args[]) {\ndeleteDirectory(new File(args[0]));\n}\n\nstatic public boolean deleteDirectory(File path) {\nif( path.exists() ) {\n  File[] files = path.listFiles();\n  for(int i=0; i&lt;files.length; i++) {\n     if(files[i].isDirectory()) {\n       deleteDirectory(files[i]);\n     }\n     else {\n       files[i].delete();\n     }\n  }\n}\nreturn( path.delete() );\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2171446,"reputation":1301,"user_id":1923328,"display_name":"Laurent Caillette"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1501834081,"creation_date":1501834081,"answer_id":45501457,"question_id":20281835,"body_markdown":"Guava 21+ to the rescue. Use only if there are no symlinks pointing out of the directory to delete. \r\n\r\n    com.google.common.io.MoreFiles.deleteRecursively(\r\n          file.toPath(),\r\n          RecursiveDeleteOption.ALLOW_INSECURE\r\n    ) ;\r\n\r\n(This question is well-indexed by Google, so other people usig Guava might be happy to find this answer, even if it is redundant with other answers elsewhere.)","title":"How to delete a folder with files using Java","body":"<p>Guava 21+ to the rescue. Use only if there are no symlinks pointing out of the directory to delete. </p>\n\n<pre><code>com.google.common.io.MoreFiles.deleteRecursively(\n      file.toPath(),\n      RecursiveDeleteOption.ALLOW_INSECURE\n) ;\n</code></pre>\n\n<p>(This question is well-indexed by Google, so other people usig Guava might be happy to find this answer, even if it is redundant with other answers elsewhere.)</p>\n"},{"tags":[],"owner":{"account_id":2090481,"reputation":498,"user_id":1860436,"accept_rate":70,"display_name":"Adam Short"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1505728133,"creation_date":1505728133,"answer_id":46276320,"question_id":20281835,"body_markdown":"Some of these answers seem unnecessarily long:\r\n\r\n    if (directory.exists()) {\r\n    \tfor (File file : directory.listFiles()) {\r\n   \t\t\tfile.delete();\r\n   \t\t}\r\n   \t\tdirectory.delete();\r\n   \t}\r\n\r\nWorks for sub directories too.","title":"How to delete a folder with files using Java","body":"<p>Some of these answers seem unnecessarily long:</p>\n\n<pre><code>if (directory.exists()) {\n    for (File file : directory.listFiles()) {\n        file.delete();\n    }\n    directory.delete();\n}\n</code></pre>\n\n<p>Works for sub directories too.</p>\n"},{"tags":[],"owner":{"account_id":116977,"reputation":1852,"user_id":306538,"display_name":"nirmal"},"down_vote_count":1,"up_vote_count":66,"is_accepted":false,"score":65,"last_activity_date":1679248019,"creation_date":1509136758,"answer_id":46983076,"question_id":20281835,"body_markdown":"I prefer this solution on java 8:\r\n\r\n      Files.walk(pathToBeDeleted)\r\n        .sorted(Comparator.reverseOrder())\r\n        .map(Path::toFile)\r\n        .forEach(File::delete);\r\n\r\nFrom this site: http://www.baeldung.com/java-delete-directory\r\n\r\nUpdate, to close the stream:\r\n\r\n      try (Stream&lt;Path&gt; pathStream = Files.walk(repoDirFile.toPath())) {\r\n        pathStream.sorted(Comparator.reverseOrder())\r\n          .map(Path::toFile)\r\n          .forEach(File::delete);\r\n      }\r\n","title":"How to delete a folder with files using Java","body":"<p>I prefer this solution on java 8:</p>\n<pre><code>  Files.walk(pathToBeDeleted)\n    .sorted(Comparator.reverseOrder())\n    .map(Path::toFile)\n    .forEach(File::delete);\n</code></pre>\n<p>From this site: <a href=\"http://www.baeldung.com/java-delete-directory\" rel=\"nofollow noreferrer\">http://www.baeldung.com/java-delete-directory</a></p>\n<p>Update, to close the stream:</p>\n<pre><code>  try (Stream&lt;Path&gt; pathStream = Files.walk(repoDirFile.toPath())) {\n    pathStream.sorted(Comparator.reverseOrder())\n      .map(Path::toFile)\n      .forEach(File::delete);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530441668,"creation_date":1530441668,"answer_id":51122542,"question_id":20281835,"body_markdown":"we can use the `spring-core` dependency;\r\n\r\n    boolean result = FileSystemUtils.deleteRecursively(file);","title":"How to delete a folder with files using Java","body":"<p>we can use the <code>spring-core</code> dependency;</p>\n\n<pre><code>boolean result = FileSystemUtils.deleteRecursively(file);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531493943,"creation_date":1531493943,"answer_id":51327957,"question_id":20281835,"body_markdown":"Most of answers (even recent) referencing JDK classes rely on [`File.delete()`][1] but that is a flawed API as the operation may fail silently.  \r\nThe `java.io.File.delete()` method documentation states :\r\n\r\n&gt; Note that the `java.nio.file.Files` class defines the `delete` method to\r\n&gt; throw an `IOException` when a file cannot be deleted. This is useful for\r\n&gt; error reporting and to diagnose why a file cannot be deleted.\r\n\r\n\r\nAs replacement, you should favor [`Files.delete(Path p)`][2]  that throws an `IOException` with a error message.   \r\n\r\nThe actual code could be written such as :\r\n\r\n\tPath index = Paths.get(&quot;/home/Work/Indexer1&quot;);\r\n\r\n\tif (!Files.exists(index)) {\r\n\t\tindex = Files.createDirectories(index);\r\n\t} else {\r\n\r\n\t\tFiles.walk(index)\r\n\t\t\t .sorted(Comparator.reverseOrder())  // as the file tree is traversed depth-first and that deleted dirs have to be empty  \r\n\t\t     .forEach(t -&gt; {\r\n\t\t\t     try {\r\n\t\t\t\t     Files.delete(t);\r\n\t\t\t     } catch (IOException e) {\r\n\t\t\t\t     // LOG the exception and potentially stop the processing\r\n\t\t\t\t    \r\n\t\t\t     }\r\n\t\t     });\r\n\t\tif (!Files.exists(index)) {\r\n\t\t\tindex = Files.createDirectories(index);\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/File.html#delete--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#delete-java.nio.file.Path-","title":"How to delete a folder with files using Java","body":"<p>Most of answers (even recent) referencing JDK classes rely on <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html#delete--\" rel=\"nofollow noreferrer\"><code>File.delete()</code></a> but that is a flawed API as the operation may fail silently.<br>\nThe <code>java.io.File.delete()</code> method documentation states :</p>\n\n<blockquote>\n  <p>Note that the <code>java.nio.file.Files</code> class defines the <code>delete</code> method to\n  throw an <code>IOException</code> when a file cannot be deleted. This is useful for\n  error reporting and to diagnose why a file cannot be deleted.</p>\n</blockquote>\n\n<p>As replacement, you should favor <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#delete-java.nio.file.Path-\" rel=\"nofollow noreferrer\"><code>Files.delete(Path p)</code></a>  that throws an <code>IOException</code> with a error message.   </p>\n\n<p>The actual code could be written such as :</p>\n\n<pre><code>Path index = Paths.get(\"/home/Work/Indexer1\");\n\nif (!Files.exists(index)) {\n    index = Files.createDirectories(index);\n} else {\n\n    Files.walk(index)\n         .sorted(Comparator.reverseOrder())  // as the file tree is traversed depth-first and that deleted dirs have to be empty  \n         .forEach(t -&gt; {\n             try {\n                 Files.delete(t);\n             } catch (IOException e) {\n                 // LOG the exception and potentially stop the processing\n\n             }\n         });\n    if (!Files.exists(index)) {\n        index = Files.createDirectories(index);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4565617,"reputation":213,"user_id":3706697,"display_name":"Issam Ressani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546534700,"creation_date":1546534700,"answer_id":54026613,"question_id":20281835,"body_markdown":"You can use **FileUtils.deleteDirectory**. JAVA can&#39;t delete the non-empty foldres with **File.delete()**.","title":"How to delete a folder with files using Java","body":"<p>You can use <strong>FileUtils.deleteDirectory</strong>. JAVA can't delete the non-empty foldres with <strong>File.delete()</strong>.</p>\n"},{"tags":[],"owner":{"account_id":7608029,"reputation":4455,"user_id":5770004,"display_name":"Gavriel Cohen"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1619423844,"creation_date":1557914545,"answer_id":56146647,"question_id":20281835,"body_markdown":"As mentioned, **Java** is unable to delete a folder containing files, so first delete the files and then the folder.\r\n\r\nHere&#39;s a simple example to do this:\r\n\r\n    import org.apache.commons.io.FileUtils;\r\n    \r\n    \r\n\r\n    // First, remove files from into the folder \r\n    FileUtils.cleanDirectory(folder/path);\r\n \r\n    // Then, remove the folder\r\n    FileUtils.deleteDirectory(folder/path);\r\n\r\nOr:\r\n\r\n    FileUtils.forceDelete(new File(destination));","title":"How to delete a folder with files using Java","body":"<p>As mentioned, <strong>Java</strong> is unable to delete a folder containing files, so first delete the files and then the folder.</p>\n<p>Here's a simple example to do this:</p>\n<pre><code>import org.apache.commons.io.FileUtils;\n\n\n\n// First, remove files from into the folder \nFileUtils.cleanDirectory(folder/path);\n\n// Then, remove the folder\nFileUtils.deleteDirectory(folder/path);\n</code></pre>\n<p>Or:</p>\n<pre><code>FileUtils.forceDelete(new File(destination));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15469492,"reputation":404,"user_id":11159966,"display_name":"dZ."},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1571303466,"creation_date":1571303466,"answer_id":58428947,"question_id":20281835,"body_markdown":"One more choice is to use Spring&#39;s `org.springframework.util.FileSystemUtils` relevant method which will recursively delete all content of the directory.\r\n\r\n    File directoryToDelete = new File(&lt;your_directory_path_to_delete&gt;);\r\n    FileSystemUtils.deleteRecursively(directoryToDelete);\r\n\r\nThat will do the job!","title":"How to delete a folder with files using Java","body":"<p>One more choice is to use Spring's <code>org.springframework.util.FileSystemUtils</code> relevant method which will recursively delete all content of the directory.</p>\n\n<pre><code>File directoryToDelete = new File(&lt;your_directory_path_to_delete&gt;);\nFileSystemUtils.deleteRecursively(directoryToDelete);\n</code></pre>\n\n<p>That will do the job!</p>\n"},{"tags":[],"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1625141711,"creation_date":1602240081,"answer_id":64278418,"question_id":20281835,"body_markdown":"2020 here :)\r\n\r\nWith Apache commons io FileUtils, contrary to the &quot;pure&quot; Java variants a folder **does not need to be empty** to be deleted. To give you a better overview I list the variants here, the following 3 **may throw** exceptions for various reasons:\r\n\r\n - [cleanDirectory][1]: Cleans a directory without deleting it\r\n - [forceDelete][2]: Deletes a file. If file is a directory, delete it and all sub-directories\r\n - [forceDeleteOnExit][3]: Schedules a file to be deleted when JVM exits. If file is directory delete it and all sub-directories. Not recommended for running servers as JVM may not exit any time soon ...\r\n\r\nThe following variant **never throws** exceptions (even if the file is null !)\r\n - [deleteQuietly][4]: Deletes a file, **never throwing an exception**. If it is a directory, delete it and all sub-directories.\r\n\r\nOne more thing to know is dealing with [symbolic links][5], it will delete the symbolic link and not the target folder... be careful.\r\n\r\nAlso keep in mind that deleting a large file or folder can be a **blocking operation** for a good while ... so if you do not mind having it run async do it (in a background thread via executor for example).\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#cleanDirectory-java.io.File-\r\n  [2]: https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#forceDelete-java.io.File-\r\n  [3]: https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#forceDeleteOnExit-java.io.File-\r\n  [4]: https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#deleteQuietly-java.io.File-\r\n  [5]: https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#isSymlink-java.io.File-","title":"How to delete a folder with files using Java","body":"<p>2020 here :)</p>\n<p>With Apache commons io FileUtils, contrary to the &quot;pure&quot; Java variants a folder <strong>does not need to be empty</strong> to be deleted. To give you a better overview I list the variants here, the following 3 <strong>may throw</strong> exceptions for various reasons:</p>\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#cleanDirectory-java.io.File-\" rel=\"nofollow noreferrer\">cleanDirectory</a>: Cleans a directory without deleting it</li>\n<li><a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#forceDelete-java.io.File-\" rel=\"nofollow noreferrer\">forceDelete</a>: Deletes a file. If file is a directory, delete it and all sub-directories</li>\n<li><a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#forceDeleteOnExit-java.io.File-\" rel=\"nofollow noreferrer\">forceDeleteOnExit</a>: Schedules a file to be deleted when JVM exits. If file is directory delete it and all sub-directories. Not recommended for running servers as JVM may not exit any time soon ...</li>\n</ul>\n<p>The following variant <strong>never throws</strong> exceptions (even if the file is null !)</p>\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#deleteQuietly-java.io.File-\" rel=\"nofollow noreferrer\">deleteQuietly</a>: Deletes a file, <strong>never throwing an exception</strong>. If it is a directory, delete it and all sub-directories.</li>\n</ul>\n<p>One more thing to know is dealing with <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#isSymlink-java.io.File-\" rel=\"nofollow noreferrer\">symbolic links</a>, it will delete the symbolic link and not the target folder... be careful.</p>\n<p>Also keep in mind that deleting a large file or folder can be a <strong>blocking operation</strong> for a good while ... so if you do not mind having it run async do it (in a background thread via executor for example).</p>\n"},{"tags":[],"owner":{"account_id":19884019,"reputation":1,"user_id":14567359,"display_name":"A. Aphise Traore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604365992,"creation_date":1604365682,"answer_id":64655408,"question_id":20281835,"body_markdown":"You may also use this to delete a folder that contains subfolders and files. \r\n\r\n1. Fist, create a recursive function. \r\n    \r\n        private void recursiveDelete(File file){\r\n                \r\n                if(file.list().length &gt; 0){\r\n                    String[] list = file.list();\r\n                    for(String is: list){\r\n                        File currentFile = new File(file.getPath(),is);\r\n                        if(currentFile.isDirectory()){\r\n                                recursiveDelete(currentFile);\r\n                        }else{\r\n                            currentFile.delete();\r\n                        }\r\n                    }\r\n                }else {\r\n                    file.delete();\r\n                }\r\n            }\r\n\r\n2. then, from your initial function use a while loop to call the recursive.\r\n \r\n\r\n        private boolean deleteFolderContainingSubFoldersAndFiles(){\r\n        \r\n                boolean deleted = false;\r\n                File folderToDelete = new File(&quot;C:/mainFolderDirectoryHere&quot;);\r\n        \r\n                while(folderToDelete != null &amp;&amp; folderToDelete.isDirectory()){\r\n                    recursiveDelete(folderToDelete);\r\n                }\r\n        \r\n                return deleted;\r\n            }\r\n\r\n\r\n","title":"How to delete a folder with files using Java","body":"<p>You may also use this to delete a folder that contains subfolders and files.</p>\n<ol>\n<li><p>Fist, create a recursive function.</p>\n<pre><code> private void recursiveDelete(File file){\n\n         if(file.list().length &gt; 0){\n             String[] list = file.list();\n             for(String is: list){\n                 File currentFile = new File(file.getPath(),is);\n                 if(currentFile.isDirectory()){\n                         recursiveDelete(currentFile);\n                 }else{\n                     currentFile.delete();\n                 }\n             }\n         }else {\n             file.delete();\n         }\n     }\n</code></pre>\n</li>\n<li><p>then, from your initial function use a while loop to call the recursive.</p>\n<pre><code> private boolean deleteFolderContainingSubFoldersAndFiles(){\n\n         boolean deleted = false;\n         File folderToDelete = new File(&quot;C:/mainFolderDirectoryHere&quot;);\n\n         while(folderToDelete != null &amp;&amp; folderToDelete.isDirectory()){\n             recursiveDelete(folderToDelete);\n         }\n\n         return deleted;\n     }\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19750276,"reputation":35,"user_id":14461795,"display_name":"Xoma Devs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605855090,"creation_date":1605855090,"answer_id":64925021,"question_id":20281835,"body_markdown":"Here is a simple way to do it :\r\n\r\n```\r\npublic void deleteDirectory(String directoryPath)  {\r\n      new Thread(new Runnable() {\r\n          public void run() {\r\n             for(String e: new File(directoryPath).list()) {\r\n                 if(new File(e).isDirectory()) \r\n                     deleteDirectory(e);\r\n                 else \r\n                     new File(e).delete();\r\n             }\r\n          }\r\n      }).start();\r\n  }\r\n```","title":"How to delete a folder with files using Java","body":"<p>Here is a simple way to do it :</p>\n<pre><code>public void deleteDirectory(String directoryPath)  {\n      new Thread(new Runnable() {\n          public void run() {\n             for(String e: new File(directoryPath).list()) {\n                 if(new File(e).isDirectory()) \n                     deleteDirectory(e);\n                 else \n                     new File(e).delete();\n             }\n          }\n      }).start();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6466542,"reputation":231,"user_id":5008255,"display_name":"IMXQD"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1608626733,"creation_date":1608626733,"answer_id":65405605,"question_id":20281835,"body_markdown":"You can try this\r\n\r\n    public static void deleteDir(File dirFile) {\r\n        if (dirFile.isDirectory()) {\r\n            File[] dirs = dirFile.listFiles();\r\n            for (File dir: dirs) {\r\n                deleteDir(dir);\r\n            }\r\n        }\r\n        dirFile.delete();\r\n    }","title":"How to delete a folder with files using Java","body":"<p>You can try this</p>\n<pre><code>public static void deleteDir(File dirFile) {\n    if (dirFile.isDirectory()) {\n        File[] dirs = dirFile.listFiles();\n        for (File dir: dirs) {\n            deleteDir(dir);\n        }\n    }\n    dirFile.delete();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23763533,"reputation":2291,"user_id":17778576,"display_name":"Santh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648716236,"creation_date":1648716236,"answer_id":71689477,"question_id":20281835,"body_markdown":"    You can simply remove the directory which contains a single file or multiple files using the apache commons library.\r\n \r\ngradle import :\r\n\r\nimplementation group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.5&#39;\r\n\r\n   \r\n\r\n     \r\n\r\n    \r\n\r\n   \r\n\r\n    \r\n\r\n \r\n\r\n    File file=new File(&quot;/Users/devil/Documents/DummyProject/hello.txt&quot;);\r\n        \r\n     File parentDirLocation=new File(file.getParent);\r\n        \r\n    //Confirming the file parent is a directory or not.\r\n                 \r\n    if(parentDirLocation.isDirectory){\r\n        \r\n        \r\n     //after this line the mentioned directory will deleted.\r\n     FileUtils.deleteDirectory(parentDirLocation);\r\n       \r\n     }\r\n\r\n","title":"How to delete a folder with files using Java","body":"<pre><code>You can simply remove the directory which contains a single file or multiple files using the apache commons library.\n</code></pre>\n<p>gradle import :</p>\n<p>implementation group: 'commons-io', name: 'commons-io', version: '2.5'</p>\n<pre><code>File file=new File(&quot;/Users/devil/Documents/DummyProject/hello.txt&quot;);\n    \n File parentDirLocation=new File(file.getParent);\n    \n//Confirming the file parent is a directory or not.\n             \nif(parentDirLocation.isDirectory){\n    \n    \n //after this line the mentioned directory will deleted.\n FileUtils.deleteDirectory(parentDirLocation);\n   \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5966995,"reputation":189,"user_id":4690527,"display_name":"Izzy Kiefer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653879539,"creation_date":1653879539,"answer_id":72428721,"question_id":20281835,"body_markdown":"    List&lt;File&gt; temp = Arrays.asList(new File(&quot;./DIRECTORY&quot;).listFiles());\r\n    for (int i = 0; i &lt; temp.size(); i++)\r\n    {\r\n        temp.get(i).delete();\r\n    }","title":"How to delete a folder with files using Java","body":"<pre><code>List&lt;File&gt; temp = Arrays.asList(new File(&quot;./DIRECTORY&quot;).listFiles());\nfor (int i = 0; i &lt; temp.size(); i++)\n{\n    temp.get(i).delete();\n}\n</code></pre>\n"}],"owner":{"account_id":3657940,"reputation":3431,"user_id":3048442,"accept_rate":17,"display_name":"Mr.G"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400619,"favorite_count":0,"down_vote_count":5,"up_vote_count":164,"accepted_answer_id":20281958,"answer_count":30,"score":159,"last_activity_date":1683624363,"creation_date":1385715881,"question_id":20281835,"body_markdown":"I want to create and delete a directory using Java, but it isn&#39;t working.\r\n\r\n    File index = new File(&quot;/home/Work/Indexer1&quot;);\r\n    if (!index.exists()) {\r\n        index.mkdir();\r\n    } else {\r\n        index.delete();\r\n        if (!index.exists()) {\r\n            index.mkdir();\r\n        }\r\n    }","title":"How to delete a folder with files using Java","body":"<p>I want to create and delete a directory using Java, but it isn't working.</p>\n\n<pre><code>File index = new File(\"/home/Work/Indexer1\");\nif (!index.exists()) {\n    index.mkdir();\n} else {\n    index.delete();\n    if (!index.exists()) {\n        index.mkdir();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","security","apache-kafka","microservices"],"owner":{"account_id":28555970,"reputation":1,"user_id":21860171,"display_name":"zengirlsays"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683624116,"creation_date":1683624116,"question_id":76207723,"body_markdown":"I am developing a Java Spring-Boot application that uses Kafka as a message broker. I need to ensure the security of the credentials used in configuration. What is the best way to achieve this in a Java Spring-Boot microservice?\r\n\r\nSpring Security is one of the ways of doing it which provides authentication and access control framework. I want to know if this is the recommended way of doing it or is there any other better approach.\r\n\r\nI would appreciate any advice or recommendations on this. Thank you in advance!","title":"Enable security for encrypting credentials used in a Java Spring Boot application that uses Kafka","body":"<p>I am developing a Java Spring-Boot application that uses Kafka as a message broker. I need to ensure the security of the credentials used in configuration. What is the best way to achieve this in a Java Spring-Boot microservice?</p>\n<p>Spring Security is one of the ways of doing it which provides authentication and access control framework. I want to know if this is the recommended way of doing it or is there any other better approach.</p>\n<p>I would appreciate any advice or recommendations on this. Thank you in advance!</p>\n"},{"tags":["java","docker","appium","healenium"],"owner":{"account_id":28530860,"reputation":1,"user_id":21838310,"display_name":"Anshuman A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683623977,"creation_date":1683403779,"question_id":76190914,"body_markdown":"I am new to Healenium and have been trying to run Android native app tests using Healnium-Appium. I tried all the possible things but not able to to get rid of the below error:\r\n\r\n    org.openqa.selenium.SessionNotCreatedException: \r\n    Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\n    Host info: host: &#39;DESKTOP-******&#39;, ip: &#39;192.***.**.*&#39;\r\n    \tat healenium.TestEmulatorLoginForm.setUp(TestEmulatorLoginForm.java:48)\r\n    Caused by: org.openqa.selenium.WebDriverException: \r\n    java.lang.NoSuchMethodException: org.openqa.selenium.remote.ProtocolHandshake.createSession(org.openqa.selenium.remote.http.HttpHandler,java.io.InputStream,long)\r\n    Build info: version: &#39;4.9.0&#39;, revision: &#39;d7057100a6&#39;\r\n    System info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.4.1&#39;\r\n    Driver info: driver.version: AppiumDriver\r\n    \tat healenium.TestEmulatorLoginForm.setUp(TestEmulatorLoginForm.java:48)\r\n    Caused by: java.lang.NoSuchMethodException: org.openqa.selenium.remote.ProtocolHandshake.createSession(org.openqa.selenium.remote.http.HttpHandler,java.io.InputStream,long)\r\n    \tat healenium.TestEmulatorLoginForm.setUp(TestEmulatorLoginForm.java:48)\r\n\r\n\r\nTried with RemoteWebDriver but it didn&#39;t work. I have all the setup - Docker, Appium server and Emulator running but no luck seem to be in my part.","title":"Healenium Possible causes are invalid address of the remote server or browser start-up failure","body":"<p>I am new to Healenium and have been trying to run Android native app tests using Healnium-Appium. I tried all the possible things but not able to to get rid of the below error:</p>\n<pre><code>org.openqa.selenium.SessionNotCreatedException: \nCould not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: 'DESKTOP-******', ip: '192.***.**.*'\n    at healenium.TestEmulatorLoginForm.setUp(TestEmulatorLoginForm.java:48)\nCaused by: org.openqa.selenium.WebDriverException: \njava.lang.NoSuchMethodException: org.openqa.selenium.remote.ProtocolHandshake.createSession(org.openqa.selenium.remote.http.HttpHandler,java.io.InputStream,long)\nBuild info: version: '4.9.0', revision: 'd7057100a6'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.4.1'\nDriver info: driver.version: AppiumDriver\n    at healenium.TestEmulatorLoginForm.setUp(TestEmulatorLoginForm.java:48)\nCaused by: java.lang.NoSuchMethodException: org.openqa.selenium.remote.ProtocolHandshake.createSession(org.openqa.selenium.remote.http.HttpHandler,java.io.InputStream,long)\n    at healenium.TestEmulatorLoginForm.setUp(TestEmulatorLoginForm.java:48)\n</code></pre>\n<p>Tried with RemoteWebDriver but it didn't work. I have all the setup - Docker, Appium server and Emulator running but no luck seem to be in my part.</p>\n"},{"tags":["javascript","java","ajax"],"owner":{"account_id":27856701,"reputation":11,"user_id":21270037,"display_name":"Ardean Angkasa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683623757,"creation_date":1683623546,"question_id":76207638,"body_markdown":"I&#39;m trying to pass session from Java (myapp.java) to JavaScript (myapp_2.js). Below is my Java code:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n     @RequestMapping(value = {&quot;/&quot;}, method = {RequestMethod.GET})\r\n     @ResponseBody\r\n     public Map&lt;String, Object&gt; getSessionAttributes(HttpServletRequest request) {\r\n         HttpSession session = request.getSession();\r\n         Map&lt;String, Object&gt; attributes = new HashMap&lt;&gt;();\r\n         attributes.put(&quot;userUsername&quot;, (String)session.getAttribute(&quot;userUsername&quot;));\r\n         attributes.put(&quot;accessGroup&quot;, (String)session.getAttribute(&quot;accessGroup&quot;));\r\n         attributes.put(&quot;username&quot;, (String)session.getAttribute(&quot;username&quot;));\r\n         LOG.info(&quot;username set to: &quot; + (String)session.getAttribute(&quot;username&quot;));\r\n         LOG.info(&quot;accessGroup set to: &quot; + (String)session.getAttribute(&quot;accessGroup&quot;));\r\n         LOG.info(&quot;userUsername set to: &quot; + (String)session.getAttribute(&quot;userUsername&quot;));\r\n         return attributes;\r\n     }\r\n    \r\n      @RequestMapping(value = {&quot;doLogin&quot;}, method = {RequestMethod.POST})\r\n      public String doLogin(HttpServletRequest request) {\r\n          String pathConfig = String.valueOf(System.getenv(&quot;CATALINA_HOME&quot;)) + &quot;/conf/sfmonitor/credentials.xml&quot;;              \r\n          HttpSession session = request.getSession();\r\n          String username = request.getParameter(&quot;username&quot;);\r\n          String password = request.getParameter(&quot;password&quot;);\r\n          // System.out.println(&quot;my username: &quot; + username);        \r\n          String hashedPassword = md5(password); \r\n          // System.out.println(&quot;my password: &quot; + hashedPassword);     \r\n          try {\r\n              File credentialsFile = new File(pathConfig);                \r\n              DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n              DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n              Document doc = dBuilder.parse(credentialsFile);\r\n              doc.getDocumentElement().normalize();                   \r\n              NodeList nList = doc.getElementsByTagName(&quot;user&quot;);\r\n              for (int temp = 0; temp &lt; nList.getLength(); temp++) {\r\n                  Node nNode = nList.item(temp);\r\n                  if (nNode.getNodeType() == Node.ELEMENT_NODE) {\r\n                      Element eElement = (Element) nNode;\r\n    \r\n                      String userUsername = eElement.getAttribute(&quot;username&quot;);\r\n                      String userPassword = eElement.getAttribute(&quot;password&quot;);\r\n                      String accessGroup = eElement.getAttribute(&quot;access_group&quot;);                                                             \r\n                                     \r\n                      if (username.equals(userUsername) &amp;&amp; hashedPassword.equals(userPassword)) {                                    \r\n                          session.setAttribute(&quot;isLoggedin&quot;, true);   \r\n                          session.setAttribute(&quot;accessGroup&quot;, accessGroup);                     \r\n                          session.setAttribute(&quot;userUsername&quot;, userUsername);    \r\n                          session.setAttribute(&quot;username&quot;, username);               \r\n                          session.setMaxInactiveInterval(21600);                                                        \r\n                          return &quot;redirect:/dashboard&quot;;                 \r\n                      }\r\n                  }\r\n              }\r\n          } catch (Exception e) {\r\n              e.printStackTrace();\r\n          }\r\n      \r\n          return &quot;redirect:/login&quot;;\r\n      }\r\n\r\nThis is the session I need to pass to myapp_2.js:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    session.setAttribute(&quot;accessGroup&quot;, accessGroup);\r\n                              System.out.println(&quot;accessGroup set to: &quot; + accessGroup);\r\n                              session.setAttribute(&quot;userUsername&quot;, userUsername);    \r\n                              session.setAttribute(&quot;username&quot;, username); \r\n\r\nThis is myapp_2.js:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function collectGroup(lstAgent) {\r\n      $(document).ready(function () {\r\n        $.ajax({\r\n          type: &quot;GET&quot;,\r\n          url: &quot;/&quot;,\r\n          data: {\r\n            action: &quot;getSessionAttributes&quot;,\r\n          },\r\n          success: function (data) {\r\n            // console.log(data);\r\n            var userUsername = data.userUsername;\r\n            var accessGroup2 = data.accessGroup;\r\n            var username = data.username;\r\n            console.log(&quot;userUsername set to: &quot; + userUsername);\r\n            console.log(&quot;accessGroup set to: &quot; + accessGroup2);\r\n            console.log(&quot;username set to: &quot; + username);\r\n            // Call your function to collect group passing accessGroup, userUsername and username\r\n            collectGroup(lstAgent, accessGroup2, userUsername, username);\r\n    \r\n            let ul = document.getElementById(&quot;dropdown-group&quot;);\r\n            if (ul.childNodes.length &lt;= 1) {\r\n              let rawGroup = [&quot;All&quot;];\r\n              var accessGroup = accessGroup2;\r\n              let filteredAgents = lstAgent.filter(function (agent) {\r\n                return agent.agent.group === accessGroup;\r\n              });\r\n    \r\n              // get the group names from the filtered agents\r\n              for (let i in filteredAgents) {\r\n                rawGroup.push(filteredAgents[i].agent.group);\r\n              }\r\n    \r\n              let fixGroup = rawGroup.filter(function (currValue, index, self) {\r\n                return self.indexOf(currValue) === index;\r\n              });\r\n              insertGroupToDropdown(fixGroup);\r\n              $(&quot;.dropdown-menu li a&quot;).click(function () {\r\n                $(this)\r\n                  .parents(&quot;.btn-group&quot;)\r\n                  .find(&quot;div&quot;, &quot;.btn&quot;, &quot;.btn-default&quot;)\r\n                  .html($(this).text());\r\n                filterCard();\r\n              });\r\n            }\r\n          },\r\n        });\r\n      });\r\n    }\r\n\r\n    console.log(userUsername);\r\n            console.log(accessGroup2);\r\n            console.log(username);\r\n\r\nResult from log:\r\n```none\r\nuserUsername set to: undefined\r\naccessGroup set to: undefined\r\nusername set to: undefined \r\n```\r\n\r\nThere&#39;s a value if I checked from LOG.info, but my JavaScript seemed unable to get the session (undefined). How can I solve it, or is there a simple way to pass the session from Java to JavaScript?","title":"How to pass Java session to JavaScript","body":"<p>I'm trying to pass session from Java (myapp.java) to JavaScript (myapp_2.js). Below is my Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @RequestMapping(value = {&quot;/&quot;}, method = {RequestMethod.GET})\n @ResponseBody\n public Map&lt;String, Object&gt; getSessionAttributes(HttpServletRequest request) {\n     HttpSession session = request.getSession();\n     Map&lt;String, Object&gt; attributes = new HashMap&lt;&gt;();\n     attributes.put(&quot;userUsername&quot;, (String)session.getAttribute(&quot;userUsername&quot;));\n     attributes.put(&quot;accessGroup&quot;, (String)session.getAttribute(&quot;accessGroup&quot;));\n     attributes.put(&quot;username&quot;, (String)session.getAttribute(&quot;username&quot;));\n     LOG.info(&quot;username set to: &quot; + (String)session.getAttribute(&quot;username&quot;));\n     LOG.info(&quot;accessGroup set to: &quot; + (String)session.getAttribute(&quot;accessGroup&quot;));\n     LOG.info(&quot;userUsername set to: &quot; + (String)session.getAttribute(&quot;userUsername&quot;));\n     return attributes;\n }\n\n  @RequestMapping(value = {&quot;doLogin&quot;}, method = {RequestMethod.POST})\n  public String doLogin(HttpServletRequest request) {\n      String pathConfig = String.valueOf(System.getenv(&quot;CATALINA_HOME&quot;)) + &quot;/conf/sfmonitor/credentials.xml&quot;;              \n      HttpSession session = request.getSession();\n      String username = request.getParameter(&quot;username&quot;);\n      String password = request.getParameter(&quot;password&quot;);\n      // System.out.println(&quot;my username: &quot; + username);        \n      String hashedPassword = md5(password); \n      // System.out.println(&quot;my password: &quot; + hashedPassword);     \n      try {\n          File credentialsFile = new File(pathConfig);                \n          DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n          DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n          Document doc = dBuilder.parse(credentialsFile);\n          doc.getDocumentElement().normalize();                   \n          NodeList nList = doc.getElementsByTagName(&quot;user&quot;);\n          for (int temp = 0; temp &lt; nList.getLength(); temp++) {\n              Node nNode = nList.item(temp);\n              if (nNode.getNodeType() == Node.ELEMENT_NODE) {\n                  Element eElement = (Element) nNode;\n\n                  String userUsername = eElement.getAttribute(&quot;username&quot;);\n                  String userPassword = eElement.getAttribute(&quot;password&quot;);\n                  String accessGroup = eElement.getAttribute(&quot;access_group&quot;);                                                             \n                                 \n                  if (username.equals(userUsername) &amp;&amp; hashedPassword.equals(userPassword)) {                                    \n                      session.setAttribute(&quot;isLoggedin&quot;, true);   \n                      session.setAttribute(&quot;accessGroup&quot;, accessGroup);                     \n                      session.setAttribute(&quot;userUsername&quot;, userUsername);    \n                      session.setAttribute(&quot;username&quot;, username);               \n                      session.setMaxInactiveInterval(21600);                                                        \n                      return &quot;redirect:/dashboard&quot;;                 \n                  }\n              }\n          }\n      } catch (Exception e) {\n          e.printStackTrace();\n      }\n  \n      return &quot;redirect:/login&quot;;\n  }\n</code></pre>\n<p>This is the session I need to pass to myapp_2.js:</p>\n<pre class=\"lang-js prettyprint-override\"><code>session.setAttribute(&quot;accessGroup&quot;, accessGroup);\n                          System.out.println(&quot;accessGroup set to: &quot; + accessGroup);\n                          session.setAttribute(&quot;userUsername&quot;, userUsername);    \n                          session.setAttribute(&quot;username&quot;, username); \n</code></pre>\n<p>This is myapp_2.js:</p>\n<pre class=\"lang-js prettyprint-override\"><code>function collectGroup(lstAgent) {\n  $(document).ready(function () {\n    $.ajax({\n      type: &quot;GET&quot;,\n      url: &quot;/&quot;,\n      data: {\n        action: &quot;getSessionAttributes&quot;,\n      },\n      success: function (data) {\n        // console.log(data);\n        var userUsername = data.userUsername;\n        var accessGroup2 = data.accessGroup;\n        var username = data.username;\n        console.log(&quot;userUsername set to: &quot; + userUsername);\n        console.log(&quot;accessGroup set to: &quot; + accessGroup2);\n        console.log(&quot;username set to: &quot; + username);\n        // Call your function to collect group passing accessGroup, userUsername and username\n        collectGroup(lstAgent, accessGroup2, userUsername, username);\n\n        let ul = document.getElementById(&quot;dropdown-group&quot;);\n        if (ul.childNodes.length &lt;= 1) {\n          let rawGroup = [&quot;All&quot;];\n          var accessGroup = accessGroup2;\n          let filteredAgents = lstAgent.filter(function (agent) {\n            return agent.agent.group === accessGroup;\n          });\n\n          // get the group names from the filtered agents\n          for (let i in filteredAgents) {\n            rawGroup.push(filteredAgents[i].agent.group);\n          }\n\n          let fixGroup = rawGroup.filter(function (currValue, index, self) {\n            return self.indexOf(currValue) === index;\n          });\n          insertGroupToDropdown(fixGroup);\n          $(&quot;.dropdown-menu li a&quot;).click(function () {\n            $(this)\n              .parents(&quot;.btn-group&quot;)\n              .find(&quot;div&quot;, &quot;.btn&quot;, &quot;.btn-default&quot;)\n              .html($(this).text());\n            filterCard();\n          });\n        }\n      },\n    });\n  });\n}\n\nconsole.log(userUsername);\n        console.log(accessGroup2);\n        console.log(username);\n</code></pre>\n<p>Result from log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>userUsername set to: undefined\naccessGroup set to: undefined\nusername set to: undefined \n</code></pre>\n<p>There's a value if I checked from LOG.info, but my JavaScript seemed unable to get the session (undefined). How can I solve it, or is there a simple way to pass the session from Java to JavaScript?</p>\n"},{"tags":["java","ejb","wildfly","java-9"],"comments":[{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":4,"creation_date":1488977136,"post_id":42667837,"comment_id":72468082,"body_markdown":"Try to add `--add-opens java.base/java.io=ALL-UNNAMED` to the java command line to open the java.io package for reflection. Background: http://mail.openjdk.java.net/pipermail/jdk9-dev/2016-November/005276.html","body":"Try to add <code>--add-opens java.base&#47;java.io=ALL-UNNAMED</code> to the java command line to open the java.io package for reflection. Background: <a href=\"http://mail.openjdk.java.net/pipermail/jdk9-dev/2016-November/005276.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/jdk9-dev/2016-November/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1488987874,"creation_date":1488987874,"answer_id":42675738,"question_id":42667837,"body_markdown":"As per [this answer](https://stackoverflow.com/a/41265267/2525313) you need to add `--add-opens java.base/java.io=ALL-UNNAMED` to the `java` command that launches the application.","title":"Running application with Java 9, module java.base does not &quot;opens java.io&quot;","body":"<p>As per <a href=\"https://stackoverflow.com/a/41265267/2525313\">this answer</a> you need to add <code>--add-opens java.base/java.io=ALL-UNNAMED</code> to the <code>java</code> command that launches the application.</p>\n"},{"tags":[],"owner":{"account_id":10412233,"reputation":281,"user_id":7677303,"display_name":"Andrea Biasillo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1489145356,"creation_date":1489145356,"answer_id":42717318,"question_id":42667837,"body_markdown":"Adding the following JVM parameters:\r\n\r\n    --add-exports=java.base/sun.nio.ch=ALL-UNNAMED\r\n    --add-opens=java.base/java.lang=ALL-UNNAMED\r\n    --add-opens=java.base/java.lang.reflect=ALL-UNNAMED\r\n    --add-opens=java.base/java.io=ALL-UNNAMED\r\n    --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\r\n\r\nthe above exception it is not reached anymore, it fails before with this exception:\r\n\r\n    java.lang.ClassNotFoundException: com.dataloy.client.Main\r\n    \tat jdk.deploy@9-ea/com.sun.deploy.security.DeployURLClassLoader.findClass(Unknown Source)\r\n    \tat jdk.javaws@9-ea/com.sun.jnlp.JNLPClassLoader.findClass(Unknown Source)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat jdk.javaws@9-ea/com.sun.jnlp.JNLPClassLoader.loadClass(Unknown Source)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat jdk.javaws@9-ea/com.sun.javaws.Launcher.doLaunchApp(Unknown Source)\r\n    \tat jdk.javaws@9-ea/com.sun.javaws.Launcher.run(Unknown Source)\r\n    \tat java.base/java.lang.Thread.run(Unknown Source)\r\n\r\nI need to make visible more modules but I struggling to understand which one.\r\n\r\nAndrea \r\n\r\n\r\n","title":"Running application with Java 9, module java.base does not &quot;opens java.io&quot;","body":"<p>Adding the following JVM parameters:</p>\n\n<pre><code>--add-exports=java.base/sun.nio.ch=ALL-UNNAMED\n--add-opens=java.base/java.lang=ALL-UNNAMED\n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED\n--add-opens=java.base/java.io=ALL-UNNAMED\n--add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\n</code></pre>\n\n<p>the above exception it is not reached anymore, it fails before with this exception:</p>\n\n<pre><code>java.lang.ClassNotFoundException: com.dataloy.client.Main\n    at jdk.deploy@9-ea/com.sun.deploy.security.DeployURLClassLoader.findClass(Unknown Source)\n    at jdk.javaws@9-ea/com.sun.jnlp.JNLPClassLoader.findClass(Unknown Source)\n    at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n    at jdk.javaws@9-ea/com.sun.jnlp.JNLPClassLoader.loadClass(Unknown Source)\n    at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n    at jdk.javaws@9-ea/com.sun.javaws.Launcher.doLaunchApp(Unknown Source)\n    at jdk.javaws@9-ea/com.sun.javaws.Launcher.run(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>I need to make visible more modules but I struggling to understand which one.</p>\n\n<p>Andrea </p>\n"},{"tags":[],"owner":{"account_id":21352289,"reputation":458,"user_id":15721679,"display_name":"Abdeldjalil Chougui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683623430,"creation_date":1683623430,"answer_id":76207620,"question_id":42667837,"body_markdown":"I had the same problem before and I solve it, you can check this answer : https://stackoverflow.com/a/76207178/15721679","title":"Running application with Java 9, module java.base does not &quot;opens java.io&quot;","body":"<p>I had the same problem before and I solve it, you can check this answer : <a href=\"https://stackoverflow.com/a/76207178/15721679\">https://stackoverflow.com/a/76207178/15721679</a></p>\n"}],"owner":{"account_id":10412233,"reputation":281,"user_id":7677303,"display_name":"Andrea Biasillo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39937,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":3,"score":17,"last_activity_date":1683623430,"creation_date":1488966236,"question_id":42667837,"body_markdown":"I tried to run my application (front-end developed in Java Swing, server developed with EJB deployed on Wildfly 8) with Java 9.\r\nWhen the client tries to establish an EJB connection got the following exception:\r\n\r\n        09:53:42,358 INFO  [xnio] XNIO version 3.2.0.Final\r\n    09:53:42,465 INFO  [nio] XNIO NIO Implementation Version 3.2.0.Final\r\n    09:53:42,507 DEBUG [nio] Started channel thread &#39;Remoting &quot;config-based-naming-client-endpoint&quot; I/O-1&#39;, selector sun.nio.ch.WindowsSelectorImpl@4b4a5caf\r\n    RmiServiceFactpry ExceptionInInitializerError\r\n    java.lang.ExceptionInInitializerError\r\n    \tat org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver.&lt;init&gt;(RemotingConnectionEJBReceiver.java:148)\r\n    \tat org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver.&lt;init&gt;(RemotingConnectionEJBReceiver.java:106)\r\n    \tat org.jboss.ejb.client.EJBClientContext.registerConnection(EJBClientContext.java:465)\r\n    \tat org.jboss.naming.remote.client.ejb.RemoteNamingStoreEJBClientHandler.associate(RemoteNamingStoreEJBClientHandler.java:78)\r\n    \tat org.jboss.naming.remote.protocol.v1.RemoteNamingStoreV1.&lt;init&gt;(RemoteNamingStoreV1.java:71)\r\n    \tat org.jboss.naming.remote.protocol.v1.VersionOne.getRemoteNamingStore(VersionOne.java:50)\r\n    \tat org.jboss.naming.remote.protocol.Versions.getRemoteNamingStore(Versions.java:55)\r\n    \tat org.jboss.naming.remote.client.RemoteContextFactory.createVersionedStore(RemoteContextFactory.java:73)\r\n    \tat org.jboss.naming.remote.client.HaRemoteNamingStore.failOverSequence(HaRemoteNamingStore.java:202)\r\n    \tat org.jboss.naming.remote.client.HaRemoteNamingStore.namingStore(HaRemoteNamingStore.java:149)\r\n    \tat org.jboss.naming.remote.client.HaRemoteNamingStore.namingOperation(HaRemoteNamingStore.java:130)\r\n    \tat org.jboss.naming.remote.client.HaRemoteNamingStore.lookup(HaRemoteNamingStore.java:272)\r\n    \tat org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:79)\r\n    \tat org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:83)\r\n    \tat java.naming/javax.naming.InitialContext.lookup(Unknown Source)\r\n    \tat com.dataloy.client.core.RmiServiceFactory.createRemote(RmiServiceFactory.java:105)\r\n    \tat com.dataloy.client.core.RmiServiceFactory.getServiceImpl(RmiServiceFactory.java:96)\r\n    \tat com.dataloy.core.AbstractServiceFactory.getService(AbstractServiceFactory.java:58)\r\n    \tat com.dataloy.DataloyEngine.getService(DataloyEngine.java:198)\r\n    \tat com.dataloy.DataloyEngine.login(DataloyEngine.java:548)\r\n    \tat com.dataloy.client.login.LoginPanel.doLogin(LoginPanel.java:511)\r\n    \tat com.dataloy.client.login.LoginPanel.access$500(LoginPanel.java:56)\r\n    \tat com.dataloy.client.login.LoginPanel$5.run(LoginPanel.java:452)\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make java.io.OptionalDataException(boolean) accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @312002a1\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\r\n    \tat java.base/java.lang.reflect.Constructor.checkCanSetAccessible(Unknown Source)\r\n    \tat java.base/java.lang.reflect.Constructor.setAccessible(Unknown Source)\r\n    \tat org.jboss.marshalling.Marshalling$OptionalDataExceptionCreateAction$1.run(Marshalling.java:385)\r\n    \tat org.jboss.marshalling.Marshalling$OptionalDataExceptionCreateAction$1.run(Marshalling.java:381)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat org.jboss.marshalling.Marshalling$OptionalDataExceptionCreateAction.&lt;init&gt;(Marshalling.java:381)\r\n    \tat org.jboss.marshalling.Marshalling$OptionalDataExceptionCreateAction.&lt;init&gt;(Marshalling.java:376)\r\n    \tat org.jboss.marshalling.Marshalling.&lt;clinit&gt;(Marshalling.java:374)\r\n    \t... 23 more\r\n\r\nI see there is some problem with the new module management introduced in Java 9, but I cannot understand what should do. \r\n\r\nRegards,\r\nAndrea","title":"Running application with Java 9, module java.base does not &quot;opens java.io&quot;","body":"<p>I tried to run my application (front-end developed in Java Swing, server developed with EJB deployed on Wildfly 8) with Java 9.\nWhen the client tries to establish an EJB connection got the following exception:</p>\n\n<pre><code>    09:53:42,358 INFO  [xnio] XNIO version 3.2.0.Final\n09:53:42,465 INFO  [nio] XNIO NIO Implementation Version 3.2.0.Final\n09:53:42,507 DEBUG [nio] Started channel thread 'Remoting \"config-based-naming-client-endpoint\" I/O-1', selector sun.nio.ch.WindowsSelectorImpl@4b4a5caf\nRmiServiceFactpry ExceptionInInitializerError\njava.lang.ExceptionInInitializerError\n    at org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver.&lt;init&gt;(RemotingConnectionEJBReceiver.java:148)\n    at org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver.&lt;init&gt;(RemotingConnectionEJBReceiver.java:106)\n    at org.jboss.ejb.client.EJBClientContext.registerConnection(EJBClientContext.java:465)\n    at org.jboss.naming.remote.client.ejb.RemoteNamingStoreEJBClientHandler.associate(RemoteNamingStoreEJBClientHandler.java:78)\n    at org.jboss.naming.remote.protocol.v1.RemoteNamingStoreV1.&lt;init&gt;(RemoteNamingStoreV1.java:71)\n    at org.jboss.naming.remote.protocol.v1.VersionOne.getRemoteNamingStore(VersionOne.java:50)\n    at org.jboss.naming.remote.protocol.Versions.getRemoteNamingStore(Versions.java:55)\n    at org.jboss.naming.remote.client.RemoteContextFactory.createVersionedStore(RemoteContextFactory.java:73)\n    at org.jboss.naming.remote.client.HaRemoteNamingStore.failOverSequence(HaRemoteNamingStore.java:202)\n    at org.jboss.naming.remote.client.HaRemoteNamingStore.namingStore(HaRemoteNamingStore.java:149)\n    at org.jboss.naming.remote.client.HaRemoteNamingStore.namingOperation(HaRemoteNamingStore.java:130)\n    at org.jboss.naming.remote.client.HaRemoteNamingStore.lookup(HaRemoteNamingStore.java:272)\n    at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:79)\n    at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:83)\n    at java.naming/javax.naming.InitialContext.lookup(Unknown Source)\n    at com.dataloy.client.core.RmiServiceFactory.createRemote(RmiServiceFactory.java:105)\n    at com.dataloy.client.core.RmiServiceFactory.getServiceImpl(RmiServiceFactory.java:96)\n    at com.dataloy.core.AbstractServiceFactory.getService(AbstractServiceFactory.java:58)\n    at com.dataloy.DataloyEngine.getService(DataloyEngine.java:198)\n    at com.dataloy.DataloyEngine.login(DataloyEngine.java:548)\n    at com.dataloy.client.login.LoginPanel.doLogin(LoginPanel.java:511)\n    at com.dataloy.client.login.LoginPanel.access$500(LoginPanel.java:56)\n    at com.dataloy.client.login.LoginPanel$5.run(LoginPanel.java:452)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make java.io.OptionalDataException(boolean) accessible: module java.base does not \"opens java.io\" to unnamed module @312002a1\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\n    at java.base/java.lang.reflect.Constructor.checkCanSetAccessible(Unknown Source)\n    at java.base/java.lang.reflect.Constructor.setAccessible(Unknown Source)\n    at org.jboss.marshalling.Marshalling$OptionalDataExceptionCreateAction$1.run(Marshalling.java:385)\n    at org.jboss.marshalling.Marshalling$OptionalDataExceptionCreateAction$1.run(Marshalling.java:381)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at org.jboss.marshalling.Marshalling$OptionalDataExceptionCreateAction.&lt;init&gt;(Marshalling.java:381)\n    at org.jboss.marshalling.Marshalling$OptionalDataExceptionCreateAction.&lt;init&gt;(Marshalling.java:376)\n    at org.jboss.marshalling.Marshalling.&lt;clinit&gt;(Marshalling.java:374)\n    ... 23 more\n</code></pre>\n\n<p>I see there is some problem with the new module management introduced in Java 9, but I cannot understand what should do. </p>\n\n<p>Regards,\nAndrea</p>\n"},{"tags":["java","nosuchmethoderror","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":2,"creation_date":1674640852,"post_id":75232035,"comment_id":132755855,"body_markdown":"It&#39;s `API.areLoged(playerName)` and not `API.areLoged(player)` as the method request a string and not the player object","body":"It&#39;s <code>API.areLoged(playerName)</code> and not <code>API.areLoged(player)</code> as the method request a string and not the player object"},{"owner":{"account_id":27616741,"reputation":1,"user_id":21078647,"display_name":"Daniyusk"},"score":0,"creation_date":1674862003,"post_id":75232035,"comment_id":132811309,"body_markdown":"I know, but this is a recent change, before PlayerName it was just Player. But it keeps catching error...","body":"I know, but this is a recent change, before PlayerName it was just Player. But it keeps catching error..."}],"answers":[{"tags":[],"owner":{"account_id":25927964,"reputation":1,"user_id":19649555,"display_name":"creperozelot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683623401,"creation_date":1683623401,"answer_id":76207617,"question_id":75232035,"body_markdown":"On the MoveHandler you entered player instead of player.getName(). Be sure you have the right variable in the function.","title":"Could not pass event PlayerMoveEvent to &lt;plugin&gt;","body":"<p>On the MoveHandler you entered player instead of player.getName(). Be sure you have the right variable in the function.</p>\n"}],"owner":{"account_id":27616741,"reputation":1,"user_id":21078647,"display_name":"Daniyusk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683623401,"creation_date":1674639546,"question_id":75232035,"body_markdown":"I&#39;m trying to make a Register/Login plugin in spigot for minecraft and I caught a error:\r\n\r\n\r\n```\r\n[06:03:10 ERROR]: Could not pass event PlayerMoveEvent to AuthPlugin v1.0-SNAPSHOT\r\norg.bukkit.event.EventException: null\r\n        at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:310) ~[Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:62) ~[Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:502) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:487) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at net.minecraft.server.v1_8_R3.PlayerConnection.a(PlayerConnection.java:270) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at net.minecraft.server.v1_8_R3.PacketPlayInFlying.a(SourceFile:126) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at net.minecraft.server.v1_8_R3.PacketPlayInFlying$PacketPlayInPosition.a(SourceFile:57) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at net.minecraft.server.v1_8_R3.PlayerConnectionUtils$1.run(SourceFile:13) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) [?:?]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\r\n        at net.minecraft.server.v1_8_R3.SystemUtils.a(SourceFile:44) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at net.minecraft.server.v1_8_R3.MinecraftServer.B(MinecraftServer.java:715) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at net.minecraft.server.v1_8_R3.DedicatedServer.B(DedicatedServer.java:374) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at net.minecraft.server.v1_8_R3.MinecraftServer.A(MinecraftServer.java:654) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at net.minecraft.server.v1_8_R3.MinecraftServer.run(MinecraftServer.java:557) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at java.lang.Thread.run(Thread.java:833) [?:?]\r\nCaused by: java.lang.NoSuchMethodError: &#39;boolean br.com.daniyusk.API.areLoged(java.lang.String)&#39;\r\n        at br.com.daniyusk.Events.doNotMove(Events.java:39) ~[?:?]\r\n        at jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]\r\n        at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:306) ~[Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        ... 15 more\r\n```\r\n\r\nAnd here&#39;s the Events code:\r\n\r\n\r\n```\r\npackage br.com.daniyusk;\r\n\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.player.AsyncPlayerChatEvent;\r\nimport org.bukkit.event.player.PlayerJoinEvent;\r\nimport org.bukkit.event.player.PlayerMoveEvent;\r\nimport org.bukkit.scheduler.BukkitRunnable;\r\n\r\npublic class Events implements Listener {\r\n\r\n    @EventHandler\r\n    public void playerJoined(PlayerJoinEvent e) {\r\n        Player player = e.getPlayer();\r\n        String playerName = player.getName();\r\n\r\n        if (!API.areLoged(player)) {\r\n            if (!Config.Contains(playerName)) {\r\n                player.sendMessage(&quot;&#167;a Registre-se por favor: /register &lt;password&gt; &lt;password&gt;&quot;);\r\n            } else {\r\n                player.sendMessage(&quot;&#167;a Logue-se por favor: /login &lt;password&gt;&quot;);\r\n            }\r\n        }\r\n\r\n        new BukkitRunnable() {\r\n            public void run(){\r\n                if (!API.areLoged(player)) {\r\n                    player.kickPlayer(&quot;&#167;cTempo esgotado!&quot;);\r\n                }\r\n            }\r\n        }.runTaskLater(authplugin.getInstance(), 20*60 );\r\n    }\r\n\r\n    @EventHandler\r\n    public void doNotMove(PlayerMoveEvent e) {\r\n        Player player = e.getPlayer();\r\n        if (!API.areLoged(player)) {\r\n            player.teleport(e.getFrom());\r\n        }\r\n    }\r\n\r\n    @EventHandler\r\n    public void doNotChat(AsyncPlayerChatEvent e){\r\n        Player player = e.getPlayer();\r\n        if (!API.areLoged(player)) {\r\n            e.setCancelled(true);\r\n            player.sendMessage(&quot;&#167;cRegistre-se/Logue para digitar no chat!&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAPI.areLoged() :\r\n\r\n```\r\n    public static boolean areLoged(String player) {\r\n        try {\r\n            return playersLoged.contains(player);\r\n        }catch (NullPointerException e){\r\n            System.out.println(&quot;Player == NULL&quot;);\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\nOne day before this error, the plugin was working correctly, but in the next day, I caught this error. I believed the error came from the &quot;API&quot; class, but I&#39;m not sure about that. But maybe it&#39;s the API that causes this error, because all classes that use the API have this error (only in areLoged(), I haven&#39;t tested it in the other methods of the API).\r\n\r\nI looked at the old versions of the classes, but they seem to me to be the same things as the current ones (with minimal differences, I believe that it is not affecting)\r\n\r\nI dont have so much details from this error.\r\n\r\nI tried using an if, as I thought that maybe Contains would return null, but I was wrong. I also changed the parameter that uses String (before it was Player). It didn&#39;t solve either.","title":"Could not pass event PlayerMoveEvent to &lt;plugin&gt;","body":"<p>I'm trying to make a Register/Login plugin in spigot for minecraft and I caught a error:</p>\n<pre><code>[06:03:10 ERROR]: Could not pass event PlayerMoveEvent to AuthPlugin v1.0-SNAPSHOT\norg.bukkit.event.EventException: null\n        at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:310) ~[Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:62) ~[Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:502) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:487) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at net.minecraft.server.v1_8_R3.PlayerConnection.a(PlayerConnection.java:270) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at net.minecraft.server.v1_8_R3.PacketPlayInFlying.a(SourceFile:126) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at net.minecraft.server.v1_8_R3.PacketPlayInFlying$PacketPlayInPosition.a(SourceFile:57) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at net.minecraft.server.v1_8_R3.PlayerConnectionUtils$1.run(SourceFile:13) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) [?:?]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\n        at net.minecraft.server.v1_8_R3.SystemUtils.a(SourceFile:44) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at net.minecraft.server.v1_8_R3.MinecraftServer.B(MinecraftServer.java:715) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at net.minecraft.server.v1_8_R3.DedicatedServer.B(DedicatedServer.java:374) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at net.minecraft.server.v1_8_R3.MinecraftServer.A(MinecraftServer.java:654) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at net.minecraft.server.v1_8_R3.MinecraftServer.run(MinecraftServer.java:557) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at java.lang.Thread.run(Thread.java:833) [?:?]\nCaused by: java.lang.NoSuchMethodError: 'boolean br.com.daniyusk.API.areLoged(java.lang.String)'\n        at br.com.daniyusk.Events.doNotMove(Events.java:39) ~[?:?]\n        at jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]\n        at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:306) ~[Spigot.jar:git-Spigot-21fe707-741a1bd]\n        ... 15 more\n</code></pre>\n<p>And here's the Events code:</p>\n<pre><code>package br.com.daniyusk;\n\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.AsyncPlayerChatEvent;\nimport org.bukkit.event.player.PlayerJoinEvent;\nimport org.bukkit.event.player.PlayerMoveEvent;\nimport org.bukkit.scheduler.BukkitRunnable;\n\npublic class Events implements Listener {\n\n    @EventHandler\n    public void playerJoined(PlayerJoinEvent e) {\n        Player player = e.getPlayer();\n        String playerName = player.getName();\n\n        if (!API.areLoged(player)) {\n            if (!Config.Contains(playerName)) {\n                player.sendMessage(&quot;a Registre-se por favor: /register &lt;password&gt; &lt;password&gt;&quot;);\n            } else {\n                player.sendMessage(&quot;a Logue-se por favor: /login &lt;password&gt;&quot;);\n            }\n        }\n\n        new BukkitRunnable() {\n            public void run(){\n                if (!API.areLoged(player)) {\n                    player.kickPlayer(&quot;cTempo esgotado!&quot;);\n                }\n            }\n        }.runTaskLater(authplugin.getInstance(), 20*60 );\n    }\n\n    @EventHandler\n    public void doNotMove(PlayerMoveEvent e) {\n        Player player = e.getPlayer();\n        if (!API.areLoged(player)) {\n            player.teleport(e.getFrom());\n        }\n    }\n\n    @EventHandler\n    public void doNotChat(AsyncPlayerChatEvent e){\n        Player player = e.getPlayer();\n        if (!API.areLoged(player)) {\n            e.setCancelled(true);\n            player.sendMessage(&quot;cRegistre-se/Logue para digitar no chat!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>API.areLoged() :</p>\n<pre><code>    public static boolean areLoged(String player) {\n        try {\n            return playersLoged.contains(player);\n        }catch (NullPointerException e){\n            System.out.println(&quot;Player == NULL&quot;);\n            return false;\n        }\n    }\n</code></pre>\n<p>One day before this error, the plugin was working correctly, but in the next day, I caught this error. I believed the error came from the &quot;API&quot; class, but I'm not sure about that. But maybe it's the API that causes this error, because all classes that use the API have this error (only in areLoged(), I haven't tested it in the other methods of the API).</p>\n<p>I looked at the old versions of the classes, but they seem to me to be the same things as the current ones (with minimal differences, I believe that it is not affecting)</p>\n<p>I dont have so much details from this error.</p>\n<p>I tried using an if, as I thought that maybe Contains would return null, but I was wrong. I also changed the parameter that uses String (before it was Player). It didn't solve either.</p>\n"},{"tags":["java","algorithm","architecture","ibm-mq","system-design"],"comments":[{"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"score":0,"creation_date":1657561053,"post_id":72941660,"comment_id":128835001,"body_markdown":"What behaviour would you expect if the second job receives A2A5 but not A1 (due to common failures like network issues)","body":"What behaviour would you expect if the second job receives A2A5 but not A1 (due to common failures like network issues)"},{"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1657575515,"post_id":72941660,"comment_id":128839179,"body_markdown":"The best I see is that you can split messages into groups and have each group arrive in logical order.  Groups can still be out of order relative to each other though.  See https://www.ibm.com/docs/en/ibm-mq/9.1?topic=queue-logical-physical-ordering for more.","body":"The best I see is that you can split messages into groups and have each group arrive in logical order.  Groups can still be out of order relative to each other though.  See <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.1?topic=queue-logical-physical-ordering\" rel=\"nofollow noreferrer\">ibm.com/docs/en/ibm-mq/&hellip;</a> for more."},{"owner":{"account_id":3975977,"reputation":1075,"user_id":3279163,"accept_rate":75,"display_name":"David Guida"},"score":0,"creation_date":1657624626,"post_id":72941660,"comment_id":128850021,"body_markdown":"do the messages belong to some kind of session? What I mean by that is if there is a way to logically group a batch of messages together OR the all need to be processed sequentially","body":"do the messages belong to some kind of session? What I mean by that is if there is a way to logically group a batch of messages together OR the all need to be processed sequentially"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1657648649,"post_id":72941660,"comment_id":128859114,"body_markdown":"If there are different types of messages on the same queue and order only matters for each type of message then one solution could be to have an app that splits the messages across multiple queues and then you can run multiple instances of your transformation app. If the messages could have a message property added at the source then you could even run multiple listeners each with a selector on the single input queue.","body":"If there are different types of messages on the same queue and order only matters for each type of message then one solution could be to have an app that splits the messages across multiple queues and then you can run multiple instances of your transformation app. If the messages could have a message property added at the source then you could even run multiple listeners each with a selector on the single input queue."},{"owner":{"account_id":17001805,"reputation":104,"user_id":12299029,"display_name":"colin paice"},"score":1,"creation_date":1657707618,"post_id":72941660,"comment_id":128872706,"body_markdown":"Strictly if you have more than one application getting messages then you will have messages out of order.  For example  Instance1 gets message, Puts reply, Instance2 gets message puts reply.  instance 2 commits, instance 1 commits.  For a short while, reply2 was available, before reply1 was committed.  A stock exchange needs to process stock orders for a company in strict order.   They solved this by having multiple queues. QUEUE A_B  for all stocks beginning with A or B, QUEUE C for all stocks beginning with C... V-Z...  etc.  For each queue they had 1 app processing the queue.","body":"Strictly if you have more than one application getting messages then you will have messages out of order.  For example  Instance1 gets message, Puts reply, Instance2 gets message puts reply.  instance 2 commits, instance 1 commits.  For a short while, reply2 was available, before reply1 was committed.  A stock exchange needs to process stock orders for a company in strict order.   They solved this by having multiple queues. QUEUE A_B  for all stocks beginning with A or B, QUEUE C for all stocks beginning with C... V-Z...  etc.  For each queue they had 1 app processing the queue."},{"owner":{"account_id":21820986,"reputation":71,"user_id":16117187,"display_name":"vivek075"},"score":0,"creation_date":1657723495,"post_id":72941660,"comment_id":128879131,"body_markdown":"@colinpaice Then there will be lot of queues right? If suppose there are 10K companies stocks trading then theoretically 10K queues will be created, and queues keep on increasing with every new company?","body":"@colinpaice Then there will be lot of queues right? If suppose there are 10K companies stocks trading then theoretically 10K queues will be created, and queues keep on increasing with every new company?"},{"owner":{"account_id":21820986,"reputation":71,"user_id":16117187,"display_name":"vivek075"},"score":0,"creation_date":1657723844,"post_id":72941660,"comment_id":128879290,"body_markdown":"@JoshMc Generally messages will be different; only when there is some change in state of previous message received; we will get an amended message. Basically I am looking for way where in Amended message should not be processed before its previous version. Hope you have got what I am looking for. Will refine Question for better clarity.","body":"@JoshMc Generally messages will be different; only when there is some change in state of previous message received; we will get an amended message. Basically I am looking for way where in Amended message should not be processed before its previous version. Hope you have got what I am looking for. Will refine Question for better clarity."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1657726810,"post_id":72941660,"comment_id":128880597,"body_markdown":"You don&#39;t need 10k queues, you can split them how you want as long as they are always split consistently.   I know one app that created a hash based on some field of the message and had 20 readers,  each reader would only process a subset of hashes, but in total all hashes were processed.","body":"You don&#39;t need 10k queues, you can split them how you want as long as they are always split consistently.   I know one app that created a hash based on some field of the message and had 20 readers,  each reader would only process a subset of hashes, but in total all hashes were processed."},{"owner":{"account_id":17001805,"reputation":104,"user_id":12299029,"display_name":"colin paice"},"score":0,"creation_date":1657816759,"post_id":72941660,"comment_id":128905849,"body_markdown":"You can have as many of few queues as you need.  If one cant handle it, try 10 - but have a consistent way of allocating messages to queues.  Eg hash (from Josh),could be first letter of an attribute  or all A* B* go to queue A_B. I picture a big switch statement.","body":"You can have as many of few queues as you need.  If one cant handle it, try 10 - but have a consistent way of allocating messages to queues.  Eg hash (from Josh),could be first letter of an attribute  or all A* B* go to queue A_B. I picture a big switch statement."}],"answers":[{"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657580875,"creation_date":1657580875,"answer_id":72945498,"question_id":72941660,"body_markdown":"IBM MQ has built-in features for grouping messages together. I would suggest you have a look at [Message Groups][1].\r\n\r\n\r\n  [1]: https://www.ibm.com/docs/en/ibm-mq/latest?topic=messages-message-groups","title":"How to maintain order of messages among multiple instances of same application","body":"<p>IBM MQ has built-in features for grouping messages together. I would suggest you have a look at <a href=\"https://www.ibm.com/docs/en/ibm-mq/latest?topic=messages-message-groups\" rel=\"nofollow noreferrer\">Message Groups</a>.</p>\n"},{"tags":[],"owner":{"display_name":"user13602017"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659078606,"creation_date":1659078606,"answer_id":73162849,"question_id":72941660,"body_markdown":"When consuming messages store in a file according to the classification. When a message consumed and decided to a group according to the classification. Update the file. It can be done by the first answer for first way you have to specify a message a group ID on program and it will process messages as a group. ","title":"How to maintain order of messages among multiple instances of same application","body":"<p>When consuming messages store in a file according to the classification. When a message consumed and decided to a group according to the classification. Update the file. It can be done by the first answer for first way you have to specify a message a group ID on program and it will process messages as a group.</p>\n"}],"owner":{"account_id":21820986,"reputation":71,"user_id":16117187,"display_name":"vivek075"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1683623362,"creation_date":1657556419,"question_id":72941660,"body_markdown":"We have a very simple application which read messages from MQ and transform the messages into some different format and send it to another MQ. \r\nThe application is deployed in the Openshift environment. Hence at any given time multiple instances of the same application will be running. We are not using any DB in our application. \r\n\r\n*We want to maintain the order of messages.*\r\nBasically while reading the messages, they were present in source MQ with some order(for e.g. A1-A2-A3-A4-A5) then post transformation they should be in same order in out MQ.\r\n\r\nEg.: Let&#39;s suppose event A1 has happened then A2 and then A3 and then A4 and then A5. Events A1 and A3 are interlinked means has some relation. Multiple instances of same application are listening on dedicated Queue for these events. Let&#39;s suppose there were 5 instances of applications running, then there can be a case where instance which has picked A3 event has finished processing. While A1 event processing still not completed. So basically I want to ensure A3 processed output should not be sent to out Queue until its previous event A1 is completed successfully and sent to out queue.\r\n\r\nCan someone please help me with this problem?","title":"How to maintain order of messages among multiple instances of same application","body":"<p>We have a very simple application which read messages from MQ and transform the messages into some different format and send it to another MQ.\nThe application is deployed in the Openshift environment. Hence at any given time multiple instances of the same application will be running. We are not using any DB in our application.</p>\n<p><em>We want to maintain the order of messages.</em>\nBasically while reading the messages, they were present in source MQ with some order(for e.g. A1-A2-A3-A4-A5) then post transformation they should be in same order in out MQ.</p>\n<p>Eg.: Let's suppose event A1 has happened then A2 and then A3 and then A4 and then A5. Events A1 and A3 are interlinked means has some relation. Multiple instances of same application are listening on dedicated Queue for these events. Let's suppose there were 5 instances of applications running, then there can be a case where instance which has picked A3 event has finished processing. While A1 event processing still not completed. So basically I want to ensure A3 processed output should not be sent to out Queue until its previous event A1 is completed successfully and sent to out queue.</p>\n<p>Can someone please help me with this problem?</p>\n"},{"tags":["java","static","initialization-block"],"comments":[{"owner":{"account_id":1976379,"reputation":608,"user_id":1774084,"display_name":"M. Yousfi"},"score":0,"creation_date":1683618142,"post_id":76206919,"comment_id":134389982,"body_markdown":"Does this answer your question? [Static Initialization Blocks](https://stackoverflow.com/questions/2420389/static-initialization-blocks)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2420389/static-initialization-blocks\">Static Initialization Blocks</a>"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1683618535,"post_id":76206919,"comment_id":134390065,"body_markdown":"See the duplicate. Note the wording &quot;A static field ***declared*** by `T`&quot;. What class your code uses doesn&#39;t matter. It is the class in which the field is *declared* that determines whether that class is initialised.","body":"See the duplicate. Note the wording &quot;A static field <b><i>declared</i></b> by <code>T</code>&quot;. What class your code uses doesn&#39;t matter. It is the class in which the field is <i>declared</i> that determines whether that class is initialised."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1683618872,"post_id":76206919,"comment_id":134390131,"body_markdown":"Java Language Specification [8.7. Static Initializers](https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.7): &quot;A static initializer declared in a class is executed when the class is initialized&quot; and [12.4.1. When Initialization Occurs](https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.4.1) &quot;...instance of T is created ... static method declared by T is invoked ... static field declared by T is assigned ... static field declared by T is used...&quot; (check the link for details) `Child` is not initialized since none of these four cases applies when running `Test`","body":"Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.7\" rel=\"nofollow noreferrer\">8.7. Static Initializers</a>: &quot;A static initializer declared in a class is executed when the class is initialized&quot; and <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.4.1\" rel=\"nofollow noreferrer\">12.4.1. When Initialization Occurs</a> &quot;...instance of T is created ... static method declared by T is invoked ... static field declared by T is assigned ... static field declared by T is used...&quot; (check the link for details) <code>Child</code> is not initialized since none of these four cases applies when running <code>Test</code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1683619432,"post_id":76206919,"comment_id":134390237,"body_markdown":"Having said that, it is generally a bad idea to rely on static initialization order as it can hard to understand.","body":"Having said that, it is generally a bad idea to rely on static initialization order as it can hard to understand."},{"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"score":0,"creation_date":1683621956,"post_id":76206919,"comment_id":134390836,"body_markdown":"What happens in that static block in Child? The `y` there is actually the field of the class Parent, that is not a declaration of a new field of class Child... right? Yet we are allowed to reference Child.y field? I glanced over the Oracle docs now but didn&#39;t find something relevant","body":"What happens in that static block in Child? The <code>y</code> there is actually the field of the class Parent, that is not a declaration of a new field of class Child... right? Yet we are allowed to reference Child.y field? I glanced over the Oracle docs now but didn&#39;t find something relevant"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683623585,"post_id":76206919,"comment_id":134391194,"body_markdown":"@GabiM check Java Language Specification [8.2. Class Members](https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.2)","body":"@GabiM check Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.2\" rel=\"nofollow noreferrer\">8.2. Class Members</a>"}],"owner":{"account_id":19756404,"reputation":31,"user_id":14466590,"display_name":"Tohidur Islam Mondal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1683618429,"answer_count":0,"score":3,"last_activity_date":1683623212,"creation_date":1683617978,"question_id":76206919,"body_markdown":"    public class Parent {\r\n        public static int y=10 ;\r\n    }\r\n    \r\n    public class Child extends Parent {\r\n        static {\r\n            y=20 ;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(Child.y);  // output = 20\r\n        }\r\n    }\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            System.out.println(Child.y); // output = 10\r\n        }\r\n    }\r\n\r\nNote: in the first scenario, static block is getting executed. But this is not the same case in the second scenario. Why? Why does the output value differ?\r\nI am using jdk-17","title":"when does a static initializer block executes in java?","body":"<pre><code>public class Parent {\n    public static int y=10 ;\n}\n\npublic class Child extends Parent {\n    static {\n        y=20 ;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(Child.y);  // output = 20\n    }\n}\n\npublic class Test {\n    public static void main(String[] args) {\n        System.out.println(Child.y); // output = 10\n    }\n}\n</code></pre>\n<p>Note: in the first scenario, static block is getting executed. But this is not the same case in the second scenario. Why? Why does the output value differ?\nI am using jdk-17</p>\n"},{"tags":["java","debugging"],"answers":[{"tags":[],"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1597382687,"creation_date":1347744892,"answer_id":12442741,"question_id":12442728,"body_markdown":"Use `d` for `int` instead of `i` and `f`for `double` instead of `d` in the following line\r\n\r\n    str = String.format(&quot;%s-30%i-6$%d-20&quot;, name, age, donation); \r\n\r\nYou can read about formatting syntax here http://docs.oracle.com/javase/6/docs/api/java/util/Formatter.html.","title":"Java UnknownFormatConversionException","body":"<p>Use <code>d</code> for <code>int</code> instead of <code>i</code> and <code>f</code>for <code>double</code> instead of <code>d</code> in the following line</p>\n<pre><code>str = String.format(&quot;%s-30%i-6$%d-20&quot;, name, age, donation); \n</code></pre>\n<p>You can read about formatting syntax here <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Formatter.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/6/docs/api/java/util/Formatter.html</a>.</p>\n"},{"tags":[],"owner":{"account_id":18228916,"reputation":2352,"user_id":13268194,"display_name":"Tarun Anchala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683623109,"creation_date":1683623109,"answer_id":76207576,"question_id":12442728,"body_markdown":"In my case, there is space added in between $ and s (**%1:$  s**) because of alignment. Removing space works\r\n\r\n**Before**\r\n\r\n    &lt;string name=&quot;ex_text&quot;&gt;text: %1$ s&lt;/string&gt;\r\n\r\n**After**\r\n\r\n    &lt;string name=&quot;ex_text&quot;&gt;text: %1$s&lt;/string&gt;","title":"Java UnknownFormatConversionException","body":"<p>In my case, there is space added in between $ and s (<strong>%1:$  s</strong>) because of alignment. Removing space works</p>\n<p><strong>Before</strong></p>\n<pre><code>&lt;string name=&quot;ex_text&quot;&gt;text: %1$ s&lt;/string&gt;\n</code></pre>\n<p><strong>After</strong></p>\n<pre><code>&lt;string name=&quot;ex_text&quot;&gt;text: %1$s&lt;/string&gt;\n</code></pre>\n"}],"owner":{"account_id":1843558,"reputation":7606,"user_id":1672458,"accept_rate":71,"display_name":"vaindil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73884,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":12442741,"answer_count":2,"score":31,"last_activity_date":1683623109,"creation_date":1347744540,"question_id":12442728,"body_markdown":"The code below throws this error, and I&#39;m not sure why. There is clearly a problem with outputting String.format to the `str` variable, but I don&#39;t know what&#39;s wrong with it.\r\n\r\n    Exception in thread &quot;main&quot; java.util.UnknownFormatConversionException: Conversion = &#39;i&#39;\r\n        at java.util.Formatter$FormatSpecifier.conversion(Unknown Source)\r\n    \tat java.util.Formatter$FormatSpecifier.&lt;init&gt;(Unknown Source)\r\n    \tat java.util.Formatter.parse(Unknown Source)\r\n    \tat java.util.Formatter.format(Unknown Source)\r\n    \tat java.util.Formatter.format(Unknown Source)\r\n    \tat java.lang.String.format(Unknown Source)\r\n    \tat Donor.toString(Donor.java:41)\r\n    \tat Donor.main(Donor.java:65)\r\n\r\n-\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Donor {\r\n    \t\r\n    \tpublic String name;\r\n    \tpublic int age;\r\n    \tpublic double donation;\r\n    \t\r\n    \tDonor() {\r\n    \t\t\r\n    \t\t//Initialized to these values for debugging\r\n    \t\tname = &quot;NoName&quot;;\r\n    \t\tage = 0;\r\n    \t\tdonation = 0;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tDonor(String nameinit, int ageinit, double donationinit) {\r\n    \t\t\r\n    \t\tname = nameinit;\r\n    \t\tage = ageinit;\r\n    \t\tdonation = donationinit;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic String toString() {\r\n    \t\t\r\n    \t\tString str = &quot;&quot;;\r\n    \t\t\r\n    \t\tstr = String.format(&quot;%s-30%i-6$%d-20&quot;, name, age, donation);\r\n    \t\t\r\n    \t\treturn str;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\tString nameinit = null;\r\n    \t\tint ageinit = -1;\r\n    \t\tdouble donationinit = -1;\r\n    \t\tString outp = null;\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Enter the donor&#39;s name: &quot;);\r\n    \t\tnameinit = input.nextLine();\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Enter the donor&#39;s age: &quot;);\r\n    \t\tageinit = input.nextInt();\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Enter the donation amount: &quot;);\r\n    \t\tdonationinit = input.nextDouble();\r\n    \t\t\r\n    \t\tDonor d = new Donor(nameinit, ageinit, donationinit);\r\n    \t\toutp = d.toString();\r\n    \t\t\r\n    \t\tSystem.out.printf(&quot;%s30 %s6 %s10&quot;, &quot;Name&quot;, &quot;Age&quot;, &quot;Donation&quot;);\r\n    \t\tSystem.out.print(&quot;\\n&quot; + outp);\r\n    \t\t\r\n    \t\tinput.close();\r\n    \t\t\r\n    \t}\r\n    \r\n    }","title":"Java UnknownFormatConversionException","body":"<p>The code below throws this error, and I'm not sure why. There is clearly a problem with outputting String.format to the <code>str</code> variable, but I don't know what's wrong with it.</p>\n\n<pre><code>Exception in thread \"main\" java.util.UnknownFormatConversionException: Conversion = 'i'\n    at java.util.Formatter$FormatSpecifier.conversion(Unknown Source)\n    at java.util.Formatter$FormatSpecifier.&lt;init&gt;(Unknown Source)\n    at java.util.Formatter.parse(Unknown Source)\n    at java.util.Formatter.format(Unknown Source)\n    at java.util.Formatter.format(Unknown Source)\n    at java.lang.String.format(Unknown Source)\n    at Donor.toString(Donor.java:41)\n    at Donor.main(Donor.java:65)\n</code></pre>\n\n<p>-</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Donor {\n\n    public String name;\n    public int age;\n    public double donation;\n\n    Donor() {\n\n        //Initialized to these values for debugging\n        name = \"NoName\";\n        age = 0;\n        donation = 0;\n\n    }\n\n    Donor(String nameinit, int ageinit, double donationinit) {\n\n        name = nameinit;\n        age = ageinit;\n        donation = donationinit;\n\n    }\n\n    public String toString() {\n\n        String str = \"\";\n\n        str = String.format(\"%s-30%i-6$%d-20\", name, age, donation);\n\n        return str;\n\n    }\n\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n        String nameinit = null;\n        int ageinit = -1;\n        double donationinit = -1;\n        String outp = null;\n\n        System.out.print(\"Enter the donor's name: \");\n        nameinit = input.nextLine();\n\n        System.out.print(\"Enter the donor's age: \");\n        ageinit = input.nextInt();\n\n        System.out.print(\"Enter the donation amount: \");\n        donationinit = input.nextDouble();\n\n        Donor d = new Donor(nameinit, ageinit, donationinit);\n        outp = d.toString();\n\n        System.out.printf(\"%s30 %s6 %s10\", \"Name\", \"Age\", \"Donation\");\n        System.out.print(\"\\n\" + outp);\n\n        input.close();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2794,"reputation":88136,"user_id":3937,"accept_rate":76,"display_name":"Lou Franco"},"score":37,"creation_date":1286910155,"post_id":3918083,"comment_id":4177964,"body_markdown":"In what context?  Seriously -- (not a joke)","body":"In what context?  Seriously -- (not a joke)"},{"owner":{"account_id":2794,"reputation":88136,"user_id":3937,"accept_rate":76,"display_name":"Lou Franco"},"score":17,"creation_date":1286910209,"post_id":3918083,"comment_id":4177975,"body_markdown":"@Colin is one second funnier than me.","body":"@Colin is one second funnier than me."},{"owner":{"account_id":180227,"reputation":38991,"user_id":413414,"accept_rate":72,"display_name":"Christopher Perry"},"score":0,"creation_date":1286910326,"post_id":3918083,"comment_id":4178002,"body_markdown":"Now I&#39;m even more confused. Seriously though, I&#39;ve been passing around &#39;this&#39; in my Android apps for Context, without understanding what exactly a Context is. I&#39;d like to know what Context is and why it&#39;s required. I guess you could also say my interest has to do with object factories as well.","body":"Now I&#39;m even more confused. Seriously though, I&#39;ve been passing around &#39;this&#39; in my Android apps for Context, without understanding what exactly a Context is. I&#39;d like to know what Context is and why it&#39;s required. I guess you could also say my interest has to do with object factories as well."},{"owner":{"account_id":68503,"reputation":3979,"user_id":199822,"accept_rate":70,"display_name":"Markus Johnsson"},"score":0,"creation_date":1286912043,"post_id":3918083,"comment_id":4178264,"body_markdown":"You should probably provide some code example where you as you said, &quot;pass this around as context&quot;. It sounds like it is a parameter to a method, perhaps the documentation of the method has a hint of what the context is supposed to be?","body":"You should probably provide some code example where you as you said, &quot;pass this around as context&quot;. It sounds like it is a parameter to a method, perhaps the documentation of the method has a hint of what the context is supposed to be?"},{"owner":{"account_id":83481,"reputation":46600,"user_id":234039,"accept_rate":67,"display_name":"Cheryl Simon"},"score":8,"creation_date":1286913311,"post_id":3918083,"comment_id":4178501,"body_markdown":"Do you mean the Android Context?  That is very different from the &quot;Context in Java&quot;.","body":"Do you mean the Android Context?  That is very different from the &quot;Context in Java&quot;."},{"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"score":8,"creation_date":1395622384,"post_id":3918083,"comment_id":34408100,"body_markdown":"This question is similar to &quot;What does &#39;this&#39; mean?&quot;","body":"This question is similar to &quot;What does &#39;this&#39; mean?&quot;"},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1469858883,"post_id":3918083,"comment_id":64722390,"body_markdown":"A context is a set of name-to-object bindings.","body":"A context is a set of name-to-object bindings."},{"owner":{"account_id":5001436,"reputation":905,"user_id":4020329,"display_name":"Ali Yeganeh"},"score":0,"creation_date":1525266220,"post_id":3918083,"comment_id":87288630,"body_markdown":"Context is a pattern \nContext to keep references of other object that can service to this references\nas Spring IOC container that Services Dependency injection . . .","body":"Context is a pattern  Context to keep references of other object that can service to this references as Spring IOC container that Services Dependency injection . . ."},{"owner":{"account_id":1974896,"reputation":12096,"user_id":1772898,"accept_rate":65,"display_name":"Ahmad Ismail"},"score":0,"creation_date":1663227857,"post_id":3918083,"comment_id":130190724,"body_markdown":"`context  global variable`. Please check https://stackoverflow.com/a/73727102/1772898","body":"<code>context  global variable</code>. Please check <a href=\"https://stackoverflow.com/a/73727102/1772898\">stackoverflow.com/a/73727102/1772898</a>"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":112,"is_accepted":true,"score":112,"last_activity_date":1286910376,"creation_date":1286910376,"answer_id":3918116,"question_id":3918083,"body_markdown":"In programming terms, it&#39;s the larger surrounding part which can have *any* influence on the behaviour of the current unit of work. E.g. the running environment used, the environment variables, instance variables, local variables, state of other classes, state of the current environment, etcetera.\r\n\r\nIn some API&#39;s you see this name back in an interface/class, e.g. Servlet&#39;s [`ServletContext`][1], JSF&#39;s [`FacesContext`][2], Spring&#39;s [`ApplicationContext`][3], Android&#39;s [`Context`][4], JNDI&#39;s [`InitialContext`][5], etc. They all often follow the [**Facade Pattern**][6] which abstracts the environmental details the enduser doesn&#39;t need to know about away in a single interface/class.\r\n\r\n\r\n  [1]: http://download.oracle.com/javaee/5/api/javax/servlet/ServletContext.html\r\n  [2]: http://download.oracle.com/javaee/6/api/javax/faces/context/FacesContext.html\r\n  [3]: http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/context/ApplicationContext.html\r\n  [4]: http://developer.android.com/reference/android/content/Context.html\r\n  [5]: http://download.oracle.com/javase/6/docs/api/javax/naming/InitialContext.html\r\n  [6]: http://en.wikipedia.org/wiki/Facade_pattern","title":"What exactly is a Context in Java?","body":"<p>In programming terms, it's the larger surrounding part which can have <em>any</em> influence on the behaviour of the current unit of work. E.g. the running environment used, the environment variables, instance variables, local variables, state of other classes, state of the current environment, etcetera.</p>\n\n<p>In some API's you see this name back in an interface/class, e.g. Servlet's <a href=\"http://download.oracle.com/javaee/5/api/javax/servlet/ServletContext.html\" rel=\"noreferrer\"><code>ServletContext</code></a>, JSF's <a href=\"http://download.oracle.com/javaee/6/api/javax/faces/context/FacesContext.html\" rel=\"noreferrer\"><code>FacesContext</code></a>, Spring's <a href=\"http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/context/ApplicationContext.html\" rel=\"noreferrer\"><code>ApplicationContext</code></a>, Android's <a href=\"http://developer.android.com/reference/android/content/Context.html\" rel=\"noreferrer\"><code>Context</code></a>, JNDI's <a href=\"http://download.oracle.com/javase/6/docs/api/javax/naming/InitialContext.html\" rel=\"noreferrer\"><code>InitialContext</code></a>, etc. They all often follow the <a href=\"http://en.wikipedia.org/wiki/Facade_pattern\" rel=\"noreferrer\"><strong>Facade Pattern</strong></a> which abstracts the environmental details the enduser doesn't need to know about away in a single interface/class.</p>\n"},{"tags":[],"owner":{"account_id":186732,"reputation":141,"user_id":424318,"display_name":"chrismh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1420448406,"creation_date":1286910570,"answer_id":3918147,"question_id":3918083,"body_markdown":"since you capitalized the word, I assume you are referring to the interface `javax.naming.Context`.  A few classes implement this interface, and at its simplest description, it (generically) is a set of name/object pairs.","title":"What exactly is a Context in Java?","body":"<p>since you capitalized the word, I assume you are referring to the interface <code>javax.naming.Context</code>.  A few classes implement this interface, and at its simplest description, it (generically) is a set of name/object pairs.</p>\n"},{"tags":[],"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1369637806,"creation_date":1286910607,"answer_id":3918152,"question_id":3918083,"body_markdown":"A Context represents your environment. It represents the state surrounding where you are in your system.\r\n\r\nFor example, in web programming in Java, you have a Request, and a Response. These are passed to the service method of a Servlet.\r\n\r\nA property of the Servlet is the ServletConfig, and within that is a ServletContext.\r\n\r\nThe ServletContext is used to tell the servlet about the Container that the Servlet is within.\r\n\r\nSo, the ServletContext represents the servlets environment within its container.\r\n\r\nSimilarly, in Java EE, you have EBJContexts that elements (like session beans) can access to work with their containers.\r\n\r\nThose are two examples of contexts used in Java today.\r\n\r\nEdit --\r\n\r\nYou mention Android.\r\n\r\nLook here: http://developer.android.com/reference/android/content/Context.html\r\n\r\nYou can see how this Context gives you all sorts of information about where the Android app is deployed and what&#39;s available to it.\r\n\r\n","title":"What exactly is a Context in Java?","body":"<p>A Context represents your environment. It represents the state surrounding where you are in your system.</p>\n\n<p>For example, in web programming in Java, you have a Request, and a Response. These are passed to the service method of a Servlet.</p>\n\n<p>A property of the Servlet is the ServletConfig, and within that is a ServletContext.</p>\n\n<p>The ServletContext is used to tell the servlet about the Container that the Servlet is within.</p>\n\n<p>So, the ServletContext represents the servlets environment within its container.</p>\n\n<p>Similarly, in Java EE, you have EBJContexts that elements (like session beans) can access to work with their containers.</p>\n\n<p>Those are two examples of contexts used in Java today.</p>\n\n<p>Edit --</p>\n\n<p>You mention Android.</p>\n\n<p>Look here: <a href=\"http://developer.android.com/reference/android/content/Context.html\" rel=\"noreferrer\">http://developer.android.com/reference/android/content/Context.html</a></p>\n\n<p>You can see how this Context gives you all sorts of information about where the Android app is deployed and what's available to it.</p>\n"},{"tags":[],"owner":{"account_id":540838,"reputation":689,"user_id":909169,"accept_rate":62,"display_name":"Dmitry Kolesnikovich"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1683622988,"creation_date":1368885628,"answer_id":16625096,"question_id":3918083,"body_markdown":"Simply saying, Java context means Java `native` methods all together.\r\n\r\nIn next Java code, two lines of code need context: `// (1)` and `// (2)`\r\n\r\n    import java.io.*;\r\n    \r\n    public class Runner{\r\n        public static void main(String[] args) throws IOException { // (1)           \r\n            File file = new File(&quot;D:/text.txt&quot;);\r\n            String text = &quot;&quot;;\r\n            BufferedReader reader = new BufferedReader(new FileReader(file));\r\n            String line;\r\n            while ((line = reader.readLine()) != null){ // (2)\r\n                text += line;\r\n            }\r\n            System.out.println(text);\r\n        }\r\n    }\r\n\r\n(1) needs context because *it is invoked by Java native method* `private native void java.lang.Thread.start0();`\r\n\r\n(2) `reader.readLine()` needs context because *invokes Java native method* `public static native void java.lang.System.arraycopy(Object src,  int  srcPos, Object dest, int destPos, int length);`\r\n\r\nPS.\r\n\r\nThat is what BalusC has said about pattern Facade more strictly.","title":"What exactly is a Context in Java?","body":"<p>Simply saying, Java context means Java <code>native</code> methods all together.</p>\n<p>In next Java code, two lines of code need context: <code>// (1)</code> and <code>// (2)</code></p>\n<pre><code>import java.io.*;\n\npublic class Runner{\n    public static void main(String[] args) throws IOException { // (1)           \n        File file = new File(&quot;D:/text.txt&quot;);\n        String text = &quot;&quot;;\n        BufferedReader reader = new BufferedReader(new FileReader(file));\n        String line;\n        while ((line = reader.readLine()) != null){ // (2)\n            text += line;\n        }\n        System.out.println(text);\n    }\n}\n</code></pre>\n<p>(1) needs context because <em>it is invoked by Java native method</em> <code>private native void java.lang.Thread.start0();</code></p>\n<p>(2) <code>reader.readLine()</code> needs context because <em>invokes Java native method</em> <code>public static native void java.lang.System.arraycopy(Object src,  int  srcPos, Object dest, int destPos, int length);</code></p>\n<p>PS.</p>\n<p>That is what BalusC has said about pattern Facade more strictly.</p>\n"}],"owner":{"account_id":180227,"reputation":38991,"user_id":413414,"accept_rate":72,"display_name":"Christopher Perry"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158212,"favorite_count":0,"down_vote_count":2,"up_vote_count":121,"closed_date":1374591216,"accepted_answer_id":3918116,"answer_count":4,"score":119,"last_activity_date":1683622988,"creation_date":1286910079,"question_id":3918083,"body_markdown":"I Googled this and read the Java documentation, but I&#39;m a bit confused. Can somebody please explain what a `Context` is in plain English? ","title":"What exactly is a Context in Java?","body":"<p>I Googled this and read the Java documentation, but I'm a bit confused. Can somebody please explain what a <code>Context</code> is in plain English? </p>\n"},{"tags":["java","java-8","reactive","spring-data-r2dbc","r2dbc-postgresql"],"owner":{"account_id":25836931,"reputation":25,"user_id":19573182,"display_name":"Sujoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683621828,"creation_date":1683620671,"question_id":76207267,"body_markdown":"I have two tables in my use case.. \r\n\r\n1) Project \r\n2) Task \r\n\r\nA project can have multiple task associated with that project. \r\n\r\nIn task table I have FK relationship with project table, simple M:M relationship. \r\n\r\nAs in R2dbcRepository we do not have JPA support for table relationship , I am using join query with R2DBC DatabaseClient and executing the SQL query to get the data. \r\n\r\nMy SQL Query like this : `select project.\\&quot;projectName\\&quot;,project.\\&quot;projectId\\&quot;,tsk.\\&quot;taskName\\&quot; \\n&quot; +\r\n                &quot;from evolutionlinkgroup.task as tsk \\n&quot; +\r\n                &quot;inner join evolutionlinkgroup.project on project.\\&quot;projectId\\&quot;=tsk.\\&quot;taskProjectId\\&quot;`\r\n\r\n\r\nAfter exciting this query I am mapping this into object : \r\n\r\n`client.sql(queryForAllProj)\r\n                .map(mapper::apply)\r\n                .all();`\r\n\r\nMy Mapper Function : \r\n\r\n    public Project apply(Row row, Object o) {\r\n        Integer taskId = row.get(&quot;taskId&quot;, Integer.class);\r\n        String taskName = row.get(&quot;taskName&quot;, String.class);\r\n        Integer projectId = row.get(&quot;projectId&quot;, Integer.class);\r\n        String projectName = row.get(&quot;projectName&quot;, String.class);\r\n        Task task = new Task(taskId,taskName,null);\r\n        Project project = new Project(projectId, projectName,Arrays.asList(task));\r\n        task.setProjectId(new Project(projectId, projectName,null));\r\n        return project;\r\n    }\r\n\r\nWhich return me back Flux of project object :  `Flux&lt;Project&gt;`\r\n\r\nthe mapper return me back data in this way, the same way my SQL fetch data from DB : \r\n\r\n\r\n    Project ID | Project Name | Task ID \r\n---------------------------------------\r\n001          | Project1       | TSK001\r\n---------------------------------------\r\n001          | Project1       | TSK002\r\n---------------------------------------\r\n001          | Project1       | TSK003\r\n---------------------------------------\r\n002          | Project2       | TSK004\r\n---------------------------------------\r\n002          | Project2       | TSK006\r\n---------------------------------------\r\n003          | Project3       | TSK001\r\n---------------------------------------\r\n\r\nnow from this Flux of project I want to convert it something like this. \r\n\r\n    Project ID | Project Name | Task ID \r\n----------------------------------------------------------------\r\n001          | Project1       | ListOfTask(TSK001,TSK002,TSK003)\r\n----------------------------------------------------------------\r\n002          | Project2       | ListOfTask(TSK004,TSK006)\r\n----------------------------------------------------------------\r\n003          | Project3       | ListOfTask(TSK001)\r\n----------------------------------------------------------------\r\n\r\n\r\n\r\n\r\n\r\nCan any one suggest me how can I do that by doing something in the mapper function or after I receive the response from mapper again run some transformation on top of that data. \r\n\r\nI tried in this way : \r\n\r\n```\r\nresult.collect(\r\n                Collectors.toMap(Project::getProjectId, Function.identity(), (Project project1, Project project2) -&gt; {\r\n                    project1.getTaskList().addAll(project2.getTaskList());\r\n                    project2.getTaskList().clear();\r\n                    return project1;\r\n                })\r\n```\r\n\r\nBut this is not what I am looking for. It returning me back map&lt;key,project&gt; , but I am not able convert that into Flux of project object along with the list of task object which are associated with that project. ","title":"R2DBC SQL mapper conversion","body":"<p>I have two tables in my use case..</p>\n<ol>\n<li>Project</li>\n<li>Task</li>\n</ol>\n<p>A project can have multiple task associated with that project.</p>\n<p>In task table I have FK relationship with project table, simple M:M relationship.</p>\n<p>As in R2dbcRepository we do not have JPA support for table relationship , I am using join query with R2DBC DatabaseClient and executing the SQL query to get the data.</p>\n<p>My SQL Query like this : <code>select project.\\&quot;projectName\\&quot;,project.\\&quot;projectId\\&quot;,tsk.\\&quot;taskName\\&quot; \\n&quot; + &quot;from evolutionlinkgroup.task as tsk \\n&quot; + &quot;inner join evolutionlinkgroup.project on project.\\&quot;projectId\\&quot;=tsk.\\&quot;taskProjectId\\&quot;</code></p>\n<p>After exciting this query I am mapping this into object :</p>\n<p><code>client.sql(queryForAllProj) .map(mapper::apply) .all();</code></p>\n<p>My Mapper Function :</p>\n<pre><code>public Project apply(Row row, Object o) {\n    Integer taskId = row.get(&quot;taskId&quot;, Integer.class);\n    String taskName = row.get(&quot;taskName&quot;, String.class);\n    Integer projectId = row.get(&quot;projectId&quot;, Integer.class);\n    String projectName = row.get(&quot;projectName&quot;, String.class);\n    Task task = new Task(taskId,taskName,null);\n    Project project = new Project(projectId, projectName,Arrays.asList(task));\n    task.setProjectId(new Project(projectId, projectName,null));\n    return project;\n}\n</code></pre>\n<p>Which return me back Flux of project object :  <code>Flux&lt;Project&gt;</code></p>\n<p>the mapper return me back data in this way, the same way my SQL fetch data from DB :</p>\n<pre><code>Project ID | Project Name | Task ID \n</code></pre>\n<hr />\n<h2>001          | Project1       | TSK001</h2>\n<h2>001          | Project1       | TSK002</h2>\n<h2>001          | Project1       | TSK003</h2>\n<h2>002          | Project2       | TSK004</h2>\n<h2>002          | Project2       | TSK006</h2>\n<h2>003          | Project3       | TSK001</h2>\n<p>now from this Flux of project I want to convert it something like this.</p>\n<pre><code>Project ID | Project Name | Task ID \n</code></pre>\n<hr />\n<h2>001          | Project1       | ListOfTask(TSK001,TSK002,TSK003)</h2>\n<h2>002          | Project2       | ListOfTask(TSK004,TSK006)</h2>\n<h2>003          | Project3       | ListOfTask(TSK001)</h2>\n<p>Can any one suggest me how can I do that by doing something in the mapper function or after I receive the response from mapper again run some transformation on top of that data.</p>\n<p>I tried in this way :</p>\n<pre><code>result.collect(\n                Collectors.toMap(Project::getProjectId, Function.identity(), (Project project1, Project project2) -&gt; {\n                    project1.getTaskList().addAll(project2.getTaskList());\n                    project2.getTaskList().clear();\n                    return project1;\n                })\n</code></pre>\n<p>But this is not what I am looking for. It returning me back map&lt;key,project&gt; , but I am not able convert that into Flux of project object along with the list of task object which are associated with that project.</p>\n"},{"tags":["java","spring-boot","caching"],"owner":{"account_id":2719519,"reputation":51,"user_id":5820919,"display_name":"cmatofte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683621616,"creation_date":1683621616,"question_id":76207365,"body_markdown":"I&#39;m trying to preload some cached functions for lookup purposes and I don&#39;t understand how cacheNames and key work here.\r\nCan I have a cache keyed by different attributes and how do I tell the cacheManager put() function what key to use?\r\n\r\n\r\nThis is my UnitService (simplified for clarity):\r\n\r\n``` lang-java\r\n@Service\r\npublic class UnitService {\r\n\r\n    @Autowired\r\n    CacheManager cacheManager;\r\n\r\n    @Autowired\r\n    UnitRepository unitRepository;\r\n\r\n    @Cacheable(cacheNames = &quot;unit&quot;, key = &quot;#id&quot;)\r\n    public Unit getUnitById(Integer id) {\r\n        return unitRepository.findById(id).orElse(null);\r\n    }\r\n\r\n    @Cacheable(cacheNames = &quot;unit&quot;, key = &quot;#serialNumber&quot;)\r\n    public Unit getUnitBySerialNumber(String serialNumber) {\r\n        return unitRepository.findBySerialNumber(serialNumber).orElse(null);\r\n    }\r\n\r\n    public List&lt;Unit&gt; getAllUnits() {\r\n        return unitRepository.findAll();\r\n    }\r\n\r\n    public void preloadCache() {\r\n        for (Unit unit: getAllUnits()) {\r\n            //Is this the right way to do this?\r\n            cacheManager.getCache(&quot;unit&quot;).put(unit.getId(), unit);\r\n            cacheManager.getCache(&quot;unit&quot;).put(unit.getSerialNumber(), unit);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn this example the serial number is 99% of the time a combination of letters and numbers but there are some erroneous data where it&#39;s just a number and this causes the findBySerialNumber function to return the wrong unit.\r\n\r\nWould I be better of just having different cacheNames for the two get functions or is there some way to manually populate one cache keyed by two different attributes?","title":"Spring Boot cache names and keys","body":"<p>I'm trying to preload some cached functions for lookup purposes and I don't understand how cacheNames and key work here.\nCan I have a cache keyed by different attributes and how do I tell the cacheManager put() function what key to use?</p>\n<p>This is my UnitService (simplified for clarity):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UnitService {\n\n    @Autowired\n    CacheManager cacheManager;\n\n    @Autowired\n    UnitRepository unitRepository;\n\n    @Cacheable(cacheNames = &quot;unit&quot;, key = &quot;#id&quot;)\n    public Unit getUnitById(Integer id) {\n        return unitRepository.findById(id).orElse(null);\n    }\n\n    @Cacheable(cacheNames = &quot;unit&quot;, key = &quot;#serialNumber&quot;)\n    public Unit getUnitBySerialNumber(String serialNumber) {\n        return unitRepository.findBySerialNumber(serialNumber).orElse(null);\n    }\n\n    public List&lt;Unit&gt; getAllUnits() {\n        return unitRepository.findAll();\n    }\n\n    public void preloadCache() {\n        for (Unit unit: getAllUnits()) {\n            //Is this the right way to do this?\n            cacheManager.getCache(&quot;unit&quot;).put(unit.getId(), unit);\n            cacheManager.getCache(&quot;unit&quot;).put(unit.getSerialNumber(), unit);\n        }\n    }\n}\n</code></pre>\n<p>In this example the serial number is 99% of the time a combination of letters and numbers but there are some erroneous data where it's just a number and this causes the findBySerialNumber function to return the wrong unit.</p>\n<p>Would I be better of just having different cacheNames for the two get functions or is there some way to manually populate one cache keyed by two different attributes?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1664269804,"post_id":73862271,"comment_id":130427038,"body_markdown":"You&#39;re using a relative file path.  Your cmd would only work if you execute the command in the same directory as your .class file.  [Reading an image resource file in java](https://stackoverflow.com/questions/35251648/reading-an-image-resource-file-in-java)","body":"You&#39;re using a relative file path.  Your cmd would only work if you execute the command in the same directory as your .class file.  <a href=\"https://stackoverflow.com/questions/35251648/reading-an-image-resource-file-in-java\">Reading an image resource file in java</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664281082,"post_id":73862271,"comment_id":130430941,"body_markdown":"Better to load your files/images as resources:\n[Netbeans](https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans)\n[Eclipse](https://technojeeves.com/index.php/aliasjava1/80-loading-files-as-resources-in-java-with-eclipse)","body":"Better to load your files/images as resources: <a href=\"https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans\" rel=\"nofollow noreferrer\">Netbeans</a> <a href=\"https://technojeeves.com/index.php/aliasjava1/80-loading-files-as-resources-in-java-with-eclipse\" rel=\"nofollow noreferrer\">Eclipse</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664281752,"post_id":73862271,"comment_id":130431248,"body_markdown":"And btw your problem is a [current directory](https://technojeeves.com/index.php/aliasjava1/91-find-the-current-directory-in-java)\nissue","body":"And btw your problem is a <a href=\"https://technojeeves.com/index.php/aliasjava1/91-find-the-current-directory-in-java\" rel=\"nofollow noreferrer\">current directory</a> issue"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1664407220,"post_id":73862271,"comment_id":130467160,"body_markdown":"there is no __file__ path in a jar, it&#39;s a __package__ in a resource lookup","body":"there is no <b>file</b> path in a jar, it&#39;s a <b>package</b> in a resource lookup"}],"answers":[{"tags":[],"owner":{"account_id":25909666,"reputation":1,"user_id":19634161,"display_name":"Fabian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664400249,"creation_date":1664400023,"answer_id":73887916,"question_id":73862271,"body_markdown":"Your path is wrong. \r\nIf you run the .jar file, your computer will search in that directory:\r\n\r\n```\r\n./img/pngtree-a-cute-brawn-turd-vector-or-color-illustration-png-image_2030317-removebg-preview.png\r\n```\r\nyour machine will not find anything, because you did not provide the absolute path. \r\n\r\nYou need to input the absolute path. for example:\r\n\r\n```\r\n/Users/yourUser/Pictures/yourPic.jpg\r\n```\r\n\r\n\r\n\r\n**if you just put in the \\img path, your IDE will recognize it, because it has the mother directory already open. So it will just search in that. If you run as jar, on the other hand, your machine will not know where EXACTLY the File is located.That&#39;s because the .jar file and the cmd window is not located in your project folder.**","title":"I can access a file in ide, but it doesn&#39;t work on cmd","body":"<p>Your path is wrong.\nIf you run the .jar file, your computer will search in that directory:</p>\n<pre><code>./img/pngtree-a-cute-brawn-turd-vector-or-color-illustration-png-image_2030317-removebg-preview.png\n</code></pre>\n<p>your machine will not find anything, because you did not provide the absolute path.</p>\n<p>You need to input the absolute path. for example:</p>\n<pre><code>/Users/yourUser/Pictures/yourPic.jpg\n</code></pre>\n<p><strong>if you just put in the \\img path, your IDE will recognize it, because it has the mother directory already open. So it will just search in that. If you run as jar, on the other hand, your machine will not know where EXACTLY the File is located.That's because the .jar file and the cmd window is not located in your project folder.</strong></p>\n"}],"owner":{"account_id":23193927,"reputation":17,"user_id":17289849,"display_name":""},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1683621408,"creation_date":1664251648,"question_id":73862271,"body_markdown":"Hi I want to add images on Jpanel. when I clicked the run button on IDE, It works. But when I export the project as a jar file it doesn&#39;t work. it says that file doesn&#39;t exist. I don&#39;t know what causes the problem. \r\nsorry for my bad English. \r\n\r\n  `````\r\npackage avoidingGame;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport java.io.*;\r\nimport java.awt.image.BufferedImage;\r\nimport javax.imageio.ImageIO;\r\n\r\npublic class DroppingObject extends JPanel\r\n{\r\n\tpublic DroppingObject() {\r\n\t\ttry {\r\n\t\t\tFile poop = new File(&quot;./img/pngtree-a-cute-brawn-turd-vector-or-color-illustration-png-image_2030317-removebg-preview.png&quot;);\r\n\t\t\tSystem.out.println(&quot;isFile is= &quot;+ poop.isFile());\r\n\t\t\tSystem.out.println(&quot;fileExists is= &quot;+ poop.exists());\r\n\t\t\tBufferedImage bufferedImage = ImageIO.read(poop);\r\n\t\t\tImage image = bufferedImage.getScaledInstance(70, 70, Image.SCALE_DEFAULT);\r\n\t\t\tJLabel pic = new JLabel(new ImageIcon(image));\r\n\t\t\tpic.setOpaque(false);\r\n\t\t\tadd(pic);\r\n\t\t\tsetBounds(130, 180, 70, 70); // \r\n\t\t}\r\n\t\t\r\n\t\tcatch(Exception e) {\r\n\t\t\t e.printStackTrace();\r\n\t\t\tSystem.out.println(&quot;failed to load image&quot;);\r\n\t\t}\r\n\t}  \r\n}\r\n\r\n`````\r\n\r\n         the result is that\r\n        isFile is = true \r\n        fileExists is true \r\n         on IDE.\r\nbut both are false in cmd \r\n    ","title":"I can access a file in ide, but it doesn&#39;t work on cmd","body":"<p>Hi I want to add images on Jpanel. when I clicked the run button on IDE, It works. But when I export the project as a jar file it doesn't work. it says that file doesn't exist. I don't know what causes the problem.\nsorry for my bad English.</p>\n<pre><code>package avoidingGame;\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.io.*;\nimport java.awt.image.BufferedImage;\nimport javax.imageio.ImageIO;\n\npublic class DroppingObject extends JPanel\n{\n  public DroppingObject() {\n      try {\n          File poop = new File(&quot;./img/pngtree-a-cute-brawn-turd-vector-or-color-illustration-png-image_2030317-removebg-preview.png&quot;);\n          System.out.println(&quot;isFile is= &quot;+ poop.isFile());\n          System.out.println(&quot;fileExists is= &quot;+ poop.exists());\n          BufferedImage bufferedImage = ImageIO.read(poop);\n          Image image = bufferedImage.getScaledInstance(70, 70, Image.SCALE_DEFAULT);\n          JLabel pic = new JLabel(new ImageIcon(image));\n          pic.setOpaque(false);\n          add(pic);\n          setBounds(130, 180, 70, 70); // \n      }\n      \n      catch(Exception e) {\n           e.printStackTrace();\n          System.out.println(&quot;failed to load image&quot;);\n      }\n  }  \n}\n\n</code></pre>\n<pre><code>     the result is that\n    isFile is = true \n    fileExists is true \n     on IDE.\n</code></pre>\n<p>but both are false in cmd</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1683612864,"post_id":76206309,"comment_id":134389045,"body_markdown":"can you add your pom.xml or version of selenium that you are using","body":"can you add your pom.xml or version of selenium that you are using"},{"owner":{"account_id":28554375,"reputation":1,"user_id":21858811,"display_name":"Prabhakar Singh"},"score":0,"creation_date":1683655154,"post_id":76206309,"comment_id":134399031,"body_markdown":"I am using 4.9.0 selenium version","body":"I am using 4.9.0 selenium version"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683676504,"post_id":76206309,"comment_id":134402427,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28554375,"reputation":1,"user_id":21858811,"display_name":"Prabhakar Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683621264,"creation_date":1683612507,"question_id":76206309,"body_markdown":"Installed All the related thing required to execute or run the selenium Automation Scripts. Please help me as soon as possible. \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\r\n    \tat org.asynchttpclient.DefaultAsyncHttpClient.&lt;clinit&gt;(DefaultAsyncHttpClient.java:49)\r\n    \tat org.asynchttpclient.Dsl.asyncHttpClient(Dsl.java:32)\r\n    \tat org.openqa.selenium.remote.http.netty.NettyClient.createHttpClient(NettyClient.java:94)\r\n    \tat org.openqa.selenium.remote.http.netty.NettyClient.&lt;clinit&gt;(NettyClient.java:47)\r\n    \tat org.openqa.selenium.remote.http.netty.NettyClient$Factory.createClient(NettyClient.java:135)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor.java:116)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor.java:94)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.&lt;init&gt;(DriverCommandExecutor.java:88)\r\n    \tat org.openqa.selenium.chromium.ChromiumDriverCommandExecutor.&lt;init&gt;(ChromiumDriverCommandExecutor.java:40)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.&lt;init&gt;(ChromeDriver.java:111)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.generateExecutor(ChromeDriver.java:101)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\r\n    \tat selenium.important.main(important.java:12)\r\n    Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 15 more\r\n\r\n","title":"Getting LoggerFactory error tried so many thing added the maven dependency and all but still facing same issue","body":"<p>Installed All the related thing required to execute or run the selenium Automation Scripts. Please help me as soon as possible.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\n    at org.asynchttpclient.DefaultAsyncHttpClient.&lt;clinit&gt;(DefaultAsyncHttpClient.java:49)\n    at org.asynchttpclient.Dsl.asyncHttpClient(Dsl.java:32)\n    at org.openqa.selenium.remote.http.netty.NettyClient.createHttpClient(NettyClient.java:94)\n    at org.openqa.selenium.remote.http.netty.NettyClient.&lt;clinit&gt;(NettyClient.java:47)\n    at org.openqa.selenium.remote.http.netty.NettyClient$Factory.createClient(NettyClient.java:135)\n    at org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor.java:116)\n    at org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor.java:94)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.&lt;init&gt;(DriverCommandExecutor.java:88)\n    at org.openqa.selenium.chromium.ChromiumDriverCommandExecutor.&lt;init&gt;(ChromiumDriverCommandExecutor.java:40)\n    at org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.&lt;init&gt;(ChromeDriver.java:111)\n    at org.openqa.selenium.chrome.ChromeDriver.generateExecutor(ChromeDriver.java:101)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\n    at selenium.important.main(important.java:12)\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 15 more\n</code></pre>\n"},{"tags":["java","docker","tomcat","docker-compose","axelor"],"answers":[{"tags":[],"owner":{"account_id":4742002,"reputation":448,"user_id":3834429,"display_name":"Karim G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683621153,"creation_date":1683621153,"answer_id":76207321,"question_id":74924554,"body_markdown":"With axelor v6, you can use an external configuration file like [this][1].\r\n\r\nYou have to set `-Daxelor.config` in your docker-compose file like [this][2].\r\n\r\n\r\n  [1]: https://docs.axelor.com/adk/6.1/dev-guide/application/config.html#external-configuration\r\n  [2]: https://docs.docker.com/compose/environment-variables/set-environment-variables/#use-the-environment-attribute","title":"Use custom axelor-config.properties in a docker compose","body":"<p>With axelor v6, you can use an external configuration file like <a href=\"https://docs.axelor.com/adk/6.1/dev-guide/application/config.html#external-configuration\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>You have to set <code>-Daxelor.config</code> in your docker-compose file like <a href=\"https://docs.docker.com/compose/environment-variables/set-environment-variables/#use-the-environment-attribute\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}],"owner":{"account_id":13035681,"reputation":374,"user_id":9420686,"display_name":"Pablo Arriola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683621153,"creation_date":1672095338,"question_id":74924554,"body_markdown":"I have a docker file that uses this base image tomcat:9.0.70-jdk17-temurin , in it I am coping an axelor war that uses axelor-config.properties for its configuration \r\nThis file is stored in the following directory \r\n\r\n- /usr/local/tomcat/webapps/nameofapp/WEB-INF/classes/axelor-config.properties\r\n\r\nWhen I use that file directly I don&#39;t have a problem and the app does run without a problem, but when I try to overwrite it using a volume in the docker-compose like this\r\n\r\n- ./configuration/axelor-config.properties:/usr/local/tomcat/webapps/nameofapp/WEB-INF/classes/axelor-config.properties\r\n\r\nIt will not work, I want to overwrite that file so that I don&#39;t have to recompile the whole application and create the docker image each time I want to make a change in the configuration file. \r\nI know the overwrite I&#39;m doing is working as when I start the app and search for the file inside the container it does a comment line I have added but it doesn&#39;t end up starting. This are the docker logs I get when starting from a fresh image and fresh docker compose up:\r\n\r\nNOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n26-Dec-2022 22:51:21.618 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/9.0.70\r\n26-Dec-2022 22:51:21.666 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Dec 1 2022 14:05:47 UTC\r\n26-Dec-2022 22:51:21.667 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 9.0.70.0\r\n26-Dec-2022 22:51:21.667 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\r\n26-Dec-2022 22:51:21.667 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            5.15.0-56-generic\r\n26-Dec-2022 22:51:21.667 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\r\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /opt/java/openjdk\r\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           17.0.5+8\r\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Eclipse Adoptium\r\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /usr/local/tomcat\r\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /usr/local/tomcat\r\n26-Dec-2022 22:51:21.681 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\r\n26-Dec-2022 22:51:21.681 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\r\n26-Dec-2022 22:51:21.681 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\r\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\r\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/usr/local/tomcat/conf/logging.properties\r\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\r\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\r\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\r\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\r\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/usr/local/tomcat\r\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/usr/local/tomcat\r\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/usr/local/tomcat/temp\r\n26-Dec-2022 22:51:21.688 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].\r\n26-Dec-2022 22:51:21.689 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].\r\n26-Dec-2022 22:51:21.689 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\r\n26-Dec-2022 22:51:21.699 INFO [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized [OpenSSL 3.0.2 15 Mar 2022]\r\n26-Dec-2022 22:51:22.409 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n26-Dec-2022 22:51:22.484 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [992] milliseconds\r\n26-Dec-2022 22:51:22.578 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\r\n26-Dec-2022 22:51:22.578 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.70]\r\n26-Dec-2022 22:51:22.599 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/usr/local/tomcat/webapps/nameofapp.war]\r\n26-Dec-2022 22:51:23.097 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/usr/local/tomcat/webapps/nameofapp.war] has finished in [498] ms\r\n26-Dec-2022 22:51:23.099 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n26-Dec-2022 22:51:23.106 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [622] milliseconds\r\n","title":"Use custom axelor-config.properties in a docker compose","body":"<p>I have a docker file that uses this base image tomcat:9.0.70-jdk17-temurin , in it I am coping an axelor war that uses axelor-config.properties for its configuration\nThis file is stored in the following directory</p>\n<ul>\n<li>/usr/local/tomcat/webapps/nameofapp/WEB-INF/classes/axelor-config.properties</li>\n</ul>\n<p>When I use that file directly I don't have a problem and the app does run without a problem, but when I try to overwrite it using a volume in the docker-compose like this</p>\n<ul>\n<li>./configuration/axelor-config.properties:/usr/local/tomcat/webapps/nameofapp/WEB-INF/classes/axelor-config.properties</li>\n</ul>\n<p>It will not work, I want to overwrite that file so that I don't have to recompile the whole application and create the docker image each time I want to make a change in the configuration file.\nI know the overwrite I'm doing is working as when I start the app and search for the file inside the container it does a comment line I have added but it doesn't end up starting. This are the docker logs I get when starting from a fresh image and fresh docker compose up:</p>\n<p>NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n26-Dec-2022 22:51:21.618 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/9.0.70\n26-Dec-2022 22:51:21.666 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Dec 1 2022 14:05:47 UTC\n26-Dec-2022 22:51:21.667 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 9.0.70.0\n26-Dec-2022 22:51:21.667 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\n26-Dec-2022 22:51:21.667 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            5.15.0-56-generic\n26-Dec-2022 22:51:21.667 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /opt/java/openjdk\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           17.0.5+8\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Eclipse Adoptium\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /usr/local/tomcat\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /usr/local/tomcat\n26-Dec-2022 22:51:21.681 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\n26-Dec-2022 22:51:21.681 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\n26-Dec-2022 22:51:21.681 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/usr/local/tomcat/conf/logging.properties\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/usr/local/tomcat\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/usr/local/tomcat\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/usr/local/tomcat/temp\n26-Dec-2022 22:51:21.688 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].\n26-Dec-2022 22:51:21.689 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].\n26-Dec-2022 22:51:21.689 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\n26-Dec-2022 22:51:21.699 INFO [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized [OpenSSL 3.0.2 15 Mar 2022]\n26-Dec-2022 22:51:22.409 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\n26-Dec-2022 22:51:22.484 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [992] milliseconds\n26-Dec-2022 22:51:22.578 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\n26-Dec-2022 22:51:22.578 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.70]\n26-Dec-2022 22:51:22.599 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/usr/local/tomcat/webapps/nameofapp.war]\n26-Dec-2022 22:51:23.097 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/usr/local/tomcat/webapps/nameofapp.war] has finished in [498] ms\n26-Dec-2022 22:51:23.099 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\n26-Dec-2022 22:51:23.106 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [622] milliseconds</p>\n"},{"tags":["java","android","txt","zebra-printers"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1683630738,"post_id":76207253,"comment_id":134392905,"body_markdown":"Possibly a use case for a templating language like Freemarker","body":"Possibly a use case for a templating language like Freemarker"},{"owner":{"account_id":6183488,"reputation":336,"user_id":4818247,"accept_rate":50,"display_name":"Mridul S Kumar"},"score":0,"creation_date":1683633929,"post_id":76207253,"comment_id":134393702,"body_markdown":"I think you can download the text file to your android device and read the content of the file and pass that content directly to the printer","body":"I think you can download the text file to your android device and read the content of the file and pass that content directly to the printer"}],"owner":{"account_id":13527126,"reputation":23,"user_id":9758652,"display_name":"El_Microman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683620593,"creation_date":1683620593,"question_id":76207253,"body_markdown":"To be short I am converting an old Dataflex print function to java in Android Studio. Now the function I am trying to replace takes a hard coded layout from a txt document, replaces all the underscores with variables and then sends it to the printer. \r\n[![This is what the .img file for the layout looks like:](https://i.stack.imgur.com/tkyv3.png)](https://i.stack.imgur.com/tkyv3.png)\r\n\r\n[![Then the vars are named and assigned at run time](https://i.stack.imgur.com/3BoIQ.png)](https://i.stack.imgur.com/3BoIQ.png)\r\n\r\n\r\n\r\nIs there anyway to recreate this type of functionality in Java? My initial idea was of using a buffered reader to read a txt file and make a note of all of the instances of any underscores and replace these underscores with vars later, but this got confusing very fast. Any ideas or advice would be appreciated.","title":"Is there anyway to use a .txt file as a layout for printing to a Zebra Printer in Android Studio?","body":"<p>To be short I am converting an old Dataflex print function to java in Android Studio. Now the function I am trying to replace takes a hard coded layout from a txt document, replaces all the underscores with variables and then sends it to the printer.\n<a href=\"https://i.stack.imgur.com/tkyv3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tkyv3.png\" alt=\"This is what the .img file for the layout looks like:\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/3BoIQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3BoIQ.png\" alt=\"Then the vars are named and assigned at run time\" /></a></p>\n<p>Is there anyway to recreate this type of functionality in Java? My initial idea was of using a buffered reader to read a txt file and make a note of all of the instances of any underscores and replace these underscores with vars later, but this got confusing very fast. Any ideas or advice would be appreciated.</p>\n"},{"tags":["java","react-native","jsx"],"owner":{"account_id":12241951,"reputation":1,"user_id":8934761,"display_name":"Rahul B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683620484,"creation_date":1683620484,"question_id":76207238,"body_markdown":"Need some help here I have been using the Alchemist- sorcerer Plugin where I get an error when I try to load my plugin created via sorcerer.\r\n\r\n```\r\n{\r\n   &quot;manifestVersion&quot;: 5,\r\n   &quot;name&quot;: &quot;Table Runner&quot;,\r\n   &quot;version&quot;: &quot;1.0.0&quot;,\r\n   &quot;id&quot;: &quot;table runner&quot;,\r\n   &quot;main&quot;: &quot;index.html&quot;,\r\n   &quot;requiredPermissions&quot;: {\r\n      &quot;launchProcess&quot;: &quot;request&quot;\r\n   },\r\n```\r\nThis is the manifest code generated by my sorcerer-alchemist plugin creator\r\nI have used the Alchemist - sorcerer plugin creator\r\n\r\nBut when i try to import it on my adobe UXP developer tool It throws an errror.\r\n```\r\nPlugin Load Failed.\r\nDevtools: Plugin table runner : Expected an object for the permission &#39;launchProcess&#39;\r\n```\r\nPlease let me know what should i do ","title":"Adode UXP Alchemist- sorceror plugin permission error","body":"<p>Need some help here I have been using the Alchemist- sorcerer Plugin where I get an error when I try to load my plugin created via sorcerer.</p>\n<pre><code>{\n   &quot;manifestVersion&quot;: 5,\n   &quot;name&quot;: &quot;Table Runner&quot;,\n   &quot;version&quot;: &quot;1.0.0&quot;,\n   &quot;id&quot;: &quot;table runner&quot;,\n   &quot;main&quot;: &quot;index.html&quot;,\n   &quot;requiredPermissions&quot;: {\n      &quot;launchProcess&quot;: &quot;request&quot;\n   },\n</code></pre>\n<p>This is the manifest code generated by my sorcerer-alchemist plugin creator\nI have used the Alchemist - sorcerer plugin creator</p>\n<p>But when i try to import it on my adobe UXP developer tool It throws an errror.</p>\n<pre><code>Plugin Load Failed.\nDevtools: Plugin table runner : Expected an object for the permission 'launchProcess'\n</code></pre>\n<p>Please let me know what should i do</p>\n"},{"tags":["java","linux","shell"],"comments":[{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":1,"creation_date":1683615724,"post_id":76206288,"comment_id":134389519,"body_markdown":"From the screenshot, we see that the script is executed in both cases, so at least invoking it works fine, so the possible problems are most likely inside the script. It is strange that the first `echo` does not show in the output, where the parent process is your Java program. This makes me wonder whether you REALLY execute the very same script in both cases. For verifying this (and possibly see, what&#39;s going wrong), I suggest that you replace `-c` by `-xc` when invoking the script, and analyze the output you get.","body":"From the screenshot, we see that the script is executed in both cases, so at least invoking it works fine, so the possible problems are most likely inside the script. It is strange that the first <code>echo</code> does not show in the output, where the parent process is your Java program. This makes me wonder whether you REALLY execute the very same script in both cases. For verifying this (and possibly see, what&#39;s going wrong), I suggest that you replace <code>-c</code> by <code>-xc</code> when invoking the script, and analyze the output you get."},{"owner":{"account_id":27473769,"reputation":33,"user_id":20962137,"display_name":"hannah"},"score":0,"creation_date":1683622026,"post_id":76206288,"comment_id":134390848,"body_markdown":"it still works the same I so proceeded with armali&#39;s reply but thanks for commenting!! @user1934428","body":"it still works the same I so proceeded with armali&#39;s reply but thanks for commenting!! @user1934428"}],"answers":[{"tags":[],"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683620403,"creation_date":1683620403,"answer_id":76207232,"question_id":76206288,"body_markdown":"&gt;new Line not recognized\r\n\r\nThe newline is well recognized, it&#39;s just that [`readLine`][1]\r\n&gt;Returns:\r\n&gt;&lt;dd&gt;A String containing the contents of the line, not including\r\n&gt;             any line-termination characters\r\n\r\nso you have to re-insert them if you want them in the result.  \r\nWhile you&#39;re at it, I suggest to shorten\r\n```\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                output.append(line);\r\n            }\r\n            if(output.toString().equals(&quot;&quot;)) {\r\n                result = &quot;success&quot;;\r\n            }else {\r\n                result = output.toString();\r\n            }\r\n```\r\nto\r\n\r\n                result = reader.lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n                if (result.equals(&quot;&quot;)) result = &quot;success&quot;;\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#readLine--","title":"new Line not recognized in shell script on Linux","body":"<blockquote>\n<p>new Line not recognized</p>\n</blockquote>\n<p>The newline is well recognized, it's just that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#readLine--\" rel=\"nofollow noreferrer\"><code>readLine</code></a></p>\n<blockquote>\n<p>Returns:</p>\nA String containing the contents of the line, not including\n            any line-termination characters\n</blockquote>\n<p>so you have to re-insert them if you want them in the result.<br />\nWhile you're at it, I suggest to shorten</p>\n<pre><code>            String line;\n            while ((line = reader.readLine()) != null) {\n                output.append(line);\n            }\n            if(output.toString().equals(&quot;&quot;)) {\n                result = &quot;success&quot;;\n            }else {\n                result = output.toString();\n            }\n</code></pre>\n<p>to</p>\n<pre><code>            result = reader.lines().collect(Collectors.joining(&quot;\\n&quot;));\n            if (result.equals(&quot;&quot;)) result = &quot;success&quot;;\n</code></pre>\n"}],"owner":{"account_id":27473769,"reputation":33,"user_id":20962137,"display_name":"hannah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76207232,"answer_count":1,"score":2,"last_activity_date":1683620403,"creation_date":1683612274,"question_id":76206288,"body_markdown":"I wrote a shell script on the Linux Ubuntu server.\r\nAnd I want to run a shell script on Java.\r\n\r\nRunning the shell script inside the Linux server changes the way I wrote it, but not through Java.\r\n\r\nI&#39;ll show you Java code, shell script file, and capture screen.\r\n\r\n**Java**\r\n```\r\npublic class ShellScriptApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString start = &quot;start&quot;;\r\n\t\tString stop = &quot;stop&quot;;\r\n\t\tString name = &quot;&quot;;\r\n\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;start or stop? : &quot;);\r\n\t\tString s = sc.nextLine();\r\n\r\n\t\tif(s.equals(start)) {\r\n\t\t\tSystem.out.print(&quot;   [admin / ap / json / fixed] : &quot;);\r\n\t\t\tname = sc.nextLine();\r\n\t\t\topenShell(start, name);\r\n\t\t} else if (s.equals(stop)) {\r\n\t\t\tSystem.out.print(&quot;   [admin / ap / json / fixed] : &quot;);\r\n\t\t\tname = sc.nextLine();\r\n\t\t\topenShell(stop, name);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;wrong&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic static String openShell(String status, String name)  {\r\n\t\tString result = &quot;&quot;;\r\n\r\n\t\tString dir = &quot;/data/GSLinkIN/app&quot;;\r\n\r\n\t\tString cdExec = &quot;cd &quot; + dir + &quot; &amp;&amp; ./&quot;+ name + &quot;-&quot; + status + &quot;.sh&quot;;\r\n\r\n\t\tString [] command = {&quot;/bin/sh&quot;,&quot;-c&quot;, cdExec};\r\n\t\tProcessBuilder processBuilder = new ProcessBuilder();\r\n\t    processBuilder.command(command);\r\n\r\n\t    try {\r\n\t        // Run script\r\n\t        Process process = processBuilder.start();\r\n\r\n\t        // Read output\r\n\t        StringBuilder output = new StringBuilder();\r\n\t        BufferedReader reader = new BufferedReader( new InputStreamReader(process.getInputStream()));\r\n\r\n\t        String line;\r\n\t        while ((line = reader.readLine()) != null) {\r\n\t            output.append(line);\r\n\t        }\r\n\t        if(output.toString().equals(&quot;&quot;)) {\r\n\t        \tresult = &quot;success&quot;;\r\n\t        }else {\r\n\t        \tresult = output.toString();\r\n\t        }\r\n\t    } catch (Exception e) {\r\n\t    \tresult = &quot;fail&quot;;\r\n\t    }\r\n\t    System.out.println(result);\r\n\r\n\t    return result;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**stop.sh**\r\n```\r\n#!/bin/sh\r\n\r\nAPP_NAME=linkin-admin-www-2.0.war\r\nAPP_PID=$(ps -ef | grep $APP_NAME | grep -v grep | awk &#39;{print $2}&#39;)\r\n\r\necho &quot;$APP_NAME (PID:$APP_PID)&quot;\r\nkill -9 $APP_PID\r\necho &quot;$APP_NAME stopped&quot;\r\n\r\n```\r\n\r\n**When running a shell script using Java**\r\n[![When running a shell script using Java](https://i.stack.imgur.com/92YXW.png)](https://i.stack.imgur.com/92YXW.png)\r\n\r\n**When running directly on a Linux server**\r\n\r\n[![When running directly on a Linux server][1]][1]\r\n\r\n\r\n\r\n\r\nEven if I run a shell script over Java, I want to print the PID and then get a new line.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PdWGL.png","title":"new Line not recognized in shell script on Linux","body":"<p>I wrote a shell script on the Linux Ubuntu server.\nAnd I want to run a shell script on Java.</p>\n<p>Running the shell script inside the Linux server changes the way I wrote it, but not through Java.</p>\n<p>I'll show you Java code, shell script file, and capture screen.</p>\n<p><strong>Java</strong></p>\n<pre><code>public class ShellScriptApplication {\n\n    public static void main(String[] args) {\n\n        String start = &quot;start&quot;;\n        String stop = &quot;stop&quot;;\n        String name = &quot;&quot;;\n\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;start or stop? : &quot;);\n        String s = sc.nextLine();\n\n        if(s.equals(start)) {\n            System.out.print(&quot;   [admin / ap / json / fixed] : &quot;);\n            name = sc.nextLine();\n            openShell(start, name);\n        } else if (s.equals(stop)) {\n            System.out.print(&quot;   [admin / ap / json / fixed] : &quot;);\n            name = sc.nextLine();\n            openShell(stop, name);\n        } else {\n            System.out.println(&quot;wrong&quot;);\n        }\n\n    }\n\n    public static String openShell(String status, String name)  {\n        String result = &quot;&quot;;\n\n        String dir = &quot;/data/GSLinkIN/app&quot;;\n\n        String cdExec = &quot;cd &quot; + dir + &quot; &amp;&amp; ./&quot;+ name + &quot;-&quot; + status + &quot;.sh&quot;;\n\n        String [] command = {&quot;/bin/sh&quot;,&quot;-c&quot;, cdExec};\n        ProcessBuilder processBuilder = new ProcessBuilder();\n        processBuilder.command(command);\n\n        try {\n            // Run script\n            Process process = processBuilder.start();\n\n            // Read output\n            StringBuilder output = new StringBuilder();\n            BufferedReader reader = new BufferedReader( new InputStreamReader(process.getInputStream()));\n\n            String line;\n            while ((line = reader.readLine()) != null) {\n                output.append(line);\n            }\n            if(output.toString().equals(&quot;&quot;)) {\n                result = &quot;success&quot;;\n            }else {\n                result = output.toString();\n            }\n        } catch (Exception e) {\n            result = &quot;fail&quot;;\n        }\n        System.out.println(result);\n\n        return result;\n    }\n\n}\n</code></pre>\n<p><strong>stop.sh</strong></p>\n<pre><code>#!/bin/sh\n\nAPP_NAME=linkin-admin-www-2.0.war\nAPP_PID=$(ps -ef | grep $APP_NAME | grep -v grep | awk '{print $2}')\n\necho &quot;$APP_NAME (PID:$APP_PID)&quot;\nkill -9 $APP_PID\necho &quot;$APP_NAME stopped&quot;\n\n</code></pre>\n<p><strong>When running a shell script using Java</strong>\n<a href=\"https://i.stack.imgur.com/92YXW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/92YXW.png\" alt=\"When running a shell script using Java\" /></a></p>\n<p><strong>When running directly on a Linux server</strong></p>\n<p><a href=\"https://i.stack.imgur.com/PdWGL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PdWGL.png\" alt=\"When running directly on a Linux server\" /></a></p>\n<p>Even if I run a shell script over Java, I want to print the PID and then get a new line.</p>\n"},{"tags":["java","android","configuration","gson","proguard"],"answers":[{"tags":[],"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"down_vote_count":0,"up_vote_count":95,"is_accepted":true,"score":95,"last_activity_date":1472392848,"creation_date":1400839469,"answer_id":23826357,"question_id":23826171,"body_markdown":"I think most of those settings you have there are already included in the Android SDK by default.\r\n\r\nSo you can remove most of them, just leaving in the section devoted to GSON.\r\n\r\n\r\n----------\r\n\r\n\r\nI am developing in Eclipse using Android SDK Tools 22.6.3 &amp; whatever version of ProGuard ships with that.\r\n\r\nHere&#39;s what I&#39;m using for GSON 2.2.4 ([as per their example][1]):\r\n\r\n    ##---------------Begin: proguard configuration for Gson  ----------\r\n    # Gson uses generic type information stored in a class file when working with fields. Proguard\r\n    # removes such information by default, so configure it to keep all of it.\r\n    -keepattributes Signature\r\n    \r\n    # Gson specific classes\r\n    -keep class sun.misc.Unsafe { *; }\r\n    #-keep class com.google.gson.stream.** { *; }\r\n    \r\n    # Application classes that will be serialized/deserialized over Gson\r\n    # -keep class mypersonalclass.data.model.** { *; }\r\n\r\n\r\nIt looks exactly the same as what you have, except I don&#39;t need the line about the annotations.\r\n\r\n----------\r\n\r\nYou can see I&#39;ve commented out some classes that I added myself. If you serialize/deserialize your own classes, you need to declare them here in place of the reference to `mypersonalclass.data.model`. This is really important, as you don&#39;t want ProGuard to obfuscate the field or class names that GSON uses for serialization.\r\n\r\nI always leave those types of comments in there, so I know how to configure the next library or app. \r\n\r\n\r\n  [1]: https://github.com/google/gson/blob/master/examples/android-proguard-example/proguard.cfg","title":"ProGuard for Android and GSON","body":"<p>I think most of those settings you have there are already included in the Android SDK by default.</p>\n\n<p>So you can remove most of them, just leaving in the section devoted to GSON.</p>\n\n<hr>\n\n<p>I am developing in Eclipse using Android SDK Tools 22.6.3 &amp; whatever version of ProGuard ships with that.</p>\n\n<p>Here's what I'm using for GSON 2.2.4 (<a href=\"https://github.com/google/gson/blob/master/examples/android-proguard-example/proguard.cfg\">as per their example</a>):</p>\n\n<pre><code>##---------------Begin: proguard configuration for Gson  ----------\n# Gson uses generic type information stored in a class file when working with fields. Proguard\n# removes such information by default, so configure it to keep all of it.\n-keepattributes Signature\n\n# Gson specific classes\n-keep class sun.misc.Unsafe { *; }\n#-keep class com.google.gson.stream.** { *; }\n\n# Application classes that will be serialized/deserialized over Gson\n# -keep class mypersonalclass.data.model.** { *; }\n</code></pre>\n\n<p>It looks exactly the same as what you have, except I don't need the line about the annotations.</p>\n\n<hr>\n\n<p>You can see I've commented out some classes that I added myself. If you serialize/deserialize your own classes, you need to declare them here in place of the reference to <code>mypersonalclass.data.model</code>. This is really important, as you don't want ProGuard to obfuscate the field or class names that GSON uses for serialization.</p>\n\n<p>I always leave those types of comments in there, so I know how to configure the next library or app. </p>\n"},{"tags":[],"owner":{"account_id":2352049,"reputation":1024,"user_id":2083526,"accept_rate":68,"display_name":"GotaloveCode"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491831352,"creation_date":1491831352,"answer_id":43324708,"question_id":23826171,"body_markdown":"In my case I added the above but still got an error until in my app level gradle I changed `compile &#39;org.immutables:gson:2.4.6&#39;` to `provided &#39;org.immutables:gson:2.4.6&#39;`. Maybe someone more enlightened can explain why but this solved my problem.","title":"ProGuard for Android and GSON","body":"<p>In my case I added the above but still got an error until in my app level gradle I changed <code>compile 'org.immutables:gson:2.4.6'</code> to <code>provided 'org.immutables:gson:2.4.6'</code>. Maybe someone more enlightened can explain why but this solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":2807903,"reputation":2803,"user_id":2414767,"accept_rate":100,"display_name":"Kaustubh Bhagwat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563870042,"creation_date":1563870042,"answer_id":57159734,"question_id":23826171,"body_markdown":"Using -keep is a bad practice and you should never do it .You almost never want to use -keep; if you do need a ProGuard rule, you usually want one of the more specific variants\r\n\r\n`-keepclassmembers` - This protects only the members of the class from shrinking and obfuscation.\r\n\r\n`-keepnames` - This allows shrinking for classes and members, but not obfuscation. That is, any unused code is going to get removed. But the code that is kept will keep its original names.\r\n\r\n`-keepclassmembernames` - Unused classes are removed, the remaining classes are renamed, unused members of those classes are removed, but then the remaining members keep their original names.\r\n\r\nFor more information please read this\r\n\r\nPS - this is what I did for Gson\r\n\r\n    -keepclassmembernames class rscom.pojo.** { &lt;fields&gt;; }","title":"ProGuard for Android and GSON","body":"<p>Using -keep is a bad practice and you should never do it .You almost never want to use -keep; if you do need a ProGuard rule, you usually want one of the more specific variants</p>\n\n<p><code>-keepclassmembers</code> - This protects only the members of the class from shrinking and obfuscation.</p>\n\n<p><code>-keepnames</code> - This allows shrinking for classes and members, but not obfuscation. That is, any unused code is going to get removed. But the code that is kept will keep its original names.</p>\n\n<p><code>-keepclassmembernames</code> - Unused classes are removed, the remaining classes are renamed, unused members of those classes are removed, but then the remaining members keep their original names.</p>\n\n<p>For more information please read this</p>\n\n<p>PS - this is what I did for Gson</p>\n\n<pre><code>-keepclassmembernames class rscom.pojo.** { &lt;fields&gt;; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195068,"reputation":3936,"user_id":2380518,"display_name":"Milo ernilovsk&#253;"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1683619905,"creation_date":1588082124,"answer_id":61481954,"question_id":23826171,"body_markdown":"The previous answer stopped working for me recently probably due to some changes in Android (R8 is used now instead of Proguard). The configuration I use now is as follows ([source - GSON examples][1]):\r\n\r\n```\r\n##---------------Begin: proguard configuration for Gson  ----------\r\n# Gson uses generic type information stored in a class file when working with fields. Proguard\r\n# removes such information by default, so configure it to keep all of it.\r\n-keepattributes Signature\r\n\r\n# For using GSON @Expose annotation\r\n-keepattributes *Annotation*\r\n\r\n# Gson specific classes\r\n-dontwarn sun.misc.**\r\n#-keep class com.google.gson.stream.** { *; }\r\n\r\n# Application classes that will be serialized/deserialized over Gson\r\n-keep class com.google.gson.examples.android.model.** { &lt;fields&gt;; }\r\n\r\n# Prevent proguard from stripping interface information from TypeAdapter, TypeAdapterFactory,\r\n# JsonSerializer, JsonDeserializer instances (so they can be used in @JsonAdapter)\r\n-keep class * extends com.google.gson.TypeAdapter\r\n-keep class * implements com.google.gson.TypeAdapterFactory\r\n-keep class * implements com.google.gson.JsonSerializer\r\n-keep class * implements com.google.gson.JsonDeserializer\r\n\r\n# Prevent R8 from leaving Data object members always null\r\n-keepclassmembers,allowobfuscation class * {\r\n  @com.google.gson.annotations.SerializedName &lt;fields&gt;;\r\n}\r\n\r\n# Retain generic signatures of TypeToken and its subclasses with R8 version 3.0 and higher.\r\n-keep,allowobfuscation,allowshrinking class com.google.gson.reflect.TypeToken\r\n-keep,allowobfuscation,allowshrinking class * extends com.google.gson.reflect.TypeToken\r\n\r\n##---------------End: proguard configuration for Gson  ----------\r\n```\r\n\r\nI found out that classes whose fields are annotated by @SerializedName do not have to be explicitly listed unless they are inner classes.\r\n\r\n\r\n  [1]: https://github.com/google/gson/blob/master/examples/android-proguard-example/proguard.cfg","title":"ProGuard for Android and GSON","body":"<p>The previous answer stopped working for me recently probably due to some changes in Android (R8 is used now instead of Proguard). The configuration I use now is as follows (<a href=\"https://github.com/google/gson/blob/master/examples/android-proguard-example/proguard.cfg\" rel=\"nofollow noreferrer\">source - GSON examples</a>):</p>\n<pre><code>##---------------Begin: proguard configuration for Gson  ----------\n# Gson uses generic type information stored in a class file when working with fields. Proguard\n# removes such information by default, so configure it to keep all of it.\n-keepattributes Signature\n\n# For using GSON @Expose annotation\n-keepattributes *Annotation*\n\n# Gson specific classes\n-dontwarn sun.misc.**\n#-keep class com.google.gson.stream.** { *; }\n\n# Application classes that will be serialized/deserialized over Gson\n-keep class com.google.gson.examples.android.model.** { &lt;fields&gt;; }\n\n# Prevent proguard from stripping interface information from TypeAdapter, TypeAdapterFactory,\n# JsonSerializer, JsonDeserializer instances (so they can be used in @JsonAdapter)\n-keep class * extends com.google.gson.TypeAdapter\n-keep class * implements com.google.gson.TypeAdapterFactory\n-keep class * implements com.google.gson.JsonSerializer\n-keep class * implements com.google.gson.JsonDeserializer\n\n# Prevent R8 from leaving Data object members always null\n-keepclassmembers,allowobfuscation class * {\n  @com.google.gson.annotations.SerializedName &lt;fields&gt;;\n}\n\n# Retain generic signatures of TypeToken and its subclasses with R8 version 3.0 and higher.\n-keep,allowobfuscation,allowshrinking class com.google.gson.reflect.TypeToken\n-keep,allowobfuscation,allowshrinking class * extends com.google.gson.reflect.TypeToken\n\n##---------------End: proguard configuration for Gson  ----------\n</code></pre>\n<p>I found out that classes whose fields are annotated by @SerializedName do not have to be explicitly listed unless they are inner classes.</p>\n"},{"tags":[],"owner":{"account_id":4596872,"reputation":2115,"user_id":3728639,"accept_rate":89,"display_name":"Chathura Buddhika"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1591018192,"creation_date":1591018192,"answer_id":62133361,"question_id":23826171,"body_markdown":"In my case, I just used GSON for deserializing JSON to an Object. So it was enough to add the following line to proguard file.\r\n\r\n    -keep class your.data.object.modals.package.** { &lt;fields&gt;; }","title":"ProGuard for Android and GSON","body":"<p>In my case, I just used GSON for deserializing JSON to an Object. So it was enough to add the following line to proguard file.</p>\n\n<pre><code>-keep class your.data.object.modals.package.** { &lt;fields&gt;; }\n</code></pre>\n"}],"owner":{"account_id":21152,"reputation":1388,"user_id":51211,"accept_rate":45,"display_name":"AtariPete"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44163,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":23826357,"answer_count":5,"score":55,"last_activity_date":1683619905,"creation_date":1400838987,"question_id":23826171,"body_markdown":"I&#39;m setting up ProGuard for my Android project. My project also uses GSON.\r\n\r\nI&#39;ve researched ProGuard configurations for compatibility with GSON and Android and came across this example offered by google-gson https://code.google.com/p/google-gson/source/browse/trunk/examples/android-proguard-example/proguard.cfg.\r\n\r\nProGuard config copied below:\r\n\r\n    ##---------------Begin: proguard configuration common for all Android apps ----------\r\n    -optimizationpasses 5\r\n    -dontusemixedcaseclassnames\r\n    -dontskipnonpubliclibraryclasses\r\n    -dontskipnonpubliclibraryclassmembers\r\n    -dontpreverify\r\n    -verbose\r\n    -dump class_files.txt\r\n    -printseeds seeds.txt\r\n    -printusage unused.txt\r\n    -printmapping mapping.txt\r\n    -optimizations !code/simplification/arithmetic,!field/*,!class/merging/*\r\n    \r\n    -allowaccessmodification\r\n    -keepattributes *Annotation*\r\n    -renamesourcefileattribute SourceFile\r\n    -keepattributes SourceFile,LineNumberTable\r\n    -repackageclasses &#39;&#39;\r\n    \r\n    -keep public class * extends android.app.Activity\r\n    -keep public class * extends android.app.Application\r\n    -keep public class * extends android.app.Service\r\n    -keep public class * extends android.content.BroadcastReceiver\r\n    -keep public class * extends android.content.ContentProvider\r\n    -keep public class * extends android.app.backup.BackupAgentHelper\r\n    -keep public class * extends android.preference.Preference\r\n    -keep public class com.android.vending.licensing.ILicensingService\r\n    -dontnote com.android.vending.licensing.ILicensingService\r\n    \r\n    # Explicitly preserve all serialization members. The Serializable interface\r\n    # is only a marker interface, so it wouldn&#39;t save them.\r\n    -keepclassmembers class * implements java.io.Serializable {\r\n        static final long serialVersionUID;\r\n        private static final java.io.ObjectStreamField[] serialPersistentFields;\r\n        private void writeObject(java.io.ObjectOutputStream);\r\n        private void readObject(java.io.ObjectInputStream);\r\n        java.lang.Object writeReplace();\r\n        java.lang.Object readResolve();\r\n    }\r\n    \r\n    # Preserve all native method names and the names of their classes.\r\n    -keepclasseswithmembernames class * {\r\n        native &lt;methods&gt;;\r\n    }\r\n    \r\n    -keepclasseswithmembernames class * {\r\n        public &lt;init&gt;(android.content.Context, android.util.AttributeSet);\r\n    }\r\n    \r\n    -keepclasseswithmembernames class * {\r\n        public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);\r\n    }\r\n    \r\n    # Preserve static fields of inner classes of R classes that might be accessed\r\n    # through introspection.\r\n    -keepclassmembers class **.R$* {\r\n      public static &lt;fields&gt;;\r\n    }\r\n    \r\n    # Preserve the special static methods that are required in all enumeration classes.\r\n    -keepclassmembers enum * {\r\n        public static **[] values();\r\n        public static ** valueOf(java.lang.String);\r\n    }\r\n    \r\n    -keep public class * {\r\n        public protected *;\r\n    }\r\n    \r\n    -keep class * implements android.os.Parcelable {\r\n      public static final android.os.Parcelable$Creator *;\r\n    }\r\n    ##---------------End: proguard configuration common for all Android apps ----------\r\n    \r\n    ##---------------Begin: proguard configuration for Gson  ----------\r\n    # Gson uses generic type information stored in a class file when working with fields. Proguard\r\n    # removes such information by default, so configure it to keep all of it.\r\n    -keepattributes Signature\r\n    \r\n    # For using GSON @Expose annotation\r\n    -keepattributes *Annotation*\r\n    \r\n    # Gson specific classes\r\n    -keep class sun.misc.Unsafe { *; }\r\n    #-keep class com.google.gson.stream.** { *; }\r\n    \r\n    # Application classes that will be serialized/deserialized over Gson\r\n    -keep class com.google.gson.examples.android.model.** { *; }\r\n    \r\n    ##---------------End: proguard configuration for Gson  ----------\r\n\r\n\r\n**Questions:**\r\n\r\n 1. I see that this file has not been updated since 2011, is it still recommended for use? I ask because Android/GSON has changed quite a bit since then so I don&#39;t know how much of the above in unnecessary or incorrect.\r\n\r\n 2. If this is not recommended, is there a new recommended ProGuard configuration for GSON in Android?","title":"ProGuard for Android and GSON","body":"<p>I'm setting up ProGuard for my Android project. My project also uses GSON.</p>\n\n<p>I've researched ProGuard configurations for compatibility with GSON and Android and came across this example offered by google-gson <a href=\"https://code.google.com/p/google-gson/source/browse/trunk/examples/android-proguard-example/proguard.cfg\">https://code.google.com/p/google-gson/source/browse/trunk/examples/android-proguard-example/proguard.cfg</a>.</p>\n\n<p>ProGuard config copied below:</p>\n\n<pre><code>##---------------Begin: proguard configuration common for all Android apps ----------\n-optimizationpasses 5\n-dontusemixedcaseclassnames\n-dontskipnonpubliclibraryclasses\n-dontskipnonpubliclibraryclassmembers\n-dontpreverify\n-verbose\n-dump class_files.txt\n-printseeds seeds.txt\n-printusage unused.txt\n-printmapping mapping.txt\n-optimizations !code/simplification/arithmetic,!field/*,!class/merging/*\n\n-allowaccessmodification\n-keepattributes *Annotation*\n-renamesourcefileattribute SourceFile\n-keepattributes SourceFile,LineNumberTable\n-repackageclasses ''\n\n-keep public class * extends android.app.Activity\n-keep public class * extends android.app.Application\n-keep public class * extends android.app.Service\n-keep public class * extends android.content.BroadcastReceiver\n-keep public class * extends android.content.ContentProvider\n-keep public class * extends android.app.backup.BackupAgentHelper\n-keep public class * extends android.preference.Preference\n-keep public class com.android.vending.licensing.ILicensingService\n-dontnote com.android.vending.licensing.ILicensingService\n\n# Explicitly preserve all serialization members. The Serializable interface\n# is only a marker interface, so it wouldn't save them.\n-keepclassmembers class * implements java.io.Serializable {\n    static final long serialVersionUID;\n    private static final java.io.ObjectStreamField[] serialPersistentFields;\n    private void writeObject(java.io.ObjectOutputStream);\n    private void readObject(java.io.ObjectInputStream);\n    java.lang.Object writeReplace();\n    java.lang.Object readResolve();\n}\n\n# Preserve all native method names and the names of their classes.\n-keepclasseswithmembernames class * {\n    native &lt;methods&gt;;\n}\n\n-keepclasseswithmembernames class * {\n    public &lt;init&gt;(android.content.Context, android.util.AttributeSet);\n}\n\n-keepclasseswithmembernames class * {\n    public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);\n}\n\n# Preserve static fields of inner classes of R classes that might be accessed\n# through introspection.\n-keepclassmembers class **.R$* {\n  public static &lt;fields&gt;;\n}\n\n# Preserve the special static methods that are required in all enumeration classes.\n-keepclassmembers enum * {\n    public static **[] values();\n    public static ** valueOf(java.lang.String);\n}\n\n-keep public class * {\n    public protected *;\n}\n\n-keep class * implements android.os.Parcelable {\n  public static final android.os.Parcelable$Creator *;\n}\n##---------------End: proguard configuration common for all Android apps ----------\n\n##---------------Begin: proguard configuration for Gson  ----------\n# Gson uses generic type information stored in a class file when working with fields. Proguard\n# removes such information by default, so configure it to keep all of it.\n-keepattributes Signature\n\n# For using GSON @Expose annotation\n-keepattributes *Annotation*\n\n# Gson specific classes\n-keep class sun.misc.Unsafe { *; }\n#-keep class com.google.gson.stream.** { *; }\n\n# Application classes that will be serialized/deserialized over Gson\n-keep class com.google.gson.examples.android.model.** { *; }\n\n##---------------End: proguard configuration for Gson  ----------\n</code></pre>\n\n<p><strong>Questions:</strong></p>\n\n<ol>\n<li><p>I see that this file has not been updated since 2011, is it still recommended for use? I ask because Android/GSON has changed quite a bit since then so I don't know how much of the above in unnecessary or incorrect.</p></li>\n<li><p>If this is not recommended, is there a new recommended ProGuard configuration for GSON in Android?</p></li>\n</ol>\n"},{"tags":["java","gradle","code-coverage","jacoco-plugin"],"comments":[{"owner":{"account_id":123059,"reputation":2103,"user_id":317275,"accept_rate":91,"display_name":"Len"},"score":0,"creation_date":1676548905,"post_id":74376607,"comment_id":133161191,"body_markdown":"were you able to find a solution? I&#39;m having a similar issue so a push in the right direction is welcome","body":"were you able to find a solution? I&#39;m having a similar issue so a push in the right direction is welcome"}],"answers":[{"tags":[],"owner":{"account_id":28555483,"reputation":1,"user_id":21859750,"display_name":"Dehong Liang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683619881,"creation_date":1683619881,"answer_id":76207172,"question_id":74376607,"body_markdown":"I have also encountered this problem, and I still don&#39;t know how to solve it.\r\n\r\njdk Version:11\r\n\r\ngradle Version:7.5\r\n\r\njacoco.gradle Part of the code is as follows:\r\n```\r\ntask jacocoTotalReport(type: JacocoReport, dependsOn: project.getTasksByName(&quot;testDebugUnitTest&quot;, true)) {\r\n    doFirst {\r\n        subprojects.each { project -&gt;\r\n           \r\n            def unitTestResultFile = &quot;${project.buildDir}/jacoco/testDebugUnitTest.exec&quot;\r\n\r\n            if (file(unitTestResultFile).exists() &amp;&amp; executionData != null) {\r\n                executionData.setFrom(unitTestResultFile)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nError content:\r\n&gt; The value for this file collection is final and cannot be changed.\r\n```","title":"Not able to generate Jacoco reports in Java multi module project","body":"<p>I have also encountered this problem, and I still don't know how to solve it.</p>\n<p>jdk Version:11</p>\n<p>gradle Version:7.5</p>\n<p>jacoco.gradle Part of the code is as follows:</p>\n<pre><code>task jacocoTotalReport(type: JacocoReport, dependsOn: project.getTasksByName(&quot;testDebugUnitTest&quot;, true)) {\n    doFirst {\n        subprojects.each { project -&gt;\n           \n            def unitTestResultFile = &quot;${project.buildDir}/jacoco/testDebugUnitTest.exec&quot;\n\n            if (file(unitTestResultFile).exists() &amp;&amp; executionData != null) {\n                executionData.setFrom(unitTestResultFile)\n            }\n        }\n    }\n}\n\n\nError content:\n&gt; The value for this file collection is final and cannot be changed.\n</code></pre>\n"}],"owner":{"account_id":2807857,"reputation":31,"user_id":2414732,"display_name":"jetzi06"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683619881,"creation_date":1668004507,"question_id":74376607,"body_markdown":"I&#39;m working on a Java Spring Boot project using Gradle 7.5\r\n\r\nIt is organized in multiple modules, which most of them have some tests included.\r\n\r\nToday I&#39;ve tried to enable code coverage reports for my project. Therefore I&#39;ve added the jacoco plugin to *allprojects*:\r\n\r\n`\r\n```\r\napply plugin: &#39;jacoco&#39;\r\n\r\njacoco {\r\n    toolVersion = &quot;0.8.8&quot;\r\n}\r\n```\r\n`\r\n\r\n\r\nOn *subprojects* I&#39;ve the following task:\r\n\r\n`\r\n```\r\njacocoTestReport {\r\n    reports {\r\n        html.enabled = true\r\n        xml.enabled = true\r\n        csv.enabled = false\r\n    }\r\n}\r\n```\r\n`\r\nWhen I try to run the task *jacocoTestReport* the build fails and following error is shown on the first module: \r\n\r\n`The value for this file collection is final and cannot be changed`\r\n\r\n\r\nWhat I&#39;m doing wrong here?\r\n\r\nThanks for your help!\r\n\r\n\r\n\r\nI&#39;ve already tried different versions of gradle and googled a lot, but unfortunately, none of the proposed soltions worked for me.","title":"Not able to generate Jacoco reports in Java multi module project","body":"<p>I'm working on a Java Spring Boot project using Gradle 7.5</p>\n<p>It is organized in multiple modules, which most of them have some tests included.</p>\n<p>Today I've tried to enable code coverage reports for my project. Therefore I've added the jacoco plugin to <em>allprojects</em>:</p>\n<p>`</p>\n<pre><code>apply plugin: 'jacoco'\n\njacoco {\n    toolVersion = &quot;0.8.8&quot;\n}\n</code></pre>\n<p>`</p>\n<p>On <em>subprojects</em> I've the following task:</p>\n<p>`</p>\n<pre><code>jacocoTestReport {\n    reports {\n        html.enabled = true\n        xml.enabled = true\n        csv.enabled = false\n    }\n}\n</code></pre>\n<p>`\nWhen I try to run the task <em>jacocoTestReport</em> the build fails and following error is shown on the first module:</p>\n<p><code>The value for this file collection is final and cannot be changed</code></p>\n<p>What I'm doing wrong here?</p>\n<p>Thanks for your help!</p>\n<p>I've already tried different versions of gradle and googled a lot, but unfortunately, none of the proposed soltions worked for me.</p>\n"},{"tags":["java","wildfly","jbpm","workflow-engine"],"owner":{"account_id":28554298,"reputation":1,"user_id":21858740,"display_name":"Dominik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683619191,"creation_date":1683619191,"question_id":76207082,"body_markdown":"I am encountering an issue with the use of an intermediate error boundary event in jBPM. My scenario involves two WorkItemHandlers, where the second one is expected to trigger the error boundary event by throwing a ProcessWorkItemHandlerException. I am uncertain if my setup is correct or how to accurately trigger the error boundary event, especially as the article referenced in the documentation is no longer available.\r\n\r\nHere is a diagram of my current configuration: [Diagram](https://i.stack.imgur.com/XW8tk.png)\r\n\r\n**Github Gist:** [Code and Exception](https://gist.github.com/dhois/bc6ac4688c08bfc3d6d0eff90b76bd5d)\r\n\r\nI would appreciate any guidance on what I might be doing wrong, or how I can ensure that the flow of the BPM diagram correctly splits at the boundary event. Additionally, I am receiving an exception message and would like to understand how to resolve it.\r\n\r\nThank you.","title":"UserTransaction cannot be rollbacked while using intermediate error event","body":"<p>I am encountering an issue with the use of an intermediate error boundary event in jBPM. My scenario involves two WorkItemHandlers, where the second one is expected to trigger the error boundary event by throwing a ProcessWorkItemHandlerException. I am uncertain if my setup is correct or how to accurately trigger the error boundary event, especially as the article referenced in the documentation is no longer available.</p>\n<p>Here is a diagram of my current configuration: <a href=\"https://i.stack.imgur.com/XW8tk.png\" rel=\"nofollow noreferrer\">Diagram</a></p>\n<p><strong>Github Gist:</strong> <a href=\"https://gist.github.com/dhois/bc6ac4688c08bfc3d6d0eff90b76bd5d\" rel=\"nofollow noreferrer\">Code and Exception</a></p>\n<p>I would appreciate any guidance on what I might be doing wrong, or how I can ensure that the flow of the BPM diagram correctly splits at the boundary event. Additionally, I am receiving an exception message and would like to understand how to resolve it.</p>\n<p>Thank you.</p>\n"},{"tags":["java","elasticsearch","security"],"owner":{"account_id":24062697,"reputation":11,"user_id":18039712,"display_name":"Diana Mihutescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683618800,"creation_date":1683618800,"question_id":76207035,"body_markdown":"I configured a two nodes cluster with\r\n\r\n```\r\nxpack.security.enabled: true\r\nxpack.security.http.ssl.enabled: true\r\nxpack.security.transport.ssl.enabled: true\r\nxpack.security.transport.ssl.verification_mode: &quot;certificate&quot;\r\nxpack.security.transport.ssl.keystore.path: &quot;application.keystore&quot;\r\nxpack.security.http.ssl.verification_mode: &quot;certificate&quot;\r\nxpack.security.http.ssl.keystore.path: &quot;application.keystore&quot;\r\nxpack.security.transport.ssl.truststore.path: &quot;client.truststore&quot;\r\nxpack.security.transport.ssl.truststore.password: &quot;pass&quot;\r\nxpack.security.transport.ssl.keystore.password: &quot;pass&quot;\r\nxpack.security.http.ssl.keystore.password: &quot;pass&quot;\r\nxpack.security.transport.ssl.keystore.key_password: &quot;pass&quot;\r\nxpack.security.http.ssl.keystore.key_password: &quot;pass&quot;\r\n```\r\nI have two different ca signed certificates and i added one on each node (and in the trustore of each node the corresponding one).\r\nI get\r\n```\r\njavax.net.ssl|SEVERE|B1|elasticsearch[node][transport_worker][T#66]|2023-05-02 15:08:56.928 UTC|TransportContext.java:316|Fatal (BAD_CERTIFICATE): Empty client certificate chain ( [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] &quot;throwable&quot; : { [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] javax.net.ssl.SSLHandshakeException: Empty client certificate chain [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.Alert.createSSLException(Alert.java:131) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.Alert.createSSLException(Alert.java:117) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.TransportContext.fatal(TransportContext.java:311) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.TransportContext.fatal(TransportContext.java:267) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.TransportContext.fatal(TransportContext.java:258) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1193)\r\n```\r\nfor internode communication. Enabled debug, the server sends its certificates, the client finds the corresponding one in the truststore and then sends an empty list of certificates.\r\n\r\nNote: this only happens when I try to use two different certificates - aka when adding\r\n\r\n```\r\nxpack.security.transport.ssl.truststore.path: &quot;client.truststore&quot;\r\nxpack.security.transport.ssl.truststore.password: &quot;pass&quot;\r\n```\r\n\r\n\r\n\r\n\r\nWith only one certificate, and without the truststore, no matter which of them, everything works fine.\r\n\r\nAlso, this configuration also works fine with only one certificate in the chain (tried with self signed and ca signed, but no intermediary.)","title":"Empty client certificate chain on internode handshake with different certificate on each node","body":"<p>I configured a two nodes cluster with</p>\n<pre><code>xpack.security.enabled: true\nxpack.security.http.ssl.enabled: true\nxpack.security.transport.ssl.enabled: true\nxpack.security.transport.ssl.verification_mode: &quot;certificate&quot;\nxpack.security.transport.ssl.keystore.path: &quot;application.keystore&quot;\nxpack.security.http.ssl.verification_mode: &quot;certificate&quot;\nxpack.security.http.ssl.keystore.path: &quot;application.keystore&quot;\nxpack.security.transport.ssl.truststore.path: &quot;client.truststore&quot;\nxpack.security.transport.ssl.truststore.password: &quot;pass&quot;\nxpack.security.transport.ssl.keystore.password: &quot;pass&quot;\nxpack.security.http.ssl.keystore.password: &quot;pass&quot;\nxpack.security.transport.ssl.keystore.key_password: &quot;pass&quot;\nxpack.security.http.ssl.keystore.key_password: &quot;pass&quot;\n</code></pre>\n<p>I have two different ca signed certificates and i added one on each node (and in the trustore of each node the corresponding one).\nI get</p>\n<pre><code>javax.net.ssl|SEVERE|B1|elasticsearch[node][transport_worker][T#66]|2023-05-02 15:08:56.928 UTC|TransportContext.java:316|Fatal (BAD_CERTIFICATE): Empty client certificate chain ( [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] &quot;throwable&quot; : { [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] javax.net.ssl.SSLHandshakeException: Empty client certificate chain [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.Alert.createSSLException(Alert.java:131) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.Alert.createSSLException(Alert.java:117) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.TransportContext.fatal(TransportContext.java:311) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.TransportContext.fatal(TransportContext.java:267) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.TransportContext.fatal(TransportContext.java:258) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1193)\n</code></pre>\n<p>for internode communication. Enabled debug, the server sends its certificates, the client finds the corresponding one in the truststore and then sends an empty list of certificates.</p>\n<p>Note: this only happens when I try to use two different certificates - aka when adding</p>\n<pre><code>xpack.security.transport.ssl.truststore.path: &quot;client.truststore&quot;\nxpack.security.transport.ssl.truststore.password: &quot;pass&quot;\n</code></pre>\n<p>With only one certificate, and without the truststore, no matter which of them, everything works fine.</p>\n<p>Also, this configuration also works fine with only one certificate in the chain (tried with self signed and ca signed, but no intermediary.)</p>\n"},{"tags":["java","spring-boot","jpa","criteria"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1683613185,"post_id":76206319,"comment_id":134389080,"body_markdown":"did you read this part of the error: The data types time and datetime are incompatible in the less than or equal to operator.?","body":"did you read this part of the error: The data types time and datetime are incompatible in the less than or equal to operator.?"},{"owner":{"account_id":21207279,"reputation":1,"user_id":15596632,"display_name":"Duy Dang"},"score":0,"creation_date":1683614079,"post_id":76206319,"comment_id":134389208,"body_markdown":"yes, I&#39;m searching for it but don&#39;t get any way to fix it.","body":"yes, I&#39;m searching for it but don&#39;t get any way to fix it."},{"owner":{"account_id":21207279,"reputation":1,"user_id":15596632,"display_name":"Duy Dang"},"score":0,"creation_date":1683614198,"post_id":76206319,"comment_id":134389235,"body_markdown":"the first i get Expression&lt;LocalDateTime&gt; and convert it into Expression&lt;LocalTime&gt;. After that, I try to compare with the LocalTime that I pass in but the error happen to me.","body":"the first i get Expression&lt;LocalDateTime&gt; and convert it into Expression&lt;LocalTime&gt;. After that, I try to compare with the LocalTime that I pass in but the error happen to me."}],"answers":[{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683614782,"creation_date":1683614782,"answer_id":76206541,"question_id":76206319,"body_markdown":"One of 2 known solution: In `spring.data.url`, concate to end of string\r\n\r\n```\r\nsendTimeAsDateTime=false\r\n```\r\nfor example, original\r\n\r\n```\r\nspring.datasource.url=jdbc:sqlserver://DESKTOP-EQBT80R\\\\MSSQLSERVER:1433;database=FooSample;trustServerCertificate=true;\r\n```\r\nchange to\r\n\r\n```\r\nspring.datasource.url=jdbc:sqlserver://DESKTOP-EQBT80R\\\\MSSQLSERVER:1433;database=FooSample;trustServerCertificate=true;sendTimeAsDateTime=false;\r\n```\r\nLet&#39;s share with your result.","title":"Problem when using lessThanOrEqualTo() of Predicate when compare time","body":"<p>One of 2 known solution: In <code>spring.data.url</code>, concate to end of string</p>\n<pre><code>sendTimeAsDateTime=false\n</code></pre>\n<p>for example, original</p>\n<pre><code>spring.datasource.url=jdbc:sqlserver://DESKTOP-EQBT80R\\\\MSSQLSERVER:1433;database=FooSample;trustServerCertificate=true;\n</code></pre>\n<p>change to</p>\n<pre><code>spring.datasource.url=jdbc:sqlserver://DESKTOP-EQBT80R\\\\MSSQLSERVER:1433;database=FooSample;trustServerCertificate=true;sendTimeAsDateTime=false;\n</code></pre>\n<p>Let's share with your result.</p>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683618528,"creation_date":1683618528,"answer_id":76206991,"question_id":76206319,"body_markdown":"Try to change\r\n\r\n```java\r\nLocalTime periodToRequest = FormatUtils.getLocalDateTime(request.getPeriodTo(), &quot;dd-MMM-yyyy HH:mm:ss&quot;).toLocalTime().plusMinutes(30);\r\n```\r\n\r\nto \r\n\r\n```java\r\nLocalDateTime periodToRequest = FormatUtils.getLocalDateTime(request.getPeriodTo(), &quot;dd-MMM-yyyy HH:mm:ss&quot;).plusMinutes(30L);\r\n```\r\n\r\nReference document: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#plusMinutes-long-","title":"Problem when using lessThanOrEqualTo() of Predicate when compare time","body":"<p>Try to change</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalTime periodToRequest = FormatUtils.getLocalDateTime(request.getPeriodTo(), &quot;dd-MMM-yyyy HH:mm:ss&quot;).toLocalTime().plusMinutes(30);\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime periodToRequest = FormatUtils.getLocalDateTime(request.getPeriodTo(), &quot;dd-MMM-yyyy HH:mm:ss&quot;).plusMinutes(30L);\n</code></pre>\n<p>Reference document: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#plusMinutes-long-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#plusMinutes-long-</a></p>\n"}],"owner":{"account_id":21207279,"reputation":1,"user_id":15596632,"display_name":"Duy Dang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76206541,"answer_count":2,"score":-1,"last_activity_date":1683618528,"creation_date":1683612634,"question_id":76206319,"body_markdown":"Source code\r\n```java\r\nExpression&lt;LocalDateTime&gt; dateTimeFromDatabase = root.get(&quot;period&quot;).as(LocalDateTime.class);\r\nExpression&lt;LocalTime&gt; timeFromDatabase = dateTimeFromDatabase.as(LocalTime.class);\r\nLocalTime periodToRequest = FormatUtils.getLocalDateTime(request.getPeriodTo(), &quot;dd-MMM-yyyy HH:mm:ss&quot;).toLocalTime().plusMinutes(30);\r\nPredicate predicate = criteriaBuilder.lessThanOrEqualTo(timeFromDatabase, periodToRequest.plusMinutes(30));\r\n```\r\n\r\nI have a column in database that datatype is datetime. I using JPA, Specification to get it with Criteria.\r\nIn my request, I pass in &quot;period_to&quot; ex: &quot;31-Mar-2023 07:30:00&quot;\r\nI wanna to implement dynamic filter, that compare the only time that I pass in request(&quot;07:30:00&quot;) with the time that I take from database.\r\nAnd I meet the error: \r\n`com.microsoft.sqlserver.jdbc.SQLServerException: The data types time and datetime are incompatible in the less than or equal to operator.`\r\n\r\n- The datatime in database is `2023-03-31 08:00:00.000`.\r\n- The period_to that I pass in is `31-Mar-2023 07:30:00`.\r\n- I wanna compare `07:30:00` with `08:00:00`.\r\n\r\nI need your help, thank you!","title":"Problem when using lessThanOrEqualTo() of Predicate when compare time","body":"<p>Source code</p>\n<pre class=\"lang-java prettyprint-override\"><code>Expression&lt;LocalDateTime&gt; dateTimeFromDatabase = root.get(&quot;period&quot;).as(LocalDateTime.class);\nExpression&lt;LocalTime&gt; timeFromDatabase = dateTimeFromDatabase.as(LocalTime.class);\nLocalTime periodToRequest = FormatUtils.getLocalDateTime(request.getPeriodTo(), &quot;dd-MMM-yyyy HH:mm:ss&quot;).toLocalTime().plusMinutes(30);\nPredicate predicate = criteriaBuilder.lessThanOrEqualTo(timeFromDatabase, periodToRequest.plusMinutes(30));\n</code></pre>\n<p>I have a column in database that datatype is datetime. I using JPA, Specification to get it with Criteria.\nIn my request, I pass in &quot;period_to&quot; ex: &quot;31-Mar-2023 07:30:00&quot;\nI wanna to implement dynamic filter, that compare the only time that I pass in request(&quot;07:30:00&quot;) with the time that I take from database.\nAnd I meet the error:\n<code>com.microsoft.sqlserver.jdbc.SQLServerException: The data types time and datetime are incompatible in the less than or equal to operator.</code></p>\n<ul>\n<li>The datatime in database is <code>2023-03-31 08:00:00.000</code>.</li>\n<li>The period_to that I pass in is <code>31-Mar-2023 07:30:00</code>.</li>\n<li>I wanna compare <code>07:30:00</code> with <code>08:00:00</code>.</li>\n</ul>\n<p>I need your help, thank you!</p>\n"},{"tags":["java","generics","log4j2"],"comments":[{"owner":{"account_id":3344764,"reputation":455,"user_id":2810127,"display_name":"Chesser"},"score":0,"creation_date":1683532021,"post_id":76198281,"comment_id":134375424,"body_markdown":"SO question [Contructor inside static inner class](https://stackoverflow.com/questions/29260297/constructor-inside-inner-static-class-in-java) answers my second part around the constructor for this class.","body":"SO question <a href=\"https://stackoverflow.com/questions/29260297/constructor-inside-inner-static-class-in-java\">Contructor inside static inner class</a> answers my second part around the constructor for this class."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1683533729,"post_id":76198281,"comment_id":134375754,"body_markdown":"Possibly relevant: https://stackoverflow.com/questions/19588449/self-bounded-generics","body":"Possibly relevant: <a href=\"https://stackoverflow.com/questions/19588449/self-bounded-generics\" title=\"self bounded generics\">stackoverflow.com/questions/19588449/self-bounded-generics</a>"}],"answers":[{"tags":[],"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1683618137,"creation_date":1683532151,"answer_id":76198470,"question_id":76198281,"body_markdown":"Builders usually have a fluent API. I.e. their building methods return the builder class to be able to directly call other building methods. For example, the class in question - `RollingFileAppender.Builder` - can be used like this:\r\n\r\n    var appender = builder.withAppend(true).withLocking(true).build();\r\n\r\nThat means that the building methods (the ones that are prefixed with `with` in this case) must return the same builder instance. But ... If you design a builder class for being subclassed, you have a problem. What type shall the building method return?\r\n\r\nConsider the following classes:\r\n\r\n    abstract class Builder {\r\n        abstract Object build();\r\n        Builder withProperty(String property) { return this; }\r\n    }\r\n    class ChildBuilder extends Builder {\r\n        Object build() { return new Object(); }\r\n        ChildBuilder withChildProperty(String childProperty) { return this; }\r\n    }\r\n\r\nThe actual return type of the `build` method does not matter for this explanation. The problem now is ... you can&#39;t do the following:\r\n\r\n    var obj = new ChildBuilder()\r\n        .withProperty(&quot;property&quot;)\r\n        .withChildProperty(&quot;child property&quot;) // Compiler error here!\r\n        .build();\r\n\r\nThe return type of `withProperty` is `Builder`, and this type does not know about the building method `withChildProperty`. So you are breaking the fluent API.\r\n\r\nThe solution: A parameterized builder class. The type parameter `B` in the following example is intended to express the concept of a _self type_.\r\n\r\nFor our example, you do the following:\r\n\r\n    abstract class Builder&lt;B extends Builder&lt;B&gt;&gt; {\r\n        abstract Object build();\r\n        B withProperty(String property) { return this; } // Note the return type here.\r\n    }\r\n    final class ChildBuilder extends Builder&lt;ChildBuilder&gt; {\r\n        Object build() { return new Object(); }\r\n        ChildBuilder withChildProperty(String childProperty) { return this; }\r\n    }\r\n\r\nNow you can do the code as I mentioned above. ","title":"Java Generics - Need explanation for the signature of this Log4j2 class - RollingFileAppender.Builder","body":"<p>Builders usually have a fluent API. I.e. their building methods return the builder class to be able to directly call other building methods. For example, the class in question - <code>RollingFileAppender.Builder</code> - can be used like this:</p>\n<pre><code>var appender = builder.withAppend(true).withLocking(true).build();\n</code></pre>\n<p>That means that the building methods (the ones that are prefixed with <code>with</code> in this case) must return the same builder instance. But ... If you design a builder class for being subclassed, you have a problem. What type shall the building method return?</p>\n<p>Consider the following classes:</p>\n<pre><code>abstract class Builder {\n    abstract Object build();\n    Builder withProperty(String property) { return this; }\n}\nclass ChildBuilder extends Builder {\n    Object build() { return new Object(); }\n    ChildBuilder withChildProperty(String childProperty) { return this; }\n}\n</code></pre>\n<p>The actual return type of the <code>build</code> method does not matter for this explanation. The problem now is ... you can't do the following:</p>\n<pre><code>var obj = new ChildBuilder()\n    .withProperty(&quot;property&quot;)\n    .withChildProperty(&quot;child property&quot;) // Compiler error here!\n    .build();\n</code></pre>\n<p>The return type of <code>withProperty</code> is <code>Builder</code>, and this type does not know about the building method <code>withChildProperty</code>. So you are breaking the fluent API.</p>\n<p>The solution: A parameterized builder class. The type parameter <code>B</code> in the following example is intended to express the concept of a <em>self type</em>.</p>\n<p>For our example, you do the following:</p>\n<pre><code>abstract class Builder&lt;B extends Builder&lt;B&gt;&gt; {\n    abstract Object build();\n    B withProperty(String property) { return this; } // Note the return type here.\n}\nfinal class ChildBuilder extends Builder&lt;ChildBuilder&gt; {\n    Object build() { return new Object(); }\n    ChildBuilder withChildProperty(String childProperty) { return this; }\n}\n</code></pre>\n<p>Now you can do the code as I mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683533304,"creation_date":1683533304,"answer_id":76198600,"question_id":76198281,"body_markdown":"This is known as the [curiously recurring template pattern][1].\r\n\r\nAs far as I know, `RollingFileAppender.Builder` doesn&#39;t have any subclasses, so this isn&#39;t technically needed for `RollingFileAppender.Builder` to work. It could have been declared as a non-generic type:\r\n\r\n    public static class RollingFileAppender.Builder extends \r\n        AbstractOutputStreamAppender.Builder&lt;RollingFileAppender.Builder&gt;\r\n\r\nand its builder methods, which all return a `B` (e.g. `withAdvertise`), can just as well return `RollingFileAppender.Builder`.\r\n\r\nHowever, consider the case where someone is trying to write a subclass of this non-generic class:\r\n\r\n```\r\npublic class FooBuilder extends RollingFileAppender.Builder {\r\n    public FooBuilder withFoo(String foo) {\r\n        // ...\r\n        return this;\r\n    }\r\n}\r\n\r\n// Let&#39;s try using MyBuilder:\r\nnew FooBuilder()\r\n    .withAdvertise(false) // let&#39;s call one of the methods in RollingFileAppender.Builder first...\r\n    .withFoo(&quot;Foo&quot;) // and now we try to call my subclass&#39;s method\r\n    .build()\r\n```\r\n\r\nThe call `withFoo` would not compile. This is because in our hypothetical, non-generic `RollingFileAppender.Builder`, `withAdvertise` returns `RollingFileAppender.Builder`, not `MyBuilder`.\r\n\r\nMaking `RollingFileAppender.Builder` generic, and making its builder methods return the generic type parameter `B` solves this problem. Because then we could write:\r\n\r\n    // in this pattern,\r\n    // you are always expected to put the class that you are declaring as B\r\n    public class MyBuilder extends RollingFileAppender.Builder&lt;MyBuilder&gt;\r\n\r\nWhatever methods declared in `RollingFileAppender.Builder` that returns a `B` will now return a `MyBuilder`.\r\n\r\n```\r\nnew MyBuilder()\r\n    .withAdvertise(false) // this now returns a MyBuilder\r\n    .withFoo(&quot;Foo&quot;) // and this now works\r\n    .build()\r\n```\r\n\r\nIt would also be helpful to see the inheritance hierarchy of `RollingFileAppender.Builder`:\r\n\r\n```\r\njava.lang.Object\r\n    org.apache.logging.log4j.core.filter.AbstractFilterable.Builder&lt;B&gt;\r\n        org.apache.logging.log4j.core.appender.AbstractAppender.Builder&lt;B&gt;\r\n            org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.Builder&lt;B&gt;\r\n                org.apache.logging.log4j.core.appender.RollingFileAppender.Builder&lt;B&gt;\r\n```\r\n\r\nAs you can see, this class inherits a lot of builder methods. If none of the classes followed this curiously recurring template pattern, you would not be able to call methods declared in `RollingFileAppender.Builder` after using one of the methods inherited from its superclasses.\r\n\r\n```\r\nnew RollingFileAppender.Builder()\r\n    .setImmediateFlush(true) // this is declared in AbstractOutputStreamAppender.Builder\r\n    // so the above would have returned an AbstractOutputStreamAppender.Builder\r\n    .withAdvertise(true); // now you wouldn&#39;t be able to do this\r\n```\r\n\r\nTo summarise, this `B` is simply a way for all the builder methods to return whatever `Builder` subclass that you are using, rather than the class that declared them. Although it is not needed for `RollingFileAppender.Builder` since it has no subclasses, the authors still declared it like that, presumably to follow the pattern.\r\n\r\n&lt;hr&gt;\r\n\r\nAs for why `static` classes can have constructors, `static` classes just means that you don&#39;t need an instance of the outer class (`RollingFileAppender`) in order to instantiate the nested class. It does not prevent declaring constructors.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2165660/5133585","title":"Java Generics - Need explanation for the signature of this Log4j2 class - RollingFileAppender.Builder","body":"<p>This is known as the <a href=\"https://stackoverflow.com/a/2165660/5133585\">curiously recurring template pattern</a>.</p>\n<p>As far as I know, <code>RollingFileAppender.Builder</code> doesn't have any subclasses, so this isn't technically needed for <code>RollingFileAppender.Builder</code> to work. It could have been declared as a non-generic type:</p>\n<pre><code>public static class RollingFileAppender.Builder extends \n    AbstractOutputStreamAppender.Builder&lt;RollingFileAppender.Builder&gt;\n</code></pre>\n<p>and its builder methods, which all return a <code>B</code> (e.g. <code>withAdvertise</code>), can just as well return <code>RollingFileAppender.Builder</code>.</p>\n<p>However, consider the case where someone is trying to write a subclass of this non-generic class:</p>\n<pre><code>public class FooBuilder extends RollingFileAppender.Builder {\n    public FooBuilder withFoo(String foo) {\n        // ...\n        return this;\n    }\n}\n\n// Let's try using MyBuilder:\nnew FooBuilder()\n    .withAdvertise(false) // let's call one of the methods in RollingFileAppender.Builder first...\n    .withFoo(&quot;Foo&quot;) // and now we try to call my subclass's method\n    .build()\n</code></pre>\n<p>The call <code>withFoo</code> would not compile. This is because in our hypothetical, non-generic <code>RollingFileAppender.Builder</code>, <code>withAdvertise</code> returns <code>RollingFileAppender.Builder</code>, not <code>MyBuilder</code>.</p>\n<p>Making <code>RollingFileAppender.Builder</code> generic, and making its builder methods return the generic type parameter <code>B</code> solves this problem. Because then we could write:</p>\n<pre><code>// in this pattern,\n// you are always expected to put the class that you are declaring as B\npublic class MyBuilder extends RollingFileAppender.Builder&lt;MyBuilder&gt;\n</code></pre>\n<p>Whatever methods declared in <code>RollingFileAppender.Builder</code> that returns a <code>B</code> will now return a <code>MyBuilder</code>.</p>\n<pre><code>new MyBuilder()\n    .withAdvertise(false) // this now returns a MyBuilder\n    .withFoo(&quot;Foo&quot;) // and this now works\n    .build()\n</code></pre>\n<p>It would also be helpful to see the inheritance hierarchy of <code>RollingFileAppender.Builder</code>:</p>\n<pre><code>java.lang.Object\n    org.apache.logging.log4j.core.filter.AbstractFilterable.Builder&lt;B&gt;\n        org.apache.logging.log4j.core.appender.AbstractAppender.Builder&lt;B&gt;\n            org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.Builder&lt;B&gt;\n                org.apache.logging.log4j.core.appender.RollingFileAppender.Builder&lt;B&gt;\n</code></pre>\n<p>As you can see, this class inherits a lot of builder methods. If none of the classes followed this curiously recurring template pattern, you would not be able to call methods declared in <code>RollingFileAppender.Builder</code> after using one of the methods inherited from its superclasses.</p>\n<pre><code>new RollingFileAppender.Builder()\n    .setImmediateFlush(true) // this is declared in AbstractOutputStreamAppender.Builder\n    // so the above would have returned an AbstractOutputStreamAppender.Builder\n    .withAdvertise(true); // now you wouldn't be able to do this\n</code></pre>\n<p>To summarise, this <code>B</code> is simply a way for all the builder methods to return whatever <code>Builder</code> subclass that you are using, rather than the class that declared them. Although it is not needed for <code>RollingFileAppender.Builder</code> since it has no subclasses, the authors still declared it like that, presumably to follow the pattern.</p>\n<hr>\n<p>As for why <code>static</code> classes can have constructors, <code>static</code> classes just means that you don't need an instance of the outer class (<code>RollingFileAppender</code>) in order to instantiate the nested class. It does not prevent declaring constructors.</p>\n"}],"owner":{"account_id":3344764,"reputation":455,"user_id":2810127,"display_name":"Chesser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76198470,"answer_count":2,"score":1,"last_activity_date":1683618137,"creation_date":1683530240,"question_id":76198281,"body_markdown":"Can someone please explain me the meaning of the signature of this class -\r\n \r\n`org.apache.logging.log4j.core.appender`\r\n\r\n`Class RollingFileAppender.Builder&lt;B extends RollingFileAppender.Builder&lt;B&gt;&gt;`\r\n\r\nas documented - [Log4j2 apidocs][1]\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/RollingFileAppender.Builder.html\r\n\r\nI read it as `Builder` for type `B`, where `B` `extends` the *Builder for type B*, which confuses me like anything.\r\n\r\nAlso, this is a `static` class and it has a constructor as well. Is this normal? Can somebody please share a reference that can help me understand and use this in program? \r\n\r\nPS - \r\nAbout what I am doing here - I am working on modifying log4j code to make it compatible with log4j2, in which there is a `RollingFileAppender` created using `RollingFileAppender` constructor in a util class.","title":"Java Generics - Need explanation for the signature of this Log4j2 class - RollingFileAppender.Builder","body":"<p>Can someone please explain me the meaning of the signature of this class -</p>\n<p><code>org.apache.logging.log4j.core.appender</code></p>\n<p><code>Class RollingFileAppender.Builder&lt;B extends RollingFileAppender.Builder&lt;B&gt;&gt;</code></p>\n<p>as documented - <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/RollingFileAppender.Builder.html\" rel=\"nofollow noreferrer\">Log4j2 apidocs</a></p>\n<p>I read it as <code>Builder</code> for type <code>B</code>, where <code>B</code> <code>extends</code> the <em>Builder for type B</em>, which confuses me like anything.</p>\n<p>Also, this is a <code>static</code> class and it has a constructor as well. Is this normal? Can somebody please share a reference that can help me understand and use this in program?</p>\n<p>PS -\nAbout what I am doing here - I am working on modifying log4j code to make it compatible with log4j2, in which there is a <code>RollingFileAppender</code> created using <code>RollingFileAppender</code> constructor in a util class.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1683214328,"post_id":76174874,"comment_id":134335599,"body_markdown":"What have you tried so far and why didn&#39;t it work?","body":"What have you tried so far and why didn&#39;t it work?"},{"owner":{"account_id":28507074,"reputation":13,"user_id":21817596,"display_name":"Google cloud"},"score":0,"creation_date":1683214874,"post_id":76174874,"comment_id":134335761,"body_markdown":"i tried this solution:\nhttps://copyprogramming.com/howto/filtering-out-unique-values-from-a-list-in-java\n\nbut the .equals(&quot;off&quot;) must be a list for me","body":"i tried this solution: <a href=\"https://copyprogramming.com/howto/filtering-out-unique-values-from-a-list-in-java\" rel=\"nofollow noreferrer\">copyprogramming.com/howto/&hellip;</a>  but the .equals(&quot;off&quot;) must be a list for me"},{"owner":{"account_id":5247691,"reputation":305,"user_id":4192839,"display_name":"CyberMafia"},"score":0,"creation_date":1683215289,"post_id":76174874,"comment_id":134335870,"body_markdown":"You can create a ```list, set or map``` of your existing ```enum values``` and then use that to filter out the invalid ones from your array using ```Java Streams```.","body":"You can create a <code>list, set or map</code> of your existing <code>enum values</code> and then use that to filter out the invalid ones from your array using <code>Java Streams</code>."},{"owner":{"account_id":1976379,"reputation":608,"user_id":1774084,"display_name":"M. Yousfi"},"score":1,"creation_date":1683215885,"post_id":76174874,"comment_id":134336011,"body_markdown":"I do not see any question mark in your post. What did you try already ? (please share what you&#39;ve tried and not the website from where you find the solution).","body":"I do not see any question mark in your post. What did you try already ? (please share what you&#39;ve tried and not the website from where you find the solution)."},{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1683219832,"post_id":76174874,"comment_id":134336965,"body_markdown":"try Type.WIN == Type.valueOf(&quot;window&quot;)","body":"try Type.WIN == Type.valueOf(&quot;window&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":24023581,"reputation":16,"user_id":18005512,"display_name":"Stochu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683617811,"creation_date":1683225117,"answer_id":76176355,"question_id":76174874,"body_markdown":"Simple implementation:\r\n\r\n     List&lt;String&gt; matchingTypes = new ArrayList&lt;&gt;();\r\n        \r\n        for (String myType : matType) {\r\n           for (Type type : Type.values()) {\r\n              if (type.getType().equals(myType)) {\r\n                 matchingTypes.add(myType);\r\n              }\r\n            }\r\n         }\r\n\r\nImplementation using stream:\r\n\r\n        List&lt;String&gt; matchingTypes = Arrays.stream(Type.values())\r\n                .map(Type::getType)\r\n                .filter(matType::contains)\r\n                .collect(Collectors.toList());","title":"Filter list by enum","body":"<p>Simple implementation:</p>\n<pre><code> List&lt;String&gt; matchingTypes = new ArrayList&lt;&gt;();\n    \n    for (String myType : matType) {\n       for (Type type : Type.values()) {\n          if (type.getType().equals(myType)) {\n             matchingTypes.add(myType);\n          }\n        }\n     }\n</code></pre>\n<p>Implementation using stream:</p>\n<pre><code>    List&lt;String&gt; matchingTypes = Arrays.stream(Type.values())\n            .map(Type::getType)\n            .filter(matType::contains)\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683275883,"creation_date":1683275883,"answer_id":76180306,"question_id":76174874,"body_markdown":"You could try to parse each list value as an enum and keep those which could be parsed:\r\n\r\n```\r\nfinal List&lt;String&gt; matType = {&quot;window&quot;,&quot;door&quot;,&quot;room&quot;,&quot;kitchen&quot;,&quot;bedroom&quot;};\r\nfinal List&lt;String&gt; result = matType.stream()\r\n    .filter(t -&gt; {\r\n      try {\r\n        Type.valueOf(t); // throws an exception for invalid names\r\n        return true;\r\n      } catch (final Exception ex) {\r\n        return false;\r\n      }\r\n    })\r\n    .collect(Collectors.toList());\r\n```\r\n\r\nBut if you are filtering with your enum lots of times, it is probably worthwhile to build a set with your enum&#39;s names _once_ and then re-use:\r\n\r\n```\r\nclass Enum Type {\r\n    WIN(&quot;window&quot;),\r\n    DOOR(&quot;door&quot;);\r\n\r\n    private static final Set&lt;String&gt; typeNames = values().stream()\r\n        .map(Objects::toString)\r\n        .collect(Collectors.toUnmodifiableSet());\r\n\r\n    private final String type;\r\n\r\n    private Type(final String type) {\r\n        this.type = type;\r\n    }\r\n\r\n    private boolean isValidName(final String name) {\r\n      return typeNames.contains(name);\r\n    }\r\n}\r\n\r\nfinal List&lt;String&gt; matType = {&quot;window&quot;,&quot;door&quot;,&quot;room&quot;,&quot;kitchen&quot;,&quot;bedroom&quot;};\r\nfinal List&lt;String&gt; result = matType.stream()\r\n    .filter(Type::isValidName);\r\n    .collect(Collectors.toList());\r\n```","title":"Filter list by enum","body":"<p>You could try to parse each list value as an enum and keep those which could be parsed:</p>\n<pre><code>final List&lt;String&gt; matType = {&quot;window&quot;,&quot;door&quot;,&quot;room&quot;,&quot;kitchen&quot;,&quot;bedroom&quot;};\nfinal List&lt;String&gt; result = matType.stream()\n    .filter(t -&gt; {\n      try {\n        Type.valueOf(t); // throws an exception for invalid names\n        return true;\n      } catch (final Exception ex) {\n        return false;\n      }\n    })\n    .collect(Collectors.toList());\n</code></pre>\n<p>But if you are filtering with your enum lots of times, it is probably worthwhile to build a set with your enum's names <em>once</em> and then re-use:</p>\n<pre><code>class Enum Type {\n    WIN(&quot;window&quot;),\n    DOOR(&quot;door&quot;);\n\n    private static final Set&lt;String&gt; typeNames = values().stream()\n        .map(Objects::toString)\n        .collect(Collectors.toUnmodifiableSet());\n\n    private final String type;\n\n    private Type(final String type) {\n        this.type = type;\n    }\n\n    private boolean isValidName(final String name) {\n      return typeNames.contains(name);\n    }\n}\n\nfinal List&lt;String&gt; matType = {&quot;window&quot;,&quot;door&quot;,&quot;room&quot;,&quot;kitchen&quot;,&quot;bedroom&quot;};\nfinal List&lt;String&gt; result = matType.stream()\n    .filter(Type::isValidName);\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":28507074,"reputation":13,"user_id":21817596,"display_name":"Google cloud"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76176355,"answer_count":2,"score":1,"last_activity_date":1683617811,"creation_date":1683214094,"question_id":76174874,"body_markdown":"I have a list of String \r\n```\r\nList&lt;String&gt; matType = {&quot;window&quot;,&quot;door&quot;,&quot;room&quot;,&quot;kitchen&quot;,&quot;bedroom&quot;}\r\n```\r\nand an enum \r\n```\r\nclass Enum Type{\r\n    WIN(&quot;window&quot;),\r\n    DOOR(&quot;door&quot;);\r\n\r\n    private String type;\r\n\r\n    private Type(String type){\r\n        this.type = type;\r\n    }\r\n}\r\n```\r\n\r\nMy final list should be `matType : {&quot;window&quot;, &quot;door&quot;}`.","title":"Filter list by enum","body":"<p>I have a list of String</p>\n<pre><code>List&lt;String&gt; matType = {&quot;window&quot;,&quot;door&quot;,&quot;room&quot;,&quot;kitchen&quot;,&quot;bedroom&quot;}\n</code></pre>\n<p>and an enum</p>\n<pre><code>class Enum Type{\n    WIN(&quot;window&quot;),\n    DOOR(&quot;door&quot;);\n\n    private String type;\n\n    private Type(String type){\n        this.type = type;\n    }\n}\n</code></pre>\n<p>My final list should be <code>matType : {&quot;window&quot;, &quot;door&quot;}</code>.</p>\n"},{"tags":["java","selenium-webdriver","gradle","intellij-idea","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":11289876,"reputation":246,"user_id":8279341,"display_name":"Shweta Priyadarshani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683617525,"creation_date":1683617525,"answer_id":76206862,"question_id":76199978,"body_markdown":"Solved this issue- in line 1 highlighted in image 2, I removed the `/.gradlew clean` command, and just kept the environment variables like AWS keys, chrome driver details &amp; environment type and it worked.","title":"Could not find or load main class Gradlew Caused by : Caused by: java.lang.ClassNotFoundException: //gradlew","body":"<p>Solved this issue- in line 1 highlighted in image 2, I removed the <code>/.gradlew clean</code> command, and just kept the environment variables like AWS keys, chrome driver details &amp; environment type and it worked.</p>\n"}],"owner":{"account_id":11289876,"reputation":246,"user_id":8279341,"display_name":"Shweta Priyadarshani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683617560,"creation_date":1683543993,"question_id":76199978,"body_markdown":"I am new to Gradle and Selenium testing. I am working on Mac &amp; using intelliJ .\r\nI am trying to setup my Junit Run Configuration for running selemium test in a package.\r\n \r\nPlease refer to image 2.\r\n\r\nLine marked with 1 has all the configurations like the chrome version, aws keys. It starts with command:  **./gradlew clean** \r\n\r\nLine marked with 2 has the package containing Selenium test class that I need to run.\r\n\r\nI built the project using : ./gradlew clean build testClasses -x test\r\n\r\nNow when I try to run the Test Configuration I created , it fails with this error:\r\n\r\n    Error: Could not find or load main class ..gradlew\r\n    Caused by: java.lang.ClassNotFoundException: //gradlew\r\n    Process finished with exit code 1\r\n\r\nPlease refer to the image 1 below for the error.\r\n\r\nI have tried the solutions given on this link but nothing is helping: \r\n[link][1]\r\n\r\nIs the error coming because I am using **gradlew** (gradle wrapper) in command instead of **gradle**? \r\n\r\nUpdate, tried the Run Config command with gradle too, still the same error, now with gradle :\r\n\r\n    Error: Could not find or load main class ..gradle\r\n    Caused by: java.lang.ClassNotFoundException: //gradle\r\n\r\n Please suggest solutions to me, let me know if any other details or files are required to be shared form my end.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\n[![run][3]][3] \r\n\r\n\r\n  [1]: https://support.snyk.io/hc/en-us/articles/360007745957-Snyk-test-Could-not-find-or-load-main-class-org-gradle-wrapper-GradleWrapperMain\r\n  [2]: https://i.stack.imgur.com/PvuGN.png\r\n  [3]: https://i.stack.imgur.com/cezrz.png","title":"Could not find or load main class Gradlew Caused by : Caused by: java.lang.ClassNotFoundException: //gradlew","body":"<p>I am new to Gradle and Selenium testing. I am working on Mac &amp; using intelliJ .\nI am trying to setup my Junit Run Configuration for running selemium test in a package.</p>\n<p>Please refer to image 2.</p>\n<p>Line marked with 1 has all the configurations like the chrome version, aws keys. It starts with command:  <strong>./gradlew clean</strong></p>\n<p>Line marked with 2 has the package containing Selenium test class that I need to run.</p>\n<p>I built the project using : ./gradlew clean build testClasses -x test</p>\n<p>Now when I try to run the Test Configuration I created , it fails with this error:</p>\n<pre><code>Error: Could not find or load main class ..gradlew\nCaused by: java.lang.ClassNotFoundException: //gradlew\nProcess finished with exit code 1\n</code></pre>\n<p>Please refer to the image 1 below for the error.</p>\n<p>I have tried the solutions given on this link but nothing is helping:\n<a href=\"https://support.snyk.io/hc/en-us/articles/360007745957-Snyk-test-Could-not-find-or-load-main-class-org-gradle-wrapper-GradleWrapperMain\" rel=\"nofollow noreferrer\">link</a></p>\n<p>Is the error coming because I am using <strong>gradlew</strong> (gradle wrapper) in command instead of <strong>gradle</strong>?</p>\n<p>Update, tried the Run Config command with gradle too, still the same error, now with gradle :</p>\n<pre><code>Error: Could not find or load main class ..gradle\nCaused by: java.lang.ClassNotFoundException: //gradle\n</code></pre>\n<p>Please suggest solutions to me, let me know if any other details or files are required to be shared form my end.</p>\n<p><a href=\"https://i.stack.imgur.com/PvuGN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PvuGN.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/cezrz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cezrz.png\" alt=\"run\" /></a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683627991,"post_id":76206813,"comment_id":134392286,"body_markdown":"I have no idea what you are trying to achieve or describe. Your question is, at best, confusing/not clear.","body":"I have no idea what you are trying to achieve or describe. Your question is, at best, confusing/not clear."},{"owner":{"account_id":27813744,"reputation":1,"user_id":21235613,"display_name":"wenda wang"},"score":0,"creation_date":1683628845,"post_id":76206813,"comment_id":134392489,"body_markdown":"I want to activate spring.profile.active by means of ApplicationContextInitializer","body":"I want to activate spring.profile.active by means of ApplicationContextInitializer"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683698333,"post_id":76206813,"comment_id":134404391,"body_markdown":"Which is the only thing I understood from your question, how you are testing this or what you are trying to do is totally unclear.","body":"Which is the only thing I understood from your question, how you are testing this or what you are trying to do is totally unclear."},{"owner":{"account_id":27813744,"reputation":1,"user_id":21235613,"display_name":"wenda wang"},"score":0,"creation_date":1683775754,"post_id":76206813,"comment_id":134419190,"body_markdown":"What I mean is that I want to get the value of the data in the active configuration file, such as home: addr: Zhongshan South Road in application-dev.yml, but I have not been able to read it","body":"What I mean is that I want to get the value of the data in the active configuration file, such as home: addr: Zhongshan South Road in application-dev.yml, but I have not been able to read it"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683782207,"post_id":76206813,"comment_id":134419846,"body_markdown":"How are you registering this initializer? How are you loading the configuration etc. There is far too little information here to answer it.","body":"How are you registering this initializer? How are you loading the configuration etc. There is far too little information here to answer it."}],"owner":{"account_id":27813744,"reputation":1,"user_id":21235613,"display_name":"wenda wang"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683617102,"creation_date":1683617102,"question_id":76206813,"body_markdown":"When I was using ApplicationContextInitializer, I found that I could use it to specify the activation file, but I couldn&#39;t actually get the activation file data, at first I thought it was a file format problem, but when I changed to yml configuration profile.active, I could get it, why?\r\n\r\n```\r\npublic class MyApplicationContextInitializer implements ApplicationContextInitializer {\r\n    @Override\r\n    public void initialize(ConfigurableApplicationContext applicationContext) {\r\n        System.out.println(&quot;setActiveProfiles&quot;);\r\n        ConfigurableEnvironment environment = applicationContext.getEnvironment();\r\n        environment.setActiveProfiles(&quot;dev&quot;);\r\n    }\r\n}\r\n```\r\nI used Application.yml to load the custom initlizer,this is the text.\r\n\r\n`context:\r\n  initializer:\r\n    classes: com.xnew.springboot.initlister.initiallizer.MyApplicationContextInitializer`\r\n\r\nhere is the console text png.\r\n[enter image description here](https://i.stack.imgur.com/ZqGf3.png)\r\n\r\nI can see in the console that it is activated, but I can&#39;t get the parameter value of the activation configuration using @Value. ","title":"springboot ApplicationContextInitializer setActiveProfiles Why can&#39;t it take effect?","body":"<p>When I was using ApplicationContextInitializer, I found that I could use it to specify the activation file, but I couldn't actually get the activation file data, at first I thought it was a file format problem, but when I changed to yml configuration profile.active, I could get it, why?</p>\n<pre><code>public class MyApplicationContextInitializer implements ApplicationContextInitializer {\n    @Override\n    public void initialize(ConfigurableApplicationContext applicationContext) {\n        System.out.println(&quot;setActiveProfiles&quot;);\n        ConfigurableEnvironment environment = applicationContext.getEnvironment();\n        environment.setActiveProfiles(&quot;dev&quot;);\n    }\n}\n</code></pre>\n<p>I used Application.yml to load the custom initlizer,this is the text.</p>\n<p><code>context: initializer: classes: com.xnew.springboot.initlister.initiallizer.MyApplicationContextInitializer</code></p>\n<p>here is the console text png.\n<a href=\"https://i.stack.imgur.com/ZqGf3.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I can see in the console that it is activated, but I can't get the parameter value of the activation configuration using @Value.</p>\n"},{"tags":["java","collections","casting"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1683611387,"post_id":76206184,"comment_id":134388875,"body_markdown":"Just to be clear, you want to *merge* the two maps `allCompInfo` and `allFunctionInfo`? That is, add the key value pairs of the two maps into a single map, and where the keys collide, make a new list that contains the `BaseInfo`s of both values?","body":"Just to be clear, you want to <i>merge</i> the two maps <code>allCompInfo</code> and <code>allFunctionInfo</code>? That is, add the key value pairs of the two maps into a single map, and where the keys collide, make a new list that contains the <code>BaseInfo</code>s of both values?"},{"owner":{"account_id":8132660,"reputation":99,"user_id":6125400,"accept_rate":0,"display_name":"RCode"},"score":0,"creation_date":1683611708,"post_id":76206184,"comment_id":134388908,"body_markdown":"Yes. You are correct. I am trying to create a single collection called as &#39;BaseInfo&#39; pulling the details from both componentLayer and FunctionLayer.","body":"Yes. You are correct. I am trying to create a single collection called as &#39;BaseInfo&#39; pulling the details from both componentLayer and FunctionLayer."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683614106,"creation_date":1683613763,"answer_id":76206434,"question_id":76206184,"body_markdown":"`List&lt;Component&gt;` and `List&lt;Function&gt;` are just ***not*** subtypes of `List&lt;BaseInfo&gt;`. If they were a subtypes, everything you can do to `List&lt;BaseInfo&gt;` can also be done to `List&lt;Component&gt;`, right? But this is not the case - you can add a `Function` to a `List&lt;BaseInfo&gt;`, but you cannot add a `Function` to a `List&lt;Component&gt;`. Read more about this [here][1].\r\n\r\n`List&lt;Component&gt;` and `List&lt;Function&gt;` *are* subtypes of `List&lt;? extends BaseInfo&gt;` though. `List&lt;? extends BaseInfo&gt;` is very similar to `List&lt;BaseInfo&gt;`, but you cannot add elements to it (except null). You can combine the two maps into a `Map&lt;String, List&lt;? extends BaseInfo&gt;&gt;` like this:\r\n\r\n```\r\nvar map = new HashMap&lt;String, List&lt;? extends BaseInfo&gt;&gt;(allFunctionInfo);\r\nfor (var entry : allCompInfo.entrySet()) {\r\n    map.merge(entry.getKey(), entry.getValue(), (x, y) -&gt; {\r\n        // when keys collide, create a new List&lt;BaseInfo&gt; with elements from both lists\r\n        var list = new ArrayList&lt;BaseInfo&gt;(x);\r\n        list.addAll(y);\r\n        return list;\r\n    });\r\n}\r\n```\r\n\r\nAlternatively, you can create copies of every `List&lt;Function&gt;` and every `List&lt;Component&gt;`. And the copies can be of type `List&lt;BaseInfo&gt;` instead:\r\n\r\n```\r\nvar map = new HashMap&lt;String, List&lt;BaseInfo&gt;&gt;();\r\nfor (var entry : allCompInfo.entrySet()) {\r\n    // new ArrayList&lt;&gt;(anotherList) creates a copy\r\n    map.put(entry.getKey(), new ArrayList&lt;&gt;(entry.getValue()));\r\n}\r\nfor (var entry : allFunctionInfo.entrySet()) {\r\n    map.merge(entry.getKey(), new ArrayList&lt;&gt;(entry.getValue()), (x, y) -&gt; {\r\n        x.addAll(y);\r\n        return x;\r\n    });\r\n}\r\n```\r\n\r\nYou can extract this to a generic method that works on any base type and two subtypes:\r\n\r\n\r\n    private static &lt;TBase, TSub1 extends TBase, TSub2 extends TBase&gt; \r\n    Map&lt;String, List&lt;TBase&gt;&gt; merge(Map&lt;String, List&lt;TSub1&gt;&gt; map1, Map&lt;String, List&lt;TSub2&gt;&gt; map2) {\r\n        var map = new HashMap&lt;String, List&lt;TBase&gt;&gt;();\r\n        for (var entry : map1.entrySet()) {\r\n            map.put(entry.getKey(), new ArrayList&lt;&gt;(entry.getValue()));\r\n        }\r\n        for (var entry : map2.entrySet()) {\r\n            map.merge(entry.getKey(), new ArrayList&lt;&gt;(entry.getValue()), (x, y) -&gt; {\r\n                x.addAll(y);\r\n                return x;\r\n            });\r\n        }\r\n        return map;\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-are-java-generics-not-implicitly-po","title":"How I can typecast a collection of Child objects to a collection of Parent Object","body":"<p><code>List&lt;Component&gt;</code> and <code>List&lt;Function&gt;</code> are just <em><strong>not</strong></em> subtypes of <code>List&lt;BaseInfo&gt;</code>. If they were a subtypes, everything you can do to <code>List&lt;BaseInfo&gt;</code> can also be done to <code>List&lt;Component&gt;</code>, right? But this is not the case - you can add a <code>Function</code> to a <code>List&lt;BaseInfo&gt;</code>, but you cannot add a <code>Function</code> to a <code>List&lt;Component&gt;</code>. Read more about this <a href=\"https://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-are-java-generics-not-implicitly-po\">here</a>.</p>\n<p><code>List&lt;Component&gt;</code> and <code>List&lt;Function&gt;</code> <em>are</em> subtypes of <code>List&lt;? extends BaseInfo&gt;</code> though. <code>List&lt;? extends BaseInfo&gt;</code> is very similar to <code>List&lt;BaseInfo&gt;</code>, but you cannot add elements to it (except null). You can combine the two maps into a <code>Map&lt;String, List&lt;? extends BaseInfo&gt;&gt;</code> like this:</p>\n<pre><code>var map = new HashMap&lt;String, List&lt;? extends BaseInfo&gt;&gt;(allFunctionInfo);\nfor (var entry : allCompInfo.entrySet()) {\n    map.merge(entry.getKey(), entry.getValue(), (x, y) -&gt; {\n        // when keys collide, create a new List&lt;BaseInfo&gt; with elements from both lists\n        var list = new ArrayList&lt;BaseInfo&gt;(x);\n        list.addAll(y);\n        return list;\n    });\n}\n</code></pre>\n<p>Alternatively, you can create copies of every <code>List&lt;Function&gt;</code> and every <code>List&lt;Component&gt;</code>. And the copies can be of type <code>List&lt;BaseInfo&gt;</code> instead:</p>\n<pre><code>var map = new HashMap&lt;String, List&lt;BaseInfo&gt;&gt;();\nfor (var entry : allCompInfo.entrySet()) {\n    // new ArrayList&lt;&gt;(anotherList) creates a copy\n    map.put(entry.getKey(), new ArrayList&lt;&gt;(entry.getValue()));\n}\nfor (var entry : allFunctionInfo.entrySet()) {\n    map.merge(entry.getKey(), new ArrayList&lt;&gt;(entry.getValue()), (x, y) -&gt; {\n        x.addAll(y);\n        return x;\n    });\n}\n</code></pre>\n<p>You can extract this to a generic method that works on any base type and two subtypes:</p>\n<pre><code>private static &lt;TBase, TSub1 extends TBase, TSub2 extends TBase&gt; \nMap&lt;String, List&lt;TBase&gt;&gt; merge(Map&lt;String, List&lt;TSub1&gt;&gt; map1, Map&lt;String, List&lt;TSub2&gt;&gt; map2) {\n    var map = new HashMap&lt;String, List&lt;TBase&gt;&gt;();\n    for (var entry : map1.entrySet()) {\n        map.put(entry.getKey(), new ArrayList&lt;&gt;(entry.getValue()));\n    }\n    for (var entry : map2.entrySet()) {\n        map.merge(entry.getKey(), new ArrayList&lt;&gt;(entry.getValue()), (x, y) -&gt; {\n            x.addAll(y);\n            return x;\n        });\n    }\n    return map;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683614401,"creation_date":1683614401,"answer_id":76206497,"question_id":76206184,"body_markdown":"If there are no &quot;key&quot; collisions (https://www.baeldung.com/java-hashmap-advanced#collisions-in-the-hashmap) then you can try this approach:\r\n\r\n    Map&lt;String, List&lt;? extends BaseInfo&gt;&gt; allInfos = new HashMap&lt;&gt;();\r\n    allInfos.putAll(compoments);\r\n    allInfos.putAll(functions);","title":"How I can typecast a collection of Child objects to a collection of Parent Object","body":"<p>If there are no &quot;key&quot; collisions (<a href=\"https://www.baeldung.com/java-hashmap-advanced#collisions-in-the-hashmap\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-hashmap-advanced#collisions-in-the-hashmap</a>) then you can try this approach:</p>\n<pre><code>Map&lt;String, List&lt;? extends BaseInfo&gt;&gt; allInfos = new HashMap&lt;&gt;();\nallInfos.putAll(compoments);\nallInfos.putAll(functions);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683616738,"creation_date":1683616021,"answer_id":76206679,"question_id":76206184,"body_markdown":"You must create a new `List&lt;BaseInfo&gt;` and copy the child class objects over.\r\n\r\nSo this answer is broadly useful, here I&#39;ve used more familiar classes from the JDK instead of your custom classes: Parent class `Number` with child classes `Integer` and `Long`.\r\n\r\nGiven:\r\n\r\n    Map&lt;String, List&lt;Integer&gt;&gt; allCompInfo  = new HashMap&lt;&gt;();\r\n    Map&lt;String, List&lt;Long&gt;&gt; allFunctionInfo = new HashMap&lt;&gt;();\r\n\r\nand you want to populate a `Map&lt;String, List&lt;Number&gt;&gt; allInfo` with them:\r\n\r\nEither copy all values into the base map imperatively, manually handling merges:\r\n\r\n    Map&lt;String, List&lt;Number&gt;&gt; allInfo = new HashMap&lt;&gt;();\r\n    allCompInfo.forEach((k, v) -&gt; v.forEach(e -&gt; allInfo.merge(k, new ArrayList&lt;&gt;(List.of(e)), (a,b) -&gt; { a.addAll(b); return a;})));\r\n    allFunctionInfo.forEach((k, v) -&gt; v.forEach(e -&gt; allInfo.merge(k, new ArrayList&lt;&gt;(List.of(e)), (a,b) -&gt; { a.addAll(b); return a;})));\r\n\r\nOr, do it in one line via a stream, which would scale better if you add more child classes (and it looks cooler):\r\n\r\n    Map&lt;String, List&lt;Number&gt;&gt; baseInfo = Stream.of(allCompInfo, allFunctionInfo)\r\n       .map(Map::entrySet)\r\n       .flatMap(Set::stream)\r\n       .flatMap(e -&gt; e.getValue().stream().map(v -&gt; new AbstractMap.SimpleEntry&lt;String, Number&gt;(e.getKey(), v)))\r\n       .collect(groupingBy(Map.Entry::getKey, mapping(Map.Entry::getValue, toList())));\r\n        \r\n\r\n","title":"How I can typecast a collection of Child objects to a collection of Parent Object","body":"<p>You must create a new <code>List&lt;BaseInfo&gt;</code> and copy the child class objects over.</p>\n<p>So this answer is broadly useful, here I've used more familiar classes from the JDK instead of your custom classes: Parent class <code>Number</code> with child classes <code>Integer</code> and <code>Long</code>.</p>\n<p>Given:</p>\n<pre><code>Map&lt;String, List&lt;Integer&gt;&gt; allCompInfo  = new HashMap&lt;&gt;();\nMap&lt;String, List&lt;Long&gt;&gt; allFunctionInfo = new HashMap&lt;&gt;();\n</code></pre>\n<p>and you want to populate a <code>Map&lt;String, List&lt;Number&gt;&gt; allInfo</code> with them:</p>\n<p>Either copy all values into the base map imperatively, manually handling merges:</p>\n<pre><code>Map&lt;String, List&lt;Number&gt;&gt; allInfo = new HashMap&lt;&gt;();\nallCompInfo.forEach((k, v) -&gt; v.forEach(e -&gt; allInfo.merge(k, new ArrayList&lt;&gt;(List.of(e)), (a,b) -&gt; { a.addAll(b); return a;})));\nallFunctionInfo.forEach((k, v) -&gt; v.forEach(e -&gt; allInfo.merge(k, new ArrayList&lt;&gt;(List.of(e)), (a,b) -&gt; { a.addAll(b); return a;})));\n</code></pre>\n<p>Or, do it in one line via a stream, which would scale better if you add more child classes (and it looks cooler):</p>\n<pre><code>Map&lt;String, List&lt;Number&gt;&gt; baseInfo = Stream.of(allCompInfo, allFunctionInfo)\n   .map(Map::entrySet)\n   .flatMap(Set::stream)\n   .flatMap(e -&gt; e.getValue().stream().map(v -&gt; new AbstractMap.SimpleEntry&lt;String, Number&gt;(e.getKey(), v)))\n   .collect(groupingBy(Map.Entry::getKey, mapping(Map.Entry::getValue, toList())));\n    \n</code></pre>\n"}],"owner":{"account_id":8132660,"reputation":99,"user_id":6125400,"accept_rate":0,"display_name":"RCode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1683616738,"creation_date":1683611098,"question_id":76206184,"body_markdown":"I have one base class\r\n\r\n    public class BaseInfo { }\r\n\r\nThen I have two child class from BaseInfo:\r\n\r\n    public class FunctionInfo extends BaseInfo {}\r\n    public class ComponentInfo extends BaseInfo {}\r\n\r\nNow In rest layer there is one method using which I can get the collection of those child objects similar to below\r\n\r\n    Map&lt;String, List&lt;ComponentInfo&gt;&gt; allCompInfo  = componentLayer.findById(Id, true);  \r\n    Map&lt;String, List&lt;FunctionInfo&gt;&gt; allFunctionInfo = functionLayer.findById(Id); \r\n\r\nHere In my next method I have to send the allCompInfo and allFunctionInfo both to get next info. Or I have to call twice that method If I am not sending them both together. In both cases the operation complexity is same. Iterating over two collection list.\r\n\r\nI am curious to know is there any way to collect both child object collections into the BaseInfo collection. something like\r\n```java\r\n     Map&lt;String, List&lt;BaseInfo&gt;&gt; allInfo  = componentLayer.findById(Id, true);\r\n     allInfo = functionLayer.findById(Id);\r\n```\r\n \r\n\r\nBasic upper casting I tried but the collection looks like work different way. Is there any way I can type cast a whole child collection to parent collection. It will be great help if one could help.","title":"How I can typecast a collection of Child objects to a collection of Parent Object","body":"<p>I have one base class</p>\n<pre><code>public class BaseInfo { }\n</code></pre>\n<p>Then I have two child class from BaseInfo:</p>\n<pre><code>public class FunctionInfo extends BaseInfo {}\npublic class ComponentInfo extends BaseInfo {}\n</code></pre>\n<p>Now In rest layer there is one method using which I can get the collection of those child objects similar to below</p>\n<pre><code>Map&lt;String, List&lt;ComponentInfo&gt;&gt; allCompInfo  = componentLayer.findById(Id, true);  \nMap&lt;String, List&lt;FunctionInfo&gt;&gt; allFunctionInfo = functionLayer.findById(Id); \n</code></pre>\n<p>Here In my next method I have to send the allCompInfo and allFunctionInfo both to get next info. Or I have to call twice that method If I am not sending them both together. In both cases the operation complexity is same. Iterating over two collection list.</p>\n<p>I am curious to know is there any way to collect both child object collections into the BaseInfo collection. something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>     Map&lt;String, List&lt;BaseInfo&gt;&gt; allInfo  = componentLayer.findById(Id, true);\n     allInfo = functionLayer.findById(Id);\n</code></pre>\n<p>Basic upper casting I tried but the collection looks like work different way. Is there any way I can type cast a whole child collection to parent collection. It will be great help if one could help.</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","selenium-grid"],"answers":[{"tags":[],"owner":{"account_id":16640677,"reputation":3,"user_id":12026291,"display_name":"kjSel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683616590,"creation_date":1683616506,"answer_id":76206751,"question_id":74279980,"body_markdown":"Posting If you haven&#39;t found the answer yet - \r\n1. Set custom capabilities `&quot;networkname:applicationName&quot;:&quot;nodex&quot;, &quot;nodename:applicationName&quot;:&quot;appx&quot;` in your node.driver-configuration in grid config toml file \r\n\r\n   \r\n\r\n    `[node]\r\n    override-max-sessions = true\r\n    max-sessions = 15\r\n    selenium-manager = true\r\n    detect-drivers = false\r\n    enable-managed-downloads = true\r\n    grid-url = &quot;yourIp&quot;\r\n    session-timeout = 1800\r\n    [[node.driver-configuration]]\r\n    max-sessions = 15\r\n    display-name = &quot;Chrome&quot;\r\n    stereotype = &#39;{&quot;browserName&quot;: &quot;chrome&quot;, &quot;platformName&quot;: &quot;WIN10&quot;, \r\n    &quot;networkname:applicationName&quot;:&quot;nodex&quot;, \r\n    &quot;nodename:applicationName&quot;:&quot;appx&quot;}&#39;`\r\n\r\n\r\nIn your code - \r\n\r\n    public static void main (String[] args) throws MalformedURLException {\r\n    FirefoxOptions options = new FirefoxOptions();\r\n    options.setCapability(&quot;networkname:applicationName&quot;, &quot;nodex&quot;);\r\n    options.setCapability(&quot;nodename:applicationName&quot;, &quot;appx&quot;);\r\n    options.setBrowserVersion(&quot;96&quot;);\r\n    options.setPlatformName(&quot;macOS&quot;);\r\n    WebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444&quot;), options);\r\n    driver.get(&quot;python.org&quot;);\r\n    driver.quit();\r\n  }\r\n","title":"By using Selenium grid 4 running the Script on Specific Node","body":"<p>Posting If you haven't found the answer yet -</p>\n<ol>\n<li><p>Set custom capabilities <code>&quot;networkname:applicationName&quot;:&quot;nodex&quot;, &quot;nodename:applicationName&quot;:&quot;appx&quot;</code> in your node.driver-configuration in grid config toml file</p>\n<p><code>[node] override-max-sessions = true max-sessions = 15 selenium-manager = true detect-drivers = false enable-managed-downloads = true grid-url = &quot;yourIp&quot; session-timeout = 1800 [[node.driver-configuration]] max-sessions = 15 display-name = &quot;Chrome&quot; stereotype = '{&quot;browserName&quot;: &quot;chrome&quot;, &quot;platformName&quot;: &quot;WIN10&quot;,  &quot;networkname:applicationName&quot;:&quot;nodex&quot;,  &quot;nodename:applicationName&quot;:&quot;appx&quot;}'</code></p>\n</li>\n</ol>\n<p>In your code -</p>\n<pre><code>public static void main (String[] args) throws MalformedURLException {\nFirefoxOptions options = new FirefoxOptions();\noptions.setCapability(&quot;networkname:applicationName&quot;, &quot;nodex&quot;);\noptions.setCapability(&quot;nodename:applicationName&quot;, &quot;appx&quot;);\noptions.setBrowserVersion(&quot;96&quot;);\noptions.setPlatformName(&quot;macOS&quot;);\nWebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444&quot;), options);\ndriver.get(&quot;python.org&quot;);\ndriver.quit();\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":23124076,"reputation":21,"user_id":17230168,"display_name":"340- Surwade Ajay Mukund"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683616590,"creation_date":1667325551,"question_id":74279980,"body_markdown":"\r\n\r\nI&#39;m new to Selenium Grid 4 and trying to setting up the grid with Node &amp; Hub Mode and run the test.For example, Below is my setup:\r\n\r\nHub: windows\r\nNode A: windows chrome_v103 ip:192.168.1.1\r\nNode B: windows chrome_v103 ip:192.168.1.2\r\nIf I run a test case, sometimes it run on Node A, sometimes on Node B;How can I run a test in specific node, For example in node A, Not Node B\r\n\r\nrunning node by specifying node name if its have the same browser","title":"By using Selenium grid 4 running the Script on Specific Node","body":"<p>I'm new to Selenium Grid 4 and trying to setting up the grid with Node &amp; Hub Mode and run the test.For example, Below is my setup:</p>\n<p>Hub: windows\nNode A: windows chrome_v103 ip:192.168.1.1\nNode B: windows chrome_v103 ip:192.168.1.2\nIf I run a test case, sometimes it run on Node A, sometimes on Node B;How can I run a test in specific node, For example in node A, Not Node B</p>\n<p>running node by specifying node name if its have the same browser</p>\n"},{"tags":["java","spring","transactions"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1683545336,"post_id":76200126,"comment_id":134378080,"body_markdown":"have you tried implementing it like this?","body":"have you tried implementing it like this?"},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":1,"creation_date":1683546231,"post_id":76200126,"comment_id":134378309,"body_markdown":"Yes, that works perfectly fine.  When bean B calls a method of bean A (which is wrapped in the transactional proxy) you pass the proxy boundary and it will start and commit/rollback a transaction. You might want to read up on proxies when starting with Spring as most of the &#39;magic&#39; is merely proxy stuff.","body":"Yes, that works perfectly fine.  When bean B calls a method of bean A (which is wrapped in the transactional proxy) you pass the proxy boundary and it will start and commit/rollback a transaction. You might want to read up on proxies when starting with Spring as most of the &#39;magic&#39; is merely proxy stuff."}],"answers":[{"tags":[],"owner":{"account_id":12800386,"reputation":26,"user_id":9261899,"display_name":"user9261899"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683615917,"creation_date":1683615917,"answer_id":76206665,"question_id":76200126,"body_markdown":"1. Yes its possible, you can have two @Transactional methods in a single class and they work as you expect. However it is important to notice that your doSomeStuff() is not transactional even though it invokes two transactional methods because even if the actionB() fails it has no impact on actionA() because the transaction is already committed.\r\n2. It has nothing to do with transactional methods.","title":"Spring: Can single class have multiple @Transactional method","body":"<ol>\n<li>Yes its possible, you can have two @Transactional methods in a single class and they work as you expect. However it is important to notice that your doSomeStuff() is not transactional even though it invokes two transactional methods because even if the actionB() fails it has no impact on actionA() because the transaction is already committed.</li>\n<li>It has nothing to do with transactional methods.</li>\n</ol>\n"}],"owner":{"account_id":22145072,"reputation":78,"user_id":16394491,"display_name":"Drake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76206665,"answer_count":1,"score":0,"last_activity_date":1683615917,"creation_date":1683545027,"question_id":76200126,"body_markdown":"I have a two simple questions:\r\n\r\n1. Is there a functionality to have more than one @Transactional method in single bean? If I use them in another bean and execute them one by one, will they work in proper way?\r\n\r\n```\r\n\r\nclass A {\r\n @Transactional\r\n public void actionA() {}\r\n\r\n @Trancational\r\n public void actionB() {}\r\n}\r\n\r\nclass B {\r\n\r\n private A a;\r\n\r\n void doSomeStuff() {\r\n   a.actionA();\r\n   a.actionB();\r\n }\r\n}\r\n```\r\n\r\n2. Does bean class has to be public if contains @Transactional? I know that methods must be public but whole class too?\r\n\r\nSorry, if another thread exists, but I could not find","title":"Spring: Can single class have multiple @Transactional method","body":"<p>I have a two simple questions:</p>\n<ol>\n<li>Is there a functionality to have more than one @Transactional method in single bean? If I use them in another bean and execute them one by one, will they work in proper way?</li>\n</ol>\n<pre><code>\nclass A {\n @Transactional\n public void actionA() {}\n\n @Trancational\n public void actionB() {}\n}\n\nclass B {\n\n private A a;\n\n void doSomeStuff() {\n   a.actionA();\n   a.actionB();\n }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Does bean class has to be public if contains @Transactional? I know that methods must be public but whole class too?</li>\n</ol>\n<p>Sorry, if another thread exists, but I could not find</p>\n"},{"tags":["java","spring-security","spring-graphql"],"owner":{"account_id":25748579,"reputation":45,"user_id":19501464,"display_name":"Sebastian L&#252;tge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683615871,"creation_date":1683554973,"question_id":76201401,"body_markdown":"I have a Vaadin view that shows `News` entries:\r\n\r\n```\r\n@RequiredArgsConstructor\r\npublic class NewsView extends VerticalLayout\r\n    private final NewsService service;\r\n\r\n    protected void onAttach(final AttachEvent attachEvent) {\r\n        if (attachEvent.isInitialAttach()) {\r\n            service.getNews().subscribe(result -&gt; addNewsEntries(attachEvent.getUI(), result));\r\n        }\r\n    }\r\n\r\n    private void addNewsEntries(final UI ui, final List&lt;News&gt; result) {\r\n        // This takes the DTOs, creates Vaadin components for each and adds them to the page.\r\n        ui.access(() -&gt; result.stream().map(NewsEntry::new).forEach(this::add));\r\n    }\r\n}\r\n```\r\nThe service is quite simple, it defines the GraphQL query and sends it on to the `GraphQlService`:\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class NewsService {\r\n    private final GraphQlService graphQlService;\r\n\r\n    public Mono&lt;List&lt;News&gt;&gt; getNews() {\r\n        final String query = &quot;&quot;&quot;\r\n            query NewsQuery {\r\n                publishedNews {\r\n                    id\r\n                    author\r\n                    publishingDate\r\n                    children {\r\n                        language\r\n                        text\r\n                    }\r\n                }\r\n            }&quot;&quot;&quot;;\r\n\r\n        return graphQlService.queryList(query, Map.of(), &quot;publishedNews&quot;, News.class);\r\n    }\r\n}\r\n```\r\nWhich in turn uses a Spring `HttpGraphQlClient` to send the actual POST request:\r\n\r\n```\r\n@Service\r\npublic class GraphQlService {\r\n    private final HttpGraphQlClient client;\r\n\r\n    public GraphQlService(final WebClient.Builder webClientBuilder, final ClientRegistrationRepository clientRegistrationRepository,\r\n        final OAuth2AuthorizedClientRepository authorizedClientRepository, final @Value(&quot;${baseUrl}&quot;) String baseUrl) {\r\n        final var oauth2Client = new ServletOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrationRepository,\r\nauthorizedClientRepository);\r\n        webClientBuilder.apply(oauth2Client.oauth2Configuration())\r\n            .defaultRequest(request -&gt; request.attributes(clientRegistrationId(&quot;custom&quot;)));\r\n        client = HttpGraphQlClient.builder(webClientBuilder.build()).url(baseUrl).build();\r\n    }\r\n\r\n    @NotNull\r\n    public &lt;T&gt; Mono&lt;List&lt;T&gt;&gt; queryList(final String query, final Map&lt;String, Object&gt; arguments, final String jsonPath, final Class&lt;T&gt; typeRef) {\r\n        return client.document(query).variables(arguments).retrieve(jsonPath).toEntityList(typeRef);\r\n    }\r\n}\r\n```\r\nUsers are authenticated via Spring Web Security and our Spring OAuth2 Authentication Server. This creates a `SecurityContext`, which is used to handle view access. The backend GraphQL service is implemented as a resource server and uses the granted access token for authentication. This works well, even requesting new access tokens works out of the box.\r\nThe problem starts, when the refresh token expires. In that case, the default error handler removes the stored authentication from the `OAuth2AuthorizedClientRepository`, causing an `OAuth2AuthorizationException`, which gets wrapped in a `GraphQlTransportException`. Any subsequent request will cause a `ClientAuthorizationRequiredException` (again wrapped in a `GraphQlTransportException`). But the Spring `SecurityContext` handling the normal application security is NOT cleared. So views remain accessible, but no data can be loaded. To fix this issue a user has to log out and back in again, getting a new refresh token.\r\n\r\nI tried a custom `RemoveAuthorizedClientOAuth2AuthorizationFailureHandler` which manually cleared the `SecurityContext`, but this did not help. I also tried manually unwrapping the exception, but the `OAuth2AuthorizationRequestRedirectFilter` still did not pick up on it (and the default implementation should already check the base cause anyway...).\r\n\r\nIdeally, the user would be automatically logged out once their refresh token expires. This forces them to login again, netting them a new refresh token.","title":"How to handle expired refresh tokens during GraphQL request","body":"<p>I have a Vaadin view that shows <code>News</code> entries:</p>\n<pre><code>@RequiredArgsConstructor\npublic class NewsView extends VerticalLayout\n    private final NewsService service;\n\n    protected void onAttach(final AttachEvent attachEvent) {\n        if (attachEvent.isInitialAttach()) {\n            service.getNews().subscribe(result -&gt; addNewsEntries(attachEvent.getUI(), result));\n        }\n    }\n\n    private void addNewsEntries(final UI ui, final List&lt;News&gt; result) {\n        // This takes the DTOs, creates Vaadin components for each and adds them to the page.\n        ui.access(() -&gt; result.stream().map(NewsEntry::new).forEach(this::add));\n    }\n}\n</code></pre>\n<p>The service is quite simple, it defines the GraphQL query and sends it on to the <code>GraphQlService</code>:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class NewsService {\n    private final GraphQlService graphQlService;\n\n    public Mono&lt;List&lt;News&gt;&gt; getNews() {\n        final String query = &quot;&quot;&quot;\n            query NewsQuery {\n                publishedNews {\n                    id\n                    author\n                    publishingDate\n                    children {\n                        language\n                        text\n                    }\n                }\n            }&quot;&quot;&quot;;\n\n        return graphQlService.queryList(query, Map.of(), &quot;publishedNews&quot;, News.class);\n    }\n}\n</code></pre>\n<p>Which in turn uses a Spring <code>HttpGraphQlClient</code> to send the actual POST request:</p>\n<pre><code>@Service\npublic class GraphQlService {\n    private final HttpGraphQlClient client;\n\n    public GraphQlService(final WebClient.Builder webClientBuilder, final ClientRegistrationRepository clientRegistrationRepository,\n        final OAuth2AuthorizedClientRepository authorizedClientRepository, final @Value(&quot;${baseUrl}&quot;) String baseUrl) {\n        final var oauth2Client = new ServletOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrationRepository,\nauthorizedClientRepository);\n        webClientBuilder.apply(oauth2Client.oauth2Configuration())\n            .defaultRequest(request -&gt; request.attributes(clientRegistrationId(&quot;custom&quot;)));\n        client = HttpGraphQlClient.builder(webClientBuilder.build()).url(baseUrl).build();\n    }\n\n    @NotNull\n    public &lt;T&gt; Mono&lt;List&lt;T&gt;&gt; queryList(final String query, final Map&lt;String, Object&gt; arguments, final String jsonPath, final Class&lt;T&gt; typeRef) {\n        return client.document(query).variables(arguments).retrieve(jsonPath).toEntityList(typeRef);\n    }\n}\n</code></pre>\n<p>Users are authenticated via Spring Web Security and our Spring OAuth2 Authentication Server. This creates a <code>SecurityContext</code>, which is used to handle view access. The backend GraphQL service is implemented as a resource server and uses the granted access token for authentication. This works well, even requesting new access tokens works out of the box.\nThe problem starts, when the refresh token expires. In that case, the default error handler removes the stored authentication from the <code>OAuth2AuthorizedClientRepository</code>, causing an <code>OAuth2AuthorizationException</code>, which gets wrapped in a <code>GraphQlTransportException</code>. Any subsequent request will cause a <code>ClientAuthorizationRequiredException</code> (again wrapped in a <code>GraphQlTransportException</code>). But the Spring <code>SecurityContext</code> handling the normal application security is NOT cleared. So views remain accessible, but no data can be loaded. To fix this issue a user has to log out and back in again, getting a new refresh token.</p>\n<p>I tried a custom <code>RemoveAuthorizedClientOAuth2AuthorizationFailureHandler</code> which manually cleared the <code>SecurityContext</code>, but this did not help. I also tried manually unwrapping the exception, but the <code>OAuth2AuthorizationRequestRedirectFilter</code> still did not pick up on it (and the default implementation should already check the base cause anyway...).</p>\n<p>Ideally, the user would be automatically logged out once their refresh token expires. This forces them to login again, netting them a new refresh token.</p>\n"},{"tags":["java","android","mobile","mobile-development"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1683211817,"post_id":76174448,"comment_id":134334942,"body_markdown":"You have two problems. One for assets resource for which you dont need any permission. And one for file storage. Please dont mix them. Make two posts. One for each. For both post the code too.","body":"You have two problems. One for assets resource for which you dont need any permission. And one for file storage. Please dont mix them. Make two posts. One for each. For both post the code too."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1683211956,"post_id":76174448,"comment_id":134334966,"body_markdown":"And there is no such thing as getFileExternalStorage().","body":"And there is no such thing as getFileExternalStorage()."}],"owner":{"account_id":24198507,"reputation":23,"user_id":18156649,"display_name":"amine ech"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683615781,"creation_date":1683211347,"question_id":76174448,"body_markdown":"I can not acces excel (.xlsx) file neither from assets folder via AssetManager nor Internal storage via getFileExternalStorage() method, it display a permissions issue\r\n\r\nBut without success, Any help would be appreciated ! \r\n\r\nI added the 2 lines:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nI tried even adding methods to ask for permissions at Run Time because I use more than 23 in API version","title":"I can not acces excel (.xlsx) file neither from assets folder via AssetManager nor Internal storage via getFileExternalStorage() method","body":"<p>I can not acces excel (.xlsx) file neither from assets folder via AssetManager nor Internal storage via getFileExternalStorage() method, it display a permissions issue</p>\n<p>But without success, Any help would be appreciated !</p>\n<p>I added the 2 lines:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>I tried even adding methods to ask for permissions at Run Time because I use more than 23 in API version</p>\n"},{"tags":["java","android"],"owner":{"account_id":28542232,"reputation":1,"user_id":21848144,"display_name":"Praveen "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683615759,"creation_date":1683520712,"question_id":76197543,"body_markdown":"upto android 12 bluetooth headset profile connected state is working. when in android 13 its not detecting in connected state once i disconnect and connected it shows bluetooth state but in already connected bluetooth in mobile is not getting bluetooth state.\r\n\r\nbelow code working perfectely upto android 12 but not working for 13. below code works only when bluetooth headphone once connected but not detecting already connected devices.\r\n\r\n```\r\npublic class HeadsetStateBroadcastReceiver extends BroadcastReceiver  {\r\n\r\n    public static final String[] HEADPHONE_ACTIONS = {\r\n            Intent.ACTION_HEADSET_PLUG,\r\n            &quot;android.bluetooth.headset.action.STATE_CHANGED&quot;,\r\n            &quot;android.bluetooth.headset.profile.action.CONNECTION_STATE_CHANGED&quot;\r\n    };\r\n    private boolean isaudiostatechanged = false;\r\n    private Headphone_Connection headphoneConnection;\r\n    private static final int STATE_CONNECTED = 0x00000002;\r\n    private static final int STATE_DISCONNECTED = 0x00000000;\r\n\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        AudioManager audioManager = (AudioManager) context.getSystemService(Context.AUDIO_SERVICE);\r\n        String action = intent.getAction(); \r\n\r\n\r\n        // Wired headset monitoring\r\n\r\n        if (action.equals(HEADPHONE_ACTIONS[0])) {\r\n            int state = intent.getIntExtra(&quot;state&quot;, -1);\r\n\r\n            if (state == 1) {\r\n\r\n                int microphone = intent.getIntExtra(&quot;microphone&quot;, -1);\r\n                if (microphone == 1) {\r\n                    headphoneConnection.onSuccess(true);\r\n                    // Wired headset with microphone is connected\r\n                } else {\r\n                    headphoneConnection.onSuccess(true);\r\n                    // Wired headset without microphone is connected\r\n                }\r\n            } else if (audioManager.isBluetoothA2dpOn() || audioManager.isBluetoothScoOn()) {\r\n                // Bluetooth headset is connected\r\n                Log.d(&quot;Headset&quot;, &quot;Bluetooth headset is connected&quot;);\r\n                headphoneConnection.onSuccess(true);\r\n            } else {\r\n                headphoneConnection.onSuccess(false);\r\n                // Headset is disconnected\r\n            }\r\n\r\n        } else if (action.equals(HEADPHONE_ACTIONS[1])) {\r\n            int state = intent.getIntExtra(&quot;android.bluetooth.headset.extra.STATE&quot;, 0);\r\n            if (state == STATE_CONNECTED) {\r\n                headphoneConnection.onSuccess(true);\r\n            } else if (state == STATE_DISCONNECTED) {\r\n                headphoneConnection.onSuccess(false);\r\n            }\r\n        } else if (intent.getAction().equals(HEADPHONE_ACTIONS[2])) {\r\n            int state = intent.getIntExtra(&quot;android.bluetooth.profile.extra.STATE&quot;, 0);\r\n            if (state == STATE_CONNECTED) {\r\n                headphoneConnection.onSuccess(true);\r\n            } else if (state == STATE_DISCONNECTED) {\r\n                headphoneConnection.onSuccess(false);\r\n            }\r\n        }\r\n\r\n        if (audioManager.isWiredHeadsetOn()) {\r\n            // A wired headset is connected\r\n            Log.d(&quot;Headset&quot;, &quot;Wired headset is connected&quot;);\r\n            headphoneConnection.onSuccess(true);\r\n        } else if (audioManager.isBluetoothA2dpOn() || audioManager.isBluetoothScoOn()) {\r\n            // Bluetooth headset is connected\r\n            Log.d(&quot;Headset&quot;, &quot;Bluetooth headset is connected&quot;);\r\n            headphoneConnection.onSuccess(true);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public void setHeadphoneConnection(Headphone_Connection headphoneConnection) {\r\n        this.headphoneConnection = headphoneConnection;\r\n    }\r\n\r\n\r\n}\r\n```","title":"detect bluetooth profile of connected state in androd 13","body":"<p>upto android 12 bluetooth headset profile connected state is working. when in android 13 its not detecting in connected state once i disconnect and connected it shows bluetooth state but in already connected bluetooth in mobile is not getting bluetooth state.</p>\n<p>below code working perfectely upto android 12 but not working for 13. below code works only when bluetooth headphone once connected but not detecting already connected devices.</p>\n<pre><code>public class HeadsetStateBroadcastReceiver extends BroadcastReceiver  {\n\n    public static final String[] HEADPHONE_ACTIONS = {\n            Intent.ACTION_HEADSET_PLUG,\n            &quot;android.bluetooth.headset.action.STATE_CHANGED&quot;,\n            &quot;android.bluetooth.headset.profile.action.CONNECTION_STATE_CHANGED&quot;\n    };\n    private boolean isaudiostatechanged = false;\n    private Headphone_Connection headphoneConnection;\n    private static final int STATE_CONNECTED = 0x00000002;\n    private static final int STATE_DISCONNECTED = 0x00000000;\n\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        AudioManager audioManager = (AudioManager) context.getSystemService(Context.AUDIO_SERVICE);\n        String action = intent.getAction(); \n\n\n        // Wired headset monitoring\n\n        if (action.equals(HEADPHONE_ACTIONS[0])) {\n            int state = intent.getIntExtra(&quot;state&quot;, -1);\n\n            if (state == 1) {\n\n                int microphone = intent.getIntExtra(&quot;microphone&quot;, -1);\n                if (microphone == 1) {\n                    headphoneConnection.onSuccess(true);\n                    // Wired headset with microphone is connected\n                } else {\n                    headphoneConnection.onSuccess(true);\n                    // Wired headset without microphone is connected\n                }\n            } else if (audioManager.isBluetoothA2dpOn() || audioManager.isBluetoothScoOn()) {\n                // Bluetooth headset is connected\n                Log.d(&quot;Headset&quot;, &quot;Bluetooth headset is connected&quot;);\n                headphoneConnection.onSuccess(true);\n            } else {\n                headphoneConnection.onSuccess(false);\n                // Headset is disconnected\n            }\n\n        } else if (action.equals(HEADPHONE_ACTIONS[1])) {\n            int state = intent.getIntExtra(&quot;android.bluetooth.headset.extra.STATE&quot;, 0);\n            if (state == STATE_CONNECTED) {\n                headphoneConnection.onSuccess(true);\n            } else if (state == STATE_DISCONNECTED) {\n                headphoneConnection.onSuccess(false);\n            }\n        } else if (intent.getAction().equals(HEADPHONE_ACTIONS[2])) {\n            int state = intent.getIntExtra(&quot;android.bluetooth.profile.extra.STATE&quot;, 0);\n            if (state == STATE_CONNECTED) {\n                headphoneConnection.onSuccess(true);\n            } else if (state == STATE_DISCONNECTED) {\n                headphoneConnection.onSuccess(false);\n            }\n        }\n\n        if (audioManager.isWiredHeadsetOn()) {\n            // A wired headset is connected\n            Log.d(&quot;Headset&quot;, &quot;Wired headset is connected&quot;);\n            headphoneConnection.onSuccess(true);\n        } else if (audioManager.isBluetoothA2dpOn() || audioManager.isBluetoothScoOn()) {\n            // Bluetooth headset is connected\n            Log.d(&quot;Headset&quot;, &quot;Bluetooth headset is connected&quot;);\n            headphoneConnection.onSuccess(true);\n        }\n\n\n    }\n\n    public void setHeadphoneConnection(Headphone_Connection headphoneConnection) {\n        this.headphoneConnection = headphoneConnection;\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","jco"],"answers":[{"tags":[],"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1273149387,"creation_date":1273149387,"answer_id":2781097,"question_id":2780439,"body_markdown":"Instead of getting all fields of the table record and checking them against fields present in displayFields, you could take only the fields of the record that are in displayFields. \r\nThe following code suppose that displayFields is a List of String\r\n\r\n    for (int i = 0; i &lt; ouputTable.getNumRows(); i++) {\r\n       outputTable.setRow(i);\r\n       Iterator it = displayField.iterator();\r\n       // get fields of current record\r\n       while(it.hasNext()){\r\n          String fieldName = (String)it.next();\r\n          String value = outputTable.getString(fieldName);\r\n          // do what you need to do with the field and value\r\n       }\r\n    }\r\n\r\nhope this helps,   \r\nRegards,   \r\nGuillaume","title":"JCo | How to iterate column wise","body":"<p>Instead of getting all fields of the table record and checking them against fields present in displayFields, you could take only the fields of the record that are in displayFields. \nThe following code suppose that displayFields is a List of String</p>\n\n<pre><code>for (int i = 0; i &lt; ouputTable.getNumRows(); i++) {\n   outputTable.setRow(i);\n   Iterator it = displayField.iterator();\n   // get fields of current record\n   while(it.hasNext()){\n      String fieldName = (String)it.next();\n      String value = outputTable.getString(fieldName);\n      // do what you need to do with the field and value\n   }\n}\n</code></pre>\n\n<p>hope this helps,<br>\nRegards,<br>\nGuillaume</p>\n"}],"owner":{"account_id":52759,"reputation":21589,"user_id":157705,"accept_rate":74,"display_name":"jai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4717,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":2781097,"answer_count":1,"score":1,"last_activity_date":1683615517,"creation_date":1273142856,"question_id":2780439,"body_markdown":"The data from SAP is returned as a `JCo.Table`. \r\nHowever, we don&#39;t want to display ALL the columns in the VIEW.\r\nSo, what we have done is, we have created a file called `display.xml` which has the `JCO.Table` columns to be displayed.\r\n\r\nThe `display.xml` is converted to a `List&lt;DisplayFieldDto&gt;` and **each field** is verified if it is present in the display list (see the code below) which is redundant from second row onwards, as shown in the code below.\r\n\r\nWhat is the better way to filter the fields in JCo?\r\nCan I iterate column wise?\r\nThank you :)\r\n\r\n    final Table outputTable = jcoFunction.getTableParameterList().\r\n                        getTable(&quot;OUTPUT_TABLE&quot;);\r\n        final int numRows = outputTable.getNumRows();\r\n        for (int i = 0; i &lt; numRows; i++) {\t\t\t\r\n            final FieldIterator fields = outputTable.fields();\r\n            while (fields.hasNextFields()) {\r\n               final JCO.Field recordField = fields.nextField();\r\n               final String sapFieldName = recordField.getName();\r\n               final DisplayFieldDto key = new DisplayFieldDto(sapFieldName);\r\n               if (displayFields.contains(key)) {\r\n            \t   System.out.println(&quot;recordField.getName() = &quot; \r\n                              + recordField.getName());\r\n                   final String sapFieldName = (String)recordField.getValue();\t\t\r\n               } else {\r\n            \t// ignore the field.\r\n               }\r\n             }\r\n        }\r\n","title":"JCo | How to iterate column wise","body":"<p>The data from SAP is returned as a <code>JCo.Table</code>.\nHowever, we don't want to display ALL the columns in the VIEW.\nSo, what we have done is, we have created a file called <code>display.xml</code> which has the <code>JCO.Table</code> columns to be displayed.</p>\n<p>The <code>display.xml</code> is converted to a <code>List&lt;DisplayFieldDto&gt;</code> and <strong>each field</strong> is verified if it is present in the display list (see the code below) which is redundant from second row onwards, as shown in the code below.</p>\n<p>What is the better way to filter the fields in JCo?\nCan I iterate column wise?\nThank you :)</p>\n<pre><code>final Table outputTable = jcoFunction.getTableParameterList().\n                    getTable(&quot;OUTPUT_TABLE&quot;);\n    final int numRows = outputTable.getNumRows();\n    for (int i = 0; i &lt; numRows; i++) {         \n        final FieldIterator fields = outputTable.fields();\n        while (fields.hasNextFields()) {\n           final JCO.Field recordField = fields.nextField();\n           final String sapFieldName = recordField.getName();\n           final DisplayFieldDto key = new DisplayFieldDto(sapFieldName);\n           if (displayFields.contains(key)) {\n               System.out.println(&quot;recordField.getName() = &quot; \n                          + recordField.getName());\n               final String sapFieldName = (String)recordField.getValue();      \n           } else {\n            // ignore the field.\n           }\n         }\n    }\n</code></pre>\n"},{"tags":["java","properties","connection","jco"],"answers":[{"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1282929355,"creation_date":1282241514,"answer_id":3524861,"question_id":3521272,"body_markdown":"Yes, that&#39;s possible. You have to create your own implementation of DestinationDataProvider and register it using Environment.registerDestinationDataProvider(). However your DDP obtains the connection data and credentials is up to you. Take a look at [net.sf.rcer.conn.connections.ConnectionManager][1], there&#39;s a working example in there.\r\n\r\nYou need to\r\n\r\n - copy the private class starting on line 66 and adapt it to your own needs (that is, fetch the connection data from wherever you want to)\r\n - perform the registration (line 204) somewhere during the startup of your application\r\n - get the connection using some string identifier that will be passed to your DestinationDataProvider.\r\n\r\n  [1]: http://rcer.svn.sourceforge.net/viewvc/rcer/trunk/net.sf.rcer.conn/src/net/sf/rcer/conn/connections/ConnectionManager.java?revision=321&amp;view=markup","title":"Building JCoServer without Properties-File","body":"<p>Yes, that's possible. You have to create your own implementation of DestinationDataProvider and register it using Environment.registerDestinationDataProvider(). However your DDP obtains the connection data and credentials is up to you. Take a look at <a href=\"http://rcer.svn.sourceforge.net/viewvc/rcer/trunk/net.sf.rcer.conn/src/net/sf/rcer/conn/connections/ConnectionManager.java?revision=321&amp;view=markup\" rel=\"nofollow noreferrer\">net.sf.rcer.conn.connections.ConnectionManager</a>, there's a working example in there.</p>\n\n<p>You need to</p>\n\n<ul>\n<li>copy the private class starting on line 66 and adapt it to your own needs (that is, fetch the connection data from wherever you want to)</li>\n<li>perform the registration (line 204) somewhere during the startup of your application</li>\n<li>get the connection using some string identifier that will be passed to your DestinationDataProvider.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":82096,"reputation":306,"user_id":231100,"display_name":"franblay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285155235,"creation_date":1285155235,"answer_id":3768774,"question_id":3521272,"body_markdown":"It&#39;s a bit confusing, it was dificult to me how to figure this too.\r\n\r\nAll you need is an object of type java.util.Properties to fill the desired fields, but it&#39;s up to ou how to fill this object.\r\n\r\nI dit it through a ValueObject, I can fill this VO from a file, database, web form...\r\n\r\n        JCOProvider jcoProvider = null;\r\n        SAPVO sap = new SAPVO(); // Value Object\r\n        Properties properties = new Properties();\r\n    \r\n        if(jcoProvider == null) {\r\n    \r\n    \r\n            // Get SAP config from DB\r\n            try {\r\n                sap = SAPDAO.getSAPConfig(); // DAO object that gets conn data from DB\r\n            } catch (Exception ex) {\r\n                throw new ConexionSAPException(ex.getMessage());\r\n            }\r\n    \r\n             // Create new conn\r\n            jcoProvider = new JCOProvider();\r\n    \r\n        }\r\n    \r\n        properties.setProperty(DestinationDataProvider.JCO_ASHOST,        sap.getJCO_ASHOST());\r\n        properties.setProperty(DestinationDataProvider.JCO_SYSNR,         sap.getJCO_SYSNR());\r\n        properties.setProperty(DestinationDataProvider.JCO_CLIENT,        sap.getJCO_CLIENT());\r\n        properties.setProperty(DestinationDataProvider.JCO_USER,          sap.getJCO_USER());\r\n        properties.setProperty(DestinationDataProvider.JCO_PASSWD,        sap.getJCO_PASSWD());\r\n        properties.setProperty(DestinationDataProvider.JCO_LANG,          sap.getJCO_LANG());\r\n    //    properties.setProperty(DestinationDataProvider.JCO_TRACE,         &quot;10&quot;);\r\n    \r\n        try {\r\n    \r\n            jcoProvider.changePropertiesForABAP_AS(properties);\r\n    \r\n        } catch (Exception e) {\r\n    \r\n            throw new ConexionSAPException(e.getMessage());\r\n    \r\n        }\r\n\r\nThe JCOProvider class:\r\n\r\n    import com.sap.conn.jco.ext.DestinationDataEventListener;\r\n    import com.sap.conn.jco.ext.DestinationDataProvider;\r\n    import com.sap.conn.jco.ext.Environment;\r\n    import es.grupotec.ejb.util.ConexionSAPException;\r\n    import java.util.Properties;\r\n    \r\n    public class JCOProvider implements DestinationDataProvider {\r\n    \r\n        private String SAP_SERVER = &quot;SAPSERVER&quot;;\r\n        private DestinationDataEventListener eventListener;\r\n        private Properties ABAP_AS_properties;\r\n    \r\n        public JCOProvider() {\r\n        }\r\n        \r\n        @Override\r\n        public Properties getDestinationProperties(String name) {\r\n    \r\n            if (name.equals(SAP_SERVER) &amp;&amp; ABAP_AS_properties != null) {\r\n                return ABAP_AS_properties;\r\n            } else {\r\n                return null;\r\n            }\r\n    //        if(ABAP_AS_properties!=null) return ABAP_AS_properties;\r\n    //        else throw new RuntimeException(&quot;Destination &quot; + name + &quot; is not available&quot;);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public boolean supportsEvents() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public void setDestinationDataEventListener(DestinationDataEventListener eventListener) {\r\n            this.eventListener = eventListener;\r\n        }\r\n    \r\n        public void changePropertiesForABAP_AS(Properties properties) throws ConexionSAPException {\r\n    \r\n            try {\r\n    \r\n                if (!Environment.isDestinationDataProviderRegistered()) {\r\n    \r\n                    if (ABAP_AS_properties == null) {\r\n                        ABAP_AS_properties = properties;\r\n                    }\r\n                    Environment.registerDestinationDataProvider(this);\r\n    \r\n                }\r\n    \r\n                if (properties == null) {\r\n    \r\n                    if (eventListener != null) {\r\n                        eventListener.deleted(SAP_SERVER);\r\n                    }\r\n                    ABAP_AS_properties = null;\r\n    \r\n                } else {\r\n    \r\n                    ABAP_AS_properties = properties;\r\n                    if (eventListener != null) {\r\n                        eventListener.updated(SAP_SERVER);\r\n                    }\r\n    \r\n                }\r\n    \r\n            } catch (Exception ex) {\r\n    \r\n                throw new ConexionSAPException(ex.getMessage());\r\n    \r\n            }\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nRegards\r\n\r\n\r\n","title":"Building JCoServer without Properties-File","body":"<p>It's a bit confusing, it was dificult to me how to figure this too.</p>\n\n<p>All you need is an object of type java.util.Properties to fill the desired fields, but it's up to ou how to fill this object.</p>\n\n<p>I dit it through a ValueObject, I can fill this VO from a file, database, web form...</p>\n\n<pre><code>    JCOProvider jcoProvider = null;\n    SAPVO sap = new SAPVO(); // Value Object\n    Properties properties = new Properties();\n\n    if(jcoProvider == null) {\n\n\n        // Get SAP config from DB\n        try {\n            sap = SAPDAO.getSAPConfig(); // DAO object that gets conn data from DB\n        } catch (Exception ex) {\n            throw new ConexionSAPException(ex.getMessage());\n        }\n\n         // Create new conn\n        jcoProvider = new JCOProvider();\n\n    }\n\n    properties.setProperty(DestinationDataProvider.JCO_ASHOST,        sap.getJCO_ASHOST());\n    properties.setProperty(DestinationDataProvider.JCO_SYSNR,         sap.getJCO_SYSNR());\n    properties.setProperty(DestinationDataProvider.JCO_CLIENT,        sap.getJCO_CLIENT());\n    properties.setProperty(DestinationDataProvider.JCO_USER,          sap.getJCO_USER());\n    properties.setProperty(DestinationDataProvider.JCO_PASSWD,        sap.getJCO_PASSWD());\n    properties.setProperty(DestinationDataProvider.JCO_LANG,          sap.getJCO_LANG());\n//    properties.setProperty(DestinationDataProvider.JCO_TRACE,         \"10\");\n\n    try {\n\n        jcoProvider.changePropertiesForABAP_AS(properties);\n\n    } catch (Exception e) {\n\n        throw new ConexionSAPException(e.getMessage());\n\n    }\n</code></pre>\n\n<p>The JCOProvider class:</p>\n\n<pre><code>import com.sap.conn.jco.ext.DestinationDataEventListener;\nimport com.sap.conn.jco.ext.DestinationDataProvider;\nimport com.sap.conn.jco.ext.Environment;\nimport es.grupotec.ejb.util.ConexionSAPException;\nimport java.util.Properties;\n\npublic class JCOProvider implements DestinationDataProvider {\n\n    private String SAP_SERVER = \"SAPSERVER\";\n    private DestinationDataEventListener eventListener;\n    private Properties ABAP_AS_properties;\n\n    public JCOProvider() {\n    }\n\n    @Override\n    public Properties getDestinationProperties(String name) {\n\n        if (name.equals(SAP_SERVER) &amp;&amp; ABAP_AS_properties != null) {\n            return ABAP_AS_properties;\n        } else {\n            return null;\n        }\n//        if(ABAP_AS_properties!=null) return ABAP_AS_properties;\n//        else throw new RuntimeException(\"Destination \" + name + \" is not available\");\n\n    }\n\n    @Override\n    public boolean supportsEvents() {\n        return true;\n    }\n\n    @Override\n    public void setDestinationDataEventListener(DestinationDataEventListener eventListener) {\n        this.eventListener = eventListener;\n    }\n\n    public void changePropertiesForABAP_AS(Properties properties) throws ConexionSAPException {\n\n        try {\n\n            if (!Environment.isDestinationDataProviderRegistered()) {\n\n                if (ABAP_AS_properties == null) {\n                    ABAP_AS_properties = properties;\n                }\n                Environment.registerDestinationDataProvider(this);\n\n            }\n\n            if (properties == null) {\n\n                if (eventListener != null) {\n                    eventListener.deleted(SAP_SERVER);\n                }\n                ABAP_AS_properties = null;\n\n            } else {\n\n                ABAP_AS_properties = properties;\n                if (eventListener != null) {\n                    eventListener.updated(SAP_SERVER);\n                }\n\n            }\n\n        } catch (Exception ex) {\n\n            throw new ConexionSAPException(ex.getMessage());\n\n        }\n\n\n    }\n}\n</code></pre>\n\n<p>Regards</p>\n"}],"owner":{"account_id":146642,"reputation":87,"user_id":357206,"accept_rate":50,"display_name":"user357206"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4545,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":3524861,"answer_count":2,"score":1,"last_activity_date":1683615421,"creation_date":1282217418,"question_id":3521272,"body_markdown":"With JCo you can easily build up a connection like it is explained in the example sheets which came with the JCo library. Unfortunately, the only way building a connection is handled with a created property file. It wouldn&#180;t be that bad, if there wasn&#180;t any sensible data in it. But at least, the password for the SAP user stands in the file, so it is a lack of safety in this way of connection-handling. The manual of JCo says so, too :\r\n\r\n&gt; *For this example the destination configuration is stored in a file that is called by the program. In practice you should avoid this for security reasons.*\r\n\r\nbut couldn&#180;t find a working solution after all. There are a palmful threads about this theme, like this\r\n\r\nhttp://forums.sdn.sap.com/thread.jspa?messageID=7303957\r\n\r\nbut none of them are helpful. I really can&#180;t figure out a solution and neither find one. Actually I solved the security-problem with deleting the file after building the connection, but this is not a satisfying solution. There is to be a better way getting the parameter for the connection, especially when it stands in the manual, but I have no clue how.\r\n\r\nDid anybody already work with JCo 3.0 and know this problem?","title":"Building JCoServer without Properties-File","body":"<p>With JCo you can easily build up a connection like it is explained in the example sheets which came with the JCo library. Unfortunately, the only way building a connection is handled with a created property file. It wouldnt be that bad, if there wasnt any sensible data in it. But at least, the password for the SAP user stands in the file, so it is a lack of safety in this way of connection-handling. The manual of JCo says so, too :</p>\n<blockquote>\n<p><em>For this example the destination configuration is stored in a file that is called by the program. In practice you should avoid this for security reasons.</em></p>\n</blockquote>\n<p>but couldnt find a working solution after all. There are a palmful threads about this theme, like this</p>\n<p><a href=\"http://forums.sdn.sap.com/thread.jspa?messageID=7303957\" rel=\"nofollow noreferrer\">http://forums.sdn.sap.com/thread.jspa?messageID=7303957</a></p>\n<p>but none of them are helpful. I really cant figure out a solution and neither find one. Actually I solved the security-problem with deleting the file after building the connection, but this is not a satisfying solution. There is to be a better way getting the parameter for the connection, especially when it stands in the manual, but I have no clue how.</p>\n<p>Did anybody already work with JCo 3.0 and know this problem?</p>\n"},{"tags":["java","junit","mocking","jco"],"comments":[{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":1,"creation_date":1288896995,"post_id":4098799,"comment_id":4412629,"body_markdown":"Which JCo version? There are huge differences between 2 and 3!","body":"Which JCo version? There are huge differences between 2 and 3!"},{"owner":{"account_id":232512,"reputation":3644,"user_id":497398,"accept_rate":41,"display_name":"mfirry"},"score":0,"creation_date":1294907843,"post_id":4098799,"comment_id":5157166,"body_markdown":"we&#39;re using sap-jco version 3.0.0","body":"we&#39;re using sap-jco version 3.0.0"},{"owner":{"account_id":200488,"reputation":2393,"user_id":446368,"accept_rate":49,"display_name":"Mejmo"},"score":0,"creation_date":1413191436,"post_id":4098799,"comment_id":41335780,"body_markdown":"Have you resolved this?","body":"Have you resolved this?"}],"answers":[{"tags":[],"owner":{"account_id":229412,"reputation":45082,"user_id":492364,"accept_rate":82,"display_name":"thejh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1288888094,"creation_date":1288888094,"answer_id":4098861,"question_id":4098799,"body_markdown":"Why not this?\r\n\r\n    new JCO.ParameterList()","title":"SAP Java Connector (JCo) mocking/testing JCoFunction and/or JCoParameterList","body":"<p>Why not this?</p>\n\n<pre><code>new JCO.ParameterList()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":186851,"reputation":176,"user_id":424485,"accept_rate":100,"display_name":"Thiago Kronig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1317846545,"creation_date":1317846545,"answer_id":7667329,"question_id":4098799,"body_markdown":"&gt;The SAP Java Connector (SAP JCo) is a toolkit that allows a Java application to communicate with any SAP System.\r\n\r\nThese guys here tried to do the same, using the 3.0 version of the SAP JCo: \r\n[Can a JCo server simulate a SAP remote function?][1]\r\n\r\nMy experience from last week is that it is not possible to create a mock SAP server to act like a `JCoDestination`.\r\n\r\n  [1]: http://forums.sdn.sap.com/thread.jspa?threadID=1646972","title":"SAP Java Connector (JCo) mocking/testing JCoFunction and/or JCoParameterList","body":"<blockquote>\n  <p>The SAP Java Connector (SAP JCo) is a toolkit that allows a Java application to communicate with any SAP System.</p>\n</blockquote>\n\n<p>These guys here tried to do the same, using the 3.0 version of the SAP JCo: \n<a href=\"http://forums.sdn.sap.com/thread.jspa?threadID=1646972\" rel=\"nofollow\">Can a JCo server simulate a SAP remote function?</a></p>\n\n<p>My experience from last week is that it is not possible to create a mock SAP server to act like a <code>JCoDestination</code>.</p>\n"}],"owner":{"account_id":232512,"reputation":3644,"user_id":497398,"accept_rate":41,"display_name":"mfirry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2623,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1683615233,"creation_date":1288887736,"question_id":4098799,"body_markdown":"I need to test a module without actually calling our SAP provider via executing a &quot;real&quot; `JCoFunction`.\r\n\r\nHow do I instantiate a &quot;formally correct&quot; `JCoFunction`?\r\n\r\nI can even just deal with a `JCoParameterList` but just can&#39;t figure out how to instantiate it or even mock it.","title":"SAP Java Connector (JCo) mocking/testing JCoFunction and/or JCoParameterList","body":"<p>I need to test a module without actually calling our SAP provider via executing a &quot;real&quot; <code>JCoFunction</code>.</p>\n<p>How do I instantiate a &quot;formally correct&quot; <code>JCoFunction</code>?</p>\n<p>I can even just deal with a <code>JCoParameterList</code> but just can't figure out how to instantiate it or even mock it.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":3809217,"reputation":317,"user_id":3160696,"display_name":"Gustavo Gomes"},"score":0,"creation_date":1521125563,"post_id":49302552,"comment_id":85607043,"body_markdown":"What do you mean it started to work with Kotlin? It has Kotlin files or are you able to create Kotlin files? If it is the latter then you&#39;re all good, you just need to create Java classes (Kotlin is 100% inter-operable so you can still do it in Java).","body":"What do you mean it started to work with Kotlin? It has Kotlin files or are you able to create Kotlin files? If it is the latter then you&#39;re all good, you just need to create Java classes (Kotlin is 100% inter-operable so you can still do it in Java)."},{"owner":{"account_id":5641500,"reputation":86662,"user_id":4465208,"accept_rate":86,"display_name":"zsmb13"},"score":1,"creation_date":1521125580,"post_id":49302552,"comment_id":85607058,"body_markdown":"You can still use Java for your projects. Just pay attention when creating them to not check &quot;Include Kotlin support&quot;. Then the generated default files will be in Java.","body":"You can still use Java for your projects. Just pay attention when creating them to not check &quot;Include Kotlin support&quot;. Then the generated default files will be in Java."},{"owner":{"account_id":12793539,"reputation":215,"user_id":9257308,"display_name":"Alia Al-Nighaoui"},"score":0,"creation_date":1521192126,"post_id":49302552,"comment_id":85635283,"body_markdown":"when I try to create a simple method like public void onclick (View view), it shows errors , but when I write  &#39; fun&#39; it works. even when I want to declare something in java code it shows error but when used Kotlin declaration it worked","body":"when I try to create a simple method like public void onclick (View view), it shows errors , but when I write  &#39; fun&#39; it works. even when I want to declare something in java code it shows error but when used Kotlin declaration it worked"}],"answers":[{"tags":[],"owner":{"account_id":11878042,"reputation":564,"user_id":8692550,"display_name":"Aleksandar Mironov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1521126305,"creation_date":1521126305,"answer_id":49302910,"question_id":49302552,"body_markdown":"If I understand your problem correctly, when you create new project you have to uncheck &quot;Include Kotlin support&quot; checkbox at the bottom of &quot;Create new project&quot; window.\r\nAnd remember that you can create java classes in Kotlin project.","title":"make Android Studio Work with Java and not Kotlin?","body":"<p>If I understand your problem correctly, when you create new project you have to uncheck \"Include Kotlin support\" checkbox at the bottom of \"Create new project\" window.\nAnd remember that you can create java classes in Kotlin project.</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521135058,"creation_date":1521135058,"answer_id":49305775,"question_id":49302552,"body_markdown":"If you would like disable Kotlin in your project you should delete `MainActivity.kt` and remove next lines \r\n\r\nbuild.gradle(Project)\r\n\r\n    //classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:&lt;kotlin_version&gt;&quot;\r\n\r\nbuild.gradle(App)\r\n\r\n    //apply plugin: &#39;kotlin-android&#39;\r\n    //apply plugin: &#39;kotlin-android-extensions&#39;\r\n\r\n\r\n    dependencies {\r\n        ...\r\n        //implementation&quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:&lt;kotlin_version&gt;&quot;\r\n    }","title":"make Android Studio Work with Java and not Kotlin?","body":"<p>If you would like disable Kotlin in your project you should delete <code>MainActivity.kt</code> and remove next lines </p>\n\n<p>build.gradle(Project)</p>\n\n<pre><code>//classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:&lt;kotlin_version&gt;\"\n</code></pre>\n\n<p>build.gradle(App)</p>\n\n<pre><code>//apply plugin: 'kotlin-android'\n//apply plugin: 'kotlin-android-extensions'\n\n\ndependencies {\n    ...\n    //implementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:&lt;kotlin_version&gt;\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19710293,"reputation":19,"user_id":14430989,"display_name":"Ddhruv"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670777245,"creation_date":1670777245,"answer_id":74762679,"question_id":49302552,"body_markdown":"I understand the problem, it&#39;s simple, we are just missing the option to change the language while creating a new app. Just change the language to Java from kotlin.\r\n\r\nI am sharing the steps for the same (currently using android studio chipmunk)\r\n\r\n**Step 1:** Select New project from the menu\r\n[![New App][1]][1]\r\n\r\n\r\n**Step 2:** Select the main Activity Type\r\n[![Select activity type][2]][2]\r\n\r\n\r\n**Step 3:** Find the option to change the language\r\n[![update lang to JAVA][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/auBEg.jpg\r\n  [2]: https://i.stack.imgur.com/Wm32Y.jpg\r\n  [3]: https://i.stack.imgur.com/dC5RO.jpg","title":"make Android Studio Work with Java and not Kotlin?","body":"<p>I understand the problem, it's simple, we are just missing the option to change the language while creating a new app. Just change the language to Java from kotlin.</p>\n<p>I am sharing the steps for the same (currently using android studio chipmunk)</p>\n<p><strong>Step 1:</strong> Select New project from the menu\n<a href=\"https://i.stack.imgur.com/auBEg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/auBEg.jpg\" alt=\"New App\" /></a></p>\n<p><strong>Step 2:</strong> Select the main Activity Type\n<a href=\"https://i.stack.imgur.com/Wm32Y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wm32Y.jpg\" alt=\"Select activity type\" /></a></p>\n<p><strong>Step 3:</strong> Find the option to change the language\n<a href=\"https://i.stack.imgur.com/dC5RO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dC5RO.jpg\" alt=\"update lang to JAVA\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1438449,"reputation":813,"user_id":1359304,"display_name":"Elad Lavi"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1682925041,"creation_date":1682925041,"answer_id":76145273,"question_id":49302552,"body_markdown":"In the new version of Android Studio, instead of choosing &quot;Empty Activity&quot; as usual, choose &quot;Empty Views Activity&quot;.\r\nAndroid Studio removed Java support in &quot;Empty Activity&quot;.\r\n\r\nOther answers are irrelevant because they explain how to choose Java for the previous versions where it was obvious anyway.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t7gpy.png\r\n\r\n\r\nside personal notes:  \r\nThis behavior is not typical to Google and is very surprising and aggressive.\r\nIt becomes dangerous to upgrade versions these days.\r\nPeople love Java and are use to it.\r\nIt is great that Kotlin support was added but yet Java is powerful amazing programming language that will stay forever.\r\nI use Java also for server side and for desktop applications so it is convenient to use same programming language for multiple platforms.\r\nAndroid Studio doesn&#39;t even explain the change clearly.","title":"make Android Studio Work with Java and not Kotlin?","body":"<p>In the new version of Android Studio, instead of choosing &quot;Empty Activity&quot; as usual, choose &quot;Empty Views Activity&quot;.\nAndroid Studio removed Java support in &quot;Empty Activity&quot;.</p>\n<p>Other answers are irrelevant because they explain how to choose Java for the previous versions where it was obvious anyway.</p>\n<p><a href=\"https://i.stack.imgur.com/t7gpy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/t7gpy.png\" alt=\"enter image description here\" /></a></p>\n<p>side personal notes:<br />\nThis behavior is not typical to Google and is very surprising and aggressive.\nIt becomes dangerous to upgrade versions these days.\nPeople love Java and are use to it.\nIt is great that Kotlin support was added but yet Java is powerful amazing programming language that will stay forever.\nI use Java also for server side and for desktop applications so it is convenient to use same programming language for multiple platforms.\nAndroid Studio doesn't even explain the change clearly.</p>\n"}],"owner":{"account_id":12793539,"reputation":215,"user_id":9257308,"display_name":"Alia Al-Nighaoui"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20458,"favorite_count":0,"down_vote_count":2,"up_vote_count":18,"accepted_answer_id":49302910,"answer_count":4,"score":16,"last_activity_date":1683615188,"creation_date":1521125342,"question_id":49302552,"body_markdown":"my android studio started working with kotlin and not java after the last update. \r\nI have a university project that I need to deliver soon and we only learned coding with java, can anyone please help me find a way to return it to java \r\nthanks a lot ","title":"make Android Studio Work with Java and not Kotlin?","body":"<p>my android studio started working with kotlin and not java after the last update. \nI have a university project that I need to deliver soon and we only learned coding with java, can anyone please help me find a way to return it to java \nthanks a lot </p>\n"},{"tags":["java","spring-integration","jsch","spring-integration-sftp"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1683639355,"post_id":76204696,"comment_id":134395038,"body_markdown":"The fact that you see `SSH-2.0-JSCH-0.1.54` might be just because the library didn&#39;t update that string in the code. It look like you use a gateway somewhere downstream where a reply is not expected. So, this gateway is stuck waiting for reply therefore blocking the thread. I also see `Caught an exception, leaving main loop due to Socket closed` - would be great to have more info around that error.","body":"The fact that you see <code>SSH-2.0-JSCH-0.1.54</code> might be just because the library didn&#39;t update that string in the code. It look like you use a gateway somewhere downstream where a reply is not expected. So, this gateway is stuck waiting for reply therefore blocking the thread. I also see <code>Caught an exception, leaving main loop due to Socket closed</code> - would be great to have more info around that error."},{"owner":{"account_id":15695377,"reputation":25,"user_id":11325128,"display_name":"lavin249"},"score":0,"creation_date":1683645802,"post_id":76204696,"comment_id":134396753,"body_markdown":"Thank you @ArtemBilan for your prompt response. Indeed there is a functionality where we have used MessagingGateway thats for moving file from one folder to another based on the status of processing. Artem, just to highlight that I see `Caught an exception, leaving main loop due to Socket closed` regularly in the logs and I thought that its a part of regular JSch flow so it won&#39;t cause application freeze. But since you have pointed it out. I will look into it.","body":"Thank you @ArtemBilan for your prompt response. Indeed there is a functionality where we have used MessagingGateway thats for moving file from one folder to another based on the status of processing. Artem, just to highlight that I see <code>Caught an exception, leaving main loop due to Socket closed</code> regularly in the logs and I thought that its a part of regular JSch flow so it won&#39;t cause application freeze. But since you have pointed it out. I will look into it."}],"owner":{"account_id":15695377,"reputation":25,"user_id":11325128,"display_name":"lavin249"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683615172,"creation_date":1683583971,"question_id":76204696,"body_markdown":"I have an application which uses spring integration to poll the sftp and once it finds new file thats when spring batch kicks-in and processes the file. I have five such jobs written in an application which polls sftp (attached the code snippet of configuration of one module). I checked the JVM process is running on EC2 instance. There was no anomaly in the cpu usage I have also attached the application logs and the sftp logs of the server.\r\n\r\nHere&#39;s sequence of events (All events in UTC timezone &amp; date is 2023-05-08)\r\n\r\n1. Client uploaded file on SFTP at 00:28:00\r\n\r\n2. Application reads it\r\n\r\n3. Application last log printed at 00:29:52.032\r\n\r\n4. Application stalled indefinitely\r\n\r\n5. Application restarted at 04:59:35.098\r\n\r\nI am wondering why did the application abruptly freeze?\r\n\r\n**Footnotes:**\r\nEven though I am using JSCH-0.1.55 library, I saw that JSch class has version of &#39;0.1.54&#39; written inside it. This is the reason why I see &#39;Client=SSH-2.0-JSCH-0.1.54&#39; in SFTP logs. I hope this should not be crux of the problem.\r\n\r\nChecked the Profiler for the JVM and the EC2 instance. I have found no anomaly during the aforementioned timeline (attached picture). I have the feeling that there is something wrong with the JSch SFTP connection. Unfortunately, I am unable to replicate the issue.\r\n\r\nAppreciate any help around the issue. Be it replication or speculation.\r\n\r\n\r\n**SFTP Server Logs:**\r\n\r\n``` lang-java[enter image description here](https://i.stack.imgur.com/zCpvH.png)\r\ntime(UTC)       User        Message\r\n04:59:58\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n04:59:56\tmy-app-prod DISCONNECTED\r\n04:59:56\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n04:59:53\tmy-app-prod DISCONNECTED\r\n04:59:53\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:29:54\tmy-app-prod DISCONNECTED\r\n00:29:54\tmy-app-prod DISCONNECTED\r\n00:29:54\tmy-app-prod DISCONNECTED\r\n00:29:54\tmy-app-prod DISCONNECTED\r\n00:29:54\tmy-app-prod DISCONNECTED\r\n00:29:54\tmy-app-prod DISCONNECTED\r\n00:29:52\tmy-app-prod CLOSE Path=/&lt;censored&gt;/project/xyz.txt BytesOut=715152263\r\n00:28:33\tmy-app-prod OPEN Path=/&lt;censored&gt;/project/xyz.txt Mode=READ\r\n00:28:32\tmy-app-prod DISCONNECTED\r\n00:28:31\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:29\tmy-app-prod DISCONNECTED\r\n00:28:29\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:26\tmy-app-prod DISCONNECTED\r\n00:28:26\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:24\tclient-app-prod DISCONNECTED\r\n00:28:24\tclient-app-prod ERROR Message=&quot;Access denied&quot;\r\n00:28:23\tclient-app-prod CLOSE Path=/&lt;censored&gt;/project/191544.txt BytesIn=715152263\r\n00:28:23\tmy-app-prod DISCONNECTED\r\n00:28:22\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:20\tmy-app-prod DISCONNECTED\r\n00:28:20\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:17\tmy-app-prod DISCONNECTED\r\n00:28:17\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:14\tmy-app-prod DISCONNECTED\r\n00:28:14\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:11\tmy-app-prod DISCONNECTED\r\n00:28:11\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:08\tmy-app-prod DISCONNECTED\r\n00:28:08\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:05\tmy-app-prod DISCONNECTED\r\n00:28:04\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:02\tmy-app-prod DISCONNECTED\r\n00:28:01\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:00\tclient-app-prod OPEN Path=/&lt;censored&gt;/project/xyz.txt Mode=CREATE|TRUNCATE|WRITE\r\n00:28:00\tclient-app-prod CONNECTED SourceIP=&lt;client-ip&gt; \r\n00:27:58\tmy-app-prod DISCONNECTED\r\n00:27:58\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:27:55\tmy-app-prod DISCONNECTED\r\n00:27:55\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:27:53\tmy-app-prod DISCONNECTED\r\n00:27:52\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:27:50\tmy-app-prod DISCONNECTED\r\n00:27:49\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:27:47\tmy-app-prod DISCONNECTED\r\n00:27:46\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:27:44\tmy-app-prod DISCONNECTED\r\n```\r\n\r\n**Java Application Logs (Reverse Chronology)**\r\n\r\n``` lang-java\r\n00:29:52.032 [Thread Id = 71] INFO com.example.apis.trigger.SFTPConfig:154 - Batch Triggered.\r\n00:28:31.852 [Thread Id = 71] INFO com.jcraft.jsch:54 - Disconnecting from &lt;PROD-SFTP-CENSORED&gt; port 22\r\n00:28:29.496 [Thread Id = 71] INFO com.jcraft.jsch:54 - Authentication succeeded (publickey).\r\n00:28:29.430 [Thread Id = 71] INFO com.jcraft.jsch:54 - Next authentication method: publickey\r\n00:28:29.430 [Thread Id = 71] INFO com.jcraft.jsch:54 - Authentications that can continue: publickey,keyboard-interactive,password\r\n00:28:29.409 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_SERVICE_ACCEPT received\r\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_SERVICE_REQUEST sent\r\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_NEWKEYS received\r\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_NEWKEYS sent\r\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - Host &#39;&lt;PROD-SFTP-CENSORED&gt;&#39; is known and matches the RSA host key\r\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - ssh_rsa_verify: signature true\r\n00:28:29.380 [Thread Id = 71] INFO com.jcraft.jsch:54 - expecting SSH_MSG_KEX_ECDH_REPLY\r\n00:28:29.380 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_KEX_ECDH_INIT sent\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client-&gt;server aes128-ctr hmac-sha2-256 none\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server-&gt;client aes128-ctr hmac-sha2-256 none\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client:\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: none\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server:\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: none,zlib@openssh.com\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: rsa-sha2-512,rsa-sha2-256,ssh-rsa\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_KEXINIT received\r\n00:28:29.351 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_KEXINIT sent\r\n00:28:29.351 [Thread Id = 71] INFO com.jcraft.jsch:54 - CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\n00:28:29.341 [Thread Id = 71] INFO com.jcraft.jsch:54 - CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\r\n00:28:29.341 [Thread Id = 71] INFO com.jcraft.jsch:54 - CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\r\n00:28:29.341 [Thread Id = 71] INFO com.jcraft.jsch:54 - Local version string: SSH-2.0-JSCH-0.1.54\r\n00:28:29.341 [Thread Id = 71] INFO com.jcraft.jsch:54 - Remote version string: SSH-2.0-AWS_SFTP_1.1\r\n00:28:29.275 [Thread Id = 71] INFO com.jcraft.jsch:54 - Connection established\r\n00:28:29.261 [Thread Id = 71] INFO com.jcraft.jsch:54 - Connecting to &lt;PROD-SFTP-CENSORED&gt; port 22\r\n00:28:29.261 [Thread Id = 141857] INFO com.jcraft.jsch:54 - Caught an exception, leaving main loop due to Socket closed\r\n```\r\n\r\n\r\n**Code Snippet:**\r\n\r\n``` lang-java\r\npublic SessionFactory&lt;LsEntry&gt; xyzSFTPSessionFactory() {\r\n    DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\r\n    try {\r\n        factory.setHost(&quot;abc&quot;);\r\n        factory.setPort(22);\r\n        factory.setUser(&quot;my-app-prod&quot;);\r\n        factory.setPrivateKey(sftpPrivateKey);\r\n        factory.setAllowUnknownKeys(true);\r\n    } catch (SftpConnectionException se) {\r\n        LOGGER.error(&quot;Exception occurred while creating ABC&quot;, se);\r\n    }\r\n        return new CachingSessionFactory&lt;&gt;(factory);\r\n}\r\n\r\n\r\n@InboundChannelAdapter(channel = &quot;xyzStream&quot;)\r\n    public MessageSource&lt;InputStream&gt; xyzSFTPMessageSource() {\r\n        SftpStreamingMessageSource mSource = new SftpStreamingMessageSource(xyzTemplate());\r\n        mSource.setRemoteDirectory(xyzRemoteDirectory);\r\n        mSource.setFilter(new AcceptAllFileListFilter&lt;&gt;());\r\n        mSource.setMaxFetchSize(1);\r\n        return mSource;\r\n    }\r\n```","title":"Spring Integration Module that Continuously Polls SFTP Stalled","body":"<p>I have an application which uses spring integration to poll the sftp and once it finds new file thats when spring batch kicks-in and processes the file. I have five such jobs written in an application which polls sftp (attached the code snippet of configuration of one module). I checked the JVM process is running on EC2 instance. There was no anomaly in the cpu usage I have also attached the application logs and the sftp logs of the server.</p>\n<p>Here's sequence of events (All events in UTC timezone &amp; date is 2023-05-08)</p>\n<ol>\n<li><p>Client uploaded file on SFTP at 00:28:00</p>\n</li>\n<li><p>Application reads it</p>\n</li>\n<li><p>Application last log printed at 00:29:52.032</p>\n</li>\n<li><p>Application stalled indefinitely</p>\n</li>\n<li><p>Application restarted at 04:59:35.098</p>\n</li>\n</ol>\n<p>I am wondering why did the application abruptly freeze?</p>\n<p><strong>Footnotes:</strong>\nEven though I am using JSCH-0.1.55 library, I saw that JSch class has version of '0.1.54' written inside it. This is the reason why I see 'Client=SSH-2.0-JSCH-0.1.54' in SFTP logs. I hope this should not be crux of the problem.</p>\n<p>Checked the Profiler for the JVM and the EC2 instance. I have found no anomaly during the aforementioned timeline (attached picture). I have the feeling that there is something wrong with the JSch SFTP connection. Unfortunately, I am unable to replicate the issue.</p>\n<p>Appreciate any help around the issue. Be it replication or speculation.</p>\n<p><strong>SFTP Server Logs:</strong></p>\n<pre><code>time(UTC)       User        Message\n04:59:58    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n04:59:56    my-app-prod DISCONNECTED\n04:59:56    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n04:59:53    my-app-prod DISCONNECTED\n04:59:53    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:29:54    my-app-prod DISCONNECTED\n00:29:54    my-app-prod DISCONNECTED\n00:29:54    my-app-prod DISCONNECTED\n00:29:54    my-app-prod DISCONNECTED\n00:29:54    my-app-prod DISCONNECTED\n00:29:54    my-app-prod DISCONNECTED\n00:29:52    my-app-prod CLOSE Path=/&lt;censored&gt;/project/xyz.txt BytesOut=715152263\n00:28:33    my-app-prod OPEN Path=/&lt;censored&gt;/project/xyz.txt Mode=READ\n00:28:32    my-app-prod DISCONNECTED\n00:28:31    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:29    my-app-prod DISCONNECTED\n00:28:29    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:26    my-app-prod DISCONNECTED\n00:28:26    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:24    client-app-prod DISCONNECTED\n00:28:24    client-app-prod ERROR Message=&quot;Access denied&quot;\n00:28:23    client-app-prod CLOSE Path=/&lt;censored&gt;/project/191544.txt BytesIn=715152263\n00:28:23    my-app-prod DISCONNECTED\n00:28:22    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:20    my-app-prod DISCONNECTED\n00:28:20    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:17    my-app-prod DISCONNECTED\n00:28:17    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:14    my-app-prod DISCONNECTED\n00:28:14    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:11    my-app-prod DISCONNECTED\n00:28:11    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:08    my-app-prod DISCONNECTED\n00:28:08    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:05    my-app-prod DISCONNECTED\n00:28:04    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:02    my-app-prod DISCONNECTED\n00:28:01    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:00    client-app-prod OPEN Path=/&lt;censored&gt;/project/xyz.txt Mode=CREATE|TRUNCATE|WRITE\n00:28:00    client-app-prod CONNECTED SourceIP=&lt;client-ip&gt; \n00:27:58    my-app-prod DISCONNECTED\n00:27:58    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:27:55    my-app-prod DISCONNECTED\n00:27:55    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:27:53    my-app-prod DISCONNECTED\n00:27:52    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:27:50    my-app-prod DISCONNECTED\n00:27:49    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:27:47    my-app-prod DISCONNECTED\n00:27:46    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:27:44    my-app-prod DISCONNECTED\n</code></pre>\n<p><strong>Java Application Logs (Reverse Chronology)</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>00:29:52.032 [Thread Id = 71] INFO com.example.apis.trigger.SFTPConfig:154 - Batch Triggered.\n00:28:31.852 [Thread Id = 71] INFO com.jcraft.jsch:54 - Disconnecting from &lt;PROD-SFTP-CENSORED&gt; port 22\n00:28:29.496 [Thread Id = 71] INFO com.jcraft.jsch:54 - Authentication succeeded (publickey).\n00:28:29.430 [Thread Id = 71] INFO com.jcraft.jsch:54 - Next authentication method: publickey\n00:28:29.430 [Thread Id = 71] INFO com.jcraft.jsch:54 - Authentications that can continue: publickey,keyboard-interactive,password\n00:28:29.409 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_SERVICE_ACCEPT received\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_SERVICE_REQUEST sent\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_NEWKEYS received\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_NEWKEYS sent\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - Host '&lt;PROD-SFTP-CENSORED&gt;' is known and matches the RSA host key\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - ssh_rsa_verify: signature true\n00:28:29.380 [Thread Id = 71] INFO com.jcraft.jsch:54 - expecting SSH_MSG_KEX_ECDH_REPLY\n00:28:29.380 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_KEX_ECDH_INIT sent\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client-&gt;server aes128-ctr hmac-sha2-256 none\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server-&gt;client aes128-ctr hmac-sha2-256 none\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client:\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: none\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server:\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: none,zlib@openssh.com\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: rsa-sha2-512,rsa-sha2-256,ssh-rsa\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_KEXINIT received\n00:28:29.351 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_KEXINIT sent\n00:28:29.351 [Thread Id = 71] INFO com.jcraft.jsch:54 - CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\n00:28:29.341 [Thread Id = 71] INFO com.jcraft.jsch:54 - CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\n00:28:29.341 [Thread Id = 71] INFO com.jcraft.jsch:54 - CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\n00:28:29.341 [Thread Id = 71] INFO com.jcraft.jsch:54 - Local version string: SSH-2.0-JSCH-0.1.54\n00:28:29.341 [Thread Id = 71] INFO com.jcraft.jsch:54 - Remote version string: SSH-2.0-AWS_SFTP_1.1\n00:28:29.275 [Thread Id = 71] INFO com.jcraft.jsch:54 - Connection established\n00:28:29.261 [Thread Id = 71] INFO com.jcraft.jsch:54 - Connecting to &lt;PROD-SFTP-CENSORED&gt; port 22\n00:28:29.261 [Thread Id = 141857] INFO com.jcraft.jsch:54 - Caught an exception, leaving main loop due to Socket closed\n</code></pre>\n<p><strong>Code Snippet:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public SessionFactory&lt;LsEntry&gt; xyzSFTPSessionFactory() {\n    DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\n    try {\n        factory.setHost(&quot;abc&quot;);\n        factory.setPort(22);\n        factory.setUser(&quot;my-app-prod&quot;);\n        factory.setPrivateKey(sftpPrivateKey);\n        factory.setAllowUnknownKeys(true);\n    } catch (SftpConnectionException se) {\n        LOGGER.error(&quot;Exception occurred while creating ABC&quot;, se);\n    }\n        return new CachingSessionFactory&lt;&gt;(factory);\n}\n\n\n@InboundChannelAdapter(channel = &quot;xyzStream&quot;)\n    public MessageSource&lt;InputStream&gt; xyzSFTPMessageSource() {\n        SftpStreamingMessageSource mSource = new SftpStreamingMessageSource(xyzTemplate());\n        mSource.setRemoteDirectory(xyzRemoteDirectory);\n        mSource.setFilter(new AcceptAllFileListFilter&lt;&gt;());\n        mSource.setMaxFetchSize(1);\n        return mSource;\n    }\n</code></pre>\n"},{"tags":["java","sql","oracle","size","heap-memory"],"comments":[{"owner":{"account_id":7072373,"reputation":3737,"user_id":5413565,"display_name":"Mushif Ali Nawaz"},"score":0,"creation_date":1571986418,"post_id":58553553,"comment_id":103426858,"body_markdown":"What do you mean by data size? Do you mean the number of columns?","body":"What do you mean by data size? Do you mean the number of columns?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1571986463,"post_id":58553553,"comment_id":103426877,"body_markdown":"@MushifAliNawaz I think it&#39;s the size in bytes (or any similar unit) which is comparable to the RAM size somehow.","body":"@MushifAliNawaz I think it&#39;s the size in bytes (or any similar unit) which is comparable to the RAM size somehow."},{"owner":{"account_id":7048299,"reputation":800,"user_id":5398371,"display_name":"Zeinab Ghaffarnasab"},"score":0,"creation_date":1571988224,"post_id":58553553,"comment_id":103427587,"body_markdown":"use this: select count(*) from employee where id &lt; 11000;","body":"use this: select count(*) from employee where id &lt; 11000;"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1571989225,"post_id":58553553,"comment_id":103428015,"body_markdown":"What size do you want? The size of a record as stored on disk in the database? The size of a record as transmitted to the client? The size of a record as stored in Java memory? Stored how? In a POJO? In a `Map`? Please edit question and clarify what you&#39;re looking for.","body":"What size do you want? The size of a record as stored on disk in the database? The size of a record as transmitted to the client? The size of a record as stored in Java memory? Stored how? In a POJO? In a <code>Map</code>? Please edit question and clarify what you&#39;re looking for."},{"owner":{"account_id":49167,"reputation":144571,"user_id":146325,"display_name":"APC"},"score":1,"creation_date":1571991638,"post_id":58553553,"comment_id":103429050,"body_markdown":"*&quot;i need to load all records in memory; for these records for some processing in Java&quot;* Hmmm... Are you going to write those records back to the database after this processing?","body":"<i>&quot;i need to load all records in memory; for these records for some processing in Java&quot;</i> Hmmm... Are you going to write those records back to the database after this processing?"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1571993354,"post_id":58553553,"comment_id":103429802,"body_markdown":"@APC: O i think my question is not clear... No i just want to see how much MB that data is when we hit SQL Query as i have to avoid memory issues in java program; so configure things accordingly. Edited my Question","body":"@APC: O i think my question is not clear... No i just want to see how much MB that data is when we hit SQL Query as i have to avoid memory issues in java program; so configure things accordingly. Edited my Question"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1571993400,"post_id":58553553,"comment_id":103429833,"body_markdown":"@Andreas: O Sorry, i have edited my question. Here i mean to if i load 10,000 records in memory using java then how much size it will take like 100 MB or what and how it can be calculated using oracle query or other ways. Reedited question","body":"@Andreas: O Sorry, i have edited my question. Here i mean to if i load 10,000 records in memory using java then how much size it will take like 100 MB or what and how it can be calculated using oracle query or other ways. Reedited question"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1571993431,"post_id":58553553,"comment_id":103429858,"body_markdown":"@ZeinabGhaffarnasab: Thanks. SOrry for confusion. Edited my queston. It is Memory size which i want to calculate when objects load in memory","body":"@ZeinabGhaffarnasab: Thanks. SOrry for confusion. Edited my queston. It is Memory size which i want to calculate when objects load in memory"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1571993460,"post_id":58553553,"comment_id":103429879,"body_markdown":"@deHaar: Thanks for understanding, i have done some editing may be now things are clear","body":"@deHaar: Thanks for understanding, i have done some editing may be now things are clear"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1571993500,"post_id":58553553,"comment_id":103429900,"body_markdown":"@MushifAliNawaz: Sorry for bothering, i have edited my question, here i meant how to calculate how much data is loaded in memory (in oracle or other way)","body":"@MushifAliNawaz: Sorry for bothering, i have edited my question, here i meant how to calculate how much data is loaded in memory (in oracle or other way)"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1571996149,"post_id":58553553,"comment_id":103431207,"body_markdown":"Well, varchar columns can contains values varying length (hence the name) so the strings that will be created in Java will have different memory requirements as well. That being said it might be hard to calculate the exact amount of memory needed because there might be multiple references (each of those already uses up some memory even if refering to the same object) in multiple locations (like the result set, in your application, some driver internal location etc.). ...","body":"Well, varchar columns can contains values varying length (hence the name) so the strings that will be created in Java will have different memory requirements as well. That being said it might be hard to calculate the exact amount of memory needed because there might be multiple references (each of those already uses up some memory even if refering to the same object) in multiple locations (like the result set, in your application, some driver internal location etc.). ..."},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1571996290,"post_id":58553553,"comment_id":103431272,"body_markdown":"@Thomas: Thanks, but like if i copied whole data in file it says 604KB text file. But when it comes to Java Platform then in memory for same data will it be like jump to 10 MB or will it like 1024 KB? Could you please give some rough idea in the use case","body":"@Thomas: Thanks, but like if i copied whole data in file it says 604KB text file. But when it comes to Java Platform then in memory for same data will it be like jump to 10 MB or will it like 1024 KB? Could you please give some rough idea in the use case"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1571996319,"post_id":58553553,"comment_id":103431282,"body_markdown":"But you should be able to _estimate_ the memory that could be needed and in most cases that&#39;s probably enough (if you&#39;re operating on hard restrictions that might not be the case but those restrictions rarely exist in business applications): get the size of each data type your results would contain (like `Integer`, `Date` etc.) and the maximum length of your strings. Add all those up and multiply with 10k and you should get a reasonable estimate already.","body":"But you should be able to <i>estimate</i> the memory that could be needed and in most cases that&#39;s probably enough (if you&#39;re operating on hard restrictions that might not be the case but those restrictions rarely exist in business applications): get the size of each data type your results would contain (like <code>Integer</code>, <code>Date</code> etc.) and the maximum length of your strings. Add all those up and multiply with 10k and you should get a reasonable estimate already."},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1571996872,"post_id":58553553,"comment_id":103431534,"body_markdown":"@Thomas\nSo as per your suggestion if i have 8 string variables(store everything into string) and each string variable say consume - 40 byte for empty (or 20 char) and so for 100 character 200Bytes almost and by this 1600 Byte for 8 String variables. So for 10,000 it will take 16 000 000 byte = 16 megabytes...Cool...","body":"@Thomas So as per your suggestion if i have 8 string variables(store everything into string) and each string variable say consume - 40 byte for empty (or 20 char) and so for 100 character 200Bytes almost and by this 1600 Byte for 8 String variables. So for 10,000 it will take 16 000 000 byte = 16 megabytes...Cool..."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1571997225,"post_id":58553553,"comment_id":103431718,"body_markdown":"Yes that&#39;s about it. Note that Java objects have a lot of internal fields and references so they require a lot more memory than just the basic primitive types (e.g. an `Integer` would require at least 16 bytes: 12 for the object header and 4 for the int value). Additionally writing data into a text file would change the size because that depends on the encoding (Latin-1 would use 1 byte per char while Java strings already use 2 bytes per char) and if you transform small integers to text that will require less memory as well.","body":"Yes that&#39;s about it. Note that Java objects have a lot of internal fields and references so they require a lot more memory than just the basic primitive types (e.g. an <code>Integer</code> would require at least 16 bytes: 12 for the object header and 4 for the int value). Additionally writing data into a text file would change the size because that depends on the encoding (Latin-1 would use 1 byte per char while Java strings already use 2 bytes per char) and if you transform small integers to text that will require less memory as well."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1571997601,"post_id":58553553,"comment_id":103431912,"body_markdown":"&quot;If i copy whole data and save it in file it shows only 604 KB for 10,000 records having 8 columns.&quot; - let&#39;s assume you&#39;re using Latin-1 here, no column delimiters and no compression. That would mean that you&#39;d have (604 * 1024 - 10000 / 10000) = 60.8 bytes per row on average (that - 10000 is because you&#39;d need row delimiters at least). That would mean that each column would need 7.6 bytes on average. Let&#39;s round that up to 8 and thus your 80000 columns would need 1280000 bytes (1.2 MB) for the character data alone (8 * 80000 * 2).","body":"&quot;If i copy whole data and save it in file it shows only 604 KB for 10,000 records having 8 columns.&quot; - let&#39;s assume you&#39;re using Latin-1 here, no column delimiters and no compression. That would mean that you&#39;d have (604 * 1024 - 10000 / 10000) = 60.8 bytes per row on average (that - 10000 is because you&#39;d need row delimiters at least). That would mean that each column would need 7.6 bytes on average. Let&#39;s round that up to 8 and thus your 80000 columns would need 1280000 bytes (1.2 MB) for the character data alone (8 * 80000 * 2)."},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1571999073,"post_id":58553553,"comment_id":103432624,"body_markdown":"@Thomas: Thanks for detailed insight. You can share it in answer. Not sure if it has oracle perspective too to calculate data size according to query.","body":"@Thomas: Thanks for detailed insight. You can share it in answer. Not sure if it has oracle perspective too to calculate data size according to query."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1683614646,"creation_date":1572003683,"answer_id":58557867,"question_id":58553553,"body_markdown":"Generally you can use Java&#39;s instrumentation capabilities to determine the memory consumption at runtime. For some information on that have a look here:\r\n\r\n- https://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object\r\n- https://www.baeldung.com/java-size-of-object\r\n\r\nHowever, it is not always that easy to determine the actual memory consumption for various reasons, some of them being:\r\n\r\n- Frameworks, libraries and even the JVM might create copies of your data or cache and reuse it\r\n- Queries might return differently sized results, especially when variable length column types like VARCHAR are used. You&#39;d have to read that data to determine the actual size of the corresponding objects\r\n- Some objects might be referenced by multiple others so their size might be included incorrectly (e.g. if some enum constant is used that might be counted into the object size but it wouldn&#39;t actually add to the increase because it&#39;s most likely already been loaded anyway).\r\n\r\nAdditionally in most business applications you don&#39;t need to bother with determining the exact memory consumption a piece of code results in. Again there are various reasons, e.g.:\r\n\r\n- Memory is cheap so if you run into problems it&#39;s often easier to (at least temporarily) increase available memory than (micro-) optimizing a piece of code.\r\n- System usage and load often isn&#39;t as predictable due to changing situations (e.g. number of active users, changes in data etc.)\r\n- The JVM often is able to efficiently use garbage collection to reclaim memory for other things.\r\n\r\nThis doesn&#39;t mean that you shouldn&#39;t think about memory usage though, e.g. do you really need all those 10k rows in memory at once? How long do you need that data and what are you doing with it? \r\n\r\nThat being said it&#39;s often helpful to roughly estimate memory consumption and in the case of a query that could return a lot of strings you should estimate the worst case, i.e. assume maximum length strings.\r\n\r\nTo do that you&#39;ll need some knowledge about what your rows will contain, e.g. whether integer numbers `Integer`, `Long` or `BigInteger` instances or how many columns there could be. Additionally you&#39;ll need to know at least the memory requirements for the data types, i.e. we don&#39;t take any caching, duplication, overhead for `ResultSet` and the like into account.\r\n\r\nThe sizes for Java objects depend on various things, e.g. which JVM you&#39;re using, whether it is a 32- or 64-bit JVM etc. Various sources state that an object&#39;s memory consumption can be calculated from the Object header (which often is stated to be 12 bytes in size) and the size of the object&#39;s fields.\r\n\r\nUsing that we&#39;ll assume `Integer` to have a size of 16 bytes (12b header and 4b `int`), `Date` would be 24 bytes (12b header, 8b `fastTime` and 4b `cdate` reference), String would be 12b header, 4b char[] reference, 8b other fields, 12h char[] header and 2*length bytes for the characters themselves (or 36 + 2 * length in total).\r\n\r\nThus let&#39;s say your 85 columns are split into 20 integers, 10 dates and 55 strings of 256 bytes max length. One row would that need _at least_ 20 * 16 + 10 * 24 + 55 * 548 = 30700 bytes. 10k rows would thus need 307000000 bytes or roughly 300 MB (when all strings are at maximum length).\r\n\r\n&gt; If I copy whole data and save it in file it shows only 604 KB for 10,000 records having 8 columns.\r\n\r\nLet&#39;s break that down a little as well:\r\n\r\n- 604 KB would be 618496 bytes (1024 being one KB)\r\n- Devide that by 10k and you get 61.8 bytes per row on average\r\n- Devide that by 8 and you get 7.7 bytes per column (if we don&#39;t take any row or column delimiters into account)\r\n- Let&#39;s round it up to 8 bytes per column and let&#39;s assume your text file is Latin-1 encoded (so 1 byte per char), thus each text column has 8 chars on average which is pretty short\r\n\r\nIn an easier calculation, if we use the same asumptions as above, 604KB would mean your data would consist of roughly 604k characters, which in Java would need 1208k bytes (or about 1.2 MB) just for the character data alone. Add to that the overhead for 80k strings, i.e. 36 bytes * 80k which is about 2.8 MB more so that data would need about 4 MB in memory.","title":"How to find Memory SIZE of records returned in a SQL Query in Oracle?","body":"<p>Generally you can use Java's instrumentation capabilities to determine the memory consumption at runtime. For some information on that have a look here:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object\">How to determine the size of an object in Java</a></li>\n<li><a href=\"https://www.baeldung.com/java-size-of-object\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-size-of-object</a></li>\n</ul>\n<p>However, it is not always that easy to determine the actual memory consumption for various reasons, some of them being:</p>\n<ul>\n<li>Frameworks, libraries and even the JVM might create copies of your data or cache and reuse it</li>\n<li>Queries might return differently sized results, especially when variable length column types like VARCHAR are used. You'd have to read that data to determine the actual size of the corresponding objects</li>\n<li>Some objects might be referenced by multiple others so their size might be included incorrectly (e.g. if some enum constant is used that might be counted into the object size but it wouldn't actually add to the increase because it's most likely already been loaded anyway).</li>\n</ul>\n<p>Additionally in most business applications you don't need to bother with determining the exact memory consumption a piece of code results in. Again there are various reasons, e.g.:</p>\n<ul>\n<li>Memory is cheap so if you run into problems it's often easier to (at least temporarily) increase available memory than (micro-) optimizing a piece of code.</li>\n<li>System usage and load often isn't as predictable due to changing situations (e.g. number of active users, changes in data etc.)</li>\n<li>The JVM often is able to efficiently use garbage collection to reclaim memory for other things.</li>\n</ul>\n<p>This doesn't mean that you shouldn't think about memory usage though, e.g. do you really need all those 10k rows in memory at once? How long do you need that data and what are you doing with it?</p>\n<p>That being said it's often helpful to roughly estimate memory consumption and in the case of a query that could return a lot of strings you should estimate the worst case, i.e. assume maximum length strings.</p>\n<p>To do that you'll need some knowledge about what your rows will contain, e.g. whether integer numbers <code>Integer</code>, <code>Long</code> or <code>BigInteger</code> instances or how many columns there could be. Additionally you'll need to know at least the memory requirements for the data types, i.e. we don't take any caching, duplication, overhead for <code>ResultSet</code> and the like into account.</p>\n<p>The sizes for Java objects depend on various things, e.g. which JVM you're using, whether it is a 32- or 64-bit JVM etc. Various sources state that an object's memory consumption can be calculated from the Object header (which often is stated to be 12 bytes in size) and the size of the object's fields.</p>\n<p>Using that we'll assume <code>Integer</code> to have a size of 16 bytes (12b header and 4b <code>int</code>), <code>Date</code> would be 24 bytes (12b header, 8b <code>fastTime</code> and 4b <code>cdate</code> reference), String would be 12b header, 4b char[] reference, 8b other fields, 12h char[] header and 2*length bytes for the characters themselves (or 36 + 2 * length in total).</p>\n<p>Thus let's say your 85 columns are split into 20 integers, 10 dates and 55 strings of 256 bytes max length. One row would that need <em>at least</em> 20 * 16 + 10 * 24 + 55 * 548 = 30700 bytes. 10k rows would thus need 307000000 bytes or roughly 300 MB (when all strings are at maximum length).</p>\n<blockquote>\n<p>If I copy whole data and save it in file it shows only 604 KB for 10,000 records having 8 columns.</p>\n</blockquote>\n<p>Let's break that down a little as well:</p>\n<ul>\n<li>604 KB would be 618496 bytes (1024 being one KB)</li>\n<li>Devide that by 10k and you get 61.8 bytes per row on average</li>\n<li>Devide that by 8 and you get 7.7 bytes per column (if we don't take any row or column delimiters into account)</li>\n<li>Let's round it up to 8 bytes per column and let's assume your text file is Latin-1 encoded (so 1 byte per char), thus each text column has 8 chars on average which is pretty short</li>\n</ul>\n<p>In an easier calculation, if we use the same asumptions as above, 604KB would mean your data would consist of roughly 604k characters, which in Java would need 1208k bytes (or about 1.2 MB) just for the character data alone. Add to that the overhead for 80k strings, i.e. 36 bytes * 80k which is about 2.8 MB more so that data would need about 4 MB in memory.</p>\n"}],"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2542,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":58557867,"answer_count":1,"score":3,"last_activity_date":1683614646,"creation_date":1571986126,"question_id":58553553,"body_markdown":"I am hitting a query which returns 10,000 Records.\r\n\r\n```SQL\r\nSELECT * FROM employee WHERE id &lt; 11000;\r\n```\r\n\r\nThe data returned consists of 85 Columns (varchar, date, no.). \r\n(Also i have another similar query gets data consist of just 10 columns(varchar).)\r\n\r\nIs there any way in Oracle to find the data size of this resultset? Like the data loaded will be of 100 MB or 200 MB\r\n\r\n**Requirement**: Actually i need to load all records in memory; for these records for some processing in Java. So i need to check size of data using some preconditions in Oracle or Any other appropriate way you can suggest to check same? (I have production access. So i will implement logic after checking data size). \r\n\r\nThis precheck is just to avoid Out of memory exceptions in java.\r\n\r\nIF i copy whole data and save it in file it shows only 604 KB for 10,000 records having 8 columns. Does the same will there in memory?","title":"How to find Memory SIZE of records returned in a SQL Query in Oracle?","body":"<p>I am hitting a query which returns 10,000 Records.</p>\n\n<pre><code>SELECT * FROM employee WHERE id &lt; 11000;\n</code></pre>\n\n<p>The data returned consists of 85 Columns (varchar, date, no.). \n(Also i have another similar query gets data consist of just 10 columns(varchar).)</p>\n\n<p>Is there any way in Oracle to find the data size of this resultset? Like the data loaded will be of 100 MB or 200 MB</p>\n\n<p><strong>Requirement</strong>: Actually i need to load all records in memory; for these records for some processing in Java. So i need to check size of data using some preconditions in Oracle or Any other appropriate way you can suggest to check same? (I have production access. So i will implement logic after checking data size). </p>\n\n<p>This precheck is just to avoid Out of memory exceptions in java.</p>\n\n<p>IF i copy whole data and save it in file it shows only 604 KB for 10,000 records having 8 columns. Does the same will there in memory?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9545,"page":447,"page_size":100}
