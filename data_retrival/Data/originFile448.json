{"items":[{"tags":["java","multithreading","race-condition","data-race"],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683614438,"creation_date":1683544547,"answer_id":76200056,"question_id":76199684,"body_markdown":"Theoretically, it is possible that each thread will be interrupted after it executed `addOne()` so that `multiTwo()` is executed first after all threads have run `addOne()`. This would mean \r\n\r\n10 * 2^10 = 10240 \r\n\r\nas the result.\r\n\r\nIf each thread will execute `addOne()` immediately followed by `multiTwo()`, the result is the already mentioned 2046.\r\n\r\nOn a modern PC, the latter option is the most likely, but on a first generation Raspi that runs tons of other (unrelated) stuff at the same time, you may get something that resembles the first option at least partially – but only when `Thread::start` does not cause an immediate context switch to the new Thread.","title":"Java multithread race condition, Min and Max range of a value","body":"<p>Theoretically, it is possible that each thread will be interrupted after it executed <code>addOne()</code> so that <code>multiTwo()</code> is executed first after all threads have run <code>addOne()</code>. This would mean</p>\n<p>10 * 2^10 = 10240</p>\n<p>as the result.</p>\n<p>If each thread will execute <code>addOne()</code> immediately followed by <code>multiTwo()</code>, the result is the already mentioned 2046.</p>\n<p>On a modern PC, the latter option is the most likely, but on a first generation Raspi that runs tons of other (unrelated) stuff at the same time, you may get something that resembles the first option at least partially – but only when <code>Thread::start</code> does not cause an immediate context switch to the new Thread.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683544757,"creation_date":1683544757,"answer_id":76200086,"question_id":76199684,"body_markdown":"Everything is synchronized and locked. That means you don&#39;t need to cover the intricate details of what happens when you access a field from multiple threads without Happens-Before relationships established.\r\n\r\nThat makes this not really an exercise in threading. That&#39;s good - generally these questions are annoying, in the sense that the useful thing to know is merely: &quot;This code is wrong, because it violates JMM here and here, and this is how you do it right&quot;. Knowing what possible answers the code could give is esoteric knowledge that is utterly ridiculous to expect anybody to know - it&#39;s not useful information for the job, at any rate. You might as well fail someone from the interview because their fly-fishing knowledge isn&#39;t up to par. So, rejoice in that, I guess. It&#39;s a fair question.\r\n\r\nThis question boils down to:\r\n\r\n* We start with 0\r\n* We have 10x &#39;+1&#39; operations (increment).\r\n* We have 10x &#39;*2&#39; operations (double).\r\n* We cannot perform a &#39;double&#39; operation unless that many increments have already been performed.\r\n\r\nWhat&#39;s the MIN and MAX, respectively?\r\n\r\nThe answer seems fairly simple, and is a math/logic question, it has nothing to do with programming (some basic java knowledge is required to break down the problem to this, then logic is needed to figure out the answer).\r\n\r\nYou get the highest value by maximizing the impact of `*2`. Hence, by running the add operations first - that gets you to 9. Then double that 10 times, gets you to 9216.\r\n\r\nYou get the lowest by minimizing. Hence, 2046: Incr-double-incr-double - in that order.\r\n\r\nIt would be quite difficult to actually make a system give you 9216. Probably impossible. The point is, if a JVM prints 9216, __it is working fine__ - the JMM (java memory model, a chapter in the Java Language Spec) gives a JVM the right to do that.\r\n\r\nIf you want to play around with it, get rid of the threading and replace the logic with random chance instead.\r\n\r\n&gt; I think the minimum answer is 2.\r\n\r\nThis cannot possibly be the case even if you play around with this code. For example, if you just remove all locking, the actual answer is __0__ - NONE of the 10 threads are guaranteed to propagate their changes to the main thread, so the main thread is free to print 0 in that case. Any individual thread would see a minimum of 2 (and is likely to on modern JVM impls), but those worker threads aren&#39;t doing the printing.\r\n\r\n&gt; `//todo add catch exception`\r\n\r\nI assume you wrote that? I would make a note on your file &#39;programmer has no idea how to do exception management properly&#39;. You&#39;re in some luck - _a lot_ of java programmers are completely clueless on this, but you&#39;re still getting past me only on the basis that hiring devs is hard right now so I need to be less picky.\r\n\r\n`InterruptedException` does not occur unless you explicitly write code that interrupts. Given that you don&#39;t, and given that this is `main`, where you can, and should, and even did, just pile your checked exceptions into the `throws` line (or even better, write `throws Exception`) you&#39;re doing exactly what you should be doing. So, that note indicating you feel guilt about having done the right thing and evidently feel the proper way to write this exercise would have been to add a catch block there, indicates you _do not_ actually know what you are doing. It&#39;s not really possible to know what the reviewers were thinking, but it&#39;s possible that threw that off a bit.\r\n\r\nOr they are also clueless, and sticklers, and downmarked you for not doing it the (wrong) way they wanted, and write a catch block.\r\n\r\nHere are a few rules of thumb to help with exception handling. Remember: _Rules of thumb_. That means they usually hold, but not always.\r\n\r\n* If you don&#39;t know what to do in an exception block, __do not write one__, or if you&#39;re forced into writing one (due to a API design rule (see below) or because you&#39;re overriding and can&#39;t declare it in your `throws`), then you MUST wrap it. Do not, ever, just &#39;log it&#39; or &#39;print it&#39; and carry on. Yes, every tutorial under the sun and many IDEs default to it. That just means many tutorials and many IDEs are selectively braindead in this regard. Yes, for most exceptions, you wouldn&#39;t know what to do, and therefore this rule kicks in.\r\n\r\n* If, looking at solely the signature of the method (the name, param types, and the class it is in - i.e. _not_ at its code) it is rather obvious that some checked exception could occur, then that exception should be in the throws clause. e.g. a method named `queryPerson` that _does not_ `throws SQLException` is virtually guaranteed to be badly written. However, the flipside is also true: e.g. a method called `save()` in class `GameState` should only `throws SQLException` if &#39;this system stores stuff in the database&#39; is inherent to the design of the `GameState` class. If it is not, write your own exception and wrap your SQLException in it.\r\n\r\n* If a checked exception cannot possibly even occur (Example: the `IOException` caused by `stream.read()` even when you know that stream is in fact a `ByteArrayInputStream` that cannot possibly throw it, or, `new String(byteArray, &quot;UTF-8&quot;)` - UTF_8 is guaranteed by the JVM spec so that cannot possibly throw the &#39;I do not know that charset encoding&#39; exception) - then the API is badly designed. Hence, do not write such APIs and if you&#39;re forced into using one, make sure to check the docs, there&#39;s often a better alternative. For example, `new String(byteArray, StandardCharsets.UTF_8)` is correct; it avoids having to deal with an impossible checked exception.\r\n\r\n* When designing APIs, if some exceptional state seems virtually never &#39;handleable&#39; by all use cases of your library/method you can think of, it should be unchecked. Similarly, if it is likely that some exceptional state can never occur and the caller knows it, it should be unchecked. Otherwise, make it checked.\r\n\r\n","title":"Java multithread race condition, Min and Max range of a value","body":"<p>Everything is synchronized and locked. That means you don't need to cover the intricate details of what happens when you access a field from multiple threads without Happens-Before relationships established.</p>\n<p>That makes this not really an exercise in threading. That's good - generally these questions are annoying, in the sense that the useful thing to know is merely: &quot;This code is wrong, because it violates JMM here and here, and this is how you do it right&quot;. Knowing what possible answers the code could give is esoteric knowledge that is utterly ridiculous to expect anybody to know - it's not useful information for the job, at any rate. You might as well fail someone from the interview because their fly-fishing knowledge isn't up to par. So, rejoice in that, I guess. It's a fair question.</p>\n<p>This question boils down to:</p>\n<ul>\n<li>We start with 0</li>\n<li>We have 10x '+1' operations (increment).</li>\n<li>We have 10x '*2' operations (double).</li>\n<li>We cannot perform a 'double' operation unless that many increments have already been performed.</li>\n</ul>\n<p>What's the MIN and MAX, respectively?</p>\n<p>The answer seems fairly simple, and is a math/logic question, it has nothing to do with programming (some basic java knowledge is required to break down the problem to this, then logic is needed to figure out the answer).</p>\n<p>You get the highest value by maximizing the impact of <code>*2</code>. Hence, by running the add operations first - that gets you to 9. Then double that 10 times, gets you to 9216.</p>\n<p>You get the lowest by minimizing. Hence, 2046: Incr-double-incr-double - in that order.</p>\n<p>It would be quite difficult to actually make a system give you 9216. Probably impossible. The point is, if a JVM prints 9216, <strong>it is working fine</strong> - the JMM (java memory model, a chapter in the Java Language Spec) gives a JVM the right to do that.</p>\n<p>If you want to play around with it, get rid of the threading and replace the logic with random chance instead.</p>\n<blockquote>\n<p>I think the minimum answer is 2.</p>\n</blockquote>\n<p>This cannot possibly be the case even if you play around with this code. For example, if you just remove all locking, the actual answer is <strong>0</strong> - NONE of the 10 threads are guaranteed to propagate their changes to the main thread, so the main thread is free to print 0 in that case. Any individual thread would see a minimum of 2 (and is likely to on modern JVM impls), but those worker threads aren't doing the printing.</p>\n<blockquote>\n<p><code>//todo add catch exception</code></p>\n</blockquote>\n<p>I assume you wrote that? I would make a note on your file 'programmer has no idea how to do exception management properly'. You're in some luck - <em>a lot</em> of java programmers are completely clueless on this, but you're still getting past me only on the basis that hiring devs is hard right now so I need to be less picky.</p>\n<p><code>InterruptedException</code> does not occur unless you explicitly write code that interrupts. Given that you don't, and given that this is <code>main</code>, where you can, and should, and even did, just pile your checked exceptions into the <code>throws</code> line (or even better, write <code>throws Exception</code>) you're doing exactly what you should be doing. So, that note indicating you feel guilt about having done the right thing and evidently feel the proper way to write this exercise would have been to add a catch block there, indicates you <em>do not</em> actually know what you are doing. It's not really possible to know what the reviewers were thinking, but it's possible that threw that off a bit.</p>\n<p>Or they are also clueless, and sticklers, and downmarked you for not doing it the (wrong) way they wanted, and write a catch block.</p>\n<p>Here are a few rules of thumb to help with exception handling. Remember: <em>Rules of thumb</em>. That means they usually hold, but not always.</p>\n<ul>\n<li><p>If you don't know what to do in an exception block, <strong>do not write one</strong>, or if you're forced into writing one (due to a API design rule (see below) or because you're overriding and can't declare it in your <code>throws</code>), then you MUST wrap it. Do not, ever, just 'log it' or 'print it' and carry on. Yes, every tutorial under the sun and many IDEs default to it. That just means many tutorials and many IDEs are selectively braindead in this regard. Yes, for most exceptions, you wouldn't know what to do, and therefore this rule kicks in.</p>\n</li>\n<li><p>If, looking at solely the signature of the method (the name, param types, and the class it is in - i.e. <em>not</em> at its code) it is rather obvious that some checked exception could occur, then that exception should be in the throws clause. e.g. a method named <code>queryPerson</code> that <em>does not</em> <code>throws SQLException</code> is virtually guaranteed to be badly written. However, the flipside is also true: e.g. a method called <code>save()</code> in class <code>GameState</code> should only <code>throws SQLException</code> if 'this system stores stuff in the database' is inherent to the design of the <code>GameState</code> class. If it is not, write your own exception and wrap your SQLException in it.</p>\n</li>\n<li><p>If a checked exception cannot possibly even occur (Example: the <code>IOException</code> caused by <code>stream.read()</code> even when you know that stream is in fact a <code>ByteArrayInputStream</code> that cannot possibly throw it, or, <code>new String(byteArray, &quot;UTF-8&quot;)</code> - UTF_8 is guaranteed by the JVM spec so that cannot possibly throw the 'I do not know that charset encoding' exception) - then the API is badly designed. Hence, do not write such APIs and if you're forced into using one, make sure to check the docs, there's often a better alternative. For example, <code>new String(byteArray, StandardCharsets.UTF_8)</code> is correct; it avoids having to deal with an impossible checked exception.</p>\n</li>\n<li><p>When designing APIs, if some exceptional state seems virtually never 'handleable' by all use cases of your library/method you can think of, it should be unchecked. Similarly, if it is likely that some exceptional state can never occur and the caller knows it, it should be unchecked. Otherwise, make it checked.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":28545325,"reputation":13,"user_id":21850832,"display_name":"JohhnyM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76200056,"answer_count":2,"score":1,"last_activity_date":1683614438,"creation_date":1683541706,"question_id":76199684,"body_markdown":"I have been asked this question recently in an interview, and I didn&#39;t get a feedback from my interviewer. I think the minimum answer is 2.\r\n\r\nGiven the following code, what will be the minimum and maximum value that will be printed in the line marked with 3 black &#39;*&#39;\r\n```\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    public static final int THREAD_NUMBER = 10;\r\n    public static Integer num = 0;\r\n    final static Integer lock = 0;\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        Thread threads[] = new Thread[THREAD_NUMBER];\r\n\r\n        for (int j = 0; j &lt; THREAD_NUMBER; j++) {\r\n            int finalJ = j;\r\n            threads[j] = new Thread(() -&gt; {threadLogic(finalJ);});\r\n            threads[j].start();\r\n        }\r\n\r\n        for (int j = 0; j &lt; THREAD_NUMBER; j++) {\r\n            threads[j].join(); //todo add catch exception\r\n        }\r\n\r\n***        System.out.println(&quot;********* The number is &quot; + num + &quot; *********&quot;);\r\n***    }\r\n\r\n    public static void addOne(int id){\r\n        // Critical Code\r\n        synchronized (lock) {\r\n            num = num + 1;\r\n            System.out.println(&quot;add action thread &quot; + id + &quot;: &quot; + num);\r\n        }\r\n    }\r\n\r\n    public static void multiTwo(int id){\r\n        // Critical Code\r\n        synchronized (lock) {\r\n            num = num * 2;\r\n            System.out.println(&quot;multi action thread &quot; + id + &quot;: &quot; + num);\r\n        }\r\n    }\r\n\r\n    public static void threadLogic(int id){\r\n            addOne(id);\r\n            multiTwo(id);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried running the code myself and got 2046 for the max number","title":"Java multithread race condition, Min and Max range of a value","body":"<p>I have been asked this question recently in an interview, and I didn't get a feedback from my interviewer. I think the minimum answer is 2.</p>\n<p>Given the following code, what will be the minimum and maximum value that will be printed in the line marked with 3 black '*'</p>\n<pre><code>import java.util.List;\n\npublic class Main {\n\n    public static final int THREAD_NUMBER = 10;\n    public static Integer num = 0;\n    final static Integer lock = 0;\n\n    public static void main(String[] args) throws InterruptedException {\n\n        Thread threads[] = new Thread[THREAD_NUMBER];\n\n        for (int j = 0; j &lt; THREAD_NUMBER; j++) {\n            int finalJ = j;\n            threads[j] = new Thread(() -&gt; {threadLogic(finalJ);});\n            threads[j].start();\n        }\n\n        for (int j = 0; j &lt; THREAD_NUMBER; j++) {\n            threads[j].join(); //todo add catch exception\n        }\n\n***        System.out.println(&quot;********* The number is &quot; + num + &quot; *********&quot;);\n***    }\n\n    public static void addOne(int id){\n        // Critical Code\n        synchronized (lock) {\n            num = num + 1;\n            System.out.println(&quot;add action thread &quot; + id + &quot;: &quot; + num);\n        }\n    }\n\n    public static void multiTwo(int id){\n        // Critical Code\n        synchronized (lock) {\n            num = num * 2;\n            System.out.println(&quot;multi action thread &quot; + id + &quot;: &quot; + num);\n        }\n    }\n\n    public static void threadLogic(int id){\n            addOne(id);\n            multiTwo(id);\n    }\n}\n</code></pre>\n<p>I tried running the code myself and got 2046 for the max number</p>\n"},{"tags":["java","hibernate","postgresql","spring-data","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461580773,"creation_date":1461580773,"answer_id":36838201,"question_id":36834537,"body_markdown":"You are trying to check whether a Java `null` is equal to Postgres `NULL` which I think is not necessary. You can rewrite as following and avoid sending null to the `simpleTest` function at all.\r\n\r\n    @Query(value = &quot;SELECT * FROM WINE w WHERE (w.id IS NULL OR w.id = ?1)&quot;, nativeQuery = true)\r\n    Wine simpleTest(Long id);","title":"Spring data repository sends null as bytea to PostgreSQL database","body":"<p>You are trying to check whether a Java <code>null</code> is equal to Postgres <code>NULL</code> which I think is not necessary. You can rewrite as following and avoid sending null to the <code>simpleTest</code> function at all.</p>\n\n<pre><code>@Query(value = \"SELECT * FROM WINE w WHERE (w.id IS NULL OR w.id = ?1)\", nativeQuery = true)\nWine simpleTest(Long id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":916866,"reputation":1,"user_id":8604327,"display_name":"HerdDad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505316765,"creation_date":1505316765,"answer_id":46201521,"question_id":36834537,"body_markdown":"I had a similar issue in an @Query where a Long was being interpreted by Postgres as a bytea. The solution for me was to unbox the @Param...by passing a long value, Postgres correctly interpreted the value as a bigint","title":"Spring data repository sends null as bytea to PostgreSQL database","body":"<p>I had a similar issue in an @Query where a Long was being interpreted by Postgres as a bytea. The solution for me was to unbox the @Param...by passing a long value, Postgres correctly interpreted the value as a bigint</p>\n"},{"tags":[],"owner":{"account_id":16278215,"reputation":705,"user_id":11754886,"display_name":"fjsv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591177579,"creation_date":1591177579,"answer_id":62169825,"question_id":36834537,"body_markdown":"I know it is an old issue, but you should be able to fix that bay casting the java value. Something like:\r\n\r\n    public interface WineRepository extends PagingAndSortingRepository&lt;Wine, Long&gt; {\r\n    @Query(value = &quot;SELECT * FROM WINE w WHERE (?1\\\\:\\\\:bigint IS NULL OR w.id = ?1\\\\:\\\\:bigint)&quot;, nativeQuery = true)\r\n    Wine simpleTest(Long id);","title":"Spring data repository sends null as bytea to PostgreSQL database","body":"<p>I know it is an old issue, but you should be able to fix that bay casting the java value. Something like:</p>\n\n<pre><code>public interface WineRepository extends PagingAndSortingRepository&lt;Wine, Long&gt; {\n@Query(value = \"SELECT * FROM WINE w WHERE (?1\\\\:\\\\:bigint IS NULL OR w.id = ?1\\\\:\\\\:bigint)\", nativeQuery = true)\nWine simpleTest(Long id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1281225,"reputation":5615,"user_id":1235281,"accept_rate":88,"display_name":"Jodiug"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1591869971,"creation_date":1591869971,"answer_id":62321877,"question_id":36834537,"body_markdown":"Try this.\r\n\r\n```lang=sql\r\nSELECT *\r\nFROM WINE w\r\nWHERE ?1 IS NULL OR w.id = CAST(CAST(?1 AS TEXT) AS BIGINT)\r\n```\r\n\r\nIt satisfies the type checker and should have the same properties as the original query. `CAST` is not a big performance hit if it happens on a constant value rather than a value from a database row.","title":"Spring data repository sends null as bytea to PostgreSQL database","body":"<p>Try this.</p>\n\n<pre><code>SELECT *\nFROM WINE w\nWHERE ?1 IS NULL OR w.id = CAST(CAST(?1 AS TEXT) AS BIGINT)\n</code></pre>\n\n<p>It satisfies the type checker and should have the same properties as the original query. <code>CAST</code> is not a big performance hit if it happens on a constant value rather than a value from a database row.</p>\n"},{"tags":[],"owner":{"account_id":18928145,"reputation":41,"user_id":13810798,"display_name":"Vu Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683613823,"creation_date":1683613823,"answer_id":76206445,"question_id":36834537,"body_markdown":"I am experiencing the same issue as you are. After I researched this problem i found the answer on https://github.com/spring-projects/spring-data-jpa/issues/2370\r\n\r\nThe problem will be solved by using Spring Data JPA 2.7. You can find the source code to demonstrate this at https://github.com/heowc-scratch/hibernate_postgres_HHH-14778/tree/main.\r\n\r\nmaybe it&#39;s helpful","title":"Spring data repository sends null as bytea to PostgreSQL database","body":"<p>I am experiencing the same issue as you are. After I researched this problem i found the answer on <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2370\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jpa/issues/2370</a></p>\n<p>The problem will be solved by using Spring Data JPA 2.7. You can find the source code to demonstrate this at <a href=\"https://github.com/heowc-scratch/hibernate_postgres_HHH-14778/tree/main\" rel=\"nofollow noreferrer\">https://github.com/heowc-scratch/hibernate_postgres_HHH-14778/tree/main</a>.</p>\n<p>maybe it's helpful</p>\n"}],"owner":{"account_id":347560,"reputation":3575,"user_id":681752,"accept_rate":80,"display_name":"rhorvath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7867,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":5,"score":16,"last_activity_date":1683613823,"creation_date":1461569859,"question_id":36834537,"body_markdown":"After switching from MySQL to **PostgreSQL** I found out that my SQL query (@Query in spring data repository interface) does not work anymore. The issue is caused by **null** value being sent as **bytea** and I&#39;m getting following exception:\r\n\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: bigint = bytea\r\n    Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\r\n\r\nRepository with @Query:\r\n\r\n    public interface WineRepository extends PagingAndSortingRepository&lt;Wine, Long&gt; {\r\n        @Query(value = &quot;SELECT * FROM WINE w WHERE (?1 IS NULL OR w.id = ?1)&quot;, nativeQuery = true)\r\n        Wine simpleTest(Long id);\r\n    }\r\n\r\nSimple test:\r\n\r\n    LOGGER.warn(&quot;test1: {}&quot;, wineRepository.simpleTest(1L));    //ok\r\n    LOGGER.warn(&quot;test2: {}&quot;, wineRepository.simpleTest(null));  //PSQLException\r\n\r\nIn the real case I have multiple parameters which can be null and I would prefer not checking them in java code but sending them to sql query. I have checked questions here on stackoverflow but found none with a good answer especially for spring data repository @query annotation. \r\n\r\n**What is a correct way of handling null values with PostgreSQL? Or do you have any hints how to fix my approach?** Thanks!\r\n\r\n\r\n**Update:**\r\nIssue seems to be related to `nativeQuery = true`, when value is false, null values work as expected. So the question is whether it is possible to make it function even with nativeQuery enabled.","title":"Spring data repository sends null as bytea to PostgreSQL database","body":"<p>After switching from MySQL to <strong>PostgreSQL</strong> I found out that my SQL query (@Query in spring data repository interface) does not work anymore. The issue is caused by <strong>null</strong> value being sent as <strong>bytea</strong> and I'm getting following exception:</p>\n\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: bigint = bytea\nHint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\n</code></pre>\n\n<p>Repository with @Query:</p>\n\n<pre><code>public interface WineRepository extends PagingAndSortingRepository&lt;Wine, Long&gt; {\n    @Query(value = \"SELECT * FROM WINE w WHERE (?1 IS NULL OR w.id = ?1)\", nativeQuery = true)\n    Wine simpleTest(Long id);\n}\n</code></pre>\n\n<p>Simple test:</p>\n\n<pre><code>LOGGER.warn(\"test1: {}\", wineRepository.simpleTest(1L));    //ok\nLOGGER.warn(\"test2: {}\", wineRepository.simpleTest(null));  //PSQLException\n</code></pre>\n\n<p>In the real case I have multiple parameters which can be null and I would prefer not checking them in java code but sending them to sql query. I have checked questions here on stackoverflow but found none with a good answer especially for spring data repository @query annotation. </p>\n\n<p><strong>What is a correct way of handling null values with PostgreSQL? Or do you have any hints how to fix my approach?</strong> Thanks!</p>\n\n<p><strong>Update:</strong>\nIssue seems to be related to <code>nativeQuery = true</code>, when value is false, null values work as expected. So the question is whether it is possible to make it function even with nativeQuery enabled.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2813880,"reputation":448,"user_id":2419499,"display_name":"Tanmoy Majumdar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592482569,"creation_date":1592476386,"answer_id":62447977,"question_id":62447730,"body_markdown":"    @RequiredArgsConstructor\r\n    public class StartupNotificationPublisher {\r\n    private final String topic;\r\n\r\n    private final Logger messagePublisher = LoggerFactory.getLogger(StartupNotificationPublisher.class);\r\n\r\n    @PostConstruct\r\n    public void postConstruct() {\r\n        messagePublisher.info(&quot;publisher constructed&quot;);\r\n    }\r\n\r\n\r\n    @EventListener\r\n    public void onApplicationStartedEvent(ApplicationStartedEvent event) {\r\n        \r\n        messagePublisher.info(&quot;{}: Hello, Attention, I am here!&quot;, topic);\r\n    }}","title":"Library with Spring AutoConfiguration: spring.factories and what else?","body":"<pre><code>@RequiredArgsConstructor\npublic class StartupNotificationPublisher {\nprivate final String topic;\n\nprivate final Logger messagePublisher = LoggerFactory.getLogger(StartupNotificationPublisher.class);\n\n@PostConstruct\npublic void postConstruct() {\n    messagePublisher.info(\"publisher constructed\");\n}\n\n\n@EventListener\npublic void onApplicationStartedEvent(ApplicationStartedEvent event) {\n\n    messagePublisher.info(\"{}: Hello, Attention, I am here!\", topic);\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1592481670,"creation_date":1592481670,"answer_id":62449524,"question_id":62447730,"body_markdown":"Spring Factories, if configured correctly, have nothing to do with component scanning.\r\n\r\nI can confirm that you did everything right, the same configuration worked for my projects many times. So to track what happens:\r\n\r\n1. Make sure that given the module &quot;abc&quot;, you place the `spring.factories` file in:\r\n\r\n`abc/src/main/resources/META-INF/spring.factories`\r\n\r\n2. Make sure that the library jar indeed contains this file and it indeed resides in the artifact (your spring boot application). For that open the application with WinRar (or similar tool) and nagivate to `BOOT-INF/lib` - the jar should be there - open the jar and check that `META-INF/spring.factories` folder is there. If something is wrong here, check the dependencies in `pom.xml` the autoconfiguration module should be defined as a dependency of your spring boot application. \r\n\r\n3. Make sure that the configuration indeed loads (which means in turn the autoconfig module is recognized):\r\n\r\nRewrite the configuration in the following way:\r\n\r\n~~~\r\n@Configuration\r\npublic class StartupNotificationAutoConfiguration {\r\n\r\n    public StartupNotificationAutoConfiguration() {\r\n          System.out.println(&quot;Loading the configuration StartupNotificationAutoConfiguration&quot;); // or use logging framework\r\n    }\r\n\r\n   @ConditionalOnMissingBean\r\n   @Bean\r\n   StartupNotificationPublisher startupNotificationPublisher()\r\n   {\r\n    return new StartupNotificationPublisher(&quot;helloTopic&quot;);\r\n   }\r\n}\r\n~~~\r\n\r\nIf you see this message, then auto-configuration module is there and gets loaded by spring.\r\n\r\n4. Try to Remove `@ConditionalOnMissingBean` annotation. If the bean is defined in your application it will take precendence over beans defined in auto-configuration modules anyway. It can be a source of your issue as well.\r\n\r\n","title":"Library with Spring AutoConfiguration: spring.factories and what else?","body":"<p>Spring Factories, if configured correctly, have nothing to do with component scanning.</p>\n\n<p>I can confirm that you did everything right, the same configuration worked for my projects many times. So to track what happens:</p>\n\n<ol>\n<li>Make sure that given the module \"abc\", you place the <code>spring.factories</code> file in:</li>\n</ol>\n\n<p><code>abc/src/main/resources/META-INF/spring.factories</code></p>\n\n<ol start=\"2\">\n<li><p>Make sure that the library jar indeed contains this file and it indeed resides in the artifact (your spring boot application). For that open the application with WinRar (or similar tool) and nagivate to <code>BOOT-INF/lib</code> - the jar should be there - open the jar and check that <code>META-INF/spring.factories</code> folder is there. If something is wrong here, check the dependencies in <code>pom.xml</code> the autoconfiguration module should be defined as a dependency of your spring boot application. </p></li>\n<li><p>Make sure that the configuration indeed loads (which means in turn the autoconfig module is recognized):</p></li>\n</ol>\n\n<p>Rewrite the configuration in the following way:</p>\n\n<pre><code>@Configuration\npublic class StartupNotificationAutoConfiguration {\n\n    public StartupNotificationAutoConfiguration() {\n          System.out.println(\"Loading the configuration StartupNotificationAutoConfiguration\"); // or use logging framework\n    }\n\n   @ConditionalOnMissingBean\n   @Bean\n   StartupNotificationPublisher startupNotificationPublisher()\n   {\n    return new StartupNotificationPublisher(\"helloTopic\");\n   }\n}\n</code></pre>\n\n<p>If you see this message, then auto-configuration module is there and gets loaded by spring.</p>\n\n<ol start=\"4\">\n<li>Try to Remove <code>@ConditionalOnMissingBean</code> annotation. If the bean is defined in your application it will take precendence over beans defined in auto-configuration modules anyway. It can be a source of your issue as well.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8187839,"reputation":651,"user_id":6163105,"display_name":"David"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1683613671,"creation_date":1678562520,"answer_id":75708952,"question_id":62447730,"body_markdown":"I spent literally days on a similar issue and this is what worked for me. If you&#39;re using Spring boot 3+ they changed all this! You can find the change documented in the 2.7 release notes here: [2.7 release notes#auto-configuration][1]. In release 2.7 they supported both the old and new ways for backwards compatibility and marked spring.factories as deprecated ([deprecation notice][2]). They removed support completely in 3.0! You can find the removal information in the 2.7 -&gt; 3.0 migration guide here: [spring boot 2.7 -&gt; 3.0 migration guide#auto-configuration files][3]. In essence, you&#39;re now required to annotate your top level auto-configuration class with `@AutoConfiguration` and add the fully qualified name to a file in this location; `META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports`; yes this is the name of the file. The different auto-configuration classes will be separated by newlines instead of a comma-separated string like in `spring.factories`.\r\n\r\nI hope this helped.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes#auto-configuration-registration\r\n  [2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes#deprecations-in-spring-boot-27\r\n  [3]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#auto-configuration-files","title":"Library with Spring AutoConfiguration: spring.factories and what else?","body":"<p>I spent literally days on a similar issue and this is what worked for me. If you're using Spring boot 3+ they changed all this! You can find the change documented in the 2.7 release notes here: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes#auto-configuration-registration\" rel=\"noreferrer\">2.7 release notes#auto-configuration</a>. In release 2.7 they supported both the old and new ways for backwards compatibility and marked spring.factories as deprecated (<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes#deprecations-in-spring-boot-27\" rel=\"noreferrer\">deprecation notice</a>). They removed support completely in 3.0! You can find the removal information in the 2.7 -&gt; 3.0 migration guide here: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#auto-configuration-files\" rel=\"noreferrer\">spring boot 2.7 -&gt; 3.0 migration guide#auto-configuration files</a>. In essence, you're now required to annotate your top level auto-configuration class with <code>@AutoConfiguration</code> and add the fully qualified name to a file in this location; <code>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code>; yes this is the name of the file. The different auto-configuration classes will be separated by newlines instead of a comma-separated string like in <code>spring.factories</code>.</p>\n<p>I hope this helped.</p>\n"}],"owner":{"account_id":2346285,"reputation":13265,"user_id":2056452,"accept_rate":69,"display_name":"derM - not here for BOT dreams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6612,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62449524,"answer_count":3,"score":4,"last_activity_date":1683613671,"creation_date":1592475533,"question_id":62447730,"body_markdown":"We intend to develop a library with Spring Components that all of our Spring Applications should have, like Beans that connect to our monitoring, administration and ochestration services.\r\n\r\nThe idea was, to make use of Springs&#39; &quot;AutoConfiguration&quot;-mechanism.\r\n\r\nFor a Starter I wrote a class `com.mycorp.project.basic.startup-notification.StartupNotificationPublisher.class` which, uppon &quot;ApplicationStartedEvent&quot; sends a Message via our favorite message broker (which for the exmample shall be a log file), saying hello to the world.\r\n\r\nAn instance of this class shall be created through the configuration class `com.mycorp.project.basic.startup-notification.autoconfiguration.StartupNotificationAutoConfiguration.class`\r\n\r\n\r\n    package com.mycorp.project.basic.startup-notification\r\n    // ... Imports\r\n    @RequiredArgsConstructor\r\n    public class StartupNotificationPublisher {\r\n        private final String topic;\r\n\r\n        private final Logger messagePublisher = LoggerFactory.getLogger(StartupNotificationPublisher.class);\r\n\r\n        @EventListener\r\n        public void onApplicationStartedEvent(ApplicationStartedEvent event) {\r\n            messagePublisher.info(&quot;{}: Hello, Attention, I am here!&quot;, topic);\r\n        }\r\n    }\r\n\r\n    package com.mycorp.project.basic.startup-notification.autoconfiguration\r\n    // ... Imports\r\n    @Configuration\r\n    public class StartupNotificationAutoConfiguration {\r\n\r\n        @ConditionalOnMissingBean\r\n        @Bean\r\n        StartupNotificationPublisher startupNotificationPublisher()\r\n        {\r\n            return new StartupNotificationPublisher(&quot;helloTopic&quot;);\r\n        }\r\n    }\r\n\r\nFinally, to make the autoconfiguration work, I placed a File `spring.factories` in the `META-INF`-Folder of the jar (*yes, it is there!*), containing:\r\n\r\n    org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\r\n      com.mycorp.project.basic.startup-notification.autoconfiguration.StartupNotificationAutoConfiguration\r\n\r\nI assumed, this will make spring do its magic, find that file when I add the dependency, run the configuration and create that bean to publish the message.\r\n\r\nThis however is not what happens. Only when I add the package to the scan path of my `@SpringBootApplication`, I will get my message.\r\n\r\n*What did I miss? Are there more specific requirements like special project structures? Do I need to have a library called spring-boot-starter or anything like that?*\r\n\r\n* [Not a Duplicate of this Question: That one is about Spring Cloud Config which we don&#39;t use](https://stackoverflow.com/questions/49520102/spring-boot-auto-config-spring-factories)\r\n* Not a Duplicate of any of the Questions where spring.factories does not end up in META-INF in the .jar, because in my case it is there.\r\n\r\nProjectStructure:\r\n\r\n    rootDirectory\r\n    |-src\r\n    |  |-main\r\n    |    |-java\r\n    |    | |-com/mycorp/project/basic/startup-notification\r\n    |    |                            |-autoconfiguration\r\n    |    |                            | |-StartupNotificationAutoConfiguration.java\r\n    |    |                            |-StartupNotificationPublisher.java\r\n    |    |-resources\r\n    |      |-META-INF\r\n    |        |-spring.factories\r\n    |-build.gradle\r\n    |-...etc...\r\n\r\nResulting Jar Structure:\r\n\r\n    .jar\r\n    |-META-INF\r\n    | |-spring.factories\r\n    |-com\r\n      |-mycorp\r\n        |-project\r\n          |-basic\r\n            |-startup-notification\r\n              |-autoconfiguration\r\n              | |-StartupNotificationAutoConfiguration.class\r\n              |-StartupNotificationPublisher.class\r\n","title":"Library with Spring AutoConfiguration: spring.factories and what else?","body":"<p>We intend to develop a library with Spring Components that all of our Spring Applications should have, like Beans that connect to our monitoring, administration and ochestration services.</p>\n\n<p>The idea was, to make use of Springs' \"AutoConfiguration\"-mechanism.</p>\n\n<p>For a Starter I wrote a class <code>com.mycorp.project.basic.startup-notification.StartupNotificationPublisher.class</code> which, uppon \"ApplicationStartedEvent\" sends a Message via our favorite message broker (which for the exmample shall be a log file), saying hello to the world.</p>\n\n<p>An instance of this class shall be created through the configuration class <code>com.mycorp.project.basic.startup-notification.autoconfiguration.StartupNotificationAutoConfiguration.class</code></p>\n\n<pre><code>package com.mycorp.project.basic.startup-notification\n// ... Imports\n@RequiredArgsConstructor\npublic class StartupNotificationPublisher {\n    private final String topic;\n\n    private final Logger messagePublisher = LoggerFactory.getLogger(StartupNotificationPublisher.class);\n\n    @EventListener\n    public void onApplicationStartedEvent(ApplicationStartedEvent event) {\n        messagePublisher.info(\"{}: Hello, Attention, I am here!\", topic);\n    }\n}\n\npackage com.mycorp.project.basic.startup-notification.autoconfiguration\n// ... Imports\n@Configuration\npublic class StartupNotificationAutoConfiguration {\n\n    @ConditionalOnMissingBean\n    @Bean\n    StartupNotificationPublisher startupNotificationPublisher()\n    {\n        return new StartupNotificationPublisher(\"helloTopic\");\n    }\n}\n</code></pre>\n\n<p>Finally, to make the autoconfiguration work, I placed a File <code>spring.factories</code> in the <code>META-INF</code>-Folder of the jar (<em>yes, it is there!</em>), containing:</p>\n\n<pre><code>org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\n  com.mycorp.project.basic.startup-notification.autoconfiguration.StartupNotificationAutoConfiguration\n</code></pre>\n\n<p>I assumed, this will make spring do its magic, find that file when I add the dependency, run the configuration and create that bean to publish the message.</p>\n\n<p>This however is not what happens. Only when I add the package to the scan path of my <code>@SpringBootApplication</code>, I will get my message.</p>\n\n<p><em>What did I miss? Are there more specific requirements like special project structures? Do I need to have a library called spring-boot-starter or anything like that?</em></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/49520102/spring-boot-auto-config-spring-factories\">Not a Duplicate of this Question: That one is about Spring Cloud Config which we don't use</a></li>\n<li>Not a Duplicate of any of the Questions where spring.factories does not end up in META-INF in the .jar, because in my case it is there.</li>\n</ul>\n\n<p>ProjectStructure:</p>\n\n<pre><code>rootDirectory\n|-src\n|  |-main\n|    |-java\n|    | |-com/mycorp/project/basic/startup-notification\n|    |                            |-autoconfiguration\n|    |                            | |-StartupNotificationAutoConfiguration.java\n|    |                            |-StartupNotificationPublisher.java\n|    |-resources\n|      |-META-INF\n|        |-spring.factories\n|-build.gradle\n|-...etc...\n</code></pre>\n\n<p>Resulting Jar Structure:</p>\n\n<pre><code>.jar\n|-META-INF\n| |-spring.factories\n|-com\n  |-mycorp\n    |-project\n      |-basic\n        |-startup-notification\n          |-autoconfiguration\n          | |-StartupNotificationAutoConfiguration.class\n          |-StartupNotificationPublisher.class\n</code></pre>\n"},{"tags":["java","maven","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1681311348,"post_id":75996306,"comment_id":134036535,"body_markdown":"Does this answer your question? [failing to load log4j2 while running fatjar](https://stackoverflow.com/questions/27361052/failing-to-load-log4j2-while-running-fatjar)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27361052/failing-to-load-log4j2-while-running-fatjar\">failing to load log4j2 while running fatjar</a>"},{"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"score":0,"creation_date":1681375362,"post_id":75996306,"comment_id":134047049,"body_markdown":"@PiotrP.Karwasz thanks so much for your comment. It didn&#39;t solve my problem but it leaded me to some useful information. I will post the solution I found.","body":"@PiotrP.Karwasz thanks so much for your comment. It didn&#39;t solve my problem but it leaded me to some useful information. I will post the solution I found."}],"answers":[{"tags":[],"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681582788,"creation_date":1681375732,"answer_id":76003471,"question_id":75996306,"body_markdown":"After more investigation, I added a new commit to the sample project [log4j2-thread-context](https://github.com/fmaylinch/log4j2-thread-context) with the fixes, so now it works fine.\r\n\r\nI also added another fix related to `Log4j2Plugins.dat` (see https://stackoverflow.com/questions/27361052/failing-to-load-log4j2-while-running-fatjar), that I didn&#39;t mention in my question.\r\n\r\nIn summary:\r\n- I add the required `Multi-Release` entry to `MANIFEST.MF` using `ManifestResourceTransformer`.\r\n- I copy the correct `Log4j2Plugins.dat` using `IncludeResourceTransformer`.\r\n\r\nMaybe someone can explain about the `Multi-Release` entry.\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.4.1&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;shade&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;configuration&gt;\r\n        &lt;filters&gt;\r\n            &lt;!-- Ignore these files, we will write the right one below --&gt;\r\n            &lt;filter&gt;\r\n                &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/filter&gt;\r\n        &lt;/filters&gt;\r\n        &lt;transformers&gt;\r\n            &lt;!--\r\n              Copies the right Log4j2Plugins.dat file.\r\n              You need a copy of the right Log4j2Plugins.dat file from log4j2-core into src/main/resources.\r\n              You can get that file with these commands:\r\n                log4j2_version=2.17.2\r\n                rm src/main/resources/Log4j2Plugins-*.dat\r\n                unzip -j $HOME/.m2/repository/org/apache/logging/log4j/log4j-core/${log4j2_version}/log4j-core-${log4j2_version}.jar META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat -d src/main/resources\r\n                mv src/main/resources/Log4j2Plugins.dat src/main/resources/Log4j2Plugins-${log4j2_version}.dat\r\n            --&gt;\r\n            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.IncludeResourceTransformer&quot;&gt;\r\n                &lt;resource&gt;META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat&lt;/resource&gt;\r\n                &lt;file&gt;src/main/resources/Log4j2Plugins-${log4j2.version}.dat&lt;/file&gt;\r\n            &lt;/transformer&gt;\r\n\r\n            &lt;!-- Adds the Multi-Release entry in MANIFEST.MF --&gt;\r\n            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                &lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;\r\n                &lt;manifestEntries&gt;\r\n                    &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\r\n                &lt;/manifestEntries&gt;\r\n            &lt;/transformer&gt;\r\n        &lt;/transformers&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAbout `Log4j2Plugins.dat`, an alternative to `IncludeResourceTransformer` is filtering all the versions except the one in `log4j-core`. For example:\r\n\r\n```xml\r\n&lt;filter&gt;\r\n    &lt;artifact&gt;io.github.technologize:*&lt;/artifact&gt;\r\n    &lt;excludes&gt;\r\n        &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\r\n    &lt;/excludes&gt;\r\n&lt;/filter&gt;\r\n&lt;!-- filter other artifacts if needed --&gt;\r\n```\r\n\r\nI don&#39;t like either solution because:\r\n- If you add a copy of the file, you need to update it in case you update Log4j2. You may use this [3rd party plugin](https://stackoverflow.com/a/36469245/1121497), but then you rely on a 3rd party plugin.\r\n- If you add filters, you need to modify them in case you modify the dependencies (e.g. maybe you add a new dependency that contains another version of this `dat` file).","title":"Log4J2 dynamic appender doesn&#39;t work with maven-shade-plugin","body":"<p>After more investigation, I added a new commit to the sample project <a href=\"https://github.com/fmaylinch/log4j2-thread-context\" rel=\"nofollow noreferrer\">log4j2-thread-context</a> with the fixes, so now it works fine.</p>\n<p>I also added another fix related to <code>Log4j2Plugins.dat</code> (see <a href=\"https://stackoverflow.com/questions/27361052/failing-to-load-log4j2-while-running-fatjar\">failing to load log4j2 while running fatjar</a>), that I didn't mention in my question.</p>\n<p>In summary:</p>\n<ul>\n<li>I add the required <code>Multi-Release</code> entry to <code>MANIFEST.MF</code> using <code>ManifestResourceTransformer</code>.</li>\n<li>I copy the correct <code>Log4j2Plugins.dat</code> using <code>IncludeResourceTransformer</code>.</li>\n</ul>\n<p>Maybe someone can explain about the <code>Multi-Release</code> entry.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.4.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;filters&gt;\n            &lt;!-- Ignore these files, we will write the right one below --&gt;\n            &lt;filter&gt;\n                &lt;artifact&gt;*:*&lt;/artifact&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/filter&gt;\n        &lt;/filters&gt;\n        &lt;transformers&gt;\n            &lt;!--\n              Copies the right Log4j2Plugins.dat file.\n              You need a copy of the right Log4j2Plugins.dat file from log4j2-core into src/main/resources.\n              You can get that file with these commands:\n                log4j2_version=2.17.2\n                rm src/main/resources/Log4j2Plugins-*.dat\n                unzip -j $HOME/.m2/repository/org/apache/logging/log4j/log4j-core/${log4j2_version}/log4j-core-${log4j2_version}.jar META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat -d src/main/resources\n                mv src/main/resources/Log4j2Plugins.dat src/main/resources/Log4j2Plugins-${log4j2_version}.dat\n            --&gt;\n            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.IncludeResourceTransformer&quot;&gt;\n                &lt;resource&gt;META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat&lt;/resource&gt;\n                &lt;file&gt;src/main/resources/Log4j2Plugins-${log4j2.version}.dat&lt;/file&gt;\n            &lt;/transformer&gt;\n\n            &lt;!-- Adds the Multi-Release entry in MANIFEST.MF --&gt;\n            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                &lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;\n                &lt;manifestEntries&gt;\n                    &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\n                &lt;/manifestEntries&gt;\n            &lt;/transformer&gt;\n        &lt;/transformers&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>About <code>Log4j2Plugins.dat</code>, an alternative to <code>IncludeResourceTransformer</code> is filtering all the versions except the one in <code>log4j-core</code>. For example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n    &lt;artifact&gt;io.github.technologize:*&lt;/artifact&gt;\n    &lt;excludes&gt;\n        &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\n    &lt;/excludes&gt;\n&lt;/filter&gt;\n&lt;!-- filter other artifacts if needed --&gt;\n</code></pre>\n<p>I don't like either solution because:</p>\n<ul>\n<li>If you add a copy of the file, you need to update it in case you update Log4j2. You may use this <a href=\"https://stackoverflow.com/a/36469245/1121497\">3rd party plugin</a>, but then you rely on a 3rd party plugin.</li>\n<li>If you add filters, you need to modify them in case you modify the dependencies (e.g. maybe you add a new dependency that contains another version of this <code>dat</code> file).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683613446,"creation_date":1681476922,"answer_id":76015329,"question_id":75996306,"body_markdown":"The problem with `maven-shade-plugin` is that it breaks the manifest of the original jars and overwrites important resources. I find the [`spring-boot-maven-plugin`](https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-repackage) much more useful and it can be also used by applications that don&#39;t use Spring at all.\r\n\r\nThe `maven-shade-plugin` in the context of Log4j requires a minimal configuration as [in this question](https://github.com/apache/logging-log4j2/issues/1386#issuecomment-1481686029):\r\n\r\n```lang-xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-transform-maven-shade-plugin-extensions&lt;/artifactId&gt;\r\n      &lt;version&gt;0.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;configuration&gt;\r\n    &lt;transformers&gt;\r\n      &lt;transformer implementation=&quot;org.apache.logging.log4j.maven.plugins.shade.transformer.Log4j2PluginCacheFileTransformer&quot;/&gt;\r\n      &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n      &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n        &lt;manifestEntries&gt;\r\n          &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\r\n        &lt;/manifestEntries&gt;\r\n      &lt;/transformer&gt;\r\n    &lt;/transformers&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThis configuration takes care of:\r\n\r\n * **merging** `Log4j2Plugins.dat` files. Without `Log4j2PluginCacheFileTransformer` you can not use additional component libraries except `log4j-api` and `log4j-core`,\r\n * **merging** service files. Without `ServiceResourceTransformer` you&#39;ll lose additional component like property sources,\r\n * marking the JAR as multi-release jar: some classes used to gather caller&#39;s information were replaced in JDK 11. Therefore some Log4j classes have two versions (JDK 8 and JDK 9+). If you don&#39;t mark the JAR as multi-release, it will not work on JDK 11+.\r\n\r\n**Edit:** All these problems with the `maven-shade-plugin` sum up to one: every time two jars have a file with the same name, it must be somehow merged.\r\n\r\nThat is why I prefer the `spring-boot-maven-plugin`: instead of breaking multiple jars and adding their files into a single archive, it adds the original jars to the archive. The exact structure of the resulting jar is described in [executable Jar format](https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html).\r\n\r\nThe usage is straightforward: just add the `repackage` goal to your build and remove `maven-shade-plugin`.\r\n\r\n```lang-xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.10&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;repackage&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThis will effectively add the small [`spring-boot-loader`](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-loader) to your application. Version 2.x of the library requires Java 8, while version 3.x requires Java 17.","title":"Log4J2 dynamic appender doesn&#39;t work with maven-shade-plugin","body":"<p>The problem with <code>maven-shade-plugin</code> is that it breaks the manifest of the original jars and overwrites important resources. I find the <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-repackage\" rel=\"nofollow noreferrer\"><code>spring-boot-maven-plugin</code></a> much more useful and it can be also used by applications that don't use Spring at all.</p>\n<p>The <code>maven-shade-plugin</code> in the context of Log4j requires a minimal configuration as <a href=\"https://github.com/apache/logging-log4j2/issues/1386#issuecomment-1481686029\" rel=\"nofollow noreferrer\">in this question</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-transform-maven-shade-plugin-extensions&lt;/artifactId&gt;\n      &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;configuration&gt;\n    &lt;transformers&gt;\n      &lt;transformer implementation=&quot;org.apache.logging.log4j.maven.plugins.shade.transformer.Log4j2PluginCacheFileTransformer&quot;/&gt;\n      &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n      &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n        &lt;manifestEntries&gt;\n          &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\n        &lt;/manifestEntries&gt;\n      &lt;/transformer&gt;\n    &lt;/transformers&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This configuration takes care of:</p>\n<ul>\n<li><strong>merging</strong> <code>Log4j2Plugins.dat</code> files. Without <code>Log4j2PluginCacheFileTransformer</code> you can not use additional component libraries except <code>log4j-api</code> and <code>log4j-core</code>,</li>\n<li><strong>merging</strong> service files. Without <code>ServiceResourceTransformer</code> you'll lose additional component like property sources,</li>\n<li>marking the JAR as multi-release jar: some classes used to gather caller's information were replaced in JDK 11. Therefore some Log4j classes have two versions (JDK 8 and JDK 9+). If you don't mark the JAR as multi-release, it will not work on JDK 11+.</li>\n</ul>\n<p><strong>Edit:</strong> All these problems with the <code>maven-shade-plugin</code> sum up to one: every time two jars have a file with the same name, it must be somehow merged.</p>\n<p>That is why I prefer the <code>spring-boot-maven-plugin</code>: instead of breaking multiple jars and adding their files into a single archive, it adds the original jars to the archive. The exact structure of the resulting jar is described in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html\" rel=\"nofollow noreferrer\">executable Jar format</a>.</p>\n<p>The usage is straightforward: just add the <code>repackage</code> goal to your build and remove <code>maven-shade-plugin</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.7.10&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This will effectively add the small <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-loader\" rel=\"nofollow noreferrer\"><code>spring-boot-loader</code></a> to your application. Version 2.x of the library requires Java 8, while version 3.x requires Java 17.</p>\n"}],"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76015329,"answer_count":2,"score":0,"last_activity_date":1683613446,"creation_date":1681307633,"question_id":75996306,"body_markdown":"I add an appender programmatically. It was working until I added `maven-shade-plugin`. I wonder what makes my appender fail.\r\n\r\nThe appender works ✅ or not ❌ in these scenarios:\r\n1. ✅ From IDE (IntelliJ IDEA)\r\n1. ❌ With the shade (Uber/fat) jar &lt;-- now works ✅ see answer\r\n1. ✅ With separate jars (app jar, log4j jars)\r\n1. ❌ With the app jar, and the log4j jars unzipped into a folder\r\n1. ✅ With the app jar, and the log4j folder re-zipped\r\n\r\n### Sample project\r\n- https://github.com/fmaylinch/log4j2-thread-context\r\n- Here&#39;s the point where I add the custom appender:\r\n[ThreadContextFileLogHandler.java#L79](https://github.com/fmaylinch/log4j2-thread-context/blob/master/src/main/java/org/example/ThreadContextFileLogHandler.java#L79)\r\n- When the appender fails, it&#39;s because it doesn&#39;t receive the events here: [ThreadContextFileLogHandler.java#L156](https://github.com/fmaylinch/log4j2-thread-context/blob/master/src/main/java/org/example/ThreadContextFileLogHandler.java#L156)\r\n\r\n### Reproduce scenarios with the sample project above\r\n\r\n```bash\r\nmvn clean compile\r\nmkdir -p local/log4j-jars\r\nunzip $HOME/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.2/log4j-api-2.17.2.jar -d local/log4j-jars\r\nunzip -o $HOME/.m2/repository/org/apache/logging/log4j/log4j-core/2.17.2/log4j-core-2.17.2.jar -d local/log4j-jars\r\ncd local/log4j-jars\r\nzip -r ../log4j-jars.zip .\r\ncd ../..\r\n\r\n# Scenario 2 ❌ uses fat jar\r\njava -cp &quot;target/log4j-test-1.0-SNAPSHOT.jar&quot; org.example.Main\r\n\r\n# Scenario 3 ✅ uses separate jars\r\njava -cp &quot;target/original-log4j-test-1.0-SNAPSHOT.jar:$HOME/.m2/repository/org/apache/logging/log4j/log4j-core/2.17.2/log4j-core-2.17.2.jar:$HOME/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.2/log4j-api-2.17.2.jar&quot; org.example.Main\r\n\r\n# Scenario 4 ❌ uses log4j files unzipped\r\njava -cp &quot;target/original-log4j-test-1.0-SNAPSHOT.jar:local/log4j-jars&quot; org.example.Main\r\n\r\n# Scenario 5 ✅ uses log4j files re-zipped\r\njava -cp &quot;target/original-log4j-test-1.0-SNAPSHOT.jar:local/log4j-jars.zip&quot; org.example.Main\r\n```\r\n\r\n## Extra notes\r\n\r\nIn the scenario 5, I have noticed that I can remove some files in `META-INF`, but for my appender to work, I need to keep the following:\r\n- `META-INF`\r\n  - `org` (contains `Log4j2Plugins.dat`)\r\n  - `services` (without this, the app even crashes)\r\n  - `versions`\r\n  - `MANIFES.MF`\r\n\r\n\r\n### Related questions\r\n\r\n- https://stackoverflow.com/questions/67230924/log4j2-jsontemplatelayout-not-working-with-maven-shade-plugin - this seems to be a problem with `Log4j2Plugins.dat`, but in my project there&#39;s only one file, in `log4j2-core`.\r\n- https://stackoverflow.com/questions/4677674/is-there-any-diff-between-run-a-java-program-with-jar-or-with-a-package-unpacked - according to my problem, there IS a difference (maybe the `META-INF` folder is not processed like in a jar)","title":"Log4J2 dynamic appender doesn&#39;t work with maven-shade-plugin","body":"<p>I add an appender programmatically. It was working until I added <code>maven-shade-plugin</code>. I wonder what makes my appender fail.</p>\n<p>The appender works ✅ or not ❌ in these scenarios:</p>\n<ol>\n<li>✅ From IDE (IntelliJ IDEA)</li>\n<li>❌ With the shade (Uber/fat) jar &lt;-- now works ✅ see answer</li>\n<li>✅ With separate jars (app jar, log4j jars)</li>\n<li>❌ With the app jar, and the log4j jars unzipped into a folder</li>\n<li>✅ With the app jar, and the log4j folder re-zipped</li>\n</ol>\n<h3>Sample project</h3>\n<ul>\n<li><a href=\"https://github.com/fmaylinch/log4j2-thread-context\" rel=\"nofollow noreferrer\">https://github.com/fmaylinch/log4j2-thread-context</a></li>\n<li>Here's the point where I add the custom appender:\n<a href=\"https://github.com/fmaylinch/log4j2-thread-context/blob/master/src/main/java/org/example/ThreadContextFileLogHandler.java#L79\" rel=\"nofollow noreferrer\">ThreadContextFileLogHandler.java#L79</a></li>\n<li>When the appender fails, it's because it doesn't receive the events here: <a href=\"https://github.com/fmaylinch/log4j2-thread-context/blob/master/src/main/java/org/example/ThreadContextFileLogHandler.java#L156\" rel=\"nofollow noreferrer\">ThreadContextFileLogHandler.java#L156</a></li>\n</ul>\n<h3>Reproduce scenarios with the sample project above</h3>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn clean compile\nmkdir -p local/log4j-jars\nunzip $HOME/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.2/log4j-api-2.17.2.jar -d local/log4j-jars\nunzip -o $HOME/.m2/repository/org/apache/logging/log4j/log4j-core/2.17.2/log4j-core-2.17.2.jar -d local/log4j-jars\ncd local/log4j-jars\nzip -r ../log4j-jars.zip .\ncd ../..\n\n# Scenario 2 ❌ uses fat jar\njava -cp &quot;target/log4j-test-1.0-SNAPSHOT.jar&quot; org.example.Main\n\n# Scenario 3 ✅ uses separate jars\njava -cp &quot;target/original-log4j-test-1.0-SNAPSHOT.jar:$HOME/.m2/repository/org/apache/logging/log4j/log4j-core/2.17.2/log4j-core-2.17.2.jar:$HOME/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.2/log4j-api-2.17.2.jar&quot; org.example.Main\n\n# Scenario 4 ❌ uses log4j files unzipped\njava -cp &quot;target/original-log4j-test-1.0-SNAPSHOT.jar:local/log4j-jars&quot; org.example.Main\n\n# Scenario 5 ✅ uses log4j files re-zipped\njava -cp &quot;target/original-log4j-test-1.0-SNAPSHOT.jar:local/log4j-jars.zip&quot; org.example.Main\n</code></pre>\n<h2>Extra notes</h2>\n<p>In the scenario 5, I have noticed that I can remove some files in <code>META-INF</code>, but for my appender to work, I need to keep the following:</p>\n<ul>\n<li><code>META-INF</code>\n<ul>\n<li><code>org</code> (contains <code>Log4j2Plugins.dat</code>)</li>\n<li><code>services</code> (without this, the app even crashes)</li>\n<li><code>versions</code></li>\n<li><code>MANIFES.MF</code></li>\n</ul>\n</li>\n</ul>\n<h3>Related questions</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/67230924/log4j2-jsontemplatelayout-not-working-with-maven-shade-plugin\">log4j2 JsonTemplateLayout not working with maven shade plugin</a> - this seems to be a problem with <code>Log4j2Plugins.dat</code>, but in my project there's only one file, in <code>log4j2-core</code>.</li>\n<li><a href=\"https://stackoverflow.com/questions/4677674/is-there-any-diff-between-run-a-java-program-with-jar-or-with-a-package-unpacked\">is there any diff between run a java program with jar or with a package unpacked?</a> - according to my problem, there IS a difference (maybe the <code>META-INF</code> folder is not processed like in a jar)</li>\n</ul>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":13113751,"reputation":142064,"user_id":9473764,"display_name":"Nick"},"score":0,"creation_date":1683595796,"post_id":76205282,"comment_id":134387441,"body_markdown":"Probably there&#39;s a newline on the end of the string which is matching `[^\\&quot;);]`. Why not just use `https?:[^\\&quot;);]+`","body":"Probably there&#39;s a newline on the end of the string which is matching <code>[^\\&quot;);]</code>. Why not just use <code>https?:[^\\&quot;);]+</code>"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1683613507,"post_id":76205282,"comment_id":134389125,"body_markdown":"You don&#39;t need all the code: [It can be done in one line](https://stackoverflow.com/a/76206073/256196).","body":"You don&#39;t need all the code: <a href=\"https://stackoverflow.com/a/76206073/256196\">It can be done in one line</a>."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683596579,"creation_date":1683596579,"answer_id":76205334,"question_id":76205282,"body_markdown":"There is a newline at the end of the string. Since `\\S+` is greedy, it matches all the characters up to there, leaving the newline for `[^&quot;\\);]`.\r\n\r\nYou could directly use `https?:[^&quot;\\);\\s]+` instead, which matches a sequence of consecutive characters that are not part of the excluded ones.","title":"Java Regex pattern to extract a url from a response string using Pattern and Matcher","body":"<p>There is a newline at the end of the string. Since <code>\\S+</code> is greedy, it matches all the characters up to there, leaving the newline for <code>[^&quot;\\);]</code>.</p>\n<p>You could directly use <code>https?:[^&quot;\\);\\s]+</code> instead, which matches a sequence of consecutive characters that are not part of the excluded ones.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683613313,"creation_date":1683609697,"answer_id":76206073,"question_id":76205282,"body_markdown":"I would go for something simpler:\r\n\r\n    &quot;https?://[^\\&quot;]+&quot;\r\n\r\n(see [live demo][1])\r\n\r\nwhich matches everything up to, but not including, the next `&quot;`.\r\n\r\n&quot;//&quot; added to the protocol for tighter match.\r\n\r\n---\r\n\r\nBy the way, you don&#39;t need all that code. This returns the url, or blank if no url found, all in one line of code:\r\n\r\n\tpublic static  String extractUrl(String str) {\r\n        return str.replaceAll(&quot;(?s).*?(?=http)([^\\&quot;]+).*|.*&quot;, &quot;$1&quot;);\r\n    }\r\n\r\nSee [live java demo][2].\r\n\r\nThe extra `|.*` at the end handles the &quot;no url&quot; scenario as a fallback in case the first regex fails to match, in which case group 1 will be blank.\r\n\r\n\r\n  [1]: https://rubular.com/r/cKAW6wlFISObVa\r\n  [2]: https://ideone.com/ImmId5","title":"Java Regex pattern to extract a url from a response string using Pattern and Matcher","body":"<p>I would go for something simpler:</p>\n<pre><code>&quot;https?://[^\\&quot;]+&quot;\n</code></pre>\n<p>(see <a href=\"https://rubular.com/r/cKAW6wlFISObVa\" rel=\"nofollow noreferrer\">live demo</a>)</p>\n<p>which matches everything up to, but not including, the next <code>&quot;</code>.</p>\n<p>&quot;//&quot; added to the protocol for tighter match.</p>\n<hr />\n<p>By the way, you don't need all that code. This returns the url, or blank if no url found, all in one line of code:</p>\n<pre><code>public static  String extractUrl(String str) {\n    return str.replaceAll(&quot;(?s).*?(?=http)([^\\&quot;]+).*|.*&quot;, &quot;$1&quot;);\n}\n</code></pre>\n<p>See <a href=\"https://ideone.com/ImmId5\" rel=\"nofollow noreferrer\">live java demo</a>.</p>\n<p>The extra <code>|.*</code> at the end handles the &quot;no url&quot; scenario as a fallback in case the first regex fails to match, in which case group 1 will be blank.</p>\n"}],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76205334,"answer_count":2,"score":0,"last_activity_date":1683613313,"creation_date":1683595362,"question_id":76205282,"body_markdown":"from the following response string I want to extract the the http url . \r\n\r\n    throw &#39;allowScriptTagRemoting is false.&#39;;\r\n    //#AWR-INSERT\r\n    //#AWR-REPLY\r\n    dwr.engine._remoteHandleCallback(&#39;2&#39;,&#39;0&#39;,\\&quot;https://azqa.ms.tors.com/mediaservice/api/v2/media/showme_cf17c4eb_8368_4862_a97a_a5a435849e32/NG_LANDING/status?token=96389580449a866d787fcc1fbb8dac8fa893d8378a9d0a9b28a6569f29acb97cd85292dec28c2a3dad7c97dda33140a3f34fe7929e2646714a9a183cc58f8f9c,7400505368697056934,1683592125,2&quot;);\r\n\r\nI tried the following code using Pattern and Matcher:\r\n\r\n     public static  String extractUrl(String str){\r\n                String url= &quot;&quot;;\r\n                Pattern pattern = Pattern.compile(&quot;https?:\\\\S+[^\\&quot;);]&quot;);\r\n                Matcher matcher = pattern.matcher(str);\r\n                if(matcher.find()) {\r\n                    url = matcher.group(0);\r\n                    System.out.println(&quot;Media services URl is :\\n &quot;+ url);\r\n                    log.info(&quot;Media services URl is :\\n {}&quot;, url);\r\n                }\r\n                    return url;\r\n       }\r\n\r\nHowever, I see the `&quot;);` getting appended to the `url`. What am I missing here? , shouldn&#39;t the `[^\\&quot;);]` exclude the same. \r\n\r\n[on : regex101][1] \r\n\r\n\r\n  [1]: https://regex101.com/r/WojlZd/1","title":"Java Regex pattern to extract a url from a response string using Pattern and Matcher","body":"<p>from the following response string I want to extract the the http url .</p>\n<pre><code>throw 'allowScriptTagRemoting is false.';\n//#AWR-INSERT\n//#AWR-REPLY\ndwr.engine._remoteHandleCallback('2','0',\\&quot;https://azqa.ms.tors.com/mediaservice/api/v2/media/showme_cf17c4eb_8368_4862_a97a_a5a435849e32/NG_LANDING/status?token=96389580449a866d787fcc1fbb8dac8fa893d8378a9d0a9b28a6569f29acb97cd85292dec28c2a3dad7c97dda33140a3f34fe7929e2646714a9a183cc58f8f9c,7400505368697056934,1683592125,2&quot;);\n</code></pre>\n<p>I tried the following code using Pattern and Matcher:</p>\n<pre><code> public static  String extractUrl(String str){\n            String url= &quot;&quot;;\n            Pattern pattern = Pattern.compile(&quot;https?:\\\\S+[^\\&quot;);]&quot;);\n            Matcher matcher = pattern.matcher(str);\n            if(matcher.find()) {\n                url = matcher.group(0);\n                System.out.println(&quot;Media services URl is :\\n &quot;+ url);\n                log.info(&quot;Media services URl is :\\n {}&quot;, url);\n            }\n                return url;\n   }\n</code></pre>\n<p>However, I see the <code>&quot;);</code> getting appended to the <code>url</code>. What am I missing here? , shouldn't the <code>[^\\&quot;);]</code> exclude the same.</p>\n<p><a href=\"https://regex101.com/r/WojlZd/1\" rel=\"nofollow noreferrer\">on : regex101</a></p>\n"},{"tags":["java","spring-boot","macos","docker","port"],"comments":[{"owner":{"account_id":15738788,"reputation":294,"user_id":11356914,"display_name":"Manu"},"score":3,"creation_date":1637003608,"post_id":69979519,"comment_id":123703909,"body_markdown":"with `-p 9090:8080` your application inside docker would be reachable with `localhost:9090` on your machine, not 8080. Check your firewall, maybe something is wrong with your ports?","body":"with <code>-p 9090:8080</code> your application inside docker would be reachable with <code>localhost:9090</code> on your machine, not 8080. Check your firewall, maybe something is wrong with your ports?"},{"owner":{"account_id":5715690,"reputation":2296,"user_id":4515989,"accept_rate":78,"display_name":"Felix"},"score":0,"creation_date":1637012432,"post_id":69979519,"comment_id":123706794,"body_markdown":"@Manu while what you said is true, looking closer at the output it seems like the docker CLI is having problems to connect to the internal sockets","body":"@Manu while what you said is true, looking closer at the output it seems like the docker CLI is having problems to connect to the internal sockets"}],"answers":[{"tags":[],"owner":{"account_id":18185227,"reputation":63,"user_id":13232116,"display_name":"Yotam Cohen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637086813,"creation_date":1637086813,"answer_id":69994235,"question_id":69979519,"body_markdown":"So I finally managed to solve the problem.\r\nThere were a few problems that I had:\r\n\r\nIn the Dockerfile:\r\n1. My java version is 11 so I had to change the line in the Dockerfile to &quot;FROM openjdk:11&quot;.\r\n\r\n2. I needed to add &quot;.jar&quot; to the last parameter in the ADD line.\r\n(changed it to ADD target/digital-wallet-docker.jar digital-wallet-docker.jar)\r\n\r\nIn my firewall:\r\nI needed to modify my privacy settings. I enabled the Location Services for Docker and it solved the &quot;Ports are not available&quot; error that I had.\r\n\r\nHope it&#39;ll help :)","title":"Docker - &quot;Ports are not available&quot; problem on Mac","body":"<p>So I finally managed to solve the problem.\nThere were a few problems that I had:</p>\n<p>In the Dockerfile:</p>\n<ol>\n<li><p>My java version is 11 so I had to change the line in the Dockerfile to &quot;FROM openjdk:11&quot;.</p>\n</li>\n<li><p>I needed to add &quot;.jar&quot; to the last parameter in the ADD line.\n(changed it to ADD target/digital-wallet-docker.jar digital-wallet-docker.jar)</p>\n</li>\n</ol>\n<p>In my firewall:\nI needed to modify my privacy settings. I enabled the Location Services for Docker and it solved the &quot;Ports are not available&quot; error that I had.</p>\n<p>Hope it'll help :)</p>\n"},{"tags":[],"owner":{"account_id":17693618,"reputation":11,"user_id":12844864,"display_name":"aabidm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683611650,"creation_date":1683611650,"answer_id":76206231,"question_id":69979519,"body_markdown":"Was facing a similar issue in Flask. Changed the port to 5004 and it worked!","title":"Docker - &quot;Ports are not available&quot; problem on Mac","body":"<p>Was facing a similar issue in Flask. Changed the port to 5004 and it worked!</p>\n"}],"owner":{"account_id":18185227,"reputation":63,"user_id":13232116,"display_name":"Yotam Cohen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1579,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1683611650,"creation_date":1637002743,"question_id":69979519,"body_markdown":"I&#39;ve done a mini project with Java Spring and I&#39;m trying to Dockerize it.\r\nEverything is going fine until I try to run the docker.\r\nWhen I&#39;m running the docker I get a &quot;Ports are not available&quot; error.\r\n\r\n[![Dockerfile][1]][1]\r\n\r\n\r\n[![Terminal][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mur6I.png\r\n  [2]: https://i.stack.imgur.com/OQp2P.png\r\n\r\nI have been trying to set the EXPOSE on the Dockerfile to many other ports (8085, 9000, 9090...) and changing the docker run command accordingly but nothing worked.\r\nAnother thing to mention is that when I&#39;m trying to access &quot;http://localhost:8080/&quot; to see if it is actually taken, there is nothing there.\r\n\r\nHow do I fix it?\r\n\r\nUpdate: \r\nI tried running the getting-started docker and it gave me the same error message so the problem is with my docker.\r\nDoes anyone got the same problem and was able to fix it?","title":"Docker - &quot;Ports are not available&quot; problem on Mac","body":"<p>I've done a mini project with Java Spring and I'm trying to Dockerize it.\nEverything is going fine until I try to run the docker.\nWhen I'm running the docker I get a &quot;Ports are not available&quot; error.</p>\n<p><a href=\"https://i.stack.imgur.com/Mur6I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mur6I.png\" alt=\"Dockerfile\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/OQp2P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OQp2P.png\" alt=\"Terminal\" /></a></p>\n<p>I have been trying to set the EXPOSE on the Dockerfile to many other ports (8085, 9000, 9090...) and changing the docker run command accordingly but nothing worked.\nAnother thing to mention is that when I'm trying to access &quot;http://localhost:8080/&quot; to see if it is actually taken, there is nothing there.</p>\n<p>How do I fix it?</p>\n<p>Update:\nI tried running the getting-started docker and it gave me the same error message so the problem is with my docker.\nDoes anyone got the same problem and was able to fix it?</p>\n"},{"tags":["java","android","android-databinding"],"answers":[{"tags":[],"owner":{"account_id":25538318,"reputation":1,"user_id":19324938,"display_name":"xenia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683610412,"creation_date":1683610412,"answer_id":76206126,"question_id":75402981,"body_markdown":"According to this article:[&quot;Avoiding memory leaks when using Data Binding and View Binding&quot; by Anders Ulln&#230;ss][1]  Yes, you have to set a data binding to null in the OnDestroyView() method because a data binding is actually a view binding. Alternatively, you can use the unbind() function.\r\n\r\n\r\n  [1]: https://proandroiddev.com/avoiding-memory-leaks-when-using-data-binding-and-view-binding-3b91d571c150","title":"set data binding null like view binding","body":"<p>According to this article:<a href=\"https://proandroiddev.com/avoiding-memory-leaks-when-using-data-binding-and-view-binding-3b91d571c150\" rel=\"nofollow noreferrer\">&quot;Avoiding memory leaks when using Data Binding and View Binding&quot; by Anders Ullnæss</a>  Yes, you have to set a data binding to null in the OnDestroyView() method because a data binding is actually a view binding. Alternatively, you can use the unbind() function.</p>\n"}],"owner":{"account_id":18702916,"reputation":389,"user_id":13634739,"display_name":"StackOverflower"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683610412,"creation_date":1675967595,"question_id":75402981,"body_markdown":"One of our dear fellow android developer asked that [Is it necessary to set ViewBinding to null in Fragment&#39;s onDestroy()?][1] and the answer was yes. i don&#39;t use `view binding` per se, is use [Data Binding][2] mostly for fragment bescause of suggested [single activity][3] method. But i did not find any reference to set data binding null in `onDestroy` or `onDestroyView`. In data binding we can use `setLifecycleOwner` for our data binding. Life cycle owner can be `this` as the `fragment` itself or `requireActivity`. My two Questions are :\r\n\r\nQuestion 1 :  like `view binding` do we need to set dataBinding null ? (data binding kinda does view binding&#39;s job that&#39;s why i&#39;m asking this Question) \r\n\r\nQuestion 2 : if yes then what really `setLifecycleOwner` for ?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66119231/is-it-necessary-to-set-viewbinding-to-null-in-fragments-ondestroy\r\n  [2]: https://developer.android.com/topic/libraries/data-binding\r\n  [3]: https://developer.android.com/guide/navigation/navigation-getting-started","title":"set data binding null like view binding","body":"<p>One of our dear fellow android developer asked that <a href=\"https://stackoverflow.com/questions/66119231/is-it-necessary-to-set-viewbinding-to-null-in-fragments-ondestroy\">Is it necessary to set ViewBinding to null in Fragment's onDestroy()?</a> and the answer was yes. i don't use <code>view binding</code> per se, is use <a href=\"https://developer.android.com/topic/libraries/data-binding\" rel=\"nofollow noreferrer\">Data Binding</a> mostly for fragment bescause of suggested <a href=\"https://developer.android.com/guide/navigation/navigation-getting-started\" rel=\"nofollow noreferrer\">single activity</a> method. But i did not find any reference to set data binding null in <code>onDestroy</code> or <code>onDestroyView</code>. In data binding we can use <code>setLifecycleOwner</code> for our data binding. Life cycle owner can be <code>this</code> as the <code>fragment</code> itself or <code>requireActivity</code>. My two Questions are :</p>\n<p>Question 1 :  like <code>view binding</code> do we need to set dataBinding null ? (data binding kinda does view binding's job that's why i'm asking this Question)</p>\n<p>Question 2 : if yes then what really <code>setLifecycleOwner</code> for ?</p>\n"},{"tags":["java","junit5"],"answers":[{"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683609730,"creation_date":1569996676,"answer_id":58196069,"question_id":58193392,"body_markdown":"Here&#39;s the annotation processor that does what you want. Your attempt was pretty close I&#39;d say.\r\n\r\n    class AnnotationProcessor implements ParameterResolver{\r\n    \t@Override\r\n    \tpublic boolean supportsParameter(\r\n    \t\tParameterContext parameterContext, \r\n    \t\tExtensionContext extensionContext\r\n    \t) {\r\n    \t\tParameter parameter = parameterContext.getParameter();\r\n    \r\n    \t\tType type = parameter.getParameterizedType();\r\n    \t\tif (type instanceof ParameterizedType) {\r\n    \t\t\tParameterizedType parameterizedType = (ParameterizedType) type;\r\n    \t\t\tif (!parameterizedType.getRawType().equals(List.class))\r\n    \t\t\t\treturn false;\r\n    \t\t\tType firstParameterType = parameterizedType.getActualTypeArguments()[0];\r\n    \t\t\treturn firstParameterType.equals(Person.class);\r\n    \t\t}\r\n    \r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object resolveParameter(\r\n    \t\tParameterContext parameterContext,\r\n    \t\tExtensionContext extensionContext\r\n    \t) {\r\n    \t\treturn Arrays.asList(new Person(), new Person());\r\n    \t}\r\n    }\r\n\r\n## How does it work?\r\n\r\nHandling annotations through reflection is an involved task because it was added to Java as an afterthought. That&#39;s why you have to do all the `instanceof` type checking. Apart from that it works reliably.\r\n\r\n## Why does it work?\r\n\r\nType erasure does not strike in this case because type erasure only erases types from runtime objects. It does _not_ erase types from _type declarations_ like parameters and return types. If it did many of the funny things that libraries do with generic types would not work. There are a few bugs in the JDK regarding generic type handling together with annotations but they&#39;ll only get you if you go for esoteric stuff like &quot;annotations on type parameters in innner non static classes&quot;. For straightforward uses like yours everything should be fine.","title":"JUnit method parameter check if List&lt;Person&gt;","body":"<p>Here's the annotation processor that does what you want. Your attempt was pretty close I'd say.</p>\n<pre><code>class AnnotationProcessor implements ParameterResolver{\n    @Override\n    public boolean supportsParameter(\n        ParameterContext parameterContext, \n        ExtensionContext extensionContext\n    ) {\n        Parameter parameter = parameterContext.getParameter();\n\n        Type type = parameter.getParameterizedType();\n        if (type instanceof ParameterizedType) {\n            ParameterizedType parameterizedType = (ParameterizedType) type;\n            if (!parameterizedType.getRawType().equals(List.class))\n                return false;\n            Type firstParameterType = parameterizedType.getActualTypeArguments()[0];\n            return firstParameterType.equals(Person.class);\n        }\n\n        return false;\n    }\n\n    @Override\n    public Object resolveParameter(\n        ParameterContext parameterContext,\n        ExtensionContext extensionContext\n    ) {\n        return Arrays.asList(new Person(), new Person());\n    }\n}\n</code></pre>\n<h2>How does it work?</h2>\n<p>Handling annotations through reflection is an involved task because it was added to Java as an afterthought. That's why you have to do all the <code>instanceof</code> type checking. Apart from that it works reliably.</p>\n<h2>Why does it work?</h2>\n<p>Type erasure does not strike in this case because type erasure only erases types from runtime objects. It does <em>not</em> erase types from <em>type declarations</em> like parameters and return types. If it did many of the funny things that libraries do with generic types would not work. There are a few bugs in the JDK regarding generic type handling together with annotations but they'll only get you if you go for esoteric stuff like &quot;annotations on type parameters in innner non static classes&quot;. For straightforward uses like yours everything should be fine.</p>\n"}],"owner":{"account_id":465939,"reputation":3614,"user_id":870382,"accept_rate":56,"display_name":"Novice User"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58196069,"answer_count":1,"score":3,"last_activity_date":1683609730,"creation_date":1569971467,"question_id":58193392,"body_markdown":"In JUnit, I am using `ParameterResolver` to dynamically create and inject method argument to a `Test`, this works for non generic methods like the one below which is expecting `Person peron`. How can I instead change it to `List&lt;Person&gt; personList`and have the `supportsParameter` check if `List` is of `Person`\r\n\r\n    @ExtendWith({AnnotationProcessor.class})\r\n    public void testInject(Person person) {\r\n        System.out.println(person);\r\n    }\r\n\r\n\r\nAnnotationProcessor.java\r\n\r\n    @Override\r\n    public boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext)\r\n            throws ParameterResolutionException {\r\n        Parameter parameter = parameterContext.getParameter();\r\n        \r\n        return Person.class.equals(parameter.getType());\r\n    }\r\n\r\nThe closest I was able to use is :\r\n\r\n \r\n\r\n       @Override\r\n        public boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext)\r\n                throws ParameterResolutionException {\r\n            Parameter parameter = parameterContext.getParameter();\r\n    \r\n            if (parameter.getParameterizedType()!= null &amp;&amp; List.class.equals(parameter.getType())) {\r\n                if (parameter.getParameterizedType() instanceof ParameterizedType) {\r\n                    ParameterizedType pt = (ParameterizedType)parameter.getParameterizedType();\r\n                    Class&lt;?&gt; clazz = (Class&lt;?&gt;)pt.getActualTypeArguments()[0];\r\n                    if (clazz == Person.class) return true;\r\n                }\r\n    \r\n    \r\n            }\r\n    \r\n            return false;\r\n        }","title":"JUnit method parameter check if List&lt;Person&gt;","body":"<p>In JUnit, I am using <code>ParameterResolver</code> to dynamically create and inject method argument to a <code>Test</code>, this works for non generic methods like the one below which is expecting <code>Person peron</code>. How can I instead change it to <code>List&lt;Person&gt; personList</code>and have the <code>supportsParameter</code> check if <code>List</code> is of <code>Person</code></p>\n\n<pre><code>@ExtendWith({AnnotationProcessor.class})\npublic void testInject(Person person) {\n    System.out.println(person);\n}\n</code></pre>\n\n<p>AnnotationProcessor.java</p>\n\n<pre><code>@Override\npublic boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext)\n        throws ParameterResolutionException {\n    Parameter parameter = parameterContext.getParameter();\n\n    return Person.class.equals(parameter.getType());\n}\n</code></pre>\n\n<p>The closest I was able to use is :</p>\n\n<pre><code>   @Override\n    public boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext)\n            throws ParameterResolutionException {\n        Parameter parameter = parameterContext.getParameter();\n\n        if (parameter.getParameterizedType()!= null &amp;&amp; List.class.equals(parameter.getType())) {\n            if (parameter.getParameterizedType() instanceof ParameterizedType) {\n                ParameterizedType pt = (ParameterizedType)parameter.getParameterizedType();\n                Class&lt;?&gt; clazz = (Class&lt;?&gt;)pt.getActualTypeArguments()[0];\n                if (clazz == Person.class) return true;\n            }\n\n\n        }\n\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","dependency-injection","dagger-2"],"comments":[{"owner":{"account_id":9849101,"reputation":1255,"user_id":7295690,"display_name":"seyed Jafari"},"score":0,"creation_date":1559447201,"post_id":56412033,"comment_id":99420966,"body_markdown":"try cleaning your project. \nI met the same issue and it was resolved by a clean","body":"try cleaning your project.  I met the same issue and it was resolved by a clean"},{"owner":{"account_id":6302644,"reputation":5803,"user_id":4896784,"display_name":"ismail alaoui"},"score":0,"creation_date":1559449322,"post_id":56412033,"comment_id":99421200,"body_markdown":"could you please add your app gradle dependencies ?","body":"could you please add your app gradle dependencies ?"},{"owner":{"account_id":3283149,"reputation":2897,"user_id":2763238,"accept_rate":76,"display_name":"jacoballenwood"},"score":0,"creation_date":1559507919,"post_id":56412033,"comment_id":99433198,"body_markdown":"hello, thanks for the comments. I have cleaned the project and added some additional information to the question, including my dependencies! Thanks!","body":"hello, thanks for the comments. I have cleaned the project and added some additional information to the question, including my dependencies! Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":12566271,"reputation":634,"user_id":9142147,"display_name":"Maxim Alov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569353668,"creation_date":1569353668,"answer_id":58087095,"question_id":56412033,"body_markdown":"You have your ```BaseDialogFragment_MembersInjector``` generated multiple times actually, for each of your sub-modules, as described. And there is a collision while assembling the topmost **:app** module. Clean or delete **build/** directories and recreating them won&#39;t help actually.\r\n\r\nWhat you should do is to extend your ```BaseDialogFragment```, say, making ```SimpleBaseDialogFragment extends BaseDialogFragment``` in **:base** module (near ```BaseDialogFragment```).\r\n\r\n - Then you **must** add some dummy @Inject-annotated field to it (to force Dagger to generate single ```_MembersInjector``` in **:base** rather than in sub-modules).\r\n\r\n - And then extend any further dialog-fragments from that ```SimpleBaseDialogFragment```, then clear and rebuild project.\r\n\r\nFor example (in Kotlin):\r\n\r\n```lang-java\r\nclass DummyInjectableField @Inject constructor() {}\r\n\r\nclass SimpleBaseDialogFragment : BaseDialogFragment() {\r\n\r\n    @Inject lateinit var dummy: DummyInjectableField\r\n}\r\n\r\n```\r\n\r\nThis is just a workaround, and this helped in my case.\r\nPlease, see explanation here: https://github.com/google/dagger/issues/955\r\n","title":"Dagger generating duplicate `XXXDialogFragment_MembersInjector` classes in Android app (Program type already present)","body":"<p>You have your <code>BaseDialogFragment_MembersInjector</code> generated multiple times actually, for each of your sub-modules, as described. And there is a collision while assembling the topmost <strong>:app</strong> module. Clean or delete <strong>build/</strong> directories and recreating them won't help actually.</p>\n\n<p>What you should do is to extend your <code>BaseDialogFragment</code>, say, making <code>SimpleBaseDialogFragment extends BaseDialogFragment</code> in <strong>:base</strong> module (near <code>BaseDialogFragment</code>).</p>\n\n<ul>\n<li><p>Then you <strong>must</strong> add some dummy @Inject-annotated field to it (to force Dagger to generate single <code>_MembersInjector</code> in <strong>:base</strong> rather than in sub-modules).</p></li>\n<li><p>And then extend any further dialog-fragments from that <code>SimpleBaseDialogFragment</code>, then clear and rebuild project.</p></li>\n</ul>\n\n<p>For example (in Kotlin):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class DummyInjectableField @Inject constructor() {}\n\nclass SimpleBaseDialogFragment : BaseDialogFragment() {\n\n    @Inject lateinit var dummy: DummyInjectableField\n}\n\n</code></pre>\n\n<p>This is just a workaround, and this helped in my case.\nPlease, see explanation here: <a href=\"https://github.com/google/dagger/issues/955\" rel=\"nofollow noreferrer\">https://github.com/google/dagger/issues/955</a></p>\n"}],"owner":{"account_id":3283149,"reputation":2897,"user_id":2763238,"accept_rate":76,"display_name":"jacoballenwood"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2349,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1683607903,"creation_date":1559446801,"question_id":56412033,"body_markdown":"I have a `BaseDialogFragment` that uses dependency injection with Dagger, and then I have two different modules that subclass the `BaseDialogFragment`.\r\n\r\nWhen attempting to build I&#39;m getting the following error:\r\n\r\n```\r\n&gt; Task :app:transformClassesWithDexBuilderForDevelopmentDebug\r\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Program type already present: BaseDialogFragment_MembersInjector&quot;,&quot;sources&quot;:[{}],&quot;tool&quot;:&quot;D8&quot;}\r\n\r\n&gt; Task :app:transformDexArchiveWithDexMergerForDevelopmentDebug FAILED\r\njava.lang.RuntimeException: java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives: \r\n```\r\n\r\nI&#39;ve searched my project and it appears that there are only two different `BaseDialogFragment_MembersInjector` classes being generated: one in each respective module.\r\n\r\nI have already:\r\n\r\n1. Cleaned the project\r\n2. Deleted the generated duplicate class\r\n3. Invalidated caches and restarted\r\n4. Updated Dagger version\r\n3. Ensured that `multidexEnabled` is set to true\r\n6. Added unnecessary `@inject` field on base class per recommendation found [here](https://github.com/google/dagger/issues/955)\r\n\r\n---\r\n\r\n`android.gradle`:\r\n\r\n```gradle\r\nandroid {\r\n    compileSdkVersion &quot;$android_compile_version&quot;.toInteger()\r\n    defaultConfig {\r\n        minSdkVersion &quot;$android_min_sdk&quot;.toInteger()\r\n        targetSdkVersion &quot;$android_target_sdk&quot;.toInteger()\r\n        versionCode = 1\r\n        versionName = &quot;1.0&quot;\r\n        manifestPlaceholders = rootProject.ext.manifestPlaceholders\r\n\r\n        renderscriptTargetApi 17\r\n\r\n        testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n\r\n        multiDexEnabled true\r\n        vectorDrawables.useSupportLibrary = true\r\n\r\n        javaCompileOptions {\r\n            annotationProcessorOptions {\r\n                arguments = [&quot;room.schemaLocation&quot;: &quot;$projectDir/schemas&quot;.toString()]\r\n            }\r\n        }\r\n    }\r\n\r\n    packagingOptions {\r\n        exclude &quot;META-INF/DEPENDENCIES&quot;\r\n        exclude &quot;META-INF/NOTICE&quot;\r\n        exclude &quot;META-INF/LICENSE&quot;\r\n        exclude &quot;META-INF/LICENSE.txt&quot;\r\n        exclude &quot;META-INF/NOTICE.txt&quot;\r\n        exclude &quot;META-INF/maven/com.google.guava/guava/pom.properties&quot;\r\n        exclude &quot;META-INF/maven/com.google.guava/guava/pom.xml&quot;\r\n        exclude &quot;LICENSE.txt&quot;\r\n        exclude &quot;.readme&quot;\r\n    }\r\n\r\n    signingConfigs {\r\n        debug {\r\n            storeFile file(&quot;${rootProject.projectDir}/keystores/debug.keystore&quot;)\r\n        }\r\n        release {\r\n            storeFile file(&quot;/opt/android-keystore/youversion.keystore&quot;)\r\n            storePassword &quot;youversion&quot;\r\n            keyAlias System.getenv(&quot;CERT_USER&quot;)\r\n            keyPassword System.getenv(&quot;CERT_PASS&quot;)\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        debug {\r\n            debuggable true\r\n            minifyEnabled false\r\n            testCoverageEnabled coverage\r\n            if (project.name == &quot;app&quot;) {\r\n                proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\r\n                testProguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;test-proguard-rules.pro&quot;\r\n            }\r\n            multiDexKeepProguard file(&quot;${rootProject.projectDir}/config/proguard/test-proguard-keep.pro&quot;)\r\n            signingConfig signingConfigs.debug\r\n            ext.enableCrashlytics = false\r\n            matchingFallbacks = [&#39;release&#39;]\r\n        }\r\n        release {\r\n            debuggable false\r\n            minifyEnabled project.name == &quot;app&quot;\r\n            shrinkResources project.name == &quot;app&quot;\r\n            if (project.name == &quot;app&quot;) {\r\n                proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\r\n            }\r\n            signingConfig signingConfigs.release\r\n        }\r\n    }\r\n\r\n    testOptions {\r\n        animationsDisabled true\r\n    }\r\n\r\n    dataBinding {\r\n        enabled true\r\n    }\r\n\r\n    lintOptions {\r\n        lintConfig file(&quot;$rootProject.projectDir/config/lint/default.xml&quot;)\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    useLibrary &quot;org.apache.http.legacy&quot;\r\n}\r\n\r\n```\r\n\r\n`dependencies.gradle`:\r\n\r\n```\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:$kotlin_coroutines&quot;\r\n    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:$kotlin_coroutines&quot;\r\n\r\n    if (project.parent?.name == &quot;modules&quot; &amp;&amp; project.name != &quot;base&quot;) {\r\n        implementation project(&quot;:modules:base&quot;)\r\n    }\r\n\r\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-serialization-runtime:0.11.0-LC2&quot;) {\r\n        exclude group: &quot;org.jetbrains.kotlin&quot;\r\n    }\r\n\r\n    // brotli\r\n    implementation &quot;org.brotli:dec:$brotli_version&quot;\r\n\r\n    // wire\r\n    implementation &quot;com.squareup.wire:wire-runtime:2.3.0-RC1&quot;\r\n\r\n    // arch\r\n    implementation &quot;android.arch.lifecycle:extensions:$app_arch_version&quot;\r\n    implementation &quot;android.arch.persistence.room:runtime:$app_arch_version&quot;\r\n\r\n    // flurry\r\n    implementation &quot;com.flurry.android:analytics:$flurry_version@aar&quot;\r\n\r\n    // proto\r\n    implementation(&quot;youversion.android:protobuf:$bible_proto_version@aar&quot;) {\r\n        exclude group: &quot;com.google.code.findbugs&quot;\r\n        exclude group: &quot;com.squareup.okio&quot;\r\n        exclude group: &quot;com.squareup.okhttp3&quot;\r\n        exclude group: &quot;com.google.android.gms&quot;\r\n        exclude group: &quot;com.facebook.android&quot;\r\n        exclude group: &quot;com.android.support&quot;\r\n        exclude group: &quot;com.github.bumptech.glide&quot;\r\n        exclude group: &quot;com.google.firebase&quot;\r\n        exclude group: &quot;com.android.databinding&quot;\r\n        exclude group: &quot;com.google.dagger&quot;\r\n        exclude group: &quot;android.arch.lifecycle&quot;\r\n        exclude group: &quot;android.arch.persistence.room&quot;\r\n    }\r\n\r\n    // nuclei\r\n    api(&quot;nuclei.android:nuclei-android:$nuclei_version&quot;) {\r\n        exclude group: &quot;com.android.support&quot;\r\n        exclude group: &quot;com.google.android.gms&quot;\r\n        exclude group: &quot;com.google.android.exoplayer&quot;\r\n        exclude group: &quot;com.squareup.okhttp3&quot;\r\n    }\r\n    api(&quot;nuclei3.android:nuclei-android:$nuclei3_version&quot;) {\r\n        exclude group: &quot;com.android.support&quot;\r\n        exclude group: &quot;com.google.android.gms&quot;\r\n        exclude group: &quot;com.google.android.exoplayer&quot;\r\n        exclude group: &quot;com.squareup.okhttp3&quot;\r\n    }\r\n\r\n    implementation &quot;com.squareup.okhttp3:okhttp:$okhttp_version&quot;\r\n    implementation &quot;com.squareup.okhttp3:logging-interceptor:$okhttp_version&quot;\r\n    androidTestImplementation(&quot;com.squareup.okhttp3:mockwebserver:$okhttp_version&quot;) {\r\n        exclude group: &quot;com.android.support&quot;, module: &quot;multidex&quot;\r\n    }\r\n    implementation &quot;com.squareup.sqldelight:android-driver:$sqldelight_version&quot;\r\n    implementation &quot;com.android.support:multidex:$support_multidex_version&quot;\r\n\r\n    // play services\r\n    implementation &quot;com.google.android.gms:play-services-auth:$play_services_auth_version&quot;\r\n    implementation &quot;com.google.android.gms:play-services-maps:$play_services_maps_version&quot;\r\n    implementation &quot;com.google.android.gms:play-services-cast-framework:$play_services_cast_version&quot;\r\n    implementation &quot;com.google.android.gms:play-services-base:$play_services_base_version&quot;\r\n\r\n    // android support libraries\r\n    implementation &quot;com.android.support:appcompat-v7:$support_lib_version&quot;\r\n    implementation &quot;com.android.support:support-v4:$support_lib_version&quot;\r\n    implementation &quot;com.android.support:design:$support_lib_version&quot;\r\n    implementation &quot;com.android.support:cardview-v7:$support_lib_version&quot;\r\n    implementation &quot;com.android.support:recyclerview-v7:$support_lib_version&quot;\r\n    implementation &quot;com.android.support:gridlayout-v7:$support_lib_version&quot;\r\n    implementation &quot;com.android.support:palette-v7:$support_lib_version&quot;\r\n    implementation &quot;com.android.support:customtabs:$support_lib_version&quot;\r\n    implementation &quot;com.android.support:mediarouter-v7:$support_lib_version&quot;\r\n    implementation &quot;com.android.support:support-dynamic-animation:$support_lib_version&quot;\r\n    implementation &quot;com.android.support.constraint:constraint-layout:$constraint_layout_version&quot;\r\n    implementation &quot;com.android.support:preference-v14:$support_lib_version&quot;\r\n\r\n    // firebase\r\n    implementation &quot;com.google.firebase:firebase-messaging:$firebase_messaging_version&quot;\r\n    implementation &quot;com.google.firebase:firebase-invites:$firebase_invites_version&quot;\r\n    implementation &quot;com.google.firebase:firebase-appindexing:$firebase_app_indexing_version&quot;\r\n    implementation &quot;com.google.firebase:firebase-perf:$firebase_perf_version&quot;\r\n\r\n    // appboy\r\n    //implementation files(&quot;libs/appboy-mini.jar&quot;)\r\n    implementation &quot;com.appboy:android-sdk-base:$appboy_version@aar&quot;\r\n\r\n    // apps flyer\r\n    implementation &quot;com.appsflyer:af-android-sdk:$apps_flyer_version@aar&quot;\r\n\r\n    // glide image library\r\n    implementation (&quot;com.github.bumptech.glide:glide:$glide_version&quot;) {\r\n        exclude group: &quot;com.android.support&quot;\r\n    }\r\n    // glide okhttp module\r\n    implementation (&quot;com.github.bumptech.glide:okhttp-integration:$glide_version&quot;) {\r\n        exclude group: &quot;com.squareup.okhttp3&quot;, module: &quot;okhttp&quot;\r\n    }\r\n\r\n    // facebook support libraries\r\n    implementation &quot;com.facebook.android:facebook-android-sdk:$facebook_version&quot;\r\n\r\n    // crashlytics\r\n    implementation(&quot;com.crashlytics.sdk.android:crashlytics:$crashlytics_version@aar&quot;) {\r\n        transitive = true\r\n    }\r\n\r\n    // dagger\r\n    implementation(&quot;com.google.dagger:dagger:$dagger_version&quot;) {\r\n        exclude group: &quot;com.google.code.findbugs&quot;\r\n    }\r\n    implementation(&quot;com.google.dagger:dagger-android:$dagger_version&quot;) {\r\n        exclude group: &quot;com.google.code.findbugs&quot;\r\n    }\r\n    implementation(&quot;com.google.dagger:dagger-android-support:$dagger_version&quot;) {\r\n        exclude group: &quot;com.google.code.findbugs&quot;\r\n    }\r\n\r\n    kapt &quot;com.google.dagger:dagger-android-processor:$dagger_version&quot;\r\n    kapt &quot;com.google.dagger:dagger-compiler:$dagger_version&quot;\r\n\r\n    // arch apt\r\n    kapt &quot;android.arch.lifecycle:compiler:$app_arch_version&quot;\r\n    kapt &quot;android.arch.persistence.room:compiler:$app_arch_version&quot;\r\n\r\n    // branch\r\n    implementation &quot;io.branch.sdk.android:library:$branch_version&quot;\r\n\r\n    // Testing-only dependencies\r\n    androidTestImplementation project(&quot;:modules:tests&quot;)\r\n    androidTestImplementation &quot;androidx.test:core:$android_test_core&quot;\r\n    androidTestImplementation &quot;androidx.test:runner:$android_test_runner&quot;\r\n    androidTestImplementation &quot;androidx.test.espresso:espresso-core:$android_espresso_core&quot;\r\n}\r\n\r\n```\r\n\r\n---\r\n\r\nI&#39;ve also taken a look at this issue [here](https://github.com/google/dagger/issues/955) — not sure if it&#39;s related, but it sounds similar.\r\n\r\nCan anyone tell me what&#39;s going on here? Thanks for the help.","title":"Dagger generating duplicate `XXXDialogFragment_MembersInjector` classes in Android app (Program type already present)","body":"<p>I have a <code>BaseDialogFragment</code> that uses dependency injection with Dagger, and then I have two different modules that subclass the <code>BaseDialogFragment</code>.</p>\n\n<p>When attempting to build I'm getting the following error:</p>\n\n<pre><code>&gt; Task :app:transformClassesWithDexBuilderForDevelopmentDebug\nAGPBI: {\"kind\":\"error\",\"text\":\"Program type already present: BaseDialogFragment_MembersInjector\",\"sources\":[{}],\"tool\":\"D8\"}\n\n&gt; Task :app:transformDexArchiveWithDexMergerForDevelopmentDebug FAILED\njava.lang.RuntimeException: java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives: \n</code></pre>\n\n<p>I've searched my project and it appears that there are only two different <code>BaseDialogFragment_MembersInjector</code> classes being generated: one in each respective module.</p>\n\n<p>I have already:</p>\n\n<ol>\n<li>Cleaned the project</li>\n<li>Deleted the generated duplicate class</li>\n<li>Invalidated caches and restarted</li>\n<li>Updated Dagger version</li>\n<li>Ensured that <code>multidexEnabled</code> is set to true</li>\n<li>Added unnecessary <code>@inject</code> field on base class per recommendation found <a href=\"https://github.com/google/dagger/issues/955\" rel=\"nofollow noreferrer\">here</a></li>\n</ol>\n\n<hr>\n\n<p><code>android.gradle</code>:</p>\n\n<pre><code>android {\n    compileSdkVersion \"$android_compile_version\".toInteger()\n    defaultConfig {\n        minSdkVersion \"$android_min_sdk\".toInteger()\n        targetSdkVersion \"$android_target_sdk\".toInteger()\n        versionCode = 1\n        versionName = \"1.0\"\n        manifestPlaceholders = rootProject.ext.manifestPlaceholders\n\n        renderscriptTargetApi 17\n\n        testInstrumentationRunner = \"androidx.test.runner.AndroidJUnitRunner\"\n\n        multiDexEnabled true\n        vectorDrawables.useSupportLibrary = true\n\n        javaCompileOptions {\n            annotationProcessorOptions {\n                arguments = [\"room.schemaLocation\": \"$projectDir/schemas\".toString()]\n            }\n        }\n    }\n\n    packagingOptions {\n        exclude \"META-INF/DEPENDENCIES\"\n        exclude \"META-INF/NOTICE\"\n        exclude \"META-INF/LICENSE\"\n        exclude \"META-INF/LICENSE.txt\"\n        exclude \"META-INF/NOTICE.txt\"\n        exclude \"META-INF/maven/com.google.guava/guava/pom.properties\"\n        exclude \"META-INF/maven/com.google.guava/guava/pom.xml\"\n        exclude \"LICENSE.txt\"\n        exclude \".readme\"\n    }\n\n    signingConfigs {\n        debug {\n            storeFile file(\"${rootProject.projectDir}/keystores/debug.keystore\")\n        }\n        release {\n            storeFile file(\"/opt/android-keystore/youversion.keystore\")\n            storePassword \"youversion\"\n            keyAlias System.getenv(\"CERT_USER\")\n            keyPassword System.getenv(\"CERT_PASS\")\n        }\n    }\n\n    buildTypes {\n        debug {\n            debuggable true\n            minifyEnabled false\n            testCoverageEnabled coverage\n            if (project.name == \"app\") {\n                proguardFiles getDefaultProguardFile(\"proguard-android.txt\"), \"proguard-rules.pro\"\n                testProguardFiles getDefaultProguardFile(\"proguard-android.txt\"), \"test-proguard-rules.pro\"\n            }\n            multiDexKeepProguard file(\"${rootProject.projectDir}/config/proguard/test-proguard-keep.pro\")\n            signingConfig signingConfigs.debug\n            ext.enableCrashlytics = false\n            matchingFallbacks = ['release']\n        }\n        release {\n            debuggable false\n            minifyEnabled project.name == \"app\"\n            shrinkResources project.name == \"app\"\n            if (project.name == \"app\") {\n                proguardFiles getDefaultProguardFile(\"proguard-android.txt\"), \"proguard-rules.pro\"\n            }\n            signingConfig signingConfigs.release\n        }\n    }\n\n    testOptions {\n        animationsDisabled true\n    }\n\n    dataBinding {\n        enabled true\n    }\n\n    lintOptions {\n        lintConfig file(\"$rootProject.projectDir/config/lint/default.xml\")\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    useLibrary \"org.apache.http.legacy\"\n}\n\n</code></pre>\n\n<p><code>dependencies.gradle</code>:</p>\n\n<pre><code>dependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:$kotlin_coroutines\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:$kotlin_coroutines\"\n\n    if (project.parent?.name == \"modules\" &amp;&amp; project.name != \"base\") {\n        implementation project(\":modules:base\")\n    }\n\n    implementation(\"org.jetbrains.kotlinx:kotlinx-serialization-runtime:0.11.0-LC2\") {\n        exclude group: \"org.jetbrains.kotlin\"\n    }\n\n    // brotli\n    implementation \"org.brotli:dec:$brotli_version\"\n\n    // wire\n    implementation \"com.squareup.wire:wire-runtime:2.3.0-RC1\"\n\n    // arch\n    implementation \"android.arch.lifecycle:extensions:$app_arch_version\"\n    implementation \"android.arch.persistence.room:runtime:$app_arch_version\"\n\n    // flurry\n    implementation \"com.flurry.android:analytics:$flurry_version@aar\"\n\n    // proto\n    implementation(\"youversion.android:protobuf:$bible_proto_version@aar\") {\n        exclude group: \"com.google.code.findbugs\"\n        exclude group: \"com.squareup.okio\"\n        exclude group: \"com.squareup.okhttp3\"\n        exclude group: \"com.google.android.gms\"\n        exclude group: \"com.facebook.android\"\n        exclude group: \"com.android.support\"\n        exclude group: \"com.github.bumptech.glide\"\n        exclude group: \"com.google.firebase\"\n        exclude group: \"com.android.databinding\"\n        exclude group: \"com.google.dagger\"\n        exclude group: \"android.arch.lifecycle\"\n        exclude group: \"android.arch.persistence.room\"\n    }\n\n    // nuclei\n    api(\"nuclei.android:nuclei-android:$nuclei_version\") {\n        exclude group: \"com.android.support\"\n        exclude group: \"com.google.android.gms\"\n        exclude group: \"com.google.android.exoplayer\"\n        exclude group: \"com.squareup.okhttp3\"\n    }\n    api(\"nuclei3.android:nuclei-android:$nuclei3_version\") {\n        exclude group: \"com.android.support\"\n        exclude group: \"com.google.android.gms\"\n        exclude group: \"com.google.android.exoplayer\"\n        exclude group: \"com.squareup.okhttp3\"\n    }\n\n    implementation \"com.squareup.okhttp3:okhttp:$okhttp_version\"\n    implementation \"com.squareup.okhttp3:logging-interceptor:$okhttp_version\"\n    androidTestImplementation(\"com.squareup.okhttp3:mockwebserver:$okhttp_version\") {\n        exclude group: \"com.android.support\", module: \"multidex\"\n    }\n    implementation \"com.squareup.sqldelight:android-driver:$sqldelight_version\"\n    implementation \"com.android.support:multidex:$support_multidex_version\"\n\n    // play services\n    implementation \"com.google.android.gms:play-services-auth:$play_services_auth_version\"\n    implementation \"com.google.android.gms:play-services-maps:$play_services_maps_version\"\n    implementation \"com.google.android.gms:play-services-cast-framework:$play_services_cast_version\"\n    implementation \"com.google.android.gms:play-services-base:$play_services_base_version\"\n\n    // android support libraries\n    implementation \"com.android.support:appcompat-v7:$support_lib_version\"\n    implementation \"com.android.support:support-v4:$support_lib_version\"\n    implementation \"com.android.support:design:$support_lib_version\"\n    implementation \"com.android.support:cardview-v7:$support_lib_version\"\n    implementation \"com.android.support:recyclerview-v7:$support_lib_version\"\n    implementation \"com.android.support:gridlayout-v7:$support_lib_version\"\n    implementation \"com.android.support:palette-v7:$support_lib_version\"\n    implementation \"com.android.support:customtabs:$support_lib_version\"\n    implementation \"com.android.support:mediarouter-v7:$support_lib_version\"\n    implementation \"com.android.support:support-dynamic-animation:$support_lib_version\"\n    implementation \"com.android.support.constraint:constraint-layout:$constraint_layout_version\"\n    implementation \"com.android.support:preference-v14:$support_lib_version\"\n\n    // firebase\n    implementation \"com.google.firebase:firebase-messaging:$firebase_messaging_version\"\n    implementation \"com.google.firebase:firebase-invites:$firebase_invites_version\"\n    implementation \"com.google.firebase:firebase-appindexing:$firebase_app_indexing_version\"\n    implementation \"com.google.firebase:firebase-perf:$firebase_perf_version\"\n\n    // appboy\n    //implementation files(\"libs/appboy-mini.jar\")\n    implementation \"com.appboy:android-sdk-base:$appboy_version@aar\"\n\n    // apps flyer\n    implementation \"com.appsflyer:af-android-sdk:$apps_flyer_version@aar\"\n\n    // glide image library\n    implementation (\"com.github.bumptech.glide:glide:$glide_version\") {\n        exclude group: \"com.android.support\"\n    }\n    // glide okhttp module\n    implementation (\"com.github.bumptech.glide:okhttp-integration:$glide_version\") {\n        exclude group: \"com.squareup.okhttp3\", module: \"okhttp\"\n    }\n\n    // facebook support libraries\n    implementation \"com.facebook.android:facebook-android-sdk:$facebook_version\"\n\n    // crashlytics\n    implementation(\"com.crashlytics.sdk.android:crashlytics:$crashlytics_version@aar\") {\n        transitive = true\n    }\n\n    // dagger\n    implementation(\"com.google.dagger:dagger:$dagger_version\") {\n        exclude group: \"com.google.code.findbugs\"\n    }\n    implementation(\"com.google.dagger:dagger-android:$dagger_version\") {\n        exclude group: \"com.google.code.findbugs\"\n    }\n    implementation(\"com.google.dagger:dagger-android-support:$dagger_version\") {\n        exclude group: \"com.google.code.findbugs\"\n    }\n\n    kapt \"com.google.dagger:dagger-android-processor:$dagger_version\"\n    kapt \"com.google.dagger:dagger-compiler:$dagger_version\"\n\n    // arch apt\n    kapt \"android.arch.lifecycle:compiler:$app_arch_version\"\n    kapt \"android.arch.persistence.room:compiler:$app_arch_version\"\n\n    // branch\n    implementation \"io.branch.sdk.android:library:$branch_version\"\n\n    // Testing-only dependencies\n    androidTestImplementation project(\":modules:tests\")\n    androidTestImplementation \"androidx.test:core:$android_test_core\"\n    androidTestImplementation \"androidx.test:runner:$android_test_runner\"\n    androidTestImplementation \"androidx.test.espresso:espresso-core:$android_espresso_core\"\n}\n\n</code></pre>\n\n<hr>\n\n<p>I've also taken a look at this issue <a href=\"https://github.com/google/dagger/issues/955\" rel=\"nofollow noreferrer\">here</a> — not sure if it's related, but it sounds similar.</p>\n\n<p>Can anyone tell me what's going on here? Thanks for the help.</p>\n"},{"tags":["java","hibernate","maven"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1526515607,"post_id":50381567,"comment_id":87779198,"body_markdown":"Seems like `hibernate-jpa-2.0-api` dependency references old Hibernate 4.x","body":"Seems like <code>hibernate-jpa-2.0-api</code> dependency references old Hibernate 4.x"},{"owner":{"account_id":6741302,"reputation":1946,"user_id":5194484,"display_name":"GAURAV MOKASHI"},"score":0,"creation_date":1526515888,"post_id":50381567,"comment_id":87779271,"body_markdown":"@LuiggiMendoza no changes even after deleting  hibernate-jpa-2.0-api and updating maven","body":"@LuiggiMendoza no changes even after deleting  hibernate-jpa-2.0-api and updating maven"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1526515991,"post_id":50381567,"comment_id":87779297,"body_markdown":"Ok, can you check if there&#39;s a jar for hibernate-core 5.2.10.Final in your maven repositories folder? Maybe there&#39;s a corrupt jar there.","body":"Ok, can you check if there&#39;s a jar for hibernate-core 5.2.10.Final in your maven repositories folder? Maybe there&#39;s a corrupt jar there."},{"owner":{"account_id":6741302,"reputation":1946,"user_id":5194484,"display_name":"GAURAV MOKASHI"},"score":0,"creation_date":1526516149,"post_id":50381567,"comment_id":87779329,"body_markdown":"There is no jar for  hibernate-core 5.2.10.Final , even after updating maven, it is unable to download this particular jar.","body":"There is no jar for  hibernate-core 5.2.10.Final , even after updating maven, it is unable to download this particular jar."}],"answers":[{"tags":[],"owner":{"account_id":19071489,"reputation":11,"user_id":13925557,"display_name":"Nikita Gurin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683607320,"creation_date":1594681122,"answer_id":62885580,"question_id":50381567,"body_markdown":"You may check if any other _Maven_ projects of yours are currently using this dependency for `Hibernate`.\r\n\r\nIf they do, then deactivate them and after, put this dependency into the project&#39;s `pom.xml` file and update _*ALL*_ your _Maven_ projects.","title":"Missing artifact org.hibernate:hibernate-core","body":"<p>You may check if any other <em>Maven</em> projects of yours are currently using this dependency for <code>Hibernate</code>.</p>\n<p>If they do, then deactivate them and after, put this dependency into the project's <code>pom.xml</code> file and update <em><em>ALL</em></em> your <em>Maven</em> projects.</p>\n"},{"tags":[],"owner":{"account_id":24058891,"reputation":11,"user_id":18036382,"display_name":"pushkar goyal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683607223,"creation_date":1657363764,"answer_id":72920737,"question_id":50381567,"body_markdown":"I also faced this issue and I tried many things like restarting _Eclipse_ and `maven clean`\r\n\r\nIf you are using _Eclipse_ just `right-click -&gt; project -&gt; select run-as -&gt; click maven install`. ","title":"Missing artifact org.hibernate:hibernate-core","body":"<p>I also faced this issue and I tried many things like restarting <em>Eclipse</em> and <code>maven clean</code></p>\n<p>If you are using <em>Eclipse</em> just <code>right-click -&gt; project -&gt; select run-as -&gt; click maven install</code>.</p>\n"}],"owner":{"account_id":6741302,"reputation":1946,"user_id":5194484,"display_name":"GAURAV MOKASHI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10365,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1683607320,"creation_date":1526515496,"question_id":50381567,"body_markdown":"I&#39;m using Maven. I&#39;m having trouble downloading a dependency and getting the error, &quot;Missing artifact org.hibernate:hibernate-core:jar:5.2.10.final&quot;.\r\nI delete whole project an clone it again from git.I update maven dependencies, still there is no hibernate file load in it.\r\nHere is my pom.xml\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;gau&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;shoppingbackend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;shoppingbackend&lt;/name&gt;\r\n\t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;spring.version&gt;4.3.6.RELEASE&lt;/spring.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- SPRING --&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- H2 Database --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.193&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- Hibernate --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.10.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Database connection pooling --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;!-- update to latest java version --&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nGit link of my project\r\n\r\nhttps://github.com/Gauravmokashi/online-shopping.git\r\n","title":"Missing artifact org.hibernate:hibernate-core","body":"<p>I'm using Maven. I'm having trouble downloading a dependency and getting the error, \"Missing artifact org.hibernate:hibernate-core:jar:5.2.10.final\".\nI delete whole project an clone it again from git.I update maven dependencies, still there is no hibernate file load in it.\nHere is my pom.xml</p>\n\n<p>http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    4.0.0</p>\n\n<pre><code>&lt;groupId&gt;gau&lt;/groupId&gt;\n&lt;artifactId&gt;shoppingbackend&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;shoppingbackend&lt;/name&gt;\n&lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;spring.version&gt;4.3.6.RELEASE&lt;/spring.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- SPRING --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- H2 Database --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.4.193&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Hibernate --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.2.10.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Database connection pooling --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;!-- update to latest java version --&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>Git link of my project</p>\n\n<p><a href=\"https://github.com/Gauravmokashi/online-shopping.git\" rel=\"nofollow noreferrer\">https://github.com/Gauravmokashi/online-shopping.git</a></p>\n"},{"tags":["java","eclipse","hibernate"],"comments":[{"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"score":1,"creation_date":1469691145,"post_id":38629760,"comment_id":64643736,"body_markdown":"You don&#39;t need to configure hibernate, spring boot does it for you, please have a look at the spring JPA doc https://spring.io/guides/gs/accessing-data-jpa/","body":"You don&#39;t need to configure hibernate, spring boot does it for you, please have a look at the spring JPA doc <a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/accessing-data-jpa</a>"},{"owner":{"account_id":3685773,"reputation":819,"user_id":3069566,"accept_rate":85,"display_name":"Arty"},"score":0,"creation_date":1469691670,"post_id":38629760,"comment_id":64644085,"body_markdown":"I second @Saravana, the only configuration you should be touching will be adding the dependency in the pom. Gone are the days of tweaking config.xml files. Let Spring handle this for you :-)","body":"I second @Saravana, the only configuration you should be touching will be adding the dependency in the pom. Gone are the days of tweaking config.xml files. Let Spring handle this for you :-)"},{"owner":{"account_id":6469926,"reputation":7512,"user_id":5010413,"accept_rate":86,"display_name":"Edgaras Karka"},"score":0,"creation_date":1469692249,"post_id":38629760,"comment_id":64644450,"body_markdown":"If I am correct understand, Spring Data JPA is alternative for Hibernate, yes?","body":"If I am correct understand, Spring Data JPA is alternative for Hibernate, yes?"},{"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"score":0,"creation_date":1469766293,"post_id":38629760,"comment_id":64683052,"body_markdown":"JPA is a specification and hibernate is one of its implementations","body":"JPA is a specification and hibernate is one of its implementations"}],"answers":[{"tags":[],"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469766672,"creation_date":1469766232,"answer_id":38650478,"question_id":38629760,"body_markdown":"If you want to read the files in the resources directory, you need to use the classloder to get the file.\r\n\r\nIn static method\r\n\r\n    HibernateUtil.class.getClassLoader().getResource(&quot;hibernate.cfg.xml&quot;).getFile();\r\n\r\nnon static method\r\n\r\n    getClass().getClassLoader().getResource(&quot;hibernate.cfg.xml&quot;).getFile();\r\n\r\nand if the resource resides in any of the sub directories of `resources`, prefix the folder path while getting the resource\r\n\r\nExample to get the resource in META-INF directory \r\n\r\n    getResource(&quot;META-INF/hibernate.cfg.xml&quot;);\r\n\r\nBut spring boot auto configures, just by adding dependencies in `pom.xml` and providing JPA related properties in `application.properties`","title":"SpringBoot build Error: &quot;org.hibernate.HibernateException: /hibernate.cfg.xml not found from resources&quot;","body":"<p>If you want to read the files in the resources directory, you need to use the classloder to get the file.</p>\n\n<p>In static method</p>\n\n<pre><code>HibernateUtil.class.getClassLoader().getResource(\"hibernate.cfg.xml\").getFile();\n</code></pre>\n\n<p>non static method</p>\n\n<pre><code>getClass().getClassLoader().getResource(\"hibernate.cfg.xml\").getFile();\n</code></pre>\n\n<p>and if the resource resides in any of the sub directories of <code>resources</code>, prefix the folder path while getting the resource</p>\n\n<p>Example to get the resource in META-INF directory </p>\n\n<pre><code>getResource(\"META-INF/hibernate.cfg.xml\");\n</code></pre>\n\n<p>But spring boot auto configures, just by adding dependencies in <code>pom.xml</code> and providing JPA related properties in <code>application.properties</code></p>\n"},{"tags":[],"owner":{"account_id":8098043,"reputation":27,"user_id":6101913,"display_name":"黄伟杰"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683605921,"creation_date":1469766841,"answer_id":38650564,"question_id":38629760,"body_markdown":"If your application is a _web-service_ then you should put `hibernate.cfg.xml` in `WEB-INF` folder.\r\n\r\nIf your application is _client-service_ then you should put your `hibernate.cfg.xml` in `src` package. ","title":"SpringBoot build Error: &quot;org.hibernate.HibernateException: /hibernate.cfg.xml not found from resources&quot;","body":"<p>If your application is a <em>web-service</em> then you should put <code>hibernate.cfg.xml</code> in <code>WEB-INF</code> folder.</p>\n<p>If your application is <em>client-service</em> then you should put your <code>hibernate.cfg.xml</code> in <code>src</code> package.</p>\n"}],"owner":{"account_id":6469926,"reputation":7512,"user_id":5010413,"accept_rate":86,"display_name":"Edgaras Karka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1683605921,"creation_date":1469690951,"question_id":38629760,"body_markdown":"I have a new _SpringBoot_ project that I&#39;m using _gradle_ as the build manager and _Eclipse IDE_.\r\n\r\nI want to use _hibernate_ and the configurations from `hibernate.cfg.xml` file, but I&#39;m getting: \r\n\r\n    org.hibernate.HibernateException: /hibernate.cfg.xml not found\r\n\r\nI store this file in `resources` folder, also I tried put it into `META-INF` folder.\r\n\r\nproject structure:\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/aMZZ1.png\r\n\r\n`HibernateUtil.java`:\r\n\r\n    public class HibernateUtil {\r\n\t\r\n\tprivate static  SessionFactory sessionFactory = buildSessionFactory();\r\n\r\n\r\n\t private static SessionFactory buildSessionFactory()\r\n\t   {\r\n\t      try\r\n\t      {\r\n\t         if (sessionFactory == null)\r\n\t         {\r\n\t        \t sessionFactory = new Configuration().configure().buildSessionFactory();\r\n\t         }\r\n\t         return sessionFactory;\r\n\t      } catch (Throwable ex)\r\n\t      {\r\n\t         System.err.println(&quot;Initial SessionFactory creation failed.&quot; + ex);\r\n\t         throw new ExceptionInInitializerError(ex);\r\n\t      }\r\n\t }\r\n    \r\n    public static SessionFactory getSessionFactory() {\r\n        return sessionFactory;\r\n    }\r\n \r\n    public static void shutdown() {\r\n        // Close caches and connection pools\r\n        getSessionFactory().close();\r\n    }\r\n  }","title":"SpringBoot build Error: &quot;org.hibernate.HibernateException: /hibernate.cfg.xml not found from resources&quot;","body":"<p>I have a new <em>SpringBoot</em> project that I'm using <em>gradle</em> as the build manager and <em>Eclipse IDE</em>.</p>\n<p>I want to use <em>hibernate</em> and the configurations from <code>hibernate.cfg.xml</code> file, but I'm getting:</p>\n<pre><code>org.hibernate.HibernateException: /hibernate.cfg.xml not found\n</code></pre>\n<p>I store this file in <code>resources</code> folder, also I tried put it into <code>META-INF</code> folder.</p>\n<p>project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/aMZZ1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aMZZ1.png\" alt=\"enter image description here\" /></a></p>\n<p><code>HibernateUtil.java</code>:</p>\n<pre><code>public class HibernateUtil {\n\nprivate static  SessionFactory sessionFactory = buildSessionFactory();\n\n\n private static SessionFactory buildSessionFactory()\n   {\n      try\n      {\n         if (sessionFactory == null)\n         {\n             sessionFactory = new Configuration().configure().buildSessionFactory();\n         }\n         return sessionFactory;\n      } catch (Throwable ex)\n      {\n         System.err.println(&quot;Initial SessionFactory creation failed.&quot; + ex);\n         throw new ExceptionInInitializerError(ex);\n      }\n }\n\npublic static SessionFactory getSessionFactory() {\n    return sessionFactory;\n}\n\npublic static void shutdown() {\n    // Close caches and connection pools\n    getSessionFactory().close();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1592740511,"post_id":62498065,"comment_id":110526854,"body_markdown":"Does this answer your question? [How to override Spring Boot dependencies default version?](https://stackoverflow.com/questions/39613498/how-to-override-spring-boot-dependencies-default-version)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/39613498/how-to-override-spring-boot-dependencies-default-version\">How to override Spring Boot dependencies default version?</a>"}],"answers":[{"tags":[],"owner":{"account_id":7548491,"reputation":844,"user_id":5730762,"display_name":"Alexander Terekhov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592740179,"creation_date":1592740179,"answer_id":62498105,"question_id":62498065,"body_markdown":"The problem might be in transitive dependencies (some other dependency has a dependeny to okhttp3 3.14.9 and it can overriede 4.7.2 )\r\nYou can try to execute `mvn dependency:tree -Dverbose=true`\r\nhttps://maven.apache.org/plugins/maven-dependency-plugin/examples/resolving-conflicts-using-the-dependency-tree.html\r\nand find, which versions of okhttp3  you have,  and see which other dependency brought 3.14.9 version.","title":"Introducing dependencies in other projects causes Maven to downgrade okhttp3 version","body":"<p>The problem might be in transitive dependencies (some other dependency has a dependeny to okhttp3 3.14.9 and it can overriede 4.7.2 )\nYou can try to execute <code>mvn dependency:tree -Dverbose=true</code>\n<a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/examples/resolving-conflicts-using-the-dependency-tree.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-dependency-plugin/examples/resolving-conflicts-using-the-dependency-tree.html</a>\nand find, which versions of okhttp3  you have,  and see which other dependency brought 3.14.9 version.</p>\n"},{"tags":[],"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1592740714,"creation_date":1592740302,"answer_id":62498120,"question_id":62498065,"body_markdown":"The `spring-boot-starter-parent:2.3.1-RELEASE` that you extend manages the version of `com.squareup.okhttp3:okhttp` to 3.14.9 via [spring-boot-dependencies](https://search.maven.org/artifact/org.springframework.boot/spring-boot-dependencies/2.3.1.RELEASE/pom):\r\n\r\n```\r\n&lt;okhttp3.version&gt;3.14.9&lt;/okhttp3.version&gt;\r\n...\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n...\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n        &lt;version&gt;${okhttp3.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n...\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n```\r\nThis is documented under [dependency management](https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-dependency-management):\r\n\r\n&gt; Each release of Spring Boot provides a curated list of dependencies that it supports. In practice, you do not need to provide a version for any of these dependencies in your build configuration, as Spring Boot manages that for you.\r\n\r\nYou&#39;ll need to either accept that, and work with that version, or set the `okhttp3.version` property in your project for the `okhtttp` version that you&#39;d like to build with.","title":"Introducing dependencies in other projects causes Maven to downgrade okhttp3 version","body":"<p>The <code>spring-boot-starter-parent:2.3.1-RELEASE</code> that you extend manages the version of <code>com.squareup.okhttp3:okhttp</code> to 3.14.9 via <a href=\"https://search.maven.org/artifact/org.springframework.boot/spring-boot-dependencies/2.3.1.RELEASE/pom\" rel=\"nofollow noreferrer\">spring-boot-dependencies</a>:</p>\n<pre><code>&lt;okhttp3.version&gt;3.14.9&lt;/okhttp3.version&gt;\n...\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n...\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n        &lt;version&gt;${okhttp3.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n...\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n</code></pre>\n<p>This is documented under <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-dependency-management\" rel=\"nofollow noreferrer\">dependency management</a>:</p>\n<blockquote>\n<p>Each release of Spring Boot provides a curated list of dependencies that it supports. In practice, you do not need to provide a version for any of these dependencies in your build configuration, as Spring Boot manages that for you.</p>\n</blockquote>\n<p>You'll need to either accept that, and work with that version, or set the <code>okhttp3.version</code> property in your project for the <code>okhtttp</code> version that you'd like to build with.</p>\n"}],"owner":{"account_id":18896706,"reputation":11,"user_id":13785704,"display_name":"zhucf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1649,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683605544,"creation_date":1592739904,"question_id":62498065,"body_markdown":"I deploy my _maven_ project to a _maven_ private server. After introducing dependencies in other projects, the version of `okhttp3` changed from _4.7.2_ to _3.14.9_\r\n\r\n[The maven dependency of the deployed project：mdm-auth-spring-boot-starter](https://i.stack.imgur.com/JQJe6.png)\r\n\r\n[Another project introduces mdm-auth-spring-boot-starter](https://i.stack.imgur.com/YVFnI.png)\r\n\r\nWhy has the version of `okhttp3` has changed? \r\n\r\nMy OS is _Win10_, _JDK_version-1.8.181_, _maven_ version _3.6.3_\r\n\r\nReinstalling the system, _JDK_ and _maven_, doesn&#39;t solve the problem.","title":"Introducing dependencies in other projects causes Maven to downgrade okhttp3 version","body":"<p>I deploy my <em>maven</em> project to a <em>maven</em> private server. After introducing dependencies in other projects, the version of <code>okhttp3</code> changed from <em>4.7.2</em> to <em>3.14.9</em></p>\n<p><a href=\"https://i.stack.imgur.com/JQJe6.png\" rel=\"nofollow noreferrer\">The maven dependency of the deployed project：mdm-auth-spring-boot-starter</a></p>\n<p><a href=\"https://i.stack.imgur.com/YVFnI.png\" rel=\"nofollow noreferrer\">Another project introduces mdm-auth-spring-boot-starter</a></p>\n<p>Why has the version of <code>okhttp3</code> has changed?</p>\n<p>My OS is <em>Win10</em>, <em>JDK_version-1.8.181</em>, <em>maven</em> version <em>3.6.3</em></p>\n<p>Reinstalling the system, <em>JDK</em> and <em>maven</em>, doesn't solve the problem.</p>\n"},{"tags":["java","jdbc","teradata"],"comments":[{"owner":{"account_id":312086,"reputation":12243,"user_id":625983,"accept_rate":58,"display_name":"apesa"},"score":0,"creation_date":1456859463,"post_id":35731117,"comment_id":59137438,"body_markdown":"You&#39;ll need to add your code above the try/catch. whats going on before the execute batch. Also what might have changed recently to cause a consistent failure?","body":"You&#39;ll need to add your code above the try/catch. whats going on before the execute batch. Also what might have changed recently to cause a consistent failure?"},{"owner":{"account_id":7108198,"reputation":511,"user_id":5437138,"accept_rate":75,"display_name":"Emily"},"score":0,"creation_date":1456866460,"post_id":35731117,"comment_id":59141445,"body_markdown":"Nothing changed recently. Not a thing. A prepared statement `prst.executeBatch();` throws an error. Usually this error happens because of the large batch size. But i reduced it to a minimum","body":"Nothing changed recently. Not a thing. A prepared statement <code>prst.executeBatch();</code> throws an error. Usually this error happens because of the large batch size. But i reduced it to a minimum"},{"owner":{"account_id":3267339,"reputation":8505,"user_id":2751573,"accept_rate":52,"display_name":"Andrew"},"score":0,"creation_date":1456870991,"post_id":35731117,"comment_id":59143942,"body_markdown":"Error 1339 is a very generic error. Somewhere in your stack trace you should hopefully have a SQLException.  You may not be able to get to it with that old of a driver though, based on this [documentation](http://developer.teradata.com/doc/connectivity/jdbc/reference/current/jdbcug_chapter_2.html#CCHJHFDI).","body":"Error 1339 is a very generic error. Somewhere in your stack trace you should hopefully have a SQLException.  You may not be able to get to it with that old of a driver though, based on this <a href=\"http://developer.teradata.com/doc/connectivity/jdbc/reference/current/jdbcug_chapter_2.html#CCHJHFDI\" rel=\"nofollow noreferrer\">documentation</a>."},{"owner":{"account_id":7670603,"reputation":1867,"user_id":5812981,"accept_rate":23,"display_name":"access_granted"},"score":0,"creation_date":1456951478,"post_id":35731117,"comment_id":59188700,"body_markdown":"How do you prepare? Could you paste the code?","body":"How do you prepare? Could you paste the code?"}],"answers":[{"tags":[],"owner":{"account_id":6568308,"reputation":800,"user_id":5077154,"display_name":"Insac"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1459198352,"creation_date":1459198352,"answer_id":36270971,"question_id":35731117,"body_markdown":"Had the same issue recently:\r\n\r\n 1. if you can,  identify the smallest subset of data that gives you the error\r\n 2. modify the code to be optionally launched without batching (not for production use) \r\n\r\nIn my case it was a single numeric value whose precision was more than the column it was inserted in,  but generally that error message is hiding whatever issue you&#39;re encountering (a field too large?  No more disk space?) ","title":"Teradata jdbc executeBatch throws a weird error?","body":"<p>Had the same issue recently:</p>\n\n<ol>\n<li>if you can,  identify the smallest subset of data that gives you the error</li>\n<li>modify the code to be optionally launched without batching (not for production use) </li>\n</ol>\n\n<p>In my case it was a single numeric value whose precision was more than the column it was inserted in,  but generally that error message is hiding whatever issue you're encountering (a field too large?  No more disk space?) </p>\n"},{"tags":[],"owner":{"account_id":16820485,"reputation":394,"user_id":12161087,"display_name":"Tom Nolan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683605419,"creation_date":1683605419,"answer_id":76205802,"question_id":35731117,"body_markdown":"Here is a link to the Teradata JDBC Driver documentation for the BatchUpdateException: https://teradata-docs.s3.amazonaws.com/doc/connectivity/jdbc/reference/current/jdbcug_chapter_2.html#CCHJHFDI\r\n\r\nAs the documentation says, Error 1339 means that you are getting the old batch error behavior. One or more of the rows in your batch have problems, but the JDBC Driver is unable to identify which rows have a problem.\r\n\r\nIf you switch to a newer version of the JDBC Driver (and you may need a newer version of the database also) then a new feature &quot;Statement Independence&quot; is available that identifies which rows have a problem, and what the problem is for each row.\r\n\r\nYou can download the Teradata JDBC Driver from Maven Central or from the Teradata download site: https://downloads.teradata.com/download/connectivity/jdbc-driver","title":"Teradata jdbc executeBatch throws a weird error?","body":"<p>Here is a link to the Teradata JDBC Driver documentation for the BatchUpdateException: <a href=\"https://teradata-docs.s3.amazonaws.com/doc/connectivity/jdbc/reference/current/jdbcug_chapter_2.html#CCHJHFDI\" rel=\"nofollow noreferrer\">https://teradata-docs.s3.amazonaws.com/doc/connectivity/jdbc/reference/current/jdbcug_chapter_2.html#CCHJHFDI</a></p>\n<p>As the documentation says, Error 1339 means that you are getting the old batch error behavior. One or more of the rows in your batch have problems, but the JDBC Driver is unable to identify which rows have a problem.</p>\n<p>If you switch to a newer version of the JDBC Driver (and you may need a newer version of the database also) then a new feature &quot;Statement Independence&quot; is available that identifies which rows have a problem, and what the problem is for each row.</p>\n<p>You can download the Teradata JDBC Driver from Maven Central or from the Teradata download site: <a href=\"https://downloads.teradata.com/download/connectivity/jdbc-driver\" rel=\"nofollow noreferrer\">https://downloads.teradata.com/download/connectivity/jdbc-driver</a></p>\n"}],"owner":{"account_id":7108198,"reputation":511,"user_id":5437138,"accept_rate":75,"display_name":"Emily"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7069,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36270971,"answer_count":2,"score":0,"last_activity_date":1683605419,"creation_date":1456858596,"question_id":35731117,"body_markdown":"I use `jdbc` to load raw data sets to Teradata. I has been working **PERFECT** until recently. \r\n\r\nHere is the code \r\n\r\n\t\ttry { \r\n\t\t\tprst.executeBatch(); \r\n\t\t\t} \r\n\t\t\tcatch (SQLException ex) {  \r\n\t\t\t\tSystem.out.println(&quot;Batch outside the loop error: &quot;);\r\n\t\t\t\t while (ex != null)\r\n\t\t            {\r\n\t\t                System.out.println(&quot; Error code: &quot; + ex.getErrorCode());\r\n\t\t                System.out.println(&quot; SQL State: &quot; + ex.getSQLState());\r\n\t\t                System.out.println(&quot; Message: &quot; + ex.getMessage());\r\n\t\t                ex.printStackTrace();\r\n\t\t                System.out.println();\r\n\t\t                ex = ex.getNextException();\r\n\t\t            }\r\n\t\t\t\t \r\n\t\t\t}\r\n\r\n\r\nBut yesterday the same code statred throwing an error. Here is the error \r\n\r\n        [Teradata JDBC Driver] [TeraJDBC 13.00.00.16] [Error 1339] [SQLState HY000] \r\n    A failure occurred while executing a PreparedStatement batch request. \r\n    The parameter set was not executed and should be resubmitted\r\n     individually using the PreparedStatement executeUpdate method \r\n\r\nI checked using `getNextException()` but all I get is the same message  \r\n\r\n    A failure occurred while executing a PreparedStatement batch request. \r\n        The parameter set was not executed and should be resubmitted\r\n         individually using the PreparedStatement executeUpdate method  \r\n\r\nIt&#39;s repeating the same stuff all over again without any further details. I tried to decrease the batch size to a minimum as recomended [here][1]  but still no result. \r\n\r\nWhat could possible cause this error  ?  How to overcome it ?  \r\n\r\n\r\n  [1]: https://forums.teradata.com/forum/database/errors-teradata-jdbc-driver-terajdbc-13-00-00-16-error-1339-sqlstate-hy000","title":"Teradata jdbc executeBatch throws a weird error?","body":"<p>I use <code>jdbc</code> to load raw data sets to Teradata. I has been working <strong>PERFECT</strong> until recently. </p>\n\n<p>Here is the code </p>\n\n<pre><code>    try { \n        prst.executeBatch(); \n        } \n        catch (SQLException ex) {  \n            System.out.println(\"Batch outside the loop error: \");\n             while (ex != null)\n                {\n                    System.out.println(\" Error code: \" + ex.getErrorCode());\n                    System.out.println(\" SQL State: \" + ex.getSQLState());\n                    System.out.println(\" Message: \" + ex.getMessage());\n                    ex.printStackTrace();\n                    System.out.println();\n                    ex = ex.getNextException();\n                }\n\n        }\n</code></pre>\n\n<p>But yesterday the same code statred throwing an error. Here is the error </p>\n\n<pre><code>    [Teradata JDBC Driver] [TeraJDBC 13.00.00.16] [Error 1339] [SQLState HY000] \nA failure occurred while executing a PreparedStatement batch request. \nThe parameter set was not executed and should be resubmitted\n individually using the PreparedStatement executeUpdate method \n</code></pre>\n\n<p>I checked using <code>getNextException()</code> but all I get is the same message  </p>\n\n<pre><code>A failure occurred while executing a PreparedStatement batch request. \n    The parameter set was not executed and should be resubmitted\n     individually using the PreparedStatement executeUpdate method  \n</code></pre>\n\n<p>It's repeating the same stuff all over again without any further details. I tried to decrease the batch size to a minimum as recomended <a href=\"https://forums.teradata.com/forum/database/errors-teradata-jdbc-driver-terajdbc-13-00-00-16-error-1339-sqlstate-hy000\" rel=\"nofollow\">here</a>  but still no result. </p>\n\n<p>What could possible cause this error  ?  How to overcome it ?  </p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":5541413,"reputation":6397,"user_id":4397788,"display_name":"Luciano van der Veekens"},"score":0,"creation_date":1504780057,"post_id":46093720,"comment_id":79149530,"body_markdown":"How do you run it?","body":"How do you run it?"},{"owner":{"account_id":3445265,"reputation":2465,"user_id":2886234,"accept_rate":80,"display_name":"kkflf"},"score":0,"creation_date":1504781205,"post_id":46093720,"comment_id":79150269,"body_markdown":"Did you try maven clean install?","body":"Did you try maven clean install?"},{"owner":{"account_id":10309287,"reputation":41,"user_id":7605627,"accept_rate":0,"display_name":"maged abdelkhalik"},"score":0,"creation_date":1504781924,"post_id":46093720,"comment_id":79150740,"body_markdown":"you mean clear .metadata folder ??","body":"you mean clear .metadata folder ??"},{"owner":{"account_id":10309287,"reputation":41,"user_id":7605627,"accept_rate":0,"display_name":"maged abdelkhalik"},"score":0,"creation_date":1504782088,"post_id":46093720,"comment_id":79150861,"body_markdown":"@LucianovanderVeekens normal running in main method but my error is clear above","body":"@LucianovanderVeekens normal running in main method but my error is clear above"},{"owner":{"account_id":3580881,"reputation":5050,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":0,"creation_date":1504782150,"post_id":46093720,"comment_id":79150911,"body_markdown":"&quot;spring boot can&#39;t run&quot;. It&#39;s hard to run with only one boot. Sorry :)","body":"&quot;spring boot can&#39;t run&quot;. It&#39;s hard to run with only one boot. Sorry :)"},{"owner":{"account_id":2546050,"reputation":409,"user_id":2210838,"accept_rate":73,"display_name":"Jan Siekierski"},"score":0,"creation_date":1504782344,"post_id":46093720,"comment_id":79151051,"body_markdown":"I know it might be obvious, but is the SpringApplication class imported? Are you using any IDE, is it not suggesting any other problems?","body":"I know it might be obvious, but is the SpringApplication class imported? Are you using any IDE, is it not suggesting any other problems?"},{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1504782652,"post_id":46093720,"comment_id":79151261,"body_markdown":"Possible duplicate of [Spring Boot application can&#39;t resolve the org.springframework.boot package](https://stackoverflow.com/questions/33301073/spring-boot-application-cant-resolve-the-org-springframework-boot-package)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/33301073/spring-boot-application-cant-resolve-the-org-springframework-boot-package\">Spring Boot application can&#39;t resolve the org.springframework.boot package</a>"}],"answers":[{"tags":[],"owner":{"account_id":2546050,"reputation":409,"user_id":2210838,"accept_rate":73,"display_name":"Jan Siekierski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504781980,"creation_date":1504781980,"answer_id":46094651,"question_id":46093720,"body_markdown":"I think that you have to point to a parent POM where dependencies are stored:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;","title":"SpringBoot failing to run","body":"<p>I think that you have to point to a parent POM where dependencies are stored:</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1453661,"reputation":6114,"user_id":1369879,"display_name":"mirmdasif"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504783462,"creation_date":1504782007,"answer_id":46094662,"question_id":46093720,"body_markdown":" 1. Fix your pom as it is malformed. Here is a working one generated from start.spring.io  \r\n    \r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n            &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        \r\n            &lt;name&gt;demo&lt;/name&gt;\r\n            &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        \r\n            &lt;parent&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\r\n                &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n            &lt;/parent&gt;\r\n        \r\n            &lt;properties&gt;\r\n                &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n                &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n                &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;/properties&gt;\r\n        \r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n        \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        \r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        \r\n        \r\n        &lt;/project&gt;\r\n\r\n 2. Or If you are using IDE like intelliJ idea or Eclipse make sure to re\r\n    import the project.\r\nHere is an answer how to refresh maven dependencies in eclipse\r\n\r\n    https://stackoverflow.com/questions/2555845/how-to-update-maven-repository-in-eclipse\r\n\r\n 3. Optionaly if you want to build from terminal.Try running the\r\n    following command in console\r\n        \r\n            mvn spring-boot:run","title":"SpringBoot failing to run","body":"<ol>\n<li><p>Fix your pom as it is malformed. Here is a working one generated from start.spring.io  </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre></li>\n<li><p>Or If you are using IDE like intelliJ idea or Eclipse make sure to re\nimport the project.\nHere is an answer how to refresh maven dependencies in eclipse</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2555845/how-to-update-maven-repository-in-eclipse\">How to update maven repository in Eclipse?</a></p></li>\n<li><p>Optionaly if you want to build from terminal.Try running the\nfollowing command in console</p>\n\n<pre><code>    mvn spring-boot:run\n</code></pre></li>\n</ol>\n"}],"owner":{"account_id":10309287,"reputation":41,"user_id":7605627,"accept_rate":0,"display_name":"maged abdelkhalik"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5918,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1683605266,"creation_date":1504779086,"question_id":46093720,"body_markdown":"I ran _maven_ correctly but when I run the main class I get an error:\r\n\r\n`Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: SpringApplication cannot be resolved`\r\n\r\n**Java**\r\n\r\n    @SpringBootApplication\r\n    public class CourseApiapp {\r\n\r\n\t    public static void main(String []args) {\r\n\t\t    SpringApplication.run(CourseApiapp.class, args);\r\n\t    }\r\n    }\r\n\r\n\r\n**pom.xml**\r\n\r\n  \r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n  \r\n  \r\n&lt;/project&gt;","title":"SpringBoot failing to run","body":"<p>I ran <em>maven</em> correctly but when I run the main class I get an error:</p>\n<p><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: SpringApplication cannot be resolved</code></p>\n<p><strong>Java</strong></p>\n<pre><code>@SpringBootApplication\npublic class CourseApiapp {\n\n    public static void main(String []args) {\n        SpringApplication.run(CourseApiapp.class, args);\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","web-services","servlets","jersey","jetty"],"comments":[{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1641360393,"post_id":70588055,"comment_id":124782142,"body_markdown":"Should ```server#start``` method be called?","body":"Should <code>server#start</code> method be called?"},{"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"score":0,"creation_date":1641363017,"post_id":70588055,"comment_id":124782613,"body_markdown":"I checked the above blog again it is not present there. I tried adding server.start(). but now it is giving me null pointer exception.","body":"I checked the above blog again it is not present there. I tried adding server.start(). but now it is giving me null pointer exception."},{"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"score":0,"creation_date":1641363532,"post_id":70588055,"comment_id":124782720,"body_markdown":"@zysaaa : I checked , server value is returned null in \n\nfinal Server server =\n                JettyHttpContainerFactory.createServer(URI.create(BASE_URI), config);","body":"@zysaaa : I checked , server value is returned null in   final Server server =                 JettyHttpContainerFactory.createServer(URI.create(BASE_URI), config);"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1641394623,"post_id":70588055,"comment_id":124793926,"body_markdown":"When you create the server, add `server.setDumpAfterStart(true);`, if that server dump doesn&#39;t show up, then your server hasn&#39;t been started.  If it does show up, it will tell you the configuration that is being used, which will also help diagnose things.","body":"When you create the server, add <code>server.setDumpAfterStart(true);</code>, if that server dump doesn&#39;t show up, then your server hasn&#39;t been started.  If it does show up, it will tell you the configuration that is being used, which will also help diagnose things."},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1642101398,"post_id":70588055,"comment_id":124988927,"body_markdown":"You are using Jersey 3.x, right?","body":"You are using Jersey 3.x, right?"},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1642102000,"post_id":70588055,"comment_id":124989166,"body_markdown":"Can you share the Receiver class? I copied your code and it works well for me.","body":"Can you share the Receiver class? I copied your code and it works well for me."},{"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"score":0,"creation_date":1642131656,"post_id":70588055,"comment_id":124995878,"body_markdown":"@jan.supol : Hey it starts working for me as well, doing nothing.. It was some intermittent issue. Thanks","body":"@jan.supol : Hey it starts working for me as well, doing nothing.. It was some intermittent issue. Thanks"}],"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683605026,"creation_date":1641359376,"question_id":70588055,"body_markdown":"I am learning java web application and started with jetty and jersey for creating the rest api. I am following this article [https://mkyong.com/webservices/jax-rs/jersey-and-jetty-http-server-examples/#start-jersey-jetty-application][1]\r\n\r\n\r\n  [1]: https://mkyong.com/webservices/jax-rs/jersey-and-jetty-http-server-examples/#start-jersey-jetty-application\r\n\r\nBy this, I am able to compile and run the server however it does not accept any requests. I tried telnet, curl and other things - I always get connection refused. \r\n\r\nMy `MainApp.java` looks like this \r\n\r\n```\r\n\r\npublic class MainApp {\r\n\r\n    public static final String BASE_URI = &quot;http://localhost:8080/&quot;;\r\n\r\n    public static Server startServer() {\r\n\r\n        // scan packages\r\n        // final ResourceConfig config = new ResourceConfig().packages(&quot;com.mkyong&quot;);\r\n\r\n        final ResourceConfig config = new ResourceConfig(Receiver.class);  -- This is my resouce. \r\n\r\n        final Server server =\r\n                JettyHttpContainerFactory.createServer(URI.create(BASE_URI), config);\r\n\r\n        return server;\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        try {\r\n\r\n            final Server server = startServer();\r\n\r\n            Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n                try {\r\n                    System.out.println(&quot;Shutting down the application...&quot;);\r\n                    server.stop();\r\n                    System.out.println(&quot;Done, exit.&quot;);\r\n                } catch (Exception e) {\r\n                    Logger.getLogger(MainApp.class.getName()).log(Level.SEVERE, null, e);\r\n                }\r\n            }));\r\n\r\n            System.out.println(\r\n                    String.format(&quot;Application started.%nStop the application using CTRL+C&quot;));\r\n\r\n            // block and wait shut down signal, like CTRL+C\r\n            Thread.currentThread().join();\r\n\r\n            // alternative\r\n            // Thread.sleep(Long.MAX_VALUE);       // sleep forever...\r\n            // Thread.sleep(Integer.MAX_VALUE);    // sleep around 60+ years\r\n\r\n        } catch (InterruptedException ex) {\r\n            Logger.getLogger(MainApp.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nAm I missing any other configuration? Any help would be appreciated. \r\n","title":"Jetty 11 with Jersey is not accepting requests","body":"<p>I am learning java web application and started with jetty and jersey for creating the rest api. I am following this article <a href=\"https://mkyong.com/webservices/jax-rs/jersey-and-jetty-http-server-examples/#start-jersey-jetty-application\" rel=\"nofollow noreferrer\">https://mkyong.com/webservices/jax-rs/jersey-and-jetty-http-server-examples/#start-jersey-jetty-application</a></p>\n<p>By this, I am able to compile and run the server however it does not accept any requests. I tried telnet, curl and other things - I always get connection refused.</p>\n<p>My <code>MainApp.java</code> looks like this</p>\n<pre><code>\npublic class MainApp {\n\n    public static final String BASE_URI = &quot;http://localhost:8080/&quot;;\n\n    public static Server startServer() {\n\n        // scan packages\n        // final ResourceConfig config = new ResourceConfig().packages(&quot;com.mkyong&quot;);\n\n        final ResourceConfig config = new ResourceConfig(Receiver.class);  -- This is my resouce. \n\n        final Server server =\n                JettyHttpContainerFactory.createServer(URI.create(BASE_URI), config);\n\n        return server;\n\n    }\n\n    public static void main(String[] args) {\n\n        try {\n\n            final Server server = startServer();\n\n            Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n                try {\n                    System.out.println(&quot;Shutting down the application...&quot;);\n                    server.stop();\n                    System.out.println(&quot;Done, exit.&quot;);\n                } catch (Exception e) {\n                    Logger.getLogger(MainApp.class.getName()).log(Level.SEVERE, null, e);\n                }\n            }));\n\n            System.out.println(\n                    String.format(&quot;Application started.%nStop the application using CTRL+C&quot;));\n\n            // block and wait shut down signal, like CTRL+C\n            Thread.currentThread().join();\n\n            // alternative\n            // Thread.sleep(Long.MAX_VALUE);       // sleep forever...\n            // Thread.sleep(Integer.MAX_VALUE);    // sleep around 60+ years\n\n        } catch (InterruptedException ex) {\n            Logger.getLogger(MainApp.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n    }\n}\n\n</code></pre>\n<p>Am I missing any other configuration? Any help would be appreciated.</p>\n"},{"tags":["java","string","integer"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1585456328,"post_id":60910187,"comment_id":107762916,"body_markdown":"Test it using [JMH](https://openjdk.java.net/projects/code-tools/jmh/).","body":"Test it using <a href=\"https://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">JMH</a>."},{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":1,"creation_date":1585457574,"post_id":60910187,"comment_id":107763109,"body_markdown":"Does this answer your question? [Integer.toString(int i) vs String.valueOf(int i)](https://stackoverflow.com/questions/3335737/integer-tostringint-i-vs-string-valueofint-i)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3335737/integer-tostringint-i-vs-string-valueofint-i\">Integer.toString(int i) vs String.valueOf(int i)</a>"}],"answers":[{"tags":[],"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1585457082,"creation_date":1585456546,"answer_id":60910210,"question_id":60910187,"body_markdown":"The performance should be nearly identical because `String.valueOf(a)` is defined as follows:\r\n```java\r\npublic static String valueOf(int i) {\r\n    return Integer.toString(i);\r\n}\r\n```\r\n\r\nIt also goes to reason that `Integer.toString` would be faster since it can skip `String.valueOf` on the call stack, but I don&#39;t know if the difference is enough to notice in practice.\r\n\r\nUnfortunately java does not normally inline function calls so at a minimum it will need to spend extra time loading the function, but after the first call the CPU cache would likely make the redirect nearly unnoticeable. \r\n\r\n**Edit**: You can find this on your own by using *go to definition* in your IDE. I was able to get this code snippit by selecting the function call and pressing **Ctrl + B** in Intellij Idea.","title":"Performance difference between Integer.toString() and String.valueOf()?","body":"<p>The performance should be nearly identical because <code>String.valueOf(a)</code> is defined as follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String valueOf(int i) {\n    return Integer.toString(i);\n}\n</code></pre>\n\n<p>It also goes to reason that <code>Integer.toString</code> would be faster since it can skip <code>String.valueOf</code> on the call stack, but I don't know if the difference is enough to notice in practice.</p>\n\n<p>Unfortunately java does not normally inline function calls so at a minimum it will need to spend extra time loading the function, but after the first call the CPU cache would likely make the redirect nearly unnoticeable. </p>\n\n<p><strong>Edit</strong>: You can find this on your own by using <em>go to definition</em> in your IDE. I was able to get this code snippit by selecting the function call and pressing <strong>Ctrl + B</strong> in Intellij Idea.</p>\n"},{"tags":[],"owner":{"account_id":3459421,"reputation":15080,"user_id":2897008,"accept_rate":73,"display_name":"vins"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1585456553,"creation_date":1585456553,"answer_id":60910212,"question_id":60910187,"body_markdown":"`String.valueOf(int)` internally calls the `Integer.toString(int)`. So there will not be any performance difference. Or theoretically Integer.toString should be better as 1 less call. ","title":"Performance difference between Integer.toString() and String.valueOf()?","body":"<p><code>String.valueOf(int)</code> internally calls the <code>Integer.toString(int)</code>. So there will not be any performance difference. Or theoretically Integer.toString should be better as 1 less call. </p>\n"},{"tags":[],"owner":{"account_id":14384415,"reputation":1324,"user_id":10390808,"display_name":"Abhinav Chauhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683604908,"creation_date":1585459142,"answer_id":60910460,"question_id":60910187,"body_markdown":"Below is the source for both method as of JDK 8\r\n\r\nThis is the source for `Intger.toString()`\r\n\r\n     public static String toString(int i) {\r\n        if (i == Integer.MIN_VALUE)\r\n            return &quot;-2147483648&quot;;\r\n        int size = (i &lt; 0) ? stringSize(-i) + 1 : stringSize(i);\r\n        char[] buf = new char[size];\r\n        getChars(i, size, buf);\r\n        return new String(buf, true);\r\n    }\r\n\r\nAnd this is the source for `String.valueOf(int)`\r\n\r\n    public static String valueOf(int i) {\r\n    return Integer.toString(i);\r\n    }\r\n\r\n\r\nAs you can see there will be barely any difference in the performance , `Integer.toString()` is called in both  cases\r\n\r\nBut I you have to choose one then the answer is `Integer.toString()` because that way i can reduce the overhead of calling `String.valueOf(int)`  it will be barely anything , but as you may know a method call involves many things like putting method call on stack , saving state and control return position , then poping it off the stack , that all will be avoided, but still computers are too fast so it doesn&#39;t count  ","title":"Performance difference between Integer.toString() and String.valueOf()?","body":"<p>Below is the source for both method as of JDK 8</p>\n<p>This is the source for <code>Intger.toString()</code></p>\n<pre><code> public static String toString(int i) {\n    if (i == Integer.MIN_VALUE)\n        return &quot;-2147483648&quot;;\n    int size = (i &lt; 0) ? stringSize(-i) + 1 : stringSize(i);\n    char[] buf = new char[size];\n    getChars(i, size, buf);\n    return new String(buf, true);\n}\n</code></pre>\n<p>And this is the source for <code>String.valueOf(int)</code></p>\n<pre><code>public static String valueOf(int i) {\nreturn Integer.toString(i);\n}\n</code></pre>\n<p>As you can see there will be barely any difference in the performance , <code>Integer.toString()</code> is called in both  cases</p>\n<p>But I you have to choose one then the answer is <code>Integer.toString()</code> because that way i can reduce the overhead of calling <code>String.valueOf(int)</code>  it will be barely anything , but as you may know a method call involves many things like putting method call on stack , saving state and control return position , then poping it off the stack , that all will be avoided, but still computers are too fast so it doesn't count</p>\n"}],"owner":{"account_id":3171071,"reputation":2453,"user_id":2680024,"accept_rate":20,"display_name":"Praveen Kishor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1893,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1585471697,"answer_count":3,"score":4,"last_activity_date":1683604908,"creation_date":1585456243,"question_id":60910187,"body_markdown":"I have an integer let say, `int a = 123;`\r\n\r\nNow, I can convert it to String using below two ways:\r\n\r\n    1. Integer.toString(a)\r\n    2. String.valueOf(a)\r\n\r\nI want to know, if there is any performance difference between the above two ways, let say when we are doing this for 10k integers or more and if yes then why? \r\n","title":"Performance difference between Integer.toString() and String.valueOf()?","body":"<p>I have an integer let say, <code>int a = 123;</code></p>\n\n<p>Now, I can convert it to String using below two ways:</p>\n\n<pre><code>1. Integer.toString(a)\n2. String.valueOf(a)\n</code></pre>\n\n<p>I want to know, if there is any performance difference between the above two ways, let say when we are doing this for 10k integers or more and if yes then why? </p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1683624345,"post_id":76205678,"comment_id":134391388,"body_markdown":"Please post the full exception stacktrace.","body":"Please post the full exception stacktrace."}],"answers":[{"tags":[],"owner":{"account_id":22906904,"reputation":113,"user_id":17044833,"display_name":"Jaison "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683604741,"creation_date":1683604741,"answer_id":76205773,"question_id":76205678,"body_markdown":"Ideally this issue occurs when the connection string becomes wrong. Can you check if the connection string formed is of the correct format.\r\n\r\nThe expected connection string for a mysql jdbc connection will be as below,\r\n \r\n\r\n    jdbc:mysql://localhost:3306/daily_db?user=root&amp;password=Prueb@1&amp;serverTimezone=UTC\r\n\r\nPlease refer https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-jdbc-url-format.html for more details regarding the connection string.\r\n\r\nAlso please make sure the DB is up and running on the ports provided in your code, i..e, localhost:3306.","title":"java.sql.SQLNonTransientConnectionException: Could not create connection to database server","body":"<p>Ideally this issue occurs when the connection string becomes wrong. Can you check if the connection string formed is of the correct format.</p>\n<p>The expected connection string for a mysql jdbc connection will be as below,</p>\n<pre><code>jdbc:mysql://localhost:3306/daily_db?user=root&amp;password=Prueb@1&amp;serverTimezone=UTC\n</code></pre>\n<p>Please refer <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-jdbc-url-format.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-jdbc-url-format.html</a> for more details regarding the connection string.</p>\n<p>Also please make sure the DB is up and running on the ports provided in your code, i..e, localhost:3306.</p>\n"}],"owner":{"account_id":28553311,"reputation":11,"user_id":21857858,"display_name":"Jhon Edwin Rodr&#237;guez Ceron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683604741,"creation_date":1683603169,"question_id":76205678,"body_markdown":"I&#39;m having an issue with the error code &quot;java.sql.SQLNonTransientConnectionException: Could not create connection to database server.&quot; I&#39;m trying to use JDBC to establish a connection with the database, the credentials are correctly spelled. Could you please help me to check what could be failing in this project?\r\n\r\n```\r\npackage com.example.daily.db;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.example.daily.R;\r\nimport com.mysql.cj.protocol.Resultset;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n\r\npublic class controler extends AppCompatActivity {\r\n    private controler controlador;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_tercera);\r\n        controlador = new controler();\r\n    }\r\n    public static void micontroler (){\r\n\r\n        String usuario = &quot;root&quot;;\r\n        String password = &quot;Prueb@1&quot;;\r\n        String url = &quot;jdbc:mysql://localhost:3306/daily_db&quot;;\r\n        Connection conexion;\r\n        Statement statement;\r\n        Resultset rs;\r\n\r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n\r\n        try {\r\n            conexion = DriverManager.getConnection(url,usuario,password);\r\n            statement = conexion.createStatement();\r\n            statement.executeUpdate(&quot;INSERT INTO USUARIOS(EMAIL,NOMBRES,APELLIDOS,APODO,FECHA_NACIMIENTO) VALUES (&#39;Teste&#39;,&#39;TESTn&#39;,&#39;TESTa&#39;,&#39;TESTp&#39;,&#39;14/06/22&#39;)&quot;);\r\n\r\n\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n\r\nI checked the connection, rewrote the code, added the controller to the manifest.","title":"java.sql.SQLNonTransientConnectionException: Could not create connection to database server","body":"<p>I'm having an issue with the error code &quot;java.sql.SQLNonTransientConnectionException: Could not create connection to database server.&quot; I'm trying to use JDBC to establish a connection with the database, the credentials are correctly spelled. Could you please help me to check what could be failing in this project?</p>\n<pre><code>package com.example.daily.db;\n\nimport android.os.Bundle;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.example.daily.R;\nimport com.mysql.cj.protocol.Resultset;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class controler extends AppCompatActivity {\n    private controler controlador;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_tercera);\n        controlador = new controler();\n    }\n    public static void micontroler (){\n\n        String usuario = &quot;root&quot;;\n        String password = &quot;Prueb@1&quot;;\n        String url = &quot;jdbc:mysql://localhost:3306/daily_db&quot;;\n        Connection conexion;\n        Statement statement;\n        Resultset rs;\n\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        } catch (ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n\n\n        try {\n            conexion = DriverManager.getConnection(url,usuario,password);\n            statement = conexion.createStatement();\n            statement.executeUpdate(&quot;INSERT INTO USUARIOS(EMAIL,NOMBRES,APELLIDOS,APODO,FECHA_NACIMIENTO) VALUES ('Teste','TESTn','TESTa','TESTp','14/06/22')&quot;);\n\n\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\n\n\n</code></pre>\n<p>I checked the connection, rewrote the code, added the controller to the manifest.</p>\n"},{"tags":["java","3d","collision-detection","collision"],"owner":{"account_id":28553310,"reputation":11,"user_id":21857857,"display_name":"Glitchh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683603231,"creation_date":1683603231,"question_id":76205685,"body_markdown":"I am trying to implement 3D GJK collision using JavaFx. It works when the colliders are actually colliding, and if the colliders are far apart from each other, yet delivers false positives when the colliders are nearby in specific orientation. This leads me to believe its an issue with the simplex, yet I am unable to find the issue. Can someone help me?\r\n\r\nHere is my code. The collider class only holds an array of points, and I double checked to make sure the points were convex. I can post them if needed.\r\n\r\n        private static final double EPILSON = 0;\r\n\t\r\n\tstatic private Point3D findSuppPoint(Collider_3d a, Collider_3d b, Point3D dir) {\r\n\t\treturn a.findExtrema(dir).subtract(b.findExtrema(dir.multiply(-1)));\r\n\t}\r\n\t\r\n\tpublic static boolean Gilbert_Johnson_Keerthi_Collision(Collider_3d a, Collider_3d b) {\r\n\t\tPoint3D dir = new Point3D(0,0,1);\r\n\t\tPoint3D currPoint = findSuppPoint(a,b,dir);\r\n\t\tArrayList&lt;Point3D&gt; simplex = new ArrayList&lt;Point3D&gt;();\r\n\t\tsimplex.add(currPoint);\r\n\t\t\r\n\t\tdir = currPoint.multiply(-1); // find point to origin\r\n\t\t\r\n\t\t\r\n\t\twhile(true) {\r\n\t\t\tcurrPoint = findSuppPoint(a,b,dir);\r\n\t\t\tif(currPoint.dotProduct(dir) &lt; EPILSON) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tsimplex.add(currPoint);\r\n\t\t\tdir = calcSimplex(simplex, dir);\r\n\t\t\tif(dir == null){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tstatic private Point3D calcSimplex(ArrayList&lt;Point3D&gt; s, Point3D dir) {\r\n\t\tif(s.size() == 2) {\r\n\t\t\treturn nextDir(s);\r\n\t\t}else if(s.size() == 3) {\r\n\t\t\treturn triSimplex(s, dir);\r\n\t\t}else if(s.size() == 4){\r\n\t\t\treturn tetraSimplex(s, dir);\r\n\t\t}\r\n\t\treturn dir; // should never happen\r\n\t}\r\n\r\n\tstatic private Point3D tetraSimplex(ArrayList&lt;Point3D&gt; s, Point3D dir) {\r\n\t\tPoint3D AB = s.get(2).subtract(s.get(3));\r\n\t\tPoint3D AC = s.get(1).subtract(s.get(3));\r\n\t\tPoint3D AD = s.get(0).subtract(s.get(3));\r\n\t\tPoint3D AO = s.get(3).multiply(-1);\r\n\t\t\r\n\t\t\r\n\t\tPoint3D ABCDir = AB.crossProduct(AC);\r\n\t\tPoint3D ADBDir = AC.crossProduct(AD);\r\n\t\tPoint3D ACDDir = AD.crossProduct(AB);\r\n\t\t\r\n\t\tif(ABCDir.dotProduct(AD) &gt; 0) {\r\n\t\t\tABCDir = ABCDir.multiply(-1);\r\n\t\t}else if(ADBDir.dotProduct(AC) &gt; 0) {\r\n\t\t\tADBDir = ADBDir.multiply(-1);\r\n\t\t}else if(ACDDir.dotProduct(AB) &gt; 0) {\r\n\t\t\tACDDir = ACDDir.multiply(-1);\r\n\t\t}\r\n\t\t\r\n\t\tif(ABCDir.dotProduct(AO) &gt; 0) {\r\n\t\t\ts.remove(0);\r\n\t\t\treturn ABCDir;\r\n\t\t}else if(ADBDir.dotProduct(AO) &gt; 0) {\r\n\t\t\ts.remove(1);\r\n\t\t\treturn ADBDir;\r\n\t\t}else if(ACDDir.dotProduct(AO) &gt; 0) {\r\n\t\t\ts.remove(2);\r\n\t\t\treturn ACDDir;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;AHHHH&quot;);\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tstatic private Point3D triSimplex(ArrayList&lt;Point3D&gt; s, Point3D dir) {\r\n\t\tPoint3D AB = s.get(1).subtract(s.get(2));\r\n\t\tPoint3D AC = s.get(0).subtract(s.get(2));\r\n\t\tPoint3D AO = s.get(2).multiply(-1);\r\n\t\tPoint3D ABDir = (AC.crossProduct(AB)).crossProduct(AB);\r\n\t\tPoint3D ACDir = (AB.crossProduct(AC)).crossProduct(AC);\r\n\t\tif(ABDir.dotProduct(AO) &gt; 0) {\r\n\t\t\ts.remove(0);\r\n\t\t\treturn ABDir;\r\n\t\t}else if(ACDir.dotProduct(AO) &gt; 0) {\r\n\t\t\ts.remove(1);\r\n\t\t\treturn ACDir;\r\n\t\t}\r\n\t\treturn dir;\r\n\t}\r\n\r\n\tstatic private Point3D nextDir(ArrayList&lt;Point3D&gt; s) {\r\n\t\tPoint3D AB = s.get(0).subtract(s.get(1));\r\n\t\tPoint3D AO = s.get(1).multiply(-1);\r\n\t\treturn (AB.crossProduct(AO)).crossProduct(AB);\r\n\t\t\r\n\t}","title":"GJK Collision False-Positive in Java","body":"<p>I am trying to implement 3D GJK collision using JavaFx. It works when the colliders are actually colliding, and if the colliders are far apart from each other, yet delivers false positives when the colliders are nearby in specific orientation. This leads me to believe its an issue with the simplex, yet I am unable to find the issue. Can someone help me?</p>\n<p>Here is my code. The collider class only holds an array of points, and I double checked to make sure the points were convex. I can post them if needed.</p>\n<pre><code>    private static final double EPILSON = 0;\n\nstatic private Point3D findSuppPoint(Collider_3d a, Collider_3d b, Point3D dir) {\n    return a.findExtrema(dir).subtract(b.findExtrema(dir.multiply(-1)));\n}\n\npublic static boolean Gilbert_Johnson_Keerthi_Collision(Collider_3d a, Collider_3d b) {\n    Point3D dir = new Point3D(0,0,1);\n    Point3D currPoint = findSuppPoint(a,b,dir);\n    ArrayList&lt;Point3D&gt; simplex = new ArrayList&lt;Point3D&gt;();\n    simplex.add(currPoint);\n    \n    dir = currPoint.multiply(-1); // find point to origin\n    \n    \n    while(true) {\n        currPoint = findSuppPoint(a,b,dir);\n        if(currPoint.dotProduct(dir) &lt; EPILSON) {\n            return false;\n        }\n        simplex.add(currPoint);\n        dir = calcSimplex(simplex, dir);\n        if(dir == null){\n            return true;\n        }\n        \n        \n    }\n}\n\nstatic private Point3D calcSimplex(ArrayList&lt;Point3D&gt; s, Point3D dir) {\n    if(s.size() == 2) {\n        return nextDir(s);\n    }else if(s.size() == 3) {\n        return triSimplex(s, dir);\n    }else if(s.size() == 4){\n        return tetraSimplex(s, dir);\n    }\n    return dir; // should never happen\n}\n\nstatic private Point3D tetraSimplex(ArrayList&lt;Point3D&gt; s, Point3D dir) {\n    Point3D AB = s.get(2).subtract(s.get(3));\n    Point3D AC = s.get(1).subtract(s.get(3));\n    Point3D AD = s.get(0).subtract(s.get(3));\n    Point3D AO = s.get(3).multiply(-1);\n    \n    \n    Point3D ABCDir = AB.crossProduct(AC);\n    Point3D ADBDir = AC.crossProduct(AD);\n    Point3D ACDDir = AD.crossProduct(AB);\n    \n    if(ABCDir.dotProduct(AD) &gt; 0) {\n        ABCDir = ABCDir.multiply(-1);\n    }else if(ADBDir.dotProduct(AC) &gt; 0) {\n        ADBDir = ADBDir.multiply(-1);\n    }else if(ACDDir.dotProduct(AB) &gt; 0) {\n        ACDDir = ACDDir.multiply(-1);\n    }\n    \n    if(ABCDir.dotProduct(AO) &gt; 0) {\n        s.remove(0);\n        return ABCDir;\n    }else if(ADBDir.dotProduct(AO) &gt; 0) {\n        s.remove(1);\n        return ADBDir;\n    }else if(ACDDir.dotProduct(AO) &gt; 0) {\n        s.remove(2);\n        return ACDDir;\n    }\n    System.out.println(&quot;AHHHH&quot;);\n    return null;\n}\n\n\n\nstatic private Point3D triSimplex(ArrayList&lt;Point3D&gt; s, Point3D dir) {\n    Point3D AB = s.get(1).subtract(s.get(2));\n    Point3D AC = s.get(0).subtract(s.get(2));\n    Point3D AO = s.get(2).multiply(-1);\n    Point3D ABDir = (AC.crossProduct(AB)).crossProduct(AB);\n    Point3D ACDir = (AB.crossProduct(AC)).crossProduct(AC);\n    if(ABDir.dotProduct(AO) &gt; 0) {\n        s.remove(0);\n        return ABDir;\n    }else if(ACDir.dotProduct(AO) &gt; 0) {\n        s.remove(1);\n        return ACDir;\n    }\n    return dir;\n}\n\nstatic private Point3D nextDir(ArrayList&lt;Point3D&gt; s) {\n    Point3D AB = s.get(0).subtract(s.get(1));\n    Point3D AO = s.get(1).multiply(-1);\n    return (AB.crossProduct(AO)).crossProduct(AB);\n    \n}\n</code></pre>\n"},{"tags":["java","spring-transactions","declarative"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1579954419,"post_id":59900745,"comment_id":105943666,"body_markdown":"To understand the issue I tried a simple test and it does start a new txn . Could you please share why you think a new txn is not started ?","body":"To understand the issue I tried a simple test and it does start a new txn . Could you please share why you think a new txn is not started ?"},{"owner":{"account_id":3939456,"reputation":1803,"user_id":3254515,"accept_rate":52,"display_name":"fernando1979"},"score":0,"creation_date":1580076737,"post_id":59900745,"comment_id":105969600,"body_markdown":"Because when someService.updateSomething() throws an Exception, I get an UnexpectedRollbackException when someMethod tries to commit its transaction","body":"Because when someService.updateSomething() throws an Exception, I get an UnexpectedRollbackException when someMethod tries to commit its transaction"},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1580082905,"post_id":59900745,"comment_id":105970663,"body_markdown":"Could you please share the complete code and the exception trace . Also following [post](https://stackoverflow.com/questions/2007097/unexpectedrollbackexception-a-full-scenario-analysis) will be helpful in your analysis .","body":"Could you please share the complete code and the exception trace . Also following <a href=\"https://stackoverflow.com/questions/2007097/unexpectedrollbackexception-a-full-scenario-analysis\">post</a> will be helpful in your analysis ."},{"owner":{"account_id":3939456,"reputation":1803,"user_id":3254515,"accept_rate":52,"display_name":"fernando1979"},"score":1,"creation_date":1580138311,"post_id":59900745,"comment_id":105989810,"body_markdown":"I understood whats happening. When you wrap programmatically a method with a new transaction, if the method throws an exception (this case), there is a LOGGER.error code but when it finishes, the parent method(someMethod) finishes and tries to commit the new transaction but the Transactional annotation in the someService.updateSomething() method in its class has marked the transaction to rollback. So, I do have a new transactional behaviour","body":"I understood whats happening. When you wrap programmatically a method with a new transaction, if the method throws an exception (this case), there is a LOGGER.error code but when it finishes, the parent method(someMethod) finishes and tries to commit the new transaction but the Transactional annotation in the someService.updateSomething() method in its class has marked the transaction to rollback. So, I do have a new transactional behaviour"}],"owner":{"account_id":3939456,"reputation":1803,"user_id":3254515,"accept_rate":52,"display_name":"fernando1979"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683603009,"creation_date":1579884944,"question_id":59900745,"body_markdown":"I am trying to override the transactional behaviour for a service method(someService.updateSomething() in the example) annotated with @Transactional annotation in Spring. To do so, from other class, I am using programmatic transactional code like the next:\r\n\r\n    @Service\r\n    public class MyServiceClass {\r\n\r\n     \r\n       private TransactionTemplate transactionTemplate;\t\r\n\t\r\n\t\r\n\t   public MyClass (PlatformTransactionManager transactionManager) {\r\n\t\t   transactionTemplate = new TransactionTemplate(transactionManager);\r\n\t   }\r\n\r\n\r\n\r\n     @Transactional\r\n     public void someMethod(){\t\t\t\t\t\r\n\t\ttransactionTemplate.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRES_NEW);\t\t\r\n\t\ttransactionTemplate.execute(new TransactionCallbackWithoutResult()\t{    \r\n\t\t\tprotected void doInTransactionWithoutResult(TransactionStatus status){  \r\n\t\t\t\ttry{\r\n\t\t\t\t\tsomeService.updateSomething();    \r\n\t\t\t\t}catch(Exception e){\r\n\t\t        \tLOGGER.error(&quot;Error has ocurred&quot;);       \t      \t\r\n\t\t        }\r\n\t\t\t} \r\n\t\t});\r\n\t  }\r\n    }\r\n\r\n\r\nMy problem is that someService.updateSomething() does not run in a new Transaction and I dont understand why. So:\r\n\r\n - If I call a proxied service method with transactional behaviour like someService.updateSomething() but in the call I create a new transaction like in the example, when the code hits to the proxied method, it will take the new transaction created and not the transaction already running for the someMethod() method, right?\r\n\r\nThanks!","title":"Override declarative transactional methods with programmatic transactional code in Spring","body":"<p>I am trying to override the transactional behaviour for a service method(someService.updateSomething() in the example) annotated with @Transactional annotation in Spring. To do so, from other class, I am using programmatic transactional code like the next:</p>\n\n<pre><code>@Service\npublic class MyServiceClass {\n\n\n   private TransactionTemplate transactionTemplate; \n\n\n   public MyClass (PlatformTransactionManager transactionManager) {\n       transactionTemplate = new TransactionTemplate(transactionManager);\n   }\n\n\n\n @Transactional\n public void someMethod(){                  \n    transactionTemplate.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRES_NEW);     \n    transactionTemplate.execute(new TransactionCallbackWithoutResult()  {    \n        protected void doInTransactionWithoutResult(TransactionStatus status){  \n            try{\n                someService.updateSomething();    \n            }catch(Exception e){\n                LOGGER.error(\"Error has ocurred\");                  \n            }\n        } \n    });\n  }\n}\n</code></pre>\n\n<p>My problem is that someService.updateSomething() does not run in a new Transaction and I dont understand why. So:</p>\n\n<ul>\n<li>If I call a proxied service method with transactional behaviour like someService.updateSomething() but in the call I create a new transaction like in the example, when the code hits to the proxied method, it will take the new transaction created and not the transaction already running for the someMethod() method, right?</li>\n</ul>\n\n<p>Thanks!</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1683599208,"post_id":76205464,"comment_id":134387730,"body_markdown":"What does the error message say?","body":"What does the error message say?"},{"owner":{"account_id":21548755,"reputation":1,"user_id":15885212,"display_name":"Nirbhik"},"score":0,"creation_date":1683599367,"post_id":76205464,"comment_id":134387745,"body_markdown":"java: non-static variable this cannot be referenced from a static context","body":"java: non-static variable this cannot be referenced from a static context"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1683599484,"post_id":76205464,"comment_id":134387749,"body_markdown":"Please [edit] to include a [mcve] of your code, and include it *as text*, not an image.","body":"Please <a href=\"https://stackoverflow.com/posts/76205464/edit\">edit</a> to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your code, and include it <i>as text</i>, not an image."}],"answers":[{"tags":[],"owner":{"account_id":44830,"reputation":1744,"user_id":131795,"display_name":"Trevor Harrison"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1683599558,"creation_date":1683599558,"answer_id":76205484,"question_id":76205464,"body_markdown":"If you are putting all your classes in the same file (not a standard thing), and you are using those classes from your ```void static main()``` method, then yes, you will need to put ```static``` in front of your classes.\r\n\r\nNormally classes would be in their own file, and then you would not use (actually, could not use) static in front of the ```class``` keyword.\r\n","title":"Error occurs if I do not make every class static in java","body":"<p>If you are putting all your classes in the same file (not a standard thing), and you are using those classes from your <code>void static main()</code> method, then yes, you will need to put <code>static</code> in front of your classes.</p>\n<p>Normally classes would be in their own file, and then you would not use (actually, could not use) static in front of the <code>class</code> keyword.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683602906,"creation_date":1683602906,"answer_id":76205663,"question_id":76205464,"body_markdown":"No.\r\n\r\n`main` has to be static. static is more or less an advanced concept; if you don&#39;t want to learn about it yet (probably a good idea), the fix is simple: Get out of `static` IMMEDIATELY. This is not difficult:\r\n\r\n```\r\npublic class MyApp {\r\n  public static void main(String[] args) throws Exception {\r\n    new MyApp().go();\r\n  }\r\n\r\n  void go() throws Exception {\r\n    // this is where you write your code\r\n  }\r\n}\r\n```\r\n\r\nOther than the one `static` in your `main` method, don&#39;t put static anywhere. You won&#39;t have any &#39;uhoh that is not static&#39; errors any more.","title":"Error occurs if I do not make every class static in java","body":"<p>No.</p>\n<p><code>main</code> has to be static. static is more or less an advanced concept; if you don't want to learn about it yet (probably a good idea), the fix is simple: Get out of <code>static</code> IMMEDIATELY. This is not difficult:</p>\n<pre><code>public class MyApp {\n  public static void main(String[] args) throws Exception {\n    new MyApp().go();\n  }\n\n  void go() throws Exception {\n    // this is where you write your code\n  }\n}\n</code></pre>\n<p>Other than the one <code>static</code> in your <code>main</code> method, don't put static anywhere. You won't have any 'uhoh that is not static' errors any more.</p>\n"}],"owner":{"account_id":21548755,"reputation":1,"user_id":15885212,"display_name":"Nirbhik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683602906,"creation_date":1683599126,"question_id":76205464,"body_markdown":"I am new to java. I&#39;m learning java from a youtube course. There the instructor makes classes just by using the &quot;class&quot; keyword. But whenever I try to do that, an error occurs and I have to add the keyword &quot;static&quot; before the class to solve the error. Should I add &quot;static&quot; keyword everytime I make a class? I have to add static even during inheriting the class.\r\n\r\n[Here we can see error is occured without the keyword &quot;static&quot;](https://i.stack.imgur.com/5b7YT.png)\r\n\r\n[The error goes away after I add the keyword &quot;static&quot;](https://i.stack.imgur.com/n8nGT.png)\r\n\r\n\r\n\r\n\r\nShould I add the keyword &quot;static&quot; everytime I make a class?","title":"Error occurs if I do not make every class static in java","body":"<p>I am new to java. I'm learning java from a youtube course. There the instructor makes classes just by using the &quot;class&quot; keyword. But whenever I try to do that, an error occurs and I have to add the keyword &quot;static&quot; before the class to solve the error. Should I add &quot;static&quot; keyword everytime I make a class? I have to add static even during inheriting the class.</p>\n<p><a href=\"https://i.stack.imgur.com/5b7YT.png\" rel=\"nofollow noreferrer\">Here we can see error is occured without the keyword &quot;static&quot;</a></p>\n<p><a href=\"https://i.stack.imgur.com/n8nGT.png\" rel=\"nofollow noreferrer\">The error goes away after I add the keyword &quot;static&quot;</a></p>\n<p>Should I add the keyword &quot;static&quot; everytime I make a class?</p>\n"},{"tags":["java","bitmap","icons","resolution"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1646233104,"post_id":71324674,"comment_id":126072771,"body_markdown":"I&#39;m not fully understanding your question.  You typically don&#39;t store all resolutions of an image, you store a high resolution version of the image and scale it down if needed.  If at all possible, you could use SVGs and then resolution doesn&#39;t matter at all.","body":"I&#39;m not fully understanding your question.  You typically don&#39;t store all resolutions of an image, you store a high resolution version of the image and scale it down if needed.  If at all possible, you could use SVGs and then resolution doesn&#39;t matter at all."},{"owner":{"account_id":11227445,"reputation":11,"user_id":8236669,"display_name":"D.Price"},"score":0,"creation_date":1646233224,"post_id":71324674,"comment_id":126072829,"body_markdown":"I want to create a graphical representation of a set of resolutions","body":"I want to create a graphical representation of a set of resolutions"},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1646233617,"post_id":71324674,"comment_id":126073002,"body_markdown":"Again, you would need a single image and then scale it to what you need before displaying it to the UI.  See BufferedImage.getScaledInstance()","body":"Again, you would need a single image and then scale it to what you need before displaying it to the UI.  See BufferedImage.getScaledInstance()"}],"answers":[{"tags":[],"owner":{"account_id":3033509,"reputation":539,"user_id":2572072,"accept_rate":38,"display_name":"Stik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646233458,"creation_date":1646233458,"answer_id":71324902,"question_id":71324674,"body_markdown":"Make use of the image classes in `java.awt.*` and `javax.imageio.*`:\r\n\r\n```\r\n\t\tBufferedImage img = new BufferedImage(1024, 1024, BufferedImage.TYPE_INT_ARGB);\r\n\t\tGraphics2D g = img.createGraphics();\r\n\r\n\t\tg.setColor(Color.RED);\r\n\t\tg.fillRect(0, 0, 512, 512);\r\n\t\tg.setColor(Color.BLACK);\r\n\t\tg.drawString(&quot;512x512&quot;, 10, 20);\r\n\t\t// etc..\r\n\t\tImageIO.write(img, &quot;PNG&quot;, new File(&quot;C:\\\\junk\\\\output.png&quot;));\r\n```\r\n\r\nI assume you&#39;ll have a loop over your input pairs, then you&#39;ll have to fiddle around with the arithmetic needed to get the various bits of text where you want them","title":"How Java programmatically create an image showing its resolution or multiple resolutions","body":"<p>Make use of the image classes in <code>java.awt.*</code> and <code>javax.imageio.*</code>:</p>\n<pre><code>        BufferedImage img = new BufferedImage(1024, 1024, BufferedImage.TYPE_INT_ARGB);\n        Graphics2D g = img.createGraphics();\n\n        g.setColor(Color.RED);\n        g.fillRect(0, 0, 512, 512);\n        g.setColor(Color.BLACK);\n        g.drawString(&quot;512x512&quot;, 10, 20);\n        // etc..\n        ImageIO.write(img, &quot;PNG&quot;, new File(&quot;C:\\\\junk\\\\output.png&quot;));\n</code></pre>\n<p>I assume you'll have a loop over your input pairs, then you'll have to fiddle around with the arithmetic needed to get the various bits of text where you want them</p>\n"}],"owner":{"account_id":11227445,"reputation":11,"user_id":8236669,"display_name":"D.Price"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683602600,"creation_date":1646232558,"question_id":71324674,"body_markdown":"How can I programmatically create an Image/Icon/Bitmap that shows n number of resolutions in Java using just the SE i.e. no libraries.\r\n\r\ne.g. an array of resolutions like\r\n\r\n    [ [640, 480], [720, 576] ]\r\n\r\nto\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1z5cE.png\r\nThe location of the resolution doesn&#39;t matter but would be preferable as shown.\r\n\r\nWith custom colours/fonts ? maybe even just a line rather than solid fill ?","title":"How Java programmatically create an image showing its resolution or multiple resolutions","body":"<p>How can I programmatically create an Image/Icon/Bitmap that shows n number of resolutions in Java using just the SE i.e. no libraries.</p>\n<p>e.g. an array of resolutions like</p>\n<pre><code>[ [640, 480], [720, 576] ]\n</code></pre>\n<p>to</p>\n<p><a href=\"https://i.stack.imgur.com/1z5cE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1z5cE.png\" alt=\"enter image description here\" /></a></p>\n<p>The location of the resolution doesn't matter but would be preferable as shown.</p>\n<p>With custom colours/fonts ? maybe even just a line rather than solid fill ?</p>\n"},{"tags":["java","data-binding","binding","zk"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648741877,"post_id":71694003,"comment_id":126707354,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":12839224,"reputation":431,"user_id":9287770,"display_name":"MDuchemin"},"score":0,"creation_date":1648803899,"post_id":71694003,"comment_id":126722015,"body_markdown":"posted a long-form answer here: https://forum.zkoss.org/question/114206/problem-creating-data-binding-programmatically/","body":"posted a long-form answer here: <a href=\"https://forum.zkoss.org/question/114206/problem-creating-data-binding-programmatically/\" rel=\"nofollow noreferrer\">forum.zkoss.org/question/114206/&hellip;</a>"}],"owner":{"account_id":24759803,"reputation":1,"user_id":18644353,"display_name":"ImanolRP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683602455,"creation_date":1648735680,"question_id":71694003,"body_markdown":"I&#39;m creating a zk component for mount easy grid from view database. One of its powerful features is the automatic generation of filters by column. These filters appear automatically on the top column inside the auxheader tag and all are generated programmatically in java with the column info. Example of database view TIMESTAMP column (sorry not css right now):\r\n\r\nhttps://prnt.sc/ZK9nMws2l68p\r\n\r\nMy problem now is that I don&#39;t know how to bind these datebox generated programmatically in java with the view for recovering the filter values.\r\n\r\nI was searching inside the zkoss wiki and only found this:\r\n \r\n[create data binding programmatically](https://www.zkoss.org/wiki/User:Hawk/Create_Data_Binding_Programmatically), \r\n\r\nwhere you can find how bind zk components of the zul, or how bind components generated programatically if the parent has an item render option.\r\n\r\n**But i need generate N datebox, numberbox, textbox depending on the number and type of the columns and recover the values of it.**\r\n\r\nAnyone knows how do it?\r\n\r\nThe component has a loot of code and scrap, but more or less the idea is:\r\n\r\nhttps://pastebin.com/Q5VX472L\r\n\r\n        cols.setParent(gridDatatable);\r\n        // create filters inside AuxHeads\r\n        Auxhead auxhead1 = new Auxhead();\r\n        // create a line with the same number of AuxHeaders as Columns we have\r\n        for (int indexColumn = 0; indexColumn &lt; columnsList\r\n            .size(); indexColumn++) {\r\n          if (columnsList.get(indexColumn).getVisible()) {\r\n            // i have definned the diferent Auxheader with a patron factory\r\n            Auxheader auxheader = gridDatatableFilterFactory.generateFilter(\r\n                columnsList.get(indexColumn).getTerms().getType(),\r\n                columnsList.get(indexColumn).getTerms().getKey());\r\n            auxheader.setParent(auxhead1);\r\n          }\r\n        }\r\n        // set the Auxhead line between col names and rows\r\n        auxhead1.setParent(gridDatatable);\r\n        // we add the rowrender for print the rows\r\n        gridDatatable.setRowRenderer(\r\n            new DatatableRowRender(columnsList, gridDatatableCellFactory));\r\n        search();\r\n\r\nThank you in advance, regards.","title":"Zkoss-8.5.1 Problem creating data binding programmatically","body":"<p>I'm creating a zk component for mount easy grid from view database. One of its powerful features is the automatic generation of filters by column. These filters appear automatically on the top column inside the auxheader tag and all are generated programmatically in java with the column info. Example of database view TIMESTAMP column (sorry not css right now):</p>\n<p><a href=\"https://prnt.sc/ZK9nMws2l68p\" rel=\"nofollow noreferrer\">https://prnt.sc/ZK9nMws2l68p</a></p>\n<p>My problem now is that I don't know how to bind these datebox generated programmatically in java with the view for recovering the filter values.</p>\n<p>I was searching inside the zkoss wiki and only found this:</p>\n<p><a href=\"https://www.zkoss.org/wiki/User:Hawk/Create_Data_Binding_Programmatically\" rel=\"nofollow noreferrer\">create data binding programmatically</a>,</p>\n<p>where you can find how bind zk components of the zul, or how bind components generated programatically if the parent has an item render option.</p>\n<p><strong>But i need generate N datebox, numberbox, textbox depending on the number and type of the columns and recover the values of it.</strong></p>\n<p>Anyone knows how do it?</p>\n<p>The component has a loot of code and scrap, but more or less the idea is:</p>\n<p><a href=\"https://pastebin.com/Q5VX472L\" rel=\"nofollow noreferrer\">https://pastebin.com/Q5VX472L</a></p>\n<pre><code>    cols.setParent(gridDatatable);\n    // create filters inside AuxHeads\n    Auxhead auxhead1 = new Auxhead();\n    // create a line with the same number of AuxHeaders as Columns we have\n    for (int indexColumn = 0; indexColumn &lt; columnsList\n        .size(); indexColumn++) {\n      if (columnsList.get(indexColumn).getVisible()) {\n        // i have definned the diferent Auxheader with a patron factory\n        Auxheader auxheader = gridDatatableFilterFactory.generateFilter(\n            columnsList.get(indexColumn).getTerms().getType(),\n            columnsList.get(indexColumn).getTerms().getKey());\n        auxheader.setParent(auxhead1);\n      }\n    }\n    // set the Auxhead line between col names and rows\n    auxhead1.setParent(gridDatatable);\n    // we add the rowrender for print the rows\n    gridDatatable.setRowRenderer(\n        new DatatableRowRender(columnsList, gridDatatableCellFactory));\n    search();\n</code></pre>\n<p>Thank you in advance, regards.</p>\n"},{"tags":["java","runtime","cpu","processor"],"comments":[{"owner":{"account_id":7654063,"reputation":42255,"user_id":5801661,"display_name":"Margaret Bloom"},"score":0,"creation_date":1474398113,"post_id":39597474,"comment_id":66512076,"body_markdown":"The major issue is not the OS, it is the architecture. Java potentially targets every existing architecture, can you restrict the list? Say, x86(-64) only? ARM?","body":"The major issue is not the OS, it is the architecture. Java potentially targets every existing architecture, can you restrict the list? Say, x86(-64) only? ARM?"},{"owner":{"account_id":221733,"reputation":36359,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"score":0,"creation_date":1474438199,"post_id":39597474,"comment_id":66525245,"body_markdown":"@MargaretBloom yes, ofcourse, will be x86 machines with 64 bit&#39;s processors","body":"@MargaretBloom yes, ofcourse, will be x86 machines with 64 bit&#39;s processors"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1683602548,"post_id":39597474,"comment_id":134388014,"body_markdown":"In linux, read the file /proc/cpuinfo.","body":"In linux, read the file /proc/cpuinfo."}],"answers":[{"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474383774,"creation_date":1474383774,"answer_id":39597558,"question_id":39597474,"body_markdown":"No, there is no standard API in the JVM that reveals this information. You can create JNI for each platform that calls appropriate native OS methods to learn this information, but nothing is part of the standard, 100%-java, API.\r\n","title":"Is it possible to know maximum CPU speed in MHZ in java?","body":"<p>No, there is no standard API in the JVM that reveals this information. You can create JNI for each platform that calls appropriate native OS methods to learn this information, but nothing is part of the standard, 100%-java, API.</p>\n"},{"tags":[],"owner":{"account_id":6852097,"reputation":1006,"user_id":7470104,"display_name":"Christoph Bimminger"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1490445048,"creation_date":1490445048,"answer_id":43016347,"question_id":39597474,"body_markdown":"On windows, you should be able to get the info from Win32 SystemInfo\r\nhttp://search.cpan.org/~cjohnston/Win32-SystemInfo-0.12/SystemInfo.pm","title":"Is it possible to know maximum CPU speed in MHZ in java?","body":"<p>On windows, you should be able to get the info from Win32 SystemInfo\n<a href=\"http://search.cpan.org/~cjohnston/Win32-SystemInfo-0.12/SystemInfo.pm\" rel=\"nofollow noreferrer\">http://search.cpan.org/~cjohnston/Win32-SystemInfo-0.12/SystemInfo.pm</a></p>\n"}],"owner":{"account_id":221733,"reputation":36359,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":610,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1683602051,"creation_date":1474383591,"question_id":39597474,"body_markdown":"Is it possible to know maximum CPU speed in MHZ in java programatically?\r\n\r\nAfter a huge search in google and here i did not find the way to get it.\r\n\r\nI found a way to do it which works in Android but I&#39;m not developing this for android, so it does not work. (https://android.stackexchange.com/questions/19810/how-can-i-determine-max-cpu-speed-at-runtime/59351)\r\n\r\nI need it to work in a linux/osx/windows machine.\r\n\r\n","title":"Is it possible to know maximum CPU speed in MHZ in java?","body":"<p>Is it possible to know maximum CPU speed in MHZ in java programatically?</p>\n\n<p>After a huge search in google and here i did not find the way to get it.</p>\n\n<p>I found a way to do it which works in Android but I'm not developing this for android, so it does not work. (<a href=\"https://android.stackexchange.com/questions/19810/how-can-i-determine-max-cpu-speed-at-runtime/59351\">https://android.stackexchange.com/questions/19810/how-can-i-determine-max-cpu-speed-at-runtime/59351</a>)</p>\n\n<p>I need it to work in a linux/osx/windows machine.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8493198,"reputation":11341,"user_id":6368697,"display_name":"Patrick Mevzek"},"score":1,"creation_date":1683351151,"post_id":76179285,"comment_id":134357001,"body_markdown":"&quot;I understand disabling ssl verification is not a good solution . But I want it for development&quot; Even for development it is still not a good idea at all because it will just encroach sloppy programming into everything and it will leak in production.","body":"&quot;I understand disabling ssl verification is not a good solution . But I want it for development&quot; Even for development it is still not a good idea at all because it will just encroach sloppy programming into everything and it will leak in production."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1683351686,"post_id":76179285,"comment_id":134357038,"body_markdown":"SUGGESTION: review this link: https://www.javacodemonk.com/disable-ssl-validation-in-spring-resttemplate-e2c53583.   Please post back what you&#39;ve tried, and whether or not it worked.","body":"SUGGESTION: review this link: <a href=\"https://www.javacodemonk.com/disable-ssl-validation-in-spring-resttemplate-e2c53583\" rel=\"nofollow noreferrer\">javacodemonk.com/&hellip;</a>.   Please post back what you&#39;ve tried, and whether or not it worked."},{"owner":{"account_id":17843362,"reputation":123,"user_id":12960773,"display_name":"Sushant"},"score":0,"creation_date":1683527005,"post_id":76179285,"comment_id":134374535,"body_markdown":"@paulsm4 I am not using rest template to make the api call . I am using SVIX&#39;s sdk. I don&#39;t know what it uses underneath.","body":"@paulsm4 I am not using rest template to make the api call . I am using SVIX&#39;s sdk. I don&#39;t know what it uses underneath."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683607469,"post_id":76179285,"comment_id":134388435,"body_markdown":"&quot;I am looking for a command line flag to disable the ssl verification&quot;: you won&#39;t find one, and there will never be one. Sun/Oracle would have to be mad to introduce a security breach like this into Java. And you don&#39;t &quot;need it for development&quot;. You need to *solve* the problem, not just ignore it.","body":"&quot;I am looking for a command line flag to disable the ssl verification&quot;: you won&#39;t find one, and there will never be one. Sun/Oracle would have to be mad to introduce a security breach like this into Java. And you don&#39;t &quot;need it for development&quot;. You need to <i>solve</i> the problem, not just ignore it."},{"owner":{"account_id":17843362,"reputation":123,"user_id":12960773,"display_name":"Sushant"},"score":0,"creation_date":1683699060,"post_id":76179285,"comment_id":134404516,"body_markdown":"@user207421 I am on a corporate network which puts its certificate in the certificate chain. The certificate changes dynamically and adding to trusted certs won&#39;t work . How do I _solve_ the problem ?","body":"@user207421 I am on a corporate network which puts its certificate in the certificate chain. The certificate changes dynamically and adding to trusted certs won&#39;t work . How do I <i>solve</i> the problem ?"},{"owner":{"account_id":17843362,"reputation":123,"user_id":12960773,"display_name":"Sushant"},"score":0,"creation_date":1683699306,"post_id":76179285,"comment_id":134404554,"body_markdown":"@user207421  why Sun/Oracle is mad to keep a flag like [ `-Dtrust_all_cert=true`  ](https://docs.oracle.com/communications/E76289_01/doc.1001/e76292/sg_imp_security.htm#IMSSG166)","body":"@user207421  why Sun/Oracle is mad to keep a flag like [ <code>-Dtrust_all_cert=true</code>  ](<a href=\"https://docs.oracle.com/communications/E76289_01/doc.1001/e76292/sg_imp_security.htm#IMSSG166\" rel=\"nofollow noreferrer\">docs.oracle.com/communications/E76289_01/doc.1001/e76292/&hellip;</a>&zwnj;&#8203;)"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683755549,"post_id":76179285,"comment_id":134417244,"body_markdown":"@Sushant I agree. They are mad. But that&#39;s only for IMS, not the whole of Java.","body":"@Sushant I agree. They are mad. But that&#39;s only for IMS, not the whole of Java."}],"answers":[{"tags":[],"owner":{"account_id":20382156,"reputation":1,"user_id":14952024,"display_name":"Tom Hacohen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683601730,"creation_date":1683601730,"answer_id":76205593,"question_id":76179285,"body_markdown":"It looks like you may have an incomplete certificate store installed. Have you tried updating ca-certificates?\r\n\r\nE.g. on Debian (in Docker):\r\n```docker\r\nRUN apt-get update ;\\\r\n    apt-get install --no-install-recommends -y \\\r\n      curl \\\r\n      ca-certificates=20210119; \\\r\n    update-ca-certificates; \\\r\n    rm -rf /var/lib/apt/lists/*\r\n\r\n```","title":"command line flag to disable ssl certification validation in java","body":"<p>It looks like you may have an incomplete certificate store installed. Have you tried updating ca-certificates?</p>\n<p>E.g. on Debian (in Docker):</p>\n<pre><code>RUN apt-get update ;\\\n    apt-get install --no-install-recommends -y \\\n      curl \\\n      ca-certificates=20210119; \\\n    update-ca-certificates; \\\n    rm -rf /var/lib/apt/lists/*\n\n</code></pre>\n"}],"owner":{"account_id":17843362,"reputation":123,"user_id":12960773,"display_name":"Sushant"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1111,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1683601730,"creation_date":1683267339,"question_id":76179285,"body_markdown":"I am working on a Spring Boot application which calls a [SVIX][1] webhook .\r\n\r\n```java\r\nSvix svix = new Svix(&quot;TOKEN&quot;);\r\n        try {\r\n            svix.getMessage().create(&quot;APP_ID&quot;,\r\n                    new MessageIn()\r\n                            .eventType(rd.getEventType())\r\n                            .payload(ow.writeValueAsString(payload)));\r\n        }\r\n        catch (Exception e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n```\r\n\r\nI am getting the following error on running it\r\n\r\n```sh\r\njavax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n```\r\n\r\nI am working on a corporate network and I think it is causing a certificate issue. ( I had same issue in postman and clicking `Disable SSL Verification` had solved it .)\r\n\r\nI am looking for a command line flag to disable the ssl verification. So far I&#39;ve tried\r\n\r\n - `-Djdk.internal.httpclient.disableHostnameVerification=true`\r\n - `-Dcom.sun.security.enableAIAcaIssuers=true`\r\n - `-Dtrust_all_cert=true`\r\n - `-Dcom.sun.net.ssl.checkRevocation=false`\r\n\r\nbut nothing works\r\n\r\nI am using Spring Boot version 3 and Java Version 17.\r\n\r\nI understand disabling ssl verification is not a good solution . But I want it for development\r\n\r\n  [1]: https://docs.svix.com/","title":"command line flag to disable ssl certification validation in java","body":"<p>I am working on a Spring Boot application which calls a <a href=\"https://docs.svix.com/\" rel=\"nofollow noreferrer\">SVIX</a> webhook .</p>\n<pre class=\"lang-java prettyprint-override\"><code>Svix svix = new Svix(&quot;TOKEN&quot;);\n        try {\n            svix.getMessage().create(&quot;APP_ID&quot;,\n                    new MessageIn()\n                            .eventType(rd.getEventType())\n                            .payload(ow.writeValueAsString(payload)));\n        }\n        catch (Exception e){\n            System.out.println(e.getMessage());\n        }\n</code></pre>\n<p>I am getting the following error on running it</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n\n</code></pre>\n<p>I am working on a corporate network and I think it is causing a certificate issue. ( I had same issue in postman and clicking <code>Disable SSL Verification</code> had solved it .)</p>\n<p>I am looking for a command line flag to disable the ssl verification. So far I've tried</p>\n<ul>\n<li><code>-Djdk.internal.httpclient.disableHostnameVerification=true</code></li>\n<li><code>-Dcom.sun.security.enableAIAcaIssuers=true</code></li>\n<li><code>-Dtrust_all_cert=true</code></li>\n<li><code>-Dcom.sun.net.ssl.checkRevocation=false</code></li>\n</ul>\n<p>but nothing works</p>\n<p>I am using Spring Boot version 3 and Java Version 17.</p>\n<p>I understand disabling ssl verification is not a good solution . But I want it for development</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1683600609,"post_id":76205515,"comment_id":134387848,"body_markdown":"`execShellCmd` returns a `BufferedReader`. So just read it from there? What&#39;s wrong exactly?","body":"<code>execShellCmd</code> returns a <code>BufferedReader</code>. So just read it from there? What&#39;s wrong exactly?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1683601833,"post_id":76205515,"comment_id":134387961,"body_markdown":"Something like [this](https://stackoverflow.com/questions/25377355/processbuilder-cannot-run-bat-file-with-spaces-in-path/25377564#25377564) or [this](https://stackoverflow.com/questions/12869175/run-another-java-program-from-within-a-java-program-and-get-outputs-send-inputs/12869233#12869233)?","body":"Something like <a href=\"https://stackoverflow.com/questions/25377355/processbuilder-cannot-run-bat-file-with-spaces-in-path/25377564#25377564\">this</a> or <a href=\"https://stackoverflow.com/questions/12869175/run-another-java-program-from-within-a-java-program-and-get-outputs-send-inputs/12869233#12869233\">this</a>?"}],"owner":{"account_id":1495517,"reputation":14806,"user_id":1401560,"accept_rate":70,"display_name":"Chris F"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683600218,"creation_date":1683600218,"question_id":76205515,"body_markdown":"Caveat - I&#39;m not a Java programmer, just a hacker!\r\n\r\nI wrote a Java-based Gradle plugin that executes shell commands, something like this, which in this case, are Git commands.\r\n```java\r\n    BufferedReader execShellCmd(final String cmd) {\r\n        BufferedReader br = null;\r\n        ProcessBuilder pb = new ProcessBuilder();\r\n        if (isWindows()) {\r\n            pb.command(&quot;cmd.exe&quot;, &quot;/c&quot;, cmd);\r\n        }\r\n        else {\r\n            pb.command(&quot;sh&quot;, &quot;-c&quot;, cmd);\r\n        }\r\n        try {\r\n            Process p = pb.start();\r\n            br = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\r\n            exitVal = p.waitFor();\r\n            if (exitVal &gt; 0) {\r\n                System.out.printf(&quot;%s failed, err no: %d&quot;, cmd, exitVal);\r\n            }\r\n        }\r\n        catch (IOException e){\r\n            System.out.println(&quot;ERROR: I/O exception&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        catch (InterruptedException e){\r\n            System.out.println(&quot;ERROR: Interrupt exception&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        return br;\r\n    }\r\n\r\n    ...\r\n    cmd = &quot;if [[ -n $(git status -s) ]] ; then filelist=`git status -s` ; git commit -a -m \\&quot;&quot;+commitMsg+&quot;\\&quot;; git push origin &quot;+getSourceBranch()+&quot;:&quot;+getSourceBranch()+&quot; ; else echo \\&quot;No changes detected\\&quot;; fi&quot;;\r\n    execShellCmd(cmd);\r\n```\r\nHow can I print out the output of the `cmd` I&#39;m passing in? I&#39;m not talking about the result, where `pass == 0`, and `fail &gt; 0`, which is `exitVal` in my code.\r\n","title":"In Java, how can I print the output, not the result, of a shell command?","body":"<p>Caveat - I'm not a Java programmer, just a hacker!</p>\n<p>I wrote a Java-based Gradle plugin that executes shell commands, something like this, which in this case, are Git commands.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    BufferedReader execShellCmd(final String cmd) {\n        BufferedReader br = null;\n        ProcessBuilder pb = new ProcessBuilder();\n        if (isWindows()) {\n            pb.command(&quot;cmd.exe&quot;, &quot;/c&quot;, cmd);\n        }\n        else {\n            pb.command(&quot;sh&quot;, &quot;-c&quot;, cmd);\n        }\n        try {\n            Process p = pb.start();\n            br = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\n            exitVal = p.waitFor();\n            if (exitVal &gt; 0) {\n                System.out.printf(&quot;%s failed, err no: %d&quot;, cmd, exitVal);\n            }\n        }\n        catch (IOException e){\n            System.out.println(&quot;ERROR: I/O exception&quot;);\n            e.printStackTrace();\n        }\n        catch (InterruptedException e){\n            System.out.println(&quot;ERROR: Interrupt exception&quot;);\n            e.printStackTrace();\n        }\n        return br;\n    }\n\n    ...\n    cmd = &quot;if [[ -n $(git status -s) ]] ; then filelist=`git status -s` ; git commit -a -m \\&quot;&quot;+commitMsg+&quot;\\&quot;; git push origin &quot;+getSourceBranch()+&quot;:&quot;+getSourceBranch()+&quot; ; else echo \\&quot;No changes detected\\&quot;; fi&quot;;\n    execShellCmd(cmd);\n</code></pre>\n<p>How can I print out the output of the <code>cmd</code> I'm passing in? I'm not talking about the result, where <code>pass == 0</code>, and <code>fail &gt; 0</code>, which is <code>exitVal</code> in my code.</p>\n"},{"tags":["java","jboss","ejb","resteasy","jboss-weld"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1683309813,"post_id":76184789,"comment_id":134352653,"body_markdown":"Is there a specific end point that is causing this? I&#39;m trying to think of how it could be reproduced.","body":"Is there a specific end point that is causing this? I&#39;m trying to think of how it could be reproduced."},{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":0,"creation_date":1683599660,"post_id":76184789,"comment_id":134387767,"body_markdown":"never mind.. was a missing &quot;clean&quot; in maven job on build servers and it caused a resteasy jar stuffed in one of the EAR files and it caused all this ruckus.","body":"never mind.. was a missing &quot;clean&quot; in maven job on build servers and it caused a resteasy jar stuffed in one of the EAR files and it caused all this ruckus."}],"answers":[{"tags":[],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683599695,"creation_date":1683599695,"answer_id":76205492,"question_id":76184789,"body_markdown":"I was a missing &quot;clean&quot; in maven job on build servers and it caused a resteasy jar stuffed in one of the EAR files lib directory. \r\n\r\nThis was the cause of the 2 different resteasy jars on the classpath.","title":"JBoss + RestEasy - WELD-001318: Cannot resolve an ambiguous dependency between Managed Bean MultipartFormDataReader","body":"<p>I was a missing &quot;clean&quot; in maven job on build servers and it caused a resteasy jar stuffed in one of the EAR files lib directory.</p>\n<p>This was the cause of the 2 different resteasy jars on the classpath.</p>\n"}],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76205492,"answer_count":1,"score":0,"last_activity_date":1683599695,"creation_date":1683309126,"question_id":76184789,"body_markdown":"After upgrading to JBoss 7.4.7-eap, One of my apps refuses to deploy because of this error:\r\n\r\n```\r\njava.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\r\n\tat org.jboss.resteasy.plugins.providers.RegisterBuiltin.register(RegisterBuiltin.java:58)\r\n\tat org.jboss.resteasy.spi.ResteasyDeployment.startInternal(ResteasyDeployment.java:272)\r\n\tat org.jboss.resteasy.spi.ResteasyDeployment.start(ResteasyDeployment.java:98)\r\n\tat org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.init(ServletContainerDispatcher.java:140)\r\n\tat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.init(HttpServletDispatcher.java:42)\r\n\tat io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:117)\r\n\tat org.wildfly.extension.undertow.security.RunAsLifecycleInterceptor.init(RunAsLifecycleInterceptor.java:78)\r\n\tat io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:103)\r\n\tat io.undertow.servlet.core.ManagedServlet$DefaultInstanceStrategy.start(ManagedServlet.java:309)\r\n\tat io.undertow.servlet.core.ManagedServlet.createServlet(ManagedServlet.java:145)\r\n\tat io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:588)\r\n\tat io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:559)\r\n\tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n\tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n\tat org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1551)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1551)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1551)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1551)\r\n\tat io.undertow.servlet.core.DeploymentManagerImpl.start(DeploymentManagerImpl.java:601)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:97)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\r\n\t... 8 more\r\nCaused by: java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\r\n\tat org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1846)\r\n\tat org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1769)\r\n\tat org.jboss.resteasy.plugins.providers.RegisterBuiltin.registerProviders(RegisterBuiltin.java:148)\r\n\tat org.jboss.resteasy.plugins.providers.RegisterBuiltin.register(RegisterBuiltin.java:54)\r\n\t... 29 more\r\nCaused by: org.jboss.weld.exceptions.AmbiguousResolutionException: WELD-001318: Cannot resolve an ambiguous dependency between: \r\n  - Managed Bean [class org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataReader] with qualifiers [@Any @Default],\r\n  - Managed Bean [class org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataReader] with qualifiers [@Any @Default]\r\n\tat org.jboss.weld.manager.BeanManagerImpl.resolve(BeanManagerImpl.java:1158)\r\n\tat org.jboss.weld.util.ForwardingBeanManager.resolve(ForwardingBeanManager.java:94)\r\n\tat org.jboss.weld.bean.builtin.BeanManagerProxy.resolve(BeanManagerProxy.java:117)\r\n\tat org.jboss.resteasy.cdi.CdiConstructorInjector.construct(CdiConstructorInjector.java:66)\r\n\tat org.jboss.resteasy.spi.ResteasyProviderFactory.createProviderInstance(ResteasyProviderFactory.java:2835)\r\n\tat org.jboss.resteasy.spi.ResteasyProviderFactory.addMessageBodyReader(ResteasyProviderFactory.java:1068)\r\n\tat org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1841)\r\n\t... 32 more\r\n```\r\n\r\nMy resteasy jars are imported as provided dependencies:\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;version&gt;3.15.6.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nAnd I can confirm there are no resteasy jar files in my EAR file. \r\n\r\nYet I keep getting this error.\r\n\r\nI do see that there are two version of the JAR file in the modules folder:\r\n\r\n - ./modules/system/layers/base/.overlays/layer-base-jboss-eap-7.4.7.CP/org/jboss/resteasy/resteasy-multipart-provider/main/resteasy-multipart-provider-3.15.4.Final-redhat-00001.jar\r\n - ./modules/system/layers/base/org/jboss/resteasy/resteasy-multipart-provider/main/resteasy-multipart-provider-3.15.1.Final-redhat-00001.jar\r\n\r\nI&#39;m guessing this is some usual thing that is result of the upgrade. But is this possibly why I have 2 beans when the JBoss app tries to look up the managed bean?","title":"JBoss + RestEasy - WELD-001318: Cannot resolve an ambiguous dependency between Managed Bean MultipartFormDataReader","body":"<p>After upgrading to JBoss 7.4.7-eap, One of my apps refuses to deploy because of this error:</p>\n<pre><code>java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at java.lang.Thread.run(Thread.java:750)\n    at org.jboss.threads.JBossThread.run(JBossThread.java:513)\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\n    at org.jboss.resteasy.plugins.providers.RegisterBuiltin.register(RegisterBuiltin.java:58)\n    at org.jboss.resteasy.spi.ResteasyDeployment.startInternal(ResteasyDeployment.java:272)\n    at org.jboss.resteasy.spi.ResteasyDeployment.start(ResteasyDeployment.java:98)\n    at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.init(ServletContainerDispatcher.java:140)\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.init(HttpServletDispatcher.java:42)\n    at io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:117)\n    at org.wildfly.extension.undertow.security.RunAsLifecycleInterceptor.init(RunAsLifecycleInterceptor.java:78)\n    at io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:103)\n    at io.undertow.servlet.core.ManagedServlet$DefaultInstanceStrategy.start(ManagedServlet.java:309)\n    at io.undertow.servlet.core.ManagedServlet.createServlet(ManagedServlet.java:145)\n    at io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:588)\n    at io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:559)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1551)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1551)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1551)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1551)\n    at io.undertow.servlet.core.DeploymentManagerImpl.start(DeploymentManagerImpl.java:601)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:97)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\n    ... 8 more\nCaused by: java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1846)\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1769)\n    at org.jboss.resteasy.plugins.providers.RegisterBuiltin.registerProviders(RegisterBuiltin.java:148)\n    at org.jboss.resteasy.plugins.providers.RegisterBuiltin.register(RegisterBuiltin.java:54)\n    ... 29 more\nCaused by: org.jboss.weld.exceptions.AmbiguousResolutionException: WELD-001318: Cannot resolve an ambiguous dependency between: \n  - Managed Bean [class org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataReader] with qualifiers [@Any @Default],\n  - Managed Bean [class org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataReader] with qualifiers [@Any @Default]\n    at org.jboss.weld.manager.BeanManagerImpl.resolve(BeanManagerImpl.java:1158)\n    at org.jboss.weld.util.ForwardingBeanManager.resolve(ForwardingBeanManager.java:94)\n    at org.jboss.weld.bean.builtin.BeanManagerProxy.resolve(BeanManagerProxy.java:117)\n    at org.jboss.resteasy.cdi.CdiConstructorInjector.construct(CdiConstructorInjector.java:66)\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.createProviderInstance(ResteasyProviderFactory.java:2835)\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.addMessageBodyReader(ResteasyProviderFactory.java:1068)\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1841)\n    ... 32 more\n</code></pre>\n<p>My resteasy jars are imported as provided dependencies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;version&gt;3.15.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And I can confirm there are no resteasy jar files in my EAR file.</p>\n<p>Yet I keep getting this error.</p>\n<p>I do see that there are two version of the JAR file in the modules folder:</p>\n<ul>\n<li>./modules/system/layers/base/.overlays/layer-base-jboss-eap-7.4.7.CP/org/jboss/resteasy/resteasy-multipart-provider/main/resteasy-multipart-provider-3.15.4.Final-redhat-00001.jar</li>\n<li>./modules/system/layers/base/org/jboss/resteasy/resteasy-multipart-provider/main/resteasy-multipart-provider-3.15.1.Final-redhat-00001.jar</li>\n</ul>\n<p>I'm guessing this is some usual thing that is result of the upgrade. But is this possibly why I have 2 beans when the JBoss app tries to look up the managed bean?</p>\n"},{"tags":["java","visual-studio-code","remote-debugging"],"comments":[{"owner":{"account_id":15396644,"reputation":25745,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1681504473,"post_id":76018550,"comment_id":134072912,"body_markdown":"Related: https://stackoverflow.com/a/6037405/11107541 and https://stackoverflow.com/q/31878498/11107541. Show your launch.json file. And check if the output logs show what command is being run to launch your JVM. I want to see the flags being passed","body":"Related: <a href=\"https://stackoverflow.com/a/6037405/11107541\">stackoverflow.com/a/6037405/11107541</a> and <a href=\"https://stackoverflow.com/q/31878498/11107541\">stackoverflow.com/q/31878498/11107541</a>. Show your launch.json file. And check if the output logs show what command is being run to launch your JVM. I want to see the flags being passed"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1681721664,"post_id":76018550,"comment_id":134096489,"body_markdown":"What version of Java do you use? Try to replace the JDK version.","body":"What version of Java do you use? Try to replace the JDK version."},{"owner":{"account_id":756193,"reputation":765,"user_id":764027,"accept_rate":74,"display_name":"Russ Petersen"},"score":0,"creation_date":1681744943,"post_id":76018550,"comment_id":134102494,"body_markdown":"java --version\njava 18 2022-03-22\nJava(TM) SE Runtime Environment (build 18+36-2087)\nJava HotSpot(TM) 64-Bit Server VM (build 18+36-2087, mixed mode, sharing)","body":"java --version java 18 2022-03-22 Java(TM) SE Runtime Environment (build 18+36-2087) Java HotSpot(TM) 64-Bit Server VM (build 18+36-2087, mixed mode, sharing)"},{"owner":{"account_id":15396644,"reputation":25745,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1681924491,"post_id":76018550,"comment_id":134136715,"body_markdown":"I&#39;d also encourage you to post this as a bug report to https://github.com/microsoft/vscode-java-debug and link us here to the issue ticket you create. That way we can also get the maintainers to look at it.","body":"I&#39;d also encourage you to post this as a bug report to <a href=\"https://github.com/microsoft/vscode-java-debug\" rel=\"nofollow noreferrer\">github.com/microsoft/vscode-java-debug</a> and link us here to the issue ticket you create. That way we can also get the maintainers to look at it."},{"owner":{"account_id":85284,"reputation":1160,"user_id":4150685,"accept_rate":100,"display_name":"johnjps111"},"score":0,"creation_date":1682098400,"post_id":76018550,"comment_id":134167663,"body_markdown":"This may sound crazy, but I had this exact problem yesterday. I&#39;m using Spring, and today, I drilled into my Spring extension and started from there. It started.  Thereafter I&#39;ve been able to just click the usual green arrow to start. Go figure.","body":"This may sound crazy, but I had this exact problem yesterday. I&#39;m using Spring, and today, I drilled into my Spring extension and started from there. It started.  Thereafter I&#39;ve been able to just click the usual green arrow to start. Go figure."}],"answers":[{"tags":[],"owner":{"account_id":5043007,"reputation":23,"user_id":8681679,"display_name":"user630729"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682071718,"creation_date":1681919462,"answer_id":76056523,"question_id":76018550,"body_markdown":"I have had the same error as you for a few weeks/months: `Failed to launch debuggee VM. Reason: VM exited with status1` popup and `ERROR: JDWP unable to get necessary JVMTI capabilities.` message in the debug console when trying to debug a test method in VSCode.\r\n\r\nIn my case, here&#39;s the command line that is being executed by VSCode:\r\n\r\n    &quot;C:\\Program&#160;Files\\Eclipse&#160;Adoptium\\jdk-8.0.362.9-hotspot\\bin\\java.exe&quot; -Xdebug&#160;-Xnoagent&#160;-Djava.compiler=NONE&#160;-Xrunjdwp:transport=dt_socket,address=localhost:59735,server=n,suspend=y&#160;-ea&#160;-Dfile.encoding=UTF-8&#160;-cp&#160;[...my full classpath...];c:\\ProgramData\\VSCode\\Code\\User\\globalStorage\\redhat.java\\1.17.0\\config_win\\org.eclipse.osgi\\99\\0\\.cp;c:\\ProgramData\\VSCode\\Code\\User\\globalStorage\\redhat.java\\1.17.0\\config_win\\org.eclipse.osgi\\51\\0\\.cp&#160;org.eclipse.jdt.internal.junit.runner.RemoteTestRunner&#160;-version&#160;3&#160;-port&#160;59732&#160;-testLoaderClass&#160;org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader&#160;-loaderpluginname&#160;org.eclipse.jdt.junit4.runtime&#160;-test&#160;[...my test method...]\r\n\r\nRunning the same command from a command prompt outside of VSCode also results in this `ERROR: JDWP unable to get necessary JVMTI capabilities.` error message.\r\n\r\nIt seems that the issue is not only with tests. I had a project for which I had configured the launch configuration in `launch.json` with `&quot;console&quot;: &quot;internalConsole&quot;`, and it caused the same errors when trying to launch the program itself.\r\nI just removed that line and then it worked fine.\r\nBut for the tests, I currently don&#39;t have a solution.\r\n\r\n----------\r\n\r\nEDIT\r\n----\r\nI am not sure, but I suspect that the issue was somehow linked to SentinelOne (which is installed on my machine).\r\n\r\nI uninstalled and reinstalled the SentinelOne agent, and I do not have the error anymore. Neither when debugging a test case nor when launching a project with &quot;internalConsole&quot; config.\r\n\r\nHope this information can be useful to the original asker or anyone else.","title":"Why is VS Code saying &quot;Failed to launch debuggee VM. Reason: VM exited with status 1&quot; when trying to debug a Java test case?","body":"<p>I have had the same error as you for a few weeks/months: <code>Failed to launch debuggee VM. Reason: VM exited with status1</code> popup and <code>ERROR: JDWP unable to get necessary JVMTI capabilities.</code> message in the debug console when trying to debug a test method in VSCode.</p>\n<p>In my case, here's the command line that is being executed by VSCode:</p>\n<pre><code>&quot;C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.362.9-hotspot\\bin\\java.exe&quot; -Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=localhost:59735,server=n,suspend=y -ea -Dfile.encoding=UTF-8 -cp [...my full classpath...];c:\\ProgramData\\VSCode\\Code\\User\\globalStorage\\redhat.java\\1.17.0\\config_win\\org.eclipse.osgi\\99\\0\\.cp;c:\\ProgramData\\VSCode\\Code\\User\\globalStorage\\redhat.java\\1.17.0\\config_win\\org.eclipse.osgi\\51\\0\\.cp org.eclipse.jdt.internal.junit.runner.RemoteTestRunner -version 3 -port 59732 -testLoaderClass org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader -loaderpluginname org.eclipse.jdt.junit4.runtime -test [...my test method...]\n</code></pre>\n<p>Running the same command from a command prompt outside of VSCode also results in this <code>ERROR: JDWP unable to get necessary JVMTI capabilities.</code> error message.</p>\n<p>It seems that the issue is not only with tests. I had a project for which I had configured the launch configuration in <code>launch.json</code> with <code>&quot;console&quot;: &quot;internalConsole&quot;</code>, and it caused the same errors when trying to launch the program itself.\nI just removed that line and then it worked fine.\nBut for the tests, I currently don't have a solution.</p>\n<hr />\n<h2>EDIT</h2>\n<p>I am not sure, but I suspect that the issue was somehow linked to SentinelOne (which is installed on my machine).</p>\n<p>I uninstalled and reinstalled the SentinelOne agent, and I do not have the error anymore. Neither when debugging a test case nor when launching a project with &quot;internalConsole&quot; config.</p>\n<p>Hope this information can be useful to the original asker or anyone else.</p>\n"}],"owner":{"account_id":756193,"reputation":765,"user_id":764027,"accept_rate":74,"display_name":"Russ Petersen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":796,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683599096,"creation_date":1681502433,"question_id":76018550,"body_markdown":"I have a simple Java test case in VS Code that runs fine, but when I try to step through it in debug it shows the error &quot;Failed to launch debuggee VM. Reason: VM exited with status1&quot;?\r\n\r\nI have these extensions installed\r\n\r\n - Debugger for Java \r\n - Extension Pack for Java Language Support for\r\n   Java(TM) by Red Hat\r\n - Maven for Java \r\n - Project Manager for Java \r\n - Test Runner for Java \r\n - Remote - SSH \r\n - Remote - SSH: Editing Configuration\r\n - Files Remote Explorer\r\n\r\n```\r\nimport org.junit.Assert; \r\nimport org.junit.Test;\r\n\r\npublic class ProgNodeTest {\r\n\r\n    @Test\r\n    public void progNodeShouldBeInitialized() {\r\n        ProgNode pn = new ProgNode();\r\n    }\r\n}\r\n```\r\n\r\nThe TEST RESULTS window shows\r\n\r\n```\r\nThe test run did not record any output.\r\n```\r\n\r\nThe DEBUG CONSOLE window shows \r\n\r\n```\r\nERROR: JDWP unable to get necessary JVMTI capabilities.\r\n```\r\n\r\nI found a VS Code log file that might give a hint to the issue.\r\n\r\nC:\\Users\\&lt;user&gt;\\AppData\\Roaming\\Code\\logs\\20230417T084536\\window1\\exthost\\output_logging_20230417T084539\r\n\r\n```\r\n[Error - 8:49:00 AM] Apr 17, 2023, 8:49:00 AM [error response][launch]: Failed to launch debuggee VM. Reason: VM exited with status 1\r\nFailed to launch debuggee VM. Reason: VM exited with status 1\r\ncom.microsoft.java.debug.core.DebugException: Failed to launch debuggee VM. Reason: VM exited with status 1\r\n\tat com.microsoft.java.debug.core.adapter.handler.LaunchRequestHandler.launch(LaunchRequestHandler.java:326)\r\n\tat com.microsoft.java.debug.core.adapter.handler.LaunchRequestHandler.handleLaunchCommand(LaunchRequestHandler.java:193)\r\n\tat com.microsoft.java.debug.core.adapter.handler.LaunchRequestHandler.handle(LaunchRequestHandler.java:95)\r\n\tat com.microsoft.java.debug.core.adapter.DebugAdapter.lambda$dispatchRequest$0(DebugAdapter.java:93)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniComposeStage(Unknown Source)\r\n\tat java.base/java.util.concurrent.CompletableFuture.thenCompose(Unknown Source)\r\n\tat com.microsoft.java.debug.core.adapter.DebugAdapter.dispatchRequest(DebugAdapter.java:92)\r\n\tat com.microsoft.java.debug.core.adapter.ProtocolServer.dispatchRequest(ProtocolServer.java:118)\r\n\tat com.microsoft.java.debug.core.protocol.AbstractProtocolServer.lambda$new$0(AbstractProtocolServer.java:81)\r\n\tat io.reactivex.internal.observers.LambdaObserver.onNext(LambdaObserver.java:63)\r\n\tat io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(ObservableObserveOn.java:201)\r\n\tat io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(ObservableObserveOn.java:255)\r\n\tat io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)\r\n\tat io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)\r\n\tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    at java.base/java.lang.Thread.run(Unknown Source)\r\n```\r\n\r\nAnd the **3-Language Support for Java (Syntax Server).log** file shows what might be the cause of the error. This message **is not on its project&#39;s build path** sounds important.\r\n\r\n```\r\n[Error - 8:45:49 AM] Apr 17, 2023, 8:45:49 AM Problem with folding range for /dtxsql-java_92d3a23d/_/traceprofiler/src/test/java/com/xx/xx/traceprofiler/ProgNodeTest.java\r\n_/traceprofiler/src/test/java/com/xx/xx/traceprofiler [in dtxsql-java_92d3a23d] is not on its project&#39;s build path\r\nJava Model Exception: Error in Java Model (code 1006): _/traceprofiler/src/test/java/com/xx/xx/traceprofiler [in dtxsql-java_92d3a23d] is not on its project&#39;s build path\r\n\tat org.eclipse.jdt.internal.core.JavaElement.newJavaModelException(JavaElement.java:584)\r\n\tat org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:254)\r\n\tat org.eclipse.jdt.internal.core.Openable.openAncestors(Openable.java:528)\r\n\tat org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:248)\r\n\tat org.eclipse.jdt.internal.core.Openable.openAncestors(Openable.java:528)\r\n\tat org.eclipse.jdt.internal.core.CompilationUnit.openAncestors(CompilationUnit.java:1246)\r\n\tat org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:248)\r\n\tat org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:597)\r\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:328)\r\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:314)\r\n\tat org.eclipse.jdt.internal.core.CompilationUnit.getSourceRange(CompilationUnit.java:961)\r\n\tat org.eclipse.jdt.ls.core.internal.handlers.FoldingRangeHandler.computeFoldingRanges(FoldingRangeHandler.java:79)\r\n\tat org.eclipse.jdt.ls.core.internal.handlers.FoldingRangeHandler.foldingRange(FoldingRangeHandler.java:70)\r\n\tat org.eclipse.jdt.ls.core.internal.syntaxserver.SyntaxLanguageServer.lambda$8(SyntaxLanguageServer.java:374)\r\n\tat org.eclipse.jdt.ls.core.internal.BaseJDTLanguageServer.lambda$0(BaseJDTLanguageServer.java:87)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(Unknown Source)\r\n\tat java.base/java.util.concurrent.CompletableFuture$Completion.exec(Unknown Source)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(Unknown Source)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Unknown Source)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(Unknown Source)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(Unknown Source)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(Unknown Source)\r\n```\r\n\r\nContents of launch.json file\r\n\r\n```json\r\n{\r\n    // Use IntelliSense to learn about possible attributes.\r\n    // Hover to view descriptions of existing attributes.\r\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch TraceProfiler&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;com.xx.xx.traceprofiler.TraceProfiler&quot;,\r\n            &quot;args&quot;: [ &quot;trace.qoe.profiler.log&quot; ],\r\n            &quot;projectName&quot;: &quot;traceprofiler&quot;,\r\n            &quot;cwd&quot;: &quot;${workspaceFolder}${pathSeparator}traceprofiler&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nThanks","title":"Why is VS Code saying &quot;Failed to launch debuggee VM. Reason: VM exited with status 1&quot; when trying to debug a Java test case?","body":"<p>I have a simple Java test case in VS Code that runs fine, but when I try to step through it in debug it shows the error &quot;Failed to launch debuggee VM. Reason: VM exited with status1&quot;?</p>\n<p>I have these extensions installed</p>\n<ul>\n<li>Debugger for Java</li>\n<li>Extension Pack for Java Language Support for\nJava(TM) by Red Hat</li>\n<li>Maven for Java</li>\n<li>Project Manager for Java</li>\n<li>Test Runner for Java</li>\n<li>Remote - SSH</li>\n<li>Remote - SSH: Editing Configuration</li>\n<li>Files Remote Explorer</li>\n</ul>\n<pre><code>import org.junit.Assert; \nimport org.junit.Test;\n\npublic class ProgNodeTest {\n\n    @Test\n    public void progNodeShouldBeInitialized() {\n        ProgNode pn = new ProgNode();\n    }\n}\n</code></pre>\n<p>The TEST RESULTS window shows</p>\n<pre><code>The test run did not record any output.\n</code></pre>\n<p>The DEBUG CONSOLE window shows</p>\n<pre><code>ERROR: JDWP unable to get necessary JVMTI capabilities.\n</code></pre>\n<p>I found a VS Code log file that might give a hint to the issue.</p>\n<p>C:\\Users&lt;user&gt;\\AppData\\Roaming\\Code\\logs\\20230417T084536\\window1\\exthost\\output_logging_20230417T084539</p>\n<pre><code>[Error - 8:49:00 AM] Apr 17, 2023, 8:49:00 AM [error response][launch]: Failed to launch debuggee VM. Reason: VM exited with status 1\nFailed to launch debuggee VM. Reason: VM exited with status 1\ncom.microsoft.java.debug.core.DebugException: Failed to launch debuggee VM. Reason: VM exited with status 1\n    at com.microsoft.java.debug.core.adapter.handler.LaunchRequestHandler.launch(LaunchRequestHandler.java:326)\n    at com.microsoft.java.debug.core.adapter.handler.LaunchRequestHandler.handleLaunchCommand(LaunchRequestHandler.java:193)\n    at com.microsoft.java.debug.core.adapter.handler.LaunchRequestHandler.handle(LaunchRequestHandler.java:95)\n    at com.microsoft.java.debug.core.adapter.DebugAdapter.lambda$dispatchRequest$0(DebugAdapter.java:93)\n    at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(Unknown Source)\n    at java.base/java.util.concurrent.CompletableFuture.thenCompose(Unknown Source)\n    at com.microsoft.java.debug.core.adapter.DebugAdapter.dispatchRequest(DebugAdapter.java:92)\n    at com.microsoft.java.debug.core.adapter.ProtocolServer.dispatchRequest(ProtocolServer.java:118)\n    at com.microsoft.java.debug.core.protocol.AbstractProtocolServer.lambda$new$0(AbstractProtocolServer.java:81)\n    at io.reactivex.internal.observers.LambdaObserver.onNext(LambdaObserver.java:63)\n    at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(ObservableObserveOn.java:201)\n    at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(ObservableObserveOn.java:255)\n    at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)\n    at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)\n    at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>And the <strong>3-Language Support for Java (Syntax Server).log</strong> file shows what might be the cause of the error. This message <strong>is not on its project's build path</strong> sounds important.</p>\n<pre><code>[Error - 8:45:49 AM] Apr 17, 2023, 8:45:49 AM Problem with folding range for /dtxsql-java_92d3a23d/_/traceprofiler/src/test/java/com/xx/xx/traceprofiler/ProgNodeTest.java\n_/traceprofiler/src/test/java/com/xx/xx/traceprofiler [in dtxsql-java_92d3a23d] is not on its project's build path\nJava Model Exception: Error in Java Model (code 1006): _/traceprofiler/src/test/java/com/xx/xx/traceprofiler [in dtxsql-java_92d3a23d] is not on its project's build path\n    at org.eclipse.jdt.internal.core.JavaElement.newJavaModelException(JavaElement.java:584)\n    at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:254)\n    at org.eclipse.jdt.internal.core.Openable.openAncestors(Openable.java:528)\n    at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:248)\n    at org.eclipse.jdt.internal.core.Openable.openAncestors(Openable.java:528)\n    at org.eclipse.jdt.internal.core.CompilationUnit.openAncestors(CompilationUnit.java:1246)\n    at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:248)\n    at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:597)\n    at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:328)\n    at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:314)\n    at org.eclipse.jdt.internal.core.CompilationUnit.getSourceRange(CompilationUnit.java:961)\n    at org.eclipse.jdt.ls.core.internal.handlers.FoldingRangeHandler.computeFoldingRanges(FoldingRangeHandler.java:79)\n    at org.eclipse.jdt.ls.core.internal.handlers.FoldingRangeHandler.foldingRange(FoldingRangeHandler.java:70)\n    at org.eclipse.jdt.ls.core.internal.syntaxserver.SyntaxLanguageServer.lambda$8(SyntaxLanguageServer.java:374)\n    at org.eclipse.jdt.ls.core.internal.BaseJDTLanguageServer.lambda$0(BaseJDTLanguageServer.java:87)\n    at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(Unknown Source)\n    at java.base/java.util.concurrent.CompletableFuture$Completion.exec(Unknown Source)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(Unknown Source)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Unknown Source)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(Unknown Source)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(Unknown Source)\n</code></pre>\n<p>Contents of launch.json file</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    // Use IntelliSense to learn about possible attributes.\n    // Hover to view descriptions of existing attributes.\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Launch TraceProfiler&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;com.xx.xx.traceprofiler.TraceProfiler&quot;,\n            &quot;args&quot;: [ &quot;trace.qoe.profiler.log&quot; ],\n            &quot;projectName&quot;: &quot;traceprofiler&quot;,\n            &quot;cwd&quot;: &quot;${workspaceFolder}${pathSeparator}traceprofiler&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","printing"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1683536137,"post_id":76198876,"comment_id":134376231,"body_markdown":"How about calling the various getters of `PageFormat` to see for youself?","body":"How about calling the various getters of <code>PageFormat</code> to see for youself?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1683569675,"post_id":76198876,"comment_id":134383646,"body_markdown":"Likely it uses a session or OS specific configuration, like the printer properties of the default printer in Windows. For example, on my machine it is A4 and portrait, but for someone in the US it&#39;s probably Letter and portrait. But I could change my printer config to use Landscape as the default.","body":"Likely it uses a session or OS specific configuration, like the printer properties of the default printer in Windows. For example, on my machine it is A4 and portrait, but for someone in the US it&#39;s probably Letter and portrait. But I could change my printer config to use Landscape as the default."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683598885,"creation_date":1683598885,"answer_id":76205452,"question_id":76198876,"body_markdown":"As Mark said, the default page format is obtained from the PrintService of the PrinterJob.\r\n\r\nThe internal sun.print.RasterPrinterJob class has this:\r\n\r\n    public PageFormat defaultPage(PageFormat page) {\r\n        PageFormat newPage = (PageFormat) page.clone();\r\n\r\n        Paper newPaper = new Paper();\r\n\r\n        double ptsPerInch = 72.0;\r\n        double w, h;\r\n\r\n        Media media = null;\r\n\r\n        PrintService service = getPrintService();\r\n        if (service != null) {\r\n            MediaSize size;\r\n\r\n            media = (Media)service.getDefaultAttributeValue(Media.class);\r\n            if (media instanceof MediaSizeName &amp;&amp;\r\n               ((size = MediaSize.getMediaSizeForName((MediaSizeName) media)) != null)) {\r\n\r\n                w =  size.getX(MediaSize.INCH) * ptsPerInch;\r\n                h =  size.getY(MediaSize.INCH) * ptsPerInch;\r\n                newPaper.setSize(w, h);\r\n                newPaper.setImageableArea(ptsPerInch, ptsPerInch,\r\n                                          w - 2.0*ptsPerInch,\r\n                                          h - 2.0*ptsPerInch);\r\n                newPage.setPaper(newPaper);\r\n                return newPage;\r\n            }\r\n        }\r\n\r\nAnd if the print service isn’t defined, the method falls back to guessing:\r\n\r\n    /* Default to A4 paper outside North America. */\r\n    String defaultCountry = Locale.getDefault().getCountry();\r\n    if (!Locale.getDefault().equals(Locale.ENGLISH) &amp;&amp; // ie &quot;C&quot;\r\n        defaultCountry != null &amp;&amp;\r\n        !defaultCountry.equals(Locale.US.getCountry()) &amp;&amp;\r\n        !defaultCountry.equals(Locale.CANADA.getCountry())) {\r\n\r\n        double mmPerInch = 25.4;\r\n        w = Math.rint((210.0*ptsPerInch)/mmPerInch);\r\n        h = Math.rint((297.0*ptsPerInch)/mmPerInch);\r\n        newPaper.setSize(w, h);\r\n        newPaper.setImageableArea(ptsPerInch, ptsPerInch,\r\n                                  w - 2.0*ptsPerInch,\r\n                                  h - 2.0*ptsPerInch);\r\n    }\r\n\r\n(I’ve taken the liberty of formatting and trimming the above code in some places, for clarity.)\r\n\r\nSo, in summary, the method returns:\r\n\r\n* The PrintService’s default page size if available (that is, the printer’s default page size, which probably comes from the printer’s default tray)\r\n* Otherwise, if the runtime locale is not English, use a portrait A4 page\r\n* Otherwise, fall back to the default Paper, which is [8&#189;&#215;11 inches with a 1-inch margin](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/print/Paper.html#%3Cinit%3E()).\r\n","title":"What does PrintJob.defaultPage() returns?","body":"<p>As Mark said, the default page format is obtained from the PrintService of the PrinterJob.</p>\n<p>The internal sun.print.RasterPrinterJob class has this:</p>\n<pre><code>public PageFormat defaultPage(PageFormat page) {\n    PageFormat newPage = (PageFormat) page.clone();\n\n    Paper newPaper = new Paper();\n\n    double ptsPerInch = 72.0;\n    double w, h;\n\n    Media media = null;\n\n    PrintService service = getPrintService();\n    if (service != null) {\n        MediaSize size;\n\n        media = (Media)service.getDefaultAttributeValue(Media.class);\n        if (media instanceof MediaSizeName &amp;&amp;\n           ((size = MediaSize.getMediaSizeForName((MediaSizeName) media)) != null)) {\n\n            w =  size.getX(MediaSize.INCH) * ptsPerInch;\n            h =  size.getY(MediaSize.INCH) * ptsPerInch;\n            newPaper.setSize(w, h);\n            newPaper.setImageableArea(ptsPerInch, ptsPerInch,\n                                      w - 2.0*ptsPerInch,\n                                      h - 2.0*ptsPerInch);\n            newPage.setPaper(newPaper);\n            return newPage;\n        }\n    }\n</code></pre>\n<p>And if the print service isn’t defined, the method falls back to guessing:</p>\n<pre><code>/* Default to A4 paper outside North America. */\nString defaultCountry = Locale.getDefault().getCountry();\nif (!Locale.getDefault().equals(Locale.ENGLISH) &amp;&amp; // ie &quot;C&quot;\n    defaultCountry != null &amp;&amp;\n    !defaultCountry.equals(Locale.US.getCountry()) &amp;&amp;\n    !defaultCountry.equals(Locale.CANADA.getCountry())) {\n\n    double mmPerInch = 25.4;\n    w = Math.rint((210.0*ptsPerInch)/mmPerInch);\n    h = Math.rint((297.0*ptsPerInch)/mmPerInch);\n    newPaper.setSize(w, h);\n    newPaper.setImageableArea(ptsPerInch, ptsPerInch,\n                              w - 2.0*ptsPerInch,\n                              h - 2.0*ptsPerInch);\n}\n</code></pre>\n<p>(I’ve taken the liberty of formatting and trimming the above code in some places, for clarity.)</p>\n<p>So, in summary, the method returns:</p>\n<ul>\n<li>The PrintService’s default page size if available (that is, the printer’s default page size, which probably comes from the printer’s default tray)</li>\n<li>Otherwise, if the runtime locale is not English, use a portrait A4 page</li>\n<li>Otherwise, fall back to the default Paper, which is <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/print/Paper.html#%3Cinit%3E()\" rel=\"nofollow noreferrer\">8½×11 inches with a 1-inch margin</a>.</li>\n</ul>\n"}],"owner":{"account_id":26226248,"reputation":19,"user_id":19902912,"display_name":"Yatharth Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76205452,"answer_count":1,"score":-2,"last_activity_date":1683598885,"creation_date":1683535305,"question_id":76198876,"body_markdown":"The [documentation][1] says it creates a new pageFormat instance and sets it to default size and orientation. What is default here? Is it printer specific page ?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/awt/print/PrinterJob.html#:~:text=defaultPage,-public%20PageFormat%20defaultPage&amp;text=PageFormat%20defaultPage()-,Creates%20a%20new%20PageFormat%20instance%20and%20sets%20it%20to%20a,a%20default%20size%20and%20orientation.","title":"What does PrintJob.defaultPage() returns?","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/print/PrinterJob.html#:%7E:text=defaultPage,-public%20PageFormat%20defaultPage&amp;text=PageFormat%20defaultPage()-,Creates%20a%20new%20PageFormat%20instance%20and%20sets%20it%20to%20a,a%20default%20size%20and%20orientation.\" rel=\"nofollow noreferrer\">documentation</a> says it creates a new pageFormat instance and sets it to default size and orientation. What is default here? Is it printer specific page ?</p>\n"},{"tags":["java","sockets","urlconnection"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497226588,"creation_date":1497221761,"answer_id":44489486,"question_id":44489226,"body_markdown":"You can&#39;t. `URLConnection` is for HTTP, which is a stateless protocol. Not for your own stateful messaging protocol. One request and one response. If you want to send another message, get a new `URLConnection`. Connection pooling will probably happen behind the scenes.\r\n\r\nYou also need to read the response. Merely getting the input stream is not sufficient, and getting it multiple times is pointless.\r\n\r\nHard to see why you are writing `&quot;Response&quot;` in a request.","title":"Fire multiple requests with URLConnection socket flush","body":"<p>You can't. <code>URLConnection</code> is for HTTP, which is a stateless protocol. Not for your own stateful messaging protocol. One request and one response. If you want to send another message, get a new <code>URLConnection</code>. Connection pooling will probably happen behind the scenes.</p>\n\n<p>You also need to read the response. Merely getting the input stream is not sufficient, and getting it multiple times is pointless.</p>\n\n<p>Hard to see why you are writing <code>\"Response\"</code> in a request.</p>\n"},{"tags":[],"owner":{"account_id":28501815,"reputation":1,"user_id":21812951,"display_name":"Zark"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683598365,"creation_date":1683183117,"answer_id":76170322,"question_id":44489226,"body_markdown":"Try this way, use HttpURLConnection instead (sample code edited):\r\n\r\n```\r\nHttpURLConnection connection = (HttpURLConnection) new URL(&quot;https://example.com:443&quot;).openConnection();\r\nconnection.setRequestMethod(&quot;POST&quot;);\r\nconnection.setDoInput(true);\r\nconnection.setDoOutput(true);\r\nconnection.setChunkedStreamingMode(1024);\r\nconnection.connect();\r\n\r\ntry (OutputStream out = connection.getOutputStream()) {\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        String msg = &quot;hello&quot; + i + System.lineSeparator();\r\n        out.write(msg.getBytes(StandardCharsets.UTF_8));\r\n    }\r\n}\r\n\r\ntry (BufferedReader reader = new BufferedReader(\r\n        new InputStreamReader(connection.getInputStream(), StandardCharsets.UTF_8))) {\r\n    // messages sent back end with lineSeparator\r\n    reader.lines().filter(StringUtils::isNotEmpty).forEach(System.out::println);\r\n}\r\n```\r\n\r\nFor further infomation you might want to checkout the docstring of `setChunkedStreamingMode` or other streamingMode provided\r\n\r\nreference: https://bugs.openjdk.org/browse/JDK-5026745\r\n\r\n\r\n------------------------------------- edited based on user207421&#39;s reply\r\n\r\nI realized that your question might be different from the question in the reference link above, so streamingMode might not be something you are looking for. \r\n\r\nI updated the sample code above to send multiple messages separated by lineSeparator, and receive multiple messages in the same way.\r\nI couldn&#39;t find a way to send a message based on the previous response that is similar to your case.\r\n\r\nHope it helps a bit.\r\n \r\n\r\n","title":"Fire multiple requests with URLConnection socket flush","body":"<p>Try this way, use HttpURLConnection instead (sample code edited):</p>\n<pre><code>HttpURLConnection connection = (HttpURLConnection) new URL(&quot;https://example.com:443&quot;).openConnection();\nconnection.setRequestMethod(&quot;POST&quot;);\nconnection.setDoInput(true);\nconnection.setDoOutput(true);\nconnection.setChunkedStreamingMode(1024);\nconnection.connect();\n\ntry (OutputStream out = connection.getOutputStream()) {\n    for (int i = 0; i &lt; 10; i++) {\n        String msg = &quot;hello&quot; + i + System.lineSeparator();\n        out.write(msg.getBytes(StandardCharsets.UTF_8));\n    }\n}\n\ntry (BufferedReader reader = new BufferedReader(\n        new InputStreamReader(connection.getInputStream(), StandardCharsets.UTF_8))) {\n    // messages sent back end with lineSeparator\n    reader.lines().filter(StringUtils::isNotEmpty).forEach(System.out::println);\n}\n</code></pre>\n<p>For further infomation you might want to checkout the docstring of <code>setChunkedStreamingMode</code> or other streamingMode provided</p>\n<p>reference: <a href=\"https://bugs.openjdk.org/browse/JDK-5026745\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-5026745</a></p>\n<p>------------------------------------- edited based on user207421's reply</p>\n<p>I realized that your question might be different from the question in the reference link above, so streamingMode might not be something you are looking for.</p>\n<p>I updated the sample code above to send multiple messages separated by lineSeparator, and receive multiple messages in the same way.\nI couldn't find a way to send a message based on the previous response that is similar to your case.</p>\n<p>Hope it helps a bit.</p>\n"}],"owner":{"account_id":10962973,"reputation":11,"user_id":8055660,"display_name":"Vik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1683598365,"creation_date":1497218929,"question_id":44489226,"body_markdown":"What did wrong here? I want to send multiple messages in one https connection with URLConnection. I only get the first message on server. \r\n\r\n        URL url = new URL(&quot;https://example.com:443&quot;);\r\n        URLConnection connection = url.openConnection();\r\n        connection.setDoOutput(true);\r\n    \r\n        BufferedWriter out = new BufferedWriter(\r\n                new OutputStreamWriter(connection.getOutputStream()));\r\n    \r\n        out.write(&quot;Hello&quot;);\r\n        out.flush();\r\n        \r\n        inReader = new BufferedReader(\r\n                new InputStreamReader(connection.getInputStream()));\r\n    \r\n        out.write(&quot;Response&quot;);\r\n        out.flush();\r\n        \r\n        inReader = new BufferedReader(\r\n                new InputStreamReader(connection.getInputStream()));\r\n        \r\n        out.write(&quot;Response2&quot;);\r\n        out.flush();\r\n        \r\n        inReader = new BufferedReader(\r\n                new InputStreamReader(connection.getInputStream()));\r\n        \r\n        out.write(&quot;Response3&quot;);\r\n        out.flush();\r\n    \r\n        inReader = new BufferedReader(\r\n                new InputStreamReader(connection.getInputStream()));\r\n    \r\n        inReader.close();\r\n    \r\n        out.close();","title":"Fire multiple requests with URLConnection socket flush","body":"<p>What did wrong here? I want to send multiple messages in one https connection with URLConnection. I only get the first message on server. </p>\n\n<pre><code>    URL url = new URL(\"https://example.com:443\");\n    URLConnection connection = url.openConnection();\n    connection.setDoOutput(true);\n\n    BufferedWriter out = new BufferedWriter(\n            new OutputStreamWriter(connection.getOutputStream()));\n\n    out.write(\"Hello\");\n    out.flush();\n\n    inReader = new BufferedReader(\n            new InputStreamReader(connection.getInputStream()));\n\n    out.write(\"Response\");\n    out.flush();\n\n    inReader = new BufferedReader(\n            new InputStreamReader(connection.getInputStream()));\n\n    out.write(\"Response2\");\n    out.flush();\n\n    inReader = new BufferedReader(\n            new InputStreamReader(connection.getInputStream()));\n\n    out.write(\"Response3\");\n    out.flush();\n\n    inReader = new BufferedReader(\n            new InputStreamReader(connection.getInputStream()));\n\n    inReader.close();\n\n    out.close();\n</code></pre>\n"},{"tags":["java","android","kotlin","android-intent","android-jetpack-compose"],"owner":{"account_id":24806646,"reputation":3,"user_id":18688574,"display_name":"Ahmed Abdelrahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683594760,"creation_date":1683594668,"question_id":76205255,"body_markdown":"i have those two methods \r\nthe first one send an image to WhatsApp but after open WhatsApp it ask me to select a number on WhatsApp not go directly to number that sent with intent\r\n\r\n```\r\nprivate suspend fun shareImage(context: Context,bitmap: Bitmap) {\r\n    //val context = LocalContext.current\r\n    val fileName = &quot;screenshot_${System.currentTimeMillis()}.png&quot;\r\n    val file = File(context.externalCacheDir, fileName)\r\n\r\n    withContext(Dispatchers.IO) {\r\n        val outputStream = FileOutputStream(file)\r\n        bitmap.compress(Bitmap.CompressFormat.PNG, 100, outputStream)\r\n        outputStream.close()\r\n    }\r\n\r\n    val intent = Intent(Intent.ACTION_SEND)\r\n    intent.type = &quot;image/*&quot;\r\n    intent.putExtra(Intent.EXTRA_STREAM, FileProvider.getUriForFile(context, &quot;${context.packageName}.fileprovider&quot;, file))\r\n    intent.putExtra(&quot;jid&quot;, PhoneNumberUtils.stripSeparators(&quot;+201112076319&quot;) + &quot;@s.whatsapp.net&quot;)\r\n    intent.setPackage(&quot;com.whatsapp&quot;)\r\n    context.startActivity(intent)\r\n}\r\n```\r\n\r\nthe second one send a message directly , actually I need to do the same process but with image file not text message\r\n```\r\nprivate suspend fun shareText(context: Context) {\r\n    val intent = Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://api.whatsapp.com/send?phone=&quot;+&quot;201112076319&quot;+\r\n            &quot;&amp;text=&quot;+&quot;Your Receipt&quot;))\r\n    context.startActivity(intent)\r\n}\r\n```\r\n\r\nActually i need to do the same process but with image file not text message.","title":"How to send a WhatsApp image without saving number","body":"<p>i have those two methods\nthe first one send an image to WhatsApp but after open WhatsApp it ask me to select a number on WhatsApp not go directly to number that sent with intent</p>\n<pre><code>private suspend fun shareImage(context: Context,bitmap: Bitmap) {\n    //val context = LocalContext.current\n    val fileName = &quot;screenshot_${System.currentTimeMillis()}.png&quot;\n    val file = File(context.externalCacheDir, fileName)\n\n    withContext(Dispatchers.IO) {\n        val outputStream = FileOutputStream(file)\n        bitmap.compress(Bitmap.CompressFormat.PNG, 100, outputStream)\n        outputStream.close()\n    }\n\n    val intent = Intent(Intent.ACTION_SEND)\n    intent.type = &quot;image/*&quot;\n    intent.putExtra(Intent.EXTRA_STREAM, FileProvider.getUriForFile(context, &quot;${context.packageName}.fileprovider&quot;, file))\n    intent.putExtra(&quot;jid&quot;, PhoneNumberUtils.stripSeparators(&quot;+201112076319&quot;) + &quot;@s.whatsapp.net&quot;)\n    intent.setPackage(&quot;com.whatsapp&quot;)\n    context.startActivity(intent)\n}\n</code></pre>\n<p>the second one send a message directly , actually I need to do the same process but with image file not text message</p>\n<pre><code>private suspend fun shareText(context: Context) {\n    val intent = Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://api.whatsapp.com/send?phone=&quot;+&quot;201112076319&quot;+\n            &quot;&amp;text=&quot;+&quot;Your Receipt&quot;))\n    context.startActivity(intent)\n}\n</code></pre>\n<p>Actually i need to do the same process but with image file not text message.</p>\n"},{"tags":["java","android-studio"],"owner":{"account_id":27959385,"reputation":11,"user_id":21351527,"display_name":"Mikel Jka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683593519,"creation_date":1683231828,"question_id":76177133,"body_markdown":"I&#39;m new in android developing and I&#39;m having issues when developing this Activity which basically compares faces.\r\nThe problem comes when I try to access &quot;context&quot; to capture my screen and save it in internal storage, I don&#39;t know how not to make `context=null` and actually be related with the Activity.\r\n\r\nI know this has to be really simple but I can&#39;t find a solution. This is the code I have so far:\r\n\r\n\r\n```\r\n@ExperimentalGetImage public class Processor extends VisionBaseProcessor&lt;List&lt;Face&gt;&gt; {\r\n\r\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n    private static Bitmap bitmap;\r\n\r\n\r\n\r\n    private boolean mDetectadoEncontrado = false;\r\n\r\n\r\n\r\n    public Processor(Context context, FaceDetector detector, Interpreter faceNetModelInterpreter, ImageProcessor faceNetImageProcessor, Overlay graphicOverlay, FaceRecognitionCallback callback) {\r\n        super();\r\n        this.context = context;\r\n        this.detector = detector;\r\n        this.faceNetModelInterpreter = faceNetModelInterpreter;\r\n        this.faceNetImageProcessor = faceNetImageProcessor;\r\n        this.graphicOverlay = graphicOverlay;\r\n        this.callback = callback;\r\n    }\r\n\r\n\r\n\r\n    class Person {\r\n        public String name;\r\n        public float[] faceVector;\r\n\r\n        public Person(String name, float[] faceVector) {\r\n            this.name = name;\r\n            this.faceVector = faceVector;\r\n        }\r\n    }\r\n\r\n    public interface FaceRecognitionCallback {\r\n        void onFaceRecognised(Face face, float probability, String name);\r\n        void onFaceDetected(Face face, Bitmap faceBitmap, float[] vector);\r\n    }\r\n\r\n    private static final String TAG = &quot;FaceRecognitionProcessor&quot;;\r\n\r\n    // Input image size for our facenet model\r\n    private static final int FACENET_INPUT_IMAGE_SIZE = 112;\r\n\r\n    private Context context;\r\n    private final FaceDetector detector;\r\n    private final Interpreter faceNetModelInterpreter;\r\n    private final ImageProcessor faceNetImageProcessor;\r\n    private final Overlay graphicOverlay;\r\n    private final FaceRecognitionCallback callback;\r\n\r\n    public RecFacialAct activity;\r\n\r\n    List&lt;Person&gt; recognisedFaceList = new ArrayList();\r\n\r\n    public Processor(Interpreter faceNetModelInterpreter,\r\n                                    Overlay graphicOverlay,\r\n                                    FaceRecognitionCallback callback) {\r\n        super();\r\n        this.callback = callback;\r\n        this.graphicOverlay = graphicOverlay;\r\n        // initialize processors\r\n        this.faceNetModelInterpreter = faceNetModelInterpreter;\r\n        faceNetImageProcessor = new ImageProcessor.Builder()\r\n                .add(new ResizeOp(FACENET_INPUT_IMAGE_SIZE, FACENET_INPUT_IMAGE_SIZE, ResizeOp.ResizeMethod.BILINEAR))\r\n                .add(new NormalizeOp(0f, 255f))\r\n                .build();\r\n\r\n        FaceDetectorOptions faceDetectorOptions = new FaceDetectorOptions.Builder()\r\n                .setPerformanceMode(FaceDetectorOptions.PERFORMANCE_MODE_ACCURATE)\r\n                .setClassificationMode(FaceDetectorOptions.CLASSIFICATION_MODE_NONE)\r\n                // to ensure we don&#39;t count and analyse same person again\r\n                .enableTracking()\r\n                .build();\r\n        detector = FaceDetection.getClient(faceDetectorOptions);\r\n    }\r\n\r\n    public void init(Context context) {\r\n        this.context = context.getApplicationContext();\r\n    }\r\n\r\n    @OptIn(markerClass = ExperimentalGetImage.class)\r\n    public Task&lt;List&lt;Face&gt;&gt; detectInImage(ImageProxy imageProxy, Bitmap bitmap, int rotationDegrees) {\r\n        InputImage inputImage = InputImage.fromMediaImage(imageProxy.getImage(), rotationDegrees);\r\n        int rotation = rotationDegrees;\r\n\r\n\r\n        boolean reverseDimens = rotation == 90 || rotation == 270;\r\n        int width;\r\n        int height;\r\n        if (reverseDimens) {\r\n            width = imageProxy.getHeight();\r\n            height =  imageProxy.getWidth();\r\n        } else {\r\n            width = imageProxy.getWidth();\r\n            height = imageProxy.getHeight();\r\n        }\r\n\r\n        return detector.process(inputImage)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;List&lt;Face&gt;&gt;() {\r\n                    @Override\r\n                    public void onSuccess(List&lt;Face&gt; faces) {\r\n                        graphicOverlay.clear();\r\n                        for (Face face : faces) {\r\n                            FaceGraphic faceGraphic = new FaceGraphic(graphicOverlay, face, false, width, height);\r\n                            Log.d(TAG, &quot;face found, id: &quot; + face.getTrackingId());\r\n\r\n                            Bitmap faceBitmap = cropToBBox(bitmap, face.getBoundingBox(), rotation);\r\n\r\n                            if (faceBitmap == null) {\r\n                                Log.d(&quot;GraphicOverlay&quot;, &quot;Face bitmap null&quot;);\r\n                                return;\r\n                            }\r\n\r\n                            TensorImage tensorImage = TensorImage.fromBitmap(faceBitmap);\r\n                            ByteBuffer faceNetByteBuffer = faceNetImageProcessor.process(tensorImage).getBuffer();\r\n                            float[][] faceOutputArray = new float[1][192];\r\n                            faceNetModelInterpreter.run(faceNetByteBuffer, faceOutputArray);\r\n\r\n                            Log.d(TAG, &quot;output array: &quot; + Arrays.deepToString(faceOutputArray));\r\n\r\n                            if (callback != null) {\r\n                                callback.onFaceDetected(face, faceBitmap, faceOutputArray[0]);\r\n                                if (callback != null) {\r\n                                    callback.onFaceDetected(face, faceBitmap, faceOutputArray[0]);\r\n\r\n                                    // Hacer una consulta a la colecci&#243;n &quot;caras&quot;\r\n                                    db.collection(&quot;caras&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n\r\n                                        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                                            if (task.isSuccessful()) {\r\n                                                List&lt;DocumentSnapshot&gt; documents = task.getResult().getDocuments();\r\n                                                for (DocumentSnapshot document : documents) {\r\n                                                    String name = document.getString(&quot;name&quot;);\r\n                                                    List&lt;Double&gt; vector = (List&lt;Double&gt;) document.get(&quot;vector&quot;);\r\n                                                    float[] faceVector = new float[vector.size()];\r\n\r\n                                                    RecFacialAct.recognizeFace(faceOutputArray[0]);\r\n\r\n                                                    LogcatHelper logcatHelper = new LogcatHelper(&quot;RecFacialAct&quot;, &quot;detectado&quot;, new LogcatHelper.LogcatListener() {\r\n                                                        @Override\r\n                                                        public void onMatchFound(String line) {\r\n                                                            mDetectadoEncontrado = true;\r\n\r\n\r\n                                                            WindowManager windowManager = (WindowManager) context.getSystemService(Context.WINDOW_SERVICE);\r\n\r\n                                                            Display display = windowManager.getDefaultDisplay();\r\n\r\n                                                            Point size = new Point();\r\n                                                            display.getSize(size);\r\n                                                            int width = (int) size.x;\r\n                                                            int height = (int) size.y;\r\n                                                            Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n                                                            int[] pixelBuffer = new int[width * height];\r\n                                                            Rect rect = new Rect(0, 0, width, height);\r\n\r\n                                                            PixelCopy.OnPixelCopyFinishedListener listener = new PixelCopy.OnPixelCopyFinishedListener() {\r\n                                                                @Override\r\n                                                                public void onPixelCopyFinished(int copyResult) {\r\n                                                                    if (copyResult == PixelCopy.SUCCESS) {\r\n                                                                        // La copia se realiz&#243; correctamente, haz lo que quieras con el bitmap\r\n                                                                        saveBitmapToInternalStorage(bitmap);\r\n                                                                        Log.d(&quot;Captura&quot;, &quot;Captura guardada&quot;);\r\n                                                                    } else {\r\n                                                                        // La copia fall&#243;, maneja el error\r\n                                                                    }\r\n                                                                }\r\n                                                            };\r\n                                                        }\r\n                                                    });\r\n\r\n                                                    logcatHelper.start();\r\n\r\n\r\n                                                }\r\n                                            } else {\r\n                                                Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\r\n                                            }\r\n                                        }\r\n                                    });\r\n                                }\r\n\r\n                            }\r\n\r\n                            graphicOverlay.add(faceGraphic);\r\n                        }\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        // intentionally left empty\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void saveBitmapToInternalStorage(Bitmap bitmap) {\r\n        File directory = context.getDir(&quot;screenshots&quot;, Context.MODE_PRIVATE);\r\n        File file = new File(directory, &quot;screenshot.png&quot;);\r\n\r\n        try {\r\n            FileOutputStream outputStream = new FileOutputStream(file);\r\n            bitmap.compress(Bitmap.CompressFormat.PNG, 100, outputStream);\r\n            outputStream.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private Pair&lt;String, Float&gt; findNearestFace(float[] vector) {\r\n\r\n        Pair&lt;String, Float&gt; ret = null;\r\n        for (Person person : recognisedFaceList) {\r\n            final String name = person.name;\r\n            final float[] knownVector = person.faceVector;\r\n\r\n            float distance = 0;\r\n            for (int i = 0; i &lt; vector.length; i++) {\r\n                float diff = vector[i] - knownVector[i];\r\n                distance += diff*diff;\r\n            }\r\n            distance = (float) Math.sqrt(distance);\r\n            if (ret == null || distance &lt; ret.second) {\r\n                ret = new Pair&lt;&gt;(name, distance);\r\n            }\r\n        }\r\n\r\n        return ret;\r\n\r\n    }\r\n\r\n    public void stop() {\r\n        detector.close();\r\n    }\r\n\r\n    private Bitmap cropToBBox(Bitmap image, Rect boundingBox, int rotation) {\r\n        int shift = 0;\r\n        if (rotation != 0) {\r\n            Matrix matrix = new Matrix();\r\n            matrix.postRotate(rotation);\r\n            image = Bitmap.createBitmap(image, 0, 0, image.getWidth(), image.getHeight(), matrix, true);\r\n        }\r\n        if (boundingBox.top &gt;= 0 &amp;&amp; boundingBox.bottom &lt;= image.getWidth()\r\n                &amp;&amp; boundingBox.top + boundingBox.height() &lt;= image.getHeight()\r\n                &amp;&amp; boundingBox.left &gt;= 0\r\n                &amp;&amp; boundingBox.left + boundingBox.width() &lt;= image.getWidth()) {\r\n            return Bitmap.createBitmap(\r\n                    image,\r\n                    boundingBox.left,\r\n                    boundingBox.top + shift,\r\n                    boundingBox.width(),\r\n                    boundingBox.height()\r\n            );\r\n        } else return null;\r\n    }\r\n\r\n    // Register a name against the vector\r\n    public void registerFace(Editable input, float[] tempVector) {\r\n        recognisedFaceList.add(new Person(input.toString(), tempVector));\r\n    }\r\n\r\n```\r\n\r\n\r\nIn theory I was expecting my Activity to take an screenshot, however i end up getting this error:\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: es.upsa.mjb, PID: 6059\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.Object android.content.Context.getSystemService(java.lang.String)&#39; on a null object reference\r\n        at es.upsa.mjb.helper.Processor$2$1$1.onMatchFound(Processor.java:195)\r\n        at es.upsa.mjb.LogcatHelper$1.lambda$run$0$es-upsa-mjb-LogcatHelper$1(LogcatHelper.java:39)\r\n        at es.upsa.mjb.LogcatHelper$1$$ExternalSyntheticLambda0.run(Unknown Source:4)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:236)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8056)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:656)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)","title":"How can I solve this context=null problem in AndroidStudio Java?","body":"<p>I'm new in android developing and I'm having issues when developing this Activity which basically compares faces.\nThe problem comes when I try to access &quot;context&quot; to capture my screen and save it in internal storage, I don't know how not to make <code>context=null</code> and actually be related with the Activity.</p>\n<p>I know this has to be really simple but I can't find a solution. This is the code I have so far:</p>\n<pre><code>@ExperimentalGetImage public class Processor extends VisionBaseProcessor&lt;List&lt;Face&gt;&gt; {\n\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\n\n    private static Bitmap bitmap;\n\n\n\n    private boolean mDetectadoEncontrado = false;\n\n\n\n    public Processor(Context context, FaceDetector detector, Interpreter faceNetModelInterpreter, ImageProcessor faceNetImageProcessor, Overlay graphicOverlay, FaceRecognitionCallback callback) {\n        super();\n        this.context = context;\n        this.detector = detector;\n        this.faceNetModelInterpreter = faceNetModelInterpreter;\n        this.faceNetImageProcessor = faceNetImageProcessor;\n        this.graphicOverlay = graphicOverlay;\n        this.callback = callback;\n    }\n\n\n\n    class Person {\n        public String name;\n        public float[] faceVector;\n\n        public Person(String name, float[] faceVector) {\n            this.name = name;\n            this.faceVector = faceVector;\n        }\n    }\n\n    public interface FaceRecognitionCallback {\n        void onFaceRecognised(Face face, float probability, String name);\n        void onFaceDetected(Face face, Bitmap faceBitmap, float[] vector);\n    }\n\n    private static final String TAG = &quot;FaceRecognitionProcessor&quot;;\n\n    // Input image size for our facenet model\n    private static final int FACENET_INPUT_IMAGE_SIZE = 112;\n\n    private Context context;\n    private final FaceDetector detector;\n    private final Interpreter faceNetModelInterpreter;\n    private final ImageProcessor faceNetImageProcessor;\n    private final Overlay graphicOverlay;\n    private final FaceRecognitionCallback callback;\n\n    public RecFacialAct activity;\n\n    List&lt;Person&gt; recognisedFaceList = new ArrayList();\n\n    public Processor(Interpreter faceNetModelInterpreter,\n                                    Overlay graphicOverlay,\n                                    FaceRecognitionCallback callback) {\n        super();\n        this.callback = callback;\n        this.graphicOverlay = graphicOverlay;\n        // initialize processors\n        this.faceNetModelInterpreter = faceNetModelInterpreter;\n        faceNetImageProcessor = new ImageProcessor.Builder()\n                .add(new ResizeOp(FACENET_INPUT_IMAGE_SIZE, FACENET_INPUT_IMAGE_SIZE, ResizeOp.ResizeMethod.BILINEAR))\n                .add(new NormalizeOp(0f, 255f))\n                .build();\n\n        FaceDetectorOptions faceDetectorOptions = new FaceDetectorOptions.Builder()\n                .setPerformanceMode(FaceDetectorOptions.PERFORMANCE_MODE_ACCURATE)\n                .setClassificationMode(FaceDetectorOptions.CLASSIFICATION_MODE_NONE)\n                // to ensure we don't count and analyse same person again\n                .enableTracking()\n                .build();\n        detector = FaceDetection.getClient(faceDetectorOptions);\n    }\n\n    public void init(Context context) {\n        this.context = context.getApplicationContext();\n    }\n\n    @OptIn(markerClass = ExperimentalGetImage.class)\n    public Task&lt;List&lt;Face&gt;&gt; detectInImage(ImageProxy imageProxy, Bitmap bitmap, int rotationDegrees) {\n        InputImage inputImage = InputImage.fromMediaImage(imageProxy.getImage(), rotationDegrees);\n        int rotation = rotationDegrees;\n\n\n        boolean reverseDimens = rotation == 90 || rotation == 270;\n        int width;\n        int height;\n        if (reverseDimens) {\n            width = imageProxy.getHeight();\n            height =  imageProxy.getWidth();\n        } else {\n            width = imageProxy.getWidth();\n            height = imageProxy.getHeight();\n        }\n\n        return detector.process(inputImage)\n                .addOnSuccessListener(new OnSuccessListener&lt;List&lt;Face&gt;&gt;() {\n                    @Override\n                    public void onSuccess(List&lt;Face&gt; faces) {\n                        graphicOverlay.clear();\n                        for (Face face : faces) {\n                            FaceGraphic faceGraphic = new FaceGraphic(graphicOverlay, face, false, width, height);\n                            Log.d(TAG, &quot;face found, id: &quot; + face.getTrackingId());\n\n                            Bitmap faceBitmap = cropToBBox(bitmap, face.getBoundingBox(), rotation);\n\n                            if (faceBitmap == null) {\n                                Log.d(&quot;GraphicOverlay&quot;, &quot;Face bitmap null&quot;);\n                                return;\n                            }\n\n                            TensorImage tensorImage = TensorImage.fromBitmap(faceBitmap);\n                            ByteBuffer faceNetByteBuffer = faceNetImageProcessor.process(tensorImage).getBuffer();\n                            float[][] faceOutputArray = new float[1][192];\n                            faceNetModelInterpreter.run(faceNetByteBuffer, faceOutputArray);\n\n                            Log.d(TAG, &quot;output array: &quot; + Arrays.deepToString(faceOutputArray));\n\n                            if (callback != null) {\n                                callback.onFaceDetected(face, faceBitmap, faceOutputArray[0]);\n                                if (callback != null) {\n                                    callback.onFaceDetected(face, faceBitmap, faceOutputArray[0]);\n\n                                    // Hacer una consulta a la colección &quot;caras&quot;\n                                    db.collection(&quot;caras&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n\n                                        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                                            if (task.isSuccessful()) {\n                                                List&lt;DocumentSnapshot&gt; documents = task.getResult().getDocuments();\n                                                for (DocumentSnapshot document : documents) {\n                                                    String name = document.getString(&quot;name&quot;);\n                                                    List&lt;Double&gt; vector = (List&lt;Double&gt;) document.get(&quot;vector&quot;);\n                                                    float[] faceVector = new float[vector.size()];\n\n                                                    RecFacialAct.recognizeFace(faceOutputArray[0]);\n\n                                                    LogcatHelper logcatHelper = new LogcatHelper(&quot;RecFacialAct&quot;, &quot;detectado&quot;, new LogcatHelper.LogcatListener() {\n                                                        @Override\n                                                        public void onMatchFound(String line) {\n                                                            mDetectadoEncontrado = true;\n\n\n                                                            WindowManager windowManager = (WindowManager) context.getSystemService(Context.WINDOW_SERVICE);\n\n                                                            Display display = windowManager.getDefaultDisplay();\n\n                                                            Point size = new Point();\n                                                            display.getSize(size);\n                                                            int width = (int) size.x;\n                                                            int height = (int) size.y;\n                                                            Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n                                                            int[] pixelBuffer = new int[width * height];\n                                                            Rect rect = new Rect(0, 0, width, height);\n\n                                                            PixelCopy.OnPixelCopyFinishedListener listener = new PixelCopy.OnPixelCopyFinishedListener() {\n                                                                @Override\n                                                                public void onPixelCopyFinished(int copyResult) {\n                                                                    if (copyResult == PixelCopy.SUCCESS) {\n                                                                        // La copia se realizó correctamente, haz lo que quieras con el bitmap\n                                                                        saveBitmapToInternalStorage(bitmap);\n                                                                        Log.d(&quot;Captura&quot;, &quot;Captura guardada&quot;);\n                                                                    } else {\n                                                                        // La copia falló, maneja el error\n                                                                    }\n                                                                }\n                                                            };\n                                                        }\n                                                    });\n\n                                                    logcatHelper.start();\n\n\n                                                }\n                                            } else {\n                                                Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\n                                            }\n                                        }\n                                    });\n                                }\n\n                            }\n\n                            graphicOverlay.add(faceGraphic);\n                        }\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        // intentionally left empty\n                    }\n                });\n    }\n\n    private void saveBitmapToInternalStorage(Bitmap bitmap) {\n        File directory = context.getDir(&quot;screenshots&quot;, Context.MODE_PRIVATE);\n        File file = new File(directory, &quot;screenshot.png&quot;);\n\n        try {\n            FileOutputStream outputStream = new FileOutputStream(file);\n            bitmap.compress(Bitmap.CompressFormat.PNG, 100, outputStream);\n            outputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n\n    private Pair&lt;String, Float&gt; findNearestFace(float[] vector) {\n\n        Pair&lt;String, Float&gt; ret = null;\n        for (Person person : recognisedFaceList) {\n            final String name = person.name;\n            final float[] knownVector = person.faceVector;\n\n            float distance = 0;\n            for (int i = 0; i &lt; vector.length; i++) {\n                float diff = vector[i] - knownVector[i];\n                distance += diff*diff;\n            }\n            distance = (float) Math.sqrt(distance);\n            if (ret == null || distance &lt; ret.second) {\n                ret = new Pair&lt;&gt;(name, distance);\n            }\n        }\n\n        return ret;\n\n    }\n\n    public void stop() {\n        detector.close();\n    }\n\n    private Bitmap cropToBBox(Bitmap image, Rect boundingBox, int rotation) {\n        int shift = 0;\n        if (rotation != 0) {\n            Matrix matrix = new Matrix();\n            matrix.postRotate(rotation);\n            image = Bitmap.createBitmap(image, 0, 0, image.getWidth(), image.getHeight(), matrix, true);\n        }\n        if (boundingBox.top &gt;= 0 &amp;&amp; boundingBox.bottom &lt;= image.getWidth()\n                &amp;&amp; boundingBox.top + boundingBox.height() &lt;= image.getHeight()\n                &amp;&amp; boundingBox.left &gt;= 0\n                &amp;&amp; boundingBox.left + boundingBox.width() &lt;= image.getWidth()) {\n            return Bitmap.createBitmap(\n                    image,\n                    boundingBox.left,\n                    boundingBox.top + shift,\n                    boundingBox.width(),\n                    boundingBox.height()\n            );\n        } else return null;\n    }\n\n    // Register a name against the vector\n    public void registerFace(Editable input, float[] tempVector) {\n        recognisedFaceList.add(new Person(input.toString(), tempVector));\n    }\n\n</code></pre>\n<p>In theory I was expecting my Activity to take an screenshot, however i end up getting this error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: es.upsa.mjb, PID: 6059\n    java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.Object android.content.Context.getSystemService(java.lang.String)' on a null object reference\n        at es.upsa.mjb.helper.Processor$2$1$1.onMatchFound(Processor.java:195)\n        at es.upsa.mjb.LogcatHelper$1.lambda$run$0$es-upsa-mjb-LogcatHelper$1(LogcatHelper.java:39)\n        at es.upsa.mjb.LogcatHelper$1$$ExternalSyntheticLambda0.run(Unknown Source:4)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:236)\n        at android.app.ActivityThread.main(ActivityThread.java:8056)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:656)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\n</code></pre>\n"},{"tags":["java","gradle","openapi","openapi-generator","openfeign"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1701249871,"post_id":76204370,"comment_id":136751147,"body_markdown":"Sometimes, I wonder why answers are neither accepted nor upvoted...","body":"Sometimes, I wonder why answers are neither accepted nor upvoted..."}],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683592488,"creation_date":1683592488,"answer_id":76205165,"question_id":76204370,"body_markdown":"`@RequestMapping` in the Feign client has long been discouraged and bad practice. It lead to [CVE-2021-22044](https://spring.io/security/cve-2021-22044) and the functionality to support `@RequestMapping` was removed altogether in Feign clients due to the aforementioned security issue.\r\n\r\nHaving said that, based on the documentation for the `spring` generator: https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md\r\n\r\nSpecifying the `library` configuration as `spring-cloud` should yield what you want.","title":"Can OpenApi Generator generate interface feign clients?","body":"<p><code>@RequestMapping</code> in the Feign client has long been discouraged and bad practice. It lead to <a href=\"https://spring.io/security/cve-2021-22044\" rel=\"nofollow noreferrer\">CVE-2021-22044</a> and the functionality to support <code>@RequestMapping</code> was removed altogether in Feign clients due to the aforementioned security issue.</p>\n<p>Having said that, based on the documentation for the <code>spring</code> generator: <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md</a></p>\n<p>Specifying the <code>library</code> configuration as <code>spring-cloud</code> should yield what you want.</p>\n"}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683592488,"creation_date":1683580182,"question_id":76204370,"body_markdown":"Is it possible to generate feign clients using OpenApiGenerator?\r\n\r\nThis is my current setup:\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.7.11&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n    id &quot;org.openapi.generator&quot; version &quot;6.3.0&quot;\r\n}\r\n\r\ngroup = &#39;dev.rifaii&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-openfeign:4.0.2&#39;\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\n\r\ndef swaggerCodeGenConfig = {\r\n    generatorName = &quot;spring&quot;\r\n    remoteInputSpec = &quot;someUrl&quot;\r\n    outputDir = &quot;$projectDir/external/src/main/java&quot;\r\n    apiPackage = &#39;somepackageForApis&#39;\r\n    modelPackage = &#39;somepackageForModels&#39;\r\n    additionalProperties = [\r\n            packageName: &quot;petstore&quot;,\r\n            interfaceOnly: &#39;true&#39;,\r\n            feign      : &#39;true&#39;\r\n    ]\r\n}\r\n\r\n\r\ntask buildExampleClient(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {\r\n    configure swaggerCodeGenConfig\r\n    remoteInputSpec = &quot;http://158.101.191.70:8081/v3/api-docs&quot;\r\n    apiPackage = &#39;dev.rifaii.example.api&#39;\r\n    modelPackage = &#39;dev.rifaii.example.model&#39;\r\n}\r\n```\r\n\r\nwhat this task is currently generating:\r\n\r\n```java\r\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-05-09T00:05:09.505990300+03:00[Europe/Tallinn]&quot;)\r\n@Validated\r\n@Tag(name = &quot;store&quot;, description = &quot;the store API&quot;)\r\npublic interface StoreApi {\r\n\r\n    default Optional&lt;NativeWebRequest&gt; getRequest() {\r\n        return Optional.empty();\r\n    }\r\n\r\n    /**\r\n     * DELETE /store/order/{orderId} : Delete purchase order by ID\r\n     * For valid response try integer IDs with value &amp;lt; 1000. Anything above 1000 or nonintegers will generate API errors\r\n     *\r\n     * @param orderId ID of the order that needs to be deleted (required)\r\n     * @return Invalid ID supplied (status code 400)\r\n     *         or Order not found (status code 404)\r\n     */\r\n    @Operation(\r\n        operationId = &quot;deleteOrder&quot;,\r\n        summary = &quot;Delete purchase order by ID&quot;,\r\n        description = &quot;For valid response try integer IDs with value &lt; 1000. Anything above 1000 or nonintegers will generate API errors&quot;,\r\n        tags = { &quot;store&quot; },\r\n        responses = {\r\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Invalid ID supplied&quot;, content = {\r\n                @Content(mediaType = &quot;*/*&quot;, schema = @Schema(implementation = Map.class))\r\n            }),\r\n            @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Order not found&quot;)\r\n        }\r\n    )\r\n    @RequestMapping(\r\n        method = RequestMethod.DELETE,\r\n        value = &quot;/store/order/{orderId}&quot;,\r\n        produces = { &quot;*/*&quot; }\r\n    )\r\n    default ResponseEntity&lt;Void&gt; deleteOrder(\r\n        @Parameter(name = &quot;orderId&quot;, description = &quot;ID of the order that needs to be deleted&quot;, required = true, in = ParameterIn.PATH) @PathVariable(&quot;orderId&quot;) Long orderId\r\n    ) {\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n\r\n    }\r\n   }\r\n```\r\n\r\nAll I want is for it to generate interfaces that look like this \r\n\r\n```java\r\n@FeignClient(&quot;someClient&quot;)\r\npublic interface SomeClient {\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/example&quot;)\r\n    List&lt;SomeObject&gt; getExample();\r\n}\r\n```\r\n\r\nIn another project I used an old version of swagger codegen with Springfox and I was able to achieve this but I&#39;m not sure how to do it with openapi generator","title":"Can OpenApi Generator generate interface feign clients?","body":"<p>Is it possible to generate feign clients using OpenApiGenerator?</p>\n<p>This is my current setup:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.11'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n    id &quot;org.openapi.generator&quot; version &quot;6.3.0&quot;\n}\n\ngroup = 'dev.rifaii'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.cloud:spring-cloud-starter-openfeign:4.0.2'\n\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\ndef swaggerCodeGenConfig = {\n    generatorName = &quot;spring&quot;\n    remoteInputSpec = &quot;someUrl&quot;\n    outputDir = &quot;$projectDir/external/src/main/java&quot;\n    apiPackage = 'somepackageForApis'\n    modelPackage = 'somepackageForModels'\n    additionalProperties = [\n            packageName: &quot;petstore&quot;,\n            interfaceOnly: 'true',\n            feign      : 'true'\n    ]\n}\n\n\ntask buildExampleClient(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {\n    configure swaggerCodeGenConfig\n    remoteInputSpec = &quot;http://158.101.191.70:8081/v3/api-docs&quot;\n    apiPackage = 'dev.rifaii.example.api'\n    modelPackage = 'dev.rifaii.example.model'\n}\n</code></pre>\n<p>what this task is currently generating:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-05-09T00:05:09.505990300+03:00[Europe/Tallinn]&quot;)\n@Validated\n@Tag(name = &quot;store&quot;, description = &quot;the store API&quot;)\npublic interface StoreApi {\n\n    default Optional&lt;NativeWebRequest&gt; getRequest() {\n        return Optional.empty();\n    }\n\n    /**\n     * DELETE /store/order/{orderId} : Delete purchase order by ID\n     * For valid response try integer IDs with value &amp;lt; 1000. Anything above 1000 or nonintegers will generate API errors\n     *\n     * @param orderId ID of the order that needs to be deleted (required)\n     * @return Invalid ID supplied (status code 400)\n     *         or Order not found (status code 404)\n     */\n    @Operation(\n        operationId = &quot;deleteOrder&quot;,\n        summary = &quot;Delete purchase order by ID&quot;,\n        description = &quot;For valid response try integer IDs with value &lt; 1000. Anything above 1000 or nonintegers will generate API errors&quot;,\n        tags = { &quot;store&quot; },\n        responses = {\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Invalid ID supplied&quot;, content = {\n                @Content(mediaType = &quot;*/*&quot;, schema = @Schema(implementation = Map.class))\n            }),\n            @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Order not found&quot;)\n        }\n    )\n    @RequestMapping(\n        method = RequestMethod.DELETE,\n        value = &quot;/store/order/{orderId}&quot;,\n        produces = { &quot;*/*&quot; }\n    )\n    default ResponseEntity&lt;Void&gt; deleteOrder(\n        @Parameter(name = &quot;orderId&quot;, description = &quot;ID of the order that needs to be deleted&quot;, required = true, in = ParameterIn.PATH) @PathVariable(&quot;orderId&quot;) Long orderId\n    ) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\n\n    }\n   }\n</code></pre>\n<p>All I want is for it to generate interfaces that look like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FeignClient(&quot;someClient&quot;)\npublic interface SomeClient {\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/example&quot;)\n    List&lt;SomeObject&gt; getExample();\n}\n</code></pre>\n<p>In another project I used an old version of swagger codegen with Springfox and I was able to achieve this but I'm not sure how to do it with openapi generator</p>\n"},{"tags":["java","spring","junit","spring-boot","hibernate-validator"],"comments":[{"owner":{"account_id":3205377,"reputation":341,"user_id":2706507,"accept_rate":75,"display_name":"J.Mengelle"},"score":1,"creation_date":1467130135,"post_id":38081086,"comment_id":63598818,"body_markdown":"dupplicated. See : http://stackoverflow.com/questions/13745848/how-to-test-valid","body":"dupplicated. See : <a href=\"http://stackoverflow.com/questions/13745848/how-to-test-valid\">stackoverflow.com/questions/13745848/how-to-test-valid</a>"},{"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"score":0,"creation_date":1467130696,"post_id":38081086,"comment_id":63599188,"body_markdown":"that solution only gives a programmatic approach.:  validator.validateProperty(object, propertyName)\nI wanted an implicit validation on save","body":"that solution only gives a programmatic approach.:  validator.validateProperty(object, propertyName) I wanted an implicit validation on save"},{"owner":{"account_id":3205377,"reputation":341,"user_id":2706507,"accept_rate":75,"display_name":"J.Mengelle"},"score":0,"creation_date":1467187519,"post_id":38081086,"comment_id":63622533,"body_markdown":"The solution with `@Inject    MockMvc mvc;` look good to me ?","body":"The solution with <code>@Inject    MockMvc mvc;</code> look good to me ?"},{"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"score":0,"creation_date":1467193679,"post_id":38081086,"comment_id":63626681,"body_markdown":"Well.. not bad.. but it assumes an MVC controller layer. What if I want to use @Valid to protect the layer below? (the service/business layer).... in that case there is no MVC involved. Additionally, it&#39;s not as transparent as doing just a &quot;save&quot; and expecting a validation (just like running the app).","body":"Well.. not bad.. but it assumes an MVC controller layer. What if I want to use @Valid to protect the layer below? (the service/business layer).... in that case there is no MVC involved. Additionally, it&#39;s not as transparent as doing just a &quot;save&quot; and expecting a validation (just like running the app)."},{"owner":{"account_id":3205377,"reputation":341,"user_id":2706507,"accept_rate":75,"display_name":"J.Mengelle"},"score":1,"creation_date":1467204048,"post_id":38081086,"comment_id":63633737,"body_markdown":"well, i&#39;m not sure about which componant in spring is responsible to process the validation.\nYou could test the validation itself, but you may need an integration test (full deploy) for testing if the @valid is processed. \nFor testing the validation result, see exemple &#167;101.2.1.5 at http://www.jmdoudoux.fr/java/dej/chap-validation_donnees.htm","body":"well, i&#39;m not sure about which componant in spring is responsible to process the validation. You could test the validation itself, but you may need an integration test (full deploy) for testing if the @valid is processed.  For testing the validation result, see exemple &#167;101.2.1.5 at <a href=\"http://www.jmdoudoux.fr/java/dej/chap-validation_donnees.htm\" rel=\"nofollow noreferrer\">jmdoudoux.fr/java/dej/chap-validation_donnees.htm</a>"},{"owner":{"account_id":3205377,"reputation":341,"user_id":2706507,"accept_rate":75,"display_name":"J.Mengelle"},"score":1,"creation_date":1467204522,"post_id":38081086,"comment_id":63634106,"body_markdown":"You may want to dig about `MethodValidationPostProcessor`","body":"You may want to dig about <code>MethodValidationPostProcessor</code>"},{"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"score":0,"creation_date":1467216191,"post_id":38081086,"comment_id":63643134,"body_markdown":"great! it seems promising. thanks!","body":"great! it seems promising. thanks!"}],"answers":[{"tags":[],"owner":{"account_id":2084279,"reputation":1181,"user_id":1855579,"accept_rate":67,"display_name":"Vlad Dinulescu"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1515751820,"creation_date":1515751820,"answer_id":48223916,"question_id":38081086,"body_markdown":"This solution works with Spring 5. It should work with Spring 4 as well. (I&#39;ve tested it on Spring 5 and SpringBoot 2.0.0).\r\n\r\nThere are three things that have to be there:\r\n\r\n1. in the test class, provide a bean for method validation (PostServiceTest in your example)\r\n\r\nLike this:\r\n\r\n    @TestConfiguration\r\n    static class TestContextConfiguration {\r\n       @Bean\r\n       public MethodValidationPostProcessor bean() {\r\n          return new MethodValidationPostProcessor();\r\n       }\r\n    }\r\n\r\n2. in the class that has @Valid annotations on method, you also need to annotate it with @Validated (org.springframework.validation.annotation.Validated) on the class level!\r\n\r\nLike this: \r\n\r\n    @Validated\r\n    class PostService {\r\n       public Post save(@Valid Post post) {\r\n           return postRepository.save(post);\r\n       }\r\n    }\r\n\r\n3. You have to have a Bean Validation 1.1 provider (such as Hibernate Validator 5.x) in the classpath. The actual provider will be autodetected by Spring and automatically adapted.\r\n\r\nMore details in [MethodValidationPostProcessor documentation](https://docs.spring.io/autorepo/docs/spring-framework/4.2.x/javadoc-api/org/springframework/validation/beanvalidation/MethodValidationPostProcessor.html)\r\n\r\nHope that helps","title":"How to test if @Valid annotation is working?","body":"<p>This solution works with Spring 5. It should work with Spring 4 as well. (I've tested it on Spring 5 and SpringBoot 2.0.0).</p>\n\n<p>There are three things that have to be there:</p>\n\n<ol>\n<li>in the test class, provide a bean for method validation (PostServiceTest in your example)</li>\n</ol>\n\n<p>Like this:</p>\n\n<pre><code>@TestConfiguration\nstatic class TestContextConfiguration {\n   @Bean\n   public MethodValidationPostProcessor bean() {\n      return new MethodValidationPostProcessor();\n   }\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>in the class that has @Valid annotations on method, you also need to annotate it with @Validated (org.springframework.validation.annotation.Validated) on the class level!</li>\n</ol>\n\n<p>Like this: </p>\n\n<pre><code>@Validated\nclass PostService {\n   public Post save(@Valid Post post) {\n       return postRepository.save(post);\n   }\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>You have to have a Bean Validation 1.1 provider (such as Hibernate Validator 5.x) in the classpath. The actual provider will be autodetected by Spring and automatically adapted.</li>\n</ol>\n\n<p>More details in <a href=\"https://docs.spring.io/autorepo/docs/spring-framework/4.2.x/javadoc-api/org/springframework/validation/beanvalidation/MethodValidationPostProcessor.html\" rel=\"noreferrer\">MethodValidationPostProcessor documentation</a></p>\n\n<p>Hope that helps</p>\n"},{"tags":[],"owner":{"account_id":6980681,"reputation":2774,"user_id":5353734,"display_name":"Nima Ajdari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627494953,"creation_date":1627494953,"answer_id":68565258,"question_id":38081086,"body_markdown":"This is how I did it by loading `ValidationAutoConfiguration.class` into context:\r\n\r\n\r\n    @SpringBootTest\r\n    @ContextConfiguration(classes = { MyComponent.class, ValidationAutoConfiguration.class\r\n    public class MyComponentValidationTest {\r\n      \r\n      @Autowired\r\n      private MyComponent myComponent;\r\n\r\n      @Test\r\n      void myValidationTest() {\r\n        String input = ...;\r\n        // static import from org.assertj.core.api.Assertions\r\n        assertThatThrownBy(() -&gt; myComponent.myValidatedMethod(input))\r\n          .isInstanceOf(ConstraintViolationException.class)\r\n          .hasMessageContaining(&quot;my error message&quot;);\r\n      }\r\n    \r\n    }\r\n\r\n\r\nAnd MyComponent class:\r\n\r\n    @Component\r\n    @Validated\r\n    public class MyComponent {\r\n    \r\n    \r\n      public void myValidatedMethod(@Size(min = 1, max = 30) String input) {\r\n        // method body\r\n      }\r\n    \r\n    )\r\n\r\n","title":"How to test if @Valid annotation is working?","body":"<p>This is how I did it by loading <code>ValidationAutoConfiguration.class</code> into context:</p>\n<pre><code>@SpringBootTest\n@ContextConfiguration(classes = { MyComponent.class, ValidationAutoConfiguration.class\npublic class MyComponentValidationTest {\n  \n  @Autowired\n  private MyComponent myComponent;\n\n  @Test\n  void myValidationTest() {\n    String input = ...;\n    // static import from org.assertj.core.api.Assertions\n    assertThatThrownBy(() -&gt; myComponent.myValidatedMethod(input))\n      .isInstanceOf(ConstraintViolationException.class)\n      .hasMessageContaining(&quot;my error message&quot;);\n  }\n\n}\n</code></pre>\n<p>And MyComponent class:</p>\n<pre><code>@Component\n@Validated\npublic class MyComponent {\n\n\n  public void myValidatedMethod(@Size(min = 1, max = 30) String input) {\n    // method body\n  }\n\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18242520,"reputation":1,"user_id":13279306,"display_name":"Shakti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683591182,"creation_date":1683591182,"answer_id":76205110,"question_id":38081086,"body_markdown":"Add below dependency in your pom and your junit with mockmvc will work. \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.1-b08&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to test if @Valid annotation is working?","body":"<p>Add below dependency in your pom and your junit with mockmvc will work.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n  &lt;version&gt;3.0.1-b08&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17419,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":48223916,"answer_count":3,"score":9,"last_activity_date":1683591182,"creation_date":1467129746,"question_id":38081086,"body_markdown":"I have the following unit test:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = {EqualblogApplication.class})\r\n    @WebAppConfiguration\r\n    @TestPropertySource(&quot;classpath:application-test.properties&quot;)\r\n    public class PostServiceTest {\r\n      // ...\r\n\r\n      @Test(expected = ConstraintViolationException.class)\r\n      public void testInvalidTitle() {\r\n           postService.save(new Post());  // no title\r\n      }\r\n    }\r\n\r\nThe code for `save` in `PostService` is:\r\n\r\n    public Post save(@Valid Post post) {\r\n        return postRepository.save(post);\r\n    }\r\n\r\nThe `Post` class is marked with `@NotNull` in most fields.\r\n\r\nThe problem is: **no validation exception is thrown**.\r\n\r\nHowever, this happens only in testing. **Using the application normally runs the validation and throws the exception.**\r\n\r\nNote: I would like to do it automatically (on save) and not by manually validating and then saving (since it&#39;s more realistic).","title":"How to test if @Valid annotation is working?","body":"<p>I have the following unit test:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = {EqualblogApplication.class})\n@WebAppConfiguration\n@TestPropertySource(\"classpath:application-test.properties\")\npublic class PostServiceTest {\n  // ...\n\n  @Test(expected = ConstraintViolationException.class)\n  public void testInvalidTitle() {\n       postService.save(new Post());  // no title\n  }\n}\n</code></pre>\n\n<p>The code for <code>save</code> in <code>PostService</code> is:</p>\n\n<pre><code>public Post save(@Valid Post post) {\n    return postRepository.save(post);\n}\n</code></pre>\n\n<p>The <code>Post</code> class is marked with <code>@NotNull</code> in most fields.</p>\n\n<p>The problem is: <strong>no validation exception is thrown</strong>.</p>\n\n<p>However, this happens only in testing. <strong>Using the application normally runs the validation and throws the exception.</strong></p>\n\n<p>Note: I would like to do it automatically (on save) and not by manually validating and then saving (since it's more realistic).</p>\n"},{"tags":["java","android","kotlin","encryption","aes-gcm"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1617606046,"post_id":66949178,"comment_id":118341644,"body_markdown":"At the moment your question is not answerable without seeing the encryption side, even if it should be in a different language. The reason is easy - the GCM mode provides additional security by adding an HMAC value but it differs from language to language and implementation how this value (&quot;GCM tag&quot;) is transported. Secondly: In your GCMParameterSpec the value is always 16 zero bytes - this would be horrible for the security of the complete encryption. Kindly add the encryption code to your question.","body":"At the moment your question is not answerable without seeing the encryption side, even if it should be in a different language. The reason is easy - the GCM mode provides additional security by adding an HMAC value but it differs from language to language and implementation how this value (&quot;GCM tag&quot;) is transported. Secondly: In your GCMParameterSpec the value is always 16 zero bytes - this would be horrible for the security of the complete encryption. Kindly add the encryption code to your question."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1617607994,"post_id":66949178,"comment_id":118342149,"body_markdown":"Decryption lacks the hex decoding of the ciphertext, apart from that decryption works on my machine (if consistent data is used in encryption and decryption and the non-posted `getPseudoSaltedValue()` is omitted).","body":"Decryption lacks the hex decoding of the ciphertext, apart from that decryption works on my machine (if consistent data is used in encryption and decryption and the non-posted <code>getPseudoSaltedValue()</code> is omitted)."},{"owner":{"account_id":13270675,"reputation":53,"user_id":9581836,"display_name":"kairatawer"},"score":0,"creation_date":1617609366,"post_id":66949178,"comment_id":118342514,"body_markdown":"@Topaco it means server must send IV to client with encoded data?","body":"@Topaco it means server must send IV to client with encoded data?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1617611550,"post_id":66949178,"comment_id":118343111,"body_markdown":"In the code, both the IV (actually 12 bytes for GCM) for encryption (s. 1st comment) and the salt (referred to here as `secretKey`) for key derivation are static (usually both are randomly generated for each encryption and sent along with the ciphertext, e.g. concatenated). With AES/GCM, it&#39;s for security reasons crucial that a key/IV pair may only be used once. For this to be fulfilled with a static IV, the key (or with likewise static salt, the password, here referred to as `optCode`/`smsCode`) would have to be changed for each encryption.","body":"In the code, both the IV (actually 12 bytes for GCM) for encryption (s. 1st comment) and the salt (referred to here as <code>secretKey</code>) for key derivation are static (usually both are randomly generated for each encryption and sent along with the ciphertext, e.g. concatenated). With AES/GCM, it&#39;s for security reasons crucial that a key/IV pair may only be used once. For this to be fulfilled with a static IV, the key (or with likewise static salt, the password, here referred to as <code>optCode</code>/<code>smsCode</code>) would have to be changed for each encryption."},{"owner":{"account_id":13270675,"reputation":53,"user_id":9581836,"display_name":"kairatawer"},"score":0,"creation_date":1617684002,"post_id":66949178,"comment_id":118365097,"body_markdown":"@Topaco in both sides (server and client) identical IV is being used (byte array with 16 zeros). But I&#39;m still catching the same error. It means problem&#39;s in generated key?","body":"@Topaco in both sides (server and client) identical IV is being used (byte array with 16 zeros). But I&#39;m still catching the same error. It means problem&#39;s in generated key?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1617690282,"post_id":66949178,"comment_id":118366602,"body_markdown":"The static IV and salt are a potential security issue, but are not the cause of the decryption failure. The actual bug in the Kotlin code is the missing hex decoding of `input` in the decryption (i.e. the inverse of `Hex.encode()` in the Java code). Have you fixed this issue?","body":"The static IV and salt are a potential security issue, but are not the cause of the decryption failure. The actual bug in the Kotlin code is the missing hex decoding of <code>input</code> in the decryption (i.e. the inverse of <code>Hex.encode()</code> in the Java code). Have you fixed this issue?"},{"owner":{"account_id":13270675,"reputation":53,"user_id":9581836,"display_name":"kairatawer"},"score":0,"creation_date":1617699516,"post_id":66949178,"comment_id":118370157,"body_markdown":"@Topaco yeah I realized that problem may be in hex encoding/decoding, I&#39;m working on it right now","body":"@Topaco yeah I realized that problem may be in hex encoding/decoding, I&#39;m working on it right now"},{"owner":{"account_id":19392417,"reputation":197,"user_id":14180770,"display_name":"Bilal Bangash"},"score":0,"creation_date":1646115027,"post_id":66949178,"comment_id":126038088,"body_markdown":"I am facing the same exception while encryption. Could anyone help. my so question link . https://stackoverflow.com/questions/71304327/javax-crypto-aeadbadtagexception-mac-check-in-gcm-failed-android-aes-gcm-encry","body":"I am facing the same exception while encryption. Could anyone help. my so question link . <a href=\"https://stackoverflow.com/questions/71304327/javax-crypto-aeadbadtagexception-mac-check-in-gcm-failed-android-aes-gcm-encry\" title=\"javax crypto aeadbadtagexception mac check in gcm failed android aes gcm encry\">stackoverflow.com/questions/71304327/&hellip;</a>"}],"owner":{"account_id":13270675,"reputation":53,"user_id":9581836,"display_name":"kairatawer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2694,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683590397,"creation_date":1617604956,"question_id":66949178,"body_markdown":"I&#39;m developing Android client. What we have:\r\n 1. Server ecnrypts data by AES algorithm with GCM;\r\n 2. Server sends it to client by REST API;\r\n 3. Client has to decrypt data and display it.\r\n\r\nI stuck on 3 step. My question is how to decrypt arrived data. This is what I tried already:\r\n```\r\nclass PrivateInfoDecrypter {\r\n\r\n    companion object {\r\n        const val SECRET_KEY = &quot;secret_key&quot;\r\n    }\r\n\r\n    private val bytes = ByteArray(16)\r\n    private val gcmParameterSpec: GCMParameterSpec = GCMParameterSpec(128, bytes)\r\n\r\n    fun decrypt(input: String, smsCode: String): String {\r\n        val keySpec = generateKey(smsCode)\r\n\r\n        val cipher: Cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;)\r\n        cipher.init(Cipher.DECRYPT_MODE, keySpec, gcmParameterSpec)\r\n\r\n        val original = cipher.doFinal(input.toByteArray())\r\n\r\n        return String(original)\r\n    }\r\n\r\n    private fun generateKey(smsCode: String): SecretKeySpec {\r\n        val spec: KeySpec = PBEKeySpec(smsCode.toCharArray(), SECRET_KEY.encodeToByteArray(), 65536, 256)\r\n        val f: SecretKeyFactory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;)\r\n        val key: SecretKey = f.generateSecret(spec)\r\n\r\n        return SecretKeySpec(key.encoded, &quot;AES&quot;)\r\n    }\r\n\r\n}\r\n```\r\n\r\nI get this error in logcat:\r\n\r\n    E/Whoops: javax.crypto.AEADBadTagException: mac check in GCM failed\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:430)\r\n        at com.android.org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$AEADGenericBlockCipher.doFinal(BaseBlockCipher.java:1367)\r\n        at com.android.org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineDoFinal(BaseBlockCipher.java:1100)\r\n        at javax.crypto.Cipher.doFinal(Cipher.java:2056)\r\n\r\nEncryption side: (server side code)\r\n```\r\n    private static final byte[] bytes = new byte[16];\r\n    static final GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(128, bytes);\r\n\r\n    String encrypt(String input) throws Exception {\r\n        KeySpec spec = new PBEKeySpec(otpCode.toCharArray(), secretKey.getEncoded(), 65536, 256);\r\n        SecretKeyFactory f = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\r\n        byte[] key = f.generateSecret(spec).getEncoded();\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        SecretKeySpec keySpec = new SecretKeySpec(key, &quot;AES&quot;);\r\n        cipher.init(Cipher.ENCRYPT_MODE, keySpec, gcmParameterSpec);\r\n        var salted = getPseudoSaltedValue(val);\r\n        return new String(Hex.encode(cipher.doFinal(salted.getBytes())));\r\n    }\r\n```","title":"javax.crypto.AEADBadTagException: mac check in GCM failed","body":"<p>I'm developing Android client. What we have:</p>\n<ol>\n<li>Server ecnrypts data by AES algorithm with GCM;</li>\n<li>Server sends it to client by REST API;</li>\n<li>Client has to decrypt data and display it.</li>\n</ol>\n<p>I stuck on 3 step. My question is how to decrypt arrived data. This is what I tried already:</p>\n<pre><code>class PrivateInfoDecrypter {\n\n    companion object {\n        const val SECRET_KEY = &quot;secret_key&quot;\n    }\n\n    private val bytes = ByteArray(16)\n    private val gcmParameterSpec: GCMParameterSpec = GCMParameterSpec(128, bytes)\n\n    fun decrypt(input: String, smsCode: String): String {\n        val keySpec = generateKey(smsCode)\n\n        val cipher: Cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;)\n        cipher.init(Cipher.DECRYPT_MODE, keySpec, gcmParameterSpec)\n\n        val original = cipher.doFinal(input.toByteArray())\n\n        return String(original)\n    }\n\n    private fun generateKey(smsCode: String): SecretKeySpec {\n        val spec: KeySpec = PBEKeySpec(smsCode.toCharArray(), SECRET_KEY.encodeToByteArray(), 65536, 256)\n        val f: SecretKeyFactory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;)\n        val key: SecretKey = f.generateSecret(spec)\n\n        return SecretKeySpec(key.encoded, &quot;AES&quot;)\n    }\n\n}\n</code></pre>\n<p>I get this error in logcat:</p>\n<pre><code>E/Whoops: javax.crypto.AEADBadTagException: mac check in GCM failed\n    at java.lang.reflect.Constructor.newInstance0(Native Method)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:430)\n    at com.android.org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$AEADGenericBlockCipher.doFinal(BaseBlockCipher.java:1367)\n    at com.android.org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineDoFinal(BaseBlockCipher.java:1100)\n    at javax.crypto.Cipher.doFinal(Cipher.java:2056)\n</code></pre>\n<p>Encryption side: (server side code)</p>\n<pre><code>    private static final byte[] bytes = new byte[16];\n    static final GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(128, bytes);\n\n    String encrypt(String input) throws Exception {\n        KeySpec spec = new PBEKeySpec(otpCode.toCharArray(), secretKey.getEncoded(), 65536, 256);\n        SecretKeyFactory f = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\n        byte[] key = f.generateSecret(spec).getEncoded();\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n        SecretKeySpec keySpec = new SecretKeySpec(key, &quot;AES&quot;);\n        cipher.init(Cipher.ENCRYPT_MODE, keySpec, gcmParameterSpec);\n        var salted = getPseudoSaltedValue(val);\n        return new String(Hex.encode(cipher.doFinal(salted.getBytes())));\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cache","hibernate-cache"],"answers":[{"tags":[],"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680440832,"creation_date":1680440832,"answer_id":75912204,"question_id":75911722,"body_markdown":"You could try to exclude the ehcache in your pom.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\r\n        &lt;version&gt;5.6.0.Final&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"Unable to create requested service [org.hibernate.cache.spi.CacheImplementor] Hibernate Cache in Spring Boot","body":"<p>You could try to exclude the ehcache in your pom.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\n    &lt;version&gt;5.6.0.Final&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n            &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683589733,"creation_date":1683589733,"answer_id":76205045,"question_id":75911722,"body_markdown":"JCache ([JSR-107][1]) is simply an *Service Provider Interface* (SPI) defining an [API][2] for caching providers (such as Ehcache or Hazelcaset, etc) that implement the SPI.\r\n\r\nJCache by itself is not a caching provider and has no real caching functionality. You need to plugin an actual implementation, such as [Caffeine][3], [Ehcache][4], [Hazelcast][5], etc.\r\n\r\nAFAIK, the `hibernate-jCache` is simply and integration and adapter layer between Hibernate to use the JCache API an an implementing caching provider as a 2nd-level cache in Hibernate.\r\n\r\nUsing JCache simply enables you to plugin any compliant caching provider, of your choice, and mileage (aka capabilities) varies by caching provider. Some are simple in-memory stores while others are full-blown In-Memory Data Grids (IMDGs) complete with database-like functionality (e.g. persistence, transactions, functions, etc).\r\n\r\nHope this helps clarify the position if JCache here.\r\n\r\n\r\n  [1]: https://www.jcp.org/en/jsr/detail?id=107\r\n  [2]: https://javadoc.io/doc/javax.cache/cache-api/latest/index.html\r\n  [3]: https://github.com/ben-manes/caffeine/wiki/JCache\r\n  [4]: https://www.ehcache.org/documentation/3.7/107.html\r\n  [5]: https://docs.hazelcast.com/imdg/4.2/jcache/hazelcast-integration","title":"Unable to create requested service [org.hibernate.cache.spi.CacheImplementor] Hibernate Cache in Spring Boot","body":"<p>JCache (<a href=\"https://www.jcp.org/en/jsr/detail?id=107\" rel=\"nofollow noreferrer\">JSR-107</a>) is simply an <em>Service Provider Interface</em> (SPI) defining an <a href=\"https://javadoc.io/doc/javax.cache/cache-api/latest/index.html\" rel=\"nofollow noreferrer\">API</a> for caching providers (such as Ehcache or Hazelcaset, etc) that implement the SPI.</p>\n<p>JCache by itself is not a caching provider and has no real caching functionality. You need to plugin an actual implementation, such as <a href=\"https://github.com/ben-manes/caffeine/wiki/JCache\" rel=\"nofollow noreferrer\">Caffeine</a>, <a href=\"https://www.ehcache.org/documentation/3.7/107.html\" rel=\"nofollow noreferrer\">Ehcache</a>, <a href=\"https://docs.hazelcast.com/imdg/4.2/jcache/hazelcast-integration\" rel=\"nofollow noreferrer\">Hazelcast</a>, etc.</p>\n<p>AFAIK, the <code>hibernate-jCache</code> is simply and integration and adapter layer between Hibernate to use the JCache API an an implementing caching provider as a 2nd-level cache in Hibernate.</p>\n<p>Using JCache simply enables you to plugin any compliant caching provider, of your choice, and mileage (aka capabilities) varies by caching provider. Some are simple in-memory stores while others are full-blown In-Memory Data Grids (IMDGs) complete with database-like functionality (e.g. persistence, transactions, functions, etc).</p>\n<p>Hope this helps clarify the position if JCache here.</p>\n"}],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683589733,"creation_date":1680434842,"question_id":75911722,"body_markdown":"I am trying to hibernate cache in Spring dao layer. I get an error when I add the **ehcache** dependency.\r\n\r\n**application.properties**\r\n\r\n    spring.jpa.properties.hibernate.cache.use_second_level_cache=true\r\n    spring.jpa.properties.hibernate.cache.use_query_cache=true\r\n    spring.jpa.properties.javax.persistence.sharedCache.mode=ENABLE_SELECTIVE\r\n\r\n**pom.xml**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\r\n        &lt;version&gt;5.6.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nError in Console:\r\n\r\n    org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name &#39;delegatingApplicationListener&#39;: Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat com.example.application.AuthMain.main(AuthMain.java:20) ~[classes/:?]\r\n    \r\n    2023-04-02 14:17  INFO   38338 --- [           main] o.a.c.c.StandardService                  : Stopping service [Tomcat]\r\n    2023-04-02 14:17  INFO   38338 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2023-04-02 14:17 ERROR   38338 --- [           main] o.s.b.SpringApplication                  : Application run failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setConfigurers&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;openEntityManagerInViewInterceptorConfigurer&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Unsatisfied dependency expressed through method &#39;openEntityManagerInViewInterceptorConfigurer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;openEntityManagerInViewInterceptor&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.cache.spi.CacheImplementor]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-5.3.23.jar:5.3.23]org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\r\n\r\n\r\nIf I add the **ehcache** dependency below, the error goes away. How can I work with just **jcache** without ehcache?\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n        &lt;version&gt;3.9.10&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Unable to create requested service [org.hibernate.cache.spi.CacheImplementor] Hibernate Cache in Spring Boot","body":"<p>I am trying to hibernate cache in Spring dao layer. I get an error when I add the <strong>ehcache</strong> dependency.</p>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.jpa.properties.hibernate.cache.use_second_level_cache=true\nspring.jpa.properties.hibernate.cache.use_query_cache=true\nspring.jpa.properties.javax.persistence.sharedCache.mode=ENABLE_SELECTIVE\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n    &lt;version&gt;2.7.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\n    &lt;version&gt;5.6.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Error in Console:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'delegatingApplicationListener': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220) ~[spring-beans-5.3.23.jar:5.3.23]\n    at com.example.application.AuthMain.main(AuthMain.java:20) ~[classes/:?]\n\n2023-04-02 14:17  INFO   38338 --- [           main] o.a.c.c.StandardService                  : Stopping service [Tomcat]\n2023-04-02 14:17  INFO   38338 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-04-02 14:17 ERROR   38338 --- [           main] o.s.b.SpringApplication                  : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'openEntityManagerInViewInterceptorConfigurer' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Unsatisfied dependency expressed through method 'openEntityManagerInViewInterceptorConfigurer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'openEntityManagerInViewInterceptor' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.cache.spi.CacheImplementor]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-5.3.23.jar:5.3.23]org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.23.jar:5.3.23]\n</code></pre>\n<p>If I add the <strong>ehcache</strong> dependency below, the error goes away. How can I work with just <strong>jcache</strong> without ehcache?</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n    &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n    &lt;version&gt;3.9.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","google-sheets","google-api-client"],"answers":[{"tags":[],"owner":{"account_id":8520198,"reputation":3795,"user_id":6387411,"display_name":"ritesh.garg"},"down_vote_count":1,"up_vote_count":159,"is_accepted":true,"score":158,"last_activity_date":1466227691,"creation_date":1466227691,"answer_id":37893568,"question_id":37893515,"body_markdown":"Try replacing `Class Data!A2:A4` with `A2:A4`","title":"Google spreadsheet API, 400 error bad request : unable to parse range","body":"<p>Try replacing <code>Class Data!A2:A4</code> with <code>A2:A4</code></p>\n"},{"tags":[],"owner":{"account_id":5669004,"reputation":2141,"user_id":4484306,"display_name":"RamelHenderson"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1473344076,"creation_date":1473342754,"answer_id":39392812,"question_id":37893515,"body_markdown":"If you look at the sheet [itself][1] you will notice that the Worksheet is titled &quot;Class Data&quot;. So just put the name of your sheet where is says &quot;Class Data&quot;. Example: \r\nString range = &quot;SheetName!A1:C&quot;;\r\n\r\n  [1]: https://docs.google.com/spreadsheets/d/1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms/edit","title":"Google spreadsheet API, 400 error bad request : unable to parse range","body":"<p>If you look at the sheet <a href=\"https://docs.google.com/spreadsheets/d/1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms/edit\" rel=\"noreferrer\">itself</a> you will notice that the Worksheet is titled \"Class Data\". So just put the name of your sheet where is says \"Class Data\". Example: \nString range = \"SheetName!A1:C\";</p>\n"},{"tags":[],"owner":{"account_id":1143950,"reputation":146,"user_id":1127137,"display_name":"slifszyc"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1506368730,"creation_date":1506367407,"answer_id":46412708,"question_id":37893515,"body_markdown":"I was trying to add some data to a sheet named `Emmett` that did not existed yet and was receiving this error:\r\n\r\n```\r\nError: Unable to parse range: Emmet!A2:C12\r\n```\r\n\r\nI had to manually create the sheet named `Emmett` in the spreadsheet and then it worked like a charm.","title":"Google spreadsheet API, 400 error bad request : unable to parse range","body":"<p>I was trying to add some data to a sheet named <code>Emmett</code> that did not existed yet and was receiving this error:</p>\n\n<p><code>\nError: Unable to parse range: Emmet!A2:C12\n</code></p>\n\n<p>I had to manually create the sheet named <code>Emmett</code> in the spreadsheet and then it worked like a charm.</p>\n"},{"tags":[],"owner":{"account_id":439320,"reputation":7472,"user_id":828184,"accept_rate":70,"display_name":"CodingYourLife"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524188434,"creation_date":1524188434,"answer_id":49932623,"question_id":37893515,"body_markdown":"I ran into this error when I had a typo in the name of the tab. In your case &quot;Class Data&quot; didn&#39;t match the name of the tab","title":"Google spreadsheet API, 400 error bad request : unable to parse range","body":"<p>I ran into this error when I had a typo in the name of the tab. In your case \"Class Data\" didn't match the name of the tab</p>\n"},{"tags":[],"owner":{"account_id":15575129,"reputation":151,"user_id":11236431,"display_name":"Tan Phan"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1553157964,"creation_date":1553157964,"answer_id":55276598,"question_id":37893515,"body_markdown":"``` String range = &quot;Class Data!A2:A4&quot;; ```\r\n\r\nThe ```Class Data``` is your worksheet&#39;s name, FYI: the name on the tab at the bottom, the default one is &quot;Sheet1&quot;. Replace ```Class Data``` with the one you want to work with.","title":"Google spreadsheet API, 400 error bad request : unable to parse range","body":"<p><code>String range = \"Class Data!A2:A4\";</code></p>\n\n<p>The <code>Class Data</code> is your worksheet's name, FYI: the name on the tab at the bottom, the default one is \"Sheet1\". Replace <code>Class Data</code> with the one you want to work with.</p>\n"},{"tags":[],"owner":{"account_id":2102799,"reputation":5484,"user_id":1869954,"accept_rate":67,"display_name":"jarora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591612243,"creation_date":1591612243,"answer_id":62260027,"question_id":37893515,"body_markdown":"In my case there was an extra space in the google sheet while I was trimming the sheet name at my end. Once I removed the trimming logic, everything worked fine. ","title":"Google spreadsheet API, 400 error bad request : unable to parse range","body":"<p>In my case there was an extra space in the google sheet while I was trimming the sheet name at my end. Once I removed the trimming logic, everything worked fine. </p>\n"},{"tags":[],"owner":{"account_id":18831497,"reputation":1,"user_id":13735196,"display_name":"maya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591976063,"creation_date":1591976063,"answer_id":62347571,"question_id":37893515,"body_markdown":"Something that I learned was that If the column name doesn&#39;t exist yet, this command won&#39;t be able to find it. You need to make sure the column you&#39;re writing to already exists -- I did this manually from the google sheet. ","title":"Google spreadsheet API, 400 error bad request : unable to parse range","body":"<p>Something that I learned was that If the column name doesn't exist yet, this command won't be able to find it. You need to make sure the column you're writing to already exists -- I did this manually from the google sheet. </p>\n"}],"owner":{"account_id":8658646,"reputation":611,"user_id":6481950,"display_name":"Hemant Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76766,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":37893568,"answer_count":7,"score":61,"last_activity_date":1683588598,"creation_date":1466226998,"question_id":37893515,"body_markdown":"I am trying to access Google spreadsheets using a spreadsheet example. When I run the example code it worked fine. I just change the **SpreadsheetId** and range. It started giving me:\r\n\r\n    Exception in thread &quot;main&quot; com.google.api.client.googleapis.json.GoogleJsonResponseException: 400 Bad Request\r\n    {\r\n      &quot;code&quot; : 400,\r\n      &quot;errors&quot; : [ {\r\n        &quot;domain&quot; : &quot;global&quot;,\r\n        &quot;message&quot; : &quot;Unable to parse range: Class Data!A2:A4&quot;,\r\n        &quot;reason&quot; : &quot;badRequest&quot;\r\n      } ],\r\n      &quot;message&quot; : &quot;Unable to parse range: Class Data!A2:A4&quot;,\r\n      &quot;status&quot; : &quot;INVALID_ARGUMENT&quot;\r\n    }\r\n    \tat com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:146)\r\n    \tat com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:113)\r\n    \tat com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:40)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest$1.interceptResponse(AbstractGoogleClientRequest.java:321)\r\n    \tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1065)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:469)\r\n    \tat poc.mainPOC.main(mainPOC.java:157)\r\n\r\n\r\nBelow is the code:\r\n\r\n      String spreadsheetId = &quot;my spread sheet ID&quot;;\r\n        String range = &quot;Class Data!A2:A4&quot;;\r\n        ValueRange response = service.spreadsheets().values()\r\n            .get(spreadsheetId, range)\r\n            .execute();\r\n","title":"Google spreadsheet API, 400 error bad request : unable to parse range","body":"<p>I am trying to access Google spreadsheets using a spreadsheet example. When I run the example code it worked fine. I just change the <strong>SpreadsheetId</strong> and range. It started giving me:</p>\n\n<pre><code>Exception in thread \"main\" com.google.api.client.googleapis.json.GoogleJsonResponseException: 400 Bad Request\n{\n  \"code\" : 400,\n  \"errors\" : [ {\n    \"domain\" : \"global\",\n    \"message\" : \"Unable to parse range: Class Data!A2:A4\",\n    \"reason\" : \"badRequest\"\n  } ],\n  \"message\" : \"Unable to parse range: Class Data!A2:A4\",\n  \"status\" : \"INVALID_ARGUMENT\"\n}\n    at com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:146)\n    at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:113)\n    at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:40)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest$1.interceptResponse(AbstractGoogleClientRequest.java:321)\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1065)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:469)\n    at poc.mainPOC.main(mainPOC.java:157)\n</code></pre>\n\n<p>Below is the code:</p>\n\n<pre><code>  String spreadsheetId = \"my spread sheet ID\";\n    String range = \"Class Data!A2:A4\";\n    ValueRange response = service.spreadsheets().values()\n        .get(spreadsheetId, range)\n        .execute();\n</code></pre>\n"},{"tags":["java","regex","jira"],"comments":[{"owner":{"account_id":25125122,"reputation":468,"user_id":18973005,"display_name":"Randommm"},"score":1,"creation_date":1683121165,"post_id":76164429,"comment_id":134317893,"body_markdown":"1. You really should unify the linebreaks before starting, you are doing triple possibilities for all regex and it&#39;s making it harder to read 2. you could try to split the input into rows with `\\\\|\\n` instead so there must be a `|` at the end of the line which means the end of the row, correct? This might consume the character so maybe try with look-behind regex to not consume it if it&#39;s needed? Tho you just seem to cut it out from the end anyways","body":"1. You really should unify the linebreaks before starting, you are doing triple possibilities for all regex and it&#39;s making it harder to read 2. you could try to split the input into rows with <code>\\\\|\\n</code> instead so there must be a <code>|</code> at the end of the line which means the end of the row, correct? This might consume the character so maybe try with look-behind regex to not consume it if it&#39;s needed? Tho you just seem to cut it out from the end anyways"},{"owner":{"account_id":42493,"reputation":6798,"user_id":123802,"display_name":"mdoar"},"score":0,"creation_date":1683129554,"post_id":76164429,"comment_id":134360313,"body_markdown":"This is a good example of why Atlassian ditched this markup in Confluence 4.x.\nJira kept using it, but I&#39;d like to see XHTML used instead. Or Markdown.","body":"This is a good example of why Atlassian ditched this markup in Confluence 4.x. Jira kept using it, but I&#39;d like to see XHTML used instead. Or Markdown."},{"owner":{"account_id":7089168,"reputation":157110,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1683370365,"post_id":76164429,"comment_id":134358686,"body_markdown":"Perhaps you could try it like this `^(?:\\|\\|.*\\|\\|\\R)?\\|.*(?:\\R(?!(?:\\|\\|.*\\|\\|)?$).*)*\\|$` https://regex101.com/r/8cP3s9/1","body":"Perhaps you could try it like this <code>^(?:\\|\\|.*\\|\\|\\R)?\\|.*(?:\\R(?!(?:\\|\\|.*\\|\\|)?$).*)*\\|$</code> <a href=\"https://regex101.com/r/8cP3s9/1\" rel=\"nofollow noreferrer\">regex101.com/r/8cP3s9/1</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683394068,"post_id":76164429,"comment_id":134361430,"body_markdown":"just `([^|]+)`!? (matches all characters except `|` (as groups!)) Test: https://regex101.com/r/cDrJUn/1","body":"just <code>([^|]+)</code>!? (matches all characters except <code>|</code> (as groups!)) Test: <a href=\"https://regex101.com/r/cDrJUn/1\" rel=\"nofollow noreferrer\">regex101.com/r/cDrJUn/1</a>"}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683130181,"creation_date":1683130181,"answer_id":76166039,"question_id":76164429,"body_markdown":"I would just read the markup into an array of string.  The first row of the array is the header markup, and the rest are the row markups.  I would process the header marker, and then each row mark up.\r\n\r\n```\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t   String markup = &quot;||heading 1||heading 2||heading 3||\\n|col A1|col A2|col A3|\\n|col B1|col B2|col B3|&quot;;\r\n\t\tString[] lines = markup.split(&quot;\\n&quot;);\r\n\t\tString[] headers = lines[0].split(&quot;[|]+&quot;);\r\n\t\tString[][] tbl = new String[lines.length][headers.length-1];\r\n\t\tfor(int i=0; i&lt;headers.length-1; i++)\r\n\t\t   tbl[0][i] = headers[i+1];\r\n\t\tfor(int i=1; i&lt;lines.length; i++){\r\n\t\t   String[] rows = lines[i].split(&quot;[|]&quot;);\r\n\t\t   for(int j=1; j&lt;rows.length; j++)\r\n\t\t      tbl[i][j-1] = rows[j];\r\n\t\t}\r\n\t\tfor(int i=0; i&lt;tbl.length; i++){\r\n\t\t   for(int j=0; j&lt;tbl.length; j++)\r\n\t\t      System.out.printf(&quot;|%-10s&quot;,tbl[i][j]);\r\n\t\t   System.out.println(&quot;|&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nOutput\r\n```\r\n|heading 1 |heading 2 |heading 3 |\r\n|col A1    |col A2    |col A3    |\r\n|col B1    |col B2    |col B3    |\r\n```","title":"How can I parse tables written in Jira markup if a cell has a line break?","body":"<p>I would just read the markup into an array of string.  The first row of the array is the header markup, and the rest are the row markups.  I would process the header marker, and then each row mark up.</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n       String markup = &quot;||heading 1||heading 2||heading 3||\\n|col A1|col A2|col A3|\\n|col B1|col B2|col B3|&quot;;\n        String[] lines = markup.split(&quot;\\n&quot;);\n        String[] headers = lines[0].split(&quot;[|]+&quot;);\n        String[][] tbl = new String[lines.length][headers.length-1];\n        for(int i=0; i&lt;headers.length-1; i++)\n           tbl[0][i] = headers[i+1];\n        for(int i=1; i&lt;lines.length; i++){\n           String[] rows = lines[i].split(&quot;[|]&quot;);\n           for(int j=1; j&lt;rows.length; j++)\n              tbl[i][j-1] = rows[j];\n        }\n        for(int i=0; i&lt;tbl.length; i++){\n           for(int j=0; j&lt;tbl.length; j++)\n              System.out.printf(&quot;|%-10s&quot;,tbl[i][j]);\n           System.out.println(&quot;|&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>|heading 1 |heading 2 |heading 3 |\n|col A1    |col A2    |col A3    |\n|col B1    |col B2    |col B3    |\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683587145,"creation_date":1683384889,"answer_id":76189548,"question_id":76164429,"body_markdown":"Sorry, because in my original answer I didn&#39;t realize that of course you are processing a full Jira page, not only the text fragments that you exemplified.\r\n\r\nI am not sure if it will work in every case, but I tested your code and - after the regex expressions drove me crazy - I think I came up with a possible solution:\r\n\r\n```java\r\nString input1 = &quot;||Heading 1 Table 1||Heading 2 Table 1||\\n&quot; +\r\n    &quot;|_*BOLD AND ITALIC*_|_Italic_|\\n&quot; +\r\n    &quot;|Normal key|Normal Value|\\n&quot; +\r\n    &quot;|Third row, *just half BOLD*| |&quot;;\r\n\r\nString input2 = &quot;||Heading 1 Table 2||Heading 2 Table 2||\\n&quot; +\r\n    &quot;|Col A1|Col A2|\\n&quot; +\r\n    &quot;|SECOND ROW|Second row too|\\n&quot; +\r\n    &quot;|Row with image|!image-2023-04-24-17-51-07-167.png|width=359,height=253!|\\n&quot; +\r\n    &quot;|Row with image and text |smol  !image-2023-05-02-12-42-16-942.png|width=347,height=231! kitten|\\n&quot; +\r\n    &quot;|Row with text and new lines|Text\\n&quot; +\r\n    &quot;  \\n&quot; +\r\n    &quot; New Line\\n&quot; +\r\n    &quot;  \\n&quot; +\r\n    &quot; More text\\n&quot; +\r\n    &quot; Much more text|\\n&quot;;\r\n\r\nString input = input1 + &quot;\\nA bunch of text.\\n&quot; + input2;\r\n\r\nString JIRA_TABLE_REGEX = &quot;\\\\|\\\\|(.|\\\\R[^\\\\|])+\\\\|\\\\|\\\\R((\\\\|(?!\\\\|))(.|\\\\R[^\\\\|])+(\\\\|(?!\\\\|)\\\\R?))+&quot;;\r\nPattern TABLE_PATTERN = Pattern.compile(JIRA_TABLE_REGEX);\r\nMatcher matcher = TABLE_PATTERN.matcher(input);\r\n\r\n// TODO - fix rows with new lines\r\nint nt = 0;\r\nwhile (matcher.find()) {\r\n  System.out.printf(&quot;Table #%d\\n&quot;, ++nt);\r\n  String jiraTable = matcher.group();\r\n  // Split the input string into rows\r\n  String[] rowArray = jiraTable.split(&quot;(\\\\|(\\\\|)?)\\\\R&quot;);\r\n  int size = 0;\r\n  List&lt;String&gt; headers = new ArrayList&lt;&gt;();\r\n  List&lt;String&gt; cells = new ArrayList&lt;&gt;();\r\n\r\n  for (String row : rowArray) {\r\n    // If the row starts with &quot;||&quot; it&#39;s a header row\r\n    if (row.startsWith(&quot;||&quot;)) {\r\n      headers.addAll(Arrays.asList(row.substring(2).split(&quot;\\\\|\\\\|&quot;)));\r\n      size = headers.size();\r\n    } else if (row.startsWith(&quot;|&quot;)) {\r\n      cells.addAll(Arrays.asList(row.substring(1).split(&quot;\\\\|&quot;)));\r\n      if (size == 0) {\r\n        size = cells.size();\r\n      }\r\n    }\r\n  }\r\n\r\n  System.out.println(&quot;Headers:&quot; + headers);\r\n  System.out.println(&quot;Cells:&quot; + cells);\r\n}\r\n``` \r\n\r\nBasically it is your original code with two small changes:\r\n\r\n- On one hand, the full table regex has been modified as follows:\r\n\r\n```java\r\nString JIRA_TABLE_REGEX = &quot;\\\\|\\\\|(.|\\\\R[^\\\\|])+\\\\|\\\\|\\\\R((\\\\|(?!\\\\|))(.|\\\\R[^\\\\|])+(\\\\|(?!\\\\|)\\\\R?))+&quot;;\r\n```\r\n\r\nNote that we use the regex term `\\R` as as simplification to match any kind of line terminator.\r\n\r\n- On the other, we split every row searching for one (row) or two (header row) `|` characters followed by any kind of line terminator:\r\n\r\n```java\r\nString[] rowArray = jiraTable.split(&quot;(\\\\|(\\\\|)?)\\\\R&quot;);\r\n```\r\n\r\nI modified the `substring`s used in the processing of every row as well to avoid losing some end characters.\r\n\r\nPlease, be aware that I only tested the two examples you provided: you may try tweaking the regex a bit more to deal with tables without headers, etc.\r\n\r\nRunning the example provides the following output:\r\n\r\n```\r\nTable #1\r\nHeaders:[Heading 1 Table 1, Heading 2 Table 1]\r\nCells:[_*BOLD AND ITALIC*_, _Italic_, Normal key, Normal Value, Third row, *just half BOLD*,  ]\r\nTable #2\r\nHeaders:[Heading 1 Table 2, Heading 2 Table 2]\r\nCells:[Col A1, Col A2, SECOND ROW, Second row too, Row with image, !image-2023-04-24-17-51-07-167.png, width=359,height=253!, Row with image and text , smol  !image-2023-05-02-12-42-16-942.png, width=347,height=231! kitten, Row with text and new lines, Text\r\n  \r\n New Line\r\n  \r\n More text\r\n Much more text]\r\n```\r\n","title":"How can I parse tables written in Jira markup if a cell has a line break?","body":"<p>Sorry, because in my original answer I didn't realize that of course you are processing a full Jira page, not only the text fragments that you exemplified.</p>\n<p>I am not sure if it will work in every case, but I tested your code and - after the regex expressions drove me crazy - I think I came up with a possible solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input1 = &quot;||Heading 1 Table 1||Heading 2 Table 1||\\n&quot; +\n    &quot;|_*BOLD AND ITALIC*_|_Italic_|\\n&quot; +\n    &quot;|Normal key|Normal Value|\\n&quot; +\n    &quot;|Third row, *just half BOLD*| |&quot;;\n\nString input2 = &quot;||Heading 1 Table 2||Heading 2 Table 2||\\n&quot; +\n    &quot;|Col A1|Col A2|\\n&quot; +\n    &quot;|SECOND ROW|Second row too|\\n&quot; +\n    &quot;|Row with image|!image-2023-04-24-17-51-07-167.png|width=359,height=253!|\\n&quot; +\n    &quot;|Row with image and text |smol  !image-2023-05-02-12-42-16-942.png|width=347,height=231! kitten|\\n&quot; +\n    &quot;|Row with text and new lines|Text\\n&quot; +\n    &quot;  \\n&quot; +\n    &quot; New Line\\n&quot; +\n    &quot;  \\n&quot; +\n    &quot; More text\\n&quot; +\n    &quot; Much more text|\\n&quot;;\n\nString input = input1 + &quot;\\nA bunch of text.\\n&quot; + input2;\n\nString JIRA_TABLE_REGEX = &quot;\\\\|\\\\|(.|\\\\R[^\\\\|])+\\\\|\\\\|\\\\R((\\\\|(?!\\\\|))(.|\\\\R[^\\\\|])+(\\\\|(?!\\\\|)\\\\R?))+&quot;;\nPattern TABLE_PATTERN = Pattern.compile(JIRA_TABLE_REGEX);\nMatcher matcher = TABLE_PATTERN.matcher(input);\n\n// TODO - fix rows with new lines\nint nt = 0;\nwhile (matcher.find()) {\n  System.out.printf(&quot;Table #%d\\n&quot;, ++nt);\n  String jiraTable = matcher.group();\n  // Split the input string into rows\n  String[] rowArray = jiraTable.split(&quot;(\\\\|(\\\\|)?)\\\\R&quot;);\n  int size = 0;\n  List&lt;String&gt; headers = new ArrayList&lt;&gt;();\n  List&lt;String&gt; cells = new ArrayList&lt;&gt;();\n\n  for (String row : rowArray) {\n    // If the row starts with &quot;||&quot; it's a header row\n    if (row.startsWith(&quot;||&quot;)) {\n      headers.addAll(Arrays.asList(row.substring(2).split(&quot;\\\\|\\\\|&quot;)));\n      size = headers.size();\n    } else if (row.startsWith(&quot;|&quot;)) {\n      cells.addAll(Arrays.asList(row.substring(1).split(&quot;\\\\|&quot;)));\n      if (size == 0) {\n        size = cells.size();\n      }\n    }\n  }\n\n  System.out.println(&quot;Headers:&quot; + headers);\n  System.out.println(&quot;Cells:&quot; + cells);\n}\n</code></pre>\n<p>Basically it is your original code with two small changes:</p>\n<ul>\n<li>On one hand, the full table regex has been modified as follows:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>String JIRA_TABLE_REGEX = &quot;\\\\|\\\\|(.|\\\\R[^\\\\|])+\\\\|\\\\|\\\\R((\\\\|(?!\\\\|))(.|\\\\R[^\\\\|])+(\\\\|(?!\\\\|)\\\\R?))+&quot;;\n</code></pre>\n<p>Note that we use the regex term <code>\\R</code> as as simplification to match any kind of line terminator.</p>\n<ul>\n<li>On the other, we split every row searching for one (row) or two (header row) <code>|</code> characters followed by any kind of line terminator:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>String[] rowArray = jiraTable.split(&quot;(\\\\|(\\\\|)?)\\\\R&quot;);\n</code></pre>\n<p>I modified the <code>substring</code>s used in the processing of every row as well to avoid losing some end characters.</p>\n<p>Please, be aware that I only tested the two examples you provided: you may try tweaking the regex a bit more to deal with tables without headers, etc.</p>\n<p>Running the example provides the following output:</p>\n<pre><code>Table #1\nHeaders:[Heading 1 Table 1, Heading 2 Table 1]\nCells:[_*BOLD AND ITALIC*_, _Italic_, Normal key, Normal Value, Third row, *just half BOLD*,  ]\nTable #2\nHeaders:[Heading 1 Table 2, Heading 2 Table 2]\nCells:[Col A1, Col A2, SECOND ROW, Second row too, Row with image, !image-2023-04-24-17-51-07-167.png, width=359,height=253!, Row with image and text , smol  !image-2023-05-02-12-42-16-942.png, width=347,height=231! kitten, Row with text and new lines, Text\n  \n New Line\n  \n More text\n Much more text]\n</code></pre>\n"}],"owner":{"account_id":5785054,"reputation":57,"user_id":4564561,"accept_rate":36,"display_name":"Ivan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76189548,"answer_count":2,"score":1,"last_activity_date":1683587145,"creation_date":1683120488,"question_id":76164429,"body_markdown":"I need to parse tables written in Jira Markup. So far I&#39;ve managed to parse tables that are simple arrangements of headers and cells (cells containing either text or images or a combination of both). \r\n\r\nI&#39;m kind of stuck when it comes to cells with line breaks. My method does the following:\r\n\r\n```java\r\n    String JIRA_TABLE_REGEX = &quot;(\\\\|\\\\|.*\\\\|\\\\|(\\\\n|\\\\r\\\\n|\\\\r))*(\\\\|.*\\\\|(\\\\n|\\\\r\\\\n|\\\\r)?)+&quot;;\r\n    Pattern TABLE_PATTERN = Pattern.compile(JIRA_TABLE_REGEX);\r\n    Matcher matcher = TABLE_PATTERN.matcher(input);\r\n\r\n        // TODO - fix rows with new lines\r\n        while (matcher.find()) {\r\n            String jiraTable = matcher.group();\r\n            // Split the input string into rows\r\n            String[] rowArray = jiraTable.split(&quot;(\\\\n|\\\\r\\\\n|\\\\r)&quot;);\r\n            int size = 0;\r\n            List&lt;String&gt; headers = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; cells = new ArrayList&lt;&gt;();\r\n\r\n            for (String row : rowArray) {\r\n                // If the row starts with &quot;||&quot; it&#39;s a header row\r\n                if (row.startsWith(&quot;||&quot;)) {\r\n                    headers.addAll(List.of(row.substring(2, row.length() - 2).split(&quot;\\\\|\\\\|&quot;)));\r\n                    size = headers.size();\r\n                } else if (row.startsWith(&quot;|&quot;)) {\r\n                    cells.addAll(List.of(row.substring(1, row.length() - 1).split(&quot;\\\\|&quot;)));\r\n                    if (size == 0) {\r\n                        size = cells.size();\r\n                    }\r\n                }\r\n            }\r\n```\r\n\r\nThe regex being:\r\n1. `\\\\|\\\\|.*\\\\|\\\\|` - table header row.\r\n2. `(\\\\n|\\\\r\\\\n|\\\\r)` - line breaks.\r\n3. `)*` - zero or more header rows.\r\n4. `\\\\|.*\\\\|` - table content row.\r\n5. `?` - zero or one line break.\r\n6. `)+` - one or more content rows.\r\n\r\n\r\nThat code works for tables such as:\r\n```\r\n||Heading 1 Table 1||Heading 2 Table 1||\r\n|_*BOLD AND ITALIC*_|_Italic_|\r\n|Normal key|Normal Value|\r\n|Third row, *just half BOLD*|&#160;|\r\n```\r\ngiving as result every cell in the table:\r\n[![enter image description here][1]][1]\r\n\r\nbut it fails miserably with:\r\n```\r\n||Heading 1 Table 2||Heading 2 Table 2||\r\n|Col A1|Col A2|\r\n|SECOND ROW|Second row too|\r\n|Row with image|!image-2023-04-24-17-51-07-167.png|width=359,height=253!|\r\n|Row with image and text&#160;|smol&#160; !image-2023-05-02-12-42-16-942.png|width=347,height=231! kitten|\r\n|Row with text and new lines|Text\r\n &#160;\r\n New Line\r\n &#160;\r\n More text\r\n Much more text|\r\n```\r\nwith the result missing the last cell:\r\n[![enter image description here][2]][2]\r\n\r\n# UPDATE 1 #\r\n\r\nI tried the suggested approach of &quot;split the input into rows with \\\\|\\n instead&quot; by changing the split regex but also the one that matches the table:\r\n```\r\n    private static final String JIRA_TABLE_REGEX_ALTERNATIVE = &quot;(\\\\|\\\\|.*\\\\|\\\\|(\\\\n))*(\\\\|.*\\\\|(\\\\n)?)+&quot;;\r\n\r\n...\r\n\r\nrowArray = jiraTable.split(&quot;\\\\|\\\\n&quot;);\r\n```\r\n\r\nIt still leaves out the last cell with all the line breaks.\r\n\r\n  [1]: https://i.stack.imgur.com/QtCHe.png\r\n  [2]: https://i.stack.imgur.com/KRuaD.png","title":"How can I parse tables written in Jira markup if a cell has a line break?","body":"<p>I need to parse tables written in Jira Markup. So far I've managed to parse tables that are simple arrangements of headers and cells (cells containing either text or images or a combination of both).</p>\n<p>I'm kind of stuck when it comes to cells with line breaks. My method does the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String JIRA_TABLE_REGEX = &quot;(\\\\|\\\\|.*\\\\|\\\\|(\\\\n|\\\\r\\\\n|\\\\r))*(\\\\|.*\\\\|(\\\\n|\\\\r\\\\n|\\\\r)?)+&quot;;\n    Pattern TABLE_PATTERN = Pattern.compile(JIRA_TABLE_REGEX);\n    Matcher matcher = TABLE_PATTERN.matcher(input);\n\n        // TODO - fix rows with new lines\n        while (matcher.find()) {\n            String jiraTable = matcher.group();\n            // Split the input string into rows\n            String[] rowArray = jiraTable.split(&quot;(\\\\n|\\\\r\\\\n|\\\\r)&quot;);\n            int size = 0;\n            List&lt;String&gt; headers = new ArrayList&lt;&gt;();\n            List&lt;String&gt; cells = new ArrayList&lt;&gt;();\n\n            for (String row : rowArray) {\n                // If the row starts with &quot;||&quot; it's a header row\n                if (row.startsWith(&quot;||&quot;)) {\n                    headers.addAll(List.of(row.substring(2, row.length() - 2).split(&quot;\\\\|\\\\|&quot;)));\n                    size = headers.size();\n                } else if (row.startsWith(&quot;|&quot;)) {\n                    cells.addAll(List.of(row.substring(1, row.length() - 1).split(&quot;\\\\|&quot;)));\n                    if (size == 0) {\n                        size = cells.size();\n                    }\n                }\n            }\n</code></pre>\n<p>The regex being:</p>\n<ol>\n<li><code>\\\\|\\\\|.*\\\\|\\\\|</code> - table header row.</li>\n<li><code>(\\\\n|\\\\r\\\\n|\\\\r)</code> - line breaks.</li>\n<li><code>)*</code> - zero or more header rows.</li>\n<li><code>\\\\|.*\\\\|</code> - table content row.</li>\n<li><code>?</code> - zero or one line break.</li>\n<li><code>)+</code> - one or more content rows.</li>\n</ol>\n<p>That code works for tables such as:</p>\n<pre><code>||Heading 1 Table 1||Heading 2 Table 1||\n|_*BOLD AND ITALIC*_|_Italic_|\n|Normal key|Normal Value|\n|Third row, *just half BOLD*| |\n</code></pre>\n<p>giving as result every cell in the table:\n<a href=\"https://i.stack.imgur.com/QtCHe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QtCHe.png\" alt=\"enter image description here\" /></a></p>\n<p>but it fails miserably with:</p>\n<pre><code>||Heading 1 Table 2||Heading 2 Table 2||\n|Col A1|Col A2|\n|SECOND ROW|Second row too|\n|Row with image|!image-2023-04-24-17-51-07-167.png|width=359,height=253!|\n|Row with image and text |smol  !image-2023-05-02-12-42-16-942.png|width=347,height=231! kitten|\n|Row with text and new lines|Text\n  \n New Line\n  \n More text\n Much more text|\n</code></pre>\n<p>with the result missing the last cell:\n<a href=\"https://i.stack.imgur.com/KRuaD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KRuaD.png\" alt=\"enter image description here\" /></a></p>\n<h1>UPDATE 1</h1>\n<p>I tried the suggested approach of &quot;split the input into rows with \\|\\n instead&quot; by changing the split regex but also the one that matches the table:</p>\n<pre><code>    private static final String JIRA_TABLE_REGEX_ALTERNATIVE = &quot;(\\\\|\\\\|.*\\\\|\\\\|(\\\\n))*(\\\\|.*\\\\|(\\\\n)?)+&quot;;\n\n...\n\nrowArray = jiraTable.split(&quot;\\\\|\\\\n&quot;);\n</code></pre>\n<p>It still leaves out the last cell with all the line breaks.</p>\n"},{"tags":["java","spring","google-cloud-platform","google-cloud-dataflow"],"answers":[{"tags":[],"owner":{"account_id":19465936,"reputation":154,"user_id":14239204,"display_name":"Kristian Martinez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683586081,"creation_date":1683586081,"answer_id":76204851,"question_id":76189791,"body_markdown":"Ok so looking deeper into the dataflow api it turns out there are a few more fields we want to include in our CreateJobFromTemplateRequest. They are: IpConfiguration, Network, SubNetwork, and ServiceAccount. Here is what the code change looks like:\r\n\r\n    CreateJobFromTemplateRequest request =\r\n                    CreateJobFromTemplateRequest.newBuilder()\r\n                            .setProjectId(projectId)\r\n                            .setJobName(dataflowTemplateJob.getJobName())\r\n                            .putAllParameters(parameterMap)\r\n                            .setEnvironment(RuntimeEnvironment.newBuilder()\r\n                                    .setIpConfiguration(WorkerIPAddressConfiguration.WORKER_IP_PRIVATE)\r\n                                    .setNetwork(network)\r\n                                    .setSubnetwork(subnetwork)\r\n                                    .setServiceAccountEmail(serviceAccountEmail)\r\n                                    .build())\r\n                            .setLocation(region)\r\n                            .setGcsPath(config.getGcsPath())\r\n                            .build();\r\nThis should get the job running and even finish the job.","title":"How to properly use TemplatesServiceClient google-cloud-dataflow","body":"<p>Ok so looking deeper into the dataflow api it turns out there are a few more fields we want to include in our CreateJobFromTemplateRequest. They are: IpConfiguration, Network, SubNetwork, and ServiceAccount. Here is what the code change looks like:</p>\n<pre><code>CreateJobFromTemplateRequest request =\n                CreateJobFromTemplateRequest.newBuilder()\n                        .setProjectId(projectId)\n                        .setJobName(dataflowTemplateJob.getJobName())\n                        .putAllParameters(parameterMap)\n                        .setEnvironment(RuntimeEnvironment.newBuilder()\n                                .setIpConfiguration(WorkerIPAddressConfiguration.WORKER_IP_PRIVATE)\n                                .setNetwork(network)\n                                .setSubnetwork(subnetwork)\n                                .setServiceAccountEmail(serviceAccountEmail)\n                                .build())\n                        .setLocation(region)\n                        .setGcsPath(config.getGcsPath())\n                        .build();\n</code></pre>\n<p>This should get the job running and even finish the job.</p>\n"}],"owner":{"account_id":19465936,"reputation":154,"user_id":14239204,"display_name":"Kristian Martinez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683586147,"creation_date":1683388124,"question_id":76189791,"body_markdown":"I&#39;m fairly new to google cloud and even more so with google cloud dataflow. I have created a java application with the sole purpose of running a dataflow job. The details are as follows:\r\n\r\nFirst I create a bean with the following properties:\r\n\r\n    @Bean(name=&quot;dataflowTemplateJobConfigMap&quot;)\r\n    public Map&lt;DataflowTemplateJob, DataflowTemplateConfig&gt; dataflowTemplateJobConfigMap(\r\n            @Value(&quot;${job.gcs.export.gcs.path}&quot;) String gcsExportGcsPath,\r\n            @Value(&quot;${job.gcs.export.bigtable.project.id}&quot;) String gcsExportBigtableProjectId,\r\n            @Value(&quot;${job.gcs.export.bigtable.instance.id}&quot;) String gcsExportBigtableInstanceId,\r\n            @Value(&quot;${job.gcs.export.bigtable.table.id}&quot;) String gcsExportBigtableTableId,\r\n            @Value(&quot;${job.gcs.export.output.directory}&quot;) String gcsExportOutputDirectory,\r\n            @Value(&quot;${job.gcs.export.filename.prefix}&quot;) String gcsExportFilenamePrefix,\r\n            @Value(&quot;${job.gcs.export.num.shards}&quot;) String gcsExportNumShards) {\r\n        Map&lt;DataflowTemplateJob, DataflowTemplateConfig&gt; configMap = new HashMap&lt;&gt;();\r\n\r\n        // gcs-export job\r\n        DataflowTemplateConfig gcsExportConfig = new DataflowTemplateConfig();\r\n        gcsExportConfig.setGcsPath(gcsExportGcsPath);\r\n        gcsExportConfig.setParameterMap(ImmutableMap.&lt;String, String&gt;builder()\r\n                .put(&quot;bigtableProjectId&quot;, gcsExportBigtableProjectId)\r\n                .put(&quot;bigtableInstanceId&quot;, gcsExportBigtableInstanceId)\r\n                .put(&quot;bigtableTableId&quot;, gcsExportBigtableTableId)\r\n                .put(&quot;outputDirectory&quot;, gcsExportOutputDirectory)\r\n                .put(&quot;filenamePrefix&quot;, gcsExportFilenamePrefix)\r\n                .put(&quot;numShards&quot;, gcsExportNumShards)\r\n                .build());\r\n        configMap.put(&quot;GCS_EXPORT&quot;, gcsExportConfig);\r\n\r\n        return configMap;\r\n    }\r\nWhat does a DataflowTemplateConfig look like you ask?\r\n\r\n    @Getter\r\n    @Setter\r\n    public class DataflowTemplateConfig {\r\n        private String gcsPath;\r\n        private Map&lt;String, String&gt; parameterMap;\r\n    }\r\nThen I just have a run method:\r\n\r\n    @Value(&quot;${google.cloud.project.id}&quot;)\r\n    private String projectId;\r\n\r\n    @Value(&quot;${google.cloud.region}&quot;)\r\n    private String region;\r\n\r\n    @Resource(name=&quot;dataflowTemplateJobConfigMap&quot;)\r\n    private Map&lt;DataflowTemplateJob, DataflowTemplateConfig&gt; dataflowTemplateConfigMap;\r\n    \r\n    public Job run(DataflowTemplateJob dataflowTemplateJob) throws IOException {\r\n        DataflowTemplateConfig config = dataflowTemplateConfigMap.get(dataflowTemplateJob);\r\n        try (TemplatesServiceClient templatesServiceClient =TemplatesServiceClient.create()) {\r\n            CreateJobFromTemplateRequest request =\r\n                    CreateJobFromTemplateRequest.newBuilder()\r\n                            .setProjectId(projectId)\r\n                            .setJobName(dataflowTemplateJob.getJobName())\r\n                            .putAllParameters(config.getParameterMap())\r\n                            .setEnvironment(RuntimeEnvironment.newBuilder().build())\r\n                            .setLocation(region)\r\n                            .setGcsPath(config.getGcsPath())\r\n                            .build();\r\n            Job response = templatesServiceClient.createJobFromTemplate(request);\r\n            jobRepository.addJob(response);\r\n            return response;\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Failed to start Dataflow job&quot;, e);\r\n        }\r\n    }\r\nWhen I run the job, via command line, typically the job successfully starts but always fails. And the first time I ran it I got the following error:\r\n\r\n    {\r\n    insertId: &quot;6e9nqud4qhu&quot;\r\n    labels: {4}\r\n    logName: &quot;projects/test/test-dataflow/logs/dataflow.googleapis.com%2Fjob-message&quot;\r\n    receiveTimestamp: &quot;2023-05-06T00:56:00.125700767Z&quot;\r\n    resource: {2}\r\n    severity: &quot;ERROR&quot;\r\n    textPayload: &quot;Error processing pipeline.&quot;\r\n    timestamp: &quot;2023-05-06T00:55:59.103993244Z&quot;\r\n    }\r\nMind you I&#39;d been trying for a while and got my service-account and workload-identity set up correctly before ever even getting the job to run at all. Anyways I&#39;m looking into the recommended documentation but has anyone used TemplatesServiceClient? If so can you link your git repo? I just want to rule out that this is a code related issue and that it is actually on the service-account/workload-identity side. If anyone can help it would be greatly appreciated! Hope this is enough information. \r\n\r\nOh and here is some documentation to TemplatesServiceClient in case you&#39;re unfamiliar/unsure: https://cloud.google.com/java/docs/reference/google-cloud-dataflow/latest/overview#templatesserviceclient\r\nThis is the specific template I&#39;m using: gs://dataflow-templates/2023-04-11-00_RC00/Cloud_Bigtable_to_GCS_Parquet","title":"How to properly use TemplatesServiceClient google-cloud-dataflow","body":"<p>I'm fairly new to google cloud and even more so with google cloud dataflow. I have created a java application with the sole purpose of running a dataflow job. The details are as follows:</p>\n<p>First I create a bean with the following properties:</p>\n<pre><code>@Bean(name=&quot;dataflowTemplateJobConfigMap&quot;)\npublic Map&lt;DataflowTemplateJob, DataflowTemplateConfig&gt; dataflowTemplateJobConfigMap(\n        @Value(&quot;${job.gcs.export.gcs.path}&quot;) String gcsExportGcsPath,\n        @Value(&quot;${job.gcs.export.bigtable.project.id}&quot;) String gcsExportBigtableProjectId,\n        @Value(&quot;${job.gcs.export.bigtable.instance.id}&quot;) String gcsExportBigtableInstanceId,\n        @Value(&quot;${job.gcs.export.bigtable.table.id}&quot;) String gcsExportBigtableTableId,\n        @Value(&quot;${job.gcs.export.output.directory}&quot;) String gcsExportOutputDirectory,\n        @Value(&quot;${job.gcs.export.filename.prefix}&quot;) String gcsExportFilenamePrefix,\n        @Value(&quot;${job.gcs.export.num.shards}&quot;) String gcsExportNumShards) {\n    Map&lt;DataflowTemplateJob, DataflowTemplateConfig&gt; configMap = new HashMap&lt;&gt;();\n\n    // gcs-export job\n    DataflowTemplateConfig gcsExportConfig = new DataflowTemplateConfig();\n    gcsExportConfig.setGcsPath(gcsExportGcsPath);\n    gcsExportConfig.setParameterMap(ImmutableMap.&lt;String, String&gt;builder()\n            .put(&quot;bigtableProjectId&quot;, gcsExportBigtableProjectId)\n            .put(&quot;bigtableInstanceId&quot;, gcsExportBigtableInstanceId)\n            .put(&quot;bigtableTableId&quot;, gcsExportBigtableTableId)\n            .put(&quot;outputDirectory&quot;, gcsExportOutputDirectory)\n            .put(&quot;filenamePrefix&quot;, gcsExportFilenamePrefix)\n            .put(&quot;numShards&quot;, gcsExportNumShards)\n            .build());\n    configMap.put(&quot;GCS_EXPORT&quot;, gcsExportConfig);\n\n    return configMap;\n}\n</code></pre>\n<p>What does a DataflowTemplateConfig look like you ask?</p>\n<pre><code>@Getter\n@Setter\npublic class DataflowTemplateConfig {\n    private String gcsPath;\n    private Map&lt;String, String&gt; parameterMap;\n}\n</code></pre>\n<p>Then I just have a run method:</p>\n<pre><code>@Value(&quot;${google.cloud.project.id}&quot;)\nprivate String projectId;\n\n@Value(&quot;${google.cloud.region}&quot;)\nprivate String region;\n\n@Resource(name=&quot;dataflowTemplateJobConfigMap&quot;)\nprivate Map&lt;DataflowTemplateJob, DataflowTemplateConfig&gt; dataflowTemplateConfigMap;\n\npublic Job run(DataflowTemplateJob dataflowTemplateJob) throws IOException {\n    DataflowTemplateConfig config = dataflowTemplateConfigMap.get(dataflowTemplateJob);\n    try (TemplatesServiceClient templatesServiceClient =TemplatesServiceClient.create()) {\n        CreateJobFromTemplateRequest request =\n                CreateJobFromTemplateRequest.newBuilder()\n                        .setProjectId(projectId)\n                        .setJobName(dataflowTemplateJob.getJobName())\n                        .putAllParameters(config.getParameterMap())\n                        .setEnvironment(RuntimeEnvironment.newBuilder().build())\n                        .setLocation(region)\n                        .setGcsPath(config.getGcsPath())\n                        .build();\n        Job response = templatesServiceClient.createJobFromTemplate(request);\n        jobRepository.addJob(response);\n        return response;\n    } catch (Exception e) {\n        throw new RuntimeException(&quot;Failed to start Dataflow job&quot;, e);\n    }\n}\n</code></pre>\n<p>When I run the job, via command line, typically the job successfully starts but always fails. And the first time I ran it I got the following error:</p>\n<pre><code>{\ninsertId: &quot;6e9nqud4qhu&quot;\nlabels: {4}\nlogName: &quot;projects/test/test-dataflow/logs/dataflow.googleapis.com%2Fjob-message&quot;\nreceiveTimestamp: &quot;2023-05-06T00:56:00.125700767Z&quot;\nresource: {2}\nseverity: &quot;ERROR&quot;\ntextPayload: &quot;Error processing pipeline.&quot;\ntimestamp: &quot;2023-05-06T00:55:59.103993244Z&quot;\n}\n</code></pre>\n<p>Mind you I'd been trying for a while and got my service-account and workload-identity set up correctly before ever even getting the job to run at all. Anyways I'm looking into the recommended documentation but has anyone used TemplatesServiceClient? If so can you link your git repo? I just want to rule out that this is a code related issue and that it is actually on the service-account/workload-identity side. If anyone can help it would be greatly appreciated! Hope this is enough information.</p>\n<p>Oh and here is some documentation to TemplatesServiceClient in case you're unfamiliar/unsure: <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-dataflow/latest/overview#templatesserviceclient\" rel=\"nofollow noreferrer\">https://cloud.google.com/java/docs/reference/google-cloud-dataflow/latest/overview#templatesserviceclient</a>\nThis is the specific template I'm using: gs://dataflow-templates/2023-04-11-00_RC00/Cloud_Bigtable_to_GCS_Parquet</p>\n"},{"tags":["java","svg","alphablending","batik"],"comments":[{"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"score":0,"creation_date":1683203635,"post_id":76172417,"comment_id":134332556,"body_markdown":"An idea is to use Batik&#39;s direct DOM implementation and apply alphaComposite between 2 exported SVG files from the original Graphics2D objects and create a new one. But there could be other ways around.","body":"An idea is to use Batik&#39;s direct DOM implementation and apply alphaComposite between 2 exported SVG files from the original Graphics2D objects and create a new one. But there could be other ways around."}],"answers":[{"tags":[],"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683585778,"creation_date":1683585778,"answer_id":76204824,"question_id":76172417,"body_markdown":"This issue has been solved using Batik&#39;s direct DOM implementation by merging exported SVGs and setting the opacity of each one to global group elements, only src_over is applicable, as other alphaComposite operators are related mostly to raster, Batik tries to emulate some of those with svg filters but results are not as expected, so as far as I can see the only useable and predictable way to overlay graphics is the src_over operator translated to svg overall group opacity or by changing rgb values on every element.\r\n\r\n    &lt;svg&gt;\r\n      &lt;g opacity=&quot;0.5&quot;&gt;\r\n\r\n      &lt;/g&gt;\r\n    &lt;/svg&gt;","title":"Java AlphaComposite Graphics2D objects without creating intermediate BufferedImages (for SVG export)","body":"<p>This issue has been solved using Batik's direct DOM implementation by merging exported SVGs and setting the opacity of each one to global group elements, only src_over is applicable, as other alphaComposite operators are related mostly to raster, Batik tries to emulate some of those with svg filters but results are not as expected, so as far as I can see the only useable and predictable way to overlay graphics is the src_over operator translated to svg overall group opacity or by changing rgb values on every element.</p>\n<pre><code>&lt;svg&gt;\n  &lt;g opacity=&quot;0.5&quot;&gt;\n\n  &lt;/g&gt;\n&lt;/svg&gt;\n</code></pre>\n"}],"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683585778,"creation_date":1683197860,"question_id":76172417,"body_markdown":"2 Graphics2D objects are being created with alphaComposite &quot;embedded&quot; in their creation process (so an additional setComposite in front seems useless) there is ability to export as SVGs in Batik SVGGenerator and JFreeSVG libraries and the vector export is perfect. I would like to create a new Graphics2D object that is a simple blend AlphaComposition of those and be able to export vectors as well. When creating bufferedimages for each by using setComposite() and drawImage() methods, the raster nature of the the final object handles this &quot;global&quot; alpha composite well and I use it as a preview. \r\n\r\noriginal Graphics2D object 1 --&gt; BufferedImage imageAexport\r\noriginal Graphics2D object 2 --&gt; BufferedImage imageBexport\r\n\r\n             BufferedImage imageSynthesisRasterExport = new BufferedImage(w,h,BufferedImage.TYPE_INT_ARGB);\r\n    \r\n    Graphics2D  g2export = imageSynthesisRasterExport.createGraphics();\r\n    \r\n    g2export.fillRect(0,0,imageSynthesisRasterExport.getWidth(),imageSynthesisRasterExport.getHeight());\r\n    g2export.setComposite(getCompositeSliderMain()); //LEVEL 1\r\n    g2export.drawImage(imageAexport, 0, 0, null);\r\n    g2export.setComposite(getCompositeSliderClone()); // LEVEL 2\r\n    g2export.drawImage(imageBexport, 0, 0, null);\r\n\r\n\r\n... \r\n(sorry for not being able to have a ready to run example, hopefully I can explain it)\r\n\r\nThis &quot;raster&quot; way, the final alpha blended image can be exported as a PNG, but in Batik, obviously SVGGenerator creates a Base64 embedded raster, not vectors (I guess because of the drawImage() method translation). Is there an other way/example/trick to avoid usage of intermediate bufferedimages and instead, use directly original Graphics2D objects in order to gain the ability to &quot;translate&quot; to vector? An object &quot;wrapping&quot; maybe? thanks\r\n\r\n","title":"Java AlphaComposite Graphics2D objects without creating intermediate BufferedImages (for SVG export)","body":"<p>2 Graphics2D objects are being created with alphaComposite &quot;embedded&quot; in their creation process (so an additional setComposite in front seems useless) there is ability to export as SVGs in Batik SVGGenerator and JFreeSVG libraries and the vector export is perfect. I would like to create a new Graphics2D object that is a simple blend AlphaComposition of those and be able to export vectors as well. When creating bufferedimages for each by using setComposite() and drawImage() methods, the raster nature of the the final object handles this &quot;global&quot; alpha composite well and I use it as a preview.</p>\n<p>original Graphics2D object 1 --&gt; BufferedImage imageAexport\noriginal Graphics2D object 2 --&gt; BufferedImage imageBexport</p>\n<pre><code>         BufferedImage imageSynthesisRasterExport = new BufferedImage(w,h,BufferedImage.TYPE_INT_ARGB);\n\nGraphics2D  g2export = imageSynthesisRasterExport.createGraphics();\n\ng2export.fillRect(0,0,imageSynthesisRasterExport.getWidth(),imageSynthesisRasterExport.getHeight());\ng2export.setComposite(getCompositeSliderMain()); //LEVEL 1\ng2export.drawImage(imageAexport, 0, 0, null);\ng2export.setComposite(getCompositeSliderClone()); // LEVEL 2\ng2export.drawImage(imageBexport, 0, 0, null);\n</code></pre>\n<p>...\n(sorry for not being able to have a ready to run example, hopefully I can explain it)</p>\n<p>This &quot;raster&quot; way, the final alpha blended image can be exported as a PNG, but in Batik, obviously SVGGenerator creates a Base64 embedded raster, not vectors (I guess because of the drawImage() method translation). Is there an other way/example/trick to avoid usage of intermediate bufferedimages and instead, use directly original Graphics2D objects in order to gain the ability to &quot;translate&quot; to vector? An object &quot;wrapping&quot; maybe? thanks</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1683580481,"post_id":76204388,"comment_id":134385770,"body_markdown":"[Please do not upload images of code.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code.</a>"},{"owner":{"account_id":1976379,"reputation":608,"user_id":1774084,"display_name":"M. Yousfi"},"score":2,"creation_date":1683580509,"post_id":76204388,"comment_id":134385778,"body_markdown":"Welcome to StackOverflow. Please do not share core as images but rather copy/paste the code.","body":"Welcome to StackOverflow. Please do not share core as images but rather copy/paste the code."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1683581143,"post_id":76204388,"comment_id":134385878,"body_markdown":"Look at your `while` loop. Notice you check against some user input? Great! Now, look at where you read more user input. That does not appear to be in the `while` loop. Have you tested your own program locally?","body":"Look at your <code>while</code> loop. Notice you check against some user input? Great! Now, look at where you read more user input. That does not appear to be in the <code>while</code> loop. Have you tested your own program locally?"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":1,"creation_date":1683581166,"post_id":76204388,"comment_id":134385880,"body_markdown":"I tried your code, and it does indeed never end. Have you tried it yourself? Your while-loop does not try to read more input from the user, it loops forever on the first input the user puts in.","body":"I tried your code, and it does indeed never end. Have you tried it yourself? Your while-loop does not try to read more input from the user, it loops forever on the first input the user puts in."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1683581199,"post_id":76204388,"comment_id":134385887,"body_markdown":"If you are not familiar with debugging, or not familiar with using a debugger, this is a good program to practice with.  Using the debugger, answer this: What happens if, for example, the user types &quot;foo&quot; as the input?","body":"If you are not familiar with debugging, or not familiar with using a debugger, this is a good program to practice with.  Using the debugger, answer this: What happens if, for example, the user types &quot;foo&quot; as the input?"},{"owner":{"account_id":28468288,"reputation":1,"user_id":21784013,"display_name":"Aaron Zehnpfennig"},"score":0,"creation_date":1683581464,"post_id":76204388,"comment_id":134385944,"body_markdown":"I dont know what testing it locally means haha","body":"I dont know what testing it locally means haha"}],"answers":[{"tags":[],"owner":{"account_id":18468998,"reputation":1,"user_id":13454411,"display_name":"Otto Zell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683581136,"creation_date":1683581136,"answer_id":76204460,"question_id":76204388,"body_markdown":"I would recommend you read up some on the scanner class in Java.\r\nhttps://www.w3schools.com/java/java_user_input.\r\n\r\nSome things thing to take into consideration.\r\n\r\nFirst you probably want that nextLine in the loop :). Currently your not grabbing new user input. Start there\r\n\r\nYou need to call nextLine each time you have a new string that you have typed into the terminal and want to enter. This could be done by checking in a while loop if the user presses the enter key. \r\n\r\nGood luck.","title":"Loop error too much output unterminated loop","body":"<p>I would recommend you read up some on the scanner class in Java.\n<a href=\"https://www.w3schools.com/java/java_user_input\" rel=\"nofollow noreferrer\">https://www.w3schools.com/java/java_user_input</a>.</p>\n<p>Some things thing to take into consideration.</p>\n<p>First you probably want that nextLine in the loop :). Currently your not grabbing new user input. Start there</p>\n<p>You need to call nextLine each time you have a new string that you have typed into the terminal and want to enter. This could be done by checking in a while loop if the user presses the enter key.</p>\n<p>Good luck.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683583459,"creation_date":1683583459,"answer_id":76204657,"question_id":76204388,"body_markdown":"The *short* answer is you&#39;re aren&#39;t reading more `userInput` after the first time you read `userInput`. You need to do that or your program will indeed loop forever.\r\n\r\n\tuserInput = scnr.nextLine();\r\n\r\n\twhile ((!userInput.equals(&quot;Done&quot;))\r\n\t\t\t\t&amp;&amp; (!userInput.equals(&quot;done&quot;))\r\n\t\t\t\t&amp;&amp; (!userInput.equals(&quot;d&quot;))) {\r\n\t\tnumCharacter = userInput.length();\r\n\t\tfor (i = numCharacter; i &gt; 0; --i) {\r\n\t\t\tSystem.out.print(userInput.charAt(i - 1));\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t\t// You forgot\r\n\t\tuserInput = scnr.nextLine(); // &lt;-- read userInput\r\n\t}\r\n\r\nHowever, I would *simplify* the code. Start by writing a method to test if a `String` matches the definition for done. Like,\r\n\r\n\tprivate static boolean isDone(String s) {\r\n\t\treturn &quot;Done&quot;.equals(s) || &quot;done&quot;.equals(s) || &quot;d&quot;.equals(s);\r\n\t}\r\n\r\nNext, Java provides `StringBuilder` for creating *mutable* sequences of characters (**and** it has a `reverse()` method). So, `main` could be as simple as\r\n\r\n\tScanner scnr = new Scanner(System.in);\r\n\tString userInput = scnr.nextLine();\r\n\r\n\twhile (!isDone(userInput)) {\r\n\t\tStringBuilder sb = new StringBuilder(userInput).reverse();\r\n\t\tSystem.out.println(sb);\r\n\t\tuserInput = scnr.nextLine(); // Still need this\r\n\t}\r\n\r\nFinally, we can use side-effect(s) of assignment to simplify to the form you perhaps thought you had\r\n\r\n\tScanner scnr = new Scanner(System.in);\r\n\tString userInput;\r\n\twhile (!isDone(userInput = scnr.nextLine())) {\r\n\t\tStringBuilder sb = new StringBuilder(userInput).reverse();\r\n\t\tSystem.out.println(sb);\r\n\t}\r\n\r\nAnd now we don&#39;t need to duplicate `userInput = scnr.nextLine()`","title":"Loop error too much output unterminated loop","body":"<p>The <em>short</em> answer is you're aren't reading more <code>userInput</code> after the first time you read <code>userInput</code>. You need to do that or your program will indeed loop forever.</p>\n<pre><code>userInput = scnr.nextLine();\n\nwhile ((!userInput.equals(&quot;Done&quot;))\n            &amp;&amp; (!userInput.equals(&quot;done&quot;))\n            &amp;&amp; (!userInput.equals(&quot;d&quot;))) {\n    numCharacter = userInput.length();\n    for (i = numCharacter; i &gt; 0; --i) {\n        System.out.print(userInput.charAt(i - 1));\n    }\n    System.out.println();\n    // You forgot\n    userInput = scnr.nextLine(); // &lt;-- read userInput\n}\n</code></pre>\n<p>However, I would <em>simplify</em> the code. Start by writing a method to test if a <code>String</code> matches the definition for done. Like,</p>\n<pre><code>private static boolean isDone(String s) {\n    return &quot;Done&quot;.equals(s) || &quot;done&quot;.equals(s) || &quot;d&quot;.equals(s);\n}\n</code></pre>\n<p>Next, Java provides <code>StringBuilder</code> for creating <em>mutable</em> sequences of characters (<strong>and</strong> it has a <code>reverse()</code> method). So, <code>main</code> could be as simple as</p>\n<pre><code>Scanner scnr = new Scanner(System.in);\nString userInput = scnr.nextLine();\n\nwhile (!isDone(userInput)) {\n    StringBuilder sb = new StringBuilder(userInput).reverse();\n    System.out.println(sb);\n    userInput = scnr.nextLine(); // Still need this\n}\n</code></pre>\n<p>Finally, we can use side-effect(s) of assignment to simplify to the form you perhaps thought you had</p>\n<pre><code>Scanner scnr = new Scanner(System.in);\nString userInput;\nwhile (!isDone(userInput = scnr.nextLine())) {\n    StringBuilder sb = new StringBuilder(userInput).reverse();\n    System.out.println(sb);\n}\n</code></pre>\n<p>And now we don't need to duplicate <code>userInput = scnr.nextLine()</code></p>\n"}],"owner":{"account_id":28468288,"reputation":1,"user_id":21784013,"display_name":"Aaron Zehnpfennig"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1683585555,"creation_date":1683580326,"question_id":76204388,"body_markdown":"I need to write a Java program that takes in a line of text as input, and outputs that line of text in reverse. The program repeats, ending when the user enters &quot;Done&quot;, &quot;done&quot;, or &quot;d&quot; for the line of text.\r\n\r\nFor example, if the input is:\r\n```\r\nHello there\r\nHey\r\ndone\r\n```\r\nThe output should be:\r\n```\r\nereht olleH\r\nyeH\r\nenod\r\n```\r\nHere is my current code:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram \r\n{\r\n    public static void main(String[] args) {\r\n        Scanner scnr = new Scanner(System.in);\r\n        String userInput;\r\n        int numCharacter;  \r\n        int i;\r\n  \r\n        userInput = scnr.nextLine();\r\n  \r\n  \r\n        while((!userInput.equals(&quot;Done&quot;)) &amp;&amp; \r\n        (!userInput.equals(&quot;done&quot;)) &amp;&amp; (!userInput.equals(&quot;d&quot;))) \r\n        {\r\n            numCharacter=userInput.length();\r\n            for (i=numCharacter; i&gt;0; --i) \r\n            {\r\n                System.out.print(userInput.charAt(i-1));\r\n            }\r\n        }\r\n  \r\n        System.out.println();\r\n    userInput = scnr.nextLine();      \r\n    }\r\n}\r\n```\r\n\r\nI am getting this error:\r\n```\r\nProgram generated too much output.\r\nOutput restricted to 50000 characters.\r\n\r\nCheck program for any unterminated loops generating output.\r\n```","title":"Loop error too much output unterminated loop","body":"<p>I need to write a Java program that takes in a line of text as input, and outputs that line of text in reverse. The program repeats, ending when the user enters &quot;Done&quot;, &quot;done&quot;, or &quot;d&quot; for the line of text.</p>\n<p>For example, if the input is:</p>\n<pre><code>Hello there\nHey\ndone\n</code></pre>\n<p>The output should be:</p>\n<pre><code>ereht olleH\nyeH\nenod\n</code></pre>\n<p>Here is my current code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class LabProgram \n{\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        String userInput;\n        int numCharacter;  \n        int i;\n  \n        userInput = scnr.nextLine();\n  \n  \n        while((!userInput.equals(&quot;Done&quot;)) &amp;&amp; \n        (!userInput.equals(&quot;done&quot;)) &amp;&amp; (!userInput.equals(&quot;d&quot;))) \n        {\n            numCharacter=userInput.length();\n            for (i=numCharacter; i&gt;0; --i) \n            {\n                System.out.print(userInput.charAt(i-1));\n            }\n        }\n  \n        System.out.println();\n    userInput = scnr.nextLine();      \n    }\n}\n</code></pre>\n<p>I am getting this error:</p>\n<pre><code>Program generated too much output.\nOutput restricted to 50000 characters.\n\nCheck program for any unterminated loops generating output.\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot"],"owner":{"account_id":22565756,"reputation":185,"user_id":16752809,"display_name":"gs97ahn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1683585427,"creation_date":1677056550,"question_id":75530307,"body_markdown":"I&#39;m currently on a Spring Boot + MongoDB project.\r\n\r\nThere is a DDL-AUTO function for sql if I implement this in `application.properties`.\r\n\r\n```\r\nspring.jpa.hibernate.ddl-auto: create\r\n```\r\n\r\n**I want to know a way to reset my mongodb database everytime I initailize Spring Boot.**\r\n\r\n\r\nI&#39;ve found out that some people say it is possible using HibernateOGM.\r\nBut I&#39;m wondering if I cannot do the exact same tesk without it (since HibernateOGM is deprecated).\r\n\r\nThis is my `build.gradle`.\r\n```\r\ndependencies {\r\n\t...\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb&#39;\r\n    ...\r\n}\r\n```\r\n\r\nThis is my `application.properties`.\r\n```\r\nspring.data.mongodb.authentication-database=admin\r\nspring.data.mongodb.username=${DB_USERNAME}\r\nspring.data.mongodb.password=${DB_PASSWORD}\r\nspring.data.mongodb.database=${DB_NAME}\r\nspring.data.mongodb.port=${DB_PORT}\r\nspring.data.mongodb.host=${DB_HOST}\r\nspring.data.mongodb.auto-index-creation=true\r\n```","title":"Is there a way to auto create and drop mongodb everytime spring boot is run?","body":"<p>I'm currently on a Spring Boot + MongoDB project.</p>\n<p>There is a DDL-AUTO function for sql if I implement this in <code>application.properties</code>.</p>\n<pre><code>spring.jpa.hibernate.ddl-auto: create\n</code></pre>\n<p><strong>I want to know a way to reset my mongodb database everytime I initailize Spring Boot.</strong></p>\n<p>I've found out that some people say it is possible using HibernateOGM.\nBut I'm wondering if I cannot do the exact same tesk without it (since HibernateOGM is deprecated).</p>\n<p>This is my <code>build.gradle</code>.</p>\n<pre><code>dependencies {\n    ...\n    implementation 'org.springframework.boot:spring-boot-starter-data-mongodb'\n    ...\n}\n</code></pre>\n<p>This is my <code>application.properties</code>.</p>\n<pre><code>spring.data.mongodb.authentication-database=admin\nspring.data.mongodb.username=${DB_USERNAME}\nspring.data.mongodb.password=${DB_PASSWORD}\nspring.data.mongodb.database=${DB_NAME}\nspring.data.mongodb.port=${DB_PORT}\nspring.data.mongodb.host=${DB_HOST}\nspring.data.mongodb.auto-index-creation=true\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1683582605,"post_id":76204551,"comment_id":134386109,"body_markdown":"You&#39;ve pasted the irrelevant stack trace; that merely explains: The server returned 500. That&#39;s it. You want the stack trace _of the server_ which surely didn&#39;t just serve up a 500 out of the blue; there is a stack trace that explains what went wrong. Without it, it could be a million things, so there&#39;s no sensible way to try to answer this.","body":"You&#39;ve pasted the irrelevant stack trace; that merely explains: The server returned 500. That&#39;s it. You want the stack trace <i>of the server</i> which surely didn&#39;t just serve up a 500 out of the blue; there is a stack trace that explains what went wrong. Without it, it could be a million things, so there&#39;s no sensible way to try to answer this."}],"answers":[{"tags":[],"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683582608,"creation_date":1683582608,"answer_id":76204588,"question_id":76204551,"body_markdown":"In the error stacktrace you have the following message\r\n\r\n        Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;USERS&quot; not found (this database is empty); SQL statement:\r\n    insert into users (id, age, name) values (default, ?, ?)\r\n\r\nSounds like you were able to connect to the database, but you haven&#39;t created the table `users`. If you have some init script or config to generate the schema, it&#39;s not well setup in that test\r\n\r\n","title":"Error testing insert functionality in test class","body":"<p>In the error stacktrace you have the following message</p>\n<pre><code>    Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;USERS&quot; not found (this database is empty); SQL statement:\ninsert into users (id, age, name) values (default, ?, ?)\n</code></pre>\n<p>Sounds like you were able to connect to the database, but you haven't created the table <code>users</code>. If you have some init script or config to generate the schema, it's not well setup in that test</p>\n"}],"owner":{"account_id":27289557,"reputation":13,"user_id":21708490,"display_name":"fmxdev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76204588,"answer_count":1,"score":1,"last_activity_date":1683582608,"creation_date":1683582168,"question_id":76204551,"body_markdown":"I created a project using quarkus framework from an api-rest. I started creating test classes for the project. The database for the tests is the H2 database. The first class to be tested is the &quot;user&quot; entity controller class (UserResourceTest.java); in the method to test the functionality of inserting a &quot;user&quot; record I am getting an HttpStatus 500 error. Here is information from the log with the error:\r\n````\r\n2023-05-07 20:49:12,808 INFO  [io.quarkus] (main) Installed features: [agroal, cdi, hibernate-orm, hibernate-orm-panache, hibernate-validator, jdbc-h2, jdbc-postgresql, narayana-jta, resteasy, resteasy-jsonb, smallrye-context-propagation, vertx]\r\nHibernate: \r\n    insert \r\n    into\r\n        users\r\n        (id, age, name) \r\n    values\r\n        (default, ?, ?)\r\n2023-05-07 20:50:32,376 WARN  [org.hib.eng.jdb.spi.SqlExceptionHelper] (executor-thread-0) SQL Error: 42104, SQLState: 42S04\r\n2023-05-07 20:50:32,377 ERROR [org.hib.eng.jdb.spi.SqlExceptionHelper] (executor-thread-0) Table &quot;USERS&quot; not found (this database is empty); SQL statement:\r\ninsert into users (id, age, name) values (default, ?, ?) [42104-214]\r\n2023-05-07 20:50:32,407 ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-0) HTTP Request to /users failed, error id: 423df137-a754-4500-be57-0012d85d487c-1: org.jboss.resteasy.spi.UnhandledException: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n````\r\nBelow is the configuration of the application.properties and the classes to be analyzed.\r\n\r\napplication.properties\r\n````\r\n#GLOBAL\r\nquarkus.datasource.db-kind=postgresql\r\nquarkus.datasource.username=postgres\r\nquarkus.datasource.password=root123\r\n\r\nquarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/quarkus-social-db\r\nquarkus.datasource.jdbc.max-size=16\r\n\r\n#TEST\r\n%test.quarkus.datasource.db-kind=h2\r\n%test.quarkus.datasource.username=sa\r\n%test.quarkus.datasource.password=\r\n\r\n%test.quarkus.datasource.jdbc.url=jdbc:h2:mem:quarkus-social-test-db\r\n%test.quarkus.datasource.jdbc.max-size=16\r\n%test.quarkus.hibernate-orm.database.generated=drop-and-base\r\n%test.quarkus.hibernate-orm.log.sql=true\r\n````\r\nUser.java class\r\n````\r\npackage io.github.dougllasfps.model;\r\n\r\nimport lombok.Data;\r\n\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\n@Data\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;age&quot;)\r\n    private Integer age;\r\n\r\n}\r\n````\r\nUserResource.java class\r\n````\r\npackage io.github.dougllasfps.controllers;\r\n\r\nimport io.github.dougllasfps.dtos.CreateUserRequest;\r\nimport io.github.dougllasfps.dtos.ResponseError;\r\nimport io.github.dougllasfps.model.User;\r\nimport io.github.dougllasfps.repository.UserRepository;\r\nimport io.quarkus.hibernate.orm.panache.PanacheQuery;\r\n\r\nimport javax.inject.Inject;\r\nimport javax.transaction.Transactional;\r\nimport javax.validation.ConstraintViolation;\r\nimport javax.validation.Validator;\r\nimport javax.ws.rs.*;\r\nimport javax.ws.rs.core.MediaType;\r\nimport javax.ws.rs.core.Response;\r\nimport java.util.Set;\r\n\r\n@Path(&quot;/users&quot;)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic class UserResource {\r\n\r\n    private UserRepository userRepository;\r\n    private Validator validator;\r\n\r\n    @Inject\r\n    public UserResource(UserRepository userRepository, Validator validator) {\r\n\r\n        this.userRepository = userRepository;\r\n        this.validator = validator;\r\n    }\r\n\r\n    @POST\r\n    @Transactional\r\n    public Response createUser(CreateUserRequest userRequest) {\r\n\r\n        Set&lt;ConstraintViolation&lt;CreateUserRequest&gt;&gt; violentions = validator.validate(userRequest);\r\n\r\n        if(!violentions.isEmpty()) {\r\n            return ResponseError.createFromValidation(violentions)\r\n                                .withStatusCode(ResponseError.UNPROCESSABLE_ENTITY_STATUS);\r\n        }\r\n\r\n        User user = new User();\r\n        user.setName(userRequest.getName());\r\n        user.setAge(userRequest.getAge());\r\n\r\n        userRepository.persist(user);\r\n\r\n        return Response.status(Response.Status.CREATED.getStatusCode()).entity(user).build();\r\n    }\r\n}\r\n````\r\nCreateUserRequest.java class\r\n````\r\npackage io.github.dougllasfps.dtos;\r\n\r\nimport lombok.Data;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.NotNull;\r\n\r\n@Data\r\npublic class CreateUserRequest {\r\n    @NotBlank(message = &quot;Name is required!&quot;)\r\n    private String name;\r\n    @NotNull(message = &quot;Age is required!&quot;)\r\n    private Integer age;\r\n}\r\n````\r\nUserResourceTest.java class\r\n````\r\npackage io.github.dougllasfps.controllers;\r\n\r\nimport groovy.json.JsonBuilder;\r\nimport io.github.dougllasfps.dtos.CreateUserRequest;\r\nimport io.github.dougllasfps.model.User;\r\nimport io.quarkus.test.common.QuarkusTestResource;\r\nimport io.quarkus.test.junit.QuarkusTest;\r\nimport io.restassured.http.ContentType;\r\nimport org.junit.jupiter.api.DisplayName;\r\nimport org.junit.jupiter.api.MethodOrderer;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.TestMethodOrder;\r\n\r\nimport javax.json.bind.JsonbBuilder;\r\n\r\nimport static io.restassured.RestAssured.given;\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\n@QuarkusTest\r\nclass UserResourceTest {\r\n\r\n    @Test\r\n    @DisplayName(&quot;Should create user successfully&quot;)\r\n    public void createUserTest() {\r\n        var userRequest = new CreateUserRequest();\r\n        userRequest.setName(&quot;Fulano&quot;);\r\n        userRequest.setAge(20);\r\n\r\n        var response =\r\n            given()\r\n                .contentType(ContentType.JSON)\r\n                .body(userRequest)\r\n            .when()\r\n                .post(&quot;/users&quot;)\r\n            .then()\r\n                .extract()\r\n                .response();\r\n\r\n        assertEquals(201, response.statusCode());\r\n        assertNotNull(response.jsonPath().getString(&quot;id&quot;));\r\n    }\r\n}   \r\n````\r\nBelow is the stack trace of the error:\r\n````\r\norg.opentest4j.AssertionFailedError: \r\nExpected :201\r\nActual   :500\r\n&lt;Click to see difference&gt;\r\n\r\n\r\n    at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\r\n    at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\r\n    at org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)\r\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:150)\r\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:145)\r\n    at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:528)\r\n    at io.github.dougllasfps.controllers.UserResourceTest.createUserTest(UserResourceTest.java:39)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    at io.quarkus.test.junit.QuarkusTestExtension.runExtensionMethod(QuarkusTestExtension.java:1002)\r\n    at io.quarkus.test.junit.QuarkusTestExtension.interceptTestMethod(QuarkusTestExtension.java:816)\r\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    Suppressed: org.jboss.resteasy.spi.UnhandledException: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n        at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:105)\r\n        at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:359)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:218)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:519)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\r\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\r\n        at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:82)\r\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:147)\r\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler$1.run(VertxRequestHandler.java:93)\r\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\r\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:762)\r\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742)\r\n        at io.quarkus.hibernate.orm.runtime.session.TransactionScopedSession.persist(TransactionScopedSession.java:144)\r\n        at org.hibernate.engine.spi.SessionLazyDelegator.persist(SessionLazyDelegator.java:241)\r\n        at org.hibernate.Session_5b93bee577ae2f8d76647de04cfab36afbf52958_Synthetic_ClientProxy.persist(Unknown Source)\r\n        at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.persist(AbstractJpaOperations.java:101)\r\n        at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.persist(AbstractJpaOperations.java:96)\r\n        at io.quarkus.hibernate.orm.panache.PanacheRepositoryBase.persist(PanacheRepositoryBase.java:54)\r\n        at io.github.dougllasfps.repository.UserRepository_ClientProxy.persist(Unknown Source)\r\n        at io.github.dougllasfps.controllers.UserResource.createUser(UserResource.java:48)\r\n        at io.github.dougllasfps.controllers.UserResource_Subclass.createUser$$superforward1(Unknown Source)\r\n        at io.github.dougllasfps.controllers.UserResource_Subclass$$function$$1.apply(Unknown Source)\r\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:133)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:104)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:38)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:58)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:32)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean.intercept(Unknown Source)\r\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\r\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\r\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:33)\r\n        at io.github.dougllasfps.controllers.UserResource_Subclass.createUser(Unknown Source)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\r\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\r\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\r\n        ... 15 more\r\n    Caused by: org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n        at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\r\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareStatement(StatementPreparerImpl.java:111)\r\n        at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.prepare(GetGeneratedKeysDelegate.java:52)\r\n        at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:40)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3914)\r\n        at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\r\n        at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\r\n        at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\r\n        at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\r\n        at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:329)\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286)\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192)\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122)\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)\r\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756)\r\n        ... 52 more\r\n    Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;USERS&quot; not found (this database is empty); SQL statement:\r\ninsert into users (id, age, name) values (default, ?, ?) [42104-214]\r\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\r\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\r\n        at org.h2.message.DbException.get(DbException.java:223)\r\n        at org.h2.message.DbException.get(DbException.java:199)\r\n        at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8385)\r\n        at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8369)\r\n        at org.h2.command.Parser.readTableOrView(Parser.java:8358)\r\n        at org.h2.command.Parser.readTableOrView(Parser.java:8328)\r\n        at org.h2.command.Parser.parseInsert(Parser.java:1632)\r\n        at org.h2.command.Parser.parsePrepared(Parser.java:814)\r\n        at org.h2.command.Parser.parse(Parser.java:689)\r\n        at org.h2.command.Parser.parse(Parser.java:661)\r\n        at org.h2.command.Parser.prepareCommand(Parser.java:569)\r\n        at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)\r\n        at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)\r\n        at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)\r\n        at org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:92)\r\n        at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1044)\r\n        at io.agroal.pool.wrapper.ConnectionWrapper.prepareStatement(ConnectionWrapper.java:694)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$2.doPrepare(StatementPreparerImpl.java:109)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\r\n        ... 71 more\r\n\r\n2023-05-07 20:52:46,894 INFO  [io.quarkus] (main) quarkus-social stopped in 0.061s\r\nDisconnected from the target VM, address: &#39;127.0.0.1:58403&#39;, transport: &#39;socket&#39;\r\n\r\nProcess finished with exit code -1\r\n````\r\n\r\n\r\nI created a method in the test class to insert a record into the user entity and I expected an HttpStatus 201 and got an HttpStatus 500\r\n\r\nWhat would be the reason for this error to occur?","title":"Error testing insert functionality in test class","body":"<p>I created a project using quarkus framework from an api-rest. I started creating test classes for the project. The database for the tests is the H2 database. The first class to be tested is the &quot;user&quot; entity controller class (UserResourceTest.java); in the method to test the functionality of inserting a &quot;user&quot; record I am getting an HttpStatus 500 error. Here is information from the log with the error:</p>\n<pre><code>2023-05-07 20:49:12,808 INFO  [io.quarkus] (main) Installed features: [agroal, cdi, hibernate-orm, hibernate-orm-panache, hibernate-validator, jdbc-h2, jdbc-postgresql, narayana-jta, resteasy, resteasy-jsonb, smallrye-context-propagation, vertx]\nHibernate: \n    insert \n    into\n        users\n        (id, age, name) \n    values\n        (default, ?, ?)\n2023-05-07 20:50:32,376 WARN  [org.hib.eng.jdb.spi.SqlExceptionHelper] (executor-thread-0) SQL Error: 42104, SQLState: 42S04\n2023-05-07 20:50:32,377 ERROR [org.hib.eng.jdb.spi.SqlExceptionHelper] (executor-thread-0) Table &quot;USERS&quot; not found (this database is empty); SQL statement:\ninsert into users (id, age, name) values (default, ?, ?) [42104-214]\n2023-05-07 20:50:32,407 ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-0) HTTP Request to /users failed, error id: 423df137-a754-4500-be57-0012d85d487c-1: org.jboss.resteasy.spi.UnhandledException: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not prepare statement\n</code></pre>\n<p>Below is the configuration of the application.properties and the classes to be analyzed.</p>\n<p>application.properties</p>\n<pre><code>#GLOBAL\nquarkus.datasource.db-kind=postgresql\nquarkus.datasource.username=postgres\nquarkus.datasource.password=root123\n\nquarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/quarkus-social-db\nquarkus.datasource.jdbc.max-size=16\n\n#TEST\n%test.quarkus.datasource.db-kind=h2\n%test.quarkus.datasource.username=sa\n%test.quarkus.datasource.password=\n\n%test.quarkus.datasource.jdbc.url=jdbc:h2:mem:quarkus-social-test-db\n%test.quarkus.datasource.jdbc.max-size=16\n%test.quarkus.hibernate-orm.database.generated=drop-and-base\n%test.quarkus.hibernate-orm.log.sql=true\n</code></pre>\n<p>User.java class</p>\n<pre><code>package io.github.dougllasfps.model;\n\nimport lombok.Data;\n\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;users&quot;)\n@Data\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;age&quot;)\n    private Integer age;\n\n}\n</code></pre>\n<p>UserResource.java class</p>\n<pre><code>package io.github.dougllasfps.controllers;\n\nimport io.github.dougllasfps.dtos.CreateUserRequest;\nimport io.github.dougllasfps.dtos.ResponseError;\nimport io.github.dougllasfps.model.User;\nimport io.github.dougllasfps.repository.UserRepository;\nimport io.quarkus.hibernate.orm.panache.PanacheQuery;\n\nimport javax.inject.Inject;\nimport javax.transaction.Transactional;\nimport javax.validation.ConstraintViolation;\nimport javax.validation.Validator;\nimport javax.ws.rs.*;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\nimport java.util.Set;\n\n@Path(&quot;/users&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic class UserResource {\n\n    private UserRepository userRepository;\n    private Validator validator;\n\n    @Inject\n    public UserResource(UserRepository userRepository, Validator validator) {\n\n        this.userRepository = userRepository;\n        this.validator = validator;\n    }\n\n    @POST\n    @Transactional\n    public Response createUser(CreateUserRequest userRequest) {\n\n        Set&lt;ConstraintViolation&lt;CreateUserRequest&gt;&gt; violentions = validator.validate(userRequest);\n\n        if(!violentions.isEmpty()) {\n            return ResponseError.createFromValidation(violentions)\n                                .withStatusCode(ResponseError.UNPROCESSABLE_ENTITY_STATUS);\n        }\n\n        User user = new User();\n        user.setName(userRequest.getName());\n        user.setAge(userRequest.getAge());\n\n        userRepository.persist(user);\n\n        return Response.status(Response.Status.CREATED.getStatusCode()).entity(user).build();\n    }\n}\n</code></pre>\n<p>CreateUserRequest.java class</p>\n<pre><code>package io.github.dougllasfps.dtos;\n\nimport lombok.Data;\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotNull;\n\n@Data\npublic class CreateUserRequest {\n    @NotBlank(message = &quot;Name is required!&quot;)\n    private String name;\n    @NotNull(message = &quot;Age is required!&quot;)\n    private Integer age;\n}\n</code></pre>\n<p>UserResourceTest.java class</p>\n<pre><code>package io.github.dougllasfps.controllers;\n\nimport groovy.json.JsonBuilder;\nimport io.github.dougllasfps.dtos.CreateUserRequest;\nimport io.github.dougllasfps.model.User;\nimport io.quarkus.test.common.QuarkusTestResource;\nimport io.quarkus.test.junit.QuarkusTest;\nimport io.restassured.http.ContentType;\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.MethodOrderer;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.TestMethodOrder;\n\nimport javax.json.bind.JsonbBuilder;\n\nimport static io.restassured.RestAssured.given;\nimport static org.junit.jupiter.api.Assertions.*;\n\n@QuarkusTest\nclass UserResourceTest {\n\n    @Test\n    @DisplayName(&quot;Should create user successfully&quot;)\n    public void createUserTest() {\n        var userRequest = new CreateUserRequest();\n        userRequest.setName(&quot;Fulano&quot;);\n        userRequest.setAge(20);\n\n        var response =\n            given()\n                .contentType(ContentType.JSON)\n                .body(userRequest)\n            .when()\n                .post(&quot;/users&quot;)\n            .then()\n                .extract()\n                .response();\n\n        assertEquals(201, response.statusCode());\n        assertNotNull(response.jsonPath().getString(&quot;id&quot;));\n    }\n}   \n</code></pre>\n<p>Below is the stack trace of the error:</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :201\nActual   :500\n&lt;Click to see difference&gt;\n\n\n    at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\n    at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\n    at org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:150)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:145)\n    at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:528)\n    at io.github.dougllasfps.controllers.UserResourceTest.createUserTest(UserResourceTest.java:39)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at io.quarkus.test.junit.QuarkusTestExtension.runExtensionMethod(QuarkusTestExtension.java:1002)\n    at io.quarkus.test.junit.QuarkusTestExtension.interceptTestMethod(QuarkusTestExtension.java:816)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n    Suppressed: org.jboss.resteasy.spi.UnhandledException: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not prepare statement\n        at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:105)\n        at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:359)\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:218)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:519)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n        at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\n        at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:82)\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:147)\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler$1.run(VertxRequestHandler.java:93)\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n    Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not prepare statement\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:762)\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742)\n        at io.quarkus.hibernate.orm.runtime.session.TransactionScopedSession.persist(TransactionScopedSession.java:144)\n        at org.hibernate.engine.spi.SessionLazyDelegator.persist(SessionLazyDelegator.java:241)\n        at org.hibernate.Session_5b93bee577ae2f8d76647de04cfab36afbf52958_Synthetic_ClientProxy.persist(Unknown Source)\n        at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.persist(AbstractJpaOperations.java:101)\n        at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.persist(AbstractJpaOperations.java:96)\n        at io.quarkus.hibernate.orm.panache.PanacheRepositoryBase.persist(PanacheRepositoryBase.java:54)\n        at io.github.dougllasfps.repository.UserRepository_ClientProxy.persist(Unknown Source)\n        at io.github.dougllasfps.controllers.UserResource.createUser(UserResource.java:48)\n        at io.github.dougllasfps.controllers.UserResource_Subclass.createUser$$superforward1(Unknown Source)\n        at io.github.dougllasfps.controllers.UserResource_Subclass$$function$$1.apply(Unknown Source)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:133)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:104)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:38)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:58)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:32)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean.intercept(Unknown Source)\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:33)\n        at io.github.dougllasfps.controllers.UserResource_Subclass.createUser(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\n        ... 15 more\n    Caused by: org.hibernate.exception.SQLGrammarException: could not prepare statement\n        at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareStatement(StatementPreparerImpl.java:111)\n        at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.prepare(GetGeneratedKeysDelegate.java:52)\n        at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:40)\n        at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\n        at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3914)\n        at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\n        at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\n        at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\n        at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\n        at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\n        at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:329)\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286)\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192)\n        at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122)\n        at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756)\n        ... 52 more\n    Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;USERS&quot; not found (this database is empty); SQL statement:\ninsert into users (id, age, name) values (default, ?, ?) [42104-214]\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\n        at org.h2.message.DbException.get(DbException.java:223)\n        at org.h2.message.DbException.get(DbException.java:199)\n        at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8385)\n        at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8369)\n        at org.h2.command.Parser.readTableOrView(Parser.java:8358)\n        at org.h2.command.Parser.readTableOrView(Parser.java:8328)\n        at org.h2.command.Parser.parseInsert(Parser.java:1632)\n        at org.h2.command.Parser.parsePrepared(Parser.java:814)\n        at org.h2.command.Parser.parse(Parser.java:689)\n        at org.h2.command.Parser.parse(Parser.java:661)\n        at org.h2.command.Parser.prepareCommand(Parser.java:569)\n        at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)\n        at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)\n        at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)\n        at org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:92)\n        at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1044)\n        at io.agroal.pool.wrapper.ConnectionWrapper.prepareStatement(ConnectionWrapper.java:694)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$2.doPrepare(StatementPreparerImpl.java:109)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\n        ... 71 more\n\n2023-05-07 20:52:46,894 INFO  [io.quarkus] (main) quarkus-social stopped in 0.061s\nDisconnected from the target VM, address: '127.0.0.1:58403', transport: 'socket'\n\nProcess finished with exit code -1\n</code></pre>\n<p>I created a method in the test class to insert a record into the user entity and I expected an HttpStatus 201 and got an HttpStatus 500</p>\n<p>What would be the reason for this error to occur?</p>\n"},{"tags":["java","recursion","conways-game-of-life","boundary","quadtree"],"comments":[{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":4,"creation_date":1683584349,"post_id":76204514,"comment_id":134386357,"body_markdown":"Using a quadtree seems like an unusual choice. They are generally used for continuous spaces whereas life is played on a discrete space. Positions are ints. arrays, lists or maps are a much better choice as a structure.","body":"Using a quadtree seems like an unusual choice. They are generally used for continuous spaces whereas life is played on a discrete space. Positions are ints. arrays, lists or maps are a much better choice as a structure."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1683584532,"post_id":76204514,"comment_id":134386373,"body_markdown":"Are you copying the grid before updating it? I can&#39;t see evidence of that. You need to make sure the calculations for new cells are based on previous state. The standard approach is to copy the grid and then use the copy to update the dynamic grid.","body":"Are you copying the grid before updating it? I can&#39;t see evidence of that. You need to make sure the calculations for new cells are based on previous state. The standard approach is to copy the grid and then use the copy to update the dynamic grid."},{"owner":{"account_id":26451193,"reputation":21,"user_id":20094401,"display_name":"ambolakabloa"},"score":0,"creation_date":1683586341,"post_id":76204514,"comment_id":134386576,"body_markdown":"I did implement the usual approach and the sparse matrix approach, but the animation speed becomes exponentially slower as the the grid becomes larger with more patterns, so I searched online and I found that there is another approach using quadtrees, the implementation of the quadtree itself is easy enough, my only dilemma is updating the neighbors, all the other methods work fine. I am printing the quadtree in grid form in the terminal, 0 0 0 0 0 \n0 0 1 0 0\n0 0 1 0 0\n0 0 1 0 0\n0 0 0 0 0\n(initial state)\n0 0 0 0 0 \n0 0 0 0 0\n0 0 0 0 0\n0 0 0 0 0 \n0 0 0 0 0(first generation)","body":"I did implement the usual approach and the sparse matrix approach, but the animation speed becomes exponentially slower as the the grid becomes larger with more patterns, so I searched online and I found that there is another approach using quadtrees, the implementation of the quadtree itself is easy enough, my only dilemma is updating the neighbors, all the other methods work fine. I am printing the quadtree in grid form in the terminal, 0 0 0 0 0  0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 0 0 0 (initial state) 0 0 0 0 0  0 0 0 0 0 0 0 0 0 0 0 0 0 0 0  0 0 0 0 0(first generation)"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1683588994,"post_id":76204514,"comment_id":134386818,"body_markdown":"How large is your grid?  I&#39;ve done this with desktop sized screens and it&#39;s quite fast.  I think you&#39;d need some huge size for it to be slow.","body":"How large is your grid?  I&#39;ve done this with desktop sized screens and it&#39;s quite fast.  I think you&#39;d need some huge size for it to be slow."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1683589828,"post_id":76204514,"comment_id":134386908,"body_markdown":"`animation speed becomes exponentially slower as the the grid becomes larger with more patterns,` This doesn&#39;t make sense.  You can just brute force it with a full array search, takes only a few microseconds.  Trying to do it differently is, imo, the sort of baroque gold plating the industry is too often plague with.","body":"<code>animation speed becomes exponentially slower as the the grid becomes larger with more patterns,</code> This doesn&#39;t make sense.  You can just brute force it with a full array search, takes only a few microseconds.  Trying to do it differently is, imo, the sort of baroque gold plating the industry is too often plague with."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1683592588,"post_id":76204514,"comment_id":134387176,"body_markdown":"A tree (of any type) is the wrong data structure. Just use a `boolean[][]` for the board and create a new board from the old one. Rinse and repeat.","body":"A tree (of any type) is the wrong data structure. Just use a <code>boolean[][]</code> for the board and create a new board from the old one. Rinse and repeat."},{"owner":{"account_id":26451193,"reputation":21,"user_id":20094401,"display_name":"ambolakabloa"},"score":0,"creation_date":1683597914,"post_id":76204514,"comment_id":134387639,"body_markdown":"the issue is that a cell right on the axes(x-axis, y-axis) are not being shared by the regions it stands on, so if I query a cell in 1 region, the returned list won&#39;t contain all the neighbors but some of them because some of the neighbors are in another regions, cells that are right on axes will try to be inserted into northwest child, if not then northeast, if not then southwest, if not then southeast, I removed that conditional, also I made changed both contains and intersects methods in Boundary to use inclusive comparators instead of exclusive, but the cells are still not shared...","body":"the issue is that a cell right on the axes(x-axis, y-axis) are not being shared by the regions it stands on, so if I query a cell in 1 region, the returned list won&#39;t contain all the neighbors but some of them because some of the neighbors are in another regions, cells that are right on axes will try to be inserted into northwest child, if not then northeast, if not then southwest, if not then southeast, I removed that conditional, also I made changed both contains and intersects methods in Boundary to use inclusive comparators instead of exclusive, but the cells are still not shared..."}],"owner":{"account_id":26451193,"reputation":21,"user_id":20094401,"display_name":"ambolakabloa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683581670,"creation_date":1683581670,"question_id":76204514,"body_markdown":"I am trying to implement Conway’s Game of Life using a quadtree data structure in Java. I have a QuadTree class that stores points in a two-dimensional space, and each point has a Cell object as its data that stores its state (isAlive) and the number of live neighbors (liveNeighbors). I have three methods that insert a pattern of points into the quadtree, update the liveNeighbors field of each point based on the query() method of the quadtree, and update the isAlive field of each point based on the rules of the game.\r\n\r\nHowever, when I run my code with a simple blinker pattern (a vertical line of three alive cells in the middle of a 5x5 grid), I get incorrect results. The expected behavior is that the blinker should oscillate between a vertical and a horizontal line every generation, but instead, all the cells die and no new cells are born. I noticed that some points have incorrect values for their liveNeighbors field, which affects the updateState() method. For example, the point (1,2) should have 8 neighbors and 3 live neighbors, but it only has 1 neighbor and 1 live neighbor.\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class CellularAutomations {\r\n    static class Point {\r\n        float x;\r\n        float y;\r\n        Object data;\r\n        int liveNeighbors = 0;\r\n\r\n        public String toString() {\r\n            return String.format(&quot;(%.3f,%.3f)&quot;, this.x, this.y);\r\n        }\r\n\r\n        Point(float x, float y, Object data) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.data = data;\r\n        }\r\n    }\r\n\r\n    static class Cell {\r\n        boolean isAlive = false;\r\n        int liveNeighbors = 0;\r\n\r\n        public String toString() {\r\n            return &quot;(&quot; + this.isAlive + &quot;,&quot; + this.liveNeighbors + &quot;)&quot;;\r\n        }\r\n\r\n        Cell(boolean isAlive) {\r\n            this.isAlive = isAlive;\r\n        }\r\n    }\r\n\r\n    static class Boundary {\r\n        Point center;\r\n        float halfWidth;\r\n        float halfHeight;\r\n\r\n        public String toString() {\r\n            return String.format(&quot;x:(%.3f,%.3f) y:(%.3f,%.3f)&quot;, this.center.x - halfWidth, this.center.x + halfWidth,\r\n                    this.center.y - halfHeight, this.center.y + halfHeight);\r\n        }\r\n\r\n        Boundary(Point center, float halfWidth, float halfHeight) {\r\n            this.center = center;\r\n            this.halfWidth = halfWidth;\r\n            this.halfHeight = halfHeight;\r\n        }\r\n\r\n        boolean contains(Point p) {\r\n            return (this.center.x - halfWidth &lt;= p.x &amp;&amp; this.center.x + halfWidth &gt;= p.x\r\n                    &amp;&amp; this.center.y - halfHeight &lt;= p.y &amp;&amp; this.center.y + halfHeight &gt;= p.y);\r\n        }\r\n\r\n        boolean intersects(Boundary other) {\r\n            if (this.center.x - this.halfWidth &gt; other.center.x + other.halfWidth ||\r\n                    this.center.x + this.halfWidth &lt; other.center.x - other.halfWidth ||\r\n                    this.center.y - this.halfHeight &gt; other.center.y + other.halfHeight ||\r\n                    this.center.y + this.halfHeight &lt; other.center.y - other.halfHeight)\r\n                return false;\r\n            return true;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        boolean[][] arr = {\r\n                { false, false, false, false, false },\r\n                { false, false, true, false, false },\r\n                { false, false, true, false, false },\r\n                { false, false, true, false, false },\r\n                { false, false, false, false, false }\r\n        };\r\n        QuadTree qt = new QuadTree(\r\n                new Boundary(new Point(arr.length / 2f, arr[0].length / 2f, null), arr[0].length / 2, arr.length / 2),\r\n                4);\r\n        CellularAutomations n = new CellularAutomations();\r\n        n.startSimulation(qt, arr, arr[0].length, arr.length);\r\n    }\r\n\r\n    static void updateNeighbors(QuadTree node) {\r\n        if (node == null)\r\n            return;\r\n        for (Point point : node.points) {\r\n            Boundary boundary = new Boundary(point, 1.5f, 1.5f);\r\n            ArrayList&lt;Point&gt; neighbors = node.query(boundary);\r\n            neighbors.remove(point);\r\n            int liveNeighbors = 0;\r\n            for (Point neighbor : neighbors) {\r\n                Cell cell = (Cell) neighbor.data;\r\n                if (cell.isAlive)\r\n                    liveNeighbors++;\r\n            }\r\n            Cell cell = (Cell) point.data;\r\n            cell.liveNeighbors = liveNeighbors;\r\n            point.data = cell;\r\n        }\r\n        if (node.divided) {\r\n            updateNeighbors(node.northwest);\r\n            updateNeighbors(node.northeast);\r\n            updateNeighbors(node.southwest);\r\n            updateNeighbors(node.southeast);\r\n        }\r\n    }\r\n\r\n    static void updateState(QuadTree node) {\r\n        if (node == null)\r\n            return;\r\n        for (Point point : node.points) {\r\n            Cell cell = (Cell) point.data;\r\n            if (cell.isAlive) {\r\n                if (cell.liveNeighbors &lt; 2 || cell.liveNeighbors &gt; 3)\r\n                    cell.isAlive = false;\r\n            } else if (cell.liveNeighbors == 3)\r\n                cell.isAlive = true;\r\n            point.data = cell;\r\n        }\r\n        if (node.divided) {\r\n            updateState(node.northwest);\r\n            updateState(node.northeast);\r\n            updateState(node.southwest);\r\n            updateState(node.southeast);\r\n        }\r\n    }\r\n\r\n    public void printGrid(QuadTree node, int width, int height) {\r\n        int[][] grid = new int[height][width];\r\n        fillGrid(node, grid);\r\n        for (int i = 0; i &lt; height; i++) {\r\n            for (int j = 0; j &lt; width; j++) {\r\n                System.out.print(grid[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    private void fillGrid(QuadTree node, int[][] grid) {\r\n        if (node == null)\r\n            return;\r\n        for (Point point : node.points) {\r\n            Cell cell = (Cell) point.data;\r\n            grid[(int) point.y][(int) point.x] = cell.isAlive ? 1 : 0;\r\n        }\r\n        if (node.divided) {\r\n            fillGrid(node.northwest, grid);\r\n            fillGrid(node.northeast, grid);\r\n            fillGrid(node.southwest, grid);\r\n            fillGrid(node.southeast, grid);\r\n        }\r\n    }\r\n\r\n    public void startSimulation(QuadTree root, boolean[][] pattern, int width, int height) {\r\n        insertPattern(root, pattern);\r\n        while (true) {\r\n            printGrid(root, width, height);\r\n            System.out.println();\r\n            updateNeighbors(root);\r\n            updateState(root);\r\n            try {\r\n                Thread.sleep(5000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void insertPattern(QuadTree root, boolean[][] pattern) {\r\n        for (int i = 0; i &lt; pattern.length; i++) {\r\n            for (int j = 0; j &lt; pattern[i].length; j++) {\r\n                root.insert(new Point(j, i, new Cell(pattern[i][j])));\r\n            }\r\n        }\r\n    }\r\n\r\n    static class QuadTree {\r\n        ArrayList&lt;Point&gt; points;\r\n        int capacity;\r\n        Boundary boundary;\r\n        QuadTree northwest;\r\n        QuadTree northeast;\r\n        QuadTree southwest;\r\n        QuadTree southeast;\r\n        QuadTree parent;\r\n\r\n        QuadTree(Boundary boundary, int capacity) {\r\n            this.boundary = boundary;\r\n            this.capacity = capacity;\r\n            this.points = new ArrayList&lt;Point&gt;(capacity);\r\n            this.northwest = this.southeast = this.southwest = this.northeast = this.parent = null;\r\n        }\r\n\r\n        void subdivide() {\r\n            float w = this.boundary.halfWidth / 2;\r\n            float h = this.boundary.halfHeight / 2;\r\n            Point center = this.boundary.center;\r\n            Object data = null;\r\n            this.northwest = new QuadTree(new Boundary(new Point(center.x - w, center.y + h, data), w, h),\r\n                    this.capacity);\r\n            this.northwest.parent = this;\r\n            this.northeast = new QuadTree(new Boundary(new Point(center.x + w, center.y + h, data), w, h),\r\n                    this.capacity);\r\n            this.northeast.parent = this;\r\n            this.southwest = new QuadTree(new Boundary(new Point(center.x - w, center.y - h, data), w, h),\r\n                    this.capacity);\r\n            this.southwest.parent = this;\r\n            this.southeast = new QuadTree(new Boundary(new Point(center.x + w, center.y - h, data), w, h),\r\n                    this.capacity);\r\n            this.southeast.parent = this;\r\n            this.divided = true;\r\n        }\r\n\r\n        boolean divided = false;\r\n\r\n        boolean insert(Point p) {\r\n            if (!this.boundary.contains(p))\r\n                return false;\r\n            if (this.points.size() &lt; this.capacity) {\r\n                this.points.add(p);\r\n                return true;\r\n            } else if (!this.divided) {\r\n                this.subdivide();\r\n            }\r\n            if (this.northwest.insert(p))\r\n                return true;\r\n            else if (this.northeast.insert(p))\r\n                return true;\r\n            else if (this.southwest.insert(p))\r\n                return true;\r\n            else if (this.southeast.insert(p))\r\n                return true;\r\n            return false;\r\n        }\r\n\r\n        ArrayList&lt;Point&gt; query(Boundary range) {\r\n            ArrayList&lt;Point&gt; found = new ArrayList&lt;Point&gt;();\r\n            if (!this.boundary.intersects(range)) {\r\n                return found;\r\n            }\r\n            for (Point point : this.points)\r\n                if (range.contains(point)) {\r\n                    found.add(point);\r\n                }\r\n            if (this.divided) {\r\n                found.addAll(this.northwest.query(range));\r\n                found.addAll(this.northeast.query(range));\r\n                found.addAll(this.southeast.query(range));\r\n                found.addAll(this.southwest.query(range));\r\n            }\r\n            if (this.parent != null) {\r\n                QuadTree[] siblings = { this.parent.northwest, this.parent.northeast, this.parent.southwest,\r\n                        this.parent.southeast };\r\n                for (QuadTree sibling : siblings) {\r\n                    if (sibling != null &amp;&amp; sibling != this &amp;&amp; sibling != this.northwest &amp;&amp; sibling != this.northeast\r\n                            &amp;&amp; sibling != this.southwest &amp;&amp; sibling != this.southeast) {\r\n                        if (range.intersects(sibling.boundary)) {\r\n                            found.addAll(sibling.query(range));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (this.parent != null &amp;&amp; this.parent.parent != null) {\r\n                QuadTree[] cousins = { this.parent.parent.northwest, this.parent.parent.northeast,\r\n                        this.parent.parent.southwest, this.parent.parent.southeast };\r\n                for (QuadTree cousin : cousins) {\r\n                    if (cousin != null &amp;&amp; cousin != this &amp;&amp; cousin != this.northwest &amp;&amp; cousin != this.northeast\r\n                            &amp;&amp; cousin != this.southwest &amp;&amp; cousin != this.southeast &amp;&amp; cousin != this.parent) {\r\n                        if (range.intersects(cousin.boundary)) {\r\n                            found.addAll(cousin.query(range));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return found;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nCan anyone help me with this problem? How can I make sure that all the neighbors of a point are counted by the query() method? Is there a better way to implement Conway’s Game of Life using a quadtree? Any suggestions or feedback would be appreciated.\r\n\r\nI tried to modify the query() method to check not only the current node and its children, but also its siblings and cousins (the other quadtrees that share a common parent or grandparent with the current node), but I got a stackoverflow error. I think that the recursive calls of the query() method are exceeding the maximum depth of the call stack, but I don’t know how to fix this.","title":"How to implement Conway’s Game of Life using a quadtree in Java?","body":"<p>I am trying to implement Conway’s Game of Life using a quadtree data structure in Java. I have a QuadTree class that stores points in a two-dimensional space, and each point has a Cell object as its data that stores its state (isAlive) and the number of live neighbors (liveNeighbors). I have three methods that insert a pattern of points into the quadtree, update the liveNeighbors field of each point based on the query() method of the quadtree, and update the isAlive field of each point based on the rules of the game.</p>\n<p>However, when I run my code with a simple blinker pattern (a vertical line of three alive cells in the middle of a 5x5 grid), I get incorrect results. The expected behavior is that the blinker should oscillate between a vertical and a horizontal line every generation, but instead, all the cells die and no new cells are born. I noticed that some points have incorrect values for their liveNeighbors field, which affects the updateState() method. For example, the point (1,2) should have 8 neighbors and 3 live neighbors, but it only has 1 neighbor and 1 live neighbor.</p>\n<pre><code>import java.util.*;\n\npublic class CellularAutomations {\n    static class Point {\n        float x;\n        float y;\n        Object data;\n        int liveNeighbors = 0;\n\n        public String toString() {\n            return String.format(&quot;(%.3f,%.3f)&quot;, this.x, this.y);\n        }\n\n        Point(float x, float y, Object data) {\n            this.x = x;\n            this.y = y;\n            this.data = data;\n        }\n    }\n\n    static class Cell {\n        boolean isAlive = false;\n        int liveNeighbors = 0;\n\n        public String toString() {\n            return &quot;(&quot; + this.isAlive + &quot;,&quot; + this.liveNeighbors + &quot;)&quot;;\n        }\n\n        Cell(boolean isAlive) {\n            this.isAlive = isAlive;\n        }\n    }\n\n    static class Boundary {\n        Point center;\n        float halfWidth;\n        float halfHeight;\n\n        public String toString() {\n            return String.format(&quot;x:(%.3f,%.3f) y:(%.3f,%.3f)&quot;, this.center.x - halfWidth, this.center.x + halfWidth,\n                    this.center.y - halfHeight, this.center.y + halfHeight);\n        }\n\n        Boundary(Point center, float halfWidth, float halfHeight) {\n            this.center = center;\n            this.halfWidth = halfWidth;\n            this.halfHeight = halfHeight;\n        }\n\n        boolean contains(Point p) {\n            return (this.center.x - halfWidth &lt;= p.x &amp;&amp; this.center.x + halfWidth &gt;= p.x\n                    &amp;&amp; this.center.y - halfHeight &lt;= p.y &amp;&amp; this.center.y + halfHeight &gt;= p.y);\n        }\n\n        boolean intersects(Boundary other) {\n            if (this.center.x - this.halfWidth &gt; other.center.x + other.halfWidth ||\n                    this.center.x + this.halfWidth &lt; other.center.x - other.halfWidth ||\n                    this.center.y - this.halfHeight &gt; other.center.y + other.halfHeight ||\n                    this.center.y + this.halfHeight &lt; other.center.y - other.halfHeight)\n                return false;\n            return true;\n        }\n    }\n\n    public static void main(String[] args) {\n        boolean[][] arr = {\n                { false, false, false, false, false },\n                { false, false, true, false, false },\n                { false, false, true, false, false },\n                { false, false, true, false, false },\n                { false, false, false, false, false }\n        };\n        QuadTree qt = new QuadTree(\n                new Boundary(new Point(arr.length / 2f, arr[0].length / 2f, null), arr[0].length / 2, arr.length / 2),\n                4);\n        CellularAutomations n = new CellularAutomations();\n        n.startSimulation(qt, arr, arr[0].length, arr.length);\n    }\n\n    static void updateNeighbors(QuadTree node) {\n        if (node == null)\n            return;\n        for (Point point : node.points) {\n            Boundary boundary = new Boundary(point, 1.5f, 1.5f);\n            ArrayList&lt;Point&gt; neighbors = node.query(boundary);\n            neighbors.remove(point);\n            int liveNeighbors = 0;\n            for (Point neighbor : neighbors) {\n                Cell cell = (Cell) neighbor.data;\n                if (cell.isAlive)\n                    liveNeighbors++;\n            }\n            Cell cell = (Cell) point.data;\n            cell.liveNeighbors = liveNeighbors;\n            point.data = cell;\n        }\n        if (node.divided) {\n            updateNeighbors(node.northwest);\n            updateNeighbors(node.northeast);\n            updateNeighbors(node.southwest);\n            updateNeighbors(node.southeast);\n        }\n    }\n\n    static void updateState(QuadTree node) {\n        if (node == null)\n            return;\n        for (Point point : node.points) {\n            Cell cell = (Cell) point.data;\n            if (cell.isAlive) {\n                if (cell.liveNeighbors &lt; 2 || cell.liveNeighbors &gt; 3)\n                    cell.isAlive = false;\n            } else if (cell.liveNeighbors == 3)\n                cell.isAlive = true;\n            point.data = cell;\n        }\n        if (node.divided) {\n            updateState(node.northwest);\n            updateState(node.northeast);\n            updateState(node.southwest);\n            updateState(node.southeast);\n        }\n    }\n\n    public void printGrid(QuadTree node, int width, int height) {\n        int[][] grid = new int[height][width];\n        fillGrid(node, grid);\n        for (int i = 0; i &lt; height; i++) {\n            for (int j = 0; j &lt; width; j++) {\n                System.out.print(grid[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n\n    private void fillGrid(QuadTree node, int[][] grid) {\n        if (node == null)\n            return;\n        for (Point point : node.points) {\n            Cell cell = (Cell) point.data;\n            grid[(int) point.y][(int) point.x] = cell.isAlive ? 1 : 0;\n        }\n        if (node.divided) {\n            fillGrid(node.northwest, grid);\n            fillGrid(node.northeast, grid);\n            fillGrid(node.southwest, grid);\n            fillGrid(node.southeast, grid);\n        }\n    }\n\n    public void startSimulation(QuadTree root, boolean[][] pattern, int width, int height) {\n        insertPattern(root, pattern);\n        while (true) {\n            printGrid(root, width, height);\n            System.out.println();\n            updateNeighbors(root);\n            updateState(root);\n            try {\n                Thread.sleep(5000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private void insertPattern(QuadTree root, boolean[][] pattern) {\n        for (int i = 0; i &lt; pattern.length; i++) {\n            for (int j = 0; j &lt; pattern[i].length; j++) {\n                root.insert(new Point(j, i, new Cell(pattern[i][j])));\n            }\n        }\n    }\n\n    static class QuadTree {\n        ArrayList&lt;Point&gt; points;\n        int capacity;\n        Boundary boundary;\n        QuadTree northwest;\n        QuadTree northeast;\n        QuadTree southwest;\n        QuadTree southeast;\n        QuadTree parent;\n\n        QuadTree(Boundary boundary, int capacity) {\n            this.boundary = boundary;\n            this.capacity = capacity;\n            this.points = new ArrayList&lt;Point&gt;(capacity);\n            this.northwest = this.southeast = this.southwest = this.northeast = this.parent = null;\n        }\n\n        void subdivide() {\n            float w = this.boundary.halfWidth / 2;\n            float h = this.boundary.halfHeight / 2;\n            Point center = this.boundary.center;\n            Object data = null;\n            this.northwest = new QuadTree(new Boundary(new Point(center.x - w, center.y + h, data), w, h),\n                    this.capacity);\n            this.northwest.parent = this;\n            this.northeast = new QuadTree(new Boundary(new Point(center.x + w, center.y + h, data), w, h),\n                    this.capacity);\n            this.northeast.parent = this;\n            this.southwest = new QuadTree(new Boundary(new Point(center.x - w, center.y - h, data), w, h),\n                    this.capacity);\n            this.southwest.parent = this;\n            this.southeast = new QuadTree(new Boundary(new Point(center.x + w, center.y - h, data), w, h),\n                    this.capacity);\n            this.southeast.parent = this;\n            this.divided = true;\n        }\n\n        boolean divided = false;\n\n        boolean insert(Point p) {\n            if (!this.boundary.contains(p))\n                return false;\n            if (this.points.size() &lt; this.capacity) {\n                this.points.add(p);\n                return true;\n            } else if (!this.divided) {\n                this.subdivide();\n            }\n            if (this.northwest.insert(p))\n                return true;\n            else if (this.northeast.insert(p))\n                return true;\n            else if (this.southwest.insert(p))\n                return true;\n            else if (this.southeast.insert(p))\n                return true;\n            return false;\n        }\n\n        ArrayList&lt;Point&gt; query(Boundary range) {\n            ArrayList&lt;Point&gt; found = new ArrayList&lt;Point&gt;();\n            if (!this.boundary.intersects(range)) {\n                return found;\n            }\n            for (Point point : this.points)\n                if (range.contains(point)) {\n                    found.add(point);\n                }\n            if (this.divided) {\n                found.addAll(this.northwest.query(range));\n                found.addAll(this.northeast.query(range));\n                found.addAll(this.southeast.query(range));\n                found.addAll(this.southwest.query(range));\n            }\n            if (this.parent != null) {\n                QuadTree[] siblings = { this.parent.northwest, this.parent.northeast, this.parent.southwest,\n                        this.parent.southeast };\n                for (QuadTree sibling : siblings) {\n                    if (sibling != null &amp;&amp; sibling != this &amp;&amp; sibling != this.northwest &amp;&amp; sibling != this.northeast\n                            &amp;&amp; sibling != this.southwest &amp;&amp; sibling != this.southeast) {\n                        if (range.intersects(sibling.boundary)) {\n                            found.addAll(sibling.query(range));\n                        }\n                    }\n                }\n            }\n            if (this.parent != null &amp;&amp; this.parent.parent != null) {\n                QuadTree[] cousins = { this.parent.parent.northwest, this.parent.parent.northeast,\n                        this.parent.parent.southwest, this.parent.parent.southeast };\n                for (QuadTree cousin : cousins) {\n                    if (cousin != null &amp;&amp; cousin != this &amp;&amp; cousin != this.northwest &amp;&amp; cousin != this.northeast\n                            &amp;&amp; cousin != this.southwest &amp;&amp; cousin != this.southeast &amp;&amp; cousin != this.parent) {\n                        if (range.intersects(cousin.boundary)) {\n                            found.addAll(cousin.query(range));\n                        }\n                    }\n                }\n            }\n            return found;\n        }\n    }\n}\n\n</code></pre>\n<p>Can anyone help me with this problem? How can I make sure that all the neighbors of a point are counted by the query() method? Is there a better way to implement Conway’s Game of Life using a quadtree? Any suggestions or feedback would be appreciated.</p>\n<p>I tried to modify the query() method to check not only the current node and its children, but also its siblings and cousins (the other quadtrees that share a common parent or grandparent with the current node), but I got a stackoverflow error. I think that the recursive calls of the query() method are exceeding the maximum depth of the call stack, but I don’t know how to fix this.</p>\n"},{"tags":["java","swing","border","jbutton"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1683147109,"post_id":76167851,"comment_id":134323597,"body_markdown":"Read the section from the Swing tutorial on [A Closer Look at the Painting Mechanizm](https://docs.oracle.com/javase/tutorial/uiswing/painting/closer.html) and you will see that the background of the button is painted first and then the Border is painted on top. One approach would be to change your Border logic to first paint a rectangle your desired color (to remove those artifacts) and then paint the rounded border.","body":"Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/closer.html\" rel=\"nofollow noreferrer\">A Closer Look at the Painting Mechanizm</a> and you will see that the background of the button is painted first and then the Border is painted on top. One approach would be to change your Border logic to first paint a rectangle your desired color (to remove those artifacts) and then paint the rounded border."},{"owner":{"display_name":"user21603351"},"score":0,"creation_date":1683147592,"post_id":76167851,"comment_id":134323690,"body_markdown":"@camickr But if I did that, I would loose my any button hover color change effects, right?","body":"@camickr But if I did that, I would loose my any button hover color change effects, right?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1683164952,"post_id":76167851,"comment_id":134325914,"body_markdown":"*I would loose my any button hover color change effects,* - by using a custom Border you already lose that effect don&#39;t you?","body":"<i>I would loose my any button hover color change effects,</i> - by using a custom Border you already lose that effect don&#39;t you?"},{"owner":{"display_name":"user21603351"},"score":0,"creation_date":1683246827,"post_id":76167851,"comment_id":134341560,"body_markdown":"@camickr Actually, no! My border&#39;s color is the same color as the background of my JFrame (or JPanel, as it might be).","body":"@camickr Actually, no! My border&#39;s color is the same color as the background of my JFrame (or JPanel, as it might be)."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1683249662,"post_id":76167851,"comment_id":134341798,"body_markdown":"Yes, I understand the border color is the same as the background color. Your comment was about the &quot;hover color change&quot;. So, since your border is the same color as the background there is no &quot;hover&quot; effect. My suggestion only built on your current code, since your current code doesn&#39;t implement a hover feature.","body":"Yes, I understand the border color is the same as the background color. Your comment was about the &quot;hover color change&quot;. So, since your border is the same color as the background there is no &quot;hover&quot; effect. My suggestion only built on your current code, since your current code doesn&#39;t implement a hover feature."},{"owner":{"display_name":"user21603351"},"score":0,"creation_date":1683296611,"post_id":76167851,"comment_id":134349658,"body_markdown":"@camickr actually, I do have hover effects implemented, but it wasn&#39;t included in my MRE.","body":"@camickr actually, I do have hover effects implemented, but it wasn&#39;t included in my MRE."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683581547,"creation_date":1683152189,"answer_id":76168325,"question_id":76167851,"body_markdown":"I&#39;m confused, why not modify your custom `BasicButtonUI` to paint a area with rounded corners, making use of something like `RoundRectangle2D` for example.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.LinearGradientPaint;\r\n    import java.awt.Point;\r\n    import java.awt.Rectangle;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.Shape;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.geom.RoundRectangle2D;\r\n    import javax.swing.AbstractButton;\r\n    import javax.swing.ButtonModel;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.plaf.basic.BasicButtonUI;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                setBackground(Color.RED);\r\n                setBorder(new EmptyBorder(23, 32, 32, 32));\r\n\r\n                JButton circleButton = new JButton(&quot;Hello&quot;);\r\n                circleButton.setUI(new CircleButtonUI());\r\n                circleButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        System.out.println(&quot;I&#39;ve been triggered&quot;);\r\n                    }\r\n                });\r\n\r\n                add(circleButton);\r\n            }\r\n        }\r\n\r\n        public class CircleButtonUI extends BasicButtonUI {\r\n\r\n            private Shape buttonShape;\r\n\r\n            @Override\r\n            public void installUI(JComponent c) {\r\n                super.installUI(c);\r\n                c.setOpaque(false);\r\n                // This is because on some platforms, the background\r\n                // is undefined or otherwise causes the button not\r\n                // to render\r\n                c.setBackground(Color.LIGHT_GRAY.brighter());\r\n            }\r\n\r\n            @Override\r\n            public boolean contains(JComponent c, int x, int y) {\r\n                if (buttonShape == null) {\r\n                    return c.contains(x, y);\r\n                }\r\n                return buttonShape.contains(x, y);\r\n            }\r\n\r\n            @Override\r\n            public void paint(Graphics g, JComponent c) {\r\n                int width = c.getWidth() - 2;\r\n                int height = c.getHeight() - 2;\r\n                buttonShape = new RoundRectangle2D.Double(1, 1, width, height, 20, 20);\r\n                AbstractButton b = (AbstractButton) c;\r\n                paintContent(g, b);\r\n                super.paint(g, c);\r\n            }\r\n\r\n            protected void paintContent(Graphics g, AbstractButton b) {\r\n                if (buttonShape == null) {\r\n                    return;\r\n                }\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                // paint the interior of the button\r\n                g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\r\n                g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n                g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\r\n\r\n                ButtonModel model = b.getModel();\r\n                Color highlight = b.getBackground();\r\n                if (model.isArmed() &amp;&amp; model.isPressed()) {\r\n                    highlight = highlight.darker();\r\n                }\r\n                Color darklight = highlight.darker();\r\n\r\n                LinearGradientPaint lgp = new LinearGradientPaint(\r\n                        buttonShape.getBounds().getLocation(),\r\n                        new Point((int) buttonShape.getBounds().getMaxX(), (int) buttonShape.getBounds().getMaxY()),\r\n                        new float[]{0, 1f},\r\n                        new Color[]{highlight, darklight});\r\n\r\n                g2d.setPaint(lgp);\r\n                g2d.fill(buttonShape);\r\n\r\n                // draw the perimeter of the button\r\n                g2d.setColor(b.getBackground().darker().darker().darker());\r\n                g2d.draw(buttonShape);\r\n                g2d.dispose();\r\n            }\r\n\r\n            @Override\r\n            protected void paintFocus(Graphics g, AbstractButton b, Rectangle viewRect, Rectangle textRect, Rectangle iconRect) {\r\n                // Paint focus highlight, if you want to\r\n            }\r\n\r\n            public Dimension getMinimumSize(JComponent c) {\r\n                Dimension size = super.getMinimumSize(c);\r\n                return new Dimension(size.width + 8, size.height + 16);\r\n            }\r\n\r\n            public Dimension getPreferredSize(JComponent c) {\r\n                Dimension size = super.getPreferredSize(c);\r\n                return new Dimension(size.width + 8, size.height + 16);\r\n            }\r\n\r\n            public Dimension getMaximumSize(JComponent c) {\r\n                Dimension size = super.getPreferredSize(c);\r\n                return new Dimension(size.width + 8, size.height + 16);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nPlease note that this just an example, you&#39;d need to do some more work to get a fully functional implementation.\r\n\r\n# A more &quot;metro&quot; style\r\n\r\nSo, going back to https://stackoverflow.com/questions/46448044/swing-create-a-uwp-metro-like-button/46458112#46458112, I implemented a &quot;style&quot; concept, so you can more easily modify the style of the button as well as implemented the &quot;rounded&quot; edge effect and painting the focus.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    import java.awt.BasicStroke;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Rectangle;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.geom.RoundRectangle2D;\r\n    import java.util.WeakHashMap;\r\n    import javax.swing.AbstractButton;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.Border;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.plaf.basic.BasicButtonUI;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                add(makeButton(MetroLookAndFeel.Style.DEFAULT));\r\n                add(makeButton(MetroLookAndFeel.Style.PRIMARY));\r\n                add(makeButton(MetroLookAndFeel.Style.SECONDARY));\r\n                add(makeButton(MetroLookAndFeel.Style.SUCCESS));\r\n                add(makeButton(MetroLookAndFeel.Style.ALERT));\r\n                add(makeButton(MetroLookAndFeel.Style.WARNING));\r\n                add(makeButton(MetroLookAndFeel.Style.INFO));\r\n                add(makeButton(MetroLookAndFeel.Style.DARK));\r\n                add(makeButton(MetroLookAndFeel.Style.LIGHT));\r\n                add(makeButton(MetroLookAndFeel.Style.LINK));\r\n            }\r\n\r\n            protected JButton makeButton(MetroLookAndFeel.Style style) {\r\n                JButton btn = new JButton(&quot;Test&quot;);\r\n                btn.setUI(new MetroLookAndFeel(style));\r\n                return btn;\r\n            }\r\n        }\r\n\r\n        public class MetroLookAndFeel extends BasicButtonUI {\r\n\r\n            public static class Style {\r\n                public static final Style DEFAULT = new Style(Color.BLACK, new Color(235, 235, 235));\r\n                public static final Style PRIMARY = new Style(Color.WHITE, new Color(3, 102, 214));\r\n                public static final Style SECONDARY = new Style(Color.WHITE, new Color(96, 125, 139));\r\n                public static final Style SUCCESS = new Style(Color.WHITE, new Color(96, 169, 23));\r\n                public static final Style ALERT = new Style(Color.WHITE, new Color(206, 53, 44));\r\n                public static final Style WARNING = new Style(Color.WHITE, new Color(255, 148, 71));\r\n                public static final Style INFO = new Style(Color.WHITE, new Color(94, 189, 236));\r\n                public static final Style DARK = new Style(Color.WHITE, new Color(80, 80, 80));\r\n                public static final Style LIGHT = new Style(Color.BLACK, new Color(248, 248, 248));\r\n                public static final Style LINK = new Style(Color.BLUE, new Color(0, 0, 0, 0));\r\n\r\n                private Color foreground;\r\n                private Color background;\r\n\r\n                private Style(Color foreground, Color background) {\r\n                    this.foreground = foreground;\r\n                    this.background = background;\r\n                }\r\n\r\n                public Color getForeground() {\r\n                    return foreground;\r\n                }\r\n\r\n                public Color getBackground() {\r\n                    return background;\r\n                }\r\n            }\r\n\r\n            private static final Border EMPTY_BORDER = new EmptyBorder(10, 14, 10, 14);\r\n\r\n            private WeakHashMap&lt;AbstractButton, RoundRectangle2D&gt; buttonShapeCache;\r\n            private WeakHashMap&lt;AbstractButton, RoundRectangle2D&gt; focusShapeCache;\r\n\r\n            private Style style;\r\n\r\n            public MetroLookAndFeel() {\r\n                this(Style.DEFAULT);\r\n            }\r\n\r\n            public MetroLookAndFeel(Style style) {\r\n                this.style = style;\r\n                focusShapeCache = new WeakHashMap&lt;&gt;(8);\r\n                buttonShapeCache = new WeakHashMap&lt;&gt;(8);\r\n            }\r\n\r\n            public Style getStyle() {\r\n                return style;\r\n            }\r\n\r\n            @Override\r\n            protected void installDefaults(AbstractButton b) {\r\n                super.installDefaults(b);\r\n\r\n                // Maybe pass the font sizing as a hint with style?\r\n                Font f = new Font(&quot;Segoe UI&quot;, Font.PLAIN, b.getFont().getSize());\r\n                b.setFont(f);\r\n                b.setOpaque(false);\r\n                b.setContentAreaFilled(false);\r\n                b.setBorder(EMPTY_BORDER);\r\n                b.setBackground(getStyle().getBackground());\r\n                b.setForeground(getStyle().getForeground());\r\n            }\r\n\r\n            protected RoundRectangle2D shapeForButton(AbstractButton button) {\r\n                RoundRectangle2D shape = buttonShapeCache.get(button);\r\n                if (shape != null) {\r\n                    return shape;\r\n                }\r\n                shape = new RoundRectangle2D.Double(1, 1, button.getWidth() - 2, button.getHeight() - 2, 16, 16);\r\n                buttonShapeCache.put(button, shape);\r\n                return shape;\r\n            }\r\n\r\n            protected RoundRectangle2D focusShapeForButton(AbstractButton button) {\r\n                RoundRectangle2D shape = focusShapeCache.get(button);\r\n                if (shape != null) {\r\n                    return shape;\r\n                }\r\n                shape = new RoundRectangle2D.Double(2, 2, button.getWidth() - 4, button.getHeight() - 4, 16, 16);\r\n                focusShapeCache.put(button, shape);\r\n                return shape;\r\n            }\r\n\r\n            @Override\r\n            public void paint(Graphics g, JComponent c) {\r\n                int width = c.getWidth() - 2;\r\n                int height = c.getHeight() - 2;\r\n                AbstractButton b = (AbstractButton) c;\r\n\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                // paint the interior of the button\r\n                g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\r\n                g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n                g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\r\n\r\n                paintContent(g2d, b);\r\n                super.paint(g2d, c);\r\n                g2d.dispose();\r\n            }\r\n\r\n            protected void paintContent(Graphics2D g2d, AbstractButton button) {\r\n                Graphics2D otherG2d = (Graphics2D) g2d.create();\r\n                otherG2d.setColor(button.getBackground());\r\n                otherG2d.fill(shapeForButton(button));\r\n                if (!button.hasFocus() || !button.isFocusPainted()) {\r\n                    otherG2d.setColor(button.getBackground().darker());\r\n                    otherG2d.draw(shapeForButton(button));\r\n                }\r\n                otherG2d.dispose();\r\n            }\r\n\r\n            @Override\r\n            protected void paintButtonPressed(Graphics g, AbstractButton b) {\r\n                System.out.println(&quot;Pressed&quot;);\r\n                super.paintButtonPressed(g, b);\r\n            }\r\n\r\n            @Override\r\n            protected void paintFocus(Graphics g, AbstractButton button, Rectangle viewRect, Rectangle textRect, Rectangle iconRect) {\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(Color.BLUE);\r\n                g2d.setStroke(new BasicStroke(2, BasicStroke.JOIN_ROUND, BasicStroke.CAP_ROUND));\r\n                g2d.draw(focusShapeForButton(button));\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lmHwg.png\r\n  [2]: https://i.stack.imgur.com/BLcce.png\r\n\r\n&gt; I would be able to just tell Swing that I needed a button with rounded corners. Is this possible, or do I have to do complex (at least for me!) painting?\r\n\r\nThe short answer is no.  Swing provides a plug&#39;n&#39;play style for it&#39;s UI components, via the [Look and Feel API](https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/index.html), this means that it&#39;s possible for a button to appear differently on different platforms.\r\n\r\n`Border` also doesn&#39;t &quot;fill&quot;, it just paints the outline of the border itself, see [How to Use Borders](https://docs.oracle.com/javase/tutorial/uiswing/components/border.html) for more details.\r\n\r\nThis leaves you with two options.  Either create a custom `JButton`, making use of things like `Border` and overriding `paintComponent` or creating a custom Look and Feel delegate, as demonstrated above.\r\n\r\nThere are arguments for and against both, but when you need to realise is, `JButton` is actually quite a complex component and requires some effort to design for.\r\n\r\nI would also recommend taking the time to look over:\r\n\r\n* [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html)\r\n* [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html)\r\n* [2D Graphics](https://docs.oracle.com/javase/tutorial/2d/index.html)","title":"Button corners don&#39;t get painted over by borders, they are moved outwards instead","body":"<p>I'm confused, why not modify your custom <code>BasicButtonUI</code> to paint a area with rounded corners, making use of something like <code>RoundRectangle2D</code> for example.</p>\n<p><a href=\"https://i.stack.imgur.com/lmHwg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lmHwg.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagLayout;\nimport java.awt.LinearGradientPaint;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.RenderingHints;\nimport java.awt.Shape;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.RoundRectangle2D;\nimport javax.swing.AbstractButton;\nimport javax.swing.ButtonModel;\nimport javax.swing.JButton;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.plaf.basic.BasicButtonUI;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            setBackground(Color.RED);\n            setBorder(new EmptyBorder(23, 32, 32, 32));\n\n            JButton circleButton = new JButton(&quot;Hello&quot;);\n            circleButton.setUI(new CircleButtonUI());\n            circleButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    System.out.println(&quot;I've been triggered&quot;);\n                }\n            });\n\n            add(circleButton);\n        }\n    }\n\n    public class CircleButtonUI extends BasicButtonUI {\n\n        private Shape buttonShape;\n\n        @Override\n        public void installUI(JComponent c) {\n            super.installUI(c);\n            c.setOpaque(false);\n            // This is because on some platforms, the background\n            // is undefined or otherwise causes the button not\n            // to render\n            c.setBackground(Color.LIGHT_GRAY.brighter());\n        }\n\n        @Override\n        public boolean contains(JComponent c, int x, int y) {\n            if (buttonShape == null) {\n                return c.contains(x, y);\n            }\n            return buttonShape.contains(x, y);\n        }\n\n        @Override\n        public void paint(Graphics g, JComponent c) {\n            int width = c.getWidth() - 2;\n            int height = c.getHeight() - 2;\n            buttonShape = new RoundRectangle2D.Double(1, 1, width, height, 20, 20);\n            AbstractButton b = (AbstractButton) c;\n            paintContent(g, b);\n            super.paint(g, c);\n        }\n\n        protected void paintContent(Graphics g, AbstractButton b) {\n            if (buttonShape == null) {\n                return;\n            }\n            Graphics2D g2d = (Graphics2D) g.create();\n            // paint the interior of the button\n            g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\n            g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\n\n            ButtonModel model = b.getModel();\n            Color highlight = b.getBackground();\n            if (model.isArmed() &amp;&amp; model.isPressed()) {\n                highlight = highlight.darker();\n            }\n            Color darklight = highlight.darker();\n\n            LinearGradientPaint lgp = new LinearGradientPaint(\n                    buttonShape.getBounds().getLocation(),\n                    new Point((int) buttonShape.getBounds().getMaxX(), (int) buttonShape.getBounds().getMaxY()),\n                    new float[]{0, 1f},\n                    new Color[]{highlight, darklight});\n\n            g2d.setPaint(lgp);\n            g2d.fill(buttonShape);\n\n            // draw the perimeter of the button\n            g2d.setColor(b.getBackground().darker().darker().darker());\n            g2d.draw(buttonShape);\n            g2d.dispose();\n        }\n\n        @Override\n        protected void paintFocus(Graphics g, AbstractButton b, Rectangle viewRect, Rectangle textRect, Rectangle iconRect) {\n            // Paint focus highlight, if you want to\n        }\n\n        public Dimension getMinimumSize(JComponent c) {\n            Dimension size = super.getMinimumSize(c);\n            return new Dimension(size.width + 8, size.height + 16);\n        }\n\n        public Dimension getPreferredSize(JComponent c) {\n            Dimension size = super.getPreferredSize(c);\n            return new Dimension(size.width + 8, size.height + 16);\n        }\n\n        public Dimension getMaximumSize(JComponent c) {\n            Dimension size = super.getPreferredSize(c);\n            return new Dimension(size.width + 8, size.height + 16);\n        }\n    }\n}\n</code></pre>\n<p>Please note that this just an example, you'd need to do some more work to get a fully functional implementation.</p>\n<h1>A more &quot;metro&quot; style</h1>\n<p>So, going back to <a href=\"https://stackoverflow.com/questions/46448044/swing-create-a-uwp-metro-like-button/46458112#46458112\">Swing: Create a UWP (&quot;Metro&quot;)–like button</a>, I implemented a &quot;style&quot; concept, so you can more easily modify the style of the button as well as implemented the &quot;rounded&quot; edge effect and painting the focus.</p>\n<p><a href=\"https://i.stack.imgur.com/BLcce.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BLcce.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagLayout;\nimport java.awt.Rectangle;\nimport java.awt.RenderingHints;\nimport java.awt.geom.RoundRectangle2D;\nimport java.util.WeakHashMap;\nimport javax.swing.AbstractButton;\nimport javax.swing.JButton;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.Border;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.plaf.basic.BasicButtonUI;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            add(makeButton(MetroLookAndFeel.Style.DEFAULT));\n            add(makeButton(MetroLookAndFeel.Style.PRIMARY));\n            add(makeButton(MetroLookAndFeel.Style.SECONDARY));\n            add(makeButton(MetroLookAndFeel.Style.SUCCESS));\n            add(makeButton(MetroLookAndFeel.Style.ALERT));\n            add(makeButton(MetroLookAndFeel.Style.WARNING));\n            add(makeButton(MetroLookAndFeel.Style.INFO));\n            add(makeButton(MetroLookAndFeel.Style.DARK));\n            add(makeButton(MetroLookAndFeel.Style.LIGHT));\n            add(makeButton(MetroLookAndFeel.Style.LINK));\n        }\n\n        protected JButton makeButton(MetroLookAndFeel.Style style) {\n            JButton btn = new JButton(&quot;Test&quot;);\n            btn.setUI(new MetroLookAndFeel(style));\n            return btn;\n        }\n    }\n\n    public class MetroLookAndFeel extends BasicButtonUI {\n\n        public static class Style {\n            public static final Style DEFAULT = new Style(Color.BLACK, new Color(235, 235, 235));\n            public static final Style PRIMARY = new Style(Color.WHITE, new Color(3, 102, 214));\n            public static final Style SECONDARY = new Style(Color.WHITE, new Color(96, 125, 139));\n            public static final Style SUCCESS = new Style(Color.WHITE, new Color(96, 169, 23));\n            public static final Style ALERT = new Style(Color.WHITE, new Color(206, 53, 44));\n            public static final Style WARNING = new Style(Color.WHITE, new Color(255, 148, 71));\n            public static final Style INFO = new Style(Color.WHITE, new Color(94, 189, 236));\n            public static final Style DARK = new Style(Color.WHITE, new Color(80, 80, 80));\n            public static final Style LIGHT = new Style(Color.BLACK, new Color(248, 248, 248));\n            public static final Style LINK = new Style(Color.BLUE, new Color(0, 0, 0, 0));\n\n            private Color foreground;\n            private Color background;\n\n            private Style(Color foreground, Color background) {\n                this.foreground = foreground;\n                this.background = background;\n            }\n\n            public Color getForeground() {\n                return foreground;\n            }\n\n            public Color getBackground() {\n                return background;\n            }\n        }\n\n        private static final Border EMPTY_BORDER = new EmptyBorder(10, 14, 10, 14);\n\n        private WeakHashMap&lt;AbstractButton, RoundRectangle2D&gt; buttonShapeCache;\n        private WeakHashMap&lt;AbstractButton, RoundRectangle2D&gt; focusShapeCache;\n\n        private Style style;\n\n        public MetroLookAndFeel() {\n            this(Style.DEFAULT);\n        }\n\n        public MetroLookAndFeel(Style style) {\n            this.style = style;\n            focusShapeCache = new WeakHashMap&lt;&gt;(8);\n            buttonShapeCache = new WeakHashMap&lt;&gt;(8);\n        }\n\n        public Style getStyle() {\n            return style;\n        }\n\n        @Override\n        protected void installDefaults(AbstractButton b) {\n            super.installDefaults(b);\n\n            // Maybe pass the font sizing as a hint with style?\n            Font f = new Font(&quot;Segoe UI&quot;, Font.PLAIN, b.getFont().getSize());\n            b.setFont(f);\n            b.setOpaque(false);\n            b.setContentAreaFilled(false);\n            b.setBorder(EMPTY_BORDER);\n            b.setBackground(getStyle().getBackground());\n            b.setForeground(getStyle().getForeground());\n        }\n\n        protected RoundRectangle2D shapeForButton(AbstractButton button) {\n            RoundRectangle2D shape = buttonShapeCache.get(button);\n            if (shape != null) {\n                return shape;\n            }\n            shape = new RoundRectangle2D.Double(1, 1, button.getWidth() - 2, button.getHeight() - 2, 16, 16);\n            buttonShapeCache.put(button, shape);\n            return shape;\n        }\n\n        protected RoundRectangle2D focusShapeForButton(AbstractButton button) {\n            RoundRectangle2D shape = focusShapeCache.get(button);\n            if (shape != null) {\n                return shape;\n            }\n            shape = new RoundRectangle2D.Double(2, 2, button.getWidth() - 4, button.getHeight() - 4, 16, 16);\n            focusShapeCache.put(button, shape);\n            return shape;\n        }\n\n        @Override\n        public void paint(Graphics g, JComponent c) {\n            int width = c.getWidth() - 2;\n            int height = c.getHeight() - 2;\n            AbstractButton b = (AbstractButton) c;\n\n            Graphics2D g2d = (Graphics2D) g.create();\n            // paint the interior of the button\n            g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\n            g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\n\n            paintContent(g2d, b);\n            super.paint(g2d, c);\n            g2d.dispose();\n        }\n\n        protected void paintContent(Graphics2D g2d, AbstractButton button) {\n            Graphics2D otherG2d = (Graphics2D) g2d.create();\n            otherG2d.setColor(button.getBackground());\n            otherG2d.fill(shapeForButton(button));\n            if (!button.hasFocus() || !button.isFocusPainted()) {\n                otherG2d.setColor(button.getBackground().darker());\n                otherG2d.draw(shapeForButton(button));\n            }\n            otherG2d.dispose();\n        }\n\n        @Override\n        protected void paintButtonPressed(Graphics g, AbstractButton b) {\n            System.out.println(&quot;Pressed&quot;);\n            super.paintButtonPressed(g, b);\n        }\n\n        @Override\n        protected void paintFocus(Graphics g, AbstractButton button, Rectangle viewRect, Rectangle textRect, Rectangle iconRect) {\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(Color.BLUE);\n            g2d.setStroke(new BasicStroke(2, BasicStroke.JOIN_ROUND, BasicStroke.CAP_ROUND));\n            g2d.draw(focusShapeForButton(button));\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<blockquote>\n<p>I would be able to just tell Swing that I needed a button with rounded corners. Is this possible, or do I have to do complex (at least for me!) painting?</p>\n</blockquote>\n<p>The short answer is no.  Swing provides a plug'n'play style for it's UI components, via the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/index.html\" rel=\"nofollow noreferrer\">Look and Feel API</a>, this means that it's possible for a button to appear differently on different platforms.</p>\n<p><code>Border</code> also doesn't &quot;fill&quot;, it just paints the outline of the border itself, see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/border.html\" rel=\"nofollow noreferrer\">How to Use Borders</a> for more details.</p>\n<p>This leaves you with two options.  Either create a custom <code>JButton</code>, making use of things like <code>Border</code> and overriding <code>paintComponent</code> or creating a custom Look and Feel delegate, as demonstrated above.</p>\n<p>There are arguments for and against both, but when you need to realise is, <code>JButton</code> is actually quite a complex component and requires some effort to design for.</p>\n<p>I would also recommend taking the time to look over:</p>\n<ul>\n<li><a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/2d/index.html\" rel=\"nofollow noreferrer\">2D Graphics</a></li>\n</ul>\n"}],"owner":{"display_name":"user21603351"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76168325,"answer_count":1,"score":0,"last_activity_date":1683581547,"creation_date":1683146739,"question_id":76167851,"body_markdown":"I am trying to make a custom button, (which extends `BasicButtonUI`), have rounded corners.  I found out that I should use a rounded border which covered the square corners of the button.\r\nI am adding the border to my button like this:\r\n```lang-java\r\nb.setBorder(new RoundedBorder(20));\r\n```\r\nAnd I am drawing the border like this:\r\n```\r\npublic void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {\r\n    Graphics2D g2d = (Graphics2D) g;\r\n    g2d.setColor(Constants.windowColor);\r\n    g2d.setStroke(new BasicStroke(5f)); // Width of 5 pixels.\r\n    g2d.setPaintMode();\r\n    g2d.drawRoundRect(x, y, width-1, height-1, radius, radius);\r\n}\r\n```\r\nBut, as you can see in the screenshot below, the corners of the button are &quot;moved&quot; outwards.  They aren&#39;t even in line with the edges of the button!&lt;br&gt;\r\n[![Button screenshot][1]][1]&lt;br&gt;\r\nMagnified, it looks like this:&lt;br&gt;\r\n&lt;img src=&quot;https://i.stack.imgur.com/GsXdn.png&quot; width=&quot;386&quot; /&gt;\r\n\r\nIt doesn&#39;t look like much in the screenshots, but it looks very peculiar in real life!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pN7AK.png\r\n  [2]: https://i.stack.imgur.com/GsXdn.png","title":"Button corners don&#39;t get painted over by borders, they are moved outwards instead","body":"<p>I am trying to make a custom button, (which extends <code>BasicButtonUI</code>), have rounded corners.  I found out that I should use a rounded border which covered the square corners of the button.\nI am adding the border to my button like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>b.setBorder(new RoundedBorder(20));\n</code></pre>\n<p>And I am drawing the border like this:</p>\n<pre><code>public void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {\n    Graphics2D g2d = (Graphics2D) g;\n    g2d.setColor(Constants.windowColor);\n    g2d.setStroke(new BasicStroke(5f)); // Width of 5 pixels.\n    g2d.setPaintMode();\n    g2d.drawRoundRect(x, y, width-1, height-1, radius, radius);\n}\n</code></pre>\n<p>But, as you can see in the screenshot below, the corners of the button are &quot;moved&quot; outwards.  They aren't even in line with the edges of the button!<br>\n<a href=\"https://i.stack.imgur.com/pN7AK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pN7AK.png\" alt=\"Button screenshot\" /></a><br>\nMagnified, it looks like this:<br>\n<img src=\"https://i.stack.imgur.com/GsXdn.png\" width=\"386\" /></p>\n<p>It doesn't look like much in the screenshots, but it looks very peculiar in real life!</p>\n"},{"tags":["java","authentication","tomcat","marklogic"],"comments":[{"owner":{"account_id":26676960,"reputation":11,"user_id":21855083,"display_name":"Mukesh Prabhakar"},"score":0,"creation_date":1683729438,"post_id":76203551,"comment_id":134411826,"body_markdown":"Thanks for the reply, I am getting following error as try to start or invoke Admin web page of the MarkLogic DB server. 127.0.01:8001 - 403 Forbidden\nSEC-NOADMIN: (err:FOER0000) User does not have admin-ui privilege.\nin /MarkLogic/security.xqy, at 7110:7, in sec:check-admin() [1.0-ml]\nin /MarkLogic/Admin/lib/status-check.xqy, at 24:1, in adlib:status-check() [1.0-ml]\nin /, at 7:0 [1.0-ml]","body":"Thanks for the reply, I am getting following error as try to start or invoke Admin web page of the MarkLogic DB server. 127.0.01:8001 - 403 Forbidden SEC-NOADMIN: (err:FOER0000) User does not have admin-ui privilege. in /MarkLogic/security.xqy, at 7110:7, in sec:check-admin() [1.0-ml] in /MarkLogic/Admin/lib/status-check.xqy, at 24:1, in adlib:status-check() [1.0-ml] in /, at 7:0 [1.0-ml]"},{"owner":{"account_id":26676960,"reputation":11,"user_id":21855083,"display_name":"Mukesh Prabhakar"},"score":0,"creation_date":1683731927,"post_id":76203551,"comment_id":134412550,"body_markdown":"(2.) Then for http://localhost:8000/qconsole/ option attempt I get message Access to localhost is denied (3.) Only I am able to use monitoring Monitoring option (is working) Regards","body":"(2.) Then for <a href=\"http://localhost:8000/qconsole/\" rel=\"nofollow noreferrer\">localhost:8000/qconsole</a> option attempt I get message Access to localhost is denied (3.) Only I am able to use monitoring Monitoring option (is working) Regards"},{"owner":{"account_id":1889504,"reputation":2560,"user_id":1707976,"accept_rate":43,"display_name":"Dixit Singla"},"score":0,"creation_date":1699725337,"post_id":76203551,"comment_id":136568650,"body_markdown":"Were you able to make it work as I am also getting the same error.","body":"Were you able to make it work as I am also getting the same error."}],"owner":{"account_id":26676960,"reputation":11,"user_id":21855083,"display_name":"Mukesh Prabhakar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683581295,"creation_date":1683572004,"question_id":76203551,"body_markdown":"I&#39;m getting this java exception since MarkLogic Data Hub is not able to login to MarkLogic database on Windows Laptop set up.\r\n\r\nFrom `c:\\quickstart-tutorial\\quickstart-tutorial\\project`\r\n\r\nExecute: `java -jar marklogic-data-hub-central-5.8.1.war`\r\n\r\nAnd see then see:\r\n&gt;2023-05-07 13:25:50.162 [main] ←[34mINFO ←[0;39m c.marklogic.hub.central.Application - Starting Application using Java 1.8.0_191 on DESKTOP-XXXXXX with PID 36920 (C:\\quickstart-tutorial\\quickstart-tutorial\\project\\marklogic-data-hub-central-5.8.1.war started by XXXXX in c:\\quickstart-tutorial\\quickstart-tutorial\\project)\r\n\r\n&gt;2023-05-07 13:25:50.165 [main] ←[34mINFO ←[0;39m c.marklogic.hub.central.Application - No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n\r\n&gt;2023-05-07 13:25:51.942 [main] ←[34mINFO ←[0;39m o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n\r\n&gt;2023-05-07 13:25:51.943 [main] ←[34mINFO ←[0;39m o.a.catalina.core.StandardService - Starting service [Tomcat]\r\n\r\n&gt;2023-05-07 13:25:51.946 [main] ←[34mINFO ←[0;39m o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]\r\n\r\n&gt;2023-05-07 13:25:53.340 [main] ←[34mINFO ←[0;39m o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext\r\n\r\n&gt;2023-05-07 13:25:53.634 [main] ←[34mINFO ←[0;39m com.marklogic.hub.central.HubCentral - Will connect to MarkLogic host: localhost\r\n\r\n&gt;2023-05-07 13:25:53.635 [main] ←[34mINFO ←[0;39m com.marklogic.hub.central.HubCentral - Hub Central is available at port: 8080\r\n\r\n&gt;2023-05-07 13:25:54.650 [main] ←[34mINFO ←[0;39m o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n&gt;2023-05-07 13:25:55.281 [main] ←[34mINFO ←[0;39m c.marklogic.hub.central.Application - Started Application in 5.533 seconds (JVM running for 5.971)\r\n\r\n&gt;2023-05-07 13:26:01.161 [http-nio-8080-exec-1] ←[34mINFO ←[0;39m o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n\r\n&gt;2023-05-07 13:26:06.689 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m com.marklogic.hub.impl.HubConfigImpl - Could not find the datahubConfig.json file. Logging the cause for the failure\r\n\r\n&gt;2023-05-07 13:26:06.689 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m com.marklogic.hub.impl.HubConfigImpl - java.net.ConnectException: Failed to connect to localhost/127.0.0.1:8010\r\n\r\n&gt;2023-05-07 13:26:06.719 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m c.m.a.DefaultAppConfigFactory - App host: localhost\r\n\r\n&gt;2023-05-07 13:26:06.720 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m c.m.a.DefaultAppConfigFactory - REST admin username: admin\r\n\r\n&gt;2023-05-07 13:26:06.723 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m c.m.a.DefaultAppConfigFactory - App Services username: admin\r\n\r\n&gt;2023-05-07 13:26:06.729 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m c.m.m.a.DefaultAdminConfigFactory - Admin interface host: localhost\r\n\r\n&gt;2023-05-07 13:26:06.730 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m c.m.m.a.DefaultAdminConfigFactory - Admin interface username: admin\r\n\r\n&gt;2023-05-07 13:26:06.734 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m c.m.mgmt.DefaultManageConfigFactory - Manage host: localhost\r\n\r\n&gt;2023-05-07 13:26:06.739 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m c.m.mgmt.DefaultManageConfigFactory - Manage username: admin\r\n\r\n&gt;2023-05-07 13:26:06.739 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m c.m.mgmt.DefaultManageConfigFactory - Manage user with security role: admin\r\n\r\n&gt;2023-05-07 13:26:06.836 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m com.marklogic.mgmt.ManageClient - Initializing ManageClient with manage config of: [ManageConfig host: localhost, port: 8002, username: admin, security username: admin]\r\n\r\n&gt;2023-05-07 13:26:06.867 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m com.marklogic.mgmt.ManageClient - Initializing ManageClient with manage config of: [ManageConfig host: localhost, port: 8002, username: admin, security username: admin]\r\n\r\n&gt;2023-05-07 13:26:08.936 [http-nio-8080-exec-9] ←[1;31mERROR←[0;39m o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\ncom.marklogic.client.MarkLogicIOException: java.net.ConnectException: Failed to connect to localhost/127.0.0.1:8010\r\n\r\nThis is fresh installation MarkLogic Data Hun 5.8.1, using java 1.8.0, Gradle 8.1.1 and MarkLogic DB 11.x on windows laptop 10. As try to login MarkLogic Data Hub localhost:8080, getting above exception with file","title":"MarkLogic+&#39;Could not find the datahubConfig.json file&#39;","body":"<p>I'm getting this java exception since MarkLogic Data Hub is not able to login to MarkLogic database on Windows Laptop set up.</p>\n<p>From <code>c:\\quickstart-tutorial\\quickstart-tutorial\\project</code></p>\n<p>Execute: <code>java -jar marklogic-data-hub-central-5.8.1.war</code></p>\n<p>And see then see:</p>\n<blockquote>\n<p>2023-05-07 13:25:50.162 [main] ←[34mINFO ←[0;39m c.marklogic.hub.central.Application - Starting Application using Java 1.8.0_191 on DESKTOP-XXXXXX with PID 36920 (C:\\quickstart-tutorial\\quickstart-tutorial\\project\\marklogic-data-hub-central-5.8.1.war started by XXXXX in c:\\quickstart-tutorial\\quickstart-tutorial\\project)</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:25:50.165 [main] ←[34mINFO ←[0;39m c.marklogic.hub.central.Application - No active profile set, falling back to 1 default profile: &quot;default&quot;</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:25:51.942 [main] ←[34mINFO ←[0;39m o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler [&quot;http-nio-8080&quot;]</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:25:51.943 [main] ←[34mINFO ←[0;39m o.a.catalina.core.StandardService - Starting service [Tomcat]</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:25:51.946 [main] ←[34mINFO ←[0;39m o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.65]</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:25:53.340 [main] ←[34mINFO ←[0;39m o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:25:53.634 [main] ←[34mINFO ←[0;39m com.marklogic.hub.central.HubCentral - Will connect to MarkLogic host: localhost</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:25:53.635 [main] ←[34mINFO ←[0;39m com.marklogic.hub.central.HubCentral - Hub Central is available at port: 8080</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:25:54.650 [main] ←[34mINFO ←[0;39m o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler [&quot;http-nio-8080&quot;]\n2023-05-07 13:25:55.281 [main] ←[34mINFO ←[0;39m c.marklogic.hub.central.Application - Started Application in 5.533 seconds (JVM running for 5.971)</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:26:01.161 [http-nio-8080-exec-1] ←[34mINFO ←[0;39m o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:26:06.689 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m com.marklogic.hub.impl.HubConfigImpl - Could not find the datahubConfig.json file. Logging the cause for the failure</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:26:06.689 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m com.marklogic.hub.impl.HubConfigImpl - java.net.ConnectException: Failed to connect to localhost/127.0.0.1:8010</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:26:06.719 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m c.m.a.DefaultAppConfigFactory - App host: localhost</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:26:06.720 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m c.m.a.DefaultAppConfigFactory - REST admin username: admin</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:26:06.723 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m c.m.a.DefaultAppConfigFactory - App Services username: admin</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:26:06.729 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m c.m.m.a.DefaultAdminConfigFactory - Admin interface host: localhost</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:26:06.730 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m c.m.m.a.DefaultAdminConfigFactory - Admin interface username: admin</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:26:06.734 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m c.m.mgmt.DefaultManageConfigFactory - Manage host: localhost</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:26:06.739 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m c.m.mgmt.DefaultManageConfigFactory - Manage username: admin</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:26:06.739 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m c.m.mgmt.DefaultManageConfigFactory - Manage user with security role: admin</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:26:06.836 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m com.marklogic.mgmt.ManageClient - Initializing ManageClient with manage config of: [ManageConfig host: localhost, port: 8002, username: admin, security username: admin]</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:26:06.867 [http-nio-8080-exec-9] ←[34mINFO ←[0;39m com.marklogic.mgmt.ManageClient - Initializing ManageClient with manage config of: [ManageConfig host: localhost, port: 8002, username: admin, security username: admin]</p>\n</blockquote>\n<blockquote>\n<p>2023-05-07 13:26:08.936 [http-nio-8080-exec-9] ←[1;31mERROR←[0;39m o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\ncom.marklogic.client.MarkLogicIOException: java.net.ConnectException: Failed to connect to localhost/127.0.0.1:8010</p>\n</blockquote>\n<p>This is fresh installation MarkLogic Data Hun 5.8.1, using java 1.8.0, Gradle 8.1.1 and MarkLogic DB 11.x on windows laptop 10. As try to login MarkLogic Data Hub localhost:8080, getting above exception with file</p>\n"},{"tags":["java","android","google-maps","nullpointerexception","mapfragment"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1498965501,"post_id":44867143,"comment_id":76713532,"body_markdown":"`findFragmentById` returns null. See the documentation why","body":"<code>findFragmentById</code> returns null. See the documentation why"},{"owner":{"account_id":11237241,"reputation":13,"user_id":8242916,"display_name":"Randy Wiratama"},"score":0,"creation_date":1498966058,"post_id":44867143,"comment_id":76713586,"body_markdown":"@cricket_007\n\nthis is my activity_main.xml\n\n\n&#39;&lt;fragment xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:map=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/map&quot;\n    android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;com.example.randy.mapspaycool.MapsActivity&quot; /&gt;&#39;","body":"@cricket_007  this is my activity_main.xml   &#39;&lt;fragment xmlns:android=&quot;<a href=\"http://schemas.android.com/apk/res/android\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res/android</a>&quot;     xmlns:map=&quot;<a href=\"http://schemas.android.com/apk/res-auto\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res-auto</a>&quot;     xmlns:tools=&quot;<a href=\"http://schemas.android.com/tools\" rel=\"nofollow noreferrer\">schemas.android.com/tools</a>&quot;     android:id=&quot;@+id/map&quot;     android:name=&quot;com.google.android.gms.maps.SupportMapFragment&zwnj;&#8203;&quot;     android:layout_width=&quot;match_parent&quot;     android:layout_height=&quot;match_parent&quot;     tools:context=&quot;com.example.randy.mapspaycool.MapsActivity&quot; /&gt;&#39;"},{"owner":{"account_id":8045591,"reputation":347,"user_id":6120848,"display_name":"Sriram Kailasam"},"score":0,"creation_date":1498966390,"post_id":44867143,"comment_id":76713620,"body_markdown":"Post the code for fragment here. Have you used support fragment or the normal one?","body":"Post the code for fragment here. Have you used support fragment or the normal one?"},{"owner":{"account_id":11237241,"reputation":13,"user_id":8242916,"display_name":"Randy Wiratama"},"score":0,"creation_date":1498967634,"post_id":44867143,"comment_id":76713786,"body_markdown":"protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_maps);\n\n        mapFragment = (MapFragment) getFragmentManager().findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this); @SriramKailasam","body":"protected void onCreate(Bundle savedInstanceState) {         super.onCreate(savedInstanceState);         setContentView(R.layout.activity_maps);          mapFragment = (MapFragment) getFragmentManager().findFragmentById(R.id.map);         mapFragment.getMapAsync(this); @SriramKailasam"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1498970527,"post_id":44867143,"comment_id":76714204,"body_markdown":"Don&#39;t put more information into comments. Update the question instead.","body":"Don&#39;t put more information into comments. Update the question instead."}],"answers":[{"tags":[],"owner":{"account_id":8045591,"reputation":347,"user_id":6120848,"display_name":"Sriram Kailasam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1498968210,"creation_date":1498968210,"answer_id":44867343,"question_id":44867143,"body_markdown":"Looks like you are using `SupportMapFragment` instead of `MapFragment`.\r\n\r\nChange this line:\r\n\r\n`    mapFragment = (MapFragment) getFragmentManager().findFragmentById(R.id.map);`\r\n\r\nTo this:\r\n\r\n`    mapFragment = (MapFragment) getSupportFragmentManager().findFragmentById(R.id.map);`\r\n","title":"NullPointerException : Attempt to invoke virtual method &#39;void com.google.android.gms.maps.MapFragment.getMapAsync","body":"<p>Looks like you are using <code>SupportMapFragment</code> instead of <code>MapFragment</code>.</p>\n\n<p>Change this line:</p>\n\n<p><code>mapFragment = (MapFragment) getFragmentManager().findFragmentById(R.id.map);</code></p>\n\n<p>To this:</p>\n\n<p><code>mapFragment = (MapFragment) getSupportFragmentManager().findFragmentById(R.id.map);</code></p>\n"}],"owner":{"account_id":11237241,"reputation":13,"user_id":8242916,"display_name":"Randy Wiratama"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7752,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44867343,"answer_count":1,"score":1,"last_activity_date":1683581041,"creation_date":1498965313,"question_id":44867143,"body_markdown":"I&#39;m using `com.google.android.gms:play-services-maps:11.0.2` version of Google Map Service. When trying to call the below, I get the following error:\r\n\r\n  \r\n\r\n&gt; java.lang.NullPointerException: Attempt to invoke virtual method  \r\n&gt; void\r\n\r\ncom.google.android.gms.maps.MapFragment.getMapAsync(com.google.android.gms.maps.OnMapReadyCallback)&#39; on a null object reference\r\n\r\n\r\n**Below is my code:**\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_maps);\r\n\r\n        mapFragment = (MapFragment) getFragmentManager().findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n\r\n    }\r\n\r\n","title":"NullPointerException : Attempt to invoke virtual method &#39;void com.google.android.gms.maps.MapFragment.getMapAsync","body":"<p>I'm using <code>com.google.android.gms:play-services-maps:11.0.2</code> version of Google Map Service. When trying to call the below, I get the following error:</p>\n\n<blockquote>\n  <p>java.lang.NullPointerException: Attempt to invoke virtual method<br>\n  void</p>\n</blockquote>\n\n<p>com.google.android.gms.maps.MapFragment.getMapAsync(com.google.android.gms.maps.OnMapReadyCallback)' on a null object reference</p>\n\n<p><strong>Below is my code:</strong></p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_maps);\n\n    mapFragment = (MapFragment) getFragmentManager().findFragmentById(R.id.map);\n    mapFragment.getMapAsync(this);\n\n}\n</code></pre>\n"},{"tags":["java","project-reactor","spring-data-redis"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1682110902,"post_id":76076351,"comment_id":134169813,"body_markdown":"That&#39;s an expected behavior, any publisher stops on error. I guess you handle errors on the subscribers, but that has nothing with the sink. If you want to avoid breaking the sink you could try a diffrent way to notify about the internal failures, b/c `emitError` would certainly emit an error and therefore stop the sink.","body":"That&#39;s an expected behavior, any publisher stops on error. I guess you handle errors on the subscribers, but that has nothing with the sink. If you want to avoid breaking the sink you could try a diffrent way to notify about the internal failures, b/c <code>emitError</code> would certainly emit an error and therefore stop the sink."}],"answers":[{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683580618,"creation_date":1683563077,"answer_id":76202462,"question_id":76076351,"body_markdown":"According to the [Reactor reference][1]:\r\n&gt; In Reactive Streams, errors are terminal events. As soon as an error occurs, it stops the sequence and gets propagated down the chain of operators to the last step, the Subscriber you defined and its onError method.\r\n\r\nWhat you can do depends on the location of the exception that caused your Flux to terminate. If the exception originated from the `// .... do stuff` block, you can handle it within the sub-chain instead of passing it to the main chain.\r\n\r\nAn example of code that replaces &quot;failed event&quot; with an empty mono and does not terminate the flux:\r\n\r\n```java\r\nvar failureHandler = Sinks.EmitFailureHandler.busyLooping(Duration.ofSeconds(5));\r\nSinks.Many&lt;Integer&gt; sink = Sinks.many().multicast().onBackpressureBuffer();\r\n\r\nfor (int i = 0; i &lt;= 3; i++) {\r\n    sink.emitNext(i, failureHandler);\r\n}\r\n\r\nsink.asFlux()\r\n    .flatMap(event -&gt;\r\n        Mono.just(event)\r\n            .mapNotNull(e -&gt; {\r\n                if (e == 2) {\r\n                    throw new RuntimeException(e.toString());\r\n                }\r\n                return e;\r\n            })\r\n            .onErrorResume(Exception.class, e -&gt; Mono.empty())\r\n    )\r\n    .doOnNext(it -&gt; System.out.println(&quot;doOnNext: &quot; + it))\r\n    .subscribe();\r\n```\r\n\r\nIt outputs:\r\n\r\n```\r\ndoOnNext: 0\r\ndoOnNext: 1\r\ndoOnNext: 3\r\n```\r\n\r\nPlease note that the number 2 is missing due to an exception that occurred while handling it.\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/#error.handling","title":"How to emit more events from a sink after an error","body":"<p>According to the <a href=\"https://projectreactor.io/docs/core/release/reference/#error.handling\" rel=\"nofollow noreferrer\">Reactor reference</a>:</p>\n<blockquote>\n<p>In Reactive Streams, errors are terminal events. As soon as an error occurs, it stops the sequence and gets propagated down the chain of operators to the last step, the Subscriber you defined and its onError method.</p>\n</blockquote>\n<p>What you can do depends on the location of the exception that caused your Flux to terminate. If the exception originated from the <code>// .... do stuff</code> block, you can handle it within the sub-chain instead of passing it to the main chain.</p>\n<p>An example of code that replaces &quot;failed event&quot; with an empty mono and does not terminate the flux:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var failureHandler = Sinks.EmitFailureHandler.busyLooping(Duration.ofSeconds(5));\nSinks.Many&lt;Integer&gt; sink = Sinks.many().multicast().onBackpressureBuffer();\n\nfor (int i = 0; i &lt;= 3; i++) {\n    sink.emitNext(i, failureHandler);\n}\n\nsink.asFlux()\n    .flatMap(event -&gt;\n        Mono.just(event)\n            .mapNotNull(e -&gt; {\n                if (e == 2) {\n                    throw new RuntimeException(e.toString());\n                }\n                return e;\n            })\n            .onErrorResume(Exception.class, e -&gt; Mono.empty())\n    )\n    .doOnNext(it -&gt; System.out.println(&quot;doOnNext: &quot; + it))\n    .subscribe();\n</code></pre>\n<p>It outputs:</p>\n<pre><code>doOnNext: 0\ndoOnNext: 1\ndoOnNext: 3\n</code></pre>\n<p>Please note that the number 2 is missing due to an exception that occurred while handling it.</p>\n"}],"owner":{"account_id":15247587,"reputation":255,"user_id":11002019,"display_name":"sunalive"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683580618,"creation_date":1682106787,"question_id":76076351,"body_markdown":"I&#39;m trying to write some code to publish redis cache updates via a reactor sink.\r\n\r\nI&#39;m using the following sink:\r\n\r\n```java\r\n    private final Sinks.Many&lt;String&gt; sink = Sinks.many().multicast().onBackpressureBuffer(Queues.SMALL_BUFFER_SIZE, false);\r\n```\r\n\r\nAnd this is my omMessage listener:\r\n\r\n```java\r\n    @Override\r\n    public void onMessage(Message message, byte[] pattern) {\r\n        try {\r\n            // Do some stuff\r\n            sink.emitNext(new String(message.getBody()), Sinks.EmitFailureHandler.busyLooping(Duration.ofMillis(500)));\r\n        } catch (final Exception e) {\r\n            sink.emitError(e, Sinks.EmitFailureHandler.busyLooping(Duration.ofMillis(500)));\r\n        }\r\n    }\r\n```\r\n\r\nAnd I return flux to multiple consumers using:\r\n```java\r\n    public Flux&lt;String&gt; getPublisher() {\r\n        return Flux.from(sink.asFlux().publishOn(Schedulers.single()));\r\n    }\r\n```\r\n\r\nWhen using the above code with a simple subscriber:\r\n\r\n```java\r\nredisPubSub.getPublisher()\r\n.bufferTimeout(MAX_BUFFER_SIZE, MAX_BUFFER_DURATION)\r\n.mapNotNull(event -&gt; {\r\n// .... do stuff\r\n})\r\n```\r\nThen as soon as my an error happens no other subscriber can subscribe to my sink. Even is I handle errors, the next time I try to subscribe it instantly just errors. What should I be doing about this? (Bearing in mind that I&#39;m using a spring redis message listener which is multi-threaded).\r\n\r\nAny help would be greatly appreciated!\r\n\r\n","title":"How to emit more events from a sink after an error","body":"<p>I'm trying to write some code to publish redis cache updates via a reactor sink.</p>\n<p>I'm using the following sink:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private final Sinks.Many&lt;String&gt; sink = Sinks.many().multicast().onBackpressureBuffer(Queues.SMALL_BUFFER_SIZE, false);\n</code></pre>\n<p>And this is my omMessage listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void onMessage(Message message, byte[] pattern) {\n        try {\n            // Do some stuff\n            sink.emitNext(new String(message.getBody()), Sinks.EmitFailureHandler.busyLooping(Duration.ofMillis(500)));\n        } catch (final Exception e) {\n            sink.emitError(e, Sinks.EmitFailureHandler.busyLooping(Duration.ofMillis(500)));\n        }\n    }\n</code></pre>\n<p>And I return flux to multiple consumers using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Flux&lt;String&gt; getPublisher() {\n        return Flux.from(sink.asFlux().publishOn(Schedulers.single()));\n    }\n</code></pre>\n<p>When using the above code with a simple subscriber:</p>\n<pre class=\"lang-java prettyprint-override\"><code>redisPubSub.getPublisher()\n.bufferTimeout(MAX_BUFFER_SIZE, MAX_BUFFER_DURATION)\n.mapNotNull(event -&gt; {\n// .... do stuff\n})\n</code></pre>\n<p>Then as soon as my an error happens no other subscriber can subscribe to my sink. Even is I handle errors, the next time I try to subscribe it instantly just errors. What should I be doing about this? (Bearing in mind that I'm using a spring redis message listener which is multi-threaded).</p>\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["java","linux","java-native-interface","shared-libraries"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1683271427,"post_id":76179344,"comment_id":134344196,"body_markdown":"Please be less vague and show the actual code and error.","body":"Please be less vague and show the actual code and error."},{"owner":{"account_id":16754013,"reputation":105,"user_id":12110409,"display_name":"VladG"},"score":0,"creation_date":1683272386,"post_id":76179344,"comment_id":134344396,"body_markdown":"This looks like a similar problem: https://stackoverflow.com/questions/5425034/java-load-shared-libraries-with-dependencies","body":"This looks like a similar problem: <a href=\"https://stackoverflow.com/questions/5425034/java-load-shared-libraries-with-dependencies\" title=\"java load shared libraries with dependencies\">stackoverflow.com/questions/5425034/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16754013,"reputation":105,"user_id":12110409,"display_name":"VladG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683579971,"creation_date":1683579971,"answer_id":76204352,"question_id":76179344,"body_markdown":"I&#39;m not using JNA but this is essentially the same problem and I was able to use a native library loader to work around it as discussed here: https://stackoverflow.com/questions/5425034/java-load-shared-libraries-with-dependencies","title":"Java JNI UnsatisfiedLinkError on Linux when loading multiple libraries","body":"<p>I'm not using JNA but this is essentially the same problem and I was able to use a native library loader to work around it as discussed here: <a href=\"https://stackoverflow.com/questions/5425034/java-load-shared-libraries-with-dependencies\">Java: load shared libraries with dependencies</a></p>\n"}],"owner":{"account_id":16754013,"reputation":105,"user_id":12110409,"display_name":"VladG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683579971,"creation_date":1683267940,"question_id":76179344,"body_markdown":"```\r\npublic class Foo {\r\n\tstatic {\r\n\t\tSystem.loadLibrary(&quot;lib1&quot;);\r\n\t\tSystem.loadLibrary(&quot;lib2&quot;);\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n        //...\r\n\t}\r\n}\r\n```\r\n\r\nGetting a ULE on lib2 load for a public static bool member field that&#39;s defined in the lib1&#39;s bss section according to nm. Both are shared libraries. lib1 successfully loads according to Xlog:library=info. Any ideas what can be causing this?","title":"Java JNI UnsatisfiedLinkError on Linux when loading multiple libraries","body":"<pre><code>public class Foo {\n    static {\n        System.loadLibrary(&quot;lib1&quot;);\n        System.loadLibrary(&quot;lib2&quot;);\n    }\n    \n    \n    public static void main(String[] args) {\n        //...\n    }\n}\n</code></pre>\n<p>Getting a ULE on lib2 load for a public static bool member field that's defined in the lib1's bss section according to nm. Both are shared libraries. lib1 successfully loads according to Xlog:library=info. Any ideas what can be causing this?</p>\n"},{"tags":["java","android","android-deep-link"],"answers":[{"tags":[],"owner":{"account_id":5301808,"reputation":141,"user_id":4231143,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1664576170,"creation_date":1664576170,"answer_id":73914416,"question_id":73737278,"body_markdown":"I think the issue is you need to include that signature into your `assetlinks.json`. I see your file here:\r\n\r\nhttps://cleanassistant.net/.well-known/assetlinks.json\r\n\r\nIt does *not* have the signature in your output: `9D:F7:97:FE:92:94:1A:67:96:80:D4:07:84:F8:42:8E:96:50:2B:C2:2D:CC:19:AD:0F:CC:F1:A4:E0:72:39:BE`\r\n\r\nAre doing a local build that is not signed by the Google Play store? We had the same problem, and the issue was that our `assetlinks.json` only included the Google Play certificate fingerprint, not the certificate fingerprint used when creating local builds (whether `.aab` or `.apk`). Once we added the local fingerprint to `assetlinks.json`, the app link successfully `verified`. Without that, we kept getting the `1024` error.\r\n\r\nYour `assetlinks.json` is otherwise valid, as you can verify here:\r\n\r\nhttps://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://cleanassistant.net&amp;relation=delegate_permission/common.handle_all_urls","title":"How to resolve Android get-app-links Returns State 1024?","body":"<p>I think the issue is you need to include that signature into your <code>assetlinks.json</code>. I see your file here:</p>\n<p><a href=\"https://cleanassistant.net/.well-known/assetlinks.json\" rel=\"noreferrer\">https://cleanassistant.net/.well-known/assetlinks.json</a></p>\n<p>It does <em>not</em> have the signature in your output: <code>9D:F7:97:FE:92:94:1A:67:96:80:D4:07:84:F8:42:8E:96:50:2B:C2:2D:CC:19:AD:0F:CC:F1:A4:E0:72:39:BE</code></p>\n<p>Are doing a local build that is not signed by the Google Play store? We had the same problem, and the issue was that our <code>assetlinks.json</code> only included the Google Play certificate fingerprint, not the certificate fingerprint used when creating local builds (whether <code>.aab</code> or <code>.apk</code>). Once we added the local fingerprint to <code>assetlinks.json</code>, the app link successfully <code>verified</code>. Without that, we kept getting the <code>1024</code> error.</p>\n<p>Your <code>assetlinks.json</code> is otherwise valid, as you can verify here:</p>\n<p><a href=\"https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://cleanassistant.net&amp;relation=delegate_permission/common.handle_all_urls\" rel=\"noreferrer\">https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://cleanassistant.net&amp;relation=delegate_permission/common.handle_all_urls</a></p>\n"},{"tags":[],"owner":{"account_id":34336,"reputation":2174,"user_id":96984,"accept_rate":83,"display_name":"SkaveRat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679311653,"creation_date":1679311653,"answer_id":75789715,"question_id":73737278,"body_markdown":"In our case we had indeed a missing signature in the `assetlinks.json`.\r\n\r\n**BUT**, the file was agressively cached. Which caused the app not to re-verify once we fixed it.\r\n\r\nAfter we stopped setting a cache header for the file and a force re-verify via\r\n\r\n`adb shell pm verify-app-links --re-verify com.example`\r\n\r\nWe could indeed get it to work.","title":"How to resolve Android get-app-links Returns State 1024?","body":"<p>In our case we had indeed a missing signature in the <code>assetlinks.json</code>.</p>\n<p><strong>BUT</strong>, the file was agressively cached. Which caused the app not to re-verify once we fixed it.</p>\n<p>After we stopped setting a cache header for the file and a force re-verify via</p>\n<p><code>adb shell pm verify-app-links --re-verify com.example</code></p>\n<p>We could indeed get it to work.</p>\n"},{"tags":[],"owner":{"account_id":3779161,"reputation":494,"user_id":3139120,"accept_rate":67,"display_name":"fabienbranchel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682418575,"creation_date":1682415908,"answer_id":76099769,"question_id":73737278,"body_markdown":"Helpful links to understand the all thing and debug these issues : \r\n\r\n - https://developer.android.com/training/app-links/verify-android-applinks\r\n - https://zarah.dev/2022/02/08/android12-deeplinks.html\r\n - https://medium.com/mobile-app-development-publication/5-gotchas-of-androids-deep-link-implementation-8d6499051274\r\n\r\nAlso, you can monitor this in Google Play Console, in the Deep links menu. You can get some hints there.\r\n\r\nIn my case, the issue was geofencing enable to Europe for my domain, making it impossible for Google to verify links (because they seems to do it from USA), so I needed to disable it.","title":"How to resolve Android get-app-links Returns State 1024?","body":"<p>Helpful links to understand the all thing and debug these issues :</p>\n<ul>\n<li><a href=\"https://developer.android.com/training/app-links/verify-android-applinks\" rel=\"nofollow noreferrer\">https://developer.android.com/training/app-links/verify-android-applinks</a></li>\n<li><a href=\"https://zarah.dev/2022/02/08/android12-deeplinks.html\" rel=\"nofollow noreferrer\">https://zarah.dev/2022/02/08/android12-deeplinks.html</a></li>\n<li><a href=\"https://medium.com/mobile-app-development-publication/5-gotchas-of-androids-deep-link-implementation-8d6499051274\" rel=\"nofollow noreferrer\">https://medium.com/mobile-app-development-publication/5-gotchas-of-androids-deep-link-implementation-8d6499051274</a></li>\n</ul>\n<p>Also, you can monitor this in Google Play Console, in the Deep links menu. You can get some hints there.</p>\n<p>In my case, the issue was geofencing enable to Europe for my domain, making it impossible for Google to verify links (because they seems to do it from USA), so I needed to disable it.</p>\n"},{"tags":[],"owner":{"account_id":1211070,"reputation":410,"user_id":1179582,"display_name":"santeko"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1683579042,"creation_date":1683579042,"answer_id":76204277,"question_id":73737278,"body_markdown":"The solution that worked for me was replacing my SHA256 fingerprint in my assetlinks.json with the Signature that&#39;s returned from \r\n\r\n```\r\nadb shell pm get-app-links com.package.name\r\n```\r\n\r\nMost of the documentation suggests using the fingerprint that&#39;s returned from your signing key:\r\n\r\n```\r\nkeytool -list -v -keystore release-key.keystore -alias &lt;alias&gt; -storepass &lt;password&gt; -keypass &lt;password&gt;\r\n```\r\n\r\nBut that didn&#39;t work for me because Google Play now seems to be signing my app even though when I generate the .aab in Android Studio, the local key is used. The inner workings of that I don&#39;t fully understand but I was getting the `1024` error for weeks. \r\n\r\nSteps:\r\n 1. Run `adb shell pm get-app-links com.package.name`\r\n 2. That will return something like:\r\n```\r\nID: a07e3734-cdbd-4389-946c-b9ebda8c3892\r\n    Signatures: [00: .... the actual fingerprint ..... 00]\r\n    Domain verification state:\r\n      app.revillager.com: 1024\r\n```\r\n 3. Take that signature and paste that into your assetlinks.json:\r\n```\r\n{\r\n ...\r\n &quot;sha256_cert_fingerprints&quot;: [\r\n        &quot;00: .... the actual fingerprint ..... 00&quot;\r\n      ]\r\n ...\r\n}\r\n```\r\n 4. Push that file to your hosting service.\r\n 5. Run the re-verify command, checking the status after 10 seconds (may have to do this multiple times):\r\n```\r\nadb shell pm verify-app-links --re-verify com.package.name\r\nadb shell pm get-app-links com.package.name\r\n```\r\n 6. Once you see `Domain verification state: com.package.name: verified`, test this is working by using:\r\n```\r\nadb shell am start -a android.intent.action.VIEW -c android.intent.category.BROWSABLE -d &quot;https://deeplinksite.com&quot;\r\n```\r\nAnd that should launch the app on your device instead of in chrome.\r\n ","title":"How to resolve Android get-app-links Returns State 1024?","body":"<p>The solution that worked for me was replacing my SHA256 fingerprint in my assetlinks.json with the Signature that's returned from</p>\n<pre><code>adb shell pm get-app-links com.package.name\n</code></pre>\n<p>Most of the documentation suggests using the fingerprint that's returned from your signing key:</p>\n<pre><code>keytool -list -v -keystore release-key.keystore -alias &lt;alias&gt; -storepass &lt;password&gt; -keypass &lt;password&gt;\n</code></pre>\n<p>But that didn't work for me because Google Play now seems to be signing my app even though when I generate the .aab in Android Studio, the local key is used. The inner workings of that I don't fully understand but I was getting the <code>1024</code> error for weeks.</p>\n<p>Steps:</p>\n<ol>\n<li>Run <code>adb shell pm get-app-links com.package.name</code></li>\n<li>That will return something like:</li>\n</ol>\n<pre><code>ID: a07e3734-cdbd-4389-946c-b9ebda8c3892\n    Signatures: [00: .... the actual fingerprint ..... 00]\n    Domain verification state:\n      app.revillager.com: 1024\n</code></pre>\n<ol start=\"3\">\n<li>Take that signature and paste that into your assetlinks.json:</li>\n</ol>\n<pre><code>{\n ...\n &quot;sha256_cert_fingerprints&quot;: [\n        &quot;00: .... the actual fingerprint ..... 00&quot;\n      ]\n ...\n}\n</code></pre>\n<ol start=\"4\">\n<li>Push that file to your hosting service.</li>\n<li>Run the re-verify command, checking the status after 10 seconds (may have to do this multiple times):</li>\n</ol>\n<pre><code>adb shell pm verify-app-links --re-verify com.package.name\nadb shell pm get-app-links com.package.name\n</code></pre>\n<ol start=\"6\">\n<li>Once you see <code>Domain verification state: com.package.name: verified</code>, test this is working by using:</li>\n</ol>\n<pre><code>adb shell am start -a android.intent.action.VIEW -c android.intent.category.BROWSABLE -d &quot;https://deeplinksite.com&quot;\n</code></pre>\n<p>And that should launch the app on your device instead of in chrome.</p>\n"}],"owner":{"account_id":19808882,"reputation":151,"user_id":14508216,"display_name":"Alex Charles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4215,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":4,"score":15,"last_activity_date":1683579042,"creation_date":1663274951,"question_id":73737278,"body_markdown":"I can&#39;t get deep links to work on Android 13, I&#39;ve followed every tutorial out there and can&#39;t get the app to simply start after entering the website.\r\n\r\nI used the command in the android studio terminal:\r\n\r\n```\r\nadb shell pm get-app-links com.where44444.cleanbook\r\n```\r\n\r\nand it returns\r\n\r\n```\r\n  com.where44444.cleanbook:\r\n    ID: 0892ecd5-a93b-4064-bb2c-5d6cae6e7ac6\r\n    Signatures: [9D:F7:97:FE:92:94:1A:67:96:80:D4:07:84:F8:42:8E:96:50:2B:C2:2D:CC:19:AD:0F:CC:F1:A4:E0:72:39:BE]\r\n    Domain verification state:\r\n      cleanassistant.net: 1024\r\n      www.cleanassistant.net: 1024\r\n```\r\n\r\nThe documentation says \r\n\r\n&gt; Error code of 1024 or greater\r\n&gt;&gt; Custom error code that&#39;s specific to the device&#39;s verifier.\r\n\r\n&gt;&gt; Double-check that you have established a network connection, and invoke the domain verification process again.\r\n\r\nI am indeed connected to the internet both on laptop and phone.\r\n\r\n\r\nAny help would be appreciated.","title":"How to resolve Android get-app-links Returns State 1024?","body":"<p>I can't get deep links to work on Android 13, I've followed every tutorial out there and can't get the app to simply start after entering the website.</p>\n<p>I used the command in the android studio terminal:</p>\n<pre><code>adb shell pm get-app-links com.where44444.cleanbook\n</code></pre>\n<p>and it returns</p>\n<pre><code>  com.where44444.cleanbook:\n    ID: 0892ecd5-a93b-4064-bb2c-5d6cae6e7ac6\n    Signatures: [9D:F7:97:FE:92:94:1A:67:96:80:D4:07:84:F8:42:8E:96:50:2B:C2:2D:CC:19:AD:0F:CC:F1:A4:E0:72:39:BE]\n    Domain verification state:\n      cleanassistant.net: 1024\n      www.cleanassistant.net: 1024\n</code></pre>\n<p>The documentation says</p>\n<blockquote>\n<p>Error code of 1024 or greater</p>\n<blockquote>\n<p>Custom error code that's specific to the device's verifier.</p>\n</blockquote>\n</blockquote>\n<blockquote>\n<blockquote>\n<p>Double-check that you have established a network connection, and invoke the domain verification process again.</p>\n</blockquote>\n</blockquote>\n<p>I am indeed connected to the internet both on laptop and phone.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","spring","spring-boot","filter"],"comments":[{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1683577170,"post_id":76204018,"comment_id":134385238,"body_markdown":"Which do you use? Web or WebFlux?","body":"Which do you use? Web or WebFlux?"}],"answers":[{"tags":[],"owner":{"account_id":2048586,"reputation":840,"user_id":1828105,"display_name":"Hasasn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683577213,"creation_date":1683577213,"answer_id":76204101,"question_id":76204018,"body_markdown":"One easiest way to do is to add annotation on your GetMapping annotated method arguments with `@RequestHeader(required = true, name=&quot;X-Header-Name&quot;) String headerName`. \r\n\r\nOtherwise you can write your own implementation of `org.springframework.web.servlet.HandlerInterceptor` and then only implement `preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)`. \r\n\r\nNow you have access to request object and you easily check if the request is with method `GET`. You can easily find out with `request.getMethod()`.","title":"How to have Spring Boot Filter just for URL that are mapped by @GetMapping","body":"<p>One easiest way to do is to add annotation on your GetMapping annotated method arguments with <code>@RequestHeader(required = true, name=&quot;X-Header-Name&quot;) String headerName</code>.</p>\n<p>Otherwise you can write your own implementation of <code>org.springframework.web.servlet.HandlerInterceptor</code> and then only implement <code>preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)</code>.</p>\n<p>Now you have access to request object and you easily check if the request is with method <code>GET</code>. You can easily find out with <code>request.getMethod()</code>.</p>\n"}],"owner":{"account_id":4257209,"reputation":53,"user_id":3482578,"display_name":"Llaurick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683579017,"creation_date":1683576338,"question_id":76204018,"body_markdown":"We have multiples web services all in Springboot rest. We use a filter to validate that a call to a service contains some required http headers and the filter will also put the values in logger MDC. I would like that filter to be enabled only for URLs that are mapped in my service with @GetMapping. For exemple, if a URL does not exist (returns a 404 not found) I don&#39;t want that filter to be activated.\r\nSince my different services maps different URLs pattern, I cannot just specify the URL pattern in my filter (that filter is in a utility lib that services use). I want a solution that would work for all services.\r\n\r\nCurrently we have:\r\n\r\n    FilterRegistrationBean&lt;MetadataFilter&gt; metadataFilter(\r\n                MetadataContainer metadataContainer,\r\n                @Value(&quot;${path-exclusions: /swagger, /actuator, .yaml, /api-docs, .ico}&quot;) String[] pathExclusions,\r\n                @Qualifier(&quot;handlerExceptionResolver&quot;) HandlerExceptionResolver handlerExceptionResolver) {\r\n        ...\r\nbut this means that the filter is called on a 404 not found URL.\r\nIs there any way to code this?\r\nTY.","title":"How to have Spring Boot Filter just for URL that are mapped by @GetMapping","body":"<p>We have multiples web services all in Springboot rest. We use a filter to validate that a call to a service contains some required http headers and the filter will also put the values in logger MDC. I would like that filter to be enabled only for URLs that are mapped in my service with @GetMapping. For exemple, if a URL does not exist (returns a 404 not found) I don't want that filter to be activated.\nSince my different services maps different URLs pattern, I cannot just specify the URL pattern in my filter (that filter is in a utility lib that services use). I want a solution that would work for all services.</p>\n<p>Currently we have:</p>\n<pre><code>FilterRegistrationBean&lt;MetadataFilter&gt; metadataFilter(\n            MetadataContainer metadataContainer,\n            @Value(&quot;${path-exclusions: /swagger, /actuator, .yaml, /api-docs, .ico}&quot;) String[] pathExclusions,\n            @Qualifier(&quot;handlerExceptionResolver&quot;) HandlerExceptionResolver handlerExceptionResolver) {\n    ...\n</code></pre>\n<p>but this means that the filter is called on a 404 not found URL.\nIs there any way to code this?\nTY.</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1683573456,"post_id":76203583,"comment_id":134384468,"body_markdown":"&quot;I tried treating MyHttpClient like PropertieService and add a @Mock and a when thenReturn, that did nothing.&quot; - Explain what you actually did (show code) and explain what &quot;that did nothing means&quot;. Mocking the client is what you would have to do.","body":"&quot;I tried treating MyHttpClient like PropertieService and add a @Mock and a when thenReturn, that did nothing.&quot; - Explain what you actually did (show code) and explain what &quot;that did nothing means&quot;. Mocking the client is what you would have to do."},{"owner":{"account_id":4826578,"reputation":21,"user_id":3895908,"display_name":"niconosave"},"score":0,"creation_date":1683573658,"post_id":76203583,"comment_id":134384503,"body_markdown":"I added a @Mock\n      private MyHttpClient myClient; to my Test, and added a line like when(myClient.performCall()).thenReturn(new HttpResponse()); to my simpleCall(). and that does nothing, it still tries to execute the real performCall() method.","body":"I added a @Mock       private MyHttpClient myClient; to my Test, and added a line like when(myClient.performCall()).thenReturn(new HttpResponse()); to my simpleCall(). and that does nothing, it still tries to execute the real performCall() method."},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1683574284,"post_id":76203583,"comment_id":134384658,"body_markdown":"Personally I would inject `MyHttpClient` then mocking is trivial. That is easier said than done, but why does the `MyHttpClient` need to take the URL rather than the `performCall` method?","body":"Personally I would inject <code>MyHttpClient</code> then mocking is trivial. That is easier said than done, but why does the <code>MyHttpClient</code> need to take the URL rather than the <code>performCall</code> method?"},{"owner":{"account_id":4826578,"reputation":21,"user_id":3895908,"display_name":"niconosave"},"score":0,"creation_date":1683575077,"post_id":76203583,"comment_id":134384824,"body_markdown":"I don&#39;t know why Weston, that class is from a library made by a different team and they won&#39;t change it for my sake. essentially the instance has a variable with the url that it got from the constructor.","body":"I don&#39;t know why Weston, that class is from a library made by a different team and they won&#39;t change it for my sake. essentially the instance has a variable with the url that it got from the constructor."}],"answers":[{"tags":[],"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683577403,"creation_date":1683574706,"answer_id":76203854,"question_id":76203583,"body_markdown":"Mocking of constructors may be possible, but it&#39;s a sign that your code isn&#39;t structured in the best way possible.\r\n\r\nImagine if it was:\r\n\r\n    public class MyDataSourceImpl implements MyDataSource {\r\n       @Autowired\r\n       MyHttpClient myClient;\r\n\r\n       public HttpResponse execute(String url) {\r\n           HttpResponse response = myClient.performCall(url);\r\n           this.someOtherStuff(response);\r\n           return response;\r\n       }\r\n    }\r\n\r\nOne fewer dependencies, and easy to mock. All from moving the `url` to the `performCall` method.\r\n\r\nWhen you can&#39;t change MyClient\r\n==\r\n\r\nCreate a level of indirection:\r\n\r\n    public interface HttpClientCall {\r\n        HttpResponse performCall(String url)\r\n    }\r\n    \r\n    public final class MyHttpClientCallAdaptor implements HttpClientCall {\r\n\r\n        private final PropertieService propertieService;\r\n\r\n        MyHttpClientCallAdaptor(PropertieService propertieService) {\r\n            this.propertieService = propertieService;\r\n        }\r\n\r\n        @Override\r\n        public HttpResponse performCall(String url) {\r\n            return new MyClient(url, propertieService)\r\n        }\r\n    } \r\n\r\nNow depend on `HttpClientCall`:\r\n\r\n    public class MyDataSourceImpl implements MyDataSource {\r\n       @Autowired\r\n       HttpClientCall myClient;\r\n\r\n       public HttpResponse execute(String url) {\r\n           HttpResponse response = myClient.performCall(url);\r\n           this.someOtherStuff(response);\r\n           return response;\r\n       }\r\n    }","title":"Mocking a Method with Mockito? but it&#39;s an instance inside the called method","body":"<p>Mocking of constructors may be possible, but it's a sign that your code isn't structured in the best way possible.</p>\n<p>Imagine if it was:</p>\n<pre><code>public class MyDataSourceImpl implements MyDataSource {\n   @Autowired\n   MyHttpClient myClient;\n\n   public HttpResponse execute(String url) {\n       HttpResponse response = myClient.performCall(url);\n       this.someOtherStuff(response);\n       return response;\n   }\n}\n</code></pre>\n<p>One fewer dependencies, and easy to mock. All from moving the <code>url</code> to the <code>performCall</code> method.</p>\n<h1>When you can't change MyClient</h1>\n<p>Create a level of indirection:</p>\n<pre><code>public interface HttpClientCall {\n    HttpResponse performCall(String url)\n}\n\npublic final class MyHttpClientCallAdaptor implements HttpClientCall {\n\n    private final PropertieService propertieService;\n\n    MyHttpClientCallAdaptor(PropertieService propertieService) {\n        this.propertieService = propertieService;\n    }\n\n    @Override\n    public HttpResponse performCall(String url) {\n        return new MyClient(url, propertieService)\n    }\n} \n</code></pre>\n<p>Now depend on <code>HttpClientCall</code>:</p>\n<pre><code>public class MyDataSourceImpl implements MyDataSource {\n   @Autowired\n   HttpClientCall myClient;\n\n   public HttpResponse execute(String url) {\n       HttpResponse response = myClient.performCall(url);\n       this.someOtherStuff(response);\n       return response;\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":4826578,"reputation":21,"user_id":3895908,"display_name":"niconosave"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76203854,"answer_count":1,"score":0,"last_activity_date":1683577403,"creation_date":1683572296,"question_id":76203583,"body_markdown":"So I&#39;ve been asked at work to add a JUnit test to my code (our app didn&#39;t have testing) but I&#39;ve hit my head against the wall.\r\n        Essentially I need to test MyDataSourceImpl.Java\r\n  \r\n\r\n      public class MyDataSourceImpl implements MyDataSource {\r\n           @Autowired\r\n           PropertieService propertieService;\r\n\r\n           public HttpResponse execute(String url){\r\n                  MyHttpClient myClient = new MyHttpClient(url,propertieService.getProperties());\r\n                  HttpResponse response = myClient.performCall();\r\n                  this.someOtherStuff(response);\r\n                  return response;\r\n           }\r\n        }\r\n\r\nthis is how I run my Test:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class MyDataSourceImplTest {\r\n          @InjectMocks\r\n          private MyDataSourceImpl myDataSourceImpl;\r\n          @Mock\r\n          private PropertieService propertieService;\r\n          \r\n          @Test\r\n          public void simpleCall(){\r\n               when(propertieService.getProperties()).thenReturn(new HashMap&lt;String,String&gt;());\r\n               HttpResponse response = myDataSourceImpl.execute(&quot;https://nothing.com&quot;);\r\n               assertEquals(response,&quot;&quot;);\r\n          }\r\n    }\r\n\r\nNow, I can mock the propertieService just fine, but how do I mock the myClient.performCall()? because that tries to call a database and it&#39;s never going to work in a Test. \r\n         I tried treating MyHttpClient like PropertieService and add a @Mock and a when thenReturn, that did nothing. is there any way to do this?\r\n\r\n edit: when I write that &quot;I tried treating MyHttpCliente like PropertieService&quot; I mean that \r\nI added a @Mock private MyHttpClient myClient; to my Test, and added a line like when(myClient.performCall()).thenReturn(new HttpResponse()); to my simpleCall(). and that does nothing, it still tries to execute the real performCall() method.","title":"Mocking a Method with Mockito? but it&#39;s an instance inside the called method","body":"<p>So I've been asked at work to add a JUnit test to my code (our app didn't have testing) but I've hit my head against the wall.\nEssentially I need to test MyDataSourceImpl.Java</p>\n<pre><code>  public class MyDataSourceImpl implements MyDataSource {\n       @Autowired\n       PropertieService propertieService;\n\n       public HttpResponse execute(String url){\n              MyHttpClient myClient = new MyHttpClient(url,propertieService.getProperties());\n              HttpResponse response = myClient.performCall();\n              this.someOtherStuff(response);\n              return response;\n       }\n    }\n</code></pre>\n<p>this is how I run my Test:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class MyDataSourceImplTest {\n      @InjectMocks\n      private MyDataSourceImpl myDataSourceImpl;\n      @Mock\n      private PropertieService propertieService;\n      \n      @Test\n      public void simpleCall(){\n           when(propertieService.getProperties()).thenReturn(new HashMap&lt;String,String&gt;());\n           HttpResponse response = myDataSourceImpl.execute(&quot;https://nothing.com&quot;);\n           assertEquals(response,&quot;&quot;);\n      }\n}\n</code></pre>\n<p>Now, I can mock the propertieService just fine, but how do I mock the myClient.performCall()? because that tries to call a database and it's never going to work in a Test.\nI tried treating MyHttpClient like PropertieService and add a @Mock and a when thenReturn, that did nothing. is there any way to do this?</p>\n<p>edit: when I write that &quot;I tried treating MyHttpCliente like PropertieService&quot; I mean that\nI added a @Mock private MyHttpClient myClient; to my Test, and added a line like when(myClient.performCall()).thenReturn(new HttpResponse()); to my simpleCall(). and that does nothing, it still tries to execute the real performCall() method.</p>\n"},{"tags":["java","android","database","postgresql","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1683480242,"post_id":76194972,"comment_id":134369894,"body_markdown":"Please [reconsider your use of JDBC on Android](https://stackoverflow.com/questions/15853367/jdbc-vs-web-service-for-android?r=Saves_AllUserSaves).","body":"Please <a href=\"https://stackoverflow.com/questions/15853367/jdbc-vs-web-service-for-android?r=Saves_AllUserSaves\">reconsider your use of JDBC on Android</a>."}],"answers":[{"tags":[],"owner":{"account_id":5037493,"reputation":2383,"user_id":4045880,"display_name":"Michal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683478565,"creation_date":1683478243,"answer_id":76195178,"question_id":76194972,"body_markdown":"The &lt;code&gt;url&lt;/code&gt; in the example code is mispelled (the `jdbc:postgres:` part of it). \r\n\r\nPlease see PostgreSQL [documentation][1] for the right spelling.\r\n\r\n\r\n  [1]: https://jdbc.postgresql.org/documentation/use/","title":"Couldn&#39;t connect to the Database from Android App giving &quot;java.sql.SQLException: No suitable driver found for --&quot;url Link&quot;","body":"<p>The <code>url</code> in the example code is mispelled (the <code>jdbc:postgres:</code> part of it).</p>\n<p>Please see PostgreSQL <a href=\"https://jdbc.postgresql.org/documentation/use/\" rel=\"nofollow noreferrer\">documentation</a> for the right spelling.</p>\n"}],"owner":{"account_id":28537690,"reputation":1,"user_id":21844182,"display_name":"Rometo Fernandez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683576486,"creation_date":1683475584,"question_id":76194972,"body_markdown":"```\r\n    url = &quot;jdbc:postgres://cvzsfhiy:**********.db.elephantsql.com/cvzsfhiy&quot;\r\n    user = &quot;cvzsfhiy&quot;\r\n    password = &quot;************&quot;\r\n\r\n    var conn1: Connection? = null\r\n    var conn2: Connection? = null\r\n    var conn3: Connection? = null\r\n\r\n    button.setOnClickListener {\r\n        try {\r\n            Class.forName(&quot;org.postgresql.Driver&quot;)\r\n\r\n            conn1 = DriverManager.getConnection(url, user, password)\r\n            if (conn1 != null) {\r\n                println(&quot;Connected to the database test1&quot;)\r\n                tv.text = &quot;Connection1&quot;\r\n            }\r\n\r\n            // connect way #2\r\n            val url2 = &quot;jdbc:postgres://cvzsfhiy:*********?user=cvzsfhiy&amp;password=***********&quot;\r\n            conn2 = DriverManager.getConnection(url2)\r\n            if (conn2 != null) {\r\n                println(&quot;Connected to the database test2&quot;)\r\n                tv.text = &quot;Connection2&quot;\r\n            }\r\n\r\n            // connect way #3\r\n            val url3 = &quot;jdbc:postgres://cvzsfhiy:************y.db.elephantsql.com/cvzsfhiy&quot;\r\n            val info = Properties()\r\n            info[&quot;user&quot;] = &quot;cvzsfhiy&quot;\r\n            info[&quot;password&quot;] = &quot;***************&quot;\r\n            conn3 = DriverManager.getConnection(url3, info)\r\n            if (conn3 != null) {\r\n                println(&quot;Connected to the database test3&quot;)\r\n                tv.text = &quot;Connection3&quot;\r\n            }\r\n        } catch (ex: SQLException) {\r\n            tv.text = &quot;An error occurred. Maybe user/password is invalid&quot;\r\n            ex.printStackTrace()\r\n        } catch (e: ClassNotFoundException) {\r\n            tv.text = &quot;Class Not Found&quot;\r\n            e.printStackTrace()\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n[This is my instance for the elephant sql][1]\r\nI&#39;m getting SQLException error,Couldn&#39;t connect to the Database from Android App giving &quot;java.sql.SQLException: No suitable driver found for --&quot;url Link&quot;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JrsHp.png","title":"Couldn&#39;t connect to the Database from Android App giving &quot;java.sql.SQLException: No suitable driver found for --&quot;url Link&quot;","body":"<pre><code>    url = &quot;jdbc:postgres://cvzsfhiy:**********.db.elephantsql.com/cvzsfhiy&quot;\n    user = &quot;cvzsfhiy&quot;\n    password = &quot;************&quot;\n\n    var conn1: Connection? = null\n    var conn2: Connection? = null\n    var conn3: Connection? = null\n\n    button.setOnClickListener {\n        try {\n            Class.forName(&quot;org.postgresql.Driver&quot;)\n\n            conn1 = DriverManager.getConnection(url, user, password)\n            if (conn1 != null) {\n                println(&quot;Connected to the database test1&quot;)\n                tv.text = &quot;Connection1&quot;\n            }\n\n            // connect way #2\n            val url2 = &quot;jdbc:postgres://cvzsfhiy:*********?user=cvzsfhiy&amp;password=***********&quot;\n            conn2 = DriverManager.getConnection(url2)\n            if (conn2 != null) {\n                println(&quot;Connected to the database test2&quot;)\n                tv.text = &quot;Connection2&quot;\n            }\n\n            // connect way #3\n            val url3 = &quot;jdbc:postgres://cvzsfhiy:************y.db.elephantsql.com/cvzsfhiy&quot;\n            val info = Properties()\n            info[&quot;user&quot;] = &quot;cvzsfhiy&quot;\n            info[&quot;password&quot;] = &quot;***************&quot;\n            conn3 = DriverManager.getConnection(url3, info)\n            if (conn3 != null) {\n                println(&quot;Connected to the database test3&quot;)\n                tv.text = &quot;Connection3&quot;\n            }\n        } catch (ex: SQLException) {\n            tv.text = &quot;An error occurred. Maybe user/password is invalid&quot;\n            ex.printStackTrace()\n        } catch (e: ClassNotFoundException) {\n            tv.text = &quot;Class Not Found&quot;\n            e.printStackTrace()\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JrsHp.png\" rel=\"nofollow noreferrer\">This is my instance for the elephant sql</a>\nI'm getting SQLException error,Couldn't connect to the Database from Android App giving &quot;java.sql.SQLException: No suitable driver found for --&quot;url Link&quot;</p>\n"},{"tags":["java","matlab","maven","jar","mat-file"],"answers":[{"tags":[],"owner":{"account_id":4804628,"reputation":1,"user_id":3880153,"display_name":"Ryan Ashcraft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683576469,"creation_date":1683576469,"answer_id":76204037,"question_id":76203484,"body_markdown":"There are many existing answers for this, such as https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java.  As noted there, you&#39;ll need to look more deeply at the stack trace and will likely find another error that will help explain things.","title":"How i can resolve Java.lang.NoClassDefFoundError?","body":"<p>There are many existing answers for this, such as <a href=\"https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java\">Why am I getting a NoClassDefFoundError in Java?</a>.  As noted there, you'll need to look more deeply at the stack trace and will likely find another error that will help explain things.</p>\n"}],"owner":{"account_id":21489011,"reputation":1,"user_id":15835109,"display_name":"Panda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683576469,"creation_date":1683571541,"question_id":76203484,"body_markdown":"I&#39;m trying to make a jar of a code that i made in maven. But when i try to execute the jar generated by: `mvn clean package`\r\n\r\nI got the following error:\r\nrror: Unable to initialize main class &lt;Main_Class&gt;\r\n`Caused by: java.lang.NoClassDefFoundError: us/hebi/matlab/mat/types/MatFile`\r\n\r\nI use the import us.hebi.matlab.mat.types.MatFile in my code and i put the dependency in the pom.xml as:\r\n\r\n```\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;us.hebi.matlab.mat&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mfl-core&lt;/artifactId&gt;\r\n        &lt;version&gt;0.5.14&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nI can run the code with netbeans and visual studio in my Kali Linux with openjdk 17.0.6 2023-01-17 , but i can&#39;t run the jar.\r\n\r\nPlease someone could help me ?\r\n\r\nGreetings.\r\n\r\nI try to generate the jar in netbeans and visual studio, but also i try to put the following plugin in the pom.xml.\r\n\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;mainClass&gt;MAIN_CLASS&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n            &lt;descriptorRefs&gt;\r\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;","title":"How i can resolve Java.lang.NoClassDefFoundError?","body":"<p>I'm trying to make a jar of a code that i made in maven. But when i try to execute the jar generated by: <code>mvn clean package</code></p>\n<p>I got the following error:\nrror: Unable to initialize main class &lt;Main_Class&gt;\n<code>Caused by: java.lang.NoClassDefFoundError: us/hebi/matlab/mat/types/MatFile</code></p>\n<p>I use the import us.hebi.matlab.mat.types.MatFile in my code and i put the dependency in the pom.xml as:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;us.hebi.matlab.mat&lt;/groupId&gt;\n        &lt;artifactId&gt;mfl-core&lt;/artifactId&gt;\n        &lt;version&gt;0.5.14&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I can run the code with netbeans and visual studio in my Kali Linux with openjdk 17.0.6 2023-01-17 , but i can't run the jar.</p>\n<p>Please someone could help me ?</p>\n<p>Greetings.</p>\n<p>I try to generate the jar in netbeans and visual studio, but also i try to put the following plugin in the pom.xml.</p>\n<pre><code>    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.2&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;mainClass&gt;MAIN_CLASS&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptorRefs&gt;\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":20500189,"reputation":11,"user_id":15044279,"display_name":"Mehboob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683576457,"creation_date":1683533215,"question_id":76198586,"body_markdown":"I&#39;m create a simple project in android studio to practice on language changing. I do it through &quot;choose language&quot; button butt in running mood it&#39;s work fine, while I used shared preferences to keep change the after closing and reopen the app, but when I reopen the app default language(English) again set on the app although I change the language before closing the app. Here is my code. Please help me where I am doing wrong!\r\n\r\n```java\r\npublic class LoginActivity extends AppCompatActivity {\r\n    private ActivityLoginBinding binding;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getSupportActionBar().setTitle(R.string.title_activity_login);\r\n        binding = ActivityLoginBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        loadLocale();\r\n        binding.btnChangeLanguage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                changeLanguage();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void changeLanguage() {\r\n        final String languages [] = {&quot;عربي&quot;, &quot;বাংলা&quot;, &quot;English&quot;, &quot;हिंदी&quot;, &quot;اردو&quot;};\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setTitle(R.string.choose_language);\r\n        builder.setSingleChoiceItems(languages, -1, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                if (which==0) {\r\n                    setLocale(&quot;ar&quot;);\r\n                    recreate();\r\n                }\r\n                else if (which==1) {\r\n                    setLocale(&quot;bn&quot;);\r\n                    recreate();\r\n                }\r\n                else if (which==2) {\r\n                    setLocale(&quot;&quot;);\r\n                    recreate();\r\n                }\r\n                else if (which==3) {\r\n                    setLocale(&quot;hi&quot;);\r\n                    recreate();\r\n                }\r\n                else if (which==4) {\r\n                    setLocale(&quot;ur&quot;);\r\n                    recreate();\r\n                }\r\n\r\n            }\r\n        });\r\n        builder.create();\r\n        builder.show();\r\n    }\r\n\r\n    private void setLocale(String language) {\r\n        Locale locale = new Locale(language);\r\n        Locale.setDefault(locale);\r\n\r\n        Configuration configuration = new Configuration();\r\n        configuration.locale = locale;\r\n        getBaseContext().getResources().updateConfiguration(configuration, getBaseContext().getResources()\r\n                .getDisplayMetrics());\r\n\r\n        SharedPreferences.Editor editor = getSharedPreferences(&quot;Settings&quot;, MODE_PRIVATE).edit();\r\n        editor.putString(&quot;appLanguage&quot;, language);\r\n        editor.apply();\r\n        Toast.makeText(this, &quot;Language Changed&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n\r\n    private void loadLocale() {\r\n        SharedPreferences preferences = getSharedPreferences(&quot;Settings&quot;, MODE_PRIVATE);\r\n        String language = preferences.getString(&quot;appLanguage&quot;, &quot;&quot;);\r\n        setLocale(language);\r\n    }\r\n}\r\n```","title":"Why is the language not updating after closing and reopening the app?","body":"<p>I'm create a simple project in android studio to practice on language changing. I do it through &quot;choose language&quot; button butt in running mood it's work fine, while I used shared preferences to keep change the after closing and reopen the app, but when I reopen the app default language(English) again set on the app although I change the language before closing the app. Here is my code. Please help me where I am doing wrong!</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LoginActivity extends AppCompatActivity {\n    private ActivityLoginBinding binding;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getSupportActionBar().setTitle(R.string.title_activity_login);\n        binding = ActivityLoginBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        loadLocale();\n        binding.btnChangeLanguage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                changeLanguage();\n            }\n        });\n    }\n\n    private void changeLanguage() {\n        final String languages [] = {&quot;عربي&quot;, &quot;বাংলা&quot;, &quot;English&quot;, &quot;हिंदी&quot;, &quot;اردو&quot;};\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setTitle(R.string.choose_language);\n        builder.setSingleChoiceItems(languages, -1, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                if (which==0) {\n                    setLocale(&quot;ar&quot;);\n                    recreate();\n                }\n                else if (which==1) {\n                    setLocale(&quot;bn&quot;);\n                    recreate();\n                }\n                else if (which==2) {\n                    setLocale(&quot;&quot;);\n                    recreate();\n                }\n                else if (which==3) {\n                    setLocale(&quot;hi&quot;);\n                    recreate();\n                }\n                else if (which==4) {\n                    setLocale(&quot;ur&quot;);\n                    recreate();\n                }\n\n            }\n        });\n        builder.create();\n        builder.show();\n    }\n\n    private void setLocale(String language) {\n        Locale locale = new Locale(language);\n        Locale.setDefault(locale);\n\n        Configuration configuration = new Configuration();\n        configuration.locale = locale;\n        getBaseContext().getResources().updateConfiguration(configuration, getBaseContext().getResources()\n                .getDisplayMetrics());\n\n        SharedPreferences.Editor editor = getSharedPreferences(&quot;Settings&quot;, MODE_PRIVATE).edit();\n        editor.putString(&quot;appLanguage&quot;, language);\n        editor.apply();\n        Toast.makeText(this, &quot;Language Changed&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n\n    private void loadLocale() {\n        SharedPreferences preferences = getSharedPreferences(&quot;Settings&quot;, MODE_PRIVATE);\n        String language = preferences.getString(&quot;appLanguage&quot;, &quot;&quot;);\n        setLocale(language);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","oracle","hibernate","jpa"],"comments":[{"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"score":1,"creation_date":1683543061,"post_id":76199786,"comment_id":134377605,"body_markdown":"Why don&#39;t you create the table by yourself before executing the spring program?","body":"Why don&#39;t you create the table by yourself before executing the spring program?"},{"owner":{"account_id":3687151,"reputation":131,"user_id":3070677,"display_name":"G10"},"score":0,"creation_date":1683543110,"post_id":76199786,"comment_id":134377612,"body_markdown":"Check entity, you have name table as `item`","body":"Check entity, you have name table as <code>item</code>"}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683576042,"creation_date":1683544630,"answer_id":76200069,"question_id":76199786,"body_markdown":"The &#39;hte&#39; prefix means that it&#39;s a temporary table generated by hibernate. It&#39;s not the table for your entity.\r\n\r\nBasically, you need to create your table, either manually or through some automated process.  See, for example, https://stackoverflow.com/questions/8815037/how-to-create-database-schema-in-hibernate-first-time-and-further-update-it-in-c/19852151#19852151","title":"Spring Boot JPA CrudRepository error table not found","body":"<p>The 'hte' prefix means that it's a temporary table generated by hibernate. It's not the table for your entity.</p>\n<p>Basically, you need to create your table, either manually or through some automated process.  See, for example, <a href=\"https://stackoverflow.com/questions/8815037/how-to-create-database-schema-in-hibernate-first-time-and-further-update-it-in-c/19852151#19852151\">How to create database schema in hibernate first time and further update it in case of schema modification?</a></p>\n"},{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683544848,"creation_date":1683544848,"answer_id":76200100,"question_id":76199786,"body_markdown":"&gt; When running the project, hibernate creates a table named `hte_item` in oracle.\r\n\r\nThe `hte_item` table is a temporary table used by Hibernate for certain bulk update and delete queries. It is *not* the name of the table where `Item`s are made persistent.\r\n\r\nSince you&#39;ve specified `@Table(name = &quot;item&quot;)` you must have a table named `item` in your database. If you want Hibernate to export that table for you, then you need to explicitly enable schema export, by setting a config property:\r\n\r\n    jakarta.persistence.schema-generation.database.action=create\r\n\r\nor whatever.","title":"Spring Boot JPA CrudRepository error table not found","body":"<blockquote>\n<p>When running the project, hibernate creates a table named <code>hte_item</code> in oracle.</p>\n</blockquote>\n<p>The <code>hte_item</code> table is a temporary table used by Hibernate for certain bulk update and delete queries. It is <em>not</em> the name of the table where <code>Item</code>s are made persistent.</p>\n<p>Since you've specified <code>@Table(name = &quot;item&quot;)</code> you must have a table named <code>item</code> in your database. If you want Hibernate to export that table for you, then you need to explicitly enable schema export, by setting a config property:</p>\n<pre><code>jakarta.persistence.schema-generation.database.action=create\n</code></pre>\n<p>or whatever.</p>\n"}],"owner":{"account_id":2582791,"reputation":2087,"user_id":2239096,"accept_rate":68,"display_name":"Mikel Urkia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76200069,"answer_count":2,"score":0,"last_activity_date":1683576042,"creation_date":1683542613,"question_id":76199786,"body_markdown":"I am trying to set up a simple Hibernate + Spring JPA repository example in my project. I am using an oracle database, for reference.\r\n\r\nI have a simple entity declares as follows\r\n\r\n```\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;item&quot;)\r\npublic class Item {\r\n\t\r\n\t@Id @GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate long Id;\r\n\t\r\n\tprivate String name;\r\n\tprivate String detail;\r\n\t\r\n}\r\n```\r\nWhen running the project, hibernate creates a table named ```hte_item``` in oracle.\r\n\r\nI have set up a controller which tries to fetch all the items in the table. I have created the following repository\r\n\r\n```\r\nimport java.util.List;\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\npublic interface ItemRepository extends CrudRepository&lt;Item, Long&gt; {\r\n\tList&lt;Item&gt; findAll();\r\n}\r\n```\r\n\r\nWhen running ```itemRepository.findAll```, instead, Spring JPA runs the following query to the database.\r\n\r\n\r\n```select i1_0.id,i1_0.detail,i1_0.name from item i1_0```\r\n\r\nWhich throws an Oracle error ```ORA-00942: Table or view does not exist```\r\n\r\nIf you notice, the query does not include the prefix generated by Hibernate, which generates the Oracle error. Am I missing something related to configuration here?","title":"Spring Boot JPA CrudRepository error table not found","body":"<p>I am trying to set up a simple Hibernate + Spring JPA repository example in my project. I am using an oracle database, for reference.</p>\n<p>I have a simple entity declares as follows</p>\n<pre><code>import jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;item&quot;)\npublic class Item {\n    \n    @Id @GeneratedValue(strategy = GenerationType.AUTO)\n    private long Id;\n    \n    private String name;\n    private String detail;\n    \n}\n</code></pre>\n<p>When running the project, hibernate creates a table named <code>hte_item</code> in oracle.</p>\n<p>I have set up a controller which tries to fetch all the items in the table. I have created the following repository</p>\n<pre><code>import java.util.List;\n\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface ItemRepository extends CrudRepository&lt;Item, Long&gt; {\n    List&lt;Item&gt; findAll();\n}\n</code></pre>\n<p>When running <code>itemRepository.findAll</code>, instead, Spring JPA runs the following query to the database.</p>\n<p><code>select i1_0.id,i1_0.detail,i1_0.name from item i1_0</code></p>\n<p>Which throws an Oracle error <code>ORA-00942: Table or view does not exist</code></p>\n<p>If you notice, the query does not include the prefix generated by Hibernate, which generates the Oracle error. Am I missing something related to configuration here?</p>\n"},{"tags":["java","image","xhtml","pdf-generation","flying-saucer"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1418264208,"post_id":11477065,"comment_id":43272612,"body_markdown":"There is a feature request to make data-url for images work directly in Flying Saucer: https://code.google.com/p/flying-saucer/issues/detail?id=202","body":"There is a feature request to make data-url for images work directly in Flying Saucer: <a href=\"https://code.google.com/p/flying-saucer/issues/detail?id=202\" rel=\"nofollow noreferrer\">code.google.com/p/flying-saucer/issues/detail?id=202</a>"}],"answers":[{"tags":[],"owner":{"account_id":10830,"reputation":25297,"user_id":20634,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1342209596,"creation_date":1342209596,"answer_id":11477527,"question_id":11477065,"body_markdown":"I had to do that last week so hopefully I will be able to answer you right away.\r\n\r\n\r\nFlying Saucer\r\n-------------\r\nThe easiest way is to add the image you want as markup in your HTML template before rendering with Flying Saucer. Within Flying Saucer you will have to implement a `ReplacedElementFactory` so that you can replace any markup before rendering with the image data.\r\n\r\n\t/**\r\n\t * Replaced element in order to replace elements like \r\n\t * &lt;tt&gt;&amp;lt;div class=&quot;media&quot; data-src=&quot;image.png&quot; /&gt;&lt;/tt&gt; with the real\r\n\t * media content.\r\n\t */\r\n\tpublic class MediaReplacedElementFactory implements ReplacedElementFactory {\r\n\t\tprivate final ReplacedElementFactory superFactory;\r\n\r\n\t\tpublic MediaReplacedElementFactory(ReplacedElementFactory superFactory) {\r\n\t\t\tthis.superFactory = superFactory;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic ReplacedElement createReplacedElement(LayoutContext layoutContext, BlockBox blockBox, UserAgentCallback userAgentCallback, int cssWidth, int cssHeight) {\r\n\t\t\tElement element = blockBox.getElement();\r\n\t\t\tif (element == null) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tString nodeName = element.getNodeName();\r\n\t\t\tString className = element.getAttribute(&quot;class&quot;);\r\n\t\t\t// Replace any &lt;div class=&quot;media&quot; data-src=&quot;image.png&quot; /&gt; with the\r\n\t\t\t// binary data of `image.png` into the PDF.\r\n\t\t\tif (&quot;div&quot;.equals(nodeName) &amp;&amp; &quot;media&quot;.equals(className)) {\r\n\t\t\t\tif (!element.hasAttribute(&quot;data-src&quot;)) {\r\n\t\t\t\t\tthrow new RuntimeException(&quot;An element with class `media` is missing a `data-src` attribute indicating the media file.&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tInputStream input = null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tinput = new FileInputStream(&quot;/base/folder/&quot; + element.getAttribute(&quot;data-src&quot;));\r\n\t\t\t\t\tfinal byte[] bytes = IOUtils.toByteArray(input);\r\n\t\t\t\t\tfinal Image image = Image.getInstance(bytes);\r\n\t\t\t\t\tfinal FSImage fsImage = new ITextFSImage(image);\r\n\t\t\t\t\tif (fsImage != null) {\r\n\t\t\t\t\t\tif ((cssWidth != -1) || (cssHeight != -1)) {\r\n\t\t\t\t\t\t\tfsImage.scale(cssWidth, cssHeight);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn new ITextImageElement(fsImage);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tthrow new RuntimeException(&quot;There was a problem trying to read a template embedded graphic.&quot;, e);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tIOUtils.closeQuietly(input);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this.superFactory.createReplacedElement(layoutContext, blockBox, userAgentCallback, cssWidth, cssHeight);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void reset() {\r\n\t\t\tthis.superFactory.reset();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void remove(Element e) {\r\n\t\t\tthis.superFactory.remove(e);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void setFormSubmissionListener(FormSubmissionListener listener) {\r\n\t\t\tthis.superFactory.setFormSubmissionListener(listener);\r\n\t\t}\r\n\t}\r\n\r\nYou will notice that I have hardcoded here `/base/folder` which is the folder where the HTML file is located as it will be the root url for Flying Saucer for resolving medias. You may change it to the correct location, coming from anywhere you want (Properties for example).\r\n\r\nHTML\r\n====\r\nWithin your HTML markup you indicate somewhere a `&lt;div class=&quot;media&quot; data-src=&quot;somefile.png&quot; /&gt;` like so:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; \r\n       &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;My document&lt;/title&gt;\r\n            &lt;style type=&quot;text/css&quot;&gt;\r\n            #logo { /* something if needed */ }\r\n            &lt;/style&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n        \t&lt;!-- Header --&gt;\r\n            &lt;div id=&quot;logo&quot; class=&quot;media&quot; data-src=&quot;media/logo.png&quot; style=&quot;width: 177px; height: 60px&quot; /&gt;\r\n            ...\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nRendering\r\n=========\r\nAnd finally you just need to indicate your `ReplacedElementFactory` to Flying-Saucer when rendering:\r\n\r\n\tString content = loadHtml();\r\n\tITextRenderer renderer = new ITextRenderer();\r\n\trenderer.getSharedContext().setReplacedElementFactory(new MediaReplacedElementFactory(renderer.getSharedContext().getReplacedElementFactory()));\r\n\trenderer.setDocumentFromString(content.toString());\r\n\trenderer.layout();\r\n\tfinal ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\trenderer.createPDF(baos);\r\n\t// baos.toByteArray();\r\n\r\n\r\nI have been using Freemarker to generate the HTML from a template and then feeding the result to FlyingSaucer with great success. This is a pretty neat library.","title":"Using Flying Saucer to Render Images to PDF In Memory","body":"<p>I had to do that last week so hopefully I will be able to answer you right away.</p>\n\n<h2>Flying Saucer</h2>\n\n<p>The easiest way is to add the image you want as markup in your HTML template before rendering with Flying Saucer. Within Flying Saucer you will have to implement a <code>ReplacedElementFactory</code> so that you can replace any markup before rendering with the image data.</p>\n\n<pre><code>/**\n * Replaced element in order to replace elements like \n * &lt;tt&gt;&amp;lt;div class=\"media\" data-src=\"image.png\" /&gt;&lt;/tt&gt; with the real\n * media content.\n */\npublic class MediaReplacedElementFactory implements ReplacedElementFactory {\n    private final ReplacedElementFactory superFactory;\n\n    public MediaReplacedElementFactory(ReplacedElementFactory superFactory) {\n        this.superFactory = superFactory;\n    }\n\n    @Override\n    public ReplacedElement createReplacedElement(LayoutContext layoutContext, BlockBox blockBox, UserAgentCallback userAgentCallback, int cssWidth, int cssHeight) {\n        Element element = blockBox.getElement();\n        if (element == null) {\n            return null;\n        }\n        String nodeName = element.getNodeName();\n        String className = element.getAttribute(\"class\");\n        // Replace any &lt;div class=\"media\" data-src=\"image.png\" /&gt; with the\n        // binary data of `image.png` into the PDF.\n        if (\"div\".equals(nodeName) &amp;&amp; \"media\".equals(className)) {\n            if (!element.hasAttribute(\"data-src\")) {\n                throw new RuntimeException(\"An element with class `media` is missing a `data-src` attribute indicating the media file.\");\n            }\n            InputStream input = null;\n            try {\n                input = new FileInputStream(\"/base/folder/\" + element.getAttribute(\"data-src\"));\n                final byte[] bytes = IOUtils.toByteArray(input);\n                final Image image = Image.getInstance(bytes);\n                final FSImage fsImage = new ITextFSImage(image);\n                if (fsImage != null) {\n                    if ((cssWidth != -1) || (cssHeight != -1)) {\n                        fsImage.scale(cssWidth, cssHeight);\n                    }\n                    return new ITextImageElement(fsImage);\n                }\n            } catch (Exception e) {\n                throw new RuntimeException(\"There was a problem trying to read a template embedded graphic.\", e);\n            } finally {\n                IOUtils.closeQuietly(input);\n            }\n        }\n        return this.superFactory.createReplacedElement(layoutContext, blockBox, userAgentCallback, cssWidth, cssHeight);\n    }\n\n    @Override\n    public void reset() {\n        this.superFactory.reset();\n    }\n\n    @Override\n    public void remove(Element e) {\n        this.superFactory.remove(e);\n    }\n\n    @Override\n    public void setFormSubmissionListener(FormSubmissionListener listener) {\n        this.superFactory.setFormSubmissionListener(listener);\n    }\n}\n</code></pre>\n\n<p>You will notice that I have hardcoded here <code>/base/folder</code> which is the folder where the HTML file is located as it will be the root url for Flying Saucer for resolving medias. You may change it to the correct location, coming from anywhere you want (Properties for example).</p>\n\n<h1>HTML</h1>\n\n<p>Within your HTML markup you indicate somewhere a <code>&lt;div class=\"media\" data-src=\"somefile.png\" /&gt;</code> like so:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \n   \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n    &lt;head&gt;\n        &lt;title&gt;My document&lt;/title&gt;\n        &lt;style type=\"text/css\"&gt;\n        #logo { /* something if needed */ }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;!-- Header --&gt;\n        &lt;div id=\"logo\" class=\"media\" data-src=\"media/logo.png\" style=\"width: 177px; height: 60px\" /&gt;\n        ...\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h1>Rendering</h1>\n\n<p>And finally you just need to indicate your <code>ReplacedElementFactory</code> to Flying-Saucer when rendering:</p>\n\n<pre><code>String content = loadHtml();\nITextRenderer renderer = new ITextRenderer();\nrenderer.getSharedContext().setReplacedElementFactory(new MediaReplacedElementFactory(renderer.getSharedContext().getReplacedElementFactory()));\nrenderer.setDocumentFromString(content.toString());\nrenderer.layout();\nfinal ByteArrayOutputStream baos = new ByteArrayOutputStream();\nrenderer.createPDF(baos);\n// baos.toByteArray();\n</code></pre>\n\n<p>I have been using Freemarker to generate the HTML from a template and then feeding the result to FlyingSaucer with great success. This is a pretty neat library.</p>\n"},{"tags":[],"owner":{"account_id":2228300,"reputation":61,"user_id":1966554,"display_name":"Suresh Garrepalli"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1499174533,"creation_date":1464701382,"answer_id":37547181,"question_id":11477065,"body_markdown":"Thanks Alex for detailed solution. I&#39;m using this solution and found there is another line to be added to make it work.\r\n\r\n    public ReplacedElement createReplacedElement(LayoutContext layoutContext, BlockBox blockBox, UserAgentCallback userAgentCallback, int cssWidth, int cssHeight) {\r\n      Element element = blockBox.getElement();\r\n      ....\r\n      ....\r\n      final Image image = Image.getInstance(bytes);\r\n      final int factor = ((ITextUserAgent)userAgentCallback).getSharedContext().getDotsPerPixel(); //Need to add this line\r\n      image.scaleAbsolute(image.getPlainWidth() * factor, image.getPlainHeight() * factor) //Need to add this line\r\n      final FSImage fsImage = new ITextFSImage(image);\r\n      ....\r\n      ....\r\n\r\n\r\n\r\nWe need to read the DPP from `SharedContext` and scale the image to display render the image on PDF.\r\n\r\nAnother suggestion:\r\nWe can directly extend `ITextReplacedElement` instead of implementing `ReplacedElementFactory`. In that case we can set the `ReplacedElementFactory` in the `SharedContext` as follows:\r\n\r\n    renderer.getSharedContext().setReplacedElementFactory(new MediaReplacedElementFactory(renderer.getOutputDevice()); ","title":"Using Flying Saucer to Render Images to PDF In Memory","body":"<p>Thanks Alex for detailed solution. I'm using this solution and found there is another line to be added to make it work.</p>\n\n<pre><code>public ReplacedElement createReplacedElement(LayoutContext layoutContext, BlockBox blockBox, UserAgentCallback userAgentCallback, int cssWidth, int cssHeight) {\n  Element element = blockBox.getElement();\n  ....\n  ....\n  final Image image = Image.getInstance(bytes);\n  final int factor = ((ITextUserAgent)userAgentCallback).getSharedContext().getDotsPerPixel(); //Need to add this line\n  image.scaleAbsolute(image.getPlainWidth() * factor, image.getPlainHeight() * factor) //Need to add this line\n  final FSImage fsImage = new ITextFSImage(image);\n  ....\n  ....\n</code></pre>\n\n<p>We need to read the DPP from <code>SharedContext</code> and scale the image to display render the image on PDF.</p>\n\n<p>Another suggestion:\nWe can directly extend <code>ITextReplacedElement</code> instead of implementing <code>ReplacedElementFactory</code>. In that case we can set the <code>ReplacedElementFactory</code> in the <code>SharedContext</code> as follows:</p>\n\n<pre><code>renderer.getSharedContext().setReplacedElementFactory(new MediaReplacedElementFactory(renderer.getOutputDevice()); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":382395,"reputation":1169,"user_id":737591,"accept_rate":60,"display_name":"csviri"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1519120960,"creation_date":1519120960,"answer_id":48882516,"question_id":11477065,"body_markdown":"what worked for me is putting it as a embedded image. So converting image to base64 first and then embed it:\r\n\r\n        byte[] image = ...\r\n        ITextRenderer renderer = new ITextRenderer();\r\n        renderer.setDocumentFromString(&quot;&lt;html&gt;\\n&quot; +\r\n                                       &quot;    &lt;body&gt;\\n&quot; +\r\n                                       &quot;        &lt;h1&gt;Image&lt;/h1&gt;\\n&quot; +\r\n                                       &quot; &lt;div&gt;&lt;img src=\\&quot;data:image/png;base64,&quot; + Base64.getEncoder().encodeToString(image) + &quot;\\&quot;&gt;&lt;/img&gt;&lt;/div&gt;\\n&quot; +\r\n                                       &quot;    &lt;/body&gt;\\n&quot; +\r\n                                       &quot;&lt;/html&gt;&quot;);\r\n        renderer.layout();\r\n        renderer.createPDF(response.getOutputStream());","title":"Using Flying Saucer to Render Images to PDF In Memory","body":"<p>what worked for me is putting it as a embedded image. So converting image to base64 first and then embed it:</p>\n\n<pre><code>    byte[] image = ...\n    ITextRenderer renderer = new ITextRenderer();\n    renderer.setDocumentFromString(\"&lt;html&gt;\\n\" +\n                                   \"    &lt;body&gt;\\n\" +\n                                   \"        &lt;h1&gt;Image&lt;/h1&gt;\\n\" +\n                                   \" &lt;div&gt;&lt;img src=\\\"data:image/png;base64,\" + Base64.getEncoder().encodeToString(image) + \"\\\"&gt;&lt;/img&gt;&lt;/div&gt;\\n\" +\n                                   \"    &lt;/body&gt;\\n\" +\n                                   \"&lt;/html&gt;\");\n    renderer.layout();\n    renderer.createPDF(response.getOutputStream());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19351601,"reputation":26,"user_id":14794750,"display_name":"Henrique Shimada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679972235,"creation_date":1679972235,"answer_id":75861988,"question_id":11477065,"body_markdown":"@alex&#39;s solution is still true for\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;flying-saucer-pdf-openpdf&lt;/artifactId&gt;\r\n\t&lt;version&gt;9.1.22&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Using Flying Saucer to Render Images to PDF In Memory","body":"<p>@alex's solution is still true for</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\n    &lt;artifactId&gt;flying-saucer-pdf-openpdf&lt;/artifactId&gt;\n    &lt;version&gt;9.1.22&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":170916,"reputation":3640,"user_id":397985,"accept_rate":86,"display_name":"JToland"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21760,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":11477527,"answer_count":4,"score":21,"last_activity_date":1683575824,"creation_date":1342207570,"question_id":11477065,"body_markdown":"I&#39;m using Flying Saucer to convert XHTML to a PDF document. I&#39;ve gotten the code to work with just basic HTML and in-line CSS, however, now I&#39;m attempting to add an image as a sort of header to the PDF. What I&#39;m wondering is if there is any way whatsoever to add the image by reading in an image file as a Java Image object, then adding that somehow to the PDF (or to the XHTML -- like it gets a virtual &quot;url&quot; representing the Image object that I can use to render the PDF). Has anyone ever done anything like this?\r\n\r\nThanks in advance for any help you can provide!","title":"Using Flying Saucer to Render Images to PDF In Memory","body":"<p>I'm using Flying Saucer to convert XHTML to a PDF document. I've gotten the code to work with just basic HTML and in-line CSS, however, now I'm attempting to add an image as a sort of header to the PDF. What I'm wondering is if there is any way whatsoever to add the image by reading in an image file as a Java Image object, then adding that somehow to the PDF (or to the XHTML -- like it gets a virtual \"url\" representing the Image object that I can use to render the PDF). Has anyone ever done anything like this?</p>\n\n<p>Thanks in advance for any help you can provide!</p>\n"},{"tags":["java","spring","database","spring-data-jpa"],"comments":[{"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"score":0,"creation_date":1609082397,"post_id":65466845,"comment_id":115743329,"body_markdown":"share the` passengerService.save(...)` implementation. Seems it returns empty `Optional`","body":"share the` passengerService.save(...)` implementation. Seems it returns empty <code>Optional</code>"}],"answers":[{"tags":[],"owner":{"account_id":20305274,"reputation":732,"user_id":14893722,"display_name":"timsmelik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609080363,"creation_date":1609080363,"answer_id":65466956,"question_id":65466845,"body_markdown":"You&#39;re calling `get` on an Optional without first checking if the Optional is present. Calling `get` on an empty Optional [results in a NoSuchElementException](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#get--)\r\n\r\nEither call `isPresent` first or use `orElse` instead.\r\n\r\n```\r\nOptional&lt;String&gt; emptyOptional = Optional.ofNullable(null);\r\nOptional&lt;String&gt; optional = Optional.of(&quot;Not empty&quot;);\r\n\r\nemptyOptional.get(); // NoSuchElementException\r\noptional.get(); // &quot;Not empty&quot;\r\n\r\nemptyOptional.orElse(null); // null\r\noptional.orElse(null); // &quot;Not empty&quot;\r\n\r\nemptyOptional.orElse(&quot;default value&quot;); // &quot;default value&quot;\r\noptional.orElse(&quot;default value&quot;); // &quot;Not empty&quot;\r\n\r\nemptyOptional.isPresent(); // false\r\noptional.isPresent(); // true\r\n```","title":"java.util.NoSuchElementException: No value present Spring JPA","body":"<p>You're calling <code>get</code> on an Optional without first checking if the Optional is present. Calling <code>get</code> on an empty Optional <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#get--\" rel=\"nofollow noreferrer\">results in a NoSuchElementException</a></p>\n<p>Either call <code>isPresent</code> first or use <code>orElse</code> instead.</p>\n<pre><code>Optional&lt;String&gt; emptyOptional = Optional.ofNullable(null);\nOptional&lt;String&gt; optional = Optional.of(&quot;Not empty&quot;);\n\nemptyOptional.get(); // NoSuchElementException\noptional.get(); // &quot;Not empty&quot;\n\nemptyOptional.orElse(null); // null\noptional.orElse(null); // &quot;Not empty&quot;\n\nemptyOptional.orElse(&quot;default value&quot;); // &quot;default value&quot;\noptional.orElse(&quot;default value&quot;); // &quot;Not empty&quot;\n\nemptyOptional.isPresent(); // false\noptional.isPresent(); // true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15427686,"reputation":82,"user_id":11129951,"display_name":"akhil Raj Kunwar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1609081800,"creation_date":1609081800,"answer_id":65467171,"question_id":65466845,"body_markdown":"xyz.get() method returns this error if xyz is null . \r\npassengerService.save(....) is returning empty value ,check this service methos properly","title":"java.util.NoSuchElementException: No value present Spring JPA","body":"<p>xyz.get() method returns this error if xyz is null .\npassengerService.save(....) is returning empty value ,check this service methos properly</p>\n"}],"owner":{"account_id":18925536,"reputation":15,"user_id":13808749,"display_name":"cipherxxx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10854,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65467171,"answer_count":2,"score":0,"last_activity_date":1683575780,"creation_date":1609079646,"question_id":65466845,"body_markdown":"I am relatively new in the world of Spring Boot and I have a problem with storing the data in database in my project. I have these entities: Flight - (flight number, gate, airport departure, airport arrival etc.), Passenger (passport number, name, surname etc.), Ticket( ticket number, passport_number(foreign key referencing Passenger table), flight_number(foreign key referencing Flight table)) and Luggage(id, ticket number(foreign key referencing Ticket table). When I want to make a reservation, first I want to save the data about the passenger, then save the data about the ticket(using the passport_number of the new passenger) and at the end to save the data about the luggage(also using the passport_number of the new passenger) and I want the whole process to be like a transaction. But I constantly get an error **java.util.NoSuchElementException: No value present\r\n\tat java.base/java.util.Optional.get(Optional.java:141) ~[na:na]** when I am saving the passenger. Here is the code. Any suggestions how can I solve this problem?  Here is the code from the controller where I am trying to save the data. Thank you so much.\r\n\r\n \r\n\r\n      @PostMapping(&quot;/confirmTicket&quot;)\r\n        @Transactional\r\n        public String confirmTicket(HttpServletRequest req) {\r\n            Passenger passenger = (Passenger) req.getSession().getAttribute(&quot;passenger&quot;);\r\n            Flight flight = (Flight) req.getSession().getAttribute(&quot;flight&quot;);\r\n    \r\n            Passenger passengerNew = passengerService.save(passenger.getPassport_number(), passenger.getFirst_name(), passenger.getLast_name(),\r\n                    passenger.getEmail(), passenger.getAddress(), passenger.getPhone_number(), passenger.getAccount_number()).get();\r\n\r\n    \r\n            Ticket ticket = ticketService.save(Integer.parseInt(req.getSession().getAttribute(&quot;seat&quot;).toString()), flight.getPrice(),\r\n                    Class.valueOf(req.getSession().getAttribute(&quot;class&quot;).toString()), &quot;&quot;, passengerNew, flight).get();\r\n    \r\n    \r\n            luggageService.save(LuggageType.valueOf(req.getSession().getAttribute(&quot;luggage&quot;).toString()),\r\n                    Integer.parseInt(req.getSession().getAttribute(&quot;weight&quot;).toString()), ticket);\r\n    \r\n            return &quot;redirect:/home&quot;;\r\n        }\r\n\r\n","title":"java.util.NoSuchElementException: No value present Spring JPA","body":"<p>I am relatively new in the world of Spring Boot and I have a problem with storing the data in database in my project. I have these entities: Flight - (flight number, gate, airport departure, airport arrival etc.), Passenger (passport number, name, surname etc.), Ticket( ticket number, passport_number(foreign key referencing Passenger table), flight_number(foreign key referencing Flight table)) and Luggage(id, ticket number(foreign key referencing Ticket table). When I want to make a reservation, first I want to save the data about the passenger, then save the data about the ticket(using the passport_number of the new passenger) and at the end to save the data about the luggage(also using the passport_number of the new passenger) and I want the whole process to be like a transaction. But I constantly get an error <strong>java.util.NoSuchElementException: No value present\nat java.base/java.util.Optional.get(Optional.java:141) ~[na:na]</strong> when I am saving the passenger. Here is the code. Any suggestions how can I solve this problem?  Here is the code from the controller where I am trying to save the data. Thank you so much.</p>\n<pre><code>  @PostMapping(&quot;/confirmTicket&quot;)\n    @Transactional\n    public String confirmTicket(HttpServletRequest req) {\n        Passenger passenger = (Passenger) req.getSession().getAttribute(&quot;passenger&quot;);\n        Flight flight = (Flight) req.getSession().getAttribute(&quot;flight&quot;);\n\n        Passenger passengerNew = passengerService.save(passenger.getPassport_number(), passenger.getFirst_name(), passenger.getLast_name(),\n                passenger.getEmail(), passenger.getAddress(), passenger.getPhone_number(), passenger.getAccount_number()).get();\n\n\n        Ticket ticket = ticketService.save(Integer.parseInt(req.getSession().getAttribute(&quot;seat&quot;).toString()), flight.getPrice(),\n                Class.valueOf(req.getSession().getAttribute(&quot;class&quot;).toString()), &quot;&quot;, passengerNew, flight).get();\n\n\n        luggageService.save(LuggageType.valueOf(req.getSession().getAttribute(&quot;luggage&quot;).toString()),\n                Integer.parseInt(req.getSession().getAttribute(&quot;weight&quot;).toString()), ticket);\n\n        return &quot;redirect:/home&quot;;\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":6846923,"reputation":1969,"user_id":5265414,"accept_rate":62,"display_name":"devmike01"},"score":0,"creation_date":1683574441,"post_id":76203403,"comment_id":134384698,"body_markdown":"Hey, post your `project/build.gradle` file.","body":"Hey, post your <code>project&#47;build.gradle</code> file."},{"owner":{"account_id":27823412,"reputation":13,"user_id":21243297,"display_name":"yves"},"score":0,"creation_date":1683575214,"post_id":76203403,"comment_id":134384850,"body_markdown":"Hi, I edited my post and i putted that file, too","body":"Hi, I edited my post and i putted that file, too"},{"owner":{"account_id":6846923,"reputation":1969,"user_id":5265414,"accept_rate":62,"display_name":"devmike01"},"score":0,"creation_date":1683660904,"post_id":76203403,"comment_id":134400190,"body_markdown":"Hello, I provided a solution to your question. Did it work, or did it not? Respond so that it can help other people who are facing the same issue.","body":"Hello, I provided a solution to your question. Did it work, or did it not? Respond so that it can help other people who are facing the same issue."}],"answers":[{"tags":[],"owner":{"account_id":6846923,"reputation":1969,"user_id":5265414,"accept_rate":62,"display_name":"devmike01"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683575545,"creation_date":1683575545,"answer_id":76203937,"question_id":76203403,"body_markdown":"The first issue I noticed with your project gradle file is that it doesn&#39;t have the kotlin `classpath`. Add the following code snippet to your project gradle `buildScript` and then sync your project.\r\n\r\n \r\n\r\n      dependencies {\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    \r\n        }\r\n    \r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }","title":"Failed to apply plugin &#39;org.jetbrains.kotlin.android&#39; in Android Studio","body":"<p>The first issue I noticed with your project gradle file is that it doesn't have the kotlin <code>classpath</code>. Add the following code snippet to your project gradle <code>buildScript</code> and then sync your project.</p>\n<pre><code>  dependencies {\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n\n    }\n\n    repositories {\n        google()\n        mavenCentral()\n    }\n</code></pre>\n"}],"owner":{"account_id":27823412,"reputation":13,"user_id":21243297,"display_name":"yves"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":787,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683575545,"creation_date":1683570850,"question_id":76203403,"body_markdown":"I tried building the project but that was the output. There were no problems before but that happened. I searched for the problem but I could not find exactly the same to mine. If someone knows what the problem is I would be glad to know. Thanks in advance.\r\n\r\n```\r\nn exception occurred applying plugin request [id: &#39;org.jetbrains.kotlin.android&#39;]\r\n&gt; Failed to apply plugin &#39;org.jetbrains.kotlin.android&#39;.\r\n   &gt; Could not create an instance of type org.jetbrains.kotlin.gradle.dsl.KotlinAndroidProjectExtension.\r\n      &gt; Companion\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.plugins.InvalidPluginException: An exception occurred applying plugin request [id: &#39;org.jetbrains.kotlin.android&#39;]\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.exceptionOccurred(DefaultPluginRequestApplicator.java:228)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:210)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:148)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.access$200(DefaultPluginRequestApplicator.java:62)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator$1$1.lambda$add$1(DefaultPluginRequestApplicator.java:121)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$applyPlugins$0(DefaultPluginRequestApplicator.java:144)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:144)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:117)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:378)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n\tat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$2(DefaultProjectStateRegistry.java:408)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:408)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:389)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:760)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:151)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:328)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:49)\r\n\tat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\r\n\tat org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n\tat org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$3(VintageBuildModelController.java:89)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:227)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:226)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:201)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n\tat org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:197)\r\n\tat org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:89)\r\n\tat org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:121)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$notInState$4(StateTransitionController.java:143)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\tat org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:139)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:121)\r\n\tat org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:178)\r\n\tat org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:111)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\r\n\tat org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:116)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\r\n\tat org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:75)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:166)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\tat org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:74)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:119)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:128)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n\tat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin &#39;org.jetbrains.kotlin.android&#39;.\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:173)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.apply(DefaultPluginManager.java:137)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$applyPlugin$1(DefaultPluginRequestApplicator.java:150)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:206)\r\n\t... 173 more\r\nCaused by: org.gradle.api.reflect.ObjectInstantiationException: Could not create an instance of type org.jetbrains.kotlin.gradle.dsl.KotlinAndroidProjectExtension.\r\n\tat org.gradle.internal.instantiation.generator.DependencyInjectingInstantiator.doCreate(DependencyInjectingInstantiator.java:69)\r\n\tat org.gradle.internal.instantiation.generator.DependencyInjectingInstantiator.newInstanceWithDisplayName(DependencyInjectingInstantiator.java:50)\r\n\tat org.gradle.internal.extensibility.DefaultConvention.instantiate(DefaultConvention.java:216)\r\n\tat org.gradle.internal.extensibility.DefaultConvention.create(DefaultConvention.java:125)\r\n\tat org.jetbrains.kotlin.gradle.dsl.KotlinProjectExtensionKt.createKotlinExtension(KotlinProjectExtension.kt:34)\r\n\tat org.jetbrains.kotlin.gradle.plugin.KotlinBasePluginWrapper.apply(KotlinPluginWrapper.kt:95)\r\n\tat org.jetbrains.kotlin.gradle.plugin.KotlinBasePluginWrapper.apply(KotlinPluginWrapper.kt:53)\r\n\tat org.gradle.api.internal.plugins.ImperativeOnlyPluginTarget.applyImperative(ImperativeOnlyPluginTarget.java:43)\r\n\tat org.gradle.api.internal.plugins.RuleBasedPluginTarget.applyImperative(RuleBasedPluginTarget.java:51)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.addPlugin(DefaultPluginManager.java:187)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.access$100(DefaultPluginManager.java:52)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager$AddPluginBuildOperation.run(DefaultPluginManager.java:282)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.lambda$doApply$0(DefaultPluginManager.java:167)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:166)\r\n\t... 176 more\r\nCaused by: java.lang.NoSuchFieldError: Companion\r\n\tat org.jetbrains.kotlin.gradle.dsl.ToolchainSupport$Companion.createToolchain$kotlin_gradle_plugin(ToolchainDsl.kt:33)\r\n\tat org.jetbrains.kotlin.gradle.dsl.KotlinTopLevelExtension.&lt;init&gt;(KotlinProjectExtension.kt:66)\r\n\tat org.jetbrains.kotlin.gradle.dsl.KotlinProjectExtension.&lt;init&gt;(KotlinProjectExtension.kt:106)\r\n\tat org.jetbrains.kotlin.gradle.dsl.KotlinSingleTargetExtension.&lt;init&gt;(KotlinProjectExtension.kt:115)\r\n\tat org.jetbrains.kotlin.gradle.dsl.KotlinAndroidProjectExtension.&lt;init&gt;(KotlinProjectExtension.kt:282)\r\n\tat org.jetbrains.kotlin.gradle.dsl.KotlinAndroidProjectExtension_Decorated.&lt;init&gt;(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat org.gradle.internal.instantiation.generator.AsmBackedClassGenerator$InvokeConstructorStrategy.newInstance(AsmBackedClassGenerator.java:2078)\r\n\tat org.gradle.internal.instantiation.generator.AbstractClassGenerator$GeneratedClassImpl$GeneratedConstructorImpl.newInstance(AbstractClassGenerator.java:488)\r\n\tat org.gradle.internal.instantiation.generator.DependencyInjectingInstantiator.doCreate(DependencyInjectingInstantiator.java:64)\r\n\t... 198 more\r\n```\r\n\r\nHere is my gradle file. When I start Build it does not compile\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.littlelemon&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.littlelemon&quot;\r\n        minSdk 21\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        vectorDrawables {\r\n            useSupportLibrary true\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n    buildFeatures {\r\n        compose true\r\n    }\r\n    composeOptions {\r\n        kotlinCompilerExtensionVersion &#39;1.1.1&#39;\r\n    }\r\n    packagingOptions {\r\n        resources {\r\n            excludes += &#39;/META-INF/{AL2.0,LGPL2.1}&#39;\r\n        }\r\n    }\r\n\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.navigation:navigation-compose:2.5.3&#39;\r\n    implementation &quot;androidx.compose.ui:ui-tooling:1.3.3&quot;\r\n    implementation &#39;androidx.datastore:datastore-preferences:1.0.0&#39;\r\n    implementation &quot;androidx.datastore:datastore-preferences-android:1.1.0-alpha04&quot;\r\n    implementation &quot;androidx.datastore:datastore-preferences-android:1.1.0&quot;\r\n    implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-runtime-ktx:2.3.1&#39;\r\n    implementation &#39;androidx.activity:activity-compose:1.3.1&#39;\r\n    implementation &quot;androidx.compose.ui:ui:$compose_ui_version&quot;\r\n    implementation &quot;androidx.compose.ui:ui-tooling-preview:$compose_ui_version&quot;\r\n    implementation &#39;androidx.compose.material:material:1.1.1&#39;\r\n    implementation &#39;androidx.datastore:datastore-core-android:1.1.0-alpha04&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    androidTestImplementation &quot;androidx.compose.ui:ui-test-junit4:$compose_ui_version&quot;\r\n    debugImplementation &quot;androidx.compose.ui:ui-tooling:$compose_ui_version&quot;\r\n    debugImplementation &quot;androidx.compose.ui:ui-test-manifest:$compose_ui_version&quot;\r\n    implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.4&#39;\r\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.2.0-alpha02&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:2.2.0-alpha02&quot;\r\n}\r\n```\r\n\r\nThe project gradle file:\r\n```\r\n\r\nbuildscript {\r\n    ext {\r\n        compose_version = &#39;1.3.3&#39;\r\n    }\r\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.3.0&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.3.0&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false\r\n}\r\n```","title":"Failed to apply plugin &#39;org.jetbrains.kotlin.android&#39; in Android Studio","body":"<p>I tried building the project but that was the output. There were no problems before but that happened. I searched for the problem but I could not find exactly the same to mine. If someone knows what the problem is I would be glad to know. Thanks in advance.</p>\n<pre><code>n exception occurred applying plugin request [id: 'org.jetbrains.kotlin.android']\n&gt; Failed to apply plugin 'org.jetbrains.kotlin.android'.\n   &gt; Could not create an instance of type org.jetbrains.kotlin.gradle.dsl.KotlinAndroidProjectExtension.\n      &gt; Companion\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.plugins.InvalidPluginException: An exception occurred applying plugin request [id: 'org.jetbrains.kotlin.android']\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.exceptionOccurred(DefaultPluginRequestApplicator.java:228)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:210)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:148)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.access$200(DefaultPluginRequestApplicator.java:62)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator$1$1.lambda$add$1(DefaultPluginRequestApplicator.java:121)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$applyPlugins$0(DefaultPluginRequestApplicator.java:144)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:144)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:117)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:378)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n    at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$2(DefaultProjectStateRegistry.java:408)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:408)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:389)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:760)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:151)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:328)\n    at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\n    at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:49)\n    at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\n    at org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\n    at org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$3(VintageBuildModelController.java:89)\n    at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:227)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:226)\n    at org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:201)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n    at org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:197)\n    at org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:89)\n    at org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:121)\n    at org.gradle.internal.model.StateTransitionController.lambda$notInState$4(StateTransitionController.java:143)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:139)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:121)\n    at org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:178)\n    at org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:111)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\n    at org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:116)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\n    at org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:75)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\n    at org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\n    at org.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:166)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:74)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\n    at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:119)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:128)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n    at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin 'org.jetbrains.kotlin.android'.\n    at org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:173)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.apply(DefaultPluginManager.java:137)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$applyPlugin$1(DefaultPluginRequestApplicator.java:150)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:206)\n    ... 173 more\nCaused by: org.gradle.api.reflect.ObjectInstantiationException: Could not create an instance of type org.jetbrains.kotlin.gradle.dsl.KotlinAndroidProjectExtension.\n    at org.gradle.internal.instantiation.generator.DependencyInjectingInstantiator.doCreate(DependencyInjectingInstantiator.java:69)\n    at org.gradle.internal.instantiation.generator.DependencyInjectingInstantiator.newInstanceWithDisplayName(DependencyInjectingInstantiator.java:50)\n    at org.gradle.internal.extensibility.DefaultConvention.instantiate(DefaultConvention.java:216)\n    at org.gradle.internal.extensibility.DefaultConvention.create(DefaultConvention.java:125)\n    at org.jetbrains.kotlin.gradle.dsl.KotlinProjectExtensionKt.createKotlinExtension(KotlinProjectExtension.kt:34)\n    at org.jetbrains.kotlin.gradle.plugin.KotlinBasePluginWrapper.apply(KotlinPluginWrapper.kt:95)\n    at org.jetbrains.kotlin.gradle.plugin.KotlinBasePluginWrapper.apply(KotlinPluginWrapper.kt:53)\n    at org.gradle.api.internal.plugins.ImperativeOnlyPluginTarget.applyImperative(ImperativeOnlyPluginTarget.java:43)\n    at org.gradle.api.internal.plugins.RuleBasedPluginTarget.applyImperative(RuleBasedPluginTarget.java:51)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.addPlugin(DefaultPluginManager.java:187)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.access$100(DefaultPluginManager.java:52)\n    at org.gradle.api.internal.plugins.DefaultPluginManager$AddPluginBuildOperation.run(DefaultPluginManager.java:282)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.lambda$doApply$0(DefaultPluginManager.java:167)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:166)\n    ... 176 more\nCaused by: java.lang.NoSuchFieldError: Companion\n    at org.jetbrains.kotlin.gradle.dsl.ToolchainSupport$Companion.createToolchain$kotlin_gradle_plugin(ToolchainDsl.kt:33)\n    at org.jetbrains.kotlin.gradle.dsl.KotlinTopLevelExtension.&lt;init&gt;(KotlinProjectExtension.kt:66)\n    at org.jetbrains.kotlin.gradle.dsl.KotlinProjectExtension.&lt;init&gt;(KotlinProjectExtension.kt:106)\n    at org.jetbrains.kotlin.gradle.dsl.KotlinSingleTargetExtension.&lt;init&gt;(KotlinProjectExtension.kt:115)\n    at org.jetbrains.kotlin.gradle.dsl.KotlinAndroidProjectExtension.&lt;init&gt;(KotlinProjectExtension.kt:282)\n    at org.jetbrains.kotlin.gradle.dsl.KotlinAndroidProjectExtension_Decorated.&lt;init&gt;(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at org.gradle.internal.instantiation.generator.AsmBackedClassGenerator$InvokeConstructorStrategy.newInstance(AsmBackedClassGenerator.java:2078)\n    at org.gradle.internal.instantiation.generator.AbstractClassGenerator$GeneratedClassImpl$GeneratedConstructorImpl.newInstance(AbstractClassGenerator.java:488)\n    at org.gradle.internal.instantiation.generator.DependencyInjectingInstantiator.doCreate(DependencyInjectingInstantiator.java:64)\n    ... 198 more\n</code></pre>\n<p>Here is my gradle file. When I start Build it does not compile</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n\n}\n\nandroid {\n    namespace 'com.example.littlelemon'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.littlelemon&quot;\n        minSdk 21\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        vectorDrawables {\n            useSupportLibrary true\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    buildFeatures {\n        compose true\n    }\n    composeOptions {\n        kotlinCompilerExtensionVersion '1.1.1'\n    }\n    packagingOptions {\n        resources {\n            excludes += '/META-INF/{AL2.0,LGPL2.1}'\n        }\n    }\n\n}\n\ndependencies {\n    implementation 'androidx.navigation:navigation-compose:2.5.3'\n    implementation &quot;androidx.compose.ui:ui-tooling:1.3.3&quot;\n    implementation 'androidx.datastore:datastore-preferences:1.0.0'\n    implementation &quot;androidx.datastore:datastore-preferences-android:1.1.0-alpha04&quot;\n    implementation &quot;androidx.datastore:datastore-preferences-android:1.1.0&quot;\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.3.1'\n    implementation 'androidx.activity:activity-compose:1.3.1'\n    implementation &quot;androidx.compose.ui:ui:$compose_ui_version&quot;\n    implementation &quot;androidx.compose.ui:ui-tooling-preview:$compose_ui_version&quot;\n    implementation 'androidx.compose.material:material:1.1.1'\n    implementation 'androidx.datastore:datastore-core-android:1.1.0-alpha04'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    androidTestImplementation &quot;androidx.compose.ui:ui-test-junit4:$compose_ui_version&quot;\n    debugImplementation &quot;androidx.compose.ui:ui-tooling:$compose_ui_version&quot;\n    debugImplementation &quot;androidx.compose.ui:ui-test-manifest:$compose_ui_version&quot;\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.4'\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.2.0-alpha02&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:2.2.0-alpha02&quot;\n}\n</code></pre>\n<p>The project gradle file:</p>\n<pre><code>\nbuildscript {\n    ext {\n        compose_version = '1.3.3'\n    }\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.3.0' apply false\n    id 'com.android.library' version '7.3.0' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n}\n</code></pre>\n"},{"tags":["java","android","android-activity","android-studio"],"comments":[{"owner":{"account_id":2911673,"reputation":157,"user_id":2495721,"accept_rate":57,"display_name":"KennethLJJ"},"score":0,"creation_date":1445419436,"post_id":33253405,"comment_id":54312332,"body_markdown":"For NotMyApplication, you will have to add the activities that are compiled inside the jar/lib. Like the code snippet you showed, the app should use an Intent to start MyApplication activities and let MyApplication handle the rest.\n Check this out too: http://stackoverflow.com/questions/16763090/how-to-export-library-to-jar-in-android-studio","body":"For NotMyApplication, you will have to add the activities that are compiled inside the jar/lib. Like the code snippet you showed, the app should use an Intent to start MyApplication activities and let MyApplication handle the rest.  Check this out too: <a href=\"http://stackoverflow.com/questions/16763090/how-to-export-library-to-jar-in-android-studio\" title=\"how to export library to jar in android studio\">stackoverflow.com/questions/16763090/&hellip;</a>"},{"owner":{"account_id":5834741,"reputation":8404,"user_id":4598169,"accept_rate":80,"display_name":"Tarun Deep Attri"},"score":0,"creation_date":1445421198,"post_id":33253405,"comment_id":54313576,"body_markdown":"I created Jar file in eclipse and than copied same to libs folder in android studio. Than added complie statement in gradle :\n\nimported jar as :\n\nimport com.example.testmylibs.MyClassToTest;\n\nThan launched activity as : \n                Intent in = new Intent(getApplicationContext(),com.example.testmylibs.MyClassToTest.class);\n\n                startActivity(in);\n\nStill it gives FATAL as : \n\n\nandroid.content.ActivityNotFoundException: Unable to find explicit activity class {com.myapplication/com.example.testmylibs.MyClassToTest}; have you declared this activity in your AndroidManifest.xml?","body":"I created Jar file in eclipse and than copied same to libs folder in android studio. Than added complie statement in gradle :  imported jar as :  import com.example.testmylibs.MyClassToTest;  Than launched activity as :                  Intent in = new Intent(getApplicationContext(),com.example.testmylibs.MyClas&zwnj;&#8203;sToTest.class);                  startActivity(in);  Still it gives FATAL as :    android.content.ActivityNotFoundException: Unable to find explicit activity class {com.myapplication/com.example.testmylibs.MyClassToTest}; have you declared this activity in your AndroidManifest.xml?"},{"owner":{"account_id":2911673,"reputation":157,"user_id":2495721,"accept_rate":57,"display_name":"KennethLJJ"},"score":0,"creation_date":1445478447,"post_id":33253405,"comment_id":54345208,"body_markdown":"regarding the layout error, try and see if the res files are copied in the jar file, most likely there are not.\nFor the class not found, can you try to get the intent without &quot;getApplicationContext()&quot;? Does it work that way?","body":"regarding the layout error, try and see if the res files are copied in the jar file, most likely there are not. For the class not found, can you try to get the intent without &quot;getApplicationContext()&quot;? Does it work that way?"}],"answers":[{"tags":[],"owner":{"account_id":5834741,"reputation":8404,"user_id":4598169,"accept_rate":80,"display_name":"Tarun Deep Attri"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1683575368,"creation_date":1445579029,"answer_id":33295586,"question_id":33253405,"body_markdown":"I found out the answer in following way,\r\n\r\nI dont know but Jar files are not working this way, so what i did was i made the normal android project (MyApplication) which i wanted to export as a lib.\r\nOnce i comepleted making changes to my Activity say My Activity. GO to build.gradle of application make following changes : \r\n\r\n    1) change code **&quot;apply plugin: &#39;com.android.application&#39;&quot; to &quot;apply plugin: &#39;com.android.library&#39;&quot;**\r\n\r\n\t2) remove attribute &quot;applicationId &quot;com.myapplication&quot;&quot; from defaultConfig.\r\nNow go to menu bar and click on Build-&gt;clean  and than build-&gt; rebuild.\r\nIt will create a &quot;.aar&quot; file in &quot;app\\build\\outputs\\aar&quot;.\r\n\r\n\r\nThis is your lib.\r\nImport it in you application say NotMyApplication in libs folder and perform following steps : \r\n    1) Add following code to build.gradle of app :\r\n\t        **repositories{\r\n\t\t\t\tflatDir {\r\n\t\t\t\tdirs &#39;libs&#39;\r\n\t\t\t}**\r\n\r\n\t2) Also add following to build.gradle of app : \r\n\t\t**dependencies {\r\n\t\t...\r\n\t\tcompile (name: &#39;name_of_aar_file_without_ext&#39;, ext:&#39;aar&#39; )\r\n\t\t}**\r\n\r\n\t3) Declare the Activity you want to launch in your apps manifest file : \r\n\t\r\n\t\t**&lt;activity android:name=&quot;com.testmylib.MyActivity&quot; &gt;\r\n        &lt;/activity&gt;**\r\n\r\n\t4) Launch your activity as :\r\n\t\t\t**Intent in = new Intent(NotMyActivity.this,com.testmylib.MyActivity.class)\r\n\t\t\tstartActivity(in);**\r\n\t\t\t\r\n\r\nIt will launch your activity from lib. One point to note is if Resources of same name are there, than Activity will pick from NotMyApplication. So keep in mind ke give unique name to resources of such activities which you want to export in libs.\r\n\r\nI still dont know though why from Jar it is not working. Any help on that will be appreciated...:)\r\n\r\nFor more details visit the link : http://revisitingandroid.blogspot.in/2017/01/how-to-launch-activity-from-aar-files.html\r\n\t\t","title":"Launch an Activity from a JAR/Lib","body":"<p>I found out the answer in following way,</p>\n<p>I dont know but Jar files are not working this way, so what i did was i made the normal android project (MyApplication) which i wanted to export as a lib.\nOnce i comepleted making changes to my Activity say My Activity. GO to build.gradle of application make following changes :</p>\n<pre><code>1) change code **&quot;apply plugin: 'com.android.application'&quot; to &quot;apply plugin: 'com.android.library'&quot;**\n\n2) remove attribute &quot;applicationId &quot;com.myapplication&quot;&quot; from defaultConfig.\n</code></pre>\n<p>Now go to menu bar and click on Build-&gt;clean  and than build-&gt; rebuild.\nIt will create a &quot;.aar&quot; file in &quot;app\\build\\outputs\\aar&quot;.</p>\n<p>This is your lib.\nImport it in you application say NotMyApplication in libs folder and perform following steps :\n1) Add following code to build.gradle of app :\n<strong>repositories{\nflatDir {\ndirs 'libs'\n}</strong></p>\n<pre><code>2) Also add following to build.gradle of app : \n    **dependencies {\n    ...\n    compile (name: 'name_of_aar_file_without_ext', ext:'aar' )\n    }**\n\n3) Declare the Activity you want to launch in your apps manifest file : \n\n    **&lt;activity android:name=&quot;com.testmylib.MyActivity&quot; &gt;\n    &lt;/activity&gt;**\n\n4) Launch your activity as :\n        **Intent in = new Intent(NotMyActivity.this,com.testmylib.MyActivity.class)\n        startActivity(in);**\n        \n</code></pre>\n<p>It will launch your activity from lib. One point to note is if Resources of same name are there, than Activity will pick from NotMyApplication. So keep in mind ke give unique name to resources of such activities which you want to export in libs.</p>\n<p>I still dont know though why from Jar it is not working. Any help on that will be appreciated...:)</p>\n<p>For more details visit the link : <a href=\"http://revisitingandroid.blogspot.in/2017/01/how-to-launch-activity-from-aar-files.html\" rel=\"nofollow noreferrer\">http://revisitingandroid.blogspot.in/2017/01/how-to-launch-activity-from-aar-files.html</a></p>\n"},{"tags":[],"owner":{"account_id":10337070,"reputation":189,"user_id":7624818,"display_name":"Partha Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582207487,"creation_date":1580918149,"answer_id":60079549,"question_id":33253405,"body_markdown":"I would like to add a small point with @Tarun&#39;s answer:\r\n\r\n1. Copy and Paste all the dependencies from the build.gradle(Module: app) file of the SDK project(say MyApplication) to your Base Project(say NotMyApplication)&#39;s build.gradle(Module: app) file;\r\n\r\n2. Add this:\r\n \r\n        flatDir {\r\n             dirs &#39;libs&#39;\r\n        }\r\n inside your base Project&#39;s build.gradle(Project:NotMyApplication) file, like:\r\n\r\n        allprojects {\r\n             repositories {\r\n                 google()\r\n                 jcenter()\r\n                 flatDir {\r\n                     dirs &#39;libs&#39;\r\n                 }\r\n             }\r\n         } \r\n\r\n3. Inside your base Project&#39;s build.gradle(Module:app) file, use &#39;implementation&#39; instead of &#39;compile&#39;, like:\r\n        \r\n        implementation(name: &#39;name_of_aar_file_without_ext&#39;, ext:&#39;aar&#39; )\r\n    \r\n      \r\n   Since, configuration &quot;compile&quot; is obsolete and has been replaced with &quot;implementation&quot;. It will be removed soon. for more information, check here: http://d.android.com/r/tools/update-dependency-configurations.html\r\n","title":"Launch an Activity from a JAR/Lib","body":"<p>I would like to add a small point with @Tarun's answer:</p>\n\n<ol>\n<li><p>Copy and Paste all the dependencies from the build.gradle(Module: app) file of the SDK project(say MyApplication) to your Base Project(say NotMyApplication)'s build.gradle(Module: app) file;</p></li>\n<li><p>Add this:</p>\n\n<pre><code>flatDir {\n     dirs 'libs'\n}\n</code></pre>\n\n<p>inside your base Project's build.gradle(Project:NotMyApplication) file, like:</p>\n\n<pre><code>allprojects {\n     repositories {\n         google()\n         jcenter()\n         flatDir {\n             dirs 'libs'\n         }\n     }\n } \n</code></pre></li>\n<li><p>Inside your base Project's build.gradle(Module:app) file, use 'implementation' instead of 'compile', like:</p>\n\n<pre><code>implementation(name: 'name_of_aar_file_without_ext', ext:'aar' )\n</code></pre>\n\n<p>Since, configuration \"compile\" is obsolete and has been replaced with \"implementation\". It will be removed soon. for more information, check here: <a href=\"http://d.android.com/r/tools/update-dependency-configurations.html\" rel=\"nofollow noreferrer\">http://d.android.com/r/tools/update-dependency-configurations.html</a></p></li>\n</ol>\n"}],"owner":{"account_id":5834741,"reputation":8404,"user_id":4598169,"accept_rate":80,"display_name":"Tarun Deep Attri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2724,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":33295586,"answer_count":2,"score":7,"last_activity_date":1683575368,"creation_date":1445412601,"question_id":33253405,"body_markdown":"I want to create and android Project let us say MyApplication.\n\nMyApplication has an activity MyActivity.java.\n\nI want some other application let us say NotMyApplication to launch this activity without installing MyApplication on device.\n\nWhat i want to do for this scenario is i want to  Convert MyApplication to a jar/lib somehow so that i dont need to install and also dont need to share code.\n\nAnd import MyActivity.java in NotMyApplication and Create an Intent like following : \n\n    **Intent in = new Intent(MyActivity.class,NotMyActivity.this);\n    startActivity(in);**\n\nHow can i do whole process.\nCan someone guide Stepwise for android studio??\n\n[EDIT]\n\nI created Jar file in eclipse and than copied same to libs folder in android studio.\nThan added complie statement in gradle : imported jar as : \n\n**import com.example.testmylibs.MyClassToTest;**\n\n  Than launched activity as : \n\n**Intent in = new Intent(getApplicationContext(),com.example.testmylibs.MyClassToTest.class); startActivity(in);** \n\nStill it gives FATAL as : \n\nandroid.content.ActivityNotFoundException: Unable to find explicit activity class {com.myapplication/com.example.testmylibs.MyClassToTest}; have you declared this activity in your AndroidManifest.xml? \n\n[EDIT]\n\nif I declare locally in AndroidManifest.xml of NotMyApplicattion as :\n\n        **&lt;activity android:name=&quot;com.example.testmylibs.MyClassToTest&quot; &gt;\n        &lt;/activity&gt;**\n        \n        \nthan following exception comes : \n\njava.lang.NoClassDefFoundError: Failed resolution of: Lcom/example/testmylibs/R$layout;\n.\n.\nCaused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.example.testmylibs.R$layout&quot; on path: DexPathList[[zip file &quot;/data/app/com.myapplication-2/base.apk&quot;],nativeLibraryDirectories=[/vendor/lib64, /system/lib64]]\n","title":"Launch an Activity from a JAR/Lib","body":"<p>I want to create and android Project let us say MyApplication.</p>\n<p>MyApplication has an activity MyActivity.java.</p>\n<p>I want some other application let us say NotMyApplication to launch this activity without installing MyApplication on device.</p>\n<p>What i want to do for this scenario is i want to  Convert MyApplication to a jar/lib somehow so that i dont need to install and also dont need to share code.</p>\n<p>And import MyActivity.java in NotMyApplication and Create an Intent like following :</p>\n<pre><code>**Intent in = new Intent(MyActivity.class,NotMyActivity.this);\nstartActivity(in);**\n</code></pre>\n<p>How can i do whole process.\nCan someone guide Stepwise for android studio??</p>\n<p>[EDIT]</p>\n<p>I created Jar file in eclipse and than copied same to libs folder in android studio.\nThan added complie statement in gradle : imported jar as :</p>\n<p><strong>import com.example.testmylibs.MyClassToTest;</strong></p>\n<p>Than launched activity as :</p>\n<p><strong>Intent in = new Intent(getApplicationContext(),com.example.testmylibs.MyClassToTest.class); startActivity(in);</strong></p>\n<p>Still it gives FATAL as :</p>\n<p>android.content.ActivityNotFoundException: Unable to find explicit activity class {com.myapplication/com.example.testmylibs.MyClassToTest}; have you declared this activity in your AndroidManifest.xml?</p>\n<p>[EDIT]</p>\n<p>if I declare locally in AndroidManifest.xml of NotMyApplicattion as :</p>\n<pre><code>    **&lt;activity android:name=&quot;com.example.testmylibs.MyClassToTest&quot; &gt;\n    &lt;/activity&gt;**\n    \n    \n</code></pre>\n<p>than following exception comes :</p>\n<p>java.lang.NoClassDefFoundError: Failed resolution of: Lcom/example/testmylibs/R$layout;\n.\n.\nCaused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.example.testmylibs.R$layout&quot; on path: DexPathList[[zip file &quot;/data/app/com.myapplication-2/base.apk&quot;],nativeLibraryDirectories=[/vendor/lib64, /system/lib64]]</p>\n"},{"tags":["java","hibernate","spring-boot","hibernate-criteria"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1557396005,"post_id":56056731,"comment_id":98754385,"body_markdown":"You could also simply use `@OneToOne(fetch = FetchType.EAGER)`. Then you can go for `criteria.select(root);` and you should already get the full translation with that query","body":"You could also simply use <code>@OneToOne(fetch = FetchType.EAGER)</code>. Then you can go for <code>criteria.select(root);</code> and you should already get the full translation with that query"},{"owner":{"account_id":15899842,"reputation":31,"user_id":11472555,"display_name":"undefined"},"score":0,"creation_date":1557398607,"post_id":56056731,"comment_id":98755744,"body_markdown":"@XtremeBaumer This is not what I want. I need to explicitly pass the lang parameter to fill the translation with the appropriate translated value. However, it does solve the n+1 select query but still throws the QueryException if I try to add the joined language  to the select statement","body":"@XtremeBaumer This is not what I want. I need to explicitly pass the lang parameter to fill the translation with the appropriate translated value. However, it does solve the n+1 select query but still throws the QueryException if I try to add the joined language  to the select statement"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1557399487,"post_id":56056731,"comment_id":98756203,"body_markdown":"You don&#39;t need to select the language parameter explicitly. Let Hibernate fetch the whole `Translation` and work with that","body":"You don&#39;t need to select the language parameter explicitly. Let Hibernate fetch the whole <code>Translation</code> and work with that"},{"owner":{"account_id":15899842,"reputation":31,"user_id":11472555,"display_name":"undefined"},"score":0,"creation_date":1557400042,"post_id":56056731,"comment_id":98756509,"body_markdown":"@XtremeBaumer The reason I need to do this mapping from the sql query is that I want to avoid iterating through my list of entities to map the translation manually","body":"@XtremeBaumer The reason I need to do this mapping from the sql query is that I want to avoid iterating through my list of entities to map the translation manually"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1557400449,"post_id":56056731,"comment_id":98756734,"body_markdown":"Hibernate creates a query which maps it automatically. In the end you have a full fetched `Country` with the the corresponding `Translation`","body":"Hibernate creates a query which maps it automatically. In the end you have a full fetched <code>Country</code> with the the corresponding <code>Translation</code>"},{"owner":{"account_id":15899842,"reputation":31,"user_id":11472555,"display_name":"undefined"},"score":0,"creation_date":1557400791,"post_id":56056731,"comment_id":98756922,"body_markdown":"@XtremeBaumer As I said, I dont need every field of the translation table. I just need one, the language I want to return to the user. Maybe what I try to do is not supported","body":"@XtremeBaumer As I said, I dont need every field of the translation table. I just need one, the language I want to return to the user. Maybe what I try to do is not supported"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1557401164,"post_id":56056731,"comment_id":98757131,"body_markdown":"It is easyily done with a HQL query. Not sure how to do it with criteria though. Yet it doesn&#39;t matter if you fetch the whole table or just 1 field. In the end you have access to that one field. Right now you are just making it harder than necessary for yourself","body":"It is easyily done with a HQL query. Not sure how to do it with criteria though. Yet it doesn&#39;t matter if you fetch the whole table or just 1 field. In the end you have access to that one field. Right now you are just making it harder than necessary for yourself"},{"owner":{"account_id":15899842,"reputation":31,"user_id":11472555,"display_name":"undefined"},"score":0,"creation_date":1557401700,"post_id":56056731,"comment_id":98757485,"body_markdown":"Yeah I&#39;m aware this can be done easily with a HQL query, but I need to apply dynamic filters afterwards, so criteria it is. I think my life will be difficult for the moment.\n\nThanks for your time ! :)","body":"Yeah I&#39;m aware this can be done easily with a HQL query, but I need to apply dynamic filters afterwards, so criteria it is. I think my life will be difficult for the moment.  Thanks for your time ! :)"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1557401948,"post_id":56056731,"comment_id":98757631,"body_markdown":"HQL allows dynamic filters as well, though it might be a bit harder to implement. So far I don&#39;t see any reason, why you would want to do it the way you describe","body":"HQL allows dynamic filters as well, though it might be a bit harder to implement. So far I don&#39;t see any reason, why you would want to do it the way you describe"},{"owner":{"account_id":15899842,"reputation":31,"user_id":11472555,"display_name":"undefined"},"score":0,"creation_date":1557403483,"post_id":56056731,"comment_id":98758460,"body_markdown":"For the only purpose of having a field &quot;name&quot; from my country filled with the translation, and return it directly to the user instead of having a nested field with all the translation available.\nFor example, if I receive a query with lang=fr, I want to return :\n```\n{\n&quot;name&quot;: &quot;name_translated_in_french&quot;\n}\n```\nAnd not \n```\n{\n&quot;name&quot;: {\n&quot;fr&quot;: &quot;fr_name&quot;,\n}\n}\n```\n\nAnd I dont want having to iterate through my result set to map it manually for performance reason","body":"For the only purpose of having a field &quot;name&quot; from my country filled with the translation, and return it directly to the user instead of having a nested field with all the translation available. For example, if I receive a query with lang=fr, I want to return : ``` { &quot;name&quot;: &quot;name_translated_in_french&quot; } ``` And not  ``` { &quot;name&quot;: { &quot;fr&quot;: &quot;fr_name&quot;, } } ```  And I dont want having to iterate through my result set to map it manually for performance reason"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1557403973,"post_id":56056731,"comment_id":98758740,"body_markdown":"So 1 translation has multiple languages? Maybe you could post the `Translation` entity as well","body":"So 1 translation has multiple languages? Maybe you could post the <code>Translation</code> entity as well"},{"owner":{"account_id":15899842,"reputation":31,"user_id":11472555,"display_name":"undefined"},"score":0,"creation_date":1557404128,"post_id":56056731,"comment_id":98758814,"body_markdown":"Edited with aboved comment + translation entity","body":"Edited with aboved comment + translation entity"}],"answers":[{"tags":[],"owner":{"account_id":22196572,"reputation":1,"user_id":16437914,"display_name":"Никита Васильев"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683575146,"creation_date":1683295992,"answer_id":76183124,"question_id":56056731,"body_markdown":"The given code worked for me:\r\n\r\n    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n    CriteriaQuery&lt;Order&gt; query = cb.createQuery(Order.class);\r\n    \r\n    Root&lt;Order&gt; orderRoot = query.from(Order.class);\r\n    Join&lt;Order, Address&gt; addressJoin = orderRoot.join(&quot;address&quot;, JoinType.LEFT);\r\n    addressJoin.on(cb.equal(addressJoin.get(&quot;country&quot;), &quot;France&quot;)); //some additional conditions\r\n    orderRoot.fetch(&quot;address&quot;, JoinType.LEFT);\r\n    query.select(cb.construct(Order.class, order.id, ..., join.get(&quot;fr&quot;)));\r\n    List&lt;Order&gt; orders = entityManager.createQuery(query).getResultList();\r\n\r\nBut for its execution it is necessary to have the Address address field; in Order with Hibernate relations and also in Order there must be a constructor with all fields from the select\r\n\r\nThis error:\r\n\r\n    by: org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=generatedAlias1,role=service.model.Country.translatedName,tableName=translations,tableAlias=translatio1_,origin=countries country0_,columns={country0_.name_id ,className=database.models.Translation}}]\r\n\r\ncan occur in Hibernate when you use a select join to host entities in a query, but do not include the query entity that contains the relationship.\r\n\r\nFor example, if we have an Order and Address entity associated with a @ManyToOne membership, and we want to use a fetch join to place the addresses when executing a query to fetch orders, then we can write the following code:\r\n\r\n    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n    CriteriaQuery&lt;Order&gt; query = cb.createQuery(Order.class);\r\n    \r\n    Root&lt;Order&gt; orderRoot = query.from(Order.class);\r\n    Join&lt;Order, Address&gt; addressJoin = orderRoot.join(&quot;address&quot;, JoinType.LEFT);\r\n    orderRoot.fetch(&quot;address&quot;, JoinType.LEFT);\r\n    \r\n    List&lt;Order&gt; orders = entityManager.createQuery(query).getResultList();\r\n\r\nHowever, if we do not include the Order entity in the select list, we will get the error &quot;query specified join fetching, but the owner of the fetched association was not present in the select list&quot;.\r\n\r\nTo fix this error, we need to include the Order entity in the query&#39;s select list. For example, we can change our code like this:\r\n\r\n    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n    CriteriaQuery&lt;Object[]&gt; query = cb.createQuery(Object[].class);\r\n    \r\n    Root&lt;Order&gt; orderRoot = query.from(Order.class);\r\n    Join&lt;Order, Address&gt; addressJoin = orderRoot.join(&quot;address&quot;, JoinType.LEFT);\r\n    orderRoot.fetch(&quot;address&quot;, JoinType.LEFT);\r\n    \r\n    query.select(cb.array(orderRoot, addressJoin));\r\n    \r\n    List&lt;Object[]&gt; resultList = entityManager.createQuery(query).getResultList();\r\n\r\nIn this code, we select both Order and Address in the same request using the select method and the cb.array() method, which creates an array of objects containing the selected objects. But I&#39;m still not sure how to implement the replacement\r\n","title":"Multi query for a join using hibernate criteriabuilder","body":"<p>The given code worked for me:</p>\n<pre><code>CriteriaBuilder cb = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;Order&gt; query = cb.createQuery(Order.class);\n\nRoot&lt;Order&gt; orderRoot = query.from(Order.class);\nJoin&lt;Order, Address&gt; addressJoin = orderRoot.join(&quot;address&quot;, JoinType.LEFT);\naddressJoin.on(cb.equal(addressJoin.get(&quot;country&quot;), &quot;France&quot;)); //some additional conditions\norderRoot.fetch(&quot;address&quot;, JoinType.LEFT);\nquery.select(cb.construct(Order.class, order.id, ..., join.get(&quot;fr&quot;)));\nList&lt;Order&gt; orders = entityManager.createQuery(query).getResultList();\n</code></pre>\n<p>But for its execution it is necessary to have the Address address field; in Order with Hibernate relations and also in Order there must be a constructor with all fields from the select</p>\n<p>This error:</p>\n<pre><code>by: org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=generatedAlias1,role=service.model.Country.translatedName,tableName=translations,tableAlias=translatio1_,origin=countries country0_,columns={country0_.name_id ,className=database.models.Translation}}]\n</code></pre>\n<p>can occur in Hibernate when you use a select join to host entities in a query, but do not include the query entity that contains the relationship.</p>\n<p>For example, if we have an Order and Address entity associated with a @ManyToOne membership, and we want to use a fetch join to place the addresses when executing a query to fetch orders, then we can write the following code:</p>\n<pre><code>CriteriaBuilder cb = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;Order&gt; query = cb.createQuery(Order.class);\n\nRoot&lt;Order&gt; orderRoot = query.from(Order.class);\nJoin&lt;Order, Address&gt; addressJoin = orderRoot.join(&quot;address&quot;, JoinType.LEFT);\norderRoot.fetch(&quot;address&quot;, JoinType.LEFT);\n\nList&lt;Order&gt; orders = entityManager.createQuery(query).getResultList();\n</code></pre>\n<p>However, if we do not include the Order entity in the select list, we will get the error &quot;query specified join fetching, but the owner of the fetched association was not present in the select list&quot;.</p>\n<p>To fix this error, we need to include the Order entity in the query's select list. For example, we can change our code like this:</p>\n<pre><code>CriteriaBuilder cb = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;Object[]&gt; query = cb.createQuery(Object[].class);\n\nRoot&lt;Order&gt; orderRoot = query.from(Order.class);\nJoin&lt;Order, Address&gt; addressJoin = orderRoot.join(&quot;address&quot;, JoinType.LEFT);\norderRoot.fetch(&quot;address&quot;, JoinType.LEFT);\n\nquery.select(cb.array(orderRoot, addressJoin));\n\nList&lt;Object[]&gt; resultList = entityManager.createQuery(query).getResultList();\n</code></pre>\n<p>In this code, we select both Order and Address in the same request using the select method and the cb.array() method, which creates an array of objects containing the selected objects. But I'm still not sure how to implement the replacement</p>\n"}],"owner":{"account_id":15899842,"reputation":31,"user_id":11472555,"display_name":"undefined"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1586,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683575146,"creation_date":1557395358,"question_id":56056731,"body_markdown":"I would like perform a join query using hibernate criteria API and map some of the joined fields explicitly. \r\nThis is pretty straightforward, so my code resulted in :\r\n\r\n\r\n```\r\n        CriteriaBuilder builder = session.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Country&gt; criteria = builder.createQuery(Country.class);\r\n        Root&lt;Country&gt; root = criteria.from(Country.class);\r\n        Join&lt;Country, Translation&gt; join = root.join(&quot;translatedName&quot;);\r\n        criteria.multiselect(root, join.get(&quot;fr&quot;));\r\n        TypedQuery&lt;Country&gt; tq = session.createQuery(criteria);\r\n        List&lt;Country&gt; countries = tq.getResultList();\r\n```\r\nCountry Entity\r\n```\r\n@Entity\r\n@Table(name = &quot;countries&quot;)\r\npublic class Country {\r\n\r\n    @Id\r\n    @Column\r\n    private UUID id;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;name_id&quot;)\r\n    private Translation translatedName;\r\n\r\n    @Transient\r\n    private String name;\r\n\r\n    public Country(Country c, String name) {\r\n        this.id = c.id;\r\n        this.name = name;\r\n    }\r\n\r\n//getters...\r\n}\r\n```\r\nTranslation Entity\r\n```\r\npackage database.models;\r\n\r\nimport service.model.Country;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.OneToOne;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;translations&quot;)\r\npublic class Translation {\r\n    @Id\r\n    private String id;\r\n    private String fr;\r\n    private String en;\r\n// getters/setters\r\n}\r\n\r\n```\r\n\r\nThis does exactly what I want. Multiselect statement pass to my constructor the joined field, and I store it in the right variable.\r\n\r\n\r\nHowever, I encountered the infamous N+1 select problem :\r\n```\r\nHibernate: select country0_.id as col_0_0_, translatio1_.id as col_1_0_, translatio1_.fr as col_2_0_ from countries country0_ inner join translations translatio1_ on country0_.name_id=translatio1_.id\r\nHibernate: select country0_.id as id1_0_0_, country0_.name_id as name_id2_0_0_ from countries country0_ where country0_.id=?\r\n...\r\n```\r\n\r\n\r\nAfter some research, I have found that using the fetch statement instead of join solves this issue. Updated code :\r\n```\r\n        CriteriaBuilder builder = session.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Country&gt; criteria = builder.createQuery(Country.class);\r\n        Root&lt;Country&gt; root = criteria.from(Country.class);\r\n        Join&lt;Country, Translation&gt; join = (Join)root.fetch(&quot;translatedName&quot;);\r\n        criteria.multiselect(root, join.get(&quot;fr&quot;));\r\n        TypedQuery&lt;Country&gt; tq = session.createQuery(criteria);\r\n        List&lt;Country&gt; countries = tq.getResultList();\r\n```\r\n\r\n\r\nThe query fails with the following (well-known) QueryException :\r\n```\r\nCaused by: org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=generatedAlias1,role=service.model.Country.translatedName,tableName=translations,tableAlias=translatio1_,origin=countries country0_,columns={country0_.name_id ,className=database.models.Translation}}]\r\n```\r\n\r\nI&#39;ve come to understand that DTO Projection that I use for mapping my custom field, and the join fetch are not compatible.\r\n\r\nFor the record, I don&#39;t even need my `translatedName` relationship to be fetched. I just want to extract the right language and map it in my entity.\r\n\r\nThanks in advance. Any advice ?\r\n\r\n\r\nThe main purpose here is having a field `name` from my country filled with the translation, and return it directly to the user instead of having a nested field with all the translation available.\r\nFor example, if I receive a query with lang=fr, I want to return : \r\n\r\n```\r\n{\r\n  &quot;name&quot;: &quot;fr_name&quot;\r\n}\r\n```\r\nAnd not\r\n```\r\n{\r\n  &quot;name&quot;: {\r\n    &quot;fr&quot;: &quot;fr_name&quot;,\r\n    &quot;en&quot;: &quot;en_name&quot;\r\n  }\r\n}\r\n```\r\nAnd I dont want having to iterate through my result set to map it manually for performance reason ","title":"Multi query for a join using hibernate criteriabuilder","body":"<p>I would like perform a join query using hibernate criteria API and map some of the joined fields explicitly. \nThis is pretty straightforward, so my code resulted in :</p>\n\n<pre><code>        CriteriaBuilder builder = session.getCriteriaBuilder();\n        CriteriaQuery&lt;Country&gt; criteria = builder.createQuery(Country.class);\n        Root&lt;Country&gt; root = criteria.from(Country.class);\n        Join&lt;Country, Translation&gt; join = root.join(\"translatedName\");\n        criteria.multiselect(root, join.get(\"fr\"));\n        TypedQuery&lt;Country&gt; tq = session.createQuery(criteria);\n        List&lt;Country&gt; countries = tq.getResultList();\n</code></pre>\n\n<p>Country Entity</p>\n\n<pre><code>@Entity\n@Table(name = \"countries\")\npublic class Country {\n\n    @Id\n    @Column\n    private UUID id;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"name_id\")\n    private Translation translatedName;\n\n    @Transient\n    private String name;\n\n    public Country(Country c, String name) {\n        this.id = c.id;\n        this.name = name;\n    }\n\n//getters...\n}\n</code></pre>\n\n<p>Translation Entity</p>\n\n<pre><code>package database.models;\n\nimport service.model.Country;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = \"translations\")\npublic class Translation {\n    @Id\n    private String id;\n    private String fr;\n    private String en;\n// getters/setters\n}\n\n</code></pre>\n\n<p>This does exactly what I want. Multiselect statement pass to my constructor the joined field, and I store it in the right variable.</p>\n\n<p>However, I encountered the infamous N+1 select problem :</p>\n\n<pre><code>Hibernate: select country0_.id as col_0_0_, translatio1_.id as col_1_0_, translatio1_.fr as col_2_0_ from countries country0_ inner join translations translatio1_ on country0_.name_id=translatio1_.id\nHibernate: select country0_.id as id1_0_0_, country0_.name_id as name_id2_0_0_ from countries country0_ where country0_.id=?\n...\n</code></pre>\n\n<p>After some research, I have found that using the fetch statement instead of join solves this issue. Updated code :</p>\n\n<pre><code>        CriteriaBuilder builder = session.getCriteriaBuilder();\n        CriteriaQuery&lt;Country&gt; criteria = builder.createQuery(Country.class);\n        Root&lt;Country&gt; root = criteria.from(Country.class);\n        Join&lt;Country, Translation&gt; join = (Join)root.fetch(\"translatedName\");\n        criteria.multiselect(root, join.get(\"fr\"));\n        TypedQuery&lt;Country&gt; tq = session.createQuery(criteria);\n        List&lt;Country&gt; countries = tq.getResultList();\n</code></pre>\n\n<p>The query fails with the following (well-known) QueryException :</p>\n\n<pre><code>Caused by: org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=generatedAlias1,role=service.model.Country.translatedName,tableName=translations,tableAlias=translatio1_,origin=countries country0_,columns={country0_.name_id ,className=database.models.Translation}}]\n</code></pre>\n\n<p>I've come to understand that DTO Projection that I use for mapping my custom field, and the join fetch are not compatible.</p>\n\n<p>For the record, I don't even need my <code>translatedName</code> relationship to be fetched. I just want to extract the right language and map it in my entity.</p>\n\n<p>Thanks in advance. Any advice ?</p>\n\n<p>The main purpose here is having a field <code>name</code> from my country filled with the translation, and return it directly to the user instead of having a nested field with all the translation available.\nFor example, if I receive a query with lang=fr, I want to return : </p>\n\n<pre><code>{\n  \"name\": \"fr_name\"\n}\n</code></pre>\n\n<p>And not</p>\n\n<pre><code>{\n  \"name\": {\n    \"fr\": \"fr_name\",\n    \"en\": \"en_name\"\n  }\n}\n</code></pre>\n\n<p>And I dont want having to iterate through my result set to map it manually for performance reason </p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":3,"creation_date":1683572837,"post_id":76203637,"comment_id":134384332,"body_markdown":"I believe that you were supposed to work with duplicate **values**. Your code makes no use of the `val` item at all.","body":"I believe that you were supposed to work with duplicate <b>values</b>. Your code makes no use of the <code>val</code> item at all."},{"owner":{"account_id":28528176,"reputation":21,"user_id":21855214,"display_name":"Surion"},"score":0,"creation_date":1683573109,"post_id":76203637,"comment_id":134384386,"body_markdown":"teapot418, I wrote that the value also does not work. tried this and that","body":"teapot418, I wrote that the value also does not work. tried this and that"}],"answers":[{"tags":[],"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683574371,"creation_date":1683574371,"answer_id":76203820,"question_id":76203637,"body_markdown":"You have a few problems in your code.\r\n\r\n1. References comparison\r\n\r\n```\r\nif (head != head.next)\r\n```\r\n\r\nThis condition is always `true` as you compare `references`. You should compare `ListNode#val` instead.\r\n\r\n**a.** replace the check with `head.val != head.next.val`. Take care of `null` check for `head.next`\r\n\r\n**b.** if `head.next` is null you should always fall into the `if` statement as this is the last element\r\n\r\n2. You always advance `result` and do not advance `head`\r\n\r\nEven if you met duplicate you advance results which does not make sense. If we found a duplicate we should not advance `result` as we did not modify the list.\r\n\r\n**a.** Instead of advancing result you need to advance `head` every iteration, i.e. mode `head = head.next` out of `if` statement\r\n\r\n**b.** You need to advance result only when there is no duplicates, i.e. move `result` advancing into `if` statement\r\n\r\nI applied all the highlights to your code, you can see it below:\r\n\r\n```\r\nclass Solution {\r\n    public ListNode deleteDuplicates(ListNode head) {\r\n\r\n        ListNode trueResult = new ListNode(-1);\r\n        ListNode result = trueResult;\r\n\r\n        while (head != null) {\r\n                \r\n                if (head.next == null || (head.next != null &amp;&amp; head.val != head.next.val)) {\r\n                    result.next = head;\r\n                    result = result.next;\r\n                }\r\n\r\n                head = head.next;\r\n        }\r\n\r\n        return trueResult.next;\r\n    }\r\n}\r\n```\r\n\r\nHappy coding!","title":"LinkedList, leetcode #83, condition is always met","body":"<p>You have a few problems in your code.</p>\n<ol>\n<li>References comparison</li>\n</ol>\n<pre><code>if (head != head.next)\n</code></pre>\n<p>This condition is always <code>true</code> as you compare <code>references</code>. You should compare <code>ListNode#val</code> instead.</p>\n<p><strong>a.</strong> replace the check with <code>head.val != head.next.val</code>. Take care of <code>null</code> check for <code>head.next</code></p>\n<p><strong>b.</strong> if <code>head.next</code> is null you should always fall into the <code>if</code> statement as this is the last element</p>\n<ol start=\"2\">\n<li>You always advance <code>result</code> and do not advance <code>head</code></li>\n</ol>\n<p>Even if you met duplicate you advance results which does not make sense. If we found a duplicate we should not advance <code>result</code> as we did not modify the list.</p>\n<p><strong>a.</strong> Instead of advancing result you need to advance <code>head</code> every iteration, i.e. mode <code>head = head.next</code> out of <code>if</code> statement</p>\n<p><strong>b.</strong> You need to advance result only when there is no duplicates, i.e. move <code>result</code> advancing into <code>if</code> statement</p>\n<p>I applied all the highlights to your code, you can see it below:</p>\n<pre><code>class Solution {\n    public ListNode deleteDuplicates(ListNode head) {\n\n        ListNode trueResult = new ListNode(-1);\n        ListNode result = trueResult;\n\n        while (head != null) {\n                \n                if (head.next == null || (head.next != null &amp;&amp; head.val != head.next.val)) {\n                    result.next = head;\n                    result = result.next;\n                }\n\n                head = head.next;\n        }\n\n        return trueResult.next;\n    }\n}\n</code></pre>\n<p>Happy coding!</p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1683575087,"creation_date":1683574599,"answer_id":76203839,"question_id":76203637,"body_markdown":"They seem to want this (like):\r\n```lang-java\r\nclass Solution {\r\n    public ListNode deleteDuplicates(ListNode head) {\r\n        ListNode cur = head; // &quot;cursor&quot; head to tail\r\n        while (cur != null) {\r\n            ListNode del = cur.next; // cursor over &quot;deletion candidates&quot;\r\n            while (del != null &amp;&amp; del.val &lt;= cur.val) { // del.val &lt;= cur.val means it is not sorted or equal! del == null means we are done\r\n                del = del.next; // just iterate (inner loop)..\r\n            }\r\n            // when terminated, we are good!:\r\n            // del == null || del.val &gt; cur.val  (is now true!;)\r\n            cur.next = del; // re-link\r\n            cur = del; // iterate (outer loop)...\r\n        } // outer done, cur == null (== &quot;tail&quot;)\r\n        return head; // return the original head (with (eventually) less &quot;links&quot;/nodes) ..all &quot;forgotten nodes&quot; are ready for GC\r\n    }\r\n}\r\n```\r\n## Accepted\r\n### Runtime 0 ms Beats 100%\r\n#### Memory 42.7 MB Beats 7.62%\r\n","title":"LinkedList, leetcode #83, condition is always met","body":"<p>They seem to want this (like):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    public ListNode deleteDuplicates(ListNode head) {\n        ListNode cur = head; // &quot;cursor&quot; head to tail\n        while (cur != null) {\n            ListNode del = cur.next; // cursor over &quot;deletion candidates&quot;\n            while (del != null &amp;&amp; del.val &lt;= cur.val) { // del.val &lt;= cur.val means it is not sorted or equal! del == null means we are done\n                del = del.next; // just iterate (inner loop)..\n            }\n            // when terminated, we are good!:\n            // del == null || del.val &gt; cur.val  (is now true!;)\n            cur.next = del; // re-link\n            cur = del; // iterate (outer loop)...\n        } // outer done, cur == null (== &quot;tail&quot;)\n        return head; // return the original head (with (eventually) less &quot;links&quot;/nodes) ..all &quot;forgotten nodes&quot; are ready for GC\n    }\n}\n</code></pre>\n<h2>Accepted</h2>\n<h3>Runtime 0 ms Beats 100%</h3>\n<h4>Memory 42.7 MB Beats 7.62%</h4>\n"}],"owner":{"account_id":28528176,"reputation":21,"user_id":21855214,"display_name":"Surion"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1683647372,"accepted_answer_id":76203820,"answer_count":2,"score":-2,"last_activity_date":1683575087,"creation_date":1683572624,"question_id":76203637,"body_markdown":"Why this code not working? if (head != head.next) and (head.val != head.next.val) work in 100% of cases. But I found in the answers a code with the same condition that works for a person. Please help me find the error.\r\n\r\nLeetCode: https://leetcode.com/problems/remove-duplicates-from-sorted-list/description/\r\n\r\n```\r\n/**\r\n * Definition for singly-linked list.\r\n * public class ListNode {\r\n *     int val;\r\n *     ListNode next;\r\n *     ListNode() {}\r\n *     ListNode(int val) { this.val = val; }\r\n *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\r\n * }\r\n */\r\nclass Solution {\r\n    public ListNode deleteDuplicates(ListNode head) {\r\n\r\n        ListNode trueResult = new ListNode(-1);\r\n        ListNode result = trueResult;\r\n\r\n        while (head != null) {\r\n                \r\n                if (head != head.next) {\r\n                    result.next = head;\r\n                    head = head.next;\r\n                }\r\n\r\n                result = result.next;\r\n        }\r\n\r\n        return trueResult.next;\r\n    }\r\n}\r\n```\r\n\r\nResult: `head = [1,1,2,3,3] output = [1,1,2,3,3] expected = [1,2,3]`\r\n\r\n\r\nThis code work. Why? \r\n```/**\r\n * Definition for singly-linked list.\r\n * public class ListNode {\r\n *     int val;\r\n *     ListNode next;\r\n *     ListNode() {}\r\n *     ListNode(int val) { this.val = val; }\r\n *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\r\n * }\r\n */\r\nclass Solution {\r\n    public ListNode deleteDuplicates(ListNode head) {\r\n        \r\n        ListNode temp = head;\r\n\r\n        while( temp != null &amp;&amp; temp.next != null ){\r\n\r\n            if( temp.val == temp.next.val ){\r\n                temp.next = temp.next.next;\r\n            }\r\n            else{\r\n                temp = temp.next;\r\n            }\r\n\r\n        }\r\n\r\n        return head;\r\n\r\n    }\r\n}\r\n```\r\n\r\nif (head != head.next) and if (head.val != head.next.val) work to 100% cases. All time i take a bad result.\r\n\r\nim try to use head.val != head.next.val, but its not work :(","title":"LinkedList, leetcode #83, condition is always met","body":"<p>Why this code not working? if (head != head.next) and (head.val != head.next.val) work in 100% of cases. But I found in the answers a code with the same condition that works for a person. Please help me find the error.</p>\n<p>LeetCode: <a href=\"https://leetcode.com/problems/remove-duplicates-from-sorted-list/description/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/remove-duplicates-from-sorted-list/description/</a></p>\n<pre><code>/**\n * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode() {}\n *     ListNode(int val) { this.val = val; }\n *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\n * }\n */\nclass Solution {\n    public ListNode deleteDuplicates(ListNode head) {\n\n        ListNode trueResult = new ListNode(-1);\n        ListNode result = trueResult;\n\n        while (head != null) {\n                \n                if (head != head.next) {\n                    result.next = head;\n                    head = head.next;\n                }\n\n                result = result.next;\n        }\n\n        return trueResult.next;\n    }\n}\n</code></pre>\n<p>Result: <code>head = [1,1,2,3,3] output = [1,1,2,3,3] expected = [1,2,3]</code></p>\n<p>This code work. Why?</p>\n<pre><code> * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode() {}\n *     ListNode(int val) { this.val = val; }\n *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\n * }\n */\nclass Solution {\n    public ListNode deleteDuplicates(ListNode head) {\n        \n        ListNode temp = head;\n\n        while( temp != null &amp;&amp; temp.next != null ){\n\n            if( temp.val == temp.next.val ){\n                temp.next = temp.next.next;\n            }\n            else{\n                temp = temp.next;\n            }\n\n        }\n\n        return head;\n\n    }\n}\n</code></pre>\n<p>if (head != head.next) and if (head.val != head.next.val) work to 100% cases. All time i take a bad result.</p>\n<p>im try to use head.val != head.next.val, but its not work :(</p>\n"},{"tags":["java","presto","trino"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1683564822,"post_id":76202647,"comment_id":134382582,"body_markdown":"Add the complete command line and all arguments used to start Java to the question. Is the error message complete? Please use code format and ensure all lines and format of the message is preserved.","body":"Add the complete command line and all arguments used to start Java to the question. Is the error message complete? Please use code format and ensure all lines and format of the message is preserved."},{"owner":{"account_id":92241,"reputation":3464,"user_id":252858,"accept_rate":44,"display_name":"David P. Caldwell"},"score":1,"creation_date":1683575564,"post_id":76202647,"comment_id":134384929,"body_markdown":"Hi, please indicate the version of Java you are using and the command you are running when receiving the error you indicate.","body":"Hi, please indicate the version of Java you are using and the command you are running when receiving the error you indicate."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683566195,"creation_date":1683566195,"answer_id":76202839,"question_id":76202647,"body_markdown":"The error indicates that you are assigning more memory to the heap than your system has available. Try with a smaller amount. If your JVM is 32-bits and your operating system is 64-bits you could try using a 64-bits JVM so it can handle more memory.","title":"Error Invalid maximum heap size: -Xmx8192m Error: Could not create the Java Virtual Machine. Error: A fatal exception has occurred. Program will exit","body":"<p>The error indicates that you are assigning more memory to the heap than your system has available. Try with a smaller amount. If your JVM is 32-bits and your operating system is 64-bits you could try using a 64-bits JVM so it can handle more memory.</p>\n"}],"owner":{"account_id":28549148,"reputation":1,"user_id":21854201,"display_name":"Sana Triki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2955,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1683629033,"answer_count":1,"score":-1,"last_activity_date":1683574978,"creation_date":1683564619,"question_id":76202647,"body_markdown":"I am new to Trino, i did the clone of the code source of Trino from github : https://github.com/trinodb/trino and I get this error :\r\n\r\nInvalid maximum heap size: `-Xmx8192m`\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. The program will exit.\r\n\r\n\r\nI tried these solutions on this site: https://helpdeskgeek.com/help-desk/how-to-fix-could-not-create-the-java-virtual-machine-error/ and it didn&#39;t work either\r\nWhat is the problem and what should I do? \r\nThanks!","title":"Error Invalid maximum heap size: -Xmx8192m Error: Could not create the Java Virtual Machine. Error: A fatal exception has occurred. Program will exit","body":"<p>I am new to Trino, i did the clone of the code source of Trino from github : <a href=\"https://github.com/trinodb/trino\" rel=\"nofollow noreferrer\">https://github.com/trinodb/trino</a> and I get this error :</p>\n<p>Invalid maximum heap size: <code>-Xmx8192m</code>\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. The program will exit.</p>\n<p>I tried these solutions on this site: <a href=\"https://helpdeskgeek.com/help-desk/how-to-fix-could-not-create-the-java-virtual-machine-error/\" rel=\"nofollow noreferrer\">https://helpdeskgeek.com/help-desk/how-to-fix-could-not-create-the-java-virtual-machine-error/</a> and it didn't work either\nWhat is the problem and what should I do?\nThanks!</p>\n"},{"tags":["java","ruby","design-patterns","domain-driven-design"],"answers":[{"tags":[],"owner":{"account_id":398303,"reputation":27194,"user_id":762913,"accept_rate":75,"display_name":"pap"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1332833006,"creation_date":1332833006,"answer_id":9885005,"question_id":9884891,"body_markdown":"Most people would say that you should not keep logic in your model-classes. Exceptions might include:\r\n\r\n- helper functions accessing a contained Collection (`addToList(Object o)`, `getFromList(int index)`, etc etc)\r\n- Standard Object and similar overrides (`equals`, `hashCode`, `toString`, `clone`, `compareTo`, etc)\r\n- Data pre/post processing (like fixing strings to uppercase or stuff like that)\r\n\r\nSince people won&#39;t *expect* there to be logic in model classes, you should probably avoid it too. It will confuse other developers who might have to look at and maintain your code in the future. After all, that is why there are patterns - to help other developers recognize and maintain your code.","title":"should I have logic in my model class or other classes","body":"<p>Most people would say that you should not keep logic in your model-classes. Exceptions might include:</p>\n\n<ul>\n<li>helper functions accessing a contained Collection (<code>addToList(Object o)</code>, <code>getFromList(int index)</code>, etc etc)</li>\n<li>Standard Object and similar overrides (<code>equals</code>, <code>hashCode</code>, <code>toString</code>, <code>clone</code>, <code>compareTo</code>, etc)</li>\n<li>Data pre/post processing (like fixing strings to uppercase or stuff like that)</li>\n</ul>\n\n<p>Since people won't <em>expect</em> there to be logic in model classes, you should probably avoid it too. It will confuse other developers who might have to look at and maintain your code in the future. After all, that is why there are patterns - to help other developers recognize and maintain your code.</p>\n"},{"tags":[],"owner":{"account_id":365245,"reputation":1677,"user_id":710064,"display_name":"Euclides Mul&#233;mbw&#232;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332833383,"creation_date":1332833383,"answer_id":9885086,"question_id":9884891,"body_markdown":"I believe the first one is better, you have a model and a class that has all the information needed to operate that model and that model might need some other information to do some operations. \r\n\r\ntry reading more about Information Expert.","title":"should I have logic in my model class or other classes","body":"<p>I believe the first one is better, you have a model and a class that has all the information needed to operate that model and that model might need some other information to do some operations. </p>\n\n<p>try reading more about Information Expert.</p>\n"},{"tags":[],"owner":{"account_id":84454,"reputation":3183,"user_id":236092,"accept_rate":70,"display_name":"Dennis Laumen"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1683574456,"creation_date":1332833424,"answer_id":9885099,"question_id":9884891,"body_markdown":"Yes, you should keep logic in your model! That is, if you do actual object oriented programming (and it looks like you do). To quote [Wikipedia][1]:\r\n\r\n&gt; Object-oriented programming (OOP) is a programming paradigm using\r\n&gt; &quot;objects&quot; – data structures consisting of data fields and methods\r\n&gt; together with their interactions – to design applications and computer\r\n&gt; programs.\r\n\r\nThis is especially true if you&#39;re trying to do domain driven design (which your tags imply). DDD is all about expressing your domain with objects. \r\n\r\n[Martin Fowler says putting the logic outside your model is an anti-pattern.][2]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Object-oriented_programming\r\n  [2]: http://martinfowler.com/bliki/AnemicDomainModel.html","title":"should I have logic in my model class or other classes","body":"<p>Yes, you should keep logic in your model! That is, if you do actual object oriented programming (and it looks like you do). To quote <a href=\"http://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">Wikipedia</a>:</p>\n<blockquote>\n<p>Object-oriented programming (OOP) is a programming paradigm using\n&quot;objects&quot; – data structures consisting of data fields and methods\ntogether with their interactions – to design applications and computer\nprograms.</p>\n</blockquote>\n<p>This is especially true if you're trying to do domain driven design (which your tags imply). DDD is all about expressing your domain with objects.</p>\n<p><a href=\"http://martinfowler.com/bliki/AnemicDomainModel.html\" rel=\"nofollow noreferrer\">Martin Fowler says putting the logic outside your model is an anti-pattern.</a></p>\n"},{"tags":[],"owner":{"account_id":189768,"reputation":2337,"user_id":429305,"accept_rate":62,"display_name":"Rockstart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332870331,"creation_date":1332870331,"answer_id":9894803,"question_id":9884891,"body_markdown":"In such scenarios, the trade off should be considered.\nIt is good to add accept_friend in the user class if you are sure that the user class will not grow in size going forward.\n\nOn the other hand, it is preferred to move accept_friend into service classes like UserController in following scenarios.\n\n1. To avoid user class grow in size. Such logics can be moved to these subclasses(Usercontroller) thus making the classes look simple\n\n2. For resuability . Tomorrow if there is a class called superuser which also needs accept_friend functionality, then UserController class can be resued like \n\n&gt; user_controller = UserController.new\n&gt;\n&gt; user_controller.accept_friend(Superuser1, Superuser2)\n\n","title":"should I have logic in my model class or other classes","body":"<p>In such scenarios, the trade off should be considered.\nIt is good to add accept_friend in the user class if you are sure that the user class will not grow in size going forward.</p>\n<p>On the other hand, it is preferred to move accept_friend into service classes like UserController in following scenarios.</p>\n<ol>\n<li><p>To avoid user class grow in size. Such logics can be moved to these subclasses(Usercontroller) thus making the classes look simple</p>\n</li>\n<li><p>For resuability . Tomorrow if there is a class called superuser which also needs accept_friend functionality, then UserController class can be resued like</p>\n</li>\n</ol>\n<blockquote>\n<p>user_controller = UserController.new</p>\n<p>user_controller.accept_friend(Superuser1, Superuser2)</p>\n</blockquote>\n"}],"owner":{"account_id":318124,"reputation":11791,"user_id":635162,"accept_rate":79,"display_name":"toy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3914,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":9885099,"answer_count":4,"score":7,"last_activity_date":1683574456,"creation_date":1332832352,"question_id":9884891,"body_markdown":"I just want to have other opinions about this one that I have been debating in my head, for example I have class user_controller, and class user\r\n\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\nclass User\r\n   attr_accessor :name, :username   \r\nend\r\n\r\nclass UserController\r\n   // do something about anything about users\r\nend\r\n\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\nThe question would be should I have logic in my User class so it would be\r\n\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\nuser = User.new\r\nuser.do_something(user1)\r\n\r\nor it should be \r\n\r\nuser_controller = UserController.new\r\nuser_controller.do_something(user1, user2)\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\nI&#39;m not sure which one is the best design, I personally quite like the first one so for example it would read like\r\n\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\njohn = User.new\r\njohn.accept_friend(jane)\r\n\r\ninstead of \r\nuser_controller = UserController.new\r\nuser_controller.accept_friend(john, jane)\r\n\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\nWhat are pros and cons of those patterns? This is not just specific to Ruby, it&#39;s because I thing ruby is easier in typing.\r\n\r\nEdit: There is really good conversion going on, but I quite like to here more from people. Thanks everyone. ","title":"should I have logic in my model class or other classes","body":"<p>I just want to have other opinions about this one that I have been debating in my head, for example I have class user_controller, and class user</p>\n\n<pre>\n<code>\nclass User\n   attr_accessor :name, :username   \nend\n\nclass UserController\n   // do something about anything about users\nend\n\n</code>\n</pre>\n\n<p>The question would be should I have logic in my User class so it would be</p>\n\n<pre>\n<code>\nuser = User.new\nuser.do_something(user1)\n\nor it should be \n\nuser_controller = UserController.new\nuser_controller.do_something(user1, user2)\n</code>\n</pre>\n\n<p>I'm not sure which one is the best design, I personally quite like the first one so for example it would read like</p>\n\n<pre>\n<code>\njohn = User.new\njohn.accept_friend(jane)\n\ninstead of \nuser_controller = UserController.new\nuser_controller.accept_friend(john, jane)\n\n</code>\n</pre>\n\n<p>What are pros and cons of those patterns? This is not just specific to Ruby, it's because I thing ruby is easier in typing.</p>\n\n<p>Edit: There is really good conversion going on, but I quite like to here more from people. Thanks everyone. </p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1648311475,"creation_date":1648311475,"answer_id":71629763,"question_id":71629751,"body_markdown":"Swing runs in everything from java 1.1 (30 years old at this point) to JDK18 (released 2 days ago). AWT is still supported (Swing is built on top of it, even, certain parts anyway). Whomever told you that &#39;AWT programs are not supported&#39; is misinformed.\r\n\r\nApplets are no longer supported - that&#39;s true. Haven&#39;t been for decades.\r\n","title":"Java Swing can run in JDK 1.8 or it needs latest version","body":"<p>Swing runs in everything from java 1.1 (30 years old at this point) to JDK18 (released 2 days ago). AWT is still supported (Swing is built on top of it, even, certain parts anyway). Whomever told you that 'AWT programs are not supported' is misinformed.</p>\n<p>Applets are no longer supported - that's true. Haven't been for decades.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683572860,"creation_date":1648317176,"answer_id":71630500,"question_id":71629751,"body_markdown":"See white paper by Oracle: [*Java Client Roadmap Update*](https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf), 2020-05.\r\n\r\n# Applets\r\n\r\n\r\nOracle and the Java community have been phasing out [Java Applet][1] support from [Java SE][2]. \r\n\r\nAll web browser makers have halted support for Java Applets.\r\n\r\nThe modern options to deploy Java GUI apps include:\r\n\r\n - Bundle your app with a JVM to be installed on the desktop computer. See Java JEPs [282][3] and [392][4].\r\n - Use [*OpenWebStart*][5] to deliver the app to a desktop computer on which a Java runtime is installed. May be practical in a controlled environment such as a corporation or an educational institution. \r\n - Write your app in Java using the [*Vaadin Flow*][6] framework, running on a server, with user-interface rendered using Web technologies to auto-generate HTML/CSS/JavaScript for display remotely in the user’s web browser.\r\n\r\n# Swing\r\n\r\n[Answer by rzwitserloot][7] is correct. \r\n\r\n[Swing](https://en.wikipedia.org/wiki/Swing_(Java)) is a required part of Java, always included, still supported, but no longer under active development (in [maintenance mode][8]). \r\n\r\n# JavaFX\r\n\r\nSwing’s official replacement, [JavaFX](https://en.wikipedia.org/wiki/JavaFX), is under active development as [*OpenJFX*](https://openjfx.io/). The project is co-led by [Gluon][9] and [Oracle][10]. New releases arrive around the same time as releases of Java, one every six months.\r\n\r\nOpenJFX libraries are available to add to your project. Alternatively, at least two vendors bundle the OpenJFX libraries with an edition of their [JDK][11] offering: *ZuluFX* by Azul Systems, and *LibericaFX* by BellSoft.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_applet\r\n  [2]: https://en.wikipedia.org/wiki/Java_Platform,_Standard_Edition\r\n  [3]: https://openjdk.org/jeps/282\r\n  [4]: https://openjdk.org/jeps/392\r\n  [5]: https://openwebstart.com\r\n  [6]: https://en.wikipedia.org/wiki/Vaadin#Vaadin_Flow_(Java_API)\r\n  [7]: https://stackoverflow.com/a/71629763/642706\r\n  [8]: https://en.wikipedia.org/wiki/Maintenance_mode\r\n  [9]: https://gluonhq.com/\r\n  [10]: https://en.wikipedia.org/wiki/Oracle_Corporation\r\n  [11]: https://en.wikipedia.org/wiki/Java_Development_Kit","title":"Java Swing can run in JDK 1.8 or it needs latest version","body":"<p>See white paper by Oracle: <a href=\"https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf\" rel=\"nofollow noreferrer\"><em>Java Client Roadmap Update</em></a>, 2020-05.</p>\n<h1>Applets</h1>\n<p>Oracle and the Java community have been phasing out <a href=\"https://en.wikipedia.org/wiki/Java_applet\" rel=\"nofollow noreferrer\">Java Applet</a> support from <a href=\"https://en.wikipedia.org/wiki/Java_Platform,_Standard_Edition\" rel=\"nofollow noreferrer\">Java SE</a>.</p>\n<p>All web browser makers have halted support for Java Applets.</p>\n<p>The modern options to deploy Java GUI apps include:</p>\n<ul>\n<li>Bundle your app with a JVM to be installed on the desktop computer. See Java JEPs <a href=\"https://openjdk.org/jeps/282\" rel=\"nofollow noreferrer\">282</a> and <a href=\"https://openjdk.org/jeps/392\" rel=\"nofollow noreferrer\">392</a>.</li>\n<li>Use <a href=\"https://openwebstart.com\" rel=\"nofollow noreferrer\"><em>OpenWebStart</em></a> to deliver the app to a desktop computer on which a Java runtime is installed. May be practical in a controlled environment such as a corporation or an educational institution.</li>\n<li>Write your app in Java using the <a href=\"https://en.wikipedia.org/wiki/Vaadin#Vaadin_Flow_(Java_API)\" rel=\"nofollow noreferrer\"><em>Vaadin Flow</em></a> framework, running on a server, with user-interface rendered using Web technologies to auto-generate HTML/CSS/JavaScript for display remotely in the user’s web browser.</li>\n</ul>\n<h1>Swing</h1>\n<p><a href=\"https://stackoverflow.com/a/71629763/642706\">Answer by rzwitserloot</a> is correct.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Swing_(Java)\" rel=\"nofollow noreferrer\">Swing</a> is a required part of Java, always included, still supported, but no longer under active development (in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>).</p>\n<h1>JavaFX</h1>\n<p>Swing’s official replacement, <a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\">JavaFX</a>, is under active development as <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\"><em>OpenJFX</em></a>. The project is co-led by <a href=\"https://gluonhq.com/\" rel=\"nofollow noreferrer\">Gluon</a> and <a href=\"https://en.wikipedia.org/wiki/Oracle_Corporation\" rel=\"nofollow noreferrer\">Oracle</a>. New releases arrive around the same time as releases of Java, one every six months.</p>\n<p>OpenJFX libraries are available to add to your project. Alternatively, at least two vendors bundle the OpenJFX libraries with an edition of their <a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">JDK</a> offering: <em>ZuluFX</em> by Azul Systems, and <em>LibericaFX</em> by BellSoft.</p>\n"}],"owner":{"account_id":24698116,"reputation":28,"user_id":18589783,"display_name":"Abishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1088,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1683572860,"creation_date":1648311301,"question_id":71629751,"body_markdown":"Is Java Swing need JDK 1.8 version or it can run in any JDK Versions.Because JDK latest Version didn&#39;t support applets and AWT programs","title":"Java Swing can run in JDK 1.8 or it needs latest version","body":"<p>Is Java Swing need JDK 1.8 version or it can run in any JDK Versions.Because JDK latest Version didn't support applets and AWT programs</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":11124610,"reputation":155,"user_id":8166506,"display_name":"M.Navy"},"score":0,"creation_date":1683613135,"post_id":76203613,"comment_id":134389075,"body_markdown":"Spring data follows convention. In java if you create entities, the field names should be in lowerCamelCase. In the repository when you call findByCategory it is looking for field category instead of Category","body":"Spring data follows convention. In java if you create entities, the field names should be in lowerCamelCase. In the repository when you call findByCategory it is looking for field category instead of Category"}],"owner":{"account_id":28550067,"reputation":1,"user_id":21855064,"display_name":"Ph&#250;c L&#234; Minh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683572463,"creation_date":1683572463,"question_id":76203613,"body_markdown":"I can&#39;t find the way to solve my problem in google. I am newbie in studying Spring Boot Integration With MongoDB. Here is my problems: \r\n\r\n# **Code: **\r\n**Product.java**\r\n    \r\n```\r\npackage com.example.SE.Collection;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.bson.types.ObjectId;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Document(collection = &quot;Product&quot;)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class Product {\r\n    @Id\r\n    private String ProductId;\r\n    private String Category;\r\n    private String Name;\r\n    private double Cost;\r\n    private String Description;\r\n    private String How_to_use;\r\n    private String Ingredient;\r\n    private String Brand;\r\n    private int Volume;\r\n    private int Mark;\r\n}    \r\n```\r\n\r\n**ProductRepository.java**\r\n```\r\npackage com.example.SE.repository;\r\n\r\nimport com.example.SE.Collection.Product;\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Repository\r\npublic interface ProductRepository extends MongoRepository&lt;Product, String&gt; {\r\n    List&lt;Product&gt; findByCategory(String Category);\r\n}\r\n```\r\n**ProductServiceImpl.java**\r\n\r\n```\r\npackage com.example.SE.service;\r\n\r\nimport com.example.SE.Collection.Product;\r\nimport com.example.SE.repository.ProductRepository;\r\nimport jdk.jfr.Category;\r\nimport org.bson.types.ObjectId;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class ProductServiceImpl{\r\n    @Autowired\r\n    private ProductRepository productRepository;\r\n    public List&lt;Product&gt; allProduct() {\r\n        return productRepository.findAll();\r\n    }\r\n\r\n    public Optional&lt;Product&gt; IdProduct(String ProductId){\r\n        return productRepository.findById(ProductId);\r\n    }\r\n\r\n    public List&lt;Product&gt; CateProducts(String Category){\r\n        return productRepository.findByCategory(Category);\r\n    }\r\n}\r\n```\r\n\r\n**ProductController.java**\r\n\r\n```\r\npackage com.example.SE.controller;\r\n\r\nimport com.example.SE.Collection.Product;\r\nimport com.example.SE.service.ProductServiceImpl;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/Product&quot;)\r\npublic class ProductController {\r\n    @Autowired\r\n    private ProductServiceImpl productService;\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Product&gt;&gt; GetAllProduct() {\r\n        return new ResponseEntity&lt;List&lt;Product&gt;&gt;(productService.allProduct(), HttpStatus.OK);\r\n    }\r\n    @GetMapping(&quot;/{ProductId}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;Product&gt;&gt; getId(@PathVariable(&quot;ProductId&quot;) String ProductId){\r\n        return new ResponseEntity&lt;Optional&lt;Product&gt;&gt;(productService.IdProduct(ProductId), HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/Category/{Category}&quot;)\r\n    public ResponseEntity&lt;List&lt;Product&gt;&gt; getCateProducts(@PathVariable(&quot;Category&quot;) String Category){\r\n        return new ResponseEntity&lt;List&lt;Product&gt;&gt;(productService.CateProducts(Category), HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\n# **Log**\r\n`org.springframework.data.mapping.context.InvalidPersistentPropertyPath: No property &#39;category&#39; found on class com.example.SE.Collection.Product; Did you mean: Category,category\r\n\tat org.springframework.data.mapping.context.PersistentPropertyPathFactory.createPersistentPropertyPath(PersistentPropertyPathFactory.java:204) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.mapping.context.PersistentPropertyPathFactory.lambda$getPersistentPropertyPath$1(PersistentPropertyPathFactory.java:171) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\r\n\tat org.springframework.data.mapping.context.PersistentPropertyPathFactory.getPersistentPropertyPath(PersistentPropertyPathFactory.java:170) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.mapping.context.PersistentPropertyPathFactory.from(PersistentPropertyPathFactory.java:85) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.mapping.context.PersistentPropertyPathFactory.from(PersistentPropertyPathFactory.java:98) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentPropertyPath(AbstractMappingContext.java:299) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.mongodb.repository.query.MongoQueryCreator.create(MongoQueryCreator.java:116) ~[spring-data-mongodb-4.0.5.jar:4.0.5]\r\n\tat org.springframework.data.mongodb.repository.query.MongoQueryCreator.create(MongoQueryCreator.java:67) ~[spring-data-mongodb-4.0.5.jar:4.0.5]\r\n\tat org.springframework.data.repository.query.parser.AbstractQueryCreator.createCriteria(AbstractQueryCreator.java:119) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:95) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:81) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.mongodb.repository.query.PartTreeMongoQuery.createQuery(PartTreeMongoQuery.java:85) ~[spring-data-mongodb-4.0.5.jar:4.0.5]\r\n\tat org.springframework.data.mongodb.repository.query.AbstractMongoQuery.doExecute(AbstractMongoQuery.java:134) ~[spring-data-mongodb-4.0.5.jar:4.0.5]\r\n\tat org.springframework.data.mongodb.repository.query.AbstractMongoQuery.execute(AbstractMongoQuery.java:118) ~[spring-data-mongodb-4.0.5.jar:4.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy73.findByCategory(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy73.findByCategory(Unknown Source) ~[na:na]\r\n\tat com.example.SE.service.ProductServiceImpl.CateProducts(ProductServiceImpl.java:26) ~[classes/:na]\r\n\tat com.example.SE.controller.ProductController.getCateProducts(ProductController.java:29) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:170) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na] `\r\n\r\nI have tried to change the name of method findByCategory and variable Category but it doesn&#39;t work","title":"Spring boot mongodb - No property found on class","body":"<p>I can't find the way to solve my problem in google. I am newbie in studying Spring Boot Integration With MongoDB. Here is my problems:</p>\n<h1>**Code: **</h1>\n<p><strong>Product.java</strong></p>\n<pre><code>package com.example.SE.Collection;\n\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.bson.types.ObjectId;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Document(collection = &quot;Product&quot;)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class Product {\n    @Id\n    private String ProductId;\n    private String Category;\n    private String Name;\n    private double Cost;\n    private String Description;\n    private String How_to_use;\n    private String Ingredient;\n    private String Brand;\n    private int Volume;\n    private int Mark;\n}    \n</code></pre>\n<p><strong>ProductRepository.java</strong></p>\n<pre><code>package com.example.SE.repository;\n\nimport com.example.SE.Collection.Product;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@Repository\npublic interface ProductRepository extends MongoRepository&lt;Product, String&gt; {\n    List&lt;Product&gt; findByCategory(String Category);\n}\n</code></pre>\n<p><strong>ProductServiceImpl.java</strong></p>\n<pre><code>package com.example.SE.service;\n\nimport com.example.SE.Collection.Product;\nimport com.example.SE.repository.ProductRepository;\nimport jdk.jfr.Category;\nimport org.bson.types.ObjectId;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\npublic class ProductServiceImpl{\n    @Autowired\n    private ProductRepository productRepository;\n    public List&lt;Product&gt; allProduct() {\n        return productRepository.findAll();\n    }\n\n    public Optional&lt;Product&gt; IdProduct(String ProductId){\n        return productRepository.findById(ProductId);\n    }\n\n    public List&lt;Product&gt; CateProducts(String Category){\n        return productRepository.findByCategory(Category);\n    }\n}\n</code></pre>\n<p><strong>ProductController.java</strong></p>\n<pre><code>package com.example.SE.controller;\n\nimport com.example.SE.Collection.Product;\nimport com.example.SE.service.ProductServiceImpl;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@RestController\n@RequestMapping(&quot;/api/Product&quot;)\npublic class ProductController {\n    @Autowired\n    private ProductServiceImpl productService;\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Product&gt;&gt; GetAllProduct() {\n        return new ResponseEntity&lt;List&lt;Product&gt;&gt;(productService.allProduct(), HttpStatus.OK);\n    }\n    @GetMapping(&quot;/{ProductId}&quot;)\n    public ResponseEntity&lt;Optional&lt;Product&gt;&gt; getId(@PathVariable(&quot;ProductId&quot;) String ProductId){\n        return new ResponseEntity&lt;Optional&lt;Product&gt;&gt;(productService.IdProduct(ProductId), HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/Category/{Category}&quot;)\n    public ResponseEntity&lt;List&lt;Product&gt;&gt; getCateProducts(@PathVariable(&quot;Category&quot;) String Category){\n        return new ResponseEntity&lt;List&lt;Product&gt;&gt;(productService.CateProducts(Category), HttpStatus.OK);\n    }\n}\n</code></pre>\n<h1><strong>Log</strong></h1>\n<p><code>org.springframework.data.mapping.context.InvalidPersistentPropertyPath: No property 'category' found on class com.example.SE.Collection.Product; Did you mean: Category,category at org.springframework.data.mapping.context.PersistentPropertyPathFactory.createPersistentPropertyPath(PersistentPropertyPathFactory.java:204) ~[spring-data-commons-3.0.5.jar:3.0.5] at org.springframework.data.mapping.context.PersistentPropertyPathFactory.lambda$getPersistentPropertyPath$1(PersistentPropertyPathFactory.java:171) ~[spring-data-commons-3.0.5.jar:3.0.5] at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na] at org.springframework.data.mapping.context.PersistentPropertyPathFactory.getPersistentPropertyPath(PersistentPropertyPathFactory.java:170) ~[spring-data-commons-3.0.5.jar:3.0.5] at org.springframework.data.mapping.context.PersistentPropertyPathFactory.from(PersistentPropertyPathFactory.java:85) ~[spring-data-commons-3.0.5.jar:3.0.5] at org.springframework.data.mapping.context.PersistentPropertyPathFactory.from(PersistentPropertyPathFactory.java:98) ~[spring-data-commons-3.0.5.jar:3.0.5] at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentPropertyPath(AbstractMappingContext.java:299) ~[spring-data-commons-3.0.5.jar:3.0.5] at org.springframework.data.mongodb.repository.query.MongoQueryCreator.create(MongoQueryCreator.java:116) ~[spring-data-mongodb-4.0.5.jar:4.0.5] at org.springframework.data.mongodb.repository.query.MongoQueryCreator.create(MongoQueryCreator.java:67) ~[spring-data-mongodb-4.0.5.jar:4.0.5] at org.springframework.data.repository.query.parser.AbstractQueryCreator.createCriteria(AbstractQueryCreator.java:119) ~[spring-data-commons-3.0.5.jar:3.0.5] at org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:95) ~[spring-data-commons-3.0.5.jar:3.0.5] at org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:81) ~[spring-data-commons-3.0.5.jar:3.0.5] at org.springframework.data.mongodb.repository.query.PartTreeMongoQuery.createQuery(PartTreeMongoQuery.java:85) ~[spring-data-mongodb-4.0.5.jar:4.0.5] at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.doExecute(AbstractMongoQuery.java:134) ~[spring-data-mongodb-4.0.5.jar:4.0.5] at org.springframework.data.mongodb.repository.query.AbstractMongoQuery.execute(AbstractMongoQuery.java:118) ~[spring-data-mongodb-4.0.5.jar:4.0.5] at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.5.jar:3.0.5] at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.5.jar:3.0.5] at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-3.0.5.jar:3.0.5] at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.5.jar:3.0.5] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8] at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.5.jar:3.0.5] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8] at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.8.jar:6.0.8] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8] at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.0.8.jar:6.0.8] at jdk.proxy3/jdk.proxy3.$Proxy73.findByCategory(Unknown Source) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na] at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.8.jar:6.0.8] at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.8.jar:6.0.8] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.8.jar:6.0.8] at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.8.jar:6.0.8] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8] at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.0.8.jar:6.0.8] at jdk.proxy3/jdk.proxy3.$Proxy73.findByCategory(Unknown Source) ~[na:na] at com.example.SE.service.ProductServiceImpl.CateProducts(ProductServiceImpl.java:26) ~[classes/:na] at com.example.SE.controller.ProductController.getCateProducts(ProductController.java:29) ~[classes/:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na] at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8] at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8] at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8] at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8] at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.8.jar:6.0.8] at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8] at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:170) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8] at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8] at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8] at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8] at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8] at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8] at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.3.jar:6.0.3] at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.8.jar:6.0.8] at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.8.jar:6.0.8] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8] at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na] </code></p>\n<p>I have tried to change the name of method findByCategory and variable Category but it doesn't work</p>\n"},{"tags":["java","json","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683566415,"creation_date":1683566415,"answer_id":76202865,"question_id":76202636,"body_markdown":"First turn the JSON into a Java class (nb you have probably a typo in your example).\r\n\r\nYou can do this here for example: https://json2csharp.com/code-converters/json-to-pojo\r\n\r\n    public class ConfigValue{\r\n         public Mpgs mpgs;\r\n         public Loyalty loyalty;\r\n         public Database database;\r\n    }\r\n\r\n    public class Database{\r\n        public Oracle oracle;\r\n        public Mysql mysql;\r\n        public Paging paging;\r\n    }\r\n    \r\n    public class Loyalty{\r\n    }\r\n    \r\n    public class Mpgs{\r\n        @JsonProperty(&quot;MPGS_ACCEPT_VERSIONS&quot;) \r\n        public String mPGS_ACCEPT_VERSIONS;\r\n        @JsonProperty(&quot;MPGS_URL_V61&quot;) \r\n        public String mPGS_URL_V61;\r\n    }\r\n    \r\n    public class Mysql{\r\n    }\r\n    \r\n    public class Oracle{\r\n    }\r\n    \r\n    public class Paging{\r\n        public int pageSize;\r\n    }\r\n    \r\n    public class Root{\r\n        public String ex1;\r\n        public String ex2;\r\n        public ConfigValue configValue;\r\n    }\r\n\r\nThen turn the raw String from database to a ConfigValue object\r\n\r\n    ObjectMapper om = new ObjectMapper();\r\n    ConfigValue conf = om.readValue(myJsonString, ConfigValue.class);\r\n\r\nAnd feed into a Root object\r\n\r\n    Root r = new Root();\r\n    r.ex1 = &quot;001&quot;;\r\n    r.ex2 = &quot;002&quot;;\r\n    r.configValue = conf\r\n\r\n","title":"String to JsonObject in java and return in as nested Json within Json","body":"<p>First turn the JSON into a Java class (nb you have probably a typo in your example).</p>\n<p>You can do this here for example: <a href=\"https://json2csharp.com/code-converters/json-to-pojo\" rel=\"nofollow noreferrer\">https://json2csharp.com/code-converters/json-to-pojo</a></p>\n<pre><code>public class ConfigValue{\n     public Mpgs mpgs;\n     public Loyalty loyalty;\n     public Database database;\n}\n\npublic class Database{\n    public Oracle oracle;\n    public Mysql mysql;\n    public Paging paging;\n}\n\npublic class Loyalty{\n}\n\npublic class Mpgs{\n    @JsonProperty(&quot;MPGS_ACCEPT_VERSIONS&quot;) \n    public String mPGS_ACCEPT_VERSIONS;\n    @JsonProperty(&quot;MPGS_URL_V61&quot;) \n    public String mPGS_URL_V61;\n}\n\npublic class Mysql{\n}\n\npublic class Oracle{\n}\n\npublic class Paging{\n    public int pageSize;\n}\n\npublic class Root{\n    public String ex1;\n    public String ex2;\n    public ConfigValue configValue;\n}\n</code></pre>\n<p>Then turn the raw String from database to a ConfigValue object</p>\n<pre><code>ObjectMapper om = new ObjectMapper();\nConfigValue conf = om.readValue(myJsonString, ConfigValue.class);\n</code></pre>\n<p>And feed into a Root object</p>\n<pre><code>Root r = new Root();\nr.ex1 = &quot;001&quot;;\nr.ex2 = &quot;002&quot;;\nr.configValue = conf\n</code></pre>\n"}],"owner":{"account_id":26952196,"reputation":23,"user_id":20521229,"display_name":"TechNewPy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76202865,"answer_count":1,"score":1,"last_activity_date":1683571785,"creation_date":1683564505,"question_id":76202636,"body_markdown":"I need to convert a JSON string that is saved in the DB under &quot;configValue&quot; to a JsonObject and return it in the response as nested JSON. I tried most of the library but an exception is always triggered that can&#39;t convert to a JsonObject. \r\n\r\n\r\n\r\nthe dto:\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class ConfigurationDto {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        @JsonIgnore\r\n        @NotNull\r\n        private Long id; //by id too\r\n        @NotNull\r\n        private String version;\r\n        @NotNull\r\n        private String configName;\r\n        @Lob\r\n        @NotNull\r\n        private String ConfigValue;\r\n    \r\n    }\r\n\r\n the entity:\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        @JsonIgnore\r\n        @NotNull\r\n        private Long id; //by id too\r\n        @NotNull\r\n        private String version;\r\n        @NotNull\r\n        private String configName;\r\n        @Lob\r\n        @NotNull\r\n        private String ConfigValue;\r\n    \r\n    }\r\n\r\nimplementation:\r\n\r\n        public ConfigurationDto getVersion(String version) throws ParseException,JSONException {\r\n\r\n            Configuration configuration = configurationRepository.findByVersion(version);\r\n    //        JSONParser parser = new JSONParser();\r\n    //        JSONObject json = new JSONObject(configuration.getConfigValue());\r\n    \r\n    //        JsonObject obj = new JsonObject();\r\n            return new ConfigurationDto(\r\n                    configuration.getId(),\r\n                    configuration.getVersion(),\r\n                    configuration.getConfigName(),\r\n                    configuration.getConfigValue()\r\n            );\r\n        }\r\n\r\n\r\nError Message: \r\n\r\n     Value version of type java.lang.String cannot be converted to JSONObject","title":"String to JsonObject in java and return in as nested Json within Json","body":"<p>I need to convert a JSON string that is saved in the DB under &quot;configValue&quot; to a JsonObject and return it in the response as nested JSON. I tried most of the library but an exception is always triggered that can't convert to a JsonObject.</p>\n<p>the dto:</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ConfigurationDto {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @JsonIgnore\n    @NotNull\n    private Long id; //by id too\n    @NotNull\n    private String version;\n    @NotNull\n    private String configName;\n    @Lob\n    @NotNull\n    private String ConfigValue;\n\n}\n</code></pre>\n<p>the entity:</p>\n<pre><code>    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @JsonIgnore\n    @NotNull\n    private Long id; //by id too\n    @NotNull\n    private String version;\n    @NotNull\n    private String configName;\n    @Lob\n    @NotNull\n    private String ConfigValue;\n\n}\n</code></pre>\n<p>implementation:</p>\n<pre><code>    public ConfigurationDto getVersion(String version) throws ParseException,JSONException {\n\n        Configuration configuration = configurationRepository.findByVersion(version);\n//        JSONParser parser = new JSONParser();\n//        JSONObject json = new JSONObject(configuration.getConfigValue());\n\n//        JsonObject obj = new JsonObject();\n        return new ConfigurationDto(\n                configuration.getId(),\n                configuration.getVersion(),\n                configuration.getConfigName(),\n                configuration.getConfigValue()\n        );\n    }\n</code></pre>\n<p>Error Message:</p>\n<pre><code> Value version of type java.lang.String cannot be converted to JSONObject\n</code></pre>\n"},{"tags":["java","jframe","jpanel","gridbaglayout"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1683558557,"post_id":76201826,"comment_id":134381160,"body_markdown":"If the components in the grid should be the same size, then don&#39;t use a GridBagLayout. Use a GridLayout instead. It is a lot simpler to use.","body":"If the components in the grid should be the same size, then don&#39;t use a GridBagLayout. Use a GridLayout instead. It is a lot simpler to use."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1683559283,"post_id":76201826,"comment_id":134381325,"body_markdown":"The weights specify how *additional space* is distributed. So with equal weights, if the button’s preferred size is bigger than the other component’s preferred sizes, the button will always be bigger by that amount. As @HovercraftFullOfEels said, making three components the same size is much easier to achieve with `GridLayout`.","body":"The weights specify how <i>additional space</i> is distributed. So with equal weights, if the button’s preferred size is bigger than the other component’s preferred sizes, the button will always be bigger by that amount. As @HovercraftFullOfEels said, making three components the same size is much easier to achieve with <code>GridLayout</code>."},{"owner":{"account_id":28548061,"reputation":1,"user_id":21853251,"display_name":"etzetera"},"score":0,"creation_date":1683559970,"post_id":76201826,"comment_id":134381506,"body_markdown":"Thank you, I solved it by setting the preferred size of the button to (1,1). I guess this is not the nicest way but it works.","body":"Thank you, I solved it by setting the preferred size of the button to (1,1). I guess this is not the nicest way but it works."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1683566120,"post_id":76201826,"comment_id":134382864,"body_markdown":"(1-)  *I solved it by setting the preferred size* - you should NOT be setting the preferred size. Each Swing component is responsible for determining its preferred size.  *I guess this is not the nicest way but it works.* - actually it doesn&#39;t work because the preferred size of each component is different, so the GridBagLayout will also resize each component differently. You were given the simple solution to the problem. Why would you ignore that suggestion?","body":"(1-)  <i>I solved it by setting the preferred size</i> - you should NOT be setting the preferred size. Each Swing component is responsible for determining its preferred size.  <i>I guess this is not the nicest way but it works.</i> - actually it doesn&#39;t work because the preferred size of each component is different, so the GridBagLayout will also resize each component differently. You were given the simple solution to the problem. Why would you ignore that suggestion?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683571628,"creation_date":1683571628,"answer_id":76203499,"question_id":76201826,"body_markdown":"# `GridLayout`, not `GridBagLayout`\r\n\r\nFor three equally sized widgets, use [`GridLayout`][1] rather than `GridBagLayout`. See Oracle tutorial, [*How to Use GridLayout*][2].\r\n\r\nHere is an example of a button with two labels, all the same size.\r\n\r\n```java\r\npackage work.basil.example.swing;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\n// An abbreviated version of example code provided by Oracle from:\r\n// https://docs.oracle.com/javase/tutorial/displayCode.html?code=https://docs.oracle.com/javase/tutorial/uiswing/examples/layout/GridBagLayoutDemoProject/src/layout/GridBagLayoutDemo.java\r\npublic class ThreeWidgets\r\n{\r\n    private static void createAndShowGUI ( )\r\n    {\r\n        JFrame.setDefaultLookAndFeelDecorated( true );\r\n\r\n        // Establish the window, represented by a `JFrame` object.\r\n        JFrame frame = new JFrame( &quot;Three Widgets App&quot; );\r\n        frame.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\r\n\r\n        makeContent( frame.getContentPane() );\r\n\r\n        // Show window.\r\n        frame.pack();\r\n        frame.setVisible( true );\r\n    }\r\n\r\n    private static void makeContent ( Container container )\r\n    {\r\n        container.setLayout( new GridLayout() );\r\n\r\n        JButton widget1 = new JButton( &quot;Widget 1&quot; );\r\n\r\n        JLabel widget2 = new JLabel( &quot;Widget 2&quot; );\r\n        widget2.setBorder( BorderFactory.createLineBorder( Color.GREEN ) );\r\n\r\n        JLabel widget3 = new JLabel( &quot;Widget 3 with long title&quot; );\r\n        widget3.setBorder( BorderFactory.createLineBorder( Color.MAGENTA ) );\r\n\r\n        container.add( widget1 );\r\n        container.add( widget2 );\r\n        container.add( widget3 );\r\n    }\r\n\r\n    public static void main ( String[] args )\r\n    {\r\n        // Assign a task to event-dispatching thread: Create and show our GUI.\r\n        SwingUtilities.invokeLater( ThreeWidgets :: createAndShowGUI );\r\n    }\r\n}\r\n```\r\n\r\n[![screenshot of window with GridLayout][3]][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/GridLayout.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html\r\n  [3]: https://i.stack.imgur.com/G812J.jpg","title":"Java - GridBagLayout wrong ratio","body":"<h1><code>GridLayout</code>, not <code>GridBagLayout</code></h1>\n<p>For three equally sized widgets, use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/GridLayout.html\" rel=\"nofollow noreferrer\"><code>GridLayout</code></a> rather than <code>GridBagLayout</code>. See Oracle tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html\" rel=\"nofollow noreferrer\"><em>How to Use GridLayout</em></a>.</p>\n<p>Here is an example of a button with two labels, all the same size.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.swing;\n\nimport javax.swing.*;\nimport java.awt.*;\n\n// An abbreviated version of example code provided by Oracle from:\n// https://docs.oracle.com/javase/tutorial/displayCode.html?code=https://docs.oracle.com/javase/tutorial/uiswing/examples/layout/GridBagLayoutDemoProject/src/layout/GridBagLayoutDemo.java\npublic class ThreeWidgets\n{\n    private static void createAndShowGUI ( )\n    {\n        JFrame.setDefaultLookAndFeelDecorated( true );\n\n        // Establish the window, represented by a `JFrame` object.\n        JFrame frame = new JFrame( &quot;Three Widgets App&quot; );\n        frame.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\n\n        makeContent( frame.getContentPane() );\n\n        // Show window.\n        frame.pack();\n        frame.setVisible( true );\n    }\n\n    private static void makeContent ( Container container )\n    {\n        container.setLayout( new GridLayout() );\n\n        JButton widget1 = new JButton( &quot;Widget 1&quot; );\n\n        JLabel widget2 = new JLabel( &quot;Widget 2&quot; );\n        widget2.setBorder( BorderFactory.createLineBorder( Color.GREEN ) );\n\n        JLabel widget3 = new JLabel( &quot;Widget 3 with long title&quot; );\n        widget3.setBorder( BorderFactory.createLineBorder( Color.MAGENTA ) );\n\n        container.add( widget1 );\n        container.add( widget2 );\n        container.add( widget3 );\n    }\n\n    public static void main ( String[] args )\n    {\n        // Assign a task to event-dispatching thread: Create and show our GUI.\n        SwingUtilities.invokeLater( ThreeWidgets :: createAndShowGUI );\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/G812J.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G812J.jpg\" alt=\"screenshot of window with GridLayout\" /></a></p>\n"}],"owner":{"account_id":28548061,"reputation":1,"user_id":21853251,"display_name":"etzetera"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1683571628,"creation_date":1683558089,"question_id":76201826,"body_markdown":"I am new to creating a GUI with Java. I tried to use the GridBagLayout for a project but i am stuck here.\r\n\r\nI want to make the Button and the two JLabels the same size but the button is bigger.\r\n\r\n\r\n```\r\npublic class Menu extends JPanel {\r\n\t\r\n\tpublic Menu() {\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tthis.setBackground(Color.black);\r\n\t\t\r\n\t\t\r\n\t\tGridBagLayout gb = new GridBagLayout();\r\n\t\tsetLayout(gb);\r\n\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n\t\tgbc.fill = GridBagConstraints.BOTH;\r\n\t\t\r\n\t\t\r\n\t\tJButton b1 = new JButton();\r\n\t\tb1.setText(&quot;Start&quot;);\r\n\t\t\r\n\t\tgbc.gridx = 0;\r\n\t\tgbc.gridy = 0;\r\n\t\tgbc.weightx = 1;\r\n\t\tgbc.weighty= 1;\r\n\t\tgb.setConstraints(b1, gbc);\r\n\t\tadd(b1);\r\n\t\t\r\n\t\t\r\n\t\tJPanel Gap = new JPanel();\r\n\t\tgbc.gridx = 1;\r\n\t\tgbc.gridy = 0;\r\n\t\tgbc.weightx = 1;\r\n\t\tgbc.weighty= 1;\r\n\t\t\r\n\t\tgb.setConstraints(Gap, gbc);\r\n\t\tadd(Gap);\r\n\t\t\r\n\t\t\r\n\t\tRadioPanel radio = new RadioPanel();\r\n\t\t\r\n\t\tgbc.gridx = 2;\r\n\t\tgbc.gridy = 0;\r\n\t\tgbc.weightx = 1;\r\n\t\tgbc.weighty = 1;\r\n\t\t\r\n\t\tgb.setConstraints(radio, gbc);\r\n\t\tadd(radio);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n[Click here to see my GUI](https://i.stack.imgur.com/zOGYr.png)\r\n\r\nThis is my code and this is what it looks like.","title":"Java - GridBagLayout wrong ratio","body":"<p>I am new to creating a GUI with Java. I tried to use the GridBagLayout for a project but i am stuck here.</p>\n<p>I want to make the Button and the two JLabels the same size but the button is bigger.</p>\n<pre><code>public class Menu extends JPanel {\n    \n    public Menu() {\n        \n        \n        \n        this.setBackground(Color.black);\n        \n        \n        GridBagLayout gb = new GridBagLayout();\n        setLayout(gb);\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.fill = GridBagConstraints.BOTH;\n        \n        \n        JButton b1 = new JButton();\n        b1.setText(&quot;Start&quot;);\n        \n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.weightx = 1;\n        gbc.weighty= 1;\n        gb.setConstraints(b1, gbc);\n        add(b1);\n        \n        \n        JPanel Gap = new JPanel();\n        gbc.gridx = 1;\n        gbc.gridy = 0;\n        gbc.weightx = 1;\n        gbc.weighty= 1;\n        \n        gb.setConstraints(Gap, gbc);\n        add(Gap);\n        \n        \n        RadioPanel radio = new RadioPanel();\n        \n        gbc.gridx = 2;\n        gbc.gridy = 0;\n        gbc.weightx = 1;\n        gbc.weighty = 1;\n        \n        gb.setConstraints(radio, gbc);\n        add(radio);\n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zOGYr.png\" rel=\"nofollow noreferrer\">Click here to see my GUI</a></p>\n<p>This is my code and this is what it looks like.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data"],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683570942,"creation_date":1683570942,"answer_id":76203413,"question_id":76202703,"body_markdown":"To update an entity, you first need to get Managed instance of that entity, update it&#39;s values and then save it.&lt;br/&gt;\r\n```\r\npublic Question update(Integer originalQueId, Question updated) {\r\n        Original original=questionRepository.findById(originalQueId);\r\n        original.setQuestion(updated.getQuestion());\r\n        original.setType(updated.getType());\r\n        original.setOptions(updated.getOptions());\r\n        return questionRepository.save(original);\r\n    }\r\n```\r\n\r\nI am just assuming here that you have some Id i.e. primary key for Question. Using it, you can fetch the original data from database. This instance then becomes a managed instance which can be then used to update the data in DB.","title":"Deleting or adding child entities to parent with Spring Boot Hibernate JPA","body":"<p>To update an entity, you first need to get Managed instance of that entity, update it's values and then save it.<br/></p>\n<pre><code>public Question update(Integer originalQueId, Question updated) {\n        Original original=questionRepository.findById(originalQueId);\n        original.setQuestion(updated.getQuestion());\n        original.setType(updated.getType());\n        original.setOptions(updated.getOptions());\n        return questionRepository.save(original);\n    }\n</code></pre>\n<p>I am just assuming here that you have some Id i.e. primary key for Question. Using it, you can fetch the original data from database. This instance then becomes a managed instance which can be then used to update the data in DB.</p>\n"}],"owner":{"account_id":13818443,"reputation":51,"user_id":9974520,"display_name":"mok_1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683570942,"creation_date":1683565025,"question_id":76202703,"body_markdown":"I have the following entities:\r\n```\r\nclass Question {\r\n\tString question;\r\n\tQuestionType type;\r\n\tList&lt;QuestionOption&gt; options;\r\n}\r\n\r\nclass QuestionOption {\r\n\tString option;\r\n\tQuestion question;\r\n}\r\n```\r\n\r\nMy frontend webpage that handles editing a `Question` also does the adding/updating/deleting of the child `QuestionOption`&#39;s. So let&#39;s say I add a new option and change the question string itself, I would want this to be changed in a single request.\r\n\r\nMy current code for updating the `Question` entity looks like this:\r\n```\r\n    public Question update(Question original, Question updated) {\r\n        original.setQuestion(updated.getQuestion());\r\n        original.setType(updated.getType());\r\n        original.setOptions(updated.getOptions());\r\n        return questionRepository.save(original);\r\n    }\r\n```\r\n\r\nThis however does not add/update/delete the child `QuestionOption`&#39;s of the `Question` and I&#39;m not really sure what I&#39;m missing here.","title":"Deleting or adding child entities to parent with Spring Boot Hibernate JPA","body":"<p>I have the following entities:</p>\n<pre><code>class Question {\n    String question;\n    QuestionType type;\n    List&lt;QuestionOption&gt; options;\n}\n\nclass QuestionOption {\n    String option;\n    Question question;\n}\n</code></pre>\n<p>My frontend webpage that handles editing a <code>Question</code> also does the adding/updating/deleting of the child <code>QuestionOption</code>'s. So let's say I add a new option and change the question string itself, I would want this to be changed in a single request.</p>\n<p>My current code for updating the <code>Question</code> entity looks like this:</p>\n<pre><code>    public Question update(Question original, Question updated) {\n        original.setQuestion(updated.getQuestion());\n        original.setType(updated.getType());\n        original.setOptions(updated.getOptions());\n        return questionRepository.save(original);\n    }\n</code></pre>\n<p>This however does not add/update/delete the child <code>QuestionOption</code>'s of the <code>Question</code> and I'm not really sure what I'm missing here.</p>\n"},{"tags":["java","if-statement","conditional-operator"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1583160262,"creation_date":1583159096,"answer_id":60490861,"question_id":60490784,"body_markdown":"In your if/else statement, you&#39;re calling `PrintStream.println(int)` or `PrintStream.println(double)` depending on which branch you&#39;re taking.\r\n\r\nWith the conditional operator ?: you&#39;re *always* calling `PrintStream.println(double)`, because that&#39;s the type of the `?:` expression. When the second and third operands of the `?:` operator have different types, the compiler picks the overall type of the expression according to the rules of [JLS 15.25][1] and performs appropriate conversions where necessary.\r\n\r\nIn this case, the overall type is `double`, so it&#39;s as if you&#39;re writing:\r\n\r\n    double tmp = ((int) number == (double)number) ? (int)number : number;\r\n    System.out.println(tmp);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se10/html/jls-15.html#jls-15.25","title":"Java Ternary operator outputs different result than if else statement","body":"<p>In your if/else statement, you're calling <code>PrintStream.println(int)</code> or <code>PrintStream.println(double)</code> depending on which branch you're taking.</p>\n\n<p>With the conditional operator ?: you're <em>always</em> calling <code>PrintStream.println(double)</code>, because that's the type of the <code>?:</code> expression. When the second and third operands of the <code>?:</code> operator have different types, the compiler picks the overall type of the expression according to the rules of <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-15.html#jls-15.25\" rel=\"nofollow noreferrer\">JLS 15.25</a> and performs appropriate conversions where necessary.</p>\n\n<p>In this case, the overall type is <code>double</code>, so it's as if you're writing:</p>\n\n<pre><code>double tmp = ((int) number == (double)number) ? (int)number : number;\nSystem.out.println(tmp);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8075760,"reputation":106,"user_id":6086867,"display_name":"Markus Sp&#246;ri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583159222,"creation_date":1583159222,"answer_id":60490904,"question_id":60490784,"body_markdown":"This behavior is totally fine and caused by the type resolution.\r\n\r\nThe ternary operator itself has a type, that is inferred by the possible outcomes.\r\nSince one outcome has type (int) and the other has type (double), the type of the ternary operator is always double.\r\n\r\nThe rest of the story should be clear. Printing a double to the console will always result in a decimal point representation. ","title":"Java Ternary operator outputs different result than if else statement","body":"<p>This behavior is totally fine and caused by the type resolution.</p>\n\n<p>The ternary operator itself has a type, that is inferred by the possible outcomes.\nSince one outcome has type (int) and the other has type (double), the type of the ternary operator is always double.</p>\n\n<p>The rest of the story should be clear. Printing a double to the console will always result in a decimal point representation. </p>\n"},{"tags":[],"owner":{"account_id":13907700,"reputation":31,"user_id":10041663,"display_name":"ThatsNasu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683570918,"creation_date":1683570918,"answer_id":76203409,"question_id":60490784,"body_markdown":"To extend the provided info on this question: The key to understand the tables provided by the [JLS 15.25][1] is the bnp / lub operation, which stands for &quot;Binary Number Promotion&quot; / &quot;Least Upper Bound&quot;.\r\n\r\nBinary Number Promotion is the conversion of a smaller numeric type to a larger numeric type, so that integer and floating-point operations may take place. This is so you can operate on bitlevel (comparisons, equasions, etc) on different types of numerical data. byte (8 bit) will be upgraded to char (16 bit) if neccessary and so would char to short (16 bit). After that shorts would be converted to int (32 bit) if needed to ensure compatibility when operating. The int (32 bit) values are also converted to long (64 bit) if neccessary. The long (64 bit) and float (32 bit) are converted to double (64 bit) values, as required.\r\n\r\nSo in short: with BNP the smaller data types will be converted to the bigger ones to ensure compatibility.\r\n\r\nLeast Upper Bond is doing pretty much the opposite. If you have a short (16 bit) and an int (32 bit) but the int does not store a value bigger than 16 bit, the LUB operation will shrink it down to 16 bit.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se10/html/jls-15.html#jls-15.25","title":"Java Ternary operator outputs different result than if else statement","body":"<p>To extend the provided info on this question: The key to understand the tables provided by the <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-15.html#jls-15.25\" rel=\"nofollow noreferrer\">JLS 15.25</a> is the bnp / lub operation, which stands for &quot;Binary Number Promotion&quot; / &quot;Least Upper Bound&quot;.</p>\n<p>Binary Number Promotion is the conversion of a smaller numeric type to a larger numeric type, so that integer and floating-point operations may take place. This is so you can operate on bitlevel (comparisons, equasions, etc) on different types of numerical data. byte (8 bit) will be upgraded to char (16 bit) if neccessary and so would char to short (16 bit). After that shorts would be converted to int (32 bit) if needed to ensure compatibility when operating. The int (32 bit) values are also converted to long (64 bit) if neccessary. The long (64 bit) and float (32 bit) are converted to double (64 bit) values, as required.</p>\n<p>So in short: with BNP the smaller data types will be converted to the bigger ones to ensure compatibility.</p>\n<p>Least Upper Bond is doing pretty much the opposite. If you have a short (16 bit) and an int (32 bit) but the int does not store a value bigger than 16 bit, the LUB operation will shrink it down to 16 bit.</p>\n"}],"owner":{"account_id":17885731,"reputation":23,"user_id":12993463,"display_name":"mmz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60490861,"answer_count":3,"score":2,"last_activity_date":1683570918,"creation_date":1583158810,"question_id":60490784,"body_markdown":"I&#39;m writing a program that takes a number and removes the trailing zeros if the number is an integer.\r\nI am using the ternary operator but it doesn&#39;t work as expected. But if I write it as a if else statement it works.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            double number = scanner.nextDouble();\r\n            System.out.println(((int)number == (double)number) ? (int)number : number); // Always outputs a double\r\n    \r\n            if ((int)number == (double)number) { // Outputs correct result\r\n                System.out.println((int)number);\r\n            }\r\n            else {\r\n                System.out.println(number);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nFor example if I input 5 i get\r\n\r\n    5.0\r\n    5\r\nif I input 7.3 I get\r\n\r\n    7.3\r\n    7.3\r\n\r\nSo it seems that it works for the if else statement but not the ternary operator.\r\n\r\n\r\n\r\n","title":"Java Ternary operator outputs different result than if else statement","body":"<p>I'm writing a program that takes a number and removes the trailing zeros if the number is an integer.\nI am using the ternary operator but it doesn't work as expected. But if I write it as a if else statement it works.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        double number = scanner.nextDouble();\n        System.out.println(((int)number == (double)number) ? (int)number : number); // Always outputs a double\n\n        if ((int)number == (double)number) { // Outputs correct result\n            System.out.println((int)number);\n        }\n        else {\n            System.out.println(number);\n        }\n    }\n\n}\n</code></pre>\n\n<p>For example if I input 5 i get</p>\n\n<pre><code>5.0\n5\n</code></pre>\n\n<p>if I input 7.3 I get</p>\n\n<pre><code>7.3\n7.3\n</code></pre>\n\n<p>So it seems that it works for the if else statement but not the ternary operator.</p>\n"},{"tags":["java","spring","logging","log4j"],"owner":{"account_id":11859710,"reputation":19,"user_id":8678770,"display_name":"Amila Perera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683570800,"answer_count":0,"score":0,"last_activity_date":1683570833,"creation_date":1683300166,"question_id":76183728,"body_markdown":"The below error occurs while the application starting.\r\n\r\n```\r\nAsyncLogger error handling event seq=15, value=&#39;org.apache.logging.log4j.core.async.RingBufferLogEvent@5549c0e2&#39;: java.lang.NoSuchMethodError: org.apache.logging.log4j.util.StackLocatorUtil.get java.lang.NoSuchMethodError: org.apache.logging.log4j.util.StackLocatorUtil.getCurrentStackTrace() Ljava/util/Deque;\r\nat org.apache.logging.log4j.core.impl.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:112)\r\nat org.apache.logging.log4j.core.impl.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:97)\r\nat org.apache.logging.log4j.core.impl.Log4jLogEvent.getThrownProxy (Log4j LogEvent.java:629)\r\nat org.apache.logging.log4j.core.impl.MutableLogEvent.initFrom(MutableLogEvent.java:100)\r\nat org.apache.logging.log4j.core.async.AsyncLoggerConfigDisruptor.lambda$static$2 (Async LoggerConfigDisruptor.java:156)\r\nat com.lmax.disruptor.RingBuffer.translateAndPublish (RingBuffer.java:971)\r\nat com.lmax.disruptor.RingBuffer.tryPublishEvent(RingBuffer.java:523)\r\nat org.apache.logging.log4j.core.async.AsyncLoggerConfigDisruptor.tryEnqueue (AsyncLoggerConfigDisruptor.java:378)\r\nat org.apache.logging.log4j.core.async.AsyncLoggerConfig.logToAsync Delegate (AsyncLoggerConfig.java:152)\r\nat org.apache.logging.log4j.core.async.AsyncLoggerConfig.log(AsyncLoggerConfig.java:133)\r\nat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:604)\r\nat org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:98)\r\nat org.apache.logging.log4j.core.async.AsyncLogger.actualAsyncLog (AsyncLogger.java:488)\r\nat org.apache.logging.log4j.core.async.RingBufferLogEvent.execute(RingBufferLogEvent.java:156)\r\nat org.apache.logging.log4j.core.async.RingBufferLogEventHandler.onEvent (RingBufferLogEventHandler.java:51)\r\nat org.apache.logging.log4j.core.async.RingBufferLogEventHandler.onEvent (RingBufferLogEventHandler.java:29)\r\nat com.Imax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:129)\r\nat java.lang.Thread.run(Thread.java:750)\r\nAsyncLogger error handling event seq=15, value=&#39;org.apache.logging.log4j.core.impl.MutableLogEvent@1d5d0e75&#39;: java.lang.NullPointerException: null java.lang.NullPointerException\r\nat org.apache.logging.log4j.core.async.AsyncLoggerConfigDisruptor$Log4jEventWrapperHandler.onEvent (AsyncLoggerConfigDisruptor.java:112) at org.apache.logging.log4j.core.async.AsyncLoggerConfigDisruptor$Log4j EventWrapperHandler.onEvent (AsyncLoggerConfigDisruptor.java:98)\r\nat com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:129)\r\nat java.lang.Thread.run(Thread.java:750)\r\n```","title":"Springboot NoSuchMethodException with log4j async log","body":"<p>The below error occurs while the application starting.</p>\n<pre><code>AsyncLogger error handling event seq=15, value='org.apache.logging.log4j.core.async.RingBufferLogEvent@5549c0e2': java.lang.NoSuchMethodError: org.apache.logging.log4j.util.StackLocatorUtil.get java.lang.NoSuchMethodError: org.apache.logging.log4j.util.StackLocatorUtil.getCurrentStackTrace() Ljava/util/Deque;\nat org.apache.logging.log4j.core.impl.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:112)\nat org.apache.logging.log4j.core.impl.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:97)\nat org.apache.logging.log4j.core.impl.Log4jLogEvent.getThrownProxy (Log4j LogEvent.java:629)\nat org.apache.logging.log4j.core.impl.MutableLogEvent.initFrom(MutableLogEvent.java:100)\nat org.apache.logging.log4j.core.async.AsyncLoggerConfigDisruptor.lambda$static$2 (Async LoggerConfigDisruptor.java:156)\nat com.lmax.disruptor.RingBuffer.translateAndPublish (RingBuffer.java:971)\nat com.lmax.disruptor.RingBuffer.tryPublishEvent(RingBuffer.java:523)\nat org.apache.logging.log4j.core.async.AsyncLoggerConfigDisruptor.tryEnqueue (AsyncLoggerConfigDisruptor.java:378)\nat org.apache.logging.log4j.core.async.AsyncLoggerConfig.logToAsync Delegate (AsyncLoggerConfig.java:152)\nat org.apache.logging.log4j.core.async.AsyncLoggerConfig.log(AsyncLoggerConfig.java:133)\nat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:604)\nat org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:98)\nat org.apache.logging.log4j.core.async.AsyncLogger.actualAsyncLog (AsyncLogger.java:488)\nat org.apache.logging.log4j.core.async.RingBufferLogEvent.execute(RingBufferLogEvent.java:156)\nat org.apache.logging.log4j.core.async.RingBufferLogEventHandler.onEvent (RingBufferLogEventHandler.java:51)\nat org.apache.logging.log4j.core.async.RingBufferLogEventHandler.onEvent (RingBufferLogEventHandler.java:29)\nat com.Imax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:129)\nat java.lang.Thread.run(Thread.java:750)\nAsyncLogger error handling event seq=15, value='org.apache.logging.log4j.core.impl.MutableLogEvent@1d5d0e75': java.lang.NullPointerException: null java.lang.NullPointerException\nat org.apache.logging.log4j.core.async.AsyncLoggerConfigDisruptor$Log4jEventWrapperHandler.onEvent (AsyncLoggerConfigDisruptor.java:112) at org.apache.logging.log4j.core.async.AsyncLoggerConfigDisruptor$Log4j EventWrapperHandler.onEvent (AsyncLoggerConfigDisruptor.java:98)\nat com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:129)\nat java.lang.Thread.run(Thread.java:750)\n</code></pre>\n"},{"tags":["java","push-notification","google-drive-api","drive"],"answers":[{"tags":[],"owner":{"account_id":23584907,"reputation":1,"user_id":17623475,"display_name":"sharma_abhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683568868,"creation_date":1683568868,"answer_id":76203157,"question_id":72562615,"body_markdown":"i tried to get changes with these [changes][1] api after creating webhook with `watch` method and this worked for me, its all about pagetoken which used to track the changes.\r\n\r\n\r\n  [1]: https://developers.google.com/drive/api/reference/rest/v3/changes","title":"I don&#39;t get push notifications from google drive api","body":"<p>i tried to get changes with these <a href=\"https://developers.google.com/drive/api/reference/rest/v3/changes\" rel=\"nofollow noreferrer\">changes</a> api after creating webhook with <code>watch</code> method and this worked for me, its all about pagetoken which used to track the changes.</p>\n"}],"owner":{"account_id":22489799,"reputation":79,"user_id":16687691,"display_name":"Александр Хворостенко"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683568868,"creation_date":1654786947,"question_id":72562615,"body_markdown":"I followed this [guide][1]\r\n\r\nFor local testing and webhook processing, I used https://webhook.site\r\nI managed to get messages about file changes (google sheets)\r\n\r\nNext, I tried to configure the local endpoint of my application to handle the webhook\r\nFrom the documentation https://support.google.com/googleapi/answer/7072069?hl=en\r\n\r\n&gt; An address property string set to the URL that listens and responds to\r\n&gt; notifications for this notification channel. This is your Webhook\r\n&gt; callback URL, and it must use HTTPS.\r\n\r\nAlso for local testing I used https://ngrok.com/ [![enter image description here][2]][2]\r\n\r\n      @PostMapping(&quot;/notifications&quot;)\r\n      @AnonymousAllowed\r\n      public ResponseEntity&lt;Void&gt; webHookHandler(HttpServletRequest request) {\r\n        String headerGoogChanged = request.getHeader(&quot;x-goog-changed&quot;);\r\n        if (!ObjectUtils.isEmpty(headerGoogChanged) &amp;&amp; headerGoogChanged.contains(&quot;content&quot;)) {\r\n          service.parseDashboardAndSave(view.getGrid(), sheetsService.readSheetValuesBatch());\r\n          sheetsService.writeSheetValuesBatch(service.getKeyWordDashboards());\r\n          log.info(&quot;Push notification processed: {}&quot;, request);\r\n        }\r\n        return ResponseEntity.ok().build();\r\n      }\r\n\r\nBut I don&#39;t get push notifications\r\n\r\nAt the same time, calling endpoints https://localhost:8080/notifications and https://xxxxxxeu.ngrok.io/notifications through postman will work\r\n\r\n\r\nI heard that you need to pass domain verification and also have an SSL certificate\r\nI found that now there is no need to confirm the domain in this [documentation][3]\r\n\r\n\r\n  [1]: https://developers.google.com/drive/api/guides/push#receiving-notifications\r\n  [2]: https://i.stack.imgur.com/ZYhNi.png\r\n  [3]: https://support.google.com/googleapi/answer/7072069?hl=en","title":"I don&#39;t get push notifications from google drive api","body":"<p>I followed this <a href=\"https://developers.google.com/drive/api/guides/push#receiving-notifications\" rel=\"nofollow noreferrer\">guide</a></p>\n<p>For local testing and webhook processing, I used <a href=\"https://webhook.site\" rel=\"nofollow noreferrer\">https://webhook.site</a>\nI managed to get messages about file changes (google sheets)</p>\n<p>Next, I tried to configure the local endpoint of my application to handle the webhook\nFrom the documentation <a href=\"https://support.google.com/googleapi/answer/7072069?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/googleapi/answer/7072069?hl=en</a></p>\n<blockquote>\n<p>An address property string set to the URL that listens and responds to\nnotifications for this notification channel. This is your Webhook\ncallback URL, and it must use HTTPS.</p>\n</blockquote>\n<p>Also for local testing I used <a href=\"https://ngrok.com/\" rel=\"nofollow noreferrer\">https://ngrok.com/</a> <a href=\"https://i.stack.imgur.com/ZYhNi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZYhNi.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>  @PostMapping(&quot;/notifications&quot;)\n  @AnonymousAllowed\n  public ResponseEntity&lt;Void&gt; webHookHandler(HttpServletRequest request) {\n    String headerGoogChanged = request.getHeader(&quot;x-goog-changed&quot;);\n    if (!ObjectUtils.isEmpty(headerGoogChanged) &amp;&amp; headerGoogChanged.contains(&quot;content&quot;)) {\n      service.parseDashboardAndSave(view.getGrid(), sheetsService.readSheetValuesBatch());\n      sheetsService.writeSheetValuesBatch(service.getKeyWordDashboards());\n      log.info(&quot;Push notification processed: {}&quot;, request);\n    }\n    return ResponseEntity.ok().build();\n  }\n</code></pre>\n<p>But I don't get push notifications</p>\n<p>At the same time, calling endpoints https://localhost:8080/notifications and <a href=\"https://xxxxxxeu.ngrok.io/notifications\" rel=\"nofollow noreferrer\">https://xxxxxxeu.ngrok.io/notifications</a> through postman will work</p>\n<p>I heard that you need to pass domain verification and also have an SSL certificate\nI found that now there is no need to confirm the domain in this <a href=\"https://support.google.com/googleapi/answer/7072069?hl=en\" rel=\"nofollow noreferrer\">documentation</a></p>\n"},{"tags":["java","spring"],"owner":{"account_id":122918,"reputation":7484,"user_id":317027,"accept_rate":72,"display_name":"hba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683568863,"creation_date":1683568863,"question_id":76203156,"body_markdown":"New to Spring...\r\n\r\nI am trying to override a parameter which is read from `app.properties` at runtime.\r\n\r\nFor various reasons, I have to use `AnnotationConfigApplicationContext` to access the bean.\r\n\r\nHere is the sample code\r\n\r\n    @ComponentScan(basePackages = {\r\n            &quot;my.pkg1.*&quot;,\r\n            &quot;my.pkg2.*&quot;\r\n    }    \r\n    @PropertySource(&quot;classpath:app.properties&quot;)\r\n    public class MainApplication {\r\n        public static void main(String[] args) {\r\n            try {\r\n                log.info(&quot;ARGS [&quot; + Arrays.asList(args).stream().collect(Collectors.joining()) + &quot;]&quot;);    \r\n                final AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(MainApplication.class);\r\n                ConfigurableEnvironment env =  context.getEnvironment();\r\n                env.setRequiredProperties(&quot;prop1=value2&quot;); //hard coded here for ease\r\n                context.setEnvironment(env);\r\n                context.getBean(MyService.class).doSomeWork();\r\n            } catch (Exception t) { \r\n                log.error(&quot;Application failed&quot;, t);\r\n            }\r\n        }    \r\n    }\r\n\r\nLet&#39;s say, in my `app.properties`, I have some thing like\r\n\r\n    prop1=value\r\n\r\nI would like to override prop1=value2 but my approach as displayed above does not seem to work.\r\n\r\nCouple of other things I looked at:\r\n\r\n* I thought it would be as easy as: [Spring: overriding one application.property from command line][1].  But that did not work, maybe because this is not a spring-boot app?\r\n* This other [approach][2] doesn&#39;t really work because I don&#39;t really want to pass a constructor param.\r\n* I don&#39;t really understand this [approach][3]\r\n\r\n  [1]: https://stackoverflow.com/a/37053004\r\n  [2]: https://stackoverflow.com/a/21202458\r\n  [3]: https://stackoverflow.com/a/27824238","title":"How can I use Spring&#39;s ConfigurableEnvironment to reset a property value?","body":"<p>New to Spring...</p>\n<p>I am trying to override a parameter which is read from <code>app.properties</code> at runtime.</p>\n<p>For various reasons, I have to use <code>AnnotationConfigApplicationContext</code> to access the bean.</p>\n<p>Here is the sample code</p>\n<pre><code>@ComponentScan(basePackages = {\n        &quot;my.pkg1.*&quot;,\n        &quot;my.pkg2.*&quot;\n}    \n@PropertySource(&quot;classpath:app.properties&quot;)\npublic class MainApplication {\n    public static void main(String[] args) {\n        try {\n            log.info(&quot;ARGS [&quot; + Arrays.asList(args).stream().collect(Collectors.joining()) + &quot;]&quot;);    \n            final AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(MainApplication.class);\n            ConfigurableEnvironment env =  context.getEnvironment();\n            env.setRequiredProperties(&quot;prop1=value2&quot;); //hard coded here for ease\n            context.setEnvironment(env);\n            context.getBean(MyService.class).doSomeWork();\n        } catch (Exception t) { \n            log.error(&quot;Application failed&quot;, t);\n        }\n    }    \n}\n</code></pre>\n<p>Let's say, in my <code>app.properties</code>, I have some thing like</p>\n<pre><code>prop1=value\n</code></pre>\n<p>I would like to override prop1=value2 but my approach as displayed above does not seem to work.</p>\n<p>Couple of other things I looked at:</p>\n<ul>\n<li>I thought it would be as easy as: <a href=\"https://stackoverflow.com/a/37053004\">Spring: overriding one application.property from command line</a>.  But that did not work, maybe because this is not a spring-boot app?</li>\n<li>This other <a href=\"https://stackoverflow.com/a/21202458\">approach</a> doesn't really work because I don't really want to pass a constructor param.</li>\n<li>I don't really understand this <a href=\"https://stackoverflow.com/a/27824238\">approach</a></li>\n</ul>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1683548035,"post_id":76200399,"comment_id":134378742,"body_markdown":"What software are you using to share access to files in S3?","body":"What software are you using to share access to files in S3?"},{"owner":{"account_id":58377,"reputation":247880,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1683549852,"post_id":76200399,"comment_id":134379170,"body_markdown":"Amazon S3 buckets are private by default. If that URL is accessible to anyone, then you have either added a **Bucket Policy** that makes the bucket public, or you have uploaded the object with `ACL=public-read`. In addition, you would have needed to turn off **S3 Block Public Access**. You should check _why_ it can be publicly accessed.","body":"Amazon S3 buckets are private by default. If that URL is accessible to anyone, then you have either added a <b>Bucket Policy</b> that makes the bucket public, or you have uploaded the object with <code>ACL=public-read</code>. In addition, you would have needed to turn off <b>S3 Block Public Access</b>. You should check <i>why</i> it can be publicly accessed."},{"owner":{"account_id":58377,"reputation":247880,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1683549907,"post_id":76200399,"comment_id":134379181,"body_markdown":"How can the website determine whether a user is a &quot;member&quot; of the website and know that they are entitled to access a file? For example, do users login to your website and you only want to provide those files to authenticated users? Please tell us more about how you would like it to behave.","body":"How can the website determine whether a user is a &quot;member&quot; of the website and know that they are entitled to access a file? For example, do users login to your website and you only want to provide those files to authenticated users? Please tell us more about how you would like it to behave."}],"answers":[{"tags":[],"owner":{"account_id":28494557,"reputation":181,"user_id":21806693,"display_name":"Igor Topolski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683547979,"creation_date":1683547979,"answer_id":76200497,"question_id":76200399,"body_markdown":"AWS provides [good documentation][1] on how to implement authentication for S3 assets using CloudFront.\r\n\r\n\r\n  [1]: https://aws.amazon.com/blogs/media/awse-protecting-your-media-assets-with-token-authentication/","title":"S3 object url can be accessed by anyone, how to protect it?","body":"<p>AWS provides <a href=\"https://aws.amazon.com/blogs/media/awse-protecting-your-media-assets-with-token-authentication/\" rel=\"nofollow noreferrer\">good documentation</a> on how to implement authentication for S3 assets using CloudFront.</p>\n"},{"tags":[],"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683568466,"creation_date":1683568156,"answer_id":76203070,"question_id":76200399,"body_markdown":"This answer assumes you want to allow access to the resources only for the application users. If that&#39;s not the case, you may need to ask more specific question. \r\n\r\n&gt; This link can be opened by anyone whether or not the user is a member of my website\r\n\r\nIf you make the resource public, you basically allowed any unauthenticated access. Regardless from your application or not. \r\n\r\nThe default (adviced) way to protect the resources is making the object private and make the application creating a signed (temporary) url.\r\n\r\n\r\nhttps://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-presign.html\r\n\r\n```\r\n               GetObjectRequest getObjectRequest = GetObjectRequest.builder()\r\n                   .bucket(bucketName)\r\n                   .key(keyName)\r\n                   .build();\r\n\r\n               GetObjectPresignRequest getObjectPresignRequest = GetObjectPresignRequest.builder()\r\n                   .signatureDuration(Duration.ofMinutes(60))\r\n                   .getObjectRequest(getObjectRequest)\r\n                   .build();\r\n\r\n               PresignedGetObjectRequest presignedGetObjectRequest = presigner.presignGetObject(getObjectPresignRequest);\r\n               String theUrl = presignedGetObjectRequest.url().toString();\r\n\r\n``` ","title":"S3 object url can be accessed by anyone, how to protect it?","body":"<p>This answer assumes you want to allow access to the resources only for the application users. If that's not the case, you may need to ask more specific question.</p>\n<blockquote>\n<p>This link can be opened by anyone whether or not the user is a member of my website</p>\n</blockquote>\n<p>If you make the resource public, you basically allowed any unauthenticated access. Regardless from your application or not.</p>\n<p>The default (adviced) way to protect the resources is making the object private and make the application creating a signed (temporary) url.</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-presign.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-presign.html</a></p>\n<pre><code>               GetObjectRequest getObjectRequest = GetObjectRequest.builder()\n                   .bucket(bucketName)\n                   .key(keyName)\n                   .build();\n\n               GetObjectPresignRequest getObjectPresignRequest = GetObjectPresignRequest.builder()\n                   .signatureDuration(Duration.ofMinutes(60))\n                   .getObjectRequest(getObjectRequest)\n                   .build();\n\n               PresignedGetObjectRequest presignedGetObjectRequest = presigner.presignGetObject(getObjectPresignRequest);\n               String theUrl = presignedGetObjectRequest.url().toString();\n\n</code></pre>\n"}],"owner":{"account_id":28546216,"reputation":9,"user_id":21851594,"display_name":"Bhavesh Jha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1683568466,"creation_date":1683547231,"question_id":76200399,"body_markdown":"When I map my `userdocumentseo` to `userdocumentsdto` in java I get documents upload url like `https://s3.amazonaws.com/approves3/44/IMG_0189.jpg`.\r\n\r\nThis link can be opened by anyone whether or not the user is a member of my website. This is not secure. How to protect it?","title":"S3 object url can be accessed by anyone, how to protect it?","body":"<p>When I map my <code>userdocumentseo</code> to <code>userdocumentsdto</code> in java I get documents upload url like <code>https://s3.amazonaws.com/approves3/44/IMG_0189.jpg</code>.</p>\n<p>This link can be opened by anyone whether or not the user is a member of my website. This is not secure. How to protect it?</p>\n"},{"tags":["java","spring-boot","foreach","collections","classcastexception"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1683562833,"post_id":76202291,"comment_id":134382146,"body_markdown":"are you sure the map is mapping to `List&lt;Integer&gt;`? Based on the error message, it looks like there is actually a `String` inside an `ArrayList` (despite the type of the `map` parameter)","body":"are you sure the map is mapping to <code>List&lt;Integer&gt;</code>? Based on the error message, it looks like there is actually a <code>String</code> inside an <code>ArrayList</code> (despite the type of the <code>map</code> parameter)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1683563324,"post_id":76202291,"comment_id":134382251,"body_markdown":"I get the same Exception at exactly the same location - line 1511 from `ArrayList` - when doing `( (List&lt;Integer&gt;) new ArrayList(List.of(&quot;test&quot;)) ).forEach(System.out::println)`","body":"I get the same Exception at exactly the same location - line 1511 from <code>ArrayList</code> - when doing <code>( (List&lt;Integer&gt;) new ArrayList(List.of(&quot;test&quot;)) ).forEach(System.out::println)</code>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1683563432,"post_id":76202291,"comment_id":134382282,"body_markdown":"You are using raw types and creating an `ArrayList&lt;String&gt;` and trying to cast it to a `List&lt;Integer&gt;`. `&quot;test&quot;` is not an `Integer`.","body":"You are using raw types and creating an <code>ArrayList&lt;String&gt;</code> and trying to cast it to a <code>List&lt;Integer&gt;</code>. <code>&quot;test&quot;</code> is not an <code>Integer</code>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683563477,"post_id":76202291,"comment_id":134382287,"body_markdown":"@David that is intentional - to show that the problem is having a `String` inside a `List&lt;Integer&gt;` (&quot;*I get the same Exception at exactly the same location ...*&quot;)","body":"@David that is intentional - to show that the problem is having a <code>String</code> inside a <code>List&lt;Integer&gt;</code> (&quot;<i>I get the same Exception at exactly the same location ...</i>&quot;)"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1683563586,"post_id":76202291,"comment_id":134382318,"body_markdown":"@user16320675 I&#39;m sorry, I mistook you for the OP. I should read more carefully.","body":"@user16320675 I&#39;m sorry, I mistook you for the OP. I should read more carefully."},{"owner":{"account_id":13930502,"reputation":21,"user_id":10058815,"display_name":"Sandeep Shiven"},"score":0,"creation_date":1683565879,"post_id":76202291,"comment_id":134382799,"body_markdown":"@user16320675 I tried to extract the value in `String` but it is giving compilation error which means it is not `String`  inside `ArrayList`  `keysLocalRates.forEach(key -&gt; { String x = map.get(key).get(0); System.out.println(x);});`","body":"@user16320675 I tried to extract the value in <code>String</code> but it is giving compilation error which means it is not <code>String</code>  inside <code>ArrayList</code>  <code>keysLocalRates.forEach(key -&gt; { String x = map.get(key).get(0); System.out.println(x);});</code>"},{"owner":{"account_id":13930502,"reputation":21,"user_id":10058815,"display_name":"Sandeep Shiven"},"score":0,"creation_date":1683566072,"post_id":76202291,"comment_id":134382854,"body_markdown":"@user16320675 I even tried to get what type is inside `ArrayList` using `getClass()` like this `map.get(key).get(0).getClass();`  but even this is giving me classCastException","body":"@user16320675 I even tried to get what type is inside <code>ArrayList</code> using <code>getClass()</code> like this <code>map.get(key).get(0).getClass();</code>  but even this is giving me classCastException"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1683566356,"post_id":76202291,"comment_id":134382907,"body_markdown":"if the list contains a `String` instead of the declared `Integer`, the `get(0)` method will throw that Exception (before you can assign it or call `getClass()`)","body":"if the list contains a <code>String</code> instead of the declared <code>Integer</code>, the <code>get(0)</code> method will throw that Exception (before you can assign it or call <code>getClass()</code>)"},{"owner":{"account_id":13930502,"reputation":21,"user_id":10058815,"display_name":"Sandeep Shiven"},"score":0,"creation_date":1683566615,"post_id":76202291,"comment_id":134382978,"body_markdown":"@user16320675 I still don&#39;t understand how can be there string in `ArrayList` if I have already declared it `List&lt;Integer&gt;`","body":"@user16320675 I still don&#39;t understand how can be there string in <code>ArrayList</code> if I have already declared it <code>List&lt;Integer&gt;</code>"},{"owner":{"account_id":13930502,"reputation":21,"user_id":10058815,"display_name":"Sandeep Shiven"},"score":0,"creation_date":1683566972,"post_id":76202291,"comment_id":134383065,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/253543/discussion-between-sandeep-shiven-and-user16320675).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253543/discussion-between-sandeep-shiven-and-user16320675\">continue this discussion in chat</a>."},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1683567015,"post_id":76202291,"comment_id":134383076,"body_markdown":"For debugging I&#39;d suggest breaking it down into `for()` loops and intermediate variables to get a better sense of exactly what step the error is occurring in, and lets you add print/log statements (or use a debugger if that&#39;s available). You can put it back together then.","body":"For debugging I&#39;d suggest breaking it down into <code>for()</code> loops and intermediate variables to get a better sense of exactly what step the error is occurring in, and lets you add print/log statements (or use a debugger if that&#39;s available). You can put it back together then."}],"owner":{"account_id":13930502,"reputation":21,"user_id":10058815,"display_name":"Sandeep Shiven"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683568161,"creation_date":1683561677,"question_id":76202291,"body_markdown":"I was learning about Matrix Variables in spring boot but I encountered problems while extracting the data.\r\n\r\n ``` java\r\n@GetMapping(value = &quot;/{query}/plan&quot;, produces = {&quot;application/xml&quot;})\r\n\tpublic ResponseEntity&lt;List&lt;PlanDTO&gt;&gt; fetchPlansByLocalRate(@MatrixVariable(pathVar = &quot;query&quot;) Map&lt;String, List&lt;Integer&gt;&gt; map){\r\n\t\t\r\n\t\tSet&lt;String&gt; keysLocalRates = map.keySet();\r\n\t\tSet&lt;Integer&gt; localRates = new HashSet&lt;Integer&gt;();\r\n\t\t\r\n\t\tkeysLocalRates.forEach(key -&gt; {\r\n\t\t\tmap.get(key).forEach(val -&gt; localRates.add(val)); // throwing exception here\r\n\t\t});\r\n\t\t\r\n\t\treturn ResponseEntity.status(HttpStatus.OK).body(planService.fetchPlansByLocalRate(localRates));\r\n\t\t\r\n\t}\r\n```\r\nIt is throwing following error\r\n&gt;java.lang.ClassCastException: class java.lang.String cannot be cast to class java.lang.Integer (java.lang.String and java.lang.Integer are in module java.base of loader &#39;bootstrap&#39;)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n\tat com.infy.controller.PlanController.lambda$0(PlanController.java:51) ~[classes/:na]\r\n\tat java.base/java.util.LinkedHashMap$LinkedKeySet.forEach(LinkedHashMap.java:589) ~[na:na]\r\n\tat com.infy.controller.PlanController.fetchPlansByLocalRate(PlanController.java:50) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat \r\n\r\n\r\nI can&#39;t understand where am I going wrong.\r\n\r\n\r\nEdit:\r\n\r\nI still can&#39;t understand this strange behaviour as I have already declared List as `List&lt;Integer&gt;` but it is having `List&lt;Object&gt;` so I tried following code and it works fine\r\n\r\n``` java\r\n@GetMapping(value = &quot;/{query}/plan&quot;, produces = {&quot;application/xml&quot;})\r\n\tpublic ResponseEntity&lt;List&lt;PlanDTO&gt;&gt; fetchPlansByLocalRate(@MatrixVariable(pathVar = &quot;query&quot;) Map&lt;String, List&lt;Integer&gt;&gt; map){\r\n\t\t\r\n\t\tSet&lt;String&gt; keysLocalRates = map.keySet();\r\n\t\tSet&lt;Integer&gt; localRates = new HashSet&lt;Integer&gt;();\r\n\t\t\r\n\t\tkeysLocalRates.forEach(key -&gt; {\r\n\t           map.get(key).forEach((Object val) -&gt; localRates.add(Integer.parseInt((String)val)));\r\n\t       });\t\t\r\n\t\t\r\n\t\treturn ResponseEntity.status(HttpStatus.OK).body(planService.fetchPlansByLocalRate(localRates));\r\n\t}\r\n```","title":"Java throwing class cast exception even if types are correct","body":"<p>I was learning about Matrix Variables in spring boot but I encountered problems while extracting the data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value = &quot;/{query}/plan&quot;, produces = {&quot;application/xml&quot;})\n   public ResponseEntity&lt;List&lt;PlanDTO&gt;&gt; fetchPlansByLocalRate(@MatrixVariable(pathVar = &quot;query&quot;) Map&lt;String, List&lt;Integer&gt;&gt; map){\n       \n       Set&lt;String&gt; keysLocalRates = map.keySet();\n       Set&lt;Integer&gt; localRates = new HashSet&lt;Integer&gt;();\n       \n       keysLocalRates.forEach(key -&gt; {\n           map.get(key).forEach(val -&gt; localRates.add(val)); // throwing exception here\n       });\n       \n       return ResponseEntity.status(HttpStatus.OK).body(planService.fetchPlansByLocalRate(localRates));\n       \n   }\n</code></pre>\n<p>It is throwing following error</p>\n<blockquote>\n<p>java.lang.ClassCastException: class java.lang.String cannot be cast to class java.lang.Integer (java.lang.String and java.lang.Integer are in module java.base of loader 'bootstrap')\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\nat com.infy.controller.PlanController.lambda$0(PlanController.java:51) ~[classes/:na]\nat java.base/java.util.LinkedHashMap$LinkedKeySet.forEach(LinkedHashMap.java:589) ~[na:na]\nat com.infy.controller.PlanController.fetchPlansByLocalRate(PlanController.java:50) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat</p>\n</blockquote>\n<p>I can't understand where am I going wrong.</p>\n<p>Edit:</p>\n<p>I still can't understand this strange behaviour as I have already declared List as <code>List&lt;Integer&gt;</code> but it is having <code>List&lt;Object&gt;</code> so I tried following code and it works fine</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value = &quot;/{query}/plan&quot;, produces = {&quot;application/xml&quot;})\n    public ResponseEntity&lt;List&lt;PlanDTO&gt;&gt; fetchPlansByLocalRate(@MatrixVariable(pathVar = &quot;query&quot;) Map&lt;String, List&lt;Integer&gt;&gt; map){\n        \n        Set&lt;String&gt; keysLocalRates = map.keySet();\n        Set&lt;Integer&gt; localRates = new HashSet&lt;Integer&gt;();\n        \n        keysLocalRates.forEach(key -&gt; {\n               map.get(key).forEach((Object val) -&gt; localRates.add(Integer.parseInt((String)val)));\n           });      \n        \n        return ResponseEntity.status(HttpStatus.OK).body(planService.fetchPlansByLocalRate(localRates));\n    }\n</code></pre>\n"},{"tags":["java","selenium-webdriver","testing","automated-tests"],"answers":[{"tags":[],"owner":{"account_id":6743318,"reputation":1,"user_id":5195774,"display_name":"Saunders Cox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683566424,"creation_date":1683566183,"answer_id":76202834,"question_id":76202333,"body_markdown":"I&#39;ve been using Awaitility to mock ExplicitWait for conditions beyond those given in ExpectedConditions where you may want to discard exceptions until it&#39;s no longer thrown. It also works with ImplicitWait if you choose to use that.\r\n\r\nSince you have no guarantee that some event has happened once, twice, or however many times, until you find a condition that strictly satisfies what you&#39;re looking for, you&#39;re shooting in the dark. Given you say &quot;within a second or so&quot;, that&#39;s really all you have to work with right now. \r\n\r\nYou might try something like this:\r\n\r\n    WebElement uiLoader ...\r\n    Awaitility.await().atLeast(Duration.ofSeconds(2))\r\n      .ignoreException(ClassOfExceptionThatMayBeThrown.class)\r\n      .until(() -&gt; !uiLoader.isDisplayed());","title":"How do I wait for a UI Loading WebElement to be invisible twice?","body":"<p>I've been using Awaitility to mock ExplicitWait for conditions beyond those given in ExpectedConditions where you may want to discard exceptions until it's no longer thrown. It also works with ImplicitWait if you choose to use that.</p>\n<p>Since you have no guarantee that some event has happened once, twice, or however many times, until you find a condition that strictly satisfies what you're looking for, you're shooting in the dark. Given you say &quot;within a second or so&quot;, that's really all you have to work with right now.</p>\n<p>You might try something like this:</p>\n<pre><code>WebElement uiLoader ...\nAwaitility.await().atLeast(Duration.ofSeconds(2))\n  .ignoreException(ClassOfExceptionThatMayBeThrown.class)\n  .until(() -&gt; !uiLoader.isDisplayed());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683567351,"creation_date":1683567351,"answer_id":76202969,"question_id":76202333,"body_markdown":"Something like this may work for you\r\n\r\nFirst iteration code just wait for Disappearance of uiLoader and in second Iteration we wait for uiLoader Appearance and Disappearance \r\nor you can remove the if condition if you want to wait for first uiLoader also\r\n\r\n   \r\n\r\n    public void waitForLoaderToAppearAndDisappear(WebDriver driver) {\r\n    \t\tBy uiLoader = By.xpath(&quot;&quot;);\r\n    \t\tWebDriverWait wait = new WebDriverWait(driver, 50);\r\n    \r\n    \t\tint loadingBarCount = 0;\r\n    \t\twhile (loadingBarCount &lt; 2) {\r\n    \t\t\ttry {\r\n    \t\t\t\tif (loadingBarCount == 1) {\r\n    \t\t\t\t\twait.until(ExpectedConditions.visibilityOfElementLocated(uiLoader));\r\n    \t\t\t\t}\r\n    \t\t\t\twait.until(ExpectedConditions.invisibilityOfElementLocated(uiLoader));\r\n    \t\t\t\tloadingBarCount++;\r\n    \t\t\t} catch (TimeoutException e) {\r\n    \t\t\t\t// The loading bar did not appear within the timeout\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}","title":"How do I wait for a UI Loading WebElement to be invisible twice?","body":"<p>Something like this may work for you</p>\n<p>First iteration code just wait for Disappearance of uiLoader and in second Iteration we wait for uiLoader Appearance and Disappearance\nor you can remove the if condition if you want to wait for first uiLoader also</p>\n<pre><code>public void waitForLoaderToAppearAndDisappear(WebDriver driver) {\n        By uiLoader = By.xpath(&quot;&quot;);\n        WebDriverWait wait = new WebDriverWait(driver, 50);\n\n        int loadingBarCount = 0;\n        while (loadingBarCount &lt; 2) {\n            try {\n                if (loadingBarCount == 1) {\n                    wait.until(ExpectedConditions.visibilityOfElementLocated(uiLoader));\n                }\n                wait.until(ExpectedConditions.invisibilityOfElementLocated(uiLoader));\n                loadingBarCount++;\n            } catch (TimeoutException e) {\n                // The loading bar did not appear within the timeout\n                break;\n            }\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":9117009,"reputation":41,"user_id":6784319,"accept_rate":100,"display_name":"Toy_Soldier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683568079,"creation_date":1683561943,"question_id":76202333,"body_markdown":"I have a **WebElement uiLoader**. \r\nIt is basically an ajax call for loading animation that appears on the screen after certian actions.\r\n\r\nI have written a function with explicit wait to handle uiLoader like the following,\r\n\r\n    public void handleUILoading(){\r\n    \tWebDriver wait = new WebDriverWait(driver,50);\r\n        wait.until(ExpectedConditions.invisibilityOfElementLocatedBy(uiLoader));\r\n    }\r\n\r\nThis works fine except when the **uiLoader** gets visible **twice** one after the other within a second or so. I want the driver to interact with other WebElements only after both the instances of the **uiLoader** become invisible.\r\n\r\nCalling the function **handleUILoading()** twice also does not help as it simply executes both the wait statements when the **uiLoader** disappears the first time.\r\n\r\nIs there a way I can handle this without using Thread.sleep()?\r\n","title":"How do I wait for a UI Loading WebElement to be invisible twice?","body":"<p>I have a <strong>WebElement uiLoader</strong>.\nIt is basically an ajax call for loading animation that appears on the screen after certian actions.</p>\n<p>I have written a function with explicit wait to handle uiLoader like the following,</p>\n<pre><code>public void handleUILoading(){\n    WebDriver wait = new WebDriverWait(driver,50);\n    wait.until(ExpectedConditions.invisibilityOfElementLocatedBy(uiLoader));\n}\n</code></pre>\n<p>This works fine except when the <strong>uiLoader</strong> gets visible <strong>twice</strong> one after the other within a second or so. I want the driver to interact with other WebElements only after both the instances of the <strong>uiLoader</strong> become invisible.</p>\n<p>Calling the function <strong>handleUILoading()</strong> twice also does not help as it simply executes both the wait statements when the <strong>uiLoader</strong> disappears the first time.</p>\n<p>Is there a way I can handle this without using Thread.sleep()?</p>\n"},{"tags":["java","spring","postgresql","spring-boot","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683117579,"creation_date":1683115462,"answer_id":76163604,"question_id":76162952,"body_markdown":"In your particular case, you can nest with `JOIN` and `GROUP BY` / [`MULTISET_AGG`][1], instead of using the [`MULTISET` value constructor][2], because you&#39;re nesting only one level of nested collections (the second nesting is not a collection). The main difference will be what happens when you don&#39;t have any `BAR` for a `FOO`. With aggregation, this produces a `NULL` value, not an empty collection.\r\n\r\nHowever, there are a few limitations in the API (e.g. [#15008][3], [#15007][4], [#13937][5]) making this a bit difficult using the `DefaultRecordMapper` (the `fetchInto(X.class)` call). Here&#39;s a solution using [ad-hoc conversion][6] and type safety:\r\n\r\n\r\n```java\r\nctx().select(\r\n        FOO.FOO_NAME,\r\n        multisetAgg(\r\n\r\n          // Add more BAR columns here, if needed\r\n          row(\r\n\r\n            // Add more BAZZ columns here, if needed\r\n            BAR.bazz().NAME\r\n          ).mapping(Bazz::new)\r\n        ).convertFrom(r -&gt; r.map(Records.mapping(Bar::new)))\r\n      )\r\n     .from(FOO)\r\n     .join(BAR).on(BAR.FOO_ID.eq(FOO.ID))\r\n     .groupBy(FOO.ID)\r\n     .where(FOO.FOO_NAME.eq(fooName))\r\n     .fetch(Records.mapping(Foo::new));\r\n```\r\n\r\nThis is assuming you have the relevant constructors. If you don&#39;t, you can always revert to `into(X.class)` calls on each level.\r\n\r\nOne of the benefits of using [jOOQ&#39;s code generator][7] is that you have type safe nested collection mapping as shown above.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/multiset-agg-function/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\r\n  [3]: https://github.com/jOOQ/jOOQ/issues/15008\r\n  [4]: https://github.com/jOOQ/jOOQ/issues/15007\r\n  [5]: https://github.com/jOOQ/jOOQ/issues/13937\r\n  [6]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\r\n  [7]: https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/","title":"jOOQ multiple levels of nesting","body":"<p>In your particular case, you can nest with <code>JOIN</code> and <code>GROUP BY</code> / <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/multiset-agg-function/\" rel=\"nofollow noreferrer\"><code>MULTISET_AGG</code></a>, instead of using the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\" rel=\"nofollow noreferrer\"><code>MULTISET</code> value constructor</a>, because you're nesting only one level of nested collections (the second nesting is not a collection). The main difference will be what happens when you don't have any <code>BAR</code> for a <code>FOO</code>. With aggregation, this produces a <code>NULL</code> value, not an empty collection.</p>\n<p>However, there are a few limitations in the API (e.g. <a href=\"https://github.com/jOOQ/jOOQ/issues/15008\" rel=\"nofollow noreferrer\">#15008</a>, <a href=\"https://github.com/jOOQ/jOOQ/issues/15007\" rel=\"nofollow noreferrer\">#15007</a>, <a href=\"https://github.com/jOOQ/jOOQ/issues/13937\" rel=\"nofollow noreferrer\">#13937</a>) making this a bit difficult using the <code>DefaultRecordMapper</code> (the <code>fetchInto(X.class)</code> call). Here's a solution using <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">ad-hoc conversion</a> and type safety:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ctx().select(\n        FOO.FOO_NAME,\n        multisetAgg(\n\n          // Add more BAR columns here, if needed\n          row(\n\n            // Add more BAZZ columns here, if needed\n            BAR.bazz().NAME\n          ).mapping(Bazz::new)\n        ).convertFrom(r -&gt; r.map(Records.mapping(Bar::new)))\n      )\n     .from(FOO)\n     .join(BAR).on(BAR.FOO_ID.eq(FOO.ID))\n     .groupBy(FOO.ID)\n     .where(FOO.FOO_NAME.eq(fooName))\n     .fetch(Records.mapping(Foo::new));\n</code></pre>\n<p>This is assuming you have the relevant constructors. If you don't, you can always revert to <code>into(X.class)</code> calls on each level.</p>\n<p>One of the benefits of using <a href=\"https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\" rel=\"nofollow noreferrer\">jOOQ's code generator</a> is that you have type safe nested collection mapping as shown above.</p>\n"},{"tags":[],"owner":{"account_id":10648335,"reputation":66,"user_id":7840215,"display_name":"nogalo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683568028,"creation_date":1683567052,"answer_id":76202936,"question_id":76162952,"body_markdown":"I&#39;ve made a little research and found several solutions to the aforementioned problem.\r\n\r\n 1. Using multiset() -&gt; the previous example\r\n\r\n    \r\n     - PROS: \r\n         - least verbose way\r\n         - Java part is pretty simple if you know what you are doing\r\n     - CONS: \r\n         - besides knowing SQL, you&#39;ll have to research how `DSL.multiset()` works\r\n         - you have to use subselect\r\n         - the generated SQL might look very complicated, probably hard to debug\r\n\r\n 2. Using multisetAgg()\r\n\r\n    ```\r\n    return ctx().select(FOO.ID,\r\n                        FOO.FOO_NAME,\r\n                        multisetAgg(\r\n                                BAR.ID,\r\n                                row(BAR.bazz().ID,\r\n                                        BAR.bazz().NAME\r\n                                ).mapping(Bazz::new),\r\n                                BAR.SOME_ATTRIBUTE,\r\n                                BAR.SOME_OTHER_ATTRIBUTE\r\n                        ).convertFrom(r -&gt; r.map(Records.mapping(Bar::new))).as(&quot;bars&quot;),\r\n                        FOO.CREATED_AT,\r\n                        FOO.MODIFIED_AT\r\n                )\r\n                .from(FOO)\r\n                .join(BAR).on(BAR.FOO_ID.eq(FOO.ID))\r\n                .groupBy(FOO.ID)\r\n                .having(FOO.FOO_NAME.eq(fooName))\r\n                .fetchInto(Foo.class);\r\n    ```\r\n\r\n     - PROS: \r\n         - still looks pretty simple\r\n         - you don&#39;t have to use subselect\r\n     - CONS:\r\n         - besides knowing SQL, you&#39;ll have to research how `DSL.multisetAgg()` works\r\n         - the order of the columns in the `SELECT` statement must match the order of the parameters in constructors\r\n         - the generated SQL might look very complicated, probably hard to debug\r\n\r\n 3. Using [modelmapper][1]\r\n\r\n    ```\r\n    @Bean\r\n    public ModelMapper modelMapper() {\r\n        var modelMapper = new ModelMapper();\r\n        modelMapper.getConfiguration()\r\n                .addValueReader(new RecordValueReader())\r\n                .setSourceNameTokenizer(NameTokenizers.UNDERSCORE);\r\n        return modelMapper;\r\n    }\r\n    ```\r\n\r\n    ```\r\n    return ctx().select(FOO.asterisk(),\r\n                            BAR.asterisk(),\r\n                            BAZZ.asterisk()\r\n                    )\r\n                    .from(FOO)\r\n                    .join(BAR).on(BAR.FOO_ID.eq(FOO.ID))\r\n                    .join(BAZZ).on(BAZZ.ID.eq(BAR.BAZZ_ID))\r\n                    .where(FOO.FOO_NAME.eq(fooName))\r\n                    .orderBy(FOO.ID, BAR.ID)\r\n                    .collect(groupingBy(\r\n                            r -&gt; modelMapper.map(r.into(FOO), Foo.class), filtering(\r\n                                    r -&gt; r.get(BAR.ID) != null, mapping(\r\n                                            r -&gt; new Pair(modelMapper.map(r.into(BAR), Bar.class),\r\n                                                    modelMapper.map(r.into(BAZZ), Bazz.class)),\r\n                                            toList()\r\n                                    )\r\n                            )\r\n                    ))\r\n                    .entrySet().stream().map(o -&gt; {\r\n                        var foo = o.getKey();\r\n                        return foo.setBars(o.getValue().stream().map(v -&gt; {\r\n                            var bar = (Bar) v.getValue0();\r\n                            var bazz = (Bazz) v.getValue1();\r\n                            return bar.setBazz(bazz);\r\n                        }).toList());\r\n                    }).toList();\r\n    ```\r\n\r\n     - PROS: \r\n         - 1:1 equivalence between SQL syntax and the jOOQ API\r\n     - CONS: \r\n         - pretty verbose\r\n         - easy to mess up (manual grouping and mapping)\r\n         - external library\r\n 4. Using [SimpleFlatMapper][2]\r\n\r\n    ```\r\n    private final JdbcMapper&lt;Foo&gt; fooResponseJdbcMapper;\r\n\r\n    public FooRepository(...) {\r\n        this.fooResponseJdbcMapper = JdbcMapperFactory.newInstance()\r\n                .addKeys(&quot;id&quot;)\r\n                .ignorePropertyNotFound()\r\n                .newMapper(Foo.class);\r\n        }\r\n    .\r\n    .\r\n    .\r\n    public List&lt;Foo&gt; findByCustomerId(Long id) {\r\n        try (var result = ctx().select(FOO.ID,\r\n                            FOO.FOO_NAME,\r\n                            FOO.CREATED_AT,\r\n                            FOO.MODIFIED_AT,\r\n                            BAR.ID.as(&quot;bars_id&quot;),\r\n                            BAR.SOME_ATTRIBUTE.as(&quot;bars_some_attribute&quot;),\r\n                            BAR.SOME_OTHER_ATTRIBUTE.as(&quot;bars_some_other_attribute&quot;),\r\n                            BAZZ.ID.as(&quot;bars_bazz_id&quot;),\r\n                            BAZZ.NAME.as(&quot;bars_bazz_name&quot;)\r\n                    )\r\n                    .from(FOO)\r\n                    .join(BAR).on(BAR.FOO_ID.eq(FOO.ID))\r\n                    .join(BAZZ).on(BAZZ.ID.eq(BAR.BAZZ_ID))\r\n                    .where(FOO.FOO_NAME.eq(fooName))\r\n                    .orderBy(FOO.ID, BAR.ID)\r\n                    .fetchResultSet()) {\r\n                return fooResponseJdbcMapper.stream(result).toList();\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    ```\r\n\r\n     - PROS: \r\n         - 1:1 equivalence between SQL syntax and the jOOQ API\r\n         - looks pretty simple\r\n     - CONS:\r\n         - external library\r\n         - you have to assign aliases to selected columns if you want SimpleFlatMapper to map everything correctly\r\n\r\n  [1]: https://modelmapper.org/\r\n  [2]: https://simpleflatmapper.org/0106-getting-started-jooq.html","title":"jOOQ multiple levels of nesting","body":"<p>I've made a little research and found several solutions to the aforementioned problem.</p>\n<ol>\n<li><p>Using multiset() -&gt; the previous example</p>\n<ul>\n<li>PROS:\n<ul>\n<li>least verbose way</li>\n<li>Java part is pretty simple if you know what you are doing</li>\n</ul>\n</li>\n<li>CONS:\n<ul>\n<li>besides knowing SQL, you'll have to research how <code>DSL.multiset()</code> works</li>\n<li>you have to use subselect</li>\n<li>the generated SQL might look very complicated, probably hard to debug</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Using multisetAgg()</p>\n<pre><code>return ctx().select(FOO.ID,\n                    FOO.FOO_NAME,\n                    multisetAgg(\n                            BAR.ID,\n                            row(BAR.bazz().ID,\n                                    BAR.bazz().NAME\n                            ).mapping(Bazz::new),\n                            BAR.SOME_ATTRIBUTE,\n                            BAR.SOME_OTHER_ATTRIBUTE\n                    ).convertFrom(r -&gt; r.map(Records.mapping(Bar::new))).as(&quot;bars&quot;),\n                    FOO.CREATED_AT,\n                    FOO.MODIFIED_AT\n            )\n            .from(FOO)\n            .join(BAR).on(BAR.FOO_ID.eq(FOO.ID))\n            .groupBy(FOO.ID)\n            .having(FOO.FOO_NAME.eq(fooName))\n            .fetchInto(Foo.class);\n</code></pre>\n<ul>\n<li>PROS:\n<ul>\n<li>still looks pretty simple</li>\n<li>you don't have to use subselect</li>\n</ul>\n</li>\n<li>CONS:\n<ul>\n<li>besides knowing SQL, you'll have to research how <code>DSL.multisetAgg()</code> works</li>\n<li>the order of the columns in the <code>SELECT</code> statement must match the order of the parameters in constructors</li>\n<li>the generated SQL might look very complicated, probably hard to debug</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Using <a href=\"https://modelmapper.org/\" rel=\"nofollow noreferrer\">modelmapper</a></p>\n<pre><code>@Bean\npublic ModelMapper modelMapper() {\n    var modelMapper = new ModelMapper();\n    modelMapper.getConfiguration()\n            .addValueReader(new RecordValueReader())\n            .setSourceNameTokenizer(NameTokenizers.UNDERSCORE);\n    return modelMapper;\n}\n</code></pre>\n<pre><code>return ctx().select(FOO.asterisk(),\n                        BAR.asterisk(),\n                        BAZZ.asterisk()\n                )\n                .from(FOO)\n                .join(BAR).on(BAR.FOO_ID.eq(FOO.ID))\n                .join(BAZZ).on(BAZZ.ID.eq(BAR.BAZZ_ID))\n                .where(FOO.FOO_NAME.eq(fooName))\n                .orderBy(FOO.ID, BAR.ID)\n                .collect(groupingBy(\n                        r -&gt; modelMapper.map(r.into(FOO), Foo.class), filtering(\n                                r -&gt; r.get(BAR.ID) != null, mapping(\n                                        r -&gt; new Pair(modelMapper.map(r.into(BAR), Bar.class),\n                                                modelMapper.map(r.into(BAZZ), Bazz.class)),\n                                        toList()\n                                )\n                        )\n                ))\n                .entrySet().stream().map(o -&gt; {\n                    var foo = o.getKey();\n                    return foo.setBars(o.getValue().stream().map(v -&gt; {\n                        var bar = (Bar) v.getValue0();\n                        var bazz = (Bazz) v.getValue1();\n                        return bar.setBazz(bazz);\n                    }).toList());\n                }).toList();\n</code></pre>\n<ul>\n<li>PROS:\n<ul>\n<li>1:1 equivalence between SQL syntax and the jOOQ API</li>\n</ul>\n</li>\n<li>CONS:\n<ul>\n<li>pretty verbose</li>\n<li>easy to mess up (manual grouping and mapping)</li>\n<li>external library</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Using <a href=\"https://simpleflatmapper.org/0106-getting-started-jooq.html\" rel=\"nofollow noreferrer\">SimpleFlatMapper</a></p>\n<pre><code>private final JdbcMapper&lt;Foo&gt; fooResponseJdbcMapper;\n\npublic FooRepository(...) {\n    this.fooResponseJdbcMapper = JdbcMapperFactory.newInstance()\n            .addKeys(&quot;id&quot;)\n            .ignorePropertyNotFound()\n            .newMapper(Foo.class);\n    }\n.\n.\n.\npublic List&lt;Foo&gt; findByCustomerId(Long id) {\n    try (var result = ctx().select(FOO.ID,\n                        FOO.FOO_NAME,\n                        FOO.CREATED_AT,\n                        FOO.MODIFIED_AT,\n                        BAR.ID.as(&quot;bars_id&quot;),\n                        BAR.SOME_ATTRIBUTE.as(&quot;bars_some_attribute&quot;),\n                        BAR.SOME_OTHER_ATTRIBUTE.as(&quot;bars_some_other_attribute&quot;),\n                        BAZZ.ID.as(&quot;bars_bazz_id&quot;),\n                        BAZZ.NAME.as(&quot;bars_bazz_name&quot;)\n                )\n                .from(FOO)\n                .join(BAR).on(BAR.FOO_ID.eq(FOO.ID))\n                .join(BAZZ).on(BAZZ.ID.eq(BAR.BAZZ_ID))\n                .where(FOO.FOO_NAME.eq(fooName))\n                .orderBy(FOO.ID, BAR.ID)\n                .fetchResultSet()) {\n            return fooResponseJdbcMapper.stream(result).toList();\n    } catch (SQLException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n<ul>\n<li>PROS:\n<ul>\n<li>1:1 equivalence between SQL syntax and the jOOQ API</li>\n<li>looks pretty simple</li>\n</ul>\n</li>\n<li>CONS:\n<ul>\n<li>external library</li>\n<li>you have to assign aliases to selected columns if you want SimpleFlatMapper to map everything correctly</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n"}],"owner":{"account_id":10648335,"reputation":66,"user_id":7840215,"display_name":"nogalo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1683568028,"creation_date":1683110844,"question_id":76162952,"body_markdown":"I am trying to fetch complex structure from the database using jOOQ. I will try to explain on an example where the problem is.\r\n\r\nSo, let&#39;s imagine we have classes Foo, Bar and Bazz:\r\n\r\n```\r\npublic class Foo {\r\n    private String fooName;\r\n    private List&lt;Bar&gt; bars;\r\n}\r\n\r\npublic class Bar {\r\n    private Bazz bazz;\r\n}\r\n\r\npublic class Bazz {\r\n    private String name;\r\n}\r\n```\r\n\r\nI want to fetch and populate Foo -\\&gt; List\\&lt;Bar\\&gt; -\\&gt; Bazz relationship.\r\n\r\nI tried with `MULTISET` and it works, but I want to avoid subqueries. I want to fetch and map that using `JOIN`. I wonder if it is possible to fetch that using reflection, something like [this](https://stackoverflow.com/a/75723738/7840215).\r\n\r\nHere is an example with `MULTISET` :\r\n\r\n```\r\npublic List&lt;FooResponse&gt; findByFooName(String fooName) {\r\n        return ctx().select(FOO.asterisk(),\r\n                        multiset(select(BAR.asterisk(),\r\n                                BAR.bazz().as(&quot;bazz&quot;))\r\n                              .from(BAR)\r\n                              .where(BAR.FOO_ID.eq(FOO.ID))).as(&quot;bars&quot;))\r\n        .from(FOO)\r\n        .where(FOO.FOO_NAME.eq(fooName))\r\n        .fetchInto(FooResponse.class);\r\n    }\r\n```","title":"jOOQ multiple levels of nesting","body":"<p>I am trying to fetch complex structure from the database using jOOQ. I will try to explain on an example where the problem is.</p>\n<p>So, let's imagine we have classes Foo, Bar and Bazz:</p>\n<pre><code>public class Foo {\n    private String fooName;\n    private List&lt;Bar&gt; bars;\n}\n\npublic class Bar {\n    private Bazz bazz;\n}\n\npublic class Bazz {\n    private String name;\n}\n</code></pre>\n<p>I want to fetch and populate Foo -&gt; List&lt;Bar&gt; -&gt; Bazz relationship.</p>\n<p>I tried with <code>MULTISET</code> and it works, but I want to avoid subqueries. I want to fetch and map that using <code>JOIN</code>. I wonder if it is possible to fetch that using reflection, something like <a href=\"https://stackoverflow.com/a/75723738/7840215\">this</a>.</p>\n<p>Here is an example with <code>MULTISET</code> :</p>\n<pre><code>public List&lt;FooResponse&gt; findByFooName(String fooName) {\n        return ctx().select(FOO.asterisk(),\n                        multiset(select(BAR.asterisk(),\n                                BAR.bazz().as(&quot;bazz&quot;))\n                              .from(BAR)\n                              .where(BAR.FOO_ID.eq(FOO.ID))).as(&quot;bars&quot;))\n        .from(FOO)\n        .where(FOO.FOO_NAME.eq(fooName))\n        .fetchInto(FooResponse.class);\n    }\n</code></pre>\n"},{"tags":["java","maven","dependencies"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1683568709,"post_id":76203034,"comment_id":134383430,"body_markdown":"I&#39;m not sure what the problem is. Not including the dependencies in the JAR file is the _default behavior_. And if you&#39;ve published to a Maven repository (e.g., Maven Central), then when other projects declare your project as a dependency then the declared dependencies of your project become _transitive dependencies_.","body":"I&#39;m not sure what the problem is. Not including the dependencies in the JAR file is the <i>default behavior</i>. And if you&#39;ve published to a Maven repository (e.g., Maven Central), then when other projects declare your project as a dependency then the declared dependencies of your project become <i>transitive dependencies</i>."},{"owner":{"account_id":183460,"reputation":857,"user_id":418836,"accept_rate":33,"display_name":"user418836"},"score":0,"creation_date":1683569372,"post_id":76203034,"comment_id":134383581,"body_markdown":"@Slaw We don&#39;t publish to maven central. We place them in remote repository and where should  I declare the dependencies ?","body":"@Slaw We don&#39;t publish to maven central. We place them in remote repository and where should  I declare the dependencies ?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1683570019,"post_id":76203034,"comment_id":134383721,"body_markdown":"Maven Central was only an example (hence the &quot;e.g.&quot; and the parentheses). And you declare dependencies in the POM like normal.","body":"Maven Central was only an example (hence the &quot;e.g.&quot; and the parentheses). And you declare dependencies in the POM like normal."},{"owner":{"account_id":183460,"reputation":857,"user_id":418836,"accept_rate":33,"display_name":"user418836"},"score":0,"creation_date":1683571410,"post_id":76203034,"comment_id":134384019,"body_markdown":"@Slaw I was doing mvn package. Once I did mvn install, I could see the pom file with dependencies.","body":"@Slaw I was doing mvn package. Once I did mvn install, I could see the pom file with dependencies."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1683586530,"post_id":76203034,"comment_id":134386593,"body_markdown":"Please show the full POM in the question text. As Slaw said, the behaviour you want is the default, so something in the POM must be changing that.","body":"Please show the full POM in the question text. As Slaw said, the behaviour you want is the default, so something in the POM must be changing that."},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1683625871,"post_id":76203034,"comment_id":134391751,"body_markdown":"Usually you dont create a fat jar without specific pom to build it (e.g. jar-with-dependencies). try looking for this part and disable it. Otherwise you can specify &quot;provided&quot; under scope for your dependencies","body":"Usually you dont create a fat jar without specific pom to build it (e.g. jar-with-dependencies). try looking for this part and disable it. Otherwise you can specify &quot;provided&quot; under scope for your dependencies"}],"owner":{"account_id":183460,"reputation":857,"user_id":418836,"accept_rate":33,"display_name":"user418836"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683567883,"creation_date":1683567883,"question_id":76203034,"body_markdown":"I want to create a util jar ( 80KB) using Maven project. This Jar has dependency on apache.poi.jar, apache.poi-api.jar, apache commons-lang3.jar  and few other. These are available in Maven central repository and I provided them as dependency in pom of util project.\r\n\r\nNote: This jar is not a runnable jar with main class. It will be used by other teams and include as dependency. We have all artifacts added in remote repository\r\n\r\nWhen I create a jar, I don&#39;t want to add dependencies inside util jar and make it a fat jar  ( 4 MB). \r\n\r\nWhen users include this jar as dependency, I want the using application to download downstream dependencies and they can package in their WAR.\r\n```\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;com.test.proj&lt;/groupId&gt;\r\n&lt;artifactId&gt;util&lt;/artifactId&gt;\r\n&lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIn the packaged jar, Is there a possibility to include the dependencies as POM and maven will read this and download them also.","title":"How to create a maven jar with out including all the dependencies","body":"<p>I want to create a util jar ( 80KB) using Maven project. This Jar has dependency on apache.poi.jar, apache.poi-api.jar, apache commons-lang3.jar  and few other. These are available in Maven central repository and I provided them as dependency in pom of util project.</p>\n<p>Note: This jar is not a runnable jar with main class. It will be used by other teams and include as dependency. We have all artifacts added in remote repository</p>\n<p>When I create a jar, I don't want to add dependencies inside util jar and make it a fat jar  ( 4 MB).</p>\n<p>When users include this jar as dependency, I want the using application to download downstream dependencies and they can package in their WAR.</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.test.proj&lt;/groupId&gt;\n&lt;artifactId&gt;util&lt;/artifactId&gt;\n&lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In the packaged jar, Is there a possibility to include the dependencies as POM and maven will read this and download them also.</p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1683309128,"post_id":76184776,"comment_id":134352515,"body_markdown":"Showing the value of `RECORD_SEPARATOR_REGEX` might be helpful...","body":"Showing the value of <code>RECORD_SEPARATOR_REGEX</code> might be helpful..."},{"owner":{"account_id":1236305,"reputation":521,"user_id":1199832,"accept_rate":50,"display_name":"Halley"},"score":0,"creation_date":1683313915,"post_id":76184776,"comment_id":134353525,"body_markdown":"@JimGarrison added. Will that matter?","body":"@JimGarrison added. Will that matter?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1683316952,"post_id":76184776,"comment_id":134354093,"body_markdown":"Did you try the regex manually on a small snippet? Do you really want to split by &quot;|END&quot; followed by any kind of newline? (CRLF, CR or LF) Just asking cause of the first `|`, but may be totally legit.","body":"Did you try the regex manually on a small snippet? Do you really want to split by &quot;|END&quot; followed by any kind of newline? (CRLF, CR or LF) Just asking cause of the first <code>|</code>, but may be totally legit."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1683323541,"post_id":76184776,"comment_id":134355019,"body_markdown":"@Halley Yes, if it&#39;s particularly complex.","body":"@Halley Yes, if it&#39;s particularly complex."},{"owner":{"account_id":1236305,"reputation":521,"user_id":1199832,"accept_rate":50,"display_name":"Halley"},"score":0,"creation_date":1683405118,"post_id":76184776,"comment_id":134362727,"body_markdown":"@cyberbrain doesn&#39;t matter. The moment I use a regex, the streaming stops working.","body":"@cyberbrain doesn&#39;t matter. The moment I use a regex, the streaming stops working."}],"owner":{"account_id":1236305,"reputation":521,"user_id":1199832,"accept_rate":50,"display_name":"Halley"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1683567776,"creation_date":1683309047,"question_id":76184776,"body_markdown":"I am trying to read a very large flat file of around 1 GB using Camel. The records are separated by a set of strings, and I am trying the below route. \r\n```\r\nfrom(incomingFilePath+&quot;?delete=true&quot;)\r\n                .split()\r\n                .tokenize(&quot;ENDRECORD&quot;)\r\n                .streaming()\r\n                .bean(bean, &quot;method&quot;)\r\n                .bean(bean,&quot;method&quot;)\r\n                .end();\r\n```\r\n\r\nThe streaming works in the above case. But when I try to tokenize using a regex, my streaming fails and I am getting an Out of Memory Exception. \r\n\r\n```\r\nfrom(incomingFilePath+&quot;?delete=true&quot;)\r\n                .split()\r\n                .tokenize(&quot;\\\\|END(\\\\r\\\\n|\\\\r|\\\\n)&quot;, true)\r\n                .streaming()\r\n                .bean(bean, &quot;method&quot;)\r\n                .bean(bean,&quot;method&quot;)\r\n                .end();\r\n```\r\n\r\n```java.lang.OutOfMemoryError: Java heap space```\r\n\r\nSome references: \r\n\r\n - https://stackoverflow.com/questions/8122748/best-strategy-for-processing-large-csv-files-in-apache-camel\r\n - https://stackoverflow.com/questions/51419529/apache-camel-out-of-memory-exception\r\n\r\n\r\n","title":"Split and tokenize a large file with regex using Apache Camel","body":"<p>I am trying to read a very large flat file of around 1 GB using Camel. The records are separated by a set of strings, and I am trying the below route.</p>\n<pre><code>from(incomingFilePath+&quot;?delete=true&quot;)\n                .split()\n                .tokenize(&quot;ENDRECORD&quot;)\n                .streaming()\n                .bean(bean, &quot;method&quot;)\n                .bean(bean,&quot;method&quot;)\n                .end();\n</code></pre>\n<p>The streaming works in the above case. But when I try to tokenize using a regex, my streaming fails and I am getting an Out of Memory Exception.</p>\n<pre><code>from(incomingFilePath+&quot;?delete=true&quot;)\n                .split()\n                .tokenize(&quot;\\\\|END(\\\\r\\\\n|\\\\r|\\\\n)&quot;, true)\n                .streaming()\n                .bean(bean, &quot;method&quot;)\n                .bean(bean,&quot;method&quot;)\n                .end();\n</code></pre>\n<p><code>java.lang.OutOfMemoryError: Java heap space</code></p>\n<p>Some references:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/8122748/best-strategy-for-processing-large-csv-files-in-apache-camel\">Best strategy for processing large CSV files in Apache Camel</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51419529/apache-camel-out-of-memory-exception\">Apache Camel out of memory exception</a></li>\n</ul>\n"},{"tags":["java","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":1716961,"reputation":9711,"user_id":1573835,"accept_rate":49,"display_name":"Zaw Than oo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348140511,"creation_date":1348140511,"answer_id":12511675,"question_id":12502498,"body_markdown":"Reference : [Spring AOP][1], Check your `@Pointcut` configuration.\r\n\r\n\r\n  [1]: http://veerasundar.com/blog/2010/01/spring-aop-example-profiling-method-execution-time-tutorial/","title":"nested exception is java.lang.IllegalArgumentException: error at ::0 can&#39;t find referenced pointcut","body":"<p>Reference : <a href=\"http://veerasundar.com/blog/2010/01/spring-aop-example-profiling-method-execution-time-tutorial/\" rel=\"nofollow\">Spring AOP</a>, Check your <code>@Pointcut</code> configuration.</p>\n"},{"tags":[],"owner":{"account_id":2150178,"reputation":101,"user_id":1906790,"display_name":"kamal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1355945658,"creation_date":1355945658,"answer_id":13959799,"question_id":12502498,"body_markdown":"Yes, it can be because of old jars. As i assume your using spring 3.x jars and confiduration . Try using latest jar&#39;s\r\n\r\nI had a similar issue few day back , **org.springframework.beans.factory.BeanCreationException: Error creating bean**\r\n\r\nIn my case it was an issue of old jars [My issue][1]\r\n\r\ncan you try to run your app using latest jars:\r\n\r\n    aopalliance-1.0.jar\r\n    asm-3.3.1.jar\r\n    aspectj-1.7.1.jar\r\n    aspectjrt-1.7.0.jar\r\n    aspectjweaver-1.7.0.jar\r\n    cglib-2.2.2.jar\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13895963/aspectj-based-aop-with-spring-3-1","title":"nested exception is java.lang.IllegalArgumentException: error at ::0 can&#39;t find referenced pointcut","body":"<p>Yes, it can be because of old jars. As i assume your using spring 3.x jars and confiduration . Try using latest jar's</p>\n\n<p>I had a similar issue few day back , <strong>org.springframework.beans.factory.BeanCreationException: Error creating bean</strong></p>\n\n<p>In my case it was an issue of old jars <a href=\"https://stackoverflow.com/questions/13895963/aspectj-based-aop-with-spring-3-1\">My issue</a></p>\n\n<p>can you try to run your app using latest jars:</p>\n\n<pre><code>aopalliance-1.0.jar\nasm-3.3.1.jar\naspectj-1.7.1.jar\naspectjrt-1.7.0.jar\naspectjweaver-1.7.0.jar\ncglib-2.2.2.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3593277,"reputation":1,"user_id":2998748,"display_name":"ExRajeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447318212,"creation_date":1384584013,"answer_id":20015582,"question_id":12502498,"body_markdown":"Adding Dependencies for 1.7 jars had solved the problem for me.\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"nested exception is java.lang.IllegalArgumentException: error at ::0 can&#39;t find referenced pointcut","body":"<p>Adding Dependencies for 1.7 jars had solved the problem for me.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n        &lt;version&gt;1.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n        &lt;version&gt;1.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1859218,"reputation":273,"user_id":1684161,"accept_rate":15,"display_name":"migAlex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6719,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1683567665,"creation_date":1348086948,"question_id":12502498,"body_markdown":"I&#39;m new with AOP. Reading the book &quot;Spring in Action&quot;. There is the chapter with AOP and the example. I have made it with XML and all works good. There is the example of annotated configuration of Aspects. I have made one in one like in the book, but it doesn&#39;t work. Please, help.\r\n\r\n**Error:**\r\n\t\t\r\n        Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanCreationException: \r\n\t\tError creating bean with name &#39;guitar&#39; defined in class path resource [springIdolBeansAnnotation.xml]: \r\n\t\tInitialization of bean failed; nested exception is java.lang.IllegalArgumentException: error at ::0 c\r\n\t\tan&#39;t find referenced pointcut performance\r\n       \r\nFile with beans named springIdolBeansAnnotation.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    http://www.springframework.org/schema/aop\r\n    http://www.springframework.org/schema/aop/spring-aop-3.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;bean id=&quot;guitar&quot; class=&quot;com.springinaction.springidol.Guitar&quot;/&gt;\r\n    \t&lt;aop:aspectj-autoproxy/&gt;\r\n    \t&lt;bean id=&quot;kenny2&quot; class=&quot;com.springinaction.springidol.Instrumentalist&quot;&gt;\r\n    \t\t&lt;property name=&quot;song&quot; value=&quot;Jingle B&quot;/&gt;\r\n    \t\t&lt;property name=&quot;instrument&quot; ref=&quot;guitar&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;audience&quot; class=&quot;com.springinaction.springidol.Audience&quot;/&gt;\r\n    &lt;/beans&gt;\r\n\r\n**File Guitar:**\r\n\r\n    package com.springinaction.springidol;\r\n    \r\n    public class Guitar implements Instrument {\r\n    \r\n    \t@Override\r\n    \tpublic void play() {\r\n    \t\tSystem.out.println(&quot;Guitar playing&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**file Instrumentalist:**\r\n\r\n    package com.springinaction.springidol;\r\n    \r\n    public class Instrumentalist implements Performer {\r\n    \r\n    \tprivate String song;\r\n    \t\r\n    \tprivate Instrument instrument;\r\n    \t\r\n    \tpublic Instrumentalist(){}\r\n    \t\r\n    \t@Override\r\n    \tpublic void perform() throws Exception {\r\n    \t\tSystem.out.println(&quot;Playing &quot;+song + &quot; : &quot;);\r\n    \t\tinstrument.play();\r\n    \t}\r\n    \r\n    \tpublic String getSong() {\r\n    \t\treturn song;\r\n    \t}\r\n    \r\n    \tpublic void setSong(String song) {\r\n    \t\tthis.song = song;\r\n    \t}\r\n    \r\n    \tpublic String screamSong(){\r\n    \t\treturn song;\r\n    \t}\r\n    \r\n    \tpublic void setInstrument(Instrument instrument) {\r\n    \t\tthis.instrument = instrument;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nfile Audience(Aspect):\r\n\r\n    package com.springinaction.springidol;\r\n    \r\n    import org.aspectj.lang.ProceedingJoinPoint;\r\n    import org.aspectj.lang.annotation.AfterReturning;\r\n    import org.aspectj.lang.annotation.AfterThrowing;\r\n    import org.aspectj.lang.annotation.Around;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.aspectj.lang.annotation.Before;\r\n    import org.aspectj.lang.annotation.Pointcut;\r\n    \r\n    @Aspect\r\n    public class Audience {\r\n    \t@Pointcut(&quot;execution(* com.springinaction.springidol.Performer.perform(..))&quot;)\r\n    \tpublic void performance(){}\r\n    \t\r\n    \t@Before(&quot;performance()&quot;)\r\n    \tpublic void takeSeats(){\r\n    \t\tSystem.out.println(&quot;The audience is takig their seats&quot;);\r\n    \t}\r\n    \t\r\n    \t@Before(&quot;performance()&quot;)\r\n    \tpublic void turnOffCellPhones(){\r\n    \t\tSystem.out.println(&quot;The audience is turning off their cellphones&quot;);\r\n    \t}\r\n    \t\r\n    \t@AfterReturning(&quot;performance()&quot;)\r\n    \tpublic void applaud(){\r\n    \t\tSystem.out.println(&quot;CLAP CLAP CLAP CLAP CLAP&quot;);\r\n    \t}\r\n    \t\r\n    \t@AfterThrowing(&quot;performance()&quot;)\r\n    \tpublic void demandRefund(){\r\n    \t\tSystem.out.println(&quot;Boo! We want our money back&quot;);\r\n    \t}\r\n    \t\r\n    \t@Around(&quot;performance()&quot;)\r\n    \tpublic void watchPerformance(ProceedingJoinPoint joinpoint){\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;Theaudienceistakingtheirseats.&quot;);\r\n    \t\t\tSystem.out.println(&quot;Theaudienceisturningofftheircellphones&quot;);\r\n    \t\t\tlong start=System.currentTimeMillis();\r\n    \t\t\tjoinpoint.proceed();\r\n    \t\t\tlong end=System.currentTimeMillis();\r\n    \t\t\tSystem.out.println(&quot;CLAP CLAP CLAP CLAP CLAP&quot;);\r\n    \t\t\tSystem.out.println(&quot;Theperformancetook&quot;+(end-start)\r\n    \t\t\t+ &quot;milliseconds.&quot;);\r\n    \t\t} catch(Throwable t){\r\n    \t\t\tSystem.out.println(&quot;Boo!Wewantourmoneyback!&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Main file:**\r\n\r\n    package com.springinaction.springidol;\r\n    \r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n    \r\n    public class SpringIdolMain {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;springIdolBeansAnnotation.xml&quot;);\r\n    \t\tPerformer performer = (Performer) ctx.getBean(&quot;kenny2&quot;);\r\n    \t\ttry {\r\n    \t\t\tperformer.perform();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"nested exception is java.lang.IllegalArgumentException: error at ::0 can&#39;t find referenced pointcut","body":"<p>I'm new with AOP. Reading the book \"Spring in Action\". There is the chapter with AOP and the example. I have made it with XML and all works good. There is the example of annotated configuration of Aspects. I have made one in one like in the book, but it doesn't work. Please, help.</p>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>    Exception in thread \"main\" org.springframework.beans.factory.BeanCreationException: \n    Error creating bean with name 'guitar' defined in class path resource [springIdolBeansAnnotation.xml]: \n    Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: error at ::0 c\n    an't find referenced pointcut performance\n</code></pre>\n\n<p>File with beans named springIdolBeansAnnotation.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns:aop=\"http://www.springframework.org/schema/aop\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\nhttp://www.springframework.org/schema/aop\nhttp://www.springframework.org/schema/aop/spring-aop-3.0.xsd\"&gt;\n\n    &lt;bean id=\"guitar\" class=\"com.springinaction.springidol.Guitar\"/&gt;\n    &lt;aop:aspectj-autoproxy/&gt;\n    &lt;bean id=\"kenny2\" class=\"com.springinaction.springidol.Instrumentalist\"&gt;\n        &lt;property name=\"song\" value=\"Jingle B\"/&gt;\n        &lt;property name=\"instrument\" ref=\"guitar\"/&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"audience\" class=\"com.springinaction.springidol.Audience\"/&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p><strong>File Guitar:</strong></p>\n\n<pre><code>package com.springinaction.springidol;\n\npublic class Guitar implements Instrument {\n\n    @Override\n    public void play() {\n        System.out.println(\"Guitar playing\");\n    }\n\n}\n</code></pre>\n\n<p><strong>file Instrumentalist:</strong></p>\n\n<pre><code>package com.springinaction.springidol;\n\npublic class Instrumentalist implements Performer {\n\n    private String song;\n\n    private Instrument instrument;\n\n    public Instrumentalist(){}\n\n    @Override\n    public void perform() throws Exception {\n        System.out.println(\"Playing \"+song + \" : \");\n        instrument.play();\n    }\n\n    public String getSong() {\n        return song;\n    }\n\n    public void setSong(String song) {\n        this.song = song;\n    }\n\n    public String screamSong(){\n        return song;\n    }\n\n    public void setInstrument(Instrument instrument) {\n        this.instrument = instrument;\n    }\n\n}\n</code></pre>\n\n<p>file Audience(Aspect):</p>\n\n<pre><code>package com.springinaction.springidol;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.AfterReturning;\nimport org.aspectj.lang.annotation.AfterThrowing;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.aspectj.lang.annotation.Pointcut;\n\n@Aspect\npublic class Audience {\n    @Pointcut(\"execution(* com.springinaction.springidol.Performer.perform(..))\")\n    public void performance(){}\n\n    @Before(\"performance()\")\n    public void takeSeats(){\n        System.out.println(\"The audience is takig their seats\");\n    }\n\n    @Before(\"performance()\")\n    public void turnOffCellPhones(){\n        System.out.println(\"The audience is turning off their cellphones\");\n    }\n\n    @AfterReturning(\"performance()\")\n    public void applaud(){\n        System.out.println(\"CLAP CLAP CLAP CLAP CLAP\");\n    }\n\n    @AfterThrowing(\"performance()\")\n    public void demandRefund(){\n        System.out.println(\"Boo! We want our money back\");\n    }\n\n    @Around(\"performance()\")\n    public void watchPerformance(ProceedingJoinPoint joinpoint){\n        try {\n            System.out.println(\"Theaudienceistakingtheirseats.\");\n            System.out.println(\"Theaudienceisturningofftheircellphones\");\n            long start=System.currentTimeMillis();\n            joinpoint.proceed();\n            long end=System.currentTimeMillis();\n            System.out.println(\"CLAP CLAP CLAP CLAP CLAP\");\n            System.out.println(\"Theperformancetook\"+(end-start)\n            + \"milliseconds.\");\n        } catch(Throwable t){\n            System.out.println(\"Boo!Wewantourmoneyback!\");\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Main file:</strong></p>\n\n<pre><code>package com.springinaction.springidol;\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class SpringIdolMain {\n\n    public static void main(String[] args) {\n        ApplicationContext ctx = new ClassPathXmlApplicationContext(\"springIdolBeansAnnotation.xml\");\n        Performer performer = (Performer) ctx.getBean(\"kenny2\");\n        try {\n            performer.perform();\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","formatting","bigdecimal","number-formatting"],"answers":[{"tags":[],"owner":{"account_id":2963,"reputation":5270,"user_id":4206,"accept_rate":75,"display_name":"Luca Molteni"},"down_vote_count":0,"up_vote_count":167,"is_accepted":true,"score":167,"last_activity_date":1564461873,"creation_date":1280833288,"answer_id":3395845,"question_id":3395825,"body_markdown":"    public static String currencyFormat(BigDecimal n) {\r\n        return NumberFormat.getCurrencyInstance().format(n);\r\n    }\r\n\r\nIt will use your JVM’s current default [`Locale`][1] to choose your currency symbol. Or you can specify a `Locale`.\r\n\r\n    NumberFormat.getInstance(Locale.US)\r\n\r\nFor more info, see [`NumberFormat`][2] class.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Locale.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/NumberFormat.html","title":"How to print formatted BigDecimal values?","body":"<pre><code>public static String currencyFormat(BigDecimal n) {\n    return NumberFormat.getCurrencyInstance().format(n);\n}\n</code></pre>\n\n<p>It will use your JVM’s current default <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Locale.html\" rel=\"noreferrer\"><code>Locale</code></a> to choose your currency symbol. Or you can specify a <code>Locale</code>.</p>\n\n<pre><code>NumberFormat.getInstance(Locale.US)\n</code></pre>\n\n<p>For more info, see <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/NumberFormat.html\" rel=\"noreferrer\"><code>NumberFormat</code></a> class.</p>\n"},{"tags":[],"owner":{"account_id":84539,"reputation":9538,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1388026301,"creation_date":1324414939,"answer_id":8581941,"question_id":3395825,"body_markdown":"Another way which could make sense for the given situation is\r\n\r\n    BigDecimal newBD = oldBD.setScale(2);\r\n\r\nI just say this because *in some cases* when it comes to money going beyond 2 decimal places does not make sense.  Taking this a step further, this could lead to\r\n\r\n    String displayString = oldBD.setScale(2).toPlainString();\r\n\r\nbut I merely wanted to highlight the setScale method (which can also take a second rounding mode argument to control how that last decimal place is handled.  In some situations, Java forces you to specify this rounding method).","title":"How to print formatted BigDecimal values?","body":"<p>Another way which could make sense for the given situation is</p>\n\n<pre><code>BigDecimal newBD = oldBD.setScale(2);\n</code></pre>\n\n<p>I just say this because <em>in some cases</em> when it comes to money going beyond 2 decimal places does not make sense.  Taking this a step further, this could lead to</p>\n\n<pre><code>String displayString = oldBD.setScale(2).toPlainString();\n</code></pre>\n\n<p>but I merely wanted to highlight the setScale method (which can also take a second rounding mode argument to control how that last decimal place is handled.  In some situations, Java forces you to specify this rounding method).</p>\n"},{"tags":[],"owner":{"account_id":364237,"reputation":2712,"user_id":708510,"accept_rate":0,"display_name":"Jeff_Alieffson"},"down_vote_count":0,"up_vote_count":96,"is_accepted":false,"score":96,"last_activity_date":1641575365,"creation_date":1437457500,"answer_id":31531227,"question_id":3395825,"body_markdown":"To set thousand separator, say `123,456.78` you have to use [DecimalFormat](https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html):\r\n\r\n    DecimalFormat df = new DecimalFormat(&quot;#,###.00&quot;);\r\n    System.out.println(df.format(new BigDecimal(123456.75)));\r\n    System.out.println(df.format(new BigDecimal(123456.00)));\r\n    System.out.println(df.format(new BigDecimal(123456123456.78)));\r\n\r\nHere is the result:\r\n\r\n    123,456.75\r\n    123,456.00\r\n    123,456,123,456.78\r\nAlthough I set `#,###.00` mask, it successfully formats the longer values too.\r\nNote that the comma(,) separator in result depends on your locale. It may be just space( ) for Russian locale.","title":"How to print formatted BigDecimal values?","body":"<p>To set thousand separator, say <code>123,456.78</code> you have to use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"noreferrer\">DecimalFormat</a>:</p>\n<pre><code>DecimalFormat df = new DecimalFormat(&quot;#,###.00&quot;);\nSystem.out.println(df.format(new BigDecimal(123456.75)));\nSystem.out.println(df.format(new BigDecimal(123456.00)));\nSystem.out.println(df.format(new BigDecimal(123456123456.78)));\n</code></pre>\n<p>Here is the result:</p>\n<pre><code>123,456.75\n123,456.00\n123,456,123,456.78\n</code></pre>\n<p>Although I set <code>#,###.00</code> mask, it successfully formats the longer values too.\nNote that the comma(,) separator in result depends on your locale. It may be just space( ) for Russian locale.</p>\n"},{"tags":[],"owner":{"account_id":1559832,"reputation":8600,"user_id":1449982,"accept_rate":67,"display_name":"Dima"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683567662,"creation_date":1466923871,"answer_id":38035936,"question_id":3395825,"body_markdown":"    BigDecimal(&quot;19.0001&quot;).setScale(2, BigDecimal.RoundingMode.DOWN)","title":"How to print formatted BigDecimal values?","body":"<pre><code>BigDecimal(&quot;19.0001&quot;).setScale(2, BigDecimal.RoundingMode.DOWN)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10624046,"reputation":333,"user_id":7824218,"display_name":"Fluch"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1505879183,"creation_date":1505879183,"answer_id":46312954,"question_id":3395825,"body_markdown":"   \r\n\r\n     BigDecimal pi = new BigDecimal(3.14);\r\n     BigDecimal pi4 = new BigDecimal(12.56);\r\n\r\n     System.out.printf(&quot;%.2f&quot;,pi);\r\n\r\n \r\n// prints 3.14\r\n\r\n    System.out.printf(&quot;%.0f&quot;,pi4);\r\n\r\n// prints 13\r\n","title":"How to print formatted BigDecimal values?","body":"<pre><code> BigDecimal pi = new BigDecimal(3.14);\n BigDecimal pi4 = new BigDecimal(12.56);\n\n System.out.printf(\"%.2f\",pi);\n</code></pre>\n\n<p>// prints 3.14</p>\n\n<pre><code>System.out.printf(\"%.0f\",pi4);\n</code></pre>\n\n<p>// prints 13</p>\n"},{"tags":[],"owner":{"account_id":1373030,"reputation":1153,"user_id":1307586,"display_name":"volkovs"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1557143686,"creation_date":1557143686,"answer_id":56004704,"question_id":3395825,"body_markdown":"Similar to answer by @Jeff_Alieffson, but not relying on default `Locale`:\r\n\r\nUse `DecimalFormatSymbols` for explicit locale:\r\n\r\n    DecimalFormatSymbols decimalFormatSymbols  = DecimalFormatSymbols.getInstance(new Locale(&quot;ru&quot;, &quot;RU&quot;));\r\n\r\nOr explicit separator symbols:\r\n\r\n    DecimalFormatSymbols decimalFormatSymbols = new DecimalFormatSymbols();\r\n    decimalFormatSymbols.setDecimalSeparator(&#39;.&#39;);\r\n    decimalFormatSymbols.setGroupingSeparator(&#39; &#39;);\r\n\r\nThen:\r\n\r\n    new DecimalFormat(&quot;#,##0.00&quot;, decimalFormatSymbols).format(new BigDecimal(&quot;12345&quot;));\r\n\r\nResult:\r\n\r\n    12 345.00","title":"How to print formatted BigDecimal values?","body":"<p>Similar to answer by @Jeff_Alieffson, but not relying on default <code>Locale</code>:</p>\n\n<p>Use <code>DecimalFormatSymbols</code> for explicit locale:</p>\n\n<pre><code>DecimalFormatSymbols decimalFormatSymbols  = DecimalFormatSymbols.getInstance(new Locale(\"ru\", \"RU\"));\n</code></pre>\n\n<p>Or explicit separator symbols:</p>\n\n<pre><code>DecimalFormatSymbols decimalFormatSymbols = new DecimalFormatSymbols();\ndecimalFormatSymbols.setDecimalSeparator('.');\ndecimalFormatSymbols.setGroupingSeparator(' ');\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>new DecimalFormat(\"#,##0.00\", decimalFormatSymbols).format(new BigDecimal(\"12345\"));\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>12 345.00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11827568,"reputation":165,"user_id":8655128,"display_name":"Nick Wilde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611763904,"creation_date":1611763904,"answer_id":65922999,"question_id":3395825,"body_markdown":"I know this question is very old, but I was making similar thing in my kotlin app recently. So here is an example if anyone needs it:\r\n\r\n```\r\nval dfs = DecimalFormatSymbols.getInstance(Locale.getDefault())\r\nval bigD = BigDecimal(&quot;1e+30&quot;)\r\nval formattedBigD = DecimalFormat(&quot;#,##0.#&quot;,dfs).format(bigD)\r\n```\r\nResult displaying $formattedBigD:\r\n```\r\n1,000,000,000,000,000,000,000,000,000,000\r\n```","title":"How to print formatted BigDecimal values?","body":"<p>I know this question is very old, but I was making similar thing in my kotlin app recently. So here is an example if anyone needs it:</p>\n<pre><code>val dfs = DecimalFormatSymbols.getInstance(Locale.getDefault())\nval bigD = BigDecimal(&quot;1e+30&quot;)\nval formattedBigD = DecimalFormat(&quot;#,##0.#&quot;,dfs).format(bigD)\n</code></pre>\n<p>Result displaying $formattedBigD:</p>\n<pre><code>1,000,000,000,000,000,000,000,000,000,000\n</code></pre>\n"}],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277674,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"accepted_answer_id":3395845,"answer_count":7,"score":137,"last_activity_date":1683567662,"creation_date":1280833048,"question_id":3395825,"body_markdown":"I have a `BigDecimal` field `amount` which represents money, and I need to print its value in the browser in a format like `$123.00`, `$15.50`, `$0.33`.\r\n\r\nHow can I do that?\r\n\r\n(The only simple solution which I see myself is getting `floatValue` from `BigDecimal` and then using `NumberFormat` to make two-digit precision for the fraction part).","title":"How to print formatted BigDecimal values?","body":"<p>I have a <code>BigDecimal</code> field <code>amount</code> which represents money, and I need to print its value in the browser in a format like <code>$123.00</code>, <code>$15.50</code>, <code>$0.33</code>.</p>\n\n<p>How can I do that?</p>\n\n<p>(The only simple solution which I see myself is getting <code>floatValue</code> from <code>BigDecimal</code> and then using <code>NumberFormat</code> to make two-digit precision for the fraction part).</p>\n"},{"tags":["java","jpa","tomcat","jersey"],"owner":{"account_id":2089079,"reputation":449,"user_id":1859305,"display_name":"braunpet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683567156,"creation_date":1683567156,"question_id":76202945,"body_markdown":"I implemented a Java Web service with Jersey that should run in an embedded Tomcat. After I added JPA (Hibernate), I had a problem that the `@Entity` classes were not found (IllegalArgumentException &quot;Not an entity&quot;). The exception is thrown in class `JpaMetamodelImpl` method `entity(Class&lt;X&gt; cls)`. \r\n\r\nDebugging this method has shown that Hibernate knows about the entity class and uses a class loader of type `AppClassLoader`. The Web app also knows the entity class but uses a class loader of type `ParallelWebAppClassLoader`. This class loader knows the `AppClassLoader` as a parent but `delegate` is set to `false`. Therefore, the entity class exists twice, and both classes are not considered equal. \r\n\r\nSome version information: Java 11, Jersey 2.37, JPA 3.1, Hibernate 6.2.0, Tomcat 8.5.88\r\n\r\nWhen starting Jersey (in my class that extends `ResourceConfig`) I added the following two lines:\r\n\r\n```\r\nParallelWebappClassLoader classloader = (ParallelWebappClassLoader) this.getClass().getClassLoader();\r\nclassloader.setDelegate( true );\r\n```\r\n\r\nNow it works. My question is: Is there any better solution to this problem?","title":"Problem with Java classloaders in Tomcat (embedded) when using JPA","body":"<p>I implemented a Java Web service with Jersey that should run in an embedded Tomcat. After I added JPA (Hibernate), I had a problem that the <code>@Entity</code> classes were not found (IllegalArgumentException &quot;Not an entity&quot;). The exception is thrown in class <code>JpaMetamodelImpl</code> method <code>entity(Class&lt;X&gt; cls)</code>.</p>\n<p>Debugging this method has shown that Hibernate knows about the entity class and uses a class loader of type <code>AppClassLoader</code>. The Web app also knows the entity class but uses a class loader of type <code>ParallelWebAppClassLoader</code>. This class loader knows the <code>AppClassLoader</code> as a parent but <code>delegate</code> is set to <code>false</code>. Therefore, the entity class exists twice, and both classes are not considered equal.</p>\n<p>Some version information: Java 11, Jersey 2.37, JPA 3.1, Hibernate 6.2.0, Tomcat 8.5.88</p>\n<p>When starting Jersey (in my class that extends <code>ResourceConfig</code>) I added the following two lines:</p>\n<pre><code>ParallelWebappClassLoader classloader = (ParallelWebappClassLoader) this.getClass().getClassLoader();\nclassloader.setDelegate( true );\n</code></pre>\n<p>Now it works. My question is: Is there any better solution to this problem?</p>\n"},{"tags":["java","http","jax-rs","http-status-code-404","specifications"],"answers":[{"tags":[],"owner":{"account_id":15219472,"reputation":1287,"user_id":10981777,"display_name":"G. Putnam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683566289,"creation_date":1683566289,"answer_id":76202849,"question_id":76177409,"body_markdown":"Since you&#39;re effectively asking about the developers logic in this decision, the best I can do is quote them:\r\n\r\nFrom [this cached copy of RESTfu&#173;&#173;l Jav&#173;a&#173; wit&#173;h &#173;JAX&#173;-&#173;&#173;RS 2.&#173;0&#173; (Second Edition)](http://webcache.googleusercontent.com/search?q=cache:8fpOYwSk9f8J:https://dennis-xlc.gitbooks.io/restful-java-with-jax-rs-2-0-2rd-edition/content/en/part1/chapter7/exception_handling.html&amp;hl=en&amp;gl=us&amp;strip=1&amp;vwsrc=0)\r\n\r\n[Full PDF of RESTfu&#173;&#173;l Jav&#173;a&#173; wit&#173;h &#173;JAX&#173;-&#173;&#173;RS 2.&#173;0&#173;](https://raw.githubusercontent.com/AngelSanchezT/books-1/master/rest/RESTful%20Java%20with%20JAX-RS%202.0%2C%202nd%20Edition.pdf) can also be found here.\r\n\r\n&quot;NotFoundException is used when you want to tell the client that the resource it is requesting does not exist. There are also some error conditions where the JAX-RS runtime will throw this exception automatically. If the JAX-RS runtime fails to inject into an @PathParam, @QueryParam, or @MatrixParam, it will throw this exception. Like in the conditions discussed for BadRequestException, this can happen if you are trying to convert to a type the parameter value isn’t meant for.&quot;\r\n\r\nLater on in Chapter 7, there&#39;s some further description of the logic:\r\n\r\n&quot;if a client mistypes the request URI, for example, to customers, it will result in the server not finding a JAX-RS resource method that can service the request. In this case, a 404, “Not Found,” response code will be sent back to the client.&quot;\r\n\r\nEffectively, they&#39;re saying that if the error involves any of the URI related fields, then it counts as a 404, because JAVA will not even be able to create the correct URI, and effectively not be able to find a page.  Whereas, if it involves the @HeaderParam or @CookieParam then its just a poorly formed request, where the URI was found, but the Header or Cookie cannot be handled properly.","title":"Is there any valid reason why JAX RS 3.0 suggests to throw a 404 in an obvious case of bad request?","body":"<p>Since you're effectively asking about the developers logic in this decision, the best I can do is quote them:</p>\n<p>From <a href=\"http://webcache.googleusercontent.com/search?q=cache:8fpOYwSk9f8J:https://dennis-xlc.gitbooks.io/restful-java-with-jax-rs-2-0-2rd-edition/content/en/part1/chapter7/exception_handling.html&amp;hl=en&amp;gl=us&amp;strip=1&amp;vwsrc=0\" rel=\"nofollow noreferrer\">this cached copy of RESTfu­­l Jav­a­ wit­h ­JAX­-­­RS 2.­0­ (Second Edition)</a></p>\n<p><a href=\"https://raw.githubusercontent.com/AngelSanchezT/books-1/master/rest/RESTful%20Java%20with%20JAX-RS%202.0%2C%202nd%20Edition.pdf\" rel=\"nofollow noreferrer\">Full PDF of RESTfu­­l Jav­a­ wit­h ­JAX­-­­RS 2.­0­</a> can also be found here.</p>\n<p>&quot;NotFoundException is used when you want to tell the client that the resource it is requesting does not exist. There are also some error conditions where the JAX-RS runtime will throw this exception automatically. If the JAX-RS runtime fails to inject into an @PathParam, @QueryParam, or @MatrixParam, it will throw this exception. Like in the conditions discussed for BadRequestException, this can happen if you are trying to convert to a type the parameter value isn’t meant for.&quot;</p>\n<p>Later on in Chapter 7, there's some further description of the logic:</p>\n<p>&quot;if a client mistypes the request URI, for example, to customers, it will result in the server not finding a JAX-RS resource method that can service the request. In this case, a 404, “Not Found,” response code will be sent back to the client.&quot;</p>\n<p>Effectively, they're saying that if the error involves any of the URI related fields, then it counts as a 404, because JAVA will not even be able to create the correct URI, and effectively not be able to find a page.  Whereas, if it involves the @HeaderParam or @CookieParam then its just a poorly formed request, where the URI was found, but the Header or Cookie cannot be handled properly.</p>\n"}],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76202849,"answer_count":1,"score":0,"last_activity_date":1683566289,"creation_date":1683234963,"question_id":76177409,"body_markdown":"The [specification][1] specifies this\r\n\r\n&gt; A WebApplicationException thrown during construction of field or property values using any of the 5 steps listed above is processed directly as described in Exceptions. **Other exceptions thrown during construction of field or property values using any of the 5 steps listed above are treated as client errors: if the field or property is annotated with @MatrixParam, @QueryParam or @PathParam then an implementation MUST generate an instance of NotFoundException (404 status) that wraps the thrown exception and no entity**; if the field or property is annotated with @HeaderParam or @CookieParam then an implementation MUST generate an instance of BadRequestException (400 status) that wraps the thrown exception and no entity. Exceptions MUST be processed as described in Exceptions.\r\n\r\nThis is confusing, even for developers with years of experience. Receiving a 404 when a 400 is expected shouldn&#39;t be a valid behaviour for a server.\r\n\r\nWhy is the specification written in such way ?\r\n\r\nAnd why do they make a difference between url parameters and meta parameters ?\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/restful-ws/3.0/jakarta-restful-ws-spec-3.0.html#resource_field","title":"Is there any valid reason why JAX RS 3.0 suggests to throw a 404 in an obvious case of bad request?","body":"<p>The <a href=\"https://jakarta.ee/specifications/restful-ws/3.0/jakarta-restful-ws-spec-3.0.html#resource_field\" rel=\"nofollow noreferrer\">specification</a> specifies this</p>\n<blockquote>\n<p>A WebApplicationException thrown during construction of field or property values using any of the 5 steps listed above is processed directly as described in Exceptions. <strong>Other exceptions thrown during construction of field or property values using any of the 5 steps listed above are treated as client errors: if the field or property is annotated with @MatrixParam, @QueryParam or @PathParam then an implementation MUST generate an instance of NotFoundException (404 status) that wraps the thrown exception and no entity</strong>; if the field or property is annotated with @HeaderParam or @CookieParam then an implementation MUST generate an instance of BadRequestException (400 status) that wraps the thrown exception and no entity. Exceptions MUST be processed as described in Exceptions.</p>\n</blockquote>\n<p>This is confusing, even for developers with years of experience. Receiving a 404 when a 400 is expected shouldn't be a valid behaviour for a server.</p>\n<p>Why is the specification written in such way ?</p>\n<p>And why do they make a difference between url parameters and meta parameters ?</p>\n"},{"tags":["java","logging","netty","slf4j","logback"],"owner":{"account_id":1027813,"reputation":19711,"user_id":1036728,"accept_rate":53,"display_name":"antak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1454,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":0,"score":15,"last_activity_date":1683565704,"creation_date":1424675525,"question_id":28668560,"body_markdown":"What I want to do is in essence what  https://stackoverflow.com/questions/6073019/how-to-use-mdc-with-thread-pools is asking, but with Netty.\r\n\r\nI want MDC information associated per `Channel`.  What options are there for Netty?  If I need to reset MDC manually, what methods can I hook up to do this from one place?","title":"Using org.slf4j.MDC with Netty channels?","body":"<p>What I want to do is in essence what  <a href=\"https://stackoverflow.com/questions/6073019/how-to-use-mdc-with-thread-pools\">How to use MDC with thread pools?</a> is asking, but with Netty.</p>\n\n<p>I want MDC information associated per <code>Channel</code>.  What options are there for Netty?  If I need to reset MDC manually, what methods can I hook up to do this from one place?</p>\n"},{"tags":["java","thread-safety","jco"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1321030932,"post_id":8087023,"comment_id":9926717,"body_markdown":"The advice I&#39;ve seen is that if the documentatino for some code does not say it is thread-safe, you should assume it is not.","body":"The advice I&#39;ve seen is that if the documentatino for some code does not say it is thread-safe, you should assume it is not."}],"answers":[{"tags":[],"owner":{"account_id":439682,"reputation":94,"user_id":828785,"display_name":"openyourstackoverflow"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1321023601,"creation_date":1321023601,"answer_id":8095764,"question_id":8087023,"body_markdown":"Have you read the documentation of connector?\r\n\r\nhttps://websmp105.sap-ag.de/~sapidb/011000358700000730362009D/SAPJCo_Doku_3.0_EN.pdf\r\n\r\nI don&#39;t understand your question, you try to call a RFC and you have not achieved?\r\n\r\n","title":"Is SAP JCo thread safe?","body":"<p>Have you read the documentation of connector?</p>\n\n<p><a href=\"https://websmp105.sap-ag.de/~sapidb/011000358700000730362009D/SAPJCo_Doku_3.0_EN.pdf\" rel=\"nofollow\">https://websmp105.sap-ag.de/~sapidb/011000358700000730362009D/SAPJCo_Doku_3.0_EN.pdf</a></p>\n\n<p>I don't understand your question, you try to call a RFC and you have not achieved?</p>\n"},{"tags":[],"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1321025181,"creation_date":1321024359,"answer_id":8095960,"question_id":8087023,"body_markdown":"I think I have found it finally. http://help.sap.com/saphelp_nwpi711/helpdata/en/48/6437ccbdbc51eee10000000a421937/content.htm\r\n\r\n&gt; CAUTION\r\nIn a multi-thread environment, distribution of objects (for example, JCoTable objects) between different threads must be implemented carefully. Note that it is not possible to make multiple concurrent SAP calls for the same direct connection.\r\n\r\nSo its not thread safe","title":"Is SAP JCo thread safe?","body":"<p>I think I have found it finally. <a href=\"http://help.sap.com/saphelp_nwpi711/helpdata/en/48/6437ccbdbc51eee10000000a421937/content.htm\" rel=\"nofollow\">http://help.sap.com/saphelp_nwpi711/helpdata/en/48/6437ccbdbc51eee10000000a421937/content.htm</a></p>\n\n<blockquote>\n  <p>CAUTION\n  In a multi-thread environment, distribution of objects (for example, JCoTable objects) between different threads must be implemented carefully. Note that it is not possible to make multiple concurrent SAP calls for the same direct connection.</p>\n</blockquote>\n\n<p>So its not thread safe</p>\n"},{"tags":[],"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482743299,"creation_date":1482693381,"answer_id":41323848,"question_id":8087023,"body_markdown":"One cannot say for the whole JCo framework that it would be thread-safe or not.\r\nIt depends on the used classes and instances.\r\n\r\nData container instances in JCo like &lt;code&gt;JCoFunction&lt;/code&gt;, &lt;code&gt;JCoTable&lt;/code&gt;, &lt;code&gt;JCoStructure&lt;/code&gt; and &lt;code&gt;JCoRecord&lt;/code&gt;, are not thread-safe - luckily, because usually they are not accessed from different threads simultaneously, so not automatically synchronizing these instances leads to better performance.\r\n\r\nBut classes and static methods are thread-safe in JCo. You do not need to synchronize calls to the &lt;code&gt;JCoDestinationManager&lt;/code&gt;, for example.\r\n\r\nAnd with &lt;code&gt;JCoDestination&lt;/code&gt; it&#39;s a special case. Usually you don&#39;t need to synchronize your calls to this instance because it will internally create and use distinct RFC client connection objects for each session. In JCo&#39;s default implementation every thread is treated as separate session, so you cannot get into trouble with the thread-safety here. Only if the infrastructure environment registers its own &lt;code&gt;SessionReferenceProvider&lt;/code&gt; at the JCo runtime and would assign the same session ID to multiple threads at the same time, then there *might be* thread-safety conflicts for *stateful* RFC calls to the same destination. In this case JCo detects such an error situation and throws a &lt;code&gt;JCoException&lt;/code&gt; with error group &lt;code&gt;JCO_ERROR_CONCURRENT_CALL&lt;/code&gt;.","title":"Is SAP JCo thread safe?","body":"<p>One cannot say for the whole JCo framework that it would be thread-safe or not.\nIt depends on the used classes and instances.</p>\n\n<p>Data container instances in JCo like <code>JCoFunction</code>, <code>JCoTable</code>, <code>JCoStructure</code> and <code>JCoRecord</code>, are not thread-safe - luckily, because usually they are not accessed from different threads simultaneously, so not automatically synchronizing these instances leads to better performance.</p>\n\n<p>But classes and static methods are thread-safe in JCo. You do not need to synchronize calls to the <code>JCoDestinationManager</code>, for example.</p>\n\n<p>And with <code>JCoDestination</code> it's a special case. Usually you don't need to synchronize your calls to this instance because it will internally create and use distinct RFC client connection objects for each session. In JCo's default implementation every thread is treated as separate session, so you cannot get into trouble with the thread-safety here. Only if the infrastructure environment registers its own <code>SessionReferenceProvider</code> at the JCo runtime and would assign the same session ID to multiple threads at the same time, then there <em>might be</em> thread-safety conflicts for <em>stateful</em> RFC calls to the same destination. In this case JCo detects such an error situation and throws a <code>JCoException</code> with error group <code>JCO_ERROR_CONCURRENT_CALL</code>.</p>\n"}],"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2993,"favorite_count":0,"down_vote_count":3,"up_vote_count":8,"accepted_answer_id":8095960,"answer_count":3,"score":5,"last_activity_date":1683565285,"creation_date":1320962792,"question_id":8087023,"body_markdown":"I did not really manage to find proper documentation about this. There are the classes in JCO `com.sap.conn.jco.JCoDestination` and `com.sap.conn.jco.JCoDestinationManager`. My questions about them:\r\n\r\n- are they thread safe?\r\n- if not, are they expensive to create?\r\n","title":"Is SAP JCo thread safe?","body":"<p>I did not really manage to find proper documentation about this. There are the classes in JCO <code>com.sap.conn.jco.JCoDestination</code> and <code>com.sap.conn.jco.JCoDestinationManager</code>. My questions about them:</p>\n<ul>\n<li>are they thread safe?</li>\n<li>if not, are they expensive to create?</li>\n</ul>\n"},{"tags":["java","jco"],"answers":[{"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1323796031,"creation_date":1323796031,"answer_id":8493188,"question_id":8492893,"body_markdown":"Depending on which JCo version you use (you didn&#39;t state that), you need one or two platform-specific native libraries. They come bundled with the JCo package, along with some installation documentation. If you don&#39;t have this, you&#39;ve got an incomplete and probably illegal package (redistribution is not allowed). Go to http://service.sap.com/connectors and get the valid one.","title":"Connect SAP System","body":"<p>Depending on which JCo version you use (you didn't state that), you need one or two platform-specific native libraries. They come bundled with the JCo package, along with some installation documentation. If you don't have this, you've got an incomplete and probably illegal package (redistribution is not allowed). Go to <a href=\"http://service.sap.com/connectors\" rel=\"nofollow\">http://service.sap.com/connectors</a> and get the valid one.</p>\n"}],"owner":{"account_id":155226,"reputation":1791,"user_id":371730,"accept_rate":59,"display_name":"tt0686"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2825,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8493188,"answer_count":1,"score":1,"last_activity_date":1683565245,"creation_date":1323794856,"question_id":8492893,"body_markdown":"I am working in a Java EE project that integrates with SAP system, and I am trying to run a simple standalone Java class that calls a RFC. My snippet of code is \r\n\r\n    JCO.Client mConnection =\r\n        JCO.createClient(&quot;dummy&quot;, // SAP client\r\n    \t\t     &quot;dummy&quot;, // userid\r\n    \t\t     &quot;dummy&quot;, // password\r\n    \t             &quot;dummy&quot;, // language (null for the default language)\r\n    \t             &quot;dummy&quot;, // application server host name\r\n    \t             &quot;dummy&quot;); // system number\r\n\r\nIt throws the following exception\r\n&gt; JCO.classInitialize(): Could not load middleware layer &#39;com.sap.mw.jco.rfc.MiddlewareRFC&#39;\r\n&gt;\r\n&gt; JCO.nativeInit(): Could not initialize dynamic link library sapjcorfc\r\n\r\nThe only library that I have in this moment is `sapjco.jar`, I have seen in some forums that I need this two libraries (`librfc32.dll`, `sapjcorfc.dll`) to be able to run this code in an standalone application.\r\n\r\nIs that right? Where can I get these two libraries? The last one is to put in the same folder than the `sapjco.jar`, is that ok too?\r\n\r\nIf I cannot run this in my local computer I will have to deploy the application every time that I want to test it :(","title":"Connect SAP System","body":"<p>I am working in a Java EE project that integrates with SAP system, and I am trying to run a simple standalone Java class that calls a RFC. My snippet of code is</p>\n<pre><code>JCO.Client mConnection =\n    JCO.createClient(&quot;dummy&quot;, // SAP client\n             &quot;dummy&quot;, // userid\n             &quot;dummy&quot;, // password\n                 &quot;dummy&quot;, // language (null for the default language)\n                 &quot;dummy&quot;, // application server host name\n                 &quot;dummy&quot;); // system number\n</code></pre>\n<p>It throws the following exception</p>\n<blockquote>\n<p>JCO.classInitialize(): Could not load middleware layer 'com.sap.mw.jco.rfc.MiddlewareRFC'</p>\n<p>JCO.nativeInit(): Could not initialize dynamic link library sapjcorfc</p>\n</blockquote>\n<p>The only library that I have in this moment is <code>sapjco.jar</code>, I have seen in some forums that I need this two libraries (<code>librfc32.dll</code>, <code>sapjcorfc.dll</code>) to be able to run this code in an standalone application.</p>\n<p>Is that right? Where can I get these two libraries? The last one is to put in the same folder than the <code>sapjco.jar</code>, is that ok too?</p>\n<p>If I cannot run this in my local computer I will have to deploy the application every time that I want to test it :(</p>\n"},{"tags":["java","android","multithreading","android-activity"],"comments":[{"owner":{"display_name":"user8412632"},"score":0,"creation_date":1517393085,"post_id":37672261,"comment_id":84073828,"body_markdown":"did you find the solution, I am facing the same problem?","body":"did you find the solution, I am facing the same problem?"},{"owner":{"account_id":2008575,"reputation":1252,"user_id":2827591,"accept_rate":84,"display_name":"Achin"},"score":0,"creation_date":1517457364,"post_id":37672261,"comment_id":84106377,"body_markdown":"no , i didn&#39;t find any solution","body":"no , i didn&#39;t find any solution"},{"owner":{"display_name":"user8412632"},"score":0,"creation_date":1517460436,"post_id":37672261,"comment_id":84107111,"body_markdown":"ok let me know if you do and if i find one i will let you know","body":"ok let me know if you do and if i find one i will let you know"},{"owner":{"account_id":4500804,"reputation":2165,"user_id":3659361,"accept_rate":62,"display_name":"May Rest in Peace"},"score":2,"creation_date":1547164901,"post_id":37672261,"comment_id":95108748,"body_markdown":"I know it&#39;s extremely late but are you trying to refer context in onCreate or is any function called from onCreate trying to access Context ? In any case, can you please post your onCreate method ?","body":"I know it&#39;s extremely late but are you trying to refer context in onCreate or is any function called from onCreate trying to access Context ? In any case, can you please post your onCreate method ?"},{"owner":{"account_id":10702580,"reputation":3643,"user_id":7877391,"display_name":"c-an"},"score":0,"creation_date":1638030287,"post_id":37672261,"comment_id":123981065,"body_markdown":"please share your full code.","body":"please share your full code."}],"owner":{"account_id":2008575,"reputation":1252,"user_id":2827591,"accept_rate":84,"display_name":"Achin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4355,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":0,"score":14,"last_activity_date":1683565199,"creation_date":1465281860,"question_id":37672261,"body_markdown":"I have created an activity with sms fetching from an android DB. When I run my app on a Lenovo A7010a48 (Android version: 5.1) an error occurs.\r\nIt is working fine on other phones and operating systems.\r\n\r\n    **AccessibilityManager﹕ setStateLocked: wasEnabled = false, mIsEnabled = false, wasTouchExplorationEnabled = false, mIsTouchExplorationEnabled = false, wasHighTextContrastEnabled = false, mIsHighTextContrastEnabled = false\r\n        java.lang.Throwable: setStateLocked\r\n                at android.view.accessibility.AccessibilityManager.setStateLocked(AccessibilityManager.java:553)**\r\n\r\n\r\n     D/AccessibilityManager﹕ setStateLocked: wasEnabled = false, mIsEnabled = false, wasTouchExplorationEnabled = false, mIsTouchExplorationEnabled = false, wasHighTextContrastEnabled = false, mIsHighTextContrastEnabled = false\r\n        java.lang.Throwable: setStateLocked\r\n                at android.view.accessibility.AccessibilityManager.setStateLocked(AccessibilityManager.java:553)\r\n                at android.view.accessibility.AccessibilityManager.tryConnectToServiceLocked(AccessibilityManager.java:636)\r\n                at android.view.accessibility.AccessibilityManager.&lt;init&gt;(AccessibilityManager.java:226)\r\n                at android.view.accessibility.AccessibilityManager.getInstance(AccessibilityManager.java:206)\r\n                at android.view.View.setFlags(View.java:9874)\r\n                at android.view.View.&lt;init&gt;(View.java:4228)\r\n                at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:524)\r\n                at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:215)\r\n                at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:211)\r\n                at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:206)\r\n                at android.support.v7.widget.FitWindowsLinearLayout.&lt;init&gt;(FitWindowsLinearLayout.java:36)\r\n                at java.lang.reflect.Constructor.newInstance(Native Method)\r\n                at java.lang.reflect.Constructor.newInstance(Constructor.java:288)\r\n                at android.view.LayoutInflater.createView(LayoutInflater.java:607)\r\n                at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:743)\r\n                at android.view.LayoutInflater.inflate(LayoutInflater.java:482)\r\n                at android.view.LayoutInflater.inflate(LayoutInflater.java:414)\r\n                at android.view.LayoutInflater.inflate(LayoutInflater.java:365)\r\n                at android.support.v7.app.AppCompatDelegateImplV7.createSubDecor(AppCompatDelegateImplV7.java:413)\r\n                at android.support.v7.app.AppCompatDelegateImplV7.ensureSubDecor(AppCompatDelegateImplV7.java:309)\r\n                at android.support.v7.app.AppCompatDelegateImplV7.setContentView(AppCompatDelegateImplV7.java:273)\r\n                at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:136)\r\n                at competent.groove.swalok.MainActivity.onCreate(MainActivity.java:116)\r\n                at android.app.Activity.performCreate(Activity.java:6220)\r\n                at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1112)\r\n                at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2513)\r\n                at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2646)\r\n                at android.app.ActivityThread.access$800(ActivityThread.java:182)\r\n                at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1488)\r\n                at android.os.Handler.dispatchMessage(Handler.java:111)\r\n                at android.os.Looper.loop(Looper.java:194)\r\n                at android.app.ActivityThread.main(ActivityThread.java:5763)\r\n                at java.lang.reflect.Method.invoke(Native Method)\r\n                at java.lang.reflect.Method.invoke(Method.java:372)\r\n                at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:960)\r\n                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)","title":"Why does Android: java.lang.Throwable: setStateLocked error occur?","body":"<p>I have created an activity with sms fetching from an android DB. When I run my app on a Lenovo A7010a48 (Android version: 5.1) an error occurs.\nIt is working fine on other phones and operating systems.</p>\n\n<pre><code>**AccessibilityManager﹕ setStateLocked: wasEnabled = false, mIsEnabled = false, wasTouchExplorationEnabled = false, mIsTouchExplorationEnabled = false, wasHighTextContrastEnabled = false, mIsHighTextContrastEnabled = false\n    java.lang.Throwable: setStateLocked\n            at android.view.accessibility.AccessibilityManager.setStateLocked(AccessibilityManager.java:553)**\n\n\n D/AccessibilityManager﹕ setStateLocked: wasEnabled = false, mIsEnabled = false, wasTouchExplorationEnabled = false, mIsTouchExplorationEnabled = false, wasHighTextContrastEnabled = false, mIsHighTextContrastEnabled = false\n    java.lang.Throwable: setStateLocked\n            at android.view.accessibility.AccessibilityManager.setStateLocked(AccessibilityManager.java:553)\n            at android.view.accessibility.AccessibilityManager.tryConnectToServiceLocked(AccessibilityManager.java:636)\n            at android.view.accessibility.AccessibilityManager.&lt;init&gt;(AccessibilityManager.java:226)\n            at android.view.accessibility.AccessibilityManager.getInstance(AccessibilityManager.java:206)\n            at android.view.View.setFlags(View.java:9874)\n            at android.view.View.&lt;init&gt;(View.java:4228)\n            at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:524)\n            at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:215)\n            at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:211)\n            at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:206)\n            at android.support.v7.widget.FitWindowsLinearLayout.&lt;init&gt;(FitWindowsLinearLayout.java:36)\n            at java.lang.reflect.Constructor.newInstance(Native Method)\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:288)\n            at android.view.LayoutInflater.createView(LayoutInflater.java:607)\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:743)\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:482)\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:414)\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:365)\n            at android.support.v7.app.AppCompatDelegateImplV7.createSubDecor(AppCompatDelegateImplV7.java:413)\n            at android.support.v7.app.AppCompatDelegateImplV7.ensureSubDecor(AppCompatDelegateImplV7.java:309)\n            at android.support.v7.app.AppCompatDelegateImplV7.setContentView(AppCompatDelegateImplV7.java:273)\n            at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:136)\n            at competent.groove.swalok.MainActivity.onCreate(MainActivity.java:116)\n            at android.app.Activity.performCreate(Activity.java:6220)\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1112)\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2513)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2646)\n            at android.app.ActivityThread.access$800(ActivityThread.java:182)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1488)\n            at android.os.Handler.dispatchMessage(Handler.java:111)\n            at android.os.Looper.loop(Looper.java:194)\n            at android.app.ActivityThread.main(ActivityThread.java:5763)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:372)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:960)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n</code></pre>\n"},{"tags":["java","sapjco3"],"comments":[{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1366699565,"post_id":16157145,"comment_id":23097688,"body_markdown":"Could you please specify exactly which version of the JCo you&#39;re using? There are huge API differences between version 2 and 3, maybe that&#39;s why you&#39;re confused by various examples that don&#39;t work.","body":"Could you please specify exactly which version of the JCo you&#39;re using? There are huge API differences between version 2 and 3, maybe that&#39;s why you&#39;re confused by various examples that don&#39;t work."},{"owner":{"account_id":752393,"reputation":1064,"user_id":1068388,"accept_rate":69,"display_name":"Davidson"},"score":0,"creation_date":1366725719,"post_id":16157145,"comment_id":23112896,"body_markdown":"@vwegert, I&#39;m using JCo 3.  I presume that because I use the sapjco3.dll and sapjco3.jar.","body":"@vwegert, I&#39;m using JCo 3.  I presume that because I use the sapjco3.dll and sapjco3.jar."}],"answers":[{"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1366742875,"creation_date":1366742875,"answer_id":16176937,"question_id":16157145,"body_markdown":"Assuming that you want to iterate over the rows of the table, I&#39;d say you&#39;re using `JCoTable.getStructure()` out of place. As the name suggests, it takes the nth field of the  record that is currently selected and attempts to return it as a structure. This is of course only possible if that individual column is a structured column - if it is a single (atomic) field, then I&#39;d expect this conversion to fail with exactly the error message you&#39;re encountering.","title":"Getting error attempting to Iterate over a JCoTable using java.util.iterator","body":"<p>Assuming that you want to iterate over the rows of the table, I'd say you're using <code>JCoTable.getStructure()</code> out of place. As the name suggests, it takes the nth field of the  record that is currently selected and attempts to return it as a structure. This is of course only possible if that individual column is a structured column - if it is a single (atomic) field, then I'd expect this conversion to fail with exactly the error message you're encountering.</p>\n"}],"owner":{"account_id":752393,"reputation":1064,"user_id":1068388,"accept_rate":69,"display_name":"Davidson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":16176937,"answer_count":1,"score":0,"last_activity_date":1683565096,"creation_date":1366666566,"question_id":16157145,"body_markdown":"Am trying to implement some Java patterns (Facade, and Iterator) against JCo objects.  \r\n\r\nHere, I&#39;m trying to create an Iterator over the `JCoTable` much like I would any collection in Java.  Below is my class snippet. In `MyClass` I have an inner class that performs the iteration.\r\n\r\nI&#39;m using the `table.getStructure(...)` methods, but am missing something.  I&#39;ve seen some snippets where they&#39;re explicitly creating a structure using metadata, but honestly, the code is not present in those examples, and I struggle a little there, worrying that I&#39;m trading one complexity for another.\r\n\r\nMy goal is to simplify SAP BAPI calls and table handling for other Java programmers.  This is a refactoring exercise.  My return variables are incompatible in the Iterator.\r\n\r\nThank you in advance.  \r\n\r\nMy class:\r\n\r\n    class MyClass \r\n    ...\r\n    protected JCoTable table;\r\n    ...\r\n    \r\n    private class JCoTableIterator implements Iterator&lt;JCoRecord&gt; {\r\n    \r\n    \tpublic boolean hasNext() {\r\n    \t\treturn table.getRow() &lt; table.getNumRows();\r\n    \t}\r\n    \t@Override\r\n    \tpublic JCoRecord next() {\r\n    \t\treturn table.getStructure(table.getRow() + 1);\r\n    \t}\r\n    \t@Override\r\n    \tpublic void remove() {\r\n    \t\ttable.deleteRow();\r\n    \t}\r\n    }\r\n\r\nMy implementation:\r\n\r\n    Iterator&lt;JCoRecord&gt; it = table.iterator();\r\n    while(it.hasNext()) {\r\n    \tJCoRecord record = it.next(); &lt;&lt;&lt;&lt;&lt; *Exception\r\n    \tlogger.info(record.getString(&quot;WERKS&quot;));\r\n    \t... other field procesing ... \r\n    }  \r\n\r\nBut on the `JCoRecord record = it.next()` line I get the following error.\r\n\r\n&gt; ```\r\n&gt; com.sap.conn.jco.ConversionException: (122) JCO_ERROR_CONVERSION: Cannot convert \r\n&gt;                                 field VBELN of type CHAR to StructureRecord\r\n&gt;     at com.sap.conn.jco.rt.AbstractRecord.createConversionException(AbstractRecord.java:415)\r\n&gt;     at com.sap.conn.jco.rt.AbstractRecord.createConversionException(AbstractRecord.java:410)\r\n&gt;     at com.sap.conn.jco.rt.AbstractRecord.getStructure(AbstractRecord.java:2472)\t\r\n&gt; ```\r\n","title":"Getting error attempting to Iterate over a JCoTable using java.util.iterator","body":"<p>Am trying to implement some Java patterns (Facade, and Iterator) against JCo objects.</p>\n<p>Here, I'm trying to create an Iterator over the <code>JCoTable</code> much like I would any collection in Java.  Below is my class snippet. In <code>MyClass</code> I have an inner class that performs the iteration.</p>\n<p>I'm using the <code>table.getStructure(...)</code> methods, but am missing something.  I've seen some snippets where they're explicitly creating a structure using metadata, but honestly, the code is not present in those examples, and I struggle a little there, worrying that I'm trading one complexity for another.</p>\n<p>My goal is to simplify SAP BAPI calls and table handling for other Java programmers.  This is a refactoring exercise.  My return variables are incompatible in the Iterator.</p>\n<p>Thank you in advance.</p>\n<p>My class:</p>\n<pre><code>class MyClass \n...\nprotected JCoTable table;\n...\n\nprivate class JCoTableIterator implements Iterator&lt;JCoRecord&gt; {\n\n    public boolean hasNext() {\n        return table.getRow() &lt; table.getNumRows();\n    }\n    @Override\n    public JCoRecord next() {\n        return table.getStructure(table.getRow() + 1);\n    }\n    @Override\n    public void remove() {\n        table.deleteRow();\n    }\n}\n</code></pre>\n<p>My implementation:</p>\n<pre><code>Iterator&lt;JCoRecord&gt; it = table.iterator();\nwhile(it.hasNext()) {\n    JCoRecord record = it.next(); &lt;&lt;&lt;&lt;&lt; *Exception\n    logger.info(record.getString(&quot;WERKS&quot;));\n    ... other field procesing ... \n}  \n</code></pre>\n<p>But on the <code>JCoRecord record = it.next()</code> line I get the following error.</p>\n<blockquote>\n<pre><code>com.sap.conn.jco.ConversionException: (122) JCO_ERROR_CONVERSION: Cannot convert \n                                field VBELN of type CHAR to StructureRecord\n    at com.sap.conn.jco.rt.AbstractRecord.createConversionException(AbstractRecord.java:415)\n    at com.sap.conn.jco.rt.AbstractRecord.createConversionException(AbstractRecord.java:410)\n    at com.sap.conn.jco.rt.AbstractRecord.getStructure(AbstractRecord.java:2472)  \n</code></pre>\n</blockquote>\n"},{"tags":["java","android","string","split"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683562554,"post_id":76202279,"comment_id":134382068,"body_markdown":"Something like `List&lt;String&gt; urlEnds = links.stream().map(link -&gt;link.replaceAll(&quot;.*/([^/ ]+)&quot;, &quot;$1&quot;)).collect(Collectors.toList());`","body":"Something like <code>List&lt;String&gt; urlEnds = links.stream().map(link -&gt;link.replaceAll(&quot;.*&#47;([^&#47; ]+)&quot;, &quot;$1&quot;)).collect(Collectors.toList());</code>"},{"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"score":0,"creation_date":1683562926,"post_id":76202279,"comment_id":134382167,"body_markdown":"It doesn&#39;t work, it only returns the last letter of the code.","body":"It doesn&#39;t work, it only returns the last letter of the code."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683563431,"post_id":76202279,"comment_id":134382280,"body_markdown":"Then there must be something strange in your `List`. If I add *either* the whole of your sample text *or* the url in it to a `List` I get the output: `[codeToTake]` in my terminal","body":"Then there must be something strange in your <code>List</code>. If I add <i>either</i> the whole of your sample text <i>or</i> the url in it to a <code>List</code> I get the output: <code>[codeToTake]</code> in my terminal"},{"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"score":0,"creation_date":1683564644,"post_id":76202279,"comment_id":134382543,"body_markdown":"I&#39;m trying it on android studio.","body":"I&#39;m trying it on android studio."}],"answers":[{"tags":[],"owner":{"account_id":22372737,"reputation":41,"user_id":16587554,"display_name":"trojanMorse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683564959,"creation_date":1683564959,"answer_id":76202693,"question_id":76202279,"body_markdown":"I&#39;m assuming the last of the string always comes after a /.\r\n\r\n```\r\npublic static String extractLinks(String text) {\r\n        int index  = text.lastIndexOf(&quot;/&quot;);\r\n        String subString = text.substring(index+1);\r\n        System.out.println(subString);\r\n        return subString;\r\n}\r\n\r\n```","title":"Java rewrite function compact and readable which allows you to extract code from long enough text","body":"<p>I'm assuming the last of the string always comes after a /.</p>\n<pre><code>public static String extractLinks(String text) {\n        int index  = text.lastIndexOf(&quot;/&quot;);\n        String subString = text.substring(index+1);\n        System.out.println(subString);\n        return subString;\n}\n\n</code></pre>\n"}],"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76202693,"answer_count":1,"score":1,"last_activity_date":1683564959,"creation_date":1683561603,"question_id":76202279,"body_markdown":"I have the following sample text like:\r\n\r\n`I sent you the link, very long test...... here: https://example.com/d/codeToTake`\r\n\r\nI have to make sure that I get the final code, which would be `codeToTake`.\r\n\r\nI have the following function but I would like it to be more compact and readable:\r\n```java\r\npublic static String extractLinks(String text) {\r\n        List&lt;String&gt; links = new ArrayList&lt;String&gt;();\r\n        Matcher m = Patterns.WEB_URL.matcher(text);\r\n        while (m.find()) {\r\n            String url = m.group();\r\n            links.add(url);\r\n        }\r\n\r\n        return links.toArray(new String[links.size()])[0].split(&quot;/&quot;)[4];\r\n}\r\n```\r\n\r\nCan you help me out?","title":"Java rewrite function compact and readable which allows you to extract code from long enough text","body":"<p>I have the following sample text like:</p>\n<p><code>I sent you the link, very long test...... here: https://example.com/d/codeToTake</code></p>\n<p>I have to make sure that I get the final code, which would be <code>codeToTake</code>.</p>\n<p>I have the following function but I would like it to be more compact and readable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String extractLinks(String text) {\n        List&lt;String&gt; links = new ArrayList&lt;String&gt;();\n        Matcher m = Patterns.WEB_URL.matcher(text);\n        while (m.find()) {\n            String url = m.group();\n            links.add(url);\n        }\n\n        return links.toArray(new String[links.size()])[0].split(&quot;/&quot;)[4];\n}\n</code></pre>\n<p>Can you help me out?</p>\n"},{"tags":["java","servlets","jco"],"comments":[{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":0,"creation_date":1367563733,"post_id":16353128,"comment_id":23427685,"body_markdown":"Can this help : http://stackoverflow.com/questions/13643905/exception-while-connecting-sap-through-java","body":"Can this help : <a href=\"http://stackoverflow.com/questions/13643905/exception-while-connecting-sap-through-java\" title=\"exception while connecting sap through java\">stackoverflow.com/questions/13643905/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15754,"reputation":8442,"user_id":33622,"accept_rate":88,"display_name":"fglez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1367916587,"creation_date":1367916587,"answer_id":16414920,"question_id":16353128,"body_markdown":"There are several issues in your approach\r\n\r\n 1. It is not recommended to change `java.library.path` programmatically, since the property is cached at the JVM start. See [Setting &quot;java.library.path&quot; programmatically][1] for more details.\r\n\r\n 2. You are overwriting `java.library.path` instead of adding your directory at the end. It&#39;s very likely your application server needs some native libraries of its own.\r\n\r\n 3. `/WEB-INF/lib` is a relative path which your JVM is not going to find as the JVM root directory is different from your app root directory (not to mention if you are deploying a WAR file)\r\n\r\nIn general, you should configure your SAP JCo as a server library, not an application library. The exact procedure depends of your application server.\r\n\r\n  [1]: http://blog.cedarsoft.com/2010/11/setting-java-library-path-programmatically/","title":"Error getting the version of the native layer: java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path","body":"<p>There are several issues in your approach</p>\n\n<ol>\n<li><p>It is not recommended to change <code>java.library.path</code> programmatically, since the property is cached at the JVM start. See <a href=\"http://blog.cedarsoft.com/2010/11/setting-java-library-path-programmatically/\" rel=\"nofollow\">Setting \"java.library.path\" programmatically</a> for more details.</p></li>\n<li><p>You are overwriting <code>java.library.path</code> instead of adding your directory at the end. It's very likely your application server needs some native libraries of its own.</p></li>\n<li><p><code>/WEB-INF/lib</code> is a relative path which your JVM is not going to find as the JVM root directory is different from your app root directory (not to mention if you are deploying a WAR file)</p></li>\n</ol>\n\n<p>In general, you should configure your SAP JCo as a server library, not an application library. The exact procedure depends of your application server.</p>\n"},{"tags":[],"owner":{"account_id":1741536,"reputation":1569,"user_id":1592796,"accept_rate":92,"display_name":"devrys"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392883779,"creation_date":1392883779,"answer_id":21901789,"question_id":16353128,"body_markdown":"If you are on Windows like me you can put the **sapjco3.dll** anywhere you want in the file system (except for the Windows **system32** and **sysWOW64** directories, as stated in the sapjco3 documentation) and then add the path to it to your **Path** system variable:\r\n\r\n![sapjco3.dll in Path system variable][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Ty4lu.png\r\n\r\nOn Linux you add the path to the **libsapjco3.so** file to the environment variable **LD_LIBRARY_PATH**\r\n\r\nIf you are on JBoss and need to get sapjco3.jar into you project see my answer over here:\r\nhttps://stackoverflow.com/a/21901220/1592796","title":"Error getting the version of the native layer: java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path","body":"<p>If you are on Windows like me you can put the <strong>sapjco3.dll</strong> anywhere you want in the file system (except for the Windows <strong>system32</strong> and <strong>sysWOW64</strong> directories, as stated in the sapjco3 documentation) and then add the path to it to your <strong>Path</strong> system variable:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Ty4lu.png\" alt=\"sapjco3.dll in Path system variable\"></p>\n\n<p>On Linux you add the path to the <strong>libsapjco3.so</strong> file to the environment variable <strong>LD_LIBRARY_PATH</strong></p>\n\n<p>If you are on JBoss and need to get sapjco3.jar into you project see my answer over here:\n<a href=\"https://stackoverflow.com/a/21901220/1592796\">https://stackoverflow.com/a/21901220/1592796</a></p>\n"}],"owner":{"account_id":1034596,"reputation":2386,"user_id":1042226,"accept_rate":52,"display_name":"Master Mind"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5537,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683564947,"creation_date":1367563366,"question_id":16353128,"body_markdown":"In my Java Web application, trying to connect SAP Server. This error is generated:\r\n&gt; Error getting the version of the native layer: java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path\r\n\r\nI have placed the `sapjco3.dll` and `sapjco3.jar` in `WEB-INF/lib/` and also configured in the Java Build Path.\r\n\r\nI have also set the Path in servlet as \t\r\n\r\n    System.setProperty(&quot;java.library.path&quot;, &quot;/WEB-INF/lib&quot;);\r\n\r\nBut also error existing.","title":"Error getting the version of the native layer: java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path","body":"<p>In my Java Web application, trying to connect SAP Server. This error is generated:</p>\n<blockquote>\n<p>Error getting the version of the native layer: java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path</p>\n</blockquote>\n<p>I have placed the <code>sapjco3.dll</code> and <code>sapjco3.jar</code> in <code>WEB-INF/lib/</code> and also configured in the Java Build Path.</p>\n<p>I have also set the Path in servlet as</p>\n<pre><code>System.setProperty(&quot;java.library.path&quot;, &quot;/WEB-INF/lib&quot;);\n</code></pre>\n<p>But also error existing.</p>\n"},{"tags":["java","spring-boot","spring-cloud-feign","feign","openfeign"],"answers":[{"tags":[],"owner":{"account_id":30920,"reputation":997,"user_id":84612,"accept_rate":36,"display_name":"Erik"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1600281588,"creation_date":1600281588,"answer_id":63926128,"question_id":63924863,"body_markdown":"Found the answer.\r\n\r\nhttps://github.com/spring-cloud/spring-cloud-openfeign/blob/master/spring-cloud-openfeign-core/src/main/java/org/springframework/cloud/openfeign/support/SortJacksonModule.java\r\n\r\n```java\r\n    return new ObjectMapper()\r\n        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n        .setPropertyNamingStrategy(SnakeCaseStrategy.SNAKE_CASE)\r\n        .registerModule(new PageJacksonModule())\r\n        .registerModule(new SortJacksonModule()); // &lt;-- This.  duh.\r\n```","title":"Jackson with Feign can&#39;t deserialized Spring&#39;s org.springframework.data.domain.Sort","body":"<p>Found the answer.</p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/blob/master/spring-cloud-openfeign-core/src/main/java/org/springframework/cloud/openfeign/support/SortJacksonModule.java\" rel=\"noreferrer\">https://github.com/spring-cloud/spring-cloud-openfeign/blob/master/spring-cloud-openfeign-core/src/main/java/org/springframework/cloud/openfeign/support/SortJacksonModule.java</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>    return new ObjectMapper()\n        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n        .setPropertyNamingStrategy(SnakeCaseStrategy.SNAKE_CASE)\n        .registerModule(new PageJacksonModule())\n        .registerModule(new SortJacksonModule()); // &lt;-- This.  duh.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1612961661,"creation_date":1612954779,"answer_id":66135597,"question_id":63924863,"body_markdown":"If you use autoconfigured Feign client you can follow [Spring Cloud OpenFeign docs][1] by turning on corresponding configuration property:\r\n\r\n&gt; You may consider enabling Jackson Modules for the support\r\n&gt; `org.springframework.data.domain.Page` and\r\n&gt; `org.springframework.data.domain.Sort` decoding.\r\n&gt; \r\n&gt;     feign.autoconfiguration.jackson.enabled=true\r\n\r\n\r\n  \r\n\r\n[1]: https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#spring-data-support","title":"Jackson with Feign can&#39;t deserialized Spring&#39;s org.springframework.data.domain.Sort","body":"<p>If you use autoconfigured Feign client you can follow <a href=\"https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#spring-data-support\" rel=\"noreferrer\">Spring Cloud OpenFeign docs</a> by turning on corresponding configuration property:</p>\n<blockquote>\n<p>You may consider enabling Jackson Modules for the support\n<code>org.springframework.data.domain.Page</code> and\n<code>org.springframework.data.domain.Sort</code> decoding.</p>\n<pre><code>feign.autoconfiguration.jackson.enabled=true\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1492447,"reputation":2094,"user_id":1399223,"display_name":"Mohamed.Abdo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656327881,"creation_date":1656327881,"answer_id":72771054,"question_id":63924863,"body_markdown":"try to add :\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-openfeign-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;","title":"Jackson with Feign can&#39;t deserialized Spring&#39;s org.springframework.data.domain.Sort","body":"<p>try to add :</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-openfeign-core&lt;/artifactId&gt;\n        &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2264978,"reputation":3734,"user_id":1993937,"accept_rate":47,"display_name":"TheJeff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683564016,"creation_date":1683564016,"answer_id":76202563,"question_id":63924863,"body_markdown":"You can get these modules by adding the openfeign-core dependency:\r\n\r\n\timplementation &quot;org.springframework.cloud:spring-cloud-openfeign-core&quot;\r\n\r\nBut this doesn&#39;t work in Spring Boot 3 for the `SortJacksonModule` anymore. \r\n\r\n### For example:\r\n\r\n##### Code (Kotlin)\r\n\r\n    private val mapper = jacksonObjectMapper().registerModules(\r\n        PageJacksonModule(),\r\n        SortJacksonModule(),\r\n        JavaTimeModule(),\r\n    )\r\n\r\n##### Config:\r\n\r\n[![Config Not Found][1]][1]\r\n\r\n##### Throws this exception: \r\n\r\n`java.lang.NoClassDefFoundError: feign/codec/EncodeException\r\n\tat org.springframework.cloud.openfeign.support.SortJacksonModule.setupModule(SortJacksonModule.java:47)`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/acfv2.png\r\n\r\n### Resolution\r\nThe OpenFeign spring team are waiting for votes in order to spend the time to fix this issue. Make sure to vote on the issue here:\r\n\r\nhttps://github.com/spring-cloud/spring-cloud-openfeign/issues/675","title":"Jackson with Feign can&#39;t deserialized Spring&#39;s org.springframework.data.domain.Sort","body":"<p>You can get these modules by adding the openfeign-core dependency:</p>\n<pre><code>implementation &quot;org.springframework.cloud:spring-cloud-openfeign-core&quot;\n</code></pre>\n<p>But this doesn't work in Spring Boot 3 for the <code>SortJacksonModule</code> anymore.</p>\n<h3>For example:</h3>\n<h5>Code (Kotlin)</h5>\n<pre><code>private val mapper = jacksonObjectMapper().registerModules(\n    PageJacksonModule(),\n    SortJacksonModule(),\n    JavaTimeModule(),\n)\n</code></pre>\n<h5>Config:</h5>\n<p><a href=\"https://i.stack.imgur.com/acfv2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/acfv2.png\" alt=\"Config Not Found\" /></a></p>\n<h5>Throws this exception:</h5>\n<p><code>java.lang.NoClassDefFoundError: feign/codec/EncodeException at org.springframework.cloud.openfeign.support.SortJacksonModule.setupModule(SortJacksonModule.java:47)</code></p>\n<h3>Resolution</h3>\n<p>The OpenFeign spring team are waiting for votes in order to spend the time to fix this issue. Make sure to vote on the issue here:</p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/issues/675\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-openfeign/issues/675</a></p>\n"}],"owner":{"account_id":30920,"reputation":997,"user_id":84612,"accept_rate":36,"display_name":"Erik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13046,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1683564016,"creation_date":1600275857,"question_id":63924863,"body_markdown":"The problem: A feign client, making an API call to a Spring boot Rest API that returns a `Page&lt;T&gt;` can&#39;t deserialize the `sort` property of that page.\r\n\r\n - Spring Boot: 2.3.3.Release\r\n - Spring Cloud Feign: 2.2.5.RELEASE\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot\r\n&gt; construct instance of `org.springframework.data.domain.Sort` (no\r\n&gt; Creators, like default constructor, exist): cannot deserialize from\r\n&gt; Object value (no delegate- or property-based Creator)  at [Source:\r\n&gt; (BufferedReader); line: 1, column: 238] (through reference chain:\r\n&gt; org.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl[&quot;sort&quot;])\r\n\r\nNot sure why the registered `PageJacksonModule` doesn&#39;t seem to support that. \r\n\r\nGiven a manually configured Feign client:\r\n\r\n```java\r\npublic class TelematicsConfig {\r\n\r\n  private String host;\r\n\r\n  ObjectMapper provideObjectMapper() {\r\n    return new ObjectMapper()\r\n        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n        .setPropertyNamingStrategy(SnakeCaseStrategy.SNAKE_CASE)\r\n        .registerModule(new PageJacksonModule());\r\n  }\r\n\r\n  @Bean\r\n  TelematicsClient provideTelematicsClient() {\r\n    return Feign.builder()\r\n        .client(new OkHttpClient())\r\n        .encoder(new JacksonEncoder(provideObjectMapper()))\r\n        .decoder(new JacksonDecoder(provideObjectMapper()))\r\n        .logger(new Slf4jLogger(TelematicsClient.class))\r\n        .logLevel(Logger.Level.FULL)\r\n        .target(TelematicsClient.class, host);\r\n  }\r\n\r\n}\r\n```\r\n\r\nThe client itself:\r\n\r\n```java\r\npublic interface TelematicsClient {\r\n\r\n  @RequestLine(&quot;GET /api/v1/telematics/devices&quot;)\r\n  Page&lt;TelematicsDevice&gt; getDevices();\r\n\r\n}\r\n```\r\n\r\nWhen invoking this I get:\r\n\r\n```\r\n2020-09-16 12:38:49.707 ERROR 96244 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException: Cannot construct instance of `org.springframework.data.domain.Sort` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n at [Source: (BufferedReader); line: 1, column: 238] (through reference chain: org.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl[&quot;sort&quot;]) reading GET http://localhost:8081/api/v1/telematics/devices] with root cause\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.data.domain.Sort` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n at [Source: (BufferedReader); line: 1, column: 238] (through reference chain: org.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl[&quot;sort&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1611)\r\n\tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1077)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1320)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:331)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:164)\r\n\tat com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:542)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeWithErrorWrapping(BeanDeserializer.java:535)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:419)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1310)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:331)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:164)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4482)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3463)\r\n\tat feign.jackson.JacksonDecoder.decode(JacksonDecoder.java:61)\r\n\r\n```\r\n\r\nAny insights into why this isn&#39;t working would be greatly appreciated.\r\n\r\nEdit: The following class seems to hint at support for sorting, no?\r\n\r\nhttps://github.com/spring-cloud/spring-cloud-openfeign/blob/master/spring-cloud-openfeign-core/src/main/java/org/springframework/cloud/openfeign/support/PageJacksonModule.java#L69\r\n\r\n","title":"Jackson with Feign can&#39;t deserialized Spring&#39;s org.springframework.data.domain.Sort","body":"<p>The problem: A feign client, making an API call to a Spring boot Rest API that returns a <code>Page&lt;T&gt;</code> can't deserialize the <code>sort</code> property of that page.</p>\n<ul>\n<li>Spring Boot: 2.3.3.Release</li>\n<li>Spring Cloud Feign: 2.2.5.RELEASE</li>\n</ul>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot\nconstruct instance of <code>org.springframework.data.domain.Sort</code> (no\nCreators, like default constructor, exist): cannot deserialize from\nObject value (no delegate- or property-based Creator)  at [Source:\n(BufferedReader); line: 1, column: 238] (through reference chain:\norg.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl[&quot;sort&quot;])</p>\n</blockquote>\n<p>Not sure why the registered <code>PageJacksonModule</code> doesn't seem to support that.</p>\n<p>Given a manually configured Feign client:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TelematicsConfig {\n\n  private String host;\n\n  ObjectMapper provideObjectMapper() {\n    return new ObjectMapper()\n        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n        .setPropertyNamingStrategy(SnakeCaseStrategy.SNAKE_CASE)\n        .registerModule(new PageJacksonModule());\n  }\n\n  @Bean\n  TelematicsClient provideTelematicsClient() {\n    return Feign.builder()\n        .client(new OkHttpClient())\n        .encoder(new JacksonEncoder(provideObjectMapper()))\n        .decoder(new JacksonDecoder(provideObjectMapper()))\n        .logger(new Slf4jLogger(TelematicsClient.class))\n        .logLevel(Logger.Level.FULL)\n        .target(TelematicsClient.class, host);\n  }\n\n}\n</code></pre>\n<p>The client itself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface TelematicsClient {\n\n  @RequestLine(&quot;GET /api/v1/telematics/devices&quot;)\n  Page&lt;TelematicsDevice&gt; getDevices();\n\n}\n</code></pre>\n<p>When invoking this I get:</p>\n<pre><code>2020-09-16 12:38:49.707 ERROR 96244 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException: Cannot construct instance of `org.springframework.data.domain.Sort` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n at [Source: (BufferedReader); line: 1, column: 238] (through reference chain: org.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl[&quot;sort&quot;]) reading GET http://localhost:8081/api/v1/telematics/devices] with root cause\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.data.domain.Sort` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n at [Source: (BufferedReader); line: 1, column: 238] (through reference chain: org.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl[&quot;sort&quot;])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1611)\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1077)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1320)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:331)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:164)\n    at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:542)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeWithErrorWrapping(BeanDeserializer.java:535)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:419)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1310)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:331)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:164)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4482)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3463)\n    at feign.jackson.JacksonDecoder.decode(JacksonDecoder.java:61)\n\n</code></pre>\n<p>Any insights into why this isn't working would be greatly appreciated.</p>\n<p>Edit: The following class seems to hint at support for sorting, no?</p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/blob/master/spring-cloud-openfeign-core/src/main/java/org/springframework/cloud/openfeign/support/PageJacksonModule.java#L69\" rel=\"noreferrer\">https://github.com/spring-cloud/spring-cloud-openfeign/blob/master/spring-cloud-openfeign-core/src/main/java/org/springframework/cloud/openfeign/support/PageJacksonModule.java#L69</a></p>\n"},{"tags":["java","spring","spring-boot-actuator"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1683562838,"post_id":76202406,"comment_id":134382150,"body_markdown":"Why would you be defining the actuator endpoint? The library defines it.","body":"Why would you be defining the actuator endpoint? The library defines it."},{"owner":{"account_id":2269373,"reputation":3064,"user_id":1997212,"accept_rate":29,"display_name":"Yogesh"},"score":0,"creation_date":1683563175,"post_id":76202406,"comment_id":134382220,"body_markdown":"I mean I have to annotate using actuator library itself for Service level I can use &#39;EndPoint&#39; annotation or Controller level I should &#39;RestControllerEndPoint&#39; annotation","body":"I mean I have to annotate using actuator library itself for Service level I can use &#39;EndPoint&#39; annotation or Controller level I should &#39;RestControllerEndPoint&#39; annotation"},{"owner":{"account_id":2269373,"reputation":3064,"user_id":1997212,"accept_rate":29,"display_name":"Yogesh"},"score":0,"creation_date":1683563263,"post_id":76202406,"comment_id":134382239,"body_markdown":"my question is that I can use both annotation but in which I should prefer controller level annnotation and in what situtation service level annotation. You can rephrase the question if it doesn&#39;t mean what I want to ask","body":"my question is that I can use both annotation but in which I should prefer controller level annnotation and in what situtation service level annotation. You can rephrase the question if it doesn&#39;t mean what I want to ask"},{"owner":{"account_id":2269373,"reputation":3064,"user_id":1997212,"accept_rate":29,"display_name":"Yogesh"},"score":0,"creation_date":1683563744,"post_id":76202406,"comment_id":134382346,"body_markdown":"One more thing, I meant for custom endpoints not the ones which are defined llibrary already","body":"One more thing, I meant for custom endpoints not the ones which are defined llibrary already"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1683563847,"post_id":76202406,"comment_id":134382365,"body_markdown":"Oh, I see, I didn&#39;t realize you meant custom endpoints. I&#39;m not sure but I think the difference is if you want them to be [exposed via JMX or HTTP](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/reference/html/production-ready-endpoints.html).","body":"Oh, I see, I didn&#39;t realize you meant custom endpoints. I&#39;m not sure but I think the difference is if you want them to be <a href=\"https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/reference/html/production-ready-endpoints.html\" rel=\"nofollow noreferrer\">exposed via JMX or HTTP</a>."},{"owner":{"account_id":2269373,"reputation":3064,"user_id":1997212,"accept_rate":29,"display_name":"Yogesh"},"score":0,"creation_date":1683564214,"post_id":76202406,"comment_id":134382440,"body_markdown":"but i think both can be exposed as http but not sure if controller be expose as JMX","body":"but i think both can be exposed as http but not sure if controller be expose as JMX"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1683566466,"post_id":76202406,"comment_id":134382939,"body_markdown":"It&#39;s my understanding, from the document I linked to, that an endpoint in a controller is not exposed as JMX.","body":"It&#39;s my understanding, from the document I linked to, that an endpoint in a controller is not exposed as JMX."}],"owner":{"account_id":2269373,"reputation":3064,"user_id":1997212,"accept_rate":29,"display_name":"Yogesh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683563699,"creation_date":1683562563,"question_id":76202406,"body_markdown":"I was trying to understand what is the criteria to decide for **custom endpoints** &#39;Should I annotate Actuator custom endpoint on Controller level or Service level. \r\nIn what situation, I annotate at Controller level and in what situation I should annotate at service level method.\r\n","title":"Should Actuator custom endpoint be annotated on Controller level or Service level?","body":"<p>I was trying to understand what is the criteria to decide for <strong>custom endpoints</strong> 'Should I annotate Actuator custom endpoint on Controller level or Service level.\nIn what situation, I annotate at Controller level and in what situation I should annotate at service level method.</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1383231664,"creation_date":1383231664,"answer_id":19709934,"question_id":19709897,"body_markdown":"If you use [json validator](http://jsonlint.com/), you can see more detailed error message:\r\n\r\n    Parse error on line 6:\r\n    ...ntry&quot;,            },    {        &quot;id\r\n    ---------------------^\r\n    Expecting &#39;STRING&#39;\r\n\r\nyou have extra comma there after `&quot;xx-xx-xxxx,x - street, x - country&quot;`. If you remove it from both two places, you have valid JSON and Jackson parsing works.","title":"Jackson Error Unexpected character (&#39;}&#39; (code 125))","body":"<p>If you use <a href=\"http://jsonlint.com/\">json validator</a>, you can see more detailed error message:</p>\n\n<pre><code>Parse error on line 6:\n...ntry\",            },    {        \"id\n---------------------^\nExpecting 'STRING'\n</code></pre>\n\n<p>you have extra comma there after <code>\"xx-xx-xxxx,x - street, x - country\"</code>. If you remove it from both two places, you have valid JSON and Jackson parsing works.</p>\n"},{"tags":[],"owner":{"account_id":1592276,"reputation":6902,"user_id":1475346,"accept_rate":100,"display_name":"Martin Seeler"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1383231743,"creation_date":1383231743,"answer_id":19709968,"question_id":19709897,"body_markdown":"It&#39;s because your last entries, there is an `,` after your last value. Thats why jackson expects another field.","title":"Jackson Error Unexpected character (&#39;}&#39; (code 125))","body":"<p>It's because your last entries, there is an <code>,</code> after your last value. Thats why jackson expects another field.</p>\n"},{"tags":[],"owner":{"account_id":1195103,"reputation":166,"user_id":1167010,"display_name":"madalex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683563431,"creation_date":1683563431,"answer_id":76202496,"question_id":19709897,"body_markdown":"You can enable ALLOW_TRAILING_COMMA (allowing a comma after the last value in an object or array), and then it parses it correctly, not having to modify the json and remove the comma:\r\n\r\n    jsonFactory.configure(JsonReadFeature.ALLOW_TRAILING_COMMA.mappedFeature(), true)","title":"Jackson Error Unexpected character (&#39;}&#39; (code 125))","body":"<p>You can enable ALLOW_TRAILING_COMMA (allowing a comma after the last value in an object or array), and then it parses it correctly, not having to modify the json and remove the comma:</p>\n<pre><code>jsonFactory.configure(JsonReadFeature.ALLOW_TRAILING_COMMA.mappedFeature(), true)\n</code></pre>\n"}],"owner":{"account_id":2448376,"reputation":1387,"user_id":2135191,"accept_rate":43,"display_name":"Rollyng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66999,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":19709934,"answer_count":3,"score":30,"last_activity_date":1683563431,"creation_date":1383231579,"question_id":19709897,"body_markdown":"Hey i got an issue based on deserialization with jackson, here what i&#39;ve tried and the error i got. \r\n\r\n**ERROR** : com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;}&#39; (code 125)): was expecting double-quote to start field name\r\n\r\n**Java Code**\r\n\r\n    List&lt;Contact&gt; ds = mapper.readValue(data, mapper.getTypeFactory().constructCollectionType(List.class, Contact.class));\r\n\r\n     //OR this one\r\n\r\n    List&lt;Contact&gt; ds = mapper.readValue(data, new TypeReference&lt;List&lt;Contact&gt;&gt;() {});\r\n\r\n\r\n*My JSON*\r\n\r\n    [\t\r\n\t\t{\r\n\t        &quot;id&quot;: &quot;200&quot;,\r\n\t        &quot;name&quot;: &quot;Alexia Milano&quot;,\r\n\t        &quot;email&quot;: &quot;minalo@gmail.com&quot;,\r\n\t        &quot;prenom&quot;: &quot;xx-xx-xxxx,x - street, x - country&quot;,\r\n\r\n\t    }, {\r\n\t        &quot;id&quot;: &quot;201&quot;,\r\n\t        &quot;name&quot;: &quot;Johnny Depp&quot;,\r\n\t        &quot;email&quot;: &quot;johnny_depp@gmail.com&quot;,\r\n\t        &quot;prenom&quot;: &quot;xx-xx-xxxx,x - street, x - country&quot;,\r\n\r\n\t    }\r\n    ]","title":"Jackson Error Unexpected character (&#39;}&#39; (code 125))","body":"<p>Hey i got an issue based on deserialization with jackson, here what i've tried and the error i got. </p>\n\n<p><strong>ERROR</strong> : com.fasterxml.jackson.core.JsonParseException: Unexpected character ('}' (code 125)): was expecting double-quote to start field name</p>\n\n<p><strong>Java Code</strong></p>\n\n<pre><code>List&lt;Contact&gt; ds = mapper.readValue(data, mapper.getTypeFactory().constructCollectionType(List.class, Contact.class));\n\n //OR this one\n\nList&lt;Contact&gt; ds = mapper.readValue(data, new TypeReference&lt;List&lt;Contact&gt;&gt;() {});\n</code></pre>\n\n<p><em>My JSON</em></p>\n\n<pre><code>[   \n    {\n        \"id\": \"200\",\n        \"name\": \"Alexia Milano\",\n        \"email\": \"minalo@gmail.com\",\n        \"prenom\": \"xx-xx-xxxx,x - street, x - country\",\n\n    }, {\n        \"id\": \"201\",\n        \"name\": \"Johnny Depp\",\n        \"email\": \"johnny_depp@gmail.com\",\n        \"prenom\": \"xx-xx-xxxx,x - street, x - country\",\n\n    }\n]\n</code></pre>\n"},{"tags":["java","eclipse","jfreechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1682066203,"post_id":76069537,"comment_id":134160416,"body_markdown":"[tag:jfreechart] v1.5.4 is current; more [here](https://stackoverflow.com/a/69653678/230513).","body":"<a href=\"https://stackoverflow.com/questions/tagged/jfreechart\">jfreechart</a> v1.5.4 is current; more <a href=\"https://stackoverflow.com/a/69653678/230513\">here</a>."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1682076071,"post_id":76069537,"comment_id":134162506,"body_markdown":"If you have a `module-info.java` file, delete it (if needed you can recreate it later via right-click on project and _Configure_) or [in `module-info.java` add the required `requires ...;` statement](https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules) and move the other code into packages. If this does not help, in the _Package Explorer_ expand the `jfreechart-1.0.19.jar` node to show whether there is a `org.jfree.chart` package.","body":"If you have a <code>module-info.java</code> file, delete it (if needed you can recreate it later via right-click on project and <i>Configure</i>) or <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules\" rel=\"nofollow noreferrer\">in <code>module-info.java</code> add the required <code>requires ...;</code> statement</a> and move the other code into packages. If this does not help, in the <i>Package Explorer</i> expand the <code>jfreechart-1.0.19.jar</code> node to show whether there is a <code>org.jfree.chart</code> package."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1682104601,"post_id":76069537,"comment_id":134168787,"body_markdown":"Aside: For version 1.0.19, you only need `jfreechart` and `jcommon`, e.g. `java -cp jfreechart-1.0.19.jar:jcommon-1.0.23.jar org.jfree.chart.demo.BarChartDemo1`.","body":"Aside: For version 1.0.19, you only need <code>jfreechart</code> and <code>jcommon</code>, e.g. <code>java -cp jfreechart-1.0.19.jar:jcommon-1.0.23.jar org.jfree.chart.demo.BarChartDemo1</code>."}],"owner":{"account_id":15117434,"reputation":1,"user_id":10909292,"display_name":"Satish Varma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683563003,"answer_count":0,"score":0,"last_activity_date":1683563248,"creation_date":1682045212,"question_id":76069537,"body_markdown":"I am trying to use jfreechart - release jfreechart-1.0-2.19 available on the website https://www.jfree.org/jfreechart/download.html\r\n\r\nIDE: Eclipse on Mac\r\n\r\nRegular java project.\r\n\r\nThe import fails for pretty much everything in the jar files I tried to add from jfree library.\r\n\r\n[![Eclipse - jfreechart import failure](https://i.stack.imgur.com/z1Nwf.png)](https://i.stack.imgur.com/z1Nwf.png)\r\n\r\nAdded the jar files available under jfreechart-1.0-2.19-&gt;lib folder to the project on Eclipse with following steps:\r\n\r\nRight Click on Project-&gt; BuildPath-&gt; Configure Build Path -&gt; Libraries -&gt; Add External Jars \r\nand added all files in the library folder mentioned above.\r\n\r\nNot sure what else can be done and I am unable to resolve.","title":"Not able to import the classes with jar file for jfreechart","body":"<p>I am trying to use jfreechart - release jfreechart-1.0-2.19 available on the website <a href=\"https://www.jfree.org/jfreechart/download.html\" rel=\"nofollow noreferrer\">https://www.jfree.org/jfreechart/download.html</a></p>\n<p>IDE: Eclipse on Mac</p>\n<p>Regular java project.</p>\n<p>The import fails for pretty much everything in the jar files I tried to add from jfree library.</p>\n<p><a href=\"https://i.stack.imgur.com/z1Nwf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z1Nwf.png\" alt=\"Eclipse - jfreechart import failure\" /></a></p>\n<p>Added the jar files available under jfreechart-1.0-2.19-&gt;lib folder to the project on Eclipse with following steps:</p>\n<p>Right Click on Project-&gt; BuildPath-&gt; Configure Build Path -&gt; Libraries -&gt; Add External Jars\nand added all files in the library folder mentioned above.</p>\n<p>Not sure what else can be done and I am unable to resolve.</p>\n"},{"tags":["java","struts2","pattern-matching","wildcard-mapping"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1415124579,"post_id":26741967,"comment_id":42069795,"body_markdown":"See http://stackoverflow.com/q/26235071/1700321.","body":"See <a href=\"http://stackoverflow.com/q/26235071/1700321\">stackoverflow.com/q/26235071/1700321</a>."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1415128203,"post_id":26741967,"comment_id":42071803,"body_markdown":"What a pattern matcher is configured?","body":"What a pattern matcher is configured?"},{"owner":{"account_id":3591616,"reputation":323,"user_id":2997534,"accept_rate":40,"display_name":"user2997534"},"score":0,"creation_date":1415129994,"post_id":26741967,"comment_id":42072803,"body_markdown":"in my struts.xml `&lt;constant name=&quot;struts.enable.SlashesInActionNames&quot; value=&quot;true&quot; /&gt;\n\t&lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot; value=&quot;false&quot; /&gt;`. sorry @RomanC &quot;/partner/*/*&quot; this pattern?","body":"in my struts.xml <code>&lt;constant name=&quot;struts.enable.SlashesInActionNames&quot; value=&quot;true&quot; &#47;&gt; \t&lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot; value=&quot;false&quot; &#47;&gt;</code>. sorry @RomanC &quot;/partner/*/*&quot; this pattern?"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683563158,"creation_date":1415145754,"answer_id":26747410,"question_id":26741967,"body_markdown":"Try `&lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;regex&quot;/&gt;` the only viable matcher for the constants above. This is usually used with advanced wildcards mode, explained [here][1]. \r\n\r\n&gt;Advanced Wildcards\r\n&gt;From 2.1.9+ regular expressions can be defined defined in the action name. To use this form of wild card, the following constants must be set:\r\n```xml\r\n&lt;constant name=&quot;struts.enable.SlashesInActionNames&quot; value=&quot;true&quot;/&gt;\r\n&lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot; value=&quot;false&quot;/&gt;\r\n&lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;regex&quot; /&gt;\r\n```\r\nThe URL splitted into namespace `/` and action name `partner/partnerName`. The last matches a pattern compiled from the name in the action config using a wildcard mapper, which is a default mapper.\r\n\r\n\r\n  [1]: https://struts.apache.org/core-developers/wildcard-mappings#advanced-wildcards","title":"Wrong URL match in action mapping","body":"<p>Try <code>&lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;regex&quot;/&gt;</code> the only viable matcher for the constants above. This is usually used with advanced wildcards mode, explained <a href=\"https://struts.apache.org/core-developers/wildcard-mappings#advanced-wildcards\" rel=\"nofollow noreferrer\">here</a>.</p>\n<blockquote>\n<p>Advanced Wildcards\nFrom 2.1.9+ regular expressions can be defined defined in the action name. To use this form of wild card, the following constants must be set:</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;constant name=&quot;struts.enable.SlashesInActionNames&quot; value=&quot;true&quot;/&gt;\n&lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot; value=&quot;false&quot;/&gt;\n&lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;regex&quot; /&gt;\n</code></pre>\n<p>The URL splitted into namespace <code>/</code> and action name <code>partner/partnerName</code>. The last matches a pattern compiled from the name in the action config using a wildcard mapper, which is a default mapper.</p>\n"}],"owner":{"account_id":3591616,"reputation":323,"user_id":2997534,"accept_rate":40,"display_name":"user2997534"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26747410,"answer_count":1,"score":1,"last_activity_date":1683563158,"creation_date":1415124297,"question_id":26741967,"body_markdown":"&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;action name=&quot;/partner/*/*&quot; class=&quot;webStoreAction&quot;&gt;\r\n\t    &lt;param name=&quot;saveUrl&quot;&gt;true&lt;/param&gt;\r\n\t    &lt;param name=&quot;homeName&quot;&gt;HomePartner&lt;/param&gt;\r\n        &lt;param name=&quot;partner&quot;&gt;{1}&lt;/param&gt;\r\n\t\t&lt;param name=&quot;partnerId&quot;&gt;{2}&lt;/param&gt;\r\n\t\t&lt;param name=&quot;homeFromMenu&quot;&gt;false&lt;/param&gt;\r\n\t\t&lt;result name=&quot;success&quot; type=&quot;jsf&quot;&gt;\r\n\t\t\t/WEB-INF/pages/load.xhtml\r\n\t\t&lt;/result&gt;\r\n\t&lt;/action&gt;\r\n\r\nWhy `localhost:8080/partner/partnerName` matches with this action?","title":"Wrong URL match in action mapping","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=\"/partner/*/*\" class=\"webStoreAction\"&gt;\n    &lt;param name=\"saveUrl\"&gt;true&lt;/param&gt;\n    &lt;param name=\"homeName\"&gt;HomePartner&lt;/param&gt;\n    &lt;param name=\"partner\"&gt;{1}&lt;/param&gt;\n    &lt;param name=\"partnerId\"&gt;{2}&lt;/param&gt;\n    &lt;param name=\"homeFromMenu\"&gt;false&lt;/param&gt;\n    &lt;result name=\"success\" type=\"jsf\"&gt;\n        /WEB-INF/pages/load.xhtml\n    &lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n\n<p>Why <code>localhost:8080/partner/partnerName</code> matches with this action?</p>\n"},{"tags":["java","android","android-intent","shared","url-scheme"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683556551,"creation_date":1683556551,"answer_id":76201624,"question_id":76201491,"body_markdown":"you can&#39;t place app widget on home screen programmatically in any way, user must take some system action to place it, e.g. pick from app launcher menu and drag to home\r\n\r\nbut starting Android 8 / API 26 there is a new method [`requestPinAppWidget`](https://developer.android.com/reference/android/appwidget/AppWidgetManager#requestPinAppWidget(android.content.ComponentName,%20android.os.Bundle,%20android.app.PendingIntent)) - so pass your data/link do dedicated `Activity` and use linked method to force system to show add-app-widget-dialog. some example, including passing data in `Bundle`, in [HERE](https://stackoverflow.com/questions/22829647/programmatically-add-the-widget-to-home-screen-in-android)","title":"Android share text/plain to be able to use in the widget","body":"<p>you can't place app widget on home screen programmatically in any way, user must take some system action to place it, e.g. pick from app launcher menu and drag to home</p>\n<p>but starting Android 8 / API 26 there is a new method <a href=\"https://developer.android.com/reference/android/appwidget/AppWidgetManager#requestPinAppWidget(android.content.ComponentName,%20android.os.Bundle,%20android.app.PendingIntent)\" rel=\"nofollow noreferrer\"><code>requestPinAppWidget</code></a> - so pass your data/link do dedicated <code>Activity</code> and use linked method to force system to show add-app-widget-dialog. some example, including passing data in <code>Bundle</code>, in <a href=\"https://stackoverflow.com/questions/22829647/programmatically-add-the-widget-to-home-screen-in-android\">HERE</a></p>\n"}],"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683562571,"creation_date":1683555565,"question_id":76201491,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O4OaZ.png\r\n\r\nI need to share a text/plain, between an external app and my app and use this shared text as url for the widget I need to insert, see example image.\r\n\r\nSo every widget must have instance which depends on this text.\r\n\r\nHow can I make sure that when the share is clicked and then on the specific app, the widget is automatically inserted on the home screen.\r\n\r\nCan you give me a hand?\r\n\r\nManifest:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Test&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;.MyWidget&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.appwidget.action.APPWIDGET_UPDATE&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.appwidget.provider&quot;\r\n                android:resource=&quot;@xml/widget_info&quot; /&gt;\r\n        &lt;/receiver&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;.WidgetService&quot;\r\n            android:enabled=&quot;true&quot; /&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nAlarmHandler:\r\n```java\r\npackage com.myapp.test;\r\n\r\nimport android.app.AlarmManager;\r\nimport android.app.PendingIntent;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\n\r\nimport java.util.Calendar;\r\n\r\npublic class AlarmHandler {\r\n\r\n    private final Context context;\r\n\r\n    public AlarmHandler(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n    public void setAlarmManager() {\r\n        Intent intent = new Intent(context, WidgetService.class);\r\n        int FlagPendingIntent = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M ? PendingIntent.FLAG_IMMUTABLE : 0;\r\n        PendingIntent sender = PendingIntent.getBroadcast(context, 2, intent, FlagPendingIntent);\r\n\r\n        AlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n\r\n        //get current time and add 1 hour\r\n        Calendar c = Calendar.getInstance();\r\n        long l = c.getTimeInMillis() + 10000;//1000*60*60=3600000\r\n\r\n        //set the alarm for 10 seconds in the future\r\n        if (am != null) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                am.setAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, l, sender);\r\n            } else {\r\n                am.set(AlarmManager.RTC_WAKEUP, l, sender);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void cancelAlarmManager() {\r\n        Intent intent = new Intent(context, WidgetService.class);\r\n        int FlagPendingIntent = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M ? PendingIntent.FLAG_IMMUTABLE : 0;\r\n        PendingIntent sender = PendingIntent.getBroadcast(context, 2, intent, FlagPendingIntent);\r\n        AlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n        if (am != null) {\r\n            am.cancel(sender);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWakeLocker:\r\n```java\r\npackage com.myapp.test;\r\n\r\nimport android.content.Context;\r\nimport android.os.PowerManager;\r\n\r\npublic abstract class WakeLocker {\r\n\r\n    private static PowerManager.WakeLock wakeLock;\r\n\r\n    //wake the device\r\n    public static void acquire(Context context) {\r\n        if (wakeLock != null) {\r\n            wakeLock.release();\r\n        }\r\n\r\n        PowerManager powerManager = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\r\n        wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK |\r\n                PowerManager.ACQUIRE_CAUSES_WAKEUP |\r\n                PowerManager.ON_AFTER_RELEASE, &quot;WIDGET: Wake lock acquired!&quot;);\r\n        wakeLock.acquire(2000);\r\n    }\r\n\r\n    public static void release() {\r\n        if (wakeLock != null) {\r\n            wakeLock.release();\r\n        }\r\n        wakeLock = null;\r\n    }\r\n\r\n}\r\n```\r\n\r\nMainActivity:\r\n```java\r\npackage com.myapp.test;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.PendingIntent;\r\nimport android.appwidget.AppWidgetManager;\r\nimport android.content.ComponentName;\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Patterns;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.regex.Matcher;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Intent intent = getIntent();\r\n        String action = intent.getAction();\r\n        String type = intent.getType();\r\n\r\n        if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\r\n            if (&quot;text/plain&quot;.equals(type)) {\r\n                String sharedText = intent.getStringExtra(Intent.EXTRA_TEXT);\r\n                String url = extractLinks(sharedText);\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                    AppWidgetManager mAppWidgetManager = getSystemService(AppWidgetManager.class);\r\n\r\n                    ComponentName myProvider = new ComponentName(MainActivity.this, MyWidget.class);\r\n\r\n                    Bundle b = new Bundle();\r\n                    b.putString(&quot;url&quot;, url);\r\n                    if (mAppWidgetManager.isRequestPinAppWidgetSupported()) {\r\n                        Intent pinnedWidgetCallbackIntent = new Intent(MainActivity.this, MyWidget.class);\r\n                        PendingIntent successCallback = PendingIntent.getBroadcast(MainActivity.this, 0,\r\n                                pinnedWidgetCallbackIntent, PendingIntent.FLAG_IMMUTABLE);\r\n\r\n                        mAppWidgetManager.requestPinAppWidget(myProvider, b, successCallback);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static String extractLinks(String text) {\r\n        List&lt;String&gt; links = new ArrayList&lt;String&gt;();\r\n        Matcher m = Patterns.WEB_URL.matcher(text);\r\n        while (m.find()) {\r\n            String url = m.group();\r\n            links.add(url);\r\n        }\r\n\r\n        return links.toArray(new String[links.size()])[0].split(&quot;/&quot;)[4];\r\n    }\r\n}\r\n```\r\n\r\nWidgetService: \r\n```java\r\npackage com.myapp.test;\r\n\r\nimport android.appwidget.AppWidgetManager;\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.ComponentName;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.util.Log;\r\n\r\npublic class WidgetService extends BroadcastReceiver {\r\n    String values = &quot;Test&quot;;\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        //wake the device\r\n        WakeLocker.acquire(context);\r\n\r\n        //increase the number in the widget\r\n        SharedPreferences preferences = context.getSharedPreferences(&quot;PREFS&quot;, 0);\r\n        //int value = preferences.getInt(&quot;value&quot;, 1);\r\n\r\n        //String url = intent.getStringExtra(&quot;url&quot;);\r\n        //Log.d(&quot;WidgetService&quot;, url.toString());\r\n        Log.d(&quot;WidgetService&quot;, values);\r\n\r\n        SharedPreferences.Editor editor = preferences.edit();\r\n        editor.putString(&quot;value&quot;, values);\r\n        editor.apply();\r\n\r\n        //force widget update\r\n        Intent widgetIntent = new Intent(context, MyWidget.class);\r\n        widgetIntent.setAction(AppWidgetManager.ACTION_APPWIDGET_UPDATE);\r\n        int[] ids = AppWidgetManager.getInstance(context).getAppWidgetIds(new ComponentName(context, MyWidget.class));\r\n        widgetIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_IDS, ids);\r\n        context.sendBroadcast(widgetIntent);\r\n\r\n        Log.d(&quot;WIDGET&quot;, &quot;Widget set to update!&quot;);\r\n\r\n        //go back to sleep\r\n        WakeLocker.release();\r\n    }\r\n}\r\n```\r\n\r\nMyWidget:\r\n```java\r\npackage com.myapp.test;\r\n\r\nimport android.appwidget.AppWidgetManager;\r\nimport android.appwidget.AppWidgetProvider;\r\nimport android.content.Context;\r\nimport android.util.Log;\r\nimport android.widget.RemoteViews;\r\n\r\n\r\npublic class MyWidget extends AppWidgetProvider {\r\n    String values = &quot;MyWidget&quot;;\r\n\r\n    void updateAppWidget(Context context, AppWidgetManager appWidgetManager, int appWidgetId) {\r\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.widget_design);\r\n\r\n        Log.d(&quot;MyWidget3&quot;, values);\r\n\r\n        //set the value in the textview\r\n        views.setTextViewText(R.id.text, values);\r\n\r\n        //update the widget\r\n        appWidgetManager.updateAppWidget(appWidgetId, views);\r\n\r\n        //reschedule the widget refresh\r\n        AlarmHandler alarmHandler = new AlarmHandler(context);\r\n        alarmHandler.cancelAlarmManager();\r\n        alarmHandler.setAlarmManager();\r\n\r\n        Log.d(&quot;WIDGET&quot;, &quot;Widget updated!&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\r\n        for (int appWidgetId: appWidgetIds) {\r\n            updateAppWidget(context, appWidgetManager, appWidgetId);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onDisabled(Context context) {\r\n        //stop updating the widget\r\n        AlarmHandler alarmHandler = new AlarmHandler(context);\r\n        alarmHandler.cancelAlarmManager();\r\n\r\n        Log.d(&quot;WIDGET&quot;, &quot;Widget removed!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nEdits:\r\n\r\nI&#39;ve added all the classes I&#39;m using that come into play, I&#39;ve managed to get the widget to be added when text is shared.\r\n\r\nBut I was unable to retrieve the text on the widget side.\r\n\r\nCan you give me a hand?","title":"Android share text/plain to be able to use in the widget","body":"<p><a href=\"https://i.stack.imgur.com/O4OaZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O4OaZ.png\" alt=\"enter image description here\" /></a></p>\n<p>I need to share a text/plain, between an external app and my app and use this shared text as url for the widget I need to insert, see example image.</p>\n<p>So every widget must have instance which depends on this text.</p>\n<p>How can I make sure that when the share is clicked and then on the specific app, the widget is automatically inserted on the home screen.</p>\n<p>Can you give me a hand?</p>\n<p>Manifest:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Test&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;receiver\n            android:name=&quot;.MyWidget&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.appwidget.action.APPWIDGET_UPDATE&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.appwidget.provider&quot;\n                android:resource=&quot;@xml/widget_info&quot; /&gt;\n        &lt;/receiver&gt;\n\n        &lt;receiver\n            android:name=&quot;.WidgetService&quot;\n            android:enabled=&quot;true&quot; /&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>AlarmHandler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.test;\n\nimport android.app.AlarmManager;\nimport android.app.PendingIntent;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Build;\n\nimport java.util.Calendar;\n\npublic class AlarmHandler {\n\n    private final Context context;\n\n    public AlarmHandler(Context context) {\n        this.context = context;\n    }\n\n    public void setAlarmManager() {\n        Intent intent = new Intent(context, WidgetService.class);\n        int FlagPendingIntent = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M ? PendingIntent.FLAG_IMMUTABLE : 0;\n        PendingIntent sender = PendingIntent.getBroadcast(context, 2, intent, FlagPendingIntent);\n\n        AlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n\n        //get current time and add 1 hour\n        Calendar c = Calendar.getInstance();\n        long l = c.getTimeInMillis() + 10000;//1000*60*60=3600000\n\n        //set the alarm for 10 seconds in the future\n        if (am != null) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                am.setAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, l, sender);\n            } else {\n                am.set(AlarmManager.RTC_WAKEUP, l, sender);\n            }\n        }\n    }\n\n    public void cancelAlarmManager() {\n        Intent intent = new Intent(context, WidgetService.class);\n        int FlagPendingIntent = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M ? PendingIntent.FLAG_IMMUTABLE : 0;\n        PendingIntent sender = PendingIntent.getBroadcast(context, 2, intent, FlagPendingIntent);\n        AlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n        if (am != null) {\n            am.cancel(sender);\n        }\n    }\n}\n</code></pre>\n<p>WakeLocker:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.test;\n\nimport android.content.Context;\nimport android.os.PowerManager;\n\npublic abstract class WakeLocker {\n\n    private static PowerManager.WakeLock wakeLock;\n\n    //wake the device\n    public static void acquire(Context context) {\n        if (wakeLock != null) {\n            wakeLock.release();\n        }\n\n        PowerManager powerManager = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\n        wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK |\n                PowerManager.ACQUIRE_CAUSES_WAKEUP |\n                PowerManager.ON_AFTER_RELEASE, &quot;WIDGET: Wake lock acquired!&quot;);\n        wakeLock.acquire(2000);\n    }\n\n    public static void release() {\n        if (wakeLock != null) {\n            wakeLock.release();\n        }\n        wakeLock = null;\n    }\n\n}\n</code></pre>\n<p>MainActivity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.test;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.PendingIntent;\nimport android.appwidget.AppWidgetManager;\nimport android.content.ComponentName;\nimport android.content.Intent;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Patterns;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.regex.Matcher;\n\npublic class MainActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Intent intent = getIntent();\n        String action = intent.getAction();\n        String type = intent.getType();\n\n        if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\n            if (&quot;text/plain&quot;.equals(type)) {\n                String sharedText = intent.getStringExtra(Intent.EXTRA_TEXT);\n                String url = extractLinks(sharedText);\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                    AppWidgetManager mAppWidgetManager = getSystemService(AppWidgetManager.class);\n\n                    ComponentName myProvider = new ComponentName(MainActivity.this, MyWidget.class);\n\n                    Bundle b = new Bundle();\n                    b.putString(&quot;url&quot;, url);\n                    if (mAppWidgetManager.isRequestPinAppWidgetSupported()) {\n                        Intent pinnedWidgetCallbackIntent = new Intent(MainActivity.this, MyWidget.class);\n                        PendingIntent successCallback = PendingIntent.getBroadcast(MainActivity.this, 0,\n                                pinnedWidgetCallbackIntent, PendingIntent.FLAG_IMMUTABLE);\n\n                        mAppWidgetManager.requestPinAppWidget(myProvider, b, successCallback);\n                    }\n                }\n            }\n        }\n    }\n\n    public static String extractLinks(String text) {\n        List&lt;String&gt; links = new ArrayList&lt;String&gt;();\n        Matcher m = Patterns.WEB_URL.matcher(text);\n        while (m.find()) {\n            String url = m.group();\n            links.add(url);\n        }\n\n        return links.toArray(new String[links.size()])[0].split(&quot;/&quot;)[4];\n    }\n}\n</code></pre>\n<p>WidgetService:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.test;\n\nimport android.appwidget.AppWidgetManager;\nimport android.content.BroadcastReceiver;\nimport android.content.ComponentName;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.util.Log;\n\npublic class WidgetService extends BroadcastReceiver {\n    String values = &quot;Test&quot;;\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        //wake the device\n        WakeLocker.acquire(context);\n\n        //increase the number in the widget\n        SharedPreferences preferences = context.getSharedPreferences(&quot;PREFS&quot;, 0);\n        //int value = preferences.getInt(&quot;value&quot;, 1);\n\n        //String url = intent.getStringExtra(&quot;url&quot;);\n        //Log.d(&quot;WidgetService&quot;, url.toString());\n        Log.d(&quot;WidgetService&quot;, values);\n\n        SharedPreferences.Editor editor = preferences.edit();\n        editor.putString(&quot;value&quot;, values);\n        editor.apply();\n\n        //force widget update\n        Intent widgetIntent = new Intent(context, MyWidget.class);\n        widgetIntent.setAction(AppWidgetManager.ACTION_APPWIDGET_UPDATE);\n        int[] ids = AppWidgetManager.getInstance(context).getAppWidgetIds(new ComponentName(context, MyWidget.class));\n        widgetIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_IDS, ids);\n        context.sendBroadcast(widgetIntent);\n\n        Log.d(&quot;WIDGET&quot;, &quot;Widget set to update!&quot;);\n\n        //go back to sleep\n        WakeLocker.release();\n    }\n}\n</code></pre>\n<p>MyWidget:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.test;\n\nimport android.appwidget.AppWidgetManager;\nimport android.appwidget.AppWidgetProvider;\nimport android.content.Context;\nimport android.util.Log;\nimport android.widget.RemoteViews;\n\n\npublic class MyWidget extends AppWidgetProvider {\n    String values = &quot;MyWidget&quot;;\n\n    void updateAppWidget(Context context, AppWidgetManager appWidgetManager, int appWidgetId) {\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.widget_design);\n\n        Log.d(&quot;MyWidget3&quot;, values);\n\n        //set the value in the textview\n        views.setTextViewText(R.id.text, values);\n\n        //update the widget\n        appWidgetManager.updateAppWidget(appWidgetId, views);\n\n        //reschedule the widget refresh\n        AlarmHandler alarmHandler = new AlarmHandler(context);\n        alarmHandler.cancelAlarmManager();\n        alarmHandler.setAlarmManager();\n\n        Log.d(&quot;WIDGET&quot;, &quot;Widget updated!&quot;);\n    }\n\n    @Override\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n        for (int appWidgetId: appWidgetIds) {\n            updateAppWidget(context, appWidgetManager, appWidgetId);\n        }\n    }\n\n    @Override\n    public void onDisabled(Context context) {\n        //stop updating the widget\n        AlarmHandler alarmHandler = new AlarmHandler(context);\n        alarmHandler.cancelAlarmManager();\n\n        Log.d(&quot;WIDGET&quot;, &quot;Widget removed!&quot;);\n    }\n}\n</code></pre>\n<p>Edits:</p>\n<p>I've added all the classes I'm using that come into play, I've managed to get the widget to be added when text is shared.</p>\n<p>But I was unable to retrieve the text on the widget side.</p>\n<p>Can you give me a hand?</p>\n"},{"tags":["java","ssl","permissions","rmi","truststore"],"answers":[{"tags":[],"owner":{"account_id":28205517,"reputation":1,"user_id":21558667,"display_name":"SophieW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683562542,"creation_date":1683562542,"answer_id":76202405,"question_id":76183714,"body_markdown":"Found the solution!  I need to sign the jar files to enable the JVM to access the property values.","title":"AccessControlException on (&quot;java.util.PropertyPermission&quot; &quot;javax.net.ssl.trustStore&quot; &quot;read&quot;) from DGCClient.java","body":"<p>Found the solution!  I need to sign the jar files to enable the JVM to access the property values.</p>\n"}],"owner":{"account_id":28205517,"reputation":1,"user_id":21558667,"display_name":"SophieW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683562542,"creation_date":1683300075,"question_id":76183714,"body_markdown":"Thank you if you can point me to a resolution.  I am using JRE 8.\r\n\r\nAfter the server and client have successfully performed handshake and connection, and while no I/O stream is present, an exception occurs from the line where trustStore is set in System property below:\r\n\r\n```\r\n    public class CustomClientSocketFactory implements RMIClientSocketFactory, Serializable {\r\n\t@Override\r\n\tpublic Socket createSocket(String host, int port) throws IOException {\r\n\t\t\r\n\t\tSSLSocket socket = null;\r\n\t\ttry {\r\n\t\t\tFile tsFile = new File(&quot;truststore.pfx&quot;);\r\n\t\t\t\r\n\t\t\tFileInputStream is = AccessController.doPrivileged(new PrivilegedAction&lt;FileInputStream&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic FileInputStream run() {\r\n\t\t\t\t\tFileInputStream fs = null;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tfs = new FileInputStream(tsFile);\r\n\t\t\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Expected file unfound: &quot; + truststore + &quot;; &quot; + e.getMessage());\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn fs;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tKeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n\t\t\tks.load(is, phrase.toCharArray());\r\n\t\t\t\r\n\t\t\tTrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n\t\t\ttmf.init(ks);\r\n\t\t\t\r\n\t\t\tSSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n\t\t\tcontext.init(null, tmf.getTrustManagers(), new SecureRandom());\r\n\t\t\t\r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;truststore.pfx&quot;);\r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, phrase);\r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;PKCS12&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\tSSLSocketFactory socketFactory = context.getSocketFactory();\r\n\t\t\tsocket = (SSLSocket) socketFactory.createSocket(host, port);\r\n\t\t\tsocket.setEnabledProtocols(new String[] {&quot;TLSv1.2&quot;, &quot;TLSv1.3&quot;});\r\n\t\t\tsocket.setEnabledCipherSuites(socket.getSupportedCipherSuites());\r\n\t    } catch (Throwable t) {\r\n\t    \tthrow new IOException(t.getMessage(), t);\r\n\t\t}\r\n\t\t\r\n\t\treturn socket;\r\n\t}\r\n    }\r\n```\r\n\r\nThis is the stacktrace:\r\n\r\n```\r\n    java.security.AccessControlException: access denied (&quot;java.util.PropertyPermission&quot; &quot;javax.net.ssl.trustStore&quot; &quot;read&quot;)\r\n    \tat java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\r\n    \tat java.security.AccessController.checkPermission(AccessController.java:886)\r\n    \tat java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\r\n    \tat java.lang.SecurityManager.checkPropertyAccess(SecurityManager.java:1294)\r\n    \tat java.lang.System.getProperty(System.java:733)\r\n\t...\r\n\tat sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:617)\r\n\tat sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216)\r\n\tat sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202)\r\n\tat sun.rmi.server.UnicastRef.newCall(UnicastRef.java:343)\r\n\tat sun.rmi.transport.DGCImpl_Stub.clean(DGCImpl_Stub.java:74)\r\n\tat sun.rmi.transport.DGCClient$EndpointEntry.makeCleanCalls(DGCClient.java:700)\r\n\tat sun.rmi.transport.DGCClient$EndpointEntry.access$1700(DGCClient.java:192)\r\n\tat sun.rmi.transport.DGCClient$EndpointEntry$RenewCleanThread$1.run(DGCClient.java:610)\r\n\tat sun.rmi.transport.DGCClient$EndpointEntry$RenewCleanThread$1.run(DGCClient.java:603)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.rmi.transport.DGCClient$EndpointEntry$RenewCleanThread.run(DGCClient.java:603)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n```\r\n\r\nWhat am I missing?  Thank you again.\r\n\r\nThe caller (from a window service using JavaService exe) has Security Manager set as well as pointing to a policy file containing these settings:\r\n```\r\ngrant {\r\n    permission java.security.AllPermission;         \r\n    permission java.net.SocketPermission &quot;localhost:1024-&quot;,&quot;connect,accept&quot;;         \r\n    permission java.util.PropertyPermission &quot;javax.net.ssl.trustStore&quot;,&quot;read&quot;;\r\n};\r\n\r\n```","title":"AccessControlException on (&quot;java.util.PropertyPermission&quot; &quot;javax.net.ssl.trustStore&quot; &quot;read&quot;) from DGCClient.java","body":"<p>Thank you if you can point me to a resolution.  I am using JRE 8.</p>\n<p>After the server and client have successfully performed handshake and connection, and while no I/O stream is present, an exception occurs from the line where trustStore is set in System property below:</p>\n<pre><code>    public class CustomClientSocketFactory implements RMIClientSocketFactory, Serializable {\n    @Override\n    public Socket createSocket(String host, int port) throws IOException {\n        \n        SSLSocket socket = null;\n        try {\n            File tsFile = new File(&quot;truststore.pfx&quot;);\n            \n            FileInputStream is = AccessController.doPrivileged(new PrivilegedAction&lt;FileInputStream&gt;() {\n                @Override\n                public FileInputStream run() {\n                    FileInputStream fs = null;\n                    try {\n                        fs = new FileInputStream(tsFile);\n                    } catch (FileNotFoundException e) {\n                        System.out.println(&quot;Expected file unfound: &quot; + truststore + &quot;; &quot; + e.getMessage());\n                    }\n                    return fs;\n                }\n                \n            });\n            \n            KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n            ks.load(is, phrase.toCharArray());\n            \n            TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n            tmf.init(ks);\n            \n            SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\n            context.init(null, tmf.getTrustManagers(), new SecureRandom());\n            \n            System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;truststore.pfx&quot;);\n            System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, phrase);\n            System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;PKCS12&quot;);\n                        \n            SSLSocketFactory socketFactory = context.getSocketFactory();\n            socket = (SSLSocket) socketFactory.createSocket(host, port);\n            socket.setEnabledProtocols(new String[] {&quot;TLSv1.2&quot;, &quot;TLSv1.3&quot;});\n            socket.setEnabledCipherSuites(socket.getSupportedCipherSuites());\n        } catch (Throwable t) {\n            throw new IOException(t.getMessage(), t);\n        }\n        \n        return socket;\n    }\n    }\n</code></pre>\n<p>This is the stacktrace:</p>\n<pre><code>    java.security.AccessControlException: access denied (&quot;java.util.PropertyPermission&quot; &quot;javax.net.ssl.trustStore&quot; &quot;read&quot;)\n        at java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\n        at java.security.AccessController.checkPermission(AccessController.java:886)\n        at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\n        at java.lang.SecurityManager.checkPropertyAccess(SecurityManager.java:1294)\n        at java.lang.System.getProperty(System.java:733)\n    ...\n    at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:617)\n    at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216)\n    at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202)\n    at sun.rmi.server.UnicastRef.newCall(UnicastRef.java:343)\n    at sun.rmi.transport.DGCImpl_Stub.clean(DGCImpl_Stub.java:74)\n    at sun.rmi.transport.DGCClient$EndpointEntry.makeCleanCalls(DGCClient.java:700)\n    at sun.rmi.transport.DGCClient$EndpointEntry.access$1700(DGCClient.java:192)\n    at sun.rmi.transport.DGCClient$EndpointEntry$RenewCleanThread$1.run(DGCClient.java:610)\n    at sun.rmi.transport.DGCClient$EndpointEntry$RenewCleanThread$1.run(DGCClient.java:603)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.DGCClient$EndpointEntry$RenewCleanThread.run(DGCClient.java:603)\n    at java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<p>What am I missing?  Thank you again.</p>\n<p>The caller (from a window service using JavaService exe) has Security Manager set as well as pointing to a policy file containing these settings:</p>\n<pre><code>grant {\n    permission java.security.AllPermission;         \n    permission java.net.SocketPermission &quot;localhost:1024-&quot;,&quot;connect,accept&quot;;         \n    permission java.util.PropertyPermission &quot;javax.net.ssl.trustStore&quot;,&quot;read&quot;;\n};\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","api","asynchronous"],"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683562201,"creation_date":1683559817,"question_id":76202062,"body_markdown":"I am currently working on a Spring Boot REST API that uses the @Async(&quot;asyncExecutor&quot;) annotation in the controller to make it non-blocking and available to the client after each request. I have intentionally added Thread.sleep for testing purposes only.\r\n\r\nThe controller is designed to work in the following three cases:\r\n\r\n1. If the msisdn is unique, then save the payload to the database.\r\n2. If the msisdn value is already in the database, then send a bad request to the client.\r\n3. If none of the above cases work, then I want to return an internal server error.\r\nI have included the code below. However, I am having trouble sending a response to the client when a catch block is triggered.\r\n\r\n\r\n\r\n\r\n\r\n// Controller\r\n```\r\n  @PostMapping(&quot;/changeMode&quot;)\r\n    @Async(&quot;asyncExecutor&quot;)\r\n    public ResponseEntity&lt;String&gt; SaveSubscriber(@RequestBody Subscribers subscribers) {\r\n        System.out.println(&quot;inside changeMode ------------&quot;+subscribers.getMsisdn());\r\n        CompletableFuture&lt;Subscribers&gt; future = userService.SaveSubscriber(subscribers);\r\n        try {\r\n            Subscribers savedUser = future.get(); // wait for the result of the async operation\r\n            System.out.println(&quot;sending response changeMode ------------&quot;+subscribers.getMsisdn());\r\n            System.out.println(savedUser != null);\r\n            if (savedUser != null) {\r\n                System.out.println(&quot;inside if statement ------------&quot;+subscribers.getMsisdn());\r\n                return ResponseEntity.ok(&quot;SUCCESS&quot;);\r\n            } else {\r\n                System.out.println(&quot;inside else statement ------------&quot;+subscribers.getMsisdn());\r\n                return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Error saving data.&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;inside catch statement ------------&quot;+subscribers.getMsisdn());\r\n            System.out.println(e);\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error saving data.&quot;);\r\n        }\r\n```\r\n// service\r\n\r\n```\r\n @Async(&quot;asyncExecutor&quot;)\r\n    public CompletableFuture&lt;Subscribers&gt; SaveSubscriber(Subscribers subscribers) {\r\n        System.out.println(Thread.currentThread().getId()+&quot;-----------------&quot;+subscribers.getMsisdn()+&quot;------------------&quot;+System.currentTimeMillis()+&quot;-------------inside services&quot;);\r\n        try {\r\n            Thread.sleep(15000);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        System.out.println(&quot;inside service method ------------------------------------------&quot;+subscribers.getMsisdn());\r\n        Subscribers savedUser = userRepository.save(subscribers);\r\n        return CompletableFuture.completedFuture(savedUser);\r\n    }\r\n```\r\nIt would be helpful to provide some code examples or specific details about your implementation in order to give a clearer understanding of the problem.\r\n\r\n","title":"Trouble returning proper response to client when using @Async in Spring Boot REST API controller","body":"<p>I am currently working on a Spring Boot REST API that uses the @Async(&quot;asyncExecutor&quot;) annotation in the controller to make it non-blocking and available to the client after each request. I have intentionally added Thread.sleep for testing purposes only.</p>\n<p>The controller is designed to work in the following three cases:</p>\n<ol>\n<li>If the msisdn is unique, then save the payload to the database.</li>\n<li>If the msisdn value is already in the database, then send a bad request to the client.</li>\n<li>If none of the above cases work, then I want to return an internal server error.\nI have included the code below. However, I am having trouble sending a response to the client when a catch block is triggered.</li>\n</ol>\n<p>// Controller</p>\n<pre><code>  @PostMapping(&quot;/changeMode&quot;)\n    @Async(&quot;asyncExecutor&quot;)\n    public ResponseEntity&lt;String&gt; SaveSubscriber(@RequestBody Subscribers subscribers) {\n        System.out.println(&quot;inside changeMode ------------&quot;+subscribers.getMsisdn());\n        CompletableFuture&lt;Subscribers&gt; future = userService.SaveSubscriber(subscribers);\n        try {\n            Subscribers savedUser = future.get(); // wait for the result of the async operation\n            System.out.println(&quot;sending response changeMode ------------&quot;+subscribers.getMsisdn());\n            System.out.println(savedUser != null);\n            if (savedUser != null) {\n                System.out.println(&quot;inside if statement ------------&quot;+subscribers.getMsisdn());\n                return ResponseEntity.ok(&quot;SUCCESS&quot;);\n            } else {\n                System.out.println(&quot;inside else statement ------------&quot;+subscribers.getMsisdn());\n                return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Error saving data.&quot;);\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;inside catch statement ------------&quot;+subscribers.getMsisdn());\n            System.out.println(e);\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error saving data.&quot;);\n        }\n</code></pre>\n<p>// service</p>\n<pre><code> @Async(&quot;asyncExecutor&quot;)\n    public CompletableFuture&lt;Subscribers&gt; SaveSubscriber(Subscribers subscribers) {\n        System.out.println(Thread.currentThread().getId()+&quot;-----------------&quot;+subscribers.getMsisdn()+&quot;------------------&quot;+System.currentTimeMillis()+&quot;-------------inside services&quot;);\n        try {\n            Thread.sleep(15000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        System.out.println(&quot;inside service method ------------------------------------------&quot;+subscribers.getMsisdn());\n        Subscribers savedUser = userRepository.save(subscribers);\n        return CompletableFuture.completedFuture(savedUser);\n    }\n</code></pre>\n<p>It would be helpful to provide some code examples or specific details about your implementation in order to give a clearer understanding of the problem.</p>\n"},{"tags":["java","android","opc-ua","opc","milo"],"owner":{"account_id":25698144,"reputation":13,"user_id":19458528,"display_name":"Antonino Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683562009,"creation_date":1683553269,"question_id":76201184,"body_markdown":"I am trying to get an opc ua client running on an android device. I tried jitpack method\r\nhttps://jitpack.io/#eclipse/milo/v0.6.8\r\nit compiles but gives error when i run the app. \r\ni downloaded the jar file using Maven \r\nhttps://mavenlibs.com/jar/file/org.eclipse.milo/sdk-client\r\nand that seemed to work but when i implement the code bellow I am getting an error with the .stack. part. When I look up the stack jar file from Maven \r\nhttps://mavenlibs.com/jar/file/org.eclipse.milo/opc-ua-stack i get an xml file. I&#39;m stuck on what the next thing is to do.\r\n\r\n```\r\nOpcUaClientConfig config = new OpcUaClientConfig() {\r\n            @Override\r\n            public org.eclipse.milo.opcua.stack.core.types.builtin.LocalizedText getApplicationName() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public String getApplicationUri() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public String getProductUri() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public Supplier&lt;String&gt; getSessionName() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public String[] getSessionLocaleIds() {\r\n                return new String[0];\r\n            }\r\n\r\n            @Override\r\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getSessionTimeout() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getMaxResponseMessageSize() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getMaxPendingPublishRequests() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public IdentityProvider getIdentityProvider() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getKeepAliveFailuresAllowed() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getKeepAliveInterval() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getKeepAliveTimeout() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public double getSubscriptionWatchdogMultiplier() {\r\n                return 0;\r\n            }\r\n        }; \r\n```","title":"How to add eclipse milo to android project","body":"<p>I am trying to get an opc ua client running on an android device. I tried jitpack method\n<a href=\"https://jitpack.io/#eclipse/milo/v0.6.8\" rel=\"nofollow noreferrer\">https://jitpack.io/#eclipse/milo/v0.6.8</a>\nit compiles but gives error when i run the app.\ni downloaded the jar file using Maven\n<a href=\"https://mavenlibs.com/jar/file/org.eclipse.milo/sdk-client\" rel=\"nofollow noreferrer\">https://mavenlibs.com/jar/file/org.eclipse.milo/sdk-client</a>\nand that seemed to work but when i implement the code bellow I am getting an error with the .stack. part. When I look up the stack jar file from Maven\n<a href=\"https://mavenlibs.com/jar/file/org.eclipse.milo/opc-ua-stack\" rel=\"nofollow noreferrer\">https://mavenlibs.com/jar/file/org.eclipse.milo/opc-ua-stack</a> i get an xml file. I'm stuck on what the next thing is to do.</p>\n<pre><code>OpcUaClientConfig config = new OpcUaClientConfig() {\n            @Override\n            public org.eclipse.milo.opcua.stack.core.types.builtin.LocalizedText getApplicationName() {\n                return null;\n            }\n\n            @Override\n            public String getApplicationUri() {\n                return null;\n            }\n\n            @Override\n            public String getProductUri() {\n                return null;\n            }\n\n            @Override\n            public Supplier&lt;String&gt; getSessionName() {\n                return null;\n            }\n\n            @Override\n            public String[] getSessionLocaleIds() {\n                return new String[0];\n            }\n\n            @Override\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getSessionTimeout() {\n                return null;\n            }\n\n            @Override\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getMaxResponseMessageSize() {\n                return null;\n            }\n\n            @Override\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getMaxPendingPublishRequests() {\n                return null;\n            }\n\n            @Override\n            public IdentityProvider getIdentityProvider() {\n                return null;\n            }\n\n            @Override\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getKeepAliveFailuresAllowed() {\n                return null;\n            }\n\n            @Override\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getKeepAliveInterval() {\n                return null;\n            }\n\n            @Override\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getKeepAliveTimeout() {\n                return null;\n            }\n\n            @Override\n            public double getSubscriptionWatchdogMultiplier() {\n                return 0;\n            }\n        }; \n</code></pre>\n"},{"tags":["java","spring","apache-kafka","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1683562582,"post_id":76202123,"comment_id":134382074,"body_markdown":"It might be related to this (https://github.com/spring-cloud/spring-cloud-stream/issues/2673) which is fixed in the next release (4.0.3). The work around is to put the security properties under Boot&#39;s global `spring.kafka` namespace instead of in the binder configuration.","body":"It might be related to this (<a href=\"https://github.com/spring-cloud/spring-cloud-stream/issues/2673\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-stream/issues/2673</a>) which is fixed in the next release (4.0.3). The work around is to put the security properties under Boot&#39;s global <code>spring.kafka</code> namespace instead of in the binder configuration."},{"owner":{"account_id":120189,"reputation":383,"user_id":312460,"accept_rate":0,"display_name":"Alexey Khudyakov"},"score":0,"creation_date":1683570670,"post_id":76202123,"comment_id":134383851,"body_markdown":"@GaryRussell, yes! I&#39;ve added as you suggest and it works!\nThank you very much :)","body":"@GaryRussell, yes! I&#39;ve added as you suggest and it works! Thank you very much :)"}],"owner":{"account_id":120189,"reputation":383,"user_id":312460,"accept_rate":0,"display_name":"Alexey Khudyakov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683561646,"creation_date":1683560408,"question_id":76202123,"body_markdown":"I&#39;m developing a simple microservice that is consuming messages from Kafka&#39;s topic and producing modified messages to another topic\r\n\r\nWithout an authentification all works perfectly. But when I&#39;m tring to use SASL Plaintext authentification broker is writing  authentication errors to log. It looks like what auth settings were ignored, I get the messages in the application log during startup\r\n\r\n```\r\n...\r\n\tsasl.jaas.config = null\r\n....\r\n\tsasl.mechanism = GSSAPI\r\n...\r\n\tsecurity.protocol = PLAINTEXT\r\n```\r\n\r\nHere my application.yml file. I used this [github][1] file as an example.\r\n\r\n```yaml\r\nspring.cloud:\r\n  function.definition: stocksProcessor\r\nspring.cloud.stream:\r\n  bindings:\r\n    stocksProcessor-in-0:\r\n      destination: input-stocks\r\n      group: ms-pos-stocks-provider-dev\r\n    stocksProcessor-out-0:\r\n      destination: output-stocks.pretty\r\n  kafka.streams:\r\n    binder.applicationId: ms-pos-stocks-provider\r\n  kafka.binder:\r\n    brokers: kafka-01:19092,kafka-02:29092, kafka-03:39092\r\n    jaas.enabled: true\r\n    configuration.security.protocol: SASL_PLAINTEXT\r\n    configuration.sasl.mechanism: PLAIN\r\n    configuration.sasl.jaas.config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;user&quot; password=&quot;password&quot;;\r\n  kafka.bindings:\r\n    stocksProcessor-in-0:\r\n      consumer:\r\n        enableDlq: true\r\n        dlqName: dlq-stocks\r\n        configuration:\r\n          value:\r\n            deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\r\n    stocksProcessor-out-0:\r\n      producer:\r\n        compression: lz4\r\n        configuration:\r\n          value:\r\n            serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\n```\r\n\r\nAnd here snippet from my pom.xml\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-stream-binder-kafka-streams&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nThank you\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-stream-samples/blob/main/multi-binder-samples/kafka-multi-binder-jaas/src/main/resources/application.yml#L25","title":"Spring Cloud Stream ignores authentication settings","body":"<p>I'm developing a simple microservice that is consuming messages from Kafka's topic and producing modified messages to another topic</p>\n<p>Without an authentification all works perfectly. But when I'm tring to use SASL Plaintext authentification broker is writing  authentication errors to log. It looks like what auth settings were ignored, I get the messages in the application log during startup</p>\n<pre><code>...\n    sasl.jaas.config = null\n....\n    sasl.mechanism = GSSAPI\n...\n    security.protocol = PLAINTEXT\n</code></pre>\n<p>Here my application.yml file. I used this <a href=\"https://github.com/spring-cloud/spring-cloud-stream-samples/blob/main/multi-binder-samples/kafka-multi-binder-jaas/src/main/resources/application.yml#L25\" rel=\"nofollow noreferrer\">github</a> file as an example.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring.cloud:\n  function.definition: stocksProcessor\nspring.cloud.stream:\n  bindings:\n    stocksProcessor-in-0:\n      destination: input-stocks\n      group: ms-pos-stocks-provider-dev\n    stocksProcessor-out-0:\n      destination: output-stocks.pretty\n  kafka.streams:\n    binder.applicationId: ms-pos-stocks-provider\n  kafka.binder:\n    brokers: kafka-01:19092,kafka-02:29092, kafka-03:39092\n    jaas.enabled: true\n    configuration.security.protocol: SASL_PLAINTEXT\n    configuration.sasl.mechanism: PLAIN\n    configuration.sasl.jaas.config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;user&quot; password=&quot;password&quot;;\n  kafka.bindings:\n    stocksProcessor-in-0:\n      consumer:\n        enableDlq: true\n        dlqName: dlq-stocks\n        configuration:\n          value:\n            deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\n    stocksProcessor-out-0:\n      producer:\n        compression: lz4\n        configuration:\n          value:\n            serializer: org.springframework.kafka.support.serializer.JsonSerializer\n</code></pre>\n<p>And here snippet from my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-stream-binder-kafka-streams&lt;/artifactId&gt;\n            &lt;version&gt;4.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","android","kotlin","clipboard"],"comments":[{"owner":{"account_id":7934148,"reputation":2972,"user_id":5990846,"display_name":"Jay"},"score":1,"creation_date":1683566733,"post_id":76202222,"comment_id":134383010,"body_markdown":"[Avoid duplicate notifications](https://developer.android.com/develop/ui/views/touch-and-input/copy-paste#duplicate-notifications) might help you to understand the recommended way to notify users about the copied text using `ClipboardManager` API.","body":"<a href=\"https://developer.android.com/develop/ui/views/touch-and-input/copy-paste#duplicate-notifications\" rel=\"nofollow noreferrer\">Avoid duplicate notifications</a> might help you to understand the recommended way to notify users about the copied text using <code>ClipboardManager</code> API."},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1683567504,"post_id":76202222,"comment_id":134383173,"body_markdown":"Specifically Jay&#39;s link is saying don&#39;t notify on Android 13+, because there&#39;s a standard system notification when the clipboard is accessed. So you should do an API version check, and only post the Toast for version *32* and below","body":"Specifically Jay&#39;s link is saying don&#39;t notify on Android 13+, because there&#39;s a standard system notification when the clipboard is accessed. So you should do an API version check, and only post the Toast for version <i>32</i> and below"}],"answers":[{"tags":[],"owner":{"account_id":21952459,"reputation":214,"user_id":16231514,"display_name":"Franklyn Oreben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683561559,"creation_date":1683561559,"answer_id":76202273,"question_id":76202222,"body_markdown":"To disable the &quot;Copied to Clipboard&quot; toast, you can set the duration of the Toast to 0. This will prevent the toast from showing.\r\n```\r\nval clipboard = ContextCompat.getSystemService(\r\n                applicationContext,\r\n                ClipboardManager::class.java\r\n            )\r\n            val clip =\r\n                ClipData.newPlainText(&quot;label&quot;, &quot;${chapter_number.text}&quot;)\r\n            clipboard?.setPrimaryClip(clip)\r\n            Toast.makeText(\r\n                applicationContext,\r\n                &quot;Your paragraph for chapter ${chapter_number.text()} has been copied.&quot;,\r\n                0 // set duration to 0\r\n            ).show()\r\n```","title":"How to disable &quot;Copied to Clipboard&quot; toast after copying a sentence programmatically using kotlin?","body":"<p>To disable the &quot;Copied to Clipboard&quot; toast, you can set the duration of the Toast to 0. This will prevent the toast from showing.</p>\n<pre><code>val clipboard = ContextCompat.getSystemService(\n                applicationContext,\n                ClipboardManager::class.java\n            )\n            val clip =\n                ClipData.newPlainText(&quot;label&quot;, &quot;${chapter_number.text}&quot;)\n            clipboard?.setPrimaryClip(clip)\n            Toast.makeText(\n                applicationContext,\n                &quot;Your paragraph for chapter ${chapter_number.text()} has been copied.&quot;,\n                0 // set duration to 0\n            ).show()\n</code></pre>\n"}],"owner":{"account_id":24141999,"reputation":53,"user_id":18108080,"display_name":"Tommy -"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683561559,"creation_date":1683561144,"question_id":76202222,"body_markdown":"So I provide a user a button that copy a list of paragraph after they have clicked a button, so they won&#39;t need to select the paragraph themselves and waste so much effort.\r\n\r\nAfter they have copied using the button, a toast with a text &quot;your paragraph for chapter xx has been copied&quot; will show up\r\n\r\nAll is well, but the problem is, there is &quot;copied to clipboard&quot; toast comes out as well after the &quot;your paragraph for chapter xx has been copied&quot; toast disappear. It feels like double information, which looks redundant.\r\n\r\nis there anyway to disable the &quot;copied to clipboard&quot; toast programmatically?\r\n\r\nBelow is my copy button&#39;s code:\r\n\r\n    val clipboard = ContextCompat.getSystemService(\r\n                    applicationContext,\r\n                    ClipboardManager::class.java\r\n                )\r\n                val clip =\r\n                    ClipData.newPlainText(&quot;label&quot;, &quot;${chapter_number.text}&quot;)\r\n                clipboard?.setPrimaryClip(clip)\r\n                Toast.makeText(\r\n                    applicationContext,\r\n                    &quot;Your paragraph for chapter ${chapter_number.text()} has been copied.&quot;,\r\n                    Toast.LENGTH_SHORT\r\n                ).show()\r\n\r\nThank you.","title":"How to disable &quot;Copied to Clipboard&quot; toast after copying a sentence programmatically using kotlin?","body":"<p>So I provide a user a button that copy a list of paragraph after they have clicked a button, so they won't need to select the paragraph themselves and waste so much effort.</p>\n<p>After they have copied using the button, a toast with a text &quot;your paragraph for chapter xx has been copied&quot; will show up</p>\n<p>All is well, but the problem is, there is &quot;copied to clipboard&quot; toast comes out as well after the &quot;your paragraph for chapter xx has been copied&quot; toast disappear. It feels like double information, which looks redundant.</p>\n<p>is there anyway to disable the &quot;copied to clipboard&quot; toast programmatically?</p>\n<p>Below is my copy button's code:</p>\n<pre><code>val clipboard = ContextCompat.getSystemService(\n                applicationContext,\n                ClipboardManager::class.java\n            )\n            val clip =\n                ClipData.newPlainText(&quot;label&quot;, &quot;${chapter_number.text}&quot;)\n            clipboard?.setPrimaryClip(clip)\n            Toast.makeText(\n                applicationContext,\n                &quot;Your paragraph for chapter ${chapter_number.text()} has been copied.&quot;,\n                Toast.LENGTH_SHORT\n            ).show()\n</code></pre>\n<p>Thank you.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9544,"page":448,"page_size":100}
