{"items":[{"tags":["java","ant","javadoc"],"answers":[{"tags":[],"owner":{"account_id":4985622,"reputation":500,"user_id":4677917,"display_name":"AntumDeluge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670443653,"creation_date":1670443653,"answer_id":74722356,"question_id":74710036,"body_markdown":"I was incorrect in thinking the task required a list of directories as input. By using the `sourcepath` &amp; `packageset` tags it was looking for directories/packages. The answer was to use `fileset` instead.\r\n\r\n```\r\n  &lt;javadoc\r\n...\r\n    &lt;fileset dir=&quot;src/&quot; includes=&quot;**/*.java&quot;/&gt;\r\n    &lt;fileset dir=&quot;tests/&quot; includes=&quot;**/*.java&quot; excludes=&quot;games/**&quot;/&gt;\r\n```\r\n\r\nThis in turn required that I also add the `src` &amp; `tests` directories to the classpath.\r\n\r\n```\r\n    &lt;classpath&gt;\r\n      &lt;pathelement path=&quot;src/&quot;/&gt;\r\n      &lt;pathelement path=&quot;tests/&quot;/&gt;\r\n    &lt;/classpath&gt;\r\n```","title":"Ant: Exclude Packageset Sub-Directory of Same Name as Another Packageset","body":"<p>I was incorrect in thinking the task required a list of directories as input. By using the <code>sourcepath</code> &amp; <code>packageset</code> tags it was looking for directories/packages. The answer was to use <code>fileset</code> instead.</p>\n<pre><code>  &lt;javadoc\n...\n    &lt;fileset dir=&quot;src/&quot; includes=&quot;**/*.java&quot;/&gt;\n    &lt;fileset dir=&quot;tests/&quot; includes=&quot;**/*.java&quot; excludes=&quot;games/**&quot;/&gt;\n</code></pre>\n<p>This in turn required that I also add the <code>src</code> &amp; <code>tests</code> directories to the classpath.</p>\n<pre><code>    &lt;classpath&gt;\n      &lt;pathelement path=&quot;src/&quot;/&gt;\n      &lt;pathelement path=&quot;tests/&quot;/&gt;\n    &lt;/classpath&gt;\n</code></pre>\n"}],"owner":{"account_id":4985622,"reputation":500,"user_id":4677917,"display_name":"AntumDeluge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74722356,"answer_count":1,"score":0,"last_activity_date":1670443653,"creation_date":1670368126,"question_id":74710036,"body_markdown":"I am trying to run a `javadoc` task in Apache Ant that documents packages from two separate directories: `src` &amp; `tests`. I want to document everything under `src` &amp; only the `utilities` sub-directory under `tests`. The problem is that both directories contain a sub-directory named `games`. By including the `games` directory from `src` it also forces the `games` directory to be included from `tests`.\r\n\r\nNeither of the following work:\r\n\r\n```\r\n&lt;target name=&quot;docs&quot;&gt;\r\n  &lt;javadoc\r\n      defaultexcludes=&quot;yes&quot;\r\n      destdir=&quot;docs/&quot;\r\n      author=&quot;true&quot;\r\n      encoding=&quot;UTF-8&quot;\r\n      version=&quot;true&quot;\r\n      use=&quot;true&quot;\r\n      failonerror=&quot;yes&quot;\r\n      additionalparam=&quot;-Xdoclint:-html&quot;&gt;\r\n    &lt;packageset dir=&quot;src/&quot;/&gt;\r\n    &lt;packageset dir=&quot;tests/&quot; includes=&quot;utilities/&quot;/&gt;\r\n  &lt;/javadoc&gt;\r\n&lt;/target&gt;\r\n```\r\n\r\n\r\n```\r\n&lt;target name=&quot;docs&quot;&gt;\r\n  &lt;javadoc packagenames=&quot;games.*&quot;\r\n      defaultexcludes=&quot;yes&quot;\r\n      destdir=&quot;docs/&quot;\r\n      author=&quot;true&quot;\r\n      encoding=&quot;UTF-8&quot;\r\n      version=&quot;true&quot;\r\n      use=&quot;true&quot;\r\n      failonerror=&quot;yes&quot;\r\n      additionalparam=&quot;-Xdoclint:-html&quot;&gt;\r\n    &lt;sourcepath path=&quot;src/&quot;/&gt;\r\n    &lt;packageset dir=&quot;tests/&quot; includes=&quot;utilities/&quot;/&gt;\r\n  &lt;/javadoc&gt;\r\n&lt;/target&gt;\r\n```\r\n\r\nI have also tried the following, but `tests/games` is always forced to be included if `src/games` is.\r\n\r\n```\r\n  &lt;javadoc packagenames=&quot;games.*&quot;\r\n...\r\n    &lt;sourcepath path=&quot;src/&quot;/&gt;\r\n    &lt;packageset dir=&quot;tests/&quot; includes=&quot;utilities/&quot; excludes=&quot;games/&quot;/&gt;\r\n```\r\n\r\n\r\n```\r\n  &lt;javadoc packagenames=&quot;games.*,utilities.*&quot;\r\n...\r\n    &lt;sourcepath path=&quot;src/&quot;/&gt;\r\n    &lt;sourcepath&gt;\r\n      &lt;dirset dir=&quot;tests/&quot; excludes=&quot;games/&quot;/&gt;\r\n    &lt;/sourcepath&gt;\r\n```\r\n\r\n```\r\n  &lt;javadoc packagenames=&quot;games.*&quot;\r\n...\r\n    &lt;sourcepath path=&quot;src/&quot;/&gt;\r\n    &lt;packageset dir=&quot;tests/&quot;&gt;\r\n      &lt;patternset includes=&quot;utilities/&quot;/&gt;\r\n    &lt;/packageset&gt;\r\n```\r\n\r\nIf I use a `sourcepath` for `src` &amp; don&#39;t include &quot;games.*&quot; in `packagenames`, then the `tests/games` directory is omitted. But then I don&#39;t get any documentation for `src/games`.\r\n\r\n```\r\n  &lt;javadoc packagenames=&quot;foobar&quot;\r\n...\r\n    &lt;sourcepath path=&quot;src/&quot;/&gt;\r\n    &lt;packageset dir=&quot;tests/&quot; includes=&quot;utilities/&quot;/&gt;\r\n```\r\n\r\nI also tried using a nested `fileset`, but then there is a messages that all the files under the `tests` directory are skipped because the task wants a list of directories as input: `Skipping &lt;filename&gt;.java since it is no directory`\r\n\r\n```\r\n    &lt;sourcepath&gt;\r\n      &lt;fileset dir=&quot;tests/&quot;&gt;\r\n        &lt;exclude name=&quot;games/**/*.java&quot;/&gt;\r\n      &lt;/fileset&gt;\r\n    &lt;/sourcepath&gt;\r\n```\r\n\r\nIs there any way around this so I can get documentation for both `src/games` &amp; `tests/utilities` without `tests/games`? I have found many answers on excluding package directories. But nothing about when two package directories share the same name.\r\n\r\nhttps://ant.apache.org/manual/Tasks/javadoc.html states that:\r\n\r\n&gt; The *packagenames*, *excludepackagenames* and *defaultexcludes* attributes of the task have no effect on the nested `&lt;packageset&gt;` elements.\r\n\r\nBut this doesn&#39;t seem to be the case if another `packageset` or `sourcepath` is using the package name.\r\n\r\nJava &amp; Ant info:\r\n```\r\n$ java -version\r\nopenjdk version &quot;17.0.5&quot; 2022-10-18\r\nOpenJDK Runtime Environment (build 17.0.5+8-Ubuntu-2ubuntu122.04)\r\nOpenJDK 64-Bit Server VM (build 17.0.5+8-Ubuntu-2ubuntu122.04, mixed mode, sharing)\r\n\r\n$ ant -version\r\nApache Ant(TM) version 1.10.12 compiled on January 17 1970\r\n```","title":"Ant: Exclude Packageset Sub-Directory of Same Name as Another Packageset","body":"<p>I am trying to run a <code>javadoc</code> task in Apache Ant that documents packages from two separate directories: <code>src</code> &amp; <code>tests</code>. I want to document everything under <code>src</code> &amp; only the <code>utilities</code> sub-directory under <code>tests</code>. The problem is that both directories contain a sub-directory named <code>games</code>. By including the <code>games</code> directory from <code>src</code> it also forces the <code>games</code> directory to be included from <code>tests</code>.</p>\n<p>Neither of the following work:</p>\n<pre><code>&lt;target name=&quot;docs&quot;&gt;\n  &lt;javadoc\n      defaultexcludes=&quot;yes&quot;\n      destdir=&quot;docs/&quot;\n      author=&quot;true&quot;\n      encoding=&quot;UTF-8&quot;\n      version=&quot;true&quot;\n      use=&quot;true&quot;\n      failonerror=&quot;yes&quot;\n      additionalparam=&quot;-Xdoclint:-html&quot;&gt;\n    &lt;packageset dir=&quot;src/&quot;/&gt;\n    &lt;packageset dir=&quot;tests/&quot; includes=&quot;utilities/&quot;/&gt;\n  &lt;/javadoc&gt;\n&lt;/target&gt;\n</code></pre>\n<pre><code>&lt;target name=&quot;docs&quot;&gt;\n  &lt;javadoc packagenames=&quot;games.*&quot;\n      defaultexcludes=&quot;yes&quot;\n      destdir=&quot;docs/&quot;\n      author=&quot;true&quot;\n      encoding=&quot;UTF-8&quot;\n      version=&quot;true&quot;\n      use=&quot;true&quot;\n      failonerror=&quot;yes&quot;\n      additionalparam=&quot;-Xdoclint:-html&quot;&gt;\n    &lt;sourcepath path=&quot;src/&quot;/&gt;\n    &lt;packageset dir=&quot;tests/&quot; includes=&quot;utilities/&quot;/&gt;\n  &lt;/javadoc&gt;\n&lt;/target&gt;\n</code></pre>\n<p>I have also tried the following, but <code>tests/games</code> is always forced to be included if <code>src/games</code> is.</p>\n<pre><code>  &lt;javadoc packagenames=&quot;games.*&quot;\n...\n    &lt;sourcepath path=&quot;src/&quot;/&gt;\n    &lt;packageset dir=&quot;tests/&quot; includes=&quot;utilities/&quot; excludes=&quot;games/&quot;/&gt;\n</code></pre>\n<pre><code>  &lt;javadoc packagenames=&quot;games.*,utilities.*&quot;\n...\n    &lt;sourcepath path=&quot;src/&quot;/&gt;\n    &lt;sourcepath&gt;\n      &lt;dirset dir=&quot;tests/&quot; excludes=&quot;games/&quot;/&gt;\n    &lt;/sourcepath&gt;\n</code></pre>\n<pre><code>  &lt;javadoc packagenames=&quot;games.*&quot;\n...\n    &lt;sourcepath path=&quot;src/&quot;/&gt;\n    &lt;packageset dir=&quot;tests/&quot;&gt;\n      &lt;patternset includes=&quot;utilities/&quot;/&gt;\n    &lt;/packageset&gt;\n</code></pre>\n<p>If I use a <code>sourcepath</code> for <code>src</code> &amp; don't include &quot;games.*&quot; in <code>packagenames</code>, then the <code>tests/games</code> directory is omitted. But then I don't get any documentation for <code>src/games</code>.</p>\n<pre><code>  &lt;javadoc packagenames=&quot;foobar&quot;\n...\n    &lt;sourcepath path=&quot;src/&quot;/&gt;\n    &lt;packageset dir=&quot;tests/&quot; includes=&quot;utilities/&quot;/&gt;\n</code></pre>\n<p>I also tried using a nested <code>fileset</code>, but then there is a messages that all the files under the <code>tests</code> directory are skipped because the task wants a list of directories as input: <code>Skipping &lt;filename&gt;.java since it is no directory</code></p>\n<pre><code>    &lt;sourcepath&gt;\n      &lt;fileset dir=&quot;tests/&quot;&gt;\n        &lt;exclude name=&quot;games/**/*.java&quot;/&gt;\n      &lt;/fileset&gt;\n    &lt;/sourcepath&gt;\n</code></pre>\n<p>Is there any way around this so I can get documentation for both <code>src/games</code> &amp; <code>tests/utilities</code> without <code>tests/games</code>? I have found many answers on excluding package directories. But nothing about when two package directories share the same name.</p>\n<p><a href=\"https://ant.apache.org/manual/Tasks/javadoc.html\" rel=\"nofollow noreferrer\">https://ant.apache.org/manual/Tasks/javadoc.html</a> states that:</p>\n<blockquote>\n<p>The <em>packagenames</em>, <em>excludepackagenames</em> and <em>defaultexcludes</em> attributes of the task have no effect on the nested <code>&lt;packageset&gt;</code> elements.</p>\n</blockquote>\n<p>But this doesn't seem to be the case if another <code>packageset</code> or <code>sourcepath</code> is using the package name.</p>\n<p>Java &amp; Ant info:</p>\n<pre><code>$ java -version\nopenjdk version &quot;17.0.5&quot; 2022-10-18\nOpenJDK Runtime Environment (build 17.0.5+8-Ubuntu-2ubuntu122.04)\nOpenJDK 64-Bit Server VM (build 17.0.5+8-Ubuntu-2ubuntu122.04, mixed mode, sharing)\n\n$ ant -version\nApache Ant(TM) version 1.10.12 compiled on January 17 1970\n</code></pre>\n"},{"tags":["java","reactjs","amazon-web-services","hosting","netlify"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1670455807,"post_id":74722028,"comment_id":131882822,"body_markdown":"We need some more information.  Can you share the domain name?  Name servers are specified in DNS and, while you can have multiple vendors, there is likely no need.  The key will be your SOA record.  That can be found via something like `dig -t SOA domain.tld`.  I don&#39;t think this question really has anything to do with java or reactjs though.","body":"We need some more information.  Can you share the domain name?  Name servers are specified in DNS and, while you can have multiple vendors, there is likely no need.  The key will be your SOA record.  That can be found via something like <code>dig -t SOA domain.tld</code>.  I don&#39;t think this question really has anything to do with java or reactjs though."}],"answers":[{"tags":[],"owner":{"account_id":5570339,"reputation":11,"user_id":4415928,"display_name":"Chris Short"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670443104,"creation_date":1670443056,"answer_id":74722267,"question_id":74722028,"body_markdown":"The way you have things set up would only work some of the time. The Netlify servers have some records and Route53 has some records. If a DNS request for api. goes to a nameserver that doesn&#39;t have a record for api. an error will be returned. Until you reach a large enough scale, I&#39;d recommend picking one service, putting all your records in that service, and entering those nameserver addresses into GoDaddy.\r\n\r\nYou can use multiple DNS providers but only if records for all hosts exist in each one (the endpoints for those records could be different) but api. and www. would need to exist on all providers in your case.","title":"Issue while adding multiple hosting nameservers","body":"<p>The way you have things set up would only work some of the time. The Netlify servers have some records and Route53 has some records. If a DNS request for api. goes to a nameserver that doesn't have a record for api. an error will be returned. Until you reach a large enough scale, I'd recommend picking one service, putting all your records in that service, and entering those nameserver addresses into GoDaddy.</p>\n<p>You can use multiple DNS providers but only if records for all hosts exist in each one (the endpoints for those records could be different) but api. and www. would need to exist on all providers in your case.</p>\n"}],"owner":{"account_id":18876038,"reputation":1,"user_id":13769550,"display_name":"Utkarsh Goyal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670462990,"answer_count":1,"score":0,"last_activity_date":1670443104,"creation_date":1670441323,"question_id":74722028,"body_markdown":"I have purchased my domain from godaddy and now I&#39;m trying to connect my domain to the backend using aws server and frontend using netlify hosting, for aws server I have used route53 and created subdomain: api.mydomain.com and added the nameservers to godaddy DNS configs and similarly at netlify end I have created subdomain: test.mydomain.com and added its nameserver also to godaddy but in this process only one subdomain is working either api. or test. \r\n\r\nI&#39;m new in this, and I can&#39;t figure it out where I&#39;m doing worng.","title":"Issue while adding multiple hosting nameservers","body":"<p>I have purchased my domain from godaddy and now I'm trying to connect my domain to the backend using aws server and frontend using netlify hosting, for aws server I have used route53 and created subdomain: api.mydomain.com and added the nameservers to godaddy DNS configs and similarly at netlify end I have created subdomain: test.mydomain.com and added its nameserver also to godaddy but in this process only one subdomain is working either api. or test.</p>\n<p>I'm new in this, and I can't figure it out where I'm doing worng.</p>\n"},{"tags":["java","treeset"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1670442894,"post_id":74722237,"comment_id":131879992,"body_markdown":"`TreeSet` does not have great native support for this use case, but a custom binary tree could do better.  That&#39;s a lot of work, though.","body":"<code>TreeSet</code> does not have great native support for this use case, but a custom binary tree could do better.  That&#39;s a lot of work, though."},{"owner":{"account_id":3297248,"reputation":666,"user_id":2774232,"accept_rate":95,"display_name":"corneliu"},"score":0,"creation_date":1670443363,"post_id":74722237,"comment_id":131880114,"body_markdown":"would this help? https://stackoverflow.com/a/36296888/2774232 ?","body":"would this help? <a href=\"https://stackoverflow.com/a/36296888/2774232\">stackoverflow.com/a/36296888/2774232</a> ?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1670443768,"post_id":74722237,"comment_id":131880213,"body_markdown":"@corneliu: that doesn&#39;t particularly benefit efficiency in this case.","body":"@corneliu: that doesn&#39;t particularly benefit efficiency in this case."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1670448381,"post_id":74722237,"comment_id":131881243,"body_markdown":"Do you need to mutate this collection?  Or just have something sorted?  A sorted list might actually be ideal.","body":"Do you need to mutate this collection?  Or just have something sorted?  A sorted list might actually be ideal."},{"owner":{"account_id":23517739,"reputation":133,"user_id":17565391,"display_name":"Julia F."},"score":0,"creation_date":1670502424,"post_id":74722237,"comment_id":131892697,"body_markdown":"@LouisWasserman I am not sure that I understand exactly what it means to mutate the collection. When generating the union `TreeSet` I generate it from one of the previous sets (`TreeSet&lt;Integer&gt; union = new TreeSet&lt;&gt;(sketchA);`) and then add the second set using the `addAll` function (`union.addAll(sketchB);`). After this step I only need to remove the overhang, i.e. the highest values, to get a set of size `s`.","body":"@LouisWasserman I am not sure that I understand exactly what it means to mutate the collection. When generating the union <code>TreeSet</code> I generate it from one of the previous sets (<code>TreeSet&lt;Integer&gt; union = new TreeSet&lt;&gt;(sketchA);</code>) and then add the second set using the <code>addAll</code> function (<code>union.addAll(sketchB);</code>). After this step I only need to remove the overhang, i.e. the highest values, to get a set of size <code>s</code>."}],"owner":{"account_id":23517739,"reputation":133,"user_id":17565391,"display_name":"Julia F."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1670442764,"creation_date":1670442764,"question_id":74722237,"body_markdown":"I am currently implementing the Mash algorithm for genome comparison. For this I need to create a sketch S(A) for each genome, which is a set of certain size `s` containing the lowest hash values corresponding to k-mers in the genome. To compare two genomes, I am computing the Jaccard index, for which I need an additional sketch of the union of the two genomes, i.e. S(A u B) for two genomes A and B. This should contain the `s` lowest hash values found in the union of A and B.\r\n\r\nI am computing the sketches as a `TreeSet` because in the original algorithm to compute a sketch I need to remove the biggest value from the set whenever I add a new value that is lower and the sketch has already reached the maximum size `s`. This is very easily accomplished using `TreeSet` because the largest value will be in the last position of the set.\r\n\r\nI have computed a union of two sketches and now want to remove the larger elements to reduce the sketch size to size `s`. I first implemented this using a `while` loop and removing the last element until reaching the desired size.\r\n\r\n\r\nThe following is my code using an example `TreeSet` and size `s` = 10:\r\n```\r\nSortedSet&lt;Integer&gt; example = new TreeSet&lt;&gt;();\r\nfor (int i = 0; i &lt; 15; i++) {\r\n    example.add(i);\r\n}\r\n\r\nwhile (example.size() &gt; 10) example.remove(example.last());\r\n```\r\n\r\nHowever, in the real application sketch sizes will be much larger and the size of the union can be up to two times the size of a single sketch. Trying to find a more efficient way to reduce the sketch size I found that you could convert the `TreeSet` to an array. Thus, my second approach would be the following:\r\n```\r\nObject[] temp = example.toArray();\r\nint value = (int) temp[10];\r\nexample = example.headSet(value);\r\n```\r\nSo, here I am getting the value at index `s` from the array, which I can then use to create a `headSet` from the `TreeSet`.\r\n\r\nNow, I am wondering if there is a more efficient way to reduce the size of the `TreeSet`, where I don&#39;t need to iterate over the size of the `TreeSet` over and over again or generate an extra array.\r\n\r\n","title":"Is there a more efficient way to reduce Java TreeSet to a subset based on index?","body":"<p>I am currently implementing the Mash algorithm for genome comparison. For this I need to create a sketch S(A) for each genome, which is a set of certain size <code>s</code> containing the lowest hash values corresponding to k-mers in the genome. To compare two genomes, I am computing the Jaccard index, for which I need an additional sketch of the union of the two genomes, i.e. S(A u B) for two genomes A and B. This should contain the <code>s</code> lowest hash values found in the union of A and B.</p>\n<p>I am computing the sketches as a <code>TreeSet</code> because in the original algorithm to compute a sketch I need to remove the biggest value from the set whenever I add a new value that is lower and the sketch has already reached the maximum size <code>s</code>. This is very easily accomplished using <code>TreeSet</code> because the largest value will be in the last position of the set.</p>\n<p>I have computed a union of two sketches and now want to remove the larger elements to reduce the sketch size to size <code>s</code>. I first implemented this using a <code>while</code> loop and removing the last element until reaching the desired size.</p>\n<p>The following is my code using an example <code>TreeSet</code> and size <code>s</code> = 10:</p>\n<pre><code>SortedSet&lt;Integer&gt; example = new TreeSet&lt;&gt;();\nfor (int i = 0; i &lt; 15; i++) {\n    example.add(i);\n}\n\nwhile (example.size() &gt; 10) example.remove(example.last());\n</code></pre>\n<p>However, in the real application sketch sizes will be much larger and the size of the union can be up to two times the size of a single sketch. Trying to find a more efficient way to reduce the sketch size I found that you could convert the <code>TreeSet</code> to an array. Thus, my second approach would be the following:</p>\n<pre><code>Object[] temp = example.toArray();\nint value = (int) temp[10];\nexample = example.headSet(value);\n</code></pre>\n<p>So, here I am getting the value at index <code>s</code> from the array, which I can then use to create a <code>headSet</code> from the <code>TreeSet</code>.</p>\n<p>Now, I am wondering if there is a more efficient way to reduce the size of the <code>TreeSet</code>, where I don't need to iterate over the size of the <code>TreeSet</code> over and over again or generate an extra array.</p>\n"},{"tags":["java","intellij-idea","bluej","intellij-15"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1670434630,"post_id":74720683,"comment_id":131877564,"body_markdown":"Please see https://stackoverflow.com/a/16784855/104891. Does it help?","body":"Please see <a href=\"https://stackoverflow.com/a/16784855/104891\">stackoverflow.com/a/16784855/104891</a>. Does it help?"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1670435350,"post_id":74720683,"comment_id":131877805,"body_markdown":"A suggestion, have different projects for different things.  For work, we have one project per, er, well, project.  However, for testing code that I find here on Stack Overflow or other code detective work, I have a project called `test-code` and inside there I have many different packages for different tests named after what the problem is about:  forloop, lists, circuitbreaker, codepoint, md5, jackson, etc...","body":"A suggestion, have different projects for different things.  For work, we have one project per, er, well, project.  However, for testing code that I find here on Stack Overflow or other code detective work, I have a project called <code>test-code</code> and inside there I have many different packages for different tests named after what the problem is about:  forloop, lists, circuitbreaker, codepoint, md5, jackson, etc..."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1670435400,"post_id":74720683,"comment_id":131877815,"body_markdown":"You can use Scratch files feature as well: https://www.jetbrains.com/help/idea/scratches.html.","body":"You can use Scratch files feature as well: <a href=\"https://www.jetbrains.com/help/idea/scratches.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/scratches.html</a>."},{"owner":{"account_id":27180883,"reputation":1,"user_id":20716148,"display_name":"Rohith Rathod"},"score":0,"creation_date":1670461053,"post_id":74720683,"comment_id":131883646,"body_markdown":"@hooknc , yeah, that is an excellent way in the future, but it does not solve my current problem, which is I have a lot of code in that folder that I wrote in BlueJ for testing, and I want a way to compile them individually as I can do in BlueJ.","body":"@hooknc , yeah, that is an excellent way in the future, but it does not solve my current problem, which is I have a lot of code in that folder that I wrote in BlueJ for testing, and I want a way to compile them individually as I can do in BlueJ."},{"owner":{"account_id":27180883,"reputation":1,"user_id":20716148,"display_name":"Rohith Rathod"},"score":0,"creation_date":1670461633,"post_id":74720683,"comment_id":131883720,"body_markdown":"@CrazyCoder , the StackOverflow link you posted doesn&#39;t help as I should do it for every java file in my folder, which is very tedious. The scratch file idea, for some reason, is not working as it still says in the problem window that class &quot;xxxxx&quot; is never used and method &quot;xxxx&quot; is never used.","body":"@CrazyCoder , the StackOverflow link you posted doesn&#39;t help as I should do it for every java file in my folder, which is very tedious. The scratch file idea, for some reason, is not working as it still says in the problem window that class &quot;xxxxx&quot; is never used and method &quot;xxxx&quot; is never used."}],"owner":{"account_id":27180883,"reputation":1,"user_id":20716148,"display_name":"Rohith Rathod"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670442701,"creation_date":1670434234,"question_id":74720683,"body_markdown":"I am new to IntelliJ, I started using it because it streamlines java coding stuff.\r\n\r\nI am currently a student so my main java folder is not a complete project but a collection of different individual java programs like a program for testing ArrayList functionalities, or a specific leet code problem. I have one java folder and many different subfolders depending upon the content.\r\n\r\nWhen I open my java folder with IntelliJ and run one of the files it tries to compile all the java files in the java folder, and I don&#39;t want it to do that. How do I configure IntelliJ such that it treats all files within my java folders as individual files and complies only the ones that I want to compile, like blueJ for example?\r\n\r\nNote: I have searched for this question but found mostly outdated answers or answers that don&#39;t work in my case. I tried the current file option from the top right drop-down but it says class &quot;xxxx&quot; is never used or something like that and that the file is not runnable.\r\n\r\n","title":"How to configure Intellij Idea to compile files induvidually without building the whole folder?","body":"<p>I am new to IntelliJ, I started using it because it streamlines java coding stuff.</p>\n<p>I am currently a student so my main java folder is not a complete project but a collection of different individual java programs like a program for testing ArrayList functionalities, or a specific leet code problem. I have one java folder and many different subfolders depending upon the content.</p>\n<p>When I open my java folder with IntelliJ and run one of the files it tries to compile all the java files in the java folder, and I don't want it to do that. How do I configure IntelliJ such that it treats all files within my java folders as individual files and complies only the ones that I want to compile, like blueJ for example?</p>\n<p>Note: I have searched for this question but found mostly outdated answers or answers that don't work in my case. I tried the current file option from the top right drop-down but it says class &quot;xxxx&quot; is never used or something like that and that the file is not runnable.</p>\n"},{"tags":["java","swing","jframe","jbutton","border-layout"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":3,"creation_date":1670440722,"post_id":74721853,"comment_id":131879399,"body_markdown":"What happens without [`setLayout(null)`](https://stackoverflow.com/search?q=%5Bswing%5D+null+layout)?","body":"What happens without <a href=\"https://stackoverflow.com/search?q=%5Bswing%5D+null+layout\"><code>setLayout(null)</code></a>?"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":1,"creation_date":1670442127,"post_id":74721853,"comment_id":131879796,"body_markdown":"As a side note, your code is really, really difficult to read.  The creation and usage of objects is terribly far apart from one another and makes it very difficult to figure out what is working with what because everything is so far apart.  If you&#39;re up for it, I would urge you to consider using a method per JPanel creation.","body":"As a side note, your code is really, really difficult to read.  The creation and usage of objects is terribly far apart from one another and makes it very difficult to figure out what is working with what because everything is so far apart.  If you&#39;re up for it, I would urge you to consider using a method per JPanel creation."},{"owner":{"account_id":17085153,"reputation":11,"user_id":12362637,"display_name":"boyslime"},"score":0,"creation_date":1670444470,"post_id":74721853,"comment_id":131880415,"body_markdown":"can&#39;t believe that was the issue, thank you very much. never would&#39;ve figured that out as all the tutorials have setLayout(null) in them. Will try to make it more readable too","body":"can&#39;t believe that was the issue, thank you very much. never would&#39;ve figured that out as all the tutorials have setLayout(null) in them. Will try to make it more readable too"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1670454169,"post_id":74721853,"comment_id":131882523,"body_markdown":"all tutorials using null layout are garbage - throw them into the bin they deserve","body":"all tutorials using null layout are garbage - throw them into the bin they deserve"}],"answers":[{"tags":[],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670442515,"creation_date":1670441938,"answer_id":74722131,"question_id":74721853,"body_markdown":"These code changes should help at least a little bit.\r\n\r\nThings that had to change:\r\n * Each JPanel should have a layout.  Setting the layout to `null` (as per TG&#39;s comment) is not good.\r\n * The `setBounds()` methods for the buttons were removed.\r\n * The `f.setLayout(new BorderLayout());` was moved to the top of the code where `Components` were being added to the JFrame before the layout was set.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class ProductListGUI {\r\n\r\n    JMenu menu;\r\n    JMenuItem about,importData,inventory,export;\r\n\r\n    ProductListGUI(){\r\n        JFrame f = new JFrame(&quot;Assignment 2&quot;);\r\n\r\n        JPanel panel1 = new JPanel();\r\n        JList&lt;String&gt; list = new JList&lt;&gt;();\r\n        list.setBounds(600,0,200,600);\r\n        JScrollPane scrollPane = new JScrollPane(list,JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\r\n        JPanel panel3 = new JPanel();\r\n\r\n        panel1.setBounds(0,0,600,500);\r\n        panel1.setBackground(new Color(230,230,230));\r\n        scrollPane.setBounds(600,0,200,500);\r\n        panel3.setBounds(0,0,800,100);\r\n        panel3.setBackground(new Color(230,230,230));\r\n\r\n        JLabel l1,l2,l3,l4;\r\n        JTextField t1,t2,t3;\r\n        l1=new JLabel(&quot;ProductID&quot;);\r\n        l1.setBounds(10,100,200,30);\r\n        t1=new JTextField();\r\n        t1.setBounds(100,100,200,30);\r\n        l2=new JLabel(&quot;Name&quot;);\r\n        l2.setBounds(10,150,200,30);\r\n        t2=new JTextField();\r\n        t2.setBounds(100,150,200,30);\r\n        l3=new JLabel(&quot;Quantity&quot;);\r\n        l3.setBounds(10,250,200,30);\r\n        t3=new JTextField();\r\n        t3.setBounds(100,250,200,30);\r\n        panel1.setBorder(BorderFactory.createTitledBorder(&quot;Product Details&quot;));\r\n\r\n        JCheckBox checkBox = new JCheckBox(&quot;Available for Next Day Delivery&quot;);\r\n        checkBox.setBounds(10,300,250,50);\r\n\r\n        l4 = new JLabel(&quot;Item Type&quot;);\r\n        l4.setBounds(10,200,200,30);\r\n        String[] itemType = {&quot;Select type&quot;,&quot;Homeware&quot;,&quot;Hobby&quot;,&quot;Garden&quot;};\r\n        JComboBox dropdown = new JComboBox(itemType);\r\n        dropdown.setBounds(100,200,120,20);\r\n\r\n        panel1.add(t1);\r\n        panel1.add(l1);\r\n        panel1.add(t2);\r\n        panel1.add(l2);\r\n        panel1.add(t3);\r\n        panel1.add(l3);\r\n        panel1.add(l4);\r\n        panel1.add(dropdown);\r\n        panel1.add(checkBox);\r\n\r\n\r\n        JButton b1 = new JButton(&quot;New Item&quot;);\r\n        JButton b2 = new JButton(&quot;Save&quot;);\r\n        JButton b3 = new JButton(&quot;Delete Selected&quot;);\r\n        b3.setEnabled(false);\r\n\r\n        panel3.add(b1);\r\n        panel3.add(b2);\r\n        panel3.add(b3);\r\n\r\n\r\n        JMenuBar mb = new JMenuBar();\r\n        menu = new JMenu(&quot;Actions&quot;);\r\n\r\n        about = new JMenuItem(&quot;About&quot;);\r\n        importData = new JMenuItem(&quot;Import Data&quot;);\r\n        inventory = new JMenuItem(&quot;Inventory&quot;);\r\n        export = new JMenuItem(&quot;Export to CSV&quot;);\r\n\r\n        menu.add(about);\r\n        menu.add(importData);\r\n        menu.add(inventory);\r\n        menu.add(export);\r\n        mb.add(menu);\r\n\r\n        f.setLayout(new BorderLayout());\r\n        f.getContentPane().add(panel1,BorderLayout.CENTER);\r\n        f.getContentPane().add(scrollPane,BorderLayout.EAST);\r\n        f.getContentPane().add(panel3,BorderLayout.SOUTH);\r\n        f.setJMenuBar(mb);\r\n        f.setSize(800,600);\r\n        f.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        ProductListGUI gui = new ProductListGUI();\r\n    }\r\n}\r\n```\r\n\r\nHere is a very simple BorderLayout example that might help in the future, or not.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class TestGui {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        JFrame frame = new JFrame(&quot;Test Frame&quot;);\r\n\r\n        frame.setLayout(new BorderLayout());\r\n        frame.setSize(800,600);\r\n        frame.getContentPane().add(createJPanel(&quot;CENTER&quot;, Color.RED), BorderLayout.CENTER);\r\n        frame.getContentPane().add(createJPanel(&quot;NORTH&quot;, Color.CYAN), BorderLayout.NORTH);\r\n        frame.getContentPane().add(createJPanel(&quot;EAST&quot;, Color.LIGHT_GRAY), BorderLayout.EAST);\r\n        frame.getContentPane().add(createJPanel(&quot;SOUTH&quot;, Color.GREEN), BorderLayout.SOUTH);\r\n        frame.getContentPane().add(createJPanel(&quot;WEST&quot;, Color.YELLOW), BorderLayout.WEST);\r\n\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private static JPanel createJPanel(String title, Color color) {\r\n\r\n        JPanel jPanel = new JPanel();\r\n        jPanel.setLayout(new BorderLayout());\r\n        jPanel.add(new JLabel(title), BorderLayout.CENTER);\r\n        jPanel.setBackground(color);\r\n\r\n        return jPanel;\r\n    }\r\n}\r\n```","title":"Why are my JButton and JLists not appearing? (BorderLayout","body":"<p>These code changes should help at least a little bit.</p>\n<p>Things that had to change:</p>\n<ul>\n<li>Each JPanel should have a layout.  Setting the layout to <code>null</code> (as per TG's comment) is not good.</li>\n<li>The <code>setBounds()</code> methods for the buttons were removed.</li>\n<li>The <code>f.setLayout(new BorderLayout());</code> was moved to the top of the code where <code>Components</code> were being added to the JFrame before the layout was set.</li>\n</ul>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class ProductListGUI {\n\n    JMenu menu;\n    JMenuItem about,importData,inventory,export;\n\n    ProductListGUI(){\n        JFrame f = new JFrame(&quot;Assignment 2&quot;);\n\n        JPanel panel1 = new JPanel();\n        JList&lt;String&gt; list = new JList&lt;&gt;();\n        list.setBounds(600,0,200,600);\n        JScrollPane scrollPane = new JScrollPane(list,JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\n        JPanel panel3 = new JPanel();\n\n        panel1.setBounds(0,0,600,500);\n        panel1.setBackground(new Color(230,230,230));\n        scrollPane.setBounds(600,0,200,500);\n        panel3.setBounds(0,0,800,100);\n        panel3.setBackground(new Color(230,230,230));\n\n        JLabel l1,l2,l3,l4;\n        JTextField t1,t2,t3;\n        l1=new JLabel(&quot;ProductID&quot;);\n        l1.setBounds(10,100,200,30);\n        t1=new JTextField();\n        t1.setBounds(100,100,200,30);\n        l2=new JLabel(&quot;Name&quot;);\n        l2.setBounds(10,150,200,30);\n        t2=new JTextField();\n        t2.setBounds(100,150,200,30);\n        l3=new JLabel(&quot;Quantity&quot;);\n        l3.setBounds(10,250,200,30);\n        t3=new JTextField();\n        t3.setBounds(100,250,200,30);\n        panel1.setBorder(BorderFactory.createTitledBorder(&quot;Product Details&quot;));\n\n        JCheckBox checkBox = new JCheckBox(&quot;Available for Next Day Delivery&quot;);\n        checkBox.setBounds(10,300,250,50);\n\n        l4 = new JLabel(&quot;Item Type&quot;);\n        l4.setBounds(10,200,200,30);\n        String[] itemType = {&quot;Select type&quot;,&quot;Homeware&quot;,&quot;Hobby&quot;,&quot;Garden&quot;};\n        JComboBox dropdown = new JComboBox(itemType);\n        dropdown.setBounds(100,200,120,20);\n\n        panel1.add(t1);\n        panel1.add(l1);\n        panel1.add(t2);\n        panel1.add(l2);\n        panel1.add(t3);\n        panel1.add(l3);\n        panel1.add(l4);\n        panel1.add(dropdown);\n        panel1.add(checkBox);\n\n\n        JButton b1 = new JButton(&quot;New Item&quot;);\n        JButton b2 = new JButton(&quot;Save&quot;);\n        JButton b3 = new JButton(&quot;Delete Selected&quot;);\n        b3.setEnabled(false);\n\n        panel3.add(b1);\n        panel3.add(b2);\n        panel3.add(b3);\n\n\n        JMenuBar mb = new JMenuBar();\n        menu = new JMenu(&quot;Actions&quot;);\n\n        about = new JMenuItem(&quot;About&quot;);\n        importData = new JMenuItem(&quot;Import Data&quot;);\n        inventory = new JMenuItem(&quot;Inventory&quot;);\n        export = new JMenuItem(&quot;Export to CSV&quot;);\n\n        menu.add(about);\n        menu.add(importData);\n        menu.add(inventory);\n        menu.add(export);\n        mb.add(menu);\n\n        f.setLayout(new BorderLayout());\n        f.getContentPane().add(panel1,BorderLayout.CENTER);\n        f.getContentPane().add(scrollPane,BorderLayout.EAST);\n        f.getContentPane().add(panel3,BorderLayout.SOUTH);\n        f.setJMenuBar(mb);\n        f.setSize(800,600);\n        f.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n\n        ProductListGUI gui = new ProductListGUI();\n    }\n}\n</code></pre>\n<p>Here is a very simple BorderLayout example that might help in the future, or not.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class TestGui {\n\n    public static void main(String[] args) {\n\n        JFrame frame = new JFrame(&quot;Test Frame&quot;);\n\n        frame.setLayout(new BorderLayout());\n        frame.setSize(800,600);\n        frame.getContentPane().add(createJPanel(&quot;CENTER&quot;, Color.RED), BorderLayout.CENTER);\n        frame.getContentPane().add(createJPanel(&quot;NORTH&quot;, Color.CYAN), BorderLayout.NORTH);\n        frame.getContentPane().add(createJPanel(&quot;EAST&quot;, Color.LIGHT_GRAY), BorderLayout.EAST);\n        frame.getContentPane().add(createJPanel(&quot;SOUTH&quot;, Color.GREEN), BorderLayout.SOUTH);\n        frame.getContentPane().add(createJPanel(&quot;WEST&quot;, Color.YELLOW), BorderLayout.WEST);\n\n        frame.setVisible(true);\n    }\n\n    private static JPanel createJPanel(String title, Color color) {\n\n        JPanel jPanel = new JPanel();\n        jPanel.setLayout(new BorderLayout());\n        jPanel.add(new JLabel(title), BorderLayout.CENTER);\n        jPanel.setBackground(color);\n\n        return jPanel;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17085153,"reputation":11,"user_id":12362637,"display_name":"boyslime"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74722131,"answer_count":1,"score":-1,"last_activity_date":1670442515,"creation_date":1670440340,"question_id":74721853,"body_markdown":"I&#39;m trying to learn swing and work through the task we have been given. I can&#39;t see why the code doesn&#39;t display the JButtons in the SOUTH section as there is no issue when displaying the textfields, combobox and labels in the CENTER section. \r\n\r\nI used the same format to add components to my CENTER section as I did in the SOUTH and EAST but only the center displays anything.\r\n\r\n\r\n    public class ProductListGUI{\r\n        JMenu menu;\r\n        JMenuItem about,importData,inventory,export;\r\n    \r\n        ProductListGUI(){\r\n            JFrame f = new JFrame(&quot;Assignment 2&quot;);\r\n    \r\n            JPanel p1 = new JPanel();\r\n            JList&lt;String&gt; list = new JList&lt;&gt;();\r\n            list.setBounds(600,0,200,600);\r\n            JScrollPane scrollPane = new JScrollPane(list,JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\r\n            JPanel p3 = new JPanel();\r\n    \r\n            p1.setLayout(null);\r\n            p1.setBounds(0,0,600,500);\r\n            p1.setBackground(new Color(230,230,230));\r\n            scrollPane.setLayout(null);\r\n            scrollPane.setBounds(600,0,200,500);\r\n            p3.setLayout(null);\r\n            p3.setBounds(0,500,800,100);\r\n            p3.setBackground(new Color(230,230,230));\r\n    \r\n            JLabel l1,l2,l3,l4;\r\n            JTextField t1,t2,t3;\r\n            l1=new JLabel(&quot;ProductID&quot;);\r\n            l1.setBounds(10,100,200,30); \r\n            t1=new JTextField();  \r\n            t1.setBounds(100,100,200,30);\r\n            l2=new JLabel(&quot;Name&quot;);\r\n            l2.setBounds(10,150,200,30); \r\n            t2=new JTextField();\r\n            t2.setBounds(100,150,200,30);\r\n            l3=new JLabel(&quot;Quantity&quot;);\r\n            l3.setBounds(10,250,200,30); \r\n            t3=new JTextField();\r\n            t3.setBounds(100,250,200,30);\r\n            p1.setBorder(BorderFactory.createTitledBorder(&quot;Product Details&quot;));\r\n    \r\n            JCheckBox checkBox = new JCheckBox(&quot;Available for Next Day Delivery&quot;);\r\n            checkBox.setBounds(10,300,250,50);\r\n    \r\n            l4 = new JLabel(&quot;Item Type&quot;);\r\n            l4.setBounds(10,200,200,30);\r\n            String[] itemType = {&quot;Select type&quot;,&quot;Homeware&quot;,&quot;Hobby&quot;,&quot;Garden&quot;};\r\n            JComboBox dropdown = new JComboBox(itemType);\r\n            dropdown.setBounds(100,200,120,20);\r\n    \r\n            p1.add(t1);p1.add(l1);p1.add(t2);p1.add(l2);p1.add(t3);p1.add(l3);p1.add(l4);p1.add(dropdown);p1.add(checkBox);\r\n    \r\n    \r\n            JButton b1 = new JButton(&quot;New Item&quot;);\r\n            b1.setBounds(200,550,80,20);\r\n            JButton b2 = new JButton(&quot;Save&quot;);\r\n            b2.setBounds(300,550,80,20);\r\n            JButton b3 = new JButton(&quot;Delete Selected&quot;);\r\n            b3.setBounds(600,550,80,20);\r\n            b3.setEnabled(false);\r\n    \r\n            p3.add(b1);p3.add(b2);p3.add(b3);\r\n    \r\n    \r\n            JMenuBar mb = new JMenuBar();\r\n            menu = new JMenu(&quot;Actions&quot;);\r\n    \r\n            about = new JMenuItem(&quot;About&quot;);\r\n            importData = new JMenuItem(&quot;Import Data&quot;);\r\n            inventory = new JMenuItem(&quot;Inventory&quot;);\r\n            export = new JMenuItem(&quot;Export to CSV&quot;);\r\n    \r\n            menu.add(about);menu.add(importData);menu.add(inventory);menu.add(export);\r\n            mb.add(menu);\r\n            \r\n            f.getContentPane().add(p1,BorderLayout.CENTER);\r\n            f.getContentPane().add(scrollPane,BorderLayout.EAST);\r\n            f.getContentPane().add(p3,BorderLayout.SOUTH);\r\n            f.setJMenuBar(mb);\r\n            f.setSize(800,600);\r\n            f.setLayout(new BorderLayout());\r\n            f.setVisible(true);\r\n        }\r\n\r\n","title":"Why are my JButton and JLists not appearing? (BorderLayout","body":"<p>I'm trying to learn swing and work through the task we have been given. I can't see why the code doesn't display the JButtons in the SOUTH section as there is no issue when displaying the textfields, combobox and labels in the CENTER section.</p>\n<p>I used the same format to add components to my CENTER section as I did in the SOUTH and EAST but only the center displays anything.</p>\n<pre><code>public class ProductListGUI{\n    JMenu menu;\n    JMenuItem about,importData,inventory,export;\n\n    ProductListGUI(){\n        JFrame f = new JFrame(&quot;Assignment 2&quot;);\n\n        JPanel p1 = new JPanel();\n        JList&lt;String&gt; list = new JList&lt;&gt;();\n        list.setBounds(600,0,200,600);\n        JScrollPane scrollPane = new JScrollPane(list,JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\n        JPanel p3 = new JPanel();\n\n        p1.setLayout(null);\n        p1.setBounds(0,0,600,500);\n        p1.setBackground(new Color(230,230,230));\n        scrollPane.setLayout(null);\n        scrollPane.setBounds(600,0,200,500);\n        p3.setLayout(null);\n        p3.setBounds(0,500,800,100);\n        p3.setBackground(new Color(230,230,230));\n\n        JLabel l1,l2,l3,l4;\n        JTextField t1,t2,t3;\n        l1=new JLabel(&quot;ProductID&quot;);\n        l1.setBounds(10,100,200,30); \n        t1=new JTextField();  \n        t1.setBounds(100,100,200,30);\n        l2=new JLabel(&quot;Name&quot;);\n        l2.setBounds(10,150,200,30); \n        t2=new JTextField();\n        t2.setBounds(100,150,200,30);\n        l3=new JLabel(&quot;Quantity&quot;);\n        l3.setBounds(10,250,200,30); \n        t3=new JTextField();\n        t3.setBounds(100,250,200,30);\n        p1.setBorder(BorderFactory.createTitledBorder(&quot;Product Details&quot;));\n\n        JCheckBox checkBox = new JCheckBox(&quot;Available for Next Day Delivery&quot;);\n        checkBox.setBounds(10,300,250,50);\n\n        l4 = new JLabel(&quot;Item Type&quot;);\n        l4.setBounds(10,200,200,30);\n        String[] itemType = {&quot;Select type&quot;,&quot;Homeware&quot;,&quot;Hobby&quot;,&quot;Garden&quot;};\n        JComboBox dropdown = new JComboBox(itemType);\n        dropdown.setBounds(100,200,120,20);\n\n        p1.add(t1);p1.add(l1);p1.add(t2);p1.add(l2);p1.add(t3);p1.add(l3);p1.add(l4);p1.add(dropdown);p1.add(checkBox);\n\n\n        JButton b1 = new JButton(&quot;New Item&quot;);\n        b1.setBounds(200,550,80,20);\n        JButton b2 = new JButton(&quot;Save&quot;);\n        b2.setBounds(300,550,80,20);\n        JButton b3 = new JButton(&quot;Delete Selected&quot;);\n        b3.setBounds(600,550,80,20);\n        b3.setEnabled(false);\n\n        p3.add(b1);p3.add(b2);p3.add(b3);\n\n\n        JMenuBar mb = new JMenuBar();\n        menu = new JMenu(&quot;Actions&quot;);\n\n        about = new JMenuItem(&quot;About&quot;);\n        importData = new JMenuItem(&quot;Import Data&quot;);\n        inventory = new JMenuItem(&quot;Inventory&quot;);\n        export = new JMenuItem(&quot;Export to CSV&quot;);\n\n        menu.add(about);menu.add(importData);menu.add(inventory);menu.add(export);\n        mb.add(menu);\n        \n        f.getContentPane().add(p1,BorderLayout.CENTER);\n        f.getContentPane().add(scrollPane,BorderLayout.EAST);\n        f.getContentPane().add(p3,BorderLayout.SOUTH);\n        f.setJMenuBar(mb);\n        f.setSize(800,600);\n        f.setLayout(new BorderLayout());\n        f.setVisible(true);\n    }\n</code></pre>\n"},{"tags":["java","multithreading","interrupt"],"comments":[{"owner":{"account_id":96393,"reputation":23995,"user_id":262022,"accept_rate":87,"display_name":"radai"},"score":0,"creation_date":1374684778,"post_id":17840238,"comment_id":26040823,"body_markdown":"could you please paste in the bit with the catch?","body":"could you please paste in the bit with the catch?"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1374689830,"post_id":17840238,"comment_id":26043759,"body_markdown":"possible duplicate of [What does java.lang.Thread.interrupt() do?](http://stackoverflow.com/questions/3590000/what-does-java-lang-thread-interrupt-do)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3590000/what-does-java-lang-thread-interrupt-do\">What does java.lang.Thread.interrupt() do?</a>"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1374689862,"post_id":17840238,"comment_id":26043778,"body_markdown":"Also related to: http://stackoverflow.com/questions/2289885/when-an-thread-interrupt-is-called-on-some-thread-what-happens?lq=1","body":"Also related to: <a href=\"http://stackoverflow.com/questions/2289885/when-an-thread-interrupt-is-called-on-some-thread-what-happens?lq=1\" title=\"when an thread interrupt is called on some thread what happens\">stackoverflow.com/questions/2289885/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2048321,"reputation":17928,"user_id":1827903,"accept_rate":84,"display_name":"Zim-Zam O&#39;Pootertoot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1374684867,"creation_date":1374684867,"answer_id":17840303,"question_id":17840238,"body_markdown":"Rather than catching `InterruptedException` you can call `Thread.interrupted()` or `Thread.getCurrentThread().isInterrupted()` (the former will clear the interrupted flag, the latter will not), which will return true if the interrupted flag is set.  You can only catch `InterruptedException` if you&#39;ve called a method that throws it, like `sleep`","title":"I want my thread to handle interruption, but I can&#39;t catch InterruptedException because it is a checked exception","body":"<p>Rather than catching <code>InterruptedException</code> you can call <code>Thread.interrupted()</code> or <code>Thread.getCurrentThread().isInterrupted()</code> (the former will clear the interrupted flag, the latter will not), which will return true if the interrupted flag is set.  You can only catch <code>InterruptedException</code> if you've called a method that throws it, like <code>sleep</code></p>\n"},{"tags":[],"owner":{"account_id":96393,"reputation":23995,"user_id":262022,"accept_rate":87,"display_name":"radai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1374695854,"creation_date":1374684885,"answer_id":17840313,"question_id":17840238,"body_markdown":"InterruptedException is only thrown from specific method calls - mostly any method calls that wait, sleep or do I/O, so it wont be thrown out of anywhere.\r\n\r\nif the Thread youre trying to interrupt is doing something CPU-internsive and not I/O, you will need to sprinkle `Thread.getCurrentThread().isInterrupted()` calls in there otherwise the target thread might never notice.","title":"I want my thread to handle interruption, but I can&#39;t catch InterruptedException because it is a checked exception","body":"<p>InterruptedException is only thrown from specific method calls - mostly any method calls that wait, sleep or do I/O, so it wont be thrown out of anywhere.</p>\n\n<p>if the Thread youre trying to interrupt is doing something CPU-internsive and not I/O, you will need to sprinkle <code>Thread.getCurrentThread().isInterrupted()</code> calls in there otherwise the target thread might never notice.</p>\n"},{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1374702333,"creation_date":1374685682,"answer_id":17840569,"question_id":17840238,"body_markdown":"While the other answers are correct, a fuller explanation is appropriate.\r\n\r\nA thread can be safely interrupted (in the general sense of the word) only at specific points in its execution.  In particular, it can be interrupted safely when it has issued a `wait()` call, or has invoked a service that can issue `wait()`.  This is why `InterruptedException` is a checked exception and not a runtime (unchecked) exception.  Allowing a thread to be arbitrarily interrupted at any point would make execution non-deterministic (at least that&#39;s the way the JVM was specified).  There is a `Thread#stop()` method which is strongly deprecated because it causes more problems than it solves.  From the Javadoc\r\n\r\n&gt;This method is inherently unsafe. Stopping a thread with Thread.stop causes it to unlock all of the monitors that it has locked (as a natural consequence of the unchecked ThreadDeath exception propagating up the stack). If any of the objects previously protected by these monitors were in an inconsistent state, the damaged objects become visible to other threads, potentially resulting in arbitrary behavior. Many uses of stop should be replaced by code that simply modifies some variable to indicate that the target thread should stop running. The target thread should check this variable regularly, and return from its run method in an orderly fashion if the variable indicates that it is to stop running. If the target thread waits for long periods (on a condition variable, for example), the interrupt method should be used to interrupt the wait. For more information, see [Why are Thread.stop, Thread.suspend and Thread.resume Deprecated?][1].\r\n\r\nIf you need to interrupt a running thread, then you must periodically poll the interrupted status with `Thread.interrupted()` or `.isInterrupted()` or poll a shared variable, and take appropriate action yourself.\r\n\r\nNote: The term &quot;interrupted&quot; above (except as part of a method name) is intended in the general sense, not the specific meaning of calling `Thread#interrupt()`.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html","title":"I want my thread to handle interruption, but I can&#39;t catch InterruptedException because it is a checked exception","body":"<p>While the other answers are correct, a fuller explanation is appropriate.</p>\n\n<p>A thread can be safely interrupted (in the general sense of the word) only at specific points in its execution.  In particular, it can be interrupted safely when it has issued a <code>wait()</code> call, or has invoked a service that can issue <code>wait()</code>.  This is why <code>InterruptedException</code> is a checked exception and not a runtime (unchecked) exception.  Allowing a thread to be arbitrarily interrupted at any point would make execution non-deterministic (at least that's the way the JVM was specified).  There is a <code>Thread#stop()</code> method which is strongly deprecated because it causes more problems than it solves.  From the Javadoc</p>\n\n<blockquote>\n  <p>This method is inherently unsafe. Stopping a thread with Thread.stop causes it to unlock all of the monitors that it has locked (as a natural consequence of the unchecked ThreadDeath exception propagating up the stack). If any of the objects previously protected by these monitors were in an inconsistent state, the damaged objects become visible to other threads, potentially resulting in arbitrary behavior. Many uses of stop should be replaced by code that simply modifies some variable to indicate that the target thread should stop running. The target thread should check this variable regularly, and return from its run method in an orderly fashion if the variable indicates that it is to stop running. If the target thread waits for long periods (on a condition variable, for example), the interrupt method should be used to interrupt the wait. For more information, see <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\" rel=\"nofollow\">Why are Thread.stop, Thread.suspend and Thread.resume Deprecated?</a>.</p>\n</blockquote>\n\n<p>If you need to interrupt a running thread, then you must periodically poll the interrupted status with <code>Thread.interrupted()</code> or <code>.isInterrupted()</code> or poll a shared variable, and take appropriate action yourself.</p>\n\n<p>Note: The term \"interrupted\" above (except as part of a method name) is intended in the general sense, not the specific meaning of calling <code>Thread#interrupt()</code>.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1670442388,"creation_date":1374760987,"answer_id":17860225,"question_id":17840238,"body_markdown":"&gt; I want the &quot;t&quot; thread to then catch an InterruptedException but Eclipse won&#39;t let me put an InterruptedException in saying it&#39;s not thrown in the try body. How can I get the InterruptedException to be called? Am I using t.interrupt() wrong?\r\n\r\nIt is important to realize that `t.interrupt()` only sets the interrupted bit in a thread -- it doesn&#39;t actually _interrupt_ the thread&#39;s processing per se.  A thread can be interrupted at _any_ time safely.\r\n\r\nTo quote from the [`Thread.interrupt()` javadocs][1]:\r\n\r\n&gt; * If this thread is blocked in an invocation of the wait(), wait(long), or wait(long, int) methods of the Object class, or of the join(), join(long), join(long, int), sleep(long), or sleep(long, int), methods of this class, then its interrupt status will be cleared and it will receive an InterruptedException.\r\n&gt;\r\n&gt; * If this thread is blocked in an I/O operation upon an interruptible channel then the channel will be closed, the thread&#39;s interrupt status will be set, and the thread will receive a java.nio.channels.ClosedByInterruptException.\r\n&gt;\r\n&gt; * If this thread is blocked in a java.nio.channels.Selector then the thread&#39;s interrupt status will be set and it will return immediately from the selection operation, possibly with a non-zero value, just as if the selector&#39;s wakeup method were invoked.\r\n&gt;\r\n&gt; * If none of the previous conditions hold then this thread&#39;s interrupt status will be set.\r\n\r\nIt is important to add that if the thread&#39;s interrupt bit has been set and _then_ `wait()` (and others) is called, then the `wait()` will throw `InterruptedException` immediately.\r\n\r\nSo you can&#39;t catch `InterruptedExeption` everywhere since only certain methods throw it.  If you want to see if a thread has been interrupted (again has the interrupt bit set) then the right thing to do is to test for it directly with the `Thread.getCurrentThread().isInterrupted()`.  Typically we do something like the following:\r\n\r\n    while (!Thread.getCurrentThread().isInterrupted()) {\r\n         // process stuff\r\n         ...\r\n         try {\r\n             // here&#39;s an example of a method that throws InterruptedException\r\n             Thread.sleep(100);\r\n         } catch (InterruptedException e) {\r\n             // throwing InterruptedException actually clears the interrupt bit\r\n             // so it is a good pattern to re-interrupt the thread immediately\r\n             Thread.currentThread().interrupt();\r\n             // now we decide what to do since we are interrupted\r\n             // you most likely shouldn&#39;t just continue processing\r\n             break;\r\n         }\r\n    }\r\n\r\nThere are a number of good questions and answers on this topic:\r\n\r\n* https://stackoverflow.com/questions/3590000/what-does-java-lang-thread-interrupt-do\r\n* https://stackoverflow.com/questions/12928970/how-exactly-does-thread-interrupt-and-thread-interrupted-work?lq=1\r\n* https://stackoverflow.com/questions/4556401/how-to-stop-uninterruptible-threads-in-java?lq=1\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html#interrupt%28%29\r\n  [2]: https://stackoverflow.com/questions/10401947/methods-that-clear-the-thread-interrupt-flag/12339487#12339487","title":"I want my thread to handle interruption, but I can&#39;t catch InterruptedException because it is a checked exception","body":"<blockquote>\n<p>I want the &quot;t&quot; thread to then catch an InterruptedException but Eclipse won't let me put an InterruptedException in saying it's not thrown in the try body. How can I get the InterruptedException to be called? Am I using t.interrupt() wrong?</p>\n</blockquote>\n<p>It is important to realize that <code>t.interrupt()</code> only sets the interrupted bit in a thread -- it doesn't actually <em>interrupt</em> the thread's processing per se.  A thread can be interrupted at <em>any</em> time safely.</p>\n<p>To quote from the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html#interrupt%28%29\" rel=\"nofollow noreferrer\"><code>Thread.interrupt()</code> javadocs</a>:</p>\n<blockquote>\n<ul>\n<li><p>If this thread is blocked in an invocation of the wait(), wait(long), or wait(long, int) methods of the Object class, or of the join(), join(long), join(long, int), sleep(long), or sleep(long, int), methods of this class, then its interrupt status will be cleared and it will receive an InterruptedException.</p>\n</li>\n<li><p>If this thread is blocked in an I/O operation upon an interruptible channel then the channel will be closed, the thread's interrupt status will be set, and the thread will receive a java.nio.channels.ClosedByInterruptException.</p>\n</li>\n<li><p>If this thread is blocked in a java.nio.channels.Selector then the thread's interrupt status will be set and it will return immediately from the selection operation, possibly with a non-zero value, just as if the selector's wakeup method were invoked.</p>\n</li>\n<li><p>If none of the previous conditions hold then this thread's interrupt status will be set.</p>\n</li>\n</ul>\n</blockquote>\n<p>It is important to add that if the thread's interrupt bit has been set and <em>then</em> <code>wait()</code> (and others) is called, then the <code>wait()</code> will throw <code>InterruptedException</code> immediately.</p>\n<p>So you can't catch <code>InterruptedExeption</code> everywhere since only certain methods throw it.  If you want to see if a thread has been interrupted (again has the interrupt bit set) then the right thing to do is to test for it directly with the <code>Thread.getCurrentThread().isInterrupted()</code>.  Typically we do something like the following:</p>\n<pre><code>while (!Thread.getCurrentThread().isInterrupted()) {\n     // process stuff\n     ...\n     try {\n         // here's an example of a method that throws InterruptedException\n         Thread.sleep(100);\n     } catch (InterruptedException e) {\n         // throwing InterruptedException actually clears the interrupt bit\n         // so it is a good pattern to re-interrupt the thread immediately\n         Thread.currentThread().interrupt();\n         // now we decide what to do since we are interrupted\n         // you most likely shouldn't just continue processing\n         break;\n     }\n}\n</code></pre>\n<p>There are a number of good questions and answers on this topic:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3590000/what-does-java-lang-thread-interrupt-do\">What does java.lang.Thread.interrupt() do?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/12928970/how-exactly-does-thread-interrupt-and-thread-interrupted-work?lq=1\">How exactly does Thread.interrupt() and Thread.interrupted() work?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4556401/how-to-stop-uninterruptible-threads-in-java?lq=1\">How to stop uninterruptible threads in Java</a></li>\n</ul>\n"}],"owner":{"account_id":396586,"reputation":1217,"user_id":760220,"accept_rate":82,"display_name":"user760220"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5369,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":17840569,"answer_count":4,"score":3,"last_activity_date":1670442388,"creation_date":1374684702,"question_id":17840238,"body_markdown":"I have a thread in Java which calls \r\n\r\n    t.interrupt();\r\n\r\nmaking t (a different thread) be interrupted. I want the &quot;t&quot; thread to then catch an `InterruptedException` but Eclipse won&#39;t let me put an `InterruptedException` in saying it&#39;s not thrown in the try body. How can I get the `InterruptedException` to be called? Am I using `t.interrupt()` wrong? ","title":"I want my thread to handle interruption, but I can&#39;t catch InterruptedException because it is a checked exception","body":"<p>I have a thread in Java which calls </p>\n\n<pre><code>t.interrupt();\n</code></pre>\n\n<p>making t (a different thread) be interrupted. I want the \"t\" thread to then catch an <code>InterruptedException</code> but Eclipse won't let me put an <code>InterruptedException</code> in saying it's not thrown in the try body. How can I get the <code>InterruptedException</code> to be called? Am I using <code>t.interrupt()</code> wrong? </p>\n"},{"tags":["java","parameters","ram"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1670451946,"post_id":74722065,"comment_id":131882081,"body_markdown":"`-Xmx` only controls the size of the Java _heap_. Lots of things aren&#39;t in the heap: code (native, bytecode/classfiles and JIT); thread stacks; NIO buffers; data allocated by native code.","body":"<code>-Xmx</code> only controls the size of the Java <i>heap</i>. Lots of things aren&#39;t in the heap: code (native, bytecode/classfiles and JIT); thread stacks; NIO buffers; data allocated by native code."},{"owner":{"account_id":1047552,"reputation":257,"user_id":1052246,"accept_rate":25,"display_name":"Cambot"},"score":0,"creation_date":1670529987,"post_id":74722065,"comment_id":131901915,"body_markdown":"Okay. So how do I limit the amount of RAM that the program uses?","body":"Okay. So how do I limit the amount of RAM that the program uses?"}],"owner":{"account_id":1047552,"reputation":257,"user_id":1052246,"accept_rate":25,"display_name":"Cambot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670441564,"creation_date":1670441564,"question_id":74722065,"body_markdown":"I&#39;ve got a java program that gets quite RAM-hungry over time (for as yet undetermined reasons). So to prevent it going crazy with the page file, I run it with the parameter -Xmx1536m, so that Java will just crash once the program&#39;s taken up one and a half gig of RAM. Better that then having my whole computer lock up.\r\n\r\nThe trouble is, it&#39;s not working. When I check Task Manager, sometimes Java is hogging 2.8GB of RAM, or higher! The program should be crashing well before it gets to that point!\r\n\r\nWhy isn&#39;t it?","title":"The Xmx Parameter Doesn&#39;t Do Anything","body":"<p>I've got a java program that gets quite RAM-hungry over time (for as yet undetermined reasons). So to prevent it going crazy with the page file, I run it with the parameter -Xmx1536m, so that Java will just crash once the program's taken up one and a half gig of RAM. Better that then having my whole computer lock up.</p>\n<p>The trouble is, it's not working. When I check Task Manager, sometimes Java is hogging 2.8GB of RAM, or higher! The program should be crashing well before it gets to that point!</p>\n<p>Why isn't it?</p>\n"},{"tags":["javascript","java","jestjs","mockito","graalvm"],"owner":{"account_id":18433992,"reputation":11,"user_id":13428381,"display_name":"Mikołaj Wituszyński"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670440914,"creation_date":1670440914,"question_id":74721945,"body_markdown":"Testing javascript files that use java interfaces but during testing there is not possibility to access it, so i am looking for a test framework that will provide me possibility to test js scripts and in addition allow me to mock java interfaces that are used withing mentioned scripts.\r\n\r\nI was looking and trying different frameworks but i could not find perfect combination for my problem.","title":"testing javascript scripts that use java interfaces but during testing there is not possibility to access it","body":"<p>Testing javascript files that use java interfaces but during testing there is not possibility to access it, so i am looking for a test framework that will provide me possibility to test js scripts and in addition allow me to mock java interfaces that are used withing mentioned scripts.</p>\n<p>I was looking and trying different frameworks but i could not find perfect combination for my problem.</p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1670437630,"post_id":74719895,"comment_id":131878467,"body_markdown":"The question isn&#39;t clear. Specifically what you are after in statement &quot;when I pass one price code value the loop move one time but when pass ten value in that case loop move ten times. But I want loop always move one time how many value I pass using map&quot;. Is this a performance optimization?  Are you trying to avoid having to iterate over the itemPriceCodes and issue a separate query for each? If so, we would need more info on the findByManufacturerIDAndPriceCodeAndRecordDeleted method and the ManufacturerPriceCodes model, but it should be possible to pass in a list of itemPriceCodes","body":"The question isn&#39;t clear. Specifically what you are after in statement &quot;when I pass one price code value the loop move one time but when pass ten value in that case loop move ten times. But I want loop always move one time how many value I pass using map&quot;. Is this a performance optimization?  Are you trying to avoid having to iterate over the itemPriceCodes and issue a separate query for each? If so, we would need more info on the findByManufacturerIDAndPriceCodeAndRecordDeleted method and the ManufacturerPriceCodes model, but it should be possible to pass in a list of itemPriceCodes"}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670440782,"creation_date":1670440782,"answer_id":74721923,"question_id":74719895,"body_markdown":"Seems like you are trying to find a way to call setManufacturerPriceCode on a list of itemPriceCodes based on the ManufacturerPriceCodes that references them. Assuming there is no reference from the ItemPriceCode to the ManufacturerPriceCodes, I&#39;d go about this differently:\r\n\r\nIn your ManufacturerPriceCodesRepository repository:\r\n\r\n    @Query(&quot;Select ipc.id, mpc.name from ManufacturerPriceCodes mpc join mpc.priceCode ipc where mpc.id = :id and ipc in :itemPriceCodes and mpc.recordDeleted = :notDeleted&quot;)\r\n     List&lt;Object[]&gt; findMFPNameByIdAndRecordDeletedAndPriceCodes(String Id, &lt;type&gt; recordDeleted, List&lt;ItemPriceCode&gt; itemPriceCodes)\r\n\r\n\r\nThis will return a List&lt;Object[]&gt;, which each Object[] representing one ItemPriceCode id/name pair. You can use this in your getItemManufacturerPriceCodes method:\r\n\r\n    private Item getItemManufacturerPriceCodes(Item item) {\r\n      List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\r\n      List&lt;Object[]&gt; keyPairs= manufacturerPriceCodesRepository.findMFPNameByIdAndRecordDeletedAndPriceCodes(item.getManufacturerID(), NOT_DELETED, itemPriceCodes);\r\n    \r\n      Map&lt;String,String&gt; ipcToMFPNameMap = keyPairs.stream().collect(\r\n                    Collectors.toMap(x -&gt; x[0], x-&gt;x[1]));\r\n\r\n      itemPriceCodes\r\n              .forEach(ipc -&gt;{ \r\n                  if (ipcToMFPNameMap.get(ipc.getId())!=null)\r\n                    ipc.setManufacturerPriceCode(ipcToMFPNameMap.get(ipc.getId());\r\n              })\r\n              .removeIf(ipc -&gt; DELETED.equals(ipc.getRecordDeleted()));\r\n      return item;\r\n    }\r\n\r\nI&#39;m sure there are more elegant ways than dealing with object[] with Spring, and certainly for the stream handling, but this is a general idea.","title":"How to map list of elements using java","body":"<p>Seems like you are trying to find a way to call setManufacturerPriceCode on a list of itemPriceCodes based on the ManufacturerPriceCodes that references them. Assuming there is no reference from the ItemPriceCode to the ManufacturerPriceCodes, I'd go about this differently:</p>\n<p>In your ManufacturerPriceCodesRepository repository:</p>\n<pre><code>@Query(&quot;Select ipc.id, mpc.name from ManufacturerPriceCodes mpc join mpc.priceCode ipc where mpc.id = :id and ipc in :itemPriceCodes and mpc.recordDeleted = :notDeleted&quot;)\n List&lt;Object[]&gt; findMFPNameByIdAndRecordDeletedAndPriceCodes(String Id, &lt;type&gt; recordDeleted, List&lt;ItemPriceCode&gt; itemPriceCodes)\n</code></pre>\n<p>This will return a List&lt;Object[]&gt;, which each Object[] representing one ItemPriceCode id/name pair. You can use this in your getItemManufacturerPriceCodes method:</p>\n<pre><code>private Item getItemManufacturerPriceCodes(Item item) {\n  List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\n  List&lt;Object[]&gt; keyPairs= manufacturerPriceCodesRepository.findMFPNameByIdAndRecordDeletedAndPriceCodes(item.getManufacturerID(), NOT_DELETED, itemPriceCodes);\n\n  Map&lt;String,String&gt; ipcToMFPNameMap = keyPairs.stream().collect(\n                Collectors.toMap(x -&gt; x[0], x-&gt;x[1]));\n\n  itemPriceCodes\n          .forEach(ipc -&gt;{ \n              if (ipcToMFPNameMap.get(ipc.getId())!=null)\n                ipc.setManufacturerPriceCode(ipcToMFPNameMap.get(ipc.getId());\n          })\n          .removeIf(ipc -&gt; DELETED.equals(ipc.getRecordDeleted()));\n  return item;\n}\n</code></pre>\n<p>I'm sure there are more elegant ways than dealing with object[] with Spring, and certainly for the stream handling, but this is a general idea.</p>\n"}],"owner":{"display_name":"user20714961"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670440782,"creation_date":1670430473,"question_id":74719895,"body_markdown":"I am new to java I  want to  map my for each loop  list elements  using map and get the value from map, but I am not able to use map in my for each statement. For your reference I post my code\r\n\r\n```\r\nprivate Item getItemManufacturerPriceCodes(Item item) {\r\n          List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes;\r\n       \r\n          for(ItemPriceCode ipc : itemPriceCodes) {\r\n              Optional&lt;ManufacturerPriceCodes&gt; mpc = manufacturerPriceCodesRepository.findByManufacturerIDAndPriceCodeAndRecordDeleted(item.getManufacturerID(), ipc.getPriceCode(), NOT_DELETED);\r\n              if(mpc.isPresent())\r\n                  ipc.setManufacturerPriceCode(mpc.get().getName());\r\n          }\r\n          item.getItemPriceCodes()\r\n          .removeIf(ipc -&gt; DELETED.equals(ipc.getRecordDeleted()));\r\n          return item;\r\n      }\r\n```\r\n\r\nI want to use my query code line above for each loop and pass list of price code inside map then get the values from map. this above  code works fine . when I pass one price code value the loop move one time but when pass ten value in that case loop move ten times. But I want loop always move one time  how many value I pass  using map. how can I do it.\r\n\r\nI want to use below line above for each loop\r\n\r\n```\r\n   Optional&lt;ManufacturerPriceCodes&gt; mpc = manufacturerPriceCodesRepository.findByManufacturerIDAndPriceCodeAndRecordDeleted(item.getManufacturerID(), ipc.getPriceCode(), NOT_DELETED);\r\n```\r\n\r\nGetting same result using map. First of pass list of elements price code inside map and get the values from map then set those values.\r\n\r\nI tried below way but it not working as above programme\r\n\r\n```\r\nprivate Item getItemManufacturerPriceCodes(Item item) {\r\n          List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\r\n        Optional&lt;ManufacturerPriceCodes&gt; mpc = manufacturerPriceCodesRepository.findByManufacturerIDAndPriceCodeAndRecordDeleted(item.getManufacturerID(), itemPriceCodes, NOT_DELETED);\r\n          for(ItemPriceCode ipc : itemPriceCodes) {       \r\n              if(mpc.isPresent())\r\n                  ipc.setManufacturerPriceCode(mpc.get().getName());\r\n          }\r\n          item.getItemPriceCodes()\r\n          .removeIf(ipc -&gt; DELETED.equals(ipc.getRecordDeleted()));\r\n          return item;\r\n      }\r\n```\r\n\r\n&gt; How can I map these list of price code and set them. My main aim is\r\n&gt; modify those piece of code using map and work same as  my above code\r\n&gt; that i explain in my problem statement.\r\n&gt; Is it possible to modify those codes using map.","title":"How to map list of elements using java","body":"<p>I am new to java I  want to  map my for each loop  list elements  using map and get the value from map, but I am not able to use map in my for each statement. For your reference I post my code</p>\n<pre><code>private Item getItemManufacturerPriceCodes(Item item) {\n          List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes;\n       \n          for(ItemPriceCode ipc : itemPriceCodes) {\n              Optional&lt;ManufacturerPriceCodes&gt; mpc = manufacturerPriceCodesRepository.findByManufacturerIDAndPriceCodeAndRecordDeleted(item.getManufacturerID(), ipc.getPriceCode(), NOT_DELETED);\n              if(mpc.isPresent())\n                  ipc.setManufacturerPriceCode(mpc.get().getName());\n          }\n          item.getItemPriceCodes()\n          .removeIf(ipc -&gt; DELETED.equals(ipc.getRecordDeleted()));\n          return item;\n      }\n</code></pre>\n<p>I want to use my query code line above for each loop and pass list of price code inside map then get the values from map. this above  code works fine . when I pass one price code value the loop move one time but when pass ten value in that case loop move ten times. But I want loop always move one time  how many value I pass  using map. how can I do it.</p>\n<p>I want to use below line above for each loop</p>\n<pre><code>   Optional&lt;ManufacturerPriceCodes&gt; mpc = manufacturerPriceCodesRepository.findByManufacturerIDAndPriceCodeAndRecordDeleted(item.getManufacturerID(), ipc.getPriceCode(), NOT_DELETED);\n</code></pre>\n<p>Getting same result using map. First of pass list of elements price code inside map and get the values from map then set those values.</p>\n<p>I tried below way but it not working as above programme</p>\n<pre><code>private Item getItemManufacturerPriceCodes(Item item) {\n          List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\n        Optional&lt;ManufacturerPriceCodes&gt; mpc = manufacturerPriceCodesRepository.findByManufacturerIDAndPriceCodeAndRecordDeleted(item.getManufacturerID(), itemPriceCodes, NOT_DELETED);\n          for(ItemPriceCode ipc : itemPriceCodes) {       \n              if(mpc.isPresent())\n                  ipc.setManufacturerPriceCode(mpc.get().getName());\n          }\n          item.getItemPriceCodes()\n          .removeIf(ipc -&gt; DELETED.equals(ipc.getRecordDeleted()));\n          return item;\n      }\n</code></pre>\n<blockquote>\n<p>How can I map these list of price code and set them. My main aim is\nmodify those piece of code using map and work same as  my above code\nthat i explain in my problem statement.\nIs it possible to modify those codes using map.</p>\n</blockquote>\n"},{"tags":["java","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670440592,"creation_date":1670440592,"answer_id":74721894,"question_id":74720876,"body_markdown":"This no longer works because Discord has changed how these events work. What you are observing is the new behavior where speaking updates are only sent once.\r\n\r\nTo detect speaking start/end you must use voice receive. That is also how the Discord client handles speaking indicators, by checking if the user is sending any audio.","title":"onUserSpeaking() event being called once","body":"<p>This no longer works because Discord has changed how these events work. What you are observing is the new behavior where speaking updates are only sent once.</p>\n<p>To detect speaking start/end you must use voice receive. That is also how the Discord client handles speaking indicators, by checking if the user is sending any audio.</p>\n"}],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74721894,"answer_count":1,"score":1,"last_activity_date":1670440592,"creation_date":1670435128,"question_id":74720876,"body_markdown":"I am trying to check if a user starts talking on a channel. I found that i can do this &quot;easily&quot; using **ConnectionListener**, but for some reason the method is being called only for the first time someone speaks. (which is weird becouse according to the JDA docs, it should be fired 2 times, at the beggining, and at the end of a transmission.\r\n\r\n```\r\npackage functionality;\r\n\r\nimport net.dv8tion.jda.api.audio.hooks.ConnectionListener;\r\nimport net.dv8tion.jda.api.audio.hooks.ConnectionStatus;\r\nimport net.dv8tion.jda.api.entities.User;\r\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\r\n\r\npublic class SpeechRecognition extends ListenerAdapter implements ConnectionListener {\r\n\r\n    @Override\r\n    public void onPing(long ping) {\r\n        System.out.println(&quot;PING: &quot; + ping);\r\n    }\r\n\r\n    @Override\r\n    public void onStatusChange(ConnectionStatus status) {\r\n        System.out.println(&quot;STATUS: &quot; + status);\r\n    }\r\n\r\n    @Override\r\n    public void onUserSpeaking(User user, boolean speaking) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onUserSpeaking(User user, boolean speaking, boolean soundshare) {\r\n        System.out.println(&quot;SPEAKING: &quot; + speaking + &quot; | &quot; + user.getName() + &quot; | &quot; + soundshare);\r\n    }\r\n}\r\n```\r\nIt also works again whenever i for example move the bot to a different channel, and then i speak in it.\r\n\r\nHere is my console output:\r\n```\r\nThe bot is now connected to the voice channel.\r\nSTATUS: CONNECTING_AWAITING_WEBSOCKET_CONNECT\r\nSTATUS: CONNECTING_AWAITING_AUTHENTICATION\r\nSTATUS: CONNECTING_ATTEMPTING_UDP_DISCOVERY\r\nSTATUS: CONNECTING_AWAITING_READY\r\nPING: 203\r\nSTATUS: CONNECTED\r\nSPEAKING: true | Losokos | false   //When i started speaking\r\nPING: 103\r\nPING: 138\r\nPING: 132\r\nPING: 108\r\nPING: 121\r\n```\r\n","title":"onUserSpeaking() event being called once","body":"<p>I am trying to check if a user starts talking on a channel. I found that i can do this &quot;easily&quot; using <strong>ConnectionListener</strong>, but for some reason the method is being called only for the first time someone speaks. (which is weird becouse according to the JDA docs, it should be fired 2 times, at the beggining, and at the end of a transmission.</p>\n<pre><code>package functionality;\n\nimport net.dv8tion.jda.api.audio.hooks.ConnectionListener;\nimport net.dv8tion.jda.api.audio.hooks.ConnectionStatus;\nimport net.dv8tion.jda.api.entities.User;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\n\npublic class SpeechRecognition extends ListenerAdapter implements ConnectionListener {\n\n    @Override\n    public void onPing(long ping) {\n        System.out.println(&quot;PING: &quot; + ping);\n    }\n\n    @Override\n    public void onStatusChange(ConnectionStatus status) {\n        System.out.println(&quot;STATUS: &quot; + status);\n    }\n\n    @Override\n    public void onUserSpeaking(User user, boolean speaking) {\n\n    }\n\n    @Override\n    public void onUserSpeaking(User user, boolean speaking, boolean soundshare) {\n        System.out.println(&quot;SPEAKING: &quot; + speaking + &quot; | &quot; + user.getName() + &quot; | &quot; + soundshare);\n    }\n}\n</code></pre>\n<p>It also works again whenever i for example move the bot to a different channel, and then i speak in it.</p>\n<p>Here is my console output:</p>\n<pre><code>The bot is now connected to the voice channel.\nSTATUS: CONNECTING_AWAITING_WEBSOCKET_CONNECT\nSTATUS: CONNECTING_AWAITING_AUTHENTICATION\nSTATUS: CONNECTING_ATTEMPTING_UDP_DISCOVERY\nSTATUS: CONNECTING_AWAITING_READY\nPING: 203\nSTATUS: CONNECTED\nSPEAKING: true | Losokos | false   //When i started speaking\nPING: 103\nPING: 138\nPING: 132\nPING: 108\nPING: 121\n</code></pre>\n"},{"tags":["java","persistence","ignite"],"comments":[{"owner":{"account_id":15519994,"reputation":843,"user_id":11196452,"display_name":"Igor Belyakov"},"score":1,"creation_date":1670278018,"post_id":74694272,"comment_id":131835204,"body_markdown":"Can you provide a full stack trace for the CorruptedTreeException?","body":"Can you provide a full stack trace for the CorruptedTreeException?"},{"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"score":0,"creation_date":1670428370,"post_id":74694272,"comment_id":131875306,"body_markdown":"@IgorBelyakov I have edited the post to include the stack trace.","body":"@IgorBelyakov I have edited the post to include the stack trace."}],"answers":[{"tags":[],"owner":{"account_id":15519994,"reputation":843,"user_id":11196452,"display_name":"Igor Belyakov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670440307,"creation_date":1670440307,"answer_id":74721848,"question_id":74694272,"body_markdown":"The issue is caused by the insertion of the record whose size is greater than the actual WAL buffer size.\r\n\r\nIgnite uses a WAL buffer to store serialized WAL records before writing them to the WAL file. Due to that, the size of each WAL record should be less than the actual size of the WAL buffer.\r\n\r\nBy default, the WAL buffer size is equal to the configured [WAL segment size][1] property. But in case [IGNITE_WAL_MMAP][2] is disabled then the WAL buffer size will be limited by the [WAL buffer size][4] property, which has the `WAL segment size / 4` value as a default.\r\n\r\nAs a workaround, you can try to increase the WAL buffer size using the properties mentioned above. More details regarding that can be found [here][5].\r\n\r\n\r\n  [1]: https://ignite.apache.org/releases/latest/javadoc/org/apache/ignite/configuration/DataStorageConfiguration.html#getWalSegmentSize--\r\n  [2]: https://ignite.apache.org/releases/latest/javadoc/org/apache/ignite/IgniteSystemProperties.html#IGNITE_WAL_MMAP\r\n  [3]: https://www.gridgain.com/docs/latest/developers-guide/persistence/native-persistence#wal-modes\r\n  [4]: https://ignite.apache.org/releases/latest/javadoc/org/apache/ignite/configuration/DataStorageConfiguration.html#getWalBufferSize--\r\n  [5]: https://ignite.apache.org/docs/latest/persistence/native-persistence#changing-wal-segment-size","title":"Ignite cluster repeatedly failing","body":"<p>The issue is caused by the insertion of the record whose size is greater than the actual WAL buffer size.</p>\n<p>Ignite uses a WAL buffer to store serialized WAL records before writing them to the WAL file. Due to that, the size of each WAL record should be less than the actual size of the WAL buffer.</p>\n<p>By default, the WAL buffer size is equal to the configured <a href=\"https://ignite.apache.org/releases/latest/javadoc/org/apache/ignite/configuration/DataStorageConfiguration.html#getWalSegmentSize--\" rel=\"nofollow noreferrer\">WAL segment size</a> property. But in case <a href=\"https://ignite.apache.org/releases/latest/javadoc/org/apache/ignite/IgniteSystemProperties.html#IGNITE_WAL_MMAP\" rel=\"nofollow noreferrer\">IGNITE_WAL_MMAP</a> is disabled then the WAL buffer size will be limited by the <a href=\"https://ignite.apache.org/releases/latest/javadoc/org/apache/ignite/configuration/DataStorageConfiguration.html#getWalBufferSize--\" rel=\"nofollow noreferrer\">WAL buffer size</a> property, which has the <code>WAL segment size / 4</code> value as a default.</p>\n<p>As a workaround, you can try to increase the WAL buffer size using the properties mentioned above. More details regarding that can be found <a href=\"https://ignite.apache.org/docs/latest/persistence/native-persistence#changing-wal-segment-size\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74721848,"answer_count":1,"score":0,"last_activity_date":1670440307,"creation_date":1670273603,"question_id":74694272,"body_markdown":"Our ignite server is showing the following error.  \r\n\r\nWe are not performing any queries or Ignite tasks, we are just using the put and get features of the caches.  \r\n\r\nWe do have persistence enabled. \r\n\r\nWe did connect Ignite Visor, and it shows nothing anomalous within the cluster topology or with any of the caches.  \r\n\r\nAny insight into this error would be appreciated.\r\n\r\n\r\n```\r\n[15:01:03,943][SEVERE][sys-stripe-4-#5][FailureProcessor] A critical problem with persistence data structures was detected. Please make backup of persistence storage and WAL files for further analysis. Persistence storage path: null WAL path: /ignite/wal WAL archive path: /ignite/walarchive\r\n\r\n[15:01:03,946][SEVERE][sys-stripe-4-#5][FailureProcessor] No deadlocked threads detected.\r\n....\r\n\r\n[15:01:04,135][SEVERE][sys-stripe-4-#5][] JVM will be halted immediately due to the failure: [failureCtx=FailureContext [type=CRITICAL_ERROR, err=class o.a.i.i.processors.cache.persistence.tree.CorruptedTreeException: B+Tree is corrupted [pages(groupId, pageId)=[IgniteBiTuple [val1=-2113909708, val2=1125985806188550]], msg=Runtime failure on search row: SearchRow [key=KeyCacheObjectImpl [part=20, val=2AC8D168CC86654C1879E6999D1CCFD7, hasValBytes=true], hash=741925420, cacheId=0]]\r\n```\r\nEdit, Server side stack trace:\r\n\r\n\r\n```\r\n[18:40:50,919][SEVERE][sys-stripe-4-#5][] Critical system error detected. Will be handled accordingly to configured handler [hnd=StopNodeOrHaltFailureHandler [tryStop=false, timeout=0, super=AbstractFailureHandler [ignoredFailureTypes=UnmodifiableSet [SYSTEM_WORKER_BLOCKED, SYSTEM_CRITICAL_OPERATION_TIMEOUT]]], failureCtx=FailureContext [type=CRITICAL_ERROR, err=class o.a.i.i.processors.cache.persistence.tree.CorruptedTreeException: B+Tree is corrupted [pages(groupId, pageId)=[IgniteBiTuple [val1=-2113909708, val2=1125985806188550]], msg=Runtime failure on search row: SearchRow [key=KeyCacheObjectImpl [part=20, val=2AC8D168CC86654C1879E6999D1CCFD7, hasValBytes=true], hash=741925420, cacheId=0]]]]\r\nclass org.apache.ignite.internal.processors.cache.persistence.tree.CorruptedTreeException: B+Tree is corrupted [pages(groupId, pageId)=[IgniteBiTuple [val1=-2113909708, val2=1125985806188550]], msg=Runtime failure on search row: SearchRow [key=KeyCacheObjectImpl [part=20, val=2AC8D168CC86654C1879E6999D1CCFD7, hasValBytes=true], hash=741925420, cacheId=0]]\r\n\tat org.apache.ignite.internal.processors.cache.persistence.tree.BPlusTree.corruptedTreeException(BPlusTree.java:6139)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.tree.BPlusTree.invoke(BPlusTree.java:1953)\r\n\tat org.apache.ignite.internal.processors.cache.IgniteCacheOffheapManagerImpl$CacheDataStoreImpl.invoke0(IgniteCacheOffheapManagerImpl.java:1765)\r\n\tat org.apache.ignite.internal.processors.cache.IgniteCacheOffheapManagerImpl$CacheDataStoreImpl.invoke(IgniteCacheOffheapManagerImpl.java:1748)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.GridCacheOffheapManager$GridCacheDataStore.invoke(GridCacheOffheapManager.java:2794)\r\n\tat org.apache.ignite.internal.processors.cache.IgniteCacheOffheapManagerImpl.invoke(IgniteCacheOffheapManagerImpl.java:441)\r\n\tat org.apache.ignite.internal.processors.cache.GridCacheMapEntry.innerUpdate(GridCacheMapEntry.java:2342)\r\n\tat org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateSingle(GridDhtAtomicCache.java:2589)\r\n\tat org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.update(GridDhtAtomicCache.java:2049)\r\n\tat org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateAllAsyncInternal0(GridDhtAtomicCache.java:1866)\r\n\tat org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateAllAsyncInternal(GridDhtAtomicCache.java:1725)\r\n\tat org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.processNearAtomicUpdateRequest(GridDhtAtomicCache.java:3228)\r\n\tat org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.access$400(GridDhtAtomicCache.java:143)\r\n\tat org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache$5.apply(GridDhtAtomicCache.java:284)\r\n\tat org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache$5.apply(GridDhtAtomicCache.java:279)\r\n\tat org.apache.ignite.internal.processors.cache.GridCacheIoManager.processMessage(GridCacheIoManager.java:1151)\r\n\tat org.apache.ignite.internal.processors.cache.GridCacheIoManager.onMessage0(GridCacheIoManager.java:592)\r\n\tat org.apache.ignite.internal.processors.cache.GridCacheIoManager.handleMessage(GridCacheIoManager.java:393)\r\n\tat org.apache.ignite.internal.processors.cache.GridCacheIoManager.handleMessage(GridCacheIoManager.java:319)\r\n\tat org.apache.ignite.internal.processors.cache.GridCacheIoManager.access$100(GridCacheIoManager.java:110)\r\n\tat org.apache.ignite.internal.processors.cache.GridCacheIoManager$1.onMessage(GridCacheIoManager.java:309)\r\n\tat org.apache.ignite.internal.managers.communication.GridIoManager.invokeListener(GridIoManager.java:1908)\r\n\tat org.apache.ignite.internal.managers.communication.GridIoManager.processRegularMessage0(GridIoManager.java:1529)\r\n\tat org.apache.ignite.internal.managers.communication.GridIoManager.access$5300(GridIoManager.java:242)\r\n\tat org.apache.ignite.internal.managers.communication.GridIoManager$9.execute(GridIoManager.java:1422)\r\n\tat org.apache.ignite.internal.managers.communication.TraceRunnable.run(TraceRunnable.java:55)\r\n\tat org.apache.ignite.internal.util.StripedExecutor$Stripe.body(StripedExecutor.java:569)\r\n\tat org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:120)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.IllegalArgumentException: Record is too long [capacity=134217728, size=134219738]\r\n\tat org.apache.ignite.internal.processors.cache.persistence.wal.SegmentedRingByteBuffer.offer0(SegmentedRingByteBuffer.java:214)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.wal.SegmentedRingByteBuffer.offer(SegmentedRingByteBuffer.java:193)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.wal.filehandle.FileWriteHandleImpl.addRecord(FileWriteHandleImpl.java:243)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.log(FileWriteAheadLogManager.java:858)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.log(FileWriteAheadLogManager.java:811)\r\n\tat org.apache.ignite.internal.processors.cache.GridCacheMapEntry.logUpdate(GridCacheMapEntry.java:4338)\r\n\tat org.apache.ignite.internal.processors.cache.GridCacheMapEntry$AtomicCacheUpdateClosure.update(GridCacheMapEntry.java:6492)\r\n\tat org.apache.ignite.internal.processors.cache.GridCacheMapEntry$AtomicCacheUpdateClosure.call(GridCacheMapEntry.java:6244)\r\n\tat org.apache.ignite.internal.processors.cache.GridCacheMapEntry$AtomicCacheUpdateClosure.call(GridCacheMapEntry.java:5928)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.tree.BPlusTree$Invoke.invokeClosure(BPlusTree.java:4021)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.tree.BPlusTree$Invoke.access$5700(BPlusTree.java:3915)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.tree.BPlusTree.invokeDown(BPlusTree.java:2042)\r\n\tat org.apache.ignite.internal.processors.cache.persistence.tree.BPlusTree.invoke(BPlusTree.java:1920)\r\n\t... 27 more\r\n```","title":"Ignite cluster repeatedly failing","body":"<p>Our ignite server is showing the following error.</p>\n<p>We are not performing any queries or Ignite tasks, we are just using the put and get features of the caches.</p>\n<p>We do have persistence enabled.</p>\n<p>We did connect Ignite Visor, and it shows nothing anomalous within the cluster topology or with any of the caches.</p>\n<p>Any insight into this error would be appreciated.</p>\n<pre><code>[15:01:03,943][SEVERE][sys-stripe-4-#5][FailureProcessor] A critical problem with persistence data structures was detected. Please make backup of persistence storage and WAL files for further analysis. Persistence storage path: null WAL path: /ignite/wal WAL archive path: /ignite/walarchive\n\n[15:01:03,946][SEVERE][sys-stripe-4-#5][FailureProcessor] No deadlocked threads detected.\n....\n\n[15:01:04,135][SEVERE][sys-stripe-4-#5][] JVM will be halted immediately due to the failure: [failureCtx=FailureContext [type=CRITICAL_ERROR, err=class o.a.i.i.processors.cache.persistence.tree.CorruptedTreeException: B+Tree is corrupted [pages(groupId, pageId)=[IgniteBiTuple [val1=-2113909708, val2=1125985806188550]], msg=Runtime failure on search row: SearchRow [key=KeyCacheObjectImpl [part=20, val=2AC8D168CC86654C1879E6999D1CCFD7, hasValBytes=true], hash=741925420, cacheId=0]]\n</code></pre>\n<p>Edit, Server side stack trace:</p>\n<pre><code>[18:40:50,919][SEVERE][sys-stripe-4-#5][] Critical system error detected. Will be handled accordingly to configured handler [hnd=StopNodeOrHaltFailureHandler [tryStop=false, timeout=0, super=AbstractFailureHandler [ignoredFailureTypes=UnmodifiableSet [SYSTEM_WORKER_BLOCKED, SYSTEM_CRITICAL_OPERATION_TIMEOUT]]], failureCtx=FailureContext [type=CRITICAL_ERROR, err=class o.a.i.i.processors.cache.persistence.tree.CorruptedTreeException: B+Tree is corrupted [pages(groupId, pageId)=[IgniteBiTuple [val1=-2113909708, val2=1125985806188550]], msg=Runtime failure on search row: SearchRow [key=KeyCacheObjectImpl [part=20, val=2AC8D168CC86654C1879E6999D1CCFD7, hasValBytes=true], hash=741925420, cacheId=0]]]]\nclass org.apache.ignite.internal.processors.cache.persistence.tree.CorruptedTreeException: B+Tree is corrupted [pages(groupId, pageId)=[IgniteBiTuple [val1=-2113909708, val2=1125985806188550]], msg=Runtime failure on search row: SearchRow [key=KeyCacheObjectImpl [part=20, val=2AC8D168CC86654C1879E6999D1CCFD7, hasValBytes=true], hash=741925420, cacheId=0]]\n    at org.apache.ignite.internal.processors.cache.persistence.tree.BPlusTree.corruptedTreeException(BPlusTree.java:6139)\n    at org.apache.ignite.internal.processors.cache.persistence.tree.BPlusTree.invoke(BPlusTree.java:1953)\n    at org.apache.ignite.internal.processors.cache.IgniteCacheOffheapManagerImpl$CacheDataStoreImpl.invoke0(IgniteCacheOffheapManagerImpl.java:1765)\n    at org.apache.ignite.internal.processors.cache.IgniteCacheOffheapManagerImpl$CacheDataStoreImpl.invoke(IgniteCacheOffheapManagerImpl.java:1748)\n    at org.apache.ignite.internal.processors.cache.persistence.GridCacheOffheapManager$GridCacheDataStore.invoke(GridCacheOffheapManager.java:2794)\n    at org.apache.ignite.internal.processors.cache.IgniteCacheOffheapManagerImpl.invoke(IgniteCacheOffheapManagerImpl.java:441)\n    at org.apache.ignite.internal.processors.cache.GridCacheMapEntry.innerUpdate(GridCacheMapEntry.java:2342)\n    at org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateSingle(GridDhtAtomicCache.java:2589)\n    at org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.update(GridDhtAtomicCache.java:2049)\n    at org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateAllAsyncInternal0(GridDhtAtomicCache.java:1866)\n    at org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.updateAllAsyncInternal(GridDhtAtomicCache.java:1725)\n    at org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.processNearAtomicUpdateRequest(GridDhtAtomicCache.java:3228)\n    at org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache.access$400(GridDhtAtomicCache.java:143)\n    at org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache$5.apply(GridDhtAtomicCache.java:284)\n    at org.apache.ignite.internal.processors.cache.distributed.dht.atomic.GridDhtAtomicCache$5.apply(GridDhtAtomicCache.java:279)\n    at org.apache.ignite.internal.processors.cache.GridCacheIoManager.processMessage(GridCacheIoManager.java:1151)\n    at org.apache.ignite.internal.processors.cache.GridCacheIoManager.onMessage0(GridCacheIoManager.java:592)\n    at org.apache.ignite.internal.processors.cache.GridCacheIoManager.handleMessage(GridCacheIoManager.java:393)\n    at org.apache.ignite.internal.processors.cache.GridCacheIoManager.handleMessage(GridCacheIoManager.java:319)\n    at org.apache.ignite.internal.processors.cache.GridCacheIoManager.access$100(GridCacheIoManager.java:110)\n    at org.apache.ignite.internal.processors.cache.GridCacheIoManager$1.onMessage(GridCacheIoManager.java:309)\n    at org.apache.ignite.internal.managers.communication.GridIoManager.invokeListener(GridIoManager.java:1908)\n    at org.apache.ignite.internal.managers.communication.GridIoManager.processRegularMessage0(GridIoManager.java:1529)\n    at org.apache.ignite.internal.managers.communication.GridIoManager.access$5300(GridIoManager.java:242)\n    at org.apache.ignite.internal.managers.communication.GridIoManager$9.execute(GridIoManager.java:1422)\n    at org.apache.ignite.internal.managers.communication.TraceRunnable.run(TraceRunnable.java:55)\n    at org.apache.ignite.internal.util.StripedExecutor$Stripe.body(StripedExecutor.java:569)\n    at org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:120)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.IllegalArgumentException: Record is too long [capacity=134217728, size=134219738]\n    at org.apache.ignite.internal.processors.cache.persistence.wal.SegmentedRingByteBuffer.offer0(SegmentedRingByteBuffer.java:214)\n    at org.apache.ignite.internal.processors.cache.persistence.wal.SegmentedRingByteBuffer.offer(SegmentedRingByteBuffer.java:193)\n    at org.apache.ignite.internal.processors.cache.persistence.wal.filehandle.FileWriteHandleImpl.addRecord(FileWriteHandleImpl.java:243)\n    at org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.log(FileWriteAheadLogManager.java:858)\n    at org.apache.ignite.internal.processors.cache.persistence.wal.FileWriteAheadLogManager.log(FileWriteAheadLogManager.java:811)\n    at org.apache.ignite.internal.processors.cache.GridCacheMapEntry.logUpdate(GridCacheMapEntry.java:4338)\n    at org.apache.ignite.internal.processors.cache.GridCacheMapEntry$AtomicCacheUpdateClosure.update(GridCacheMapEntry.java:6492)\n    at org.apache.ignite.internal.processors.cache.GridCacheMapEntry$AtomicCacheUpdateClosure.call(GridCacheMapEntry.java:6244)\n    at org.apache.ignite.internal.processors.cache.GridCacheMapEntry$AtomicCacheUpdateClosure.call(GridCacheMapEntry.java:5928)\n    at org.apache.ignite.internal.processors.cache.persistence.tree.BPlusTree$Invoke.invokeClosure(BPlusTree.java:4021)\n    at org.apache.ignite.internal.processors.cache.persistence.tree.BPlusTree$Invoke.access$5700(BPlusTree.java:3915)\n    at org.apache.ignite.internal.processors.cache.persistence.tree.BPlusTree.invokeDown(BPlusTree.java:2042)\n    at org.apache.ignite.internal.processors.cache.persistence.tree.BPlusTree.invoke(BPlusTree.java:1920)\n    ... 27 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":16190213,"reputation":137,"user_id":12348071,"display_name":"Szakul1"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1670440300,"creation_date":1670440300,"answer_id":74721844,"question_id":71926567,"body_markdown":"In your configuration class you can add this:\r\n\r\n```java\r\n@Bean\r\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) \r\n         throws Exception {\r\n    return authenticationConfiguration.getAuthenticationManager();\r\n}\r\n```","title":"Springboot 3.0.0-M2 AuthenticationManager","body":"<p>In your configuration class you can add this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) \n         throws Exception {\n    return authenticationConfiguration.getAuthenticationManager();\n}\n</code></pre>\n"}],"owner":{"account_id":21296153,"reputation":31,"user_id":15672691,"display_name":"Plugrol Huldo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4389,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1670440300,"creation_date":1650378159,"question_id":71926567,"body_markdown":"I wanted to create a backend using spring boot. \r\nWhen I executed the application, this exception was thrown:\r\n\r\n&gt; Field authenticationManager in projekt.controller.AuthController\r\n&gt; required a bean of type\r\n&gt; &#39;org.springframework.security.authentication.AuthenticationManager&#39;\r\n&gt; that could not be found.\r\n\r\nI quickly found a solution on the internet, which includes adding a WebSecurityConfigurerAdapter in which I would add this method:\r\n\r\n    @Override\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\nBut as I had to see, this is [deprecated][1].\r\n\r\nMy question is how would I do the same thing without using something deprecated.\r\n\r\n\r\n  [1]: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","title":"Springboot 3.0.0-M2 AuthenticationManager","body":"<p>I wanted to create a backend using spring boot.\nWhen I executed the application, this exception was thrown:</p>\n<blockquote>\n<p>Field authenticationManager in projekt.controller.AuthController\nrequired a bean of type\n'org.springframework.security.authentication.AuthenticationManager'\nthat could not be found.</p>\n</blockquote>\n<p>I quickly found a solution on the internet, which includes adding a WebSecurityConfigurerAdapter in which I would add this method:</p>\n<pre><code>@Override\n@Bean\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n}\n</code></pre>\n<p>But as I had to see, this is <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">deprecated</a>.</p>\n<p>My question is how would I do the same thing without using something deprecated.</p>\n"},{"tags":["java","floating-point"],"answers":[{"tags":[],"owner":{"account_id":3909148,"reputation":1206,"user_id":3234979,"accept_rate":60,"display_name":"ntysdd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670440256,"creation_date":1668132752,"answer_id":74397336,"question_id":74313270,"body_markdown":"As far as I know, Math#cbrt is delegated to StrictMath#cbrt, which uses fdlibm to cacluated cbrt.\r\n\r\nComments say the precision is about 0.667 ulp, which is within 1 ulp.\r\n\r\nI still don&#39;t find a single violation of the monotonic property.\r\n\r\n\r\nI know some libm&#39;s cbrt is not monotonic.\r\n\r\nThis code snippet illustrates this phenomenon.\r\n\r\n    // a.c\r\n    // compile with gcc a.c -lm\r\n    #include &lt;stdio.h&gt;\r\n    #include &lt;math.h&gt;\r\n    int main()\r\n    {\r\n        double x = 8.000000000000012;\r\n        double y = 8.000000000000014;\r\n        printf(&quot;%s\\n&quot;, (x &lt; y) ? &quot;yes&quot; : &quot;no&quot;);\r\n        printf(&quot;%s\\n&quot;, (cbrt(x) &lt; cbrt(y)) ? &quot;yes&quot; : &quot;no&quot;);\r\n    }\r\n\r\nOn my machine it outputs\r\n\r\n    yes\r\n    no\r\n\r\n\r\n**UPDATE**\r\nfound a violation.\r\n\r\n    public static void main(String[] args) {\r\n        double x1 = 1.9998501732312939;\r\n        double x2 = 1.999850173231294;\r\n        System.out.println(x1 &lt; x2);\r\n        System.out.println(Math.cbrt(x1) == Math.cbrt(x2));\r\n        System.out.println(Math.cbrt(x1) &lt; Math.cbrt(x2));\r\n    }\r\n\r\n\r\n","title":"Why java.lang.Math#cbrt doesn&#39;t mention semi-monotonic?","body":"<p>As far as I know, Math#cbrt is delegated to StrictMath#cbrt, which uses fdlibm to cacluated cbrt.</p>\n<p>Comments say the precision is about 0.667 ulp, which is within 1 ulp.</p>\n<p>I still don't find a single violation of the monotonic property.</p>\n<p>I know some libm's cbrt is not monotonic.</p>\n<p>This code snippet illustrates this phenomenon.</p>\n<pre><code>// a.c\n// compile with gcc a.c -lm\n#include &lt;stdio.h&gt;\n#include &lt;math.h&gt;\nint main()\n{\n    double x = 8.000000000000012;\n    double y = 8.000000000000014;\n    printf(&quot;%s\\n&quot;, (x &lt; y) ? &quot;yes&quot; : &quot;no&quot;);\n    printf(&quot;%s\\n&quot;, (cbrt(x) &lt; cbrt(y)) ? &quot;yes&quot; : &quot;no&quot;);\n}\n</code></pre>\n<p>On my machine it outputs</p>\n<pre><code>yes\nno\n</code></pre>\n<p><strong>UPDATE</strong>\nfound a violation.</p>\n<pre><code>public static void main(String[] args) {\n    double x1 = 1.9998501732312939;\n    double x2 = 1.999850173231294;\n    System.out.println(x1 &lt; x2);\n    System.out.println(Math.cbrt(x1) == Math.cbrt(x2));\n    System.out.println(Math.cbrt(x1) &lt; Math.cbrt(x2));\n}\n</code></pre>\n"}],"owner":{"account_id":3909148,"reputation":1206,"user_id":3234979,"accept_rate":60,"display_name":"ntysdd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1670440256,"creation_date":1667545320,"question_id":74313270,"body_markdown":"I was reading the documents of Math functions, and found cbrt quite strange.\r\n\r\nIts precision is only &quot;within 1 ulp&quot;, and it doesn&#39;t mention &quot;the semi-monotonic thing&quot;.\r\n\r\nIs it hard give these guarantees for the &quot;cube root&quot; function, or they simply forgot to add these guarantees?\r\n\r\n\r\nI can imagine &quot;cbrt&quot; to be harder to implemented than &quot;sqrt&quot;, so I&#39;m not so surprised it gives &quot;1 ulp&quot; instead of &quot;0.5 ulp&quot;. But isn&#39;t &quot;the semi-monotonic thing&quot; much easier? In fact most functions in this class have this property.\r\n\r\nBy the way, does anyone knows whether common JDK implementation exploits this omission? For example, can anyone give me an example, such that, cbrt(x) &gt; cbrt(y) when x &lt; y?","title":"Why java.lang.Math#cbrt doesn&#39;t mention semi-monotonic?","body":"<p>I was reading the documents of Math functions, and found cbrt quite strange.</p>\n<p>Its precision is only &quot;within 1 ulp&quot;, and it doesn't mention &quot;the semi-monotonic thing&quot;.</p>\n<p>Is it hard give these guarantees for the &quot;cube root&quot; function, or they simply forgot to add these guarantees?</p>\n<p>I can imagine &quot;cbrt&quot; to be harder to implemented than &quot;sqrt&quot;, so I'm not so surprised it gives &quot;1 ulp&quot; instead of &quot;0.5 ulp&quot;. But isn't &quot;the semi-monotonic thing&quot; much easier? In fact most functions in this class have this property.</p>\n<p>By the way, does anyone knows whether common JDK implementation exploits this omission? For example, can anyone give me an example, such that, cbrt(x) &gt; cbrt(y) when x &lt; y?</p>\n"},{"tags":["java","junit","junit5","hamcrest","assertj"],"comments":[{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1565702767,"post_id":57476351,"comment_id":101429065,"body_markdown":"This is still possible using [JUnit 5 and Hamcrest](https://www.petrikainulainen.net/programming/testing/junit-5-tutorial-writing-assertions-with-hamcrest/) but I also prefer the way David mentioned","body":"This is still possible using <a href=\"https://www.petrikainulainen.net/programming/testing/junit-5-tutorial-writing-assertions-with-hamcrest/\" rel=\"nofollow noreferrer\">JUnit 5 and Hamcrest</a> but I also prefer the way David mentioned"}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1565695543,"creation_date":1565694534,"answer_id":57476491,"question_id":57476351,"body_markdown":"With AssertJ the closest is : \r\n\r\n\r\n    assertThat(product).extracting(&quot;name&quot;, &quot;available&quot;, &quot;amount&quot;, &quot;price&quot;)\r\n                       .containsExactly(&quot;Coat&quot;, true, 12, new BigDecimal(&quot;88.0&quot;));\r\n\r\nBut I don&#39;t like to reference field names with `String`s because their validity as field names are checked only at the runtime (known issue of reflection) and that these `String`s may also be incorrectly updated during refactoring operations that we perform from the IDE.   \r\n\r\nWhile a little more verbose, I prefer that : \r\n\r\n    assertThat(product).extracting(Product::getName, Product::getAvailable, \r\n                                   Product::getAmount, Product::getPrice)\r\n                       .containsExactly(&quot;Coat&quot;, true, 12, new BigDecimal(&quot;88.0&quot;));\r\n\r\nThe advantage of AssertJ over Hamcrest that you quote is that that is really fluent : so in most of cases, you need a single import : `import org.assertj.core.api.Assertions;` and for collection assertions, sometimes that : `org.assertj.core.groups.Tuple;`\r\n\r\nHere JUnit 5 or 4; it doesn&#39;t really matter since you will only use JUnit as a test runner for a very simple case  and leave AssertJ to perform the assertions.\r\n\r\n&gt; Or, alternatively, what is the best way of doing that in JUnit 5\r\n&gt; universe.\r\n\r\nJUnit 5 (as the 4th version) doesn&#39;t provide features for flexible and fluent assertions. So doing it with the best way of JUnit 5 is bound to produce much more boiler plate code : as many assertions as fields to assert or overriding `equals()/hashCode()` override that you want to avoid for fair reasons.  \r\n","title":"JUnit5: How to assert several properties of an object with a single assert call?","body":"<p>With AssertJ the closest is : </p>\n\n<pre><code>assertThat(product).extracting(\"name\", \"available\", \"amount\", \"price\")\n                   .containsExactly(\"Coat\", true, 12, new BigDecimal(\"88.0\"));\n</code></pre>\n\n<p>But I don't like to reference field names with <code>String</code>s because their validity as field names are checked only at the runtime (known issue of reflection) and that these <code>String</code>s may also be incorrectly updated during refactoring operations that we perform from the IDE.   </p>\n\n<p>While a little more verbose, I prefer that : </p>\n\n<pre><code>assertThat(product).extracting(Product::getName, Product::getAvailable, \n                               Product::getAmount, Product::getPrice)\n                   .containsExactly(\"Coat\", true, 12, new BigDecimal(\"88.0\"));\n</code></pre>\n\n<p>The advantage of AssertJ over Hamcrest that you quote is that that is really fluent : so in most of cases, you need a single import : <code>import org.assertj.core.api.Assertions;</code> and for collection assertions, sometimes that : <code>org.assertj.core.groups.Tuple;</code></p>\n\n<p>Here JUnit 5 or 4; it doesn't really matter since you will only use JUnit as a test runner for a very simple case  and leave AssertJ to perform the assertions.</p>\n\n<blockquote>\n  <p>Or, alternatively, what is the best way of doing that in JUnit 5\n  universe.</p>\n</blockquote>\n\n<p>JUnit 5 (as the 4th version) doesn't provide features for flexible and fluent assertions. So doing it with the best way of JUnit 5 is bound to produce much more boiler plate code : as many assertions as fields to assert or overriding <code>equals()/hashCode()</code> override that you want to avoid for fair reasons.  </p>\n"},{"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1565701957,"creation_date":1565701957,"answer_id":57478487,"question_id":57476351,"body_markdown":"You could use `Assertions.assertAll`:\r\n\r\n    assertAll(&quot;product&quot;,\r\n       () -&gt; assertEquals(&quot;Coat&quot;, product.getName()),\r\n       () -&gt; assertTrue(product.isAvaikable())\r\n    );\r\n\r\nassertAll can take as many individual asserts as you like. Here’s the link to the section in the user guide: https://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions","title":"JUnit5: How to assert several properties of an object with a single assert call?","body":"<p>You could use <code>Assertions.assertAll</code>:</p>\n\n<pre><code>assertAll(\"product\",\n   () -&gt; assertEquals(\"Coat\", product.getName()),\n   () -&gt; assertTrue(product.isAvaikable())\n);\n</code></pre>\n\n<p>assertAll can take as many individual asserts as you like. Here’s the link to the section in the user guide: <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions\" rel=\"noreferrer\">https://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions</a></p>\n"},{"tags":[],"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1670440231,"creation_date":1566072605,"answer_id":57539605,"question_id":57476351,"body_markdown":"With AssertJ, another option would be to use [`returns`][1]:\r\n\r\n```\r\nimport static org.assertj.core.api.Assertions.from;\r\n\r\nassertThat(product)\r\n    .returns(&quot;Coat&quot;, from(Product::getName))\r\n    .returns(true, from(Product::getAvailable))\r\n     //\r\n     // or without &#39;from()&#39;\r\n     //\r\n    .returns(12, Product::getAmount)\r\n    .returns(new BigDecimal(&quot;88.0&quot;), Product::getPrice);\r\n```\r\nA bit more verbose but I find it easier to read compared to `extracting`/`contains`.\r\n\r\nNote that [`from`][2] is just an optional syntax sugar to improve readability.\r\n\r\n\r\n----------\r\n\r\nSince 3.22.0, [`doesNotReturn`][3] is also available. This can be useful for non-null fields where the expected value is not known in advance.\r\n\r\n```\r\nassertThat(product)\r\n    .returns(&quot;Coat&quot;, from(Product::getName))\r\n    .returns(true, from(Product::getAvailable))\r\n    .doesNotReturn(42, from(Product::getAmount))\r\n    .doesNotReturn(null, from(Product::getPrice));\r\n```\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractObjectAssert.html#returns(T,java.util.function.Function)\r\n  [2]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/Assertions.html#from(java.util.function.Function)\r\n  [3]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractObjectAssert.html#doesNotReturn(T,java.util.function.Function)","title":"JUnit5: How to assert several properties of an object with a single assert call?","body":"<p>With AssertJ, another option would be to use <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractObjectAssert.html#returns(T,java.util.function.Function)\" rel=\"noreferrer\"><code>returns</code></a>:</p>\n<pre><code>import static org.assertj.core.api.Assertions.from;\n\nassertThat(product)\n    .returns(&quot;Coat&quot;, from(Product::getName))\n    .returns(true, from(Product::getAvailable))\n     //\n     // or without 'from()'\n     //\n    .returns(12, Product::getAmount)\n    .returns(new BigDecimal(&quot;88.0&quot;), Product::getPrice);\n</code></pre>\n<p>A bit more verbose but I find it easier to read compared to <code>extracting</code>/<code>contains</code>.</p>\n<p>Note that <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/Assertions.html#from(java.util.function.Function)\" rel=\"noreferrer\"><code>from</code></a> is just an optional syntax sugar to improve readability.</p>\n<hr />\n<p>Since 3.22.0, <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractObjectAssert.html#doesNotReturn(T,java.util.function.Function)\" rel=\"noreferrer\"><code>doesNotReturn</code></a> is also available. This can be useful for non-null fields where the expected value is not known in advance.</p>\n<pre><code>assertThat(product)\n    .returns(&quot;Coat&quot;, from(Product::getName))\n    .returns(true, from(Product::getAvailable))\n    .doesNotReturn(42, from(Product::getAmount))\n    .doesNotReturn(null, from(Product::getPrice));\n</code></pre>\n"}],"owner":{"account_id":2358514,"reputation":9644,"user_id":2065796,"accept_rate":62,"display_name":"Sasha Shpota"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13563,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":57539605,"answer_count":3,"score":14,"last_activity_date":1670440231,"creation_date":1565693940,"question_id":57476351,"body_markdown":"I want to assert several properties of an object with a single assert call.\r\n\r\nWith JUnit 4 and Hamcrest I would have written something like this:\r\n\r\n    assertThat(product, allOf(\r\n            hasProperty(&quot;name&quot;, is(&quot;Coat&quot;)),\r\n            hasProperty(&quot;available&quot;, is(true)),\r\n            hasProperty(&quot;amount&quot;, is(12)),\r\n            hasProperty(&quot;price&quot;, is(new BigDecimal(&quot;88.0&quot;)))\r\n    ));\r\n\r\n**Q:** How to assert several properties in a single assert call using JUnit 5 and AssertJ? Or, alternatively, what is the best way of doing that in JUnit 5 universe.\r\n\r\n**Note:** I can of course create an object with all needed properties and perform \r\n\r\n    assertThat(actualProduct, is(expectedProduct))\r\nbut that is not the point.","title":"JUnit5: How to assert several properties of an object with a single assert call?","body":"<p>I want to assert several properties of an object with a single assert call.</p>\n\n<p>With JUnit 4 and Hamcrest I would have written something like this:</p>\n\n<pre><code>assertThat(product, allOf(\n        hasProperty(\"name\", is(\"Coat\")),\n        hasProperty(\"available\", is(true)),\n        hasProperty(\"amount\", is(12)),\n        hasProperty(\"price\", is(new BigDecimal(\"88.0\")))\n));\n</code></pre>\n\n<p><strong>Q:</strong> How to assert several properties in a single assert call using JUnit 5 and AssertJ? Or, alternatively, what is the best way of doing that in JUnit 5 universe.</p>\n\n<p><strong>Note:</strong> I can of course create an object with all needed properties and perform </p>\n\n<pre><code>assertThat(actualProduct, is(expectedProduct))\n</code></pre>\n\n<p>but that is not the point.</p>\n"},{"tags":["java","mysql","hibernate","intellij-idea"],"comments":[{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1670451801,"post_id":74721796,"comment_id":131882036,"body_markdown":"You need to add more details (entity class and persistence.xml or other file you use for configuration). Probably, you haven&#39;t annotated the class `Laptop` with `@Entity`, or you haven&#39;t added it in the configuration file.","body":"You need to add more details (entity class and persistence.xml or other file you use for configuration). Probably, you haven&#39;t annotated the class <code>Laptop</code> with <code>@Entity</code>, or you haven&#39;t added it in the configuration file."}],"owner":{"account_id":23782347,"reputation":61,"user_id":17794862,"display_name":"MDB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1809,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1670439995,"creation_date":1670439995,"question_id":74721796,"body_markdown":"The below block of code is not working:\r\n\r\n\r\n```\r\nprivate boolean checkLaptopDuplicates(String data1) {\r\n    Session session = sessionFactory.getCurrentSession();\r\n\r\n    String stmt = &quot;from laptop where image_url = &#39;&quot; + data1 + &quot;&#39;&quot;;\r\n    List&lt;Laptop&gt; laptopList = session.createQuery(stmt).getResultList();\r\n    return laptopList.size() &gt; 0;\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI got the following error with the above block of code:\r\n\r\n\r\n```\r\nException in thread &quot;Thread-3&quot; java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity &#39;Laptop&#39;\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:182)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:761)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:663)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:127)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:345)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy47.createQuery(Unknown Source)\r\n\tat web_scraping_codes.scraping_codes.LaptopDataAccessObject.checkLaptopDuplicates(LaptopDataAccessObject.java:90)\r\n\tat web_scraping_codes.scraping_codes.LaptopDataAccessObject.addLaptop(LaptopDataAccessObject.java:42)\r\n\tat web_scraping_codes.scraping_codes.ValueComputersScraper.run(ValueComputersScraper.java:153)\r\nCaused by: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity &#39;Laptop&#39;\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitRootEntity(SemanticQueryBuilder.java:1628)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitRootEntity(SemanticQueryBuilder.java:243)\r\n\tat org.hibernate.grammars.hql.HqlParser$RootEntityContext.accept(HqlParser.java:1873)\r\n\t\r\n```\r\n\r\nHow this issue should be tackled?","title":"How to solve &quot;org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity [Table Name]&quot;","body":"<p>The below block of code is not working:</p>\n<pre><code>private boolean checkLaptopDuplicates(String data1) {\n    Session session = sessionFactory.getCurrentSession();\n\n    String stmt = &quot;from laptop where image_url = '&quot; + data1 + &quot;'&quot;;\n    List&lt;Laptop&gt; laptopList = session.createQuery(stmt).getResultList();\n    return laptopList.size() &gt; 0;\n\n}\n</code></pre>\n<p>I got the following error with the above block of code:</p>\n<pre><code>Exception in thread &quot;Thread-3&quot; java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity 'Laptop'\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:182)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:761)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:663)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:127)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:345)\n    at jdk.proxy2/jdk.proxy2.$Proxy47.createQuery(Unknown Source)\n    at web_scraping_codes.scraping_codes.LaptopDataAccessObject.checkLaptopDuplicates(LaptopDataAccessObject.java:90)\n    at web_scraping_codes.scraping_codes.LaptopDataAccessObject.addLaptop(LaptopDataAccessObject.java:42)\n    at web_scraping_codes.scraping_codes.ValueComputersScraper.run(ValueComputersScraper.java:153)\nCaused by: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity 'Laptop'\n    at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitRootEntity(SemanticQueryBuilder.java:1628)\n    at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitRootEntity(SemanticQueryBuilder.java:243)\n    at org.hibernate.grammars.hql.HqlParser$RootEntityContext.accept(HqlParser.java:1873)\n    \n</code></pre>\n<p>How this issue should be tackled?</p>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670433048,"post_id":74720057,"comment_id":131877022,"body_markdown":"Integers, means the range is limited only by the type?","body":"Integers, means the range is limited only by the type?"},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1670433192,"post_id":74720057,"comment_id":131877072,"body_markdown":"@AlexanderIvanchenko, yes. but need not be a big number, it can be up to 5000 also. There is no special constraint on values.","body":"@AlexanderIvanchenko, yes. but need not be a big number, it can be up to 5000 also. There is no special constraint on values."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670435116,"creation_date":1670434503,"answer_id":74720740,"question_id":74720057,"body_markdown":"Since all elements in the given arrays are unique, we can store index the positions of elements in one of these arrays by generating a map of type `Map&lt;Integer,Integer&gt;` associating an array element (*Key*) with its index (*Value*).\r\n\r\nThen iterate over the second array, searching for identical chunks.\r\n\r\nFor that, we need to maintain a variable `prevIndex` that would store the *index* occupied by the previous element in the first array. While iterating, we would need to check each next index in the first array (*corresponding to the next element in the first array*). If the next index differs from the previous only by one - the next element is proved to be a part of a chunk with identical order, and we&#39;re just incrementing `prevIndex`. Otherwise, increment the `count` of chunks.\r\n\r\n    public static int process(int[] arr1, int[] arr2) {\r\n        Map&lt;Integer, Integer&gt; indexByValue = mapIndices(arr2);\r\n        \r\n        int count = 1;\r\n        \r\n        int prevIndex = indexByValue.get(arr1[0]);\r\n        \r\n        for (int i = 1; i &lt; arr1.length; i++) {\r\n            int nextIndex = indexByValue.get(arr1[i]);\r\n            if (nextIndex == prevIndex + 1) {\r\n                prevIndex++;\r\n            } else {\r\n                prevIndex = nextIndex;\r\n                count++;\r\n            }\r\n        }\r\n        \r\n        return count;\r\n    }\r\n    \r\n    public static Map&lt;Integer, Integer&gt; mapIndices(int[] arr) {\r\n        \r\n        return IntStream.range(0, arr.length)\r\n            .boxed()\r\n            .collect(Collectors.toMap(\r\n                i -&gt; arr[i],\r\n                Function.identity()\r\n            ));\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(process(new int[]{1, 4, 3, 2}, new int[]{1, 2, 4, 3}));\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n3\r\n```","title":"Minimum number of Groups needed to convert the given Array to another Array","body":"<p>Since all elements in the given arrays are unique, we can store index the positions of elements in one of these arrays by generating a map of type <code>Map&lt;Integer,Integer&gt;</code> associating an array element (<em>Key</em>) with its index (<em>Value</em>).</p>\n<p>Then iterate over the second array, searching for identical chunks.</p>\n<p>For that, we need to maintain a variable <code>prevIndex</code> that would store the <em>index</em> occupied by the previous element in the first array. While iterating, we would need to check each next index in the first array (<em>corresponding to the next element in the first array</em>). If the next index differs from the previous only by one - the next element is proved to be a part of a chunk with identical order, and we're just incrementing <code>prevIndex</code>. Otherwise, increment the <code>count</code> of chunks.</p>\n<pre><code>public static int process(int[] arr1, int[] arr2) {\n    Map&lt;Integer, Integer&gt; indexByValue = mapIndices(arr2);\n    \n    int count = 1;\n    \n    int prevIndex = indexByValue.get(arr1[0]);\n    \n    for (int i = 1; i &lt; arr1.length; i++) {\n        int nextIndex = indexByValue.get(arr1[i]);\n        if (nextIndex == prevIndex + 1) {\n            prevIndex++;\n        } else {\n            prevIndex = nextIndex;\n            count++;\n        }\n    }\n    \n    return count;\n}\n\npublic static Map&lt;Integer, Integer&gt; mapIndices(int[] arr) {\n    \n    return IntStream.range(0, arr.length)\n        .boxed()\n        .collect(Collectors.toMap(\n            i -&gt; arr[i],\n            Function.identity()\n        ));\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(process(new int[]{1, 4, 3, 2}, new int[]{1, 2, 4, 3}));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>3\n</code></pre>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74720740,"answer_count":1,"score":1,"last_activity_date":1670439837,"creation_date":1670431158,"question_id":74720057,"body_markdown":"I have a given array with unique values say `[1,4,3,2]` and another desired array `[1,2,4,3]`\r\n\r\nI want to cut this input array into a minimum number of pieces so I can convert that to the desired array by just re-arranging the cut pieces.\r\n\r\nSo for the input array `[1,4,3,2]` I can cut into pieces `(1), (4,3), (2)` and re-arrange like `(1),(2),(4,3)` to get the desired array `[1,2,4,3]`\r\n\r\n**Constraints:**\r\n\r\n    Array values are unique. \r\n    The size of both arrays is the same and can be up to 1000. \r\n    Values in arrays are integers\r\n\r\nSo the answer is `3` pieces for this example.\r\n\r\nHere is what I have tried:\r\n\r\n    public int process(int[] inp, int[] desired) {\r\n       int ans = 0;\r\n       for (int i = 0; i &lt; inp.length; i++) {\r\n          if (inp[i] != desired[i]) ans++;\r\n       }\r\n       return ans;\r\n    }\r\n\r\nMy approach is not a correct one, as I am finding elements at each index to count the mismatches. What is the correct approach for solving this problem?","title":"Minimum number of Groups needed to convert the given Array to another Array","body":"<p>I have a given array with unique values say <code>[1,4,3,2]</code> and another desired array <code>[1,2,4,3]</code></p>\n<p>I want to cut this input array into a minimum number of pieces so I can convert that to the desired array by just re-arranging the cut pieces.</p>\n<p>So for the input array <code>[1,4,3,2]</code> I can cut into pieces <code>(1), (4,3), (2)</code> and re-arrange like <code>(1),(2),(4,3)</code> to get the desired array <code>[1,2,4,3]</code></p>\n<p><strong>Constraints:</strong></p>\n<pre><code>Array values are unique. \nThe size of both arrays is the same and can be up to 1000. \nValues in arrays are integers\n</code></pre>\n<p>So the answer is <code>3</code> pieces for this example.</p>\n<p>Here is what I have tried:</p>\n<pre><code>public int process(int[] inp, int[] desired) {\n   int ans = 0;\n   for (int i = 0; i &lt; inp.length; i++) {\n      if (inp[i] != desired[i]) ans++;\n   }\n   return ans;\n}\n</code></pre>\n<p>My approach is not a correct one, as I am finding elements at each index to count the mismatches. What is the correct approach for solving this problem?</p>\n"},{"tags":["java","generics","arraylist","priority-queue"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1670410646,"post_id":74715466,"comment_id":131868778,"body_markdown":"If `myQueue` is ordered in ascending order you get the &quot;lowest priority&quot; element using `myQueue.get(myQueue.size() - 1)`. If you want to iterate backwards have a look at `myQueue.listIterator(myQueue.size())`.","body":"If <code>myQueue</code> is ordered in ascending order you get the &quot;lowest priority&quot; element using <code>myQueue.get(myQueue.size() - 1)</code>. If you want to iterate backwards have a look at <code>myQueue.listIterator(myQueue.size())</code>."},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1670411027,"post_id":74715466,"comment_id":131868928,"body_markdown":"can u show me where to edits specifically please? maybe in an answer or smth. thank u for ur response though but I can&#39;t seem to see where to put it in my code","body":"can u show me where to edits specifically please? maybe in an answer or smth. thank u for ur response though but I can&#39;t seem to see where to put it in my code"}],"answers":[{"tags":[],"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670439574,"creation_date":1670439574,"answer_id":74721705,"question_id":74715466,"body_markdown":"You&#39;re building a 1-based binary heap in a language that uses 0-based arrays. Whereas that&#39;s possible, you have to be careful about off-by-one errors.\r\n\r\nIn particular, you&#39;re using `myQueue.size()` to get the last element in the heap. But that&#39;s not the last element. Rather, it&#39;s the element *after* the last element.\r\n\r\nConsider if you added the numbers 1, 2, and 3 to the heap. Your array will have the contents:\r\n\r\n    [0] - null\r\n    [1] - 1\r\n    [2] - 2\r\n    [3] - 3\r\n\r\nBut `myQueue.size()` is going to return `4`. So when this line is executed:\r\n\r\n    this.myQueue.set(1,this.myQueue.get(this.myQueue.size()))\r\n\r\nIt does, in effect, `myQueue[1] = myQueue[4]`.\r\n\r\nThat&#39;s not what you want. You want:\r\n\r\n    this.myQueue.set(1,this.myQueue.get(this.myQueue.size()-1))\r\n\r\nAnd of course you&#39;ll need to change `this.myQueue.size()` to `this.myQueue.size()-1` in other places as appropriate.\r\n\r\nOr, you can elect to actually use the 0th element in the queue. You just have to change your parent/child calculations:\r\n\r\n    parent index = i\r\n    left child = (2*i) + 1\r\n    right child = (2*i) + 2\r\n\r\nAnd the corresponding:\r\n\r\n    parent index = left_child/2\r\n    parent index = (right_child-1)/2\r\n","title":"How can I iterate over all elements in my generic list List&lt;T&gt; backwards and do the intended operation?","body":"<p>You're building a 1-based binary heap in a language that uses 0-based arrays. Whereas that's possible, you have to be careful about off-by-one errors.</p>\n<p>In particular, you're using <code>myQueue.size()</code> to get the last element in the heap. But that's not the last element. Rather, it's the element <em>after</em> the last element.</p>\n<p>Consider if you added the numbers 1, 2, and 3 to the heap. Your array will have the contents:</p>\n<pre><code>[0] - null\n[1] - 1\n[2] - 2\n[3] - 3\n</code></pre>\n<p>But <code>myQueue.size()</code> is going to return <code>4</code>. So when this line is executed:</p>\n<pre><code>this.myQueue.set(1,this.myQueue.get(this.myQueue.size()))\n</code></pre>\n<p>It does, in effect, <code>myQueue[1] = myQueue[4]</code>.</p>\n<p>That's not what you want. You want:</p>\n<pre><code>this.myQueue.set(1,this.myQueue.get(this.myQueue.size()-1))\n</code></pre>\n<p>And of course you'll need to change <code>this.myQueue.size()</code> to <code>this.myQueue.size()-1</code> in other places as appropriate.</p>\n<p>Or, you can elect to actually use the 0th element in the queue. You just have to change your parent/child calculations:</p>\n<pre><code>parent index = i\nleft child = (2*i) + 1\nright child = (2*i) + 2\n</code></pre>\n<p>And the corresponding:</p>\n<pre><code>parent index = left_child/2\nparent index = (right_child-1)/2\n</code></pre>\n"}],"owner":{"display_name":"user18984687"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670439574,"creation_date":1670410328,"question_id":74715466,"body_markdown":"I&#39;m trying to create a Priority Queue and implement a function `deleteMax()` that removes the maximum element in the priority Queue. In order to do that, I&#39;ve utilized the `sink()` method of the priority queue implementation and a `comparator` which compares two sets of values. \r\n\r\nHere is my code so far:\r\n\r\n    public class Lecture17&lt;T&gt; {\r\n        private Comparator&lt;T&gt; cc;\r\n        private List&lt;T&gt; myQueue;\r\n    \r\n        public Lecture17(Comparator&lt;T&gt; cc) {\r\n            this.cc = cc;\r\n            this.myQueue = new ArrayList&lt;&gt;();\r\n            this.myQueue.add(0, null);\r\n        }\r\n        private boolean Smallerthan(int v, int w) {  // helper method to compare items to one another\r\n            return (cc.compare(this.myQueue.get(v),this.myQueue.get(w))&lt;0);\r\n        }\r\n        private void sink(int z) {\r\n            while (2*z &lt;=  this.myQueue.size()) {\r\n                int j = 2*z;\r\n                if ((j &lt; this.myQueue.size()) &amp;&amp; Smallerthan(j,j+1))\r\n                    j++;\r\n                if (Smallerthan(j,z))\r\n                    break;\r\n                swap(z,j);\r\n            }\r\n        }\r\n    \r\n        public T deleteMax() { // dequeues the highest priority item\r\n    \r\n            T highestPriorityItem = this.myQueue.get(1);\r\n            this.myQueue.set(1,this.myQueue.get(this.myQueue.size()));// moves the last element to the top of the heap\r\n            this.myQueue.set(this.myQueue.size(), null);              // to prevent loitering\r\n            size()--;                                                 // update the size instance variable\r\n            sink(1);                  // when heap order is violated, this will fix it\r\n    \r\n            return highestPriorityItem\r\n            }\r\n      \r\n\r\nI&#39;m trying to iterate from the top of the priority queue to the bottom for `deleteMax()` but I&#39;m currently struggling to do so, can anyone please explain what I can do to find the smallest element in the priority Queue","title":"How can I iterate over all elements in my generic list List&lt;T&gt; backwards and do the intended operation?","body":"<p>I'm trying to create a Priority Queue and implement a function <code>deleteMax()</code> that removes the maximum element in the priority Queue. In order to do that, I've utilized the <code>sink()</code> method of the priority queue implementation and a <code>comparator</code> which compares two sets of values.</p>\n<p>Here is my code so far:</p>\n<pre><code>public class Lecture17&lt;T&gt; {\n    private Comparator&lt;T&gt; cc;\n    private List&lt;T&gt; myQueue;\n\n    public Lecture17(Comparator&lt;T&gt; cc) {\n        this.cc = cc;\n        this.myQueue = new ArrayList&lt;&gt;();\n        this.myQueue.add(0, null);\n    }\n    private boolean Smallerthan(int v, int w) {  // helper method to compare items to one another\n        return (cc.compare(this.myQueue.get(v),this.myQueue.get(w))&lt;0);\n    }\n    private void sink(int z) {\n        while (2*z &lt;=  this.myQueue.size()) {\n            int j = 2*z;\n            if ((j &lt; this.myQueue.size()) &amp;&amp; Smallerthan(j,j+1))\n                j++;\n            if (Smallerthan(j,z))\n                break;\n            swap(z,j);\n        }\n    }\n\n    public T deleteMax() { // dequeues the highest priority item\n\n        T highestPriorityItem = this.myQueue.get(1);\n        this.myQueue.set(1,this.myQueue.get(this.myQueue.size()));// moves the last element to the top of the heap\n        this.myQueue.set(this.myQueue.size(), null);              // to prevent loitering\n        size()--;                                                 // update the size instance variable\n        sink(1);                  // when heap order is violated, this will fix it\n\n        return highestPriorityItem\n        }\n  \n</code></pre>\n<p>I'm trying to iterate from the top of the priority queue to the bottom for <code>deleteMax()</code> but I'm currently struggling to do so, can anyone please explain what I can do to find the smallest element in the priority Queue</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":2,"creation_date":1670438807,"post_id":74721518,"comment_id":131878826,"body_markdown":"You can return the updated `User` from your userService update operation and return it instead of returning a null.","body":"You can return the updated <code>User</code> from your userService update operation and return it instead of returning a null."},{"owner":{"account_id":4535404,"reputation":301,"user_id":3684747,"display_name":"user3684747"},"score":0,"creation_date":1670439035,"post_id":74721518,"comment_id":131878892,"body_markdown":"Thanks, but i can&#39;t change update. Edited for clarity","body":"Thanks, but i can&#39;t change update. Edited for clarity"},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":2,"creation_date":1670439211,"post_id":74721518,"comment_id":131878942,"body_markdown":"If you want to leave the value unchanged you should return `user` instead of null inside your map method call.  However, I would argue that this use of the map method is not very intuitive.  What you are effectively doing is running a line of code only if the Optional holds a value.  The standard way to do this would be to use an if statement on the [`isPresent()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#isPresent()) method of the Optional.  If this doesn&#39;t work for your use case for whatever reason, I would leave a comment for clarity.","body":"If you want to leave the value unchanged you should return <code>user</code> instead of null inside your map method call.  However, I would argue that this use of the map method is not very intuitive.  What you are effectively doing is running a line of code only if the Optional holds a value.  The standard way to do this would be to use an if statement on the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#isPresent()\" rel=\"nofollow noreferrer\"><code>isPresent()</code></a> method of the Optional.  If this doesn&#39;t work for your use case for whatever reason, I would leave a comment for clarity."},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":1,"creation_date":1670439404,"post_id":74721518,"comment_id":131878991,"body_markdown":"And there is no need to change the update() method header to follow Vini&#39;s advice.  You&#39;re changing the return value of the lambda function in your map() method call, not the return value of the update() method.","body":"And there is no need to change the update() method header to follow Vini&#39;s advice.  You&#39;re changing the return value of the lambda function in your map() method call, not the return value of the update() method."},{"owner":{"account_id":4535404,"reputation":301,"user_id":3684747,"display_name":"user3684747"},"score":0,"creation_date":1670440111,"post_id":74721518,"comment_id":131879212,"body_markdown":"@CharlieArmstrong when you say this use is not very intuitive, is it because it&#39;s only a single line? Would it be intuitive if it was a block of code?","body":"@CharlieArmstrong when you say this use is not very intuitive, is it because it&#39;s only a single line? Would it be intuitive if it was a block of code?"},{"owner":{"account_id":4535404,"reputation":301,"user_id":3684747,"display_name":"user3684747"},"score":0,"creation_date":1670440223,"post_id":74721518,"comment_id":131879244,"body_markdown":"I understand i can return the user from findUser, but not the updated user as it is not being returned to me. Unless i do a setZipcode and return it, if that&#39;s what you are suggesting.","body":"I understand i can return the user from findUser, but not the updated user as it is not being returned to me. Unless i do a setZipcode and return it, if that&#39;s what you are suggesting."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1670440329,"post_id":74721518,"comment_id":131879267,"body_markdown":"You should not use `map` except when you actually need to produce a result.  If you don&#39;t need to produce a result, you shouldn&#39;t use `map`.  That&#39;s the issue, not the single-line-ness.","body":"You should not use <code>map</code> except when you actually need to produce a result.  If you don&#39;t need to produce a result, you shouldn&#39;t use <code>map</code>.  That&#39;s the issue, not the single-line-ness."},{"owner":{"account_id":4535404,"reputation":301,"user_id":3684747,"display_name":"user3684747"},"score":0,"creation_date":1670440575,"post_id":74721518,"comment_id":131879348,"body_markdown":"Seeing the accepted answer made it all clear. Thanks everyone for the comments","body":"Seeing the accepted answer made it all clear. Thanks everyone for the comments"}],"answers":[{"tags":[],"owner":{"account_id":6746752,"reputation":298,"user_id":5198144,"display_name":"Pekinek"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670439573,"creation_date":1670439573,"answer_id":74721704,"question_id":74721518,"body_markdown":"You can use Optional.ifPresentOrElse(). For example:\r\n\r\n    private void func(final String name, final String zipcode) {\r\n    this.userService.findUser(userId)    \r\n        .ifPresentOrElse(user -&gt; this.userService.update(user.getId(), zipcode),\r\n        () -&gt; this.userService.create(name, zipcode));\r\n    }","title":"mapping function returns null, orElseGet is being called when i don&#39;t want it to be","body":"<p>You can use Optional.ifPresentOrElse(). For example:</p>\n<pre><code>private void func(final String name, final String zipcode) {\nthis.userService.findUser(userId)    \n    .ifPresentOrElse(user -&gt; this.userService.update(user.getId(), zipcode),\n    () -&gt; this.userService.create(name, zipcode));\n}\n</code></pre>\n"}],"owner":{"account_id":4535404,"reputation":301,"user_id":3684747,"display_name":"user3684747"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74721704,"answer_count":1,"score":1,"last_activity_date":1670439573,"creation_date":1670438507,"question_id":74721518,"body_markdown":"Let&#39;s say I have the following function:\r\n\r\n```\r\nprivate void func(final String name, final String zipcode) {\r\n    this.userService.findUser(userId).map(user -&gt; {\r\n        this.userService.update(user.getId(), zipcode);\r\n        return null; // because a return is needed\r\n    }).orElseGet(() -&gt;  this.userService.create(name, zipcode));\r\n}\r\n```\r\n\r\nI can&#39;t change **update** and **findUser** signatures (void and Optional being the relevant parts):\r\n\r\n```\r\npublic void update(final UUID userId, String zipcode)\r\n\r\npublic Optional&lt;User&gt; findUser(final UUID userId)\r\n```\r\n\r\nI have to return something in the function being given to the map, but returning null will make orElseGet get called everytime.\r\n\r\nIs the only way to use map correctly in this case (not calling orElseGet when a user is found) to return something else other than null? \r\n\r\nIf so, is there another good way to write this code? \r\n\r\nReturning something random just to make it work doesn&#39;t feel correct.","title":"mapping function returns null, orElseGet is being called when i don&#39;t want it to be","body":"<p>Let's say I have the following function:</p>\n<pre><code>private void func(final String name, final String zipcode) {\n    this.userService.findUser(userId).map(user -&gt; {\n        this.userService.update(user.getId(), zipcode);\n        return null; // because a return is needed\n    }).orElseGet(() -&gt;  this.userService.create(name, zipcode));\n}\n</code></pre>\n<p>I can't change <strong>update</strong> and <strong>findUser</strong> signatures (void and Optional being the relevant parts):</p>\n<pre><code>public void update(final UUID userId, String zipcode)\n\npublic Optional&lt;User&gt; findUser(final UUID userId)\n</code></pre>\n<p>I have to return something in the function being given to the map, but returning null will make orElseGet get called everytime.</p>\n<p>Is the only way to use map correctly in this case (not calling orElseGet when a user is found) to return something else other than null?</p>\n<p>If so, is there another good way to write this code?</p>\n<p>Returning something random just to make it work doesn't feel correct.</p>\n"},{"tags":["java","windows","javasound"],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670439476,"creation_date":1670439476,"answer_id":74721690,"question_id":74691116,"body_markdown":"The naming of `TargetDataLine` and `SourceDataLine` is kind of backwards. Outputs to the local sound system for playback are directed to a `SourceDataLine` and inputs to Java like microphone lines use `TargetDataLine`. I used to know why they were named this way but it&#39;s slipped my mind at the moment.\r\n\r\nThere is a tutorial [Accessing Audio System Resources][1] with specifics.\r\n\r\nMost computers only have a limited number of float controls available, with &quot;master volume&quot; being the one most likely to be implemented. You would use this to alter the volume of the output. Another tutorial in the series, [Processing Audio with Controls][2] covers this topic. For myself, I generally convert the audio stream to PCM and handle volume directly (multiply each value by a factor that ranges from 0 to 1) and then convert back to a byte stream, rather than rely on controls which may or may not be present.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/sound/accessing.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/sound/controls.html","title":"Link sound input to specific output device with java api","body":"<p>The naming of <code>TargetDataLine</code> and <code>SourceDataLine</code> is kind of backwards. Outputs to the local sound system for playback are directed to a <code>SourceDataLine</code> and inputs to Java like microphone lines use <code>TargetDataLine</code>. I used to know why they were named this way but it's slipped my mind at the moment.</p>\n<p>There is a tutorial <a href=\"https://docs.oracle.com/javase/tutorial/sound/accessing.html\" rel=\"nofollow noreferrer\">Accessing Audio System Resources</a> with specifics.</p>\n<p>Most computers only have a limited number of float controls available, with &quot;master volume&quot; being the one most likely to be implemented. You would use this to alter the volume of the output. Another tutorial in the series, <a href=\"https://docs.oracle.com/javase/tutorial/sound/controls.html\" rel=\"nofollow noreferrer\">Processing Audio with Controls</a> covers this topic. For myself, I generally convert the audio stream to PCM and handle volume directly (multiply each value by a factor that ranges from 0 to 1) and then convert back to a byte stream, rather than rely on controls which may or may not be present.</p>\n"}],"owner":{"account_id":4134675,"reputation":461,"user_id":3391574,"accept_rate":75,"display_name":"Manticore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670439476,"creation_date":1670256630,"question_id":74691116,"body_markdown":"I am trying to perform a simple task, select an input device and set the output device.\r\n\r\nThe use case is as follows, I have 3.5mm jacks and my user can select the output device (headphones or speaker) from a list.\r\n\r\nI can play a sound on a given device (with clip), I can control the input device (mute/volume), but I haven&#39;t found any way to specify the target line, it&#39;s always the system default. \r\n\r\nI can get the mixer\r\n\r\n    Optional&lt;Mixer.Info&gt; optJackInMixerInfo = Arrays.stream(AudioSystem.getMixerInfo())\r\n            .filter(mixerInfo -&gt; {\r\n                // Filter based on the device name. \r\n            })\r\n            .findFirst();\r\n    Mixer m = AudioSystem.getMixer(jackInMixerInfo);\r\n\r\n\r\n// The target \r\n\r\n    Line.Info[] lineInfos = m.getTargetLineInfo();\r\n    for (Line.Info lineInfo : lineInfos) {\r\n      m.getLine(lineInfo);\r\n      System.out.println(&quot;ici&quot;);\r\n    }\r\n\r\nI got only the &quot;master volume control&quot;. \r\n\r\nHow can I select the output device ? I can be happy with changing the system default device too.\r\n","title":"Link sound input to specific output device with java api","body":"<p>I am trying to perform a simple task, select an input device and set the output device.</p>\n<p>The use case is as follows, I have 3.5mm jacks and my user can select the output device (headphones or speaker) from a list.</p>\n<p>I can play a sound on a given device (with clip), I can control the input device (mute/volume), but I haven't found any way to specify the target line, it's always the system default.</p>\n<p>I can get the mixer</p>\n<pre><code>Optional&lt;Mixer.Info&gt; optJackInMixerInfo = Arrays.stream(AudioSystem.getMixerInfo())\n        .filter(mixerInfo -&gt; {\n            // Filter based on the device name. \n        })\n        .findFirst();\nMixer m = AudioSystem.getMixer(jackInMixerInfo);\n</code></pre>\n<p>// The target</p>\n<pre><code>Line.Info[] lineInfos = m.getTargetLineInfo();\nfor (Line.Info lineInfo : lineInfos) {\n  m.getLine(lineInfo);\n  System.out.println(&quot;ici&quot;);\n}\n</code></pre>\n<p>I got only the &quot;master volume control&quot;.</p>\n<p>How can I select the output device ? I can be happy with changing the system default device too.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":293435,"reputation":7047,"user_id":596725,"accept_rate":60,"display_name":"Herry"},"score":4,"creation_date":1335953524,"post_id":10411668,"comment_id":13432104,"body_markdown":"what exception you are getting?","body":"what exception you are getting?"},{"owner":{"account_id":1261259,"reputation":6717,"user_id":1219487,"accept_rate":80,"display_name":"Chetter Hummin"},"score":1,"creation_date":1335953639,"post_id":10411668,"comment_id":13432135,"body_markdown":"Have you tried printing out str and verifying that it is a valid number?","body":"Have you tried printing out str and verifying that it is a valid number?"},{"owner":{"account_id":1366794,"reputation":95,"user_id":1303065,"accept_rate":33,"display_name":"Ryada"},"score":0,"creation_date":1335953743,"post_id":10411668,"comment_id":13432179,"body_markdown":"i print the str before converting the vales ..it&#39;s printed total values","body":"i print the str before converting the vales ..it&#39;s printed total values"},{"owner":{"account_id":1328450,"reputation":6919,"user_id":1272824,"display_name":"Renard"},"score":1,"creation_date":1335954161,"post_id":10411668,"comment_id":13432331,"body_markdown":"look at the stacktrace: it says &quot;unable to parse &#39;893&quot; so remove &#39; before passing the string to parseInt","body":"look at the stacktrace: it says &quot;unable to parse &#39;893&quot; so remove &#39; before passing the string to parseInt"},{"owner":{"account_id":293435,"reputation":7047,"user_id":596725,"accept_rate":60,"display_name":"Herry"},"score":0,"creation_date":1335954183,"post_id":10411668,"comment_id":13432335,"body_markdown":"actually problem is your `Str` also contain non-number text that cause problem make filter for that.","body":"actually problem is your <code>Str</code> also contain non-number text that cause problem make filter for that."},{"owner":{"account_id":1366794,"reputation":95,"user_id":1303065,"accept_rate":33,"display_name":"Ryada"},"score":0,"creation_date":1335955225,"post_id":10411668,"comment_id":13432715,"body_markdown":"wheni print the str values i got the all values in the file","body":"wheni print the str values i got the all values in the file"},{"owner":{"account_id":1366794,"reputation":95,"user_id":1303065,"accept_rate":33,"display_name":"Ryada"},"score":0,"creation_date":1335955924,"post_id":10411668,"comment_id":13432971,"body_markdown":"actually there is nothing wrong with the numbers ,it doesn&#39;t contain &#39; or &quot; .","body":"actually there is nothing wrong with the numbers ,it doesn&#39;t contain &#39; or &quot; ."}],"answers":[{"tags":[],"owner":{"account_id":1326804,"reputation":3568,"user_id":1271465,"accept_rate":66,"display_name":"Krishnakant Dalal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335953716,"creation_date":1335953716,"answer_id":10411734,"question_id":10411668,"body_markdown":"You could use this...\r\n\r\n    Math.abs(x)","title":"how to convert -negative values in strings to double","body":"<p>You could use this...</p>\n\n<pre><code>Math.abs(x)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1246269,"reputation":3386,"user_id":1207655,"accept_rate":83,"display_name":"Martin Wilson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1336034248,"creation_date":1335954071,"answer_id":10411810,"question_id":10411668,"body_markdown":"To convert negative values in strings to Integer you can use Integer.parseInt as you show in your code.\r\n\r\nI don&#39;t think the error you are seeing is to do with the minus sign - it&#39;s ok to pass a string that starts with an ASCII minus sign (see http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#parseInt(java.lang.String))\r\n\r\nBTW - are you trying to convert to Integer or Double? your question title mentions Double (Double.parseDouble also accepts the sign)","title":"how to convert -negative values in strings to double","body":"<p>To convert negative values in strings to Integer you can use Integer.parseInt as you show in your code.</p>\n\n<p>I don't think the error you are seeing is to do with the minus sign - it's ok to pass a string that starts with an ASCII minus sign (see <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#parseInt(java.lang.String\" rel=\"nofollow\">http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#parseInt(java.lang.String</a>))</p>\n\n<p>BTW - are you trying to convert to Integer or Double? your question title mentions Double (Double.parseDouble also accepts the sign)</p>\n"},{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335954218,"creation_date":1335954218,"answer_id":10411841,"question_id":10411668,"body_markdown":"The `Integer.parseInt` should work for negative numbers. However, note that you could have written the negative number as follows `- 3` instead of just `-3`. The extra space will cause the parsing to fail. You will need to make sure that you are actually trying to parse actual numbers without any other strings in them.\r\n\r\nYou could use something like so `Integer.parseInt(str.replaceAll(&quot;[^\\\\d-]+&quot;, &quot;&quot;));` to remove all non numeric data.\r\n\r\nEDIT: As per your exception, you seem to have an extra *`* in your string, which is causing the conversion to fail. Please make sure that you only have numbers when you try and parse strings to numbers.","title":"how to convert -negative values in strings to double","body":"<p>The <code>Integer.parseInt</code> should work for negative numbers. However, note that you could have written the negative number as follows <code>- 3</code> instead of just <code>-3</code>. The extra space will cause the parsing to fail. You will need to make sure that you are actually trying to parse actual numbers without any other strings in them.</p>\n\n<p>You could use something like so <code>Integer.parseInt(str.replaceAll(\"[^\\\\d-]+\", \"\"));</code> to remove all non numeric data.</p>\n\n<p>EDIT: As per your exception, you seem to have an extra <em>`</em> in your string, which is causing the conversion to fail. Please make sure that you only have numbers when you try and parse strings to numbers.</p>\n"},{"tags":[],"owner":{"account_id":5077069,"reputation":267,"user_id":4074170,"display_name":"Paritosh Agrawal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576679591,"creation_date":1576679591,"answer_id":59394262,"question_id":10411668,"body_markdown":"You could something like this\r\n```\r\nString negNum = &quot;-743.347&quot;;\r\nDouble num = Double.valueOf(negNum);\r\nSystem.out.println(&quot;Negative number: &quot; + num);\r\n```","title":"how to convert -negative values in strings to double","body":"<p>You could something like this</p>\n\n<pre><code>String negNum = \"-743.347\";\nDouble num = Double.valueOf(negNum);\nSystem.out.println(\"Negative number: \" + num);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17511356,"reputation":39,"user_id":12699370,"display_name":"Grebyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670438574,"creation_date":1670343203,"answer_id":74705730,"question_id":10411668,"body_markdown":"The minus sign imported from the csv file of yours is of another ASCII. A simple and fast way is to:\r\n\r\n```\r\nstr = str.replaceAll(&quot;−&quot;, &quot;-&quot;)\r\n```","title":"how to convert -negative values in strings to double","body":"<p>The minus sign imported from the csv file of yours is of another ASCII. A simple and fast way is to:</p>\n<pre><code>str = str.replaceAll(&quot;−&quot;, &quot;-&quot;)\n</code></pre>\n"}],"owner":{"account_id":1366794,"reputation":95,"user_id":1303065,"accept_rate":33,"display_name":"Ryada"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14856,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10411810,"answer_count":5,"score":2,"last_activity_date":1670438574,"creation_date":1335953454,"question_id":10411668,"body_markdown":"i need to read the values from a file(.csv) ,which contains both positive and negative values.. i am getting an error while converting string to integer. \r\n\r\n\t\tScanner sc = new Scanner(getAssets().open(&quot;Book1.csv&quot;)).useDelimiter(&quot;,&quot;);\r\n\t\tint i = 0;\r\n\t\twhile (sc.hasNext()) {\r\n\t\t\tString str  = sc.next();\r\n\t\t\tdata[i] = new GraphViewData(i, Integer.parseInt(str));\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\r\nBelow is my logcat :\r\n\r\n    05-02 04:05:55.119: E/AndroidRuntime(3003): &#39; as integer\r\n    05-02 04:05:55.119: E/AndroidRuntime(3003): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)\r\n    05-02 04:05:55.119: E/AndroidRuntime(3003): \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)\r\n    05-02 04:05:55.119: E/AndroidRuntime(3003): \tat android.app.ActivityThread.access$1500(ActivityThread.java:117)\r\n    05-02 04:05:55.119: E/AndroidRuntime(3003): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)\r\n    05-02 04:05:55.119: E/AndroidRuntime(3003): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    05-02 04:05:55.119: E/AndroidRuntime(3003): \tat android.os.Looper.loop(Looper.java:123)\r\n    05-02 04:05:55.119: E/AndroidRuntime(3003): \tat android.app.ActivityThread.main(ActivityThread.java:3683)\r\n    05-02 04:05:55.119: E/AndroidRuntime(3003): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    05-02 04:05:55.119: E/AndroidRuntime(3003): \tat java.lang.reflect.Method.invoke(Method.java:507)\r\n    05-02 04:05:55.119: E/AndroidRuntime(3003): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\r\n    05-02 04:05:55.119: E/AndroidRuntime(3003): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\r\n    05-02 04:05:55.119: E/AndroidRuntime(3003): \tat dalvik.system.NativeStart.main(Native Method)\r\n    05-02 04:05:55.119: E/AndroidRuntime(3003): Caused by: java.lang.NumberFormatException: unable to parse &#39;893\r\n\r\n","title":"how to convert -negative values in strings to double","body":"<p>i need to read the values from a file(.csv) ,which contains both positive and negative values.. i am getting an error while converting string to integer. </p>\n\n<pre><code>    Scanner sc = new Scanner(getAssets().open(\"Book1.csv\")).useDelimiter(\",\");\n    int i = 0;\n    while (sc.hasNext()) {\n        String str  = sc.next();\n        data[i] = new GraphViewData(i, Integer.parseInt(str));\n        i++;\n    }\n</code></pre>\n\n<p>Below is my logcat :</p>\n\n<pre><code>05-02 04:05:55.119: E/AndroidRuntime(3003): ' as integer\n05-02 04:05:55.119: E/AndroidRuntime(3003):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)\n05-02 04:05:55.119: E/AndroidRuntime(3003):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)\n05-02 04:05:55.119: E/AndroidRuntime(3003):     at android.app.ActivityThread.access$1500(ActivityThread.java:117)\n05-02 04:05:55.119: E/AndroidRuntime(3003):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)\n05-02 04:05:55.119: E/AndroidRuntime(3003):     at android.os.Handler.dispatchMessage(Handler.java:99)\n05-02 04:05:55.119: E/AndroidRuntime(3003):     at android.os.Looper.loop(Looper.java:123)\n05-02 04:05:55.119: E/AndroidRuntime(3003):     at android.app.ActivityThread.main(ActivityThread.java:3683)\n05-02 04:05:55.119: E/AndroidRuntime(3003):     at java.lang.reflect.Method.invokeNative(Native Method)\n05-02 04:05:55.119: E/AndroidRuntime(3003):     at java.lang.reflect.Method.invoke(Method.java:507)\n05-02 04:05:55.119: E/AndroidRuntime(3003):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n05-02 04:05:55.119: E/AndroidRuntime(3003):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n05-02 04:05:55.119: E/AndroidRuntime(3003):     at dalvik.system.NativeStart.main(Native Method)\n05-02 04:05:55.119: E/AndroidRuntime(3003): Caused by: java.lang.NumberFormatException: unable to parse '893\n</code></pre>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1539254581,"post_id":52758035,"comment_id":92439273,"body_markdown":"&quot;Lambda defines an action, it seems against the OOP.&quot; — only if you think that &quot;actions&quot; cannot be objects","body":"&quot;Lambda defines an action, it seems against the OOP.&quot; — only if you think that &quot;actions&quot; cannot be objects"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1539322421,"post_id":52758035,"comment_id":92467623,"body_markdown":"I appreciate the quick comeback.","body":"I appreciate the quick comeback."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1539255383,"creation_date":1539255383,"answer_id":52758331,"question_id":52758035,"body_markdown":"Java is an OOP language, but throughout the last years, Java, like many other important languages tries to become **more** [FP][1] (think C++ for example, and all the FP support that got added to it lately).\r\n\r\nOne core element of Functional Programming: [higher order functions][2]. &quot;Code that does something&quot; becomes something you can define on its own, and pass around. \r\n\r\nSo, yes, in a strict OOP sense lambdas, and closures look awkward. But Java is simply following a specific trend here. \r\n\r\nAnd, personal opinion now: Java does that to stay relevant. The OOP concept was &quot;invented&quot; to solve a very specific set of problems, and **many** other problems can be expressed/solved using FP paradigms in much better/elegant ways.   \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Functional_programming\r\n  [2]: https://en.wikipedia.org/wiki/Higher-order_function","title":"talk about java lambda and oop","body":"<p>Java is an OOP language, but throughout the last years, Java, like many other important languages tries to become <strong>more</strong> <a href=\"https://en.wikipedia.org/wiki/Functional_programming\" rel=\"nofollow noreferrer\">FP</a> (think C++ for example, and all the FP support that got added to it lately).</p>\n\n<p>One core element of Functional Programming: <a href=\"https://en.wikipedia.org/wiki/Higher-order_function\" rel=\"nofollow noreferrer\">higher order functions</a>. \"Code that does something\" becomes something you can define on its own, and pass around. </p>\n\n<p>So, yes, in a strict OOP sense lambdas, and closures look awkward. But Java is simply following a specific trend here. </p>\n\n<p>And, personal opinion now: Java does that to stay relevant. The OOP concept was \"invented\" to solve a very specific set of problems, and <strong>many</strong> other problems can be expressed/solved using FP paradigms in much better/elegant ways.   </p>\n"}],"owner":{"account_id":14521658,"reputation":138,"user_id":10489165,"display_name":"japhy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":52758331,"answer_count":1,"score":3,"last_activity_date":1670438565,"creation_date":1539254459,"question_id":52758035,"body_markdown":"we know that Java is an OOP language, since Java 8, we can use Lambda. But I have some questions and hope anyone can give me some advice.\r\n\r\n 1. What is the difference between action and method?\r\n 2. Lambda defines an action, it seems against the OOP. We used to write methods in an object to define its action. And then we get an instance of that object by the keyword new. That instance has its fields and methods, so it becomes a subject, a role. But Lambda just destroys this structure.\r\nI wonder how to use Lambda properly in the project.\r\n","title":"talk about java lambda and oop","body":"<p>we know that Java is an OOP language, since Java 8, we can use Lambda. But I have some questions and hope anyone can give me some advice.</p>\n\n<ol>\n<li>What is the difference between action and method?</li>\n<li>Lambda defines an action, it seems against the OOP. We used to write methods in an object to define its action. And then we get an instance of that object by the keyword new. That instance has its fields and methods, so it becomes a subject, a role. But Lambda just destroys this structure.\nI wonder how to use Lambda properly in the project.</li>\n</ol>\n"},{"tags":["java","spring-boot","maven","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670385093,"creation_date":1670385093,"answer_id":74711572,"question_id":74711522,"body_markdown":"Job parameters are set through the jobLauncher. For example: \r\n\r\n    JobParameters jobParameters = new JobParametersBuilder()\r\n        .addLong(&quot;startTimestamp&quot;, 1667790578000L).toJobParameters();\r\n   \r\n    JobExecution execution = jobLauncher.run(job, jobParameters);\r\n\r\nIf you want to send the parameter as a property, you need to use the `@Value` annotation to inject your custom property into the bean that launches the job.  ","title":"How to run job parameters in spring batch with maven in CLI","body":"<p>Job parameters are set through the jobLauncher. For example:</p>\n<pre><code>JobParameters jobParameters = new JobParametersBuilder()\n    .addLong(&quot;startTimestamp&quot;, 1667790578000L).toJobParameters();\n\nJobExecution execution = jobLauncher.run(job, jobParameters);\n</code></pre>\n<p>If you want to send the parameter as a property, you need to use the <code>@Value</code> annotation to inject your custom property into the bean that launches the job.</p>\n"},{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670395329,"creation_date":1670395329,"answer_id":74712683,"question_id":74711522,"body_markdown":"From the command line, you can pass job parameters as key/value pairs:\r\n\r\n```\r\njava -jar myjob.jar name=foobar startTimestamp=1667790578000\r\n```","title":"How to run job parameters in spring batch with maven in CLI","body":"<p>From the command line, you can pass job parameters as key/value pairs:</p>\n<pre><code>java -jar myjob.jar name=foobar startTimestamp=1667790578000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24190680,"reputation":133,"user_id":18149922,"display_name":"Antonio Berritto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670406486,"creation_date":1670406486,"answer_id":74714618,"question_id":74711522,"body_markdown":"if you want to pass job parameters with maven, you can use:\r\n\r\n`mvn spring-boot:run -Dspring-boot.run.arguments=&quot;param1=value1 param2=value2&quot;`\r\n\r\nYou can find [here](https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-run-parameters-details-commandlineArguments) the documentation.\r\n\r\n","title":"How to run job parameters in spring batch with maven in CLI","body":"<p>if you want to pass job parameters with maven, you can use:</p>\n<p><code>mvn spring-boot:run -Dspring-boot.run.arguments=&quot;param1=value1 param2=value2&quot;</code></p>\n<p>You can find <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-run-parameters-details-commandlineArguments\" rel=\"nofollow noreferrer\">here</a> the documentation.</p>\n"},{"tags":[],"owner":{"account_id":12526038,"reputation":353,"user_id":9115820,"display_name":"Clark Ngo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670438437,"creation_date":1670438437,"answer_id":74721502,"question_id":74711522,"body_markdown":"I found this to be working.\r\n```\r\nmvn clean spring-boot:run -Drun.arguments=startTimestamp=1667790578000,endTimestamp=1667790578000 -Dspring.batch.job.names=myJob -Dspring.profiles.active=default,dev -f pom.xml\r\n```\r\nfound the stackoverflow: https://stackoverflow.com/questions/23316843/get-command-line-arguments-from-spring-bootrun\r\n","title":"How to run job parameters in spring batch with maven in CLI","body":"<p>I found this to be working.</p>\n<pre><code>mvn clean spring-boot:run -Drun.arguments=startTimestamp=1667790578000,endTimestamp=1667790578000 -Dspring.batch.job.names=myJob -Dspring.profiles.active=default,dev -f pom.xml\n</code></pre>\n<p>found the stackoverflow: <a href=\"https://stackoverflow.com/questions/23316843/get-command-line-arguments-from-spring-bootrun\">Get command-line arguments from spring-boot:run</a></p>\n"}],"owner":{"account_id":12526038,"reputation":353,"user_id":9115820,"display_name":"Clark Ngo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1104,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74721502,"answer_count":4,"score":2,"last_activity_date":1670438460,"creation_date":1670384541,"question_id":74711522,"body_markdown":"I have seen several stackoverflow Q&amp;As but none had a job parameter in CLI while using maven.\r\n\r\nMy parameter is setup like this:\r\n```\r\n@Value(&quot;#{jobParameters.getOrDefault(&#39;startTimestamp&#39;, null)}&quot;) Long startTimestamp\r\n@Value(&quot;#{jobParameters.getOrDefault(&#39;endTimestamp&#39;, null)}&quot;) Long endTimestamp\r\n```\r\n\r\nMy maven command is like this:\r\n```\r\nmvn clean spring-boot:run -Dspring.batch.job.names=myJob -Dspring.profiles.active=default,dev -f pom.xml\r\n```\r\n\r\nI am not sure what to add. the following is not working:\r\n```\r\n-Dspring.batch.job.startTimestamp=1667790578000\r\n-Dspring.batch.job.parameters.startTimestamp=1667790578000\r\n```","title":"How to run job parameters in spring batch with maven in CLI","body":"<p>I have seen several stackoverflow Q&amp;As but none had a job parameter in CLI while using maven.</p>\n<p>My parameter is setup like this:</p>\n<pre><code>@Value(&quot;#{jobParameters.getOrDefault('startTimestamp', null)}&quot;) Long startTimestamp\n@Value(&quot;#{jobParameters.getOrDefault('endTimestamp', null)}&quot;) Long endTimestamp\n</code></pre>\n<p>My maven command is like this:</p>\n<pre><code>mvn clean spring-boot:run -Dspring.batch.job.names=myJob -Dspring.profiles.active=default,dev -f pom.xml\n</code></pre>\n<p>I am not sure what to add. the following is not working:</p>\n<pre><code>-Dspring.batch.job.startTimestamp=1667790578000\n-Dspring.batch.job.parameters.startTimestamp=1667790578000\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1670437414,"post_id":74721300,"comment_id":131878396,"body_markdown":"1. You havent initialized your mocks - use either MockitoExtension or MockitoAnnotations.openMocks. 2. Use Mock, not MockBean","body":"1. You havent initialized your mocks - use either MockitoExtension or MockitoAnnotations.openMocks. 2. Use Mock, not MockBean"},{"owner":{"account_id":22014851,"reputation":102,"user_id":16284523,"display_name":"Yağız Can Aslan"},"score":0,"creation_date":1670437720,"post_id":74721300,"comment_id":131878496,"body_markdown":"@Lesiak I changed `@MockBean` to `@Mock` and added `@ExtendWith(MockitoExtension.class)` at the top of the class. This worked. However, previously I had the same configuration + `@ExtendWith(SpringExtension.class)`, and I was getting the same error. Why does this happen? Do MockitoExtension and SpringExtension have a conflict when dealing with @Mock annotations?","body":"@Lesiak I changed <code>@MockBean</code> to <code>@Mock</code> and added <code>@ExtendWith(MockitoExtension.class)</code> at the top of the class. This worked. However, previously I had the same configuration + <code>@ExtendWith(SpringExtension.class)</code>, and I was getting the same error. Why does this happen? Do MockitoExtension and SpringExtension have a conflict when dealing with @Mock annotations?"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":2,"creation_date":1670485427,"post_id":74721300,"comment_id":131887318,"body_markdown":"Neither SpringExtension nor MockitoExtension will inject MockBean to InjectMocks. (Both will inject a Mock). MockBean is used to replace a bean in existing spring context, and is typically combined with Autowired to inject beans into your test. Mock + InjectMocks + MockitoExtension is far simpler setup in service test.","body":"Neither SpringExtension nor MockitoExtension will inject MockBean to InjectMocks. (Both will inject a Mock). MockBean is used to replace a bean in existing spring context, and is typically combined with Autowired to inject beans into your test. Mock + InjectMocks + MockitoExtension is far simpler setup in service test."}],"answers":[{"tags":[],"owner":{"account_id":22014851,"reputation":102,"user_id":16284523,"display_name":"Yağız Can Aslan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670438255,"creation_date":1670438255,"answer_id":74721473,"question_id":74721300,"body_markdown":"As @Lesiak recommended, I added the `@ExtendWith(MockitoExtension.class)` annotation to the top of the class, and changed `courseRequestRepository` to have the `@Mock` annotation, instead of the previous `@MockBean` annotation. The issue got resolved after these changes.\r\n\r\nPreviously I had the configuration recommended by @Lesiak during my trials to resolve the issue, but I also had the annotation `@ExtendWith(SpringExtension.class)` at the top of the class. With this configuration, I got the same error. Removing the `@ExtendWith(SpringExtension.class)` annotation resolved the issue here.\r\n\r\nNew test class:\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mock;\r\n    import org.mockito.Mockito;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    import model.CourseRequest;\r\n    import repository.ICourseRequestRepository;\r\n    \r\n    @ExtendWith(MockitoExtension.class)\r\n    public class StudentCourseRequestServiceTests {\r\n        @Mock\r\n        private ICourseRequestRepository courseRequestRepository;\r\n    \r\n        @InjectMocks\r\n        private StudentCourseRequestService studentCourseRequestService;\r\n    \r\n        @Test\r\n        public void requestValidCourse() throws Exception {\r\n            final CourseRequest courseRequest = new CourseRequest(\r\n            &quot;data0&quot;,\r\n            &quot;data1&quot;,\r\n            &quot;data2&quot;,\r\n            &quot;data3&quot;,\r\n            &quot;data4&quot;,\r\n            &quot;data5&quot;\r\n        );\r\n    \r\n            Mockito.when(courseRequestRepository.saveRequest(courseRequest)).thenReturn(true);\r\n            boolean result = studentCourseRequestService.requestCourse(courseRequest);\r\n            assertThat(result).isTrue();\r\n        }\r\n    }","title":"Why does @InjectMocks in Java Spring return null in my test case for a service?","body":"<p>As @Lesiak recommended, I added the <code>@ExtendWith(MockitoExtension.class)</code> annotation to the top of the class, and changed <code>courseRequestRepository</code> to have the <code>@Mock</code> annotation, instead of the previous <code>@MockBean</code> annotation. The issue got resolved after these changes.</p>\n<p>Previously I had the configuration recommended by @Lesiak during my trials to resolve the issue, but I also had the annotation <code>@ExtendWith(SpringExtension.class)</code> at the top of the class. With this configuration, I got the same error. Removing the <code>@ExtendWith(SpringExtension.class)</code> annotation resolved the issue here.</p>\n<p>New test class:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport static org.assertj.core.api.Assertions.assertThat;\nimport model.CourseRequest;\nimport repository.ICourseRequestRepository;\n\n@ExtendWith(MockitoExtension.class)\npublic class StudentCourseRequestServiceTests {\n    @Mock\n    private ICourseRequestRepository courseRequestRepository;\n\n    @InjectMocks\n    private StudentCourseRequestService studentCourseRequestService;\n\n    @Test\n    public void requestValidCourse() throws Exception {\n        final CourseRequest courseRequest = new CourseRequest(\n        &quot;data0&quot;,\n        &quot;data1&quot;,\n        &quot;data2&quot;,\n        &quot;data3&quot;,\n        &quot;data4&quot;,\n        &quot;data5&quot;\n    );\n\n        Mockito.when(courseRequestRepository.saveRequest(courseRequest)).thenReturn(true);\n        boolean result = studentCourseRequestService.requestCourse(courseRequest);\n        assertThat(result).isTrue();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22014851,"reputation":102,"user_id":16284523,"display_name":"Yağız Can Aslan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74721473,"answer_count":1,"score":0,"last_activity_date":1670438255,"creation_date":1670437249,"question_id":74721300,"body_markdown":"I am trying to write test cases for a service I have implemented for a controller in Spring. I have the following Service and Test classes.\r\n\r\nStudentCourseRequestService:\r\n    \r\n    import java.util.List;\r\n    import org.springframework.stereotype.Service;\r\n    import model.CourseRequest;\r\n    import repository.ICourseRequestRepository;\r\n    import lombok.RequiredArgsConstructor;\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class StudentCourseRequestService implements IStudentCourseRequestService {\r\n    \r\n        private final ICourseRequestRepository courseRequestRepository;\r\n    \r\n        @Override\r\n        public boolean requestCourse(CourseRequest courseRequest) {\r\n            return courseRequestRepository.saveRequest(courseRequest);\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;CourseRequest&gt; getAllCourseRequests() {\r\n            return courseRequestRepository.getAllCourseRequests();\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;CourseRequest&gt; getAllCourseRequestsOfStudent(Long studentId) {\r\n            return courseRequestRepository.getCourseRequestsByStudentId(studentId);\r\n        }\r\n        \r\n    }\r\n\r\n\r\nTest class:\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mockito;\r\n    import org.springframework.boot.test.mock.mockito.MockBean;\r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    import model.CourseRequest;\r\n    import repository.ICourseRequestRepository;\r\n    \r\n    public class StudentCourseRequestServiceTests {\r\n        @MockBean\r\n        private ICourseRequestRepository courseRequestRepository;\r\n    \r\n        @InjectMocks\r\n        private StudentCourseRequestService studentCourseRequestService;\r\n    \r\n        @Test\r\n        public void requestValidCourse() throws Exception {\r\n            final CourseRequest courseRequest = new CourseRequest(\r\n                &quot;data0&quot;,\r\n                &quot;data1&quot;,\r\n                &quot;data2&quot;,\r\n                &quot;data3&quot;,\r\n                &quot;data4&quot;,\r\n                &quot;data5&quot;\r\n            );\r\n    \r\n            Mockito.when(courseRequestRepository.saveRequest(courseRequest)).thenReturn(true);\r\n            boolean result = studentCourseRequestService.requestCourse(courseRequest);\r\n            assertThat(result).isTrue();\r\n        }\r\n    }\r\n\r\nWhen I run the `requestValidCourse()` test case, I get the following error:\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;repository.ICourseRequestRepository.saveRequest(model.CourseRequest)&quot; because &quot;this.courseRequestRepository&quot; is null\r\n     at service.StudentCourseRequestServiceTests.requestValidCourse(StudentCourseRequestServiceTests.java:29)\r\n     at java.base/java.util.ArrayList.forEach(Unknown Source)\r\n     at java.base/java.util.ArrayList.forEach(Unknown Source)\r\n\r\nHow can I resolve this issue?","title":"Why does @InjectMocks in Java Spring return null in my test case for a service?","body":"<p>I am trying to write test cases for a service I have implemented for a controller in Spring. I have the following Service and Test classes.</p>\n<p>StudentCourseRequestService:</p>\n<pre><code>import java.util.List;\nimport org.springframework.stereotype.Service;\nimport model.CourseRequest;\nimport repository.ICourseRequestRepository;\nimport lombok.RequiredArgsConstructor;\n\n@Service\n@RequiredArgsConstructor\npublic class StudentCourseRequestService implements IStudentCourseRequestService {\n\n    private final ICourseRequestRepository courseRequestRepository;\n\n    @Override\n    public boolean requestCourse(CourseRequest courseRequest) {\n        return courseRequestRepository.saveRequest(courseRequest);\n    }\n\n    @Override\n    public List&lt;CourseRequest&gt; getAllCourseRequests() {\n        return courseRequestRepository.getAllCourseRequests();\n    }\n\n    @Override\n    public List&lt;CourseRequest&gt; getAllCourseRequestsOfStudent(Long studentId) {\n        return courseRequestRepository.getCourseRequestsByStudentId(studentId);\n    }\n    \n}\n</code></pre>\n<p>Test class:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mockito;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport static org.assertj.core.api.Assertions.assertThat;\nimport model.CourseRequest;\nimport repository.ICourseRequestRepository;\n\npublic class StudentCourseRequestServiceTests {\n    @MockBean\n    private ICourseRequestRepository courseRequestRepository;\n\n    @InjectMocks\n    private StudentCourseRequestService studentCourseRequestService;\n\n    @Test\n    public void requestValidCourse() throws Exception {\n        final CourseRequest courseRequest = new CourseRequest(\n            &quot;data0&quot;,\n            &quot;data1&quot;,\n            &quot;data2&quot;,\n            &quot;data3&quot;,\n            &quot;data4&quot;,\n            &quot;data5&quot;\n        );\n\n        Mockito.when(courseRequestRepository.saveRequest(courseRequest)).thenReturn(true);\n        boolean result = studentCourseRequestService.requestCourse(courseRequest);\n        assertThat(result).isTrue();\n    }\n}\n</code></pre>\n<p>When I run the <code>requestValidCourse()</code> test case, I get the following error:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;repository.ICourseRequestRepository.saveRequest(model.CourseRequest)&quot; because &quot;this.courseRequestRepository&quot; is null\n at service.StudentCourseRequestServiceTests.requestValidCourse(StudentCourseRequestServiceTests.java:29)\n at java.base/java.util.ArrayList.forEach(Unknown Source)\n at java.base/java.util.ArrayList.forEach(Unknown Source)\n</code></pre>\n<p>How can I resolve this issue?</p>\n"},{"tags":["java","sql","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1670436273,"post_id":74721086,"comment_id":131878088,"body_markdown":"Have you looked whether the database you are using actually supports `offset`? That is likely your problem. The db not supporting it.","body":"Have you looked whether the database you are using actually supports <code>offset</code>? That is likely your problem. The db not supporting it."}],"answers":[{"tags":[],"owner":{"account_id":23270618,"reputation":127,"user_id":18453555,"display_name":"ruskaof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670438071,"creation_date":1670438071,"answer_id":74721439,"question_id":74721086,"body_markdown":"I missed `nativeQuery = true` parameter in the annotation. That&#39;s why there was an error","title":"How to make a multicriteria search with offset and limit in jpa repository in spring boot?","body":"<p>I missed <code>nativeQuery = true</code> parameter in the annotation. That's why there was an error</p>\n"}],"owner":{"account_id":23270618,"reputation":127,"user_id":18453555,"display_name":"ruskaof"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670438071,"creation_date":1670436035,"question_id":74721086,"body_markdown":"I&#39;ve got an entity:\r\n\r\n    @Entity\r\n    public class Attempt {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        private LocalDateTime attemptTime;\r\n        private long processingTimeNanos;\r\n        private double x;\r\n        private double y;\r\n        private double r;\r\n        private boolean result;\r\n    \r\n        public Attempt() {\r\n        }\r\n    \r\n        public Attempt(double x, double y, double r, boolean result) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.r = r;\r\n            this.result = result;\r\n        }\r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public double getX() {\r\n            return x;\r\n        }\r\n    \r\n        public void setX(double x) {\r\n            this.x = x;\r\n        }\r\n    \r\n        public double getY() {\r\n            return y;\r\n        }\r\n    \r\n        public void setY(double y) {\r\n            this.y = y;\r\n        }\r\n    \r\n        public double getR() {\r\n            return r;\r\n        }\r\n    \r\n        public void setR(double r) {\r\n            this.r = r;\r\n        }\r\n    \r\n        public boolean isResult() {\r\n            return result;\r\n        }\r\n    \r\n        public void setResult(boolean result) {\r\n            this.result = result;\r\n        }\r\n    \r\n        public LocalDateTime getAttemptTime() {\r\n            return attemptTime;\r\n        }\r\n    \r\n        public void setAttemptTime(LocalDateTime attemptTime) {\r\n            this.attemptTime = attemptTime;\r\n        }\r\n    \r\n        public long getProcessingTimeNanos() {\r\n            return processingTimeNanos;\r\n        }\r\n    \r\n        public void setProcessingTimeNanos(long processingTime) {\r\n            this.processingTimeNanos = processingTime;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nAnd I want to implement a solution to be able to make a method based on query with search by any number of any fields and also use offset and limit for the rows in my jpa repository. How can I do it?\r\nI tried to make \r\n\r\n    @Repository\r\n    public interface AttemptsRepository extends JpaRepository&lt;Attempt, Integer&gt; {\r\n        /**\r\n         * Makes a search in the database by the given parameters with the given offset and size\r\n         * @param offset\r\n         * @param size\r\n         * @param id\r\n         * @param x\r\n         * @param y\r\n         * @param r\r\n         * @param result\r\n         * @param time\r\n         * @param processingTime\r\n         * @return\r\n         */\r\n        @Query(&quot;&quot;&quot;\r\n            select A from Attempt A\r\n            where (?3 is null or A.id like %?1%)\r\n            and (?4 is null or A.x like %?4%)\r\n            and (?5 is null or A.y like %?5%)\r\n            and (?6 is null or A.r like %?6%)\r\n            and (?7 is null or A.result like %?7%)\r\n            and (?8 is null or A.attemptTime like %?8%)\r\n            and (?9 is null or A.processingTimeNanos like %?9%)\r\n            order by A.id offset ?1 rows fetch next ?2 rows only\r\n            &quot;&quot;&quot;)\r\n            List&lt;Attempt&gt; getPartAttempts(int offset, int size, String id, String x, String y, String r, String result, String time, String processingTime);\r\n    }\r\n\r\nBut I got an exception:\r\n[![enter image description here][1]][1]\r\n\r\nHow can I implement the method for this kind of query?\r\nUpdate: I use mysql as db\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dbcqH.png","title":"How to make a multicriteria search with offset and limit in jpa repository in spring boot?","body":"<p>I've got an entity:</p>\n<pre><code>@Entity\npublic class Attempt {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private LocalDateTime attemptTime;\n    private long processingTimeNanos;\n    private double x;\n    private double y;\n    private double r;\n    private boolean result;\n\n    public Attempt() {\n    }\n\n    public Attempt(double x, double y, double r, boolean result) {\n        this.x = x;\n        this.y = y;\n        this.r = r;\n        this.result = result;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public double getX() {\n        return x;\n    }\n\n    public void setX(double x) {\n        this.x = x;\n    }\n\n    public double getY() {\n        return y;\n    }\n\n    public void setY(double y) {\n        this.y = y;\n    }\n\n    public double getR() {\n        return r;\n    }\n\n    public void setR(double r) {\n        this.r = r;\n    }\n\n    public boolean isResult() {\n        return result;\n    }\n\n    public void setResult(boolean result) {\n        this.result = result;\n    }\n\n    public LocalDateTime getAttemptTime() {\n        return attemptTime;\n    }\n\n    public void setAttemptTime(LocalDateTime attemptTime) {\n        this.attemptTime = attemptTime;\n    }\n\n    public long getProcessingTimeNanos() {\n        return processingTimeNanos;\n    }\n\n    public void setProcessingTimeNanos(long processingTime) {\n        this.processingTimeNanos = processingTime;\n    }\n\n\n}\n</code></pre>\n<p>And I want to implement a solution to be able to make a method based on query with search by any number of any fields and also use offset and limit for the rows in my jpa repository. How can I do it?\nI tried to make</p>\n<pre><code>@Repository\npublic interface AttemptsRepository extends JpaRepository&lt;Attempt, Integer&gt; {\n    /**\n     * Makes a search in the database by the given parameters with the given offset and size\n     * @param offset\n     * @param size\n     * @param id\n     * @param x\n     * @param y\n     * @param r\n     * @param result\n     * @param time\n     * @param processingTime\n     * @return\n     */\n    @Query(&quot;&quot;&quot;\n        select A from Attempt A\n        where (?3 is null or A.id like %?1%)\n        and (?4 is null or A.x like %?4%)\n        and (?5 is null or A.y like %?5%)\n        and (?6 is null or A.r like %?6%)\n        and (?7 is null or A.result like %?7%)\n        and (?8 is null or A.attemptTime like %?8%)\n        and (?9 is null or A.processingTimeNanos like %?9%)\n        order by A.id offset ?1 rows fetch next ?2 rows only\n        &quot;&quot;&quot;)\n        List&lt;Attempt&gt; getPartAttempts(int offset, int size, String id, String x, String y, String r, String result, String time, String processingTime);\n}\n</code></pre>\n<p>But I got an exception:\n<a href=\"https://i.stack.imgur.com/dbcqH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dbcqH.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I implement the method for this kind of query?\nUpdate: I use mysql as db</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670436733,"creation_date":1670436733,"answer_id":74721207,"question_id":74721123,"body_markdown":"WebElement itself doesn&#39;t know his index inside a list you stored it in.  \r\nThe only way to know the index of given WebElement object is to iterate over the list of elements and compare the given WebElement against the current WebElement in the list, as following:\r\n```java\r\nWebElement element = unknownWebElement;\r\nList&lt;WebElement&gt; list = entireListOfWebElements;\r\nfor(int i=0;i&lt;list.size();i++){\r\n    if(element = list.get(i)){\r\n        return i;\r\n    }\r\n    return -1;\r\n}\r\n```","title":"How can we get index of a WebElement (from a list) passed in a function?","body":"<p>WebElement itself doesn't know his index inside a list you stored it in.<br />\nThe only way to know the index of given WebElement object is to iterate over the list of elements and compare the given WebElement against the current WebElement in the list, as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebElement element = unknownWebElement;\nList&lt;WebElement&gt; list = entireListOfWebElements;\nfor(int i=0;i&lt;list.size();i++){\n    if(element = list.get(i)){\n        return i;\n    }\n    return -1;\n}\n</code></pre>\n"}],"owner":{"account_id":27180969,"reputation":23,"user_id":20716220,"display_name":"Tien V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74721207,"answer_count":1,"score":2,"last_activity_date":1670438016,"creation_date":1670436248,"question_id":74721123,"body_markdown":"```\r\nList&lt;WebElement&gt; deleteBtn = driver.findElements(By.xpath(&quot;//div[@class=&#39;btn&#39;]//div[@class=&#39;deleteUsers&#39;]&quot;));\r\n\r\npublic void clickDeleteBtn(WebElement element) {\r\n\telement.click();\r\n\t/* Here I want to retrieve the index of the element passed in the function */\r\n}\r\n\r\nmain() {\r\n\tclickDeleteBtn(deleteBtn.get(5));\r\n}\r\n```\r\n\r\nSuppose the findElements() above gives me a list of **10 WebElements** and I pass **element indexed 5** in clickDeleteBtn(). How, in the function, can I get the index of the element passed in?\r\n\r\n\r\nI have tried **element.toString()** but it only gives me:\r\nElement: [[ChromeDriver: chrome on WINDOWS (f4f6be3ed1e2a964a2dc8f0d848d3e87)] -&gt; xpath: //div[@class=&#39;btn&#39;]//div[@class=&#39;deleteUsers&#39;]]\r\nNo information about the index of the element suggested.\r\n\r\nI&#39;d really appreciate your advice! Thanks","title":"How can we get index of a WebElement (from a list) passed in a function?","body":"<pre><code>List&lt;WebElement&gt; deleteBtn = driver.findElements(By.xpath(&quot;//div[@class='btn']//div[@class='deleteUsers']&quot;));\n\npublic void clickDeleteBtn(WebElement element) {\n    element.click();\n    /* Here I want to retrieve the index of the element passed in the function */\n}\n\nmain() {\n    clickDeleteBtn(deleteBtn.get(5));\n}\n</code></pre>\n<p>Suppose the findElements() above gives me a list of <strong>10 WebElements</strong> and I pass <strong>element indexed 5</strong> in clickDeleteBtn(). How, in the function, can I get the index of the element passed in?</p>\n<p>I have tried <strong>element.toString()</strong> but it only gives me:\nElement: [[ChromeDriver: chrome on WINDOWS (f4f6be3ed1e2a964a2dc8f0d848d3e87)] -&gt; xpath: //div[@class='btn']//div[@class='deleteUsers']]\nNo information about the index of the element suggested.</p>\n<p>I'd really appreciate your advice! Thanks</p>\n"},{"tags":["java","arraylist","associations","parallel-arrays","javahelp"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1670432799,"post_id":74720115,"comment_id":131876930,"body_markdown":"Why the `Scanner`?","body":"Why the <code>Scanner</code>?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670434783,"creation_date":1670433715,"answer_id":74720574,"question_id":74720115,"body_markdown":"# Pass radius to constructor\r\n\r\nSimpler to define a constructor that takes the radius as an argument. \r\n\r\nDefine your `Circle` class. If the main purpose of your class is to communicate data transparently and immutably, write your class as a [record][1]. With a record, the compiler by default implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString`. You can declare a record locally (within a method), or separately. \r\n\r\n    record Circle ( double radius ) {}\r\n\r\nA [`DoubleStream`][2] can create a series of randomly generated `double` values. (The following code is untested)\r\n\r\n    List&lt; Circle &gt; circles = \r\n        ThreadLocalRandom\r\n            .current()  // Returns a `ThreadLocalRandom `. \r\n            .doubles(   \r\n                10L,    // streamSize\r\n                2.0d,   // randomNumberOrigin\r\n                5.0d    // randomNumberBound\r\n             )          // Returns a `DoubleStream`. \r\n            .mapToObj( double d -&gt; return new Circle( d ) ) // Generates a stream of `Circle` objects. \r\n            .toList()   // Returns a `List`.\r\n    ;\r\n\r\nWe might be able to reduce `.mapToObj( double d -&gt; return new Circle( d ) )` with `.mapToObj( Circle :: new )`, a method reference referring to the constructor. \r\n\r\nFor output, loop the list. Add methods to the `Circle` class to return diameter and circumference. \r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/DoubleStream.html","title":"Instantiate an ArrayList of Circles","body":"<h1>Pass radius to constructor</h1>\n<p>Simpler to define a constructor that takes the radius as an argument.</p>\n<p>Define your <code>Circle</code> class. If the main purpose of your class is to communicate data transparently and immutably, write your class as a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>. With a record, the compiler by default implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>. You can declare a record locally (within a method), or separately.</p>\n<pre><code>record Circle ( double radius ) {}\n</code></pre>\n<p>A <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/DoubleStream.html\" rel=\"nofollow noreferrer\"><code>DoubleStream</code></a> can create a series of randomly generated <code>double</code> values. (The following code is untested)</p>\n<pre><code>List&lt; Circle &gt; circles = \n    ThreadLocalRandom\n        .current()  // Returns a `ThreadLocalRandom `. \n        .doubles(   \n            10L,    // streamSize\n            2.0d,   // randomNumberOrigin\n            5.0d    // randomNumberBound\n         )          // Returns a `DoubleStream`. \n        .mapToObj( double d -&gt; return new Circle( d ) ) // Generates a stream of `Circle` objects. \n        .toList()   // Returns a `List`.\n;\n</code></pre>\n<p>We might be able to reduce <code>.mapToObj( double d -&gt; return new Circle( d ) )</code> with <code>.mapToObj( Circle :: new )</code>, a method reference referring to the constructor.</p>\n<p>For output, loop the list. Add methods to the <code>Circle</code> class to return diameter and circumference.</p>\n"},{"tags":[],"owner":{"account_id":27180880,"reputation":101,"user_id":20716145,"display_name":"Viswanath Kumar Sandu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670437908,"creation_date":1670437908,"answer_id":74721413,"question_id":74720115,"body_markdown":"Based on the question, given code doesn&#39;t work. Here is the complete code and corresponding output.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n\r\n    public class CirclesDriver {\r\n        public static void main(String[] args) {\r\n            Random rand = new Random();\r\n            // ** Variables constants and objects **\r\n            Scanner scanner = new Scanner(System.in);\r\n            ArrayList&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\r\n\r\n            // ** load the array list with circles **\r\n            for (int i = 1; i &lt;= 10; i++) {\r\n                String id = &quot;C&quot; + i;\r\n                double random = rand.nextDouble();\r\n                double radius = 2 + (random * (5 - 2));\r\n                Circle circle = new Circle(id, radius);\r\n                circles.add(circle);\r\n            }\r\n\r\n            // print the whole list\r\n\r\n            System.out.println(&quot;--------------------------------\\n&quot;);\r\n\r\n            // ** Make sure your Circle class and ArrayList work with the following driver code **\r\n            for(int i=0; i&lt;circles.size(); i++) {\r\n                Circle circle = circles.get(i);\r\n                System.out.println();\r\n                System.out.println(&quot;C1: &quot; + circle.getId());\r\n                System.out.println(&quot;Radius: &quot; + String.format(&quot;%.3f&quot;, circle.getRadius()));\r\n                System.out.println(&quot;Diameter: &quot; + String.format(&quot;%.3f&quot;, circle.getDiameter()));\r\n                System.out.println(&quot;Circumference: &quot; + String.format(&quot;%.3f&quot;, circle.getCircumference()));\r\n                System.out.println(&quot;Area: &quot; + String.format(&quot;%.3f&quot;, circle.getArea()));\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\n    class Circle {\r\n        private String id;\r\n        private double radius = 0;\r\n\r\n        public Circle(String id, double radius) {\r\n            this.id = id;\r\n            this.radius = radius;\r\n        }\r\n\r\n        public String getId() {\r\n            return id;\r\n        }\r\n\r\n        public double getRadius() {\r\n            return radius;\r\n        }\r\n\r\n        public double getDiameter() {\r\n            return radius * 2;\r\n        }\r\n\r\n        public double getArea() {\r\n            return 2 * 3.14 * radius * radius;\r\n        }\r\n\r\n        public double getCircumference() {\r\n            return 2 * 3.14 * radius;\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nOutput\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-txt --&gt;\r\n\r\n    --------------------------------\r\n\r\n\r\n    C1: C1\r\n    Radius: 4.740\r\n    Diameter: 9.481\r\n    Circumference: 29.770\r\n    Area: 141.121\r\n\r\n\r\n    C1: C2\r\n    Radius: 3.677\r\n    Diameter: 7.353\r\n    Circumference: 23.089\r\n    Area: 84.886\r\n\r\n\r\n    C1: C3\r\n    Radius: 4.333\r\n    Diameter: 8.665\r\n    Circumference: 27.209\r\n    Area: 117.888\r\n\r\n\r\n    C1: C4\r\n    Radius: 4.592\r\n    Diameter: 9.184\r\n    Circumference: 28.838\r\n    Area: 132.423\r\n\r\n\r\n    C1: C5\r\n    Radius: 4.468\r\n    Diameter: 8.937\r\n    Circumference: 28.062\r\n    Area: 125.393\r\n\r\n\r\n    C1: C6\r\n    Radius: 3.024\r\n    Diameter: 6.047\r\n    Circumference: 18.988\r\n    Area: 57.413\r\n\r\n\r\n    C1: C7\r\n    Radius: 3.628\r\n    Diameter: 7.256\r\n    Circumference: 22.783\r\n    Area: 82.656\r\n\r\n\r\n    C1: C8\r\n    Radius: 2.086\r\n    Diameter: 4.173\r\n    Circumference: 13.103\r\n    Area: 27.339\r\n\r\n\r\n    C1: C9\r\n    Radius: 2.447\r\n    Diameter: 4.894\r\n    Circumference: 15.368\r\n    Area: 37.610\r\n\r\n\r\n    C1: C10\r\n    Radius: 4.301\r\n    Diameter: 8.602\r\n    Circumference: 27.010\r\n    Area: 116.172\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Instantiate an ArrayList of Circles","body":"<p>Based on the question, given code doesn't work. Here is the complete code and corresponding output.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class CirclesDriver {\n    public static void main(String[] args) {\n        Random rand = new Random();\n        // ** Variables constants and objects **\n        Scanner scanner = new Scanner(System.in);\n        ArrayList&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\n\n        // ** load the array list with circles **\n        for (int i = 1; i &lt;= 10; i++) {\n            String id = &quot;C&quot; + i;\n            double random = rand.nextDouble();\n            double radius = 2 + (random * (5 - 2));\n            Circle circle = new Circle(id, radius);\n            circles.add(circle);\n        }\n\n        // print the whole list\n\n        System.out.println(&quot;--------------------------------\\n&quot;);\n\n        // ** Make sure your Circle class and ArrayList work with the following driver code **\n        for(int i=0; i&lt;circles.size(); i++) {\n            Circle circle = circles.get(i);\n            System.out.println();\n            System.out.println(&quot;C1: &quot; + circle.getId());\n            System.out.println(&quot;Radius: &quot; + String.format(&quot;%.3f&quot;, circle.getRadius()));\n            System.out.println(&quot;Diameter: &quot; + String.format(&quot;%.3f&quot;, circle.getDiameter()));\n            System.out.println(&quot;Circumference: &quot; + String.format(&quot;%.3f&quot;, circle.getCircumference()));\n            System.out.println(&quot;Area: &quot; + String.format(&quot;%.3f&quot;, circle.getArea()));\n            System.out.println();\n        }\n    }\n}\n\nclass Circle {\n    private String id;\n    private double radius = 0;\n\n    public Circle(String id, double radius) {\n        this.id = id;\n        this.radius = radius;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public double getRadius() {\n        return radius;\n    }\n\n    public double getDiameter() {\n        return radius * 2;\n    }\n\n    public double getArea() {\n        return 2 * 3.14 * radius * radius;\n    }\n\n    public double getCircumference() {\n        return 2 * 3.14 * radius;\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-txt prettyprint-override\"><code>--------------------------------\n\n\nC1: C1\nRadius: 4.740\nDiameter: 9.481\nCircumference: 29.770\nArea: 141.121\n\n\nC1: C2\nRadius: 3.677\nDiameter: 7.353\nCircumference: 23.089\nArea: 84.886\n\n\nC1: C3\nRadius: 4.333\nDiameter: 8.665\nCircumference: 27.209\nArea: 117.888\n\n\nC1: C4\nRadius: 4.592\nDiameter: 9.184\nCircumference: 28.838\nArea: 132.423\n\n\nC1: C5\nRadius: 4.468\nDiameter: 8.937\nCircumference: 28.062\nArea: 125.393\n\n\nC1: C6\nRadius: 3.024\nDiameter: 6.047\nCircumference: 18.988\nArea: 57.413\n\n\nC1: C7\nRadius: 3.628\nDiameter: 7.256\nCircumference: 22.783\nArea: 82.656\n\n\nC1: C8\nRadius: 2.086\nDiameter: 4.173\nCircumference: 13.103\nArea: 27.339\n\n\nC1: C9\nRadius: 2.447\nDiameter: 4.894\nCircumference: 15.368\nArea: 37.610\n\n\nC1: C10\nRadius: 4.301\nDiameter: 8.602\nCircumference: 27.010\nArea: 116.172\n</code></pre>\n"}],"owner":{"account_id":26503843,"reputation":11,"user_id":20140322,"display_name":"Rambo2022"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670437908,"creation_date":1670431432,"question_id":74720115,"body_markdown":"so the question basically says to Use a for loop to add 10 Circles to the ArrayList each with a random radius in the range of 2-5 and Print a table of all of the Circles in the ArrayList. You can use System.out.println(String.format(&quot;%.3f&quot;, this.getRadius)); to print the circle dimensions to 3 decimal places. but how does this work.\r\n\r\n```\r\npublic class CirclesDriver\r\n{\r\n    public static void main(String[] args) {\r\n        Random rand = new Random();\r\n        // ** Variables constants and objects **\r\n        Scanner scanner = new Scanner(System.in);\r\n        ArrayList&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\r\n\r\n        // ** load the array list with circles **\r\n        for (int i = 0; i &lt;= 10; i++) {\r\n            Circle circle = new Circle();\r\n            double radius = rand.nextDouble(5) + 2;\r\n\r\n        }\r\n        \r\n        // print the whole list\r\n        \r\n        System.out.println(&quot;--------------------------------\\n&quot;);\r\n        \r\n        // ** Make sure your Circle class and ArrayList work with the following driver code **\r\n        System.out.println();\r\n        \r\n        Circle c1 = new Circle();\r\n        System.out.println(&quot;C1: &quot; + c1.getID());\r\n        System.out.println(&quot;Radius: &quot; + c1.getRadius());\r\n        System.out.println(&quot;--------------------------------\\n&quot;);\r\n        \r\n        c1.setRadius(1.5);\r\n        System.out.println(&quot;C1: &quot; + c1.getID());\r\n        System.out.println(&quot;Radius: &quot; + c1.getRadius());\r\n        System.out.println(&quot;Area: &quot; + c1.getArea());\r\n        System.out.println(&quot;--------------------------------\\n&quot;);\r\n        \r\n        circles.get(3).setRadius(2.2);\r\n        System.out.println(&quot;C1: &quot; + circles.get(3).getID());\r\n        System.out.println(&quot;Radius: &quot; + circles.get(3).getRadius());\r\n        System.out.println(&quot;Diameter: &quot; + circles.get(3).getDiameter());\r\n        System.out.println(&quot;--------------------------------\\n&quot;);\r\n        \r\n        Circle c2 = circles.remove(9);\r\n        System.out.println(&quot;C2: &quot; + c2.getID());\r\n        System.out.println(&quot;Radius: &quot; + c2.getRadius());\r\n        System.out.println(&quot;Circumference: &quot; + c2.getCircumference());\r\n        System.out.println(&quot;--------------------------------\\n&quot;);\r\n        \r\n        // ** output\r\n        \r\n        // ** closing message **\r\n        System.out.println(&quot;\\nend of program&quot;);\r\n```\r\n","title":"Instantiate an ArrayList of Circles","body":"<p>so the question basically says to Use a for loop to add 10 Circles to the ArrayList each with a random radius in the range of 2-5 and Print a table of all of the Circles in the ArrayList. You can use System.out.println(String.format(&quot;%.3f&quot;, this.getRadius)); to print the circle dimensions to 3 decimal places. but how does this work.</p>\n<pre><code>public class CirclesDriver\n{\n    public static void main(String[] args) {\n        Random rand = new Random();\n        // ** Variables constants and objects **\n        Scanner scanner = new Scanner(System.in);\n        ArrayList&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\n\n        // ** load the array list with circles **\n        for (int i = 0; i &lt;= 10; i++) {\n            Circle circle = new Circle();\n            double radius = rand.nextDouble(5) + 2;\n\n        }\n        \n        // print the whole list\n        \n        System.out.println(&quot;--------------------------------\\n&quot;);\n        \n        // ** Make sure your Circle class and ArrayList work with the following driver code **\n        System.out.println();\n        \n        Circle c1 = new Circle();\n        System.out.println(&quot;C1: &quot; + c1.getID());\n        System.out.println(&quot;Radius: &quot; + c1.getRadius());\n        System.out.println(&quot;--------------------------------\\n&quot;);\n        \n        c1.setRadius(1.5);\n        System.out.println(&quot;C1: &quot; + c1.getID());\n        System.out.println(&quot;Radius: &quot; + c1.getRadius());\n        System.out.println(&quot;Area: &quot; + c1.getArea());\n        System.out.println(&quot;--------------------------------\\n&quot;);\n        \n        circles.get(3).setRadius(2.2);\n        System.out.println(&quot;C1: &quot; + circles.get(3).getID());\n        System.out.println(&quot;Radius: &quot; + circles.get(3).getRadius());\n        System.out.println(&quot;Diameter: &quot; + circles.get(3).getDiameter());\n        System.out.println(&quot;--------------------------------\\n&quot;);\n        \n        Circle c2 = circles.remove(9);\n        System.out.println(&quot;C2: &quot; + c2.getID());\n        System.out.println(&quot;Radius: &quot; + c2.getRadius());\n        System.out.println(&quot;Circumference: &quot; + c2.getCircumference());\n        System.out.println(&quot;--------------------------------\\n&quot;);\n        \n        // ** output\n        \n        // ** closing message **\n        System.out.println(&quot;\\nend of program&quot;);\n</code></pre>\n"},{"tags":["java","lambda","constructor","priority-queue"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1639887940,"post_id":70408921,"comment_id":124461448,"body_markdown":"Works for me: https://ideone.com/gtnccM","body":"Works for me: <a href=\"https://ideone.com/gtnccM\" rel=\"nofollow noreferrer\">ideone.com/gtnccM</a>"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1640349200,"post_id":70408921,"comment_id":124574839,"body_markdown":"Note that your implementation does not properly handle overflows. It would be better to use [`Comparator.comparingInt`](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-java.util.Comparator-)`(Student::getCgpa).`[`thenComparing`](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#thenComparing-java.util.function.Function-)`(Student::getName).`[`thenComparingInt`](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparingInt-java.util.function.ToIntFunction-)`(Student::getId)`, which is also simpler.","body":"Note that your implementation does not properly handle overflows. It would be better to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>Comparator.comparingInt</code></a><code>(Student::getCgpa).</code><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#thenComparing-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>thenComparing</code></a><code>(Stud&zwnj;&#8203;ent::getName).</code><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparingInt-java.util.function.ToIntFunction-\" rel=\"nofollow noreferrer\"><code>thenCo&zwnj;&#8203;mparingInt</code></a><code>(Student::&zwnj;&#8203;getId)</code>, which is also simpler."}],"owner":{"account_id":21647861,"reputation":1,"user_id":15968925,"display_name":"JiT SaHa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670437459,"creation_date":1639887132,"question_id":70408921,"body_markdown":"I am trying to create a priority queue for a class Student with some order using lambda expression comparator of java 1.8.  \r\nBut I am getting error Cannot infer type arguments for PriorityQueue&lt;&gt;\r\n\r\n```\r\nclass Priority\r\n{\r\n\tPriorityQueue&lt;Student&gt; priorityQueue = null;\r\n  \tpublic Priority()\r\n   \t{\r\n   \t\tpriorityQueue = new PriorityQueue&lt;&gt;(\r\n\t        (Student s1,Student s2)-&gt;{\r\n\t            int cmp = 0;\r\n    \t\t    if (s1.cgpa !=s2.cgpa)\r\n    \t\t    {\r\n    \t\t        return ( s2.cgpa - s1.cgpa);\r\n    \t\t    }\r\n    \t\t    else if (s1.name.compareTo(s2.name) != 0)\r\n    \t\t    {\r\n    \t\t        return s1.name.compareTo(s2.name);\r\n    \t\t    } \r\n    \t\t    else\r\n    \t\t    {\r\n    \t\t        return (s1.id - s2.id);\r\n    \t\t    }       \r\n    \t});\r\n    }\r\n}\r\n```","title":"Priority queue constructor java with lambda expression","body":"<p>I am trying to create a priority queue for a class Student with some order using lambda expression comparator of java 1.8.<br />\nBut I am getting error Cannot infer type arguments for PriorityQueue&lt;&gt;</p>\n<pre><code>class Priority\n{\n    PriorityQueue&lt;Student&gt; priorityQueue = null;\n    public Priority()\n    {\n        priorityQueue = new PriorityQueue&lt;&gt;(\n            (Student s1,Student s2)-&gt;{\n                int cmp = 0;\n                if (s1.cgpa !=s2.cgpa)\n                {\n                    return ( s2.cgpa - s1.cgpa);\n                }\n                else if (s1.name.compareTo(s2.name) != 0)\n                {\n                    return s1.name.compareTo(s2.name);\n                } \n                else\n                {\n                    return (s1.id - s2.id);\n                }       \n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","autocomplete","autosuggest"],"comments":[{"owner":{"account_id":1807633,"reputation":2510,"user_id":1644401,"accept_rate":40,"display_name":"atomman"},"score":0,"creation_date":1357508042,"post_id":14186955,"comment_id":19664625,"body_markdown":"[Have a look at this existing answer](http://stackoverflow.com/questions/1861921/auto-complete-textbox-in-java-swing?rq=1)","body":"<a href=\"http://stackoverflow.com/questions/1861921/auto-complete-textbox-in-java-swing?rq=1\">Have a look at this existing answer</a>"},{"owner":{"account_id":1563760,"reputation":1789,"user_id":1453008,"accept_rate":53,"display_name":"jairaj"},"score":0,"creation_date":1357508668,"post_id":14186955,"comment_id":19664793,"body_markdown":"its without dropdown !! that can be done. Problem is how to make a dropdown appear that too with variable size depending on the number of results.","body":"its without dropdown !! that can be done. Problem is how to make a dropdown appear that too with variable size depending on the number of results."},{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":1,"creation_date":1357511060,"post_id":14186955,"comment_id":19665467,"body_markdown":"@jairaj whatever can be achieved with a JTextField, can easily be translated to a JComboBox. All you need is to set that `JTextField` as the ComboBoxEditor of the JCombobox, and make the JComboBox editable. Btw, I would take a look at SwingX which has already a pretty decent autocomlete component (take a look on Google)","body":"@jairaj whatever can be achieved with a JTextField, can easily be translated to a JComboBox. All you need is to set that <code>JTextField</code> as the ComboBoxEditor of the JCombobox, and make the JComboBox editable. Btw, I would take a look at SwingX which has already a pretty decent autocomlete component (take a look on Google)"}],"answers":[{"tags":[],"owner":{"account_id":2189891,"reputation":8117,"user_id":1937270,"accept_rate":91,"display_name":"syb0rg"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1357611079,"creation_date":1357509022,"answer_id":14187175,"question_id":14186955,"body_markdown":"A really easy way to do this is to use the `GlazedList` implementation of auto-completion. It&#39;s very easy to get up and running. You can find it [here][1].\r\n\r\nYou can install the auto-complete on a JComboBox with only one line of Glazed code, like this:\r\n\r\n    JComboBox comboBox = new JComboBox();\r\n    Object[] elements = new Object[] {&quot;Cat&quot;, &quot;Dog&quot;, &quot;Lion&quot;, &quot;Mouse&quot;};\r\n    AutoCompleteSupport.install(comboBox, GlazedLists.eventListOf(elements));\r\n\r\nAlso `SwingX` supports auto-complete and might be easier to use than `GlazedList`.  All you write with `SwingX` is `AutoCompleteDecorator.decorate(comboBox);`\r\n\r\n\r\n  [1]: http://publicobject.com/glazedlists/","title":"Create a autocompleting textbox in Java with a dropdown list","body":"<p>A really easy way to do this is to use the <code>GlazedList</code> implementation of auto-completion. It's very easy to get up and running. You can find it <a href=\"http://publicobject.com/glazedlists/\" rel=\"noreferrer\">here</a>.</p>\n\n<p>You can install the auto-complete on a JComboBox with only one line of Glazed code, like this:</p>\n\n<pre><code>JComboBox comboBox = new JComboBox();\nObject[] elements = new Object[] {\"Cat\", \"Dog\", \"Lion\", \"Mouse\"};\nAutoCompleteSupport.install(comboBox, GlazedLists.eventListOf(elements));\n</code></pre>\n\n<p>Also <code>SwingX</code> supports auto-complete and might be easier to use than <code>GlazedList</code>.  All you write with <code>SwingX</code> is <code>AutoCompleteDecorator.decorate(comboBox);</code></p>\n"},{"tags":[],"owner":{"account_id":1151383,"reputation":36217,"user_id":1133011,"accept_rate":96,"display_name":"David Kroukamp"},"down_vote_count":1,"up_vote_count":47,"is_accepted":true,"score":46,"last_activity_date":1358300427,"creation_date":1357554800,"answer_id":14194104,"question_id":14186955,"body_markdown":"@syb0rg&#39;s answer is easier, as it uses an 3rd party library.\r\n\r\nHowever I used an alternate approach:\r\n\r\nIt uses a custom class called `AutoSuggestor` which accepts a `JTextField`, its `Window` an `ArrayList&lt;String&gt;` of words to check typed words against, a background color and text color, and suggestion focus colour as well as an opacity value. By passing `JTextField` reference a `DocumentListener` is added which will do the work of checking what word is typed and whether to display suggestions or not and if so what suggestions to display. When a word is typed the `DocumentListener` will fire` wordTyped(String wordTyped)` method with the current word being typed or (at least how much ever of the word has been typed), in `wordTyped(..)` the word will be checked against those in the `AutoSuggestor`s classes  *dictionary* which is a basic `ArrayList` of `String` this can be set on the fly as seen in the below example:\r\n\r\n![enter image description here][1]\r\n   \r\n(For now you will have to use mouse and click the word you want to be auto completed, or use &lt;kbd&gt;DOWN&lt;/kbd&gt; to transverse suggestions and the *textfield* and &lt;kbd&gt;ENTER&lt;/kbd&gt; to select suggestion when traversing using *down* key. I have not yet implemented &lt;kbd&gt;UP&lt;/kbd&gt; yet):\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Window;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.util.ArrayList;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.JWindow;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.border.LineBorder;\r\n    import javax.swing.event.DocumentEvent;\r\n    import javax.swing.event.DocumentListener;\r\n    \r\n    /**\r\n     * @author David\r\n     */\r\n    public class Test {\r\n    \r\n        public Test() {\r\n    \r\n            JFrame frame = new JFrame();\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \r\n            JTextField f = new JTextField(10);\r\n    \r\n            AutoSuggestor autoSuggestor = new AutoSuggestor(f, frame, null, Color.WHITE.brighter(), Color.BLUE, Color.RED, 0.75f) {\r\n                @Override\r\n                boolean wordTyped(String typedWord) {\r\n    \r\n                    //create list for dictionary this in your case might be done via calling a method which queries db and returns results as arraylist\r\n                    ArrayList&lt;String&gt; words = new ArrayList&lt;&gt;();\r\n                    words.add(&quot;hello&quot;);\r\n                    words.add(&quot;heritage&quot;);\r\n                    words.add(&quot;happiness&quot;);\r\n                    words.add(&quot;goodbye&quot;);\r\n                    words.add(&quot;cruel&quot;);\r\n                    words.add(&quot;car&quot;);\r\n                    words.add(&quot;war&quot;);\r\n                    words.add(&quot;will&quot;);\r\n                    words.add(&quot;world&quot;);\r\n                    words.add(&quot;wall&quot;);\r\n    \r\n    \r\n                    setDictionary(words);\r\n                    //addToDictionary(&quot;bye&quot;);//adds a single word\r\n    \r\n                    return super.wordTyped(typedWord);//now call super to check for any matches against newest dictionary\r\n                }\r\n            };\r\n    \r\n            JPanel p = new JPanel();\r\n    \r\n            p.add(f);\r\n    \r\n            frame.add(p);\r\n    \r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    new Test();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    \r\n    class AutoSuggestor {\r\n    \r\n        private final JTextField textField;\r\n        private final Window container;\r\n        private JPanel suggestionsPanel;\r\n        private JWindow autoSuggestionPopUpWindow;\r\n        private String typedWord;\r\n        private final ArrayList&lt;String&gt; dictionary = new ArrayList&lt;&gt;();\r\n        private int currentIndexOfSpace, tW, tH;\r\n        private DocumentListener documentListener = new DocumentListener() {\r\n            @Override\r\n            public void insertUpdate(DocumentEvent de) {\r\n                checkForAndShowSuggestions();\r\n            }\r\n    \r\n            @Override\r\n            public void removeUpdate(DocumentEvent de) {\r\n                checkForAndShowSuggestions();\r\n            }\r\n    \r\n            @Override\r\n            public void changedUpdate(DocumentEvent de) {\r\n                checkForAndShowSuggestions();\r\n            }\r\n        };\r\n        private final Color suggestionsTextColor;\r\n        private final Color suggestionFocusedColor;\r\n    \r\n        public AutoSuggestor(JTextField textField, Window mainWindow, ArrayList&lt;String&gt; words, Color popUpBackground, Color textColor, Color suggestionFocusedColor, float opacity) {\r\n            this.textField = textField;\r\n            this.suggestionsTextColor = textColor;\r\n            this.container = mainWindow;\r\n            this.suggestionFocusedColor = suggestionFocusedColor;\r\n            this.textField.getDocument().addDocumentListener(documentListener);\r\n    \r\n            setDictionary(words);\r\n    \r\n            typedWord = &quot;&quot;;\r\n            currentIndexOfSpace = 0;\r\n            tW = 0;\r\n            tH = 0;\r\n    \r\n            autoSuggestionPopUpWindow = new JWindow(mainWindow);\r\n            autoSuggestionPopUpWindow.setOpacity(opacity);\r\n    \r\n            suggestionsPanel = new JPanel();\r\n            suggestionsPanel.setLayout(new GridLayout(0, 1));\r\n            suggestionsPanel.setBackground(popUpBackground);\r\n    \r\n            addKeyBindingToRequestFocusInPopUpWindow();\r\n        }\r\n    \r\n        private void addKeyBindingToRequestFocusInPopUpWindow() {\r\n            textField.getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, true), &quot;Down released&quot;);\r\n            textField.getActionMap().put(&quot;Down released&quot;, new AbstractAction() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent ae) {//focuses the first label on popwindow\r\n                    for (int i = 0; i &lt; suggestionsPanel.getComponentCount(); i++) {\r\n                        if (suggestionsPanel.getComponent(i) instanceof SuggestionLabel) {\r\n                            ((SuggestionLabel) suggestionsPanel.getComponent(i)).setFocused(true);\r\n                            autoSuggestionPopUpWindow.toFront();\r\n                            autoSuggestionPopUpWindow.requestFocusInWindow();\r\n                            suggestionsPanel.requestFocusInWindow();\r\n                            suggestionsPanel.getComponent(i).requestFocusInWindow();\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            suggestionsPanel.getInputMap(JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT).put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, true), &quot;Down released&quot;);\r\n            suggestionsPanel.getActionMap().put(&quot;Down released&quot;, new AbstractAction() {\r\n                int lastFocusableIndex = 0;\r\n    \r\n                @Override\r\n                public void actionPerformed(ActionEvent ae) {//allows scrolling of labels in pop window (I know very hacky for now :))\r\n    \r\n                    ArrayList&lt;SuggestionLabel&gt; sls = getAddedSuggestionLabels();\r\n                    int max = sls.size();\r\n    \r\n                    if (max &gt; 1) {//more than 1 suggestion\r\n                        for (int i = 0; i &lt; max; i++) {\r\n                            SuggestionLabel sl = sls.get(i);\r\n                            if (sl.isFocused()) {\r\n                                if (lastFocusableIndex == max - 1) {\r\n                                    lastFocusableIndex = 0;\r\n                                    sl.setFocused(false);\r\n                                    autoSuggestionPopUpWindow.setVisible(false);\r\n                                    setFocusToTextField();\r\n                                    checkForAndShowSuggestions();//fire method as if document listener change occured and fired it\r\n    \r\n                                } else {\r\n                                    sl.setFocused(false);\r\n                                    lastFocusableIndex = i;\r\n                                }\r\n                            } else if (lastFocusableIndex &lt;= i) {\r\n                                if (i &lt; max) {\r\n                                    sl.setFocused(true);\r\n                                    autoSuggestionPopUpWindow.toFront();\r\n                                    autoSuggestionPopUpWindow.requestFocusInWindow();\r\n                                    suggestionsPanel.requestFocusInWindow();\r\n                                    suggestionsPanel.getComponent(i).requestFocusInWindow();\r\n                                    lastFocusableIndex = i;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                    } else {//only a single suggestion was given\r\n                        autoSuggestionPopUpWindow.setVisible(false);\r\n                        setFocusToTextField();\r\n                        checkForAndShowSuggestions();//fire method as if document listener change occured and fired it\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void setFocusToTextField() {\r\n            container.toFront();\r\n            container.requestFocusInWindow();\r\n            textField.requestFocusInWindow();\r\n        }\r\n    \r\n        public ArrayList&lt;SuggestionLabel&gt; getAddedSuggestionLabels() {\r\n            ArrayList&lt;SuggestionLabel&gt; sls = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; suggestionsPanel.getComponentCount(); i++) {\r\n                if (suggestionsPanel.getComponent(i) instanceof SuggestionLabel) {\r\n                    SuggestionLabel sl = (SuggestionLabel) suggestionsPanel.getComponent(i);\r\n                    sls.add(sl);\r\n                }\r\n            }\r\n            return sls;\r\n        }\r\n    \r\n        private void checkForAndShowSuggestions() {\r\n            typedWord = getCurrentlyTypedWord();\r\n    \r\n            suggestionsPanel.removeAll();//remove previos words/jlabels that were added\r\n    \r\n            //used to calcualte size of JWindow as new Jlabels are added\r\n            tW = 0;\r\n            tH = 0;\r\n    \r\n            boolean added = wordTyped(typedWord);\r\n    \r\n            if (!added) {\r\n                if (autoSuggestionPopUpWindow.isVisible()) {\r\n                    autoSuggestionPopUpWindow.setVisible(false);\r\n                }\r\n            } else {\r\n                showPopUpWindow();\r\n                setFocusToTextField();\r\n            }\r\n        }\r\n    \r\n        protected void addWordToSuggestions(String word) {\r\n            SuggestionLabel suggestionLabel = new SuggestionLabel(word, suggestionFocusedColor, suggestionsTextColor, this);\r\n    \r\n            calculatePopUpWindowSize(suggestionLabel);\r\n    \r\n            suggestionsPanel.add(suggestionLabel);\r\n        }\r\n    \r\n        public String getCurrentlyTypedWord() {//get newest word after last white spaceif any or the first word if no white spaces\r\n            String text = textField.getText();\r\n            String wordBeingTyped = &quot;&quot;;\r\n            if (text.contains(&quot; &quot;)) {\r\n                int tmp = text.lastIndexOf(&quot; &quot;);\r\n                if (tmp &gt;= currentIndexOfSpace) {\r\n                    currentIndexOfSpace = tmp;\r\n                    wordBeingTyped = text.substring(text.lastIndexOf(&quot; &quot;));\r\n                }\r\n            } else {\r\n                wordBeingTyped = text;\r\n            }\r\n            return wordBeingTyped.trim();\r\n        }\r\n    \r\n        private void calculatePopUpWindowSize(JLabel label) {\r\n            //so we can size the JWindow correctly\r\n            if (tW &lt; label.getPreferredSize().width) {\r\n                tW = label.getPreferredSize().width;\r\n            }\r\n            tH += label.getPreferredSize().height;\r\n        }\r\n    \r\n        private void showPopUpWindow() {\r\n            autoSuggestionPopUpWindow.getContentPane().add(suggestionsPanel);\r\n            autoSuggestionPopUpWindow.setMinimumSize(new Dimension(textField.getWidth(), 30));\r\n            autoSuggestionPopUpWindow.setSize(tW, tH);\r\n            autoSuggestionPopUpWindow.setVisible(true);\r\n    \r\n            int windowX = 0;\r\n            int windowY = 0;\r\n    \r\n            windowX = container.getX() + textField.getX() + 5;\r\n            if (suggestionsPanel.getHeight() &gt; autoSuggestionPopUpWindow.getMinimumSize().height) {\r\n                windowY = container.getY() + textField.getY() + textField.getHeight() + autoSuggestionPopUpWindow.getMinimumSize().height;\r\n            } else {\r\n                windowY = container.getY() + textField.getY() + textField.getHeight() + autoSuggestionPopUpWindow.getHeight();\r\n            }\r\n    \r\n            autoSuggestionPopUpWindow.setLocation(windowX, windowY);\r\n            autoSuggestionPopUpWindow.setMinimumSize(new Dimension(textField.getWidth(), 30));\r\n            autoSuggestionPopUpWindow.revalidate();\r\n            autoSuggestionPopUpWindow.repaint();\r\n    \r\n        }\r\n    \r\n        public void setDictionary(ArrayList&lt;String&gt; words) {\r\n            dictionary.clear();\r\n            if (words == null) {\r\n                return;//so we can call constructor with null value for dictionary without exception thrown\r\n            }\r\n            for (String word : words) {\r\n                dictionary.add(word);\r\n            }\r\n        }\r\n    \r\n        public JWindow getAutoSuggestionPopUpWindow() {\r\n            return autoSuggestionPopUpWindow;\r\n        }\r\n    \r\n        public Window getContainer() {\r\n            return container;\r\n        }\r\n    \r\n        public JTextField getTextField() {\r\n            return textField;\r\n        }\r\n    \r\n        public void addToDictionary(String word) {\r\n            dictionary.add(word);\r\n        }\r\n    \r\n        boolean wordTyped(String typedWord) {\r\n    \r\n            if (typedWord.isEmpty()) {\r\n                return false;\r\n            }\r\n            //System.out.println(&quot;Typed word: &quot; + typedWord);\r\n    \r\n            boolean suggestionAdded = false;\r\n    \r\n            for (String word : dictionary) {//get words in the dictionary which we added\r\n                boolean fullymatches = true;\r\n                for (int i = 0; i &lt; typedWord.length(); i++) {//each string in the word\r\n                    if (!typedWord.toLowerCase().startsWith(String.valueOf(word.toLowerCase().charAt(i)), i)) {//check for match\r\n                        fullymatches = false;\r\n                        break;\r\n                    }\r\n                }\r\n                if (fullymatches) {\r\n                    addWordToSuggestions(word);\r\n                    suggestionAdded = true;\r\n                }\r\n            }\r\n            return suggestionAdded;\r\n        }\r\n    }\r\n    \r\n    class SuggestionLabel extends JLabel {\r\n    \r\n        private boolean focused = false;\r\n        private final JWindow autoSuggestionsPopUpWindow;\r\n        private final JTextField textField;\r\n        private final AutoSuggestor autoSuggestor;\r\n        private Color suggestionsTextColor, suggestionBorderColor;\r\n    \r\n        public SuggestionLabel(String string, final Color borderColor, Color suggestionsTextColor, AutoSuggestor autoSuggestor) {\r\n            super(string);\r\n    \r\n            this.suggestionsTextColor = suggestionsTextColor;\r\n            this.autoSuggestor = autoSuggestor;\r\n            this.textField = autoSuggestor.getTextField();\r\n            this.suggestionBorderColor = borderColor;\r\n            this.autoSuggestionsPopUpWindow = autoSuggestor.getAutoSuggestionPopUpWindow();\r\n    \r\n            initComponent();\r\n        }\r\n    \r\n        private void initComponent() {\r\n            setFocusable(true);\r\n            setForeground(suggestionsTextColor);\r\n    \r\n            addMouseListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseClicked(MouseEvent me) {\r\n                    super.mouseClicked(me);\r\n    \r\n                    replaceWithSuggestedText();\r\n    \r\n                    autoSuggestionsPopUpWindow.setVisible(false);\r\n                }\r\n            });\r\n    \r\n            getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0, true), &quot;Enter released&quot;);\r\n            getActionMap().put(&quot;Enter released&quot;, new AbstractAction() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent ae) {\r\n                    replaceWithSuggestedText();\r\n                    autoSuggestionsPopUpWindow.setVisible(false);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void setFocused(boolean focused) {\r\n            if (focused) {\r\n                setBorder(new LineBorder(suggestionBorderColor));\r\n            } else {\r\n                setBorder(null);\r\n            }\r\n            repaint();\r\n            this.focused = focused;\r\n        }\r\n    \r\n        public boolean isFocused() {\r\n            return focused;\r\n        }\r\n    \r\n        private void replaceWithSuggestedText() {\r\n            String suggestedWord = getText();\r\n            String text = textField.getText();\r\n            String typedWord = autoSuggestor.getCurrentlyTypedWord();\r\n            String t = text.substring(0, text.lastIndexOf(typedWord));\r\n            String tmp = t + text.substring(text.lastIndexOf(typedWord)).replace(typedWord, suggestedWord);\r\n            textField.setText(tmp + &quot; &quot;);\r\n        }\r\n    }\r\n\r\nAs it stands the only possible needed additions IMO is:\r\n\r\n- &lt;kbd&gt;UP&lt;/kbd&gt; key Focus traversablity for items within the popup autosuggestions box so we can go in a upward direction.\r\n\r\nIf there are any kinks lemme know I&#39;ll see what I can do. But Seems to be running fine (touch wood).\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/JzN4H.png","title":"Create a autocompleting textbox in Java with a dropdown list","body":"<p>@syb0rg's answer is easier, as it uses an 3rd party library.</p>\n\n<p>However I used an alternate approach:</p>\n\n<p>It uses a custom class called <code>AutoSuggestor</code> which accepts a <code>JTextField</code>, its <code>Window</code> an <code>ArrayList&lt;String&gt;</code> of words to check typed words against, a background color and text color, and suggestion focus colour as well as an opacity value. By passing <code>JTextField</code> reference a <code>DocumentListener</code> is added which will do the work of checking what word is typed and whether to display suggestions or not and if so what suggestions to display. When a word is typed the <code>DocumentListener</code> will fire<code>wordTyped(String wordTyped)</code> method with the current word being typed or (at least how much ever of the word has been typed), in <code>wordTyped(..)</code> the word will be checked against those in the <code>AutoSuggestor</code>s classes  <em>dictionary</em> which is a basic <code>ArrayList</code> of <code>String</code> this can be set on the fly as seen in the below example:</p>\n\n<p><img src=\"https://i.stack.imgur.com/JzN4H.png\" alt=\"enter image description here\"></p>\n\n<p>(For now you will have to use mouse and click the word you want to be auto completed, or use <kbd>DOWN</kbd> to transverse suggestions and the <em>textfield</em> and <kbd>ENTER</kbd> to select suggestion when traversing using <em>down</em> key. I have not yet implemented <kbd>UP</kbd> yet):</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport java.awt.Window;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.util.ArrayList;\nimport javax.swing.AbstractAction;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.JWindow;\nimport javax.swing.KeyStroke;\nimport javax.swing.SwingUtilities;\nimport javax.swing.border.LineBorder;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\n\n/**\n * @author David\n */\npublic class Test {\n\n    public Test() {\n\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n\n        JTextField f = new JTextField(10);\n\n        AutoSuggestor autoSuggestor = new AutoSuggestor(f, frame, null, Color.WHITE.brighter(), Color.BLUE, Color.RED, 0.75f) {\n            @Override\n            boolean wordTyped(String typedWord) {\n\n                //create list for dictionary this in your case might be done via calling a method which queries db and returns results as arraylist\n                ArrayList&lt;String&gt; words = new ArrayList&lt;&gt;();\n                words.add(\"hello\");\n                words.add(\"heritage\");\n                words.add(\"happiness\");\n                words.add(\"goodbye\");\n                words.add(\"cruel\");\n                words.add(\"car\");\n                words.add(\"war\");\n                words.add(\"will\");\n                words.add(\"world\");\n                words.add(\"wall\");\n\n\n                setDictionary(words);\n                //addToDictionary(\"bye\");//adds a single word\n\n                return super.wordTyped(typedWord);//now call super to check for any matches against newest dictionary\n            }\n        };\n\n        JPanel p = new JPanel();\n\n        p.add(f);\n\n        frame.add(p);\n\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new Test();\n            }\n        });\n    }\n}\n\nclass AutoSuggestor {\n\n    private final JTextField textField;\n    private final Window container;\n    private JPanel suggestionsPanel;\n    private JWindow autoSuggestionPopUpWindow;\n    private String typedWord;\n    private final ArrayList&lt;String&gt; dictionary = new ArrayList&lt;&gt;();\n    private int currentIndexOfSpace, tW, tH;\n    private DocumentListener documentListener = new DocumentListener() {\n        @Override\n        public void insertUpdate(DocumentEvent de) {\n            checkForAndShowSuggestions();\n        }\n\n        @Override\n        public void removeUpdate(DocumentEvent de) {\n            checkForAndShowSuggestions();\n        }\n\n        @Override\n        public void changedUpdate(DocumentEvent de) {\n            checkForAndShowSuggestions();\n        }\n    };\n    private final Color suggestionsTextColor;\n    private final Color suggestionFocusedColor;\n\n    public AutoSuggestor(JTextField textField, Window mainWindow, ArrayList&lt;String&gt; words, Color popUpBackground, Color textColor, Color suggestionFocusedColor, float opacity) {\n        this.textField = textField;\n        this.suggestionsTextColor = textColor;\n        this.container = mainWindow;\n        this.suggestionFocusedColor = suggestionFocusedColor;\n        this.textField.getDocument().addDocumentListener(documentListener);\n\n        setDictionary(words);\n\n        typedWord = \"\";\n        currentIndexOfSpace = 0;\n        tW = 0;\n        tH = 0;\n\n        autoSuggestionPopUpWindow = new JWindow(mainWindow);\n        autoSuggestionPopUpWindow.setOpacity(opacity);\n\n        suggestionsPanel = new JPanel();\n        suggestionsPanel.setLayout(new GridLayout(0, 1));\n        suggestionsPanel.setBackground(popUpBackground);\n\n        addKeyBindingToRequestFocusInPopUpWindow();\n    }\n\n    private void addKeyBindingToRequestFocusInPopUpWindow() {\n        textField.getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, true), \"Down released\");\n        textField.getActionMap().put(\"Down released\", new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent ae) {//focuses the first label on popwindow\n                for (int i = 0; i &lt; suggestionsPanel.getComponentCount(); i++) {\n                    if (suggestionsPanel.getComponent(i) instanceof SuggestionLabel) {\n                        ((SuggestionLabel) suggestionsPanel.getComponent(i)).setFocused(true);\n                        autoSuggestionPopUpWindow.toFront();\n                        autoSuggestionPopUpWindow.requestFocusInWindow();\n                        suggestionsPanel.requestFocusInWindow();\n                        suggestionsPanel.getComponent(i).requestFocusInWindow();\n                        break;\n                    }\n                }\n            }\n        });\n        suggestionsPanel.getInputMap(JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT).put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, true), \"Down released\");\n        suggestionsPanel.getActionMap().put(\"Down released\", new AbstractAction() {\n            int lastFocusableIndex = 0;\n\n            @Override\n            public void actionPerformed(ActionEvent ae) {//allows scrolling of labels in pop window (I know very hacky for now :))\n\n                ArrayList&lt;SuggestionLabel&gt; sls = getAddedSuggestionLabels();\n                int max = sls.size();\n\n                if (max &gt; 1) {//more than 1 suggestion\n                    for (int i = 0; i &lt; max; i++) {\n                        SuggestionLabel sl = sls.get(i);\n                        if (sl.isFocused()) {\n                            if (lastFocusableIndex == max - 1) {\n                                lastFocusableIndex = 0;\n                                sl.setFocused(false);\n                                autoSuggestionPopUpWindow.setVisible(false);\n                                setFocusToTextField();\n                                checkForAndShowSuggestions();//fire method as if document listener change occured and fired it\n\n                            } else {\n                                sl.setFocused(false);\n                                lastFocusableIndex = i;\n                            }\n                        } else if (lastFocusableIndex &lt;= i) {\n                            if (i &lt; max) {\n                                sl.setFocused(true);\n                                autoSuggestionPopUpWindow.toFront();\n                                autoSuggestionPopUpWindow.requestFocusInWindow();\n                                suggestionsPanel.requestFocusInWindow();\n                                suggestionsPanel.getComponent(i).requestFocusInWindow();\n                                lastFocusableIndex = i;\n                                break;\n                            }\n                        }\n                    }\n                } else {//only a single suggestion was given\n                    autoSuggestionPopUpWindow.setVisible(false);\n                    setFocusToTextField();\n                    checkForAndShowSuggestions();//fire method as if document listener change occured and fired it\n                }\n            }\n        });\n    }\n\n    private void setFocusToTextField() {\n        container.toFront();\n        container.requestFocusInWindow();\n        textField.requestFocusInWindow();\n    }\n\n    public ArrayList&lt;SuggestionLabel&gt; getAddedSuggestionLabels() {\n        ArrayList&lt;SuggestionLabel&gt; sls = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; suggestionsPanel.getComponentCount(); i++) {\n            if (suggestionsPanel.getComponent(i) instanceof SuggestionLabel) {\n                SuggestionLabel sl = (SuggestionLabel) suggestionsPanel.getComponent(i);\n                sls.add(sl);\n            }\n        }\n        return sls;\n    }\n\n    private void checkForAndShowSuggestions() {\n        typedWord = getCurrentlyTypedWord();\n\n        suggestionsPanel.removeAll();//remove previos words/jlabels that were added\n\n        //used to calcualte size of JWindow as new Jlabels are added\n        tW = 0;\n        tH = 0;\n\n        boolean added = wordTyped(typedWord);\n\n        if (!added) {\n            if (autoSuggestionPopUpWindow.isVisible()) {\n                autoSuggestionPopUpWindow.setVisible(false);\n            }\n        } else {\n            showPopUpWindow();\n            setFocusToTextField();\n        }\n    }\n\n    protected void addWordToSuggestions(String word) {\n        SuggestionLabel suggestionLabel = new SuggestionLabel(word, suggestionFocusedColor, suggestionsTextColor, this);\n\n        calculatePopUpWindowSize(suggestionLabel);\n\n        suggestionsPanel.add(suggestionLabel);\n    }\n\n    public String getCurrentlyTypedWord() {//get newest word after last white spaceif any or the first word if no white spaces\n        String text = textField.getText();\n        String wordBeingTyped = \"\";\n        if (text.contains(\" \")) {\n            int tmp = text.lastIndexOf(\" \");\n            if (tmp &gt;= currentIndexOfSpace) {\n                currentIndexOfSpace = tmp;\n                wordBeingTyped = text.substring(text.lastIndexOf(\" \"));\n            }\n        } else {\n            wordBeingTyped = text;\n        }\n        return wordBeingTyped.trim();\n    }\n\n    private void calculatePopUpWindowSize(JLabel label) {\n        //so we can size the JWindow correctly\n        if (tW &lt; label.getPreferredSize().width) {\n            tW = label.getPreferredSize().width;\n        }\n        tH += label.getPreferredSize().height;\n    }\n\n    private void showPopUpWindow() {\n        autoSuggestionPopUpWindow.getContentPane().add(suggestionsPanel);\n        autoSuggestionPopUpWindow.setMinimumSize(new Dimension(textField.getWidth(), 30));\n        autoSuggestionPopUpWindow.setSize(tW, tH);\n        autoSuggestionPopUpWindow.setVisible(true);\n\n        int windowX = 0;\n        int windowY = 0;\n\n        windowX = container.getX() + textField.getX() + 5;\n        if (suggestionsPanel.getHeight() &gt; autoSuggestionPopUpWindow.getMinimumSize().height) {\n            windowY = container.getY() + textField.getY() + textField.getHeight() + autoSuggestionPopUpWindow.getMinimumSize().height;\n        } else {\n            windowY = container.getY() + textField.getY() + textField.getHeight() + autoSuggestionPopUpWindow.getHeight();\n        }\n\n        autoSuggestionPopUpWindow.setLocation(windowX, windowY);\n        autoSuggestionPopUpWindow.setMinimumSize(new Dimension(textField.getWidth(), 30));\n        autoSuggestionPopUpWindow.revalidate();\n        autoSuggestionPopUpWindow.repaint();\n\n    }\n\n    public void setDictionary(ArrayList&lt;String&gt; words) {\n        dictionary.clear();\n        if (words == null) {\n            return;//so we can call constructor with null value for dictionary without exception thrown\n        }\n        for (String word : words) {\n            dictionary.add(word);\n        }\n    }\n\n    public JWindow getAutoSuggestionPopUpWindow() {\n        return autoSuggestionPopUpWindow;\n    }\n\n    public Window getContainer() {\n        return container;\n    }\n\n    public JTextField getTextField() {\n        return textField;\n    }\n\n    public void addToDictionary(String word) {\n        dictionary.add(word);\n    }\n\n    boolean wordTyped(String typedWord) {\n\n        if (typedWord.isEmpty()) {\n            return false;\n        }\n        //System.out.println(\"Typed word: \" + typedWord);\n\n        boolean suggestionAdded = false;\n\n        for (String word : dictionary) {//get words in the dictionary which we added\n            boolean fullymatches = true;\n            for (int i = 0; i &lt; typedWord.length(); i++) {//each string in the word\n                if (!typedWord.toLowerCase().startsWith(String.valueOf(word.toLowerCase().charAt(i)), i)) {//check for match\n                    fullymatches = false;\n                    break;\n                }\n            }\n            if (fullymatches) {\n                addWordToSuggestions(word);\n                suggestionAdded = true;\n            }\n        }\n        return suggestionAdded;\n    }\n}\n\nclass SuggestionLabel extends JLabel {\n\n    private boolean focused = false;\n    private final JWindow autoSuggestionsPopUpWindow;\n    private final JTextField textField;\n    private final AutoSuggestor autoSuggestor;\n    private Color suggestionsTextColor, suggestionBorderColor;\n\n    public SuggestionLabel(String string, final Color borderColor, Color suggestionsTextColor, AutoSuggestor autoSuggestor) {\n        super(string);\n\n        this.suggestionsTextColor = suggestionsTextColor;\n        this.autoSuggestor = autoSuggestor;\n        this.textField = autoSuggestor.getTextField();\n        this.suggestionBorderColor = borderColor;\n        this.autoSuggestionsPopUpWindow = autoSuggestor.getAutoSuggestionPopUpWindow();\n\n        initComponent();\n    }\n\n    private void initComponent() {\n        setFocusable(true);\n        setForeground(suggestionsTextColor);\n\n        addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent me) {\n                super.mouseClicked(me);\n\n                replaceWithSuggestedText();\n\n                autoSuggestionsPopUpWindow.setVisible(false);\n            }\n        });\n\n        getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0, true), \"Enter released\");\n        getActionMap().put(\"Enter released\", new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent ae) {\n                replaceWithSuggestedText();\n                autoSuggestionsPopUpWindow.setVisible(false);\n            }\n        });\n    }\n\n    public void setFocused(boolean focused) {\n        if (focused) {\n            setBorder(new LineBorder(suggestionBorderColor));\n        } else {\n            setBorder(null);\n        }\n        repaint();\n        this.focused = focused;\n    }\n\n    public boolean isFocused() {\n        return focused;\n    }\n\n    private void replaceWithSuggestedText() {\n        String suggestedWord = getText();\n        String text = textField.getText();\n        String typedWord = autoSuggestor.getCurrentlyTypedWord();\n        String t = text.substring(0, text.lastIndexOf(typedWord));\n        String tmp = t + text.substring(text.lastIndexOf(typedWord)).replace(typedWord, suggestedWord);\n        textField.setText(tmp + \" \");\n    }\n}\n</code></pre>\n\n<p>As it stands the only possible needed additions IMO is:</p>\n\n<ul>\n<li><kbd>UP</kbd> key Focus traversablity for items within the popup autosuggestions box so we can go in a upward direction.</li>\n</ul>\n\n<p>If there are any kinks lemme know I'll see what I can do. But Seems to be running fine (touch wood).</p>\n"},{"tags":[],"owner":{"account_id":6904133,"reputation":47,"user_id":5302683,"accept_rate":50,"display_name":"nawin khatiwada"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670437427,"creation_date":1442502918,"answer_id":32634000,"question_id":14186955,"body_markdown":"To use `TextAutoCompleter` class you need to download a jar file `AutoCompleter.jar` and add it to library folder of your project. Download link: [jar file](http://download1689.mediafire.com/4grrthscpsug/7pwzgefiomu392o/AutoCompleter.jar)\r\n\r\nIn the Main class write the following code:\r\n\r\n    package autocomplete;\r\n\r\n    import com.mxrck.autocompleter.TextAutoCompleter;\r\n    import java.sql.SQLException;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JTextField;\r\n\r\n    public class AutoComplete {\r\n\r\n        JFrame f = new JFrame();\r\n        JTextField t1;\r\n        \r\n        AutoComplete() throws ClassNotFoundException, SQLException {\r\n            f.setSize(500, 500);\r\n            f.setLocation(500, 100);\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            f.setLayout(null);\r\n            f.setVisible(true);\r\n        \r\n            t1=new JTextField();\r\n            t1.setBounds(50, 80, 200, 20);\r\n            f.add(t1);\r\n       \r\n            TextAutoCompleter complete = new TextAutoCompleter(t1);\r\n            DBConn conn = new DBConn();\r\n            conn.connection();\r\n            conn.retrieve();\r\n\r\n            while(conn.rs.next()) {\r\n                complete.addItem(conn.rs.getString(&quot;number&quot;));\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws ClassNotFoundException, SQLException {           \r\n            new AutoComplete();\r\n        }\r\n    }\r\n\r\nCreate separate class for database connection and write the following code:\r\n\r\n    package autocomplete;\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n\r\n    public class DBConn {\r\n    \r\n        Connection con; \r\n        ResultSet rs;\r\n        PreparedStatement stat;\r\n\r\n        public void connection() throws ClassNotFoundException, SQLException{\r\n            String url = &quot;jdbc:mysql://localhost:3306/&quot;;\r\n            String driver = &quot;com.mysql.jdbc.Driver&quot;;   \r\n            String db = &quot;demo&quot;;\r\n            String username = &quot;root&quot;;\r\n            String password = &quot;root&quot;;\r\n            stat = null; \r\n        \r\n            Class.forName(driver);\r\n            con = (Connection) DriverManager.getConnection(url + db, username, password);              \r\n            System.out.println(&quot;Connection Successful&quot;);\r\n        }  \r\n    \r\n        public void retrieve() throws SQLException{\r\n            Statement stmt = con.createStatement();\r\n            String query = &quot;select number from phone&quot;;\r\n            rs = stmt.executeQuery(query);\r\n                 \r\n            System.out.println(&quot;retrieve succesfully&quot;);\r\n        }            \r\n    }","title":"Create a autocompleting textbox in Java with a dropdown list","body":"<p>To use <code>TextAutoCompleter</code> class you need to download a jar file <code>AutoCompleter.jar</code> and add it to library folder of your project. Download link: <a href=\"http://download1689.mediafire.com/4grrthscpsug/7pwzgefiomu392o/AutoCompleter.jar\" rel=\"nofollow noreferrer\">jar file</a></p>\n<p>In the Main class write the following code:</p>\n<pre><code>package autocomplete;\n\nimport com.mxrck.autocompleter.TextAutoCompleter;\nimport java.sql.SQLException;\nimport javax.swing.JFrame;\nimport javax.swing.JTextField;\n\npublic class AutoComplete {\n\n    JFrame f = new JFrame();\n    JTextField t1;\n    \n    AutoComplete() throws ClassNotFoundException, SQLException {\n        f.setSize(500, 500);\n        f.setLocation(500, 100);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.setLayout(null);\n        f.setVisible(true);\n    \n        t1=new JTextField();\n        t1.setBounds(50, 80, 200, 20);\n        f.add(t1);\n   \n        TextAutoCompleter complete = new TextAutoCompleter(t1);\n        DBConn conn = new DBConn();\n        conn.connection();\n        conn.retrieve();\n\n        while(conn.rs.next()) {\n            complete.addItem(conn.rs.getString(&quot;number&quot;));\n        }\n    }\n\n    public static void main(String[] args) throws ClassNotFoundException, SQLException {           \n        new AutoComplete();\n    }\n}\n</code></pre>\n<p>Create separate class for database connection and write the following code:</p>\n<pre><code>package autocomplete;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class DBConn {\n\n    Connection con; \n    ResultSet rs;\n    PreparedStatement stat;\n\n    public void connection() throws ClassNotFoundException, SQLException{\n        String url = &quot;jdbc:mysql://localhost:3306/&quot;;\n        String driver = &quot;com.mysql.jdbc.Driver&quot;;   \n        String db = &quot;demo&quot;;\n        String username = &quot;root&quot;;\n        String password = &quot;root&quot;;\n        stat = null; \n    \n        Class.forName(driver);\n        con = (Connection) DriverManager.getConnection(url + db, username, password);              \n        System.out.println(&quot;Connection Successful&quot;);\n    }  \n\n    public void retrieve() throws SQLException{\n        Statement stmt = con.createStatement();\n        String query = &quot;select number from phone&quot;;\n        rs = stmt.executeQuery(query);\n             \n        System.out.println(&quot;retrieve succesfully&quot;);\n    }            \n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3433347"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485640394,"creation_date":1485640394,"answer_id":41915256,"question_id":14186955,"body_markdown":"I wanted auto-completion for the editor in my AVR assembler IDE so [I wrote an implementation][1] that works just like the auto-completion in Eclipse (CTRL-SPACE activation, drop-down list with scrollbars, cursor keys + mouse navigation). It has no external dependencies and is just a single class. It should work for all JTextComponent subclasses ; you can find a usage example in the src/test folder.\r\n\r\n  [1]: https://github.com/toby1984/swing-autocomplete","title":"Create a autocompleting textbox in Java with a dropdown list","body":"<p>I wanted auto-completion for the editor in my AVR assembler IDE so <a href=\"https://github.com/toby1984/swing-autocomplete\" rel=\"nofollow noreferrer\">I wrote an implementation</a> that works just like the auto-completion in Eclipse (CTRL-SPACE activation, drop-down list with scrollbars, cursor keys + mouse navigation). It has no external dependencies and is just a single class. It should work for all JTextComponent subclasses ; you can find a usage example in the src/test folder.</p>\n"},{"tags":[],"owner":{"account_id":3082804,"reputation":311,"user_id":2610673,"accept_rate":100,"display_name":"Mohammad Reza Rezwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486712718,"creation_date":1486712718,"answer_id":42154049,"question_id":14186955,"body_markdown":"add this lines to private void addKeyBindingToRequestFocusInPopUpWindow() of first answer inorder to implement UP key. He answer is perfect. \r\n\r\n    //here I have to do my code for up key\r\n        //---------------------------------------------------------------------\r\n        //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\r\n        //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\r\n        textField.getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, true), &quot;Up released&quot;);\r\n        textField.getActionMap().put(&quot;Up released&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent ae) {//focuses the first label on popwindow\r\n                for (int i = suggestionsPanel.getComponentCount()-1; i &gt;=0; i--) {\r\n                    if (suggestionsPanel.getComponent(i) instanceof SuggestionLabel) {\r\n                        ((SuggestionLabel) suggestionsPanel.getComponent(i)).setFocused(true);\r\n                        autoSuggestionPopUpWindow.toFront();\r\n                        autoSuggestionPopUpWindow.requestFocusInWindow();\r\n                        suggestionsPanel.requestFocusInWindow();\r\n                        suggestionsPanel.getComponent(i).requestFocusInWindow();\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n                 \r\n        suggestionsPanel.getInputMap(JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT).put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, true), &quot;Up released&quot;);\r\n        suggestionsPanel.getActionMap().put(&quot;Up released&quot;, new AbstractAction() {\r\n            //######int lastFocusableIndex = 0;\r\n            int lastFocusableIndex = 0;\r\n            //lastFocusableIndex=lastFocusableIndex___;\r\n            @Override\r\n            public void actionPerformed(ActionEvent ae) {//allows scrolling of labels in pop window (I know very hacky for now :))\r\n\r\n                ArrayList&lt;SuggestionLabel&gt; sls = getAddedSuggestionLabels();\r\n                int max = sls.size();\r\n                lastFocusableIndex=lastFocusableIndex___;\r\n                \r\n                System.out.println(&quot;UP UP UP UP&quot;);//***// \r\n                System.out.println(&quot;max = &quot;+String.valueOf(max));//***// \r\n                System.out.println(&quot;lastFocusableIndex = &quot;+String.valueOf(lastFocusableIndex));//***// \r\n                System.out.println(&quot;UP UP UP UP&quot;);//***// \r\n                \r\n                if (max &gt; 1) {//more than 1 suggestion\r\n                    for (int i = max-1; i &gt;=0; i--) {\r\n                        SuggestionLabel sl = sls.get(i);\r\n                        if (sl.isFocused()) {\r\n                            if (lastFocusableIndex == 0) {\r\n                                lastFocusableIndex = max - 1;\r\n                                lastFocusableIndex___=lastFocusableIndex;\r\n                                sl.setFocused(false);\r\n                                autoSuggestionPopUpWindow.setVisible(false);\r\n                                setFocusToTextField();\r\n                                checkForAndShowSuggestions();//fire method as if document listener change occured and fired it\r\n\r\n                            } else {\r\n                                sl.setFocused(false);\r\n                                lastFocusableIndex = i;\r\n                                lastFocusableIndex___=lastFocusableIndex;\r\n                            }\r\n                        } else if (lastFocusableIndex &gt; i) {\r\n                            if (i &lt; max ) {\r\n                                sl.setFocused(true);\r\n                                autoSuggestionPopUpWindow.toFront();\r\n                                autoSuggestionPopUpWindow.requestFocusInWindow();\r\n                                suggestionsPanel.requestFocusInWindow();\r\n                                suggestionsPanel.getComponent(i).requestFocusInWindow();\r\n                                lastFocusableIndex = i;\r\n                                lastFocusableIndex___=lastFocusableIndex;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                } else {//only a single suggestion was given\r\n                    autoSuggestionPopUpWindow.setVisible(false);\r\n                    setFocusToTextField();\r\n                    checkForAndShowSuggestions();//fire method as if document listener change occured and fired it\r\n                }\r\n            }\r\n        });","title":"Create a autocompleting textbox in Java with a dropdown list","body":"<p>add this lines to private void addKeyBindingToRequestFocusInPopUpWindow() of first answer inorder to implement UP key. He answer is perfect. </p>\n\n<pre><code>//here I have to do my code for up key\n    //---------------------------------------------------------------------\n    //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\n    //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\n    textField.getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, true), \"Up released\");\n    textField.getActionMap().put(\"Up released\", new AbstractAction() {\n        @Override\n        public void actionPerformed(ActionEvent ae) {//focuses the first label on popwindow\n            for (int i = suggestionsPanel.getComponentCount()-1; i &gt;=0; i--) {\n                if (suggestionsPanel.getComponent(i) instanceof SuggestionLabel) {\n                    ((SuggestionLabel) suggestionsPanel.getComponent(i)).setFocused(true);\n                    autoSuggestionPopUpWindow.toFront();\n                    autoSuggestionPopUpWindow.requestFocusInWindow();\n                    suggestionsPanel.requestFocusInWindow();\n                    suggestionsPanel.getComponent(i).requestFocusInWindow();\n                    break;\n                }\n            }\n        }\n    });\n\n    suggestionsPanel.getInputMap(JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT).put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, true), \"Up released\");\n    suggestionsPanel.getActionMap().put(\"Up released\", new AbstractAction() {\n        //######int lastFocusableIndex = 0;\n        int lastFocusableIndex = 0;\n        //lastFocusableIndex=lastFocusableIndex___;\n        @Override\n        public void actionPerformed(ActionEvent ae) {//allows scrolling of labels in pop window (I know very hacky for now :))\n\n            ArrayList&lt;SuggestionLabel&gt; sls = getAddedSuggestionLabels();\n            int max = sls.size();\n            lastFocusableIndex=lastFocusableIndex___;\n\n            System.out.println(\"UP UP UP UP\");//***// \n            System.out.println(\"max = \"+String.valueOf(max));//***// \n            System.out.println(\"lastFocusableIndex = \"+String.valueOf(lastFocusableIndex));//***// \n            System.out.println(\"UP UP UP UP\");//***// \n\n            if (max &gt; 1) {//more than 1 suggestion\n                for (int i = max-1; i &gt;=0; i--) {\n                    SuggestionLabel sl = sls.get(i);\n                    if (sl.isFocused()) {\n                        if (lastFocusableIndex == 0) {\n                            lastFocusableIndex = max - 1;\n                            lastFocusableIndex___=lastFocusableIndex;\n                            sl.setFocused(false);\n                            autoSuggestionPopUpWindow.setVisible(false);\n                            setFocusToTextField();\n                            checkForAndShowSuggestions();//fire method as if document listener change occured and fired it\n\n                        } else {\n                            sl.setFocused(false);\n                            lastFocusableIndex = i;\n                            lastFocusableIndex___=lastFocusableIndex;\n                        }\n                    } else if (lastFocusableIndex &gt; i) {\n                        if (i &lt; max ) {\n                            sl.setFocused(true);\n                            autoSuggestionPopUpWindow.toFront();\n                            autoSuggestionPopUpWindow.requestFocusInWindow();\n                            suggestionsPanel.requestFocusInWindow();\n                            suggestionsPanel.getComponent(i).requestFocusInWindow();\n                            lastFocusableIndex = i;\n                            lastFocusableIndex___=lastFocusableIndex;\n                            break;\n                        }\n                    }\n                }\n            } else {//only a single suggestion was given\n                autoSuggestionPopUpWindow.setVisible(false);\n                setFocusToTextField();\n                checkForAndShowSuggestions();//fire method as if document listener change occured and fired it\n            }\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":318404,"reputation":347,"user_id":635617,"display_name":"William Jarvis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503135610,"creation_date":1503135610,"answer_id":45770005,"question_id":14186955,"body_markdown":"A working approch that I used on a project was to put a JTextField on top of a JComboBox and make the underlying combo box open as you type into the JTextField using a document listener. You probably want a custom combobox model to allow changing the items more efficently as the default model I think only allows items being added one at a time which can be a performance hit. to open the combo box I think there is a method to show it if you get its UI. I ran into a couple of bugs with scrolling when I tried changing the items while it was open so you might need to close it, change the items and reshow. For keyboard stuff you can catch the keyboard key presses in the JTextField and call through to JComboBox appropriately.","title":"Create a autocompleting textbox in Java with a dropdown list","body":"<p>A working approch that I used on a project was to put a JTextField on top of a JComboBox and make the underlying combo box open as you type into the JTextField using a document listener. You probably want a custom combobox model to allow changing the items more efficently as the default model I think only allows items being added one at a time which can be a performance hit. to open the combo box I think there is a method to show it if you get its UI. I ran into a couple of bugs with scrolling when I tried changing the items while it was open so you might need to close it, change the items and reshow. For keyboard stuff you can catch the keyboard key presses in the JTextField and call through to JComboBox appropriately.</p>\n"},{"tags":[],"owner":{"account_id":6103037,"reputation":123,"user_id":4761457,"display_name":"Alexios"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551096800,"creation_date":1551096800,"answer_id":54865983,"question_id":14186955,"body_markdown":"Built on top of [David][1]&#39;s [solution][2]:\r\n\r\nI added functionality for the &lt;kbd&gt;UP&lt;/kbd&gt; key, as well added functionality for the &lt;kbd&gt;ESC&lt;/kbd&gt; key in order to hide the popup window.\r\nIn addition to that, you can specify a callback function when constructing a `AutoSuggestor` object, which will be called when a suggestion from the list is selected.\r\n\r\n    import javax.swing.border.LineBorder\r\n    import java.util.ArrayList\r\n    import javax.swing.event.DocumentListener\r\n    \r\n    import java.awt.*\r\n    import java.awt.event.*\r\n    import javax.swing.*\r\n    import javax.swing.event.DocumentEvent\r\n    \r\n    /**\r\n     * Author of the original version: David @ https://stackoverflow.com/users/1133011/david-kroukamp\r\n     */\r\n    class Test {\r\n        init {\r\n    \r\n            val frame = JFrame()\r\n            frame.defaultCloseOperation = JFrame.EXIT_ON_CLOSE\r\n    \r\n    \r\n            val f = JTextField(10)\r\n    \r\n            val autoSuggestor = object : AutoSuggestor(f, frame, ArrayList(), Color.WHITE.brighter(), Color.BLUE, Color.RED, 0.75f) {\r\n                override fun wordTyped(typedWord: String?): Boolean {\r\n    \r\n                    //create list for dictionary this in your case might be done via calling a method which queries db and returns results as arraylist\r\n                    val words = ArrayList&lt;String&gt;()\r\n                    words.add(&quot;hello&quot;)\r\n                    words.add(&quot;heritage&quot;)\r\n                    words.add(&quot;happiness&quot;)\r\n                    words.add(&quot;goodbye&quot;)\r\n                    words.add(&quot;cruel&quot;)\r\n                    words.add(&quot;car&quot;)\r\n                    words.add(&quot;war&quot;)\r\n                    words.add(&quot;will&quot;)\r\n                    words.add(&quot;world&quot;)\r\n                    words.add(&quot;wall&quot;)\r\n    \r\n    \r\n                    setDictionary(words)\r\n                    //addToDictionary(&quot;bye&quot;);//adds a single word\r\n    \r\n                    return super.wordTyped(typedWord)//now call super to check for any matches against newest dictionary\r\n                }\r\n            }\r\n    \r\n            val p = JPanel()\r\n    \r\n            p.add(f)\r\n    \r\n            frame.add(p)\r\n    \r\n            frame.pack()\r\n            frame.isVisible = true\r\n        }\r\n    \r\n        companion object {\r\n    \r\n            @JvmStatic\r\n            fun main(args: Array&lt;String&gt;) {\r\n                SwingUtilities.invokeLater { Test() }\r\n            }\r\n        }\r\n    }\r\n    \r\n    internal open class AutoSuggestor(val textField: JTextField, val container: Window, words: ArrayList&lt;String&gt;, popUpBackground: Color, private val suggestionsTextColor: Color, private val suggestionFocusedColor: Color, opacity: Float, private val callback: (String) -&gt; Unit = {}) {\r\n        private val suggestionsPanel: JPanel\r\n        val autoSuggestionPopUpWindow: JWindow\r\n        private var typedWord: String? = null\r\n        private val dictionary = ArrayList&lt;String&gt;()\r\n        private var currentIndexOfSpace: Int = 0\r\n        private var tW: Int = 0\r\n        private var tH: Int = 0\r\n        private val documentListener = object : DocumentListener {\r\n            override fun insertUpdate(de: DocumentEvent) {\r\n                checkForAndShowSuggestions()\r\n            }\r\n    \r\n            override fun removeUpdate(de: DocumentEvent) {\r\n                checkForAndShowSuggestions()\r\n            }\r\n    \r\n            override fun changedUpdate(de: DocumentEvent) {\r\n                checkForAndShowSuggestions()\r\n            }\r\n        }\r\n    \r\n        val addedSuggestionLabels: ArrayList&lt;SuggestionLabel&gt;\r\n            get() {\r\n                val sls = ArrayList&lt;SuggestionLabel&gt;()\r\n                for (i in 0 until suggestionsPanel.componentCount) {\r\n                    if (suggestionsPanel.getComponent(i) is SuggestionLabel) {\r\n                        val sl = suggestionsPanel.getComponent(i) as SuggestionLabel\r\n                        sls.add(sl)\r\n                    }\r\n                }\r\n                return sls\r\n            }\r\n    \r\n        //get newest word after last white space if any or the first word if no white spaces\r\n        val currentlyTypedWord: String\r\n            get() {\r\n                val text = textField.text\r\n                var wordBeingTyped = &quot;&quot;\r\n                if (text.contains(&quot; &quot;)) {\r\n                    val tmp = text.lastIndexOf(&quot; &quot;)\r\n                    if (tmp &gt;= currentIndexOfSpace) {\r\n                        currentIndexOfSpace = tmp\r\n                        wordBeingTyped = text.substring(text.lastIndexOf(&quot; &quot;))\r\n                    }\r\n                } else {\r\n                    wordBeingTyped = text\r\n                }\r\n                return wordBeingTyped.trim { it &lt;= &#39; &#39; }\r\n            }\r\n    \r\n        init {\r\n            this.textField.document.addDocumentListener(documentListener)\r\n    \r\n            setDictionary(words)\r\n    \r\n            typedWord = &quot;&quot;\r\n            currentIndexOfSpace = 0\r\n            tW = 0\r\n            tH = 0\r\n    \r\n            autoSuggestionPopUpWindow = JWindow(container)\r\n            autoSuggestionPopUpWindow.opacity = opacity\r\n    \r\n            suggestionsPanel = JPanel()\r\n            suggestionsPanel.layout = GridLayout(0, 1)\r\n            suggestionsPanel.background = popUpBackground\r\n    \r\n            addFocusListenersToHandleVisibilityOfPopUpWindow()\r\n            addKeyBindingToRequestFocusInPopUpWindow()\r\n        }\r\n    \r\n        private fun addFocusListenersToHandleVisibilityOfPopUpWindow() {\r\n            textField.addFocusListener(object:FocusListener {\r\n                override fun focusLost(e: FocusEvent?) {\r\n                    var focusOnPopUp = false\r\n                    for (i in 0 until suggestionsPanel.componentCount) {\r\n                        if (suggestionsPanel.getComponent(i) is SuggestionLabel) {\r\n                            val label = suggestionsPanel.getComponent(i) as SuggestionLabel\r\n                            if (label.isFocused)\r\n                                focusOnPopUp = true\r\n                        }\r\n                    }\r\n    \r\n                    if (!focusOnPopUp &amp;&amp; !shouldShowPopUpWindow) {\r\n                        autoSuggestionPopUpWindow.isVisible = false\r\n                    }\r\n                }\r\n                override fun focusGained(e: FocusEvent?) {\r\n                    shouldShowPopUpWindow = false\r\n                }\r\n            })\r\n        }\r\n    \r\n        private fun addKeyBindingToRequestFocusInPopUpWindow() {\r\n            textField.getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE, 0, true), &quot;Escape released&quot;)\r\n            textField.actionMap.put(&quot;Escape released&quot;, object : AbstractAction() {\r\n                override fun actionPerformed(ae: ActionEvent) {// Hide the popwindow\r\n                    shouldShowPopUpWindow = false\r\n                    autoSuggestionPopUpWindow.isVisible = false\r\n                }\r\n            })\r\n    \r\n    \r\n            textField.getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, true), &quot;Down released&quot;)\r\n            textField.actionMap.put(&quot;Down released&quot;, object : AbstractAction() {\r\n                override fun actionPerformed(ae: ActionEvent) {//focuses the first label on popwindow\r\n                    for (i in 0 until suggestionsPanel.componentCount) {\r\n                        if (suggestionsPanel.getComponent(i) is SuggestionLabel) {\r\n                            (suggestionsPanel.getComponent(i) as SuggestionLabel).isFocused = true\r\n                            autoSuggestionPopUpWindow.toFront()\r\n                            autoSuggestionPopUpWindow.requestFocusInWindow()\r\n                            suggestionsPanel.requestFocusInWindow()\r\n                            suggestionsPanel.getComponent(i).requestFocusInWindow()\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n    \r\n            textField.getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, true), &quot;Up released&quot;)\r\n            textField.actionMap.put(&quot;Up released&quot;, object : AbstractAction() {\r\n                override fun actionPerformed(ae: ActionEvent) {//focuses the last label on popwindow\r\n                    for (i in 0 until suggestionsPanel.componentCount) {\r\n                        val reverseIndex = suggestionsPanel.componentCount-1 - i\r\n                        if (suggestionsPanel.getComponent(reverseIndex) is SuggestionLabel) {\r\n                            (suggestionsPanel.getComponent(reverseIndex) as SuggestionLabel).isFocused = true\r\n                            autoSuggestionPopUpWindow.toFront()\r\n                            autoSuggestionPopUpWindow.requestFocusInWindow()\r\n                            suggestionsPanel.requestFocusInWindow()\r\n                            suggestionsPanel.getComponent(reverseIndex).requestFocusInWindow()\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n    \r\n            suggestionsPanel.getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE, 0, true), &quot;Escape released&quot;)\r\n            suggestionsPanel.actionMap.put(&quot;Escape released&quot;, object : AbstractAction() {\r\n                override fun actionPerformed(ae: ActionEvent) {// Hide the popwindow\r\n                    shouldShowPopUpWindow = false\r\n                    autoSuggestionPopUpWindow.isVisible = false\r\n                }\r\n            })\r\n            suggestionsPanel.getInputMap(JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT).put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, true), &quot;Up released&quot;)\r\n            suggestionsPanel.actionMap.put(&quot;Up released&quot;, object : AbstractAction() {\r\n                override fun actionPerformed(ae: ActionEvent) {//allows scrolling of labels in pop window (I know very hacky for now :))\r\n    \r\n                    val sls = addedSuggestionLabels\r\n                    val max = sls.size\r\n    \r\n                    var indexOfFocusedSuggestion = -1\r\n                    for (i in 0 until max) {\r\n                        val sl = sls[i]\r\n                        if ( sl.isFocused )\r\n                            indexOfFocusedSuggestion = i\r\n                    }\r\n    \r\n                    if (indexOfFocusedSuggestion - 1 &lt; 0) {\r\n                        sls[indexOfFocusedSuggestion].isFocused = false\r\n                        autoSuggestionPopUpWindow.isVisible = false\r\n                        setFocusToTextField()\r\n                        checkForAndShowSuggestions()//fire method as if document listener change occured and fired it\r\n                    }\r\n                    else {\r\n                        sls[indexOfFocusedSuggestion].isFocused = false\r\n                        sls[indexOfFocusedSuggestion-1].isFocused = true\r\n                        autoSuggestionPopUpWindow.toFront()\r\n                        autoSuggestionPopUpWindow.requestFocusInWindow()\r\n                        suggestionsPanel.requestFocusInWindow()\r\n                        suggestionsPanel.getComponent(indexOfFocusedSuggestion-1).requestFocusInWindow()\r\n                    }\r\n    \r\n                }\r\n            })\r\n            suggestionsPanel.getInputMap(JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT).put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, true), &quot;Down released&quot;)\r\n            suggestionsPanel.actionMap.put(&quot;Down released&quot;, object : AbstractAction() {\r\n                override fun actionPerformed(ae: ActionEvent) {//allows scrolling of labels in pop window (I know very hacky for now :))\r\n    \r\n                    val sls = addedSuggestionLabels\r\n                    val max = sls.size\r\n    \r\n                    var indexOfFocusedSuggestion = -1\r\n                    for (i in 0 until max) {\r\n                        val sl = sls[i]\r\n                        if ( sl.isFocused )\r\n                            indexOfFocusedSuggestion = i\r\n                    }\r\n    \r\n                    if (indexOfFocusedSuggestion + 1 &gt;= max) {\r\n                        sls[indexOfFocusedSuggestion].isFocused = false\r\n                        autoSuggestionPopUpWindow.isVisible = false\r\n                        setFocusToTextField()\r\n                        checkForAndShowSuggestions()//fire method as if document listener change occured and fired it\r\n                    }\r\n                    else {\r\n                        sls[indexOfFocusedSuggestion].isFocused = false\r\n                        sls[indexOfFocusedSuggestion+1].isFocused = true\r\n                        autoSuggestionPopUpWindow.toFront()\r\n                        autoSuggestionPopUpWindow.requestFocusInWindow()\r\n                        suggestionsPanel.requestFocusInWindow()\r\n                        suggestionsPanel.getComponent(indexOfFocusedSuggestion+1).requestFocusInWindow()\r\n                    }\r\n                }\r\n    \r\n            })\r\n        }\r\n    \r\n        private fun setFocusToTextField() {\r\n            container.toFront()\r\n            container.requestFocusInWindow()\r\n            textField.requestFocusInWindow()\r\n        }\r\n    \r\n        var shouldShowPopUpWindow = false\r\n    \r\n        private fun checkForAndShowSuggestions() {\r\n            typedWord = currentlyTypedWord\r\n    \r\n            suggestionsPanel.removeAll()//remove previos words/jlabels that were added\r\n    \r\n            //used to calcualte size of JWindow as new Jlabels are added\r\n            tW = 0\r\n            tH = 0\r\n    \r\n            val added = wordTyped(typedWord)\r\n    \r\n            if (!added) {\r\n                if (autoSuggestionPopUpWindow.isVisible) {\r\n                    autoSuggestionPopUpWindow.isVisible = false\r\n                }\r\n            } else {\r\n                shouldShowPopUpWindow = true\r\n                showPopUpWindow()\r\n                setFocusToTextField()\r\n            }\r\n        }\r\n    \r\n        protected fun addWordToSuggestions(word: String) {\r\n            val suggestionLabel = SuggestionLabel(word, suggestionFocusedColor, suggestionsTextColor, this, callback)\r\n    \r\n            calculatePopUpWindowSize(suggestionLabel)\r\n    \r\n            suggestionsPanel.add(suggestionLabel)\r\n        }\r\n    \r\n        private fun calculatePopUpWindowSize(label: JLabel) {\r\n            //so we can size the JWindow correctly\r\n            if (tW &lt; label.preferredSize.width) {\r\n                tW = label.preferredSize.width\r\n            }\r\n            tH += label.preferredSize.height\r\n        }\r\n    \r\n        private fun showPopUpWindow() {\r\n            autoSuggestionPopUpWindow.contentPane.add(suggestionsPanel)\r\n            autoSuggestionPopUpWindow.minimumSize = Dimension(textField.width, 30)\r\n            autoSuggestionPopUpWindow.setSize(tW, tH)\r\n            autoSuggestionPopUpWindow.isVisible = true\r\n    \r\n            var windowX = 0\r\n            var windowY = 0\r\n    \r\n            windowX = container.getX() + textField.x + 5\r\n            if (suggestionsPanel.height &gt; autoSuggestionPopUpWindow.minimumSize.height) {\r\n                windowY = container.getY() + textField.y + textField.height + autoSuggestionPopUpWindow.minimumSize.height\r\n            } else {\r\n                windowY = container.getY() + textField.y + textField.height + autoSuggestionPopUpWindow.height\r\n            }\r\n    \r\n            autoSuggestionPopUpWindow.setLocation(windowX, windowY)\r\n            autoSuggestionPopUpWindow.minimumSize = Dimension(textField.width, 30)\r\n            autoSuggestionPopUpWindow.revalidate()\r\n            autoSuggestionPopUpWindow.repaint()\r\n    \r\n        }\r\n    \r\n        fun setDictionary(words: ArrayList&lt;String&gt;?) {\r\n            dictionary.clear()\r\n            if (words == null) {\r\n                return //so we can call constructor with null value for dictionary without exception thrown\r\n            }\r\n            for (word in words) {\r\n                dictionary.add(word)\r\n            }\r\n        }\r\n    \r\n        fun addToDictionary(word: String) {\r\n            dictionary.add(word)\r\n        }\r\n    \r\n        open fun wordTyped(typedWord: String?): Boolean {\r\n    \r\n            if (typedWord!!.isEmpty()) {\r\n                return false\r\n            }\r\n    \r\n            var suggestionAdded = false\r\n    \r\n            for (word in dictionary) {//get words in the dictionary which we added\r\n                var fullyMatches = word.length &gt;= typedWord.length\r\n                for (i in 0 until typedWord.length) {//each string in the word\r\n                    if (word.length &gt; i &amp;&amp; !typedWord.toLowerCase().startsWith(word.toLowerCase()[i].toString(), i)) {//check for match\r\n                        fullyMatches = false\r\n                        break\r\n                    }\r\n                }\r\n                if (fullyMatches) {\r\n                    addWordToSuggestions(word)\r\n                    suggestionAdded = true\r\n                }\r\n            }\r\n            return suggestionAdded\r\n        }\r\n    }\r\n    \r\n    internal class SuggestionLabel(string: String, private val suggestionBorderColor: Color, private val suggestionsTextColor: Color, private val autoSuggestor: AutoSuggestor, private val callback: (String) -&gt; Unit) : JLabel(string) {\r\n    \r\n        var isFocused = false\r\n            set(focused) {\r\n                if (focused) {\r\n                    border = LineBorder(suggestionBorderColor)\r\n                } else {\r\n                    border = null\r\n                }\r\n                repaint()\r\n                field = focused\r\n            }\r\n        private val autoSuggestionsPopUpWindow: JWindow\r\n        private val textField: JTextField\r\n    \r\n        init {\r\n            this.textField = autoSuggestor.textField\r\n            this.autoSuggestionsPopUpWindow = autoSuggestor.autoSuggestionPopUpWindow\r\n    \r\n            initComponent()\r\n        }\r\n    \r\n        private fun initComponent() {\r\n            isFocusable = true\r\n            foreground = suggestionsTextColor\r\n    \r\n            addMouseListener(object : MouseAdapter() {\r\n                override fun mouseClicked(me: MouseEvent) {\r\n                    super.mouseClicked(me)\r\n    \r\n                    replaceWithSuggestedText()\r\n    \r\n                    autoSuggestionsPopUpWindow.isVisible = false\r\n                }\r\n            })\r\n    \r\n            getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0, true), &quot;Enter released&quot;)\r\n            actionMap.put(&quot;Enter released&quot;, object : AbstractAction() {\r\n                override fun actionPerformed(ae: ActionEvent) {\r\n                    replaceWithSuggestedText()\r\n                    autoSuggestionsPopUpWindow.isVisible = false\r\n                }\r\n            })\r\n    \r\n            getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE, 0, true), &quot;Escape released&quot;)\r\n            actionMap.put(&quot;Escape released&quot;, object : AbstractAction() {\r\n                override fun actionPerformed(ae: ActionEvent) {// Hide the popwindow\r\n                    autoSuggestionsPopUpWindow.isVisible = false\r\n                }\r\n            })\r\n        }\r\n    \r\n        private fun replaceWithSuggestedText() {\r\n    \r\n            val suggestedWord = text\r\n            val text = textField.text\r\n            val typedWord = autoSuggestor.currentlyTypedWord\r\n            val t = text.substring(0, text.lastIndexOf(typedWord))\r\n            val tmp = t + text.substring(text.lastIndexOf(typedWord)).replace(typedWord, suggestedWord)\r\n            textField.text = tmp\r\n            callback(tmp)\r\n        }\r\n    }\r\n\r\nNote: The above is written in Kotlin, but if you really want Java code, you can easily [convert it back to Java][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1133011/david-kroukamp\r\n  [2]: https://stackoverflow.com/a/14194104/4761457\r\n  [3]: https://stackoverflow.com/questions/34957430/how-to-convert-a-kotlin-source-file-to-a-java-source-file","title":"Create a autocompleting textbox in Java with a dropdown list","body":"<p>Built on top of <a href=\"https://stackoverflow.com/users/1133011/david-kroukamp\">David</a>'s <a href=\"https://stackoverflow.com/a/14194104/4761457\">solution</a>:</p>\n\n<p>I added functionality for the <kbd>UP</kbd> key, as well added functionality for the <kbd>ESC</kbd> key in order to hide the popup window.\nIn addition to that, you can specify a callback function when constructing a <code>AutoSuggestor</code> object, which will be called when a suggestion from the list is selected.</p>\n\n<pre><code>import javax.swing.border.LineBorder\nimport java.util.ArrayList\nimport javax.swing.event.DocumentListener\n\nimport java.awt.*\nimport java.awt.event.*\nimport javax.swing.*\nimport javax.swing.event.DocumentEvent\n\n/**\n * Author of the original version: David @ https://stackoverflow.com/users/1133011/david-kroukamp\n */\nclass Test {\n    init {\n\n        val frame = JFrame()\n        frame.defaultCloseOperation = JFrame.EXIT_ON_CLOSE\n\n\n        val f = JTextField(10)\n\n        val autoSuggestor = object : AutoSuggestor(f, frame, ArrayList(), Color.WHITE.brighter(), Color.BLUE, Color.RED, 0.75f) {\n            override fun wordTyped(typedWord: String?): Boolean {\n\n                //create list for dictionary this in your case might be done via calling a method which queries db and returns results as arraylist\n                val words = ArrayList&lt;String&gt;()\n                words.add(\"hello\")\n                words.add(\"heritage\")\n                words.add(\"happiness\")\n                words.add(\"goodbye\")\n                words.add(\"cruel\")\n                words.add(\"car\")\n                words.add(\"war\")\n                words.add(\"will\")\n                words.add(\"world\")\n                words.add(\"wall\")\n\n\n                setDictionary(words)\n                //addToDictionary(\"bye\");//adds a single word\n\n                return super.wordTyped(typedWord)//now call super to check for any matches against newest dictionary\n            }\n        }\n\n        val p = JPanel()\n\n        p.add(f)\n\n        frame.add(p)\n\n        frame.pack()\n        frame.isVisible = true\n    }\n\n    companion object {\n\n        @JvmStatic\n        fun main(args: Array&lt;String&gt;) {\n            SwingUtilities.invokeLater { Test() }\n        }\n    }\n}\n\ninternal open class AutoSuggestor(val textField: JTextField, val container: Window, words: ArrayList&lt;String&gt;, popUpBackground: Color, private val suggestionsTextColor: Color, private val suggestionFocusedColor: Color, opacity: Float, private val callback: (String) -&gt; Unit = {}) {\n    private val suggestionsPanel: JPanel\n    val autoSuggestionPopUpWindow: JWindow\n    private var typedWord: String? = null\n    private val dictionary = ArrayList&lt;String&gt;()\n    private var currentIndexOfSpace: Int = 0\n    private var tW: Int = 0\n    private var tH: Int = 0\n    private val documentListener = object : DocumentListener {\n        override fun insertUpdate(de: DocumentEvent) {\n            checkForAndShowSuggestions()\n        }\n\n        override fun removeUpdate(de: DocumentEvent) {\n            checkForAndShowSuggestions()\n        }\n\n        override fun changedUpdate(de: DocumentEvent) {\n            checkForAndShowSuggestions()\n        }\n    }\n\n    val addedSuggestionLabels: ArrayList&lt;SuggestionLabel&gt;\n        get() {\n            val sls = ArrayList&lt;SuggestionLabel&gt;()\n            for (i in 0 until suggestionsPanel.componentCount) {\n                if (suggestionsPanel.getComponent(i) is SuggestionLabel) {\n                    val sl = suggestionsPanel.getComponent(i) as SuggestionLabel\n                    sls.add(sl)\n                }\n            }\n            return sls\n        }\n\n    //get newest word after last white space if any or the first word if no white spaces\n    val currentlyTypedWord: String\n        get() {\n            val text = textField.text\n            var wordBeingTyped = \"\"\n            if (text.contains(\" \")) {\n                val tmp = text.lastIndexOf(\" \")\n                if (tmp &gt;= currentIndexOfSpace) {\n                    currentIndexOfSpace = tmp\n                    wordBeingTyped = text.substring(text.lastIndexOf(\" \"))\n                }\n            } else {\n                wordBeingTyped = text\n            }\n            return wordBeingTyped.trim { it &lt;= ' ' }\n        }\n\n    init {\n        this.textField.document.addDocumentListener(documentListener)\n\n        setDictionary(words)\n\n        typedWord = \"\"\n        currentIndexOfSpace = 0\n        tW = 0\n        tH = 0\n\n        autoSuggestionPopUpWindow = JWindow(container)\n        autoSuggestionPopUpWindow.opacity = opacity\n\n        suggestionsPanel = JPanel()\n        suggestionsPanel.layout = GridLayout(0, 1)\n        suggestionsPanel.background = popUpBackground\n\n        addFocusListenersToHandleVisibilityOfPopUpWindow()\n        addKeyBindingToRequestFocusInPopUpWindow()\n    }\n\n    private fun addFocusListenersToHandleVisibilityOfPopUpWindow() {\n        textField.addFocusListener(object:FocusListener {\n            override fun focusLost(e: FocusEvent?) {\n                var focusOnPopUp = false\n                for (i in 0 until suggestionsPanel.componentCount) {\n                    if (suggestionsPanel.getComponent(i) is SuggestionLabel) {\n                        val label = suggestionsPanel.getComponent(i) as SuggestionLabel\n                        if (label.isFocused)\n                            focusOnPopUp = true\n                    }\n                }\n\n                if (!focusOnPopUp &amp;&amp; !shouldShowPopUpWindow) {\n                    autoSuggestionPopUpWindow.isVisible = false\n                }\n            }\n            override fun focusGained(e: FocusEvent?) {\n                shouldShowPopUpWindow = false\n            }\n        })\n    }\n\n    private fun addKeyBindingToRequestFocusInPopUpWindow() {\n        textField.getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE, 0, true), \"Escape released\")\n        textField.actionMap.put(\"Escape released\", object : AbstractAction() {\n            override fun actionPerformed(ae: ActionEvent) {// Hide the popwindow\n                shouldShowPopUpWindow = false\n                autoSuggestionPopUpWindow.isVisible = false\n            }\n        })\n\n\n        textField.getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, true), \"Down released\")\n        textField.actionMap.put(\"Down released\", object : AbstractAction() {\n            override fun actionPerformed(ae: ActionEvent) {//focuses the first label on popwindow\n                for (i in 0 until suggestionsPanel.componentCount) {\n                    if (suggestionsPanel.getComponent(i) is SuggestionLabel) {\n                        (suggestionsPanel.getComponent(i) as SuggestionLabel).isFocused = true\n                        autoSuggestionPopUpWindow.toFront()\n                        autoSuggestionPopUpWindow.requestFocusInWindow()\n                        suggestionsPanel.requestFocusInWindow()\n                        suggestionsPanel.getComponent(i).requestFocusInWindow()\n                        break\n                    }\n                }\n            }\n        })\n\n        textField.getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, true), \"Up released\")\n        textField.actionMap.put(\"Up released\", object : AbstractAction() {\n            override fun actionPerformed(ae: ActionEvent) {//focuses the last label on popwindow\n                for (i in 0 until suggestionsPanel.componentCount) {\n                    val reverseIndex = suggestionsPanel.componentCount-1 - i\n                    if (suggestionsPanel.getComponent(reverseIndex) is SuggestionLabel) {\n                        (suggestionsPanel.getComponent(reverseIndex) as SuggestionLabel).isFocused = true\n                        autoSuggestionPopUpWindow.toFront()\n                        autoSuggestionPopUpWindow.requestFocusInWindow()\n                        suggestionsPanel.requestFocusInWindow()\n                        suggestionsPanel.getComponent(reverseIndex).requestFocusInWindow()\n                        break\n                    }\n                }\n            }\n        })\n\n        suggestionsPanel.getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE, 0, true), \"Escape released\")\n        suggestionsPanel.actionMap.put(\"Escape released\", object : AbstractAction() {\n            override fun actionPerformed(ae: ActionEvent) {// Hide the popwindow\n                shouldShowPopUpWindow = false\n                autoSuggestionPopUpWindow.isVisible = false\n            }\n        })\n        suggestionsPanel.getInputMap(JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT).put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, true), \"Up released\")\n        suggestionsPanel.actionMap.put(\"Up released\", object : AbstractAction() {\n            override fun actionPerformed(ae: ActionEvent) {//allows scrolling of labels in pop window (I know very hacky for now :))\n\n                val sls = addedSuggestionLabels\n                val max = sls.size\n\n                var indexOfFocusedSuggestion = -1\n                for (i in 0 until max) {\n                    val sl = sls[i]\n                    if ( sl.isFocused )\n                        indexOfFocusedSuggestion = i\n                }\n\n                if (indexOfFocusedSuggestion - 1 &lt; 0) {\n                    sls[indexOfFocusedSuggestion].isFocused = false\n                    autoSuggestionPopUpWindow.isVisible = false\n                    setFocusToTextField()\n                    checkForAndShowSuggestions()//fire method as if document listener change occured and fired it\n                }\n                else {\n                    sls[indexOfFocusedSuggestion].isFocused = false\n                    sls[indexOfFocusedSuggestion-1].isFocused = true\n                    autoSuggestionPopUpWindow.toFront()\n                    autoSuggestionPopUpWindow.requestFocusInWindow()\n                    suggestionsPanel.requestFocusInWindow()\n                    suggestionsPanel.getComponent(indexOfFocusedSuggestion-1).requestFocusInWindow()\n                }\n\n            }\n        })\n        suggestionsPanel.getInputMap(JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT).put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, true), \"Down released\")\n        suggestionsPanel.actionMap.put(\"Down released\", object : AbstractAction() {\n            override fun actionPerformed(ae: ActionEvent) {//allows scrolling of labels in pop window (I know very hacky for now :))\n\n                val sls = addedSuggestionLabels\n                val max = sls.size\n\n                var indexOfFocusedSuggestion = -1\n                for (i in 0 until max) {\n                    val sl = sls[i]\n                    if ( sl.isFocused )\n                        indexOfFocusedSuggestion = i\n                }\n\n                if (indexOfFocusedSuggestion + 1 &gt;= max) {\n                    sls[indexOfFocusedSuggestion].isFocused = false\n                    autoSuggestionPopUpWindow.isVisible = false\n                    setFocusToTextField()\n                    checkForAndShowSuggestions()//fire method as if document listener change occured and fired it\n                }\n                else {\n                    sls[indexOfFocusedSuggestion].isFocused = false\n                    sls[indexOfFocusedSuggestion+1].isFocused = true\n                    autoSuggestionPopUpWindow.toFront()\n                    autoSuggestionPopUpWindow.requestFocusInWindow()\n                    suggestionsPanel.requestFocusInWindow()\n                    suggestionsPanel.getComponent(indexOfFocusedSuggestion+1).requestFocusInWindow()\n                }\n            }\n\n        })\n    }\n\n    private fun setFocusToTextField() {\n        container.toFront()\n        container.requestFocusInWindow()\n        textField.requestFocusInWindow()\n    }\n\n    var shouldShowPopUpWindow = false\n\n    private fun checkForAndShowSuggestions() {\n        typedWord = currentlyTypedWord\n\n        suggestionsPanel.removeAll()//remove previos words/jlabels that were added\n\n        //used to calcualte size of JWindow as new Jlabels are added\n        tW = 0\n        tH = 0\n\n        val added = wordTyped(typedWord)\n\n        if (!added) {\n            if (autoSuggestionPopUpWindow.isVisible) {\n                autoSuggestionPopUpWindow.isVisible = false\n            }\n        } else {\n            shouldShowPopUpWindow = true\n            showPopUpWindow()\n            setFocusToTextField()\n        }\n    }\n\n    protected fun addWordToSuggestions(word: String) {\n        val suggestionLabel = SuggestionLabel(word, suggestionFocusedColor, suggestionsTextColor, this, callback)\n\n        calculatePopUpWindowSize(suggestionLabel)\n\n        suggestionsPanel.add(suggestionLabel)\n    }\n\n    private fun calculatePopUpWindowSize(label: JLabel) {\n        //so we can size the JWindow correctly\n        if (tW &lt; label.preferredSize.width) {\n            tW = label.preferredSize.width\n        }\n        tH += label.preferredSize.height\n    }\n\n    private fun showPopUpWindow() {\n        autoSuggestionPopUpWindow.contentPane.add(suggestionsPanel)\n        autoSuggestionPopUpWindow.minimumSize = Dimension(textField.width, 30)\n        autoSuggestionPopUpWindow.setSize(tW, tH)\n        autoSuggestionPopUpWindow.isVisible = true\n\n        var windowX = 0\n        var windowY = 0\n\n        windowX = container.getX() + textField.x + 5\n        if (suggestionsPanel.height &gt; autoSuggestionPopUpWindow.minimumSize.height) {\n            windowY = container.getY() + textField.y + textField.height + autoSuggestionPopUpWindow.minimumSize.height\n        } else {\n            windowY = container.getY() + textField.y + textField.height + autoSuggestionPopUpWindow.height\n        }\n\n        autoSuggestionPopUpWindow.setLocation(windowX, windowY)\n        autoSuggestionPopUpWindow.minimumSize = Dimension(textField.width, 30)\n        autoSuggestionPopUpWindow.revalidate()\n        autoSuggestionPopUpWindow.repaint()\n\n    }\n\n    fun setDictionary(words: ArrayList&lt;String&gt;?) {\n        dictionary.clear()\n        if (words == null) {\n            return //so we can call constructor with null value for dictionary without exception thrown\n        }\n        for (word in words) {\n            dictionary.add(word)\n        }\n    }\n\n    fun addToDictionary(word: String) {\n        dictionary.add(word)\n    }\n\n    open fun wordTyped(typedWord: String?): Boolean {\n\n        if (typedWord!!.isEmpty()) {\n            return false\n        }\n\n        var suggestionAdded = false\n\n        for (word in dictionary) {//get words in the dictionary which we added\n            var fullyMatches = word.length &gt;= typedWord.length\n            for (i in 0 until typedWord.length) {//each string in the word\n                if (word.length &gt; i &amp;&amp; !typedWord.toLowerCase().startsWith(word.toLowerCase()[i].toString(), i)) {//check for match\n                    fullyMatches = false\n                    break\n                }\n            }\n            if (fullyMatches) {\n                addWordToSuggestions(word)\n                suggestionAdded = true\n            }\n        }\n        return suggestionAdded\n    }\n}\n\ninternal class SuggestionLabel(string: String, private val suggestionBorderColor: Color, private val suggestionsTextColor: Color, private val autoSuggestor: AutoSuggestor, private val callback: (String) -&gt; Unit) : JLabel(string) {\n\n    var isFocused = false\n        set(focused) {\n            if (focused) {\n                border = LineBorder(suggestionBorderColor)\n            } else {\n                border = null\n            }\n            repaint()\n            field = focused\n        }\n    private val autoSuggestionsPopUpWindow: JWindow\n    private val textField: JTextField\n\n    init {\n        this.textField = autoSuggestor.textField\n        this.autoSuggestionsPopUpWindow = autoSuggestor.autoSuggestionPopUpWindow\n\n        initComponent()\n    }\n\n    private fun initComponent() {\n        isFocusable = true\n        foreground = suggestionsTextColor\n\n        addMouseListener(object : MouseAdapter() {\n            override fun mouseClicked(me: MouseEvent) {\n                super.mouseClicked(me)\n\n                replaceWithSuggestedText()\n\n                autoSuggestionsPopUpWindow.isVisible = false\n            }\n        })\n\n        getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0, true), \"Enter released\")\n        actionMap.put(\"Enter released\", object : AbstractAction() {\n            override fun actionPerformed(ae: ActionEvent) {\n                replaceWithSuggestedText()\n                autoSuggestionsPopUpWindow.isVisible = false\n            }\n        })\n\n        getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE, 0, true), \"Escape released\")\n        actionMap.put(\"Escape released\", object : AbstractAction() {\n            override fun actionPerformed(ae: ActionEvent) {// Hide the popwindow\n                autoSuggestionsPopUpWindow.isVisible = false\n            }\n        })\n    }\n\n    private fun replaceWithSuggestedText() {\n\n        val suggestedWord = text\n        val text = textField.text\n        val typedWord = autoSuggestor.currentlyTypedWord\n        val t = text.substring(0, text.lastIndexOf(typedWord))\n        val tmp = t + text.substring(text.lastIndexOf(typedWord)).replace(typedWord, suggestedWord)\n        textField.text = tmp\n        callback(tmp)\n    }\n}\n</code></pre>\n\n<p>Note: The above is written in Kotlin, but if you really want Java code, you can easily <a href=\"https://stackoverflow.com/questions/34957430/how-to-convert-a-kotlin-source-file-to-a-java-source-file\">convert it back to Java</a>.</p>\n"}],"owner":{"account_id":1563760,"reputation":1789,"user_id":1453008,"accept_rate":53,"display_name":"jairaj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92742,"favorite_count":0,"down_vote_count":1,"up_vote_count":30,"accepted_answer_id":14194104,"answer_count":7,"score":29,"last_activity_date":1670437427,"creation_date":1357507701,"question_id":14186955,"body_markdown":"I want to create a auto-suggest text box which would query the database at each key release event.\r\nThat part is easy, but I want to give nice visual to it. Something similar to the auto-suggest text box we see in websites like searching in Facebook.\r\n\r\nHow to make such an interface ?\r\n\r\nA naive idea would be to have a JList placed just below the text box and set it visible with the results in it on finding one.\r\n\r\nAny better idea  or a standard way of doing it?","title":"Create a autocompleting textbox in Java with a dropdown list","body":"<p>I want to create a auto-suggest text box which would query the database at each key release event.\nThat part is easy, but I want to give nice visual to it. Something similar to the auto-suggest text box we see in websites like searching in Facebook.</p>\n\n<p>How to make such an interface ?</p>\n\n<p>A naive idea would be to have a JList placed just below the text box and set it visible with the results in it on finding one.</p>\n\n<p>Any better idea  or a standard way of doing it?</p>\n"},{"tags":["java","android","android-layout","android-fragments","android-recyclerview"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1670368388,"post_id":74710000,"comment_id":131859968,"body_markdown":"You&#39;re somehow trying to use this the wrong way. A RecyclerView inflates the same layout every time because it sets up the content in `onBindViewHolder`, maybe even a fragment and you deliberately don&#39;t distinguish between the views because they get recycled and reconfigured during scrolling. Also &quot;. This is different from what happens when inflating TextViews, or any other views, which will have unique ids even when inflated multiple times&quot; no? That would be news to me, an id in xml is fixed once the app is compiled","body":"You&#39;re somehow trying to use this the wrong way. A RecyclerView inflates the same layout every time because it sets up the content in <code>onBindViewHolder</code>, maybe even a fragment and you deliberately don&#39;t distinguish between the views because they get recycled and reconfigured during scrolling. Also &quot;. This is different from what happens when inflating TextViews, or any other views, which will have unique ids even when inflated multiple times&quot; no? That would be news to me, an id in xml is fixed once the app is compiled"},{"owner":{"account_id":27170137,"reputation":1,"user_id":20706955,"display_name":"AdrianKenobi"},"score":0,"creation_date":1670369675,"post_id":74710000,"comment_id":131860241,"body_markdown":"Zapl is right, TextViews will behave the same, in trying to provide as little code and as much generalization as possible I&#39;ve accidentally betrayed my noobiness and generalized too much. I will edit the post to be more specific to the problem I&#39;m having.","body":"Zapl is right, TextViews will behave the same, in trying to provide as little code and as much generalization as possible I&#39;ve accidentally betrayed my noobiness and generalized too much. I will edit the post to be more specific to the problem I&#39;m having."},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1670370358,"post_id":74710000,"comment_id":131860372,"body_markdown":"Adding fragment in a `RecyclerView` isn&#39;t going to work (the &quot;recycling&quot; part of `RecyclerView` won&#39;t play nicely with Fragments). You&#39;ll need to come up with a different design.","body":"Adding fragment in a <code>RecyclerView</code> isn&#39;t going to work (the &quot;recycling&quot; part of <code>RecyclerView</code> won&#39;t play nicely with Fragments). You&#39;ll need to come up with a different design."}],"owner":{"account_id":27170137,"reputation":1,"user_id":20706955,"display_name":"AdrianKenobi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670437039,"creation_date":1670367848,"question_id":74710000,"body_markdown":"Inflating a layout XML file with a `FragmentContainerView` in the `onCreateViewHolder()` method of a **RecyclerView adapter** and trying to put different **Fragments** into the **FragmentContainerViews** of each list item only affects the **FragmentContainerView** in the first list item.\r\n\r\nWhen creating a **listitem_layout.xml** with a `FragmentContainerView` inside a `ConstraintLayout` like this:\r\n\r\n```\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#D47F00&quot;&gt;\r\n\r\n  &lt;androidx.fragment.app.FragmentContainerView\r\n    android:id=&quot;@+id/fragment_container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;/&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nAnd then trying to inflate this layout in the `onCreateViewHolder()` method of a RecyclerView adapter like this:\r\n```\r\n@NonNull\r\n@Override\r\npublic CustomHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n    View itemView = inflater.inflate(R.layout.listitem_layout, parent, false);\r\n    return new CustomHolder(itemView, (AppCompatActivity) inflater.getContext());\r\n}\r\n```\r\nI then put different Fragments, depending on if the user has clicked a list item or not, into the list item in the CustomHolder:\r\n\r\n```\r\nclass CustomHolder extends RecyclerView.ViewHolder {\r\n    public static boolean skip = true;\r\n    private AppCompatActivity appCompatActivity;\r\n    private FragmentContainerView fragmentContainerView;\r\n    private Fragment attributeDetailFragment;\r\n    private Trainer trainer;\r\n    private TextView trainerAge;\r\n\r\n    CustomHolder(@NonNull View itemView, AppCompatActivity appCompatActivity) {\r\n        super(itemView);\r\n        this.trainerAge = itemView.findViewById(R.id.trainer_age);\r\n        this.fragmentContainerView = itemView.findViewById(R.id.fragment_container);\r\n        this.appCompatActivity = appCompatActivity;\r\n    }\r\n\r\n    void setTrainer(Trainer trainer) {\r\n        this.trainer = trainer;\r\n        this.trainerAge.setText(&quot; &quot; + trainer.getAge());\r\n        this.trainerAge.setOnClickListener(this::onTrainerAgeClick);\r\n        itemView.setTag(this);\r\n    }\r\n\r\n    private void onTrainerAgeClick(View view) {\r\n        attributeDetailFragment = new AgeFragment();\r\n        showFragment();\r\n    }\r\n\r\n    private void showFragment() {\r\n        Bundle args = new Bundle();\r\n        args.putParcelable(&quot;trainer&quot;, trainer);\r\n        attributeDetailFragment.setArguments(args);\r\n        FragmentManager fragmentManager = appCompatActivity.getSupportFragmentManager();\r\n        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n        fragmentTransaction.replace(fragmentContainerView.getId(), attributeDetailFragment);\r\n        fragmentTransaction.commit();\r\n    }\r\n}\r\n```\r\n\r\nHowever upon running the app, when clicking on different listitems, the correct content will be set into a fragment, but the Fragment will always land in the FragmentContainerView of the first listitem. This is what the previous version of this question meant by the id stays the same, the FragmentContainerView targeted stays the same but the TextView targeted changes depending on the ViewHolder object.\r\n\r\nFrom the comments on this, I suspect it may be the `fragmentContainerView.getId()` in `showFragment()`, but I have no idea with what I should replace it, since `replace()` needs an int id.","title":"Why does FragmentTransaction on FragmentContainerView in RecyclerView listitem only affect first element of RecyclerView?","body":"<p>Inflating a layout XML file with a <code>FragmentContainerView</code> in the <code>onCreateViewHolder()</code> method of a <strong>RecyclerView adapter</strong> and trying to put different <strong>Fragments</strong> into the <strong>FragmentContainerViews</strong> of each list item only affects the <strong>FragmentContainerView</strong> in the first list item.</p>\n<p>When creating a <strong>listitem_layout.xml</strong> with a <code>FragmentContainerView</code> inside a <code>ConstraintLayout</code> like this:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#D47F00&quot;&gt;\n\n  &lt;androidx.fragment.app.FragmentContainerView\n    android:id=&quot;@+id/fragment_container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;/&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>And then trying to inflate this layout in the <code>onCreateViewHolder()</code> method of a RecyclerView adapter like this:</p>\n<pre><code>@NonNull\n@Override\npublic CustomHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View itemView = inflater.inflate(R.layout.listitem_layout, parent, false);\n    return new CustomHolder(itemView, (AppCompatActivity) inflater.getContext());\n}\n</code></pre>\n<p>I then put different Fragments, depending on if the user has clicked a list item or not, into the list item in the CustomHolder:</p>\n<pre><code>class CustomHolder extends RecyclerView.ViewHolder {\n    public static boolean skip = true;\n    private AppCompatActivity appCompatActivity;\n    private FragmentContainerView fragmentContainerView;\n    private Fragment attributeDetailFragment;\n    private Trainer trainer;\n    private TextView trainerAge;\n\n    CustomHolder(@NonNull View itemView, AppCompatActivity appCompatActivity) {\n        super(itemView);\n        this.trainerAge = itemView.findViewById(R.id.trainer_age);\n        this.fragmentContainerView = itemView.findViewById(R.id.fragment_container);\n        this.appCompatActivity = appCompatActivity;\n    }\n\n    void setTrainer(Trainer trainer) {\n        this.trainer = trainer;\n        this.trainerAge.setText(&quot; &quot; + trainer.getAge());\n        this.trainerAge.setOnClickListener(this::onTrainerAgeClick);\n        itemView.setTag(this);\n    }\n\n    private void onTrainerAgeClick(View view) {\n        attributeDetailFragment = new AgeFragment();\n        showFragment();\n    }\n\n    private void showFragment() {\n        Bundle args = new Bundle();\n        args.putParcelable(&quot;trainer&quot;, trainer);\n        attributeDetailFragment.setArguments(args);\n        FragmentManager fragmentManager = appCompatActivity.getSupportFragmentManager();\n        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n        fragmentTransaction.replace(fragmentContainerView.getId(), attributeDetailFragment);\n        fragmentTransaction.commit();\n    }\n}\n</code></pre>\n<p>However upon running the app, when clicking on different listitems, the correct content will be set into a fragment, but the Fragment will always land in the FragmentContainerView of the first listitem. This is what the previous version of this question meant by the id stays the same, the FragmentContainerView targeted stays the same but the TextView targeted changes depending on the ViewHolder object.</p>\n<p>From the comments on this, I suspect it may be the <code>fragmentContainerView.getId()</code> in <code>showFragment()</code>, but I have no idea with what I should replace it, since <code>replace()</code> needs an int id.</p>\n"},{"tags":["java","android","android-studio","android-architecture-navigation","android-optionsmenu"],"answers":[{"tags":[],"owner":{"account_id":4539491,"reputation":1258,"user_id":3687784,"display_name":"Suhaib Raadan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609594888,"creation_date":1609594888,"answer_id":65539713,"question_id":65539606,"body_markdown":"```\r\nAppBarConfiguration appBarConfiguration =\r\n new AppBarConfiguration.Builder(R.id.nav_home, R.id.nav_history, R.id.nav_service).build();\r\n \r\nNavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\r\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\r\n\r\n```","title":"How to connect Options Menu with Navigation Components","body":"<pre><code>AppBarConfiguration appBarConfiguration =\n new AppBarConfiguration.Builder(R.id.nav_home, R.id.nav_history, R.id.nav_service).build();\n \nNavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\n\n</code></pre>\n"}],"owner":{"account_id":18038005,"reputation":23,"user_id":13110946,"display_name":"ahmetbozkan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670436942,"creation_date":1609594156,"question_id":65539606,"body_markdown":"I am trying to learn Navigation Components and I&#39;ve stuck with implementing Options Menu. I have one simple options item called &quot;settings&quot; and it navigates to the &quot;SettingsFragment&quot;. I implemented it following the [documentation][1] but the menu item is not displayed in the toolbar with this way.\r\n\r\nHere is my MainActivity code:\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private NavController navController;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        NavHostFragment hostFragment = (NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment);\r\n        navController = NavHostFragment.findNavController(hostFragment);\r\n\r\n        AppBarConfiguration appBarConfiguration =\r\n                new AppBarConfiguration.Builder(navController.getGraph()).build();\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        NavigationUI.setupWithNavController(\r\n                toolbar,\r\n                navController,\r\n                appBarConfiguration\r\n        );\r\n     \r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.options_menu, menu);\r\n\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        return NavigationUI.onNavDestinationSelected(item, navController)\r\n                || super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        return navController.navigateUp() || super.onSupportNavigateUp();\r\n    }\r\n}\r\n```\r\n\r\nHowever, when I set toolbar with `setSupportActionBar()` in advance and then use `NavigationUI.setupActionBarWithNavController()` instead of `NavigationUI.setupWithNavController()` it seems to be working, I can see the options menu and the navigation function also works but I lose nice little toolbar animations also I don&#39;t know if its the best practice. I am new with this topic so I want to know what am I missing or how can I implement it correctly.\r\n\r\nThanks in advance.\r\n\r\n  [1]: https://developer.android.com/guide/navigation/navigation-ui#Tie-navdrawer","title":"How to connect Options Menu with Navigation Components","body":"<p>I am trying to learn Navigation Components and I've stuck with implementing Options Menu. I have one simple options item called &quot;settings&quot; and it navigates to the &quot;SettingsFragment&quot;. I implemented it following the <a href=\"https://developer.android.com/guide/navigation/navigation-ui#Tie-navdrawer\" rel=\"nofollow noreferrer\">documentation</a> but the menu item is not displayed in the toolbar with this way.</p>\n<p>Here is my MainActivity code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n\n    private NavController navController;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        NavHostFragment hostFragment = (NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment);\n        navController = NavHostFragment.findNavController(hostFragment);\n\n        AppBarConfiguration appBarConfiguration =\n                new AppBarConfiguration.Builder(navController.getGraph()).build();\n\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        NavigationUI.setupWithNavController(\n                toolbar,\n                navController,\n                appBarConfiguration\n        );\n     \n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.options_menu, menu);\n\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        return NavigationUI.onNavDestinationSelected(item, navController)\n                || super.onOptionsItemSelected(item);\n    }\n\n    @Override\n    public boolean onSupportNavigateUp() {\n        return navController.navigateUp() || super.onSupportNavigateUp();\n    }\n}\n</code></pre>\n<p>However, when I set toolbar with <code>setSupportActionBar()</code> in advance and then use <code>NavigationUI.setupActionBarWithNavController()</code> instead of <code>NavigationUI.setupWithNavController()</code> it seems to be working, I can see the options menu and the navigation function also works but I lose nice little toolbar animations also I don't know if its the best practice. I am new with this topic so I want to know what am I missing or how can I implement it correctly.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","visual-studio-code","gradle","libgdx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1670435896,"post_id":74720913,"comment_id":131877989,"body_markdown":"What happens when you add `-XstartOnFirstThread` to your `Info.plist`?","body":"What happens when you add <code>-XstartOnFirstThread</code> to your <code>Info.plist</code>?"},{"owner":{"account_id":26356889,"reputation":312,"user_id":20013747,"display_name":"Adam"},"score":1,"creation_date":1670435993,"post_id":74720913,"comment_id":131878019,"body_markdown":"Please provide a [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":21422543,"reputation":11,"user_id":15780473,"display_name":"host"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670436616,"creation_date":1670436616,"answer_id":74721186,"question_id":74720913,"body_markdown":"To add jvm arguments to VSCode, go to ``Run &gt; Add Configurations`` on the VSCode window\r\n\r\nIn the `` launch.json `` file, add `` &quot;vmArgs&quot;: &quot;-XstartOnFirstThread&quot; ``","title":"VSCode MacOS throwing libGDX -XstartOnFirstThread error","body":"<p>To add jvm arguments to VSCode, go to <code>Run &gt; Add Configurations</code> on the VSCode window</p>\n<p>In the <code>launch.json</code> file, add <code>&quot;vmArgs&quot;: &quot;-XstartOnFirstThread&quot;</code></p>\n"}],"owner":{"account_id":21422543,"reputation":11,"user_id":15780473,"display_name":"host"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74721186,"answer_count":1,"score":1,"last_activity_date":1670436616,"creation_date":1670435271,"question_id":74720913,"body_markdown":"After I do the initial project setup and run it is throwing this error at me\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n        at org.lwjgl.glfw.GLFW.glfwInit(GLFW.java:1046)\r\n        at com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.initializeGlfw(Lwjgl3Application.java:88)\r\n        at com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.&lt;init&gt;(Lwjgl3Application.java:138)\r\n        at com.mygdx.game.DesktopLauncher.main(DesktopLauncher.java:13)\r\nCaused by: java.lang.IllegalStateException: GLFW may only be used on the main thread and that thread must be the first thread in the process. Please run the JVM with -XstartOnFirstThread. This check may be disabled with Configuration.GLFW_CHECK_THREAD0.\r\n        at org.lwjgl.glfw.EventLoop.&lt;clinit&gt;(EventLoop.java:30)\r\n        ... 4 more\r\n```\r\n\r\n\r\n\r\nI tried adding adding the jvm argument as said [here](https://libgdx.com/news/2021/07/devlog-7-lwjgl3#do-i-need-to-do-anything-else) to my build.gradle file under run task, but It keeps throwing the same error at me. \r\n\r\nI don&#39;t know if this is a m1 mac issue but It works fine for my friend, who is a windows user.","title":"VSCode MacOS throwing libGDX -XstartOnFirstThread error","body":"<p>After I do the initial project setup and run it is throwing this error at me</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n        at org.lwjgl.glfw.GLFW.glfwInit(GLFW.java:1046)\n        at com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.initializeGlfw(Lwjgl3Application.java:88)\n        at com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.&lt;init&gt;(Lwjgl3Application.java:138)\n        at com.mygdx.game.DesktopLauncher.main(DesktopLauncher.java:13)\nCaused by: java.lang.IllegalStateException: GLFW may only be used on the main thread and that thread must be the first thread in the process. Please run the JVM with -XstartOnFirstThread. This check may be disabled with Configuration.GLFW_CHECK_THREAD0.\n        at org.lwjgl.glfw.EventLoop.&lt;clinit&gt;(EventLoop.java:30)\n        ... 4 more\n</code></pre>\n<p>I tried adding adding the jvm argument as said <a href=\"https://libgdx.com/news/2021/07/devlog-7-lwjgl3#do-i-need-to-do-anything-else\" rel=\"nofollow noreferrer\">here</a> to my build.gradle file under run task, but It keeps throwing the same error at me.</p>\n<p>I don't know if this is a m1 mac issue but It works fine for my friend, who is a windows user.</p>\n"},{"tags":["java","drools","decision-tree"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1670435670,"post_id":74712533,"comment_id":131877923,"body_markdown":"Your images are very hard to read. Can you please take a screenshot, not a photograph?","body":"Your images are very hard to read. Can you please take a screenshot, not a photograph?"}],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670436508,"creation_date":1670436508,"answer_id":74721173,"question_id":74712533,"body_markdown":"I can&#39;t read the spreadsheet in your second photograph very well, but your explanation immediately before it is not particularly complex. \r\n\r\nDon&#39;t think of these rules as &quot;user selects this, then this, then this.&quot; Instead, think of &quot;when all these conditions are true, then perform this action&quot;.\r\n\r\nSo, we want a rule like:\r\n\r\n* When\r\n   * customerType == &quot;260&quot; AND\r\n   * subProduct == &quot;002&quot;\r\n* Then\r\n   * set LoanPurpose to &quot;05&quot;\r\n\r\nSo you&#39;d have:\r\n\r\n```\r\n| CONDITION              | CONDITION            | ACTION                       |\r\n| agent: AhflAgentModel                                                        |\r\n| customerType == $param | subProduct == $param | agent.setLoanPurpose($param) |\r\n|------------------------|----------------------|------------------------------|\r\n| &quot;260&quot;                  | &quot;002&quot;                | &quot;05&quot;                         |\r\n```\r\n\r\nThen you&#39;d add additional rows for other customerType / subProduct combinations. Or, if there are additional conditions which may be set, you could add additional columns for those conditions.\r\n\r\nThere are no &quot;users&quot; interacting with your decision table -- you pass data in, Drools evaluates the conditions and performs actions as appropriate, and you get your result. So you can&#39;t really think about users &quot;selecting&quot; anything. If there are users involved, then every time they do an action, you re-fire your rules and evaluate again -- but that&#39;s outside of the decision table entirely.","title":"How to write drool rules in .excel for second field dependent on first fileds selection and third field dependent on second fields selection","body":"<p>I can't read the spreadsheet in your second photograph very well, but your explanation immediately before it is not particularly complex.</p>\n<p>Don't think of these rules as &quot;user selects this, then this, then this.&quot; Instead, think of &quot;when all these conditions are true, then perform this action&quot;.</p>\n<p>So, we want a rule like:</p>\n<ul>\n<li>When\n<ul>\n<li>customerType == &quot;260&quot; AND</li>\n<li>subProduct == &quot;002&quot;</li>\n</ul>\n</li>\n<li>Then\n<ul>\n<li>set LoanPurpose to &quot;05&quot;</li>\n</ul>\n</li>\n</ul>\n<p>So you'd have:</p>\n<pre><code>| CONDITION              | CONDITION            | ACTION                       |\n| agent: AhflAgentModel                                                        |\n| customerType == $param | subProduct == $param | agent.setLoanPurpose($param) |\n|------------------------|----------------------|------------------------------|\n| &quot;260&quot;                  | &quot;002&quot;                | &quot;05&quot;                         |\n</code></pre>\n<p>Then you'd add additional rows for other customerType / subProduct combinations. Or, if there are additional conditions which may be set, you could add additional columns for those conditions.</p>\n<p>There are no &quot;users&quot; interacting with your decision table -- you pass data in, Drools evaluates the conditions and performs actions as appropriate, and you get your result. So you can't really think about users &quot;selecting&quot; anything. If there are users involved, then every time they do an action, you re-fire your rules and evaluate again -- but that's outside of the decision table entirely.</p>\n"}],"owner":{"account_id":27164808,"reputation":13,"user_id":20702476,"display_name":"Rashmi Patil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74721173,"answer_count":1,"score":0,"last_activity_date":1670436508,"creation_date":1670394230,"question_id":74712533,"body_markdown":"I am very new to drool rules. I have four fields, for which I want to write drools rules in excel.\r\nScenario is, based on selection of product, values for customerType will be populated and based on selection of customerType, values for SubProduct will be populated. And so on. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nFor eg. For any product selected then customerType 260 and 262 will be returned.\r\nbut, Now if someone selects customerType 260 then subProduct will be returned as &#39;001&#39;,&#39;002&#39;,&#39;004&#39;.\r\nNow if someone selects subProduct as 002 then LoanPurpose should be 05\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI have tried this. But since I am very new to this. I don&#39;t know how to write this properly.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CD0fE.png\r\n  [2]: https://i.stack.imgur.com/1WUji.png","title":"How to write drool rules in .excel for second field dependent on first fileds selection and third field dependent on second fields selection","body":"<p>I am very new to drool rules. I have four fields, for which I want to write drools rules in excel.\nScenario is, based on selection of product, values for customerType will be populated and based on selection of customerType, values for SubProduct will be populated. And so on.</p>\n<p><a href=\"https://i.stack.imgur.com/CD0fE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CD0fE.png\" alt=\"enter image description here\" /></a></p>\n<p>For eg. For any product selected then customerType 260 and 262 will be returned.\nbut, Now if someone selects customerType 260 then subProduct will be returned as '001','002','004'.\nNow if someone selects subProduct as 002 then LoanPurpose should be 05</p>\n<p><a href=\"https://i.stack.imgur.com/1WUji.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1WUji.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried this. But since I am very new to this. I don't know how to write this properly.</p>\n"},{"tags":["java","xml","xsd","saxparser","xerces"],"comments":[{"owner":{"account_id":7282804,"reputation":2404,"user_id":5551938,"display_name":"kimbert"},"score":0,"creation_date":1670414296,"post_id":74715756,"comment_id":131870073,"body_markdown":"You have not provided any evidence that you are _importing_ global.xsd in your root schema. The snippet that you posted shows the declaration of the namespace prefix &#39;global&#39; but that will not cause global.xsd to be imported into the schema. You need an &lt;xsd:import&gt; tag to do that.","body":"You have not provided any evidence that you are <i>importing</i> global.xsd in your root schema. The snippet that you posted shows the declaration of the namespace prefix &#39;global&#39; but that will not cause global.xsd to be imported into the schema. You need an &lt;xsd:import&gt; tag to do that."},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1670415623,"post_id":74715756,"comment_id":131870532,"body_markdown":"@kimbert Thanks a lot for the response, I missed out on that part sorry for that. I have modified the question with the information about import. Please have a look. I also tried to import all the files as mentioned in one of the other questions but that also not working. I have modified my code as well. Please suggest something.","body":"@kimbert Thanks a lot for the response, I missed out on that part sorry for that. I have modified the question with the information about import. Please have a look. I also tried to import all the files as mentioned in one of the other questions but that also not working. I have modified my code as well. Please suggest something."},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1670851165,"post_id":74715756,"comment_id":131961687,"body_markdown":"After a lot of trying and searching I was able to figure it out. The thing is that SaxParser expects the absolute path and relative path won&#39;t work. When I changed the import path to something like this then it worked for me: `schemaLocation=&quot;./global.xsd&quot;` to `schemaLocation = &quot;/Users/name/projects/validation/src/main/resources/xsd/global.xsd&quot;`","body":"After a lot of trying and searching I was able to figure it out. The thing is that SaxParser expects the absolute path and relative path won&#39;t work. When I changed the import path to something like this then it worked for me: <code>schemaLocation=&quot;.&#47;global.xsd&quot;</code> to <code>schemaLocation = &quot;&#47;Users&#47;name&#47;projects&#47;validation&#47;src&#47;main&#47;resources&#47;xsd&#47;glob&zwnj;&#8203;al.xsd&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670424685,"creation_date":1670424685,"answer_id":74718572,"question_id":74715756,"body_markdown":"&gt;     Even after everything, I am not sure why SaxParser is unable to find the file.\r\n\r\nIt didn&#39;t say it couldn&#39;t find the file. It said:\r\n\r\n&gt; Cannot resolve the name &#39;global:Document&#39; to a(n) &#39;type definition&#39;\r\n&gt; component.\r\n\r\nThat sounds to me like it read the imported file and couldn&#39;t find the type definition within the file. You haven&#39;t shown is the imported file, so we can&#39;t investigate that.\r\n\r\n\r\n","title":"Java SaxParser Schema Validation: results in SAXParseException; lineNumber: 46; Cannot resolve the name","body":"<blockquote>\n<pre><code>Even after everything, I am not sure why SaxParser is unable to find the file.\n</code></pre>\n</blockquote>\n<p>It didn't say it couldn't find the file. It said:</p>\n<blockquote>\n<p>Cannot resolve the name 'global:Document' to a(n) 'type definition'\ncomponent.</p>\n</blockquote>\n<p>That sounds to me like it read the imported file and couldn't find the type definition within the file. You haven't shown is the imported file, so we can't investigate that.</p>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670436463,"creation_date":1670411798,"question_id":74715756,"body_markdown":"I have an XSD that internally calls many other XSD files. I have added all the relevant files to my `src/main/java/resources` folder. Now I am trying to read these schema files by calling the `rootSchema` and trying to validate them against the incoming XML file.\r\n\r\nI am using the `SaxParser` validation schema to do the validation, but for some reason when I am trying to read the schema file it results in the error:\r\n\r\n```\r\norg.xml.sax.SAXParseException; lineNumber: 27; columnNumber: 48; src-resolve: Cannot resolve the name &#39;global:Document&#39; to a(n) &#39;type definition&#39; component.\r\n```\r\n\r\nMy `rootschema` file has the following content on line 27:\r\n\r\n```\r\n&lt;xsd:extension base=&quot;global:Document&quot;&gt;\r\n```\r\n\r\nThe `rootSchema` file has the inclusion of this file at the top xsd tag something like this:\r\n```\r\n&lt;xsd:schema xmlns:global=&quot;urn:global:xsd:1&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; targetNamespace=&quot;urn:global:company:xsd:2&quot; elementFormDefault=&quot;unqualified&quot; attributeFormDefault=&quot;unqualified&quot; version=&quot;2.0&quot;&gt;\r\n```\r\n\r\nAlso, my `rootSchema` is importing the `global.xsd` something like this on line 16:\r\n```\r\n&lt;xsd:import namespace=&quot;urn:global:xsd:1&quot; schemaLocation=&quot;./global.xsd&quot;/&gt;\r\n```\r\n\r\nAlso the file `global.xsd` is present within my `resources` folder and able to navigate to the file directly by clicking on Intellij shortcut `cmd+mouse click`. Even after everything, I am not sure why `SaxParser` is unable to find the file.\r\n\r\nMy `global.xsd` looks something like this:\r\n```\r\n&lt;xsd:schema xmlns:global=&quot;urn:global:xsd:1&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; targetNamespace=&quot;urn:global:xsd:1&quot; elementFormDefault=&quot;unqualified&quot; attributeFormDefault=&quot;unqualified&quot; version=&quot;1.0&quot;&gt;\r\n\t&lt;xsd:annotation&gt;\r\n\t\t&lt;xsd:documentation&gt;\r\n\t\t\t&lt;global:copyright&gt;Copyright (C) 2004 global Inc., All Rights Reserved.&lt;/global:copyright&gt;\r\n\t\t\t&lt;global:specification&gt;global common components Version 1.0&lt;/global:specification&gt;\r\n\t\t&lt;/xsd:documentation&gt;\r\n\t&lt;/xsd:annotation&gt;\r\n\t&lt;xsd:complexType name=&quot;Document&quot; abstract=&quot;true&quot;&gt;\r\n\t\t&lt;xsd:annotation&gt;\r\n\t\t\t&lt;xsd:documentation xml:lang=&quot;en&quot;&gt;\r\n                global document properties for all messages.\r\n            &lt;/xsd:documentation&gt;\r\n\t\t&lt;/xsd:annotation&gt;\r\n\t\t&lt;xsd:attribute name=&quot;schemaVersion&quot; type=&quot;xsd:decimal&quot; use=&quot;required&quot;&gt;\r\n\t\t\t&lt;xsd:annotation&gt;\r\n\t\t\t\t&lt;xsd:documentation xml:lang=&quot;en&quot;&gt;\r\n                    The version of the schema corresponding to which the instance conforms. \r\n                &lt;/xsd:documentation&gt;\r\n\t\t\t&lt;/xsd:annotation&gt;\r\n\t\t&lt;/xsd:attribute&gt;\r\n\t\t&lt;xsd:attribute name=&quot;creationDate&quot; type=&quot;xsd:dateTime&quot; use=&quot;required&quot;&gt;\r\n\t\t\t&lt;xsd:annotation&gt;\r\n\t\t\t\t&lt;xsd:documentation xml:lang=&quot;en&quot;&gt;\r\n                    The date the message was created. Used for auditing and logging.\r\n                &lt;/xsd:documentation&gt;\r\n\t\t\t&lt;/xsd:annotation&gt;\r\n\t\t&lt;/xsd:attribute&gt;\r\n\t&lt;/xsd:complexType&gt;\r\n&lt;/xsd:schema&gt;\r\n\r\n```\r\nI saw many questions related to the same and tried a few of them, but still, it&#39;s not working. I also saw a few suggestions to merge all XSD files into one, but this is not possible for me as there are many other dependent XSD files and merging would be difficult. Can someone please suggest some workarounds?\r\n\r\nFollowing is the code that I trying:\r\n```\r\nimport java.io.InputStream;\r\nimport javax.xml.XMLConstants;\r\nimport javax.xml.transform.Source;\r\nimport javax.xml.transform.stream.StreamSource;\r\nimport javax.xml.validation.Schema;\r\nimport javax.xml.validation.SchemaFactory;\r\nimport javax.xml.validation.Validator;\r\n\r\npublic class XmlSchemaValidator {\r\n\r\n  private final SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n  private final Schema xmlCaptureSchema;\r\n\r\n  private static final String[] XSD_FILES = {\r\n    &quot;/Types.xsd&quot;, \r\n    &quot;/Identification.xsd&quot;,\r\n    &quot;/Partner.xsd&quot;,\r\n    &quot;/Manifest.xsd&quot;, \r\n    &quot;/BusinessScope.xsd&quot;,\r\n    &quot;/BusinessDocumentHeader.xsd&quot;, \r\n    &quot;/global.xsd&quot;,\r\n    &quot;/global-1_1.xsd&quot;,\r\n    &quot;/global-query-1_1.xsd&quot;,\r\n    &quot;/global-masterdata-1_1.xsd&quot;,\r\n  };\r\n\r\n  public XmlSchemaValidator() {\r\n    //this.xmlCaptureSchema = loadSchema(&quot;/global-1_1.xsd&quot;);\r\n    this.xmlCaptureSchema = loadSchemaType2();\r\n  }\r\n\r\n  public void validateAgainstCaptureSchema(final InputStream input) {\r\n    try {\r\n      final Validator validator = xmlCaptureSchema.newValidator();\r\n      validator.validate(new StreamSource(input));\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n\r\n  public Schema loadSchema(final String name) {\r\n    Schema schema = null;\r\n    try {\r\n      schema = schemaFactory.newSchema(new StreamSource(getClass().getResourceAsStream(name)));\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n    return schema;\r\n  }\r\n\r\n  public Schema loadSchemaType2() {\r\n    Schema schema = null;\r\n    try {\r\n      Source[] xsdSources = new Source[XSD_FILES.length];\r\n      int i = 0;\r\n\r\n      for (String xsdFile : XSD_FILES) {\r\n        final InputStream xsdStreamData = getClass().getResourceAsStream(xsdFile);\r\n        final StreamSource xsdStreamSource = new StreamSource(xsdStreamData);\r\n        xsdSources[i] = xsdStreamSource;\r\n        i++;\r\n      }\r\n      schema = schemaFactory.newSchema(xsdSources);\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n    return schema;\r\n  }\r\n}\r\n```","title":"Java SaxParser Schema Validation: results in SAXParseException; lineNumber: 46; Cannot resolve the name","body":"<p>I have an XSD that internally calls many other XSD files. I have added all the relevant files to my <code>src/main/java/resources</code> folder. Now I am trying to read these schema files by calling the <code>rootSchema</code> and trying to validate them against the incoming XML file.</p>\n<p>I am using the <code>SaxParser</code> validation schema to do the validation, but for some reason when I am trying to read the schema file it results in the error:</p>\n<pre><code>org.xml.sax.SAXParseException; lineNumber: 27; columnNumber: 48; src-resolve: Cannot resolve the name 'global:Document' to a(n) 'type definition' component.\n</code></pre>\n<p>My <code>rootschema</code> file has the following content on line 27:</p>\n<pre><code>&lt;xsd:extension base=&quot;global:Document&quot;&gt;\n</code></pre>\n<p>The <code>rootSchema</code> file has the inclusion of this file at the top xsd tag something like this:</p>\n<pre><code>&lt;xsd:schema xmlns:global=&quot;urn:global:xsd:1&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; targetNamespace=&quot;urn:global:company:xsd:2&quot; elementFormDefault=&quot;unqualified&quot; attributeFormDefault=&quot;unqualified&quot; version=&quot;2.0&quot;&gt;\n</code></pre>\n<p>Also, my <code>rootSchema</code> is importing the <code>global.xsd</code> something like this on line 16:</p>\n<pre><code>&lt;xsd:import namespace=&quot;urn:global:xsd:1&quot; schemaLocation=&quot;./global.xsd&quot;/&gt;\n</code></pre>\n<p>Also the file <code>global.xsd</code> is present within my <code>resources</code> folder and able to navigate to the file directly by clicking on Intellij shortcut <code>cmd+mouse click</code>. Even after everything, I am not sure why <code>SaxParser</code> is unable to find the file.</p>\n<p>My <code>global.xsd</code> looks something like this:</p>\n<pre><code>&lt;xsd:schema xmlns:global=&quot;urn:global:xsd:1&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; targetNamespace=&quot;urn:global:xsd:1&quot; elementFormDefault=&quot;unqualified&quot; attributeFormDefault=&quot;unqualified&quot; version=&quot;1.0&quot;&gt;\n    &lt;xsd:annotation&gt;\n        &lt;xsd:documentation&gt;\n            &lt;global:copyright&gt;Copyright (C) 2004 global Inc., All Rights Reserved.&lt;/global:copyright&gt;\n            &lt;global:specification&gt;global common components Version 1.0&lt;/global:specification&gt;\n        &lt;/xsd:documentation&gt;\n    &lt;/xsd:annotation&gt;\n    &lt;xsd:complexType name=&quot;Document&quot; abstract=&quot;true&quot;&gt;\n        &lt;xsd:annotation&gt;\n            &lt;xsd:documentation xml:lang=&quot;en&quot;&gt;\n                global document properties for all messages.\n            &lt;/xsd:documentation&gt;\n        &lt;/xsd:annotation&gt;\n        &lt;xsd:attribute name=&quot;schemaVersion&quot; type=&quot;xsd:decimal&quot; use=&quot;required&quot;&gt;\n            &lt;xsd:annotation&gt;\n                &lt;xsd:documentation xml:lang=&quot;en&quot;&gt;\n                    The version of the schema corresponding to which the instance conforms. \n                &lt;/xsd:documentation&gt;\n            &lt;/xsd:annotation&gt;\n        &lt;/xsd:attribute&gt;\n        &lt;xsd:attribute name=&quot;creationDate&quot; type=&quot;xsd:dateTime&quot; use=&quot;required&quot;&gt;\n            &lt;xsd:annotation&gt;\n                &lt;xsd:documentation xml:lang=&quot;en&quot;&gt;\n                    The date the message was created. Used for auditing and logging.\n                &lt;/xsd:documentation&gt;\n            &lt;/xsd:annotation&gt;\n        &lt;/xsd:attribute&gt;\n    &lt;/xsd:complexType&gt;\n&lt;/xsd:schema&gt;\n\n</code></pre>\n<p>I saw many questions related to the same and tried a few of them, but still, it's not working. I also saw a few suggestions to merge all XSD files into one, but this is not possible for me as there are many other dependent XSD files and merging would be difficult. Can someone please suggest some workarounds?</p>\n<p>Following is the code that I trying:</p>\n<pre><code>import java.io.InputStream;\nimport javax.xml.XMLConstants;\nimport javax.xml.transform.Source;\nimport javax.xml.transform.stream.StreamSource;\nimport javax.xml.validation.Schema;\nimport javax.xml.validation.SchemaFactory;\nimport javax.xml.validation.Validator;\n\npublic class XmlSchemaValidator {\n\n  private final SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n  private final Schema xmlCaptureSchema;\n\n  private static final String[] XSD_FILES = {\n    &quot;/Types.xsd&quot;, \n    &quot;/Identification.xsd&quot;,\n    &quot;/Partner.xsd&quot;,\n    &quot;/Manifest.xsd&quot;, \n    &quot;/BusinessScope.xsd&quot;,\n    &quot;/BusinessDocumentHeader.xsd&quot;, \n    &quot;/global.xsd&quot;,\n    &quot;/global-1_1.xsd&quot;,\n    &quot;/global-query-1_1.xsd&quot;,\n    &quot;/global-masterdata-1_1.xsd&quot;,\n  };\n\n  public XmlSchemaValidator() {\n    //this.xmlCaptureSchema = loadSchema(&quot;/global-1_1.xsd&quot;);\n    this.xmlCaptureSchema = loadSchemaType2();\n  }\n\n  public void validateAgainstCaptureSchema(final InputStream input) {\n    try {\n      final Validator validator = xmlCaptureSchema.newValidator();\n      validator.validate(new StreamSource(input));\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n\n  public Schema loadSchema(final String name) {\n    Schema schema = null;\n    try {\n      schema = schemaFactory.newSchema(new StreamSource(getClass().getResourceAsStream(name)));\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n    return schema;\n  }\n\n  public Schema loadSchemaType2() {\n    Schema schema = null;\n    try {\n      Source[] xsdSources = new Source[XSD_FILES.length];\n      int i = 0;\n\n      for (String xsdFile : XSD_FILES) {\n        final InputStream xsdStreamData = getClass().getResourceAsStream(xsdFile);\n        final StreamSource xsdStreamSource = new StreamSource(xsdStreamData);\n        xsdSources[i] = xsdStreamSource;\n        i++;\n      }\n      schema = schemaFactory.newSchema(xsdSources);\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n    return schema;\n  }\n}\n</code></pre>\n"},{"tags":["java","constants"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1416460151,"post_id":27031300,"comment_id":42586086,"body_markdown":"No.  C and C++ have this, but not Java.","body":"No.  C and C++ have this, but not Java."},{"owner":{"account_id":799093,"reputation":1283,"user_id":910651,"display_name":"Ken Beckett"},"score":0,"creation_date":1456175117,"post_id":27031300,"comment_id":58815822,"body_markdown":"C# is another language that supports local constants (and is a modern, managed language like Java).","body":"C# is another language that supports local constants (and is a modern, managed language like Java)."}],"answers":[{"tags":[],"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416456750,"creation_date":1416455290,"answer_id":27031392,"question_id":27031300,"body_markdown":"There is no way of declaring a static variable which can only be used within a single method. It is not part of the Java syntax.\r\n\r\nYou could do this at your class level with `final static` modifiers. It will be initialized to a static constant on the class and since it is `final`, cannot be changed once set:\r\n\r\n    public class MyClass {\r\n        private static final int myVar = 2;\r\n        ...\r\n    }\r\n\r\nFrom [Oracle&#39;s documentation][1]\r\n\r\n&gt; The static modifier, in combination with the final modifier, is also\r\n&gt; used to define constants. The final modifier indicates that the value\r\n&gt; of this field cannot change.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html","title":"Method Specific Constants in Java","body":"<p>There is no way of declaring a static variable which can only be used within a single method. It is not part of the Java syntax.</p>\n\n<p>You could do this at your class level with <code>final static</code> modifiers. It will be initialized to a static constant on the class and since it is <code>final</code>, cannot be changed once set:</p>\n\n<pre><code>public class MyClass {\n    private static final int myVar = 2;\n    ...\n}\n</code></pre>\n\n<p>From <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow\">Oracle's documentation</a></p>\n\n<blockquote>\n  <p>The static modifier, in combination with the final modifier, is also\n  used to define constants. The final modifier indicates that the value\n  of this field cannot change.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1416458247,"creation_date":1416456566,"answer_id":27031602,"question_id":27031300,"body_markdown":"Methods in Java cannot have static variables at this time.\r\n\r\n&gt;Is this something that is ever done or suggested?\r\n\r\nSome other languages (C, C++) have this. It does provide additional encapsulation of data. For example, in C++ it is the canonical lazy-instantiated singleton:\r\n\r\n    Singleton const* Singleton::instance() {\r\n        const static Singleton instance;\r\n        return &amp;instance;\r\n    }\r\n\r\nI&#39;m not aware it is a proposed feature for Java.","title":"Method Specific Constants in Java","body":"<p>Methods in Java cannot have static variables at this time.</p>\n\n<blockquote>\n  <p>Is this something that is ever done or suggested?</p>\n</blockquote>\n\n<p>Some other languages (C, C++) have this. It does provide additional encapsulation of data. For example, in C++ it is the canonical lazy-instantiated singleton:</p>\n\n<pre><code>Singleton const* Singleton::instance() {\n    const static Singleton instance;\n    return &amp;instance;\n}\n</code></pre>\n\n<p>I'm not aware it is a proposed feature for Java.</p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1416456746,"creation_date":1416456746,"answer_id":27031622,"question_id":27031300,"body_markdown":"&quot;Is it possible to have a constant variable that is local only to a specific method?&quot;  First, ***constant variable*** is a commonly used term, but it is an oxymoron. Something *constant* cannot change, and a *variable* has the ability to change.  A *constant field* or *constant data member* might be more appropriate terms.  The question then becomes, why do you need a *constant* inside a method?  After all, even if you make the *constant field* public, it will not change, so its scope becomes a bit irrelevant.\r\n\r\nIn practice, *constant fields* are often made static (not always).  Going back to your question, can it be done?  The following is valid code:\r\n\r\n    public class ConstantDemo\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            ConstantDemo demo = new ConstantDemo();        \r\n            for (int i = 1; i &lt;=12; i++)\r\n                System.out.println(&quot;7 times &quot; + i + &quot; equals &quot; + demo.timesSeven(i));\r\n        }\r\n    \r\n        public int timesSeven(int number)\r\n        {\r\n            final int x = 7;\r\n            return number * x;\r\n        }\r\n    }\r\n\r\nThe question is, what do you really accomplish by limiting the scope of this *constant field*?  As Radiodef suggested, methods cannot have static fields declared inside (in Java).\r\n ","title":"Method Specific Constants in Java","body":"<p>\"Is it possible to have a constant variable that is local only to a specific method?\"  First, <strong><em>constant variable</em></strong> is a commonly used term, but it is an oxymoron. Something <em>constant</em> cannot change, and a <em>variable</em> has the ability to change.  A <em>constant field</em> or <em>constant data member</em> might be more appropriate terms.  The question then becomes, why do you need a <em>constant</em> inside a method?  After all, even if you make the <em>constant field</em> public, it will not change, so its scope becomes a bit irrelevant.</p>\n\n<p>In practice, <em>constant fields</em> are often made static (not always).  Going back to your question, can it be done?  The following is valid code:</p>\n\n<pre><code>public class ConstantDemo\n{\n    public static void main(String[] args)\n    {\n        ConstantDemo demo = new ConstantDemo();        \n        for (int i = 1; i &lt;=12; i++)\n            System.out.println(\"7 times \" + i + \" equals \" + demo.timesSeven(i));\n    }\n\n    public int timesSeven(int number)\n    {\n        final int x = 7;\n        return number * x;\n    }\n}\n</code></pre>\n\n<p>The question is, what do you really accomplish by limiting the scope of this <em>constant field</em>?  As Radiodef suggested, methods cannot have static fields declared inside (in Java).</p>\n"},{"tags":[],"owner":{"account_id":1165974,"reputation":4349,"user_id":1144275,"display_name":"TechTrip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416494535,"creation_date":1416458116,"answer_id":27031842,"question_id":27031300,"body_markdown":"Actually you only accomplish the single instantiation by having the variable initialized outside the method. Otherwise as other people have noted it&#39;s not possible to have the static var local to the method.\r\n\r\n    public class Example {\r\n    \t\r\n    \tpublic static final int myVar2 = getNum();\r\n    \r\n    \tpublic void doStuff() { \r\n    \t    System.out.println(&quot;In doStuff: myVar = &quot; + myVar2);\r\n    \t}\r\n    \t\r\n    \tpublic static final int getNum() {\r\n    \t    System.out.println(&quot;calculating&quot;);\r\n    \t    return 2;\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tExample ex = new Example();\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; 5; i++){\r\n    \t\t\tex.doStuff();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe output from such a construct is as follows. \r\n\r\n`calculating\r\nIn doStuff: myVar = 2\r\nIn doStuff: myVar = 2\r\nIn doStuff: myVar = 2\r\nIn doStuff: myVar = 2\r\nIn doStuff: myVar = 2`\r\n\r\nAs you can see it accomplish the static instantiation. ","title":"Method Specific Constants in Java","body":"<p>Actually you only accomplish the single instantiation by having the variable initialized outside the method. Otherwise as other people have noted it's not possible to have the static var local to the method.</p>\n\n<pre><code>public class Example {\n\n    public static final int myVar2 = getNum();\n\n    public void doStuff() { \n        System.out.println(\"In doStuff: myVar = \" + myVar2);\n    }\n\n    public static final int getNum() {\n        System.out.println(\"calculating\");\n        return 2;\n    }\n\n    public static void main(String[] args) {\n        Example ex = new Example();\n\n        for (int i = 0; i &lt; 5; i++){\n            ex.doStuff();\n        }\n    }\n}\n</code></pre>\n\n<p>The output from such a construct is as follows. </p>\n\n<p><code>calculating\nIn doStuff: myVar = 2\nIn doStuff: myVar = 2\nIn doStuff: myVar = 2\nIn doStuff: myVar = 2\nIn doStuff: myVar = 2</code></p>\n\n<p>As you can see it accomplish the static instantiation. </p>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670436425,"creation_date":1670436425,"answer_id":74721150,"question_id":27031300,"body_markdown":"This is possible since Java 16 using local classes with static fields:\r\n\r\n    private static void doStuff() {\r\n        class Holder {\r\n            static final int myVar = getNum(); // Will be initialized once\r\n\r\n            private static int getNum() {\r\n                ...\r\n            }\r\n        }\r\n\r\n        // Use Holder.myVar\r\n    }","title":"Method Specific Constants in Java","body":"<p>This is possible since Java 16 using local classes with static fields:</p>\n<pre><code>private static void doStuff() {\n    class Holder {\n        static final int myVar = getNum(); // Will be initialized once\n\n        private static int getNum() {\n            ...\n        }\n    }\n\n    // Use Holder.myVar\n}\n</code></pre>\n"}],"owner":{"account_id":5361520,"reputation":147,"user_id":4272618,"accept_rate":100,"display_name":"Camander"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7264,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":27031602,"answer_count":5,"score":2,"last_activity_date":1670436425,"creation_date":1416454722,"question_id":27031300,"body_markdown":"Is it possible to have a constant variable that is local only to a specific method? It seems unnecessary to put it at the class level when it is only used in one method. Using the &quot;final&quot; modifier in the method will prevent the variable from being modified after it is initialized, but it will be re-initialized every time the method is called, even when it is unnecessary. Is there a way to make it static? For example, in the following code, &quot;calculating&quot; is printed every time the doStuff method is called:\r\n\r\n    public void doStuff() { \r\n        final int myVar = getNum();\r\n        ...\r\n    }\r\n    \r\n    public int getNum() {\r\n        System.out.println(&quot;calculating&quot;);\r\n        return 2;\r\n    }\r\n\r\nCan &quot;myVar&quot; be initialized once, say, when the class is loaded without being outside of the method?\r\n\r\nThis is mostly out of curiosity. Is this something that is ever done or suggested?","title":"Method Specific Constants in Java","body":"<p>Is it possible to have a constant variable that is local only to a specific method? It seems unnecessary to put it at the class level when it is only used in one method. Using the \"final\" modifier in the method will prevent the variable from being modified after it is initialized, but it will be re-initialized every time the method is called, even when it is unnecessary. Is there a way to make it static? For example, in the following code, \"calculating\" is printed every time the doStuff method is called:</p>\n\n<pre><code>public void doStuff() { \n    final int myVar = getNum();\n    ...\n}\n\npublic int getNum() {\n    System.out.println(\"calculating\");\n    return 2;\n}\n</code></pre>\n\n<p>Can \"myVar\" be initialized once, say, when the class is loaded without being outside of the method?</p>\n\n<p>This is mostly out of curiosity. Is this something that is ever done or suggested?</p>\n"},{"tags":["java","spring","spring-boot","spring-bean","spring-context"],"comments":[{"owner":{"display_name":"user14687465"},"score":0,"creation_date":1649768073,"post_id":71841035,"comment_id":126955416,"body_markdown":"Where have you seen that \n@Bean\n@Qualifier(&quot;fooConfig&quot;)\npublic Baz method1(){\n\n}\n\nthing? It&#39;s wrong.","body":"Where have you seen that  @Bean @Qualifier(&quot;fooConfig&quot;) public Baz method1(){  }  thing? It&#39;s wrong."},{"owner":{"display_name":"user14687465"},"score":0,"creation_date":1649768090,"post_id":71841035,"comment_id":126955424,"body_markdown":"It is not where you use qualifier.","body":"It is not where you use qualifier."},{"owner":{"display_name":"user14687465"},"score":0,"creation_date":1649768129,"post_id":71841035,"comment_id":126955440,"body_markdown":"You use qualifier when you inject dependency.","body":"You use qualifier when you inject dependency."},{"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"score":1,"creation_date":1649768271,"post_id":71841035,"comment_id":126955501,"body_markdown":"1. https://www.baeldung.com/spring-qualifier-annotation#:~:text=the%20%40Component%20annotation.-,Note,-that%20we%20could\n2. https://www.logicbig.com/tutorials/spring-framework/spring-core/inject-bean-by-name.html","body":"1. <a href=\"https://www.baeldung.com/spring-qualifier-annotation#:~:text=the%20%40Component%20annotation.-,Note,-that%20we%20could\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a> 2. <a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-core/inject-bean-by-name.html\" rel=\"nofollow noreferrer\">logicbig.com/tutorials/spring-framework/spring-core/&hellip;</a>"},{"owner":{"display_name":"user14687465"},"score":0,"creation_date":1649769131,"post_id":71841035,"comment_id":126955821,"body_markdown":"Alright, never seen those :D. But still, basically, @Bean @Qualifier(&quot;bean1&quot;) equals to @Bean(name = &quot;bean1&quot;)","body":"Alright, never seen those :D. But still, basically, @Bean @Qualifier(&quot;bean1&quot;) equals to @Bean(name = &quot;bean1&quot;)"},{"owner":{"display_name":"user14687465"},"score":0,"creation_date":1649769310,"post_id":71841035,"comment_id":126955888,"body_markdown":"Answer to your question. You use Qualifier to tell Spring which bean to inject.","body":"Answer to your question. You use Qualifier to tell Spring which bean to inject."}],"answers":[{"tags":[],"owner":{"display_name":"user14687465"},"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1649762004,"creation_date":1649760155,"answer_id":71841245,"question_id":71841035,"body_markdown":"1) Beans have names. They don&#39;t have qualifiers. @Qualifier is annotation, with which you tell Spring the name of Bean to be injected.\r\n----------------------------------------------------------------------------\r\n2) No.\r\n----------------------------------------------------------------------------\r\n3) Default Qualifier is the only implementation of the interface(example is below, 4th question) or the only method with a particular return type. You don&#39;t need to specify the @Qualifier in that case. Spring is smart enough to find itself.\r\n\r\nFor example:\r\n\r\n    @Configuration\r\n    public class MyConfiguration {\r\n        @Bean\r\n        public MyCustomComponent myComponent() {\r\n            return new MyCustomComponent();\r\n        }\r\n    }\r\n\r\nIf you will try to inject myComponent somewhere, Spring is smart enough to find the bean above. Becaude there is only one Bean with return type MyCustomComponent. But if there was a couple of methods, that would return MyCustomComponent, then you would have to tell Spring which one to inject with @Qualifier annotation.\r\n\r\nSIDENOTE: @Bean annotation by default Spring uses the method name as a bean name. You can also assign other name like @Bean(&quot;otherComponent&quot;).\r\n\r\n----------------------------------------------------------------------------\r\n4) You have one Interface, and a couple of Classes implementing it. You inject bean of your interface. How can Spring know which Class should be used?\r\n\r\nThis is you interface:\r\n\r\n    public interface TestRepository{}\r\n\r\nThis is your implementation 1:\r\n\r\n    @Repository\r\n    public class Test1Repository implements TestRepository{}\r\n\r\nYour implementation 2:\r\n\r\n    @Repository\r\n    public class Test2Repository implements TestRepository{}\r\n\r\nNow you are injecting it like:\r\n\r\n    private final TestRepository testRepository;\r\n    \r\n    public TestServiceImpl(TestRepository testRepository) {\r\n        this.testRepository= testRepository;\r\n    }\r\n\r\n\r\nQUESTION! How is Spring supposed to know which class to inject? Test1 or Test2? That&#39;s why you tell it with @Qualifier which class.\r\n\r\n    private final TestRepository testRepository;\r\n    \r\n    public TestServiceImpl(@Qualifier(&quot;test1Repository&quot;) TestRepository testRepository) {\r\n        this.testRepository= testRepository;\r\n    }\r\n","title":"Why do we use a qualifier when we can have a name for the bean?","body":"<ol>\n<li>Beans have names. They don't have qualifiers. @Qualifier is annotation, with which you tell Spring the name of Bean to be injected.</li>\n</ol>\n<hr />\n<ol start=\"2\">\n<li>No.</li>\n</ol>\n<hr />\n<ol start=\"3\">\n<li>Default Qualifier is the only implementation of the interface(example is below, 4th question) or the only method with a particular return type. You don't need to specify the @Qualifier in that case. Spring is smart enough to find itself.</li>\n</ol>\n<p>For example:</p>\n<pre><code>@Configuration\npublic class MyConfiguration {\n    @Bean\n    public MyCustomComponent myComponent() {\n        return new MyCustomComponent();\n    }\n}\n</code></pre>\n<p>If you will try to inject myComponent somewhere, Spring is smart enough to find the bean above. Becaude there is only one Bean with return type MyCustomComponent. But if there was a couple of methods, that would return MyCustomComponent, then you would have to tell Spring which one to inject with @Qualifier annotation.</p>\n<p>SIDENOTE: @Bean annotation by default Spring uses the method name as a bean name. You can also assign other name like @Bean(&quot;otherComponent&quot;).</p>\n<hr />\n<ol start=\"4\">\n<li>You have one Interface, and a couple of Classes implementing it. You inject bean of your interface. How can Spring know which Class should be used?</li>\n</ol>\n<p>This is you interface:</p>\n<pre><code>public interface TestRepository{}\n</code></pre>\n<p>This is your implementation 1:</p>\n<pre><code>@Repository\npublic class Test1Repository implements TestRepository{}\n</code></pre>\n<p>Your implementation 2:</p>\n<pre><code>@Repository\npublic class Test2Repository implements TestRepository{}\n</code></pre>\n<p>Now you are injecting it like:</p>\n<pre><code>private final TestRepository testRepository;\n\npublic TestServiceImpl(TestRepository testRepository) {\n    this.testRepository= testRepository;\n}\n</code></pre>\n<p>QUESTION! How is Spring supposed to know which class to inject? Test1 or Test2? That's why you tell it with @Qualifier which class.</p>\n<pre><code>private final TestRepository testRepository;\n\npublic TestServiceImpl(@Qualifier(&quot;test1Repository&quot;) TestRepository testRepository) {\n    this.testRepository= testRepository;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20319669,"reputation":45,"user_id":14904658,"display_name":"LunaLissa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669371816,"creation_date":1669371816,"answer_id":74571313,"question_id":71841035,"body_markdown":"I Prefer different method to `not` using @Qualifier\r\n\r\n1. Create common Interface\r\n\r\n    \r\n\r\n&gt;     public interface CommonFooBar{\r\n&gt;     public String commonFoo();\r\n&gt;     public String commonBar();\r\n&gt;     }\r\n\r\n2. Extends to each service\r\n\r\n    \r\n\r\n&gt;     public interface FooService extends CommonFooBar {\r\n&gt;     \r\n&gt;     }\r\n&gt; \r\n&gt;     public interface BarService extends CommonFooBar {\r\n&gt;     \r\n&gt;     }\r\n\r\n3. Then using it to your class\r\n\r\n&gt;     @Autowired\r\n&gt;     FooService fooService;\r\n&gt; \r\n&gt;     or\r\n&gt;     \r\n&gt;     @Autowired\r\n&gt;     BarService barService;\r\n\r\n\r\nso, we can defined the single responsibility to each interface and This kind of segregation is more readable to every junior.\r\n","title":"Why do we use a qualifier when we can have a name for the bean?","body":"<p>I Prefer different method to <code>not</code> using @Qualifier</p>\n<ol>\n<li>Create common Interface</li>\n</ol>\n<blockquote>\n<pre><code>public interface CommonFooBar{\npublic String commonFoo();\npublic String commonBar();\n}\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li>Extends to each service</li>\n</ol>\n<blockquote>\n<pre><code>public interface FooService extends CommonFooBar {\n\n}\n\npublic interface BarService extends CommonFooBar {\n\n}\n</code></pre>\n</blockquote>\n<ol start=\"3\">\n<li>Then using it to your class</li>\n</ol>\n<blockquote>\n<pre><code>@Autowired\nFooService fooService;\n\nor\n\n@Autowired\nBarService barService;\n</code></pre>\n</blockquote>\n<p>so, we can defined the single responsibility to each interface and This kind of segregation is more readable to every junior.</p>\n"},{"tags":[],"owner":{"account_id":8561384,"reputation":53,"user_id":6415325,"display_name":"Andrew Harrison"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670436323,"creation_date":1670436323,"answer_id":74721134,"question_id":71841035,"body_markdown":"I quite like a different way of working.  Surely if you provide a unique name for your bean, then that is all you need?\r\n\r\nGiven the example below, its easy to see that Spring will name the beans based on the method name used to create the beans.  In other words, if you give your beans sensible names, then the code should become self-explanatory.  This also works when injecting beans into other classes.  \r\n\r\nThe end result of this is:\r\n\r\n - Spring will name your beans based on the method used to create them.\r\n - If you import a bean, Spring will try to match on the bean name.\r\n - If you try to import a bean that does not match the name, Spring will attempt to match the class.\r\n - If your injected field name does not match the bean name and there are more than one instance of your bean, Spring will throw an exception on startup as it won&#39;t know which one to inject.\r\n\r\nLets not over-complicate Spring.\r\n\r\n\r\n    @Bean\r\n    mqConnectionFactory() {\r\n        ConnectionFactory connectionFactory = new MQXAConnectionFactory();\r\n        return connectionFactory;\r\n    }\r\n\r\n    @Bean \r\n    public ConnectionFactory pooledConnectionFactory(ConnectionFactory mqconnectionFactory) {\r\n        JmsPoolConnectionFactory connectionFactory = new JmsPoolConnectionFactory();\r\n        connectionFactory.setConnectionFactory(mqConnectionFactory);\r\n        return connectionFactory;\r\n    }\r\n\r\n    @Bean \r\n    public ConnectionFactory cachingConnectionFactory(ConnectionFactory mqConnectionFactory) {\r\n        CachingConnectionFactory connectionFactory = new CachingConnectionFactory();\r\n        connectionFactory.setTargetConnectionFactory(mqConnectionFactory);\r\n        return connectionFactory;\r\n    } \r\n\r\n    @Bean\r\n    public JmsTemplate jmsTemplate(ConnectionFactory cachingConnectionFactory) {\r\n        JmsTemplate jmsTemplate = new JmsTemplate();\r\n        jmsTemplate.setConnectionFactory(cachingConnectionFactory);\r\n        return jmsTemplate;\r\n    }\r\n\r\n    @Bean\r\n    public DefaultMessageListenerContainer messageListenerContainer(ConnectionFactory pooledConnectionFactory) {\r\n        DefaultMessageListenerContainer container = new DefaultMessageListenerContainer();\r\n        container.setConnectionFactory(pooledConnectionFactory);\r\n        ...\r\n        return container;\r\n    }\r\n","title":"Why do we use a qualifier when we can have a name for the bean?","body":"<p>I quite like a different way of working.  Surely if you provide a unique name for your bean, then that is all you need?</p>\n<p>Given the example below, its easy to see that Spring will name the beans based on the method name used to create the beans.  In other words, if you give your beans sensible names, then the code should become self-explanatory.  This also works when injecting beans into other classes.</p>\n<p>The end result of this is:</p>\n<ul>\n<li>Spring will name your beans based on the method used to create them.</li>\n<li>If you import a bean, Spring will try to match on the bean name.</li>\n<li>If you try to import a bean that does not match the name, Spring will attempt to match the class.</li>\n<li>If your injected field name does not match the bean name and there are more than one instance of your bean, Spring will throw an exception on startup as it won't know which one to inject.</li>\n</ul>\n<p>Lets not over-complicate Spring.</p>\n<pre><code>@Bean\nmqConnectionFactory() {\n    ConnectionFactory connectionFactory = new MQXAConnectionFactory();\n    return connectionFactory;\n}\n\n@Bean \npublic ConnectionFactory pooledConnectionFactory(ConnectionFactory mqconnectionFactory) {\n    JmsPoolConnectionFactory connectionFactory = new JmsPoolConnectionFactory();\n    connectionFactory.setConnectionFactory(mqConnectionFactory);\n    return connectionFactory;\n}\n\n@Bean \npublic ConnectionFactory cachingConnectionFactory(ConnectionFactory mqConnectionFactory) {\n    CachingConnectionFactory connectionFactory = new CachingConnectionFactory();\n    connectionFactory.setTargetConnectionFactory(mqConnectionFactory);\n    return connectionFactory;\n} \n\n@Bean\npublic JmsTemplate jmsTemplate(ConnectionFactory cachingConnectionFactory) {\n    JmsTemplate jmsTemplate = new JmsTemplate();\n    jmsTemplate.setConnectionFactory(cachingConnectionFactory);\n    return jmsTemplate;\n}\n\n@Bean\npublic DefaultMessageListenerContainer messageListenerContainer(ConnectionFactory pooledConnectionFactory) {\n    DefaultMessageListenerContainer container = new DefaultMessageListenerContainer();\n    container.setConnectionFactory(pooledConnectionFactory);\n    ...\n    return container;\n}\n</code></pre>\n"}],"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2647,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":71841245,"answer_count":3,"score":0,"last_activity_date":1670436323,"creation_date":1649759258,"question_id":71841035,"body_markdown":"Why do we use qualifiers with @Bean when we can have different names for different beans of the same type (class)?\r\n\r\n```java\r\n@Bean\r\n@Qualifier(&quot;fooConfig&quot;)\r\npublic Baz method1() {\r\n\r\n}\r\n```\r\nIsn&#39;t the following code more clean?\r\n```java\r\n@Bean(&quot;fooConfig&quot;)\r\npublic Baz method1() {\r\n\r\n}\r\n```\r\n\r\nIf I create two beans of the same type with different names (using @Bean annotation), then can we inject them specifically using the @Qualifier annotation(can be added on field/constructor parameter/setter) in another bean?\r\n```java\r\n\r\n@Bean(&quot;fooConfig&quot;)\r\npublic Baz method1(){\r\n\r\n}\r\n\r\n@Bean(&quot;barConfig&quot;)\r\npublic Baz method2(){\r\n\r\n}\r\n\r\n// constructor parameter of a different bean\r\nfinal @Qualifier(&quot;fooConfig&quot;) Baz myConfig\r\n```\r\n\r\nIf the above is true, then where do we use @Qualifier (with @Bean or @Component) instead of giving the bean a name as shown below?\r\n```java\r\n\r\n@Bean\r\n@Qualifier(&quot;fooConfig&quot;)\r\npublic Baz method1(){\r\n\r\n}\r\n\r\n@Bean\r\n@Qualifier(&quot;barConfig&quot;)\r\npublic Baz method2(){\r\n\r\n}\r\n\r\n// constructor parameter of a different bean\r\nfinal @Qualifier(&quot;fooConfig&quot;) Baz myConfig\r\n```\r\n \r\n\r\n","title":"Why do we use a qualifier when we can have a name for the bean?","body":"<p>Why do we use qualifiers with @Bean when we can have different names for different beans of the same type (class)?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Qualifier(&quot;fooConfig&quot;)\npublic Baz method1() {\n\n}\n</code></pre>\n<p>Isn't the following code more clean?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(&quot;fooConfig&quot;)\npublic Baz method1() {\n\n}\n</code></pre>\n<p>If I create two beans of the same type with different names (using @Bean annotation), then can we inject them specifically using the @Qualifier annotation(can be added on field/constructor parameter/setter) in another bean?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Bean(&quot;fooConfig&quot;)\npublic Baz method1(){\n\n}\n\n@Bean(&quot;barConfig&quot;)\npublic Baz method2(){\n\n}\n\n// constructor parameter of a different bean\nfinal @Qualifier(&quot;fooConfig&quot;) Baz myConfig\n</code></pre>\n<p>If the above is true, then where do we use @Qualifier (with @Bean or @Component) instead of giving the bean a name as shown below?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Bean\n@Qualifier(&quot;fooConfig&quot;)\npublic Baz method1(){\n\n}\n\n@Bean\n@Qualifier(&quot;barConfig&quot;)\npublic Baz method2(){\n\n}\n\n// constructor parameter of a different bean\nfinal @Qualifier(&quot;fooConfig&quot;) Baz myConfig\n</code></pre>\n"},{"tags":["java","windows","batch-file","cmd","process"],"comments":[{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":0,"creation_date":1334239297,"post_id":10124299,"comment_id":12976630,"body_markdown":"Can I ask why the no custom library requirement is in place?  In my experience, such requirements usually have a very poor reason for existing, and may be negotiable with explanation of the reason a library is needed (in this case, a required feature that is missing from the Java platform, namely a way of enumerating the subprocesses of a parent process).","body":"Can I ask why the no custom library requirement is in place?  In my experience, such requirements usually have a very poor reason for existing, and may be negotiable with explanation of the reason a library is needed (in this case, a required feature that is missing from the Java platform, namely a way of enumerating the subprocesses of a parent process)."}],"answers":[{"tags":[],"owner":{"account_id":67511,"reputation":5359,"user_id":197532,"accept_rate":56,"display_name":"Phani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334236663,"creation_date":1334236663,"answer_id":10124404,"question_id":10124299,"body_markdown":"You cannot kill a process tree for windows using JDK. You need to rely on WinAPI.You&#39;ll have to resort to native commands or JNI libraries, all of which are platform-dependent and more complex than a pure Java solution would be.\r\n\r\nA sample link [JNI Example][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2172520/how-to-use-winapi-functions-in-java","title":"How do I terminate a process tree?","body":"<p>You cannot kill a process tree for windows using JDK. You need to rely on WinAPI.You'll have to resort to native commands or JNI libraries, all of which are platform-dependent and more complex than a pure Java solution would be.</p>\n\n<p>A sample link <a href=\"https://stackoverflow.com/questions/2172520/how-to-use-winapi-functions-in-java\">JNI Example</a></p>\n"},{"tags":[],"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1449777945,"creation_date":1334237433,"answer_id":10124625,"question_id":10124299,"body_markdown":"This is not possible using the standard Java API (see edit at end of the post for an update that changes this).  You will need some native code of some variety.  Using JNA, I&#39;ve used code that looks like this:\r\n\r\n    public class Win32Process\r\n    {\r\n    \tWinNT.HANDLE handle;\r\n    \tint pid;\r\n    \t\r\n    \tWin32Process (int pid) throws IOException\r\n    \t{\r\n    \t\thandle = Kernel32.INSTANCE.OpenProcess ( \r\n    \t\t\t\t0x0400| /* PROCESS_QUERY_INFORMATION */\r\n    \t\t\t\t0x0800| /* PROCESS_SUSPEND_RESUME */\r\n    \t\t\t\t0x0001| /* PROCESS_TERMINATE */\r\n    \t\t\t\t0x00100000 /* SYNCHRONIZE */,\r\n    \t\t\t\tfalse,\r\n    \t\t\t\tpid);\r\n    \t\tif (handle == null) \r\n    \t\t\tthrow new IOException (&quot;OpenProcess failed: &quot; + \r\n    \t\t\t\t\tKernel32Util.formatMessageFromLastErrorCode (Kernel32.INSTANCE.GetLastError ()));\r\n    \t\tthis.pid = pid;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void finalize () throws Throwable\r\n    \t{\r\n    \t\tKernel32.INSTANCE.CloseHandle (handle);\r\n    \t}\r\n    \t\r\n        public void terminate ()\r\n    \t{\r\n    \t\tKernel32.INSTANCE.TerminateProcess (handle, 0);\r\n    \t}\r\n\r\n        public List&lt;Win32Process&gt; getChildren () throws IOException\r\n    \t{\r\n    \t\tArrayList&lt;Win32Process&gt; result = new ArrayList&lt;Win32Process&gt; ();\r\n    \t\tWinNT.HANDLE hSnap = KernelExtra.INSTANCE.CreateToolhelp32Snapshot (KernelExtra.TH32CS_SNAPPROCESS, new DWORD(0));\r\n    \t\tKernelExtra.PROCESSENTRY32.ByReference ent = new KernelExtra.PROCESSENTRY32.ByReference ();\r\n    \t\tif (!KernelExtra.INSTANCE.Process32First (hSnap, ent)) return result;\r\n    \t\tdo {\r\n    \t\t\tif (ent.th32ParentProcessID.intValue () == pid) result.add (new Win32Process (ent.th32ProcessID.intValue ()));\r\n    \t\t} while (KernelExtra.INSTANCE.Process32Next (hSnap, ent));\r\n    \t\tKernel32.INSTANCE.CloseHandle (hSnap);\r\n    \t\treturn result;\r\n    \t}\r\n   }\r\n\r\nThis code uses the following JNA declarations that are not included in the standard JNA library:\r\n\r\n    public interface KernelExtra extends StdCallLibrary {\r\n    \r\n        /**\r\n         * Includes all heaps of the process specified in th32ProcessID in the snapshot. To enumerate the heaps, see\r\n         * Heap32ListFirst.\r\n         */\r\n        WinDef.DWORD TH32CS_SNAPHEAPLIST = new WinDef.DWORD(0x00000001);\r\n    \r\n        /**\r\n         * Includes all processes in the system in the snapshot. To enumerate the processes, see Process32First.\r\n         */\r\n        WinDef.DWORD TH32CS_SNAPPROCESS  = new WinDef.DWORD(0x00000002);\r\n    \r\n        /**\r\n         * Includes all threads in the system in the snapshot. To enumerate the threads, see Thread32First.\r\n         */\r\n        WinDef.DWORD TH32CS_SNAPTHREAD   = new WinDef.DWORD(0x00000004);\r\n    \r\n        /**\r\n         * Includes all modules of the process specified in th32ProcessID in the snapshot. To enumerate the modules, see\r\n         * Module32First. If the function fails with ERROR_BAD_LENGTH, retry the function until it succeeds.\r\n         */\r\n        WinDef.DWORD TH32CS_SNAPMODULE   = new WinDef.DWORD(0x00000008);\r\n    \r\n        /**\r\n         * Includes all 32-bit modules of the process specified in th32ProcessID in the snapshot when called from a 64-bit\r\n         * process. This flag can be combined with TH32CS_SNAPMODULE or TH32CS_SNAPALL. If the function fails with\r\n         * ERROR_BAD_LENGTH, retry the function until it succeeds.\r\n         */\r\n        WinDef.DWORD TH32CS_SNAPMODULE32 = new WinDef.DWORD(0x00000010);\r\n    \r\n        /**\r\n         * Includes all processes and threads in the system, plus the heaps and modules of the process specified in th32ProcessID.\r\n         */\r\n        WinDef.DWORD TH32CS_SNAPALL      = new WinDef.DWORD((TH32CS_SNAPHEAPLIST.intValue() |\r\n                TH32CS_SNAPPROCESS.intValue() | TH32CS_SNAPTHREAD.intValue() | TH32CS_SNAPMODULE.intValue()));\r\n    \r\n        /**\r\n         * Indicates that the snapshot handle is to be inheritable.\r\n         */\r\n        WinDef.DWORD TH32CS_INHERIT      = new WinDef.DWORD(0x80000000);\r\n    \r\n        /**\r\n         * Describes an entry from a list of the processes residing in the system address space when a snapshot was taken.\r\n         */\r\n        public static class PROCESSENTRY32 extends Structure {\r\n    \r\n            public static class ByReference extends PROCESSENTRY32 implements Structure.ByReference {\r\n                public ByReference() {\r\n                }\r\n    \r\n                public ByReference(Pointer memory) {\r\n                    super(memory);\r\n                }\r\n            }\r\n    \r\n            public PROCESSENTRY32() {\r\n                dwSize = new WinDef.DWORD(size());\r\n            }\r\n    \r\n            public PROCESSENTRY32(Pointer memory) {\r\n                useMemory(memory);\r\n                read();\r\n            }\r\n    \r\n            /**\r\n             * The size of the structure, in bytes. Before calling the Process32First function, set this member to\r\n             * sizeof(PROCESSENTRY32). If you do not initialize dwSize, Process32First fails.\r\n             */\r\n            public WinDef.DWORD dwSize;\r\n    \r\n            /**\r\n             * This member is no longer used and is always set to zero.\r\n             */\r\n            public WinDef.DWORD cntUsage;\r\n    \r\n            /**\r\n             * The process identifier.\r\n             */\r\n            public WinDef.DWORD th32ProcessID;\r\n    \r\n            /**\r\n             * This member is no longer used and is always set to zero.\r\n             */\r\n            public BaseTSD.ULONG_PTR th32DefaultHeapID;\r\n    \r\n            /**\r\n             * This member is no longer used and is always set to zero.\r\n             */\r\n            public WinDef.DWORD th32ModuleID;\r\n    \r\n            /**\r\n             * The number of execution threads started by the process.\r\n             */\r\n            public WinDef.DWORD cntThreads;\r\n    \r\n            /**\r\n             * The identifier of the process that created this process (its parent process).\r\n             */\r\n            public WinDef.DWORD th32ParentProcessID;\r\n    \r\n            /**\r\n             * The base priority of any threads created by this process.\r\n             */\r\n            public WinDef.LONG pcPriClassBase;\r\n    \r\n            /**\r\n             * This member is no longer used, and is always set to zero.\r\n             */\r\n            public WinDef.DWORD dwFlags;\r\n    \r\n            /**\r\n             * The name of the executable file for the process. To retrieve the full path to the executable file, call the\r\n             * Module32First function and check the szExePath member of the MODULEENTRY32 structure that is returned.\r\n             * However, if the calling process is a 32-bit process, you must call the QueryFullProcessImageName function to\r\n             * retrieve the full path of the executable file for a 64-bit process.\r\n             */\r\n            public char[] szExeFile = new char[WinDef.MAX_PATH];\r\n        }\r\n        \r\n        \r\n        // the following methods are in kernel32.dll, but not declared there in the current version of Kernel32:\r\n        \r\n        /**\r\n         * Takes a snapshot of the specified processes, as well as the heaps, modules, and threads used by these processes.\r\n         *  \r\n         * @param dwFlags\r\n         *   The portions of the system to be included in the snapshot.\r\n         * \r\n         * @param th32ProcessID\r\n         *   The process identifier of the process to be included in the snapshot. This parameter can be zero to indicate\r\n         *   the current process. This parameter is used when the TH32CS_SNAPHEAPLIST, TH32CS_SNAPMODULE,\r\n         *   TH32CS_SNAPMODULE32, or TH32CS_SNAPALL value is specified. Otherwise, it is ignored and all processes are\r\n         *   included in the snapshot.\r\n         *\r\n         *   If the specified process is the Idle process or one of the CSRSS processes, this function fails and the last\r\n         *   error code is ERROR_ACCESS_DENIED because their access restrictions prevent user-level code from opening them.\r\n         *\r\n         *   If the specified process is a 64-bit process and the caller is a 32-bit process, this function fails and the\r\n         *   last error code is ERROR_PARTIAL_COPY (299).\r\n         *\r\n         * @return\r\n         *   If the function succeeds, it returns an open handle to the specified snapshot.\r\n         *\r\n         *   If the function fails, it returns INVALID_HANDLE_VALUE. To get extended error information, call GetLastError.\r\n         *   Possible error codes include ERROR_BAD_LENGTH.\r\n         */\r\n        public WinNT.HANDLE CreateToolhelp32Snapshot(WinDef.DWORD dwFlags, WinDef.DWORD th32ProcessID);\r\n    \r\n        /**\r\n         * Retrieves information about the first process encountered in a system snapshot.\r\n         *\r\n         * @param hSnapshot A handle to the snapshot returned from a previous call to the CreateToolhelp32Snapshot function.\r\n         * @param lppe A pointer to a PROCESSENTRY32 structure. It contains process information such as the name of the\r\n         *   executable file, the process identifier, and the process identifier of the parent process.\r\n         * @return\r\n         *   Returns TRUE if the first entry of the process list has been copied to the buffer or FALSE otherwise. The\r\n         *   ERROR_NO_MORE_FILES error value is returned by the GetLastError function if no processes exist or the snapshot\r\n         *   does not contain process information.\r\n         */\r\n        public boolean Process32First(WinNT.HANDLE hSnapshot, KernelExtra.PROCESSENTRY32.ByReference lppe);\r\n    \r\n        /**\r\n         * Retrieves information about the next process recorded in a system snapshot.\r\n         *\r\n         * @param hSnapshot A handle to the snapshot returned from a previous call to the CreateToolhelp32Snapshot function.\r\n         * @param lppe A pointer to a PROCESSENTRY32 structure.\r\n         * @return\r\n         *   Returns TRUE if the next entry of the process list has been copied to the buffer or FALSE otherwise. The\r\n         *   ERROR_NO_MORE_FILES error value is returned by the GetLastError function if no processes exist or the snapshot\r\n         *   does not contain process information.\r\n         */\r\n        public boolean Process32Next(WinNT.HANDLE hSnapshot, KernelExtra.PROCESSENTRY32.ByReference lppe);\r\n     \r\n        \r\n    }\r\n\r\n\r\n\r\nYou can then use the &#39;getChildren()&#39; method to get a list of children, terminate the parent, and then recursively terminate the children.\r\n\r\nI believe you can extra the PID of a java.lang.Process using reflection (I haven&#39;t done this, however; I switched to creating the processes myself using the Win32 API so that I would have more control over it).\r\n\r\nSo putting it together, you&#39;d need something like:\r\n\r\n    int pid = (some code to extract PID from the process you want to kill);\r\n    Win32Process process = new Win32Process(pid);\r\n    kill(process);\r\n \r\n    public void kill(Win32Process target) throws IOException\r\n    {\r\n       List&lt;Win32Process&gt; children = target.getChildren ();\r\n       target.terminateProcess ();\r\n       for (Win32Process child : children) kill(child);\r\n    }\r\n\r\n\r\nEdit\r\n====\r\nIt turns out that this particular shortcoming of the Java API is being fixed in Java 9. See the preview of the Java 9 documentation [here](http://download.java.net/jdk9/docs/api/index.html?java/lang/ProcessHandle.html) (if the correct page doesn&#39;t load, you need to look at the `java.lang.ProcessHandle` interface).  For the requirement of the question above, the code would now look something like this:\r\n\r\n    Process child = ...;\r\n    kill (child.toHandle());\r\n\r\n    public void kill (ProcessHandle handle)\r\n    {\r\n        handle.descendants().forEach((child) -&gt; kill(child));\r\n        handle.destroy();\r\n    }\r\n\r\n(Note that this isn&#39;t tested - I haven&#39;t switched to Java 9 yet, but am actively reading about it)","title":"How do I terminate a process tree?","body":"<p>This is not possible using the standard Java API (see edit at end of the post for an update that changes this).  You will need some native code of some variety.  Using JNA, I've used code that looks like this:</p>\n\n<pre><code>public class Win32Process\n{\n    WinNT.HANDLE handle;\n    int pid;\n\n    Win32Process (int pid) throws IOException\n    {\n        handle = Kernel32.INSTANCE.OpenProcess ( \n                0x0400| /* PROCESS_QUERY_INFORMATION */\n                0x0800| /* PROCESS_SUSPEND_RESUME */\n                0x0001| /* PROCESS_TERMINATE */\n                0x00100000 /* SYNCHRONIZE */,\n                false,\n                pid);\n        if (handle == null) \n            throw new IOException (\"OpenProcess failed: \" + \n                    Kernel32Util.formatMessageFromLastErrorCode (Kernel32.INSTANCE.GetLastError ()));\n        this.pid = pid;\n    }\n\n    @Override\n    protected void finalize () throws Throwable\n    {\n        Kernel32.INSTANCE.CloseHandle (handle);\n    }\n\n    public void terminate ()\n    {\n        Kernel32.INSTANCE.TerminateProcess (handle, 0);\n    }\n\n    public List&lt;Win32Process&gt; getChildren () throws IOException\n    {\n        ArrayList&lt;Win32Process&gt; result = new ArrayList&lt;Win32Process&gt; ();\n        WinNT.HANDLE hSnap = KernelExtra.INSTANCE.CreateToolhelp32Snapshot (KernelExtra.TH32CS_SNAPPROCESS, new DWORD(0));\n        KernelExtra.PROCESSENTRY32.ByReference ent = new KernelExtra.PROCESSENTRY32.ByReference ();\n        if (!KernelExtra.INSTANCE.Process32First (hSnap, ent)) return result;\n        do {\n            if (ent.th32ParentProcessID.intValue () == pid) result.add (new Win32Process (ent.th32ProcessID.intValue ()));\n        } while (KernelExtra.INSTANCE.Process32Next (hSnap, ent));\n        Kernel32.INSTANCE.CloseHandle (hSnap);\n        return result;\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>This code uses the following JNA declarations that are not included in the standard JNA library:</p>\n\n<pre><code>public interface KernelExtra extends StdCallLibrary {\n\n    /**\n     * Includes all heaps of the process specified in th32ProcessID in the snapshot. To enumerate the heaps, see\n     * Heap32ListFirst.\n     */\n    WinDef.DWORD TH32CS_SNAPHEAPLIST = new WinDef.DWORD(0x00000001);\n\n    /**\n     * Includes all processes in the system in the snapshot. To enumerate the processes, see Process32First.\n     */\n    WinDef.DWORD TH32CS_SNAPPROCESS  = new WinDef.DWORD(0x00000002);\n\n    /**\n     * Includes all threads in the system in the snapshot. To enumerate the threads, see Thread32First.\n     */\n    WinDef.DWORD TH32CS_SNAPTHREAD   = new WinDef.DWORD(0x00000004);\n\n    /**\n     * Includes all modules of the process specified in th32ProcessID in the snapshot. To enumerate the modules, see\n     * Module32First. If the function fails with ERROR_BAD_LENGTH, retry the function until it succeeds.\n     */\n    WinDef.DWORD TH32CS_SNAPMODULE   = new WinDef.DWORD(0x00000008);\n\n    /**\n     * Includes all 32-bit modules of the process specified in th32ProcessID in the snapshot when called from a 64-bit\n     * process. This flag can be combined with TH32CS_SNAPMODULE or TH32CS_SNAPALL. If the function fails with\n     * ERROR_BAD_LENGTH, retry the function until it succeeds.\n     */\n    WinDef.DWORD TH32CS_SNAPMODULE32 = new WinDef.DWORD(0x00000010);\n\n    /**\n     * Includes all processes and threads in the system, plus the heaps and modules of the process specified in th32ProcessID.\n     */\n    WinDef.DWORD TH32CS_SNAPALL      = new WinDef.DWORD((TH32CS_SNAPHEAPLIST.intValue() |\n            TH32CS_SNAPPROCESS.intValue() | TH32CS_SNAPTHREAD.intValue() | TH32CS_SNAPMODULE.intValue()));\n\n    /**\n     * Indicates that the snapshot handle is to be inheritable.\n     */\n    WinDef.DWORD TH32CS_INHERIT      = new WinDef.DWORD(0x80000000);\n\n    /**\n     * Describes an entry from a list of the processes residing in the system address space when a snapshot was taken.\n     */\n    public static class PROCESSENTRY32 extends Structure {\n\n        public static class ByReference extends PROCESSENTRY32 implements Structure.ByReference {\n            public ByReference() {\n            }\n\n            public ByReference(Pointer memory) {\n                super(memory);\n            }\n        }\n\n        public PROCESSENTRY32() {\n            dwSize = new WinDef.DWORD(size());\n        }\n\n        public PROCESSENTRY32(Pointer memory) {\n            useMemory(memory);\n            read();\n        }\n\n        /**\n         * The size of the structure, in bytes. Before calling the Process32First function, set this member to\n         * sizeof(PROCESSENTRY32). If you do not initialize dwSize, Process32First fails.\n         */\n        public WinDef.DWORD dwSize;\n\n        /**\n         * This member is no longer used and is always set to zero.\n         */\n        public WinDef.DWORD cntUsage;\n\n        /**\n         * The process identifier.\n         */\n        public WinDef.DWORD th32ProcessID;\n\n        /**\n         * This member is no longer used and is always set to zero.\n         */\n        public BaseTSD.ULONG_PTR th32DefaultHeapID;\n\n        /**\n         * This member is no longer used and is always set to zero.\n         */\n        public WinDef.DWORD th32ModuleID;\n\n        /**\n         * The number of execution threads started by the process.\n         */\n        public WinDef.DWORD cntThreads;\n\n        /**\n         * The identifier of the process that created this process (its parent process).\n         */\n        public WinDef.DWORD th32ParentProcessID;\n\n        /**\n         * The base priority of any threads created by this process.\n         */\n        public WinDef.LONG pcPriClassBase;\n\n        /**\n         * This member is no longer used, and is always set to zero.\n         */\n        public WinDef.DWORD dwFlags;\n\n        /**\n         * The name of the executable file for the process. To retrieve the full path to the executable file, call the\n         * Module32First function and check the szExePath member of the MODULEENTRY32 structure that is returned.\n         * However, if the calling process is a 32-bit process, you must call the QueryFullProcessImageName function to\n         * retrieve the full path of the executable file for a 64-bit process.\n         */\n        public char[] szExeFile = new char[WinDef.MAX_PATH];\n    }\n\n\n    // the following methods are in kernel32.dll, but not declared there in the current version of Kernel32:\n\n    /**\n     * Takes a snapshot of the specified processes, as well as the heaps, modules, and threads used by these processes.\n     *  \n     * @param dwFlags\n     *   The portions of the system to be included in the snapshot.\n     * \n     * @param th32ProcessID\n     *   The process identifier of the process to be included in the snapshot. This parameter can be zero to indicate\n     *   the current process. This parameter is used when the TH32CS_SNAPHEAPLIST, TH32CS_SNAPMODULE,\n     *   TH32CS_SNAPMODULE32, or TH32CS_SNAPALL value is specified. Otherwise, it is ignored and all processes are\n     *   included in the snapshot.\n     *\n     *   If the specified process is the Idle process or one of the CSRSS processes, this function fails and the last\n     *   error code is ERROR_ACCESS_DENIED because their access restrictions prevent user-level code from opening them.\n     *\n     *   If the specified process is a 64-bit process and the caller is a 32-bit process, this function fails and the\n     *   last error code is ERROR_PARTIAL_COPY (299).\n     *\n     * @return\n     *   If the function succeeds, it returns an open handle to the specified snapshot.\n     *\n     *   If the function fails, it returns INVALID_HANDLE_VALUE. To get extended error information, call GetLastError.\n     *   Possible error codes include ERROR_BAD_LENGTH.\n     */\n    public WinNT.HANDLE CreateToolhelp32Snapshot(WinDef.DWORD dwFlags, WinDef.DWORD th32ProcessID);\n\n    /**\n     * Retrieves information about the first process encountered in a system snapshot.\n     *\n     * @param hSnapshot A handle to the snapshot returned from a previous call to the CreateToolhelp32Snapshot function.\n     * @param lppe A pointer to a PROCESSENTRY32 structure. It contains process information such as the name of the\n     *   executable file, the process identifier, and the process identifier of the parent process.\n     * @return\n     *   Returns TRUE if the first entry of the process list has been copied to the buffer or FALSE otherwise. The\n     *   ERROR_NO_MORE_FILES error value is returned by the GetLastError function if no processes exist or the snapshot\n     *   does not contain process information.\n     */\n    public boolean Process32First(WinNT.HANDLE hSnapshot, KernelExtra.PROCESSENTRY32.ByReference lppe);\n\n    /**\n     * Retrieves information about the next process recorded in a system snapshot.\n     *\n     * @param hSnapshot A handle to the snapshot returned from a previous call to the CreateToolhelp32Snapshot function.\n     * @param lppe A pointer to a PROCESSENTRY32 structure.\n     * @return\n     *   Returns TRUE if the next entry of the process list has been copied to the buffer or FALSE otherwise. The\n     *   ERROR_NO_MORE_FILES error value is returned by the GetLastError function if no processes exist or the snapshot\n     *   does not contain process information.\n     */\n    public boolean Process32Next(WinNT.HANDLE hSnapshot, KernelExtra.PROCESSENTRY32.ByReference lppe);\n\n\n}\n</code></pre>\n\n<p>You can then use the 'getChildren()' method to get a list of children, terminate the parent, and then recursively terminate the children.</p>\n\n<p>I believe you can extra the PID of a java.lang.Process using reflection (I haven't done this, however; I switched to creating the processes myself using the Win32 API so that I would have more control over it).</p>\n\n<p>So putting it together, you'd need something like:</p>\n\n<pre><code>int pid = (some code to extract PID from the process you want to kill);\nWin32Process process = new Win32Process(pid);\nkill(process);\n\npublic void kill(Win32Process target) throws IOException\n{\n   List&lt;Win32Process&gt; children = target.getChildren ();\n   target.terminateProcess ();\n   for (Win32Process child : children) kill(child);\n}\n</code></pre>\n\n<h1>Edit</h1>\n\n<p>It turns out that this particular shortcoming of the Java API is being fixed in Java 9. See the preview of the Java 9 documentation <a href=\"http://download.java.net/jdk9/docs/api/index.html?java/lang/ProcessHandle.html\" rel=\"noreferrer\">here</a> (if the correct page doesn't load, you need to look at the <code>java.lang.ProcessHandle</code> interface).  For the requirement of the question above, the code would now look something like this:</p>\n\n<pre><code>Process child = ...;\nkill (child.toHandle());\n\npublic void kill (ProcessHandle handle)\n{\n    handle.descendants().forEach((child) -&gt; kill(child));\n    handle.destroy();\n}\n</code></pre>\n\n<p>(Note that this isn't tested - I haven't switched to Java 9 yet, but am actively reading about it)</p>\n"},{"tags":[],"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1334238422,"creation_date":1334238422,"answer_id":10124898,"question_id":10124299,"body_markdown":"An alternative solution, if you control the child process as well as the batch file, would be to have the child process create a thread, open a ServerSocket, listen for a connection to it, and call System.exit() if it receives a correct password on it.\r\n\r\nThere may be complications if you need multiple simultaneous instances; at that point you would need some way of allocating port numbers to them.\r\n","title":"How do I terminate a process tree?","body":"<p>An alternative solution, if you control the child process as well as the batch file, would be to have the child process create a thread, open a ServerSocket, listen for a connection to it, and call System.exit() if it receives a correct password on it.</p>\n\n<p>There may be complications if you need multiple simultaneous instances; at that point you would need some way of allocating port numbers to them.</p>\n"},{"tags":[],"owner":{"account_id":182854,"reputation":265,"user_id":417846,"display_name":"Namaste"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383012935,"creation_date":1383012935,"answer_id":19648485,"question_id":10124299,"body_markdown":"Here is another option. Use this powershell script to execute your bat script. When you want to kill the tree, terminate your powershell script&#39;s process and it will execute taskkill on it&#39;s subprocess automatically. I have it calling taskkill twice because in some cases it doesn&#39;t take on the first try.\r\n\r\n    Param(\r\n    \t[string]$path\r\n    )\r\n    \r\n    $p = [Diagnostics.Process]::Start(&quot;$path&quot;).Id\r\n    \r\n    try {\r\n    \twhile($true) {\r\n    \t\tsleep 100000\r\n    \t}\r\n    } finally {\r\n    \ttaskkill /pid $p\r\n    \ttaskkill /pid $p\r\n    }","title":"How do I terminate a process tree?","body":"<p>Here is another option. Use this powershell script to execute your bat script. When you want to kill the tree, terminate your powershell script's process and it will execute taskkill on it's subprocess automatically. I have it calling taskkill twice because in some cases it doesn't take on the first try.</p>\n\n<pre><code>Param(\n    [string]$path\n)\n\n$p = [Diagnostics.Process]::Start(\"$path\").Id\n\ntry {\n    while($true) {\n        sleep 100000\n    }\n} finally {\n    taskkill /pid $p\n    taskkill /pid $p\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":461688,"reputation":1398,"user_id":863555,"accept_rate":88,"display_name":"Andr&#233;s Oviedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468569362,"creation_date":1468569362,"answer_id":38390802,"question_id":10124299,"body_markdown":"With java 9, killing the main process kills the whole process tree. You could do something like this:\r\n\r\n    Process ptree = Runtime.getRuntime().exec(&quot;cmd.exe&quot;,&quot;/c&quot;,&quot;xyz.bat&quot;);\r\n    // wait logic\r\n    ptree.destroy();\r\n\r\nPlease take a look at this [blog][1] and check out the ***Deal with Process Trees*** example.\r\n\r\n\r\n  [1]: http://blog.andresoviedo.org/2016/07/java-9-process-api.html","title":"How do I terminate a process tree?","body":"<p>With java 9, killing the main process kills the whole process tree. You could do something like this:</p>\n\n<pre><code>Process ptree = Runtime.getRuntime().exec(\"cmd.exe\",\"/c\",\"xyz.bat\");\n// wait logic\nptree.destroy();\n</code></pre>\n\n<p>Please take a look at this <a href=\"http://blog.andresoviedo.org/2016/07/java-9-process-api.html\" rel=\"nofollow\">blog</a> and check out the <strong><em>Deal with Process Trees</em></strong> example.</p>\n"},{"tags":[],"owner":{"account_id":11551473,"reputation":31,"user_id":8463967,"display_name":"Ashray Aman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626171271,"creation_date":1626165009,"answer_id":68359007,"question_id":10124299,"body_markdown":"You cannot do it with the standard Java API&#39;s for Java 8 or lower. \r\n#### Method 1 \r\nIf you have Java 9 or above, you can use [ProcessHandle](https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.html)\r\n#### Method 2\r\nUse `taskkill` with the `/t` and `/f` flag with `Runtime.getRuntime().exec()` or `ProcessBuilder` class in Java.\r\n\r\n/f --&gt; to force kill \r\n/t --&gt; to kill all the child processes generated by this process.\r\n\r\n    ProcessBuilder pb1 = new ProcessBuilder(&quot;cmd.exe&quot;,&quot;/c&quot;,&quot;taskkill /f /t /pid &quot;+p.pid());\r\n    Process p1 = pb1.start();\r\n# Detailed Analysis #\r\n\r\n\r\nI had used process builder to do it inside my Java code. \r\n\r\nI had reproduced the problem statement.\r\nThis is a sample batch file that starts another `Powershell` process in windows to print counter from 1 to 20 each second, which is the child process:\r\n\r\n    @echo off\r\n    echo starting\r\n    powershell -command &quot; for ($count=1;$count -le 20;$count++) { Start-Sleep 1; Write-Output $count }&quot;\r\n    echo success\r\n\r\nps: you&#39;ll need to redirect InputStream to stdout to obtain output on terminal.\r\n\r\nUsing `destroy()` method of `process` object kills only that process and not the child/grandchild processes. \r\n\r\nYou can run `tasklist` on terminal and locate `powershell.exe` to compare before and after you run the java program to see the child processes still running. \r\n\r\n\r\nTo kill the child processes along with parent process, start a new process using `ProcessBuilder` as below where `p` is the process that you want to get rid of:\r\n\r\n    ProcessBuilder pb1 = new ProcessBuilder(&quot;cmd.exe&quot;,&quot;/c&quot;,&quot;taskkill /f /t /pid &quot;+p.pid());\r\n    Process p1 = pb1.start();\r\n","title":"How do I terminate a process tree?","body":"<p>You cannot do it with the standard Java API's for Java 8 or lower.</p>\n<h4 id=\"method-1-scuw\">Method 1</h4>\n<p>If you have Java 9 or above, you can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.html\" rel=\"nofollow noreferrer\">ProcessHandle</a></p>\n<h4 id=\"method-2-ohix\">Method 2</h4>\n<p>Use <code>taskkill</code> with the <code>/t</code> and <code>/f</code> flag with <code>Runtime.getRuntime().exec()</code> or <code>ProcessBuilder</code> class in Java.</p>\n<p>/f --&gt; to force kill\n/t --&gt; to kill all the child processes generated by this process.</p>\n<pre><code>ProcessBuilder pb1 = new ProcessBuilder(&quot;cmd.exe&quot;,&quot;/c&quot;,&quot;taskkill /f /t /pid &quot;+p.pid());\nProcess p1 = pb1.start();\n</code></pre>\n<h1 id=\"detailed-analysis-qfdd\">Detailed Analysis</h1>\n<p>I had used process builder to do it inside my Java code.</p>\n<p>I had reproduced the problem statement.\nThis is a sample batch file that starts another <code>Powershell</code> process in windows to print counter from 1 to 20 each second, which is the child process:</p>\n<pre><code>@echo off\necho starting\npowershell -command &quot; for ($count=1;$count -le 20;$count++) { Start-Sleep 1; Write-Output $count }&quot;\necho success\n</code></pre>\n<p>ps: you'll need to redirect InputStream to stdout to obtain output on terminal.</p>\n<p>Using <code>destroy()</code> method of <code>process</code> object kills only that process and not the child/grandchild processes.</p>\n<p>You can run <code>tasklist</code> on terminal and locate <code>powershell.exe</code> to compare before and after you run the java program to see the child processes still running.</p>\n<p>To kill the child processes along with parent process, start a new process using <code>ProcessBuilder</code> as below where <code>p</code> is the process that you want to get rid of:</p>\n<pre><code>ProcessBuilder pb1 = new ProcessBuilder(&quot;cmd.exe&quot;,&quot;/c&quot;,&quot;taskkill /f /t /pid &quot;+p.pid());\nProcess p1 = pb1.start();\n</code></pre>\n"}],"owner":{"account_id":1335883,"reputation":356,"user_id":1278657,"accept_rate":100,"display_name":"sarathrami"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10949,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":10124625,"answer_count":6,"score":19,"last_activity_date":1670436309,"creation_date":1334236342,"question_id":10124299,"body_markdown":"I am using `Runtime.getRuntime().exec()` command to start a batch file which in turn starts another process for windows platform.\r\n\r\n    javaw.exe(Process1)\r\n     |___xyz.bat(Process2)\r\n            |___javaw.exe(Process3)\r\n\r\n`Runtime.getRuntime().exec()` returns a `Process` object which has a destroy method, but when I use `destroy()`, it kills only the *xyz.bat* and leaves the batch file&#39;s sub-process dangling.\r\n\r\nIs there a clean way in to destroy the process tree starting with the batch process as root?\r\n\r\nFor the record I cannot use any custom libraries to get rid of the batch file to by-pass the issue.","title":"How do I terminate a process tree?","body":"<p>I am using <code>Runtime.getRuntime().exec()</code> command to start a batch file which in turn starts another process for windows platform.</p>\n<pre><code>javaw.exe(Process1)\n |___xyz.bat(Process2)\n        |___javaw.exe(Process3)\n</code></pre>\n<p><code>Runtime.getRuntime().exec()</code> returns a <code>Process</code> object which has a destroy method, but when I use <code>destroy()</code>, it kills only the <em>xyz.bat</em> and leaves the batch file's sub-process dangling.</p>\n<p>Is there a clean way in to destroy the process tree starting with the batch process as root?</p>\n<p>For the record I cannot use any custom libraries to get rid of the batch file to by-pass the issue.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1670502816,"post_id":74721003,"comment_id":131892832,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1670504734,"post_id":74721003,"comment_id":131893416,"body_markdown":"We can’t point out the mistake in your code if we can’t see your code.  Edit your question and show us how you’ve attempted to use these classes.  And explain exactly what result you were expecting, and what you observed instead.","body":"We can’t point out the mistake in your code if we can’t see your code.  Edit your question and show us how you’ve attempted to use these classes.  And explain exactly what result you were expecting, and what you observed instead."}],"owner":{"account_id":23282571,"reputation":1,"user_id":17365833,"display_name":"Daniel_mccoy04"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670435980,"creation_date":1670435650,"question_id":74721003,"body_markdown":"I am trying to write code which takes the reference of an object created within the AudioFile class and add them to a list called AudioData within a seperate class called AudioManager which is going to be used to manage instances of AudioFile.\r\n\r\nI have tried to do this using an AudioCode and nextCode function which is the requirements of my project and have had no luck as of yet. ","title":"How do i get the reference of an object in AudioFile and add it to an array audioData within the audioManager class?","body":"<p>I am trying to write code which takes the reference of an object created within the AudioFile class and add them to a list called AudioData within a seperate class called AudioManager which is going to be used to manage instances of AudioFile.</p>\n<p>I have tried to do this using an AudioCode and nextCode function which is the requirements of my project and have had no luck as of yet.</p>\n"},{"tags":["java","android","android-studio","javadoc"],"comments":[{"owner":{"account_id":12251266,"reputation":17,"user_id":8941577,"display_name":"BrandonVanB"},"score":0,"creation_date":1670435175,"post_id":74720731,"comment_id":131877732,"body_markdown":"I&#39;m trying to let people know about something that I found helpful... to give back, but I wasn&#39;t allowed to answer the original question and when I recreated the question they auto-added &quot;-1&quot; to it.","body":"I&#39;m trying to let people know about something that I found helpful... to give back, but I wasn&#39;t allowed to answer the original question and when I recreated the question they auto-added &quot;-1&quot; to it."}],"answers":[{"tags":[],"owner":{"account_id":12251266,"reputation":17,"user_id":8941577,"display_name":"BrandonVanB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670434688,"creation_date":1670434688,"answer_id":74720786,"question_id":74720731,"body_markdown":"I tried to answer the original question, but it wasn&#39;t accepting new answers and mine it pretty different.  I encountered this issue when I refactored &gt; renamed a method, but also removed instances of it.  For some reason it wouldn&#39;t allow me to do both at the same time.  \r\n\r\nAnswer: You can separate these actions into different commits or recreate an unused method of the original name only to delete it in a subsequent commit.","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio 2","body":"<p>I tried to answer the original question, but it wasn't accepting new answers and mine it pretty different.  I encountered this issue when I refactored &gt; renamed a method, but also removed instances of it.  For some reason it wouldn't allow me to do both at the same time.</p>\n<p>Answer: You can separate these actions into different commits or recreate an unused method of the original name only to delete it in a subsequent commit.</p>\n"}],"owner":{"account_id":12251266,"reputation":17,"user_id":8941577,"display_name":"BrandonVanB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1670435239,"creation_date":1670434482,"question_id":74720731,"body_markdown":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio.  Encountered this failing the build.  The error message pointed to a method that I refactored &gt; renamed, but also removed all instances of the method in some classes, which also removes the import.  Javadoc complained that it wasn&#39;t finding the method for which the import was removed.\r\n\r\nsymbol:   method oldMethodName()\r\n  location: class MyClassTest\r\n/Filepath.java:420: error: cannot find symbol\r\n    oldMethodName();","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio 2","body":"<p>Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio.  Encountered this failing the build.  The error message pointed to a method that I refactored &gt; renamed, but also removed all instances of the method in some classes, which also removes the import.  Javadoc complained that it wasn't finding the method for which the import was removed.</p>\n<p>symbol:   method oldMethodName()\nlocation: class MyClassTest\n/Filepath.java:420: error: cannot find symbol\noldMethodName();</p>\n"},{"tags":["java","weblogic","nodemanager","oracle-access-manager"],"answers":[{"tags":[],"owner":{"account_id":22508787,"reputation":1,"user_id":16704002,"display_name":"xx lin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670435125,"creation_date":1670434983,"answer_id":74720848,"question_id":74712225,"body_markdown":"I approached this problem in several ways\r\n\r\n1. Comment out the java.security line in JAVA_HOME\r\n\r\n2. Make the same changes to jdk.zip in the installation directory\r\n\r\n    ```\r\n    #Comment this line\r\n    jdk.certpath.disabledAlgorithms=MD2, DSA, RSA keySize \\&lt; 2048\r\n    ```\r\n\r\n3. Set the system time to 20170504\r\n\r\n4. Set system variables\r\n ```\r\nexport _JAVA_OPTIONS=&quot;-Dweblogic.nodemanager.sslHostNameVerificationEnabled=false -Dweblogic.security.SSL.ignoreHostnameVerification=true -Dcom.sun.net.ssl.checkRevocation=false -Dcom.sun.jndi.ldap.object.disableEndpointIdentification=true&quot;\r\n````\r\n\r\nI suspect the ultimate solution is to change the system time.\r\nIt&#39;s scary to run an old project\r\n\r\nI&#39;m even going to develop an OAM plug-in\r\n\r\nHelp!","title":"Failed to install the OAM using the LCM during the post-configure steps，SSL error","body":"<p>I approached this problem in several ways</p>\n<ol>\n<li><p>Comment out the java.security line in JAVA_HOME</p>\n</li>\n<li><p>Make the same changes to jdk.zip in the installation directory</p>\n<pre><code>#Comment this line\njdk.certpath.disabledAlgorithms=MD2, DSA, RSA keySize \\&lt; 2048\n</code></pre>\n</li>\n<li><p>Set the system time to 20170504</p>\n</li>\n<li><p>Set system variables</p>\n</li>\n</ol>\n<pre><code>export _JAVA_OPTIONS=&quot;-Dweblogic.nodemanager.sslHostNameVerificationEnabled=false -Dweblogic.security.SSL.ignoreHostnameVerification=true -Dcom.sun.net.ssl.checkRevocation=false -Dcom.sun.jndi.ldap.object.disableEndpointIdentification=true&quot;\n</code></pre>\n<p>I suspect the ultimate solution is to change the system time.\nIt's scary to run an old project</p>\n<p>I'm even going to develop an OAM plug-in</p>\n<p>Help!</p>\n"}],"owner":{"account_id":22508787,"reputation":1,"user_id":16704002,"display_name":"xx lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670435125,"creation_date":1670391579,"question_id":74712225,"body_markdown":"So running a single node full stack installation with LCM. All goes fine till post-configure,\r\nwhere the script fails trying to connect to NodeManager. It gives\r\n\r\n```\r\n&lt;2022-12-6 下午08时56分54秒 CST&gt; &lt;Warning&gt; &lt;Security&gt; &lt;BEA-090479&gt; &lt;Certificate chain received from oam.com - 192.168.38.152 failed date validity checks.&gt; \r\nThis Exception occurred at Tue Dec 06 20:56:54 CST 2022.\r\njavax.net.ssl.SSLKeyException: [Security:090479]Certificate chain received from oam.com - 192.168.38.152 failed date validity checks.\r\nProblem invoking WLST - Traceback (innermost last):\r\n  File &quot;/u01/app/oracle/product/fmw/Oracle_IDMLCM1/provisioning/idm-provisioning-build/config/wait_for_nodemanager.py&quot;, line 13, in ?\r\n```\r\n\r\nSome sources suggest that I should modify the java.security file. But it didn&#39;t work.\r\n\r\nI made a change to java.security in java_home\r\n\r\n```\r\n# Comment this line\r\njdk.certpath.disabledAlgorithms=MD2, DSA, RSA keySize \\&lt; 2048\r\n```\r\n\r\nAnd for the record, I&#39;m using the JDK distributed with LCM. I believe it&#39;s 7u80.","title":"Failed to install the OAM using the LCM during the post-configure steps，SSL error","body":"<p>So running a single node full stack installation with LCM. All goes fine till post-configure,\nwhere the script fails trying to connect to NodeManager. It gives</p>\n<pre><code>&lt;2022-12-6 下午08时56分54秒 CST&gt; &lt;Warning&gt; &lt;Security&gt; &lt;BEA-090479&gt; &lt;Certificate chain received from oam.com - 192.168.38.152 failed date validity checks.&gt; \nThis Exception occurred at Tue Dec 06 20:56:54 CST 2022.\njavax.net.ssl.SSLKeyException: [Security:090479]Certificate chain received from oam.com - 192.168.38.152 failed date validity checks.\nProblem invoking WLST - Traceback (innermost last):\n  File &quot;/u01/app/oracle/product/fmw/Oracle_IDMLCM1/provisioning/idm-provisioning-build/config/wait_for_nodemanager.py&quot;, line 13, in ?\n</code></pre>\n<p>Some sources suggest that I should modify the java.security file. But it didn't work.</p>\n<p>I made a change to java.security in java_home</p>\n<pre><code># Comment this line\njdk.certpath.disabledAlgorithms=MD2, DSA, RSA keySize \\&lt; 2048\n</code></pre>\n<p>And for the record, I'm using the JDK distributed with LCM. I believe it's 7u80.</p>\n"},{"tags":["java","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670435095,"creation_date":1670435095,"answer_id":74720864,"question_id":74720787,"body_markdown":"Assuming you are using XmlMapper you can add &#39;WRITE_XML_DECLARATION&#39; configuration to add it \r\n\r\n        XmlMapper xmlMapper =  new XmlMapper();\r\n        xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true);//XML declaration\r\n\r\nSee, this question - https://stackoverflow.com/questions/41594320/easy-way-to-add-doctype-to-xml-with-jackson\r\n\r\n\r\n","title":"Jackson generates xml without the &lt;?xml?&gt; tag at the top","body":"<p>Assuming you are using XmlMapper you can add 'WRITE_XML_DECLARATION' configuration to add it</p>\n<pre><code>    XmlMapper xmlMapper =  new XmlMapper();\n    xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true);//XML declaration\n</code></pre>\n<p>See, this question - <a href=\"https://stackoverflow.com/questions/41594320/easy-way-to-add-doctype-to-xml-with-jackson\">Easy way to add DOCTYPE to XML with Jackson</a></p>\n"}],"owner":{"account_id":24148215,"reputation":75,"user_id":18635794,"display_name":"jbmgil_vlrzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74720864,"answer_count":1,"score":1,"last_activity_date":1670435095,"creation_date":1670434698,"question_id":74720787,"body_markdown":"I have a Java app that uses Jackson to generate a xml, but the final xml doesn&#39;t have the `&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot; standalone = &quot;yes&quot;?&gt;` at the beginig of the document, it starts at the `&lt;source&gt;` tag.\r\n\r\nI need this &lt;?xml?&gt; tag to appear at the top, but I can&#39;t manage to do so.","title":"Jackson generates xml without the &lt;?xml?&gt; tag at the top","body":"<p>I have a Java app that uses Jackson to generate a xml, but the final xml doesn't have the <code>&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot; standalone = &quot;yes&quot;?&gt;</code> at the beginig of the document, it starts at the <code>&lt;source&gt;</code> tag.</p>\n<p>I need this  tag to appear at the top, but I can't manage to do so.</p>\n"},{"tags":["java","maven","validation","annotations","notnull"],"comments":[{"owner":{"account_id":3234420,"reputation":3542,"user_id":2728956,"accept_rate":66,"display_name":"Vadim Kirilchuk"},"score":0,"creation_date":1491309295,"post_id":41249467,"comment_id":73486191,"body_markdown":"Possible duplicate of [Why @Nonnull annotation checked at runtime?](http://stackoverflow.com/questions/40847472/why-nonnull-annotation-checked-at-runtime)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/40847472/why-nonnull-annotation-checked-at-runtime\">Why @Nonnull annotation checked at runtime?</a>"},{"owner":{"account_id":3234420,"reputation":3542,"user_id":2728956,"accept_rate":66,"display_name":"Vadim Kirilchuk"},"score":0,"creation_date":1491309344,"post_id":41249467,"comment_id":73486226,"body_markdown":"That is IntelliJ IDEA 2016.3 feature(not very nice though).","body":"That is IntelliJ IDEA 2016.3 feature(not very nice though)."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482263337,"creation_date":1482263337,"answer_id":41250172,"question_id":41249467,"body_markdown":"Partially guessing here: you see, it is not &quot;IDEA&quot; that puts that extra check into the byte code.\r\n\r\nThe thing is: annotations can also be used to **generate** code (see [here][1] for some further reading). And as you can see from that link; the core thing for **code generation** is: that annotation requires a javax.annotation.processing.Processor class. And that will be used by the **compiler** to turn the source code annotation into something reasonable within byte code. \r\n\r\nIf I get you right, you failed to get those javax parts setup for your maven compile. So probably the one part is missing there; so the solution is to fix your maven setup to provide all required dependencies. \r\n\r\n  [1]: https://deors.wordpress.com/2011/10/08/annotation-processors/","title":"JetBrains&#39; @NotNull works only when project built from IDEA","body":"<p>Partially guessing here: you see, it is not \"IDEA\" that puts that extra check into the byte code.</p>\n\n<p>The thing is: annotations can also be used to <strong>generate</strong> code (see <a href=\"https://deors.wordpress.com/2011/10/08/annotation-processors/\" rel=\"nofollow noreferrer\">here</a> for some further reading). And as you can see from that link; the core thing for <strong>code generation</strong> is: that annotation requires a javax.annotation.processing.Processor class. And that will be used by the <strong>compiler</strong> to turn the source code annotation into something reasonable within byte code. </p>\n\n<p>If I get you right, you failed to get those javax parts setup for your maven compile. So probably the one part is missing there; so the solution is to fix your maven setup to provide all required dependencies. </p>\n"},{"tags":[],"owner":{"account_id":7478819,"reputation":3597,"user_id":5684265,"accept_rate":100,"display_name":"Jakub Ch."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482263883,"creation_date":1482263883,"answer_id":41250313,"question_id":41249467,"body_markdown":"Your `@NotNull` annotation seems to be part of IntelliLang plugin, designed to support coding in IDEA (i.e. helps in contract coding). I doubt it is available outside of IDEA.\r\n\r\n&gt; Before you start working with language injections, make sure that the IntelliLang plugin is enabled. The plugin is bundled with IntelliJ IDEA and is activated by default\r\n\r\nI don&#39;t know much about it, so please say hello to [reference][1]\r\n\r\n`javax.validation` on the other hand is designed to quite different things. It checks if data object content is valid via [Bean Validation][2] from java EE\r\n\r\n\r\n  [1]: http://www.jetbrains.com/help/idea/2016.3/nullable-and-notnull-annotations.html#d1797147e49\r\n  [2]: http://docs.oracle.com/javaee/6/tutorial/doc/gircz.html","title":"JetBrains&#39; @NotNull works only when project built from IDEA","body":"<p>Your <code>@NotNull</code> annotation seems to be part of IntelliLang plugin, designed to support coding in IDEA (i.e. helps in contract coding). I doubt it is available outside of IDEA.</p>\n\n<blockquote>\n  <p>Before you start working with language injections, make sure that the IntelliLang plugin is enabled. The plugin is bundled with IntelliJ IDEA and is activated by default</p>\n</blockquote>\n\n<p>I don't know much about it, so please say hello to <a href=\"http://www.jetbrains.com/help/idea/2016.3/nullable-and-notnull-annotations.html#d1797147e49\" rel=\"nofollow noreferrer\">reference</a></p>\n\n<p><code>javax.validation</code> on the other hand is designed to quite different things. It checks if data object content is valid via <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/gircz.html\" rel=\"nofollow noreferrer\">Bean Validation</a> from java EE</p>\n"},{"tags":[],"owner":{"account_id":8097,"reputation":6544,"user_id":14379,"display_name":"seanf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597066931,"creation_date":1597066931,"answer_id":63341418,"question_id":41249467,"body_markdown":"A Maven plug-in was created to do the same thing for Maven builds: \r\n\r\nhttps://github.com/osundblad/intellij-annotations-instrumenter-maven-plugin\r\n\r\nIt only works with JetBrains annotations by default.","title":"JetBrains&#39; @NotNull works only when project built from IDEA","body":"<p>A Maven plug-in was created to do the same thing for Maven builds:</p>\n<p><a href=\"https://github.com/osundblad/intellij-annotations-instrumenter-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/osundblad/intellij-annotations-instrumenter-maven-plugin</a></p>\n<p>It only works with JetBrains annotations by default.</p>\n"},{"tags":[],"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670435039,"creation_date":1670424913,"answer_id":74718627,"question_id":41249467,"body_markdown":"As noted by other answers, Intellij implemented a process to add the null checks to your code before it is compiled. There is one unofficial maven plugin (https://github.com/osundblad/intellij-annotations-instrumenter-maven-plugin) and some forks of it, but it is not longer maintained (last change was over a year ago) and I couldn&#39;t get it to work. \r\n\r\n\r\nThus, I recommend using another annotation instead. In my project, I switched to Lombok instead, which also has some nice additional features. To get it to work, you explicitly need to tell Lombok to throw another exception. See this working example:\r\n\r\n### Prequisites:\r\n\r\nYou need to add the lombok dependency to your maven pom.xml (find the latest version [here](https://search.maven.org/artifact/org.projectlombok/lombok)):\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nIn your root directory (inside the folder, that contains &#39;src&#39;) create a lombok.config with the following content:\r\n\r\n&lt;!-- language: config --&gt;\r\n\r\n    lombok.nonNull.exceptionType=IllegalArgumentException\r\n\r\n### 1. Use case\r\n\r\nNow you can use the `@NonNull` annotation for parameters and the null-checks will be generated automatically. You probably also need to add the maven-surefire-plugin to your pom.xml.\r\n\r\n### 2. Use case\r\n\r\nThere is a neat possibility to let Lombok figure out itself, when the null check is necessary and when not for constructors. The following code will generate a constructor with to parameters (list1, list2). But it will only throw an IllegalArgmentException/NullPointerException, if the argument &#39;list1&#39; is `null`, because list2 is not annotated with `@NonNull`.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import lombok.RequiredArgsConstructor;\r\n    import java.util.List;\r\n    \r\n    @RequiredArgsConstructor\r\n    public class A {\r\n    \r\n        @NonNull\r\n        private final List&lt;String&gt; list1;\r\n\r\n        private final List&lt;String&gt; list2;\r\n        \r\n        ...\r\n    }","title":"JetBrains&#39; @NotNull works only when project built from IDEA","body":"<p>As noted by other answers, Intellij implemented a process to add the null checks to your code before it is compiled. There is one unofficial maven plugin (<a href=\"https://github.com/osundblad/intellij-annotations-instrumenter-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/osundblad/intellij-annotations-instrumenter-maven-plugin</a>) and some forks of it, but it is not longer maintained (last change was over a year ago) and I couldn't get it to work.</p>\n<p>Thus, I recommend using another annotation instead. In my project, I switched to Lombok instead, which also has some nice additional features. To get it to work, you explicitly need to tell Lombok to throw another exception. See this working example:</p>\n<h3>Prequisites:</h3>\n<p>You need to add the lombok dependency to your maven pom.xml (find the latest version <a href=\"https://search.maven.org/artifact/org.projectlombok/lombok\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>In your root directory (inside the folder, that contains 'src') create a lombok.config with the following content:</p>\n<pre><code>lombok.nonNull.exceptionType=IllegalArgumentException\n</code></pre>\n<h3>1. Use case</h3>\n<p>Now you can use the <code>@NonNull</code> annotation for parameters and the null-checks will be generated automatically. You probably also need to add the maven-surefire-plugin to your pom.xml.</p>\n<h3>2. Use case</h3>\n<p>There is a neat possibility to let Lombok figure out itself, when the null check is necessary and when not for constructors. The following code will generate a constructor with to parameters (list1, list2). But it will only throw an IllegalArgmentException/NullPointerException, if the argument 'list1' is <code>null</code>, because list2 is not annotated with <code>@NonNull</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.RequiredArgsConstructor;\nimport java.util.List;\n\n@RequiredArgsConstructor\npublic class A {\n\n    @NonNull\n    private final List&lt;String&gt; list1;\n\n    private final List&lt;String&gt; list2;\n    \n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":6123918,"reputation":51,"user_id":4776563,"display_name":"Grofight"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1615,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1670435039,"creation_date":1482260613,"question_id":41249467,"body_markdown":"I wrote a simple project to learn how to work with annotation validation.\r\nFor that puspose I added maven dependency (also I tried javax.validation, that does not work for me):\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n        &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;15.0&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\nand used it this way:\r\n\r\n    public boolean add(@NotNull T entry){ ...\r\n\r\nWhen I build the project from IDEA, everything is fine, but it does not work when compiling the code with maven command.\r\nIn decompiled class file I noticed that IDEA compiles my classes in different way. It adds this check:\r\n\r\n    if (entry == null) {\r\n        $$$reportNull$$$0(0);\r\n    }\r\nAnd maven does not.\r\n\r\nI&#39;m I doing something wrong? Please, tell me how it should be used (no matter jetbrains or javax validation).","title":"JetBrains&#39; @NotNull works only when project built from IDEA","body":"<p>I wrote a simple project to learn how to work with annotation validation.\nFor that puspose I added maven dependency (also I tried javax.validation, that does not work for me):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n    &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n    &lt;version&gt;15.0&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n\n<p>and used it this way:</p>\n\n<pre><code>public boolean add(@NotNull T entry){ ...\n</code></pre>\n\n<p>When I build the project from IDEA, everything is fine, but it does not work when compiling the code with maven command.\nIn decompiled class file I noticed that IDEA compiles my classes in different way. It adds this check:</p>\n\n<pre><code>if (entry == null) {\n    $$$reportNull$$$0(0);\n}\n</code></pre>\n\n<p>And maven does not.</p>\n\n<p>I'm I doing something wrong? Please, tell me how it should be used (no matter jetbrains or javax validation).</p>\n"},{"tags":["java","android","json","jsonexception"],"comments":[{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1670453437,"post_id":74720819,"comment_id":131882399,"body_markdown":"Is the JSON object you show the object that&#39;s used in your code? That&#39;s the object you see when you print it, before going over the `jsonArray` length?","body":"Is the JSON object you show the object that&#39;s used in your code? That&#39;s the object you see when you print it, before going over the <code>jsonArray</code> length?"},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1670527792,"post_id":74720819,"comment_id":131901339,"body_markdown":"@JornRigter as you can see the above JSON. I also check in Postman,Logcat,Server but i am getting same JSON and it&#39;s not getting the `myRating` node. I am out of idea how i can fix it","body":"@JornRigter as you can see the above JSON. I also check in Postman,Logcat,Server but i am getting same JSON and it&#39;s not getting the <code>myRating</code> node. I am out of idea how i can fix it"},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1670528237,"post_id":74720819,"comment_id":131901471,"body_markdown":"Still a bit confused. All of the other variables from the JSON are parsed correctly? I was asking because if that&#39;s the case, then the only option I see of what&#39;s going on is that myRating is indeed missing from your JSON - that&#39;s why I asked if this is the JSON string you see when you print it, just before you start parsing the JSON","body":"Still a bit confused. All of the other variables from the JSON are parsed correctly? I was asking because if that&#39;s the case, then the only option I see of what&#39;s going on is that myRating is indeed missing from your JSON - that&#39;s why I asked if this is the JSON string you see when you print it, just before you start parsing the JSON"},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1670528428,"post_id":74720819,"comment_id":131901523,"body_markdown":"@JornRigter All the other variables are working fine. As you can see the loginstatus variable just above it and it is parsed successfully","body":"@JornRigter All the other variables are working fine. As you can see the loginstatus variable just above it and it is parsed successfully"},{"owner":{"account_id":19715420,"reputation":8505,"user_id":14434976,"display_name":"MariosP"},"score":0,"creation_date":1670575328,"post_id":74720819,"comment_id":131910374,"body_markdown":"@Ritu I have tested the json String you have provided and this exception occurred only for the `distance_check` property which doesn&#39;t exist on the first object (`org.json.JSONException: No value for distance_check`) but it works for the  `myRating`. For properties which may not exist in the json it is better to use the `optString` with a fallback like `optString(&quot;distance_check&quot;, &quot;0&quot;)`. Try to put a breakpoint below the line of `JSONObject childObject = jsonArray.getJSONObject(i);` and check their values again for each `JSONObject`.","body":"@Ritu I have tested the json String you have provided and this exception occurred only for the <code>distance_check</code> property which doesn&#39;t exist on the first object (<code>org.json.JSONException: No value for distance_check</code>) but it works for the  <code>myRating</code>. For properties which may not exist in the json it is better to use the <code>optString</code> with a fallback like <code>optString(&quot;distance_check&quot;, &quot;0&quot;)</code>. Try to put a breakpoint below the line of <code>JSONObject childObject = jsonArray.getJSONObject(i);</code> and check their values again for each <code>JSONObject</code>."},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1670627819,"post_id":74720819,"comment_id":131924878,"body_markdown":"@MariosP Thanks for the comment.  This is must value for app to run, so `optString` not an option. As you getting error on `distance_check ` and it&#39;s still exist on same node as `myRating` . Do you have any idea what i am doing wrong here?","body":"@MariosP Thanks for the comment.  This is must value for app to run, so <code>optString</code> not an option. As you getting error on <code>distance_check </code> and it&#39;s still exist on same node as <code>myRating</code> . Do you have any idea what i am doing wrong here?"},{"owner":{"account_id":19715420,"reputation":8505,"user_id":14434976,"display_name":"MariosP"},"score":0,"creation_date":1670830001,"post_id":74720819,"comment_id":131955402,"body_markdown":"@Ritu The `distance_check` doesn&#39;t exist on your first object and thats why it throws this exception but the `myRating` exists on both nodes and it works on my side. If you have verified that the json String has the `myRating` property in both nodes before starting to parse it then it would be helpful to upload a minimal  reproducible project sample with the error on Github so i can replicate it on my side.","body":"@Ritu The <code>distance_check</code> doesn&#39;t exist on your first object and thats why it throws this exception but the <code>myRating</code> exists on both nodes and it works on my side. If you have verified that the json String has the <code>myRating</code> property in both nodes before starting to parse it then it would be helpful to upload a minimal  reproducible project sample with the error on Github so i can replicate it on my side."},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":1,"creation_date":1671750406,"post_id":74720819,"comment_id":132170534,"body_markdown":"@MariosP I will put the code on Github and share a link with you soon","body":"@MariosP I will put the code on Github and share a link with you soon"}],"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670434832,"creation_date":1670434832,"question_id":74720819,"body_markdown":"My app was working fine but suddenly it start giving me erros `JSONException: No value for myRating`. I know it&#39;s means the value doesn&#39;t exist on JSON but i cross check dozens times that myRating exist in JSON i received and i am also able to get other values from same node. \r\n\r\nHere is my JSON\r\n\r\n    {\r\n        &quot;status&quot;: &quot;SUCCESS&quot;,\r\n        &quot;uData&quot;: [\r\n            {\r\n                &quot;User_ID&quot;: &quot;210&quot;,\r\n                &quot;First_Name&quot;: &quot;Alex &quot;,\r\n                &quot;Image&quot;: &quot;947d051925ba2014f231f17ffc04db6616645163211632870246.jpg&quot;,\r\n                &quot;coverPhoto&quot;: &quot;1ce295d101204be40363f1e11301ed97d41d8cd98f00b204e9800998ecf8427e16645163211188778355.jpg&quot;,\r\n                &quot;Gender&quot;: &quot;Male&quot;,\r\n                &quot;login_status&quot;: &quot;0&quot;,\r\n                &quot;myRating&quot;: &quot;5.00&quot;,\r\n                &quot;coverImageID&quot;: &quot;354&quot;,\r\n                &quot;ProfileImageID&quot;: &quot;343&quot;,\r\n                &quot;show_onlineStatus_check&quot;: &quot;1&quot;,\r\n                &quot;verify&quot;: &quot;1&quot;\r\n            },\r\n            {\r\n                &quot;User_ID&quot;: &quot;4&quot;,\r\n                &quot;First_Name&quot;: &quot;John&quot;,\r\n                &quot;Image&quot;: &quot;cf867d87b655591cbda928287da1ca3616520548151008802.jpg&quot;,\r\n                &quot;coverPhoto&quot;: &quot;0323e6cfa77488abce52aa273e2f5f8e16523048561229563452.jpg&quot;,\r\n                &quot;Gender&quot;: &quot;Female&quot;,\r\n                &quot;login_status&quot;: &quot;0&quot;,\r\n                &quot;myRating&quot;: &quot;5.00&quot;,\r\n                &quot;distance_check&quot;: &quot;1&quot;,\r\n                &quot;coverImageID&quot;: &quot;173&quot;,\r\n                &quot;ProfileImageID&quot;: &quot;174&quot;,\r\n                &quot;show_onlineStatus_check&quot;: &quot;1&quot;,\r\n                &quot;verify&quot;: &quot;2&quot;\r\n            }\r\n        ],\r\n        &quot;record&quot;: 3,\r\n        &quot;uCounter&quot;: &quot;50&quot;\r\n    }\r\n\r\n\r\nThat&#39;s how i am parsing JSON into my app\r\n\r\n    JSONObject parentArray = new JSONObject(completeJSON);\r\n    Log.d(TAG, &quot;Parent Array &quot; + parentArray);\r\n    JSONArray jsonArray = parentArray.getJSONArray(&quot;uData&quot;);\r\n    String profileCounter = parentArray.getString(&quot;uCounter&quot;);\r\n    Log.d(TAG, &quot;JSON Array Of UDATA &quot; + jsonArray); // User Data Where I have myRating node\r\n    \r\n    \r\n    String ImageURL, UserID, Distance, CoverPhoto, myRatings = null;\r\n    int Rec_Online_Status;\r\n    int distance_check, onlineStatus, verifyProfile;\r\n    \r\n    for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n    \r\n    \tJSONObject childObject = jsonArray.getJSONObject(i);\r\n    \tString Fname = childObject.getString(&quot;First_Name&quot;);\r\n    \r\n    \tImageURL = childObject.getString(&quot;Image&quot;);\r\n    \tCoverPhoto = childObject.getString(&quot;coverPhoto&quot;);\r\n    \r\n    \tUserID = childObject.getString(&quot;User_ID&quot;);\r\n    \r\n    \r\n    \tString gender = childObject.getString(&quot;Gender&quot;);\r\n    \tRec_Online_Status = childObject.getInt(&quot;login_status&quot;);\r\n    \r\n    \tdistance_check = Integer.parseInt(childObject.getString(&quot;distance_check&quot;));\r\n    \tonlineStatus = Integer.parseInt(childObject.getString(&quot;show_onlineStatus_check&quot;));\r\n    \tverifyProfile = Integer.parseInt(childObject.getString(&quot;verify&quot;));\r\n    \tboolean testValue = childObject.has(&quot;myRating&quot;);\r\n    \tLog.d(TAG, &quot;doInBackground: Test Log = &quot;+testValue);// This also return False\r\n    \tmyRatings = childObject.getString(&quot;myRating&quot;);// JSONException: No value for myRating\r\n    \t\r\n    \r\n    \tint profileID = Integer.parseInt(childObject.getString(&quot;ProfileImageID&quot;));\r\n    \tint coverID = Integer.parseInt(childObject.getString(&quot;coverImageID&quot;));\r\n    }\r\n\r\nI am really not sure what i am doing wrong and when value exist in same node it should get fetched but as you can see i am  getting exception. Can anyone help me out in this. The is required to run app so i am not using `has` or `optString`. ","title":"JSONException: No value for myRating even when value exist on same node","body":"<p>My app was working fine but suddenly it start giving me erros <code>JSONException: No value for myRating</code>. I know it's means the value doesn't exist on JSON but i cross check dozens times that myRating exist in JSON i received and i am also able to get other values from same node.</p>\n<p>Here is my JSON</p>\n<pre><code>{\n    &quot;status&quot;: &quot;SUCCESS&quot;,\n    &quot;uData&quot;: [\n        {\n            &quot;User_ID&quot;: &quot;210&quot;,\n            &quot;First_Name&quot;: &quot;Alex &quot;,\n            &quot;Image&quot;: &quot;947d051925ba2014f231f17ffc04db6616645163211632870246.jpg&quot;,\n            &quot;coverPhoto&quot;: &quot;1ce295d101204be40363f1e11301ed97d41d8cd98f00b204e9800998ecf8427e16645163211188778355.jpg&quot;,\n            &quot;Gender&quot;: &quot;Male&quot;,\n            &quot;login_status&quot;: &quot;0&quot;,\n            &quot;myRating&quot;: &quot;5.00&quot;,\n            &quot;coverImageID&quot;: &quot;354&quot;,\n            &quot;ProfileImageID&quot;: &quot;343&quot;,\n            &quot;show_onlineStatus_check&quot;: &quot;1&quot;,\n            &quot;verify&quot;: &quot;1&quot;\n        },\n        {\n            &quot;User_ID&quot;: &quot;4&quot;,\n            &quot;First_Name&quot;: &quot;John&quot;,\n            &quot;Image&quot;: &quot;cf867d87b655591cbda928287da1ca3616520548151008802.jpg&quot;,\n            &quot;coverPhoto&quot;: &quot;0323e6cfa77488abce52aa273e2f5f8e16523048561229563452.jpg&quot;,\n            &quot;Gender&quot;: &quot;Female&quot;,\n            &quot;login_status&quot;: &quot;0&quot;,\n            &quot;myRating&quot;: &quot;5.00&quot;,\n            &quot;distance_check&quot;: &quot;1&quot;,\n            &quot;coverImageID&quot;: &quot;173&quot;,\n            &quot;ProfileImageID&quot;: &quot;174&quot;,\n            &quot;show_onlineStatus_check&quot;: &quot;1&quot;,\n            &quot;verify&quot;: &quot;2&quot;\n        }\n    ],\n    &quot;record&quot;: 3,\n    &quot;uCounter&quot;: &quot;50&quot;\n}\n</code></pre>\n<p>That's how i am parsing JSON into my app</p>\n<pre><code>JSONObject parentArray = new JSONObject(completeJSON);\nLog.d(TAG, &quot;Parent Array &quot; + parentArray);\nJSONArray jsonArray = parentArray.getJSONArray(&quot;uData&quot;);\nString profileCounter = parentArray.getString(&quot;uCounter&quot;);\nLog.d(TAG, &quot;JSON Array Of UDATA &quot; + jsonArray); // User Data Where I have myRating node\n\n\nString ImageURL, UserID, Distance, CoverPhoto, myRatings = null;\nint Rec_Online_Status;\nint distance_check, onlineStatus, verifyProfile;\n\nfor (int i = 0; i &lt; jsonArray.length(); i++) {\n\n    JSONObject childObject = jsonArray.getJSONObject(i);\n    String Fname = childObject.getString(&quot;First_Name&quot;);\n\n    ImageURL = childObject.getString(&quot;Image&quot;);\n    CoverPhoto = childObject.getString(&quot;coverPhoto&quot;);\n\n    UserID = childObject.getString(&quot;User_ID&quot;);\n\n\n    String gender = childObject.getString(&quot;Gender&quot;);\n    Rec_Online_Status = childObject.getInt(&quot;login_status&quot;);\n\n    distance_check = Integer.parseInt(childObject.getString(&quot;distance_check&quot;));\n    onlineStatus = Integer.parseInt(childObject.getString(&quot;show_onlineStatus_check&quot;));\n    verifyProfile = Integer.parseInt(childObject.getString(&quot;verify&quot;));\n    boolean testValue = childObject.has(&quot;myRating&quot;);\n    Log.d(TAG, &quot;doInBackground: Test Log = &quot;+testValue);// This also return False\n    myRatings = childObject.getString(&quot;myRating&quot;);// JSONException: No value for myRating\n    \n\n    int profileID = Integer.parseInt(childObject.getString(&quot;ProfileImageID&quot;));\n    int coverID = Integer.parseInt(childObject.getString(&quot;coverImageID&quot;));\n}\n</code></pre>\n<p>I am really not sure what i am doing wrong and when value exist in same node it should get fetched but as you can see i am  getting exception. Can anyone help me out in this. The is required to run app so i am not using <code>has</code> or <code>optString</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1670434088,"post_id":74720613,"comment_id":131877372,"body_markdown":"You&#39;re trying to assign a boolean, and `(()-&gt;{})` is not a boolean. Unless you can show more code, there probably isn&#39;t any good reason to do this, just declare a normal method, and call that with the inputs it needs, to yield the boolean it should produce.","body":"You&#39;re trying to assign a boolean, and <code>(()-&gt;{})</code> is not a boolean. Unless you can show more code, there probably isn&#39;t any good reason to do this, just declare a normal method, and call that with the inputs it needs, to yield the boolean it should produce."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1670436048,"post_id":74720613,"comment_id":131878040,"body_markdown":"There is no good reason to use a function here.  Write normal code in an if block.","body":"There is no good reason to use a function here.  Write normal code in an if block."}],"answers":[{"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670434563,"creation_date":1670434563,"answer_id":74720754,"question_id":74720613,"body_markdown":"There are actually 2 problems in your code.\r\n\r\n 1. You are defining lambda function, but not calling it. Expected expression type is boolean, but you have some (also not properly defined) functional interface in true part of your ternary operator. Correct version might look like this (note extra braces after lambda expression):\r\n```\r\n    boolean m = kara.treeFront() ? (()-&gt; {\r\n            //content of function\r\n            return true;\r\n            })() : false;\r\n```\r\n 2. Java is strictly typed language and so are lambda expressions. They must be (implicitly or explicitly) of some functional interface type. Normally compiler can extract type information from context, but in this case it is `boolean` type expected, not an interface. I&#39;m not sure how smart compiler is on guessing lambda interface, but here it will likely fail. So, you&#39;ll probably need your lambda interface to be explicitly declared (`Supplier&lt;Boolean&gt;`, for example).","title":"Conditional operator (ternary operator) with anonymous function","body":"<p>There are actually 2 problems in your code.</p>\n<ol>\n<li>You are defining lambda function, but not calling it. Expected expression type is boolean, but you have some (also not properly defined) functional interface in true part of your ternary operator. Correct version might look like this (note extra braces after lambda expression):</li>\n</ol>\n<pre><code>    boolean m = kara.treeFront() ? (()-&gt; {\n            //content of function\n            return true;\n            })() : false;\n</code></pre>\n<ol start=\"2\">\n<li>Java is strictly typed language and so are lambda expressions. They must be (implicitly or explicitly) of some functional interface type. Normally compiler can extract type information from context, but in this case it is <code>boolean</code> type expected, not an interface. I'm not sure how smart compiler is on guessing lambda interface, but here it will likely fail. So, you'll probably need your lambda interface to be explicitly declared (<code>Supplier&lt;Boolean&gt;</code>, for example).</li>\n</ol>\n"}],"owner":{"account_id":26440042,"reputation":1,"user_id":20084724,"display_name":"Parcival"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670434563,"creation_date":1670433933,"question_id":74720613,"body_markdown":"I want to do some stuff in a anonymous function nested in a conditional operator:\r\n\r\n\r\n```\r\nimport javakara.JavaKaraProgram;\r\n\r\npublic class A4C extends JavaKaraProgram {\r\n  public void myProgram() {\r\n    while (!kara.onLeaf()) {\r\n        boolean m = kara.treeFront() ? (()-&gt;{\r\n            //content of function\r\n            }):false;\r\n    }\r\n  }\r\n} \r\n```\r\n\r\nkara.treeFront() returns a boolean\r\nI figured i have to make the conditional operator result in a variable. \r\n\r\n\r\nMy current error message is:\r\n\r\n```\r\n   path/a4c.java:6: error: incompatible types: bad type in conditional expression\r\n        boolean m = kara.treeFront() ? (()-&gt;{\r\n                                        ^\r\n        boolean is not a functional interface \r\n```\r\n\r\nWhat am i doing wrong?\r\n","title":"Conditional operator (ternary operator) with anonymous function","body":"<p>I want to do some stuff in a anonymous function nested in a conditional operator:</p>\n<pre><code>import javakara.JavaKaraProgram;\n\npublic class A4C extends JavaKaraProgram {\n  public void myProgram() {\n    while (!kara.onLeaf()) {\n        boolean m = kara.treeFront() ? (()-&gt;{\n            //content of function\n            }):false;\n    }\n  }\n} \n</code></pre>\n<p>kara.treeFront() returns a boolean\nI figured i have to make the conditional operator result in a variable.</p>\n<p>My current error message is:</p>\n<pre><code>   path/a4c.java:6: error: incompatible types: bad type in conditional expression\n        boolean m = kara.treeFront() ? (()-&gt;{\n                                        ^\n        boolean is not a functional interface \n</code></pre>\n<p>What am i doing wrong?</p>\n"},{"tags":["java","jpa","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"down_vote_count":2,"up_vote_count":8,"is_accepted":true,"score":6,"last_activity_date":1455694455,"creation_date":1455694455,"answer_id":35450467,"question_id":35450072,"body_markdown":"You need to join to `B` and then fetch the `id`:\r\n\r\n    Path&lt;Integer&gt; bId = root.join(&quot;b&quot;).get(&quot;id&quot;);\r\n\r\n","title":"How to select just the foreign key value using Criteria Query?","body":"<p>You need to join to <code>B</code> and then fetch the <code>id</code>:</p>\n\n<pre><code>Path&lt;Integer&gt; bId = root.join(\"b\").get(\"id\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13409261,"reputation":61,"user_id":9676336,"display_name":"David Windrem"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1551843091,"creation_date":1551843091,"answer_id":55015090,"question_id":35450072,"body_markdown":"You can declare the foreign key in class A where &quot;B_ID&quot; is the name of the foreign key column in table A.  And then you can root.get(&quot;bId&quot;) in your criteriabuilder example above.\r\nI have the same problem as you and this is working for me.\r\n \r\n\r\n    @Column(name=&quot;B_ID&quot;, insertable=false, updatable=false)\r\n    private int bId;\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;B_ID&quot;)\r\n    private B b;","title":"How to select just the foreign key value using Criteria Query?","body":"<p>You can declare the foreign key in class A where \"B_ID\" is the name of the foreign key column in table A.  And then you can root.get(\"bId\") in your criteriabuilder example above.\nI have the same problem as you and this is working for me.</p>\n\n<pre><code>@Column(name=\"B_ID\", insertable=false, updatable=false)\nprivate int bId;\n@ManyToOne(fetch = FetchType.EAGER)\n@JoinColumn(name = \"B_ID\")\nprivate B b;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23293206,"reputation":11,"user_id":17374958,"display_name":"Victor Moares"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636531019,"creation_date":1636531019,"answer_id":69909580,"question_id":35450072,"body_markdown":"You don&#39;t necessarily need to join if you&#39;re evaluating the FK primary key in the query, that is present in the A entity.\r\n\r\n    root.get(&quot;b&quot;)\r\n\r\nThis code will retrieve the FK by its primary key.\r\nFor example you can do:\r\n\r\n    root.get(&quot;b&quot;).in(List.of(1,2,3,4));\r\n\r\nAnd you have a valid predicate that is comparing the FK value with this list.","title":"How to select just the foreign key value using Criteria Query?","body":"<p>You don't necessarily need to join if you're evaluating the FK primary key in the query, that is present in the A entity.</p>\n<pre><code>root.get(&quot;b&quot;)\n</code></pre>\n<p>This code will retrieve the FK by its primary key.\nFor example you can do:</p>\n<pre><code>root.get(&quot;b&quot;).in(List.of(1,2,3,4));\n</code></pre>\n<p>And you have a valid predicate that is comparing the FK value with this list.</p>\n"},{"tags":[],"owner":{"account_id":11727495,"reputation":168,"user_id":8954702,"display_name":"Rodrigo Novaes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670434172,"creation_date":1670434172,"answer_id":74720668,"question_id":35450072,"body_markdown":"As correctly pointed out by @T3rm1 above:\r\n\r\n&gt; A join of B is not necessary if you want to filter only by the foreign key. You can do `criteriaQuery.where(criteriaBuilder.equal(root.get(&quot;b&quot;).get(&quot;id&quot;), &lt;idOfB&gt;)`.\r\n\r\nBasically, the `root.get` will get an expression to the mapped object in the model. You can therefore do a nested `get` on the foreign key. In summary:\r\n\r\n```\r\nroot.get(&quot;b&quot;).get(&quot;id&quot;);\r\n```","title":"How to select just the foreign key value using Criteria Query?","body":"<p>As correctly pointed out by @T3rm1 above:</p>\n<blockquote>\n<p>A join of B is not necessary if you want to filter only by the foreign key. You can do <code>criteriaQuery.where(criteriaBuilder.equal(root.get(&quot;b&quot;).get(&quot;id&quot;), &lt;idOfB&gt;)</code>.</p>\n</blockquote>\n<p>Basically, the <code>root.get</code> will get an expression to the mapped object in the model. You can therefore do a nested <code>get</code> on the foreign key. In summary:</p>\n<pre><code>root.get(&quot;b&quot;).get(&quot;id&quot;);\n</code></pre>\n"}],"owner":{"account_id":5529491,"reputation":2847,"user_id":4389984,"accept_rate":34,"display_name":"Anmol Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11265,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":35450467,"answer_count":4,"score":8,"last_activity_date":1670434172,"creation_date":1455692933,"question_id":35450072,"body_markdown":"Suppose I have two entities as:\r\n\r\n    @Entity\r\n    public class A {\r\n\r\n        @Id\r\n        private int id;\r\n        \r\n        @ManyToOne\r\n        private B b; \r\n \r\n        //more attributes\r\n    }\r\n    \r\n    @Entity\r\n    public class B {\r\n      \r\n        @Id\r\n        private int id;\r\n    }\r\n\r\nSo, the table for A is having a column as `b_id` as the foreign key. \r\n\r\nNow, I want to select just the `b_id` based on some criteria on other fields. How can I do this using criteria query?\r\n\r\nI tried doing following which throws IllegalArgumentException saying `&quot;Unable to locate Attribute with the given name [b_id] on this ManagedType [A]&quot;`\r\n\r\n\t\tCriteriaQuery&lt;Integer&gt; criteriaQuery = criteriaBuilder.createQuery(Integer.class);\r\n\t\tRoot&lt;A&gt; root = criteriaQuery.from(A.class);\r\n\t\tPath&lt;Integer&gt; bId = root.get(&quot;b_id&quot;);\r\n        //building the criteria\r\n\t\tcriteriaQuery.select(bId);\r\n\r\n\r\n","title":"How to select just the foreign key value using Criteria Query?","body":"<p>Suppose I have two entities as:</p>\n\n<pre><code>@Entity\npublic class A {\n\n    @Id\n    private int id;\n\n    @ManyToOne\n    private B b; \n\n    //more attributes\n}\n\n@Entity\npublic class B {\n\n    @Id\n    private int id;\n}\n</code></pre>\n\n<p>So, the table for A is having a column as <code>b_id</code> as the foreign key. </p>\n\n<p>Now, I want to select just the <code>b_id</code> based on some criteria on other fields. How can I do this using criteria query?</p>\n\n<p>I tried doing following which throws IllegalArgumentException saying <code>\"Unable to locate Attribute with the given name [b_id] on this ManagedType [A]\"</code></p>\n\n<pre><code>    CriteriaQuery&lt;Integer&gt; criteriaQuery = criteriaBuilder.createQuery(Integer.class);\n    Root&lt;A&gt; root = criteriaQuery.from(A.class);\n    Path&lt;Integer&gt; bId = root.get(\"b_id\");\n    //building the criteria\n    criteriaQuery.select(bId);\n</code></pre>\n"},{"tags":["java","spring","spring-security","spring-security-oauth2","multi-factor-authentication"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1670439010,"post_id":74720605,"comment_id":131878883,"body_markdown":"This might seem pure trolling, but I really wonder why so many people want to reinvent the weel. Why exactly do you want to implement, test and maintain such security-sensitive features that are already provided by many OIDC providers (Keycloak, Auth0, Okta, Amazon Cognito, etc.)?","body":"This might seem pure trolling, but I really wonder why so many people want to reinvent the weel. Why exactly do you want to implement, test and maintain such security-sensitive features that are already provided by many OIDC providers (Keycloak, Auth0, Okta, Amazon Cognito, etc.)?"},{"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"score":0,"creation_date":1670467614,"post_id":74720605,"comment_id":131884524,"body_markdown":"@ch4mp multi-factor authentication with oauth2 wasn&#39;t provided by spring","body":"@ch4mp multi-factor authentication with oauth2 wasn&#39;t provided by spring"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1670468735,"post_id":74720605,"comment_id":131884652,"body_markdown":"No, but it is by all the OIDC authorization-servers I listed","body":"No, but it is by all the OIDC authorization-servers I listed"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1670470013,"post_id":74720605,"comment_id":131884796,"body_markdown":"In addition to user registration, user management screens (including roles assignment), social login, connection to LDAP, etc.","body":"In addition to user registration, user management screens (including roles assignment), social login, connection to LDAP, etc."},{"owner":{"account_id":7169952,"reputation":156,"user_id":5477773,"display_name":"Yosmel L&#243;pez Pimentel"},"score":0,"creation_date":1675441852,"post_id":74720605,"comment_id":132936603,"body_markdown":"The new Spring Authorization Server, not offer the posibility to create a custom grant type, but you can do it by creating your own flow and overriding the main authorization flow. I&#180;ve been preparing an example to show how can we do it.","body":"The new Spring Authorization Server, not offer the posibility to create a custom grant type, but you can do it by creating your own flow and overriding the main authorization flow. I&#180;ve been preparing an example to show how can we do it."}],"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670433915,"creation_date":1670433915,"question_id":74720605,"body_markdown":"I&#39;m trying to implement multi-factor authentication (mfa) with spring oauth2. I have my own authorization server and I&#39;m trying to follow this guide https://sultanov.dev/blog/multi-factor-authentication-with-spring-boot-and-oauth2. I made two custom granter **CustomePasswordTokenGranter** and **MFATokenGranter**. **CustomePasswordTokenGranter** will return access_token with authority pre_auth to be used with **MFATokenGranter** later.\r\n\r\n    CustomPasswordTokenGranter -&gt; username, password -&gt; Oauth2AccessToken(authorities = [PRE_AUTH])\r\n    MFATokenGranter -&gt; access_token -&gt; do I need to check wheter it contains PRE_AUTH or not?\r\n\r\n\r\n    public class MfaTokenGranter extends AbstractTokenGranter {\r\n        @Override\r\n        protected OAuth2Authentication getOAuth2Authentication(ClientDetails client, TokenRequest tokenRequest) {\r\n            // do I need this line of code?\r\n            if(!client.getAuthorities().contains(PRE_AUTH)) {\r\n               throw new InvalidAuthorityException();\r\n            }\r\n        }\r\n    }\r\n\r\nbtw I&#39;m not sure if I have to check authority of a client that trying to access this granter. I want the token that was generated from **CustomePasswordTokenGranter** to be used with **MfaTokenGranter** only. Does spring automatically check that for me or I have to do it my own or it doesn&#39;t matter if I check it or not?\r\n\r\n","title":"Implement multi-factor authentication using Spring Oauth2 with custom grant type","body":"<p>I'm trying to implement multi-factor authentication (mfa) with spring oauth2. I have my own authorization server and I'm trying to follow this guide <a href=\"https://sultanov.dev/blog/multi-factor-authentication-with-spring-boot-and-oauth2\" rel=\"nofollow noreferrer\">https://sultanov.dev/blog/multi-factor-authentication-with-spring-boot-and-oauth2</a>. I made two custom granter <strong>CustomePasswordTokenGranter</strong> and <strong>MFATokenGranter</strong>. <strong>CustomePasswordTokenGranter</strong> will return access_token with authority pre_auth to be used with <strong>MFATokenGranter</strong> later.</p>\n<pre><code>CustomPasswordTokenGranter -&gt; username, password -&gt; Oauth2AccessToken(authorities = [PRE_AUTH])\nMFATokenGranter -&gt; access_token -&gt; do I need to check wheter it contains PRE_AUTH or not?\n\n\npublic class MfaTokenGranter extends AbstractTokenGranter {\n    @Override\n    protected OAuth2Authentication getOAuth2Authentication(ClientDetails client, TokenRequest tokenRequest) {\n        // do I need this line of code?\n        if(!client.getAuthorities().contains(PRE_AUTH)) {\n           throw new InvalidAuthorityException();\n        }\n    }\n}\n</code></pre>\n<p>btw I'm not sure if I have to check authority of a client that trying to access this granter. I want the token that was generated from <strong>CustomePasswordTokenGranter</strong> to be used with <strong>MfaTokenGranter</strong> only. Does spring automatically check that for me or I have to do it my own or it doesn't matter if I check it or not?</p>\n"},{"tags":["java","junit","mocking","mockito","bufferedreader"],"answers":[{"tags":[],"owner":{"account_id":20267584,"reputation":41,"user_id":14864415,"display_name":"Warferton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670433467,"creation_date":1670433467,"answer_id":74720533,"question_id":74719566,"body_markdown":"Based on the screenshot you provided I can see that the BufferedReader is instantiated inside the View class as a final field, hence the View object will use that instance of BufferedReader, instead of your mock.\r\n\r\nI would assume that you are not using any kind of dependency injection mechanism for this.\r\n\r\nMake the BufferedReader field a constructor parameter and pass the mock inside when creating a View object inside your testcase.\r\n\r\n```java\r\n@Test\r\nvoid whenCommandIsR_CallBuildRectangle() throws IOException {\r\n    BufferedReader bufferedReader = mock(BufferedReader.class);\r\n    when(bufferedReader.readLine()).thenReturn(&quot;C 10 10&quot;).thenReturn(&quot;Q&quot;);\r\n    View view = new View(bufferedReader);\r\n\r\n    view.inputCommand();\r\n    verify(bufferedReader, times(2)).readLine();\r\n }\r\n```\r\n","title":"Mock bufferedReader.readline() stubbing not working","body":"<p>Based on the screenshot you provided I can see that the BufferedReader is instantiated inside the View class as a final field, hence the View object will use that instance of BufferedReader, instead of your mock.</p>\n<p>I would assume that you are not using any kind of dependency injection mechanism for this.</p>\n<p>Make the BufferedReader field a constructor parameter and pass the mock inside when creating a View object inside your testcase.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid whenCommandIsR_CallBuildRectangle() throws IOException {\n    BufferedReader bufferedReader = mock(BufferedReader.class);\n    when(bufferedReader.readLine()).thenReturn(&quot;C 10 10&quot;).thenReturn(&quot;Q&quot;);\n    View view = new View(bufferedReader);\n\n    view.inputCommand();\n    verify(bufferedReader, times(2)).readLine();\n }\n</code></pre>\n"}],"owner":{"account_id":27179566,"reputation":3,"user_id":20715023,"display_name":"Winwin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670574792,"accepted_answer_id":74720533,"answer_count":1,"score":0,"last_activity_date":1670433467,"creation_date":1670429018,"question_id":74719566,"body_markdown":"My project requires user to input a command line in the console. I used bufferedreader.readline() to capture user input. My bufferedreader is in a while loop so it will keep reading new command and process it.\r\n\r\nClass View\r\n[bufferedreader will keep reading line if input is not &quot;Q&quot;](https://i.stack.imgur.com/4Hmer.png)\r\n\r\n\r\nFor my test, I created a mock bufferedreader in order to stub bufferedreader.readline to return a command.\r\n\r\n\r\n\r\n    `@Test\r\n        void whenCommandIsR_CallBuildRectangle() throws IOException {\r\n        View view = new View();\r\n        BufferedReader bufferedReader = mock(BufferedReader.class);\r\n\r\n        when(bufferedReader.readLine()).thenReturn(&quot;C 10 10&quot;).thenReturn(&quot;Q&quot;);\r\n\r\n        view.inputCommand();\r\n        verify(bufferedReader, times(2)).readLine();\r\n     }`\r\n\r\n\r\nWhen I run the test, the console is stuck at bufferedreader.readline(), the console shows\r\n[waiting for input](https://i.stack.imgur.com/47iP8.png)\r\n\r\nI expect the stubbing to work but it did not. Are there any ways to force the return for bufferedreader.readline?\r\n\r\nPlease assist. Thank you!","title":"Mock bufferedReader.readline() stubbing not working","body":"<p>My project requires user to input a command line in the console. I used bufferedreader.readline() to capture user input. My bufferedreader is in a while loop so it will keep reading new command and process it.</p>\n<p>Class View\n<a href=\"https://i.stack.imgur.com/4Hmer.png\" rel=\"nofollow noreferrer\">bufferedreader will keep reading line if input is not &quot;Q&quot;</a></p>\n<p>For my test, I created a mock bufferedreader in order to stub bufferedreader.readline to return a command.</p>\n<pre><code>`@Test\n    void whenCommandIsR_CallBuildRectangle() throws IOException {\n    View view = new View();\n    BufferedReader bufferedReader = mock(BufferedReader.class);\n\n    when(bufferedReader.readLine()).thenReturn(&quot;C 10 10&quot;).thenReturn(&quot;Q&quot;);\n\n    view.inputCommand();\n    verify(bufferedReader, times(2)).readLine();\n }`\n</code></pre>\n<p>When I run the test, the console is stuck at bufferedreader.readline(), the console shows\n<a href=\"https://i.stack.imgur.com/47iP8.png\" rel=\"nofollow noreferrer\">waiting for input</a></p>\n<p>I expect the stubbing to work but it did not. Are there any ways to force the return for bufferedreader.readline?</p>\n<p>Please assist. Thank you!</p>\n"},{"tags":["java","spring-boot","maven","junit","pojo"],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670433309,"creation_date":1670433309,"answer_id":74720509,"question_id":74720424,"body_markdown":"**This is bad programming practice.** *We should never write unit test cases for POJO, Entity &amp; Exception classes.* These classes should be covered by Integration Test cases or other Unit Test cases like Service Classes, Controllers etc.","title":"How to write Junit test cases for pojo classes if there is no implementation class?","body":"<p><strong>This is bad programming practice.</strong> <em>We should never write unit test cases for POJO, Entity &amp; Exception classes.</em> These classes should be covered by Integration Test cases or other Unit Test cases like Service Classes, Controllers etc.</p>\n"}],"owner":{"account_id":27180609,"reputation":19,"user_id":20715915,"display_name":"SGP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670433309,"creation_date":1670432867,"question_id":74720424,"body_markdown":"I&#39;m working in a project. In that project we have some pojo classes where we read the data from XML file. Now I have to write Junit test cases for that but there is no implementation of those pojo classes. How can I write the test cases for those pojo classes ?\r\n\r\n\r\n(There are so many classes are there among them I&#39;ll mention one)\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Tostring\r\n@XmlAccessor(XmlAccessType.FIELD)\r\npublic class AdditionalAddress{\r\n    @XmlElement(name =&#39;PersonalInfo&quot;)\r\n    private PersonalInfo personalInfo;\r\n    @XmlElement(name =&#39;AddressType&quot;)\r\n    private String addressType;\r\n}\r\n\r\n\r\n```\r\n\r\nI need to know how to write Junit test cases for these pojo classes?","title":"How to write Junit test cases for pojo classes if there is no implementation class?","body":"<p>I'm working in a project. In that project we have some pojo classes where we read the data from XML file. Now I have to write Junit test cases for that but there is no implementation of those pojo classes. How can I write the test cases for those pojo classes ?</p>\n<p>(There are so many classes are there among them I'll mention one)</p>\n<pre><code>@Getter\n@Setter\n@Tostring\n@XmlAccessor(XmlAccessType.FIELD)\npublic class AdditionalAddress{\n    @XmlElement(name ='PersonalInfo&quot;)\n    private PersonalInfo personalInfo;\n    @XmlElement(name ='AddressType&quot;)\n    private String addressType;\n}\n\n\n</code></pre>\n<p>I need to know how to write Junit test cases for these pojo classes?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1670345717,"post_id":74706269,"comment_id":131853165,"body_markdown":"The second code snippet is probably not the actual &quot;setup&quot; that you &quot;have&quot;: it has basic typos in it (`vaule`), and it&#39;s using `setValue` without any arguments. Where exactly are you checking that the actual runtime type of the `Object`s that you&#39;re getting out of the map actually matches the type of the `bc`-field? What if it attempts to set an integer into a `String`-field, what then?","body":"The second code snippet is probably not the actual &quot;setup&quot; that you &quot;have&quot;: it has basic typos in it (<code>vaule</code>), and it&#39;s using <code>setValue</code> without any arguments. Where exactly are you checking that the actual runtime type of the <code>Object</code>s that you&#39;re getting out of the map actually matches the type of the <code>bc</code>-field? What if it attempts to set an integer into a <code>String</code>-field, what then?"},{"owner":{"account_id":6981585,"reputation":367,"user_id":5354291,"display_name":"kTest"},"score":0,"creation_date":1670345910,"post_id":74706269,"comment_id":131853227,"body_markdown":"Thanks for your comment! That&#39;s right, I want to be able to set that dynamically without explicitly checking, using a generic method or some other way.","body":"Thanks for your comment! That&#39;s right, I want to be able to set that dynamically without explicitly checking, using a generic method or some other way."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1670345911,"post_id":74706269,"comment_id":131853228,"body_markdown":"Furthermore, since [generics are erased](https://docs.oracle.com/javase/tutorial/java/generics/erasure.html), this cannot work without casting (and thus foregoing type safety). The bound `&lt;?&gt;` will also make problems since we cannot determine the type of a generic parameter at runtime.","body":"Furthermore, since <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">generics are erased</a>, this cannot work without casting (and thus foregoing type safety). The bound <code>&lt;?&gt;</code> will also make problems since we cannot determine the type of a generic parameter at runtime."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1670346146,"post_id":74706269,"comment_id":131853311,"body_markdown":"_&quot;I want to be able to set that dynamically without explicitly checking&quot;_ - ok, the way you tell it to the compiler is by forcibly casting `bc` into `Initializable&lt;Object&gt;`, and then invoking `bc.setValue(value)`.","body":"<i>&quot;I want to be able to set that dynamically without explicitly checking&quot;</i> - ok, the way you tell it to the compiler is by forcibly casting <code>bc</code> into <code>Initializable&lt;Object&gt;</code>, and then invoking <code>bc.setValue(value)</code>."}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670432754,"creation_date":1670432754,"answer_id":74720393,"question_id":74706269,"body_markdown":"Your objective, I have to presume, is to detect type errors, where the value found in `valueByCode` doesn&#39;t match the generic type of your `Initializable` instance. For example, you want to make sure you don&#39;t pass a `String` to `setValue()` on an object someone references as `Initializable&lt;Integer&gt;`, because that will cause a `ClassCastException` at some distant time and place, at a call site that doesn&#39;t have an explicit cast. That would be a bug in this assignment, not in the caller; the assignment should have failed, not silently ignored the type mismatch.\r\n\r\nIf classes implement `Initializable` as shown in the question, the *type parameter is not erased,* and can be used at runtime to check types. That is, when you define a class like `class StringValue extends BaseClass implements Initializable&lt;String&gt;`, the `String` is compiled into the class, and can be used to enforce type safety at runtime.\r\n\r\nYou could use reflection (via [`ParameterizedType`][1]) to find the generic type parameter of the `Initializable` implementation, but because those implementations could vary a lot, handling all the possibilities would make that code relatively complex.\r\n\r\nInstead, use the raw type (exactly as you said you don&#39;t want to do in the question). If there is a type mismatch, a `ClassCastException` will be raised when you call `setValue()`. This preserves generic type safety so that anyone who calls `getValue()` via a generic method will not encounter a `ClassCastException` even though they aren&#39;t downcasting the result.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/ParameterizedType.html","title":"Java generics - assigning Object to a typed value","body":"<p>Your objective, I have to presume, is to detect type errors, where the value found in <code>valueByCode</code> doesn't match the generic type of your <code>Initializable</code> instance. For example, you want to make sure you don't pass a <code>String</code> to <code>setValue()</code> on an object someone references as <code>Initializable&lt;Integer&gt;</code>, because that will cause a <code>ClassCastException</code> at some distant time and place, at a call site that doesn't have an explicit cast. That would be a bug in this assignment, not in the caller; the assignment should have failed, not silently ignored the type mismatch.</p>\n<p>If classes implement <code>Initializable</code> as shown in the question, the <em>type parameter is not erased,</em> and can be used at runtime to check types. That is, when you define a class like <code>class StringValue extends BaseClass implements Initializable&lt;String&gt;</code>, the <code>String</code> is compiled into the class, and can be used to enforce type safety at runtime.</p>\n<p>You could use reflection (via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/ParameterizedType.html\" rel=\"nofollow noreferrer\"><code>ParameterizedType</code></a>) to find the generic type parameter of the <code>Initializable</code> implementation, but because those implementations could vary a lot, handling all the possibilities would make that code relatively complex.</p>\n<p>Instead, use the raw type (exactly as you said you don't want to do in the question). If there is a type mismatch, a <code>ClassCastException</code> will be raised when you call <code>setValue()</code>. This preserves generic type safety so that anyone who calls <code>getValue()</code> via a generic method will not encounter a <code>ClassCastException</code> even though they aren't downcasting the result.</p>\n"}],"owner":{"account_id":6981585,"reputation":367,"user_id":5354291,"display_name":"kTest"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670432754,"creation_date":1670345510,"question_id":74706269,"body_markdown":"I have the below setup.\r\n\r\n```\r\ninterface Initializable&lt;T&gt; {\r\n   T getValue();\r\n   void setValue(T value);\r\n}\r\n\r\nclass BaseClass {\r\n  \r\n  private final String code; // has getter and setter\r\n\r\n  ///\r\n}\r\n\r\nclass StringValue extends BaseClass implements Initializable&lt;String&gt; {\r\n\r\n   private final String value;\r\n\r\n   @Override\r\n   public void setValue(String value) {\r\n      this.value = value;\r\n   }\r\n\r\n   @Override\r\n   public String getValue() {\r\n      return value;\r\n   }\r\n}\r\n\r\nclass IntValue extends BaseClass implements Initializable&lt;Integer&gt; {\r\n   \r\n   private final Integer value;\r\n\r\n   @Override\r\n   public void setValue(Integer value) {\r\n      this.value = value;\r\n   }\r\n\r\n   @Override\r\n   public Integer getValue() {\r\n      return value;\r\n   }\r\n}\r\n\r\nclass NotInitializable extends BaseClass {\r\n\r\n   /////\r\n}\r\n\r\n```\r\n\r\nI have a list of BaseClass instances and I would like to set value field for Initializable instances as below. I would like to be able to do this without the Raw use.   I can&#39;t seem to be able to make that work. Any help is appreciated. TIA\r\n```\r\nList&lt;BaseClass&gt; fields; // populated\r\nMap&lt;String, Object&gt; vauleByCode; // populated\r\n\r\nfor (final BaseClass bc : fields) {\r\n   if (bc instanceof Initializable) {\r\n     \r\n      // I would like to set this value of type Object to the value field in Initializable\r\n      final Object value = valueByCode.get(bc.getCode());\r\n\r\n      // I would not like to use Raw variable here (i. e without the generic ?)\r\n      Initializable&lt;?&gt; init = (Initializable&lt;?&gt;) bc;\r\n      init.setValue(value) // set value here \r\n   }\r\n}\r\n``` ","title":"Java generics - assigning Object to a typed value","body":"<p>I have the below setup.</p>\n<pre><code>interface Initializable&lt;T&gt; {\n   T getValue();\n   void setValue(T value);\n}\n\nclass BaseClass {\n  \n  private final String code; // has getter and setter\n\n  ///\n}\n\nclass StringValue extends BaseClass implements Initializable&lt;String&gt; {\n\n   private final String value;\n\n   @Override\n   public void setValue(String value) {\n      this.value = value;\n   }\n\n   @Override\n   public String getValue() {\n      return value;\n   }\n}\n\nclass IntValue extends BaseClass implements Initializable&lt;Integer&gt; {\n   \n   private final Integer value;\n\n   @Override\n   public void setValue(Integer value) {\n      this.value = value;\n   }\n\n   @Override\n   public Integer getValue() {\n      return value;\n   }\n}\n\nclass NotInitializable extends BaseClass {\n\n   /////\n}\n\n</code></pre>\n<p>I have a list of BaseClass instances and I would like to set value field for Initializable instances as below. I would like to be able to do this without the Raw use.   I can't seem to be able to make that work. Any help is appreciated. TIA</p>\n<pre><code>List&lt;BaseClass&gt; fields; // populated\nMap&lt;String, Object&gt; vauleByCode; // populated\n\nfor (final BaseClass bc : fields) {\n   if (bc instanceof Initializable) {\n     \n      // I would like to set this value of type Object to the value field in Initializable\n      final Object value = valueByCode.get(bc.getCode());\n\n      // I would not like to use Raw variable here (i. e without the generic ?)\n      Initializable&lt;?&gt; init = (Initializable&lt;?&gt;) bc;\n      init.setValue(value) // set value here \n   }\n}\n</code></pre>\n"},{"tags":["java","database","cassandra","out-of-memory","cassandra-4.0"],"answers":[{"tags":[],"owner":{"account_id":15124117,"reputation":416,"user_id":10914049,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670432582,"creation_date":1670432582,"answer_id":74720353,"question_id":74701004,"body_markdown":"Without a heap dump it&#39;s hard to say for sure what the issue is, but I&#39;ve personally hit several memory leaks in Cassandra 4, I&#39;d recommend upgrading to the latest 4.0.7 release, it seems to be far more stable and there are multiple leaks fixed between your version and the latest.  The most recently fixed that has helped is: https://issues.apache.org/jira/browse/CASSANDRA-16681\r\n\r\nYou can grab the latest version here:\r\nhttps://cassandra.apache.org/_/download.html","title":"Cassandra -Out of memory: Killed process 20707 (java) total-vm:4393466140kB","body":"<p>Without a heap dump it's hard to say for sure what the issue is, but I've personally hit several memory leaks in Cassandra 4, I'd recommend upgrading to the latest 4.0.7 release, it seems to be far more stable and there are multiple leaks fixed between your version and the latest.  The most recently fixed that has helped is: <a href=\"https://issues.apache.org/jira/browse/CASSANDRA-16681\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/CASSANDRA-16681</a></p>\n<p>You can grab the latest version here:\n<a href=\"https://cassandra.apache.org/_/download.html\" rel=\"nofollow noreferrer\">https://cassandra.apache.org/_/download.html</a></p>\n"}],"owner":{"account_id":25494055,"reputation":1,"user_id":19288347,"display_name":"Pramod Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670432582,"creation_date":1670322900,"question_id":74701004,"body_markdown":"We have Cassandra only in standalone (single Node) database which is serving writing approx 7800 data-points per sec.\r\n\r\nHowever, from from last few days we are facing issue that Cassandra is getting stop frequently.\r\n\r\nEven though we have enough resources available.\r\n\r\nWe have observe the same error coming again and again.\r\n\r\nOur server configuration is 16 core CPU and 62 RAM (However there are other service also running). \r\n\r\n\r\n```\r\nDec  5 16:31:50 localhost kernel: [875863.395340] oom-kill:constraint=CONSTRAINT_NONE,nodemask=(null),cpuset=/,mems_allowed=0,global_oom,task_memcg=/system.slice/cassandra.service,task=java,pid=20707,uid=114\r\nDec  5 16:31:50 localhost kernel: [875863.395843] Out of memory: Killed process 20707 (java) total-vm:4393466140kB, anon-rss:13708728kB, file-rss:130260kB, shmem-rss:0kB, UID:114 pgtables:311304kB oom_score_adj:0\r\n\r\n```\r\n\r\nAlso node our database is working on default configuration and Cassandra Version is 4.0.3.\r\n\r\nfind attached logs for your reference\r\n\r\n\r\n\r\n#Cassandra#optimization#OOM\r\n\r\nAs per error its seem like that there is memory issue so we have remove all our extra service from that server and put all in another server of 4 core CPU and 16 GB RAM.\r\n\r\nHowever, after removing external services we are still facing same issue.\r\n\r\n\r\n\r\n","title":"Cassandra -Out of memory: Killed process 20707 (java) total-vm:4393466140kB","body":"<p>We have Cassandra only in standalone (single Node) database which is serving writing approx 7800 data-points per sec.</p>\n<p>However, from from last few days we are facing issue that Cassandra is getting stop frequently.</p>\n<p>Even though we have enough resources available.</p>\n<p>We have observe the same error coming again and again.</p>\n<p>Our server configuration is 16 core CPU and 62 RAM (However there are other service also running).</p>\n<pre><code>Dec  5 16:31:50 localhost kernel: [875863.395340] oom-kill:constraint=CONSTRAINT_NONE,nodemask=(null),cpuset=/,mems_allowed=0,global_oom,task_memcg=/system.slice/cassandra.service,task=java,pid=20707,uid=114\nDec  5 16:31:50 localhost kernel: [875863.395843] Out of memory: Killed process 20707 (java) total-vm:4393466140kB, anon-rss:13708728kB, file-rss:130260kB, shmem-rss:0kB, UID:114 pgtables:311304kB oom_score_adj:0\n\n</code></pre>\n<p>Also node our database is working on default configuration and Cassandra Version is 4.0.3.</p>\n<p>find attached logs for your reference</p>\n<p>#Cassandra#optimization#OOM</p>\n<p>As per error its seem like that there is memory issue so we have remove all our extra service from that server and put all in another server of 4 core CPU and 16 GB RAM.</p>\n<p>However, after removing external services we are still facing same issue.</p>\n"},{"tags":["java","testing","junit","mocking"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670432575,"creation_date":1670432575,"answer_id":74720351,"question_id":74719706,"body_markdown":"You can&#39;t.  Use an injectable factory to make the ObjectNeeded2Mock instead of new.","title":"Mock object created in private method java","body":"<p>You can't.  Use an injectable factory to make the ObjectNeeded2Mock instead of new.</p>\n"}],"owner":{"account_id":2019266,"reputation":77,"user_id":2912558,"display_name":"Jacobo Geada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670432575,"creation_date":1670429693,"question_id":74719706,"body_markdown":"I have to test a public method that internally calls a private method thats create an object as this.\r\n\r\n```\r\nclass parentClass {\r\n\r\npublic parentClass(){}\r\n\r\npublic String method1(String... arguments){\r\n               ...............\r\n               Obj obj1 = privateMethod(String argument);\r\n               return string;\r\n}\r\n\r\nprivate Obj privateMethod(String argument){\r\n        ObjectNeeded2Mock obj = new ObjectNeeded2Mock();\r\n        ........\r\n        return Obj\r\n\r\n}\r\n```\r\nHow could I mock ObjectNeeded2Mock from test? I&#39;d tried to mock the class and using @InjectMock with parentClass but it was unusefull\r\n","title":"Mock object created in private method java","body":"<p>I have to test a public method that internally calls a private method thats create an object as this.</p>\n<pre><code>class parentClass {\n\npublic parentClass(){}\n\npublic String method1(String... arguments){\n               ...............\n               Obj obj1 = privateMethod(String argument);\n               return string;\n}\n\nprivate Obj privateMethod(String argument){\n        ObjectNeeded2Mock obj = new ObjectNeeded2Mock();\n        ........\n        return Obj\n\n}\n</code></pre>\n<p>How could I mock ObjectNeeded2Mock from test? I'd tried to mock the class and using @InjectMock with parentClass but it was unusefull</p>\n"},{"tags":["java","linux","security","client-certificates"],"comments":[{"owner":{"account_id":2673328,"reputation":1649,"user_id":2310221,"accept_rate":81,"display_name":"Markus"},"score":0,"creation_date":1670416105,"post_id":74712459,"comment_id":131870712,"body_markdown":"You can see the alias of every certificate by using the argument `-v` (verbose output): https://docs.oracle.com/en/java/javase/13/docs/specs/man/keytool.html#commands-for-displaying-data","body":"You can see the alias of every certificate by using the argument <code>-v</code> (verbose output): <a href=\"https://docs.oracle.com/en/java/javase/13/docs/specs/man/keytool.html#commands-for-displaying-data\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/13/docs/specs/man/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3783017,"reputation":1738,"user_id":3141903,"display_name":"I Bajwa PHD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670414855,"creation_date":1670414855,"answer_id":74716453,"question_id":74712459,"body_markdown":"If you want to delete certificate reference from cacerts entries via alias name and forgot the alias name, then another pointer from cacerts file is the Certificate fingerprints. Check the fingerprints from the certificate and find the fingerprints from cacerts entries.\r\nHere is a full example.\r\nFirst list the entries from the certificate keystore.\r\n\r\n    keytool -list -keystore ./keystore.pfx\r\n\r\nIt will show output like this:\r\n\r\n&gt; Keystore type: PKCS12 Keystore provider: SUN\r\n&gt; \r\n&gt; Your keystore contains 1 entry\r\n&gt; \r\n&gt; te-b6b910d1-a1e2-4a51-b3c8-2c0199d393a3, Dec 7, 2022, PrivateKeyEntry,\r\n&gt; Certificate fingerprint (SHA-256):\r\n&gt; 37:01:C3:18:96:D9:54:A3:F6:B6:75:39:2A:5C:61:F9:EF:41:21:4C:E5:BF:6B:37:70:6C:EB:4F:50:3F:90:EB\r\n\r\nNote down fingerprint value, i.e `37:01:C3:18:96:D9:54:A3:F6:B6:75:39:2A:5C:61:F9:EF:41:21:4C:E5:BF:6B:37:70:6C:EB:4F:50:3F:90:EB`\r\n\r\nNow list down cacerts entries in a text file.\r\n\r\n    keytool -list -keystore /etc/pki/ca-trust/extracted/java/cacerts -storepass changeit &gt; output.txt\r\n\r\nNow open the text file with some editor, e.g vi or vim or nano, and find the fingerprint value.\r\nIn this file you will see below two lines\r\n\r\n    mykey, May 20, 2022, trustedCertEntry,\r\n    Certificate fingerprint (SHA-256): 37:01:C3:18:96:D9:54:A3:F6:B6:75:39:2A:5C:61:F9:EF:41:21:4C:E5:BF:6B:37:70:6C:EB:4F:50:3F:90:EB\r\n\r\nNow you have found the alias name i.e mykey. So you can delete the certificate entry to cacerts with below command\r\n\r\n    keytool -delete -alias mykey -keystore /etc/pki/ca-trust/extracted/java/cacerts -storepass changeit --noprompt\r\n\r\nif you run the above command again, it will show below error\r\n\r\n    keytool error: java.lang.Exception: Alias &lt;mykey&gt; does not exist.\r\n\r\nSo with this example, now you are able to find the alias name from cacerts using fingerprints and able to delete the alias from cacerts entries.","title":"Remove alias from cacerts file [collection of trusted certificate authority (CA) certificates] - jdk 11","body":"<p>If you want to delete certificate reference from cacerts entries via alias name and forgot the alias name, then another pointer from cacerts file is the Certificate fingerprints. Check the fingerprints from the certificate and find the fingerprints from cacerts entries.\nHere is a full example.\nFirst list the entries from the certificate keystore.</p>\n<pre><code>keytool -list -keystore ./keystore.pfx\n</code></pre>\n<p>It will show output like this:</p>\n<blockquote>\n<p>Keystore type: PKCS12 Keystore provider: SUN</p>\n<p>Your keystore contains 1 entry</p>\n<p>te-b6b910d1-a1e2-4a51-b3c8-2c0199d393a3, Dec 7, 2022, PrivateKeyEntry,\nCertificate fingerprint (SHA-256):\n37:01:C3:18:96:D9:54:A3:F6:B6:75:39:2A:5C:61:F9:EF:41:21:4C:E5:BF:6B:37:70:6C:EB:4F:50:3F:90:EB</p>\n</blockquote>\n<p>Note down fingerprint value, i.e <code>37:01:C3:18:96:D9:54:A3:F6:B6:75:39:2A:5C:61:F9:EF:41:21:4C:E5:BF:6B:37:70:6C:EB:4F:50:3F:90:EB</code></p>\n<p>Now list down cacerts entries in a text file.</p>\n<pre><code>keytool -list -keystore /etc/pki/ca-trust/extracted/java/cacerts -storepass changeit &gt; output.txt\n</code></pre>\n<p>Now open the text file with some editor, e.g vi or vim or nano, and find the fingerprint value.\nIn this file you will see below two lines</p>\n<pre><code>mykey, May 20, 2022, trustedCertEntry,\nCertificate fingerprint (SHA-256): 37:01:C3:18:96:D9:54:A3:F6:B6:75:39:2A:5C:61:F9:EF:41:21:4C:E5:BF:6B:37:70:6C:EB:4F:50:3F:90:EB\n</code></pre>\n<p>Now you have found the alias name i.e mykey. So you can delete the certificate entry to cacerts with below command</p>\n<pre><code>keytool -delete -alias mykey -keystore /etc/pki/ca-trust/extracted/java/cacerts -storepass changeit --noprompt\n</code></pre>\n<p>if you run the above command again, it will show below error</p>\n<pre><code>keytool error: java.lang.Exception: Alias &lt;mykey&gt; does not exist.\n</code></pre>\n<p>So with this example, now you are able to find the alias name from cacerts using fingerprints and able to delete the alias from cacerts entries.</p>\n"},{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670432521,"creation_date":1670432521,"answer_id":74720339,"question_id":74712459,"body_markdown":"The fact you&#39;re mentioning `/etc/pki/ca-trust/extracted/java/cacerts` suggests you&#39;re using a `cacerts` file managed by your Linux distribution (presumably based on RedHat/CentOS).\r\n\r\nRemoving the specific certificate from that `cacerts` file is indeed possible with `keytool` manually. However, it&#39;s likely to be re-generated, and possibly placed back into that file the next time `update-ca-trust` is executed automatically (e.g. package upgrade) or not.\r\n\r\nWhen using the distribution-managed `cacerts` file, it&#39;s generally better to use the distribution&#39;s mechanism.\r\n\r\nOn RedHat/CentOS-based distributions, [this can be done by managing individual certificates in `/etc/pki/ca-trust/source/anchors/` and using `update-ca-trust`](https://unix.stackexchange.com/questions/456475/adding-a-root-certification-authority-to-a-java-application).\r\n\r\nOn Debian/Ubuntu-based distributions, [there is an equivalent with certificates in `/usr/share/ca-certificates`](https://security.stackexchange.com/questions/244923/how-to-remove-a-ca-certificate-in-debian), assuming the `ca-certificates-java` package is installed (and then, you can run `update-ca-certificates`).\r\n\r\n----\r\n\r\nAs a side-note, you&#39;ve tagged your question with `client-certificate`.\r\n\r\nClient-certificates (and more so their matching private key, i.e. `PrivateKeyEntry` entries) normally don&#39;t belong in the `cacerts` file at all, which [is a &quot;keystore&quot;](https://stackoverflow.com/a/26888423/372643) used as [a &quot;truststore&quot;](https://stackoverflow.com/a/6341566/372643) (typically used as the default truststore for all Java applications running on that system). Those belong to a &quot;keystore used as a keystore&quot;, not a &quot;keystore used as a truststore&quot; (which shouldn&#39;t contain private keys).","title":"Remove alias from cacerts file [collection of trusted certificate authority (CA) certificates] - jdk 11","body":"<p>The fact you're mentioning <code>/etc/pki/ca-trust/extracted/java/cacerts</code> suggests you're using a <code>cacerts</code> file managed by your Linux distribution (presumably based on RedHat/CentOS).</p>\n<p>Removing the specific certificate from that <code>cacerts</code> file is indeed possible with <code>keytool</code> manually. However, it's likely to be re-generated, and possibly placed back into that file the next time <code>update-ca-trust</code> is executed automatically (e.g. package upgrade) or not.</p>\n<p>When using the distribution-managed <code>cacerts</code> file, it's generally better to use the distribution's mechanism.</p>\n<p>On RedHat/CentOS-based distributions, <a href=\"https://unix.stackexchange.com/questions/456475/adding-a-root-certification-authority-to-a-java-application\">this can be done by managing individual certificates in <code>/etc/pki/ca-trust/source/anchors/</code> and using <code>update-ca-trust</code></a>.</p>\n<p>On Debian/Ubuntu-based distributions, <a href=\"https://security.stackexchange.com/questions/244923/how-to-remove-a-ca-certificate-in-debian\">there is an equivalent with certificates in <code>/usr/share/ca-certificates</code></a>, assuming the <code>ca-certificates-java</code> package is installed (and then, you can run <code>update-ca-certificates</code>).</p>\n<hr />\n<p>As a side-note, you've tagged your question with <code>client-certificate</code>.</p>\n<p>Client-certificates (and more so their matching private key, i.e. <code>PrivateKeyEntry</code> entries) normally don't belong in the <code>cacerts</code> file at all, which <a href=\"https://stackoverflow.com/a/26888423/372643\">is a &quot;keystore&quot;</a> used as <a href=\"https://stackoverflow.com/a/6341566/372643\">a &quot;truststore&quot;</a> (typically used as the default truststore for all Java applications running on that system). Those belong to a &quot;keystore used as a keystore&quot;, not a &quot;keystore used as a truststore&quot; (which shouldn't contain private keys).</p>\n"}],"owner":{"account_id":3783017,"reputation":1738,"user_id":3141903,"display_name":"I Bajwa PHD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670432521,"creation_date":1670393641,"question_id":74712459,"body_markdown":"I am using linux and I want to remove reference of the certificate e.g alias from `cacerts` file, which is a collection of trusted certificate authority (CA) certificates. But I don&#39;t remember the name of the alias.&lt;br&gt;\r\nBelow is JDK information\r\n\r\n    openjdk version &quot;11.0.12&quot; 2021-07-20 LTS \r\n    OpenJDK Runtime Environment Corretto-11.0.12.7.1 (build 11.0.12+7-LTS) \r\n    OpenJDK 64-Bit Server VM Corretto-11.0.12.7.1 (build 11.0.12+7-LTS, mixed mode)\r\n\r\nWhen I list the entries form cacerts with keytool, it shows below type of output.\r\n\r\n    keytool -list -keystore /etc/pki/ca-trust/extracted/java/cacerts -storepass changeit\r\nOutput\r\n\r\n&gt; verisignclass3publicprimarycertificationauthority-g3, Apr 2, 2020, trustedCertEntry,\r\nCertificate fingerprint (SHA-256): EB:04:CF:5E:B1:F3:9A:FA:76:2F:2B:B1:20:F2:96:CB:A5:20:C1:B9:7D:B1:58:95:65:B8:1C:B9:A1:7B:72:44\r\nverisignclass3publicprimarycertificationauthority-g4, Apr 2, 2020, trustedCertEntry,\r\nCertificate fingerprint (SHA-256): 69:DD:D7:EA:90:BB:57:C9:3E:13:5D:C8:5E:A6:FC:D5:48:0B:60:32:39:BD:C4:54:FC:75:8B:2A:26:CF:7F:79\r\nverisignclass3publicprimarycertificationauthority-g5, Apr 2, 2020, trustedCertEntry,\r\nCertificate fingerprint (SHA-256): 9A:CF:AB:7E:43:C8:D8:80:D0:6B:26:2A:94:DE:EE:E4:B4:65:99:89:C3:D0:CA:F1:9B:AF:64:05:E4:1A:B7:DF\r\nverisignuniversalrootcertificationauthority, Apr 2, 2020, trustedCertEntry,\r\nCertificate fingerprint (SHA-256): 23:99:56:11:27:A5:71:25:DE:8C:EF:EA:61:0D:DF:2F:A0:78:B5:C8:06:7F:4E:82:82:90:BF:B8:60:E8:4B:3C\r\nxrampglobalcaroot, Apr 2, 2020, trustedCertEntry,\r\nCertificate fingerprint (SHA-256): CE:CD:DC:90:50:99:D8:DA:DF:C5:B1:D2:09:B7:37:CB:E2:C1:8C:FB:2C:10:C0:FF:0B:CF:0D:32:86:FC:1A:A2\r\n\r\nMy question is that how can I remove alias from `cacerts` file, when I don&#39;t remember the alias name. Is there any other pointer, using which I know which entry to delete from `cacerts`.\r\n","title":"Remove alias from cacerts file [collection of trusted certificate authority (CA) certificates] - jdk 11","body":"<p>I am using linux and I want to remove reference of the certificate e.g alias from <code>cacerts</code> file, which is a collection of trusted certificate authority (CA) certificates. But I don't remember the name of the alias.<br>\nBelow is JDK information</p>\n<pre><code>openjdk version &quot;11.0.12&quot; 2021-07-20 LTS \nOpenJDK Runtime Environment Corretto-11.0.12.7.1 (build 11.0.12+7-LTS) \nOpenJDK 64-Bit Server VM Corretto-11.0.12.7.1 (build 11.0.12+7-LTS, mixed mode)\n</code></pre>\n<p>When I list the entries form cacerts with keytool, it shows below type of output.</p>\n<pre><code>keytool -list -keystore /etc/pki/ca-trust/extracted/java/cacerts -storepass changeit\n</code></pre>\n<p>Output</p>\n<blockquote>\n<p>verisignclass3publicprimarycertificationauthority-g3, Apr 2, 2020, trustedCertEntry,\nCertificate fingerprint (SHA-256): EB:04:CF:5E:B1:F3:9A:FA:76:2F:2B:B1:20:F2:96:CB:A5:20:C1:B9:7D:B1:58:95:65:B8:1C:B9:A1:7B:72:44\nverisignclass3publicprimarycertificationauthority-g4, Apr 2, 2020, trustedCertEntry,\nCertificate fingerprint (SHA-256): 69:DD:D7:EA:90:BB:57:C9:3E:13:5D:C8:5E:A6:FC:D5:48:0B:60:32:39:BD:C4:54:FC:75:8B:2A:26:CF:7F:79\nverisignclass3publicprimarycertificationauthority-g5, Apr 2, 2020, trustedCertEntry,\nCertificate fingerprint (SHA-256): 9A:CF:AB:7E:43:C8:D8:80:D0:6B:26:2A:94:DE:EE:E4:B4:65:99:89:C3:D0:CA:F1:9B:AF:64:05:E4:1A:B7:DF\nverisignuniversalrootcertificationauthority, Apr 2, 2020, trustedCertEntry,\nCertificate fingerprint (SHA-256): 23:99:56:11:27:A5:71:25:DE:8C:EF:EA:61:0D:DF:2F:A0:78:B5:C8:06:7F:4E:82:82:90:BF:B8:60:E8:4B:3C\nxrampglobalcaroot, Apr 2, 2020, trustedCertEntry,\nCertificate fingerprint (SHA-256): CE:CD:DC:90:50:99:D8:DA:DF:C5:B1:D2:09:B7:37:CB:E2:C1:8C:FB:2C:10:C0:FF:0B:CF:0D:32:86:FC:1A:A2</p>\n</blockquote>\n<p>My question is that how can I remove alias from <code>cacerts</code> file, when I don't remember the alias name. Is there any other pointer, using which I know which entry to delete from <code>cacerts</code>.</p>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1670293482,"post_id":74668223,"comment_id":131837899,"body_markdown":"You have a lot of &quot;magic numbers&quot; in that code. The whole chain of if/else-if/else could be eliminated by using a formula for calculating `myX` and for `myY`. It&#39;s hard to actually solve your issue since we don&#39;t know exactly what arrangement these sprites are *supposed* to have. Is it supposed to be a grid?","body":"You have a lot of &quot;magic numbers&quot; in that code. The whole chain of if/else-if/else could be eliminated by using a formula for calculating <code>myX</code> and for <code>myY</code>. It&#39;s hard to actually solve your issue since we don&#39;t know exactly what arrangement these sprites are <i>supposed</i> to have. Is it supposed to be a grid?"},{"owner":{"account_id":26053611,"reputation":13,"user_id":19756349,"display_name":"Dawid Kaim"},"score":0,"creation_date":1670432352,"post_id":74668223,"comment_id":131876779,"body_markdown":"Yes, the inventory bag is made of grids, whenever I buy an item, a sprite is added to the Array list which stores sprites of items. Then, once an item is added to the Array, it should be positioned in the first empty grid there is. Whenever an item is added, and the grid is taken, the next item should be placed a bit to the right, if the whole row is taken, value Y -= ~100 and value X resets, I will update the code btw, since I posted a method which handles shop sprites instead.","body":"Yes, the inventory bag is made of grids, whenever I buy an item, a sprite is added to the Array list which stores sprites of items. Then, once an item is added to the Array, it should be positioned in the first empty grid there is. Whenever an item is added, and the grid is taken, the next item should be placed a bit to the right, if the whole row is taken, value Y -= ~100 and value X resets, I will update the code btw, since I posted a method which handles shop sprites instead."}],"owner":{"account_id":26053611,"reputation":13,"user_id":19756349,"display_name":"Dawid Kaim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670432479,"creation_date":1670082477,"question_id":74668223,"body_markdown":"So I created an &quot;UpdateShopPosition&quot; method, that should place Sprites in correct spots on the screen. However when I launch it in the render method, it seems that every Sprite shares the exact same position, not only that but the position keeps moving right and down.\r\n\r\nI want MyX and MyY to have a different value for each shopList.get(i) . Is there a problem with the loop or is it because I placed this method in the render() section?\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\npublic class ObjectCreator {\r\n\r\n\r\npublic static int rowsX = 4;\r\npublic static int rowsY = 5;\r\n\r\n\r\n    public static void UpdateShopPosition(List&lt;Sprite&gt; spriteList){\r\n        for (int i = 0; i &lt; spriteList.size(); i++) {\r\n\r\n\r\n\r\n            float myX = playerSprite.getX() + ((i + 4) * 100);\r\n            if (i &gt; 0){\r\n                myX+= i*3;\r\n            }\r\n            float myY = playerSprite.getY() + 410;\r\n            if (i &gt;= rowsX &amp;&amp; i &lt; rowsX*2 ) {\r\n                myX = myX - 400;\r\n                myY = myY - 101;\r\n            }\r\n            else if (i &gt;= rowsX*2 &amp;&amp; i &lt; rowsX*3){\r\n                myX = myX - 800;\r\n                myY = myY - 202;\r\n            }\r\n\r\n            else if (i &gt;= rowsX*3 &amp;&amp; i &lt; rowsX*4){\r\n                myX = myX - 1200;\r\n                myY = myY - 303;\r\n            }\r\n            else if (i &gt;= rowsX*4 &amp;&amp; i &lt; rowsX*5){\r\n                myX = myX - 1600;\r\n                myY = myY - 404;\r\n            }\r\n            else if (i &gt;= rowsX*5 &amp;&amp; i &lt; rowsX*6){\r\n                myX = myX - 2000;\r\n                myY = myY - 505;\r\n            }\r\n\r\n            spriteList.get(i).setPosition(myX, myY);\r\n        }\r\n    }\r\n\r\n    public static void CreateUsable(Usables name, Sprite sprite){\r\n        GameApp.shopList.add(sprite);\r\n\r\n\r\nname.setImage(GameApp.shopList.get(0));\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n     for (int i = 0; i &lt; usableList.size(); i++) {\r\n                usableList.get(i).draw(batch);\r\n                usableList.get(i).setPosition(playerSprite.getX() - 1200, playerSprite.getY() + 300);\r\n                usableList.get(i).setSize(60,60);\r\n                // the next (i) should be placed on the next grid, so a little bit to the right\r\n            }\r\n\r\n\r\nI tried to create a method that keeps placing items sprites respectively to my player sprite, I want these sprites to have the same position no matter where I move on the map","title":"libGDX why does my fori loop not update Sprite position properly?","body":"<p>So I created an &quot;UpdateShopPosition&quot; method, that should place Sprites in correct spots on the screen. However when I launch it in the render method, it seems that every Sprite shares the exact same position, not only that but the position keeps moving right and down.</p>\n<p>I want MyX and MyY to have a different value for each shopList.get(i) . Is there a problem with the loop or is it because I placed this method in the render() section?</p>\n<pre><code>\npublic class ObjectCreator {\n\n\npublic static int rowsX = 4;\npublic static int rowsY = 5;\n\n\n    public static void UpdateShopPosition(List&lt;Sprite&gt; spriteList){\n        for (int i = 0; i &lt; spriteList.size(); i++) {\n\n\n\n            float myX = playerSprite.getX() + ((i + 4) * 100);\n            if (i &gt; 0){\n                myX+= i*3;\n            }\n            float myY = playerSprite.getY() + 410;\n            if (i &gt;= rowsX &amp;&amp; i &lt; rowsX*2 ) {\n                myX = myX - 400;\n                myY = myY - 101;\n            }\n            else if (i &gt;= rowsX*2 &amp;&amp; i &lt; rowsX*3){\n                myX = myX - 800;\n                myY = myY - 202;\n            }\n\n            else if (i &gt;= rowsX*3 &amp;&amp; i &lt; rowsX*4){\n                myX = myX - 1200;\n                myY = myY - 303;\n            }\n            else if (i &gt;= rowsX*4 &amp;&amp; i &lt; rowsX*5){\n                myX = myX - 1600;\n                myY = myY - 404;\n            }\n            else if (i &gt;= rowsX*5 &amp;&amp; i &lt; rowsX*6){\n                myX = myX - 2000;\n                myY = myY - 505;\n            }\n\n            spriteList.get(i).setPosition(myX, myY);\n        }\n    }\n\n    public static void CreateUsable(Usables name, Sprite sprite){\n        GameApp.shopList.add(sprite);\n\n\nname.setImage(GameApp.shopList.get(0));\n\n\n\n    }\n\n\n}\n</code></pre>\n<pre><code> for (int i = 0; i &lt; usableList.size(); i++) {\n            usableList.get(i).draw(batch);\n            usableList.get(i).setPosition(playerSprite.getX() - 1200, playerSprite.getY() + 300);\n            usableList.get(i).setSize(60,60);\n            // the next (i) should be placed on the next grid, so a little bit to the right\n        }\n</code></pre>\n<p>I tried to create a method that keeps placing items sprites respectively to my player sprite, I want these sprites to have the same position no matter where I move on the map</p>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670430494,"post_id":74719886,"comment_id":131876099,"body_markdown":"Well for starters, consider the case where one list is empty and one is not. You consider those to be equal at the moment.","body":"Well for starters, consider the case where one list is empty and one is not. You consider those to be equal at the moment."},{"owner":{"account_id":25500447,"reputation":1,"user_id":19293805,"display_name":"Shukur Nuriyev"},"score":0,"creation_date":1670430671,"post_id":74719886,"comment_id":131876164,"body_markdown":"I edit the code, now is correct.","body":"I edit the code, now is correct."},{"owner":{"account_id":2663825,"reputation":21876,"user_id":2302862,"accept_rate":100,"display_name":"Siguza"},"score":0,"creation_date":1670430712,"post_id":74719886,"comment_id":131876183,"body_markdown":"So you never call `m.getNext()`? You only ever compare against the first element?","body":"So you never call <code>m.getNext()</code>? You only ever compare against the first element?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1670430715,"post_id":74719886,"comment_id":131876187,"body_markdown":"`getElem()` returns a primitive value?","body":"<code>getElem()</code> returns a primitive value?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":4,"creation_date":1670430725,"post_id":74719886,"comment_id":131876192,"body_markdown":"You should `break` as soon as you find 2 that aren&#39;t equal. Otherwise, this will say they match even if all but the last are unequal. (But there is still the issue you only call `n = n.getNext();` when 2 are equal).","body":"You should <code>break</code> as soon as you find 2 that aren&#39;t equal. Otherwise, this will say they match even if all but the last are unequal. (But there is still the issue you only call <code>n = n.getNext();</code> when 2 are equal)."},{"owner":{"account_id":25500447,"reputation":1,"user_id":19293805,"display_name":"Shukur Nuriyev"},"score":0,"creation_date":1670430761,"post_id":74719886,"comment_id":131876202,"body_markdown":"No i just check the first list, and getElem returns an int","body":"No i just check the first list, and getElem returns an int"},{"owner":{"account_id":25500447,"reputation":1,"user_id":19293805,"display_name":"Shukur Nuriyev"},"score":0,"creation_date":1670430917,"post_id":74719886,"comment_id":131876270,"body_markdown":"Ok I put as well: m = m.getNext(); But the problem is that it doesnt even enter inside the if","body":"Ok I put as well: m = m.getNext(); But the problem is that it doesnt even enter inside the if"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1670431299,"post_id":74719886,"comment_id":131876400,"body_markdown":"a) The calls to `next` should be outside of the `if/else`. b) [What is the difference between == and equals() in Java?](https://stackoverflow.com/a/7520464)","body":"a) The calls to <code>next</code> should be outside of the <code>if&#47;else</code>. b) <a href=\"https://stackoverflow.com/a/7520464\">What is the difference between == and equals() in Java?</a>"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1670431312,"post_id":74719886,"comment_id":131876409,"body_markdown":"Just debug your code, SO is not a debugging service. Just step through line by line. If you don&#39;t know how - add println statements.","body":"Just debug your code, SO is not a debugging service. Just step through line by line. If you don&#39;t know how - add println statements."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1670431350,"post_id":74719886,"comment_id":131876420,"body_markdown":"HINT for the others looking at this: on a mismatch, the pointers aren&#39;t advanced, so it hangs forever. The most direct of a few problems here.","body":"HINT for the others looking at this: on a mismatch, the pointers aren&#39;t advanced, so it hangs forever. The most direct of a few problems here."}],"answers":[{"tags":[],"owner":{"account_id":23906191,"reputation":71,"user_id":17903735,"display_name":"Sayyid Iskandar Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670432403,"creation_date":1670432096,"answer_id":74720240,"question_id":74719886,"body_markdown":"\r\n\r\nit would help if you elaborate what type of list u are comparing,\r\nlinkedlist or arrays. based on your function, it seems that you are planning to compare a linkedlist.\r\n\r\n- [linkedlist documentation](https://www.geeksforgeeks.org/identical-linked-lists/)\r\n- [arrays documentation](https://www.geeksforgeeks.org/java-util-arrays-equals-java-examples/)\r\n\r\n```\r\n   // sample comparison\r\n   boolean areIdentical(Node a_head, Node b_head) {\r\n        Node a = a_head, b = b_head;\r\n        while (a != null &amp;&amp; b != null) {\r\n            if (a.data != b.data)\r\n                return false;\r\n \r\n            /* If we reach here, then a and b are not null\r\n               and their data is same, so move to next nodes\r\n               in both lists */\r\n            a = a.next;\r\n            b = b.next;\r\n        }\r\n \r\n        // If linked lists are identical, then &#39;a&#39; and &#39;b&#39;\r\n        // must be null at this point.\r\n        return (a == null &amp;&amp; b == null);\r\n    }\r\n```","title":"How can I check if two lists are equals?","body":"<p>it would help if you elaborate what type of list u are comparing,\nlinkedlist or arrays. based on your function, it seems that you are planning to compare a linkedlist.</p>\n<ul>\n<li><a href=\"https://www.geeksforgeeks.org/identical-linked-lists/\" rel=\"nofollow noreferrer\">linkedlist documentation</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/java-util-arrays-equals-java-examples/\" rel=\"nofollow noreferrer\">arrays documentation</a></li>\n</ul>\n<pre><code>   // sample comparison\n   boolean areIdentical(Node a_head, Node b_head) {\n        Node a = a_head, b = b_head;\n        while (a != null &amp;&amp; b != null) {\n            if (a.data != b.data)\n                return false;\n \n            /* If we reach here, then a and b are not null\n               and their data is same, so move to next nodes\n               in both lists */\n            a = a.next;\n            b = b.next;\n        }\n \n        // If linked lists are identical, then 'a' and 'b'\n        // must be null at this point.\n        return (a == null &amp;&amp; b == null);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670432162,"creation_date":1670432162,"answer_id":74720254,"question_id":74719886,"body_markdown":"There are a couple of weak spots, so I give the solid solution:\r\n\r\n    public static boolean checkEquality(Node n, Node m) {\r\n        while (n != null &amp;&amp; m != null) {\r\n            //if (!Objects.equals(n.getElem(), m.getElem())) {\r\n            if (n.getElem() != m.getElem()) {\r\n                return false;\r\n            }\r\n            n = n.getNext();\r\n            m = m.getNext();\r\n        }\r\n        return n == null &amp;&amp; m == null;\r\n    }\r\n\r\n- Comparing can only be done while both `n` and `m` are not null. Your code only checks `n`.\r\n- `==` is not valid for instance for String. Instead of `.equals` one might also use `Objects.equals` which also tests for `null`.\r\n- `getNext` in every loop step.\r\n- two empty lists are also equal. Both lists should end at the same time.\r\n\r\nThe tst fails as soon as two compared nodes are not equal. So one should start with assuming a `true` result. And as soon as the comparison fails, one should no longer loop and certainly not overwrite `res` from false to true.\r\n\r\n","title":"How can I check if two lists are equals?","body":"<p>There are a couple of weak spots, so I give the solid solution:</p>\n<pre><code>public static boolean checkEquality(Node n, Node m) {\n    while (n != null &amp;&amp; m != null) {\n        //if (!Objects.equals(n.getElem(), m.getElem())) {\n        if (n.getElem() != m.getElem()) {\n            return false;\n        }\n        n = n.getNext();\n        m = m.getNext();\n    }\n    return n == null &amp;&amp; m == null;\n}\n</code></pre>\n<ul>\n<li>Comparing can only be done while both <code>n</code> and <code>m</code> are not null. Your code only checks <code>n</code>.</li>\n<li><code>==</code> is not valid for instance for String. Instead of <code>.equals</code> one might also use <code>Objects.equals</code> which also tests for <code>null</code>.</li>\n<li><code>getNext</code> in every loop step.</li>\n<li>two empty lists are also equal. Both lists should end at the same time.</li>\n</ul>\n<p>The tst fails as soon as two compared nodes are not equal. So one should start with assuming a <code>true</code> result. And as soon as the comparison fails, one should no longer loop and certainly not overwrite <code>res</code> from false to true.</p>\n"}],"owner":{"account_id":25500447,"reputation":1,"user_id":19293805,"display_name":"Shukur Nuriyev"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1670432403,"creation_date":1670430431,"question_id":74719886,"body_markdown":"I have to solve one problem, I don&#39;t know the reason why my code doesn&#39;t work.\r\nI have to check if two lists I created are completely equals so they have the same value at the same position.\r\nI&#39;m allowed to use loops as well, even by I prefer the recursive mode.\r\nThank you so much for your help and time!\r\n\r\n```\r\npublic static boolean checkEquality(Node n, Node m) {\r\n\t\tif(n != null &amp;&amp; m != null) {\r\n\t\t\tboolean res = false;\r\n\t\t\twhile(n!=null) {\r\n\t\t\t\tif(n.getElem()==m.getElem()) {\r\n\t\t\t\t\tn = n.getNext();\r\n                    m = m.getNext();\r\n\t\t\t\t\tres = true;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tres = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Lists empty!&quot;);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n```\r\n","title":"How can I check if two lists are equals?","body":"<p>I have to solve one problem, I don't know the reason why my code doesn't work.\nI have to check if two lists I created are completely equals so they have the same value at the same position.\nI'm allowed to use loops as well, even by I prefer the recursive mode.\nThank you so much for your help and time!</p>\n<pre><code>public static boolean checkEquality(Node n, Node m) {\n        if(n != null &amp;&amp; m != null) {\n            boolean res = false;\n            while(n!=null) {\n                if(n.getElem()==m.getElem()) {\n                    n = n.getNext();\n                    m = m.getNext();\n                    res = true;\n                }\n                else\n                {\n                    res = false;\n                }\n            }\n            return res;\n        }\n        else\n        {\n            System.out.println(&quot;Lists empty!&quot;);\n            return true;\n        }\n    }\n</code></pre>\n"},{"tags":["java","jmeter","load-testing","beanshell","jsr223"],"answers":[{"tags":[],"owner":{"account_id":6531900,"reputation":58,"user_id":5052801,"display_name":"Zakariae BEN ALLAL"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1670430581,"creation_date":1670430581,"answer_id":74719918,"question_id":74719811,"body_markdown":"Hello why you use JMeter do you know K6 : https://k6.io/\r\nIt&#39;s better than JMeter","title":"I am unable to ignore the failed response code/message using BeanShell PostProcessor in JMeter","body":"<p>Hello why you use JMeter do you know K6 : <a href=\"https://k6.io/\" rel=\"nofollow noreferrer\">https://k6.io/</a>\nIt's better than JMeter</p>\n"},{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670432364,"creation_date":1670432364,"answer_id":74720303,"question_id":74719811,"body_markdown":"There are multiple problems with your script:\r\n\r\n 1. You&#39;re using `==` instead of [`equals()`][1] which compares references and not instances so it might be the case the code is not executed at all\r\n 2. Setting response code to `200` is not sufficient to suppress the failure, you need to additionally invoke [`prev.setSuccessful(true)`][2] function \r\n 3. [Since JMeter 3.1 it&#39;s recommended to use JSR223 Test Elements and Groovy language for scripting][3] because [Groovy performance is much better comparing to Beanshell][4] \r\n 4. You might want to use [switch][5] statement instead of multiple if/else clauses \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals(java.lang.Object)\r\n  [2]: https://jmeter.apache.org/api/org/apache/jmeter/samplers/SampleResult.html#setSuccessful(boolean)\r\n  [3]: https://jmeter.apache.org/usermanual/best-practices.html#bsh_scripting\r\n  [4]: https://www.blazemeter.com/blog/beanshell-vs-jsr223-vs-jmeter\r\n  [5]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","title":"I am unable to ignore the failed response code/message using BeanShell PostProcessor in JMeter","body":"<p>There are multiple problems with your script:</p>\n<ol>\n<li>You're using <code>==</code> instead of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals()</code></a> which compares references and not instances so it might be the case the code is not executed at all</li>\n<li>Setting response code to <code>200</code> is not sufficient to suppress the failure, you need to additionally invoke <a href=\"https://jmeter.apache.org/api/org/apache/jmeter/samplers/SampleResult.html#setSuccessful(boolean)\" rel=\"nofollow noreferrer\"><code>prev.setSuccessful(true)</code></a> function</li>\n<li><a href=\"https://jmeter.apache.org/usermanual/best-practices.html#bsh_scripting\" rel=\"nofollow noreferrer\">Since JMeter 3.1 it's recommended to use JSR223 Test Elements and Groovy language for scripting</a> because <a href=\"https://www.blazemeter.com/blog/beanshell-vs-jsr223-vs-jmeter\" rel=\"nofollow noreferrer\">Groovy performance is much better comparing to Beanshell</a></li>\n<li>You might want to use <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow noreferrer\">switch</a> statement instead of multiple if/else clauses</li>\n</ol>\n"}],"owner":{"account_id":24448417,"reputation":1,"user_id":18370985,"display_name":"Sanket Bumtaria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670432364,"creation_date":1670430121,"question_id":74719811,"body_markdown":"I am having multiple sampler in which i am trying to setup a script which ignores an error message or any response code and tryinh to make a sampler as &quot;pass&quot;.\r\n\r\nbut i am unable to do that.\r\n\r\nBelow is my configuration.\r\n\r\n[JMeter Configuration for BeanShell Post Processor](https://i.stack.imgur.com/Il0pI.png)\r\n\r\nYou can see that in an benshell postprocessor i tries to ignore 3 responses (non http , 504 and 401)\r\n\r\nBut in the &quot;View Result Tree&quot; listner i am still getting ignored status code as failed.\r\n\r\n[Response](https://i.stack.imgur.com/KWEil.png)\r\n\r\nYou can see in an image that 401 error code request is failed.\r\n\r\nCan you please let me know what i am doing wrong here.\r\n\r\n\r\n\r\nI also tried jsr223 response assertion,but not able to get expected output.\r\n\r\nI also checked my logs as well.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hA5vi.png","title":"I am unable to ignore the failed response code/message using BeanShell PostProcessor in JMeter","body":"<p>I am having multiple sampler in which i am trying to setup a script which ignores an error message or any response code and tryinh to make a sampler as &quot;pass&quot;.</p>\n<p>but i am unable to do that.</p>\n<p>Below is my configuration.</p>\n<p><a href=\"https://i.stack.imgur.com/Il0pI.png\" rel=\"nofollow noreferrer\">JMeter Configuration for BeanShell Post Processor</a></p>\n<p>You can see that in an benshell postprocessor i tries to ignore 3 responses (non http , 504 and 401)</p>\n<p>But in the &quot;View Result Tree&quot; listner i am still getting ignored status code as failed.</p>\n<p><a href=\"https://i.stack.imgur.com/KWEil.png\" rel=\"nofollow noreferrer\">Response</a></p>\n<p>You can see in an image that 401 error code request is failed.</p>\n<p>Can you please let me know what i am doing wrong here.</p>\n<p>I also tried jsr223 response assertion,but not able to get expected output.</p>\n<p>I also checked my logs as well.</p>\n"},{"tags":["java","multithreading","synchronization"],"comments":[{"owner":{"account_id":7799965,"reputation":2027,"user_id":5899776,"accept_rate":83,"display_name":"vandench"},"score":0,"creation_date":1530934811,"post_id":51219679,"comment_id":89420343,"body_markdown":"Synchronization requires stopping threads to prevent illegal accesses. If you need synchronization then you will lose performance.","body":"Synchronization requires stopping threads to prevent illegal accesses. If you need synchronization then you will lose performance."},{"owner":{"account_id":1315198,"reputation":3834,"user_id":1262248,"accept_rate":75,"display_name":"Aman Chhabra"},"score":1,"creation_date":1530936116,"post_id":51219679,"comment_id":89420496,"body_markdown":"I suggest you google a bit.... there are thousands of post explaining this. For instance this: https://stackoverflow.com/a/50904456/1262248","body":"I suggest you google a bit.... there are thousands of post explaining this. For instance this: <a href=\"https://stackoverflow.com/a/50904456/1262248\">stackoverflow.com/a/50904456/1262248</a>"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1530937381,"post_id":51219679,"comment_id":89420669,"body_markdown":"Yes.  Question is what you want to avoid.","body":"Yes.  Question is what you want to avoid."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1530938576,"post_id":51219679,"comment_id":89420837,"body_markdown":"@vandench If you need synchronization you need synchronization, and &#39;lose performance&#39; is meaningless, as you are comparing a correct implementation to an incorrect one. You can get the wrong answer in zero time if that&#39;s your only concern. It isn&#39;t relevant.","body":"@vandench If you need synchronization you need synchronization, and &#39;lose performance&#39; is meaningless, as you are comparing a correct implementation to an incorrect one. You can get the wrong answer in zero time if that&#39;s your only concern. It isn&#39;t relevant."},{"owner":{"account_id":7799965,"reputation":2027,"user_id":5899776,"accept_rate":83,"display_name":"vandench"},"score":0,"creation_date":1530941224,"post_id":51219679,"comment_id":89421215,"body_markdown":"@EJP my point was that there is no way to avoid the performance issues. The `synchronized` is baked into the language, there a bits of it in the JVM klass, it is unavoidable.","body":"@EJP my point was that there is no way to avoid the performance issues. The <code>synchronized</code> is baked into the language, there a bits of it in the JVM klass, it is unavoidable."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1530943974,"post_id":51219679,"comment_id":89421711,"body_markdown":"The last thing you want to do while in the process of learning multi-threaded programming is worry about a 0.1% performance penalty.  All that counts at this point is ***correctness***.  Multi-threading is _really hard_.  If you have contention between threads then you have a performance impact due to the contention, not due to the mechanism of coordination.","body":"The last thing you want to do while in the process of learning multi-threaded programming is worry about a 0.1% performance penalty.  All that counts at this point is <b><i>correctness</i></b>.  Multi-threading is <i>really hard</i>.  If you have contention between threads then you have a performance impact due to the contention, not due to the mechanism of coordination."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1531395687,"post_id":51219679,"comment_id":89585955,"body_markdown":"@vandench *My* point is that there are no &#39;performance issues&#39; to avoid, and that even talking about them is meaningless.","body":"@vandench <i>My</i> point is that there are no &#39;performance issues&#39; to avoid, and that even talking about them is meaningless."}],"answers":[{"tags":[],"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1530938589,"creation_date":1530938589,"answer_id":51219983,"question_id":51219679,"body_markdown":"As others have indicated, it depends on what you&#39;re trying to avoid, as well as what you&#39;re trying to achieve with multithreading.\r\n\r\nIf you mean &quot;is there a zero-overhead way to do multithreading with shared resources,&quot; the answer is almost certainly &quot;no.&quot; If two cars going in different directions approach an intersection at the same time, one of them will have to wait for the other one - there&#39;s no way that the cars can occupy the same space at the same time. That&#39;s why we have stop signs and traffic lights. (Alternatively, there are things like traffic circles, but even those have some overhead - you really can&#39;t just go through them at full speed as if they weren&#39;t there).\r\n\r\nThere are lots of ways of doing asynchronous and parallel operations other than using that type of synchronization:\r\n\r\n  - Non-blocking I/O. The argument here is that, when you&#39;re interacting with a server or slow I/O device or something, most of the time is spent waiting for a response from the device or server, so you really don&#39;t need multiple threads to handle that - you just need to allow the original thread to do other work while it&#39;s waiting for a response. My usual analogy here is: suppose you go out to eat with a group of 10 people. When the waiter comes to take orders, the first person he asks to order isn&#39;t ready yet. The sensible thing to do, of course, is for the waiter to take other people&#39;s orders first, and then to come back to the first guy. There&#39;s no need to bring in separate waiters for each person&#39;s orders, bring in another waiter to wait for the first guy, or anything like that.\r\n  - Promise/futures based async\r\n  - Event-driven async\r\n  - Using immutable data structures to minimize the amount of shared resources.\r\n  - There are, of course, a lot of types of locking and synchronization mechanisms available other than just the synchronized keywords, such as counting semaphores, reader-writer locks, etc.\r\n\r\nThere are a lot of other types of concurrency as well, such as the [actor model](https://en.wikipedia.org/wiki/Actor_model).\r\n\r\nWhen used properly, these can help minimize your overhead and possibly reduce the amount of explicit locking and synchronization required. They all have overhead, though.\r\n\r\n**TL;DR** You have overhead no matter what you do - just select the design and primitives that result in the smallest overhead for your particular use case.","title":"Alternative for synchronisation in multi threading in JAVA","body":"<p>As others have indicated, it depends on what you're trying to avoid, as well as what you're trying to achieve with multithreading.</p>\n\n<p>If you mean \"is there a zero-overhead way to do multithreading with shared resources,\" the answer is almost certainly \"no.\" If two cars going in different directions approach an intersection at the same time, one of them will have to wait for the other one - there's no way that the cars can occupy the same space at the same time. That's why we have stop signs and traffic lights. (Alternatively, there are things like traffic circles, but even those have some overhead - you really can't just go through them at full speed as if they weren't there).</p>\n\n<p>There are lots of ways of doing asynchronous and parallel operations other than using that type of synchronization:</p>\n\n<ul>\n<li>Non-blocking I/O. The argument here is that, when you're interacting with a server or slow I/O device or something, most of the time is spent waiting for a response from the device or server, so you really don't need multiple threads to handle that - you just need to allow the original thread to do other work while it's waiting for a response. My usual analogy here is: suppose you go out to eat with a group of 10 people. When the waiter comes to take orders, the first person he asks to order isn't ready yet. The sensible thing to do, of course, is for the waiter to take other people's orders first, and then to come back to the first guy. There's no need to bring in separate waiters for each person's orders, bring in another waiter to wait for the first guy, or anything like that.</li>\n<li>Promise/futures based async</li>\n<li>Event-driven async</li>\n<li>Using immutable data structures to minimize the amount of shared resources.</li>\n<li>There are, of course, a lot of types of locking and synchronization mechanisms available other than just the synchronized keywords, such as counting semaphores, reader-writer locks, etc.</li>\n</ul>\n\n<p>There are a lot of other types of concurrency as well, such as the <a href=\"https://en.wikipedia.org/wiki/Actor_model\" rel=\"noreferrer\">actor model</a>.</p>\n\n<p>When used properly, these can help minimize your overhead and possibly reduce the amount of explicit locking and synchronization required. They all have overhead, though.</p>\n\n<p><strong>TL;DR</strong> You have overhead no matter what you do - just select the design and primitives that result in the smallest overhead for your particular use case.</p>\n"},{"tags":[],"owner":{"account_id":13296754,"reputation":37,"user_id":9599500,"display_name":"Nitesh kumar Rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670432350,"creation_date":1670432350,"answer_id":74720299,"question_id":51219679,"body_markdown":"You can look for ReentrantLock and ReentrantReadWriteLock.","title":"Alternative for synchronisation in multi threading in JAVA","body":"<p>You can look for ReentrantLock and ReentrantReadWriteLock.</p>\n"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1512,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":51219983,"answer_count":2,"score":-1,"last_activity_date":1670432350,"creation_date":1530934439,"question_id":51219679,"body_markdown":"I am a beginner in Multi threading and have this one doubt:\r\n\r\nIs there any other alternative for traditional Synchronisation(which uses synchronised keywords) in java,since it affects the performance of the application? ","title":"Alternative for synchronisation in multi threading in JAVA","body":"<p>I am a beginner in Multi threading and have this one doubt:</p>\n\n<p>Is there any other alternative for traditional Synchronisation(which uses synchronised keywords) in java,since it affects the performance of the application? </p>\n"},{"tags":["java","type-conversion"],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670410152,"creation_date":1670410152,"answer_id":74715427,"question_id":74714423,"body_markdown":"Casting of the maps&#39; values to `Object` should work:\r\n```java\r\npublic List&lt;Map&lt;String, Object&gt;&gt; myMethod() {\r\n    return anotherMethod().stream()\r\n        .map(m -&gt; m.entrySet().stream()\r\n                .collect(Collectors.toMap(\r\n                    Map.Entry::getKey, e -&gt; (Object)e.getValue()\r\n                ))\r\n        )\r\n        .collect(Collectors.toList());\r\n}\r\n\r\n```","title":"Convert List&lt;Map&lt;String, Comparable&lt;&gt;&gt;&gt; to List&lt;Map&lt;String, Object&gt;&gt;","body":"<p>Casting of the maps' values to <code>Object</code> should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Map&lt;String, Object&gt;&gt; myMethod() {\n    return anotherMethod().stream()\n        .map(m -&gt; m.entrySet().stream()\n                .collect(Collectors.toMap(\n                    Map.Entry::getKey, e -&gt; (Object)e.getValue()\n                ))\n        )\n        .collect(Collectors.toList());\n}\n\n</code></pre>\n"}],"owner":{"account_id":27112278,"reputation":3,"user_id":20657233,"display_name":"Blip Bloop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74715427,"answer_count":1,"score":-2,"last_activity_date":1670432185,"creation_date":1670405499,"question_id":74714423,"body_markdown":"I am using a method that return me a `List&lt;Map&lt;String, Comparable&lt;?&gt;&gt;&gt;`\r\nand I would like to convert the result using a stream() and end up with a `List&lt;Map&lt;String, Object&gt;&gt;`.\r\n\r\nMy code is similar to the following: \r\n```\r\npublic List&lt;Map&lt;String, Object&gt;&gt; myMethod() {\r\n    List&lt;Map&lt;String, Comparable&lt;?&gt;&gt;&gt; result = anotherMethod();\r\n    return ?\r\n}\r\n```\r\n\r\nHow can I convert the list `result` using a `stream()` in order to return a `List&lt;Map&lt;String, Object&gt;&gt;`?","title":"Convert List&lt;Map&lt;String, Comparable&lt;&gt;&gt;&gt; to List&lt;Map&lt;String, Object&gt;&gt;","body":"<p>I am using a method that return me a <code>List&lt;Map&lt;String, Comparable&lt;?&gt;&gt;&gt;</code>\nand I would like to convert the result using a stream() and end up with a <code>List&lt;Map&lt;String, Object&gt;&gt;</code>.</p>\n<p>My code is similar to the following:</p>\n<pre><code>public List&lt;Map&lt;String, Object&gt;&gt; myMethod() {\n    List&lt;Map&lt;String, Comparable&lt;?&gt;&gt;&gt; result = anotherMethod();\n    return ?\n}\n</code></pre>\n<p>How can I convert the list <code>result</code> using a <code>stream()</code> in order to return a <code>List&lt;Map&lt;String, Object&gt;&gt;</code>?</p>\n"},{"tags":["javascript","java","json","amazon-dynamodb","amazon-ion"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670410290,"post_id":74712958,"comment_id":131868653,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":7300687,"reputation":7362,"user_id":5563569,"display_name":"Matthew Pope"},"score":0,"creation_date":1671223743,"post_id":74712958,"comment_id":132061087,"body_markdown":"Are you trying to get the DynamoDB Json (i.e. with the &quot;ss&quot; and &quot;s&quot; keys intact) or are you trying to get &quot;normal&quot; Json?","body":"Are you trying to get the DynamoDB Json (i.e. with the &quot;ss&quot; and &quot;s&quot; keys intact) or are you trying to get &quot;normal&quot; Json?"}],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670397803,"creation_date":1670397803,"answer_id":74713049,"question_id":74712958,"body_markdown":"One way is to use Jackson Ion library to convert ion data to POJO, then conver the POJO to JSON. \r\n\r\nCheck more details in the answer here - https://stackoverflow.com/questions/68039063/how-to-convert-amazon-qldb-ionstruct-to-json-in-java\r\n","title":"How to convert amazon ion to json data using java","body":"<p>One way is to use Jackson Ion library to convert ion data to POJO, then conver the POJO to JSON.</p>\n<p>Check more details in the answer here - <a href=\"https://stackoverflow.com/questions/68039063/how-to-convert-amazon-qldb-ionstruct-to-json-in-java\">How to convert Amazon QLDB IonStruct to Json in java?</a></p>\n"}],"owner":{"account_id":27174191,"reputation":3,"user_id":20710419,"display_name":"geekynoob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670432012,"creation_date":1670397247,"question_id":74712958,"body_markdown":"I&#39;m working with amazon ion data, stored in file. I need to convert it to Json data. Is there any libraries available in Java?\r\nOr any another type of data format close to Json? \r\n\r\n\r\n**Task I&#39;m doing**\r\n\r\nI have fetched the data from dynamoDB, which generated the `.txt` file having this type of data, which is ion format (separated by new line).\r\n```\r\n{group:{s:&quot;accounts&quot;},rId:{s:&quot;Ada_Invoice&quot;},item:{s:&quot;System Issue&quot;},environments:{ss:[&quot;Env:Ada/Alpha&quot;]},category:{s:&quot;Publish&quot;},type:{s:&quot;Ada&quot;},groups:{ss:[&quot;ada-admins&quot;]}}\r\n```\r\nI have to consolidate this data around `environment`. \r\nI want to convert the ion to JSONObject, so that i can perform `.get()` around keys.\r\n\r\nP.S. - newbie to java","title":"How to convert amazon ion to json data using java","body":"<p>I'm working with amazon ion data, stored in file. I need to convert it to Json data. Is there any libraries available in Java?\nOr any another type of data format close to Json?</p>\n<p><strong>Task I'm doing</strong></p>\n<p>I have fetched the data from dynamoDB, which generated the <code>.txt</code> file having this type of data, which is ion format (separated by new line).</p>\n<pre><code>{group:{s:&quot;accounts&quot;},rId:{s:&quot;Ada_Invoice&quot;},item:{s:&quot;System Issue&quot;},environments:{ss:[&quot;Env:Ada/Alpha&quot;]},category:{s:&quot;Publish&quot;},type:{s:&quot;Ada&quot;},groups:{ss:[&quot;ada-admins&quot;]}}\n</code></pre>\n<p>I have to consolidate this data around <code>environment</code>.\nI want to convert the ion to JSONObject, so that i can perform <code>.get()</code> around keys.</p>\n<p>P.S. - newbie to java</p>\n"},{"tags":["java","reactor"],"comments":[{"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"score":0,"creation_date":1570471800,"post_id":58215810,"comment_id":102916410,"body_markdown":"A blog post I wrote recently on flatMap: https://medium.com/swlh/understanding-reactors-flatmap-operator-a6a7e62d3e95. You might find it useful.","body":"A blog post I wrote recently on flatMap: <a href=\"https://medium.com/swlh/understanding-reactors-flatmap-operator-a6a7e62d3e95\" rel=\"nofollow noreferrer\">medium.com/swlh/&hellip;</a>. You might find it useful."}],"answers":[{"tags":[],"owner":{"account_id":1631597,"reputation":1668,"user_id":1506009,"display_name":"Rozart"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570095732,"creation_date":1570094950,"answer_id":58216183,"question_id":58215810,"body_markdown":"When mapping a content of `Mono` using map method, you cannot provide null as a mapping result, because that will result in the\r\n`java.lang.NullPointerException: The mapper returned a null value.` during the subscription.\r\n\r\nThe `Mono` can be either empty or it has to contain a valid object.\r\n\r\nAccording to the source code of Project Reactor, the content of a `Mono` cannot be null. \r\n\r\nSo in this case the valid solution is using the `flatMap`.","title":"Returning a null in a .map() versus .flatMap() in Reactor","body":"<p>When mapping a content of <code>Mono</code> using map method, you cannot provide null as a mapping result, because that will result in the\n<code>java.lang.NullPointerException: The mapper returned a null value.</code> during the subscription.</p>\n\n<p>The <code>Mono</code> can be either empty or it has to contain a valid object.</p>\n\n<p>According to the source code of Project Reactor, the content of a <code>Mono</code> cannot be null. </p>\n\n<p>So in this case the valid solution is using the <code>flatMap</code>.</p>\n"},{"tags":[],"owner":{"account_id":16041964,"reputation":1002,"user_id":11578177,"display_name":"Michael Michailidis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570095320,"creation_date":1570095320,"answer_id":58216273,"question_id":58215810,"body_markdown":"That is because `flatMap` will try to unwrap the inner mono in the outer mono. Meaning the value will be null but there will be a type..\r\n\r\nOn the other hand `map` will transform the `Mono&lt;A&gt;` to `Mono&lt;B&gt;`. null has no type and that is why you cannot do that.  ","title":"Returning a null in a .map() versus .flatMap() in Reactor","body":"<p>That is because <code>flatMap</code> will try to unwrap the inner mono in the outer mono. Meaning the value will be null but there will be a type..</p>\n\n<p>On the other hand <code>map</code> will transform the <code>Mono&lt;A&gt;</code> to <code>Mono&lt;B&gt;</code>. null has no type and that is why you cannot do that.  </p>\n"},{"tags":[],"owner":{"account_id":4509047,"reputation":3905,"user_id":3665698,"display_name":"mcoolive"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1670431848,"creation_date":1570095693,"answer_id":58216393,"question_id":58215810,"body_markdown":"From Reactor [java doc][1]\r\n\r\n`map`: Transform the item emitted by this Mono by applying a synchronous function to it.\r\n\r\n`flatMap`: Transform the item emitted by this Mono asynchronously, returning the value emitted by another Mono.\r\n\r\nIn all cases, you cannot return `null`. It is simply forbidden by design. The main difference between `map` and `flatMap` is that the second one returns a Mono. This allows to perform an asynchronous call to something like a data base, a web service, etc.\r\n\r\nSo `flatMap` should be used to performed another asynchronous stuff. It&#39;s not very useful if you return a `Mono.just(...)`. We may use flatMap to return `Mono.empty()` in some condition as you did. It is a frequent pattern. Depending on your use case, you may prefer to use `filter` or `mapNotNull`.\r\n\r\nHere an alternative code to emit a new object with a condition:\r\n\r\n            .handle(myBoolean, sink -&gt; {\r\n                if (!myBoolean) {\r\n                    sink.next(employee);\r\n                } // else the Mono would be empty ...\r\n            });\r\n\r\n\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html","title":"Returning a null in a .map() versus .flatMap() in Reactor","body":"<p>From Reactor <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"nofollow noreferrer\">java doc</a></p>\n<p><code>map</code>: Transform the item emitted by this Mono by applying a synchronous function to it.</p>\n<p><code>flatMap</code>: Transform the item emitted by this Mono asynchronously, returning the value emitted by another Mono.</p>\n<p>In all cases, you cannot return <code>null</code>. It is simply forbidden by design. The main difference between <code>map</code> and <code>flatMap</code> is that the second one returns a Mono. This allows to perform an asynchronous call to something like a data base, a web service, etc.</p>\n<p>So <code>flatMap</code> should be used to performed another asynchronous stuff. It's not very useful if you return a <code>Mono.just(...)</code>. We may use flatMap to return <code>Mono.empty()</code> in some condition as you did. It is a frequent pattern. Depending on your use case, you may prefer to use <code>filter</code> or <code>mapNotNull</code>.</p>\n<p>Here an alternative code to emit a new object with a condition:</p>\n<pre><code>        .handle(myBoolean, sink -&gt; {\n            if (!myBoolean) {\n                sink.next(employee);\n            } // else the Mono would be empty ...\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570472051,"creation_date":1570471696,"answer_id":58274949,"question_id":58215810,"body_markdown":"A `null` anywhere in your stream will throw a `NPE: Mapper returned a null value`. No matter `map` or `flatMap`. It is by design. \r\n\r\nA short note on `flatMap`: It eagerly subscribes to its inner streams (in your case, `Mono.empty()` or `Mono.just(..)`) and does a dynamic merge as the inner streams keep emitting elements. That&#39;s why you can guarantee order with `flatMap`.","title":"Returning a null in a .map() versus .flatMap() in Reactor","body":"<p>A <code>null</code> anywhere in your stream will throw a <code>NPE: Mapper returned a null value</code>. No matter <code>map</code> or <code>flatMap</code>. It is by design. </p>\n\n<p>A short note on <code>flatMap</code>: It eagerly subscribes to its inner streams (in your case, <code>Mono.empty()</code> or <code>Mono.just(..)</code>) and does a dynamic merge as the inner streams keep emitting elements. That's why you can guarantee order with <code>flatMap</code>.</p>\n"},{"tags":[],"owner":{"account_id":1896724,"reputation":1039,"user_id":1713511,"display_name":"Kirill Mikhailov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645792619,"creation_date":1645792619,"answer_id":71265972,"question_id":58215810,"body_markdown":"To avoid NullPointerException in your case you can change map to mapNotNull:\r\n\r\n            .mapNotNull(myBoolean -&gt; {\r\n                if (myBoolean) {\r\n                    return null;\r\n                } \r\n                else {\r\n                    return employee;\r\n                }\r\n            }); ","title":"Returning a null in a .map() versus .flatMap() in Reactor","body":"<p>To avoid NullPointerException in your case you can change map to mapNotNull:</p>\n<pre><code>        .mapNotNull(myBoolean -&gt; {\n            if (myBoolean) {\n                return null;\n            } \n            else {\n                return employee;\n            }\n        }); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2904275,"reputation":12430,"user_id":2490074,"accept_rate":62,"display_name":"Sarvar Nishonboyev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646122529,"creation_date":1646122529,"answer_id":71305487,"question_id":58215810,"body_markdown":"You can add filter before `map`:\r\n\r\n```\r\n.filter(Objects::nonNull)\r\n.filter(myBoolean -&gt; myBoolean)\r\n.map(r-&gt; employee)\r\n.switchIfEmpty(Mono.empty());\r\n```","title":"Returning a null in a .map() versus .flatMap() in Reactor","body":"<p>You can add filter before <code>map</code>:</p>\n<pre><code>.filter(Objects::nonNull)\n.filter(myBoolean -&gt; myBoolean)\n.map(r-&gt; employee)\n.switchIfEmpty(Mono.empty());\n</code></pre>\n"}],"owner":{"account_id":16540475,"reputation":275,"user_id":11951361,"display_name":"lgean"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27176,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":58216393,"answer_count":6,"score":11,"last_activity_date":1670431848,"creation_date":1570093691,"question_id":58215810,"body_markdown":"The following piece of code works :\r\n\r\n```\r\n// emitting employees...\r\n.flatMap(employee -&gt; {\r\n\r\n    boolean isAlive = employee.isAlive();\r\n\r\n    return Mono.just(isAlive)\r\n\r\n            .flatMap(myBoolean -&gt; {\r\n                if (myBoolean) {\r\n                    return Mono.empty();\r\n                } \r\n                else {\r\n                    return Mono.just(employee);\r\n                }\r\n            });\r\n\r\n})\r\n```\r\n\r\nBut I was wondering why I can&#39;t use a `.map` upon processing `myBoolean` (NullPointerException when it returns the null)\r\n```\r\n            .map(myBoolean -&gt; {\r\n                if (myBoolean) {\r\n                    return null;\r\n                } \r\n                else {\r\n                    return employee;\r\n                }\r\n            });\r\n```\r\n\r\nI believe I lack some understanding about the `map` versus `flatMap` \r\n\r\nIn Java 8 streams I understand the difference between `map` and `flatMap` (for each item received, `map` emits 1, `flatMap` emits N)\r\n\r\nBut in Reactor I&#39;m a bit confused. I thought that both `map` and `flatMap` emit 1 item for each element received, the difference would be that the `map` emits it as a `Mono` while `flatMap` doesn&#39;t. To emit N items, I would use `flatMapMany`.\r\n\r\nThanks in advance for your explanations !","title":"Returning a null in a .map() versus .flatMap() in Reactor","body":"<p>The following piece of code works :</p>\n\n<pre><code>// emitting employees...\n.flatMap(employee -&gt; {\n\n    boolean isAlive = employee.isAlive();\n\n    return Mono.just(isAlive)\n\n            .flatMap(myBoolean -&gt; {\n                if (myBoolean) {\n                    return Mono.empty();\n                } \n                else {\n                    return Mono.just(employee);\n                }\n            });\n\n})\n</code></pre>\n\n<p>But I was wondering why I can't use a <code>.map</code> upon processing <code>myBoolean</code> (NullPointerException when it returns the null)</p>\n\n<pre><code>            .map(myBoolean -&gt; {\n                if (myBoolean) {\n                    return null;\n                } \n                else {\n                    return employee;\n                }\n            });\n</code></pre>\n\n<p>I believe I lack some understanding about the <code>map</code> versus <code>flatMap</code> </p>\n\n<p>In Java 8 streams I understand the difference between <code>map</code> and <code>flatMap</code> (for each item received, <code>map</code> emits 1, <code>flatMap</code> emits N)</p>\n\n<p>But in Reactor I'm a bit confused. I thought that both <code>map</code> and <code>flatMap</code> emit 1 item for each element received, the difference would be that the <code>map</code> emits it as a <code>Mono</code> while <code>flatMap</code> doesn't. To emit N items, I would use <code>flatMapMany</code>.</p>\n\n<p>Thanks in advance for your explanations !</p>\n"},{"tags":["java","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"score":0,"creation_date":1670408887,"post_id":74714703,"comment_id":131868168,"body_markdown":"Did you try: logger.info(&quot;Body: {}&quot;,userDto); ? It doesn&#39;t work?","body":"Did you try: logger.info(&quot;Body: {}&quot;,userDto); ? It doesn&#39;t work?"},{"owner":{"account_id":5144424,"reputation":2664,"user_id":4337151,"display_name":"dehasi"},"score":0,"creation_date":1670409933,"post_id":74714703,"comment_id":131868541,"body_markdown":"Did you override `toString` method for `UserDto`?","body":"Did you override <code>toString</code> method for <code>UserDto</code>?"},{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":3,"creation_date":1670410989,"post_id":74714703,"comment_id":131868907,"body_markdown":"If you want to log the whole request, you should use a filter. Have a look here: https://www.baeldung.com/spring-http-logging theres a CommonsRequestLoggingFilter you can use.","body":"If you want to log the whole request, you should use a filter. Have a look here: <a href=\"https://www.baeldung.com/spring-http-logging\" rel=\"nofollow noreferrer\">baeldung.com/spring-http-logging</a> theres a CommonsRequestLoggingFilter you can use."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1670411029,"post_id":74714703,"comment_id":131868929,"body_markdown":"To be honest, I would do this with a servlet filter on Spring&#39;s servlet to get access on the actual, binary request stream.","body":"To be honest, I would do this with a servlet filter on Spring&#39;s servlet to get access on the actual, binary request stream."},{"owner":{"account_id":22439657,"reputation":155,"user_id":16644396,"display_name":"Othmane"},"score":0,"creation_date":1670417472,"post_id":74714703,"comment_id":131871236,"body_markdown":"@TomStroemer CommonsRequestLoggingFilter works for me. Thanks!","body":"@TomStroemer CommonsRequestLoggingFilter works for me. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":16449260,"reputation":13,"user_id":11883087,"display_name":"Shukurkhan Akhrorkhanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670409776,"creation_date":1670409776,"answer_id":74715343,"question_id":74714703,"body_markdown":"You can use ObjectMapper from fasterxml \r\n\r\nadd the following dependencies to the pom.xml:\r\n \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nChange your createUser method to this:\r\n\r\n    @PostMapping\r\n    ResponseEntity&lt;UserDto&gt; createUser (@RequestBody UserDto userDto)\r\n    throws JsonProcessingException {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        logger.info(&quot;Body: &quot;+  objectMapper.writeValueAsString(userDto));\r\n        return null;\r\n    }\r\n\r\nResult will be like this in your console:\r\n\r\n    : Body: {&quot;name&quot;:&quot;John&quot;,&quot;username&quot;:&quot;Doe&quot;}\r\n\r\n","title":"Spring Boot get the request body while using @RequestBody","body":"<p>You can use ObjectMapper from fasterxml</p>\n<p>add the following dependencies to the pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.13.3&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>Change your createUser method to this:</p>\n<pre><code>@PostMapping\nResponseEntity&lt;UserDto&gt; createUser (@RequestBody UserDto userDto)\nthrows JsonProcessingException {\n    ObjectMapper objectMapper = new ObjectMapper();\n    logger.info(&quot;Body: &quot;+  objectMapper.writeValueAsString(userDto));\n    return null;\n}\n</code></pre>\n<p>Result will be like this in your console:</p>\n<pre><code>: Body: {&quot;name&quot;:&quot;John&quot;,&quot;username&quot;:&quot;Doe&quot;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670430057,"creation_date":1670430057,"answer_id":74719798,"question_id":74714703,"body_markdown":"Information taken from https://www.baeldung.com/spring-http-logging\r\n\r\nYou can use Springs CommonsRequestLoggingFilter for this. You can activate this via a Configuration Bean:\r\n\r\n```\r\n@Configuration\r\npublic class RequestLoggingFilterConfig {\r\n\r\n    @Bean\r\n    public CommonsRequestLoggingFilter logFilter() {\r\n        CommonsRequestLoggingFilter filter           = new CommonsRequestLoggingFilter();\r\n        filter.setIncludeQueryString(true);\r\n        filter.setIncludePayload(true);\r\n        filter.setMaxPayloadLength(10000);\r\n        filter.setIncludeHeaders(false);\r\n        filter.setAfterMessagePrefix(&quot;REQUEST DATA : &quot;);\r\n        return filter;\r\n    }\r\n}\r\n```\r\n\r\nThe filter logs on debug, so you need to enable debug logging for the class. For example add this in your logback.xml:\r\n\r\n```\r\n&lt;logger name=&quot;org.springframework.web.filter.CommonsRequestLoggingFilter&quot;&gt;\r\n    &lt;level value=&quot;DEBUG&quot; /&gt;\r\n&lt;/logger&gt;\r\n```\r\n\r\nFor reference see https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/CommonsRequestLoggingFilter.html","title":"Spring Boot get the request body while using @RequestBody","body":"<p>Information taken from <a href=\"https://www.baeldung.com/spring-http-logging\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-http-logging</a></p>\n<p>You can use Springs CommonsRequestLoggingFilter for this. You can activate this via a Configuration Bean:</p>\n<pre><code>@Configuration\npublic class RequestLoggingFilterConfig {\n\n    @Bean\n    public CommonsRequestLoggingFilter logFilter() {\n        CommonsRequestLoggingFilter filter           = new CommonsRequestLoggingFilter();\n        filter.setIncludeQueryString(true);\n        filter.setIncludePayload(true);\n        filter.setMaxPayloadLength(10000);\n        filter.setIncludeHeaders(false);\n        filter.setAfterMessagePrefix(&quot;REQUEST DATA : &quot;);\n        return filter;\n    }\n}\n</code></pre>\n<p>The filter logs on debug, so you need to enable debug logging for the class. For example add this in your logback.xml:</p>\n<pre><code>&lt;logger name=&quot;org.springframework.web.filter.CommonsRequestLoggingFilter&quot;&gt;\n    &lt;level value=&quot;DEBUG&quot; /&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>For reference see <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/CommonsRequestLoggingFilter.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/CommonsRequestLoggingFilter.html</a></p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670431498,"creation_date":1670431498,"answer_id":74720125,"question_id":74714703,"body_markdown":"One way to solve this task is to write an Http Filter that logs the message before the Handler method is called.\r\n\r\nThis [Baeldung Article][1] demonstrates a filter that logs.\r\n\r\n[1]:https://www.baeldung.com/spring-boot-add-filter","title":"Spring Boot get the request body while using @RequestBody","body":"<p>One way to solve this task is to write an Http Filter that logs the message before the Handler method is called.</p>\n<p>This <a href=\"https://www.baeldung.com/spring-boot-add-filter\" rel=\"nofollow noreferrer\">Baeldung Article</a> demonstrates a filter that logs.</p>\n"}],"owner":{"account_id":22439657,"reputation":155,"user_id":16644396,"display_name":"Othmane"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74719798,"answer_count":3,"score":0,"last_activity_date":1670431498,"creation_date":1670406842,"question_id":74714703,"body_markdown":"I&#39;m using Spring Boot @RequestBody annotation to access the request body properties like below\r\n\r\n    @PostMapping\r\n    ResponseEntity&lt;UserDto&gt; createUser (@RequestBody UserDto userDto) {\r\n        // some coode\r\n        return null;\r\n    }\r\n\r\nWhat I want to do is instead of just accessing the userDto properties. I want to log the whole request body because someone else is using sending the request and it doesn&#39;t match my `userDto`\r\n\r\nWhat I tried?\r\n\r\n    @PostMapping\r\n    ResponseEntity&lt;UserDto&gt; createUser (HttpServletRequest request) {\r\n        logger.info(&quot;Body: {}&quot;, request.getReader().lines().collect(Collectors.toSet()));\r\n        return null;\r\n    }\r\n\r\nThis works just fine but each time I want to log the request body I have to switch between `@RequestBody UserDto` and `HttpServletRequest request`\r\n\r\nIs there anyway I can keep that jackson `@RequestBody` annonation and still log request body as it is?\r\n","title":"Spring Boot get the request body while using @RequestBody","body":"<p>I'm using Spring Boot @RequestBody annotation to access the request body properties like below</p>\n<pre><code>@PostMapping\nResponseEntity&lt;UserDto&gt; createUser (@RequestBody UserDto userDto) {\n    // some coode\n    return null;\n}\n</code></pre>\n<p>What I want to do is instead of just accessing the userDto properties. I want to log the whole request body because someone else is using sending the request and it doesn't match my <code>userDto</code></p>\n<p>What I tried?</p>\n<pre><code>@PostMapping\nResponseEntity&lt;UserDto&gt; createUser (HttpServletRequest request) {\n    logger.info(&quot;Body: {}&quot;, request.getReader().lines().collect(Collectors.toSet()));\n    return null;\n}\n</code></pre>\n<p>This works just fine but each time I want to log the request body I have to switch between <code>@RequestBody UserDto</code> and <code>HttpServletRequest request</code></p>\n<p>Is there anyway I can keep that jackson <code>@RequestBody</code> annonation and still log request body as it is?</p>\n"},{"tags":["java","junit4","google-cloud-pubsub"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1670431262,"post_id":74720055,"comment_id":131876390,"body_markdown":"What does &quot;*Facing issue*&quot; mean? Do you get a compilation error? If so: please [edit] the post, add the compiler error and highlight the line of code causing the compilation error. Does it throw an exception? If so: please [edit] the post, add the stack trace and highlight the line of code causing the exception. Do you observe unexpected behaviour? If so: please [edit] the post, add a [MRE], as we as expected and observed output.","body":"What does &quot;<i>Facing issue</i>&quot; mean? Do you get a compilation error? If so: please <a href=\"https://stackoverflow.com/posts/74720055/edit\">edit</a> the post, add the compiler error and highlight the line of code causing the compilation error. Does it throw an exception? If so: please <a href=\"https://stackoverflow.com/posts/74720055/edit\">edit</a> the post, add the stack trace and highlight the line of code causing the exception. Do you observe unexpected behaviour? If so: please <a href=\"https://stackoverflow.com/posts/74720055/edit\">edit</a> the post, add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, as we as expected and observed output."},{"owner":{"account_id":12896437,"reputation":15,"user_id":9326637,"display_name":"lakshmi sowmya"},"score":0,"creation_date":1670431341,"post_id":74720055,"comment_id":131876418,"body_markdown":"I am unable to write Junit test case for the above method. Need help how to achieve this.","body":"I am unable to write Junit test case for the above method. Need help how to achieve this."}],"owner":{"account_id":12896437,"reputation":15,"user_id":9326637,"display_name":"lakshmi sowmya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670431211,"creation_date":1670431150,"question_id":74720055,"body_markdown":"Facing issue while writing the Junit test cases for below code. \r\n\r\n    public String publishJSON(String json) throws InterruptedException, IOException, ExecutionException {\t\t      \r\n    \t\tlog.info(&quot; Publishing payload to: &quot;+config.getTopicId());\t\r\n    \t\tTopicName topicName=TopicName.of(config.getPubsubProjectId(),config.getTopicId());\r\n    \t\tPublisher publisher=null;\r\n    \t\ttry {\r\n    \t\t\t publisher =\r\n    \t\t\t        Publisher.newBuilder(topicName)\r\n    \t\t\t            .build();\r\n    \t\t      ByteString data = ByteString.copyFromUtf8(json);\r\n    \t\t      PubsubMessage pubsubMessage = PubsubMessage.newBuilder().setData(data).build();\r\n    \t\t      ApiFuture&lt;String&gt; messageIdFuture = publisher.publish(pubsubMessage);\r\n    \t\t      String messageId = messageIdFuture.get();\r\n    \t\t      log.info(&quot;Published message ID: &quot; + messageId);\r\n    \t\t   return messageId;\r\n    \t\t} catch (ExecutionException e) {\r\n    \t\t\tlog.error(&quot;Error while publishing messsage&quot; + e.getMessage());\r\n    \t\t\tthrow e;\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tlog.error( &quot;PubSub exception &quot;+ e.getMessage());\r\n    \t\t\tthrow e;\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\tlog.error(&quot;Connection making exception for PubSub&quot; + e.getMessage());\r\n    \t\t\tthrow e;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.error( &quot;publishJSON Error : &quot;+ e.getMessage());\r\n    \t\t\tthrow e;\t\r\n    \t\t}\r\n    \t\tfinally {\r\n    \t\t\tif (publisher != null) {\r\n    \t\t\t\t// When finished with the publisher, shutdown to free up resources.\r\n    \t\t\t\tpublisher.shutdown();\r\n    \t\t\t\tpublisher.awaitTermination(1, TimeUnit.MINUTES);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"Junit Test cases for PubSub Publish message","body":"<p>Facing issue while writing the Junit test cases for below code.</p>\n<pre><code>public String publishJSON(String json) throws InterruptedException, IOException, ExecutionException {             \n        log.info(&quot; Publishing payload to: &quot;+config.getTopicId());   \n        TopicName topicName=TopicName.of(config.getPubsubProjectId(),config.getTopicId());\n        Publisher publisher=null;\n        try {\n             publisher =\n                    Publisher.newBuilder(topicName)\n                        .build();\n              ByteString data = ByteString.copyFromUtf8(json);\n              PubsubMessage pubsubMessage = PubsubMessage.newBuilder().setData(data).build();\n              ApiFuture&lt;String&gt; messageIdFuture = publisher.publish(pubsubMessage);\n              String messageId = messageIdFuture.get();\n              log.info(&quot;Published message ID: &quot; + messageId);\n           return messageId;\n        } catch (ExecutionException e) {\n            log.error(&quot;Error while publishing messsage&quot; + e.getMessage());\n            throw e;\n        } catch (IOException e) {\n            log.error( &quot;PubSub exception &quot;+ e.getMessage());\n            throw e;\n        } catch (InterruptedException e) {\n            log.error(&quot;Connection making exception for PubSub&quot; + e.getMessage());\n            throw e;\n        } catch (Exception e) {\n            log.error( &quot;publishJSON Error : &quot;+ e.getMessage());\n            throw e;    \n        }\n        finally {\n            if (publisher != null) {\n                // When finished with the publisher, shutdown to free up resources.\n                publisher.shutdown();\n                publisher.awaitTermination(1, TimeUnit.MINUTES);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","selenium","selenium-chromedriver","record","headless"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1663869020,"post_id":73817813,"comment_id":130346720,"body_markdown":"headless mode has no GUI to record.  It&#39;s probably enough to just output a report detailing which actions have passed/failed along with any exceptions received.","body":"headless mode has no GUI to record.  It&#39;s probably enough to just output a report detailing which actions have passed/failed along with any exceptions received."}],"answers":[{"tags":[],"owner":{"account_id":13637594,"reputation":1,"user_id":9838227,"display_name":"Vladislav Velichko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670431140,"creation_date":1670431117,"answer_id":74720046,"question_id":73817813,"body_markdown":"If you use headless mode only because you don&#39;t have a video device in Linux, then you can try [Xvfb](https://www.mattzeunert.com/2018/07/21/running-headful-chrome-on-ubuntu-server.html)","title":"Record selenium tests in headless mode (Java)","body":"<p>If you use headless mode only because you don't have a video device in Linux, then you can try <a href=\"https://www.mattzeunert.com/2018/07/21/running-headful-chrome-on-ubuntu-server.html\" rel=\"nofollow noreferrer\">Xvfb</a></p>\n"}],"owner":{"account_id":25504803,"reputation":1,"user_id":19297452,"display_name":"Oriol Juli&#224; Torres"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670431140,"creation_date":1663863280,"question_id":73817813,"body_markdown":"I need to record selenium tests in *chrome* using **headless** mode but I have been finding it impossible.\r\n\r\nTo sum up, the application that I am working with is a Java application with its frontend and backend that the main function is to do selenium testing. Even though it has a lot more features. I only want to record the tests from when they start until they finish.\r\n\r\nSo far I have tried recording with the library WebDriverManager following [this](https://bonigarcia.dev/webdrivermanager/#recordings) example but it did not work probably because it only works with a headful navigator.\r\n\r\nI have seen the following [option](https://stackoverflow.com/questions/51192198/how-to-video-record-selenium-tests-running-headless-inside-a-docker) that uses the library **ffmpeg** but it says that it works in docker and I need to use it in windows/linux and as I said before, my application it is not just a test, it also has a UI with different features. \r\n\r\nDo you know about more possibilities to video-record my selenium tests in headless mode?","title":"Record selenium tests in headless mode (Java)","body":"<p>I need to record selenium tests in <em>chrome</em> using <strong>headless</strong> mode but I have been finding it impossible.</p>\n<p>To sum up, the application that I am working with is a Java application with its frontend and backend that the main function is to do selenium testing. Even though it has a lot more features. I only want to record the tests from when they start until they finish.</p>\n<p>So far I have tried recording with the library WebDriverManager following <a href=\"https://bonigarcia.dev/webdrivermanager/#recordings\" rel=\"nofollow noreferrer\">this</a> example but it did not work probably because it only works with a headful navigator.</p>\n<p>I have seen the following <a href=\"https://stackoverflow.com/questions/51192198/how-to-video-record-selenium-tests-running-headless-inside-a-docker\">option</a> that uses the library <strong>ffmpeg</strong> but it says that it works in docker and I need to use it in windows/linux and as I said before, my application it is not just a test, it also has a UI with different features.</p>\n<p>Do you know about more possibilities to video-record my selenium tests in headless mode?</p>\n"},{"tags":["java","spring","spring-transactions","master-slave"],"answers":[{"tags":[],"owner":{"account_id":7196229,"reputation":171,"user_id":5494979,"display_name":"ZT827"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670431022,"creation_date":1670431022,"answer_id":74720018,"question_id":71404698,"body_markdown":"In short the solution for this problem is adding `hibernate.connection.provider_disables_autocommit=true` to `application.properties` and in case Hikari is used also setting `setAutoCommit(false)`. \r\n\r\n[More details can be found here][1] \r\n\r\n[1]: https://stackoverflow.com/a/68078228/5494979","title":"Master-slave configuration on spring boot, @Transactional(readOnly = true) not working as expected","body":"<p>In short the solution for this problem is adding <code>hibernate.connection.provider_disables_autocommit=true</code> to <code>application.properties</code> and in case Hikari is used also setting <code>setAutoCommit(false)</code>.</p>\n<p><a href=\"https://stackoverflow.com/a/68078228/5494979\">More details can be found here</a></p>\n"}],"owner":{"account_id":19206462,"reputation":193,"user_id":14033226,"display_name":"njari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670431022,"creation_date":1646803551,"question_id":71404698,"body_markdown":"So I have a master-slave data source setup as follows : \r\n\r\n```@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(basePackages = &quot;com.myservice.notificationservice.repositories.happyoffer&quot;,\r\n        entityManagerFactoryRef = &quot;happyofferEntityManagerFactory&quot;,\r\n        transactionManagerRef= &quot;happyofferTransactionManager&quot;\r\n)\r\npublic class HappyofferDataSourceConfig {\r\n\r\n    @Value(&quot;${spring.entity.scan.packages}&quot;)\r\n    private String packageToScan;\r\n\r\n    @Bean\r\n    @Primary\r\n    @ConfigurationProperties(&quot;spring.happyoffer.datasource.master&quot;)\r\n    public DataSourceProperties happyOfferMasterDataSourceProperties() {\r\n        return new DataSourceProperties();\r\n    }\r\n\r\n    @Bean\r\n    @ConfigurationProperties(&quot;spring.happyoffer.datasource.master.configuration&quot;)\r\n    public DataSource masterDataSource() {\r\n        return happyOfferMasterDataSourceProperties().initializeDataSourceBuilder()\r\n                .type(HikariDataSource.class).build();\r\n    }\r\n\r\n    @Bean\r\n    @ConfigurationProperties(&quot;spring.happyoffer.datasource.slave&quot;)\r\n    public DataSourceProperties happyOfferSlaveDataSourceProperties() {\r\n        return new DataSourceProperties();\r\n    }\r\n\r\n    @Bean(name = &quot;slaveDataSource&quot;)\r\n    @ConfigurationProperties(&quot;spring.happyoffer.datasource.slave.configuration&quot;)\r\n    public DataSource slaveDataSource() {\r\n        return happyOfferSlaveDataSourceProperties().initializeDataSourceBuilder()\r\n                .type(HikariDataSource.class).build();\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public DataSource routingDataSource() {\r\n\r\n        Map&lt;Object, Object&gt; targetDataSources = new LinkedHashMap&lt;&gt;();\r\n        RoutingDataSourceConfiguration routingDataSourceConfiguration = new RoutingDataSourceConfiguration();\r\n        DataSource master = this.masterDataSource();\r\n        targetDataSources.put(DataSourceTypes.MASTER, master);\r\n        DataSource slave = this.slaveDataSource();\r\n        targetDataSources.put(DataSourceTypes.SLAVE, slave);\r\n        routingDataSourceConfiguration.setTargetDataSources(targetDataSources);\r\n        routingDataSourceConfiguration.setDefaultTargetDataSource(master);\r\n        return routingDataSourceConfiguration;\r\n    }\r\n\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        return new LazyConnectionDataSourceProxy(routingDataSource());\r\n    }\r\n\r\n    @Bean(name = &quot;happyofferEntityManagerFactory&quot;)\r\n    @Primary\r\n    public LocalContainerEntityManagerFactoryBean happyofferEntityManagerFactory(EntityManagerFactoryBuilder builder) {\r\n        return builder\r\n                .dataSource(routingDataSource())\r\n                .packages(new String[]{packageToScan})\r\n                .build();\r\n    }\r\n\r\n\r\n    @Bean\r\n    @Primary\r\n    public PlatformTransactionManager happyofferTransactionManager(final @Qualifier(&quot;happyofferEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean happyofferEntityManagerFactory) {\r\n        return new JpaTransactionManager(happyofferEntityManagerFactory.getObject());\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;readerJdbcTemplate&quot;)\r\n    public NamedParameterJdbcTemplate getReaderJdbcTemplate() {\r\n        return new NamedParameterJdbcTemplate(slaveDataSource());\r\n    }\r\n\r\n    @Bean(name = &quot;writerJdbcTemplate&quot;)\r\n    public NamedParameterJdbcTemplate getWriterJdbcTemplate() {\r\n        return new NamedParameterJdbcTemplate(masterDataSource());\r\n    }\r\n}\r\n```\r\n\r\nRouting configuration is defined as : \r\n\r\n```\r\npublic class RoutingDataSourceConfiguration extends AbstractRoutingDataSource {\r\n    @Override\r\n    protected Object determineCurrentLookupKey() {\r\n        boolean isReadOnly = TransactionSynchronizationManager.isCurrentTransactionReadOnly();\r\n        if(isReadOnly) {\r\n            return DataSourceTypes.SLAVE;\r\n        } else {\r\n            return DataSourceTypes.MASTER;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI also have a repository class defined as : \r\n\r\n```\r\n@Repository\r\n@Transactional(readOnly = true)\r\npublic interface DeviceInfoRepository extends JpaRepository&lt;DeviceInfo,Integer&gt; {\r\n\r\n    List&lt;DeviceInfo&gt; findAllByUserIdIn(List&lt;Integer&gt; userIds);\r\n}\r\n```\r\n\r\nI&#39;m simply calling the above function in a service like this :  \r\n\r\n```\r\n@Service\r\n@Slf4j\r\npublic class NotificationShooterServiceImpl implements NotificationShooterService {\r\n\r\n    @Autowired\r\n    DeviceInfoRepository deviceInfoRepository;\r\n\r\n    @Override\r\n    public NotificationShooterResponse shoot(List&lt;Integer&gt; userIds) throws Exception {\r\n       \r\n\r\n        List&lt;DeviceInfo&gt; deviceInfoList = deviceInfoRepository.findAllByUserIdIn(userIds);\r\n        log.info(&quot;Size : &quot; + deviceInfoList.size());\r\n        ..........\r\n        ..........\r\n        ..........\r\n        NotificationShooterResponse notificationShooterResponse = new NotificationShooterResponse();\r\n        notificationShooterResponse.setCountOfUniqueUserIds(deviceInfoList.size());\r\n\r\n        return notificationShooterResponse;\r\n    }\r\n```\r\n\r\nNow, as I have added `@Transactional(readOnly = true)`, I expect that the query will get routed to SLAVE db. However, I&#39;m seeing it going to MASTER each time. \r\nI debugged this and found that the readOnly attribute is not set to true for this transaction i.e. \r\nin the file `RoutingDataSourceConfiguration` shown above, \r\n`boolean isReadOnly = TransactionSynchronizationManager.isCurrentTransactionReadOnly();` reads `false`. \r\n\r\n","title":"Master-slave configuration on spring boot, @Transactional(readOnly = true) not working as expected","body":"<p>So I have a master-slave data source setup as follows :</p>\n<pre><code>@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = &quot;com.myservice.notificationservice.repositories.happyoffer&quot;,\n        entityManagerFactoryRef = &quot;happyofferEntityManagerFactory&quot;,\n        transactionManagerRef= &quot;happyofferTransactionManager&quot;\n)\npublic class HappyofferDataSourceConfig {\n\n    @Value(&quot;${spring.entity.scan.packages}&quot;)\n    private String packageToScan;\n\n    @Bean\n    @Primary\n    @ConfigurationProperties(&quot;spring.happyoffer.datasource.master&quot;)\n    public DataSourceProperties happyOfferMasterDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean\n    @ConfigurationProperties(&quot;spring.happyoffer.datasource.master.configuration&quot;)\n    public DataSource masterDataSource() {\n        return happyOfferMasterDataSourceProperties().initializeDataSourceBuilder()\n                .type(HikariDataSource.class).build();\n    }\n\n    @Bean\n    @ConfigurationProperties(&quot;spring.happyoffer.datasource.slave&quot;)\n    public DataSourceProperties happyOfferSlaveDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean(name = &quot;slaveDataSource&quot;)\n    @ConfigurationProperties(&quot;spring.happyoffer.datasource.slave.configuration&quot;)\n    public DataSource slaveDataSource() {\n        return happyOfferSlaveDataSourceProperties().initializeDataSourceBuilder()\n                .type(HikariDataSource.class).build();\n    }\n\n    @Bean\n    @Primary\n    public DataSource routingDataSource() {\n\n        Map&lt;Object, Object&gt; targetDataSources = new LinkedHashMap&lt;&gt;();\n        RoutingDataSourceConfiguration routingDataSourceConfiguration = new RoutingDataSourceConfiguration();\n        DataSource master = this.masterDataSource();\n        targetDataSources.put(DataSourceTypes.MASTER, master);\n        DataSource slave = this.slaveDataSource();\n        targetDataSources.put(DataSourceTypes.SLAVE, slave);\n        routingDataSourceConfiguration.setTargetDataSources(targetDataSources);\n        routingDataSourceConfiguration.setDefaultTargetDataSource(master);\n        return routingDataSourceConfiguration;\n    }\n\n    @Bean\n    public DataSource dataSource() {\n        return new LazyConnectionDataSourceProxy(routingDataSource());\n    }\n\n    @Bean(name = &quot;happyofferEntityManagerFactory&quot;)\n    @Primary\n    public LocalContainerEntityManagerFactoryBean happyofferEntityManagerFactory(EntityManagerFactoryBuilder builder) {\n        return builder\n                .dataSource(routingDataSource())\n                .packages(new String[]{packageToScan})\n                .build();\n    }\n\n\n    @Bean\n    @Primary\n    public PlatformTransactionManager happyofferTransactionManager(final @Qualifier(&quot;happyofferEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean happyofferEntityManagerFactory) {\n        return new JpaTransactionManager(happyofferEntityManagerFactory.getObject());\n    }\n\n    @Primary\n    @Bean(name = &quot;readerJdbcTemplate&quot;)\n    public NamedParameterJdbcTemplate getReaderJdbcTemplate() {\n        return new NamedParameterJdbcTemplate(slaveDataSource());\n    }\n\n    @Bean(name = &quot;writerJdbcTemplate&quot;)\n    public NamedParameterJdbcTemplate getWriterJdbcTemplate() {\n        return new NamedParameterJdbcTemplate(masterDataSource());\n    }\n}\n</code></pre>\n<p>Routing configuration is defined as :</p>\n<pre><code>public class RoutingDataSourceConfiguration extends AbstractRoutingDataSource {\n    @Override\n    protected Object determineCurrentLookupKey() {\n        boolean isReadOnly = TransactionSynchronizationManager.isCurrentTransactionReadOnly();\n        if(isReadOnly) {\n            return DataSourceTypes.SLAVE;\n        } else {\n            return DataSourceTypes.MASTER;\n        }\n    }\n}\n</code></pre>\n<p>I also have a repository class defined as :</p>\n<pre><code>@Repository\n@Transactional(readOnly = true)\npublic interface DeviceInfoRepository extends JpaRepository&lt;DeviceInfo,Integer&gt; {\n\n    List&lt;DeviceInfo&gt; findAllByUserIdIn(List&lt;Integer&gt; userIds);\n}\n</code></pre>\n<p>I'm simply calling the above function in a service like this :</p>\n<pre><code>@Service\n@Slf4j\npublic class NotificationShooterServiceImpl implements NotificationShooterService {\n\n    @Autowired\n    DeviceInfoRepository deviceInfoRepository;\n\n    @Override\n    public NotificationShooterResponse shoot(List&lt;Integer&gt; userIds) throws Exception {\n       \n\n        List&lt;DeviceInfo&gt; deviceInfoList = deviceInfoRepository.findAllByUserIdIn(userIds);\n        log.info(&quot;Size : &quot; + deviceInfoList.size());\n        ..........\n        ..........\n        ..........\n        NotificationShooterResponse notificationShooterResponse = new NotificationShooterResponse();\n        notificationShooterResponse.setCountOfUniqueUserIds(deviceInfoList.size());\n\n        return notificationShooterResponse;\n    }\n</code></pre>\n<p>Now, as I have added <code>@Transactional(readOnly = true)</code>, I expect that the query will get routed to SLAVE db. However, I'm seeing it going to MASTER each time.\nI debugged this and found that the readOnly attribute is not set to true for this transaction i.e.\nin the file <code>RoutingDataSourceConfiguration</code> shown above,\n<code>boolean isReadOnly = TransactionSynchronizationManager.isCurrentTransactionReadOnly();</code> reads <code>false</code>.</p>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":16700688,"reputation":520,"user_id":12070549,"display_name":"KiluSs"},"score":0,"creation_date":1670430882,"post_id":74719809,"comment_id":131876255,"body_markdown":"maybe your query is related s.t you changed. Please upload your query code.","body":"maybe your query is related s.t you changed. Please upload your query code."},{"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"score":0,"creation_date":1670431056,"post_id":74719809,"comment_id":131876317,"body_markdown":"@KiluSs I&#39;ve uploaded the query code. Please help me","body":"@KiluSs I&#39;ve uploaded the query code. Please help me"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670481555,"post_id":74719809,"comment_id":131886487,"body_markdown":"Have you tried to implement [getItemCount()](https://github.com/firebase/FirebaseUI-Android/blob/5b6c9f01f5a674d754d8e9b1242197fe040086e7/firestore/src/main/java/com/firebase/ui/firestore/FirestoreRecyclerAdapter.java#L95)?","body":"Have you tried to implement <a href=\"https://github.com/firebase/FirebaseUI-Android/blob/5b6c9f01f5a674d754d8e9b1242197fe040086e7/firestore/src/main/java/com/firebase/ui/firestore/FirestoreRecyclerAdapter.java#L95\" rel=\"nofollow noreferrer\">getItemCount()</a>?"},{"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"score":2,"creation_date":1670482904,"post_id":74719809,"comment_id":131886747,"body_markdown":"@AlexMamo I&#39;ve solve this issue just by creating my own callback inside my custom adapter","body":"@AlexMamo I&#39;ve solve this issue just by creating my own callback inside my custom adapter"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670484609,"post_id":74719809,"comment_id":131887120,"body_markdown":"Good to hear that ;)","body":"Good to hear that ;)"}],"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670431015,"creation_date":1670430107,"question_id":74719809,"body_markdown":"In my app, I added a filter functionality where I can get all students from a specific course and display the total results. The problem is that when I change something in the database, the total results displayed is not based on the query anymore. \r\n\r\n    private void load() {\r\n        Query query = createQuery();\r\n        FirestoreRecyclerOptions&lt;Student&gt; options = new FirestoreRecyclerOptions.Builder&lt;Student&gt;()\r\n                .setQuery(query, Student.class)\r\n                .build();\r\n\r\n        myStudentAdapter = new MyStudentAdapter(options){\r\n            @Override\r\n            public void onDataChanged() {\r\n                super.onDataChanged();\r\n                tv_total.setText(String.valueOf(getItemCount()));\r\n            }\r\n        };\r\n        rv.setAdapter(myStudentAdapter);\r\n        myStudentAdapter.startListening();\r\n    }\r\n\r\n    private Query createQuery() {\r\n        if (!search.isEmpty()) {\r\n            if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .whereEqualTo(&quot;year&quot;, year)\r\n                        .whereEqualTo(&quot;block&quot;, block)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .whereEqualTo(&quot;year&quot;, year)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .whereEqualTo(&quot;block&quot;, block)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;year&quot;, year)\r\n                        .whereEqualTo(&quot;block&quot;, block)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;year&quot;, year)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else if (course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;block&quot;, block)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            }\r\n        } else {\r\n            if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .whereEqualTo(&quot;year&quot;, year)\r\n                        .whereEqualTo(&quot;block&quot;, block);\r\n            } else if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .whereEqualTo(&quot;year&quot;, year);\r\n            } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .whereEqualTo(&quot;block&quot;, block);\r\n            } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;year&quot;, year)\r\n                        .whereEqualTo(&quot;block&quot;, block);\r\n            } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course);\r\n            } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;year&quot;, year);\r\n            } else if (course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;block&quot;, block);\r\n            } else {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nAt first firestore returns 20 students (which is correct) but then I did a filter and return all BSCS students so firestore now returns 5 students (which is correct) but then I changed student1 fullName and now firestore returns 20 students (which is incorrect). I think firestore reset the Query information onDataChanged()","title":"How to prevent firestore from resetting Query data onDataChanged?","body":"<p>In my app, I added a filter functionality where I can get all students from a specific course and display the total results. The problem is that when I change something in the database, the total results displayed is not based on the query anymore.</p>\n<pre><code>private void load() {\n    Query query = createQuery();\n    FirestoreRecyclerOptions&lt;Student&gt; options = new FirestoreRecyclerOptions.Builder&lt;Student&gt;()\n            .setQuery(query, Student.class)\n            .build();\n\n    myStudentAdapter = new MyStudentAdapter(options){\n        @Override\n        public void onDataChanged() {\n            super.onDataChanged();\n            tv_total.setText(String.valueOf(getItemCount()));\n        }\n    };\n    rv.setAdapter(myStudentAdapter);\n    myStudentAdapter.startListening();\n}\n\nprivate Query createQuery() {\n    if (!search.isEmpty()) {\n        if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .whereEqualTo(&quot;year&quot;, year)\n                    .whereEqualTo(&quot;block&quot;, block)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .whereEqualTo(&quot;year&quot;, year)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .whereEqualTo(&quot;block&quot;, block)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;year&quot;, year)\n                    .whereEqualTo(&quot;block&quot;, block)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;year&quot;, year)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else if (course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;block&quot;, block)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        }\n    } else {\n        if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .whereEqualTo(&quot;year&quot;, year)\n                    .whereEqualTo(&quot;block&quot;, block);\n        } else if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .whereEqualTo(&quot;year&quot;, year);\n        } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .whereEqualTo(&quot;block&quot;, block);\n        } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;year&quot;, year)\n                    .whereEqualTo(&quot;block&quot;, block);\n        } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course);\n        } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;year&quot;, year);\n        } else if (course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;block&quot;, block);\n        } else {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;);\n        }\n    }\n}\n</code></pre>\n<p>At first firestore returns 20 students (which is correct) but then I did a filter and return all BSCS students so firestore now returns 5 students (which is correct) but then I changed student1 fullName and now firestore returns 20 students (which is incorrect). I think firestore reset the Query information onDataChanged()</p>\n"},{"tags":["java","ubuntu","intellij-idea","jvm","ubuntu-20.04"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1670430748,"post_id":74719763,"comment_id":131876198,"body_markdown":"Please show the full command line of your application with all the options.","body":"Please show the full command line of your application with all the options."},{"owner":{"account_id":20077115,"reputation":1,"user_id":14720636,"display_name":"Michel Sariol"},"score":0,"creation_date":1670433546,"post_id":74719763,"comment_id":131877192,"body_markdown":"Adding the environment variable directly to the IDE hasn&#39;t worked either.","body":"Adding the environment variable directly to the IDE hasn&#39;t worked either."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1670435003,"post_id":74719763,"comment_id":131877686,"body_markdown":"Post text rather than images.","body":"Post text rather than images."}],"owner":{"account_id":20077115,"reputation":1,"user_id":14720636,"display_name":"Michel Sariol"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670430775,"creation_date":1670429911,"question_id":74719763,"body_markdown":"![enter image description here](https://i.stack.imgur.com/OSARD.png)\r\n\r\n![enter image description here](https://i.stack.imgur.com/KiCpW.png)\r\n\r\n\r\ntrying to raise a project on my new laptop I have the error\r\nCould not create the Java Virtual Machine.\r\nYes, I have java installed, only the project compiles perfectly when I give maven install, the problem is at the time of deployment\r\n\r\n\r\nI have already tried changing the memory as indicated here (https://stackoverflow.com/questions/18095117/intellij-idea-showing-error-could-not-create-the-java-virtual-machine/18103499#18103499) without results\r\n","title":"Could not create the Java Virtual Machine. intelli idea ubuntu 20.04","body":"<p><img src=\"https://i.stack.imgur.com/OSARD.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/KiCpW.png\" alt=\"enter image description here\" /></p>\n<p>trying to raise a project on my new laptop I have the error\nCould not create the Java Virtual Machine.\nYes, I have java installed, only the project compiles perfectly when I give maven install, the problem is at the time of deployment</p>\n<p>I have already tried changing the memory as indicated here (<a href=\"https://stackoverflow.com/questions/18095117/intellij-idea-showing-error-could-not-create-the-java-virtual-machine/18103499#18103499\">Intellij idea showing error: could not create the java virtual machine</a>) without results</p>\n"},{"tags":["java","oop","inheritance"],"comments":[{"owner":{"account_id":14679090,"reputation":1358,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1670373795,"post_id":74710500,"comment_id":131860952,"body_markdown":"[Cast it](https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/types/casting-and-type-conversions).","body":"<a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/types/casting-and-type-conversions\" rel=\"nofollow noreferrer\">Cast it</a>."},{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1670391423,"post_id":74710500,"comment_id":131863365,"body_markdown":"[You should follow java naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html)","body":"<a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">You should follow java naming conventions</a>"}],"answers":[{"tags":[],"owner":{"account_id":26144821,"reputation":31,"user_id":19833581,"display_name":"Gorf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670374746,"creation_date":1670374746,"answer_id":74710646,"question_id":74710500,"body_markdown":"Although it the check of `instance of` does work, you still need to cast it to a Boy class in order to work. Simply do `String B = ( (boy) MyObject ).Belement;`","title":"How to use a method with an object which could be extended with different class?","body":"<p>Although it the check of <code>instance of</code> does work, you still need to cast it to a Boy class in order to work. Simply do <code>String B = ( (boy) MyObject ).Belement;</code></p>\n"}],"owner":{"account_id":26822911,"reputation":15,"user_id":20411977,"display_name":"guiguietben"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74710646,"answer_count":1,"score":0,"last_activity_date":1670430275,"creation_date":1670373120,"question_id":74710500,"body_markdown":"I&#39;ve got a main class and two inherited class:\r\n\r\n```\r\npublic class mother{\r\n\tpublic String Melement;\r\n}\r\n```\r\nand\r\n\r\n```\r\npublic class boy extends mother {\r\n\tpublic String Belement;\r\n}\r\n```\r\nand\r\n\r\n```\r\npublic class girl extends mother{\r\n\tpublic String Gelement;\r\n}\r\n```\r\nSo I could have an object A like `boy A = new boy();`\r\nand an object B like `girl B = new girl();`\r\n\r\nAnd I would like to use a method with these objects, but it doesn&#39;t work\r\n\r\n\r\nThis is what I tried:\r\n\r\n\r\n```\r\npublic void mymethod(mother MyObject) {\r\n    if (MyObject instanceof boy){\r\n        String A = MyObject.Melement;\r\n        String B = MyObject.Belement;\r\n    }\r\n\r\n    if (MyObject instanceof girl){\r\n        String A = MyObject.Melement;\r\n        String B = MyObject.Gelement;\r\n    }\r\n}\r\n```\r\nI understand that it&#39;s not working because `Myobject` is of type `mother` so I could access only `Melement`\r\nBut I would like my method to accept the both type of objects `boy` and `girl`\r\n\r\nIs it possible to do it? How?","title":"How to use a method with an object which could be extended with different class?","body":"<p>I've got a main class and two inherited class:</p>\n<pre><code>public class mother{\n    public String Melement;\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class boy extends mother {\n    public String Belement;\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class girl extends mother{\n    public String Gelement;\n}\n</code></pre>\n<p>So I could have an object A like <code>boy A = new boy();</code>\nand an object B like <code>girl B = new girl();</code></p>\n<p>And I would like to use a method with these objects, but it doesn't work</p>\n<p>This is what I tried:</p>\n<pre><code>public void mymethod(mother MyObject) {\n    if (MyObject instanceof boy){\n        String A = MyObject.Melement;\n        String B = MyObject.Belement;\n    }\n\n    if (MyObject instanceof girl){\n        String A = MyObject.Melement;\n        String B = MyObject.Gelement;\n    }\n}\n</code></pre>\n<p>I understand that it's not working because <code>Myobject</code> is of type <code>mother</code> so I could access only <code>Melement</code>\nBut I would like my method to accept the both type of objects <code>boy</code> and <code>girl</code></p>\n<p>Is it possible to do it? How?</p>\n"},{"tags":["java","gradle","github-actions","github-pages","javadoc"],"comments":[{"owner":{"account_id":20683611,"reputation":1177,"user_id":15186569,"display_name":"ThrowsError"},"score":0,"creation_date":1670423100,"post_id":74717915,"comment_id":131873196,"body_markdown":"Creating a question is a bit excitable, a simple comment to my previous answer would have sufficed.","body":"Creating a question is a bit excitable, a simple comment to my previous answer would have sufficed."}],"answers":[{"tags":[],"owner":{"account_id":20683611,"reputation":1177,"user_id":15186569,"display_name":"ThrowsError"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670423089,"creation_date":1670423089,"answer_id":74718164,"question_id":74717915,"body_markdown":"## JavaDoc publisher for Gradle\r\n\r\nYes is possible, with this code on your GitHub Actions :\r\n\r\n```yaml\r\nname: Deploy Javadoc\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - master\r\n      - main\r\n\r\njobs:\r\n  publish:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Deploy JavaDoc &#128640;\r\n        uses: MathieuSoysal/Javadoc-publisher.yml@v2.3.0\r\n        with:\r\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\r\n          javadoc-branch: javadoc\r\n          java-version: 17\r\n          target-folder: javadoc\r\n          project: gradle\r\n```\r\nCredit: https://github.com/MathieuSoysal/Javadoc-publisher.yml\r\nhttps://github.com/marketplace/actions/deploy-javadoc\r\n\r\nThis code publish JavaDoc automatically when you publish to *&quot;master&quot;* branch, your JavaDoc is pushed on *javadoc* branch, and deployed with GitHub Page.\r\n\r\n*don&#39;t forget to enable GitHub page on your GitHub repo settings* \r\n_____\r\n\r\n## Create a GitHub Actions\r\n\r\nTo create a GitHub Actions you need to simply, add this yaml file on `/.github/workflows/your-file.yaml` inside your GitHub repository.\r\n","title":"GitHub Actions : How to generate and publish JavaDoc to a web page with Gradle project","body":"<h2>JavaDoc publisher for Gradle</h2>\n<p>Yes is possible, with this code on your GitHub Actions :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Deploy Javadoc\n\non:\n  push:\n    branches:\n      - master\n      - main\n\njobs:\n  publish:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Deploy JavaDoc 🚀\n        uses: MathieuSoysal/Javadoc-publisher.yml@v2.3.0\n        with:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n          javadoc-branch: javadoc\n          java-version: 17\n          target-folder: javadoc\n          project: gradle\n</code></pre>\n<p>Credit: <a href=\"https://github.com/MathieuSoysal/Javadoc-publisher.yml\" rel=\"nofollow noreferrer\">https://github.com/MathieuSoysal/Javadoc-publisher.yml</a>\n<a href=\"https://github.com/marketplace/actions/deploy-javadoc\" rel=\"nofollow noreferrer\">https://github.com/marketplace/actions/deploy-javadoc</a></p>\n<p>This code publish JavaDoc automatically when you publish to <em>&quot;master&quot;</em> branch, your JavaDoc is pushed on <em>javadoc</em> branch, and deployed with GitHub Page.</p>\n<p><em>don't forget to enable GitHub page on your GitHub repo settings</em></p>\n<hr />\n<h2>Create a GitHub Actions</h2>\n<p>To create a GitHub Actions you need to simply, add this yaml file on <code>/.github/workflows/your-file.yaml</code> inside your GitHub repository.</p>\n"}],"owner":{"account_id":23989230,"reputation":23,"user_id":17975622,"display_name":"Ruby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74718164,"answer_count":1,"score":-1,"last_activity_date":1670430163,"creation_date":1670421900,"question_id":74717915,"body_markdown":"I need to generate a JavaDoc from my GitHub repository and publish it to a webpage like GitHub Page.\r\n\r\nI found this solution on StackOverflow: https://stackoverflow.com/questions/70991706/publish-automatically-javadoc-with-github-actions\r\n\r\n```yaml\r\nname: Deploy Javadoc\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - master\r\n      - main\r\n\r\njobs:\r\n  publish:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Deploy JavaDoc &#128640;\r\n        uses: MathieuSoysal/Javadoc-publisher.yml@v2.0.4\r\n        with:\r\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\r\n          javadoc-branch: javadoc\r\n          java-version: 17\r\n          target-folder: javadoc \r\n```\r\n\r\nBut this solution works only for Maven, and not for Gradle.\r\n\r\nSomeone know if is possible to adapt this for a Gradle project ?\r\n\r\n","title":"GitHub Actions : How to generate and publish JavaDoc to a web page with Gradle project","body":"<p>I need to generate a JavaDoc from my GitHub repository and publish it to a webpage like GitHub Page.</p>\n<p>I found this solution on StackOverflow: <a href=\"https://stackoverflow.com/questions/70991706/publish-automatically-javadoc-with-github-actions\">Publish automatically JavaDoc: with GitHub Actions</a></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Deploy Javadoc\n\non:\n  push:\n    branches:\n      - master\n      - main\n\njobs:\n  publish:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Deploy JavaDoc 🚀\n        uses: MathieuSoysal/Javadoc-publisher.yml@v2.0.4\n        with:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n          javadoc-branch: javadoc\n          java-version: 17\n          target-folder: javadoc \n</code></pre>\n<p>But this solution works only for Maven, and not for Gradle.</p>\n<p>Someone know if is possible to adapt this for a Gradle project ?</p>\n"},{"tags":["java","stomp","spring-websocket"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1670429938,"post_id":74719029,"comment_id":131875894,"body_markdown":"On Stack Overflow a question should focus only on a *single* problem. When you ask multiple questions it makes it difficult to identify a correct answer. For example, what if an answer only addresses one part of your question? Assuming that it&#39;s accurate, is it &quot;correct&quot;? What if there are 2 answers and they each accurately address different parts of your question. Which one is &quot;correct&quot;? This kind of ambiguity is bad for community involvement and devalues the content. Please ask questions that focus on a single issue. Thanks!","body":"On Stack Overflow a question should focus only on a <i>single</i> problem. When you ask multiple questions it makes it difficult to identify a correct answer. For example, what if an answer only addresses one part of your question? Assuming that it&#39;s accurate, is it &quot;correct&quot;? What if there are 2 answers and they each accurately address different parts of your question. Which one is &quot;correct&quot;? This kind of ambiguity is bad for community involvement and devalues the content. Please ask questions that focus on a single issue. Thanks!"}],"owner":{"account_id":14940264,"reputation":161,"user_id":10787157,"display_name":"BJagger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670429893,"creation_date":1670426546,"question_id":74719029,"body_markdown":"I&#39;ve struggled to connect the JS client with the Java server with a client using Stomp over WebSocket. The problem was fixed when I got rid of `.withSockJs()` while configuring `stompEndpoints`. Can someone explain to me what was the case here and why it happened? My understanding was that this method offers fallback but should not mess up a normal WebSocket connection.  \r\n### Working alternatives:\r\n```java\r\n@Override\r\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\r\n    registry.addEndpoint(&quot;/chat&quot;); \r\n    registry.addEndpoint(&quot;/chat&quot;).withSockJS();\r\n}\r\n\r\n@Override\r\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\r\n    registry.addEndpoint(&quot;/chat&quot;); \r\n}\r\n```\r\n### Notworking case:\r\n```java\r\n@Override\r\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\r\n    registry.addEndpoint(&quot;/chat&quot;).withSockJS();\r\n}\r\n```\r\nAlso: I have noticed that adding `.setAllowedOrigins(&quot;http://localhost:5050&quot;)` doesn&#39;t have any impact on communication in my case. I was able to connect to the server via a client on port `5050` but also via postman on `5555`. Before the problem with `withSockJs()` I struggled with a different problem related to CORS. The solution was to change the socket configuration on the client from SockJs to WebSocket but before finding this I tried many different approaches on the server side as I thought that my server implementation was the problem. I was working with `setAllowedOrigins`, but when I was finally able to connect I noticed that this method seems to not work. \r\n\r\nOne more question: How is the controller of WebSocket endpoints implemented? I want to keep track of active clients username to sessionId mapping. Do I need thread safe static map or all of messaging happen on a single thread? In other words, will there be more than one WebSocket controller instance if multiple clients are connected?","title":"Why .withSockJs seems to block Stomp over Websocket from connecting client with server","body":"<p>I've struggled to connect the JS client with the Java server with a client using Stomp over WebSocket. The problem was fixed when I got rid of <code>.withSockJs()</code> while configuring <code>stompEndpoints</code>. Can someone explain to me what was the case here and why it happened? My understanding was that this method offers fallback but should not mess up a normal WebSocket connection.</p>\n<h3>Working alternatives:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/chat&quot;); \n    registry.addEndpoint(&quot;/chat&quot;).withSockJS();\n}\n\n@Override\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/chat&quot;); \n}\n</code></pre>\n<h3>Notworking case:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/chat&quot;).withSockJS();\n}\n</code></pre>\n<p>Also: I have noticed that adding <code>.setAllowedOrigins(&quot;http://localhost:5050&quot;)</code> doesn't have any impact on communication in my case. I was able to connect to the server via a client on port <code>5050</code> but also via postman on <code>5555</code>. Before the problem with <code>withSockJs()</code> I struggled with a different problem related to CORS. The solution was to change the socket configuration on the client from SockJs to WebSocket but before finding this I tried many different approaches on the server side as I thought that my server implementation was the problem. I was working with <code>setAllowedOrigins</code>, but when I was finally able to connect I noticed that this method seems to not work.</p>\n<p>One more question: How is the controller of WebSocket endpoints implemented? I want to keep track of active clients username to sessionId mapping. Do I need thread safe static map or all of messaging happen on a single thread? In other words, will there be more than one WebSocket controller instance if multiple clients are connected?</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":952653,"reputation":9035,"user_id":978502,"accept_rate":67,"display_name":"yair"},"score":1,"creation_date":1450574467,"post_id":34377022,"comment_id":56495764,"body_markdown":"make sure that `Start.java`&#39;s folder is defined as a source folder of the Eclipse project into which you imported Minecraft.","body":"make sure that <code>Start.java</code>&#39;s folder is defined as a source folder of the Eclipse project into which you imported Minecraft."},{"owner":{"account_id":7283239,"reputation":831,"user_id":5552231,"accept_rate":43,"display_name":"Bill Nye"},"score":0,"creation_date":1450577415,"post_id":34377022,"comment_id":56496229,"body_markdown":"How would you do that? Could you link me to somewhere where it explains it?","body":"How would you do that? Could you link me to somewhere where it explains it?"},{"owner":{"account_id":952653,"reputation":9035,"user_id":978502,"accept_rate":67,"display_name":"yair"},"score":0,"creation_date":1450905491,"post_id":34377022,"comment_id":56629428,"body_markdown":"Does it happen only in debug or also when you use Run button?","body":"Does it happen only in debug or also when you use Run button?"},{"owner":{"account_id":952653,"reputation":9035,"user_id":978502,"accept_rate":67,"display_name":"yair"},"score":0,"creation_date":1450905567,"post_id":34377022,"comment_id":56629460,"body_markdown":"And make sure the project is built with no compliation/build problems","body":"And make sure the project is built with no compliation/build problems"},{"owner":{"account_id":952653,"reputation":9035,"user_id":978502,"accept_rate":67,"display_name":"yair"},"score":0,"creation_date":1450905595,"post_id":34377022,"comment_id":56629472,"body_markdown":"And also make sure that `Start.java`&#39;s package is the default package. That&#39;s where Java expects it to be (as the launcher is currently configured).","body":"And also make sure that <code>Start.java</code>&#39;s package is the default package. That&#39;s where Java expects it to be (as the launcher is currently configured)."},{"owner":{"account_id":7283239,"reputation":831,"user_id":5552231,"accept_rate":43,"display_name":"Bill Nye"},"score":0,"creation_date":1450937709,"post_id":34377022,"comment_id":56638204,"body_markdown":"The Start.java file is in the default package.","body":"The Start.java file is in the default package."},{"owner":{"account_id":952653,"reputation":9035,"user_id":978502,"accept_rate":67,"display_name":"yair"},"score":0,"creation_date":1450994620,"post_id":34377022,"comment_id":56658538,"body_markdown":"After building the project, check whether the `Start.class` file is created in the output folder. The output is in `Build Path --&gt; Configure Build Path... --&gt; Default output folder`.","body":"After building the project, check whether the <code>Start.class</code> file is created in the output folder. The output is in <code>Build Path --&gt; Configure Build Path... --&gt; Default output folder</code>."},{"owner":{"account_id":952653,"reputation":9035,"user_id":978502,"accept_rate":67,"display_name":"yair"},"score":0,"creation_date":1451257802,"post_id":34377022,"comment_id":56713639,"body_markdown":"so are there any issues / problems with the project? Go to the Markers view and check whether there are &quot;Java Problems&quot; related to the project. Any Java error (as opposed to warnings) might prevent the compilation of `Start.java`.","body":"so are there any issues / problems with the project? Go to the Markers view and check whether there are &quot;Java Problems&quot; related to the project. Any Java error (as opposed to warnings) might prevent the compilation of <code>Start.java</code>."},{"owner":{"account_id":7283239,"reputation":831,"user_id":5552231,"accept_rate":43,"display_name":"Bill Nye"},"score":0,"creation_date":1451291241,"post_id":34377022,"comment_id":56721884,"body_markdown":"I&#39;m new so how would i do that?","body":"I&#39;m new so how would i do that?"}],"answers":[{"tags":[],"owner":{"account_id":952653,"reputation":9035,"user_id":978502,"accept_rate":67,"display_name":"yair"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1450739797,"creation_date":1450739797,"answer_id":34405984,"question_id":34377022,"body_markdown":"Making my comment an answer and adding the details you asked for:\r\n\r\nMake sure that `Start.java`&#39;s folder is defined as a source folder of the Eclipse project into which you imported Minecraft:\r\n\r\n 1. Right-click the project in `Project Explorer` view.\r\n 2. From the popup menu choose `Build Path` --&gt; `Configure Build Path...`.\r\n 3. In the popup dialog, if the `source` tab on the right pane isn&#39;t chosen - choose it.\r\n 4. If your source folder already appears on the folder list `Source folders on build path` - this isn&#39;t the problem. Otherwise -\r\n 5. Click `Add Folder...`.\r\n 5. In the popup `Source Folder Selection` dialog, select your source folder and click `OK`.\r\n 6. Click `OK` in the former dialog.\r\n 7. Wait for Eclipse to rebuild your project.\r\n 8. Run your main class again and see what happens.","title":"How to run minecraft in Debug mode","body":"<p>Making my comment an answer and adding the details you asked for:</p>\n\n<p>Make sure that <code>Start.java</code>'s folder is defined as a source folder of the Eclipse project into which you imported Minecraft:</p>\n\n<ol>\n<li>Right-click the project in <code>Project Explorer</code> view.</li>\n<li>From the popup menu choose <code>Build Path</code> --> <code>Configure Build Path...</code>.</li>\n<li>In the popup dialog, if the <code>source</code> tab on the right pane isn't chosen - choose it.</li>\n<li>If your source folder already appears on the folder list <code>Source folders on build path</code> - this isn't the problem. Otherwise -</li>\n<li>Click <code>Add Folder...</code>.</li>\n<li>In the popup <code>Source Folder Selection</code> dialog, select your source folder and click <code>OK</code>.</li>\n<li>Click <code>OK</code> in the former dialog.</li>\n<li>Wait for Eclipse to rebuild your project.</li>\n<li>Run your main class again and see what happens.</li>\n</ol>\n"}],"owner":{"account_id":7283239,"reputation":831,"user_id":5552231,"accept_rate":43,"display_name":"Bill Nye"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4422,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670429637,"creation_date":1450573340,"question_id":34377022,"body_markdown":"I&#39;m not even sure if you can ask this question here but I have the MCP which decompiles Minecraft code and allows you to edit it using eclipse. As you may know in Eclipse there is a feature called debug mode, whenever I click it, it says in the console. \r\n\r\n    Error: Could not find or load main class Start\r\n    Java HotSpot(TM) 64-Bit Server VM warning: Using incremental CMS is deprecated and will likely be removed in a future release\r\n    \r\nI went to the Start.java file and tried the debug button again but it didn&#39;t work\r\nso I was just wondering if you guys know any way around it, The MCP is for 1.7.10 and it&#39;s default, not Minecraft Forge. If this is not the right place to ask just ignore it.\r\n`","title":"How to run minecraft in Debug mode","body":"<p>I'm not even sure if you can ask this question here but I have the MCP which decompiles Minecraft code and allows you to edit it using eclipse. As you may know in Eclipse there is a feature called debug mode, whenever I click it, it says in the console.</p>\n<pre><code>Error: Could not find or load main class Start\nJava HotSpot(TM) 64-Bit Server VM warning: Using incremental CMS is deprecated and will likely be removed in a future release\n</code></pre>\n<p>I went to the Start.java file and tried the debug button again but it didn't work\nso I was just wondering if you guys know any way around it, The MCP is for 1.7.10 and it's default, not Minecraft Forge. If this is not the right place to ask just ignore it.\n`</p>\n"},{"tags":["java","api","jenkins","inputstream","jenkins-api"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1670420531,"post_id":74717529,"comment_id":131872258,"body_markdown":"That&#39;s because you are returning an html and not JSON. Change the `return` to return a JSON representation if `report`","body":"That&#39;s because you are returning an html and not JSON. Change the <code>return</code> to return a JSON representation if <code>report</code>"},{"owner":{"account_id":24477238,"reputation":48,"user_id":18396142,"display_name":"Karlito Brigante"},"score":0,"creation_date":1670421276,"post_id":74717529,"comment_id":131872519,"body_markdown":"Yes but if i set text/html as response it returns also 406","body":"Yes but if i set text/html as response it returns also 406"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1670421710,"post_id":74717529,"comment_id":131872658,"body_markdown":"HTTP 406 means [Not Acceptable](https://www.rfc-editor.org/rfc/rfc2616#section-10.4.7), which means your REST service is returning a type which is not one of the types the caller expects.  The problem is on the calling end:  the caller is not including text/html in their [Accept](https://www.rfc-editor.org/rfc/rfc2616#section-14.1) request header.","body":"HTTP 406 means <a href=\"https://www.rfc-editor.org/rfc/rfc2616#section-10.4.7\" rel=\"nofollow noreferrer\">Not Acceptable</a>, which means your REST service is returning a type which is not one of the types the caller expects.  The problem is on the calling end:  the caller is not including text/html in their <a href=\"https://www.rfc-editor.org/rfc/rfc2616#section-14.1\" rel=\"nofollow noreferrer\">Accept</a> request header."}],"answers":[{"tags":[],"owner":{"account_id":24477238,"reputation":48,"user_id":18396142,"display_name":"Karlito Brigante"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670429464,"creation_date":1670429464,"answer_id":74719647,"question_id":74717529,"body_markdown":"Like VGR stated. Problem was the caller which was not using text/html. Ive tested in swaggerui and set it to &quot;text/html&quot;. Works as expected. Was application/json beforen and the reason for working only with application json as produce annoation. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eTa4X.png","title":"Java return Inputstream via rest API with html file in inputstream","body":"<p>Like VGR stated. Problem was the caller which was not using text/html. Ive tested in swaggerui and set it to &quot;text/html&quot;. Works as expected. Was application/json beforen and the reason for working only with application json as produce annoation.</p>\n<p><a href=\"https://i.stack.imgur.com/eTa4X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eTa4X.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24477238,"reputation":48,"user_id":18396142,"display_name":"Karlito Brigante"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74719647,"answer_count":1,"score":0,"last_activity_date":1670429464,"creation_date":1670420093,"question_id":74717529,"body_markdown":"I am currently trying to return an input stream via my API. The input stream contains an html file that I previously fetch from Jenkins via the Cdancy Jenkinsclient via the input stream. I want to pass this html through my endpoint. If I enter Json as @Produce, then the HTML content comes with the note that the JSON can not be parsed. If I specify another MediyType, then a 406 comes back. Is it even bestpractise to return an inputstream or should I transform it into an outputstream first?\r\n\r\nThis is my Code:\r\n\r\nEndpoint\r\n\r\n```\r\n@GET\r\n@Path(API_RESOURCE_IMAGE_REPORT)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.APPLICATION_OCTET_STREAM)\r\n@Operation(summary = &quot;&quot;, description = &quot;&quot;)\r\n@APIResponses(\r\n        value = {\r\n                @APIResponse(\r\n                        responseCode = &quot;200&quot;,\r\n                        description =\r\n                                &quot;&quot;,\r\n                        content = @Content(mediaType = MediaType.APPLICATION_JSON)),\r\n                @APIResponse(\r\n                        responseCode = &quot;400&quot;,\r\n                        description = &quot;&quot;,\r\n                        content =\r\n                        @Content(\r\n                                mediaType = MediaType.APPLICATION_JSON,\r\n                                schema = @Schema(implementation = ErrorResponseDO.class))),\r\n        })\r\npublic Response getReport(@Parameter(\r\n        description = &quot;&quot;,\r\n        required = true)\r\n                          @PathParam(&quot;imageName&quot;) final String imageName,\r\n                          @Parameter(description = &quot;&quot;, required = true)\r\n                          @PathParam(&quot;tag&quot;) final String tag,\r\n                          @Parameter(description = &quot;&quot;)\r\n                          @PathParam(&quot;type&quot;) String type\r\n) throws ApplicationException, IOException {\r\n\r\n    InputStream report = jenkinsClient.getReport(imageName, tag, type);\r\n\r\n    return Response.status(HttpURLConnection.HTTP_ACCEPTED).entity(report).build();\r\n}\r\n```\r\n\r\nJenkinsclient:\r\n\r\n```\r\n    public InputStream getReport(final String imageName, final String tag, final String type) throws ApplicationException {\r\n\r\n        try {\r\n            final int lastSuccessfulBuildnumber = jenkinsClient.api().jobsApi().jobInfo(imageName, tag).lastSuccessfulBuild().number();\r\n            LOG.info(&quot;Last successful buildnumber: &quot; + lastSuccessfulBuildnumber);\r\n\r\n            final InputStream report = jenkinsClient.api().jobsApi().artifact(imageName, tag, lastSuccessfulBuildnumber, Objects.equals(type, &quot;image&quot;) ? &quot;trivy_image_report.html&quot; : &quot;trivy_Dockerfile_report.html&quot;);\r\n            \r\n\r\n            if (report == null) {\r\n                throw new NotFoundException();\r\n            }\r\n\r\n            return report;\r\n\r\n        } catch (Exception e) {\r\n            throw new NotFoundException();\r\n\r\n        }\r\n    }\r\n```\r\n\r\nOutput:\r\nOutput is 406 everytime (TEXT_HTML, OCTET_STREAM, TEXT_PLAINE).\r\nOnly with @Produces(MediaType.APPLICATION_JSON) it is successfull with the html code bud with the message: json cant be parsed.\r\n\r\nThanks for your help","title":"Java return Inputstream via rest API with html file in inputstream","body":"<p>I am currently trying to return an input stream via my API. The input stream contains an html file that I previously fetch from Jenkins via the Cdancy Jenkinsclient via the input stream. I want to pass this html through my endpoint. If I enter Json as @Produce, then the HTML content comes with the note that the JSON can not be parsed. If I specify another MediyType, then a 406 comes back. Is it even bestpractise to return an inputstream or should I transform it into an outputstream first?</p>\n<p>This is my Code:</p>\n<p>Endpoint</p>\n<pre><code>@GET\n@Path(API_RESOURCE_IMAGE_REPORT)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_OCTET_STREAM)\n@Operation(summary = &quot;&quot;, description = &quot;&quot;)\n@APIResponses(\n        value = {\n                @APIResponse(\n                        responseCode = &quot;200&quot;,\n                        description =\n                                &quot;&quot;,\n                        content = @Content(mediaType = MediaType.APPLICATION_JSON)),\n                @APIResponse(\n                        responseCode = &quot;400&quot;,\n                        description = &quot;&quot;,\n                        content =\n                        @Content(\n                                mediaType = MediaType.APPLICATION_JSON,\n                                schema = @Schema(implementation = ErrorResponseDO.class))),\n        })\npublic Response getReport(@Parameter(\n        description = &quot;&quot;,\n        required = true)\n                          @PathParam(&quot;imageName&quot;) final String imageName,\n                          @Parameter(description = &quot;&quot;, required = true)\n                          @PathParam(&quot;tag&quot;) final String tag,\n                          @Parameter(description = &quot;&quot;)\n                          @PathParam(&quot;type&quot;) String type\n) throws ApplicationException, IOException {\n\n    InputStream report = jenkinsClient.getReport(imageName, tag, type);\n\n    return Response.status(HttpURLConnection.HTTP_ACCEPTED).entity(report).build();\n}\n</code></pre>\n<p>Jenkinsclient:</p>\n<pre><code>    public InputStream getReport(final String imageName, final String tag, final String type) throws ApplicationException {\n\n        try {\n            final int lastSuccessfulBuildnumber = jenkinsClient.api().jobsApi().jobInfo(imageName, tag).lastSuccessfulBuild().number();\n            LOG.info(&quot;Last successful buildnumber: &quot; + lastSuccessfulBuildnumber);\n\n            final InputStream report = jenkinsClient.api().jobsApi().artifact(imageName, tag, lastSuccessfulBuildnumber, Objects.equals(type, &quot;image&quot;) ? &quot;trivy_image_report.html&quot; : &quot;trivy_Dockerfile_report.html&quot;);\n            \n\n            if (report == null) {\n                throw new NotFoundException();\n            }\n\n            return report;\n\n        } catch (Exception e) {\n            throw new NotFoundException();\n\n        }\n    }\n</code></pre>\n<p>Output:\nOutput is 406 everytime (TEXT_HTML, OCTET_STREAM, TEXT_PLAINE).\nOnly with @Produces(MediaType.APPLICATION_JSON) it is successfull with the html code bud with the message: json cant be parsed.</p>\n<p>Thanks for your help</p>\n"},{"tags":["javascript","java","wordpress","accordion","divi"],"answers":[{"tags":[],"owner":{"account_id":26410911,"reputation":25,"user_id":20060023,"display_name":"Jeroen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670429168,"creation_date":1670429168,"answer_id":74719598,"question_id":74717665,"body_markdown":"I&#39;m no JS expert but couldn&#39;t you add a css class and this class would use the :last-child pseudo class, set to display: none; ?","title":"DIVI accordion have last item open","body":"<p>I'm no JS expert but couldn't you add a css class and this class would use the :last-child pseudo class, set to display: none; ?</p>\n"}],"owner":{"account_id":25896985,"reputation":3,"user_id":19623418,"display_name":"sir_gra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670429168,"creation_date":1670420741,"question_id":74717665,"body_markdown":"As the title states I&#39;d like to always have the last item on the DIVI accordion module open by default. As I&#39;m not good in coding JavaScript and I couldn&#39;t find anything helpful on the internet I thought I&#39;d ask here for help. \r\n\r\nAt the moment I use this code but it&#39;s only closing all accordions.\r\n\r\n\r\n```\r\n&lt;script&gt;\r\njQuery(document).ready(function(){\r\n    var setState = &quot;close&quot;;\r\n    if(setState == &quot;open&quot;){\r\n        jQuery(&quot;.module-akkrodion .et_pb_toggle&quot;).removeClass(&quot;et_pb_toggle_close&quot;);\r\n        jQuery(&quot;.module-akkrodion .et_pb_toggle&quot;).addClass(&quot;et_pb_toggle_open&quot;);\r\n        jQuery(&quot;.et_pb_toggle_open .et_pb_toggle_content&quot;).css(&quot;display&quot;, &quot;block&quot;);\r\n        jQuery(&quot;.et_pb_toggle_open .et_pb_toggle_title&quot;).addClass(&quot;all_on&quot;);\r\n        jQuery(&quot;.all_on&quot;).on(&quot;click&quot;, function(){\r\n            \r\n            \r\n            if(jQuery(this).parent().hasClass(&quot;et_pb_toggle_open&quot;)){\r\n                jQuery(this).parent().removeClass(&quot;et_pb_toggle_open&quot;);\r\n                jQuery(this).parent().removeClass(&quot;et_pb_toggle_close&quot;);\r\n                jQuery(this).parent().css(&quot;padding&quot;, &quot;20px&quot;);\r\n                jQuery(this).parent().siblings().removeClass(&quot;et_pb_toggle_close&quot;);\r\n                jQuery(this).parent().siblings().removeClass(&quot;et_pb_toggle_open&quot;);\r\n                jQuery(this).parent().siblings().css(&quot;padding&quot;, &quot;20px&quot;);\r\n              \t\r\n            }\r\n          jQuery(this).removeClass(&quot;all_on&quot;);\r\n        \r\n            \r\n        })\r\n        \r\n    }else{\r\n        jQuery(&quot;.module-akkrodion .et_pb_toggle&quot;).removeClass(&quot;et_pb_toggle_open&quot;);\r\n        jQuery(&quot;.module-akkrodion .et_pb_toggle&quot;).addClass(&quot;et_pb_toggle_close&quot;);\r\n        jQuery(&quot;.et_pb_toggle_close .et_pb_toggle_content&quot;).css(&quot;display&quot;, &quot;none&quot;);\r\n    }\r\n})\r\n&lt;/script&gt;\r\n```\r\n","title":"DIVI accordion have last item open","body":"<p>As the title states I'd like to always have the last item on the DIVI accordion module open by default. As I'm not good in coding JavaScript and I couldn't find anything helpful on the internet I thought I'd ask here for help.</p>\n<p>At the moment I use this code but it's only closing all accordions.</p>\n<pre><code>&lt;script&gt;\njQuery(document).ready(function(){\n    var setState = &quot;close&quot;;\n    if(setState == &quot;open&quot;){\n        jQuery(&quot;.module-akkrodion .et_pb_toggle&quot;).removeClass(&quot;et_pb_toggle_close&quot;);\n        jQuery(&quot;.module-akkrodion .et_pb_toggle&quot;).addClass(&quot;et_pb_toggle_open&quot;);\n        jQuery(&quot;.et_pb_toggle_open .et_pb_toggle_content&quot;).css(&quot;display&quot;, &quot;block&quot;);\n        jQuery(&quot;.et_pb_toggle_open .et_pb_toggle_title&quot;).addClass(&quot;all_on&quot;);\n        jQuery(&quot;.all_on&quot;).on(&quot;click&quot;, function(){\n            \n            \n            if(jQuery(this).parent().hasClass(&quot;et_pb_toggle_open&quot;)){\n                jQuery(this).parent().removeClass(&quot;et_pb_toggle_open&quot;);\n                jQuery(this).parent().removeClass(&quot;et_pb_toggle_close&quot;);\n                jQuery(this).parent().css(&quot;padding&quot;, &quot;20px&quot;);\n                jQuery(this).parent().siblings().removeClass(&quot;et_pb_toggle_close&quot;);\n                jQuery(this).parent().siblings().removeClass(&quot;et_pb_toggle_open&quot;);\n                jQuery(this).parent().siblings().css(&quot;padding&quot;, &quot;20px&quot;);\n                \n            }\n          jQuery(this).removeClass(&quot;all_on&quot;);\n        \n            \n        })\n        \n    }else{\n        jQuery(&quot;.module-akkrodion .et_pb_toggle&quot;).removeClass(&quot;et_pb_toggle_open&quot;);\n        jQuery(&quot;.module-akkrodion .et_pb_toggle&quot;).addClass(&quot;et_pb_toggle_close&quot;);\n        jQuery(&quot;.et_pb_toggle_close .et_pb_toggle_content&quot;).css(&quot;display&quot;, &quot;none&quot;);\n    }\n})\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1670427637,"post_id":74719144,"comment_id":131875016,"body_markdown":"The target of the argument in the `MyJsonProvider` must be a functional interface of the appropriate type whether it is a lambda or a method reference.","body":"The target of the argument in the <code>MyJsonProvider</code> must be a functional interface of the appropriate type whether it is a lambda or a method reference."},{"owner":{"account_id":168379,"reputation":16425,"user_id":393805,"accept_rate":80,"display_name":"tftd"},"score":0,"creation_date":1670428045,"post_id":74719144,"comment_id":131875176,"body_markdown":"Yes, it should be. But how do you convert the typing from a `Method` ? I can&#39;t just hard-code `new MyJsonProvider(resource, MyClass::converter)` into the extension. I need to somehow pass it dynamically. Hence the annotations. :)","body":"Yes, it should be. But how do you convert the typing from a <code>Method</code> ? I can&#39;t just hard-code <code>new MyJsonProvider(resource, MyClass::converter)</code> into the extension. I need to somehow pass it dynamically. Hence the annotations. :)"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1670428121,"post_id":74719144,"comment_id":131875209,"body_markdown":"Does the method already take a Functional interface or just the argument to be processed?   And passing a lambda still requires that the target method be able to apply some argument which would normally be provided to the method itself. (I.e. the method must also be able to invoke that lambda).","body":"Does the method already take a Functional interface or just the argument to be processed?   And passing a lambda still requires that the target method be able to apply some argument which would normally be provided to the method itself. (I.e. the method must also be able to invoke that lambda)."},{"owner":{"account_id":168379,"reputation":16425,"user_id":393805,"accept_rate":80,"display_name":"tftd"},"score":0,"creation_date":1670428829,"post_id":74719144,"comment_id":131875505,"body_markdown":"I&#39;ve updated the question with more code example -- I hope this would bring more clarity.","body":"I&#39;ve updated the question with more code example -- I hope this would bring more clarity."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670428036,"creation_date":1670428036,"answer_id":74719350,"question_id":74719144,"body_markdown":"The method parameter needs to be a Functional interface of the type of the method reference.\r\n```\r\nMyMethod(() -&gt; &quot;Hello, World!&quot;);\r\n\r\nSupplier&lt;String&gt; supplier = () -&gt; &quot;Hello, World!&quot;;\r\nMyMethod(supplier);\r\nMyMethod(supplier::get);\r\nMyMethod2(supplier.get());\r\n\r\n\r\npublic static void MyMethod(Supplier&lt;String&gt; sup) {\r\n    System.out.println(sup.get());\r\n}\r\n\r\npublic static void MyMethod2(String value) {\r\n    System.out.println(value);\r\n}\r\n```\r\nprints\r\n```\r\nHello, World!\r\nHello, World!\r\nHello, World!\r\nHello, World!\r\n","title":"How to convert a Method into a lambda reference","body":"<p>The method parameter needs to be a Functional interface of the type of the method reference.</p>\n<pre><code>MyMethod(() -&gt; &quot;Hello, World!&quot;);\n\nSupplier&lt;String&gt; supplier = () -&gt; &quot;Hello, World!&quot;;\nMyMethod(supplier);\nMyMethod(supplier::get);\nMyMethod2(supplier.get());\n\n\npublic static void MyMethod(Supplier&lt;String&gt; sup) {\n    System.out.println(sup.get());\n}\n\npublic static void MyMethod2(String value) {\n    System.out.println(value);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>Hello, World!\nHello, World!\nHello, World!\nHello, World!\n</code></pre>\n"}],"owner":{"account_id":168379,"reputation":16425,"user_id":393805,"accept_rate":80,"display_name":"tftd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74719350,"answer_count":1,"score":1,"last_activity_date":1670428800,"creation_date":1670427077,"question_id":74719144,"body_markdown":"I&#39;m writing some jUnit5 extensions to make it easier to test some code.\r\nThe extension has these annotations:\r\n``` java\r\n@Target({ElementType.METHOD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Inherited\r\n@Test\r\n@ExtendWith({CustomJunit5Extension.class})\r\npublic @interface MyAnnotation {\r\n   String jsonFile;\r\n   Class&lt;?&gt; converter;\r\n}\r\n\r\n// test case\r\nclass Test {\r\n   @MyAnnotation(converter = MyClass.class)\r\n   void someTest();\r\n}\r\n\r\n// Some class which contains a converter method annotated with @JsonConverterMethod\r\npublic class MyClass {\r\n    @JsonConverterMethod\r\n    public static Car converter(String jsonLine);\r\n}\r\n\r\n// jUnit5 extension\r\npublic class CustomJunit5Extension implements ParameterResolver, AfterEachCallback, AfterAllCallback {\r\n\r\n   // ultra simplified version\r\n   public Object resolveParameter(ParameterContext pctx, ExtensionContext ectx) throws ParameterResolutionException {\r\n      final MyAnnotation annotation = getAnnotation(pctx, ectx);\r\n      final Method converterMethod = getMethodByAnnotation(annotation.converter(), JsonConverterMethod.class);\r\n\r\n      @SuppressWarnings({&quot;unchecked&quot;})\r\n      final var converter = needs to become a \r\n                            direct reference to MyClass::converter\r\n                            without hardcoding it, because you can\r\n                            have other classes providing different\r\n                            jsonString to Object converters;\r\n\r\n      final JsonCandleProvider provider = new JsonCandleProvider(resource, converter);\r\n\r\n      return provider;\r\n   }\r\n\r\n}\r\n```\r\n\r\nHence the question - how to convert a `Method` reference into a `Lambda` reference so I could pass it to the `MyJsonProvider`? Or how would you achieve a similar result in another way maybe?\r\n","title":"How to convert a Method into a lambda reference","body":"<p>I'm writing some jUnit5 extensions to make it easier to test some code.\nThe extension has these annotations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Inherited\n@Test\n@ExtendWith({CustomJunit5Extension.class})\npublic @interface MyAnnotation {\n   String jsonFile;\n   Class&lt;?&gt; converter;\n}\n\n// test case\nclass Test {\n   @MyAnnotation(converter = MyClass.class)\n   void someTest();\n}\n\n// Some class which contains a converter method annotated with @JsonConverterMethod\npublic class MyClass {\n    @JsonConverterMethod\n    public static Car converter(String jsonLine);\n}\n\n// jUnit5 extension\npublic class CustomJunit5Extension implements ParameterResolver, AfterEachCallback, AfterAllCallback {\n\n   // ultra simplified version\n   public Object resolveParameter(ParameterContext pctx, ExtensionContext ectx) throws ParameterResolutionException {\n      final MyAnnotation annotation = getAnnotation(pctx, ectx);\n      final Method converterMethod = getMethodByAnnotation(annotation.converter(), JsonConverterMethod.class);\n\n      @SuppressWarnings({&quot;unchecked&quot;})\n      final var converter = needs to become a \n                            direct reference to MyClass::converter\n                            without hardcoding it, because you can\n                            have other classes providing different\n                            jsonString to Object converters;\n\n      final JsonCandleProvider provider = new JsonCandleProvider(resource, converter);\n\n      return provider;\n   }\n\n}\n</code></pre>\n<p>Hence the question - how to convert a <code>Method</code> reference into a <code>Lambda</code> reference so I could pass it to the <code>MyJsonProvider</code>? Or how would you achieve a similar result in another way maybe?</p>\n"},{"tags":["java","html","string","tags"],"comments":[{"owner":{"account_id":137815,"reputation":798,"user_id":342294,"accept_rate":77,"display_name":"Assaf"},"score":0,"creation_date":1274003792,"post_id":2843258,"comment_id":2885844,"body_markdown":"sorry, the &quot;What is up&quot; is surrounded with the bold tags which is not shown in the question (&quot;&lt;b&gt;&quot;,&quot;&lt;/b&gt;&quot;)","body":"sorry, the &quot;What is up&quot; is surrounded with the bold tags which is not shown in the question (&quot;&lt;b&gt;&quot;,&quot;&lt;/b&gt;&quot;)"},{"owner":{"account_id":79902,"reputation":15692,"user_id":226266,"accept_rate":95,"display_name":"nc3b"},"score":0,"creation_date":1274004086,"post_id":2843258,"comment_id":2885860,"body_markdown":"Select that block of text and click the `101 010` button.","body":"Select that block of text and click the <code>101 010</code> button."},{"owner":{"account_id":36459,"reputation":40877,"user_id":104014,"accept_rate":89,"display_name":"Artem Barger"},"score":0,"creation_date":1274004893,"post_id":2843258,"comment_id":2885885,"body_markdown":"How did you try to solve the problem? Are you asking for ready solution or have tried and haven&#39;t succeeded? And why you didn&#39;t ask the &quot;someone&quot; who told you that using matcher is the best?","body":"How did you try to solve the problem? Are you asking for ready solution or have tried and haven&#39;t succeeded? And why you didn&#39;t ask the &quot;someone&quot; who told you that using matcher is the best?"}],"answers":[{"tags":[],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1274005619,"creation_date":1274005245,"answer_id":2843321,"question_id":2843258,"body_markdown":"If your string is simple like this all the time, you could use the java [`Pattern`][1] indeed. But if your strings get more complicated and you want to extract contents from nested structures, you should really use a HTML parser.\r\n\r\nFor choosing the right parser look at this question: [Which HTML parser is best][2].\r\n\r\nIf you stay with patterns, your regex will look like this:\r\n\r\n    Pattern pattern = Pattern.compile( &quot;&lt;b&gt;(.*?)&lt;/b&gt;&quot; );\r\n    Matcher m = pattern.matcher( &quot;neverMind&lt;b&gt;What is up&lt;/b&gt;neverMind&quot; );\r\n    if( m.find() ) {\r\n        String theStringYouAreLookingFor = m.group( 1 );\r\n    }\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html\r\n  [2]: https://stackoverflow.com/questions/2168610/which-html-parser-is-best","title":"Tear subString from within HTML tags with JAVA","body":"<p>If your string is simple like this all the time, you could use the java <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\"><code>Pattern</code></a> indeed. But if your strings get more complicated and you want to extract contents from nested structures, you should really use a HTML parser.</p>\n\n<p>For choosing the right parser look at this question: <a href=\"https://stackoverflow.com/questions/2168610/which-html-parser-is-best\">Which HTML parser is best</a>.</p>\n\n<p>If you stay with patterns, your regex will look like this:</p>\n\n<pre><code>Pattern pattern = Pattern.compile( \"&lt;b&gt;(.*?)&lt;/b&gt;\" );\nMatcher m = pattern.matcher( \"neverMind&lt;b&gt;What is up&lt;/b&gt;neverMind\" );\nif( m.find() ) {\n    String theStringYouAreLookingFor = m.group( 1 );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25666732,"reputation":13,"user_id":19431556,"display_name":"Madsinceborn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670428648,"creation_date":1670428648,"answer_id":74719484,"question_id":2843258,"body_markdown":"If you want it without matcher\r\n\r\n    \t\tString a=&quot;neverMind&lt;b&gt;What is up&lt;/b&gt;neverMind&quot;;\r\n\t\tint index1=a.indexOf(&quot;&gt;&quot;);\r\n\t\tint index2=a.indexOf(&quot;&lt;/b&gt;&quot;);\r\n\t\tString finalString=a.substring(index1+1, index2);\r\n\t\tSystem.out.println(finalString);","title":"Tear subString from within HTML tags with JAVA","body":"<p>If you want it without matcher</p>\n<pre><code>        String a=&quot;neverMind&lt;b&gt;What is up&lt;/b&gt;neverMind&quot;;\n    int index1=a.indexOf(&quot;&gt;&quot;);\n    int index2=a.indexOf(&quot;&lt;/b&gt;&quot;);\n    String finalString=a.substring(index1+1, index2);\n    System.out.println(finalString);\n</code></pre>\n"}],"owner":{"account_id":137815,"reputation":798,"user_id":342294,"accept_rate":77,"display_name":"Assaf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1971,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":2843321,"answer_count":2,"score":1,"last_activity_date":1670428648,"creation_date":1274003714,"question_id":2843258,"body_markdown":"let say i have a string like this &quot;`neverMind&lt;b&gt;What is up&lt;/b&gt;neverMind`&quot; and I want to take out the What is up using regexp with JAVA. Someone told me that using matcher will be the best. Can anyone show me how to do it using Matcher?  \r\nOther solutions are welcome too!\r\nThanks!","title":"Tear subString from within HTML tags with JAVA","body":"<p>let say i have a string like this \"<code>neverMind&lt;b&gt;What is up&lt;/b&gt;neverMind</code>\" and I want to take out the What is up using regexp with JAVA. Someone told me that using matcher will be the best. Can anyone show me how to do it using Matcher?<br>\nOther solutions are welcome too!\nThanks!</p>\n"},{"tags":["java","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":2,"creation_date":1670427206,"post_id":74719159,"comment_id":131874848,"body_markdown":"Maybe you need one of the paid versions?","body":"Maybe you need one of the paid versions?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1670427297,"post_id":74719159,"comment_id":131874890,"body_markdown":"https://www.jetbrains.com/products/compare/?product=idea&amp;product=idea-ce","body":"<a href=\"https://www.jetbrains.com/products/compare/?product=idea&amp;product=idea-ce\" rel=\"nofollow noreferrer\">jetbrains.com/products/compare/&hellip;</a>"},{"owner":{"account_id":7548764,"reputation":3336,"user_id":5730949,"display_name":"isaace"},"score":0,"creation_date":1670428656,"post_id":74719159,"comment_id":131875426,"body_markdown":"or use eclipse for free","body":"or use eclipse for free"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1670435278,"post_id":74719159,"comment_id":131877771,"body_markdown":"Notice the “Ultimate” colored tag in [the documentation](https://www.jetbrains.com/help/idea/database-tool-window.html). That means this is a premium feature available only in the Ultimate edition of IntelliJ. Ultimate edition is a commercial product requiring a fee.","body":"Notice the “Ultimate” colored tag in <a href=\"https://www.jetbrains.com/help/idea/database-tool-window.html\" rel=\"nofollow noreferrer\">the documentation</a>. That means this is a premium feature available only in the Ultimate edition of IntelliJ. Ultimate edition is a commercial product requiring a fee."}],"answers":[{"tags":[],"owner":{"account_id":13359761,"reputation":391,"user_id":10079966,"display_name":"Vml11"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1670427338,"creation_date":1670427338,"answer_id":74719208,"question_id":74719159,"body_markdown":"Is only available on the ultimate version. Community version does not have that.","title":"InteliJ does not allow database connection","body":"<p>Is only available on the ultimate version. Community version does not have that.</p>\n"},{"tags":[],"owner":{"account_id":16840783,"reputation":143,"user_id":12176236,"display_name":"Thisara_Welmilla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670428323,"creation_date":1670428323,"answer_id":74719418,"question_id":74719159,"body_markdown":"According to your screenshot, I think plugins are not listing as marketplace has not loaded properly\r\n\r\nRefer: https://intellij-support.jetbrains.com/hc/en-us/community/posts/360004275380-Marketplace-Plugins-are-not-loaded","title":"InteliJ does not allow database connection","body":"<p>According to your screenshot, I think plugins are not listing as marketplace has not loaded properly</p>\n<p>Refer: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360004275380-Marketplace-Plugins-are-not-loaded\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/360004275380-Marketplace-Plugins-are-not-loaded</a></p>\n"}],"owner":{"account_id":20539655,"reputation":5,"user_id":15074825,"display_name":"Claudia Martins"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670428323,"creation_date":1670427142,"question_id":74719159,"body_markdown":"I&#39;m new to java and InteliJ. I downloaded IntelliJ IDEA 2022.3 (Community Edition) but it does not seem to have &quot;Database&quot; under &quot;View&quot; &gt; &quot;Tool Windows&quot; : \r\n\r\n[InteliJ_Screenshot][1]\r\n\r\n\r\nUnfortunately I can not find the &quot;Database Navigation&quot; under the plugins :\r\n\r\n[Pluigins][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eGSDJ.png\r\n  [2]: https://i.stack.imgur.com/RABCJ.png","title":"InteliJ does not allow database connection","body":"<p>I'm new to java and InteliJ. I downloaded IntelliJ IDEA 2022.3 (Community Edition) but it does not seem to have &quot;Database&quot; under &quot;View&quot; &gt; &quot;Tool Windows&quot; :</p>\n<p><a href=\"https://i.stack.imgur.com/eGSDJ.png\" rel=\"nofollow noreferrer\">InteliJ_Screenshot</a></p>\n<p>Unfortunately I can not find the &quot;Database Navigation&quot; under the plugins :</p>\n<p><a href=\"https://i.stack.imgur.com/RABCJ.png\" rel=\"nofollow noreferrer\">Pluigins</a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583401956,"creation_date":1583401956,"answer_id":60542478,"question_id":60542281,"body_markdown":"You can use `Arrays.stream()` like this:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\tInteger[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\r\n\t\r\n\tInteger[] sortedArr = Arrays.stream(arr)\t// stream the content\r\n\t\t\t\t\t\t\t// sort it in reverse order\r\n\t\t\t\t\t\t\t.sorted(Collections.reverseOrder())\r\n\t\t\t\t\t\t\t// and define a data structure for the result\r\n\t\t\t\t\t\t\t.toArray(Integer[]::new);\r\n\t// output the result\r\n\tArrays.stream(sortedArr).forEach(i -&gt; System.out.print(i + &quot; &quot;));\r\n}\r\n```\r\n\r\nThe output is \r\n\r\n```lang-none\r\n100 45 21 13 9 7 6 2 \r\n```","title":"Sort Int array using lambda java 8","body":"<p>You can use <code>Arrays.stream()</code> like this:</p>\n\n<pre><code>public static void main(String[] args) {\n    Integer[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\n\n    Integer[] sortedArr = Arrays.stream(arr)    // stream the content\n                            // sort it in reverse order\n                            .sorted(Collections.reverseOrder())\n                            // and define a data structure for the result\n                            .toArray(Integer[]::new);\n    // output the result\n    Arrays.stream(sortedArr).forEach(i -&gt; System.out.print(i + \" \"));\n}\n</code></pre>\n\n<p>The output is </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>100 45 21 13 9 7 6 2 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6932710,"reputation":3956,"user_id":5321729,"accept_rate":67,"display_name":"Ajit Soman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583401981,"creation_date":1583401981,"answer_id":60542487,"question_id":60542281,"body_markdown":"You can use `Arrays.asList` to make it `List&lt;Integer&gt;` and then use stream.sorted() method to sort integer list like this:\r\n\r\n`Arrays.asList(arr).stream().sorted().forEach(System.out::println);`\r\n\t\t\r\nAnd for reverse :\r\n\r\n`Arrays.asList(arr).stream().sorted(Comparator.reverseOrder()).forEach(System.out::println)`;","title":"Sort Int array using lambda java 8","body":"<p>You can use <code>Arrays.asList</code> to make it <code>List&lt;Integer&gt;</code> and then use stream.sorted() method to sort integer list like this:</p>\n\n<p><code>Arrays.asList(arr).stream().sorted().forEach(System.out::println);</code></p>\n\n<p>And for reverse :</p>\n\n<p><code>Arrays.asList(arr).stream().sorted(Comparator.reverseOrder()).forEach(System.out::println)</code>;</p>\n"},{"tags":[],"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583402832,"creation_date":1583402832,"answer_id":60542782,"question_id":60542281,"body_markdown":"Assuming it&#39;s the `Comparator&lt;Integer&gt;` that you want to specify using a lambda :\r\n\r\n    Arrays.sort(arr, (x,y) -&gt; y-x);\r\n\r\n`Comparator&lt;Integer&gt;` is a `@FunctionalInterface` and can be implemented by using a lambda to define its abstract method `int compare(T in1, T in2)`. This lambda will have to be of the form `(param1, param2) -&gt; expression that returns an int` to conform to the signature of `compare`.\r\n\r\nThe method must &quot;Return a negative integer, zero, or a positive integer as the first argument is less than, equal to, or greater than the second.&quot;. In our case since we sort in descending order we want the smallest integer to be considered as &quot;greatest&quot; in the context of our sort order, which we achieve by substracting the first element from the second (if in1 &gt; in2 then in2 - in1 &lt; 0 then in1 comes before in2 and conversely).\r\n\r\nYou can [try it here](https://ideone.com/2ErOY9).","title":"Sort Int array using lambda java 8","body":"<p>Assuming it's the <code>Comparator&lt;Integer&gt;</code> that you want to specify using a lambda :</p>\n\n<pre><code>Arrays.sort(arr, (x,y) -&gt; y-x);\n</code></pre>\n\n<p><code>Comparator&lt;Integer&gt;</code> is a <code>@FunctionalInterface</code> and can be implemented by using a lambda to define its abstract method <code>int compare(T in1, T in2)</code>. This lambda will have to be of the form <code>(param1, param2) -&gt; expression that returns an int</code> to conform to the signature of <code>compare</code>.</p>\n\n<p>The method must \"Return a negative integer, zero, or a positive integer as the first argument is less than, equal to, or greater than the second.\". In our case since we sort in descending order we want the smallest integer to be considered as \"greatest\" in the context of our sort order, which we achieve by substracting the first element from the second (if in1 > in2 then in2 - in1 &lt; 0 then in1 comes before in2 and conversely).</p>\n\n<p>You can <a href=\"https://ideone.com/2ErOY9\" rel=\"nofollow noreferrer\">try it here</a>.</p>\n"},{"tags":[],"owner":{"account_id":7533198,"reputation":1546,"user_id":5720532,"display_name":"Abderrazzak Nejeoui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614095326,"creation_date":1614095326,"answer_id":66336442,"question_id":60542281,"body_markdown":"If you look at the JDK Documentation :\r\n[Arrays.sort][1] : \r\nThis method accept two arguments : \r\n\r\n 1.  the array to be sorted\r\n 2. the [Comparator][2] used for sorting\r\n\r\nfor the comparator you have 3 choices :\r\n \r\n\r\n 1. use a separate classes  \r\n```\r\npackage com.nejeoui;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Comparator;\r\n\r\npublic class Example {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tInteger[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\r\n\t\tArrays.sort(arr, new MyComparator());\r\n\t}\r\n\r\n}\r\n\r\nclass MyComparator implements Comparator&lt;Integer&gt;{\r\n\r\n\t@Override\r\n\tpublic int compare(Integer o1, Integer o2) {\r\n\t\t\r\n\t\treturn o1-o2;\r\n\t}\r\n\t\r\n}\r\n```\r\n 2. use an anonymous class  \r\n```\r\npackage com.nejeoui;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Comparator;\r\n\r\npublic class Example {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tInteger[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\r\n\t\tArrays.sort(arr, new Comparator&lt;Integer&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(Integer o1, Integer o2) {\r\n\t\t\t\t\r\n\t\t\t\treturn o1-o2;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n}\r\n```\r\n 3. use a lambda expression (Java 1.8)\r\n```\r\npackage com.nejeoui;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class Example {\r\n\tpublic static void main(String[] args) {\r\n\t\tInteger[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\r\n\t\tArrays.sort(arr,  (o1,o2)-&gt; o1-o2 );\r\n\t}\r\n\r\n}\r\n```\r\nAs you may notice the Lambda expression is less verbose and elegant way to write anonymous classes from a [functional interface][3] \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(T[],%20java.util.Comparator)\r\n  [2]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/Comparator.html\r\n  [3]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/FunctionalInterface.html","title":"Sort Int array using lambda java 8","body":"<p>If you look at the JDK Documentation :\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(T%5B%5D,%20java.util.Comparator)\" rel=\"nofollow noreferrer\">Arrays.sort</a> :\nThis method accept two arguments :</p>\n<ol>\n<li>the array to be sorted</li>\n<li>the <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a> used for sorting</li>\n</ol>\n<p>for the comparator you have 3 choices :</p>\n<ol>\n<li>use a separate classes</li>\n</ol>\n<pre><code>package com.nejeoui;\n\nimport java.util.Arrays;\nimport java.util.Comparator;\n\npublic class Example {\n    \n    public static void main(String[] args) {\n        Integer[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\n        Arrays.sort(arr, new MyComparator());\n    }\n\n}\n\nclass MyComparator implements Comparator&lt;Integer&gt;{\n\n    @Override\n    public int compare(Integer o1, Integer o2) {\n        \n        return o1-o2;\n    }\n    \n}\n</code></pre>\n<ol start=\"2\">\n<li>use an anonymous class</li>\n</ol>\n<pre><code>package com.nejeoui;\n\nimport java.util.Arrays;\nimport java.util.Comparator;\n\npublic class Example {\n    \n    public static void main(String[] args) {\n        Integer[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\n        Arrays.sort(arr, new Comparator&lt;Integer&gt;() {\n            @Override\n            public int compare(Integer o1, Integer o2) {\n                \n                return o1-o2;\n            }\n        });\n    }\n\n}\n</code></pre>\n<ol start=\"3\">\n<li>use a lambda expression (Java 1.8)</li>\n</ol>\n<pre><code>package com.nejeoui;\n\nimport java.util.Arrays;\n\npublic class Example {\n    public static void main(String[] args) {\n        Integer[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\n        Arrays.sort(arr,  (o1,o2)-&gt; o1-o2 );\n    }\n\n}\n</code></pre>\n<p>As you may notice the Lambda expression is less verbose and elegant way to write anonymous classes from a <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/FunctionalInterface.html\" rel=\"nofollow noreferrer\">functional interface</a></p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1614098073,"creation_date":1614095556,"answer_id":66336504,"question_id":60542281,"body_markdown":"[`Arrays#sort`][1] requires a `Comparator` to sort the array. You can reverse the order of arguments to [`Comparator#compare`][2] for the comparison to happen in the reverse order.\r\n\r\nWithout lambda, you would do it as\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tInteger[] arr = { 13, 7, 6, 45, 21, 9, 2, 100 };\r\n    \r\n    \t\tArrays.sort(arr, new Comparator&lt;Integer&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic int compare(Integer x, Integer y) {\r\n    \t\t\t\treturn Integer.compare(y, x);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tSystem.out.println(Arrays.toString(arr));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    [100, 45, 21, 13, 9, 7, 6, 2]\r\n\r\nLambda helps you get rid of all the things enclosed by a rectangle in the picture given below:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe things enclosed by a green rectangle are not required when you have just one statement in the body.\r\n\r\nThus, using lambda, the code becomes:\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tInteger[] arr = { 13, 7, 6, 45, 21, 9, 2, 100 };\r\n    \t\tArrays.sort(arr, (x, y) -&gt; Integer.compare(y, x));\r\n    \t\tSystem.out.println(Arrays.toString(arr));\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    [100, 45, 21, 13, 9, 7, 6, 2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-T:A-java.util.Comparator-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-\r\n  [3]: https://i.stack.imgur.com/DVID5.png","title":"Sort Int array using lambda java 8","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-T:A-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>Arrays#sort</code></a> requires a <code>Comparator</code> to sort the array. You can reverse the order of arguments to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-\" rel=\"nofollow noreferrer\"><code>Comparator#compare</code></a> for the comparison to happen in the reverse order.</p>\n<p>Without lambda, you would do it as</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Comparator;\n\npublic class Main {\n    public static void main(String[] args) {\n        Integer[] arr = { 13, 7, 6, 45, 21, 9, 2, 100 };\n\n        Arrays.sort(arr, new Comparator&lt;Integer&gt;() {\n            @Override\n            public int compare(Integer x, Integer y) {\n                return Integer.compare(y, x);\n            }\n        });\n        System.out.println(Arrays.toString(arr));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[100, 45, 21, 13, 9, 7, 6, 2]\n</code></pre>\n<p>Lambda helps you get rid of all the things enclosed by a rectangle in the picture given below:</p>\n<p><a href=\"https://i.stack.imgur.com/DVID5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DVID5.png\" alt=\"enter image description here\" /></a></p>\n<p>The things enclosed by a green rectangle are not required when you have just one statement in the body.</p>\n<p>Thus, using lambda, the code becomes:</p>\n<pre><code>import java.util.Arrays;\n\npublic class Main {\n    public static void main(String[] args) {\n        Integer[] arr = { 13, 7, 6, 45, 21, 9, 2, 100 };\n        Arrays.sort(arr, (x, y) -&gt; Integer.compare(y, x));\n        System.out.println(Arrays.toString(arr));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[100, 45, 21, 13, 9, 7, 6, 2]\n</code></pre>\n"}],"owner":{"account_id":1419026,"reputation":1952,"user_id":1344049,"display_name":"Dipankar Baghel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":968,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":66336504,"answer_count":5,"score":3,"last_activity_date":1670428277,"creation_date":1583401382,"question_id":60542281,"body_markdown":"Just to understand `Lambda` better I have a array of integer like below - \r\n\r\n    Integer[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\r\n\r\n\r\nI want to sort the array using `Lambda` function of Java 8.\r\nI have used\r\n\r\n `Arrays.sort(arr, Collections.reverseOrder());` \r\n\r\nbut I want to sort it using `Lambda` of Java 8 any detailed explanation would be appreciated.","title":"Sort Int array using lambda java 8","body":"<p>Just to understand <code>Lambda</code> better I have a array of integer like below -</p>\n<pre><code>Integer[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\n</code></pre>\n<p>I want to sort the array using <code>Lambda</code> function of Java 8.\nI have used</p>\n<p><code>Arrays.sort(arr, Collections.reverseOrder());</code></p>\n<p>but I want to sort it using <code>Lambda</code> of Java 8 any detailed explanation would be appreciated.</p>\n"},{"tags":["java","sed","replace"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1670428588,"post_id":74719385,"comment_id":131875391,"body_markdown":"That Windows command line you&#39;re showing is not `cmd` but PowerShell. Can you try replacing `{&quot;cmd&quot;, &quot;/c&quot;, &quot;...&quot;}` with `{&quot;powershell&quot;, &quot;-Command&quot;, &quot;...&quot;}`?","body":"That Windows command line you&#39;re showing is not <code>cmd</code> but PowerShell. Can you try replacing <code>{&quot;cmd&quot;, &quot;&#47;c&quot;, &quot;...&quot;}</code> with <code>{&quot;powershell&quot;, &quot;-Command&quot;, &quot;...&quot;}</code>?"},{"owner":{"account_id":12946254,"reputation":63,"user_id":9360524,"display_name":"pancake"},"score":0,"creation_date":1670428942,"post_id":74719385,"comment_id":131875558,"body_markdown":"`String[] cmdarr = {&quot;powershell&quot;, &quot;-Command&quot;, &quot;sed &#39;s/oldstring/newstring/g&#39; test.txt &gt; test2.txt&quot;};` - the same issue, it runs and nothing new or changed.","body":"<code>String[] cmdarr = {&quot;powershell&quot;, &quot;-Command&quot;, &quot;sed &#39;s&#47;oldstring&#47;newstring&#47;g&#39; test.txt &gt; test2.txt&quot;};</code> - the same issue, it runs and nothing new or changed."}],"owner":{"account_id":12946254,"reputation":63,"user_id":9360524,"display_name":"pancake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670428194,"creation_date":1670428194,"question_id":74719385,"body_markdown":"I&#39;m able to use `sed` from command line on Windows:\r\n\r\n    PS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; cat .\\test.txt\r\n    Testtestoldstringtesttest\r\n    PS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; sed -i &#39;s/oldstring/newstring/g&#39; test.txt\r\n    PS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; cat .\\test.txt\r\n    Testtestnewstringtesttest\r\n    PS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; sed -i &#39;s/newstring/oldstringagain/g&#39; test.txt\r\n    PS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; cat .\\test.txt\r\n    Testtestoldstringagaintesttest\r\n\r\nI&#39;m trying to do it in Java code:\r\n\r\n    public class CmdTest {\r\n        public static void main(String[] args) throws IOException {\r\n            String[] cmdarr = {&quot;cmd&quot;, &quot;sed -i &#39;s/oldstring/newstring/g&#39; test.txt&quot;};\r\n    \r\n            Process runCmd = Runtime.getRuntime().exec(cmdarr);\r\n        }\r\n    }\r\nProcess finish without exception but the file test.txt is not changed/updated. \r\nI tried also:\r\n\r\n        String[] cmdarr = {&quot;cmd&quot;, &quot;sed &#39;s/oldstring/newstring/g&#39; test.txt &gt; test2.txt&quot;};\r\n        Process runCmd = Runtime.getRuntime().exec(cmdarr);\r\n\r\nand also with absoulute paths to file. \r\n\r\nWhat is confusing for me - when I set path:\r\n\r\n        String[] cmdarr = {&quot;cmd&quot;, &quot;sed -i &#39;s/oldstring/newstring/g&#39; notexist_badFile.txt&quot;};\r\nit doesn&#39;t throw exception. \r\nIn terminal I get `No such file or directory`.\r\n\r\nIt means that my command is not run correctly? But it is run because when I run command:\r\n\r\n        String[] cmdarr = {&quot;cmd&quot;, &quot;/c&quot;, &quot;sed &#39;s/oldstring/newstring/g&#39; test.txt &gt; \r\n        test2.txt&quot;};\r\n\r\nempty file `test2.txt` was created... ","title":"sed for replace works manually but doesn&#39;t work from Java code","body":"<p>I'm able to use <code>sed</code> from command line on Windows:</p>\n<pre><code>PS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; cat .\\test.txt\nTesttestoldstringtesttest\nPS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; sed -i 's/oldstring/newstring/g' test.txt\nPS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; cat .\\test.txt\nTesttestnewstringtesttest\nPS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; sed -i 's/newstring/oldstringagain/g' test.txt\nPS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; cat .\\test.txt\nTesttestoldstringagaintesttest\n</code></pre>\n<p>I'm trying to do it in Java code:</p>\n<pre><code>public class CmdTest {\n    public static void main(String[] args) throws IOException {\n        String[] cmdarr = {&quot;cmd&quot;, &quot;sed -i 's/oldstring/newstring/g' test.txt&quot;};\n\n        Process runCmd = Runtime.getRuntime().exec(cmdarr);\n    }\n}\n</code></pre>\n<p>Process finish without exception but the file test.txt is not changed/updated.\nI tried also:</p>\n<pre><code>    String[] cmdarr = {&quot;cmd&quot;, &quot;sed 's/oldstring/newstring/g' test.txt &gt; test2.txt&quot;};\n    Process runCmd = Runtime.getRuntime().exec(cmdarr);\n</code></pre>\n<p>and also with absoulute paths to file.</p>\n<p>What is confusing for me - when I set path:</p>\n<pre><code>    String[] cmdarr = {&quot;cmd&quot;, &quot;sed -i 's/oldstring/newstring/g' notexist_badFile.txt&quot;};\n</code></pre>\n<p>it doesn't throw exception.\nIn terminal I get <code>No such file or directory</code>.</p>\n<p>It means that my command is not run correctly? But it is run because when I run command:</p>\n<pre><code>    String[] cmdarr = {&quot;cmd&quot;, &quot;/c&quot;, &quot;sed 's/oldstring/newstring/g' test.txt &gt; \n    test2.txt&quot;};\n</code></pre>\n<p>empty file <code>test2.txt</code> was created...</p>\n"},{"tags":["java","amazon-web-services","maven","aws-lambda"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1670006087,"post_id":74658665,"comment_id":131780218,"body_markdown":"Lambda function handlers have a very specific interface. If you want to test them locally then you would typically use project tooling such as AWS SAM or Serverless Framework. If you simply want to wrap the Lambda function code in some-custom written wrapper so that you can run them locally then you can do that, but you&#39;d have to write code to invoke the Lambda function handler, providing the relevant context and event parameters.","body":"Lambda function handlers have a very specific interface. If you want to test them locally then you would typically use project tooling such as AWS SAM or Serverless Framework. If you simply want to wrap the Lambda function code in some-custom written wrapper so that you can run them locally then you can do that, but you&#39;d have to write code to invoke the Lambda function handler, providing the relevant context and event parameters."},{"owner":{"account_id":6194051,"reputation":51,"user_id":4825933,"accept_rate":86,"display_name":"F&#233;lix Mensah"},"score":0,"creation_date":1670319406,"post_id":74658665,"comment_id":131843229,"body_markdown":"@jarmod where can I find the documentation to do it?","body":"@jarmod where can I find the documentation to do it?"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1670327293,"post_id":74658665,"comment_id":131845984,"body_markdown":"There&#39;s no specific documentation. This isn&#39;t a supported path (from a cloud deployment backwards to an on-prem dev environment). But it should be possible. If these Lambda functions are deployed as Docker container images then you may be in better shape. You&#39;ll need to understand how your Lambda functions are structured, what their expected inputs are (context and event), and then provide a Java wrapper for them to run locally. You might also find that they have been written with dependencies on the Lambda runtime environment, e.g. the presence of of `/tmp` directory, so account for that.","body":"There&#39;s no specific documentation. This isn&#39;t a supported path (from a cloud deployment backwards to an on-prem dev environment). But it should be possible. If these Lambda functions are deployed as Docker container images then you may be in better shape. You&#39;ll need to understand how your Lambda functions are structured, what their expected inputs are (context and event), and then provide a Java wrapper for them to run locally. You might also find that they have been written with dependencies on the Lambda runtime environment, e.g. the presence of of <code>&#47;tmp</code> directory, so account for that."},{"owner":{"account_id":6194051,"reputation":51,"user_id":4825933,"accept_rate":86,"display_name":"F&#233;lix Mensah"},"score":1,"creation_date":1670423618,"post_id":74658665,"comment_id":131873416,"body_markdown":"@jarmod rewrite your answer. I am going to give you the bounty.","body":"@jarmod rewrite your answer. I am going to give you the bounty."}],"answers":[{"tags":[],"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1670428128,"creation_date":1670428128,"answer_id":74719374,"question_id":74658665,"body_markdown":"Lambda function handlers have a very specific interface, typically with event and context parameters. The shape of the event parameter depends on the source of the event that triggered the Lambda function (here&#39;s an [SQS example][1]).\r\n\r\nIf you want to test a Lambda function locally then you would typically start from a local development environment that uses project tooling such as AWS SAM or Serverless Framework. Those tools typically support some way of configuring events and invoking a Lambda function locally with those events. This allows local development, debugging, and testing.\r\n\r\nIf you can&#39;t use one of those tools, then you can typically simply wrap your Lambda function code in some custom-written wrapper code so that you can run it locally, but you&#39;d have to write code to invoke the Lambda function handler, providing the relevant event and context parameters. Typically the context parameter is not all that important for local development.\r\n\r\nUnfortunately, there&#39;s no specific documentation for this path (taking a native Lambda function and moving it to a local development environment). This isn&#39;t a supported path (from a cloud deployment backwards to an on-prem dev environment), but it should be possible. If these Lambda functions are deployed as Docker container images then you may be in better shape.\r\n\r\nYou&#39;ll need to understand how your Lambda functions are structured, what their expected inputs are (context and event), and then provide a Java wrapper for them to run locally. You might also find that they have been written with dependencies on the Lambda runtime environment, e.g. the presence of `/tmp` directory or specific environment variables or an IAM role with specific IAM permissions, so account for that when attempting to run locally.\r\n\r\nSo, I think you can do this but it&#39;s not trivial. It&#39;s generally a better path to start from local using SAM or Serverless, however with some effort you might also be able to retrofit your Lambda functions into that local tooling.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/with-sqs.html","title":"How to launch an AWS Lambda Function locally on my computer?","body":"<p>Lambda function handlers have a very specific interface, typically with event and context parameters. The shape of the event parameter depends on the source of the event that triggered the Lambda function (here's an <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/with-sqs.html\" rel=\"nofollow noreferrer\">SQS example</a>).</p>\n<p>If you want to test a Lambda function locally then you would typically start from a local development environment that uses project tooling such as AWS SAM or Serverless Framework. Those tools typically support some way of configuring events and invoking a Lambda function locally with those events. This allows local development, debugging, and testing.</p>\n<p>If you can't use one of those tools, then you can typically simply wrap your Lambda function code in some custom-written wrapper code so that you can run it locally, but you'd have to write code to invoke the Lambda function handler, providing the relevant event and context parameters. Typically the context parameter is not all that important for local development.</p>\n<p>Unfortunately, there's no specific documentation for this path (taking a native Lambda function and moving it to a local development environment). This isn't a supported path (from a cloud deployment backwards to an on-prem dev environment), but it should be possible. If these Lambda functions are deployed as Docker container images then you may be in better shape.</p>\n<p>You'll need to understand how your Lambda functions are structured, what their expected inputs are (context and event), and then provide a Java wrapper for them to run locally. You might also find that they have been written with dependencies on the Lambda runtime environment, e.g. the presence of <code>/tmp</code> directory or specific environment variables or an IAM role with specific IAM permissions, so account for that when attempting to run locally.</p>\n<p>So, I think you can do this but it's not trivial. It's generally a better path to start from local using SAM or Serverless, however with some effort you might also be able to retrofit your Lambda functions into that local tooling.</p>\n"}],"owner":{"account_id":6194051,"reputation":51,"user_id":4825933,"accept_rate":86,"display_name":"F&#233;lix Mensah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":74719374,"answer_count":1,"score":-3,"last_activity_date":1670428128,"creation_date":1669997859,"question_id":74658665,"body_markdown":"Our development team has created several AWS Lambdas Functions written in Java that are currently running on the cloud.\r\n\r\nI have imported them locally on my computers.\r\n\r\nThey are all Maven projects.\r\n\r\nI have already installed both the JDK and Maven.\r\n\r\nI do not know what is the next step for launching them locally.\r\n\r\nIs there any client that I should install before?","title":"How to launch an AWS Lambda Function locally on my computer?","body":"<p>Our development team has created several AWS Lambdas Functions written in Java that are currently running on the cloud.</p>\n<p>I have imported them locally on my computers.</p>\n<p>They are all Maven projects.</p>\n<p>I have already installed both the JDK and Maven.</p>\n<p>I do not know what is the next step for launching them locally.</p>\n<p>Is there any client that I should install before?</p>\n"},{"tags":["java","eclipse","git","github","jgit"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1379167330,"creation_date":1379152123,"answer_id":18800464,"question_id":18800062,"body_markdown":"The Eclipse git plugin isn&#39;t responsible for the build.\r\n\r\nBut you can customize your Java builder and add a pre-build event which will modify one of your java files with the right version string in it.\r\n\r\n- See &quot;[Pre-Build events in Eclipse][1]&quot; for adding that pre-build step,\r\n- and use a task like &quot;[jgit-buildnumber][2]&quot;:  a Git &quot;build number&quot; plugin for Maven and Ant based on JGit. That will allow you to get the right version build number string.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/6415211/6309\r\n  [2]: https://github.com/alx3apps/jgit-buildnumber","title":"Eclipse git plugin and a method to fetch current branch - commit id to Java code version info string","body":"<p>The Eclipse git plugin isn't responsible for the build.</p>\n\n<p>But you can customize your Java builder and add a pre-build event which will modify one of your java files with the right version string in it.</p>\n\n<ul>\n<li>See \"<a href=\"https://stackoverflow.com/q/6415211/6309\">Pre-Build events in Eclipse</a>\" for adding that pre-build step,</li>\n<li>and use a task like \"<a href=\"https://github.com/alx3apps/jgit-buildnumber\" rel=\"nofollow noreferrer\">jgit-buildnumber</a>\":  a Git \"build number\" plugin for Maven and Ant based on JGit. That will allow you to get the right version build number string.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":408447,"reputation":1426,"user_id":1080679,"accept_rate":94,"display_name":"alkber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379823138,"creation_date":1379823138,"answer_id":18940231,"question_id":18800062,"body_markdown":"I have made a tool to do what i wanted, inspired from the above pointers by @VonC\r\n\r\n   \r\n\r\n [GitBuildNumberGenerator][1]\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/alkber/GitBuildNumberGenerator","title":"Eclipse git plugin and a method to fetch current branch - commit id to Java code version info string","body":"<p>I have made a tool to do what i wanted, inspired from the above pointers by @VonC</p>\n\n<p><a href=\"https://github.com/alkber/GitBuildNumberGenerator\" rel=\"nofollow\">GitBuildNumberGenerator</a></p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670427905,"creation_date":1670427905,"answer_id":74719325,"question_id":18800062,"body_markdown":"Eclipse creates directory `.externalToolBuilders` to keep tools settings.\r\n\r\nExample of `git-version.launch`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;launchConfiguration type=&quot;org.eclipse.ui.externaltools.ProgramBuilderLaunchConfigurationType&quot;&gt;\r\n    &lt;booleanAttribute key=&quot;org.eclipse.debug.ui.ATTR_LAUNCH_IN_BACKGROUND&quot; value=&quot;false&quot;/&gt;\r\n    &lt;stringAttribute key=&quot;org.eclipse.ui.externaltools.ATTR_LOCATION&quot; value=&quot;${workspace_loc:/projX/.externalToolBuilders/git-version.bat}&quot;/&gt;\r\n    &lt;stringAttribute key=&quot;org.eclipse.ui.externaltools.ATTR_RUN_BUILD_KINDS&quot; value=&quot;full,incremental,&quot;/&gt;\r\n    &lt;booleanAttribute key=&quot;org.eclipse.ui.externaltools.ATTR_TRIGGERS_CONFIGURED&quot; value=&quot;true&quot;/&gt;\r\n    &lt;stringAttribute key=&quot;org.eclipse.ui.externaltools.ATTR_WORKING_DIRECTORY&quot; value=&quot;${workspace_loc:/projX}&quot;/&gt;\r\n&lt;/launchConfiguration&gt;\r\n```\r\n\r\nand `git-version.bat`:\r\n\r\n```bat\r\n@echo off\r\n\r\nset VFILE=META-INF/git.properties\r\n\r\ngit rev-parse --short HEAD &gt;%VFILE%\r\nif ERRORLEVEL 1 (\r\n  set hasgit=no\r\n) else (\r\n  set hasgit=yes\r\n)\r\n\r\nrem Git revision.\r\nif %hasgit% == yes (\r\n  set /p rev= &lt;%VFILE%\r\n) else (\r\n  set rev=unknown\r\n)\r\necho git.rev=%rev% &gt;%VFILE%\r\n\r\nrem Are sources has local changes?\r\nif %hasgit% == yes (\r\n  git diff-index --quiet HEAD\r\n  if ERRORLEVEL 1 (\r\n    echo git.clean=no  &gt;&gt;%VFILE%\r\n  ) else (\r\n    echo git.clean=yes &gt;&gt;%VFILE%\r\n  )\r\n)\r\n```\r\n\r\nBuild command is registered in `.project`:\r\n\r\n```xml\r\n&lt;buildCommand&gt;\r\n    &lt;name&gt;org.eclipse.ui.externaltools.ExternalToolBuilder&lt;/name&gt;\r\n    &lt;triggers&gt;full,incremental,&lt;/triggers&gt;\r\n    &lt;arguments&gt;\r\n        &lt;dictionary&gt;\r\n            &lt;key&gt;LaunchConfigHandle&lt;/key&gt;\r\n            &lt;value&gt;&amp;lt;project&amp;gt;/.externalToolBuilders/git-version.launch&lt;/value&gt;\r\n        &lt;/dictionary&gt;\r\n    &lt;/arguments&gt;\r\n&lt;/buildCommand&gt;\r\n```","title":"Eclipse git plugin and a method to fetch current branch - commit id to Java code version info string","body":"<p>Eclipse creates directory <code>.externalToolBuilders</code> to keep tools settings.</p>\n<p>Example of <code>git-version.launch</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;launchConfiguration type=&quot;org.eclipse.ui.externaltools.ProgramBuilderLaunchConfigurationType&quot;&gt;\n    &lt;booleanAttribute key=&quot;org.eclipse.debug.ui.ATTR_LAUNCH_IN_BACKGROUND&quot; value=&quot;false&quot;/&gt;\n    &lt;stringAttribute key=&quot;org.eclipse.ui.externaltools.ATTR_LOCATION&quot; value=&quot;${workspace_loc:/projX/.externalToolBuilders/git-version.bat}&quot;/&gt;\n    &lt;stringAttribute key=&quot;org.eclipse.ui.externaltools.ATTR_RUN_BUILD_KINDS&quot; value=&quot;full,incremental,&quot;/&gt;\n    &lt;booleanAttribute key=&quot;org.eclipse.ui.externaltools.ATTR_TRIGGERS_CONFIGURED&quot; value=&quot;true&quot;/&gt;\n    &lt;stringAttribute key=&quot;org.eclipse.ui.externaltools.ATTR_WORKING_DIRECTORY&quot; value=&quot;${workspace_loc:/projX}&quot;/&gt;\n&lt;/launchConfiguration&gt;\n</code></pre>\n<p>and <code>git-version.bat</code>:</p>\n<pre><code>@echo off\n\nset VFILE=META-INF/git.properties\n\ngit rev-parse --short HEAD &gt;%VFILE%\nif ERRORLEVEL 1 (\n  set hasgit=no\n) else (\n  set hasgit=yes\n)\n\nrem Git revision.\nif %hasgit% == yes (\n  set /p rev= &lt;%VFILE%\n) else (\n  set rev=unknown\n)\necho git.rev=%rev% &gt;%VFILE%\n\nrem Are sources has local changes?\nif %hasgit% == yes (\n  git diff-index --quiet HEAD\n  if ERRORLEVEL 1 (\n    echo git.clean=no  &gt;&gt;%VFILE%\n  ) else (\n    echo git.clean=yes &gt;&gt;%VFILE%\n  )\n)\n</code></pre>\n<p>Build command is registered in <code>.project</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;buildCommand&gt;\n    &lt;name&gt;org.eclipse.ui.externaltools.ExternalToolBuilder&lt;/name&gt;\n    &lt;triggers&gt;full,incremental,&lt;/triggers&gt;\n    &lt;arguments&gt;\n        &lt;dictionary&gt;\n            &lt;key&gt;LaunchConfigHandle&lt;/key&gt;\n            &lt;value&gt;&amp;lt;project&amp;gt;/.externalToolBuilders/git-version.launch&lt;/value&gt;\n        &lt;/dictionary&gt;\n    &lt;/arguments&gt;\n&lt;/buildCommand&gt;\n</code></pre>\n"}],"owner":{"account_id":408447,"reputation":1426,"user_id":1080679,"accept_rate":94,"display_name":"alkber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":760,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18800464,"answer_count":3,"score":1,"last_activity_date":1670427905,"creation_date":1379149077,"question_id":18800062,"body_markdown":"I&#39;m using git plugin for Eclipse, as do my daily build, it becomes difficult to track which version of the build from the git is been tested. Unless there is way to auto fetch the branch and commit id from the git plugin and generate a static String version information in the code during each build. Is it possible ? \r\n\r\nI prefer not to use a git java API from my code, like say i can fetch the git information with JGit API, if i point it to a local repos, however, that is not how it should be done, as it will create issues with application deployment. Rather should be Eclipse plugin that will generate a string during the build.","title":"Eclipse git plugin and a method to fetch current branch - commit id to Java code version info string","body":"<p>I'm using git plugin for Eclipse, as do my daily build, it becomes difficult to track which version of the build from the git is been tested. Unless there is way to auto fetch the branch and commit id from the git plugin and generate a static String version information in the code during each build. Is it possible ? </p>\n\n<p>I prefer not to use a git java API from my code, like say i can fetch the git information with JGit API, if i point it to a local repos, however, that is not how it should be done, as it will create issues with application deployment. Rather should be Eclipse plugin that will generate a string during the build.</p>\n"},{"tags":["java","performance","permutation"],"comments":[{"owner":{"account_id":296285,"reputation":6400,"user_id":601159,"accept_rate":94,"display_name":"Pepe"},"score":0,"creation_date":1334261202,"post_id":10130909,"comment_id":12986023,"body_markdown":"Homework? . Please tag it as such. By the way, I believe this question has been answered multiple times here but I suggest that you try to work though it yourself (which is the point behind a hw)","body":"Homework? . Please tag it as such. By the way, I believe this question has been answered multiple times here but I suggest that you try to work though it yourself (which is the point behind a hw)"},{"owner":{"account_id":1365079,"reputation":527,"user_id":1301697,"accept_rate":100,"display_name":"ImGeorge"},"score":0,"creation_date":1334261518,"post_id":10130909,"comment_id":12986144,"body_markdown":"lol this is not a homework am creating an android app.. this is just a section of the program.i can send u the apk to test it out, but its not complete yet. If its been answered can u please put the link.","body":"lol this is not a homework am creating an android app.. this is just a section of the program.i can send u the apk to test it out, but its not complete yet. If its been answered can u please put the link."}],"answers":[{"tags":[],"owner":{"account_id":279975,"reputation":15386,"user_id":575421,"accept_rate":50,"display_name":"Mikita Belahlazau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1334264085,"creation_date":1334263692,"answer_id":10131567,"question_id":10130909,"body_markdown":"I think you can first generate all subsets of letters and then generate all permutations for given subset:\r\n\r\n    Set&lt;String&gt; subsets;\r\n    \r\n    public void generateSubsets(String current, String left) {\r\n        if (left.length() == 0) {\r\n            subsets.add(current);\r\n        } else {\r\n            generateSubsets(current, left.substring(1));\r\n            generateSubsets(current + left.charAt(0), left.substring(1));\r\n        }\r\n    }\r\n    \r\n    List&lt;String&gt; allPermutations(String word) {\r\n        subsets = new HashSet&lt;String&gt;();\r\n        generateSubsets(&quot;&quot;, word);\r\n        List&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n        for (String subset : subsets) {\r\n            result.addAll(StringPermutation.getPermutation(subset));\r\n        }\r\n        return result;\r\n    }\r\n\r\nSo if you have &quot;cat&quot;\r\nSubsets will be: &quot;&quot;, &quot;c&quot;, &quot;a&quot;, &quot;t&quot;, &quot;ca&quot;, &quot;ct&quot;, &quot;tc&quot;, &quot;cat&quot;\r\nAnd then you get permutations for every subset.  \r\nRegarding efficiency, it is not the best solution, but you can improve it.","title":"Permutate every combination to the letter","body":"<p>I think you can first generate all subsets of letters and then generate all permutations for given subset:</p>\n\n<pre><code>Set&lt;String&gt; subsets;\n\npublic void generateSubsets(String current, String left) {\n    if (left.length() == 0) {\n        subsets.add(current);\n    } else {\n        generateSubsets(current, left.substring(1));\n        generateSubsets(current + left.charAt(0), left.substring(1));\n    }\n}\n\nList&lt;String&gt; allPermutations(String word) {\n    subsets = new HashSet&lt;String&gt;();\n    generateSubsets(\"\", word);\n    List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n    for (String subset : subsets) {\n        result.addAll(StringPermutation.getPermutation(subset));\n    }\n    return result;\n}\n</code></pre>\n\n<p>So if you have \"cat\"\nSubsets will be: \"\", \"c\", \"a\", \"t\", \"ca\", \"ct\", \"tc\", \"cat\"\nAnd then you get permutations for every subset.<br>\nRegarding efficiency, it is not the best solution, but you can improve it.</p>\n"}],"owner":{"account_id":1365079,"reputation":527,"user_id":1301697,"accept_rate":100,"display_name":"ImGeorge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10131567,"answer_count":1,"score":1,"last_activity_date":1670427859,"creation_date":1334260915,"question_id":10130909,"body_markdown":"    public class StringPermutation {    \r\n    \tpublic static List&lt;String&gt; getPermutation(String input) {\r\n    \t\tList&lt;String&gt; collection = null;   \r\n    \t\tif (input.length() == 1) {\r\n    \t\t\tcollection = new ArrayList&lt;String&gt;();\r\n    \t\t\tcollection.add(input);\r\n    \t\t\treturn collection;\r\n    \t\t} else {\r\n    \t\t\tcollection = getPermutation(input.substring(1));\r\n    \t\t\tCharacter first = input.charAt(0);\r\n    \t\t\tList&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n    \t\t\tfor (String str : collection) {\r\n    \t\t\t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n    \t\t\t\t\tString item = str.substring(0, i) + first\r\n    \t\t\t\t\t\t\t+ str.substring(i);\r\n    \t\t\t\t\tresult.add(item);\r\n    \t\t\t\t}\r\n    \t\t\t\tString item = str.concat(first.toString());\r\n    \t\t\t\tresult.add(item);\r\n    \t\t\t}\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t}\r\n\r\n    \tpublic static void main(String[] args) {\r\n            List&lt;String&gt; test = StringPermutation.getPermutation (&quot;CAT&quot;);\r\n            System.out.println (test);\r\n        }\r\n    }\r\n\r\nThe code above permutes a string it&#39;s given. For example, given `cat`, it returns [`cat, act, atc, cta, tca, tac`], which is excellent but is it possible for you guys to please edit my code so that it also shows the subsets of the letters too, i.e [`cat, act, atc, cta, tca, tac] and [at, ta, tc, ca, ac, ct, c, a, t`]? \r\n","title":"Permutate every combination to the letter","body":"<pre><code>public class StringPermutation {    \n    public static List&lt;String&gt; getPermutation(String input) {\n        List&lt;String&gt; collection = null;   \n        if (input.length() == 1) {\n            collection = new ArrayList&lt;String&gt;();\n            collection.add(input);\n            return collection;\n        } else {\n            collection = getPermutation(input.substring(1));\n            Character first = input.charAt(0);\n            List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n            for (String str : collection) {\n                for (int i = 0; i &lt; str.length(); i++) {\n                    String item = str.substring(0, i) + first\n                            + str.substring(i);\n                    result.add(item);\n                }\n                String item = str.concat(first.toString());\n                result.add(item);\n            }\n            return result;\n        }\n    }\n\n    public static void main(String[] args) {\n        List&lt;String&gt; test = StringPermutation.getPermutation (&quot;CAT&quot;);\n        System.out.println (test);\n    }\n}\n</code></pre>\n<p>The code above permutes a string it's given. For example, given <code>cat</code>, it returns [<code>cat, act, atc, cta, tca, tac</code>], which is excellent but is it possible for you guys to please edit my code so that it also shows the subsets of the letters too, i.e [<code>cat, act, atc, cta, tca, tac] and [at, ta, tc, ca, ac, ct, c, a, t</code>]?</p>\n"},{"tags":["java","spring","spring-webflux"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1670432654,"post_id":74719124,"comment_id":131876884,"body_markdown":"I&#39;ve tested the second snippet, it produces the right output (same as the first one) on my setup. Questions: 1. the obvious: subscribe is asynchronous. Have you ensured your program has not stopped before the retry happened ? On my part, I&#39;ve added a `Thread.sleep(1000);` after the snippet. 2. What version of Reactor do you use ?","body":"I&#39;ve tested the second snippet, it produces the right output (same as the first one) on my setup. Questions: 1. the obvious: subscribe is asynchronous. Have you ensured your program has not stopped before the retry happened ? On my part, I&#39;ve added a <code>Thread.sleep(1000);</code> after the snippet. 2. What version of Reactor do you use ?"},{"owner":{"account_id":27179533,"reputation":1,"user_id":20715001,"display_name":"ReactiveNoobie"},"score":0,"creation_date":1670434388,"post_id":74719124,"comment_id":131877483,"body_markdown":"You are right program stopped before retry happened - with additional sleep seems to work.\nReactor version : 3.4.24","body":"You are right program stopped before retry happened - with additional sleep seems to work. Reactor version : 3.4.24"},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1670483845,"post_id":74719124,"comment_id":131886940,"body_markdown":"Ok, then I suggest that you post an answer yourself, showing how you make it work and what you&#39;ve learned about the tool. That way, you can close the question as solved and still provide useful insight for future users who would come to this question.","body":"Ok, then I suggest that you post an answer yourself, showing how you make it work and what you&#39;ve learned about the tool. That way, you can close the question as solved and still provide useful insight for future users who would come to this question."}],"owner":{"account_id":27179533,"reputation":1,"user_id":20715001,"display_name":"ReactiveNoobie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670427751,"creation_date":1670426989,"question_id":74719124,"body_markdown":"code 1 - with max(3)\r\n\r\n```\r\n        Mono.just(&quot;abc&quot;)\r\n                .map(s -&gt; s.charAt(4))\r\n                .retryWhen(Retry\r\n                    .max(3)\r\n                    .doBeforeRetry(rs -&gt; System.out.println(&quot;doBeforeRetry&quot;))\r\n                )\r\n                .onErrorResume(e -&gt; {\r\n                    System.out.println(&quot;onErrorResume()&quot;);\r\n                    return Mono.just(&#39;?&#39;);\r\n                })\r\n                .subscribe(System.out::println);\r\n```\r\n\r\nOutput:\r\n\r\n&gt; doBeforeRetry()\r\n&gt;\r\n&gt; doBeforeRetry()\r\n&gt;\r\n&gt; doBeforeRetry()\r\n&gt;\r\n&gt; onErrorResume()\r\n&gt;\r\n&gt; ?\r\n\r\ncode 2 - with backoff(3, Duration.ofMillis(100)\r\n\r\n```\r\n        Mono.just(&quot;abc&quot;)\r\n                .map(s -&gt; s.charAt(4))\r\n                .retryWhen(Retry\r\n                    .backoff(3, Duration.ofMillis(100))\r\n                    .doBeforeRetry(rs -&gt; System.out.println(&quot;doBeforeRetry()&quot;))\r\n                )\r\n                .onErrorResume(e -&gt; {\r\n                    System.out.println(&quot;onErrorResume()&quot;);\r\n                    return Mono.just(&#39;?&#39;);\r\n                })\r\n                .subscribe(System.out::println);\r\n```\r\n\r\nOutput:\r\n\r\n&gt; doBeforeRetry()\r\n\r\nLooks like backoff breaks a chain completely... The question is why output differs?","title":"Spring reactive - backoff breaks chain in retryWhen","body":"<p>code 1 - with max(3)</p>\n<pre><code>        Mono.just(&quot;abc&quot;)\n                .map(s -&gt; s.charAt(4))\n                .retryWhen(Retry\n                    .max(3)\n                    .doBeforeRetry(rs -&gt; System.out.println(&quot;doBeforeRetry&quot;))\n                )\n                .onErrorResume(e -&gt; {\n                    System.out.println(&quot;onErrorResume()&quot;);\n                    return Mono.just('?');\n                })\n                .subscribe(System.out::println);\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>doBeforeRetry()</p>\n<p>doBeforeRetry()</p>\n<p>doBeforeRetry()</p>\n<p>onErrorResume()</p>\n<p>?</p>\n</blockquote>\n<p>code 2 - with backoff(3, Duration.ofMillis(100)</p>\n<pre><code>        Mono.just(&quot;abc&quot;)\n                .map(s -&gt; s.charAt(4))\n                .retryWhen(Retry\n                    .backoff(3, Duration.ofMillis(100))\n                    .doBeforeRetry(rs -&gt; System.out.println(&quot;doBeforeRetry()&quot;))\n                )\n                .onErrorResume(e -&gt; {\n                    System.out.println(&quot;onErrorResume()&quot;);\n                    return Mono.just('?');\n                })\n                .subscribe(System.out::println);\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>doBeforeRetry()</p>\n</blockquote>\n<p>Looks like backoff breaks a chain completely... The question is why output differs?</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1604629863,"creation_date":1604629863,"answer_id":64708045,"question_id":64707985,"body_markdown":"This is specified in [JLS 7.7.1](https://docs.oracle.com/javase/specs/jls/se11/html/jls-7.html#jls-7.7.1):\r\n\r\n&gt; **7.7.1. Dependences**\r\n&gt;&lt;br/&gt; The requires directive specifies the name of a module on which the current module has a dependence.\r\n&gt;&lt;br/&gt; A requires directive must not appear in the declaration of the java.base module, or a compile-time error occurs, because it is the primordial module and has no dependences (&#167;8.1.4).\r\n&gt;&lt;br/&gt; **If the declaration of a module does not express a dependence on the java.base module, and the module is not itself java.base, then the module has an implicitly declared dependence on the java.base module.**\r\n\r\nThis is similar to how classes from the `java.lang` package are implicitly imported into source files. Modules do not need to explicitly declare that they depend on the `java.base` module.","title":"Why don&#39;t I have to require java.base?","body":"<p>This is specified in <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-7.html#jls-7.7.1\" rel=\"noreferrer\">JLS 7.7.1</a>:</p>\n<blockquote>\n<p><strong>7.7.1. Dependences</strong>\n<br/> The requires directive specifies the name of a module on which the current module has a dependence.\n<br/> A requires directive must not appear in the declaration of the java.base module, or a compile-time error occurs, because it is the primordial module and has no dependences (§8.1.4).\n<br/> <strong>If the declaration of a module does not express a dependence on the java.base module, and the module is not itself java.base, then the module has an implicitly declared dependence on the java.base module.</strong></p>\n</blockquote>\n<p>This is similar to how classes from the <code>java.lang</code> package are implicitly imported into source files. Modules do not need to explicitly declare that they depend on the <code>java.base</code> module.</p>\n"},{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670427401,"creation_date":1670427401,"answer_id":74719223,"question_id":64707985,"body_markdown":"This is because all platform modules provided by JVM are observable module.\r\nBy default if you are creating your module you don&#39;t need to require these platform module. Packages exported by these modules can be imported without any require directive in module-info.java file.\r\nYou can get the list of observable/platform module using this command.\r\n```\r\njava --list-modules\r\n```","title":"Why don&#39;t I have to require java.base?","body":"<p>This is because all platform modules provided by JVM are observable module.\nBy default if you are creating your module you don't need to require these platform module. Packages exported by these modules can be imported without any require directive in module-info.java file.\nYou can get the list of observable/platform module using this command.</p>\n<pre><code>java --list-modules\n</code></pre>\n"}],"owner":{"account_id":3445698,"reputation":5315,"user_id":2886575,"accept_rate":57,"display_name":"Him"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":830,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":64708045,"answer_count":2,"score":4,"last_activity_date":1670427401,"creation_date":1604629219,"question_id":64707985,"body_markdown":"When I try to import `javax.swing.JFrame`, eclipse complains because I need to explicitly tell my package that I&#39;m going to import stuff from the `java.desktop` module.  So I put `requires java.desktop` in my `module-info.java` and then the java compiler knows to link up the `java.desktop` stuff.  I can put `requires java.base` in my `module-info.java` as well, but it doesn&#39;t seem to be necessary.  I can `import java.util.Arrays` without it.\r\n\r\nIs eclipse adding some magic sauce to my `javac` options behind the scenes?  Does `javac` automagically require `java.base`?  Why don&#39;t I need to require `java.base`?  If this is compiler magic, are there any other such privileged modules that get automatically linked into my package?\r\n\r\nUsing jdk-14, but not sure if that&#39;s relevant.","title":"Why don&#39;t I have to require java.base?","body":"<p>When I try to import <code>javax.swing.JFrame</code>, eclipse complains because I need to explicitly tell my package that I'm going to import stuff from the <code>java.desktop</code> module.  So I put <code>requires java.desktop</code> in my <code>module-info.java</code> and then the java compiler knows to link up the <code>java.desktop</code> stuff.  I can put <code>requires java.base</code> in my <code>module-info.java</code> as well, but it doesn't seem to be necessary.  I can <code>import java.util.Arrays</code> without it.</p>\n<p>Is eclipse adding some magic sauce to my <code>javac</code> options behind the scenes?  Does <code>javac</code> automagically require <code>java.base</code>?  Why don't I need to require <code>java.base</code>?  If this is compiler magic, are there any other such privileged modules that get automatically linked into my package?</p>\n<p>Using jdk-14, but not sure if that's relevant.</p>\n"},{"tags":["java","colors"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670427155,"post_id":74719110,"comment_id":131874826,"body_markdown":"Why are you printing in a tight loop?","body":"Why are you printing in a tight loop?"},{"owner":{"account_id":26852171,"reputation":11,"user_id":20436933,"display_name":"Ehxo"},"score":0,"creation_date":1670427283,"post_id":74719110,"comment_id":131874886,"body_markdown":"It&#39;s not the full code, I have more to it. I just don&#39;t know why the color won&#39;t work","body":"It&#39;s not the full code, I have more to it. I just don&#39;t know why the color won&#39;t work"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670427323,"post_id":74719110,"comment_id":131874892,"body_markdown":"You really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"You really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":1,"creation_date":1670428585,"post_id":74719110,"comment_id":131875389,"body_markdown":"Are you double quoting the &quot;ANSI&quot; strings?","body":"Are you double quoting the &quot;ANSI&quot; strings?"},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1670429987,"post_id":74719110,"comment_id":131875905,"body_markdown":"`final String ANSI_RESET = &quot;\\u001B[0m&quot;;\n final String ANSI_YELLOW = &quot;\\u001B[33m&quot;;`","body":"<code>final String ANSI_RESET = &quot;\\u001B[0m&quot;;  final String ANSI_YELLOW = &quot;\\u001B[33m&quot;;</code>"}],"owner":{"account_id":26852171,"reputation":11,"user_id":20436933,"display_name":"Ehxo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670426901,"creation_date":1670426901,"question_id":74719110,"body_markdown":"\r\n\r\n\r\n```\r\npackage com.mycompany.advent;\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\nimport java.util.\\*;\r\n\r\npublic class Advent {\r\npublic static final String ANSI_RESET = &quot;\\\\u001B\\[0m&quot;;\r\n// Declaring the color\r\npublic static final String ANSI_YELLOW = &quot;\\\\u001B\\[33m&quot;;\r\n\r\n     public static void main(String[] args)\t{\r\n    \t Scanner in= new Scanner(System.in);\r\n    \t Random rand = new Random(); \r\n    \t \r\n    \t //game variables\r\n    \tString[] enemies = {&quot; Snake&quot;,&quot; Gorilla&quot;,&quot; Warrior&quot;,&quot; Assasian&quot;};\r\n    \tint maxEnemyHealth=75;\r\n    \tint enemyAttackDamage=25;\r\n    \tint health=100;\r\n    \tint attackDamage=50;\r\n    \tint healthPotions=3;\r\n    \tint healthPotionHealAmount = 30;\r\n    \tint healthPotionDropChance = 50;//percentage\r\n        int counter = 0;\r\n    \t\r\n    \tboolean running =true;\r\n    \t\r\n    \tSystem.out.println(&quot;░░░░░██╗██╗░░░██╗███╗░░██╗░██████╗░██╗░░░░░███████╗  ███╗░░░███╗░█████╗░██████╗░███╗░░██╗███████╗░██████╗░██████╗\\n&quot; +\r\n                           &quot;░░░░░██║██║░░░██║████╗░██║██╔════╝░██║░░░░░██╔════╝  ████╗░████║██╔══██╗██╔══██╗████╗░██║██╔════╝██╔════╝██╔════╝\\n&quot; +\r\n                           &quot;░░░░░██║██║░░░██║██╔██╗██║██║░░██╗░██║░░░░░█████╗░░  ██╔████╔██║███████║██║░░██║██╔██╗██║█████╗░░╚█████╗░╚█████╗░\\n&quot; +\r\n                           &quot;██╗░░██║██║░░░██║██║╚████║██║░░╚██╗██║░░░░░██╔══╝░░  ██║╚██╔╝██║██╔══██║██║░░██║██║╚████║██╔══╝░░░╚═══██╗░╚═══██╗\\n&quot; +\r\n                           &quot;╚█████╔╝╚██████╔╝██║░╚███║╚██████╔╝███████╗███████╗  ██║░╚═╝░██║██║░░██║██████╔╝██║░╚███║███████╗██████╔╝██████╔╝\\n&quot; +\r\n                           &quot;░╚════╝░░╚═════╝░╚═╝░░╚══╝░╚═════╝░╚══════╝╚══════╝  ╚═╝░░░░░╚═╝╚═╝░░╚═╝╚═════╝░╚═╝░░╚══╝╚══════╝╚═════╝░╚═════╝░&quot;);\r\n    \t\r\n    \t\r\n    \tGAME:\r\n    \t\twhile(running) {\r\n    \t\t\tSystem.out.println(ANSI_YELLOW + &quot;╭━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━╮\\n&quot; +\r\n                                                         &quot;╰━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━╯&quot; + ANSI_RESET);\r\n```\r\n\r\n\r\nIm trying to print color in my terminal, but it won&#39;t let me, I put it inside the class, but outside of the main method and it doesn&#39;t show any errors, but when I do press play, It does not print the color.\r\n\r\n\r\n","title":"Printing out Color","body":"<pre><code>package com.mycompany.advent;\nimport java.util.Random;\nimport java.util.Scanner;\nimport java.util.\\*;\n\npublic class Advent {\npublic static final String ANSI_RESET = &quot;\\\\u001B\\[0m&quot;;\n// Declaring the color\npublic static final String ANSI_YELLOW = &quot;\\\\u001B\\[33m&quot;;\n\n     public static void main(String[] args) {\n         Scanner in= new Scanner(System.in);\n         Random rand = new Random(); \n         \n         //game variables\n        String[] enemies = {&quot; Snake&quot;,&quot; Gorilla&quot;,&quot; Warrior&quot;,&quot; Assasian&quot;};\n        int maxEnemyHealth=75;\n        int enemyAttackDamage=25;\n        int health=100;\n        int attackDamage=50;\n        int healthPotions=3;\n        int healthPotionHealAmount = 30;\n        int healthPotionDropChance = 50;//percentage\n        int counter = 0;\n        \n        boolean running =true;\n        \n        System.out.println(&quot;░░░░░██╗██╗░░░██╗███╗░░██╗░██████╗░██╗░░░░░███████╗  ███╗░░░███╗░█████╗░██████╗░███╗░░██╗███████╗░██████╗░██████╗\\n&quot; +\n                           &quot;░░░░░██║██║░░░██║████╗░██║██╔════╝░██║░░░░░██╔════╝  ████╗░████║██╔══██╗██╔══██╗████╗░██║██╔════╝██╔════╝██╔════╝\\n&quot; +\n                           &quot;░░░░░██║██║░░░██║██╔██╗██║██║░░██╗░██║░░░░░█████╗░░  ██╔████╔██║███████║██║░░██║██╔██╗██║█████╗░░╚█████╗░╚█████╗░\\n&quot; +\n                           &quot;██╗░░██║██║░░░██║██║╚████║██║░░╚██╗██║░░░░░██╔══╝░░  ██║╚██╔╝██║██╔══██║██║░░██║██║╚████║██╔══╝░░░╚═══██╗░╚═══██╗\\n&quot; +\n                           &quot;╚█████╔╝╚██████╔╝██║░╚███║╚██████╔╝███████╗███████╗  ██║░╚═╝░██║██║░░██║██████╔╝██║░╚███║███████╗██████╔╝██████╔╝\\n&quot; +\n                           &quot;░╚════╝░░╚═════╝░╚═╝░░╚══╝░╚═════╝░╚══════╝╚══════╝  ╚═╝░░░░░╚═╝╚═╝░░╚═╝╚═════╝░╚═╝░░╚══╝╚══════╝╚═════╝░╚═════╝░&quot;);\n        \n        \n        GAME:\n            while(running) {\n                System.out.println(ANSI_YELLOW + &quot;╭━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━╮\\n&quot; +\n                                                         &quot;╰━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━╯&quot; + ANSI_RESET);\n</code></pre>\n<p>Im trying to print color in my terminal, but it won't let me, I put it inside the class, but outside of the main method and it doesn't show any errors, but when I do press play, It does not print the color.</p>\n"},{"tags":["java","swing","netbeans","promise"],"answers":[{"tags":[],"owner":{"account_id":34943,"reputation":16268,"user_id":98811,"display_name":"Devon_C_Miller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525355467,"creation_date":1525355467,"answer_id":50156715,"question_id":50156510,"body_markdown":"Most likely, your code is not running in the directory you think it is.\r\n\r\nUse the OP&#39;s code given here: https://stackoverflow.com/q/14050131/98811\r\n\r\n    File directory = new File (&quot;.&quot;);\r\n    try {\r\n        System.out.println (&quot;Current directory&#39;s canonical path: &quot; \r\n                + directory.getCanonicalPath()); \r\n        System.out.println (&quot;Current directory&#39;s absolute  path: &quot; \r\n                    + directory.getAbsolutePath());\r\n    }catch(Exception e) {\r\n        System.out.println(&quot;Exceptione is =&quot;+e.getMessage());\r\n    }\r\n\r\nNow compare that to where optimizer is located.\r\n\r\nGenerally speaking, unless you control how the JVM is invoked, you can&#39;t rely on relative paths.","title":"Java CreateProcess error=193, %1 is not a valid Win32 application","body":"<p>Most likely, your code is not running in the directory you think it is.</p>\n\n<p>Use the OP's code given here: <a href=\"https://stackoverflow.com/q/14050131/98811\">how to get current directory in java?</a></p>\n\n<pre><code>File directory = new File (\".\");\ntry {\n    System.out.println (\"Current directory's canonical path: \" \n            + directory.getCanonicalPath()); \n    System.out.println (\"Current directory's absolute  path: \" \n                + directory.getAbsolutePath());\n}catch(Exception e) {\n    System.out.println(\"Exceptione is =\"+e.getMessage());\n}\n</code></pre>\n\n<p>Now compare that to where optimizer is located.</p>\n\n<p>Generally speaking, unless you control how the JVM is invoked, you can't rely on relative paths.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1600675011,"creation_date":1525356138,"answer_id":50156973,"question_id":50156510,"body_markdown":"There a few possible causes for the &quot;%1 is not a valid Win32 application&quot; message including:\r\n\r\n  - the pathname for the application is incorrect,\r\n  - the file named by the pathname is not recognized by Windows as an executable, or\r\n  - the file is a 32 bit executable, but for some reason it is trying to load a 64 bit DLL.\r\n\r\nIn this case, you are using a relative pathname for the executable, so it is possible that the JVM&#39;s current directory is different to what you think ... and the `optimizer` file is not in that directory.\r\n\r\nTry the following:\r\n\r\n  1.  Replace `&quot;./optimizer&quot;` with an absolute pathname.  \r\n\r\n  2.  It the command (absolute) pathname or the `sourceFile` arguments contain spaces, replace the command string with an array of strings; e.g.\r\n\r\n          exec(new String[]{\r\n                 &quot;C:/path/to/optimizer&quot;,\r\n                 sourceFile, sourceFile + &quot;a&quot;, &quot;--all&quot;, &quot;-i&quot;});\r\n\r\n  3.  Try running the command from the command prompt.  The idea is to check that this isn&#39;t caused by a non-executable file or a DLL problem.","title":"Java CreateProcess error=193, %1 is not a valid Win32 application","body":"<p>There a few possible causes for the &quot;%1 is not a valid Win32 application&quot; message including:</p>\n<ul>\n<li>the pathname for the application is incorrect,</li>\n<li>the file named by the pathname is not recognized by Windows as an executable, or</li>\n<li>the file is a 32 bit executable, but for some reason it is trying to load a 64 bit DLL.</li>\n</ul>\n<p>In this case, you are using a relative pathname for the executable, so it is possible that the JVM's current directory is different to what you think ... and the <code>optimizer</code> file is not in that directory.</p>\n<p>Try the following:</p>\n<ol>\n<li><p>Replace <code>&quot;./optimizer&quot;</code> with an absolute pathname.</p>\n</li>\n<li><p>It the command (absolute) pathname or the <code>sourceFile</code> arguments contain spaces, replace the command string with an array of strings; e.g.</p>\n<pre><code>exec(new String[]{\n       &quot;C:/path/to/optimizer&quot;,\n       sourceFile, sourceFile + &quot;a&quot;, &quot;--all&quot;, &quot;-i&quot;});\n</code></pre>\n</li>\n<li><p>Try running the command from the command prompt.  The idea is to check that this isn't caused by a non-executable file or a DLL problem.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2990678,"reputation":66,"user_id":2538322,"display_name":"alps2006"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670426770,"creation_date":1670426770,"answer_id":74719088,"question_id":50156510,"body_markdown":"I came across the same problem when running a `gradle` command in windows OS, but other OS ( linux, osx ) are not the problems.\r\n\r\nI find the `gradle` is a `bat` script in windows OS finally , so need to add the suffix.\r\n\r\n```java\r\n    public Process callTestInSubprocess(Class&lt;?&gt; clazz, String testMethod) {\r\n        String canonicalName = clazz.getCanonicalName();\r\n        StringBuffer testCmd = new StringBuffer(isWinOS() ? &quot;gradle.bat&quot; : &quot;gradle&quot;)\r\n                .append(&quot; testDebug -Psubprocess=true --tests &quot;)\r\n                .append(canonicalName)\r\n                .append(&quot;.&quot;)\r\n                .append(testMethod);\r\n\r\n        return runSubprocess(testCmd.toString());\r\n    }\r\n\r\n\r\n\r\n    public static boolean isWinOS() {\r\n        return System.getProperty(&quot;os.name&quot;, &quot;generic&quot;).toLowerCase().indexOf(&quot;win&quot;) != -1;\r\n    }\r\n","title":"Java CreateProcess error=193, %1 is not a valid Win32 application","body":"<p>I came across the same problem when running a <code>gradle</code> command in windows OS, but other OS ( linux, osx ) are not the problems.</p>\n<p>I find the <code>gradle</code> is a <code>bat</code> script in windows OS finally , so need to add the suffix.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Process callTestInSubprocess(Class&lt;?&gt; clazz, String testMethod) {\n        String canonicalName = clazz.getCanonicalName();\n        StringBuffer testCmd = new StringBuffer(isWinOS() ? &quot;gradle.bat&quot; : &quot;gradle&quot;)\n                .append(&quot; testDebug -Psubprocess=true --tests &quot;)\n                .append(canonicalName)\n                .append(&quot;.&quot;)\n                .append(testMethod);\n\n        return runSubprocess(testCmd.toString());\n    }\n\n\n\n    public static boolean isWinOS() {\n        return System.getProperty(&quot;os.name&quot;, &quot;generic&quot;).toLowerCase().indexOf(&quot;win&quot;) != -1;\n    }\n</code></pre>\n"}],"owner":{"account_id":13494444,"reputation":41,"user_id":9735703,"display_name":"FinalYear Nutech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33725,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1670426770,"creation_date":1525354804,"question_id":50156510,"body_markdown":"I am Trying to read and write Extensible Linking Format (ELF) Below is the Line that I am getting Error.\r\n\r\n    p =  r.exec(&quot;./optimizer &quot; + sourceFile + &quot; &quot; + sourceFile + &quot;a&quot; + &quot; &quot; + &quot;--all -i&quot;);\r\n\r\nAfter Running this line I am Getting Error Like :\r\n\r\n\r\n    java.io.IOException: Cannot run program &quot;./optimizer&quot;: CreateProcess             \r\n    error=193, %1 is not a valid Win32 application\r\n    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\r\n\tat java.lang.Runtime.exec(Runtime.java:620)\r\n\tat java.lang.Runtime.exec(Runtime.java:450)\r\n\tat java.lang.Runtime.exec(Runtime.java:347)\r\n\tat GUIMode.GUIMode.actionPerformed(GUIMode.java:213)\r\n\r\n","title":"Java CreateProcess error=193, %1 is not a valid Win32 application","body":"<p>I am Trying to read and write Extensible Linking Format (ELF) Below is the Line that I am getting Error.</p>\n\n<pre><code>p =  r.exec(\"./optimizer \" + sourceFile + \" \" + sourceFile + \"a\" + \" \" + \"--all -i\");\n</code></pre>\n\n<p>After Running this line I am Getting Error Like :</p>\n\n<pre><code>java.io.IOException: Cannot run program \"./optimizer\": CreateProcess             \nerror=193, %1 is not a valid Win32 application\nat java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\nat java.lang.Runtime.exec(Runtime.java:620)\nat java.lang.Runtime.exec(Runtime.java:450)\nat java.lang.Runtime.exec(Runtime.java:347)\nat GUIMode.GUIMode.actionPerformed(GUIMode.java:213)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1670427106,"post_id":74719085,"comment_id":131874809,"body_markdown":"Records ([JEP 395](https://openjdk.org/jeps/395)) are carriers of immutable data. Value objects ([draft](https://openjdk.org/jeps/8277163)) are identity-less objects (i.e. their identity is defined by their field values).","body":"Records (<a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">JEP 395</a>) are carriers of immutable data. Value objects (<a href=\"https://openjdk.org/jeps/8277163\" rel=\"nofollow noreferrer\">draft</a>) are identity-less objects (i.e. their identity is defined by their field values)."},{"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"score":1,"creation_date":1681474955,"post_id":74719085,"comment_id":134066375,"body_markdown":"Here&#39;s a blog post that should shed some light on the differences between records, value types and value records: https://www.beyondjava.net/records-vs-value-types.","body":"Here&#39;s a blog post that should shed some light on the differences between records, value types and value records: <a href=\"https://www.beyondjava.net/records-vs-value-types\" rel=\"nofollow noreferrer\">beyondjava.net/records-vs-value-types</a>."}],"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670426763,"creation_date":1670426763,"question_id":74719085,"body_markdown":"I have been using record from Java 17 for sometime and I like it.\r\n\r\n    record Something(int a, int b){}\r\n\r\nI also noticed recently that `Project Valhalla` introduces value type\r\n\r\n    value record Something(int a, int b){}\r\n\r\nNow I am confused. record was supposed to be value classes. Then what is the point of adding the `value`? What is the problem valhalla trying to solve? ","title":"Java Record in Valhalla","body":"<p>I have been using record from Java 17 for sometime and I like it.</p>\n<pre><code>record Something(int a, int b){}\n</code></pre>\n<p>I also noticed recently that <code>Project Valhalla</code> introduces value type</p>\n<pre><code>value record Something(int a, int b){}\n</code></pre>\n<p>Now I am confused. record was supposed to be value classes. Then what is the point of adding the <code>value</code>? What is the problem valhalla trying to solve?</p>\n"},{"tags":["java","selenium","google-chrome","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":26786004,"reputation":21,"user_id":20380185,"display_name":"waqar jan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667469567,"creation_date":1667226843,"answer_id":74264890,"question_id":74215099,"body_markdown":"I had a similar issue and resolved using the following steps:\r\n\r\nStep1: Add the following devtools dependency:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;selenium-devtools-v88&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.0-beta-1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nStep2: change v88 to the Chrome Version you have on your machine. e.g., v106 or v107\r\n\r\nStep3: change the beta version to the latest one. e.g., 4.0.0-beta-1 to 4.5.3.","title":"WARNING: Unable to find an exact match for CDP version 107, so returning the closest version found: 106","body":"<p>I had a similar issue and resolved using the following steps:</p>\n<p>Step1: Add the following devtools dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-devtools-v88&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0-beta-1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Step2: change v88 to the Chrome Version you have on your machine. e.g., v106 or v107</p>\n<p>Step3: change the beta version to the latest one. e.g., 4.0.0-beta-1 to 4.5.3.</p>\n"},{"tags":[],"owner":{"account_id":26799917,"reputation":1,"user_id":20392034,"display_name":"vasantha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667337423,"creation_date":1667337423,"answer_id":74281887,"question_id":74215099,"body_markdown":"just download the chrome driver version 107 and update in your dependency folder\r\n\r\nhttps://chromedriver.storage.googleapis.com/index.html?path=107.0.5304.62/\r\nthis resolves the issue","title":"WARNING: Unable to find an exact match for CDP version 107, so returning the closest version found: 106","body":"<p>just download the chrome driver version 107 and update in your dependency folder</p>\n<p><a href=\"https://chromedriver.storage.googleapis.com/index.html?path=107.0.5304.62/\" rel=\"nofollow noreferrer\">https://chromedriver.storage.googleapis.com/index.html?path=107.0.5304.62/</a>\nthis resolves the issue</p>\n"},{"tags":[],"owner":{"account_id":4933689,"reputation":577,"user_id":3972599,"display_name":"Amgad Hanafy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670426623,"creation_date":1670426623,"answer_id":74719052,"question_id":74215099,"body_markdown":"As of [Selenium CHANGELOG][1] CDP version 107 is supported starting selenium v4.6.0\r\n\r\nyou just need to update selenium java version to 4.6.0 or later\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;selenium.version&gt;4.6.0&lt;/selenium.version&gt;\r\n\t&lt;/properties&gt;\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${selenium.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG","title":"WARNING: Unable to find an exact match for CDP version 107, so returning the closest version found: 106","body":"<p>As of <a href=\"https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG\" rel=\"nofollow noreferrer\">Selenium CHANGELOG</a> CDP version 107 is supported starting selenium v4.6.0</p>\n<p>you just need to update selenium java version to 4.6.0 or later</p>\n<pre><code>&lt;properties&gt;\n    &lt;selenium.version&gt;4.6.0&lt;/selenium.version&gt;\n&lt;/properties&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;${selenium.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":26743437,"reputation":21,"user_id":20343854,"display_name":"Vaneiza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10418,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1670426623,"creation_date":1666825282,"question_id":74215099,"body_markdown":"Can anyone help me to solve this issue?\r\n\r\nI have Google Chrome version 107.0.5304.6, and I&#39;m using WebDriverManager to get the same chromeDriver version. I download Google Chrome version 106 and run my tests and this issue didn&#39;t happen, but my Google Chrome updates automatically from version 106 to 107 and the warning happens again.","title":"WARNING: Unable to find an exact match for CDP version 107, so returning the closest version found: 106","body":"<p>Can anyone help me to solve this issue?</p>\n<p>I have Google Chrome version 107.0.5304.6, and I'm using WebDriverManager to get the same chromeDriver version. I download Google Chrome version 106 and run my tests and this issue didn't happen, but my Google Chrome updates automatically from version 106 to 107 and the warning happens again.</p>\n"},{"tags":["java","generics","raw-types"],"comments":[{"owner":{"account_id":2289706,"reputation":495,"user_id":2128208,"accept_rate":89,"display_name":"SuperStar"},"score":0,"creation_date":1364897071,"post_id":2770321,"comment_id":22400936,"body_markdown":"the java tutorials still use the JComboBox that causes this warning. Which version of the combobox will not cause this warning ? http://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html","body":"the java tutorials still use the JComboBox that causes this warning. Which version of the combobox will not cause this warning ? <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/&hellip;</a>"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":5,"creation_date":1463990875,"post_id":2770321,"comment_id":62281402,"body_markdown":"Note that the reason why raw types exist is for backwards compatibility with Java 1.4 and older, which did not have generics at all.","body":"Note that the reason why raw types exist is for backwards compatibility with Java 1.4 and older, which did not have generics at all."}],"answers":[{"tags":[],"owner":{"account_id":23836,"reputation":86762,"user_id":60096,"accept_rate":89,"display_name":"Andy White"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1273028283,"creation_date":1273028283,"answer_id":2770338,"question_id":2770321,"body_markdown":"A &quot;raw&quot; type in Java is a class which is non-generic and deals with &quot;raw&quot; Objects, rather than type-safe generic type parameters.\r\n\r\nFor example, before Java generics was available, you would use a collection class like this:\r\n\r\n    LinkedList list = new LinkedList();\r\n    list.add(new MyObject());\r\n    MyObject myObject = (MyObject)list.get(0);\r\n\r\nWhen you add your object to the list, it doesn&#39;t care what type of object it is, and when you get it from the list, you have to explicitly cast it to the type you are expecting.\r\n\r\nUsing generics, you remove the &quot;unknown&quot; factor, because you must explicitly specify which type of objects can go in the list:\r\n\r\n    LinkedList&lt;MyObject&gt; list = new LinkedList&lt;MyObject&gt;();\r\n    list.add(new MyObject());\r\n    MyObject myObject = list.get(0);\r\n\r\nNotice that with generics you don&#39;t have to cast the object coming from the get call, the collection is pre-defined to only work with MyObject.  This very fact is the main driving factor for generics.  It changes a source of runtime errors into something that can be checked at compile time.\r\n","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p>A \"raw\" type in Java is a class which is non-generic and deals with \"raw\" Objects, rather than type-safe generic type parameters.</p>\n\n<p>For example, before Java generics was available, you would use a collection class like this:</p>\n\n<pre><code>LinkedList list = new LinkedList();\nlist.add(new MyObject());\nMyObject myObject = (MyObject)list.get(0);\n</code></pre>\n\n<p>When you add your object to the list, it doesn't care what type of object it is, and when you get it from the list, you have to explicitly cast it to the type you are expecting.</p>\n\n<p>Using generics, you remove the \"unknown\" factor, because you must explicitly specify which type of objects can go in the list:</p>\n\n<pre><code>LinkedList&lt;MyObject&gt; list = new LinkedList&lt;MyObject&gt;();\nlist.add(new MyObject());\nMyObject myObject = list.get(0);\n</code></pre>\n\n<p>Notice that with generics you don't have to cast the object coming from the get call, the collection is pre-defined to only work with MyObject.  This very fact is the main driving factor for generics.  It changes a source of runtime errors into something that can be checked at compile time.</p>\n"},{"tags":[],"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1273033917,"creation_date":1273033917,"answer_id":2770631,"question_id":2770321,"body_markdown":"*What is a raw type and why do I often hear that they shouldn&#39;t be used in new code?*\r\n\r\nA &quot;raw type&quot; is the use of a generic class without specifying a type argument(s) for its parameterized type(s), e.g. using `List` instead of `List&lt;String&gt;`. When generics were introduced into Java, several classes were updated to use generics.  Using these class as a &quot;raw type&quot; (without specifying a type argument) allowed legacy code to still compile.\r\n\r\n&quot;Raw types&quot; are used for backwards compatibility. Their use in new code is not recommended because using the generic class with a type argument allows for stronger typing, which in turn may improve code understandability and lead to catching potential problems earlier.\r\n\r\n*What is the alternative if we can&#39;t use raw types, and how is it better?*\r\n\r\nThe preferred alternative is to use generic classes as intended - with a suitable type argument (e.g. `List&lt;String&gt;`). This allows the programmer to specify types more specifically, conveys more meaning to future maintainers about the intended use of a variable or data structure, and it allows compiler to enforce better type-safety.  These advantages together may improve code quality and help prevent the introduction of some coding errors.\r\n\r\nFor example, for a method where the programmer wants to ensure a List variable called &#39;names&#39; contains only Strings:\r\n\r\n    List&lt;String&gt; names = new ArrayList&lt;String&gt;();\r\n    names.add(&quot;John&quot;);          // OK\r\n    names.add(new Integer(1));  // compile error\r\n\r\n","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p><em>What is a raw type and why do I often hear that they shouldn't be used in new code?</em></p>\n\n<p>A \"raw type\" is the use of a generic class without specifying a type argument(s) for its parameterized type(s), e.g. using <code>List</code> instead of <code>List&lt;String&gt;</code>. When generics were introduced into Java, several classes were updated to use generics.  Using these class as a \"raw type\" (without specifying a type argument) allowed legacy code to still compile.</p>\n\n<p>\"Raw types\" are used for backwards compatibility. Their use in new code is not recommended because using the generic class with a type argument allows for stronger typing, which in turn may improve code understandability and lead to catching potential problems earlier.</p>\n\n<p><em>What is the alternative if we can't use raw types, and how is it better?</em></p>\n\n<p>The preferred alternative is to use generic classes as intended - with a suitable type argument (e.g. <code>List&lt;String&gt;</code>). This allows the programmer to specify types more specifically, conveys more meaning to future maintainers about the intended use of a variable or data structure, and it allows compiler to enforce better type-safety.  These advantages together may improve code quality and help prevent the introduction of some coding errors.</p>\n\n<p>For example, for a method where the programmer wants to ensure a List variable called 'names' contains only Strings:</p>\n\n<pre><code>List&lt;String&gt; names = new ArrayList&lt;String&gt;();\nnames.add(\"John\");          // OK\nnames.add(new Integer(1));  // compile error\n</code></pre>\n"},{"tags":[],"owner":{"account_id":111890,"reputation":8651,"user_id":295339,"accept_rate":93,"display_name":"Lars Andren"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1448984280,"creation_date":1273034656,"answer_id":2770671,"question_id":2770321,"body_markdown":"A *raw*-type is the a lack of a *type parameter* when using a generic type.\r\n\r\nRaw-type should not be used because it could cause runtime errors, like inserting a `double` into what was supposed to be a `Set` of `int`s.\r\n\r\n    Set set = new HashSet();\r\n    set.add(3.45); //ok\r\n\r\nWhen retrieving the stuff from the `Set`, you don&#39;t know what is coming out. Let&#39;s assume that you expect it to be all `int`s, you are casting it to `Integer`; exception at runtime when the `double` 3.45 comes along.\r\n\r\nWith a *type parameter* added to your `Set`, you will get a compile error at once. This preemptive error lets you fix the problem before something blows up during runtime (thus saving on time and effort).\r\n\r\n    Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n    set.add(3.45); //NOT ok.","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p>A <em>raw</em>-type is the a lack of a <em>type parameter</em> when using a generic type.</p>\n\n<p>Raw-type should not be used because it could cause runtime errors, like inserting a <code>double</code> into what was supposed to be a <code>Set</code> of <code>int</code>s.</p>\n\n<pre><code>Set set = new HashSet();\nset.add(3.45); //ok\n</code></pre>\n\n<p>When retrieving the stuff from the <code>Set</code>, you don't know what is coming out. Let's assume that you expect it to be all <code>int</code>s, you are casting it to <code>Integer</code>; exception at runtime when the <code>double</code> 3.45 comes along.</p>\n\n<p>With a <em>type parameter</em> added to your <code>Set</code>, you will get a compile error at once. This preemptive error lets you fix the problem before something blows up during runtime (thus saving on time and effort).</p>\n\n<pre><code>Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\nset.add(3.45); //NOT ok.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":1,"up_vote_count":885,"is_accepted":false,"score":884,"last_activity_date":1522367191,"creation_date":1273035035,"answer_id":2770692,"question_id":2770321,"body_markdown":"## What is a raw type?\n\nThe Java Language Specification defines a _raw type_ as follows:\n\n### [JLS 4.8 Raw Types](https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.8)\n\n&gt; A raw type is defined to be one of:\n&gt;\n&gt;- The reference type that is formed by taking the name of a generic type declaration without an accompanying type argument list.\n&gt;\n&gt;- An array type whose element type is a raw type.\n&gt;\n&gt;- A non-`static` member type of a raw type `R` that is not inherited from a superclass or superinterface of `R`.\n\nHere&#39;s an example to illustrate:\n\n    public class MyType&lt;E&gt; {\n        class Inner { }\n        static class Nested { }\n        \n        public static void main(String[] args) {\n            MyType mt;          // warning: MyType is a raw type\n            MyType.Inner inn;   // warning: MyType.Inner is a raw type\n\n            MyType.Nested nest; // no warning: not parameterized type\n            MyType&lt;Object&gt; mt1; // no warning: type parameter given\n            MyType&lt;?&gt; mt2;      // no warning: type parameter given (wildcard OK!)\n        }\n    }\n\nHere, `MyType&lt;E&gt;` is a _parameterized type_ ([JLS 4.5](https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.5)). It is common to colloquially refer to this type as simply `MyType` for short, but technically the name is `MyType&lt;E&gt;`.\n\n`mt` has a raw type (and generates a compilation warning) by the first bullet point in the above definition; `inn` also has a raw type by the third bullet point.\n\n`MyType.Nested` is not a parameterized type, even though it&#39;s a member type of a parameterized type `MyType&lt;E&gt;`, because it&#39;s `static`.\n\n`mt1`, and `mt2` are both declared with actual type parameters, so they&#39;re not raw types.\n\n---\n\n## What&#39;s so special about raw types?\n\nEssentially, raw types behaves just like they were before generics were introduced. That is, the following is entirely legal at compile-time.\n\n    List names = new ArrayList(); // warning: raw type!\n    names.add(&quot;John&quot;);\n    names.add(&quot;Mary&quot;);\n    names.add(Boolean.FALSE); // not a compilation error!\n\nThe above code runs just fine, but suppose you also have the following:\n\n    for (Object o : names) {\n        String name = (String) o;\n        System.out.println(name);\n    } // throws ClassCastException!\n      //    java.lang.Boolean cannot be cast to java.lang.String\n\nNow we run into trouble at run-time, because `names` contains something that isn&#39;t an `instanceof String`.\n\nPresumably, if you want `names` to contain only `String`, you _could_ perhaps still use a raw type and _manually check every_ `add` yourself, and then _manually cast_ to `String` every item from `names`. **Even better**, though is NOT to use a raw type and _let the compiler do all the work for you_, harnessing the power of Java generics.\n\n    List&lt;String&gt; names = new ArrayList&lt;String&gt;();\n    names.add(&quot;John&quot;);\n    names.add(&quot;Mary&quot;);\n    names.add(Boolean.FALSE); // compilation error!\n\nOf course, if you _DO_ want `names` to allow a `Boolean`, then you can declare it as `List&lt;Object&gt; names`, and the above code would compile.\n\n### See also\n\n* [Java Tutorials/Generics](https://docs.oracle.com/javase/tutorial/java/generics/)\n\n---\n\n## How&#39;s a raw type different from using `&lt;Object&gt;` as type parameters?\n\nThe following is a quote from _Effective Java 2nd Edition, Item 23: Don&#39;t use raw types in new code_:\n\n&gt; Just what is the difference between the raw type `List` and the parameterized type `List&lt;Object&gt;`? Loosely speaking, the former has opted out generic type checking, while the latter explicitly told the compiler that it is capable of holding objects of any type. While you can pass a `List&lt;String&gt;` to a parameter of type `List`, you can&#39;t pass it to a parameter of type `List&lt;Object&gt;`. There are subtyping rules for generics, and `List&lt;String&gt;` is a subtype of the raw type `List`, but not of the parameterized type `List&lt;Object&gt;`. As a consequence, **you lose type safety if you use raw type like `List`, but not if you use a parameterized type like `List&lt;Object&gt;`**.\n\nTo illustrate the point, consider the following method which takes a `List&lt;Object&gt;` and appends a `new Object()`.\n\n    void appendNewObject(List&lt;Object&gt; list) {\n       list.add(new Object());\n    }\n\nGenerics in Java are invariant. A `List&lt;String&gt;` is not a `List&lt;Object&gt;`, so the following would generate a compiler warning:\n\n    List&lt;String&gt; names = new ArrayList&lt;String&gt;();\n    appendNewObject(names); // compilation error!\n\nIf you had declared `appendNewObject` to take a raw type `List` as parameter, then this would compile, and you&#39;d therefore lose the type safety that you get from generics.\n\n### See also\n\n* [What is the difference between `&lt;E extends Number&gt;` and `&lt;Number&gt;`?](https://stackoverflow.com/questions/2770264/what-is-the-difference-between-e-extends-number-and-number/)\n* [java generics (not) covariance](https://stackoverflow.com/questions/2660827/java-generics-covariance)\n\n---\n\n## How&#39;s a raw type different from using `&lt;?&gt;` as a type parameter?\n\n`List&lt;Object&gt;`, `List&lt;String&gt;`, etc are all `List&lt;?&gt;`, so it may be tempting to just say that they&#39;re just `List` instead. However, there is a major difference: since a `List&lt;E&gt;` defines only `add(E)`, you can&#39;t add just any arbitrary object to a `List&lt;?&gt;`. On the other hand, since the raw type `List` does not have type safety, you can `add` just about anything to a `List`.\n\nConsider the following variation of the previous snippet:\n\n    static void appendNewObject(List&lt;?&gt; list) {\n        list.add(new Object()); // compilation error!\n    }\n    //...\n\n    List&lt;String&gt; names = new ArrayList&lt;String&gt;();\n    appendNewObject(names); // this part is fine!\n\nThe compiler did a wonderful job of protecting you from potentially violating the type invariance of the `List&lt;?&gt;`! If you had declared the parameter as the raw type `List list`, then the code would compile, and you&#39;d violate the type invariant of `List&lt;String&gt; names`.\n\n---\n\n## A raw type is the erasure of that type\n\nBack to JLS 4.8:\n\n&gt;It is possible to use as a type **the erasure** of a parameterized type or the erasure of an array type whose element type is a parameterized type. **Such a type is called a *raw type*.**\n&gt;\n&gt;*[...]*\n&gt;\n&gt;The superclasses (respectively, superinterfaces) of a raw type are the erasures of the superclasses (superinterfaces) of any of the parameterizations of the generic type.\n&gt;\n&gt;The type of a constructor, instance method, or non-`static` field of a raw type `C` that is not inherited from its superclasses or superinterfaces is the raw type that corresponds to the erasure of its type in the generic declaration corresponding to `C`.\n\nIn simpler terms, when a raw type is used, the constructors, instance methods and non-`static` fields are *also erased*.\n\nTake the following example:\n\n    class MyType&lt;E&gt; {\n        List&lt;String&gt; getNames() {\n            return Arrays.asList(&quot;John&quot;, &quot;Mary&quot;);\n        }\n\n        public static void main(String[] args) {\n            MyType rawType = new MyType();\n            // unchecked warning!\n            // required: List&lt;String&gt; found: List\n            List&lt;String&gt; names = rawType.getNames();\n            // compilation error!\n            // incompatible types: Object cannot be converted to String\n            for (String str : rawType.getNames())\n                System.out.print(str);\n        }\n    }\n\nWhen we use the raw `MyType`, `getNames` becomes erased as well, so that it returns a raw `List`!\n\n[JLS 4.6](https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.6) continues to explain the following:\n\n&gt;**Type erasure also maps the signature of a constructor or method to a signature that has no parameterized types or type variables.** The erasure of a constructor or method signature `s` is a signature consisting of the same name as `s` and the erasures of all the formal parameter types given in `s`.\n&gt;\n&gt;**The return type of a method and the type parameters of a generic method or constructor also undergo erasure if the method or constructor&#39;s signature is erased.**\n&gt;\n&gt;The erasure of the signature of a generic method has no type parameters.\n\nThe following bug report contains some thoughts from Maurizio Cimadamore, a compiler dev, and Alex Buckley, one of the authors of the JLS, on why this sort of behavior ought to occur: https://bugs.openjdk.java.net/browse/JDK-6400189. (In short, it makes the specification simpler.)\n\n---\n\n## If it&#39;s unsafe, why is it allowed to use a raw type?\n\nHere&#39;s another quote from JLS 4.8:\n\n&gt; The use of raw types is allowed only as a concession to compatibility of legacy code. _The use of raw types in code written after the introduction of genericity into the Java programming language is strongly discouraged. It is possible that future versions of the Java programming language will disallow the use of raw types._\n\n_Effective Java 2nd Edition_ also has this to add:\n\n&gt; Given that you shouldn&#39;t use raw types, why did the language designers allow them? To provide compatibility.\n&gt;\n&gt; The Java platform was about to enter its second decade when generics were introduced, and there was an enormous amount of Java code in existence that did not use generics. It was deemed critical that all this code remains legal and interoperable with new code that does use generics. It had to be legal to pass instances of parameterized types to methods that were designed for use with ordinary types, and vice versa. This requirement, known as _migration compatibility_, drove the decision to support raw types.\n\nIn summary, raw types should NEVER be used in new code. **You should always use parameterized types**.\n\n---\n\n## Are there no exceptions?\n\nUnfortunately, because Java generics are non-reified, there are two exceptions where raw types must be used in new code:\n\n* Class literals, e.g. `List.class`, not `List&lt;String&gt;.class`\n* `instanceof` operand, e.g. `o instanceof Set`, not `o instanceof Set&lt;String&gt;`\n\n### See also\n\n* [Why is `Collection&lt;String&gt;.class` Illegal?](https://stackoverflow.com/questions/2745193/why-is-collectionstring-class-illegal/)","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<h2>What is a raw type?</h2>\n<p>The Java Language Specification defines a <em>raw type</em> as follows:</p>\n<h3><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.8\" rel=\"noreferrer\">JLS 4.8 Raw Types</a></h3>\n<blockquote>\n<p>A raw type is defined to be one of:</p>\n<ul>\n<li><p>The reference type that is formed by taking the name of a generic type declaration without an accompanying type argument list.</p>\n</li>\n<li><p>An array type whose element type is a raw type.</p>\n</li>\n<li><p>A non-<code>static</code> member type of a raw type <code>R</code> that is not inherited from a superclass or superinterface of <code>R</code>.</p>\n</li>\n</ul>\n</blockquote>\n<p>Here's an example to illustrate:</p>\n<pre><code>public class MyType&lt;E&gt; {\n    class Inner { }\n    static class Nested { }\n    \n    public static void main(String[] args) {\n        MyType mt;          // warning: MyType is a raw type\n        MyType.Inner inn;   // warning: MyType.Inner is a raw type\n\n        MyType.Nested nest; // no warning: not parameterized type\n        MyType&lt;Object&gt; mt1; // no warning: type parameter given\n        MyType&lt;?&gt; mt2;      // no warning: type parameter given (wildcard OK!)\n    }\n}\n</code></pre>\n<p>Here, <code>MyType&lt;E&gt;</code> is a <em>parameterized type</em> (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.5\" rel=\"noreferrer\">JLS 4.5</a>). It is common to colloquially refer to this type as simply <code>MyType</code> for short, but technically the name is <code>MyType&lt;E&gt;</code>.</p>\n<p><code>mt</code> has a raw type (and generates a compilation warning) by the first bullet point in the above definition; <code>inn</code> also has a raw type by the third bullet point.</p>\n<p><code>MyType.Nested</code> is not a parameterized type, even though it's a member type of a parameterized type <code>MyType&lt;E&gt;</code>, because it's <code>static</code>.</p>\n<p><code>mt1</code>, and <code>mt2</code> are both declared with actual type parameters, so they're not raw types.</p>\n<hr />\n<h2>What's so special about raw types?</h2>\n<p>Essentially, raw types behaves just like they were before generics were introduced. That is, the following is entirely legal at compile-time.</p>\n<pre><code>List names = new ArrayList(); // warning: raw type!\nnames.add(&quot;John&quot;);\nnames.add(&quot;Mary&quot;);\nnames.add(Boolean.FALSE); // not a compilation error!\n</code></pre>\n<p>The above code runs just fine, but suppose you also have the following:</p>\n<pre><code>for (Object o : names) {\n    String name = (String) o;\n    System.out.println(name);\n} // throws ClassCastException!\n  //    java.lang.Boolean cannot be cast to java.lang.String\n</code></pre>\n<p>Now we run into trouble at run-time, because <code>names</code> contains something that isn't an <code>instanceof String</code>.</p>\n<p>Presumably, if you want <code>names</code> to contain only <code>String</code>, you <em>could</em> perhaps still use a raw type and <em>manually check every</em> <code>add</code> yourself, and then <em>manually cast</em> to <code>String</code> every item from <code>names</code>. <strong>Even better</strong>, though is NOT to use a raw type and <em>let the compiler do all the work for you</em>, harnessing the power of Java generics.</p>\n<pre><code>List&lt;String&gt; names = new ArrayList&lt;String&gt;();\nnames.add(&quot;John&quot;);\nnames.add(&quot;Mary&quot;);\nnames.add(Boolean.FALSE); // compilation error!\n</code></pre>\n<p>Of course, if you <em>DO</em> want <code>names</code> to allow a <code>Boolean</code>, then you can declare it as <code>List&lt;Object&gt; names</code>, and the above code would compile.</p>\n<h3>See also</h3>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/\" rel=\"noreferrer\">Java Tutorials/Generics</a></li>\n</ul>\n<hr />\n<h2>How's a raw type different from using <code>&lt;Object&gt;</code> as type parameters?</h2>\n<p>The following is a quote from <em>Effective Java 2nd Edition, Item 23: Don't use raw types in new code</em>:</p>\n<blockquote>\n<p>Just what is the difference between the raw type <code>List</code> and the parameterized type <code>List&lt;Object&gt;</code>? Loosely speaking, the former has opted out generic type checking, while the latter explicitly told the compiler that it is capable of holding objects of any type. While you can pass a <code>List&lt;String&gt;</code> to a parameter of type <code>List</code>, you can't pass it to a parameter of type <code>List&lt;Object&gt;</code>. There are subtyping rules for generics, and <code>List&lt;String&gt;</code> is a subtype of the raw type <code>List</code>, but not of the parameterized type <code>List&lt;Object&gt;</code>. As a consequence, <strong>you lose type safety if you use raw type like <code>List</code>, but not if you use a parameterized type like <code>List&lt;Object&gt;</code></strong>.</p>\n</blockquote>\n<p>To illustrate the point, consider the following method which takes a <code>List&lt;Object&gt;</code> and appends a <code>new Object()</code>.</p>\n<pre><code>void appendNewObject(List&lt;Object&gt; list) {\n   list.add(new Object());\n}\n</code></pre>\n<p>Generics in Java are invariant. A <code>List&lt;String&gt;</code> is not a <code>List&lt;Object&gt;</code>, so the following would generate a compiler warning:</p>\n<pre><code>List&lt;String&gt; names = new ArrayList&lt;String&gt;();\nappendNewObject(names); // compilation error!\n</code></pre>\n<p>If you had declared <code>appendNewObject</code> to take a raw type <code>List</code> as parameter, then this would compile, and you'd therefore lose the type safety that you get from generics.</p>\n<h3>See also</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2770264/what-is-the-difference-between-e-extends-number-and-number/\">What is the difference between <code>&lt;E extends Number&gt;</code> and <code>&lt;Number&gt;</code>?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2660827/java-generics-covariance\">java generics (not) covariance</a></li>\n</ul>\n<hr />\n<h2>How's a raw type different from using <code>&lt;?&gt;</code> as a type parameter?</h2>\n<p><code>List&lt;Object&gt;</code>, <code>List&lt;String&gt;</code>, etc are all <code>List&lt;?&gt;</code>, so it may be tempting to just say that they're just <code>List</code> instead. However, there is a major difference: since a <code>List&lt;E&gt;</code> defines only <code>add(E)</code>, you can't add just any arbitrary object to a <code>List&lt;?&gt;</code>. On the other hand, since the raw type <code>List</code> does not have type safety, you can <code>add</code> just about anything to a <code>List</code>.</p>\n<p>Consider the following variation of the previous snippet:</p>\n<pre><code>static void appendNewObject(List&lt;?&gt; list) {\n    list.add(new Object()); // compilation error!\n}\n//...\n\nList&lt;String&gt; names = new ArrayList&lt;String&gt;();\nappendNewObject(names); // this part is fine!\n</code></pre>\n<p>The compiler did a wonderful job of protecting you from potentially violating the type invariance of the <code>List&lt;?&gt;</code>! If you had declared the parameter as the raw type <code>List list</code>, then the code would compile, and you'd violate the type invariant of <code>List&lt;String&gt; names</code>.</p>\n<hr />\n<h2>A raw type is the erasure of that type</h2>\n<p>Back to JLS 4.8:</p>\n<blockquote>\n<p>It is possible to use as a type <strong>the erasure</strong> of a parameterized type or the erasure of an array type whose element type is a parameterized type. <strong>Such a type is called a <em>raw type</em>.</strong></p>\n<p><em>[...]</em></p>\n<p>The superclasses (respectively, superinterfaces) of a raw type are the erasures of the superclasses (superinterfaces) of any of the parameterizations of the generic type.</p>\n<p>The type of a constructor, instance method, or non-<code>static</code> field of a raw type <code>C</code> that is not inherited from its superclasses or superinterfaces is the raw type that corresponds to the erasure of its type in the generic declaration corresponding to <code>C</code>.</p>\n</blockquote>\n<p>In simpler terms, when a raw type is used, the constructors, instance methods and non-<code>static</code> fields are <em>also erased</em>.</p>\n<p>Take the following example:</p>\n<pre><code>class MyType&lt;E&gt; {\n    List&lt;String&gt; getNames() {\n        return Arrays.asList(&quot;John&quot;, &quot;Mary&quot;);\n    }\n\n    public static void main(String[] args) {\n        MyType rawType = new MyType();\n        // unchecked warning!\n        // required: List&lt;String&gt; found: List\n        List&lt;String&gt; names = rawType.getNames();\n        // compilation error!\n        // incompatible types: Object cannot be converted to String\n        for (String str : rawType.getNames())\n            System.out.print(str);\n    }\n}\n</code></pre>\n<p>When we use the raw <code>MyType</code>, <code>getNames</code> becomes erased as well, so that it returns a raw <code>List</code>!</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.6\" rel=\"noreferrer\">JLS 4.6</a> continues to explain the following:</p>\n<blockquote>\n<p><strong>Type erasure also maps the signature of a constructor or method to a signature that has no parameterized types or type variables.</strong> The erasure of a constructor or method signature <code>s</code> is a signature consisting of the same name as <code>s</code> and the erasures of all the formal parameter types given in <code>s</code>.</p>\n<p><strong>The return type of a method and the type parameters of a generic method or constructor also undergo erasure if the method or constructor's signature is erased.</strong></p>\n<p>The erasure of the signature of a generic method has no type parameters.</p>\n</blockquote>\n<p>The following bug report contains some thoughts from Maurizio Cimadamore, a compiler dev, and Alex Buckley, one of the authors of the JLS, on why this sort of behavior ought to occur: <a href=\"https://bugs.openjdk.java.net/browse/JDK-6400189\" rel=\"noreferrer\">https://bugs.openjdk.java.net/browse/JDK-6400189</a>. (In short, it makes the specification simpler.)</p>\n<hr />\n<h2>If it's unsafe, why is it allowed to use a raw type?</h2>\n<p>Here's another quote from JLS 4.8:</p>\n<blockquote>\n<p>The use of raw types is allowed only as a concession to compatibility of legacy code. <em>The use of raw types in code written after the introduction of genericity into the Java programming language is strongly discouraged. It is possible that future versions of the Java programming language will disallow the use of raw types.</em></p>\n</blockquote>\n<p><em>Effective Java 2nd Edition</em> also has this to add:</p>\n<blockquote>\n<p>Given that you shouldn't use raw types, why did the language designers allow them? To provide compatibility.</p>\n<p>The Java platform was about to enter its second decade when generics were introduced, and there was an enormous amount of Java code in existence that did not use generics. It was deemed critical that all this code remains legal and interoperable with new code that does use generics. It had to be legal to pass instances of parameterized types to methods that were designed for use with ordinary types, and vice versa. This requirement, known as <em>migration compatibility</em>, drove the decision to support raw types.</p>\n</blockquote>\n<p>In summary, raw types should NEVER be used in new code. <strong>You should always use parameterized types</strong>.</p>\n<hr />\n<h2>Are there no exceptions?</h2>\n<p>Unfortunately, because Java generics are non-reified, there are two exceptions where raw types must be used in new code:</p>\n<ul>\n<li>Class literals, e.g. <code>List.class</code>, not <code>List&lt;String&gt;.class</code></li>\n<li><code>instanceof</code> operand, e.g. <code>o instanceof Set</code>, not <code>o instanceof Set&lt;String&gt;</code></li>\n</ul>\n<h3>See also</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2745193/why-is-collectionstring-class-illegal/\">Why is <code>Collection&lt;String&gt;.class</code> Illegal?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1448066897,"creation_date":1273096247,"answer_id":2777051,"question_id":2770321,"body_markdown":"&gt; What are raw types in Java, and why do I often hear that they shouldn&#39;t be used in new code?\r\n\r\nRaw-types are ancient history of the Java language. In the beginning there were `Collections` and they held `Objects` nothing more and nothing less. Every operation on `Collections` required casts from `Object` to the desired type.\r\n\r\n    List aList = new ArrayList();\r\n    String s = &quot;Hello World!&quot;;\r\n    aList.add(s);\r\n    String c = (String)aList.get(0);\r\n\r\nWhile this worked most of the time, errors did happen\r\n\r\n    List aNumberList = new ArrayList();\r\n    String one = &quot;1&quot;;//Number one\r\n    aNumberList.add(one);\r\n    Integer iOne = (Integer)aNumberList.get(0);//Insert ClassCastException here\r\nThe old typeless collections could not enforce type-safety so the programmer had to remember what he stored within a collection.  \r\nGenerics where invented to get around this limitation, the developer would declare the stored type once and the compiler would do it instead.\r\n\r\n    List&lt;String&gt; aNumberList = new ArrayList&lt;String&gt;();\r\n    aNumberList.add(&quot;one&quot;);\r\n    Integer iOne = aNumberList.get(0);//Compile time error\r\n    String sOne = aNumberList.get(0);//works fine\r\n\r\nFor Comparison:\r\n\r\n    // Old style collections now known as raw types\r\n    List aList = new ArrayList(); //Could contain anything\r\n    // New style collections with Generics\r\n    List&lt;String&gt; aList = new ArrayList&lt;String&gt;(); //Contains only Strings\r\n\r\nMore complex the Compareable interface:\r\n\r\n    //raw, not type save can compare with Other classes\r\n    class MyCompareAble implements CompareAble\r\n    {\r\n       int id;\r\n       public int compareTo(Object other)\r\n       {return this.id - ((MyCompareAble)other).id;}\r\n    }\r\n    //Generic\r\n    class MyCompareAble implements CompareAble&lt;MyCompareAble&gt;\r\n    {\r\n       int id;\r\n       public int compareTo(MyCompareAble other)\r\n       {return this.id - other.id;}\r\n    }\r\n\r\nNote that it is impossible to implement the `CompareAble` interface with `compareTo(MyCompareAble)` with raw types.\r\nWhy you should not use them:\r\n\r\n - Any `Object` stored in a `Collection` has to be cast before it can be used\r\n - Using generics enables compile time checks\r\n - Using raw types is the same as storing each value as `Object`\r\n\r\nWhat the compiler does:\r\nGenerics are backward compatible, they use the same java classes as the raw types do. The magic happens mostly at compile time.\r\n\r\n    List&lt;String&gt; someStrings = new ArrayList&lt;String&gt;();\r\n    someStrings.add(&quot;one&quot;);\r\n    String one = someStrings.get(0);\r\n\r\nWill be compiled as:\r\n\r\n    List someStrings = new ArrayList();\r\n    someStrings.add(&quot;one&quot;); \r\n    String one = (String)someStrings.get(0);\r\n\r\nThis is the same code you would write if you used the raw types directly. Thought I&#39;m not sure what happens with the `CompareAble` interface, I guess that it creates two `compareTo` functions, one taking a `MyCompareAble` and the other taking an `Object` and passing it to the first after casting it.\r\n\r\nWhat are the alternatives to raw types: Use [generics][1]\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/extra/generics/index.html","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<blockquote>\n  <p>What are raw types in Java, and why do I often hear that they shouldn't be used in new code?</p>\n</blockquote>\n\n<p>Raw-types are ancient history of the Java language. In the beginning there were <code>Collections</code> and they held <code>Objects</code> nothing more and nothing less. Every operation on <code>Collections</code> required casts from <code>Object</code> to the desired type.</p>\n\n<pre><code>List aList = new ArrayList();\nString s = \"Hello World!\";\naList.add(s);\nString c = (String)aList.get(0);\n</code></pre>\n\n<p>While this worked most of the time, errors did happen</p>\n\n<pre><code>List aNumberList = new ArrayList();\nString one = \"1\";//Number one\naNumberList.add(one);\nInteger iOne = (Integer)aNumberList.get(0);//Insert ClassCastException here\n</code></pre>\n\n<p>The old typeless collections could not enforce type-safety so the programmer had to remember what he stored within a collection.<br>\nGenerics where invented to get around this limitation, the developer would declare the stored type once and the compiler would do it instead.</p>\n\n<pre><code>List&lt;String&gt; aNumberList = new ArrayList&lt;String&gt;();\naNumberList.add(\"one\");\nInteger iOne = aNumberList.get(0);//Compile time error\nString sOne = aNumberList.get(0);//works fine\n</code></pre>\n\n<p>For Comparison:</p>\n\n<pre><code>// Old style collections now known as raw types\nList aList = new ArrayList(); //Could contain anything\n// New style collections with Generics\nList&lt;String&gt; aList = new ArrayList&lt;String&gt;(); //Contains only Strings\n</code></pre>\n\n<p>More complex the Compareable interface:</p>\n\n<pre><code>//raw, not type save can compare with Other classes\nclass MyCompareAble implements CompareAble\n{\n   int id;\n   public int compareTo(Object other)\n   {return this.id - ((MyCompareAble)other).id;}\n}\n//Generic\nclass MyCompareAble implements CompareAble&lt;MyCompareAble&gt;\n{\n   int id;\n   public int compareTo(MyCompareAble other)\n   {return this.id - other.id;}\n}\n</code></pre>\n\n<p>Note that it is impossible to implement the <code>CompareAble</code> interface with <code>compareTo(MyCompareAble)</code> with raw types.\nWhy you should not use them:</p>\n\n<ul>\n<li>Any <code>Object</code> stored in a <code>Collection</code> has to be cast before it can be used</li>\n<li>Using generics enables compile time checks</li>\n<li>Using raw types is the same as storing each value as <code>Object</code></li>\n</ul>\n\n<p>What the compiler does:\nGenerics are backward compatible, they use the same java classes as the raw types do. The magic happens mostly at compile time.</p>\n\n<pre><code>List&lt;String&gt; someStrings = new ArrayList&lt;String&gt;();\nsomeStrings.add(\"one\");\nString one = someStrings.get(0);\n</code></pre>\n\n<p>Will be compiled as:</p>\n\n<pre><code>List someStrings = new ArrayList();\nsomeStrings.add(\"one\"); \nString one = (String)someStrings.get(0);\n</code></pre>\n\n<p>This is the same code you would write if you used the raw types directly. Thought I'm not sure what happens with the <code>CompareAble</code> interface, I guess that it creates two <code>compareTo</code> functions, one taking a <code>MyCompareAble</code> and the other taking an <code>Object</code> and passing it to the first after casting it.</p>\n\n<p>What are the alternatives to raw types: Use <a href=\"http://java.sun.com/docs/books/tutorial/extra/generics/index.html\" rel=\"noreferrer\">generics</a></p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1276674293,"creation_date":1276674293,"answer_id":3051465,"question_id":2770321,"body_markdown":"     private static List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\nYou should specify the type-parameter. \r\n\r\nThe warning advises that types that are defined to support [generics][1] should be parameterized, rather than using their raw form.\r\n\r\n`List` is defined to support generics: `public class List&lt;E&gt;`. This allows many type-safe operations, that are checked compile-time.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/guide/language/generics.html","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<pre><code> private static List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>You should specify the type-parameter. </p>\n\n<p>The warning advises that types that are defined to support <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/language/generics.html\" rel=\"noreferrer\">generics</a> should be parameterized, rather than using their raw form.</p>\n\n<p><code>List</code> is defined to support generics: <code>public class List&lt;E&gt;</code>. This allows many type-safe operations, that are checked compile-time.</p>\n"},{"tags":[],"owner":{"account_id":78263,"reputation":11435,"user_id":222851,"accept_rate":88,"display_name":"pakore"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1276674479,"creation_date":1276674479,"answer_id":3051481,"question_id":2770321,"body_markdown":"What is saying is that your `list` is a `List` of unespecified objects. That is that Java does not know what kind of objects are inside the list. Then when you want to iterate the list you have to cast every element, to be able to access the properties of that element (in this case, String).\r\n\r\nIn general is a better idea to parametrize the collections, so you don&#39;t have conversion problems, you will only be able to add elements of the parametrized type and your editor will offer you the appropiate methods to select.\r\n\r\n\r\n    private static List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p>What is saying is that your <code>list</code> is a <code>List</code> of unespecified objects. That is that Java does not know what kind of objects are inside the list. Then when you want to iterate the list you have to cast every element, to be able to access the properties of that element (in this case, String).</p>\n\n<p>In general is a better idea to parametrize the collections, so you don't have conversion problems, you will only be able to add elements of the parametrized type and your editor will offer you the appropiate methods to select.</p>\n\n<pre><code>private static List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1276674810,"creation_date":1276674810,"answer_id":3051504,"question_id":2770321,"body_markdown":"The compiler wants you to write this:\r\n\r\n    private static List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\nbecause otherwise, you could add any type you like into `list`, making the instantiation as `new ArrayList&lt;String&gt;()` pointless. Java generics are a compile-time feature only, so an object created with `new ArrayList&lt;String&gt;()` will happily accept `Integer` or `JFrame` elements if assigned to a reference of the &quot;raw type&quot; `List` - the object itself knows nothing about what types it&#39;s supposed to contain, only the compiler does.","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p>The compiler wants you to write this:</p>\n\n<pre><code>private static List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>because otherwise, you could add any type you like into <code>list</code>, making the instantiation as <code>new ArrayList&lt;String&gt;()</code> pointless. Java generics are a compile-time feature only, so an object created with <code>new ArrayList&lt;String&gt;()</code> will happily accept <code>Integer</code> or <code>JFrame</code> elements if assigned to a reference of the \"raw type\" <code>List</code> - the object itself knows nothing about what types it's supposed to contain, only the compiler does.</p>\n"},{"tags":[],"owner":{"account_id":1199784,"reputation":18304,"user_id":1170677,"accept_rate":54,"display_name":"Adelin"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1376180956,"creation_date":1376179109,"answer_id":18167472,"question_id":2770321,"body_markdown":"A raw type is the name of a generic class or interface without any type arguments. For example, given the generic Box class:\n\n    public class Box&lt;T&gt; {\n        public void set(T t) { /* ... */ }\n        // ...\n    }\n\nTo create a parameterized type of `Box&lt;T&gt;`, you supply an actual type argument for the formal type parameter `T`:\n\n    Box&lt;Integer&gt; intBox = new Box&lt;&gt;();\n\nIf the actual type argument is omitted, you create a raw type of `Box&lt;T&gt;`:\n\n    Box rawBox = new Box();\n\nTherefore, `Box` is the raw type of the generic type `Box&lt;T&gt;`. However, a non-generic class or interface type is not a raw type.\n\nRaw types show up in legacy code because lots of API classes (such as the Collections classes) were not generic prior to JDK 5.0. When using raw types, you essentially get pre-generics behavior — a `Box` gives you `Object`s. For backward compatibility, assigning a parameterized type to its raw type is allowed:\n\n    Box&lt;String&gt; stringBox = new Box&lt;&gt;();\n    Box rawBox = stringBox;               // OK\n\nBut if you assign a raw type to a parameterized type, you get a warning:\n\n    Box rawBox = new Box();           // rawBox is a raw type of Box&lt;T&gt;\n    Box&lt;Integer&gt; intBox = rawBox;     // warning: unchecked conversion\n\nYou also get a warning if you use a raw type to invoke generic methods defined in the corresponding generic type:\n\n    Box&lt;String&gt; stringBox = new Box&lt;&gt;();\n    Box rawBox = stringBox;\n    rawBox.set(8);  // warning: unchecked invocation to set(T)\n\nThe warning shows that raw types bypass generic type checks, deferring the catch of unsafe code to runtime. Therefore, you should avoid using raw types.\n\nThe Type Erasure section has more information on how the Java compiler uses raw types.\n\n### Unchecked Error Messages ###\n\nAs mentioned previously, when mixing legacy code with generic code, you may encounter warning messages similar to the following:\n\n&gt; Note: Example.java uses unchecked or unsafe operations.\n&gt;\n&gt; Note: Recompile with -Xlint:unchecked for details.\n\nThis can happen when using an older API that operates on raw types, as shown in the following example:\n\n    public class WarningDemo {\n        public static void main(String[] args){\n            Box&lt;Integer&gt; bi;\n            bi = createBox();\n        }\n    \n        static Box createBox(){\n            return new Box();\n        }\n    }\n\nThe term &quot;unchecked&quot; means that the compiler does not have enough type information to perform all type checks necessary to ensure type safety. The &quot;unchecked&quot; warning is disabled, by default, though the compiler gives a hint. To see all &quot;unchecked&quot; warnings, recompile with -Xlint:unchecked.\n\nRecompiling the previous example with -Xlint:unchecked reveals the following additional information:\n\n    WarningDemo.java:4: warning: [unchecked] unchecked conversion\n    found   : Box\n    required: Box&lt;java.lang.Integer&gt;\n            bi = createBox();\n                          ^\n    1 warning\n\nTo completely disable unchecked warnings, use the -Xlint:-unchecked flag. The `@SuppressWarnings(&quot;unchecked&quot;)` annotation suppresses unchecked warnings. If you are unfamiliar with the `@SuppressWarnings` syntax, see Annotations.\n\n\nOriginal source: [Java Tutorials][1] \n\n\n  [1]: http://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p>A raw type is the name of a generic class or interface without any type arguments. For example, given the generic Box class:</p>\n<pre><code>public class Box&lt;T&gt; {\n    public void set(T t) { /* ... */ }\n    // ...\n}\n</code></pre>\n<p>To create a parameterized type of <code>Box&lt;T&gt;</code>, you supply an actual type argument for the formal type parameter <code>T</code>:</p>\n<pre><code>Box&lt;Integer&gt; intBox = new Box&lt;&gt;();\n</code></pre>\n<p>If the actual type argument is omitted, you create a raw type of <code>Box&lt;T&gt;</code>:</p>\n<pre><code>Box rawBox = new Box();\n</code></pre>\n<p>Therefore, <code>Box</code> is the raw type of the generic type <code>Box&lt;T&gt;</code>. However, a non-generic class or interface type is not a raw type.</p>\n<p>Raw types show up in legacy code because lots of API classes (such as the Collections classes) were not generic prior to JDK 5.0. When using raw types, you essentially get pre-generics behavior — a <code>Box</code> gives you <code>Object</code>s. For backward compatibility, assigning a parameterized type to its raw type is allowed:</p>\n<pre><code>Box&lt;String&gt; stringBox = new Box&lt;&gt;();\nBox rawBox = stringBox;               // OK\n</code></pre>\n<p>But if you assign a raw type to a parameterized type, you get a warning:</p>\n<pre><code>Box rawBox = new Box();           // rawBox is a raw type of Box&lt;T&gt;\nBox&lt;Integer&gt; intBox = rawBox;     // warning: unchecked conversion\n</code></pre>\n<p>You also get a warning if you use a raw type to invoke generic methods defined in the corresponding generic type:</p>\n<pre><code>Box&lt;String&gt; stringBox = new Box&lt;&gt;();\nBox rawBox = stringBox;\nrawBox.set(8);  // warning: unchecked invocation to set(T)\n</code></pre>\n<p>The warning shows that raw types bypass generic type checks, deferring the catch of unsafe code to runtime. Therefore, you should avoid using raw types.</p>\n<p>The Type Erasure section has more information on how the Java compiler uses raw types.</p>\n<h3>Unchecked Error Messages</h3>\n<p>As mentioned previously, when mixing legacy code with generic code, you may encounter warning messages similar to the following:</p>\n<blockquote>\n<p>Note: Example.java uses unchecked or unsafe operations.</p>\n<p>Note: Recompile with -Xlint:unchecked for details.</p>\n</blockquote>\n<p>This can happen when using an older API that operates on raw types, as shown in the following example:</p>\n<pre><code>public class WarningDemo {\n    public static void main(String[] args){\n        Box&lt;Integer&gt; bi;\n        bi = createBox();\n    }\n\n    static Box createBox(){\n        return new Box();\n    }\n}\n</code></pre>\n<p>The term &quot;unchecked&quot; means that the compiler does not have enough type information to perform all type checks necessary to ensure type safety. The &quot;unchecked&quot; warning is disabled, by default, though the compiler gives a hint. To see all &quot;unchecked&quot; warnings, recompile with -Xlint:unchecked.</p>\n<p>Recompiling the previous example with -Xlint:unchecked reveals the following additional information:</p>\n<pre><code>WarningDemo.java:4: warning: [unchecked] unchecked conversion\nfound   : Box\nrequired: Box&lt;java.lang.Integer&gt;\n        bi = createBox();\n                      ^\n1 warning\n</code></pre>\n<p>To completely disable unchecked warnings, use the -Xlint:-unchecked flag. The <code>@SuppressWarnings(&quot;unchecked&quot;)</code> annotation suppresses unchecked warnings. If you are unfamiliar with the <code>@SuppressWarnings</code> syntax, see Annotations.</p>\n<p>Original source: <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\" rel=\"noreferrer\">Java Tutorials</a></p>\n"},{"tags":[],"owner":{"account_id":2843584,"reputation":19,"user_id":2442615,"display_name":"user2442615"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1457318601,"creation_date":1457317483,"answer_id":35835223,"question_id":2770321,"body_markdown":"I found this page after doing some sample exercises and having the exact same puzzlement.\r\n\r\n============== I went from this code as provide by the sample ===============\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        \r\n        Map wordMap = new HashMap();\r\n        if (args.length &gt; 0) {\r\n            for (int i = 0; i &lt; args.length; i++) {\r\n                countWord(wordMap, args[i]);\r\n            }\r\n        } else {\r\n            getWordFrequency(System.in, wordMap);\r\n        }\r\n        for (Iterator i = wordMap.entrySet().iterator(); i.hasNext();) {\r\n            Map.Entry entry = (Map.Entry) i.next();\r\n            System.out.println(entry.getKey() + &quot; :\\t&quot; + entry.getValue());\r\n        }\r\n\r\n====================== To This code ========================\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        // replace with TreeMap to get them sorted by name\r\n        Map&lt;String, Integer&gt; wordMap = new HashMap&lt;String, Integer&gt;();\r\n        if (args.length &gt; 0) {\r\n            for (int i = 0; i &lt; args.length; i++) {\r\n                countWord(wordMap, args[i]);\r\n            }\r\n        } else {\r\n            getWordFrequency(System.in, wordMap);\r\n        }\r\n        for (Iterator&lt;Entry&lt;String, Integer&gt;&gt; i = wordMap.entrySet().iterator(); i.hasNext();) {\r\n            Entry&lt;String, Integer&gt; entry =   i.next();\r\n            System.out.println(entry.getKey() + &quot; :\\t&quot; + entry.getValue());\r\n        }\r\n\r\n    }\r\n\r\n===============================================================================\r\n\r\nIt may be safer but took 4  hours to demuddle the philosophy...\r\n","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p>I found this page after doing some sample exercises and having the exact same puzzlement.</p>\n\n<p>============== I went from this code as provide by the sample ===============</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n\n    Map wordMap = new HashMap();\n    if (args.length &gt; 0) {\n        for (int i = 0; i &lt; args.length; i++) {\n            countWord(wordMap, args[i]);\n        }\n    } else {\n        getWordFrequency(System.in, wordMap);\n    }\n    for (Iterator i = wordMap.entrySet().iterator(); i.hasNext();) {\n        Map.Entry entry = (Map.Entry) i.next();\n        System.out.println(entry.getKey() + \" :\\t\" + entry.getValue());\n    }\n</code></pre>\n\n<p>====================== To This code ========================</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    // replace with TreeMap to get them sorted by name\n    Map&lt;String, Integer&gt; wordMap = new HashMap&lt;String, Integer&gt;();\n    if (args.length &gt; 0) {\n        for (int i = 0; i &lt; args.length; i++) {\n            countWord(wordMap, args[i]);\n        }\n    } else {\n        getWordFrequency(System.in, wordMap);\n    }\n    for (Iterator&lt;Entry&lt;String, Integer&gt;&gt; i = wordMap.entrySet().iterator(); i.hasNext();) {\n        Entry&lt;String, Integer&gt; entry =   i.next();\n        System.out.println(entry.getKey() + \" :\\t\" + entry.getValue());\n    }\n\n}\n</code></pre>\n\n<p>===============================================================================</p>\n\n<p>It may be safer but took 4  hours to demuddle the philosophy...</p>\n"},{"tags":[],"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1499696084,"creation_date":1463147464,"answer_id":37211785,"question_id":2770321,"body_markdown":"Here I am Considering multiple cases  through which you can clearify  the concept\r\n\r\n    1. ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n    2. ArrayList&lt;String&gt; arr = new ArrayList();\r\n    3. ArrayList arr = new ArrayList&lt;String&gt;();\r\n\r\nCase 1\r\n------\r\n\r\n`ArrayList&lt;String&gt; arr ` it is a `ArrayList` reference variable with type `String` which reference to a `ArralyList` Object of Type `String`. It means it can hold only String type Object.\r\n\r\nIt is a Strict to `String` not  a Raw Type so, It will never raise an warning .\r\n\r\n\t    arr.add(&quot;hello&quot;);// alone statement will compile successfully and no warning.\r\n    \r\n\t\tarr.add(23);  //prone to compile time error.\r\n         //error: no suitable method found for add(int)\r\n\r\nCase 2\r\n------\r\nIn this case `ArrayList&lt;String&gt; arr` is a strict type but your Object `new ArrayList();` is a raw type. \r\n\r\n        arr.add(&quot;hello&quot;); //alone this compile but raise the warning.\r\n\t\tarr.add(23);  //again prone to compile time error.\r\n        //error: no suitable method found for add(int)\r\n\r\nhere `arr` is a Strict type. So, It will raise compile time error when adding a `integer`.\r\n\r\n&gt;**Warning** :- A `Raw` Type Object is referenced to a `Strict` type Referenced Variable of `ArrayList`.\r\n\r\n\r\nCase 3\r\n------\r\n\r\nIn this case `ArrayList arr` is a raw type but your Object `new ArrayList&lt;String&gt;();` is a Strict type. \r\n\r\n        arr.add(&quot;hello&quot;);  \r\n\t\tarr.add(23);  //compiles fine but raise the warning.\r\n\r\nIt will add any type of Object into it because `arr` is a Raw Type.\r\n\r\n&gt;**Warning** :- A `Strict` Type Object is referenced to a `raw` type referenced Variable.\r\n","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p>Here I am Considering multiple cases  through which you can clearify  the concept</p>\n\n<pre><code>1. ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\n2. ArrayList&lt;String&gt; arr = new ArrayList();\n3. ArrayList arr = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<h2>Case 1</h2>\n\n<p><code>ArrayList&lt;String&gt; arr</code> it is a <code>ArrayList</code> reference variable with type <code>String</code> which reference to a <code>ArralyList</code> Object of Type <code>String</code>. It means it can hold only String type Object.</p>\n\n<p>It is a Strict to <code>String</code> not  a Raw Type so, It will never raise an warning .</p>\n\n<pre><code>    arr.add(\"hello\");// alone statement will compile successfully and no warning.\n\n    arr.add(23);  //prone to compile time error.\n     //error: no suitable method found for add(int)\n</code></pre>\n\n<h2>Case 2</h2>\n\n<p>In this case <code>ArrayList&lt;String&gt; arr</code> is a strict type but your Object <code>new ArrayList();</code> is a raw type. </p>\n\n<pre><code>    arr.add(\"hello\"); //alone this compile but raise the warning.\n    arr.add(23);  //again prone to compile time error.\n    //error: no suitable method found for add(int)\n</code></pre>\n\n<p>here <code>arr</code> is a Strict type. So, It will raise compile time error when adding a <code>integer</code>.</p>\n\n<blockquote>\n  <p><strong>Warning</strong> :- A <code>Raw</code> Type Object is referenced to a <code>Strict</code> type Referenced Variable of <code>ArrayList</code>.</p>\n</blockquote>\n\n<h2>Case 3</h2>\n\n<p>In this case <code>ArrayList arr</code> is a raw type but your Object <code>new ArrayList&lt;String&gt;();</code> is a Strict type. </p>\n\n<pre><code>    arr.add(\"hello\");  \n    arr.add(23);  //compiles fine but raise the warning.\n</code></pre>\n\n<p>It will add any type of Object into it because <code>arr</code> is a Raw Type.</p>\n\n<blockquote>\n  <p><strong>Warning</strong> :- A <code>Strict</code> Type Object is referenced to a <code>raw</code> type referenced Variable.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20189,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1488040896,"creation_date":1464097329,"answer_id":37415442,"question_id":2770321,"body_markdown":"[tutorial page](https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html).  \r\n\r\nA raw type is the name of a generic class or interface without any type arguments. For example, given the generic Box class:  \r\n\r\n    public class Box&lt;T&gt; {\r\n        public void set(T t) { /* ... */ }\r\n        // ...\r\n    }\r\n\r\nTo create a parameterized type of Box&lt;T&gt;, you supply an actual type argument for the formal type parameter T:  \r\n\r\n    Box&lt;Integer&gt; intBox = new Box&lt;&gt;();\r\n\r\nIf the actual type argument is omitted, you create a raw type of Box&lt;T&gt;:  \r\n\r\n    Box rawBox = new Box();","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\" rel=\"nofollow noreferrer\">tutorial page</a>.  </p>\n\n<p>A raw type is the name of a generic class or interface without any type arguments. For example, given the generic Box class:  </p>\n\n<pre><code>public class Box&lt;T&gt; {\n    public void set(T t) { /* ... */ }\n    // ...\n}\n</code></pre>\n\n<p>To create a parameterized type of Box, you supply an actual type argument for the formal type parameter T:  </p>\n\n<pre><code>Box&lt;Integer&gt; intBox = new Box&lt;&gt;();\n</code></pre>\n\n<p>If the actual type argument is omitted, you create a raw type of Box:  </p>\n\n<pre><code>Box rawBox = new Box();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3128707,"reputation":2410,"user_id":4342230,"display_name":"GuyPaddock"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1612804288,"creation_date":1512362958,"answer_id":47626695,"question_id":2770321,"body_markdown":"Here&#39;s another case where raw types will bite you:\r\n\r\n    public class StrangeClass&lt;T&gt; {\r\n      @SuppressWarnings(&quot;unchecked&quot;)\r\n      public &lt;X&gt; X getSomethingElse() {\r\n        return (X)&quot;Testing something else!&quot;;\r\n      }\r\n\r\n      public static void main(String[] args) {\r\n        final StrangeClass&lt;String&gt; withGeneric    = new StrangeClass&lt;&gt;();\r\n        final StrangeClass         withoutGeneric = new StrangeClass();\r\n        final String               value1,\r\n                                   value2;\r\n\r\n        // Compiles\r\n        value1 = withGeneric.getSomethingElse();\r\n\r\n        // Produces compile error:\r\n        // incompatible types: java.lang.Object cannot be converted to java.lang.String\r\n        value2 = withoutGeneric.getSomethingElse();\r\n      }\r\n    }\r\n\r\nThis is counter-intuitive because you&#39;d expect the raw type to only affect methods bound to the class type parameter, but it actually _also_ affects generic methods with their own type parameters. \r\n\r\nAs was mentioned in the accepted answer, you lose all support for generics within the code of the raw type. Every type parameter is converted to its erasure (which in the above example is just `Object`).","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p>Here's another case where raw types will bite you:</p>\n<pre><code>public class StrangeClass&lt;T&gt; {\n  @SuppressWarnings(&quot;unchecked&quot;)\n  public &lt;X&gt; X getSomethingElse() {\n    return (X)&quot;Testing something else!&quot;;\n  }\n\n  public static void main(String[] args) {\n    final StrangeClass&lt;String&gt; withGeneric    = new StrangeClass&lt;&gt;();\n    final StrangeClass         withoutGeneric = new StrangeClass();\n    final String               value1,\n                               value2;\n\n    // Compiles\n    value1 = withGeneric.getSomethingElse();\n\n    // Produces compile error:\n    // incompatible types: java.lang.Object cannot be converted to java.lang.String\n    value2 = withoutGeneric.getSomethingElse();\n  }\n}\n</code></pre>\n<p>This is counter-intuitive because you'd expect the raw type to only affect methods bound to the class type parameter, but it actually <em>also</em> affects generic methods with their own type parameters.</p>\n<p>As was mentioned in the accepted answer, you lose all support for generics within the code of the raw type. Every type parameter is converted to its erasure (which in the above example is just <code>Object</code>).</p>\n"},{"tags":[],"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1512392312,"creation_date":1512392312,"answer_id":47633979,"question_id":2770321,"body_markdown":"Raw types are fine when they express what you want to express.\r\n\r\nFor example, a deserialisation function might return a `List`, but it doesn&#39;t know the list&#39;s element type. So `List` is the appropriate return type here.","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p>Raw types are fine when they express what you want to express.</p>\n\n<p>For example, a deserialisation function might return a <code>List</code>, but it doesn't know the list's element type. So <code>List</code> is the appropriate return type here.</p>\n"},{"tags":[],"owner":{"account_id":15165493,"reputation":2036,"user_id":10943108,"display_name":"Ashish"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1633254715,"creation_date":1553575822,"answer_id":55350052,"question_id":2770321,"body_markdown":"**Avoid raw types.**\r\n\r\nRaw types refer to using a generic type without specifying a type parameter.\r\n\r\nFor example: \r\n\r\nA `list` is a raw type, while `List&lt;String&gt;` is a parameterized type.\r\n\r\nWhen generics were introduced in JDK 1.5, raw types were retained only to maintain backwards compatibility with older versions of Java.  \r\n\r\nAlthough using raw types is still possible, they should be avoided:\r\n\r\n* They usually require casts.  \r\n* They aren&#39;t type safe, and some important kinds of errors will only appear at runtime.  \r\n* They are less expressive, and don&#39;t self-document in the same way as parameterized types..\r\n\r\nExample: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.util.*;\r\n    public final class AvoidRawTypes {\r\n        void withRawType() {\r\n            //Raw List doesn&#39;t self-document, \r\n            //doesn&#39;t state explicitly what it can contain\r\n            List stars = Arrays.asList(&quot;Arcturus&quot;, &quot;Vega&quot;, &quot;Altair&quot;);\r\n            Iterator iter = stars.iterator();\r\n            while (iter.hasNext()) {\r\n                String star = (String) iter.next(); //cast needed\r\n                log(star);\r\n            }\r\n        }\r\n    \r\n        void withParameterizedType() {\r\n            List &lt; String &gt; stars = Arrays.asList(&quot;Spica&quot;, &quot;Regulus&quot;, &quot;Antares&quot;);\r\n            for (String star: stars) {\r\n                log(star);\r\n            }\r\n        }\r\n    \r\n        private void log(Object message) {\r\n            System.out.println(Objects.toString(message));\r\n        }\r\n    }\r\n     \r\nFor reference: https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p><strong>Avoid raw types.</strong></p>\n<p>Raw types refer to using a generic type without specifying a type parameter.</p>\n<p>For example:</p>\n<p>A <code>list</code> is a raw type, while <code>List&lt;String&gt;</code> is a parameterized type.</p>\n<p>When generics were introduced in JDK 1.5, raw types were retained only to maintain backwards compatibility with older versions of Java.</p>\n<p>Although using raw types is still possible, they should be avoided:</p>\n<ul>\n<li>They usually require casts.</li>\n<li>They aren't type safe, and some important kinds of errors will only appear at runtime.</li>\n<li>They are less expressive, and don't self-document in the same way as parameterized types..</li>\n</ul>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\npublic final class AvoidRawTypes {\n    void withRawType() {\n        //Raw List doesn't self-document, \n        //doesn't state explicitly what it can contain\n        List stars = Arrays.asList(&quot;Arcturus&quot;, &quot;Vega&quot;, &quot;Altair&quot;);\n        Iterator iter = stars.iterator();\n        while (iter.hasNext()) {\n            String star = (String) iter.next(); //cast needed\n            log(star);\n        }\n    }\n\n    void withParameterizedType() {\n        List &lt; String &gt; stars = Arrays.asList(&quot;Spica&quot;, &quot;Regulus&quot;, &quot;Antares&quot;);\n        for (String star: stars) {\n            log(star);\n        }\n    }\n\n    private void log(Object message) {\n        System.out.println(Objects.toString(message));\n    }\n}\n \n</code></pre>\n<p>For reference: <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html</a></p>\n"}],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353947,"favorite_count":0,"down_vote_count":3,"up_vote_count":816,"answer_count":15,"score":813,"last_activity_date":1670426355,"creation_date":1273027733,"question_id":2770321,"body_markdown":"### Questions:\r\n\r\n* What are raw types in Java, and why do I often hear that they shouldn&#39;t be used in new code?\r\n* What is the alternative if we can&#39;t use raw types, and how is it better?","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<h3>Questions:</h3>\n\n<ul>\n<li>What are raw types in Java, and why do I often hear that they shouldn't be used in new code?</li>\n<li>What is the alternative if we can't use raw types, and how is it better?</li>\n</ul>\n"},{"tags":["java","scala","generics"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":2,"creation_date":1670426612,"post_id":74718912,"comment_id":131874572,"body_markdown":"You can either use a **typeclass** or a wrapper.; in this case, maybe a wrapper is best. - You may also try with structural types. - https://gist.github.com/BalmungSan/c19557030181c0dc36533f3de7d7abf4","body":"You can either use a <b>typeclass</b> or a wrapper.; in this case, maybe a wrapper is best. - You may also try with structural types. - <a href=\"https://gist.github.com/BalmungSan/c19557030181c0dc36533f3de7d7abf4\" rel=\"nofollow noreferrer\">gist.github.com/BalmungSan/c19557030181c0dc36533f3de7d7abf4</a>"},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":1,"creation_date":1670433598,"post_id":74718912,"comment_id":131877215,"body_markdown":"`type CommonDTO = A | B | C | D`?","body":"<code>type CommonDTO = A | B | C | D</code>?"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1670434467,"post_id":74718912,"comment_id":131877506,"body_markdown":"https://stackoverflow.com/questions/3508077/how-to-define-type-disjunction-union-types","body":"<a href=\"https://stackoverflow.com/questions/3508077/how-to-define-type-disjunction-union-types\" title=\"how to define type disjunction union types\">stackoverflow.com/questions/3508077/&hellip;</a>"}],"owner":{"account_id":2731114,"reputation":253,"user_id":2354898,"accept_rate":20,"display_name":"user2354898"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670426126,"creation_date":1670426126,"question_id":74718912,"body_markdown":"I&#39;ve 10 data transfer objects that i received through a maven dependency. I would like to type these objects with an abstract class or an interface so I can handle them as one type and not separately.  \r\n\r\nSince the classes are compiled and imported through maven I cannot change the classes itself. \r\n\r\nThe reason behind this is for me to handle them as one common type so I for example can send each one of them inside the same function.\r\n\r\n\r\n```\r\npublic void build(CommonDTO commonDto) {\r\n......\r\n}\r\n```\r\n\r\nI need to solve this in Scala. But I can try to translate it to Scala if a Java solution is found.","title":"Generic type compiled classes for common handling","body":"<p>I've 10 data transfer objects that i received through a maven dependency. I would like to type these objects with an abstract class or an interface so I can handle them as one type and not separately.</p>\n<p>Since the classes are compiled and imported through maven I cannot change the classes itself.</p>\n<p>The reason behind this is for me to handle them as one common type so I for example can send each one of them inside the same function.</p>\n<pre><code>public void build(CommonDTO commonDto) {\n......\n}\n</code></pre>\n<p>I need to solve this in Scala. But I can try to translate it to Scala if a Java solution is found.</p>\n"},{"tags":["java","caching","guava"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1374832158,"post_id":17878091,"comment_id":26106038,"body_markdown":"How are you refreshing the data? From the [documentation](http://code.google.com/p/guava-libraries/wiki/CachesExplained) _The old value (if any) is still returned while the key is being refreshed_.","body":"How are you refreshing the data? From the <a href=\"http://code.google.com/p/guava-libraries/wiki/CachesExplained\" rel=\"nofollow noreferrer\">documentation</a> <i>The old value (if any) is still returned while the key is being refreshed</i>."},{"owner":{"account_id":32722,"reputation":8502,"user_id":91012,"accept_rate":67,"display_name":"mR_fr0g"},"score":0,"creation_date":1374832794,"post_id":17878091,"comment_id":26106443,"body_markdown":"See my edit with more information.","body":"See my edit with more information."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1374833032,"post_id":17878091,"comment_id":26106579,"body_markdown":"And there is no way you can make it into a `LoadingCache`?","body":"And there is no way you can make it into a <code>LoadingCache</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374832419,"creation_date":1374832419,"answer_id":17878257,"question_id":17878091,"body_markdown":"It seems that you are using the wrong method for this. From the [documentation for `LoadingCache`][1] there are two methods:\r\n\r\n    void put(K key, V value)\r\n\r\n&gt; Associates value with key in this cache. If the cache previously\r\n&gt; contained a value associated with key, the old value is replaced by\r\n&gt; value.\r\n\r\nThis is atomic, the cache has to wait.\r\n\r\n    void refresh(K key)\r\n\r\n&gt; Loads a new value for key key, possibly asynchronously. While the new\r\n&gt; value is loading the previous value (if any) will continue to be\r\n&gt; returned by get(key) unless it is evicted\r\n\r\nYou don&#39;t say what sort of cache you are using or show any code so I don&#39;t know whether you are using a `LoadingCache`. But you need to use `refresh` for the cache to reload the value which still allowing the old value to be read.\r\n\r\n[1]: http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/cache/LoadingCache.html","title":"Guava cache allow stale reads?","body":"<p>It seems that you are using the wrong method for this. From the <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/cache/LoadingCache.html\" rel=\"nofollow\">documentation for <code>LoadingCache</code></a> there are two methods:</p>\n\n<pre><code>void put(K key, V value)\n</code></pre>\n\n<blockquote>\n  <p>Associates value with key in this cache. If the cache previously\n  contained a value associated with key, the old value is replaced by\n  value.</p>\n</blockquote>\n\n<p>This is atomic, the cache has to wait.</p>\n\n<pre><code>void refresh(K key)\n</code></pre>\n\n<blockquote>\n  <p>Loads a new value for key key, possibly asynchronously. While the new\n  value is loading the previous value (if any) will continue to be\n  returned by get(key) unless it is evicted</p>\n</blockquote>\n\n<p>You don't say what sort of cache you are using or show any code so I don't know whether you are using a <code>LoadingCache</code>. But you need to use <code>refresh</code> for the cache to reload the value which still allowing the old value to be read.</p>\n"},{"tags":[],"owner":{"account_id":109500,"reputation":626,"user_id":290095,"accept_rate":100,"display_name":"Shaun Stone"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670425996,"creation_date":1441836612,"answer_id":32489929,"question_id":17878091,"body_markdown":"yes i know this is old, but i figured this out today so heres the answer: taken from the google docs:  https://github.com/google/guava/wiki/CachesExplained#refresh\r\n\r\nkey part is that you want to refreshAfterWrite instead of expireAfterWrite\r\n\r\n    // Some keys don&#39;t need refreshing, and we want refreshes to be done      asynchronously.\r\n    LoadingCache&lt;Key, Graph&gt; graphs = CacheBuilder.newBuilder()\r\n       .maximumSize(1000)\r\n       .refreshAfterWrite(1, TimeUnit.MINUTES)\r\n       .build(\r\n           new CacheLoader&lt;Key, Graph&gt;() {\r\n             public Graph load(Key key) { // no checked exception\r\n               return getGraphFromDatabase(key);\r\n             }\r\n\r\n             public ListenableFuture&lt;Graph&gt; reload(final Key key, Graph prevGraph) {\r\n               if (neverNeedsRefresh(key)) {\r\n                 return Futures.immediateFuture(prevGraph);\r\n               } else {\r\n                 // asynchronous!\r\n                 ListenableFutureTask&lt;Graph&gt; task = ListenableFutureTask.create(new Callable&lt;Graph&gt;() {\r\n                   public Graph call() {\r\n                     return getGraphFromDatabase(key);\r\n                   }\r\n                 });\r\n                 executor.execute(task);\r\n                 return task;\r\n               }\r\n             }\r\n           });","title":"Guava cache allow stale reads?","body":"<p>yes i know this is old, but i figured this out today so heres the answer: taken from the google docs:  <a href=\"https://github.com/google/guava/wiki/CachesExplained#refresh\" rel=\"nofollow noreferrer\">https://github.com/google/guava/wiki/CachesExplained#refresh</a></p>\n<p>key part is that you want to refreshAfterWrite instead of expireAfterWrite</p>\n<pre><code>// Some keys don't need refreshing, and we want refreshes to be done      asynchronously.\nLoadingCache&lt;Key, Graph&gt; graphs = CacheBuilder.newBuilder()\n   .maximumSize(1000)\n   .refreshAfterWrite(1, TimeUnit.MINUTES)\n   .build(\n       new CacheLoader&lt;Key, Graph&gt;() {\n         public Graph load(Key key) { // no checked exception\n           return getGraphFromDatabase(key);\n         }\n\n         public ListenableFuture&lt;Graph&gt; reload(final Key key, Graph prevGraph) {\n           if (neverNeedsRefresh(key)) {\n             return Futures.immediateFuture(prevGraph);\n           } else {\n             // asynchronous!\n             ListenableFutureTask&lt;Graph&gt; task = ListenableFutureTask.create(new Callable&lt;Graph&gt;() {\n               public Graph call() {\n                 return getGraphFromDatabase(key);\n               }\n             });\n             executor.execute(task);\n             return task;\n           }\n         }\n       });\n</code></pre>\n"}],"owner":{"account_id":32722,"reputation":8502,"user_id":91012,"accept_rate":67,"display_name":"mR_fr0g"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2584,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1670425996,"creation_date":1374831931,"question_id":17878091,"body_markdown":"I am using a Guava cache hold and periodically refresh some stats that we collect from a long running database query. The problem I am seeing at the moment is that all threads have to wait for the refresh, rather than allowing the callers to get the expired cached value. Is there a way in Guava cache to allow the stale reads?\r\n\r\nThe cache is built as such \r\n\r\n     cache = CacheBuilder.&lt;DateType, List&lt;DataValueEventQuality&gt;&gt; newBuilder()\r\n                    .expireAfterWrite(cacheExpirySeconds, TimeUnit.SECONDS).build();\r\n\r\nAnd I retrieve from the cache using `cache.get(key, Callable)`","title":"Guava cache allow stale reads?","body":"<p>I am using a Guava cache hold and periodically refresh some stats that we collect from a long running database query. The problem I am seeing at the moment is that all threads have to wait for the refresh, rather than allowing the callers to get the expired cached value. Is there a way in Guava cache to allow the stale reads?</p>\n\n<p>The cache is built as such </p>\n\n<pre><code> cache = CacheBuilder.&lt;DateType, List&lt;DataValueEventQuality&gt;&gt; newBuilder()\n                .expireAfterWrite(cacheExpirySeconds, TimeUnit.SECONDS).build();\n</code></pre>\n\n<p>And I retrieve from the cache using <code>cache.get(key, Callable)</code></p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1670269608,"post_id":74693562,"comment_id":131832955,"body_markdown":"Don&#39;t. That&#39;s not what `switch` is for. Use `if`.","body":"Don&#39;t. That&#39;s not what <code>switch</code> is for. Use <code>if</code>."}],"answers":[{"tags":[],"owner":{"account_id":19392376,"reputation":44,"user_id":18708233,"display_name":"trombonedude"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670269887,"creation_date":1670269887,"answer_id":74693646,"question_id":74693562,"body_markdown":"You can&#39;t check greater then or less then in a switch statement. Switch statements only compare equality between the value and the cases. What&#39;s more, at least in older versions of java (not sure about more recent ones), you can&#39;t use variables in switch statements, they have to be known at compile time.\r\n\r\n```java\r\nif (G == r) {\r\n\r\n} else if (G &gt; r) {\r\n\r\n} else if (G &lt; r) { // you could also use an else because all other conditions are being hit\r\n\r\n}\r\n```","title":"How to compare between two variables in the switch case condition , java","body":"<p>You can't check greater then or less then in a switch statement. Switch statements only compare equality between the value and the cases. What's more, at least in older versions of java (not sure about more recent ones), you can't use variables in switch statements, they have to be known at compile time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (G == r) {\n\n} else if (G &gt; r) {\n\n} else if (G &lt; r) { // you could also use an else because all other conditions are being hit\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12346496,"reputation":168,"user_id":9007184,"display_name":"Dom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670272057,"creation_date":1670271603,"answer_id":74693969,"question_id":74693562,"body_markdown":"Like the two commends before allready sugested, switch case will only evaluate the content of one variable. To make your example work you need to take a tiny step in between: \r\nSubtract G from r and use the signnum function of the integer class to create a variable which holds the result of your number comparison: 1 == r &gt; G, 0== (r==G) and -1 == r &lt; G Then u can use this result for a switch case scenario.\r\n\r\n    Import java.util.*;\r\n    Public class Sheetswitch {\r\n    public static void main (String[] args) {\r\n    \r\n    Scanner scan = new Scanner (System.in);\r\n    \r\n    Random rand = new Random ();\r\n    \r\n    int r = rand.nextInt(9);\r\n    \r\n    int G = scan.nextInt();\r\n    \r\n    int signnum = Integer.signum(r - G);\r\n    \r\n    \r\n    switch (signnum) {\r\n    \r\n      case 0:\r\n    \r\n         sout(&quot;1&quot;)\r\n    \r\n         break;\r\n    \r\n      case 1:\r\n    \r\n         sout(&quot;2&quot;)\r\n    \r\n         break;\r\n    \r\n      case -1:\r\n    \r\n         sout(&quot;3&quot;)\r\n    \r\n         break; }\r\n    }}","title":"How to compare between two variables in the switch case condition , java","body":"<p>Like the two commends before allready sugested, switch case will only evaluate the content of one variable. To make your example work you need to take a tiny step in between:\nSubtract G from r and use the signnum function of the integer class to create a variable which holds the result of your number comparison: 1 == r &gt; G, 0== (r==G) and -1 == r &lt; G Then u can use this result for a switch case scenario.</p>\n<pre><code>Import java.util.*;\nPublic class Sheetswitch {\npublic static void main (String[] args) {\n\nScanner scan = new Scanner (System.in);\n\nRandom rand = new Random ();\n\nint r = rand.nextInt(9);\n\nint G = scan.nextInt();\n\nint signnum = Integer.signum(r - G);\n\n\nswitch (signnum) {\n\n  case 0:\n\n     sout(&quot;1&quot;)\n\n     break;\n\n  case 1:\n\n     sout(&quot;2&quot;)\n\n     break;\n\n  case -1:\n\n     sout(&quot;3&quot;)\n\n     break; }\n}}\n</code></pre>\n"}],"owner":{"account_id":27156229,"reputation":13,"user_id":20695013,"display_name":"you7"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74693969,"answer_count":2,"score":-1,"last_activity_date":1670425973,"creation_date":1670269461,"question_id":74693562,"body_markdown":"I want to use switch instead of if In one of my projects, I have two variables , one is user inserted and another is a random one , I&#39;m supposed to have a case for when the two variables are equal, a case when one is bigger and another when it is smaller , but I can&#39;t quite write it well , it keeps telling me &quot;boolean cannot be converted to int&quot; any insights on how to solve this problem? (I know it&#39;s much easier using if but i need to use switch here) Thanks a lot \r\n\r\n    import java.util.*;\r\n    public class Sheetswitch {\r\n        public static void main (String[] args) {\r\n\r\n            Scanner scan = new Scanner (System.in);\r\n    \r\n            Random rand = new Random ();\r\n\r\n            int r = rand.nextInt(9);\r\n\r\n            int G = scan.nextInt();\r\n\r\n            switch (G) {\r\n                case G==r:\r\n                    sout(&quot;1&quot;)\r\n                    break;\r\n                case G&gt;r:\r\n                    sout(&quot;2&quot;)\r\n                    break;\r\n                case G&lt;r:\r\n                    sout(&quot;3&quot;)\r\n                    break; \r\n            }\r\n        }\r\n    }","title":"How to compare between two variables in the switch case condition , java","body":"<p>I want to use switch instead of if In one of my projects, I have two variables , one is user inserted and another is a random one , I'm supposed to have a case for when the two variables are equal, a case when one is bigger and another when it is smaller , but I can't quite write it well , it keeps telling me &quot;boolean cannot be converted to int&quot; any insights on how to solve this problem? (I know it's much easier using if but i need to use switch here) Thanks a lot</p>\n<pre><code>import java.util.*;\npublic class Sheetswitch {\n    public static void main (String[] args) {\n\n        Scanner scan = new Scanner (System.in);\n\n        Random rand = new Random ();\n\n        int r = rand.nextInt(9);\n\n        int G = scan.nextInt();\n\n        switch (G) {\n            case G==r:\n                sout(&quot;1&quot;)\n                break;\n            case G&gt;r:\n                sout(&quot;2&quot;)\n                break;\n            case G&lt;r:\n                sout(&quot;3&quot;)\n                break; \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","rest","spring-boot","openapi-generator"],"comments":[{"owner":{"account_id":135385,"reputation":1785,"user_id":457589,"display_name":"Julien"},"score":0,"creation_date":1618325346,"post_id":60206115,"comment_id":118564566,"body_markdown":"this is reported here https://github.com/OpenAPITools/openapi-generator/issues/6677","body":"this is reported here <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/6677\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/issues/6677</a>"},{"owner":{"account_id":135385,"reputation":1785,"user_id":457589,"display_name":"Julien"},"score":0,"creation_date":1618386910,"post_id":60206115,"comment_id":118582891,"body_markdown":"and actually fixed in `5.x.x` https://github.com/OpenAPITools/openapi-generator/pull/5573","body":"and actually fixed in <code>5.x.x</code> <a href=\"https://github.com/OpenAPITools/openapi-generator/pull/5573\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/pull/5573</a>"}],"answers":[{"tags":[],"owner":{"account_id":11878643,"reputation":1,"user_id":13489532,"display_name":"segadev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670425833,"creation_date":1670424132,"answer_id":74718430,"question_id":60206115,"body_markdown":"redefine in your `CONTROLLER` this parameter\r\n```\r\n@RequestPart(&quot;document&quot;) on @RequestPart(value = &quot;document&quot;, required = false)\r\n```\r\n\r\n","title":"OpenAPI 3 / Spring Boot @RequestPart is not optional","body":"<p>redefine in your <code>CONTROLLER</code> this parameter</p>\n<pre><code>@RequestPart(&quot;document&quot;) on @RequestPart(value = &quot;document&quot;, required = false)\n</code></pre>\n"}],"owner":{"account_id":10868535,"reputation":21,"user_id":7991162,"display_name":"dpustula_9cube"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2429,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670425833,"creation_date":1581591191,"question_id":60206115,"body_markdown":"I have a little problem with creating upload path in my API. \r\nIn example :\r\n```\r\n/test/upload:\r\n    post:\r\n      operationId: post form attachemnts\r\n      requestBody:\r\n        content:\r\n          multipart/form-data: \r\n            schema:            \r\n              type: object\r\n              required:\r\n                - testId\r\n              properties:\r\n                testId:\r\n                  type: string\r\n                  example: 1\r\n                document:\r\n                  type: string\r\n                  format: binary\r\n```\r\nI want to send testId (Required - this is ok), but my document (jpg,pdf) must be optional.\r\n\r\nPiece of code created by openapi-generator-maven-plugin:4.2.3:\r\n```\r\n@RequestParam(value=&quot;testId&quot;, required=true)  String testId,@ApiParam(value = &quot;&quot;) @Valid @RequestPart(&quot;document&quot;) MultipartFile document\r\n```\r\n\r\nWhen i send post in postman with filled testId only, I recive :\r\n`&quot;Required request part &#39;document&#39; is not present&quot;`\r\n\r\nI think problem is in part `@RequestPart(&quot;document&quot;) MultipartFile document` and correct code generated should look like this `@RequestPart(value=&quot;document&quot;, required=false) MultipartFile document`. But how achive this?\r\n \r\nDocument created in Swagger Editor, OpenAPI 3.0.2, SB 2.2.1.RELEASE\r\nDeclared dependencies :\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n    &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.squareup.okhttp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.squareup.okhttp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;logging-interceptor&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    &lt;version&gt;2.8.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n    &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n    &lt;version&gt;2.10.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    &lt;version&gt;2.10.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;version&gt;2.10.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\r\n    &lt;version&gt;0.2.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    &lt;type&gt;jar&lt;/type&gt;\r\n    &lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.threeten&lt;/groupId&gt;\r\n    &lt;artifactId&gt;threetenbp&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.gsonfire&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gson-fire&lt;/artifactId&gt;\r\n    &lt;version&gt;1.7.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"OpenAPI 3 / Spring Boot @RequestPart is not optional","body":"<p>I have a little problem with creating upload path in my API. \nIn example :</p>\n\n<pre><code>/test/upload:\n    post:\n      operationId: post form attachemnts\n      requestBody:\n        content:\n          multipart/form-data: \n            schema:            \n              type: object\n              required:\n                - testId\n              properties:\n                testId:\n                  type: string\n                  example: 1\n                document:\n                  type: string\n                  format: binary\n</code></pre>\n\n<p>I want to send testId (Required - this is ok), but my document (jpg,pdf) must be optional.</p>\n\n<p>Piece of code created by openapi-generator-maven-plugin:4.2.3:</p>\n\n<pre><code>@RequestParam(value=\"testId\", required=true)  String testId,@ApiParam(value = \"\") @Valid @RequestPart(\"document\") MultipartFile document\n</code></pre>\n\n<p>When i send post in postman with filled testId only, I recive :\n<code>\"Required request part 'document' is not present\"</code></p>\n\n<p>I think problem is in part <code>@RequestPart(\"document\") MultipartFile document</code> and correct code generated should look like this <code>@RequestPart(value=\"document\", required=false) MultipartFile document</code>. But how achive this?</p>\n\n<p>Document created in Swagger Editor, OpenAPI 3.0.2, SB 2.2.1.RELEASE\nDeclared dependencies :</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n    &lt;version&gt;1.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp&lt;/groupId&gt;\n    &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n    &lt;version&gt;2.7.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp&lt;/groupId&gt;\n    &lt;artifactId&gt;logging-interceptor&lt;/artifactId&gt;\n    &lt;version&gt;2.7.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.8.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;joda-time&lt;/groupId&gt;\n    &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n    &lt;version&gt;2.10.5&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;2.10.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.10.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\n    &lt;version&gt;0.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n    &lt;version&gt;1.1.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.threeten&lt;/groupId&gt;\n    &lt;artifactId&gt;threetenbp&lt;/artifactId&gt;\n    &lt;version&gt;1.4.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.gsonfire&lt;/groupId&gt;\n    &lt;artifactId&gt;gson-fire&lt;/artifactId&gt;\n    &lt;version&gt;1.7.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","devops","confluent-cloud"],"answers":[{"tags":[],"owner":{"account_id":27179356,"reputation":1,"user_id":20714849,"display_name":"Dugong42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670425754,"creation_date":1670425754,"answer_id":74718824,"question_id":74222825,"body_markdown":"There are a few examples [here][1] but the documentation is clearly lacking a comprehensive list.\r\n\r\nThis page lists some [important configuration values][2].\r\n\r\n\r\n  [1]: https://github.com/kafka-ops/julie/blob/master/src/main/conf/topology-builder.properties\r\n  [2]: https://julieops.readthedocs.io/en/latest/config-values.html","title":"How to provide jar parameters to Julieops for confluent kafka?","body":"<p>There are a few examples <a href=\"https://github.com/kafka-ops/julie/blob/master/src/main/conf/topology-builder.properties\" rel=\"nofollow noreferrer\">here</a> but the documentation is clearly lacking a comprehensive list.</p>\n<p>This page lists some <a href=\"https://julieops.readthedocs.io/en/latest/config-values.html\" rel=\"nofollow noreferrer\">important configuration values</a>.</p>\n"}],"owner":{"account_id":12252390,"reputation":21,"user_id":9683478,"display_name":"Arsany"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670425754,"creation_date":1666877103,"question_id":74222825,"body_markdown":"I am trying to use julieops to create kafka infrastructure on Confluent\r\n\r\nhttps://github.com/kafka-ops/julie\r\n\r\nI am trying to run the julie-ops.jar file but don&#39;t know how to fill out the parameters in the screenshot (no documentation).\r\n\r\nHow to provide the indicated parameters in the screenshot below.\r\n\r\nFor example, where can I find a sample file for “clientConfig” parameter, how can I know the accepted structure of the file?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4r1aA.png","title":"How to provide jar parameters to Julieops for confluent kafka?","body":"<p>I am trying to use julieops to create kafka infrastructure on Confluent</p>\n<p><a href=\"https://github.com/kafka-ops/julie\" rel=\"nofollow noreferrer\">https://github.com/kafka-ops/julie</a></p>\n<p>I am trying to run the julie-ops.jar file but don't know how to fill out the parameters in the screenshot (no documentation).</p>\n<p>How to provide the indicated parameters in the screenshot below.</p>\n<p>For example, where can I find a sample file for “clientConfig” parameter, how can I know the accepted structure of the file?</p>\n<p><a href=\"https://i.stack.imgur.com/4r1aA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4r1aA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading","concurrency","parallel-processing","multitasking"],"comments":[{"owner":{"account_id":6864597,"reputation":1009,"user_id":5277514,"display_name":"dabaicai"},"score":0,"creation_date":1507374260,"post_id":46619223,"comment_id":80189993,"body_markdown":"The java thread is not mapped to cpu thread,but mapped to kernel thread or user thread,it depends the jvm implementation.Different jvm implementation has different thread model,the jvm specification don’t stipulate it.The Oracle jvm hotspot use the 1:1(mapped to kernel) thread model.other jvm has M:1(mapped to user thread),M:N thread model.","body":"The java thread is not mapped to cpu thread,but mapped to kernel thread or user thread,it depends the jvm implementation.Different jvm implementation has different thread model,the jvm specification don’t stipulate it.The Oracle jvm hotspot use the 1:1(mapped to kernel) thread model.other jvm has M:1(mapped to user thread),M:N thread model."},{"owner":{"account_id":2846759,"reputation":3710,"user_id":2444921,"accept_rate":50,"display_name":"Sachin Verma"},"score":0,"creation_date":1507375426,"post_id":46619223,"comment_id":80190252,"body_markdown":"@dabaicai can you refer me to any descriptive article that explains how threads in JVM or .NET are executed from CPU&#39;s perspective?","body":"@dabaicai can you refer me to any descriptive article that explains how threads in JVM or .NET are executed from CPU&#39;s perspective?"},{"owner":{"account_id":6864597,"reputation":1009,"user_id":5277514,"display_name":"dabaicai"},"score":0,"creation_date":1507376467,"post_id":46619223,"comment_id":80190523,"body_markdown":"you can see the article [threading](http://blog.narmnevis.com/2010/11/how-does-jvm-map-a-java-thread-to-a-native-thread/),and there some other article on the end of it.","body":"you can see the article <a href=\"http://blog.narmnevis.com/2010/11/how-does-jvm-map-a-java-thread-to-a-native-thread/\" rel=\"nofollow noreferrer\">threading</a>,and there some other article on the end of it."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1507378746,"post_id":46619223,"comment_id":80191029,"body_markdown":"I think you should read the Wikipedia article on [threads](https://en.wikipedia.org/wiki/Thread_(computing)).  Some of the terminology that you have used is rather wrong.  (And Intel hyperthreads are NOT threads at all.)","body":"I think you should read the Wikipedia article on <a href=\"https://en.wikipedia.org/wiki/Thread_(computing)\" rel=\"nofollow noreferrer\">threads</a>.  Some of the terminology that you have used is rather wrong.  (And Intel hyperthreads are NOT threads at all.)"},{"owner":{"account_id":4200525,"reputation":61370,"user_id":3440745,"display_name":"Tsyvarev"},"score":0,"creation_date":1507404036,"post_id":46619223,"comment_id":80198905,"body_markdown":"`I understand how wide this question can be but I can live with brief info and link to any detailed documentation.` - For avoid &quot;too broad&quot; you mark your question as off-topic because of &quot;resource request&quot;. Actually, as others noted, your question has so many misconceptions, so it is unclear how to ask on it in a brief manner.","body":"<code>I understand how wide this question can be but I can live with brief info and link to any detailed documentation.</code> - For avoid &quot;too broad&quot; you mark your question as off-topic because of &quot;resource request&quot;. Actually, as others noted, your question has so many misconceptions, so it is unclear how to ask on it in a brief manner."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1507424303,"post_id":46619223,"comment_id":80203636,"body_markdown":"*&quot;Actually, as others noted, your question has so many misconceptions, so it is unclear how to ask on it in a brief manner.&quot;* - and that is part of why it is Too Broad.  Basically, go back and do your research again ... and try to stick to a credible, high quality sources that use proper terminology.","body":"<i>&quot;Actually, as others noted, your question has so many misconceptions, so it is unclear how to ask on it in a brief manner.&quot;</i> - and that is part of why it is Too Broad.  Basically, go back and do your research again ... and try to stick to a credible, high quality sources that use proper terminology."}],"answers":[{"tags":[],"owner":{"account_id":9151100,"reputation":733,"user_id":6805653,"accept_rate":57,"display_name":"Shukant Pal"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1670425627,"creation_date":1510238754,"answer_id":47204746,"question_id":46619223,"body_markdown":"**1. Intel Hyperthreading** - It is a technology developed by Intel to improve the efficiency of one core because in a lot of its execution time, the CPU waits for retrieving data &amp; code from RAM. The operating system views hyperthreading-cores as two logical processors, each containing separate registers.\r\n\r\n**2. Kernel Threads -** These are managed by the OS-kernel and are scheduled in kernel mode only. They are attached to registers &amp; EIP along with some attributes. These are created and managed by the process by using some &quot;defined&quot; interfaces by the kernel.\r\n\r\n**3. User Threads** - These are created by the userspace process are executed on a kernel thread (because only a kernel one can be scheduled). But multiple user-threads can take turns for executing on a kernel thread, and giving better performance for &#39;temporary&#39; threads that come &amp; go, due to time saved by not making a system call.\r\n\r\n**4. OS Threads** - OS threads don&#39;t have a proper definition to my knowledge. They can be threads used by the OS, or just kernel threads.\r\n\r\nThere are multiple models by which user-threads execute on kernel-threads - one-to-one, m-to-n &amp; all-to-one, you can google these.","title":"Difference between CPU threads, Kernel threads, OS threads, user threads","body":"<p><strong>1. Intel Hyperthreading</strong> - It is a technology developed by Intel to improve the efficiency of one core because in a lot of its execution time, the CPU waits for retrieving data &amp; code from RAM. The operating system views hyperthreading-cores as two logical processors, each containing separate registers.</p>\n<p><strong>2. Kernel Threads -</strong> These are managed by the OS-kernel and are scheduled in kernel mode only. They are attached to registers &amp; EIP along with some attributes. These are created and managed by the process by using some &quot;defined&quot; interfaces by the kernel.</p>\n<p><strong>3. User Threads</strong> - These are created by the userspace process are executed on a kernel thread (because only a kernel one can be scheduled). But multiple user-threads can take turns for executing on a kernel thread, and giving better performance for 'temporary' threads that come &amp; go, due to time saved by not making a system call.</p>\n<p><strong>4. OS Threads</strong> - OS threads don't have a proper definition to my knowledge. They can be threads used by the OS, or just kernel threads.</p>\n<p>There are multiple models by which user-threads execute on kernel-threads - one-to-one, m-to-n &amp; all-to-one, you can google these.</p>\n"}],"owner":{"account_id":2846759,"reputation":3710,"user_id":2444921,"accept_rate":50,"display_name":"Sachin Verma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3906,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":1,"score":9,"last_activity_date":1670425627,"creation_date":1507372499,"question_id":46619223,"body_markdown":"I&#39;ve been reading a lot about how parallelism is different than concurrency, but I&#39;m having a lot of questions like how can I achieve a parallelism with a programming language like Java?\r\n\r\nWhat I understood so far is with a VM like Java we can only achieve concurrency and parallelism is not in scope of JVM, it&#39;s threads mapped to  ( I&#39;m confused here ) OS threads or Kernel threads?\r\n\r\nTo understand the multi-threading one needs to understand how the threads of a VM ( JVM ) or a process are actually mapped down to the CPU hardware. Please help here.\r\n\r\nCorrect me if I&#39;m wrong, here are few things I think I understand right:\r\n\r\n**1. CPU threads** ( Intel hyper-threading ): Hardware threads provided by adding more registers in CPU having same ALU, so do not actually behave as a dual-CPU ( if 2 threads are there in CPU ) and a &quot;just&quot;-concurrent use of ALU can just mask ( hide by an interleaved MUXing ) a principal inability to deliver indeed a true parallel code-execution.  \r\n\r\n**2. Kernel threads**: Started by Kernel and these can be more in number than CPU threads but are a bit expensive to start.  \r\n\r\n**3. OS threads**: I don&#39;t understand it.  I&#39;m guessing this is what you mean when you call native threads and probably same as previous #2 ie Kernel threads.\r\n\r\n**4. User threads**: Just like `new Thread()` in JVM or .NET. I think they are not recognized as threads by OS so nothing much can be done here from the parallelism perspective. \r\n\r\nI need to understand how threads created in #4 are mapped to #1, may be with examples to Windows/Linux/MacOS.\r\n\r\nGuys, I understand how wide this question can be but I can live with brief info and link to any detailed documentation. Thanks in advance.","title":"Difference between CPU threads, Kernel threads, OS threads, user threads","body":"<p>I've been reading a lot about how parallelism is different than concurrency, but I'm having a lot of questions like how can I achieve a parallelism with a programming language like Java?</p>\n\n<p>What I understood so far is with a VM like Java we can only achieve concurrency and parallelism is not in scope of JVM, it's threads mapped to  ( I'm confused here ) OS threads or Kernel threads?</p>\n\n<p>To understand the multi-threading one needs to understand how the threads of a VM ( JVM ) or a process are actually mapped down to the CPU hardware. Please help here.</p>\n\n<p>Correct me if I'm wrong, here are few things I think I understand right:</p>\n\n<p><strong>1. CPU threads</strong> ( Intel hyper-threading ): Hardware threads provided by adding more registers in CPU having same ALU, so do not actually behave as a dual-CPU ( if 2 threads are there in CPU ) and a \"just\"-concurrent use of ALU can just mask ( hide by an interleaved MUXing ) a principal inability to deliver indeed a true parallel code-execution.  </p>\n\n<p><strong>2. Kernel threads</strong>: Started by Kernel and these can be more in number than CPU threads but are a bit expensive to start.  </p>\n\n<p><strong>3. OS threads</strong>: I don't understand it.  I'm guessing this is what you mean when you call native threads and probably same as previous #2 ie Kernel threads.</p>\n\n<p><strong>4. User threads</strong>: Just like <code>new Thread()</code> in JVM or .NET. I think they are not recognized as threads by OS so nothing much can be done here from the parallelism perspective. </p>\n\n<p>I need to understand how threads created in #4 are mapped to #1, may be with examples to Windows/Linux/MacOS.</p>\n\n<p>Guys, I understand how wide this question can be but I can live with brief info and link to any detailed documentation. Thanks in advance.</p>\n"},{"tags":["python","java","jaydebeapi"],"answers":[{"tags":[],"owner":{"account_id":6968293,"reputation":11,"user_id":5345489,"display_name":"THEdude"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670326179,"creation_date":1670326179,"answer_id":74701742,"question_id":74642080,"body_markdown":"Have you tried:\r\n\r\n - Reinstalling Java\r\n - Copying the `jvm.dll` file over in `C:\\Program\r\n   Files\\Java\\jre1.8.0_60\\bin\\server\\` from your personal PC into that\r\n   same location on the server.\r\n\r\n","title":"How to solve OSError: [WinError 126] JVM DLL not found when trying to use jaydebeapi in python 3.11 to make a database connection","body":"<p>Have you tried:</p>\n<ul>\n<li>Reinstalling Java</li>\n<li>Copying the <code>jvm.dll</code> file over in <code>C:\\Program Files\\Java\\jre1.8.0_60\\bin\\server\\</code> from your personal PC into that\nsame location on the server.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":27111101,"reputation":11,"user_id":20656249,"display_name":"Waldo Gerber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670425331,"creation_date":1670425331,"answer_id":74718724,"question_id":74642080,"body_markdown":"SOLVED: \r\n\r\nI began to suspect that the version of Java that I installed required an internet connection so I downloaded a different version of java (jdk-8u341-windows-x64 offline) and installed that. After doing this I corrected the JAVA_HOME path and this ended up solving the problem.","title":"How to solve OSError: [WinError 126] JVM DLL not found when trying to use jaydebeapi in python 3.11 to make a database connection","body":"<p>SOLVED:</p>\n<p>I began to suspect that the version of Java that I installed required an internet connection so I downloaded a different version of java (jdk-8u341-windows-x64 offline) and installed that. After doing this I corrected the JAVA_HOME path and this ended up solving the problem.</p>\n"}],"owner":{"account_id":27111101,"reputation":11,"user_id":20656249,"display_name":"Waldo Gerber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74718724,"answer_count":2,"score":1,"last_activity_date":1670425396,"creation_date":1669898713,"question_id":74642080,"body_markdown":"I am trying to make a database connection using the Jaydebeapi package in Python3. My setup is running on a windows 2016 server. I have Java 8 and JDK installed. When I execute my script it returns the below error:\r\n\r\n\r\n```\r\nOSError: [WinError 126] JVM DLL not found: C:\\Program Files\\Java\\jre1.8.0_60\\bin\\server\\jvm.dll\r\n```\r\n\r\nWhen I run the script on my personal PC it works fine and I am using all the same software versions.\r\n\r\nI can&#39;t find a solution anywhere else online.","title":"How to solve OSError: [WinError 126] JVM DLL not found when trying to use jaydebeapi in python 3.11 to make a database connection","body":"<p>I am trying to make a database connection using the Jaydebeapi package in Python3. My setup is running on a windows 2016 server. I have Java 8 and JDK installed. When I execute my script it returns the below error:</p>\n<pre><code>OSError: [WinError 126] JVM DLL not found: C:\\Program Files\\Java\\jre1.8.0_60\\bin\\server\\jvm.dll\n</code></pre>\n<p>When I run the script on my personal PC it works fine and I am using all the same software versions.</p>\n<p>I can't find a solution anywhere else online.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","h2"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670425365,"creation_date":1670425365,"answer_id":74718730,"question_id":74718419,"body_markdown":"***First problem:***\r\n\r\nYou don&#39;t need the `@JoinColumn` (which is wrong)\r\n\r\nSimply use this:\r\n\r\n\t@OneToOne(cascade=CascadeType.ALL)\r\n\tprivate UserProfile userProfile;\r\n\r\n***Second problem:***\r\n\r\nYour data.sql contains DDL (Create etc) and DML (insert etc) but this should only contain DML.\r\n\r\nAs you have set\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nthe tables will be generated by Hibernate. You only need to insert data.","title":"org.h2.jdbc.JdbcSQLSyntaxErrorException : Column &quot;USER0_.PROFILE_ID&quot; not found; SQL statement:","body":"<p><em><strong>First problem:</strong></em></p>\n<p>You don't need the <code>@JoinColumn</code> (which is wrong)</p>\n<p>Simply use this:</p>\n<pre><code>@OneToOne(cascade=CascadeType.ALL)\nprivate UserProfile userProfile;\n</code></pre>\n<p><em><strong>Second problem:</strong></em></p>\n<p>Your data.sql contains DDL (Create etc) and DML (insert etc) but this should only contain DML.</p>\n<p>As you have set</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>the tables will be generated by Hibernate. You only need to insert data.</p>\n"}],"owner":{"account_id":24015114,"reputation":109,"user_id":20077835,"display_name":"vitoriac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1050,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74718730,"answer_count":1,"score":0,"last_activity_date":1670425365,"creation_date":1670424107,"question_id":74718419,"body_markdown":"I&#39;m currently building an application that has an user logic, and I&#39;ve been trying to build simple methods and just 1 mock on the database but I can&#39;t seem to make ANY requests through the api. But, I am able to access h2 database and the user I created for testing is there: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IVzZS.png\r\n\r\nthis is the error I get when I try to make requests:\r\n\r\norg.h2.jdbc.JdbcSQLSyntaxErrorException: Column &quot;USER0_.PROFILE_ID&quot; not found; SQL statement:\r\nselect user0_.user_id as user_id1_1_, user0_.user_email as user_ema2_1_, user0_.user_name as user_nam3_1_, user0_.password as password4_1_, user0_.profile_id as profile_5_1_ from table_user user0_ [42122-214]\r\n\r\nthis is my User model (theres also the getters and setters and constructors but I wont put them here):\r\n\r\n    @Entity\r\n    @Table(name=&quot;table_user&quot;)\r\n    public class User implements Serializable{\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@Column(name=&quot;user_name&quot;)\r\n    \tprivate String name;\r\n    \t\r\n    \t@Column(name=&quot;user_email&quot;, unique=true)\r\n    \tprivate String email;\r\n    \t\r\n    \t@Column(name=&quot;password&quot;)\r\n    \tprivate String password;\r\n    \t\r\n    \t@Column(name=&quot;user_id&quot;)\r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate Integer id;\r\n    \t\r\n    \t@OneToOne(cascade=CascadeType.ALL)\r\n    \t@JoinColumn(name=&quot;profile_id&quot;)\r\n    \tprivate UserProfile userProfile;\r\n    \t\r\n\r\nthis is my controller:\r\n\r\n    @RestController\r\n    @RequestMapping(value=&quot;/users&quot;, produces=&quot;application/json&quot;)\r\n    public class UserController {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate TheUserRepository repo;\r\n    \t\r\n    \t@GetMapping\r\n    \tpublic ResponseEntity&lt;List&lt;User&gt;&gt; findAll(){\r\n    \t\tList&lt;User&gt; users= repo.findAll();\r\n    \t\treturn ResponseEntity.ok().body(users);\r\n    \t}\r\n    \t\r\n    \t@GetMapping(value=&quot;/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;Optional&lt;User&gt;&gt; findById(@PathVariable Integer id){\r\n    \t\tOptional&lt;User&gt; user=repo.findById(id);\r\n    \t\treturn ResponseEntity.ok().body(user);\r\n    \t}\r\n    \t\r\n    \t@GetMapping(value=&quot;emails/{email}&quot;)\r\n    \tpublic ResponseEntity&lt;User&gt; doesEmailExist(User user){\r\n    \t\tString email=user.getEmail();\r\n    \t\tdoesUserExist(email);\r\n    \t\treturn ResponseEntity.ok().body(user);\r\n    \t}\r\n    \t\r\n    \tprivate boolean doesUserExist(String email) {\r\n    \t\tif (repo.findByEmail(email) != null) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@PostMapping\r\n    \tpublic ResponseEntity&lt;String&gt; insert(@RequestBody User user){\r\n    \t\tUser entity=repo.findByEmail(user.getEmail());\r\n    \t\tif(entity==null) {\r\n    \t\t\trepo.save(entity);\r\n    \t\t\treturn ResponseEntity.status(HttpStatus.CREATED).body(&quot;USER SUCESSFULLY CREATED&quot;);\r\n    \t\t}else {\r\n    \t\t\treturn ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;AN USER ASSOCIATED TO THIS EMAIL ALREADY EXISTS&quot;);\r\n    \t\t}\t\r\n    \t}\r\n    \t\r\n    \t@PutMapping(value=&quot;/updateName/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;User&gt; updateName(@PathVariable Integer id, @RequestBody User user){\r\n    \t\tUser updatedName=user;\r\n    \t\tupdatedName.setName(user.getName());\r\n    \t\trepo.save(updatedName);\r\n    \t\treturn ResponseEntity.ok().body(updatedName);\r\n    \t}\r\n    \t\r\n    \t@PutMapping(value=&quot;/updatePassword/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;User&gt; updatePassword(@PathVariable Integer id, @RequestBody User user){\r\n    \t\tUser updatedPassword=user;\r\n    \t\tupdatedPassword.setName(user.getPassword());\r\n    \t\trepo.save(updatedPassword);\r\n    \t\treturn ResponseEntity.ok().body(updatedPassword);\r\n    \t}\r\n    \t\r\n    \t@DeleteMapping(value=&quot;/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;User&gt; delete(@PathVariable Integer id){\r\n    \t\trepo.deleteById(id);\r\n    \t\treturn ResponseEntity.noContent().build();\r\n    \t}\r\n    }\r\n\r\nthis is my application.properties:\r\n\r\n\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    \r\n    \r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    \r\n    spring.jpa.defer-datasource-initialization=true\r\n    \r\n    \r\n    spring.h2.console.enabled=true\r\n    spring.h2.console.path=/h2-console\r\n    \r\n    spring.application.name=currency-exchange-service\r\n    server.port= 8080\r\n    \r\n    \r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.properties.hibernate.hbm2ddl.auto=update\r\n\r\n\r\nand my data.sql:\r\n\r\n    DROP TABLE IF EXISTS `TABLE_USER`;\r\n    \r\n    CREATE TABLE  `TABLE_USER`(\r\n    \t`USER_NAME` varchar(250) NOT NULL,\r\n    \t`USER_EMAIL` varchar(250) NOT NULL,\r\n    \t`PASSWORD` varchar(250) NOT NULL,\r\n    \t`USER_ID` int AUTO_INCREMENT PRIMARY KEY,\r\n    \t`USER_PROFILE` varchar(250)\r\n    );\r\n    \r\n    INSERT INTO `TABLE_USER` (`USER_NAME`, `USER_EMAIL`, `PASSWORD`, `USER_PROFILE`)\r\n    VALUES (&#39;vit&#243;ria&#39;, &#39;vitoria@gmail.com&#39;, &#39;testing&#39;, &#39;testing&#39;);\r\n\r\n\r\nthank you so much in advance for anyone who tries to help! \r\n\r\n\r\n\r\nif theres anything I&#39;ve left out, it could probably be here: https://github.com/vitoriaacarvalho/recommend-me-a-show/tree/main/recommend-me-a-show\r\n","title":"org.h2.jdbc.JdbcSQLSyntaxErrorException : Column &quot;USER0_.PROFILE_ID&quot; not found; SQL statement:","body":"<p>I'm currently building an application that has an user logic, and I've been trying to build simple methods and just 1 mock on the database but I can't seem to make ANY requests through the api. But, I am able to access h2 database and the user I created for testing is there:</p>\n<p><a href=\"https://i.stack.imgur.com/IVzZS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IVzZS.png\" alt=\"enter image description here\" /></a></p>\n<p>this is the error I get when I try to make requests:</p>\n<p>org.h2.jdbc.JdbcSQLSyntaxErrorException: Column &quot;USER0_.PROFILE_ID&quot; not found; SQL statement:\nselect user0_.user_id as user_id1_1_, user0_.user_email as user_ema2_1_, user0_.user_name as user_nam3_1_, user0_.password as password4_1_, user0_.profile_id as profile_5_1_ from table_user user0_ [42122-214]</p>\n<p>this is my User model (theres also the getters and setters and constructors but I wont put them here):</p>\n<pre><code>@Entity\n@Table(name=&quot;table_user&quot;)\npublic class User implements Serializable{\n    private static final long serialVersionUID = 1L;\n    \n    @Column(name=&quot;user_name&quot;)\n    private String name;\n    \n    @Column(name=&quot;user_email&quot;, unique=true)\n    private String email;\n    \n    @Column(name=&quot;password&quot;)\n    private String password;\n    \n    @Column(name=&quot;user_id&quot;)\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer id;\n    \n    @OneToOne(cascade=CascadeType.ALL)\n    @JoinColumn(name=&quot;profile_id&quot;)\n    private UserProfile userProfile;\n    \n</code></pre>\n<p>this is my controller:</p>\n<pre><code>@RestController\n@RequestMapping(value=&quot;/users&quot;, produces=&quot;application/json&quot;)\npublic class UserController {\n    \n    @Autowired\n    private TheUserRepository repo;\n    \n    @GetMapping\n    public ResponseEntity&lt;List&lt;User&gt;&gt; findAll(){\n        List&lt;User&gt; users= repo.findAll();\n        return ResponseEntity.ok().body(users);\n    }\n    \n    @GetMapping(value=&quot;/{id}&quot;)\n    public ResponseEntity&lt;Optional&lt;User&gt;&gt; findById(@PathVariable Integer id){\n        Optional&lt;User&gt; user=repo.findById(id);\n        return ResponseEntity.ok().body(user);\n    }\n    \n    @GetMapping(value=&quot;emails/{email}&quot;)\n    public ResponseEntity&lt;User&gt; doesEmailExist(User user){\n        String email=user.getEmail();\n        doesUserExist(email);\n        return ResponseEntity.ok().body(user);\n    }\n    \n    private boolean doesUserExist(String email) {\n        if (repo.findByEmail(email) != null) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    \n    @PostMapping\n    public ResponseEntity&lt;String&gt; insert(@RequestBody User user){\n        User entity=repo.findByEmail(user.getEmail());\n        if(entity==null) {\n            repo.save(entity);\n            return ResponseEntity.status(HttpStatus.CREATED).body(&quot;USER SUCESSFULLY CREATED&quot;);\n        }else {\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;AN USER ASSOCIATED TO THIS EMAIL ALREADY EXISTS&quot;);\n        }   \n    }\n    \n    @PutMapping(value=&quot;/updateName/{id}&quot;)\n    public ResponseEntity&lt;User&gt; updateName(@PathVariable Integer id, @RequestBody User user){\n        User updatedName=user;\n        updatedName.setName(user.getName());\n        repo.save(updatedName);\n        return ResponseEntity.ok().body(updatedName);\n    }\n    \n    @PutMapping(value=&quot;/updatePassword/{id}&quot;)\n    public ResponseEntity&lt;User&gt; updatePassword(@PathVariable Integer id, @RequestBody User user){\n        User updatedPassword=user;\n        updatedPassword.setName(user.getPassword());\n        repo.save(updatedPassword);\n        return ResponseEntity.ok().body(updatedPassword);\n    }\n    \n    @DeleteMapping(value=&quot;/{id}&quot;)\n    public ResponseEntity&lt;User&gt; delete(@PathVariable Integer id){\n        repo.deleteById(id);\n        return ResponseEntity.noContent().build();\n    }\n}\n</code></pre>\n<p>this is my application.properties:</p>\n<pre><code>spring.datasource.driverClassName=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.username=sa\nspring.datasource.password=\n\n\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.hibernate.ddl-auto=update\n\nspring.jpa.defer-datasource-initialization=true\n\n\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2-console\n\nspring.application.name=currency-exchange-service\nserver.port= 8080\n\n\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.hbm2ddl.auto=update\n</code></pre>\n<p>and my data.sql:</p>\n<pre><code>DROP TABLE IF EXISTS `TABLE_USER`;\n\nCREATE TABLE  `TABLE_USER`(\n    `USER_NAME` varchar(250) NOT NULL,\n    `USER_EMAIL` varchar(250) NOT NULL,\n    `PASSWORD` varchar(250) NOT NULL,\n    `USER_ID` int AUTO_INCREMENT PRIMARY KEY,\n    `USER_PROFILE` varchar(250)\n);\n\nINSERT INTO `TABLE_USER` (`USER_NAME`, `USER_EMAIL`, `PASSWORD`, `USER_PROFILE`)\nVALUES ('vitória', 'vitoria@gmail.com', 'testing', 'testing');\n</code></pre>\n<p>thank you so much in advance for anyone who tries to help!</p>\n<p>if theres anything I've left out, it could probably be here: <a href=\"https://github.com/vitoriaacarvalho/recommend-me-a-show/tree/main/recommend-me-a-show\" rel=\"nofollow noreferrer\">https://github.com/vitoriaacarvalho/recommend-me-a-show/tree/main/recommend-me-a-show</a></p>\n"},{"tags":["java","kubernetes","cron"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670426318,"post_id":74718690,"comment_id":131874451,"body_markdown":"Firstly: *java -jar /app.jar* You&#39;re aware that&#39;s addressing a jar in the root of the file system? It should almost certainly not be there. Let&#39;s say it can go in your home dir. It might be worth an experiment of `java &quot;$@&quot; -jar /home/someone/app.jar`","body":"Firstly: <i>java -jar /app.jar</i> You&#39;re aware that&#39;s addressing a jar in the root of the file system? It should almost certainly not be there. Let&#39;s say it can go in your home dir. It might be worth an experiment of <code>java &quot;$@&quot; -jar &#47;home&#47;someone&#47;app.jar</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670426963,"post_id":74718690,"comment_id":131874739,"body_markdown":"Not knowing the software you&#39;re using though, I don&#39;t know that script would get the parameters in my example","body":"Not knowing the software you&#39;re using though, I don&#39;t know that script would get the parameters in my example"}],"owner":{"account_id":17636641,"reputation":95,"user_id":12799787,"display_name":"ah_ben"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670425173,"creation_date":1670425173,"question_id":74718690,"body_markdown":"I have deployed a Kubernetes cron job that executes a java jar.\r\n\r\n```\r\napiVersion: batch/v1\r\nkind: CronJob\r\nmetadata:\r\n  name: my-cron-job\r\n  namespace: test\r\n  labels:\r\n    app: my-cron-job\r\n    release: dev\r\n    tiers: backend\r\nspec:\r\n  jobTemplate:\r\n    spec:\r\n      template:\r\n        spec:\r\n          containers:\r\n            - name: app_name\r\n              image: docker-image\r\n              command: [&quot;/bin/bash&quot;, &quot;-c&quot;]\r\n              args:\r\n                - |\r\n                  java -jar /app.jar\r\n              env:\r\n                - name: USER\r\n                  valueFrom:\r\n                    secretKeyRef:\r\n                      name: secrets\r\n                      key: user\r\n                - name: PASSWORD\r\n                  valueFrom:\r\n                    secretKeyRef:\r\n                      name: secrets\r\n                      key: pwd\r\n              resources:\r\n                requests:\r\n                  memory: &quot;20Mi&quot;\r\n                  cpu: &quot;50m&quot;\r\n                limits:\r\n                  memory: &quot;20Mi&quot;\r\n\r\n  schedule: &quot;0 0 * * *&quot;\r\n  concurrencyPolicy: Forbid\r\n```\r\n\r\nFor testing, I&#39;d like to execute this cron job as a one time job while passing certain args to the java jar.\r\n\r\nI was able to run the one time job using : \r\n\r\n```\r\nkubectl create job my-cron-job-manual --from=cronjob/my-cron-job\r\n```\r\n\r\nbut couldn&#39;t find a way to pass any dynamic args to the jar in a similar way to this : \r\n\r\n```\r\njava -Dtest_arg=XXXXX -jar /app.jar\r\n```\r\n\r\nCan you please point me to directions I can investigate ? Maybe I&#39;m missing something with Kubernetes / cron jobs ?\r\n\r\nThank you.\r\n","title":"Pass args to a jar launched by a Kubernetes cron job","body":"<p>I have deployed a Kubernetes cron job that executes a java jar.</p>\n<pre><code>apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  name: my-cron-job\n  namespace: test\n  labels:\n    app: my-cron-job\n    release: dev\n    tiers: backend\nspec:\n  jobTemplate:\n    spec:\n      template:\n        spec:\n          containers:\n            - name: app_name\n              image: docker-image\n              command: [&quot;/bin/bash&quot;, &quot;-c&quot;]\n              args:\n                - |\n                  java -jar /app.jar\n              env:\n                - name: USER\n                  valueFrom:\n                    secretKeyRef:\n                      name: secrets\n                      key: user\n                - name: PASSWORD\n                  valueFrom:\n                    secretKeyRef:\n                      name: secrets\n                      key: pwd\n              resources:\n                requests:\n                  memory: &quot;20Mi&quot;\n                  cpu: &quot;50m&quot;\n                limits:\n                  memory: &quot;20Mi&quot;\n\n  schedule: &quot;0 0 * * *&quot;\n  concurrencyPolicy: Forbid\n</code></pre>\n<p>For testing, I'd like to execute this cron job as a one time job while passing certain args to the java jar.</p>\n<p>I was able to run the one time job using :</p>\n<pre><code>kubectl create job my-cron-job-manual --from=cronjob/my-cron-job\n</code></pre>\n<p>but couldn't find a way to pass any dynamic args to the jar in a similar way to this :</p>\n<pre><code>java -Dtest_arg=XXXXX -jar /app.jar\n</code></pre>\n<p>Can you please point me to directions I can investigate ? Maybe I'm missing something with Kubernetes / cron jobs ?</p>\n<p>Thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":1,"creation_date":1670417961,"post_id":74717059,"comment_id":131871418,"body_markdown":"It is not clear how you are representing 3x3 board using a 1D List","body":"It is not clear how you are representing 3x3 board using a 1D List"},{"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"score":0,"creation_date":1670418107,"post_id":74717059,"comment_id":131871465,"body_markdown":"Good point, the list can be modified.","body":"Good point, the list can be modified."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":2,"creation_date":1670418884,"post_id":74717059,"comment_id":131871725,"body_markdown":"You need to explain how your model of the board works. How exactly do the strings in the array in your question represent a tictactoe board? It&#39;s difficult to suggest ways of using streams to detect board conditions when it&#39;s unclear how the board is represented.","body":"You need to explain how your model of the board works. How exactly do the strings in the array in your question represent a tictactoe board? It&#39;s difficult to suggest ways of using streams to detect board conditions when it&#39;s unclear how the board is represented."},{"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"score":0,"creation_date":1670419339,"post_id":74717059,"comment_id":131871873,"body_markdown":"This is not given but it can be 2d ArrayList like this: `int vertexCount = 3;\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; listTicTacToe = new ArrayList&lt;&gt;(vertexCount);`","body":"This is not given but it can be 2d ArrayList like this: <code>int vertexCount = 3;         ArrayList&lt;ArrayList&lt;String&gt;&gt; listTicTacToe = new ArrayList&lt;&gt;(vertexCount);</code>"},{"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"score":0,"creation_date":1670419786,"post_id":74717059,"comment_id":131872015,"body_markdown":"Lets assume we have a 2d arraylist and the data is already there as string. E.g. player x puts &quot;X&quot; to the array list and player o puts &quot;O&quot; and the solution is to find 3*X or 3*O vertical horizontal or diagonal","body":"Lets assume we have a 2d arraylist and the data is already there as string. E.g. player x puts &quot;X&quot; to the array list and player o puts &quot;O&quot; and the solution is to find 3*X or 3*O vertical horizontal or diagonal"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1670420449,"post_id":74717059,"comment_id":131872224,"body_markdown":"I don&#39;t see any benefit in using streams (performance wise as well readability wise)","body":"I don&#39;t see any benefit in using streams (performance wise as well readability wise)"},{"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"score":0,"creation_date":1670420547,"post_id":74717059,"comment_id":131872267,"body_markdown":"If the new data comes e.g. over scanner then it will be checked. At the beginng the list could look like this `graph.add(new ArrayList&lt;&gt;(List.of(&quot;1&quot;,&quot;4&quot;,&quot;7&quot;)));\n        graph.add(new ArrayList&lt;&gt;(List.of(&quot;2&quot;,&quot;5&quot;,&quot;8&quot;)));\n        graph.add(new ArrayList&lt;&gt;(List.of(&quot;7&quot;,&quot;8&quot;,&quot;9&quot;)));` and the numbers as string will be replaced by &quot;X&quot; or &quot;O&quot;","body":"If the new data comes e.g. over scanner then it will be checked. At the beginng the list could look like this <code>graph.add(new ArrayList&lt;&gt;(List.of(&quot;1&quot;,&quot;4&quot;,&quot;7&quot;)));         graph.add(new ArrayList&lt;&gt;(List.of(&quot;2&quot;,&quot;5&quot;,&quot;8&quot;)));         graph.add(new ArrayList&lt;&gt;(List.of(&quot;7&quot;,&quot;8&quot;,&quot;9&quot;)));</code> and the numbers as string will be replaced by &quot;X&quot; or &quot;O&quot;"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670424835,"creation_date":1670424018,"answer_id":74718398,"question_id":74717059,"body_markdown":"If you have `3` (or more) values that correspond to a particular player on a board, it doesn&#39;t automatically mean that they form a weening combination (arranged in a line).\r\n\r\nThere should be a lot of conditional logic, so I am afraid it can&#39;t be done without imperative code. But you might incorporate some elements of the functional programming.\r\n\r\nHere&#39;s a small illustration.\r\n\r\nYou can perform a check whether the previous move produced a weening combination using a stream.\r\n\r\n***Note*** that there&#39;s no need to check all the possible combinations on a board. Only cells that are **adjacent** to the cell that the player has changed needs to be checked. Building on this idea, we can define a static array (make it a list if you don&#39;t want to use arrays, but array would be more convenient) containing offsets that represent 4 combinations of cell (horizontal `-`, vertical `|`, and two diagonal `\\` and `/`).\r\n\r\nWe can iterate over the array representing cell-combination searching if there&#39;s at least one valid using [`Stream.anyMatch()`][anyMatch]. Is that&#39;s the case, the player which made the last move has weened.\r\n\r\nHere&#39;s how the implementation of this logic might look like (*as I&#39;ve said it&#39;s not entirely functional in style*):\r\n\r\n    public class TicTacToe {\r\n        public static final int[][][] NEIGHBOURS =\r\n               {{{0, -1}, {0, 1}},   // horizontal -\r\n                {{-1, 0}, {1, 0}},   // vertical |\r\n                {{-1, -1}, {1, 1}},  // diagonal \\\r\n                {{1, 1}, {-1, -1}}}; // diagonal /\r\n        \r\n        private List&lt;List&lt;String&gt;&gt; board = List.of( // Arrays.asList() is used for nested lists because it allows to modify values, but disallows structural modifications as well List.of()\r\n            Arrays.asList(&quot;1&quot;, &quot;4&quot;, &quot;7&quot;), // populate with any non-null values in order to perform `equals()` checks safely\r\n            Arrays.asList(&quot;2&quot;, &quot;5&quot;, &quot;8&quot;),\r\n            Arrays.asList(&quot;3&quot;, &quot;6&quot;, &quot;9&quot;)\r\n        );\r\n        \r\n        public boolean isWinningMove(int row, int col) {\r\n            return Arrays.stream(NEIGHBOURS)\r\n                .anyMatch(isWinningCombination(row, col));\r\n        }\r\n        \r\n        public Predicate&lt;int[][]&gt; isWinningCombination(int row, int col) {\r\n\r\n            return neighbour -&gt; {\r\n                int[] leftShift = neighbour[0];\r\n                int[] rightShift = neighbour[1];\r\n                String currentPlayer = getBoardValue(row, col);\r\n\r\n                return getBoardValue(row + leftShift[0], col + leftShift[1])   // left Neighbour == current\r\n                            .equals(currentPlayer)\r\n                    &amp;&amp; getBoardValue(row + rightShift[0], col + rightShift[1]) // right Neighbour == current\r\n                            .equals(currentPlayer);\r\n            };\r\n        }\r\n    \r\n        public String getBoardValue(int row, int col) {\r\n            if (row &lt; 0 || row &gt;= board.size() || col &lt; 0 || col &gt;= board.get(row).size()) { // invalid index\r\n                return &quot;INVALID INDEX&quot;; // illegal value for which `isWinningCombination()` will return false\r\n            }\r\n            return board.get(row).get(col); // return the real value under the given coordinates\r\n        }\r\n    }\r\n\r\n\r\n\r\n   [anyMatch]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#anyMatch(java.util.function.Predicate)","title":"Java Streams condition for tictactoe","body":"<p>If you have <code>3</code> (or more) values that correspond to a particular player on a board, it doesn't automatically mean that they form a weening combination (arranged in a line).</p>\n<p>There should be a lot of conditional logic, so I am afraid it can't be done without imperative code. But you might incorporate some elements of the functional programming.</p>\n<p>Here's a small illustration.</p>\n<p>You can perform a check whether the previous move produced a weening combination using a stream.</p>\n<p><em><strong>Note</strong></em> that there's no need to check all the possible combinations on a board. Only cells that are <strong>adjacent</strong> to the cell that the player has changed needs to be checked. Building on this idea, we can define a static array (make it a list if you don't want to use arrays, but array would be more convenient) containing offsets that represent 4 combinations of cell (horizontal <code>-</code>, vertical <code>|</code>, and two diagonal <code>\\</code> and <code>/</code>).</p>\n<p>We can iterate over the array representing cell-combination searching if there's at least one valid using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#anyMatch(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>Stream.anyMatch()</code></a>. Is that's the case, the player which made the last move has weened.</p>\n<p>Here's how the implementation of this logic might look like (<em>as I've said it's not entirely functional in style</em>):</p>\n<pre><code>public class TicTacToe {\n    public static final int[][][] NEIGHBOURS =\n           {{{0, -1}, {0, 1}},   // horizontal -\n            {{-1, 0}, {1, 0}},   // vertical |\n            {{-1, -1}, {1, 1}},  // diagonal \\\n            {{1, 1}, {-1, -1}}}; // diagonal /\n    \n    private List&lt;List&lt;String&gt;&gt; board = List.of( // Arrays.asList() is used for nested lists because it allows to modify values, but disallows structural modifications as well List.of()\n        Arrays.asList(&quot;1&quot;, &quot;4&quot;, &quot;7&quot;), // populate with any non-null values in order to perform `equals()` checks safely\n        Arrays.asList(&quot;2&quot;, &quot;5&quot;, &quot;8&quot;),\n        Arrays.asList(&quot;3&quot;, &quot;6&quot;, &quot;9&quot;)\n    );\n    \n    public boolean isWinningMove(int row, int col) {\n        return Arrays.stream(NEIGHBOURS)\n            .anyMatch(isWinningCombination(row, col));\n    }\n    \n    public Predicate&lt;int[][]&gt; isWinningCombination(int row, int col) {\n\n        return neighbour -&gt; {\n            int[] leftShift = neighbour[0];\n            int[] rightShift = neighbour[1];\n            String currentPlayer = getBoardValue(row, col);\n\n            return getBoardValue(row + leftShift[0], col + leftShift[1])   // left Neighbour == current\n                        .equals(currentPlayer)\n                &amp;&amp; getBoardValue(row + rightShift[0], col + rightShift[1]) // right Neighbour == current\n                        .equals(currentPlayer);\n        };\n    }\n\n    public String getBoardValue(int row, int col) {\n        if (row &lt; 0 || row &gt;= board.size() || col &lt; 0 || col &gt;= board.get(row).size()) { // invalid index\n            return &quot;INVALID INDEX&quot;; // illegal value for which `isWinningCombination()` will return false\n        }\n        return board.get(row).get(col); // return the real value under the given coordinates\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670424835,"creation_date":1670417745,"question_id":74717059,"body_markdown":"this should be a tictactoe game but I will to wright it only with Java Streams. \r\nNow it will be checked only for 3 duplicates allover and I need to check for duplicates which are horizontal vertical or diagonal (just normal condition for this game but wroten with Streams like in the below 2 solutions). \r\n\r\n\r\n    List&lt;String&gt; listTicTacToe = new ArrayList&lt;&gt;(List.of(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;));\r\n\r\n\r\nSolution 1: \r\n\r\n    List&lt;String&gt;res2 = listTicTacToe.stream()\r\n            .filter(number -&gt; Collections.frequency(listTicTacToe, number) == 3)\r\n            .collect(Collectors.toList());\r\n\r\n    isWinner = !res2.isEmpty();\r\n\r\n\r\n        \r\n\r\nSolution 2: \r\n\r\n    List&lt;String&gt; res = listTicTacToe.stream()\r\n                    .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\r\n                    .entrySet()\r\n                    .stream()\r\n                    .filter(e -&gt; e.getValue() == 3)\r\n                    .map(e -&gt; e.getKey())\r\n                    .collect(Collectors.toList());\r\n\r\nIs it possible with using only Java Streams?\r\n","title":"Java Streams condition for tictactoe","body":"<p>this should be a tictactoe game but I will to wright it only with Java Streams.\nNow it will be checked only for 3 duplicates allover and I need to check for duplicates which are horizontal vertical or diagonal (just normal condition for this game but wroten with Streams like in the below 2 solutions).</p>\n<pre><code>List&lt;String&gt; listTicTacToe = new ArrayList&lt;&gt;(List.of(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;));\n</code></pre>\n<p>Solution 1:</p>\n<pre><code>List&lt;String&gt;res2 = listTicTacToe.stream()\n        .filter(number -&gt; Collections.frequency(listTicTacToe, number) == 3)\n        .collect(Collectors.toList());\n\nisWinner = !res2.isEmpty();\n\n\n    \n</code></pre>\n<p>Solution 2:</p>\n<pre><code>List&lt;String&gt; res = listTicTacToe.stream()\n                .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\n                .entrySet()\n                .stream()\n                .filter(e -&gt; e.getValue() == 3)\n                .map(e -&gt; e.getKey())\n                .collect(Collectors.toList());\n</code></pre>\n<p>Is it possible with using only Java Streams?</p>\n"},{"tags":["java","floating-point","integer","integer-overflow"],"comments":[{"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"score":0,"creation_date":1633280694,"post_id":69426960,"comment_id":122712418,"body_markdown":"Does this answer your question? [How can I check if multiplying two numbers in Java will cause an overflow?](https://stackoverflow.com/questions/1657834/how-can-i-check-if-multiplying-two-numbers-in-java-will-cause-an-overflow)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1657834/how-can-i-check-if-multiplying-two-numbers-in-java-will-cause-an-overflow\">How can I check if multiplying two numbers in Java will cause an overflow?</a>"},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1633281884,"post_id":69426960,"comment_id":122712724,"body_markdown":"For positive values at least, int x int cannot exceed the range of long.  So `long c = (long) a * (long) b`.  Then check the result before casting back to int, or use Math.toIntExact..  Handling one or both negative numbers left as exercise for the reader.","body":"For positive values at least, int x int cannot exceed the range of long.  So <code>long c = (long) a * (long) b</code>.  Then check the result before casting back to int, or use Math.toIntExact..  Handling one or both negative numbers left as exercise for the reader."},{"owner":{"account_id":9008667,"reputation":117,"user_id":14467251,"display_name":"Tần Quảng"},"score":0,"creation_date":1633290765,"post_id":69426960,"comment_id":122714839,"body_markdown":"@ervin-szilagyi Are not! Entire integer and long. I am in need of integer and float!","body":"@ervin-szilagyi Are not! Entire integer and long. I am in need of integer and float!"},{"owner":{"account_id":9008667,"reputation":117,"user_id":14467251,"display_name":"Tần Quảng"},"score":0,"creation_date":1633291123,"post_id":69426960,"comment_id":122714926,"body_markdown":"@user16632363 But the question I have is integer with float. If you cast `b` to int or long, the result will definitely not be true because it will remove the decimal part of `b`!","body":"@user16632363 But the question I have is integer with float. If you cast <code>b</code> to int or long, the result will definitely not be true because it will remove the decimal part of <code>b</code>!"},{"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"score":0,"creation_date":1633291704,"post_id":69426960,"comment_id":122715083,"body_markdown":"Well sure, it will remove the decimal part. Exactly what you are trying to do here: `Integer.MAX_VALUE ? Integer.MAX_VALUE : (int)c`","body":"Well sure, it will remove the decimal part. Exactly what you are trying to do here: <code>Integer.MAX_VALUE ? Integer.MAX_VALUE : (int)c</code>"},{"owner":{"account_id":9008667,"reputation":117,"user_id":14467251,"display_name":"Tần Quảng"},"score":0,"creation_date":1633292101,"post_id":69426960,"comment_id":122715192,"body_markdown":"@ervin-szilagyi You can see I said that&#39;s my current &quot;silly&quot; solution. I multiply them by a variable of data type double, then check if the result exceeds the maximum integer value, if so, return the integer maximum value, otherwise return the number closest to the result.\nWhy is the result? Because the maximum error for removing the decimal part cannot be greater than 1 (0 - 0.99999...). If I remove the decimal part of `b`, the result can be greatly skewed.\nBut this solution is not perfect, it has the disadvantages I listed above!","body":"@ervin-szilagyi You can see I said that&#39;s my current &quot;silly&quot; solution. I multiply them by a variable of data type double, then check if the result exceeds the maximum integer value, if so, return the integer maximum value, otherwise return the number closest to the result. Why is the result? Because the maximum error for removing the decimal part cannot be greater than 1 (0 - 0.99999...). If I remove the decimal part of <code>b</code>, the result can be greatly skewed. But this solution is not perfect, it has the disadvantages I listed above!"}],"answers":[{"tags":[],"owner":{"account_id":2802349,"reputation":146413,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670424773,"creation_date":1633367918,"answer_id":69440000,"question_id":69426960,"body_markdown":"Below is a C approach that may shed light in Java.\r\n\r\nPerform the multiplication using `double`, not `float` math _before_ the assginment to gain the extra precision/range of `double`.  Overflow is not then expected.\r\n\r\nA compare like `c &gt; Integer.MAX_VALUE` suffers from `Integer.MAX_VALUE` first being converted into a `double`.  This may lose precision.&lt;sup&gt;*1&lt;/sup&gt;  Consider what happens if the converted value is `Integer.MAX_VALUE + 1.0`.  Then if `c` is `Integer.MAX_VALUE + 1.0`, code will attempt to return `(int) (Integer.MAX_VALUE + 1.0)` - not good.  Better to use well formed limits.  (Negative ones too.)  In C, maybe Java, floating point conversion to `int`  truncates the fraction.  Special care is needed near the edges.\r\n\r\n    #define INT_MAX_PLUS1_AS_DOUBLE ((INT_MAX/2 + 1)*2.0)\r\n\r\n    int mulInt(int a, float b) {\r\n      // double c = a * b;\r\n      double c = (double) a * b;\r\n      \r\n      //return c &gt; Integer.MAX_VALUE ? Integer.MAX_VALUE : (int)c;\r\n      if (c &lt; INT_MAX_PLUS1_AS_DOUBLE &amp;&amp; c - INT_MIN &gt; -1.0) {\r\n        return (int) c;\r\n      } \r\n      if (c &gt; 0) return INT_MAX;\r\n      if (c &lt; 0) return INT_MIN;\r\n      return 0; // `b` was a NaN\r\n    }\r\n\r\n`c - INT_MIN &gt; -1` is like `c &gt; INT_MIN - 1`, but as `INT_MIN` is a -power-of-2, `INT_MIN - 1` might not convert precisely to `double`. `c - INT_MIN` is expected to be exact near the edge cases.\r\n\r\n---\r\n\r\n\r\n&lt;sup&gt;*1&lt;/sup&gt;  When `int` is 32-bit (or less) and `double` is 64-bit (with 53-bit significand) not an issue.  But important with wider integer types.\r\n","title":"How to detect and prevent integer overflow when multiplying an integer by float in Java?","body":"<p>Below is a C approach that may shed light in Java.</p>\n<p>Perform the multiplication using <code>double</code>, not <code>float</code> math <em>before</em> the assginment to gain the extra precision/range of <code>double</code>.  Overflow is not then expected.</p>\n<p>A compare like <code>c &gt; Integer.MAX_VALUE</code> suffers from <code>Integer.MAX_VALUE</code> first being converted into a <code>double</code>.  This may lose precision.<sup>*1</sup>  Consider what happens if the converted value is <code>Integer.MAX_VALUE + 1.0</code>.  Then if <code>c</code> is <code>Integer.MAX_VALUE + 1.0</code>, code will attempt to return <code>(int) (Integer.MAX_VALUE + 1.0)</code> - not good.  Better to use well formed limits.  (Negative ones too.)  In C, maybe Java, floating point conversion to <code>int</code>  truncates the fraction.  Special care is needed near the edges.</p>\n<pre><code>#define INT_MAX_PLUS1_AS_DOUBLE ((INT_MAX/2 + 1)*2.0)\n\nint mulInt(int a, float b) {\n  // double c = a * b;\n  double c = (double) a * b;\n  \n  //return c &gt; Integer.MAX_VALUE ? Integer.MAX_VALUE : (int)c;\n  if (c &lt; INT_MAX_PLUS1_AS_DOUBLE &amp;&amp; c - INT_MIN &gt; -1.0) {\n    return (int) c;\n  } \n  if (c &gt; 0) return INT_MAX;\n  if (c &lt; 0) return INT_MIN;\n  return 0; // `b` was a NaN\n}\n</code></pre>\n<p><code>c - INT_MIN &gt; -1</code> is like <code>c &gt; INT_MIN - 1</code>, but as <code>INT_MIN</code> is a -power-of-2, <code>INT_MIN - 1</code> might not convert precisely to <code>double</code>. <code>c - INT_MIN</code> is expected to be exact near the edge cases.</p>\n<hr />\n<p><sup>*1</sup>  When <code>int</code> is 32-bit (or less) and <code>double</code> is 64-bit (with 53-bit significand) not an issue.  But important with wider integer types.</p>\n"}],"owner":{"account_id":9008667,"reputation":117,"user_id":14467251,"display_name":"Tần Quảng"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":995,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69440000,"answer_count":1,"score":1,"last_activity_date":1670424773,"creation_date":1633279808,"question_id":69426960,"body_markdown":"I have read this article [NUM00-J. Detect or prevent integer overflow][1] and this question https://stackoverflow.com/questions/3001836/how-does-java-handle-integer-underflows-and-overflows-and-how-would-you-check-fo/.\r\n\r\nAs you can see, there are many solutions to prevent integer overflow when multiplying an integer by an integer.\r\nBut I wonder is there any solution to prevent integer overflow when multiplying an integer by float?\r\n\r\nMy current (silly) solution:\r\n\r\n    public static final int mulInt(int a, float b) {\r\n    \tdouble c = a * b;\r\n    \treturn c &gt; Integer.MAX_VALUE ? Integer.MAX_VALUE : (int)c;\r\n    }\r\nBut it has a lot of problems:\r\n\r\n 1. It can get the expected result when multiplying performs\r\n    multiplication with both parameters having to be small numbers.\r\n 2. When either parameter is large digits the result is bound to be\r\n    incorrect (I know in part because of the floating-point data type).\r\n 3. Suppose if the result of the calculation is even greater than the\r\n    maximum value of double, it will be unstoppable and return a\r\n    negative number.\r\n\r\nSo, what is the real solution to this problem?\r\n\r\nYour answer will be very helpful, I will appreciate it!\r\n\r\nUPDATE: There is another question here https://stackoverflow.com/questions/1657834/how-can-i-check-if-multiplying-two-numbers-in-java-will-cause-an-overflow that is quite similar BUT it is about multiplying an integer by an integer instead of multiplying by a float.\r\n\r\n  [1]: https://wiki.sei.cmu.edu/confluence/display/java/NUM00-J.+Detect+or+prevent+integer+overflow","title":"How to detect and prevent integer overflow when multiplying an integer by float in Java?","body":"<p>I have read this article <a href=\"https://wiki.sei.cmu.edu/confluence/display/java/NUM00-J.+Detect+or+prevent+integer+overflow\" rel=\"nofollow noreferrer\">NUM00-J. Detect or prevent integer overflow</a> and this question <a href=\"https://stackoverflow.com/questions/3001836/how-does-java-handle-integer-underflows-and-overflows-and-how-would-you-check-fo/\">How does Java handle integer underflows and overflows and how would you check for it?</a>.</p>\n<p>As you can see, there are many solutions to prevent integer overflow when multiplying an integer by an integer.\nBut I wonder is there any solution to prevent integer overflow when multiplying an integer by float?</p>\n<p>My current (silly) solution:</p>\n<pre><code>public static final int mulInt(int a, float b) {\n    double c = a * b;\n    return c &gt; Integer.MAX_VALUE ? Integer.MAX_VALUE : (int)c;\n}\n</code></pre>\n<p>But it has a lot of problems:</p>\n<ol>\n<li>It can get the expected result when multiplying performs\nmultiplication with both parameters having to be small numbers.</li>\n<li>When either parameter is large digits the result is bound to be\nincorrect (I know in part because of the floating-point data type).</li>\n<li>Suppose if the result of the calculation is even greater than the\nmaximum value of double, it will be unstoppable and return a\nnegative number.</li>\n</ol>\n<p>So, what is the real solution to this problem?</p>\n<p>Your answer will be very helpful, I will appreciate it!</p>\n<p>UPDATE: There is another question here <a href=\"https://stackoverflow.com/questions/1657834/how-can-i-check-if-multiplying-two-numbers-in-java-will-cause-an-overflow\">How can I check if multiplying two numbers in Java will cause an overflow?</a> that is quite similar BUT it is about multiplying an integer by an integer instead of multiplying by a float.</p>\n"},{"tags":["java","sql","json","postgresql","pg"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1670417072,"post_id":74716865,"comment_id":131871090,"body_markdown":"Please show the code that you tried to use.  Most folks here will not simply do the whole thing for you.","body":"Please show the code that you tried to use.  Most folks here will not simply do the whole thing for you."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1670417129,"post_id":74716865,"comment_id":131871112,"body_markdown":"Is there a specif reason you are looking at the JSON function from the outdated and unsupported 9.5 version?","body":"Is there a specif reason you are looking at the JSON function from the outdated and unsupported 9.5 version?"},{"owner":{"account_id":19254369,"reputation":59,"user_id":16262239,"display_name":"Disteonne"},"score":0,"creation_date":1670417178,"post_id":74716865,"comment_id":131871123,"body_markdown":"Unfortunately I can&#39;t show the code with current object I work with. Objects above just for example, but, I can show the query I tried to use.","body":"Unfortunately I can&#39;t show the code with current object I work with. Objects above just for example, but, I can show the query I tried to use."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1670417203,"post_id":74716865,"comment_id":131871134,"body_markdown":"It is unclear to me how this data is stored in your table. Is the JSON from your question in a single row (one column)? Or is that spread over multiple rows? What exactly is the result you are after? The rows where the JSON column contains such an attribute? Or a subset of the JSON for each row with only that attribute?","body":"It is unclear to me how this data is stored in your table. Is the JSON from your question in a single row (one column)? Or is that spread over multiple rows? What exactly is the result you are after? The rows where the JSON column contains such an attribute? Or a subset of the JSON for each row with only that attribute?"},{"owner":{"account_id":19254369,"reputation":59,"user_id":16262239,"display_name":"Disteonne"},"score":0,"creation_date":1670417279,"post_id":74716865,"comment_id":131871162,"body_markdown":"Select * from test_table ts , json_array_elements(ts.attributes::json) as attributes_obj where attributes_obj -&gt;&gt; &#39;attribute_name&#39; = &#39;Some_name&#39;","body":"Select * from test_table ts , json_array_elements(ts.attributes::json) as attributes_obj where attributes_obj -&gt;&gt; &#39;attribute_name&#39; = &#39;Some_name&#39;"},{"owner":{"account_id":19254369,"reputation":59,"user_id":16262239,"display_name":"Disteonne"},"score":0,"creation_date":1670417424,"post_id":74716865,"comment_id":131871220,"body_markdown":"All of 1st lvl fields like just name has an own column, attributes - separate column with JSONB type and array saved there like [{attribute_1},{...}] in the cell","body":"All of 1st lvl fields like just name has an own column, attributes - separate column with JSONB type and array saved there like [{attribute_1},{...}] in the cell"}],"answers":[{"tags":[],"owner":{"account_id":2662746,"reputation":11456,"user_id":2302032,"display_name":"Stefanov.sm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670424514,"creation_date":1670422140,"answer_id":74717955,"question_id":74716865,"body_markdown":"Assuming that these are JSONB fields from 2 records of your table as illustrated in the `the_table` CTE, then select these records for which does not exist an `attributes` array element whose `attribute_name` value is not equal to &#39;Some_name&#39;. `coalesce` is there for missing `attribute_name` elements.\r\n```sql\r\nwith the_table(name, attributes, phonenumber) as \r\n(\r\n values\r\n (&#39;Test_1&#39;, &#39;[{&quot;attribute_name&quot; : &quot;Some_name&quot;}, {&quot;attribute_name&quot; : &quot;Some_name_2&quot;}]&#39;::jsonb, &#39;N&#39;),\r\n (&#39;Test_2&#39;, &#39;[{&quot;attribute_name&quot; : &quot;Some_name&quot;}, {&quot;attribute_name&quot; : &quot;Some_name&quot;, &quot;attribute_phoneNumber&quot;: &quot;N1&quot;}]&#39;, &#39;N2&#39;)\r\n) -- sample data table\r\n\r\nselect * from the_table where not exists \r\n(\r\n select from jsonb_array_elements(attributes) j \r\n where coalesce(j-&gt;&gt;&#39;attribute_name&#39;, &#39;&#39;) &lt;&gt; &#39;Some_name&#39;\r\n);","title":"Is there a way to find all objects in an array whose fields all objects have the same value postgresql","body":"<p>Assuming that these are JSONB fields from 2 records of your table as illustrated in the <code>the_table</code> CTE, then select these records for which does not exist an <code>attributes</code> array element whose <code>attribute_name</code> value is not equal to 'Some_name'. <code>coalesce</code> is there for missing <code>attribute_name</code> elements.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>with the_table(name, attributes, phonenumber) as \n(\n values\n ('Test_1', '[{&quot;attribute_name&quot; : &quot;Some_name&quot;}, {&quot;attribute_name&quot; : &quot;Some_name_2&quot;}]'::jsonb, 'N'),\n ('Test_2', '[{&quot;attribute_name&quot; : &quot;Some_name&quot;}, {&quot;attribute_name&quot; : &quot;Some_name&quot;, &quot;attribute_phoneNumber&quot;: &quot;N1&quot;}]', 'N2')\n) -- sample data table\n\nselect * from the_table where not exists \n(\n select from jsonb_array_elements(attributes) j \n where coalesce(j-&gt;&gt;'attribute_name', '') &lt;&gt; 'Some_name'\n);\n</code></pre>\n"}],"owner":{"account_id":19254369,"reputation":59,"user_id":16262239,"display_name":"Disteonne"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74717955,"answer_count":1,"score":0,"last_activity_date":1670424514,"creation_date":1670416820,"question_id":74716865,"body_markdown":"Let&#39;s see a few objects\r\n\r\n    {\r\n\t&quot;name: &quot;Test_1&quot;,\r\n\t&quot;attributes&quot;: [\r\n\t\t{\r\n\t\t\t&quot;attribute_name&quot; : &quot;Some_name&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;attribute_name&quot; : &quot;Some_name_2&quot;\r\n\t\t}\r\n\t],\r\n\t&quot;phoneNumber&quot; : &quot;N&quot;\r\n    },\r\n\r\n    {\r\n\t&quot;name: &quot;Test_2&quot;,\r\n\t&quot;attributes&quot;: [\r\n\t\t{\r\n\t\t\t&quot;attribute_name&quot; : &quot;Some_name&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;attribute_name&quot; : &quot;Some_name&quot;,\r\n\t\t\t&quot;attribute_phoneNumber&quot;: &quot;N1&quot;\r\n\t\t}\r\n\t],\r\n\t&quot;phoneNumber&quot; : &quot;N2&quot;\r\n    }\r\n\r\nSo, I wanna get objects whose attributes array elements (all of them) have attribute_name  &quot;Some_name&quot;\r\n\r\nattributes.attribute_name = Some_name\r\n\r\nand as result I wanna get object with Test_2 name because all of attributes elements have this name.\r\n\r\n\r\nThis array &#39;attributes&#39; saved as jsob in PG, so I tried to use some functions like json_array_elements(...) but it didn&#39;t helped \r\nhttps://www.postgresql.org/docs/9.5/functions-json.html","title":"Is there a way to find all objects in an array whose fields all objects have the same value postgresql","body":"<p>Let's see a few objects</p>\n<pre><code>{\n&quot;name: &quot;Test_1&quot;,\n&quot;attributes&quot;: [\n    {\n        &quot;attribute_name&quot; : &quot;Some_name&quot;\n    },\n    {\n        &quot;attribute_name&quot; : &quot;Some_name_2&quot;\n    }\n],\n&quot;phoneNumber&quot; : &quot;N&quot;\n},\n\n{\n&quot;name: &quot;Test_2&quot;,\n&quot;attributes&quot;: [\n    {\n        &quot;attribute_name&quot; : &quot;Some_name&quot;\n    },\n    {\n        &quot;attribute_name&quot; : &quot;Some_name&quot;,\n        &quot;attribute_phoneNumber&quot;: &quot;N1&quot;\n    }\n],\n&quot;phoneNumber&quot; : &quot;N2&quot;\n}\n</code></pre>\n<p>So, I wanna get objects whose attributes array elements (all of them) have attribute_name  &quot;Some_name&quot;</p>\n<p>attributes.attribute_name = Some_name</p>\n<p>and as result I wanna get object with Test_2 name because all of attributes elements have this name.</p>\n<p>This array 'attributes' saved as jsob in PG, so I tried to use some functions like json_array_elements(...) but it didn't helped\n<a href=\"https://www.postgresql.org/docs/9.5/functions-json.html\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/9.5/functions-json.html</a></p>\n"},{"tags":["java","gradle","intellij-idea","java-module","plexus"],"comments":[{"owner":{"account_id":3790884,"reputation":13,"user_id":6003537,"display_name":"Nigel Jones"},"score":0,"creation_date":1670428528,"post_id":74718286,"comment_id":131875368,"body_markdown":"Having read more, I see at https://docs.gradle.org/6.4/userguide/java_library_plugin.html#sec:java_library_modular it states\n\nA third case are traditional libraries that provide no module information at all — for example commons-cli:commons-cli:1.4. Gradle puts such libraries on the classpath instead of the module path. The classpath is then treated as one module (the so called unnamed module) by Java.\n\nWhile a real module cannot directly depend on the unnamed module (only by adding command line flags), automatic modules can also see the unnamed module.","body":"Having read more, I see at <a href=\"https://docs.gradle.org/6.4/userguide/java_library_plugin.html#sec:java_library_modular\" rel=\"nofollow noreferrer\">docs.gradle.org/6.4/userguide/&hellip;</a> it states  A third case are traditional libraries that provide no module information at all — for example commons-cli:commons-cli:1.4. Gradle puts such libraries on the classpath instead of the module path. The classpath is then treated as one module (the so called unnamed module) by Java.  While a real module cannot directly depend on the unnamed module (only by adding command line flags), automatic modules can also see the unnamed module."}],"owner":{"account_id":3790884,"reputation":13,"user_id":6003537,"display_name":"Nigel Jones"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670424316,"creation_date":1670423595,"question_id":74718286,"body_markdown":"I have a large multi module (100s) Java project and have been experimenting with adopting java module support. This is using Java 17 (temurin), gradle 7.6, and IntelliJ 2022.3. \r\n\r\nI have hit a couple of stubborn errors with java modules where the module cannot be found.\r\n\r\nI have one project which has some java code that uses plexus ie:\r\n\r\n```\r\nimport org.codehaus.plexus.util.Base64;\r\n\r\n...\r\nbyte[] encodedAuthorizationString = Base64.encodeBase64(authorizationString.getBytes(StandardCharsets.US_ASCII));\r\n\r\n```\r\nIt has a gradle dependency\r\n\r\n```\r\nimplementation &#39;org.codehaus.plexus:plexus-utils&#39;\r\n\r\n```\r\n\r\nThis has a version constraint in our main build.gradle (just salient lines included):\r\n\r\n```\r\nplexusVersion = &#39;3.5.0&#39;\r\nimplementation(&quot;org.codehaus.plexus:plexus-utils:${plexusVersion}&quot;)\r\n\r\n```\r\n\r\nPrior to adding module support this is working fine.\r\n\r\nNow, with a module-info.java:\r\n\r\n```\r\nmodule egeria.open.metadata.implementation.adapters.open.connectors.rest.client.connectors.spring.rest.client.connector.main {\r\n    requires egeria.open.metadata.implementation.adapters.authentication.plugins.http.helper.main;\r\n    requires egeria.open.metadata.implementation.adapters.open.connectors.rest.client.connectors.rest.client.connectors.api.main;\r\n    //requires egeria.open.metadata.implementation.adapters.open.connectors.rest.client.connectors.rest.client.factory.main;\r\n    requires egeria.open.metadata.implementation.frameworks.open.connector.framework.main;\r\n    requires plexus.utils;\r\n    requires org.slf4j;\r\n    requires spring.core;\r\n    requires spring.web;\r\n\r\n    exports org.odpi.openmetadata.adapters.connectors.restclients.spring;\r\n}\r\n\r\n```\r\n\r\nI am getting a compile error\r\n\r\n```\r\nTask &#39;:open-metadata-implementation:adapters:open-connectors:rest-client-connectors:spring-rest-client-connector:compileJava&#39; is not up-to-date because:\r\n  Task has failed previously.\r\nThe input changes require a full rebuild for incremental task &#39;:open-metadata-implementation:adapters:open-connectors:rest-client-connectors:spring-rest-client-connector:compileJava&#39;.\r\nFull recompilation is required because no incremental change information is available. This is usually caused by clean builds or changing compiler arguments.\r\nCompiling with toolchain &#39;/Library/Java/JavaVirtualMachines/temurin-19.jdk/Contents/Home&#39;.\r\nCompiling with JDK Java compiler API.\r\n/Users/jonesn/IdeaProjects/egeria/v4/open-metadata-implementation/adapters/open-connectors/rest-client-connectors/spring-rest-client-connector/src/main/java/module-info.java:6: error: module not found: plexus.utils\r\n    requires plexus.utils;\r\n                   ^\r\n1 error\r\n\r\n```\r\n\r\nThis is despite the fact, that having downloaded the jar file, the automatic module name looks to be what I am using ie:\r\n```\r\njar --file=/Users/jonesn/Downloads/plexus-utils-3.5.0.jar --describe-module\r\nNo module descriptor found. Derived automatic module.\r\n\r\nplexus.utils@3.5.0 automatic\r\nrequires java.base mandated\r\ncontains org.codehaus.plexus.util\r\ncontains org.codehaus.plexus.util.cli\r\ncontains org.codehaus.plexus.util.cli.shell\r\ncontains org.codehaus.plexus.util.dag\r\ncontains org.codehaus.plexus.util.introspection\r\ncontains org.codehaus.plexus.util.io\r\ncontains org.codehaus.plexus.util.reflection\r\ncontains org.codehaus.plexus.util.xml\r\ncontains org.codehaus.plexus.util.xml.pull\r\n```\r\n\r\nI am seeing the same error with kafka-clients\r\n\r\nFor most other code, including those libraries without full module support, all is good....\r\n\r\n* tried various compilers, such as openjdk 17 &amp; temurin 19\r\n* built at cli &amp; within IntelliJ\r\n\r\nI was expecting this module to resolve ok\r\n\r\nI have also reviewed https://stackoverflow.com/questions/50353001/java-9-automatic-modules-not-found but note that other automatic modules (including org.slf4j) are working just fine\r\n\r\nI should add that I could refactor this code to use java.util.Base64 (probably makes sense)... but I&#39;m still confused as to why the module error, which I also see in another project with &#39;kafka.clients&#39;","title":"Not finding automatic modules when compiling Java Application","body":"<p>I have a large multi module (100s) Java project and have been experimenting with adopting java module support. This is using Java 17 (temurin), gradle 7.6, and IntelliJ 2022.3.</p>\n<p>I have hit a couple of stubborn errors with java modules where the module cannot be found.</p>\n<p>I have one project which has some java code that uses plexus ie:</p>\n<pre><code>import org.codehaus.plexus.util.Base64;\n\n...\nbyte[] encodedAuthorizationString = Base64.encodeBase64(authorizationString.getBytes(StandardCharsets.US_ASCII));\n\n</code></pre>\n<p>It has a gradle dependency</p>\n<pre><code>implementation 'org.codehaus.plexus:plexus-utils'\n\n</code></pre>\n<p>This has a version constraint in our main build.gradle (just salient lines included):</p>\n<pre><code>plexusVersion = '3.5.0'\nimplementation(&quot;org.codehaus.plexus:plexus-utils:${plexusVersion}&quot;)\n\n</code></pre>\n<p>Prior to adding module support this is working fine.</p>\n<p>Now, with a module-info.java:</p>\n<pre><code>module egeria.open.metadata.implementation.adapters.open.connectors.rest.client.connectors.spring.rest.client.connector.main {\n    requires egeria.open.metadata.implementation.adapters.authentication.plugins.http.helper.main;\n    requires egeria.open.metadata.implementation.adapters.open.connectors.rest.client.connectors.rest.client.connectors.api.main;\n    //requires egeria.open.metadata.implementation.adapters.open.connectors.rest.client.connectors.rest.client.factory.main;\n    requires egeria.open.metadata.implementation.frameworks.open.connector.framework.main;\n    requires plexus.utils;\n    requires org.slf4j;\n    requires spring.core;\n    requires spring.web;\n\n    exports org.odpi.openmetadata.adapters.connectors.restclients.spring;\n}\n\n</code></pre>\n<p>I am getting a compile error</p>\n<pre><code>Task ':open-metadata-implementation:adapters:open-connectors:rest-client-connectors:spring-rest-client-connector:compileJava' is not up-to-date because:\n  Task has failed previously.\nThe input changes require a full rebuild for incremental task ':open-metadata-implementation:adapters:open-connectors:rest-client-connectors:spring-rest-client-connector:compileJava'.\nFull recompilation is required because no incremental change information is available. This is usually caused by clean builds or changing compiler arguments.\nCompiling with toolchain '/Library/Java/JavaVirtualMachines/temurin-19.jdk/Contents/Home'.\nCompiling with JDK Java compiler API.\n/Users/jonesn/IdeaProjects/egeria/v4/open-metadata-implementation/adapters/open-connectors/rest-client-connectors/spring-rest-client-connector/src/main/java/module-info.java:6: error: module not found: plexus.utils\n    requires plexus.utils;\n                   ^\n1 error\n\n</code></pre>\n<p>This is despite the fact, that having downloaded the jar file, the automatic module name looks to be what I am using ie:</p>\n<pre><code>jar --file=/Users/jonesn/Downloads/plexus-utils-3.5.0.jar --describe-module\nNo module descriptor found. Derived automatic module.\n\nplexus.utils@3.5.0 automatic\nrequires java.base mandated\ncontains org.codehaus.plexus.util\ncontains org.codehaus.plexus.util.cli\ncontains org.codehaus.plexus.util.cli.shell\ncontains org.codehaus.plexus.util.dag\ncontains org.codehaus.plexus.util.introspection\ncontains org.codehaus.plexus.util.io\ncontains org.codehaus.plexus.util.reflection\ncontains org.codehaus.plexus.util.xml\ncontains org.codehaus.plexus.util.xml.pull\n</code></pre>\n<p>I am seeing the same error with kafka-clients</p>\n<p>For most other code, including those libraries without full module support, all is good....</p>\n<ul>\n<li>tried various compilers, such as openjdk 17 &amp; temurin 19</li>\n<li>built at cli &amp; within IntelliJ</li>\n</ul>\n<p>I was expecting this module to resolve ok</p>\n<p>I have also reviewed <a href=\"https://stackoverflow.com/questions/50353001/java-9-automatic-modules-not-found\">Java 9 automatic modules not found</a> but note that other automatic modules (including org.slf4j) are working just fine</p>\n<p>I should add that I could refactor this code to use java.util.Base64 (probably makes sense)... but I'm still confused as to why the module error, which I also see in another project with 'kafka.clients'</p>\n"},{"tags":["java","regex","file","match","wildcard"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670423434,"post_id":74717778,"comment_id":131873337,"body_markdown":"Glob != regex pattern. Obviously a regex is much more powerful though. What *is* the pattern?","body":"Glob != regex pattern. Obviously a regex is much more powerful though. What <i>is</i> the pattern?"},{"owner":{"account_id":12585926,"reputation":357,"user_id":9154835,"display_name":"elads11"},"score":0,"creation_date":1670425526,"post_id":74717778,"comment_id":131874178,"body_markdown":"I need to find any file with specific pattern given by user. In my specific example the file starts  with the word Prefix. So I&#39;m finding each file that start with it. I want a generic way to use it, that the pattern will be dynamic, because maybe sometimes the pattern is at the end of file? or in the middle?","body":"I need to find any file with specific pattern given by user. In my specific example the file starts  with the word Prefix. So I&#39;m finding each file that start with it. I want a generic way to use it, that the pattern will be dynamic, because maybe sometimes the pattern is at the end of file? or in the middle?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670426044,"post_id":74717778,"comment_id":131874350,"body_markdown":"Unless your users are very &#39;techie&#39; they are less likely to get it wrong with a glob than a regex. Of course, you could parameterize the type of search too, with the default being glob but regex an &#39;advanced&#39; option","body":"Unless your users are very &#39;techie&#39; they are less likely to get it wrong with a glob than a regex. Of course, you could parameterize the type of search too, with the default being glob but regex an &#39;advanced&#39; option"},{"owner":{"account_id":12585926,"reputation":357,"user_id":9154835,"display_name":"elads11"},"score":0,"creation_date":1670426420,"post_id":74717778,"comment_id":131874497,"body_markdown":"How can I use pattern using glob? All I see are examples that find file extensions or by a pattern of specific directories, but not on the filename alone.","body":"How can I use pattern using glob? All I see are examples that find file extensions or by a pattern of specific directories, but not on the filename alone."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1670426533,"post_id":74717778,"comment_id":131874537,"body_markdown":"Try `glob:Prefix*`","body":"Try <code>glob:Prefix*</code>"},{"owner":{"account_id":12585926,"reputation":357,"user_id":9154835,"display_name":"elads11"},"score":0,"creation_date":1670427363,"post_id":74717778,"comment_id":131874909,"body_markdown":"Thank you very much, that helped, replaced the regex with glob and added *","body":"Thank you very much, that helped, replaced the regex with glob and added *"}],"answers":[{"tags":[],"owner":{"account_id":23004366,"reputation":31,"user_id":17127895,"display_name":"atifovac"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670424244,"creation_date":1670423920,"answer_id":74718370,"question_id":74717778,"body_markdown":"It seems like the pattern is wrong. It matches only files named &quot;Prefix&quot;. Try to change it in `String pattern = &quot;Prefix.*&quot;;`.\r\n\r\nOtherwise you can scan for files which name starts by the string &quot;Prefix&quot;.\r\n\r\n    String name = file.getFileName().toString();\r\n    if (name.startsWith(pattern)) {\r\n        matchesList.add(name);\r\n    }","title":"Can&#39;t get list of files using PathMatcher and regex","body":"<p>It seems like the pattern is wrong. It matches only files named &quot;Prefix&quot;. Try to change it in <code>String pattern = &quot;Prefix.*&quot;;</code>.</p>\n<p>Otherwise you can scan for files which name starts by the string &quot;Prefix&quot;.</p>\n<pre><code>String name = file.getFileName().toString();\nif (name.startsWith(pattern)) {\n    matchesList.add(name);\n}\n</code></pre>\n"}],"owner":{"account_id":12585926,"reputation":357,"user_id":9154835,"display_name":"elads11"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670424244,"creation_date":1670421195,"question_id":74717778,"body_markdown":"I&#39;m using PathMatcher and SimpleFileVisitor to iterate over directory and find all the files that start only with a certain prefix. However, I can&#39;t get any files although there are some files that match my preference. \r\n\r\nExample of file required:\r\n\r\n    Prefix_some_text.csv\r\n\r\nHere is the Main code that invokes the call for SimpleFileVisitor class, and it uses regex pattern with the prefix and suppose to find all files starting with the certain pattern:\r\n\r\n    String directoryAsString = &quot;C:/Users&quot;;\r\n    String pattern = &quot;Prefix&quot;;\r\n    SearchFileByWildcard sfbw = new SearchFileByWildcard();\r\n            try {\r\n                List&lt;String&gt; actual = sfbw.searchWithWc(Paths.get(directoryAsString),pattern);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\nThe implementation of SearchFileByWildcard  class that uses SimpleFileVisitor :\r\n\r\n\r\n    static class SearchFileByWildcard {\r\n        List&lt;String&gt; matchesList = new ArrayList&lt;String&gt;();\r\n        List&lt;String&gt; searchWithWc(Path rootDir, String pattern) throws IOException {\r\n            matchesList.clear();\r\n            FileVisitor&lt;Path&gt; matcherVisitor = new SimpleFileVisitor&lt;Path&gt;() {\r\n                @Override\r\n                public FileVisitResult visitFile(Path file, BasicFileAttributes attribs) throws IOException {\r\n                    FileSystem fs = FileSystems.getDefault();\r\n                    PathMatcher matcher = fs.getPathMatcher(&quot;regex:&quot; + pattern);\r\n                    Path name = file.getFileName(); //takes the filename from the full path\r\n                    if (matcher.matches(name)) {\r\n                        matchesList.add(name.toString());\r\n                    }\r\n                    return FileVisitResult.CONTINUE;\r\n                }\r\n            };\r\n            Files.walkFileTree(rootDir, matcherVisitor);\r\n            return matchesList;\r\n        }\r\n    }\r\n\r\nI&#39;m debating whether to use glob instead of regex? Or maybe something with my regex is flawed.","title":"Can&#39;t get list of files using PathMatcher and regex","body":"<p>I'm using PathMatcher and SimpleFileVisitor to iterate over directory and find all the files that start only with a certain prefix. However, I can't get any files although there are some files that match my preference.</p>\n<p>Example of file required:</p>\n<pre><code>Prefix_some_text.csv\n</code></pre>\n<p>Here is the Main code that invokes the call for SimpleFileVisitor class, and it uses regex pattern with the prefix and suppose to find all files starting with the certain pattern:</p>\n<pre><code>String directoryAsString = &quot;C:/Users&quot;;\nString pattern = &quot;Prefix&quot;;\nSearchFileByWildcard sfbw = new SearchFileByWildcard();\n        try {\n            List&lt;String&gt; actual = sfbw.searchWithWc(Paths.get(directoryAsString),pattern);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>The implementation of SearchFileByWildcard  class that uses SimpleFileVisitor :</p>\n<pre><code>static class SearchFileByWildcard {\n    List&lt;String&gt; matchesList = new ArrayList&lt;String&gt;();\n    List&lt;String&gt; searchWithWc(Path rootDir, String pattern) throws IOException {\n        matchesList.clear();\n        FileVisitor&lt;Path&gt; matcherVisitor = new SimpleFileVisitor&lt;Path&gt;() {\n            @Override\n            public FileVisitResult visitFile(Path file, BasicFileAttributes attribs) throws IOException {\n                FileSystem fs = FileSystems.getDefault();\n                PathMatcher matcher = fs.getPathMatcher(&quot;regex:&quot; + pattern);\n                Path name = file.getFileName(); //takes the filename from the full path\n                if (matcher.matches(name)) {\n                    matchesList.add(name.toString());\n                }\n                return FileVisitResult.CONTINUE;\n            }\n        };\n        Files.walkFileTree(rootDir, matcherVisitor);\n        return matchesList;\n    }\n}\n</code></pre>\n<p>I'm debating whether to use glob instead of regex? Or maybe something with my regex is flawed.</p>\n"},{"tags":["java","android","mpesa"],"answers":[{"tags":[],"owner":{"account_id":18173300,"reputation":338,"user_id":13222541,"display_name":"fbiego"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623134544,"creation_date":1623134544,"answer_id":67882609,"question_id":62124364,"body_markdown":"I had the same problem. I realized I was performing the STK push before the auth token was received. You can use a global variable to check before performing STK push\r\n\r\n    var isReady = false  // global variable\r\n    //Access token Method being called.\r\n    private fun getAccessToken() {\r\n        mApiClient!!.setGetAccessToken(true)\r\n        mApiClient!!.mpesaService()!!.getAccessToken().enqueue(object : Callback&lt;AccessToken&gt; {\r\n            override fun onResponse(call: Call&lt;AccessToken?&gt;, response: Response&lt;AccessToken&gt;) {\r\n                if (response.isSuccessful) {\r\n                    mApiClient!!.setAuthToken(response.body()?.accessToken)\r\n                    //Timber.e(&quot;Success: ${response.body()?.accessToken}&quot;)\r\n                    isReady = true //\r\n                }\r\n            }\r\n            override fun onFailure(call: Call&lt;AccessToken?&gt;, t: Throwable) {}\r\n        })\r\n    }","title":"Unable to integrate Mpesa Api into my android app","body":"<p>I had the same problem. I realized I was performing the STK push before the auth token was received. You can use a global variable to check before performing STK push</p>\n<pre><code>var isReady = false  // global variable\n//Access token Method being called.\nprivate fun getAccessToken() {\n    mApiClient!!.setGetAccessToken(true)\n    mApiClient!!.mpesaService()!!.getAccessToken().enqueue(object : Callback&lt;AccessToken&gt; {\n        override fun onResponse(call: Call&lt;AccessToken?&gt;, response: Response&lt;AccessToken&gt;) {\n            if (response.isSuccessful) {\n                mApiClient!!.setAuthToken(response.body()?.accessToken)\n                //Timber.e(&quot;Success: ${response.body()?.accessToken}&quot;)\n                isReady = true //\n            }\n        }\n        override fun onFailure(call: Call&lt;AccessToken?&gt;, t: Throwable) {}\n    })\n}\n</code></pre>\n"}],"owner":{"account_id":16231653,"reputation":43,"user_id":11720266,"display_name":"Harrison Kuria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670424236,"creation_date":1590974123,"question_id":62124364,"body_markdown":"I am trying to integrate MPESA API into my android app using the procedures given by Daraja. On launching my application, the following error is displayed in my Logcat\r\n\r\n    D/OkHttp: {\r\n                        &quot;requestId&quot;: &quot;16583-1090909-1&quot;,\r\n                        &quot;errorCode&quot;: &quot;400.008.02&quot;,\r\nD/OkHttp:                     &quot;errorMessage&quot;: &quot;Invalid grant type passed&quot;\r\n                    }\r\n\r\n\r\nand after entering a Phone number and amount to be sent, the Sim Toolkit is not being brought to the front.\r\nThe following error is displayed in my Logcat\r\n\r\n    D/OkHttp: {\r\n                        &quot;requestId&quot;:&quot;29178-5342114-1&quot;,\r\nD/OkHttp:                &quot;errorCode&quot;: &quot;404.001.04&quot;,\r\n                        &quot;errorMessage&quot;: &quot;Invalid Authentication Header&quot;\r\n                    }\r\n\r\nThis was my expectation: On pressing the &quot;Pay&quot; button, I should be prompted to the sim toolkit requesting for my Mpesa pin to continue with the payment.\r\n\r\nI will appreciate any assistance that will be offered.","title":"Unable to integrate Mpesa Api into my android app","body":"<p>I am trying to integrate MPESA API into my android app using the procedures given by Daraja. On launching my application, the following error is displayed in my Logcat</p>\n\n<pre><code>D/OkHttp: {\n                    \"requestId\": \"16583-1090909-1\",\n                    \"errorCode\": \"400.008.02\",\n</code></pre>\n\n<p>D/OkHttp:                     \"errorMessage\": \"Invalid grant type passed\"\n                    }</p>\n\n<p>and after entering a Phone number and amount to be sent, the Sim Toolkit is not being brought to the front.\nThe following error is displayed in my Logcat</p>\n\n<pre><code>D/OkHttp: {\n                    \"requestId\":\"29178-5342114-1\",\n</code></pre>\n\n<p>D/OkHttp:                \"errorCode\": \"404.001.04\",\n                        \"errorMessage\": \"Invalid Authentication Header\"\n                    }</p>\n\n<p>This was my expectation: On pressing the \"Pay\" button, I should be prompted to the sim toolkit requesting for my Mpesa pin to continue with the payment.</p>\n\n<p>I will appreciate any assistance that will be offered.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9166,"page":826,"page_size":100}
