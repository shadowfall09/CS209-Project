{"items":[{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":70574,"reputation":414,"user_id":1961033,"display_name":"piradian"},"score":0,"creation_date":1532438123,"post_id":51499388,"comment_id":89967310,"body_markdown":"a similiar question exists: https://stackoverflow.com/questions/20143114/jackson-deserialization-of-type-with-different-objects. Maybe similiar approach will help you.","body":"a similiar question exists: <a href=\"https://stackoverflow.com/questions/20143114/jackson-deserialization-of-type-with-different-objects\" title=\"jackson deserialization of type with different objects\">stackoverflow.com/questions/20143114/&hellip;</a>. Maybe similiar approach will help you."},{"owner":{"account_id":123129,"reputation":742,"user_id":317404,"accept_rate":50,"display_name":"Matt"},"score":0,"creation_date":1532440528,"post_id":51499388,"comment_id":89969158,"body_markdown":"@piradian that is similar, the reason I can&#39;t do it that way is due to 3) in my list above. Only the `type` field can tell me how to deserialise the `value` field, and that requires both at the same time.","body":"@piradian that is similar, the reason I can&#39;t do it that way is due to 3) in my list above. Only the <code>type</code> field can tell me how to deserialise the <code>value</code> field, and that requires both at the same time."},{"owner":{"account_id":70574,"reputation":414,"user_id":1961033,"display_name":"piradian"},"score":0,"creation_date":1532443400,"post_id":51499388,"comment_id":89971261,"body_markdown":"I Don&#39;t undestand why can&#39;t you do it as it was proposed in mentione question. Use &quot;untyped&quot; mapping first. E.g. class RawItem{ String type; Object value; ...} and then use Factory to get Item instance based on type.","body":"I Don&#39;t undestand why can&#39;t you do it as it was proposed in mentione question. Use &quot;untyped&quot; mapping first. E.g. class RawItem{ String type; Object value; ...} and then use Factory to get Item instance based on type."},{"owner":{"account_id":123129,"reputation":742,"user_id":317404,"accept_rate":50,"display_name":"Matt"},"score":0,"creation_date":1532444338,"post_id":51499388,"comment_id":89971935,"body_markdown":"A couple of reasons. 1. The types Result, Item, Value, etc are all generated classes from a thrift idl so I can&#39;t really modify them to change, for example, the Result.obj list to be of type RawItem instead of Item.  2. If I were to continue using these classes as-is and create a companion set of types where raw values are used where they&#39;re needed then I&#39;d just have to implement all the mapping by hand anyway, not only for the problematic Value type but all the other properties in there too. At this point I may as well just parse the whole thing as a tree and do it by hand from the start.","body":"A couple of reasons. 1. The types Result, Item, Value, etc are all generated classes from a thrift idl so I can&#39;t really modify them to change, for example, the Result.obj list to be of type RawItem instead of Item.  2. If I were to continue using these classes as-is and create a companion set of types where raw values are used where they&#39;re needed then I&#39;d just have to implement all the mapping by hand anyway, not only for the problematic Value type but all the other properties in there too. At this point I may as well just parse the whole thing as a tree and do it by hand from the start."}],"owner":{"account_id":123129,"reputation":742,"user_id":317404,"accept_rate":50,"display_name":"Matt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3147,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1646881831,"creation_date":1532437503,"question_id":51499388,"body_markdown":"I&#39;m trying to combine a few features of Jackson such that I can deserialize a `{type,value}` pair in json into a Union type in java representing all the information but can&#39;t work out how to do it. Help would be greatly appreciated.\r\n\r\nHere is what I&#39;m working with:\r\n\r\n 1. The java Union type enforces that only a single value can be set at any one time, think of this like an enum but with dynamic data. \r\n 2. The value of the union can take any number of types, some scalar and some object or collection. \r\n 3. Multiple options for the union can share the same type, i.e. `noyes` and `offon` are both `boolean` types in the example below.\r\n 4. I&#39;m not in control of the json structure in any way (it&#39;s the data passed to/from an external API) so can&#39;t change it at all. \r\n 5. The java classes are generated code from Thrift idl so I can&#39;t add annotations to them or adjust their structure drastically. I am in control of the idl though, but would like to keep it fairly clean and free of leaky patterns like the `{type, value}` that is needed for json but not strongly typed languages.\r\n 6. The type names used in the json (and some of the field names) conflict with java (and other language) keywords which is why each value is suffixed: `noyes -&gt; noYesValue`, `float -&gt; floatValue`\r\n\r\n\r\n# A concrete example\r\n\r\nI have a json document that looks like this:\r\n\r\n    {\r\n      &quot;obj&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;noyes&quot;,\r\n          &quot;value&quot;: true,\r\n          &quot;id&quot;: 1\r\n        }, {\r\n          &quot;type&quot;: &quot;offon&quot;,\r\n          &quot;value&quot;: false,\r\n          &quot;id&quot;: 2\r\n        }, {\r\n          &quot;type&quot;: &quot;text&quot;,\r\n          &quot;value&quot;: &quot;hello&quot;,\r\n          &quot;id&quot;: 3\r\n        }, {\r\n          &quot;type&quot;: &quot;float&quot;,\r\n          &quot;value&quot;: 1.2,\r\n          &quot;id&quot;: 4\r\n        }, {\r\n          &quot;type&quot;: &quot;times&quot;,\r\n          &quot;value&quot;: [{&quot;s&quot;: &quot;12:22&quot;, &quot;e&quot;: &quot;16:00&quot;}]\r\n          &quot;id&quot;: 5\r\n        }\r\n      ]\r\n    }\r\n\r\nAnd java classes that look like this:\r\n\r\n    class Response {\r\n      List&lt;Item&gt; obj;\r\n    }\r\n    \r\n    class Item {\r\n      int id;\r\n      Value value;\r\n    }\r\n    \r\n    class Value {\r\n      enum Fields { NO_YES_VALUE, OFF_ON_VALUE, TEXT_VALUE, FLOAT_VALUE, TIMES_VALUE }\r\n    \r\n      static Item noYesValue(boolean noYes) {...}\r\n      static Item offOnValue(boolean offOn) {...}\r\n      static Item textValue(String text) {...}\r\n      static Item floatValue(float value) {...}\r\n      static Item timesValue(List&lt;TimesValue&gt; times) {...}\r\n    \r\n      Fields setField;\r\n      Object fieldValue;\r\n\r\n      Value() {}\r\n      Value(Fields field, Object value) {setFieldValue(field, value);}\r\n    \r\n      Fields getSetField() { return setField; }\r\n      Object getFieldValue() { return fieldValue; }\r\n      void setFieldValue(Fields field, Object value) {\r\n        // checkType(field, value);\r\n        this.setField = field;\r\n        this.fieldValue = value;\r\n      }\r\n      \r\n      // these do have checks for the set field, types, null, etc\r\n      boolean getNoYesValue() { return (Boolean) fieldValue; }\r\n      void setNoYesValue(boolean v) { setField = NO_YES_VALUE; fieldValue = v; }\r\n      boolean getOffOnValue() { return (Boolean) fieldValue; }\r\n      void setOffOnValue(boolean v) { setField = OFF_ON_VALUE; fieldValue = v; }\r\n      // ...\r\n    }\r\n\r\n    class TimesValue {\r\n      String startTime;\r\n      String endTime;\r\n    }\r\n\r\nWith the java classes the following are equivalent:\r\n\r\n    Value.noYesValue(false);\r\n    new Value().setNoYesValue(false);\r\n    new Value().setFieldValue(NO_YES_VALUE, false);\r\n    new Value(NO_YES_VALUE, false);\r\n\r\nSimilarly the following are equivalent:\r\n\r\n    value.getNoYesValue();\r\n    (Boolean) value.getFieldValue();\r\n\r\n\r\n\r\n# Partially working code (does what I want but only with simple types)\r\n\r\nAfter some more digging and trial and error I&#39;ve managed to get farther than I have before.\r\n\r\nFirst things first, I flatten out the `Value` into the `Item`\r\n\r\n    interface ItemMixin {\r\n      @JsonUnwrapped Value getValue();\r\n    }\r\n\r\nThis hoists all my `Value` properties so they become part of the `Item` class, the equivalent of `{&quot;value&quot;: {&quot;type&quot;: &quot;offon&quot;, &quot;value&quot;: false}}` becoming `{&quot;type&quot;: &quot;offon&quot;, &quot;value&quot;: false}`\r\n\r\nNext I need to deal with that `Fields` enum, to do this I wrote a custom Deserializer which looked like this and register it with a module\r\n\r\n    new StdDeserializer&lt;Value.Fields&gt;(Value.Fields.class) {\r\n      @Override\r\n      public Value.Fields deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n        String type = p.getText();\r\n        switch (type) {\r\n          case &quot;noyes&quot;: return Value.Fields.NO_YES_VALUE;\r\n          case &quot;offon&quot;: return Value.Fields.OFF_ON_VALUE;\r\n          case &quot;float&quot;: return Value.Fields.FLOAT_VALUE;\r\n          case &quot;text&quot;: return Value.Fields.TEXT_VALUE;\r\n          case &quot;times&quot;: return Value.Fields.TIMES_VALUE;\r\n          // ...\r\n        }\r\n        ctxt.handleWeirdStringValue(Value.Fields.class, type, &quot;Unsupported Value type&quot;);\r\n        return null;\r\n      }\r\n    }\r\n\r\nFinally I tell the `Value` type to use the constructor to create the object\r\n\r\n    static abstract class ValueMixin {\r\n      @JsonCreator\r\n      ValueMixin(@JsonProperty(&quot;type&quot;) Value.Fields type, @JsonProperty(&quot;value&quot;) Object value) {}\r\n    }\r\n\r\nThis gives me 90% of what I need, however the issue I now have is that this only works for primitive types (`boolean`, `String`, etc), my `times` field just gets deserialized as a `String` causing exceptions in my code.\r\n\r\nI&#39;ve tried using `@JsonTypeInfo` and `@JsonSubTypes` on the `value` parameter, creating a property for that field and putting the annotations there but can&#39;t get the creator to correctly resolve the type needed.","title":"Jackson deserialization of union object with sibling type","body":"<p>I'm trying to combine a few features of Jackson such that I can deserialize a <code>{type,value}</code> pair in json into a Union type in java representing all the information but can't work out how to do it. Help would be greatly appreciated.</p>\n<p>Here is what I'm working with:</p>\n<ol>\n<li>The java Union type enforces that only a single value can be set at any one time, think of this like an enum but with dynamic data.</li>\n<li>The value of the union can take any number of types, some scalar and some object or collection.</li>\n<li>Multiple options for the union can share the same type, i.e. <code>noyes</code> and <code>offon</code> are both <code>boolean</code> types in the example below.</li>\n<li>I'm not in control of the json structure in any way (it's the data passed to/from an external API) so can't change it at all.</li>\n<li>The java classes are generated code from Thrift idl so I can't add annotations to them or adjust their structure drastically. I am in control of the idl though, but would like to keep it fairly clean and free of leaky patterns like the <code>{type, value}</code> that is needed for json but not strongly typed languages.</li>\n<li>The type names used in the json (and some of the field names) conflict with java (and other language) keywords which is why each value is suffixed: <code>noyes -&gt; noYesValue</code>, <code>float -&gt; floatValue</code></li>\n</ol>\n<h1>A concrete example</h1>\n<p>I have a json document that looks like this:</p>\n<pre><code>{\n  &quot;obj&quot;: [\n    {\n      &quot;type&quot;: &quot;noyes&quot;,\n      &quot;value&quot;: true,\n      &quot;id&quot;: 1\n    }, {\n      &quot;type&quot;: &quot;offon&quot;,\n      &quot;value&quot;: false,\n      &quot;id&quot;: 2\n    }, {\n      &quot;type&quot;: &quot;text&quot;,\n      &quot;value&quot;: &quot;hello&quot;,\n      &quot;id&quot;: 3\n    }, {\n      &quot;type&quot;: &quot;float&quot;,\n      &quot;value&quot;: 1.2,\n      &quot;id&quot;: 4\n    }, {\n      &quot;type&quot;: &quot;times&quot;,\n      &quot;value&quot;: [{&quot;s&quot;: &quot;12:22&quot;, &quot;e&quot;: &quot;16:00&quot;}]\n      &quot;id&quot;: 5\n    }\n  ]\n}\n</code></pre>\n<p>And java classes that look like this:</p>\n<pre><code>class Response {\n  List&lt;Item&gt; obj;\n}\n\nclass Item {\n  int id;\n  Value value;\n}\n\nclass Value {\n  enum Fields { NO_YES_VALUE, OFF_ON_VALUE, TEXT_VALUE, FLOAT_VALUE, TIMES_VALUE }\n\n  static Item noYesValue(boolean noYes) {...}\n  static Item offOnValue(boolean offOn) {...}\n  static Item textValue(String text) {...}\n  static Item floatValue(float value) {...}\n  static Item timesValue(List&lt;TimesValue&gt; times) {...}\n\n  Fields setField;\n  Object fieldValue;\n\n  Value() {}\n  Value(Fields field, Object value) {setFieldValue(field, value);}\n\n  Fields getSetField() { return setField; }\n  Object getFieldValue() { return fieldValue; }\n  void setFieldValue(Fields field, Object value) {\n    // checkType(field, value);\n    this.setField = field;\n    this.fieldValue = value;\n  }\n  \n  // these do have checks for the set field, types, null, etc\n  boolean getNoYesValue() { return (Boolean) fieldValue; }\n  void setNoYesValue(boolean v) { setField = NO_YES_VALUE; fieldValue = v; }\n  boolean getOffOnValue() { return (Boolean) fieldValue; }\n  void setOffOnValue(boolean v) { setField = OFF_ON_VALUE; fieldValue = v; }\n  // ...\n}\n\nclass TimesValue {\n  String startTime;\n  String endTime;\n}\n</code></pre>\n<p>With the java classes the following are equivalent:</p>\n<pre><code>Value.noYesValue(false);\nnew Value().setNoYesValue(false);\nnew Value().setFieldValue(NO_YES_VALUE, false);\nnew Value(NO_YES_VALUE, false);\n</code></pre>\n<p>Similarly the following are equivalent:</p>\n<pre><code>value.getNoYesValue();\n(Boolean) value.getFieldValue();\n</code></pre>\n<h1>Partially working code (does what I want but only with simple types)</h1>\n<p>After some more digging and trial and error I've managed to get farther than I have before.</p>\n<p>First things first, I flatten out the <code>Value</code> into the <code>Item</code></p>\n<pre><code>interface ItemMixin {\n  @JsonUnwrapped Value getValue();\n}\n</code></pre>\n<p>This hoists all my <code>Value</code> properties so they become part of the <code>Item</code> class, the equivalent of <code>{&quot;value&quot;: {&quot;type&quot;: &quot;offon&quot;, &quot;value&quot;: false}}</code> becoming <code>{&quot;type&quot;: &quot;offon&quot;, &quot;value&quot;: false}</code></p>\n<p>Next I need to deal with that <code>Fields</code> enum, to do this I wrote a custom Deserializer which looked like this and register it with a module</p>\n<pre><code>new StdDeserializer&lt;Value.Fields&gt;(Value.Fields.class) {\n  @Override\n  public Value.Fields deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n    String type = p.getText();\n    switch (type) {\n      case &quot;noyes&quot;: return Value.Fields.NO_YES_VALUE;\n      case &quot;offon&quot;: return Value.Fields.OFF_ON_VALUE;\n      case &quot;float&quot;: return Value.Fields.FLOAT_VALUE;\n      case &quot;text&quot;: return Value.Fields.TEXT_VALUE;\n      case &quot;times&quot;: return Value.Fields.TIMES_VALUE;\n      // ...\n    }\n    ctxt.handleWeirdStringValue(Value.Fields.class, type, &quot;Unsupported Value type&quot;);\n    return null;\n  }\n}\n</code></pre>\n<p>Finally I tell the <code>Value</code> type to use the constructor to create the object</p>\n<pre><code>static abstract class ValueMixin {\n  @JsonCreator\n  ValueMixin(@JsonProperty(&quot;type&quot;) Value.Fields type, @JsonProperty(&quot;value&quot;) Object value) {}\n}\n</code></pre>\n<p>This gives me 90% of what I need, however the issue I now have is that this only works for primitive types (<code>boolean</code>, <code>String</code>, etc), my <code>times</code> field just gets deserialized as a <code>String</code> causing exceptions in my code.</p>\n<p>I've tried using <code>@JsonTypeInfo</code> and <code>@JsonSubTypes</code> on the <code>value</code> parameter, creating a property for that field and putting the annotations there but can't get the creator to correctly resolve the type needed.</p>\n"},{"tags":["java","xml","spring","netbeans"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1490066915,"post_id":42917829,"comment_id":72934446,"body_markdown":"Your `beans.xml` resource is within `/hello`.","body":"Your <code>beans.xml</code> resource is within <code>&#47;hello</code>."},{"owner":{"account_id":6238924,"reputation":715,"user_id":4853208,"display_name":"John"},"score":0,"creation_date":1490067035,"post_id":42917829,"comment_id":72934474,"body_markdown":"@SotiriosDelimanolis Ok, where should it go?","body":"@SotiriosDelimanolis Ok, where should it go?"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1490067121,"post_id":42917829,"comment_id":72934502,"body_markdown":"It can go anywhere on the classpath you want. You just have to locate it properly when you&#39;re using it with the `ClassPathXmlApplicationContext`.","body":"It can go anywhere on the classpath you want. You just have to locate it properly when you&#39;re using it with the <code>ClassPathXmlApplicationContext</code>."}],"answers":[{"tags":[],"owner":{"account_id":2375630,"reputation":30604,"user_id":2815219,"display_name":"Raman Sahasi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1490067698,"creation_date":1490067698,"answer_id":42918023,"question_id":42917829,"body_markdown":"Your `beans.xml` is in `hello` package so you should refer it using:\r\n\r\n    AbstractApplicationContext context = new ClassPathXmlApplicationContext(&quot;hello/beans.xml&quot;);\r\n\r\n\r\n\r\n*P.S.: A better practice would be to place this in `resources` directory.*","title":"Spring/NetBeans - java.io.FileNotFoundException: class path resource [beans.xml] cannot be opened because it does not exist","body":"<p>Your <code>beans.xml</code> is in <code>hello</code> package so you should refer it using:</p>\n\n<pre><code>AbstractApplicationContext context = new ClassPathXmlApplicationContext(\"hello/beans.xml\");\n</code></pre>\n\n<p><em>P.S.: A better practice would be to place this in <code>resources</code> directory.</em></p>\n"},{"tags":[],"owner":{"account_id":10471720,"reputation":1,"user_id":7719392,"display_name":"bran"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1490076981,"creation_date":1490076981,"answer_id":42919701,"question_id":42917829,"body_markdown":"**ResourceLoader**  have four kind of method to load resource\r\n**(classpath，http，file，none（depending on applicationContext)).**\r\nYou can learn more about it ","title":"Spring/NetBeans - java.io.FileNotFoundException: class path resource [beans.xml] cannot be opened because it does not exist","body":"<p><strong>ResourceLoader</strong>  have four kind of method to load resource\n<strong>(classpath，http，file，none（depending on applicationContext)).</strong>\nYou can learn more about it </p>\n"},{"tags":[],"owner":{"account_id":24182246,"reputation":1,"user_id":18142716,"display_name":"t_maty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646881754,"creation_date":1646881754,"answer_id":71418383,"question_id":42917829,"body_markdown":"Also found out if on windows, double backslashes (\\\\) should be used.\r\n\r\n so this:\r\n    AbstractApplicationContext context = new ClassPathXmlApplicationContext(&quot;/hello/beans.xml&quot;)\r\n\r\n    would be like this:\r\n    AbstractApplicationContext context = new ClassPathXmlApplicationContext(&quot;\\\\hello\\\\beans.xml&quot;)","title":"Spring/NetBeans - java.io.FileNotFoundException: class path resource [beans.xml] cannot be opened because it does not exist","body":"<p>Also found out if on windows, double backslashes (\\) should be used.</p>\n<p>so this:\nAbstractApplicationContext context = new ClassPathXmlApplicationContext(&quot;/hello/beans.xml&quot;)</p>\n<pre><code>would be like this:\nAbstractApplicationContext context = new ClassPathXmlApplicationContext(&quot;\\\\hello\\\\beans.xml&quot;)\n</code></pre>\n"}],"owner":{"account_id":6238924,"reputation":715,"user_id":4853208,"display_name":"John"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4611,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":42918023,"answer_count":3,"score":1,"last_activity_date":1646881754,"creation_date":1490066379,"question_id":42917829,"body_markdown":"Whenever I try to run my java project, I get file not found exception saying that beans.xml cannot be found. I am using NetBeans and have read that I might need to set my classpath to the correct directory or the project will not run correctly (Eclipse does this automatically(?)). Running this same program with same library works with Eclipse. I don&#39;t know if my problem is Spring related or classpath related (but I assume it&#39;s a classpath issue).\r\n\r\nMainApp.java\r\n\r\n    package hello;\r\n\r\n    import org.springframework.context.support.AbstractApplicationContext;\r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\r\n    public class MainApp {\r\n\t    public static void main(String[] args) {\r\n\t\t    AbstractApplicationContext context = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);\r\n\t\t\r\n\t\t    HelloWorld hello = (HelloWorld) context.getBean(&quot;helloWorld&quot;);\r\n                    hello.getMessage();\r\n\t    }\r\n    }\r\n\r\nHelloWorld.java\r\n\r\n    package hello;\r\n\r\n    public class HelloWorld {\r\n            private String message;\r\n\r\n            public void setMessage(String message) {\r\n                    this.message = message;\r\n            }\r\n\r\n            public void getMessage() {\r\n                    System.out.println(&quot;Message: &quot; + message);\r\n            }\r\n    }\r\n\r\nbeans.xml\r\n\r\n    &lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;beans xmlns = &quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation = &quot;http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\r\n\r\n       &lt;bean id = &quot;helloWorld&quot; class = &quot;hello.HelloWorld&quot;&gt;\r\n          &lt;property name = &quot;message&quot; value = &quot;Hello World!&quot;/&gt;\r\n       &lt;/bean&gt;\r\n\r\n    &lt;/beans&gt;\r\n\r\nST\r\n\r\n    run:\r\n    \tMar 20, 2017 11:05:04 PM     org.springframework.context.support.ClassPathXmlApplicationContext prepareRefresh\r\n    \tINFO: Refreshing     org.springframework.context.support.ClassPathXmlApplicationContext@4ee285c    6: startup date [Mon Mar 20 23:05:04 EDT 2017]; root of context hierarchy\r\n    \tMar 20, 2017 11:05:04 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\r\n    \tINFO: Loading XML bean definitions from class path resource [beans.xml]\r\n    \tException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [beans.xml]; nested exception is java.io.FileNotFoundException: class path resource [beans.xml] cannot be opened because it does not exist\r\n    \t\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:344)\r\n    \t\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:304)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:181)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:217)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:252)\r\n    \t\tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:127)\r\n    \t\tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:93)\r\n    \t\tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:129)\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:613)\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:514)\r\n    \t\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\r\n    \t\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:83)\r\n    \t\tat hello.MainApp.main(MainApp.java:8)\r\n    \tCaused by: java.io.FileNotFoundException: class path resource [beans.xml] cannot be opened because it does not exist\r\n    \t\tat org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:172)\r\n    \t\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:330)\r\n    \t\t... 13 more\r\n    \t/home/john/.cache/netbeans/8.1/executor-snippets/run.xml:53: Java returned: 1\r\n    \tBUILD FAILED (total time: 0 seconds)\r\n\r\n\r\n[File and Project structures][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vfPtE.png\r\n\r\nThanks for the help.\r\n\r\n**SOLUTION:** In NetBeans the beans.xml type file you are using to instantiate your beans must contain it&#39;s path. In my case, I had to type out:\r\n\r\n    AbstractApplicationContext context = new ClassPathXmlApplicationContext(&quot;/hello/beans.xml&quot;);\r\nInstead of just:\r\n\r\n    AbstractApplicationContext context = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);","title":"Spring/NetBeans - java.io.FileNotFoundException: class path resource [beans.xml] cannot be opened because it does not exist","body":"<p>Whenever I try to run my java project, I get file not found exception saying that beans.xml cannot be found. I am using NetBeans and have read that I might need to set my classpath to the correct directory or the project will not run correctly (Eclipse does this automatically(?)). Running this same program with same library works with Eclipse. I don't know if my problem is Spring related or classpath related (but I assume it's a classpath issue).</p>\n\n<p>MainApp.java</p>\n\n<pre><code>package hello;\n\nimport org.springframework.context.support.AbstractApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class MainApp {\n    public static void main(String[] args) {\n        AbstractApplicationContext context = new ClassPathXmlApplicationContext(\"beans.xml\");\n\n        HelloWorld hello = (HelloWorld) context.getBean(\"helloWorld\");\n                hello.getMessage();\n    }\n}\n</code></pre>\n\n<p>HelloWorld.java</p>\n\n<pre><code>package hello;\n\npublic class HelloWorld {\n        private String message;\n\n        public void setMessage(String message) {\n                this.message = message;\n        }\n\n        public void getMessage() {\n                System.out.println(\"Message: \" + message);\n        }\n}\n</code></pre>\n\n<p>beans.xml</p>\n\n<pre><code>&lt;?xml version = \"1.0\" encoding = \"UTF-8\"?&gt;\n\n&lt;beans xmlns = \"http://www.springframework.org/schema/beans\"\n   xmlns:xsi = \"http://www.w3.org/2001/XMLSchema-instance\"\n   xsi:schemaLocation = \"http://www.springframework.org/schema/beans\n   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\"&gt;\n\n   &lt;bean id = \"helloWorld\" class = \"hello.HelloWorld\"&gt;\n      &lt;property name = \"message\" value = \"Hello World!\"/&gt;\n   &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>ST</p>\n\n<pre><code>run:\n    Mar 20, 2017 11:05:04 PM     org.springframework.context.support.ClassPathXmlApplicationContext prepareRefresh\n    INFO: Refreshing     org.springframework.context.support.ClassPathXmlApplicationContext@4ee285c    6: startup date [Mon Mar 20 23:05:04 EDT 2017]; root of context hierarchy\n    Mar 20, 2017 11:05:04 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\n    INFO: Loading XML bean definitions from class path resource [beans.xml]\n    Exception in thread \"main\" org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [beans.xml]; nested exception is java.io.FileNotFoundException: class path resource [beans.xml] cannot be opened because it does not exist\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:344)\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:304)\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:181)\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:217)\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:252)\n        at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:127)\n        at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:93)\n        at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:129)\n        at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:613)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:514)\n        at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\n        at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:83)\n        at hello.MainApp.main(MainApp.java:8)\n    Caused by: java.io.FileNotFoundException: class path resource [beans.xml] cannot be opened because it does not exist\n        at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:172)\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:330)\n        ... 13 more\n    /home/john/.cache/netbeans/8.1/executor-snippets/run.xml:53: Java returned: 1\n    BUILD FAILED (total time: 0 seconds)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/vfPtE.png\" rel=\"nofollow noreferrer\">File and Project structures</a></p>\n\n<p>Thanks for the help.</p>\n\n<p><strong>SOLUTION:</strong> In NetBeans the beans.xml type file you are using to instantiate your beans must contain it's path. In my case, I had to type out:</p>\n\n<pre><code>AbstractApplicationContext context = new ClassPathXmlApplicationContext(\"/hello/beans.xml\");\n</code></pre>\n\n<p>Instead of just:</p>\n\n<pre><code>AbstractApplicationContext context = new ClassPathXmlApplicationContext(\"beans.xml\");\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646881982,"post_id":71418365,"comment_id":126235301,"body_markdown":"How are you running your program?","body":"How are you running your program?"},{"owner":{"account_id":18196333,"reputation":1,"user_id":14703514,"display_name":"2019"},"score":0,"creation_date":1646882428,"post_id":71418365,"comment_id":126235370,"body_markdown":"First: `mvn install` then `java -jar target/project1.jar`","body":"First: <code>mvn install</code> then <code>java -jar target&#47;project1.jar</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1646884701,"post_id":71418365,"comment_id":126235663,"body_markdown":"You need to put your dependencies on your classpath. See https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven","body":"You need to put your dependencies on your classpath. See <a href=\"https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven\" title=\"how can i create an executable jar with dependencies using maven\">stackoverflow.com/questions/574594/&hellip;</a>"}],"owner":{"account_id":18196333,"reputation":1,"user_id":14703514,"display_name":"2019"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646881546,"creation_date":1646881546,"question_id":71418365,"body_markdown":"I am creating a project with maven, I use the ibm Json package, when compiling I don&#39;t get any errors, however when I run it I get the following: \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/ibm/json/java/JSONObject\r\n\tat myp.Peticion.llamaServidor(Peticion.java:44)\r\n\tat myp.Peticion.daFormatoCsv(Peticion.java:59)\r\n\tat myp.Proyecto01.main(Proyecto01.java:75)\r\n\r\n    Caused by: java.lang.ClassNotFoundException: com.ibm.json.java.JSONObject\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 3 more\r\n\r\nI understand that it finds the class at compile time but not at run time, I add the dependencies part of the pom\r\n\r\n   \r\n\r\n     &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;junit&lt;/groupId&gt;\r\n              &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n              &lt;version&gt;4.12&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;com.ibm.websphere.appserver.api&lt;/groupId&gt;\r\n              &lt;artifactId&gt;com.ibm.websphere.appserver.api.json&lt;/artifactId&gt;\r\n              &lt;version&gt;1.0.11&lt;/version&gt;\r\n           &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\nCould someone help me with solving this problem?\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/ibm/json/java/JSONObject","body":"<p>I am creating a project with maven, I use the ibm Json package, when compiling I don't get any errors, however when I run it I get the following:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/ibm/json/java/JSONObject\nat myp.Peticion.llamaServidor(Peticion.java:44)\nat myp.Peticion.daFormatoCsv(Peticion.java:59)\nat myp.Proyecto01.main(Proyecto01.java:75)\n\nCaused by: java.lang.ClassNotFoundException: com.ibm.json.java.JSONObject\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 3 more\n</code></pre>\n<p>I understand that it finds the class at compile time but not at run time, I add the dependencies part of the pom</p>\n<pre><code> &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;junit&lt;/groupId&gt;\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\n          &lt;version&gt;4.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.ibm.websphere.appserver.api&lt;/groupId&gt;\n          &lt;artifactId&gt;com.ibm.websphere.appserver.api.json&lt;/artifactId&gt;\n          &lt;version&gt;1.0.11&lt;/version&gt;\n       &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Could someone help me with solving this problem?</p>\n"},{"tags":["java","spring","kotlin","bean-validation"],"comments":[{"owner":{"account_id":4698323,"reputation":6170,"user_id":3802631,"accept_rate":86,"display_name":"Jan B."},"score":0,"creation_date":1537550120,"post_id":52444699,"comment_id":91839636,"body_markdown":"Good question, the silence here possibly supports my impression. Imo there is no way since the successful construction of an object is a prerequisite to field validation. Nevertheless, I&#39;d love to read an opinion of a Kotlin champ. I&#39;ve got a Spring-related solution for this in mind, but I guess you want to solve it the Kotlin-way?","body":"Good question, the silence here possibly supports my impression. Imo there is no way since the successful construction of an object is a prerequisite to field validation. Nevertheless, I&#39;d love to read an opinion of a Kotlin champ. I&#39;ve got a Spring-related solution for this in mind, but I guess you want to solve it the Kotlin-way?"},{"owner":{"account_id":538749,"reputation":641,"user_id":906589,"accept_rate":62,"display_name":"jgeerts"},"score":0,"creation_date":1537792128,"post_id":52444699,"comment_id":91899770,"body_markdown":"No, I don&#39;t have a good solution except for making everything optional or using the !! when mapping to my entities to rely on the null safety in my model. I would be interested in the Spring solution you had in mind.","body":"No, I don&#39;t have a good solution except for making everything optional or using the !! when mapping to my entities to rely on the null safety in my model. I would be interested in the Spring solution you had in mind."},{"owner":{"account_id":4698323,"reputation":6170,"user_id":3802631,"accept_rate":86,"display_name":"Jan B."},"score":0,"creation_date":1537825443,"post_id":52444699,"comment_id":91916787,"body_markdown":"After doing a little search, I guess, it might be a little harder than I&#39;ve thought in the first place, however, possible. The question is, if the approaches justify the effort you need to make. First thing is to use Spring AOP, second HandlerInterceptors which let you access and modify the request before Jackson deserializes the request payload into your CustomerDTO.  It&#39;s definitely not a simple solution, take a look at this question: https://stackoverflow.com/questions/50932518/how-to-modify-request-body-before-reaching-controller-in-spring-boot/50933530","body":"After doing a little search, I guess, it might be a little harder than I&#39;ve thought in the first place, however, possible. The question is, if the approaches justify the effort you need to make. First thing is to use Spring AOP, second HandlerInterceptors which let you access and modify the request before Jackson deserializes the request payload into your CustomerDTO.  It&#39;s definitely not a simple solution, take a look at this question: <a href=\"https://stackoverflow.com/questions/50932518/how-to-modify-request-body-before-reaching-controller-in-spring-boot/50933530\" title=\"how to modify request body before reaching controller in spring boot\">stackoverflow.com/questions/50932518/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9487947,"reputation":2945,"user_id":7053782,"display_name":"Sheinbergon"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1555462227,"creation_date":1555462227,"answer_id":55718413,"question_id":52444699,"body_markdown":"I believe you are going at it the wrong way.\r\n\r\nKotlin&#39;s null safety operators exact purpose is to enforce you to explicitly express nullability behavior in your code in order to drastically minimize NPE, or at least make sure you knowingly caused them yourself :). In your (or any MVC like access pattern) case, you are faced with the following scenario\r\n\r\n - Field might be null as part of the DTO payload\r\n - Framework validation should disqualify the DTO if field is null.\r\n - If framework validation has succeeded, the DTO field is **implicitly assumed to be not null**.\r\n\r\nThough it makes sense in terms of logical flow, it&#39;s actually a violation that may result in an NPE, because nothing in the model/contract guarantees these fields won&#39;t be null\r\n\r\nStill, In java, you&#39;d have just made that final assumption using a getter(you&#39;d have been using a getter anyway, it&#39;s java, right?). \r\n\r\nWell - it&#39;s no different in kotlin, if that&#39;s what you require:\r\n\r\n```kotlin\r\ndata class CustomerDto(@field:NotNull \r\n                       @JsonProperty(&quot;firstName&quot;) private val _firstName: String? = null,\r\n                       @field:NotNull\r\n                       @JsonProperty(&quot;lastName&quot;) private val _lastName: String? = null) {\r\n        val firstName get() = _firstName!!\r\n        val lastName get() = _lastName!!\r\n    }\r\n```\r\n(This examples assumes you are using `jackson` for JSON de/serialization)\r\n\r\nWhile still manually forcing non-nullability using the `!!` operator (which is something you wanted to avoid), you are now abstracting that aspect from the rest of your codebase, getting that java-getter like behavior \r\n","title":"Kotlin Spring bean validation nullability","body":"<p>I believe you are going at it the wrong way.</p>\n\n<p>Kotlin's null safety operators exact purpose is to enforce you to explicitly express nullability behavior in your code in order to drastically minimize NPE, or at least make sure you knowingly caused them yourself :). In your (or any MVC like access pattern) case, you are faced with the following scenario</p>\n\n<ul>\n<li>Field might be null as part of the DTO payload</li>\n<li>Framework validation should disqualify the DTO if field is null.</li>\n<li>If framework validation has succeeded, the DTO field is <strong>implicitly assumed to be not null</strong>.</li>\n</ul>\n\n<p>Though it makes sense in terms of logical flow, it's actually a violation that may result in an NPE, because nothing in the model/contract guarantees these fields won't be null</p>\n\n<p>Still, In java, you'd have just made that final assumption using a getter(you'd have been using a getter anyway, it's java, right?). </p>\n\n<p>Well - it's no different in kotlin, if that's what you require:</p>\n\n<pre><code>data class CustomerDto(@field:NotNull \n                       @JsonProperty(\"firstName\") private val _firstName: String? = null,\n                       @field:NotNull\n                       @JsonProperty(\"lastName\") private val _lastName: String? = null) {\n        val firstName get() = _firstName!!\n        val lastName get() = _lastName!!\n    }\n</code></pre>\n\n<p>(This examples assumes you are using <code>jackson</code> for JSON de/serialization)</p>\n\n<p>While still manually forcing non-nullability using the <code>!!</code> operator (which is something you wanted to avoid), you are now abstracting that aspect from the rest of your codebase, getting that java-getter like behavior </p>\n"},{"tags":[],"owner":{"account_id":5859401,"reputation":1532,"user_id":4615649,"display_name":"CRISTIAN ROMERO MATESANZ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583920595,"creation_date":1583920595,"answer_id":60633308,"question_id":52444699,"body_markdown":"I think a better solution is to use Kotlin&#39;s default value inside properties:\r\n\r\n    data class CustomerDto(\r\n    @field: NotBlank\r\n    val firstName: String=&quot;&quot;,\r\n\r\n    @field: NotBlank\r\n    val lastName: String=&quot;&quot;)\r\n\r\nFirst name and last name attributes will always have a value (from json or default value =&quot;&quot;). The solution is not perfect but It works like it was expected.","title":"Kotlin Spring bean validation nullability","body":"<p>I think a better solution is to use Kotlin's default value inside properties:</p>\n\n<pre><code>data class CustomerDto(\n@field: NotBlank\nval firstName: String=\"\",\n\n@field: NotBlank\nval lastName: String=\"\")\n</code></pre>\n\n<p>First name and last name attributes will always have a value (from json or default value =\"\"). The solution is not perfect but It works like it was expected.</p>\n"},{"tags":[],"owner":{"account_id":4544127,"reputation":1702,"user_id":3691240,"display_name":"Pedro Rodrigues"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646880744,"creation_date":1645215317,"answer_id":71179372,"question_id":52444699,"body_markdown":"I&#39;m late to the party here, but I hope it can help someone else.\r\n\r\nSince Spring first tries to create an instance of the bean annotated with `@ModelAttribute` before actually trying to bind the fields (see [ModelAttributeMethodProcessor][ModelAttributeMethodProcessor]), we don&#39;t have much choice. While we can use a default value for the fields, this is not an option for complex objects (e.g. `MultipartFile`).\r\n\r\nLooking at the source code, I found out Spring can set those values using a [DataBinder][WebDataBinder]. So, we can declare the fields to be initialized later without the need to be nullable.\r\n\r\n```kotlin\r\nclass MyClassDTO {\r\n\r\n    @field:NotBlank(message = &quot;Name cannot be blank&quot;)\r\n    lateinit var name: String\r\n\r\n    @field:NotBlank(message = &quot;Topic cannot be blank&quot;)\r\n    lateinit var topic: String\r\n\r\n    @field:NotNull(message = &quot;File cannot be null&quot;)\r\n    lateinit var file: MultipartFile\r\n}\r\n```\r\n\r\n[ModelAttributeMethodProcessor]: https://github.com/spring-projects/spring-framework/blob/29185a3d28fa5e9c1b4821ffe519ef6f56b51962/spring-web/src/main/java/org/springframework/web/method/annotation/ModelAttributeMethodProcessor.java#L126\r\n[WebDataBinder]: https://github.com/spring-projects/spring-framework/blob/29185a3d28fa5e9c1b4821ffe519ef6f56b51962/spring-web/src/main/java/org/springframework/web/method/annotation/ModelAttributeMethodProcessor.java#L171","title":"Kotlin Spring bean validation nullability","body":"<p>I'm late to the party here, but I hope it can help someone else.</p>\n<p>Since Spring first tries to create an instance of the bean annotated with <code>@ModelAttribute</code> before actually trying to bind the fields (see <a href=\"https://github.com/spring-projects/spring-framework/blob/29185a3d28fa5e9c1b4821ffe519ef6f56b51962/spring-web/src/main/java/org/springframework/web/method/annotation/ModelAttributeMethodProcessor.java#L126\" rel=\"nofollow noreferrer\">ModelAttributeMethodProcessor</a>), we don't have much choice. While we can use a default value for the fields, this is not an option for complex objects (e.g. <code>MultipartFile</code>).</p>\n<p>Looking at the source code, I found out Spring can set those values using a <a href=\"https://github.com/spring-projects/spring-framework/blob/29185a3d28fa5e9c1b4821ffe519ef6f56b51962/spring-web/src/main/java/org/springframework/web/method/annotation/ModelAttributeMethodProcessor.java#L171\" rel=\"nofollow noreferrer\">DataBinder</a>. So, we can declare the fields to be initialized later without the need to be nullable.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyClassDTO {\n\n    @field:NotBlank(message = &quot;Name cannot be blank&quot;)\n    lateinit var name: String\n\n    @field:NotBlank(message = &quot;Topic cannot be blank&quot;)\n    lateinit var topic: String\n\n    @field:NotNull(message = &quot;File cannot be null&quot;)\n    lateinit var file: MultipartFile\n}\n</code></pre>\n"}],"owner":{"account_id":538749,"reputation":641,"user_id":906589,"accept_rate":62,"display_name":"jgeerts"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4816,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":3,"score":20,"last_activity_date":1646880744,"creation_date":1537536091,"question_id":52444699,"body_markdown":"In my Spring application that is built with Kotlin I would like to use bean validation on a data class that looks like this.\r\n\r\n    data class CustomerDto(\r\n        @field: NotBlank\r\n        val firstName: String,\r\n\r\n        @field: NotBlank\r\n        val lastName: String)\r\n\r\nOn sending a post with an empty firstName to the customer endpoint I would like to get the constraint validations but due to the fields not allowing null values I don&#39;t get the validations but rather get the following error.\r\n\r\n    &quot;status&quot;: 400,\r\n    &quot;error&quot;: &quot;Bad Request&quot;,\r\n    &quot;message&quot;: &quot;JSON parse error: Instantiation of [simple type, class pkg.CustomerDto] value failed for JSON property firstName due to missing (therefore NULL) value for creator parameter firstName which is a non-nullable type; nested exception is com.fasterxml.jackson.module.kotlin.MissingKotlinParameterException: Instantiation of [simple type, class pkg.CustomerDto] value failed for JSON property firstName due to missing (therefore NULL) value for creator parameter firstName which is a non-nullable type\\n at [Source: (PushbackInputStream); line: 19, column: 1] (through reference chain: pkg.CustomerDto[\\&quot;firstName\\&quot;])&quot;,\r\n    &quot;path&quot;: &quot;/shop/5/customer&quot;\r\n\r\nIs there any other option to mark the dto field as not optional and still get the constraint violations? When I mark them as being optional I have to use the !! on the not nullable fields in the code when mapping them to my entities.\r\n\r\nThanks. ","title":"Kotlin Spring bean validation nullability","body":"<p>In my Spring application that is built with Kotlin I would like to use bean validation on a data class that looks like this.</p>\n\n<pre><code>data class CustomerDto(\n    @field: NotBlank\n    val firstName: String,\n\n    @field: NotBlank\n    val lastName: String)\n</code></pre>\n\n<p>On sending a post with an empty firstName to the customer endpoint I would like to get the constraint validations but due to the fields not allowing null values I don't get the validations but rather get the following error.</p>\n\n<pre><code>\"status\": 400,\n\"error\": \"Bad Request\",\n\"message\": \"JSON parse error: Instantiation of [simple type, class pkg.CustomerDto] value failed for JSON property firstName due to missing (therefore NULL) value for creator parameter firstName which is a non-nullable type; nested exception is com.fasterxml.jackson.module.kotlin.MissingKotlinParameterException: Instantiation of [simple type, class pkg.CustomerDto] value failed for JSON property firstName due to missing (therefore NULL) value for creator parameter firstName which is a non-nullable type\\n at [Source: (PushbackInputStream); line: 19, column: 1] (through reference chain: pkg.CustomerDto[\\\"firstName\\\"])\",\n\"path\": \"/shop/5/customer\"\n</code></pre>\n\n<p>Is there any other option to mark the dto field as not optional and still get the constraint violations? When I mark them as being optional I have to use the !! on the not nullable fields in the code when mapping them to my entities.</p>\n\n<p>Thanks. </p>\n"},{"tags":["java","android","gradle","dependencies","gradle-dependencies"],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646880287,"creation_date":1646880287,"answer_id":71418262,"question_id":71417996,"body_markdown":"You can refer my libray&#39;s setting.gradle file. You can find it from here -&gt; [Click here for the settings.gradle][1]. As you can see I have added it as a module here at the last line.  Also see my build.gradle where I am adding the project as a module.[Click here to view the file][2].\r\n\r\n\r\n  [1]: https://github.com/sambhav2358/BadgeGenerator/blob/main/settings.gradle\r\n  [2]: https://github.com/sambhav2358/BadgeGenerator/blob/main/app/build.gradle","title":"Declaring dependencies in settings.graddle and build.graddle between Android and Java project","body":"<p>You can refer my libray's setting.gradle file. You can find it from here -&gt; <a href=\"https://github.com/sambhav2358/BadgeGenerator/blob/main/settings.gradle\" rel=\"nofollow noreferrer\">Click here for the settings.gradle</a>. As you can see I have added it as a module here at the last line.  Also see my build.gradle where I am adding the project as a module.<a href=\"https://github.com/sambhav2358/BadgeGenerator/blob/main/app/build.gradle\" rel=\"nofollow noreferrer\">Click here to view the file</a>.</p>\n"}],"owner":{"account_id":24509881,"reputation":5,"user_id":18424338,"display_name":"romes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":932,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646880287,"creation_date":1646877540,"question_id":71417996,"body_markdown":"I&#39;m trying to declare a dependency between 2 subprojects. My Android java project named &#39;myapp&#39; is intended to be dependent on my Java project named &#39;PC&#39;. I followed the instrunctions from the \r\n[official gradle site](https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html) by adding    `implementation project(&#39;:PC&#39;)` in build.gradle, under `dependencies{}`. In settings.gradle I added `include &#39;:&#39;PC&#39;`. After doing both I got error\r\n\r\n    &gt; Could not resolve all task dependencies for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n       &gt; Could not resolve project :PC.\r\n         Required by:\r\n             project :app\r\n          &gt; No matching configuration of project :PC was found. The consumer was configured to find a runtime of a component, preferably optimized for Android, as well as attribute &#39;com.android.build.api.attributes.BuildTypeAttr&#39; with value &#39;debug&#39; but:\r\n              - None of the consumable configurations have attributes.\r\n\r\n also tried adding \r\n\r\n    project(&#39;:PC&#39;).projectDir = new File(settingsDir, &#39;..\\\\user\\\\PC&#39;)\r\n    \r\n\r\n  to settings.graddle, but that didn&#39;t work either, received a syntax error message:\r\n\r\n    Illegal char &lt;:&gt; at index 43:","title":"Declaring dependencies in settings.graddle and build.graddle between Android and Java project","body":"<p>I'm trying to declare a dependency between 2 subprojects. My Android java project named 'myapp' is intended to be dependent on my Java project named 'PC'. I followed the instrunctions from the\n<a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html\" rel=\"nofollow noreferrer\">official gradle site</a> by adding    <code>implementation project(':PC')</code> in build.gradle, under <code>dependencies{}</code>. In settings.gradle I added <code>include ':'PC'</code>. After doing both I got error</p>\n<pre><code>&gt; Could not resolve all task dependencies for configuration ':app:debugRuntimeClasspath'.\n   &gt; Could not resolve project :PC.\n     Required by:\n         project :app\n      &gt; No matching configuration of project :PC was found. The consumer was configured to find a runtime of a component, preferably optimized for Android, as well as attribute 'com.android.build.api.attributes.BuildTypeAttr' with value 'debug' but:\n          - None of the consumable configurations have attributes.\n</code></pre>\n<p>also tried adding</p>\n<pre><code>project(':PC').projectDir = new File(settingsDir, '..\\\\user\\\\PC')\n</code></pre>\n<p>to settings.graddle, but that didn't work either, received a syntax error message:</p>\n<pre><code>Illegal char &lt;:&gt; at index 43:\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-data","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1493275590,"creation_date":1493275086,"answer_id":43650307,"question_id":43648479,"body_markdown":"You have multiple, slightly different questions:\r\n\r\nFrom your title:\r\n\r\n&gt; Change/Override Default Behaviour of Mongorepository Save() (&lt;S extends T&gt; S save(S var1)) Method\r\n\r\nYou can use custom implementations to override the behavior of existing methods in Spring Data repositories. See [the reference documentation][1] how to do that. Your last paragraph suggests you already do that. Unfortunately you don&#39;t tell us why you aren&#39;t satisfied with this.\r\n\r\n&gt; Is there any way to intercept/change before Mongorepository Save() (&lt;S extends T&gt; S save(S var1)) method For document update.\r\n\r\nYes a Spring Data MongoDB repository fires various life cycle  events for this purpose. Once again, [see the reference documentation for details][2]. \r\n\r\n&gt; I want to know the Internal code of Mongorepository Save \r\n\r\nWhat you are looking for is [`SimpleMongoRepository.java`][3] which delegates for almost all work to [`MongoTemplate.java`][4]\r\n\r\n  [1]: http://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#repositories.custom-implementations\r\n  [2]: http://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.mapping-usage.events\r\n  [3]: https://github.com/spring-projects/spring-data-mongodb/blob/master/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java\r\n  [4]: https://github.com/spring-projects/spring-data-mongodb/blob/master/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java","title":"Change or override default Behavior of Mongorepository.save(document)","body":"<p>You have multiple, slightly different questions:</p>\n\n<p>From your title:</p>\n\n<blockquote>\n  <p>Change/Override Default Behaviour of Mongorepository Save() ( S save(S var1)) Method</p>\n</blockquote>\n\n<p>You can use custom implementations to override the behavior of existing methods in Spring Data repositories. See <a href=\"http://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#repositories.custom-implementations\" rel=\"noreferrer\">the reference documentation</a> how to do that. Your last paragraph suggests you already do that. Unfortunately you don't tell us why you aren't satisfied with this.</p>\n\n<blockquote>\n  <p>Is there any way to intercept/change before Mongorepository Save() ( S save(S var1)) method For document update.</p>\n</blockquote>\n\n<p>Yes a Spring Data MongoDB repository fires various life cycle  events for this purpose. Once again, <a href=\"http://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.mapping-usage.events\" rel=\"noreferrer\">see the reference documentation for details</a>. </p>\n\n<blockquote>\n  <p>I want to know the Internal code of Mongorepository Save </p>\n</blockquote>\n\n<p>What you are looking for is <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/master/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java\" rel=\"noreferrer\"><code>SimpleMongoRepository.java</code></a> which delegates for almost all work to <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/master/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java\" rel=\"noreferrer\"><code>MongoTemplate.java</code></a></p>\n"},{"tags":[],"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493275563,"creation_date":1493275563,"answer_id":43650448,"question_id":43648479,"body_markdown":"You&#39;re looking for [Lifecycle Events](http://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.mapping-usage.events). \r\n\r\nOverriding repository base methods allows you to interact with the domain object itself but the mapping happens inside of `MappingMongoConverter`.\r\n\r\nSaving an object will fire events such as \r\n\r\n* [`BeforeSaveEvent`](http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/mapping/event/BeforeSaveEvent.html)\r\n* [`BeforeConvertEvent`](http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/mapping/event/BeforeConvertEvent.html)\r\n* [`AfterConvertEvent`](http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/mapping/event/AfterConvertEvent.html)\r\n\r\nThese events carry a reference to your saved object. `AfterConvertEvent` additionally exposes the mapped representation (`DBObject`) of your object which you can change/enhance.\r\n\r\nYou can listen to these events by configuring a listener bean such as `ApplicationListener&lt;AfterConvertEvent&gt;`.","title":"Change or override default Behavior of Mongorepository.save(document)","body":"<p>You're looking for <a href=\"http://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.mapping-usage.events\" rel=\"nofollow noreferrer\">Lifecycle Events</a>. </p>\n\n<p>Overriding repository base methods allows you to interact with the domain object itself but the mapping happens inside of <code>MappingMongoConverter</code>.</p>\n\n<p>Saving an object will fire events such as </p>\n\n<ul>\n<li><a href=\"http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/mapping/event/BeforeSaveEvent.html\" rel=\"nofollow noreferrer\"><code>BeforeSaveEvent</code></a></li>\n<li><a href=\"http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/mapping/event/BeforeConvertEvent.html\" rel=\"nofollow noreferrer\"><code>BeforeConvertEvent</code></a></li>\n<li><a href=\"http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/mapping/event/AfterConvertEvent.html\" rel=\"nofollow noreferrer\"><code>AfterConvertEvent</code></a></li>\n</ul>\n\n<p>These events carry a reference to your saved object. <code>AfterConvertEvent</code> additionally exposes the mapped representation (<code>DBObject</code>) of your object which you can change/enhance.</p>\n\n<p>You can listen to these events by configuring a listener bean such as <code>ApplicationListener&lt;AfterConvertEvent&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":9107232,"reputation":803,"user_id":6777170,"display_name":"Captain Levi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646879817,"creation_date":1646879817,"answer_id":71418220,"question_id":43648479,"body_markdown":"You can fragmentally override the MongoRepository by ensuring you match the signature of method in the custom interface.\r\n\r\nE.g. If you want to override `save()` method, create a new interface like \r\n```\r\ninterface CustomizedSave&lt;T&gt; {\r\n  &lt;S extends T&gt; S save(S entity);\r\n}\r\n```\r\n\r\nImplement this interface:\r\n```\r\n@Component\r\nclass CustomizedSaveImpl&lt;T&gt; implements CustomizedSave&lt;T&gt; {\r\n  //This is optional, I added it to just show you can use it here\r\n  MongoTemplate mongoTemplate;\r\n\r\n  @Autowired\r\n  public CustomizedSaveImpl(MongoTemplate mongoTemplate) {\r\n    this.mongoTemplate = mongoTemplate;\r\n  }\r\n\r\n  public &lt;S extends T&gt; S save(S entity) {\r\n    // Your custom implementation\r\n  }\r\n}\r\n```\r\n\r\n\r\nExtend the interface in the base MongoRepository like\r\n```\r\ninterface UserRepository extends CrudRepository&lt;User, Long&gt;, CustomizedSave&lt;User&gt; {\r\n}\r\n```\r\n\r\nThis will ensure only save menthod gets overridden and rest stay as is.\r\n\r\nDocs: https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#repositories.single-repository-behavior\r\n ","title":"Change or override default Behavior of Mongorepository.save(document)","body":"<p>You can fragmentally override the MongoRepository by ensuring you match the signature of method in the custom interface.</p>\n<p>E.g. If you want to override <code>save()</code> method, create a new interface like</p>\n<pre><code>interface CustomizedSave&lt;T&gt; {\n  &lt;S extends T&gt; S save(S entity);\n}\n</code></pre>\n<p>Implement this interface:</p>\n<pre><code>@Component\nclass CustomizedSaveImpl&lt;T&gt; implements CustomizedSave&lt;T&gt; {\n  //This is optional, I added it to just show you can use it here\n  MongoTemplate mongoTemplate;\n\n  @Autowired\n  public CustomizedSaveImpl(MongoTemplate mongoTemplate) {\n    this.mongoTemplate = mongoTemplate;\n  }\n\n  public &lt;S extends T&gt; S save(S entity) {\n    // Your custom implementation\n  }\n}\n</code></pre>\n<p>Extend the interface in the base MongoRepository like</p>\n<pre><code>interface UserRepository extends CrudRepository&lt;User, Long&gt;, CustomizedSave&lt;User&gt; {\n}\n</code></pre>\n<p>This will ensure only save menthod gets overridden and rest stay as is.</p>\n<p>Docs: <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#repositories.single-repository-behavior\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#repositories.single-repository-behavior</a></p>\n"}],"owner":{"account_id":7480366,"reputation":84,"user_id":5685250,"display_name":"user5685250"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5451,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":43650307,"answer_count":3,"score":3,"last_activity_date":1646879817,"creation_date":1493265921,"question_id":43648479,"body_markdown":"Is there any way to intercept or change the `document` before `MongoRepository.save(e)` updates it? \r\n\r\nI am trying to push a subproperty inside and array in a document. I have tried to manipulate `DBObjects` by implementing  `converter`(using custom converter) but the `$push` operation did not work over there.\r\n\r\nI think  to make it work I have to implement something like  `mongoOperation.update(dbObjectMatch,dbObjectUdate).` \r\n\r\nI found `MongoRepositorysave(document)` doesn&#39;t support partial update, i.e write only the change to an existing document. I want to know the internal code of `MongoRepository.save` to override the default behavior.\r\n\r\nI have implemented `MyRepositoryCustom` where I can override `save` by extending the same in `MyRepository`, which extends `MongoRepository&lt;T, ID extends Serializable&gt;` and then used `mongoTemplate.updateFirst(query,update,Clazz.class)` to achieve what I am looking for but I am not satisfied.","title":"Change or override default Behavior of Mongorepository.save(document)","body":"<p>Is there any way to intercept or change the <code>document</code> before <code>MongoRepository.save(e)</code> updates it? </p>\n\n<p>I am trying to push a subproperty inside and array in a document. I have tried to manipulate <code>DBObjects</code> by implementing  <code>converter</code>(using custom converter) but the <code>$push</code> operation did not work over there.</p>\n\n<p>I think  to make it work I have to implement something like  <code>mongoOperation.update(dbObjectMatch,dbObjectUdate).</code> </p>\n\n<p>I found <code>MongoRepositorysave(document)</code> doesn't support partial update, i.e write only the change to an existing document. I want to know the internal code of <code>MongoRepository.save</code> to override the default behavior.</p>\n\n<p>I have implemented <code>MyRepositoryCustom</code> where I can override <code>save</code> by extending the same in <code>MyRepository</code>, which extends <code>MongoRepository&lt;T, ID extends Serializable&gt;</code> and then used <code>mongoTemplate.updateFirst(query,update,Clazz.class)</code> to achieve what I am looking for but I am not satisfied.</p>\n"},{"tags":["java","json","maven","org.json","java-17"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1635552261,"post_id":69775844,"comment_id":123337544,"body_markdown":"Why do you care?  The client (user) of that object is still going to have to determine which of the possibilities is/are present.  What&#39;s wrong with just ignoring the null values?  Sounds like you&#39;re making work for yourself.","body":"Why do you care?  The client (user) of that object is still going to have to determine which of the possibilities is/are present.  What&#39;s wrong with just ignoring the null values?  Sounds like you&#39;re making work for yourself."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1635552880,"post_id":69775844,"comment_id":123337626,"body_markdown":"With Jackson that is easy, with `org.json` I am not sure you can do it.","body":"With Jackson that is easy, with <code>org.json</code> I am not sure you can do it."},{"owner":{"account_id":21949210,"reputation":29,"user_id":16228594,"display_name":"InsertIGN"},"score":0,"creation_date":1635553582,"post_id":69775844,"comment_id":123337720,"body_markdown":"@JimGarrison I want to just return the values that are not null; I am using an API to return a message over to a different server, and that API will throw a fit if there are null values. :/","body":"@JimGarrison I want to just return the values that are not null; I am using an API to return a message over to a different server, and that API will throw a fit if there are null values. :/"},{"owner":{"account_id":21949210,"reputation":29,"user_id":16228594,"display_name":"InsertIGN"},"score":0,"creation_date":1635553628,"post_id":69775844,"comment_id":123337723,"body_markdown":"@Jo&#227;oDias Never used Jackson, only ever used org.json. Also, I have written an insane amount of code in org.json, it would take months to change everything. :/","body":"@Jo&#227;oDias Never used Jackson, only ever used org.json. Also, I have written an insane amount of code in org.json, it would take months to change everything. :/"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1635554059,"post_id":69775844,"comment_id":123337779,"body_markdown":"That is maybe the original issue. I&#39;ve never used `org.json` but it seems to me that Jackson is way simpler to use and more robust. Refer to https://stackoverflow.com/questions/42641301/org-json-jsonobject-vs-gson-library-jsonobject for example.","body":"That is maybe the original issue. I&#39;ve never used <code>org.json</code> but it seems to me that Jackson is way simpler to use and more robust. Refer to <a href=\"https://stackoverflow.com/questions/42641301/org-json-jsonobject-vs-gson-library-jsonobject\" title=\"org json jsonobject vs gson library jsonobject\">stackoverflow.com/questions/42641301/&hellip;</a> for example."}],"answers":[{"tags":[],"owner":{"account_id":23191479,"reputation":56,"user_id":17287795,"display_name":"somayaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635679622,"creation_date":1635614003,"answer_id":69780426,"question_id":69775844,"body_markdown":"```java\r\n    JSONObject socialMedias = new JSONObject(apiResponse).getJSONObject(&quot;socialMedias&quot;);\r\n    JSONArray socialMediaArray = socialMedias.toJSONArray(socialMedias.names());\r\n    socialMediaArray.toList().stream().filter(v -&gt; v != null);\r\n```\r\n\r\n","title":"How can I return all the values except for a &quot;null&quot; one in a JSONObject?","body":"<pre class=\"lang-java prettyprint-override\"><code>    JSONObject socialMedias = new JSONObject(apiResponse).getJSONObject(&quot;socialMedias&quot;);\n    JSONArray socialMediaArray = socialMedias.toJSONArray(socialMedias.names());\n    socialMediaArray.toList().stream().filter(v -&gt; v != null);\n</code></pre>\n"}],"owner":{"account_id":21949210,"reputation":29,"user_id":16228594,"display_name":"InsertIGN"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69780426,"answer_count":1,"score":0,"last_activity_date":1646879760,"creation_date":1635552127,"question_id":69775844,"body_markdown":"Let me give some background information:\r\n\r\nI have an org.json JSONObject which has all of the values of this JSON object, taken from an API.\r\n```\r\n&quot;socialMedias&quot; : {\r\n    &quot;TWITTER&quot; : &quot;[twitter url]&quot;,\r\n    &quot;YOUTUBE&quot; : &quot;[youtube url]&quot;,\r\n    &quot;INSTAGRAM&quot; : &quot;[instagram url]&quot;,\r\n    &quot;FACEBOOK&quot; : null,\r\n    &quot;VIMEO&quot; : &quot;[vimeo url]&quot;,\r\n    &quot;LINKEDIN&quot; : &quot;[linkedin url]&quot;\r\n}\r\n```\r\nThe thing is, however, that while in one of these calls to the API, there is only one value that is null, but the same value isn&#39;t always null, and there can be more than one values that ARE null; Let me illustrate what I mean:\r\n```\r\n&quot;socialMedias&quot; : {\r\n    &quot;TWITTER&quot; : &quot;[twitter url]&quot;,\r\n    &quot;YOUTUBE&quot; : null,\r\n    &quot;INSTAGRAM&quot; : null,\r\n    &quot;FACEBOOK&quot; : &quot;[facebook url]&quot;,\r\n    &quot;VIMEO&quot; : &quot;[vimeo url]&quot;,\r\n    &quot;LINKEDIN&quot; : &quot;[linkedin url]&quot;\r\n}\r\n```\r\nThat above is something the API could return. Another one:\r\n```\r\n&quot;socialMedias&quot; : {\r\n    &quot;TWITTER&quot; : null,\r\n    &quot;YOUTUBE&quot; : null,\r\n    &quot;INSTAGRAM&quot; : null,\r\n    &quot;FACEBOOK&quot; : null,\r\n    &quot;VIMEO&quot; : null,\r\n    &quot;LINKEDIN&quot; : null\r\n}\r\n```\r\nLiterally every value in the JSONObject can be null!\r\n\r\nBack to the question:\r\nHow would I be able to check which values of the JSONObject are null, and only return the ones that are NOT null; So for the very first code block I had, the code would return the ``TWITTER, YOUTUBE, INSTAGRAM, VIMEO`` and ``LINKEDIN`` URLs, and exclude the ``FACEBOOK``, one because the value of that one is null.\r\n\r\nThis API returns a JSONObject of the social medias that a user has linked to their account, and puts null if the user hasn&#39;t added a value, if it wasn&#39;t clear.\r\n\r\nI am doing this in Java 17, using the latest version of the ``org.json`` library. Thanks in advance for any help, appreciate it!\r\n\r\nEdit: guess i just wasn&#39;t using my brain in this post.\r\ni realize now that i could just have looped through each value in the socialMedias object and just added all the ones that weren&#39;t null into a list... sorry!","title":"How can I return all the values except for a &quot;null&quot; one in a JSONObject?","body":"<p>Let me give some background information:</p>\n<p>I have an org.json JSONObject which has all of the values of this JSON object, taken from an API.</p>\n<pre><code>&quot;socialMedias&quot; : {\n    &quot;TWITTER&quot; : &quot;[twitter url]&quot;,\n    &quot;YOUTUBE&quot; : &quot;[youtube url]&quot;,\n    &quot;INSTAGRAM&quot; : &quot;[instagram url]&quot;,\n    &quot;FACEBOOK&quot; : null,\n    &quot;VIMEO&quot; : &quot;[vimeo url]&quot;,\n    &quot;LINKEDIN&quot; : &quot;[linkedin url]&quot;\n}\n</code></pre>\n<p>The thing is, however, that while in one of these calls to the API, there is only one value that is null, but the same value isn't always null, and there can be more than one values that ARE null; Let me illustrate what I mean:</p>\n<pre><code>&quot;socialMedias&quot; : {\n    &quot;TWITTER&quot; : &quot;[twitter url]&quot;,\n    &quot;YOUTUBE&quot; : null,\n    &quot;INSTAGRAM&quot; : null,\n    &quot;FACEBOOK&quot; : &quot;[facebook url]&quot;,\n    &quot;VIMEO&quot; : &quot;[vimeo url]&quot;,\n    &quot;LINKEDIN&quot; : &quot;[linkedin url]&quot;\n}\n</code></pre>\n<p>That above is something the API could return. Another one:</p>\n<pre><code>&quot;socialMedias&quot; : {\n    &quot;TWITTER&quot; : null,\n    &quot;YOUTUBE&quot; : null,\n    &quot;INSTAGRAM&quot; : null,\n    &quot;FACEBOOK&quot; : null,\n    &quot;VIMEO&quot; : null,\n    &quot;LINKEDIN&quot; : null\n}\n</code></pre>\n<p>Literally every value in the JSONObject can be null!</p>\n<p>Back to the question:\nHow would I be able to check which values of the JSONObject are null, and only return the ones that are NOT null; So for the very first code block I had, the code would return the <code>TWITTER, YOUTUBE, INSTAGRAM, VIMEO</code> and <code>LINKEDIN</code> URLs, and exclude the <code>FACEBOOK</code>, one because the value of that one is null.</p>\n<p>This API returns a JSONObject of the social medias that a user has linked to their account, and puts null if the user hasn't added a value, if it wasn't clear.</p>\n<p>I am doing this in Java 17, using the latest version of the <code>org.json</code> library. Thanks in advance for any help, appreciate it!</p>\n<p>Edit: guess i just wasn't using my brain in this post.\ni realize now that i could just have looped through each value in the socialMedias object and just added all the ones that weren't null into a list... sorry!</p>\n"},{"tags":["python","java"],"answers":[{"tags":[],"owner":{"account_id":928316,"reputation":57632,"user_id":2011147,"display_name":"Selcuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646878736,"creation_date":1646878736,"answer_id":71418108,"question_id":71418057,"body_markdown":"You can use `.join()` with a generator expression:\r\n\r\n```python\r\n&gt;&gt;&gt; d = {&#39;abc&#39;: 123}\r\n&gt;&gt;&gt; &quot;|&quot;.join(&quot;|&quot;.join(map(str, t)) for t in d.items())\r\n\r\n&#39;abc|123&#39;\r\n```\r\n\r\nor\r\n\r\n```python\r\n&gt;&gt;&gt; d = {&quot;abc&quot;: 123, &quot;def&quot;: 456}\r\n&gt;&gt;&gt; &quot;|&quot;.join(&quot;|&quot;.join(map(str, t)) for t in d.items())\r\n\r\n&#39;abc|123|def|456&#39;\r\n```","title":"Tree Map Generation in Python","body":"<p>You can use <code>.join()</code> with a generator expression:</p>\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; d = {'abc': 123}\n&gt;&gt;&gt; &quot;|&quot;.join(&quot;|&quot;.join(map(str, t)) for t in d.items())\n\n'abc|123'\n</code></pre>\n<p>or</p>\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; d = {&quot;abc&quot;: 123, &quot;def&quot;: 456}\n&gt;&gt;&gt; &quot;|&quot;.join(&quot;|&quot;.join(map(str, t)) for t in d.items())\n\n'abc|123|def|456'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7506523,"reputation":583,"user_id":5702858,"display_name":"Leonardo Martinez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646879709,"creation_date":1646879709,"answer_id":71418211,"question_id":71418057,"body_markdown":"With list comprehension it is also possible to achieve the intended result:\r\n\r\n    d = {&quot;abc&quot;:123}\r\n    &#39;|&#39;.join([str(item) for value in d.items() for item in value])\r\n    # Result:\r\n    &#39;abc|123&#39;","title":"Tree Map Generation in Python","body":"<p>With list comprehension it is also possible to achieve the intended result:</p>\n<pre><code>d = {&quot;abc&quot;:123}\n'|'.join([str(item) for value in d.items() for item in value])\n# Result:\n'abc|123'\n</code></pre>\n"}],"owner":{"account_id":22908225,"reputation":1,"user_id":17045937,"display_name":"Rishabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646879709,"creation_date":1646878275,"question_id":71418057,"body_markdown":"I have a object\r\n{&quot;abc&quot;:123}\r\nI have written a simple Java Function to convert this object \r\n\r\n    public String getObjectPayload(Map&lt;String, Object&gt; paramMap) {\r\n        Map&lt;String, Object&gt; sortedMap = new TreeMap(paramMap);\r\n        sortedMap.values().removeIf(Objects::isNull);\r\n        return StringUtils.collectionToDelimitedString(sortedMap.values(), &quot;|&quot;);\r\n    }\r\n\r\nI am facing issue when I am implementing the same logic in python\r\n\r\nMy desired result is a final string from this object, Java function is giving me the correct results, the interpretation is\r\n&quot;abc|123&quot;","title":"Tree Map Generation in Python","body":"<p>I have a object\n{&quot;abc&quot;:123}\nI have written a simple Java Function to convert this object</p>\n<pre><code>public String getObjectPayload(Map&lt;String, Object&gt; paramMap) {\n    Map&lt;String, Object&gt; sortedMap = new TreeMap(paramMap);\n    sortedMap.values().removeIf(Objects::isNull);\n    return StringUtils.collectionToDelimitedString(sortedMap.values(), &quot;|&quot;);\n}\n</code></pre>\n<p>I am facing issue when I am implementing the same logic in python</p>\n<p>My desired result is a final string from this object, Java function is giving me the correct results, the interpretation is\n&quot;abc|123&quot;</p>\n"},{"tags":["java","classnotfoundexception","urlclassloader"],"answers":[{"tags":[],"owner":{"account_id":4915976,"reputation":81,"user_id":3959909,"display_name":"Adrian Duta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451306650,"creation_date":1451306650,"answer_id":34493767,"question_id":34493230,"body_markdown":"I think because there are two classLoaders involved, and you try to cast an object from a classLoader to an object from another class loader. But is just a guess.","title":"Keep getting NoClassDefFoundError while loading a class with URLClassLoader","body":"<p>I think because there are two classLoaders involved, and you try to cast an object from a classLoader to an object from another class loader. But is just a guess.</p>\n"},{"tags":[],"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1451306818,"creation_date":1451306818,"answer_id":34493816,"question_id":34493230,"body_markdown":"Your `Main` class references `ExternalObject` and therefore the compiled `Main.class` has a dependency on `ExternalObject`.\r\n\r\nNow when you run `Main` and `ExternalObject` is only available in `ext.jar` but not in the classpath used to run `Main` the following happens:\r\n\r\nThe `uclTest` classloader successfully loads `ExternalObject` from `ext.jar`. Also creation succeeds (seen by the print statement in the constructor).\r\n\r\nBut what fails are the assignments to local variables `ExternalObject extObj`.\r\n`Main` cannot use the loaded class `ExternalObject` since it is loaded by a different classloader. There is also no `ExternalObject` in the classpath of `Main` and you get a `NoClassDefFoundError`.\r\n\r\nYour test should run without problems when you remove the two assignments `ExternalObject extObj = (ExternalObject)`.","title":"Keep getting NoClassDefFoundError while loading a class with URLClassLoader","body":"<p>Your <code>Main</code> class references <code>ExternalObject</code> and therefore the compiled <code>Main.class</code> has a dependency on <code>ExternalObject</code>.</p>\n\n<p>Now when you run <code>Main</code> and <code>ExternalObject</code> is only available in <code>ext.jar</code> but not in the classpath used to run <code>Main</code> the following happens:</p>\n\n<p>The <code>uclTest</code> classloader successfully loads <code>ExternalObject</code> from <code>ext.jar</code>. Also creation succeeds (seen by the print statement in the constructor).</p>\n\n<p>But what fails are the assignments to local variables <code>ExternalObject extObj</code>.\n<code>Main</code> cannot use the loaded class <code>ExternalObject</code> since it is loaded by a different classloader. There is also no <code>ExternalObject</code> in the classpath of <code>Main</code> and you get a <code>NoClassDefFoundError</code>.</p>\n\n<p>Your test should run without problems when you remove the two assignments <code>ExternalObject extObj = (ExternalObject)</code>.</p>\n"},{"tags":[],"owner":{"account_id":2992656,"reputation":692,"user_id":2539898,"accept_rate":75,"display_name":"Ravindra Devadiga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451314327,"creation_date":1451314327,"answer_id":34495699,"question_id":34493230,"body_markdown":"How you are running the Main class is causing the problem.\r\n\r\nAs you said, I have created jar called **ext1.jar** with ExternalObject and InternalObjct class files inside it.\r\nAnd created **ext.jar** with Main and InternalObject class files.\r\n\r\nIf I run the following command, it throws Exception as you mentioned\r\n\r\n&gt; java -classpath .;C:\r\n\\path\\to\\ext.jar test.inside.Main\r\n\r\nBut, If I run the following command, it runs fine without any Exception\r\n\r\n&gt; java -classpath .;C:\r\n\\path\\to\\ext1.jar;C:\r\n\\path\\to\\ext.jar test.inside.Main","title":"Keep getting NoClassDefFoundError while loading a class with URLClassLoader","body":"<p>How you are running the Main class is causing the problem.</p>\n\n<p>As you said, I have created jar called <strong>ext1.jar</strong> with ExternalObject and InternalObjct class files inside it.\nAnd created <strong>ext.jar</strong> with Main and InternalObject class files.</p>\n\n<p>If I run the following command, it throws Exception as you mentioned</p>\n\n<blockquote>\n  <p>java -classpath .;C:\n  \\path\\to\\ext.jar test.inside.Main</p>\n</blockquote>\n\n<p>But, If I run the following command, it runs fine without any Exception</p>\n\n<blockquote>\n  <p>java -classpath .;C:\n  \\path\\to\\ext1.jar;C:\n  \\path\\to\\ext.jar test.inside.Main</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7536122,"reputation":303,"user_id":5722339,"display_name":"Zevin Zenph Zambori"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451737920,"creation_date":1451737920,"answer_id":34565908,"question_id":34493230,"body_markdown":"Hooray!! I just found a better way for my codes! What I did is creating an `abstract` class `ExternalBase.class` with all abstract methods I need, then inherit `ExternalObject.class` from `ExternalBase.class`. Therefore dynamically loaded class have to be neither loaded into the custom loader nor imported by the classes that use the object, and the codes work totally perfect for me. :)","title":"Keep getting NoClassDefFoundError while loading a class with URLClassLoader","body":"<p>Hooray!! I just found a better way for my codes! What I did is creating an <code>abstract</code> class <code>ExternalBase.class</code> with all abstract methods I need, then inherit <code>ExternalObject.class</code> from <code>ExternalBase.class</code>. Therefore dynamically loaded class have to be neither loaded into the custom loader nor imported by the classes that use the object, and the codes work totally perfect for me. :)</p>\n"}],"owner":{"account_id":7536122,"reputation":303,"user_id":5722339,"display_name":"Zevin Zenph Zambori"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1241,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34493816,"answer_count":4,"score":2,"last_activity_date":1646879659,"creation_date":1451304296,"question_id":34493230,"body_markdown":"Recently I&#39;m creating something that have to load/unload external jar packages dynamically. I&#39;m now trying to do this with `URLClassLoader`, but I keep getting `NoClassDefFoundError` while trying to make new instances.\r\n\r\nIt seems that the external class is loaded successfully since the codes in the constructor are executed, but `ClassNotFoundException` and `NoClassDefFoundError` still keep being thrown.\r\n\r\nI made an small package that recreates the error and here are the codes:\r\n\r\nThe codes below are in `ExternalObject.class` ,which is put in a .jar file, that I&#39;m trying to load dynamically:\r\n\r\n    package test.outside;\r\n\r\n    import test.inside.InternalObject;\r\n\r\n    public class ExternalObject\r\n    {\r\n\t    private final String str;\r\n\t\r\n\t    public ExternalObject()\r\n\t    {\r\n\t\t    this.str = &quot;Creating an ExternalObject with nothing.&quot;;\r\n\t\t    this.print();\r\n\t    }\r\n\t\r\n\t    public ExternalObject(InternalObject inObj)\r\n\t    {\r\n\t\t    this.str = inObj.getString();\r\n\t\t    this.print();\r\n\t    }\r\n\t\r\n\t    public void print()\r\n\t    {\r\n\t    \tSystem.out.println(this.str);\r\n\t    }\r\n    }\r\n\r\nAnd the codes below are in `InternalObject.class`:\r\n\r\n    package test.inside;\r\n\r\n    public class InternalObject\r\n    {\r\n\t    private final String str;\r\n\t\r\n\t    public InternalObject(String s)\r\n\t    {\r\n\t    \tthis.str = s;\r\n\t    }\r\n\t\r\n\t    public String getString()\r\n\t    {\r\n\t    \treturn this.str;\r\n\t    }\r\n    }\r\n\r\nI tested the file with `Main.class` below:\r\n\r\n    package test.inside;\r\n\r\n    import java.io.File;\r\n    import java.lang.reflect.Constructor;\r\n    import java.net.URL;\r\n    import java.net.URLClassLoader;\r\n    \r\n    import test.outside.ExternalObject;\r\n    \r\n    public class Main\r\n    {\r\n\t    public static void main(String[] args)\r\n\t    {\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tFile externalJar = new File(&quot;F:\\\\Dev\\\\ext.jar&quot;);\r\n    \t\t\tURLClassLoader uclTest = new URLClassLoader(new URL[]{externalJar.toURI().toURL()});\r\n    \t\t\tClass&lt;?&gt; clazz = uclTest.loadClass(&quot;test.outside.ExternalObject&quot;);\r\n\t\t\t\r\n    \t\t\tInternalObject inObj = new InternalObject(&quot;Creating an ExternalObject with an InternalObject.&quot;);\r\n\t\t\t\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;Test 1: Attempt to create an instance of the ExternalObject.class with an InternalObject in the constructor.&quot;);\r\n    \t\t\t\tConstructor&lt;?&gt; conTest = clazz.getConstructor(InternalObject.class);\r\n    \t\t\t\tExternalObject extObj = (ExternalObject)conTest.newInstance(inObj);\r\n    \t\t\t}\r\n    \t\t\tcatch(Throwable t)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;Test 1 has failed. :(&quot;);\r\n    \t\t\t\tt.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tSystem.out.println();\r\n    \t\t\t\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;Test 2: Attempt to create an instance of the ExternalObject.class with a void constructor.&quot;);\r\n    \t\t\t\tConstructor&lt;?&gt; conTest = clazz.getConstructor();\r\n    \t\t\t\tExternalObject extObj = (ExternalObject)conTest.newInstance();\r\n    \t\t\t}\r\n    \t\t\tcatch(Throwable t)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;Test 2 has failed. :(&quot;);\r\n    \t\t\t\tt.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tuclTest.close();\r\n    \t\t}\r\n    \t\tcatch(Exception e)\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nBoth `InternalObject.class` and `Main.class` are in a jar pack which is included in the classpath while launched.\r\nAnd I got this in the console:\r\n[Console output screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Utr73.png\r\n\r\nAs the codes `this.print()` in both constructors of `ExternalObject.class` are executed, I have really no idea what&#39;s wrong. Help! :(\r\n\r\nUPDATE: Thank you wero!!! But I actually want to make an instance of `ExternalObject` for further usage such as accessing methods in it from other classes. Is there any way that I can return the created instance as an `ExternalObject`? Or I have to use `getMethod()` and `invoke()` to access the methods?\r\n\r\nSincerely, \r\nZevin","title":"Keep getting NoClassDefFoundError while loading a class with URLClassLoader","body":"<p>Recently I'm creating something that have to load/unload external jar packages dynamically. I'm now trying to do this with <code>URLClassLoader</code>, but I keep getting <code>NoClassDefFoundError</code> while trying to make new instances.</p>\n\n<p>It seems that the external class is loaded successfully since the codes in the constructor are executed, but <code>ClassNotFoundException</code> and <code>NoClassDefFoundError</code> still keep being thrown.</p>\n\n<p>I made an small package that recreates the error and here are the codes:</p>\n\n<p>The codes below are in <code>ExternalObject.class</code> ,which is put in a .jar file, that I'm trying to load dynamically:</p>\n\n<pre><code>package test.outside;\n\nimport test.inside.InternalObject;\n\npublic class ExternalObject\n{\n    private final String str;\n\n    public ExternalObject()\n    {\n        this.str = \"Creating an ExternalObject with nothing.\";\n        this.print();\n    }\n\n    public ExternalObject(InternalObject inObj)\n    {\n        this.str = inObj.getString();\n        this.print();\n    }\n\n    public void print()\n    {\n        System.out.println(this.str);\n    }\n}\n</code></pre>\n\n<p>And the codes below are in <code>InternalObject.class</code>:</p>\n\n<pre><code>package test.inside;\n\npublic class InternalObject\n{\n    private final String str;\n\n    public InternalObject(String s)\n    {\n        this.str = s;\n    }\n\n    public String getString()\n    {\n        return this.str;\n    }\n}\n</code></pre>\n\n<p>I tested the file with <code>Main.class</code> below:</p>\n\n<pre><code>package test.inside;\n\nimport java.io.File;\nimport java.lang.reflect.Constructor;\nimport java.net.URL;\nimport java.net.URLClassLoader;\n\nimport test.outside.ExternalObject;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        try\n        {\n            File externalJar = new File(\"F:\\\\Dev\\\\ext.jar\");\n            URLClassLoader uclTest = new URLClassLoader(new URL[]{externalJar.toURI().toURL()});\n            Class&lt;?&gt; clazz = uclTest.loadClass(\"test.outside.ExternalObject\");\n\n            InternalObject inObj = new InternalObject(\"Creating an ExternalObject with an InternalObject.\");\n\n            try\n            {\n                System.out.println(\"Test 1: Attempt to create an instance of the ExternalObject.class with an InternalObject in the constructor.\");\n                Constructor&lt;?&gt; conTest = clazz.getConstructor(InternalObject.class);\n                ExternalObject extObj = (ExternalObject)conTest.newInstance(inObj);\n            }\n            catch(Throwable t)\n            {\n                System.out.println(\"Test 1 has failed. :(\");\n                t.printStackTrace();\n            }\n\n            System.out.println();\n\n            try\n            {\n                System.out.println(\"Test 2: Attempt to create an instance of the ExternalObject.class with a void constructor.\");\n                Constructor&lt;?&gt; conTest = clazz.getConstructor();\n                ExternalObject extObj = (ExternalObject)conTest.newInstance();\n            }\n            catch(Throwable t)\n            {\n                System.out.println(\"Test 2 has failed. :(\");\n                t.printStackTrace();\n            }\n\n            uclTest.close();\n        }\n        catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Both <code>InternalObject.class</code> and <code>Main.class</code> are in a jar pack which is included in the classpath while launched.\nAnd I got this in the console:\n<a href=\"https://i.stack.imgur.com/Utr73.png\" rel=\"nofollow\">Console output screenshot</a></p>\n\n<p>As the codes <code>this.print()</code> in both constructors of <code>ExternalObject.class</code> are executed, I have really no idea what's wrong. Help! :(</p>\n\n<p>UPDATE: Thank you wero!!! But I actually want to make an instance of <code>ExternalObject</code> for further usage such as accessing methods in it from other classes. Is there any way that I can return the created instance as an <code>ExternalObject</code>? Or I have to use <code>getMethod()</code> and <code>invoke()</code> to access the methods?</p>\n\n<p>Sincerely, \nZevin</p>\n"},{"tags":["java","java-compiler-api"],"comments":[{"owner":{"account_id":1138392,"reputation":9603,"user_id":1122959,"accept_rate":100,"display_name":"rocketboy"},"score":0,"creation_date":1376045557,"post_id":18145011,"comment_id":26575040,"body_markdown":"That means only one thing: `HelloWorld` class is not on the classpath.","body":"That means only one thing: <code>HelloWorld</code> class is not on the classpath."}],"answers":[{"tags":[],"owner":{"account_id":1351838,"reputation":9009,"user_id":1291238,"accept_rate":81,"display_name":"Random42"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376045789,"creation_date":1376045789,"answer_id":18145121,"question_id":18145011,"body_markdown":"The classloader has no idea of your `HelloWorld` class. You can do this:\r\n\r\n    URLClassLoader classLoader = URLClassLoader.newInstance(new URL[] { root.toURI().toURL() }); //root is path to class file\r\n    Class&lt;?&gt; cls = Class.forName(&quot;HelloWorld&quot;, true, classLoader); \r\n\r\nYou can see [a full example here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2946338/how-do-i-programmatically-compile-and-instantiate-a-java-class","title":"Compiling Java code from string results in ClassNotFoundException","body":"<p>The classloader has no idea of your <code>HelloWorld</code> class. You can do this:</p>\n\n<pre><code>URLClassLoader classLoader = URLClassLoader.newInstance(new URL[] { root.toURI().toURL() }); //root is path to class file\nClass&lt;?&gt; cls = Class.forName(\"HelloWorld\", true, classLoader); \n</code></pre>\n\n<p>You can see <a href=\"https://stackoverflow.com/questions/2946338/how-do-i-programmatically-compile-and-instantiate-a-java-class\">a full example here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1110325,"reputation":863,"user_id":1100913,"accept_rate":33,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646879573,"creation_date":1646879573,"answer_id":71418198,"question_id":18145011,"body_markdown":"I faced the same problem today.  \r\nUpon checking, I added a breakpoint in URLClassLoader.java on this block:\r\n\r\n    String path = name.replace(&#39;.&#39;, &#39;/&#39;).concat(&quot;.class&quot;);\r\n    Resource res = ucp.getResource(path, false);\r\n    if (res != null) {\r\n        try {\r\n            return defineClass(name, res);\r\n        }\r\n\r\nIf a path to a file is incorrect, you will get ClassNotFoundException in line\r\n\r\n    Resource res = ucp.getResource(path, false);\r\n\r\nIf name and res have different name structures, you will get NoClassDefFoundError in line\r\n\r\n    return defineClass(name, res);\r\n\r\nThis is a tricky one! You need name and res be in a same form. For example:  \r\nname - com.qwerty.MyClass  \r\nres - com/qwerty/MyClass.class  \r\nSo you have to ensure that ucp references a location of a package (**not** of a class).\r\n\r\nSo make sure that:  \r\n\r\n 1. URLClassLoader.newInstance({srcDir.toURI().toURL()})  \r\nsrcDir points to a directory where the generated **package** is located.\r\n 2. Class.forName(generatedPackageName + &quot;.&quot; + generatedClassName)  \r\nYou feed the Class.forName with a full class name, **including the package name**.\r\n\r\nWorking example: \r\n\r\n    String fileSeparator = File.separator;\r\n    String generatedPackageName = &quot;com.qwerty.generated&quot;;\r\n    String generatedClassName = &quot;MyClass&quot;\r\n    \r\n    // Save source in .java file\r\n    File srcDir = new File(&quot;src/main/java/&quot;.replace(&quot;.&quot;, fileSeparator));\r\n    File packageDir = new File(srcDir, generatedPackageName.replace(&quot;.&quot;, fileSeparator));\r\n    packageDir.mkdirs();\r\n\r\n    File sourceFile = new File(packageDir, generatedClassName + &quot;.java&quot;);\r\n    Files.write(sourceFile.toPath(), sourceSb.toString().getBytes(StandardCharsets.UTF_8));\r\n\r\n    // Compile source file\r\n    JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n    compiler.run(System.in, System.out, System.err, sourceFile.getPath());\r\n\r\n    // Load and instantiate compiled class\r\n    URL[] generatedClassUrls = {srcDir.toURI().toURL()};\r\n    ClassLoader parentClassLoader = compiler.getClass().getClassLoader();\r\n    try (URLClassLoader classLoader = URLClassLoader.newInstance(generatedClassUrls, parentClassLoader)) {\r\n        Class&lt;?&gt; cls = Class.forName(generatedPackageName + &quot;.&quot; + generatedClassName, true, classLoader);\r\n        Object instance = cls.getDeclaredConstructor().newInstance();\r\n        return instance;\r\n    }","title":"Compiling Java code from string results in ClassNotFoundException","body":"<p>I faced the same problem today.<br />\nUpon checking, I added a breakpoint in URLClassLoader.java on this block:</p>\n<pre><code>String path = name.replace('.', '/').concat(&quot;.class&quot;);\nResource res = ucp.getResource(path, false);\nif (res != null) {\n    try {\n        return defineClass(name, res);\n    }\n</code></pre>\n<p>If a path to a file is incorrect, you will get ClassNotFoundException in line</p>\n<pre><code>Resource res = ucp.getResource(path, false);\n</code></pre>\n<p>If name and res have different name structures, you will get NoClassDefFoundError in line</p>\n<pre><code>return defineClass(name, res);\n</code></pre>\n<p>This is a tricky one! You need name and res be in a same form. For example:<br />\nname - com.qwerty.MyClass<br />\nres - com/qwerty/MyClass.class<br />\nSo you have to ensure that ucp references a location of a package (<strong>not</strong> of a class).</p>\n<p>So make sure that:</p>\n<ol>\n<li>URLClassLoader.newInstance({srcDir.toURI().toURL()})<br />\nsrcDir points to a directory where the generated <strong>package</strong> is located.</li>\n<li>Class.forName(generatedPackageName + &quot;.&quot; + generatedClassName)<br />\nYou feed the Class.forName with a full class name, <strong>including the package name</strong>.</li>\n</ol>\n<p>Working example:</p>\n<pre><code>String fileSeparator = File.separator;\nString generatedPackageName = &quot;com.qwerty.generated&quot;;\nString generatedClassName = &quot;MyClass&quot;\n\n// Save source in .java file\nFile srcDir = new File(&quot;src/main/java/&quot;.replace(&quot;.&quot;, fileSeparator));\nFile packageDir = new File(srcDir, generatedPackageName.replace(&quot;.&quot;, fileSeparator));\npackageDir.mkdirs();\n\nFile sourceFile = new File(packageDir, generatedClassName + &quot;.java&quot;);\nFiles.write(sourceFile.toPath(), sourceSb.toString().getBytes(StandardCharsets.UTF_8));\n\n// Compile source file\nJavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\ncompiler.run(System.in, System.out, System.err, sourceFile.getPath());\n\n// Load and instantiate compiled class\nURL[] generatedClassUrls = {srcDir.toURI().toURL()};\nClassLoader parentClassLoader = compiler.getClass().getClassLoader();\ntry (URLClassLoader classLoader = URLClassLoader.newInstance(generatedClassUrls, parentClassLoader)) {\n    Class&lt;?&gt; cls = Class.forName(generatedPackageName + &quot;.&quot; + generatedClassName, true, classLoader);\n    Object instance = cls.getDeclaredConstructor().newInstance();\n    return instance;\n}\n</code></pre>\n"}],"owner":{"account_id":793827,"reputation":754,"user_id":898383,"accept_rate":21,"display_name":"Jochen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2108,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1646879573,"creation_date":1376045419,"question_id":18145011,"body_markdown":"I&#39;m trying a code example that uses javax.tools to compile code that is in a string. The Class.forName results in a ClassNotFoundException. Does anybody know why? I&#39;m using Java 7.\r\n\r\n\t\t\timport java.io.IOException;\r\n\t\t\timport java.io.PrintWriter;\r\n\t\t\timport java.io.StringWriter;\r\n\t\t\timport java.lang.reflect.InvocationTargetException;\r\n\t\t\timport java.net.URI;\r\n\t\t\timport java.util.ArrayList;\r\n\t\t\timport java.util.Arrays;\r\n\t\t\timport java.util.List;\r\n\r\n\t\t\timport javax.tools.Diagnostic;\r\n\t\t\timport javax.tools.DiagnosticCollector;\r\n\t\t\timport javax.tools.JavaCompiler;\r\n\t\t\timport javax.tools.JavaFileObject;\r\n\t\t\timport javax.tools.SimpleJavaFileObject;\r\n\t\t\timport javax.tools.ToolProvider;\r\n\t\t\timport javax.tools.JavaCompiler.CompilationTask;\r\n\r\n\r\n\t\t\tpublic class Main {\r\n\t\t\t\tpublic static void main(String args[]) throws IOException {\r\n\t\t\t\t\tJavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n\t\t\t\t\tDiagnosticCollector&lt;JavaFileObject&gt; diagnostics = new DiagnosticCollector&lt;JavaFileObject&gt;();\r\n\r\n\t\t\t\t\tStringWriter writer = new StringWriter();\r\n\t\t\t\t\tPrintWriter out = new PrintWriter(writer);\r\n\t\t\t\t\tout.println(&quot;public class HelloWorld {&quot;);\r\n\t\t\t\t\tout.println(&quot;  public static void main(String args[]) {&quot;);\r\n\t\t\t\t\tout.println(&quot;    System.out.println(\\&quot;This is in another java file\\&quot;);&quot;);\r\n\t\t\t\t\tout.println(&quot;  }&quot;);\r\n\t\t\t\t\tout.println(&quot;}&quot;);\r\n\t\t\t\t\tout.close();\r\n\t\t\t\t\tJavaFileObject file = new JavaSourceFromString(&quot;HelloWorld&quot;, writer.toString());\r\n\r\n\t\t\t\t\tIterable&lt;? extends JavaFileObject&gt; compilationUnits = Arrays.asList(file);\r\n\t\t\t\t\tCompilationTask task = compiler.getTask(null, null, diagnostics, optionList, null, compilationUnits);\r\n\r\n\t\t\t\t\tboolean success = task.call();\r\n\t\t\t\t\tfor (Diagnostic diagnostic : diagnostics.getDiagnostics()) {\r\n\t\t\t\t\t\tSystem.out.println(diagnostic.getCode());\r\n\t\t\t\t\t\tSystem.out.println(diagnostic.getKind());\r\n\t\t\t\t\t\tSystem.out.println(diagnostic.getPosition());\r\n\t\t\t\t\t\tSystem.out.println(diagnostic.getStartPosition());\r\n\t\t\t\t\t\tSystem.out.println(diagnostic.getEndPosition());\r\n\t\t\t\t\t\tSystem.out.println(diagnostic.getSource());\r\n\t\t\t\t\t\tSystem.out.println(diagnostic.getMessage(null));\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tSystem.out.println(&quot;Success: &quot; + success);\r\n\r\n\t\t\t\t\tif (success) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tClass.forName(&quot;HelloWorld&quot;).getDeclaredMethod(&quot;main&quot;, new Class[] { String[].class })\r\n\t\t\t\t\t\t\t\t\t.invoke(null, new Object[] { null });\r\n\t\t\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t\t\tSystem.err.println(&quot;Class not found: &quot; + e);\r\n\t\t\t\t\t\t} catch (NoSuchMethodException e) {\r\n\t\t\t\t\t\t\tSystem.err.println(&quot;No such method: &quot; + e);\r\n\t\t\t\t\t\t} catch (IllegalAccessException e) {\r\n\t\t\t\t\t\t\tSystem.err.println(&quot;Illegal access: &quot; + e);\r\n\t\t\t\t\t\t} catch (InvocationTargetException e) {\r\n\t\t\t\t\t\t\tSystem.err.println(&quot;Invocation target: &quot; + e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tclass JavaSourceFromString extends SimpleJavaFileObject {\r\n\t\t\t\tfinal String code;\r\n\r\n\t\t\t\tJavaSourceFromString(String name, String code) {\r\n\t\t\t\t\tsuper(URI.create(&quot;string:///&quot; + name.replace(&#39;.&#39;,&#39;/&#39;) + Kind.SOURCE.extension), Kind.SOURCE);\r\n\t\t\t\t\tthis.code = code;                                                              \r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic CharSequence getCharContent(boolean ignoreEncodingErrors) {\r\n\t\t\t\t\treturn code;\r\n\t\t\t\t}\r\n\t\t\t}\r\n","title":"Compiling Java code from string results in ClassNotFoundException","body":"<p>I'm trying a code example that uses javax.tools to compile code that is in a string. The Class.forName results in a ClassNotFoundException. Does anybody know why? I'm using Java 7.</p>\n\n<pre><code>        import java.io.IOException;\n        import java.io.PrintWriter;\n        import java.io.StringWriter;\n        import java.lang.reflect.InvocationTargetException;\n        import java.net.URI;\n        import java.util.ArrayList;\n        import java.util.Arrays;\n        import java.util.List;\n\n        import javax.tools.Diagnostic;\n        import javax.tools.DiagnosticCollector;\n        import javax.tools.JavaCompiler;\n        import javax.tools.JavaFileObject;\n        import javax.tools.SimpleJavaFileObject;\n        import javax.tools.ToolProvider;\n        import javax.tools.JavaCompiler.CompilationTask;\n\n\n        public class Main {\n            public static void main(String args[]) throws IOException {\n                JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n                DiagnosticCollector&lt;JavaFileObject&gt; diagnostics = new DiagnosticCollector&lt;JavaFileObject&gt;();\n\n                StringWriter writer = new StringWriter();\n                PrintWriter out = new PrintWriter(writer);\n                out.println(\"public class HelloWorld {\");\n                out.println(\"  public static void main(String args[]) {\");\n                out.println(\"    System.out.println(\\\"This is in another java file\\\");\");\n                out.println(\"  }\");\n                out.println(\"}\");\n                out.close();\n                JavaFileObject file = new JavaSourceFromString(\"HelloWorld\", writer.toString());\n\n                Iterable&lt;? extends JavaFileObject&gt; compilationUnits = Arrays.asList(file);\n                CompilationTask task = compiler.getTask(null, null, diagnostics, optionList, null, compilationUnits);\n\n                boolean success = task.call();\n                for (Diagnostic diagnostic : diagnostics.getDiagnostics()) {\n                    System.out.println(diagnostic.getCode());\n                    System.out.println(diagnostic.getKind());\n                    System.out.println(diagnostic.getPosition());\n                    System.out.println(diagnostic.getStartPosition());\n                    System.out.println(diagnostic.getEndPosition());\n                    System.out.println(diagnostic.getSource());\n                    System.out.println(diagnostic.getMessage(null));\n\n                }\n                System.out.println(\"Success: \" + success);\n\n                if (success) {\n                    try {\n                        Class.forName(\"HelloWorld\").getDeclaredMethod(\"main\", new Class[] { String[].class })\n                                .invoke(null, new Object[] { null });\n                    } catch (ClassNotFoundException e) {\n                        System.err.println(\"Class not found: \" + e);\n                    } catch (NoSuchMethodException e) {\n                        System.err.println(\"No such method: \" + e);\n                    } catch (IllegalAccessException e) {\n                        System.err.println(\"Illegal access: \" + e);\n                    } catch (InvocationTargetException e) {\n                        System.err.println(\"Invocation target: \" + e);\n                    }\n                }\n            }\n        }\n\n        class JavaSourceFromString extends SimpleJavaFileObject {\n            final String code;\n\n            JavaSourceFromString(String name, String code) {\n                super(URI.create(\"string:///\" + name.replace('.','/') + Kind.SOURCE.extension), Kind.SOURCE);\n                this.code = code;                                                              \n            }\n\n            @Override\n            public CharSequence getCharContent(boolean ignoreEncodingErrors) {\n                return code;\n            }\n        }\n</code></pre>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":21480022,"reputation":128,"user_id":15827548,"display_name":"MattDog_222 Overwatch"},"score":1,"creation_date":1646874885,"post_id":71417755,"comment_id":126234214,"body_markdown":"You have a `for` loop with 3 branches, each of which have a `break` statement. Rethink your path/branch logic. Also, please format your code (Ctrl + Alt + L Intellij &amp; Ctrl + Shift + F eclipse)","body":"You have a <code>for</code> loop with 3 branches, each of which have a <code>break</code> statement. Rethink your path/branch logic. Also, please format your code (Ctrl + Alt + L Intellij &amp; Ctrl + Shift + F eclipse)"},{"owner":{"account_id":21480022,"reputation":128,"user_id":15827548,"display_name":"MattDog_222 Overwatch"},"score":0,"creation_date":1646875904,"post_id":71417755,"comment_id":126234373,"body_markdown":"I said there was a logic error. You&#39;re breaking on the first iteration of the look regardless; it defeats the purpose of looping","body":"I said there was a logic error. You&#39;re breaking on the first iteration of the look regardless; it defeats the purpose of looping"}],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646879225,"creation_date":1646877560,"answer_id":71417999,"question_id":71417755,"body_markdown":"Try something more like:\r\n\r\n\tString input = &quot;&quot;;\r\n\tdo {\r\n\t\tSystem.out.print(&quot;Word: &quot;);\r\n\t\tinput = sc.nextLine();\r\n\t\tif (!input.equals(&quot;&quot;)) {\r\n\t\t\tboolean definitionFound = false;\r\n\t\t\tfor(int i=0; i&lt;wordList.size() &amp;&amp; !definitionFound; i++){\r\n\t\t\t\tif(input.equals(wordList.get(i))){\r\n\t\t\t\t\tSystem.out.println(&quot;Definition: &quot; + definitionList.get(i));\r\n\t\t\t\t\tdefinitionFound = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!definitionFound) {\r\n\t\t\t\tSystem.out.println(&quot;No matching definition.&quot;);\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t} while (!input.equals(&quot;&quot;));\r\n\tSystem.out.println(&quot;Goodbye!&quot;);\r\n","title":"I cannot get my for loop to iterate through my if statements in java","body":"<p>Try something more like:</p>\n<pre><code>String input = &quot;&quot;;\ndo {\n    System.out.print(&quot;Word: &quot;);\n    input = sc.nextLine();\n    if (!input.equals(&quot;&quot;)) {\n        boolean definitionFound = false;\n        for(int i=0; i&lt;wordList.size() &amp;&amp; !definitionFound; i++){\n            if(input.equals(wordList.get(i))){\n                System.out.println(&quot;Definition: &quot; + definitionList.get(i));\n                definitionFound = true;\n            }\n        }\n        if (!definitionFound) {\n            System.out.println(&quot;No matching definition.&quot;);\n        }\n    }       \n} while (!input.equals(&quot;&quot;));\nSystem.out.println(&quot;Goodbye!&quot;);\n</code></pre>\n"}],"owner":{"account_id":24509697,"reputation":1,"user_id":18424185,"display_name":"milsees"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646879225,"creation_date":1646874761,"question_id":71417755,"body_markdown":"```\r\n\t\tint i = 0;\r\n\t\twhile (i &gt; -1){\r\n\t\t\tString input = sc.nextLine();\r\n\t\t\tif(i &lt; wordList.size()){\r\n\t\t\t\tif(input.equals(wordList.get(i))){\r\n\t\t\t\t\tSystem.out.println(definitionList.get(i));\r\n\t\t\t\t\ti++;\r\n\t\t\t\t} else if(input.equals(&quot;&quot;)){\r\n\t\t\t\t\ti = -2;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(&quot;No matching definition&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n```\r\nIn this code I have split a dictionary file into the words and definitions, putting them in different arraylists, but i cannot figure out how to get the for loop to iterate through. It constantly stops at the first word and refuses to continue through. I have tried everything i can think of so I hope you guys have some ideas on a solution or what the issue is. Thanks a bunch.","title":"I cannot get my for loop to iterate through my if statements in java","body":"<pre><code>        int i = 0;\n        while (i &gt; -1){\n            String input = sc.nextLine();\n            if(i &lt; wordList.size()){\n                if(input.equals(wordList.get(i))){\n                    System.out.println(definitionList.get(i));\n                    i++;\n                } else if(input.equals(&quot;&quot;)){\n                    i = -2;\n                } else {\n                    System.out.println(&quot;No matching definition&quot;);\n                    \n                }\n            }\n</code></pre>\n<p>In this code I have split a dictionary file into the words and definitions, putting them in different arraylists, but i cannot figure out how to get the for loop to iterate through. It constantly stops at the first word and refuses to continue through. I have tried everything i can think of so I hope you guys have some ideas on a solution or what the issue is. Thanks a bunch.</p>\n"},{"tags":["java","image","encryption","aes"],"comments":[{"owner":{"account_id":1058083,"reputation":76416,"user_id":1060350,"accept_rate":76,"display_name":"Has QUIT--Anony-Mousse"},"score":0,"creation_date":1347026964,"post_id":12131627,"comment_id":16532868,"body_markdown":"You really need to understand the difference of **input** and **output**. Just as in your new question, you mix these up badly here.","body":"You really need to understand the difference of <b>input</b> and <b>output</b>. Just as in your new question, you mix these up badly here."},{"owner":{"account_id":1529451,"reputation":790,"user_id":1427037,"accept_rate":29,"display_name":"Erum"},"score":0,"creation_date":1419310493,"post_id":12131627,"comment_id":43650510,"body_markdown":"@Twister is this approach safe to use for more than 2 or 3 images encryption ?","body":"@Twister is this approach safe to use for more than 2 or 3 images encryption ?"}],"answers":[{"tags":[],"owner":{"account_id":1165929,"reputation":7226,"user_id":1144248,"accept_rate":78,"display_name":"Alex Coleman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1345997544,"creation_date":1345997544,"answer_id":12131682,"question_id":12131627,"body_markdown":"First of all, don&#39;t name your FileInputStream output. Second, the issue is that you try to cast your CipherInputStream to an imageoutputstream (like the error says) here:\r\n\r\n    ImageIO.write(input,&quot;PNG&quot;,(ImageOutputStream) cos);\r\n\r\nThis won&#39;t work as CipherInputStream isn&#39;t an ImageOutputStream.\r\n\r\n\r\n----------\r\n\r\n\r\nAlright, found a further issue on your naming; I think you named it right, but used the wrong class; change your last few lines to this:\r\n\r\n       \t\tFileOutputStream output = new FileOutputStream(&quot;sheepTest.png&quot;);\r\n\t\t\tCipherOutputStream cos = new CipherOutputStream(output, pbeCipher);\r\n\t\t\tImageIO.write(input, &quot;PNG&quot;, cos);\r\n\t\t\tcos.close();\r\n\r\nFor writing **out**, you want to use an OutputStream (or FileOutputStream or Cipher or whatever you need).","title":"Image Encryption &amp; Decryption","body":"<p>First of all, don't name your FileInputStream output. Second, the issue is that you try to cast your CipherInputStream to an imageoutputstream (like the error says) here:</p>\n\n<pre><code>ImageIO.write(input,\"PNG\",(ImageOutputStream) cos);\n</code></pre>\n\n<p>This won't work as CipherInputStream isn't an ImageOutputStream.</p>\n\n<hr>\n\n<p>Alright, found a further issue on your naming; I think you named it right, but used the wrong class; change your last few lines to this:</p>\n\n<pre><code>        FileOutputStream output = new FileOutputStream(\"sheepTest.png\");\n        CipherOutputStream cos = new CipherOutputStream(output, pbeCipher);\n        ImageIO.write(input, \"PNG\", cos);\n        cos.close();\n</code></pre>\n\n<p>For writing <strong>out</strong>, you want to use an OutputStream (or FileOutputStream or Cipher or whatever you need).</p>\n"}],"owner":{"account_id":1731246,"reputation":199,"user_id":1584815,"accept_rate":100,"display_name":"Twister"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5195,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1646898465,"accepted_answer_id":12131682,"answer_count":1,"score":0,"last_activity_date":1646879096,"creation_date":1345997087,"question_id":12131627,"body_markdown":"I want to do encrypt and decrypt on image files. However, when i run this codes, it give me \r\nthis error \r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: javax.crypto.CipherInputStream cannot be cast to javax.imageio.stream.ImageOutputStream\r\n\tat encypt.com.trial.main(trial.java:82)\r\n\r\nand when i tried to open the sheepTest.png image, it cannot be open as the file appears to be damaged, corrupted or it is too large. \r\n\r\nI&#39;ve tried many ways already, however I still cannot find the mistake.Can anyone help me to solve the error?  Thank you. \r\n\r\n    public class trial {\r\n       public static void main(String[] arg) throws Exception {\r\n      \r\n       // Scanner to read the user&#39;s password. The Java cryptography\r\n       // architecture points out that strong passwords in strings is a\r\n       // bad idea, but we&#39;ll let it go for this assignment.\r\n       Scanner scanner = new Scanner(System.in);\r\n       // Arbitrary salt data, used to make guessing attacks against the\r\n       // password more difficult to pull off.\r\n       byte[] salt = { (byte) 0xc7, (byte) 0x73, (byte) 0x21, (byte) 0x8c,\r\n               (byte) 0x7e, (byte) 0xc8, (byte) 0xee, (byte) 0x99 };\r\n\r\n       {\r\n         File inputFile = new File(&quot;sheep.png&quot;);\r\n          BufferedImage input = ImageIO.read(inputFile);\r\n          Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n          SecretKeyFactory keyFac = SecretKeyFactory.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n         // Get a password from the user.\r\n         System.out.print(&quot;Password: &quot;);\r\n         System.out.flush();\r\n         PBEKeySpec pbeKeySpec = new PBEKeySpec(scanner.nextLine().toCharArray());          \r\n         // Set up other parameters to be used by the password-based\r\n         // encryption.\r\n         PBEParameterSpec pbeParamSpec = new PBEParameterSpec(salt, 20);\r\n         SecretKey pbeKey = keyFac.generateSecret(pbeKeySpec);\r\n         // Make a PBE Cyhper object and initialize it to encrypt using\r\n         // the given password.\r\n         Cipher pbeCipher = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n         pbeCipher.init(Cipher.ENCRYPT_MODE, pbeKey, pbeParamSpec);\r\n         FileOutputStream output = new FileOutputStream(&quot;sheepTest.png&quot;);\r\n         CipherOutputStream cos = new CipherOutputStream(\r\n                output, pbeCipher);\r\n           //File outputFile = new File(&quot;image.png&quot;);\r\n             ImageIO.write(input,&quot;PNG&quot;,cos);\r\n          cos.close();          \r\n        \r\n       }\r\n       // Now, create a Cipher object to decrypt for us. We are repeating\r\n       // some of the same code here to illustrate how java applications on\r\n       // two different hosts could set up compatible encryption/decryption\r\n       // mechanisms.\r\n      {\r\n           File inputFile = new File(&quot;sheepTest.png&quot;);\r\n             BufferedImage input = ImageIO.read(inputFile);\r\n           // Get another (hopefully the same) password from the user.\r\n          System.out.print(&quot;Decryption Password: &quot;);\r\n           System.out.flush();\r\n           PBEKeySpec pbeKeySpec = new PBEKeySpec(scanner.next().toCharArray());\r\n           // Set up other parameters to be used by the password-based\r\n           // encryption.\r\n           PBEParameterSpec pbeParamSpec = new PBEParameterSpec(salt, 20);\r\n           SecretKeyFactory keyFac = SecretKeyFactory\r\n                   .getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n           SecretKey pbeKey = keyFac.generateSecret(pbeKeySpec);\r\n           // Make a PBE Cyper object and initialize it to decrypt using\r\n           // the given password.\r\n           Cipher pbeCipher = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n           pbeCipher.init(Cipher.DECRYPT_MODE, pbeKey, pbeParamSpec);\r\n           // Decrypt the ciphertext and then print it out.\r\n           /*byte[] cleartext = pbeCipher.doFinal(ciphertext);\r\n           System.out.println(new String(cleartext));*/\r\n           FileInputStream output = new FileInputStream(&quot;sheepTest.png&quot;);\r\n           CipherInputStream cos = new CipherInputStream(\r\n                  output, pbeCipher);\r\n            ImageIO.write(input,&quot;PNG&quot;,(ImageOutputStream) cos);\r\n            cos.close();\r\n           \r\n       }\r\n       }\r\n    }\r\n\r\n","title":"Image Encryption &amp; Decryption","body":"<p>I want to do encrypt and decrypt on image files. However, when i run this codes, it give me \nthis error </p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassCastException: javax.crypto.CipherInputStream cannot be cast to javax.imageio.stream.ImageOutputStream\nat encypt.com.trial.main(trial.java:82)\n</code></pre>\n\n<p>and when i tried to open the sheepTest.png image, it cannot be open as the file appears to be damaged, corrupted or it is too large. </p>\n\n<p>I've tried many ways already, however I still cannot find the mistake.Can anyone help me to solve the error?  Thank you. </p>\n\n<pre><code>public class trial {\n   public static void main(String[] arg) throws Exception {\n\n   // Scanner to read the user's password. The Java cryptography\n   // architecture points out that strong passwords in strings is a\n   // bad idea, but we'll let it go for this assignment.\n   Scanner scanner = new Scanner(System.in);\n   // Arbitrary salt data, used to make guessing attacks against the\n   // password more difficult to pull off.\n   byte[] salt = { (byte) 0xc7, (byte) 0x73, (byte) 0x21, (byte) 0x8c,\n           (byte) 0x7e, (byte) 0xc8, (byte) 0xee, (byte) 0x99 };\n\n   {\n     File inputFile = new File(\"sheep.png\");\n      BufferedImage input = ImageIO.read(inputFile);\n      Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\");\n      SecretKeyFactory keyFac = SecretKeyFactory.getInstance(\"PBEWithMD5AndDES\");\n     // Get a password from the user.\n     System.out.print(\"Password: \");\n     System.out.flush();\n     PBEKeySpec pbeKeySpec = new PBEKeySpec(scanner.nextLine().toCharArray());          \n     // Set up other parameters to be used by the password-based\n     // encryption.\n     PBEParameterSpec pbeParamSpec = new PBEParameterSpec(salt, 20);\n     SecretKey pbeKey = keyFac.generateSecret(pbeKeySpec);\n     // Make a PBE Cyhper object and initialize it to encrypt using\n     // the given password.\n     Cipher pbeCipher = Cipher.getInstance(\"PBEWithMD5AndDES\");\n     pbeCipher.init(Cipher.ENCRYPT_MODE, pbeKey, pbeParamSpec);\n     FileOutputStream output = new FileOutputStream(\"sheepTest.png\");\n     CipherOutputStream cos = new CipherOutputStream(\n            output, pbeCipher);\n       //File outputFile = new File(\"image.png\");\n         ImageIO.write(input,\"PNG\",cos);\n      cos.close();          \n\n   }\n   // Now, create a Cipher object to decrypt for us. We are repeating\n   // some of the same code here to illustrate how java applications on\n   // two different hosts could set up compatible encryption/decryption\n   // mechanisms.\n  {\n       File inputFile = new File(\"sheepTest.png\");\n         BufferedImage input = ImageIO.read(inputFile);\n       // Get another (hopefully the same) password from the user.\n      System.out.print(\"Decryption Password: \");\n       System.out.flush();\n       PBEKeySpec pbeKeySpec = new PBEKeySpec(scanner.next().toCharArray());\n       // Set up other parameters to be used by the password-based\n       // encryption.\n       PBEParameterSpec pbeParamSpec = new PBEParameterSpec(salt, 20);\n       SecretKeyFactory keyFac = SecretKeyFactory\n               .getInstance(\"PBEWithMD5AndDES\");\n       SecretKey pbeKey = keyFac.generateSecret(pbeKeySpec);\n       // Make a PBE Cyper object and initialize it to decrypt using\n       // the given password.\n       Cipher pbeCipher = Cipher.getInstance(\"PBEWithMD5AndDES\");\n       pbeCipher.init(Cipher.DECRYPT_MODE, pbeKey, pbeParamSpec);\n       // Decrypt the ciphertext and then print it out.\n       /*byte[] cleartext = pbeCipher.doFinal(ciphertext);\n       System.out.println(new String(cleartext));*/\n       FileInputStream output = new FileInputStream(\"sheepTest.png\");\n       CipherInputStream cos = new CipherInputStream(\n              output, pbeCipher);\n        ImageIO.write(input,\"PNG\",(ImageOutputStream) cos);\n        cos.close();\n\n   }\n   }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":15915027,"reputation":588,"user_id":11483876,"display_name":"Tomoki Sato"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646879090,"creation_date":1646870204,"answer_id":71417357,"question_id":71416609,"body_markdown":"If the content type of the request bodies is `application/json`, the following can be a simple solution.\r\n\r\n```\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    @PostMapping(&quot;...&quot;)\r\n    public ServiceResponse newService(@RequestHeader(&quot;form-class&quot;) String fullyQualifiedClassName, HttpServletRequest req)\r\n        throws ClassNotFoundException, IOException {\r\n\r\n        try (InputStream is = req.getInputStream()){\r\n            FormEntity formEntity =\r\n                (FormEntity) objectMapper.readValue(is, Class.forName(fullyQualifiedClassName));\r\n\r\n            // do something... \r\n        }       \r\n    }\r\n\r\n```\r\n\r\nThe value of `form-class` should be a &#39;FQCN&#39;(fully qualified class name). For example, if your `JVMFormEntity` is in `com.example` package, the value should be `com.example.JVMFormEntity`.","title":"Generic Method not implicitly constructing Parameter Class as Subclass when deserializing PostRequestBody","body":"<p>If the content type of the request bodies is <code>application/json</code>, the following can be a simple solution.</p>\n<pre><code>\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @PostMapping(&quot;...&quot;)\n    public ServiceResponse newService(@RequestHeader(&quot;form-class&quot;) String fullyQualifiedClassName, HttpServletRequest req)\n        throws ClassNotFoundException, IOException {\n\n        try (InputStream is = req.getInputStream()){\n            FormEntity formEntity =\n                (FormEntity) objectMapper.readValue(is, Class.forName(fullyQualifiedClassName));\n\n            // do something... \n        }       \n    }\n\n</code></pre>\n<p>The value of <code>form-class</code> should be a 'FQCN'(fully qualified class name). For example, if your <code>JVMFormEntity</code> is in <code>com.example</code> package, the value should be <code>com.example.JVMFormEntity</code>.</p>\n"}],"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71417357,"answer_count":1,"score":0,"last_activity_date":1646879090,"creation_date":1646864152,"question_id":71416609,"body_markdown":"      @PostMapping(&quot;&quot;)\r\n        &lt;T extends FormEntity&gt; ServiceResponse newService(@RequestHeader(&quot;form-class&quot;)Class&lt;T&gt; clazz, @RequestBody @NotNull T genericFormEntity) {\r\n            Service service = genericFormEntity.instantiateService();\r\n            serviceHashMap.put(service.getId(), service);\r\n            UUID id = service.getId();\r\n            return getServiceResponse(id);\r\n        }\r\n\r\nHi,\r\n\r\nJava/ Spring Boot are reading genericFormEntity as FormEntity (an abstract class) at which point my code errors (because abstract classes can&#39;t be constructed). How can I make Java/ Spring Boot construct genericFormEntity as a JVMFormEntity (Class that extends FormEntity and is supposed to be provided by Class&lt;T&gt; clazz)?\r\n\r\nAbove my latest attempt :)","title":"Generic Method not implicitly constructing Parameter Class as Subclass when deserializing PostRequestBody","body":"<pre><code>  @PostMapping(&quot;&quot;)\n    &lt;T extends FormEntity&gt; ServiceResponse newService(@RequestHeader(&quot;form-class&quot;)Class&lt;T&gt; clazz, @RequestBody @NotNull T genericFormEntity) {\n        Service service = genericFormEntity.instantiateService();\n        serviceHashMap.put(service.getId(), service);\n        UUID id = service.getId();\n        return getServiceResponse(id);\n    }\n</code></pre>\n<p>Hi,</p>\n<p>Java/ Spring Boot are reading genericFormEntity as FormEntity (an abstract class) at which point my code errors (because abstract classes can't be constructed). How can I make Java/ Spring Boot construct genericFormEntity as a JVMFormEntity (Class that extends FormEntity and is supposed to be provided by Class clazz)?</p>\n<p>Above my latest attempt :)</p>\n"},{"tags":["java","visual-studio-code","freebsd"],"comments":[{"owner":{"account_id":237719,"reputation":1310,"user_id":506114,"accept_rate":65,"display_name":"Walter"},"score":0,"creation_date":1648518342,"post_id":71415713,"comment_id":126638676,"body_markdown":"I suspect this requires a bit more digging to get working on FreeBSD, until them, I&#39;m using Intellij.","body":"I suspect this requires a bit more digging to get working on FreeBSD, until them, I&#39;m using Intellij."}],"answers":[{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646858934,"creation_date":1646858934,"answer_id":71415817,"question_id":71415713,"body_markdown":"you can have a look on this extension whitch look like Boot Dashboard in Eclipse and it enable you to manage your application and have a control above it andu can run multiple projects using it [in this Link][1].\r\n\r\nNote: i think it need java 11 to work\r\n\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-spring-boot-dashboard#:~:text=Spring%20Boot%20Dashboard%20is%20a,debug%20a%20Spring%20Boot%20project.","title":"VSCode for Java on FreeBSD","body":"<p>you can have a look on this extension whitch look like Boot Dashboard in Eclipse and it enable you to manage your application and have a control above it andu can run multiple projects using it <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-spring-boot-dashboard#:%7E:text=Spring%20Boot%20Dashboard%20is%20a,debug%20a%20Spring%20Boot%20project.\" rel=\"nofollow noreferrer\">in this Link</a>.</p>\n<p>Note: i think it need java 11 to work</p>\n"},{"tags":[],"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646878297,"creation_date":1646878297,"answer_id":71418061,"question_id":71415713,"body_markdown":"Here is a description of how to use springboot. You can refer to it to see if there is a problem with any operation.\r\nhttps://code.visualstudio.com/docs/java/java-spring-boot","title":"VSCode for Java on FreeBSD","body":"<p>Here is a description of how to use springboot. You can refer to it to see if there is a problem with any operation.\n<a href=\"https://code.visualstudio.com/docs/java/java-spring-boot\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-spring-boot</a></p>\n"}],"owner":{"account_id":237719,"reputation":1310,"user_id":506114,"accept_rate":65,"display_name":"Walter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646878947,"creation_date":1646858178,"question_id":71415713,"body_markdown":"After installing the Java Extension Pack, Spring Boot Extension Pack, and Lombok, I created a basic Spring Boot project just to test out VSCode (I followed the Spring Boot initializer which works surprisingly well).\r\n\r\nI attempted to run the application (barebones / skeleton project) and when clicking on the &quot;Play&quot; button and selecting &quot;Run Java&quot;, the Run dialog hangs indefinitely.\r\n\r\nI can run the project from the command line, using maven to compile it followed by java -jar; however, I want to be able to do everything in VSCode including running and debugging.\r\n\r\nI clicked on &quot;check details&quot;, but there isn&#39;t any information for me to go by and make an educated guess as to what is going on.\r\n\r\nEDIT:\r\n\r\nJust to be clear, I am running VSCode on FreeBSD (which is not Linux).","title":"VSCode for Java on FreeBSD","body":"<p>After installing the Java Extension Pack, Spring Boot Extension Pack, and Lombok, I created a basic Spring Boot project just to test out VSCode (I followed the Spring Boot initializer which works surprisingly well).</p>\n<p>I attempted to run the application (barebones / skeleton project) and when clicking on the &quot;Play&quot; button and selecting &quot;Run Java&quot;, the Run dialog hangs indefinitely.</p>\n<p>I can run the project from the command line, using maven to compile it followed by java -jar; however, I want to be able to do everything in VSCode including running and debugging.</p>\n<p>I clicked on &quot;check details&quot;, but there isn't any information for me to go by and make an educated guess as to what is going on.</p>\n<p>EDIT:</p>\n<p>Just to be clear, I am running VSCode on FreeBSD (which is not Linux).</p>\n"},{"tags":["java","android","performance","android-studio","developer-tools"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1613243021,"post_id":66188743,"comment_id":117017896,"body_markdown":"You are using a gradle plugin developed for Java 8 but your used Java version is higher. The java.xml.bind package was disabled in Java9+10 and removed in Java11. The easiest was would be to switch the project to a Java 8 JDK in project settings.","body":"You are using a gradle plugin developed for Java 8 but your used Java version is higher. The java.xml.bind package was disabled in Java9+10 and removed in Java11. The easiest was would be to switch the project to a Java 8 JDK in project settings."},{"owner":{"account_id":16570514,"reputation":577,"user_id":11973801,"display_name":"Didier Supernover"},"score":0,"creation_date":1613243248,"post_id":66188743,"comment_id":117017961,"body_markdown":"sounds good , but how to  switch from 11 to 8 Java in Android studio thanks ?","body":"sounds good , but how to  switch from 11 to 8 Java in Android studio thanks ?"},{"owner":{"account_id":11558728,"reputation":202,"user_id":8469107,"accept_rate":33,"display_name":"Suraj Giri"},"score":0,"creation_date":1620264143,"post_id":66188743,"comment_id":119151923,"body_markdown":"did you found any solution to this?","body":"did you found any solution to this?"}],"answers":[{"tags":[],"owner":{"account_id":11284005,"reputation":571,"user_id":8275322,"display_name":"Ganesh S S"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1620364230,"creation_date":1620364230,"answer_id":67429291,"question_id":66188743,"body_markdown":"I too faced the same issue when I updated my Android Studio to V4.2. I had to modify two files.\r\n\r\nIn build.gradle, I changed dependency \r\nfrom\r\n\r\n    classpath &#39;com.android.tools.build:gradle:3.6.3&#39;\r\nto \r\n\r\n    classpath &#39;com.android.tools.build:gradle:4.0.0&#39;\r\n\r\nIn gradle-wrapper.properties, I changed the distributionUrl \r\nfrom\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.4-all.zip\r\nto\r\n\r\n       distributionUrl=https\\://services.gradle.org/distributions/gradle-6.5-all.zip\r\n\r\n\r\n","title":"This is an unexpected error. Please file a bug containing the idea.log file","body":"<p>I too faced the same issue when I updated my Android Studio to V4.2. I had to modify two files.</p>\n<p>In build.gradle, I changed dependency\nfrom</p>\n<pre><code>classpath 'com.android.tools.build:gradle:3.6.3'\n</code></pre>\n<p>to</p>\n<pre><code>classpath 'com.android.tools.build:gradle:4.0.0'\n</code></pre>\n<p>In gradle-wrapper.properties, I changed the distributionUrl\nfrom</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.4-all.zip\n</code></pre>\n<p>to</p>\n<pre><code>   distributionUrl=https\\://services.gradle.org/distributions/gradle-6.5-all.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9671380,"reputation":131,"user_id":7176195,"display_name":"T.Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620799639,"creation_date":1620799639,"answer_id":67498128,"question_id":66188743,"body_markdown":"this is because your Android Studio was upgraded to 4.2, and in 4.2 the AS is build in java 11, you should change your JDK path manually,\r\nProject Structure -&gt; SDK Location, don&#39;t use your Android Studio.app&#39;s JDK path. install or change another one.","title":"This is an unexpected error. Please file a bug containing the idea.log file","body":"<p>this is because your Android Studio was upgraded to 4.2, and in 4.2 the AS is build in java 11, you should change your JDK path manually,\nProject Structure -&gt; SDK Location, don't use your Android Studio.app's JDK path. install or change another one.</p>\n"},{"tags":[],"owner":{"account_id":15614990,"reputation":111,"user_id":11265401,"display_name":"Maher Ben Rhouma"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1621846182,"creation_date":1621846182,"answer_id":67669139,"question_id":66188743,"body_markdown":"I had the same problem and I solved it by changing the Android JDK path by JDK 8.\r\n\r\nFirst you need to download and install **JDK 8** from this link\r\n[JDK 8] (https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html)\r\n\r\nand should change your JDK path manually:\r\nGo to **Project Structure -&gt; SDK Location -&gt; JDK Location -&gt; select the three dots button -&gt; select the JDK 8 folder** installed in your pc (generally it will be in C:\\Program Files\\Java\\jdk1.8.. ) press ok. it solved this problem for me. ","title":"This is an unexpected error. Please file a bug containing the idea.log file","body":"<p>I had the same problem and I solved it by changing the Android JDK path by JDK 8.</p>\n<p>First you need to download and install <strong>JDK 8</strong> from this link\n[JDK 8] (<a href=\"https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\" rel=\"noreferrer\">https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html</a>)</p>\n<p>and should change your JDK path manually:\nGo to <strong>Project Structure -&gt; SDK Location -&gt; JDK Location -&gt; select the three dots button -&gt; select the JDK 8 folder</strong> installed in your pc (generally it will be in C:\\Program Files\\Java\\jdk1.8.. ) press ok. it solved this problem for me.</p>\n"},{"tags":[],"owner":{"account_id":23281407,"reputation":11,"user_id":17364815,"display_name":"Manoj Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636443383,"creation_date":1636443160,"answer_id":69894341,"question_id":66188743,"body_markdown":"I had the same problem and I solved it by updating &quot;DSL element &#39;android.dataBinding.enabled&#39; is obsolete and has been replaced with &#39;android.buildFeatures.dataBinding&#39;&quot;\r\n```\r\nandroid {\r\n\r\n    buildFeatures {\r\n\r\n         dataBinding true\r\n\r\n         // for view binding:\r\n         // viewBinding true\r\n    }\r\n}\r\n```\r\nReference \r\nhttps://stackoverflow.com/questions/59390492/dsl-element-android-databinding-enabled-is-obsolete-and-has-been-replaced-with\r\n","title":"This is an unexpected error. Please file a bug containing the idea.log file","body":"<p>I had the same problem and I solved it by updating &quot;DSL element 'android.dataBinding.enabled' is obsolete and has been replaced with 'android.buildFeatures.dataBinding'&quot;</p>\n<pre><code>android {\n\n    buildFeatures {\n\n         dataBinding true\n\n         // for view binding:\n         // viewBinding true\n    }\n}\n</code></pre>\n<p>Reference\n<a href=\"https://stackoverflow.com/questions/59390492/dsl-element-android-databinding-enabled-is-obsolete-and-has-been-replaced-with\">DSL element &#39;android.dataBinding.enabled&#39; is obsolete and has been replaced with &#39;android.buildFeatures.dataBinding&#39;</a></p>\n"},{"tags":[],"owner":{"account_id":22150898,"reputation":37,"user_id":16399454,"display_name":"Ramya Bm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639477063,"creation_date":1639417877,"answer_id":70338893,"question_id":66188743,"body_markdown":"I too faced this issue and this helped me to rectify.\r\nIn `build.grade`, change the **classpath** to \r\n\r\n    classpath com.android.tools.build:gradle:4.0.0\r\n\r\nIn gradle-wrapper.properties, change the distributionUrl\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-6.5-all.zip","title":"This is an unexpected error. Please file a bug containing the idea.log file","body":"<p>I too faced this issue and this helped me to rectify.\nIn <code>build.grade</code>, change the <strong>classpath</strong> to</p>\n<pre><code>classpath com.android.tools.build:gradle:4.0.0\n</code></pre>\n<p>In gradle-wrapper.properties, change the distributionUrl</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.5-all.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20260812,"reputation":528,"user_id":14859218,"display_name":"Lucas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643109451,"creation_date":1643109451,"answer_id":70847704,"question_id":66188743,"body_markdown":"I simply upgraded Gradle and it worked ","title":"This is an unexpected error. Please file a bug containing the idea.log file","body":"<p>I simply upgraded Gradle and it worked</p>\n"}],"owner":{"account_id":16570514,"reputation":577,"user_id":11973801,"display_name":"Didier Supernover"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56965,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":6,"score":24,"last_activity_date":1646878009,"creation_date":1613242457,"question_id":66188743,"body_markdown":"**Unable to load class &#39;javax.xml.bind.JAXBException&#39;.**\r\n\r\n*spent much time for this error but I don&#39;t get it , what&#39;s wrong with my code in android studio , when  I  run  app*\r\n\r\n**Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; javax/xml/bind/JAXBException**","title":"This is an unexpected error. Please file a bug containing the idea.log file","body":"<p><strong>Unable to load class 'javax.xml.bind.JAXBException'.</strong></p>\n<p><em>spent much time for this error but I don't get it , what's wrong with my code in android studio , when  I  run  app</em></p>\n<p>**Execution failed for task ':app:compileDebugJavaWithJavac'.</p>\n<blockquote>\n<p>javax/xml/bind/JAXBException**</p>\n</blockquote>\n"},{"tags":["java","ftps"],"owner":{"account_id":14467002,"reputation":21,"user_id":16645095,"display_name":"jahir noe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646877682,"creation_date":1646877682,"question_id":71418010,"body_markdown":"I&#39;m triying upload a file with FTPS with FTPSClient, but for any reason it&#39;s not working.\r\n\r\nI&#39;m doing the upload to the FPS Server as  can see below:\r\n\r\n    FTPSClient client = null;\r\n                logger.info(&quot;Enviando archivo por FTPS&quot;);\r\n                client = new FTPSClient();\r\n                client.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out)));\r\n            \r\n            try {\r\n                client.setBufferSize(1024 * 1024); \r\n                client.connect(connection.getHOST(), connection.getPORT()); \r\n                client.connect(&quot;servidor.ftp.com&quot;);\r\n                client.login(connection.getUSER(), connection.getPASSWORD());\r\n                client.execPBSZ(0L);\r\n                client.execPROT(&quot;P&quot;);\r\n                //client.execCCC();\r\n                client.pwd();\r\n                client.enterLocalPassiveMode();  \r\n                client.setFileType(FTP.BINARY_FILE_TYPE);\r\n                client.changeWorkingDirectory(connection.getWORKINGDIR());\r\n                for (String file : files) {\r\n                    f = new File(file);\r\n                    boolean uploadFile = client.storeFile(f.getName(), new FileInputStream(f));\r\n    \r\n                    if (uploadFile == false) {\r\n                        logger.error(&quot;File Upload Failed &quot; + f.getName() + &quot; by &quot; + TYPEFTP);\r\n                    } else {\r\n                        logger.info(&quot;File upload successfully&quot; + f.getName() + &quot; by&quot; + TYPEFTP);\r\n                    }\r\n                }\r\n            } catch (Exception ex) {\r\n                logger.error(ex);\r\n            } finally {\r\n                try {\r\n                    client.logout();\r\n                    client.disconnect();\r\n                } catch (IOException ex) {\r\n                    logger.error(ex);\r\n                }\r\n             }\r\n\r\nBut when try:\r\n\r\n    client.storeFile(f.getName(), new FileInputStream(f))\r\nI recibe the next response:\r\n\r\n    425 Unable to build data connection: TLS session of data connection not resumed.\r\nHere is the output of the FTP Response:\r\n[![FTPS ERROR][1]][1]\r\n\r\nI&#39;ve tried follow some examples like: https://www.tabnine.com/code/java/methods/org.apache.commons.net.ftp.FTPSClient/login\r\n\r\nBut I&#39;m not sure whats is wrong.\r\n\r\nThe conexion to the FTP is a FTP with TSL/SSL explicit encryption \r\n Thanks in advance for any help\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mLYPE.png","title":"FTPSClient Problem to Upload a File - 425 Unable to build data connection","body":"<p>I'm triying upload a file with FTPS with FTPSClient, but for any reason it's not working.</p>\n<p>I'm doing the upload to the FPS Server as  can see below:</p>\n<pre><code>FTPSClient client = null;\n            logger.info(&quot;Enviando archivo por FTPS&quot;);\n            client = new FTPSClient();\n            client.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out)));\n        \n        try {\n            client.setBufferSize(1024 * 1024); \n            client.connect(connection.getHOST(), connection.getPORT()); \n            client.connect(&quot;servidor.ftp.com&quot;);\n            client.login(connection.getUSER(), connection.getPASSWORD());\n            client.execPBSZ(0L);\n            client.execPROT(&quot;P&quot;);\n            //client.execCCC();\n            client.pwd();\n            client.enterLocalPassiveMode();  \n            client.setFileType(FTP.BINARY_FILE_TYPE);\n            client.changeWorkingDirectory(connection.getWORKINGDIR());\n            for (String file : files) {\n                f = new File(file);\n                boolean uploadFile = client.storeFile(f.getName(), new FileInputStream(f));\n\n                if (uploadFile == false) {\n                    logger.error(&quot;File Upload Failed &quot; + f.getName() + &quot; by &quot; + TYPEFTP);\n                } else {\n                    logger.info(&quot;File upload successfully&quot; + f.getName() + &quot; by&quot; + TYPEFTP);\n                }\n            }\n        } catch (Exception ex) {\n            logger.error(ex);\n        } finally {\n            try {\n                client.logout();\n                client.disconnect();\n            } catch (IOException ex) {\n                logger.error(ex);\n            }\n         }\n</code></pre>\n<p>But when try:</p>\n<pre><code>client.storeFile(f.getName(), new FileInputStream(f))\n</code></pre>\n<p>I recibe the next response:</p>\n<pre><code>425 Unable to build data connection: TLS session of data connection not resumed.\n</code></pre>\n<p>Here is the output of the FTP Response:\n<a href=\"https://i.stack.imgur.com/mLYPE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mLYPE.png\" alt=\"FTPS ERROR\" /></a></p>\n<p>I've tried follow some examples like: <a href=\"https://www.tabnine.com/code/java/methods/org.apache.commons.net.ftp.FTPSClient/login\" rel=\"nofollow noreferrer\">https://www.tabnine.com/code/java/methods/org.apache.commons.net.ftp.FTPSClient/login</a></p>\n<p>But I'm not sure whats is wrong.</p>\n<p>The conexion to the FTP is a FTP with TSL/SSL explicit encryption\nThanks in advance for any help</p>\n"},{"tags":["java","spring-boot","unit-testing","jpa","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":21311006,"reputation":101,"user_id":15685376,"display_name":"Bludwood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646877666,"creation_date":1646877666,"answer_id":71418008,"question_id":71330225,"body_markdown":"The problem I had appeared to be associated with a combination of @DirtiesContext and my Controller Tests. I was using @DirtiesContext on any test that made changes to the H2 database so subsequent tests would not be affected. I wound up removing @DirtiesContext, and for each test that needed database data, I populated it, and then cleaned it up using @SQL annotations (BEFORE and AFTER execution phase). Not only did the problem I have go away, but the 651 tests run MUCH MUCH (significantly) faster.\r\n\r\nAn example controller test without @DirtiesContext would look like:\r\n\r\n    @Test\r\n    @DisplayName(&quot;whitelist remote address - good&quot;)\r\n    @Sql(scripts={&quot;/sql/remote-addresses.sql&quot;}, executionPhase=Sql.ExecutionPhase.BEFORE_TEST_METHOD)\r\n    @Sql(scripts={&quot;/sql/delete-all.sql&quot;}, executionPhase=Sql.ExecutionPhase.AFTER_TEST_METHOD)\r\n    void whitelistAddress_good() {\r\n        //Setup app user for test:\r\n        AppUser testUser = TestObjects.getTestUser1();\r\n\r\n        //Encrypt data for call:\r\n        String dataToEncode = testUser.getAppUserId() + AppConstants.SPECIAL_DATA_DELIMETER + &quot;1&quot;;  //row Id as inserted by the SQL...\r\n        String dataEncoded = encryptionUtil.encrypt(dataToEncode);\r\n\r\n        //Setup url variables:\r\n        Map&lt;String, String&gt; variables = new HashMap&lt;&gt;();\r\n        variables.put(&quot;encodedData&quot;, dataEncoded);\r\n\r\n        //Setup headers:\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\r\n        //Perform call:\r\n        ResponseEntity&lt;String&gt; response = testRestTemplate.exchange(\r\n                unirestTestUtil.getHostUrl() + AppConstants.AUTHORIZE_ADDRESS + &quot;/{encodedData}&quot;,\r\n                HttpMethod.PATCH,\r\n                new HttpEntity&lt;&gt;(headers),\r\n                String.class,\r\n                variables\r\n        );\r\n\r\n        //Check output status:\r\n        System.out.println(&quot;jsonResponse = &quot; + response.getBody());\r\n        assertEquals(HttpStatus.OK.value(),  response.getStatusCodeValue());\r\n    }","title":"Odd Test Case Failure in IntelliJ / Springboot when Running Entire Suite - Succeeds by Itself","body":"<p>The problem I had appeared to be associated with a combination of @DirtiesContext and my Controller Tests. I was using @DirtiesContext on any test that made changes to the H2 database so subsequent tests would not be affected. I wound up removing @DirtiesContext, and for each test that needed database data, I populated it, and then cleaned it up using @SQL annotations (BEFORE and AFTER execution phase). Not only did the problem I have go away, but the 651 tests run MUCH MUCH (significantly) faster.</p>\n<p>An example controller test without @DirtiesContext would look like:</p>\n<pre><code>@Test\n@DisplayName(&quot;whitelist remote address - good&quot;)\n@Sql(scripts={&quot;/sql/remote-addresses.sql&quot;}, executionPhase=Sql.ExecutionPhase.BEFORE_TEST_METHOD)\n@Sql(scripts={&quot;/sql/delete-all.sql&quot;}, executionPhase=Sql.ExecutionPhase.AFTER_TEST_METHOD)\nvoid whitelistAddress_good() {\n    //Setup app user for test:\n    AppUser testUser = TestObjects.getTestUser1();\n\n    //Encrypt data for call:\n    String dataToEncode = testUser.getAppUserId() + AppConstants.SPECIAL_DATA_DELIMETER + &quot;1&quot;;  //row Id as inserted by the SQL...\n    String dataEncoded = encryptionUtil.encrypt(dataToEncode);\n\n    //Setup url variables:\n    Map&lt;String, String&gt; variables = new HashMap&lt;&gt;();\n    variables.put(&quot;encodedData&quot;, dataEncoded);\n\n    //Setup headers:\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\n    //Perform call:\n    ResponseEntity&lt;String&gt; response = testRestTemplate.exchange(\n            unirestTestUtil.getHostUrl() + AppConstants.AUTHORIZE_ADDRESS + &quot;/{encodedData}&quot;,\n            HttpMethod.PATCH,\n            new HttpEntity&lt;&gt;(headers),\n            String.class,\n            variables\n    );\n\n    //Check output status:\n    System.out.println(&quot;jsonResponse = &quot; + response.getBody());\n    assertEquals(HttpStatus.OK.value(),  response.getStatusCodeValue());\n}\n</code></pre>\n"}],"owner":{"account_id":21311006,"reputation":101,"user_id":15685376,"display_name":"Bludwood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71418008,"answer_count":1,"score":1,"last_activity_date":1646877666,"creation_date":1646262286,"question_id":71330225,"body_markdown":"When I run my test case suite in IntelliJ, I have a single junit test case that fails.. The same test case succeeds when run standalone, or with the other tests in the class. It even runs successfully with other tests in other classes. However, when I run the entire suite of 651 tests, **this 1 test fails**.\r\n\r\nAdditionally, when I run the test case suite in Maven (ie - maven clean, install), the entire suite runs successfully.\r\n\r\nA workaround, which seems to be working, is to set the Fork Mode to &quot;Class&quot; in the run configurations. \r\n\r\n[![test run configuration - fork mode = class][1]][1]\r\n\r\nHowever, fork configuration causes the test suite to run slower, and I&#39;d like to understand why this is occurring. The test that fails is below... \r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(classes=MyApplication.class)\r\n    class AssetRepositoryTest {\r\n    \r\n        ....other tests....\r\n    \r\n        @Transactional\r\n        @Test @DirtiesContext\r\n        void delete_allByAppUser() {\r\n            int deleteCount = assetRepository.deleteAllByAppUser(mainTestAppUser);\r\n            assertEquals(2, deleteCount);\r\n        }\r\n    \r\n        ....more tests....\r\n    }\r\n\r\nWhen the test executes, Springboot spins up, the H2 database is created with some data, and then when the test ends, the database is dropped. The test is meant to test the JPA repository class. It&#39;s been working fine until recently and I haven&#39;t changed it in some time.\r\n\r\nWhen I run this test case with the entire suite, (the suite seems to always runs in the same order), it fails. \r\n\r\n[![failed execution inside the entire test suite (651 tests)][2]][2]\r\n\r\nThe failure suggests that the Table does not exist... \r\n\r\n[![console log showing failure - db table not found][3]][3]\r\n\r\nWhen I look at the console log, I can see the prior test execute, then spring drops the database. Then this test executes and fails (the db is dropped afterall). And then Spring boots up and JPA creates the database for the next test in the same class. If I didn&#39;t know better, I&#39;d say there&#39;s a bug with Springboot. **It looks like Spring fails to spin up for this single test**.\r\n\r\nI thought maybe there&#39;s an issue with the test class that runs before it, but When I run this test with in a smaller block of tests (same order of execution), including the tests that run before and after it, it runs fine..\r\n\r\n[![Same test works fine when run in a smaller subset of the test suite][5]][5]\r\n\r\nAnd as I said, when I run this standalone, it&#39;s fine - spring does it&#39;s thing, the database is created, the test executes, and the db is dropped... \r\n\r\nAny advice is appreciated. I am unable to determine a pattern or reason for the strange behavior.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zjNWs.png\r\n  [2]: https://i.stack.imgur.com/Yn9gJ.png\r\n  [3]: https://i.stack.imgur.com/6u6bW.png\r\n  [4]: https://i.stack.imgur.com/5vX4f.png\r\n  [5]: https://i.stack.imgur.com/zgDDa.png","title":"Odd Test Case Failure in IntelliJ / Springboot when Running Entire Suite - Succeeds by Itself","body":"<p>When I run my test case suite in IntelliJ, I have a single junit test case that fails.. The same test case succeeds when run standalone, or with the other tests in the class. It even runs successfully with other tests in other classes. However, when I run the entire suite of 651 tests, <strong>this 1 test fails</strong>.</p>\n<p>Additionally, when I run the test case suite in Maven (ie - maven clean, install), the entire suite runs successfully.</p>\n<p>A workaround, which seems to be working, is to set the Fork Mode to &quot;Class&quot; in the run configurations.</p>\n<p><a href=\"https://i.stack.imgur.com/zjNWs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zjNWs.png\" alt=\"test run configuration - fork mode = class\" /></a></p>\n<p>However, fork configuration causes the test suite to run slower, and I'd like to understand why this is occurring. The test that fails is below...</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes=MyApplication.class)\nclass AssetRepositoryTest {\n\n    ....other tests....\n\n    @Transactional\n    @Test @DirtiesContext\n    void delete_allByAppUser() {\n        int deleteCount = assetRepository.deleteAllByAppUser(mainTestAppUser);\n        assertEquals(2, deleteCount);\n    }\n\n    ....more tests....\n}\n</code></pre>\n<p>When the test executes, Springboot spins up, the H2 database is created with some data, and then when the test ends, the database is dropped. The test is meant to test the JPA repository class. It's been working fine until recently and I haven't changed it in some time.</p>\n<p>When I run this test case with the entire suite, (the suite seems to always runs in the same order), it fails.</p>\n<p><a href=\"https://i.stack.imgur.com/Yn9gJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yn9gJ.png\" alt=\"failed execution inside the entire test suite (651 tests)\" /></a></p>\n<p>The failure suggests that the Table does not exist...</p>\n<p><a href=\"https://i.stack.imgur.com/6u6bW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6u6bW.png\" alt=\"console log showing failure - db table not found\" /></a></p>\n<p>When I look at the console log, I can see the prior test execute, then spring drops the database. Then this test executes and fails (the db is dropped afterall). And then Spring boots up and JPA creates the database for the next test in the same class. If I didn't know better, I'd say there's a bug with Springboot. <strong>It looks like Spring fails to spin up for this single test</strong>.</p>\n<p>I thought maybe there's an issue with the test class that runs before it, but When I run this test with in a smaller block of tests (same order of execution), including the tests that run before and after it, it runs fine..</p>\n<p><a href=\"https://i.stack.imgur.com/zgDDa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zgDDa.png\" alt=\"Same test works fine when run in a smaller subset of the test suite\" /></a></p>\n<p>And as I said, when I run this standalone, it's fine - spring does it's thing, the database is created, the test executes, and the db is dropped...</p>\n<p>Any advice is appreciated. I am unable to determine a pattern or reason for the strange behavior.</p>\n"},{"tags":["java","postgresql","spring-boot","docker","hibernate"],"answers":[{"tags":[],"owner":{"account_id":5147284,"reputation":2911,"user_id":4122894,"display_name":"sixrandanes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646877596,"creation_date":1646877596,"answer_id":71418002,"question_id":71416571,"body_markdown":"Seem like your spring-boot application have access to your database. Otherwise, you won&#39;t have the logs you put and you would have an exception when you start your application.\r\n\r\nMaybe you have to check the way your are connected to your database (identifiers, schema, etc ..)?","title":"Spring Boot cannot generate table in a PostgreSql database","body":"<p>Seem like your spring-boot application have access to your database. Otherwise, you won't have the logs you put and you would have an exception when you start your application.</p>\n<p>Maybe you have to check the way your are connected to your database (identifiers, schema, etc ..)?</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":738,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646877596,"creation_date":1646863909,"question_id":71416571,"body_markdown":"I have a Spring Boot app and I created a PostgreSql database in a Docker container. I can connect to that database using tools, but when I run my Spring Boot app, it cannot create table even if the following log is seen on debug screen:\r\n\r\n&gt;Hibernate: drop table if exists public.employees cascade\r\n&lt;br/&gt; Hibernate: create table public.employees (id  bigserial not null, email varchar(255), first_name varchar(255), last_name varchar(255), primary key (id))\r\n\r\nHere is my properties file (I use PostgreSql 9+, database name is employee_management_system):\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5434/employee_management_system\r\nspring.datasource.username=postgres\r\nspring.datasource.password=******\r\n\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQL92Dialect\r\nspring.jpa.properties.hibernate.default_schema = public\r\nspring.jpa.hibernate.ddl-auto = create\r\nspring.jpa.show-sql = true\r\n```\r\n\r\nI do not use a DOckerfile or docker-compose.yml (I think I do not need for this step as I already have a container for my PostgreSql database). Any idea? \r\n\r\n","title":"Spring Boot cannot generate table in a PostgreSql database","body":"<p>I have a Spring Boot app and I created a PostgreSql database in a Docker container. I can connect to that database using tools, but when I run my Spring Boot app, it cannot create table even if the following log is seen on debug screen:</p>\n<blockquote>\n<p>Hibernate: drop table if exists public.employees cascade\n<br/> Hibernate: create table public.employees (id  bigserial not null, email varchar(255), first_name varchar(255), last_name varchar(255), primary key (id))</p>\n</blockquote>\n<p>Here is my properties file (I use PostgreSql 9+, database name is employee_management_system):</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5434/employee_management_system\nspring.datasource.username=postgres\nspring.datasource.password=******\n\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQL92Dialect\nspring.jpa.properties.hibernate.default_schema = public\nspring.jpa.hibernate.ddl-auto = create\nspring.jpa.show-sql = true\n</code></pre>\n<p>I do not use a DOckerfile or docker-compose.yml (I think I do not need for this step as I already have a container for my PostgreSql database). Any idea?</p>\n"},{"tags":["java",".net","multiplatform"],"answers":[{"tags":[],"owner":{"account_id":4522,"reputation":7470,"user_id":1837197,"accept_rate":100,"display_name":"Paul van Brenk"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1221663182,"creation_date":1221663182,"answer_id":84079,"question_id":84058,"body_markdown":"With Mono we&#39;re getting pretty close, and with SilverLight we&#39;re allready there.","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>With Mono we're getting pretty close, and with SilverLight we're allready there.</p>\n"},{"tags":[],"owner":{"account_id":7116,"reputation":105,"user_id":12222,"display_name":"Johnny Bravado"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1221663187,"creation_date":1221663187,"answer_id":84080,"question_id":84058,"body_markdown":"I don&#39;t think the official &quot;intention&quot; of .NET was WORA. I think that you could safely say that .NET was designed so that it would always run on future MS OS&#39;s. But there is nothing that precludes .NET from running on other platforms. Mono is an example of an implementation of the .NET runtime for an OS other than Windows.","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>I don't think the official \"intention\" of .NET was WORA. I think that you could safely say that .NET was designed so that it would always run on future MS OS's. But there is nothing that precludes .NET from running on other platforms. Mono is an example of an implementation of the .NET runtime for an OS other than Windows.</p>\n"},{"tags":[],"owner":{"account_id":7159,"reputation":468,"user_id":1908025,"accept_rate":60,"display_name":"chessguy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221663195,"creation_date":1221663195,"answer_id":84084,"question_id":84058,"body_markdown":"It&#39;s theoretically possible, since the CLR (.Net&#39;s &quot;virtual machine&quot;) complies with an open standard (the CLI). The question is what other implementations there are of that standard. Mono is another work in progress, but it&#39;s the only other one I know of.","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>It's theoretically possible, since the CLR (.Net's \"virtual machine\") complies with an open standard (the CLI). The question is what other implementations there are of that standard. Mono is another work in progress, but it's the only other one I know of.</p>\n"},{"tags":[],"owner":{"account_id":2901,"reputation":13207,"user_id":4110,"accept_rate":31,"display_name":"auramo"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1221670242,"creation_date":1221663206,"answer_id":84087,"question_id":84058,"body_markdown":"There is [Mono][1] which runs on Linux, Solaris and OS X. In practice .Net is still pretty much a Windows-only platform. It&#39;s not really in Microsoft&#39;s interests to push it to be WORA, on the contrary. Appearing to be cross-platform however is. A lot of people have been really paranoid about Mono on Linux. MS&#39;s supposed strategy is to first let it grow to be an important part of the Linux application platform and then release the lawyers. I wouldn&#39;t bet my future on .Net&#39;s portability.\r\n\r\n\r\n  [1]: http://www.mono-project.com/Main_Page","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>There is <a href=\"http://www.mono-project.com/Main_Page\" rel=\"noreferrer\">Mono</a> which runs on Linux, Solaris and OS X. In practice .Net is still pretty much a Windows-only platform. It's not really in Microsoft's interests to push it to be WORA, on the contrary. Appearing to be cross-platform however is. A lot of people have been really paranoid about Mono on Linux. MS's supposed strategy is to first let it grow to be an important part of the Linux application platform and then release the lawyers. I wouldn't bet my future on .Net's portability.</p>\n"},{"tags":[],"owner":{"account_id":1664,"reputation":1179,"user_id":2240,"display_name":"AlexWilson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221663233,"creation_date":1221663233,"answer_id":84094,"question_id":84058,"body_markdown":"I think that the idea with .NET is that it is a &quot;Write Once, Run Anywhere (that Microsoft chooses)&quot;. However, the [Mono][1] project is slowly changing the situation.\r\n\r\n\r\n  [1]: http://www.mono-project.com/Main_Page","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>I think that the idea with .NET is that it is a \"Write Once, Run Anywhere (that Microsoft chooses)\". However, the <a href=\"http://www.mono-project.com/Main_Page\" rel=\"nofollow noreferrer\">Mono</a> project is slowly changing the situation.</p>\n"},{"tags":[],"owner":{"account_id":3591,"reputation":332927,"user_id":5190,"accept_rate":76,"display_name":"Vinko Vrsalovic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221663234,"creation_date":1221663234,"answer_id":84095,"question_id":84058,"body_markdown":"It will never be supported on as many platforms as Java, IMHO.\r\n\r\nThe only effort is Mono, not sponsored by Microsoft.\r\n\r\nCheck [here on SO][1] and on the [official site][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/tags/mono\r\n  [2]: http://www.mono-project.com","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>It will never be supported on as many platforms as Java, IMHO.</p>\n\n<p>The only effort is Mono, not sponsored by Microsoft.</p>\n\n<p>Check <a href=\"https://stackoverflow.com/tags/mono\">here on SO</a> and on the <a href=\"http://www.mono-project.com\" rel=\"nofollow noreferrer\">official site</a></p>\n"},{"tags":[],"owner":{"account_id":7342,"reputation":102036,"user_id":12725,"accept_rate":78,"display_name":"James Curran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221663240,"creation_date":1221663240,"answer_id":84097,"question_id":84058,"body_markdown":"In theory, yes.  .Net Assemblies are bytecodes, which are converted to native code upon startup, using a JIT (&quot;just-in-Time&quot;) compiler.\r\n\r\nIn practice, there aren&#39;t many platforms beyond Windows which have a .Net JIT compiler.  There&#39;s one for Linux, called MONO.  \r\n\r\nDon&#39;t know about Mac, Sun etc...\r\n\r\n","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>In theory, yes.  .Net Assemblies are bytecodes, which are converted to native code upon startup, using a JIT (\"just-in-Time\") compiler.</p>\n\n<p>In practice, there aren't many platforms beyond Windows which have a .Net JIT compiler.  There's one for Linux, called MONO.  </p>\n\n<p>Don't know about Mac, Sun etc...</p>\n"},{"tags":[],"owner":{"account_id":4663,"reputation":42832,"user_id":7122,"accept_rate":94,"display_name":"David Arno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221663247,"creation_date":1221663247,"answer_id":84098,"question_id":84058,"body_markdown":"Since .NET is only available (officially) on Windows, then not, it isn&#39;t write one, run anywhere. However the Mono team are making a good go at helping spread .NET beyond Windows, but they are always way behind the official stuff.","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>Since .NET is only available (officially) on Windows, then not, it isn't write one, run anywhere. However the Mono team are making a good go at helping spread .NET beyond Windows, but they are always way behind the official stuff.</p>\n"},{"tags":[],"owner":{"account_id":7273,"reputation":4498,"user_id":12569,"display_name":"Grad van Horck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221663248,"creation_date":1221663248,"answer_id":84100,"question_id":84058,"body_markdown":"I don&#39;t think that it was the original plan, for Microsoft, to create runtimes for every platform and device, but they encouraged this by using a documented (?) intermediate language. ","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>I don't think that it was the original plan, for Microsoft, to create runtimes for every platform and device, but they encouraged this by using a documented (?) intermediate language. </p>\n"},{"tags":[],"owner":{"account_id":1175,"reputation":42324,"user_id":1559,"accept_rate":67,"display_name":"Scott Dorman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1221663264,"creation_date":1221663264,"answer_id":84103,"question_id":84058,"body_markdown":"Yes, this was a goal of .NET although I don&#39;t think it had the same emphasis as it did in Java. Currently, the only effor that I know of is the Mono project that is creating a version of the CLI which runs on Linux.\r\n\r\nInterestingly enough, Silverlight actually has a slimmed down version of the CLR which can run on both Windows and Mac, which allows the same Silverlight app to run on both platforms unchanged.","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>Yes, this was a goal of .NET although I don't think it had the same emphasis as it did in Java. Currently, the only effor that I know of is the Mono project that is creating a version of the CLI which runs on Linux.</p>\n\n<p>Interestingly enough, Silverlight actually has a slimmed down version of the CLR which can run on both Windows and Mac, which allows the same Silverlight app to run on both platforms unchanged.</p>\n"},{"tags":[],"owner":{"account_id":7334,"reputation":81483,"user_id":12707,"display_name":"Quintin Robinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221663266,"creation_date":1221663266,"answer_id":84104,"question_id":84058,"body_markdown":"Multiplatform was of course in the vision.. right now [mono][1] does a good job of implementing the runtime for other os.\r\n\r\n[Mono][2]\r\n\r\n\r\n  [1]: http://www.mono-project.com/Main_Page\r\n  [2]: http://www.mono-project.com/Main_Page","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>Multiplatform was of course in the vision.. right now <a href=\"http://www.mono-project.com/Main_Page\" rel=\"nofollow noreferrer\">mono</a> does a good job of implementing the runtime for other os.</p>\n\n<p><a href=\"http://www.mono-project.com/Main_Page\" rel=\"nofollow noreferrer\">Mono</a></p>\n"},{"tags":[],"owner":{"account_id":1634,"reputation":21693,"user_id":2194,"accept_rate":75,"display_name":"Guy Starbuck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221663292,"creation_date":1221663292,"answer_id":84108,"question_id":84058,"body_markdown":"Short answer -- no, Microsoft only supports MS operating systems (including Windows Mobile) for .NET.\r\n\r\nLong answer -- there are public open-source projects to replicate the .NET framework for linux and other OSs, notably Rotor and [Mono][1].  They don&#39;t support everything, but you can deploy a lot of .NET code, including silverlight.\r\n\r\n\r\n  [1]: http://www.mono-project.com/","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>Short answer -- no, Microsoft only supports MS operating systems (including Windows Mobile) for .NET.</p>\n\n<p>Long answer -- there are public open-source projects to replicate the .NET framework for linux and other OSs, notably Rotor and <a href=\"http://www.mono-project.com/\" rel=\"nofollow noreferrer\">Mono</a>.  They don't support everything, but you can deploy a lot of .NET code, including silverlight.</p>\n"},{"tags":[],"owner":{"account_id":5784,"reputation":4824,"user_id":9479,"accept_rate":72,"display_name":"Christian P."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221663334,"creation_date":1221663334,"answer_id":84114,"question_id":84058,"body_markdown":"Theoretically, the language is designed to be compiled into bytecode like Java which is interpreted by the Common Language Runtime, a mechanism that also allows several languages (not just C#) to work together and run on the .NET framework.\r\n\r\nHowever, Microsoft has only developed the CLR for Windows. There are other non-MS alternatives being developed, the most prominent being [Mono][1], a CLR implementation or a number of platforms (see the link).\r\n\r\nSo in theory yes, in practice - we&#39;ll see.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Mono_(software)","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>Theoretically, the language is designed to be compiled into bytecode like Java which is interpreted by the Common Language Runtime, a mechanism that also allows several languages (not just C#) to work together and run on the .NET framework.</p>\n\n<p>However, Microsoft has only developed the CLR for Windows. There are other non-MS alternatives being developed, the most prominent being <a href=\"http://en.wikipedia.org/wiki/Mono_(software)\" rel=\"nofollow noreferrer\">Mono</a>, a CLR implementation or a number of platforms (see the link).</p>\n\n<p>So in theory yes, in practice - we'll see.</p>\n"},{"tags":[],"owner":{"account_id":8794,"reputation":48688,"user_id":15985,"accept_rate":65,"display_name":"Thomas Bratt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221663353,"creation_date":1221663353,"answer_id":84119,"question_id":84058,"body_markdown":"Yes and no.  Parts of the .NET environment are standards and could be openly adopted.\r\n\r\nFor example, the runtime (CLR) has a portable version called [Mono][1] which is multi platform, open source and is used by (for example) Second Life.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Mono_(software)","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>Yes and no.  Parts of the .NET environment are standards and could be openly adopted.</p>\n\n<p>For example, the runtime (CLR) has a portable version called <a href=\"http://en.wikipedia.org/wiki/Mono_(software)\" rel=\"nofollow noreferrer\">Mono</a> which is multi platform, open source and is used by (for example) Second Life.</p>\n"},{"tags":[],"owner":{"account_id":8753,"reputation":1813,"user_id":15915,"accept_rate":69,"display_name":"Pete Michaud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221663359,"creation_date":1221663359,"answer_id":84122,"question_id":84058,"body_markdown":"The intention, or at least the pitch, was for this to be the case. The reality is that .NET can&#39;t really run on other platforms. The only major exception is &lt;a href=&quot;http://www.mono-project.com/Main_Page&quot;&gt;Mono&lt;/a&gt;, which is an open source project. It&#39;s essentially a rewrite of the .NET runtime (the equivalent of the java virtual machine) that works on Linux, Solaris, Mac OS X, Windows, and Unix. \r\n\r\nIt&#39;s been fairly successful, but it&#39;s not officially supported. \r\n\r\nIf you&#39;re thinking of getting your monolithic Acme corp employer to adopt .Net and Linux, forget it. Realistically, with .NET, you&#39;re on Windows machines, period.","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>The intention, or at least the pitch, was for this to be the case. The reality is that .NET can't really run on other platforms. The only major exception is <a href=\"http://www.mono-project.com/Main_Page\" rel=\"nofollow noreferrer\">Mono</a>, which is an open source project. It's essentially a rewrite of the .NET runtime (the equivalent of the java virtual machine) that works on Linux, Solaris, Mac OS X, Windows, and Unix. </p>\n\n<p>It's been fairly successful, but it's not officially supported. </p>\n\n<p>If you're thinking of getting your monolithic Acme corp employer to adopt .Net and Linux, forget it. Realistically, with .NET, you're on Windows machines, period.</p>\n"},{"tags":[],"owner":{"account_id":7342,"reputation":102036,"user_id":12725,"accept_rate":78,"display_name":"James Curran"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1221663403,"creation_date":1221663403,"answer_id":84130,"question_id":84058,"body_markdown":"To correct some comments by others here, .Net was ALWAYS intended to be multi-platform.  That is why Microsoft separated the namespaces into &quot;System.\\*&quot; (which were platform-neutral) and &quot;Microsoft.\\*&quot; (which were Windows specific).","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>To correct some comments by others here, .Net was ALWAYS intended to be multi-platform.  That is why Microsoft separated the namespaces into \"System.*\" (which were platform-neutral) and \"Microsoft.*\" (which were Windows specific).</p>\n"},{"tags":[],"owner":{"account_id":7205,"reputation":86,"user_id":12412,"display_name":"Simon Collins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221663448,"creation_date":1221663448,"answer_id":84139,"question_id":84058,"body_markdown":"Yes, .NET has the Common Language Runtime (CLR) which is the .NET equivalent to the JVM. Microsoft does not support it on as many platforms as Java but with the help of the [Mono project][1] it is possible to achive cross platform applications with the usual caveats.\r\n\r\nBear in mind that .NET is more than just the CLR. It is a whole platform.\r\n\r\n\r\n  [1]: http://www.mono-project.com/","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>Yes, .NET has the Common Language Runtime (CLR) which is the .NET equivalent to the JVM. Microsoft does not support it on as many platforms as Java but with the help of the <a href=\"http://www.mono-project.com/\" rel=\"nofollow noreferrer\">Mono project</a> it is possible to achive cross platform applications with the usual caveats.</p>\n\n<p>Bear in mind that .NET is more than just the CLR. It is a whole platform.</p>\n"},{"tags":[],"owner":{"account_id":6774,"reputation":111,"user_id":11519,"display_name":"LiorE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221663706,"creation_date":1221663706,"answer_id":84179,"question_id":84058,"body_markdown":"That depends on your definition of &quot;Anywhere&quot;.\r\nThere are several flavors of Java virtual machine and of .Net framework.\r\nAnd most of the time you can&#39;t just write code for a desktop vm/framework and expect it to run on a mobile phone one.\r\n\r\nSo. in a sense, even Java is not really pure &quot;Write Once, Run Anywhere&quot;.\r\n\r\nIt is true, however, that Java&#39;s VM is currently running on several operating systems while .Net framework runs only on Windows devices.\r\n\r\nThere is one interesting initiative called &quot;Mono&quot; which offers .Net support on Linux, Solaris, Mac OS X, Windows, and Unix. Read here: [Mono Site][1]\r\n\r\n\r\n  [1]: http://www.mono-project.com/Main_Page","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>That depends on your definition of \"Anywhere\".\nThere are several flavors of Java virtual machine and of .Net framework.\nAnd most of the time you can't just write code for a desktop vm/framework and expect it to run on a mobile phone one.</p>\n\n<p>So. in a sense, even Java is not really pure \"Write Once, Run Anywhere\".</p>\n\n<p>It is true, however, that Java's VM is currently running on several operating systems while .Net framework runs only on Windows devices.</p>\n\n<p>There is one interesting initiative called \"Mono\" which offers .Net support on Linux, Solaris, Mac OS X, Windows, and Unix. Read here: <a href=\"http://www.mono-project.com/Main_Page\" rel=\"nofollow noreferrer\">Mono Site</a></p>\n"},{"tags":[],"owner":{"account_id":8854,"reputation":343,"user_id":16123,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221664022,"creation_date":1221664022,"answer_id":84233,"question_id":84058,"body_markdown":"dotNet can be, because of the CLR which is similar in function to the JVM. \r\nBut i dont believe MS had any intention of it being. \r\n&lt;a href=&quot;http://www.mono-project.com/Main_Page&quot;&gt;http://www.mono-project.com/Main_Page&lt;/a&gt;\r\nmight be useful, but its not a MS product. \r\nBtw, much like how the wide spectrum of j2ee containers cloud the WORA concept for j2ee apps, ASP.NET apps running on anything besides IIS wouldnt really work the same across disparate platforms. ","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>dotNet can be, because of the CLR which is similar in function to the JVM. \nBut i dont believe MS had any intention of it being. \n<a href=\"http://www.mono-project.com/Main_Page\" rel=\"nofollow noreferrer\"><a href=\"http://www.mono-project.com/Main_Page\" rel=\"nofollow noreferrer\">http://www.mono-project.com/Main_Page</a></a>\nmight be useful, but its not a MS product. \nBtw, much like how the wide spectrum of j2ee containers cloud the WORA concept for j2ee apps, ASP.NET apps running on anything besides IIS wouldnt really work the same across disparate platforms. </p>\n"},{"tags":[],"owner":{"account_id":8688,"reputation":2118,"user_id":15768,"display_name":"alasdairg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221669467,"creation_date":1221669467,"answer_id":85123,"question_id":84058,"body_markdown":"I don&#39;t think this was ever really a design goal of .NET - Microsoft has no particular interest in people writing software for non-Windows platforms ....\r\n\r\nHowever, there is The Mono project (http://www.mono-project.com), which is &quot;an open development initiative sponsored by Novell to develop an open source, UNIX version of the .NET development platform.&quot;","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>I don't think this was ever really a design goal of .NET - Microsoft has no particular interest in people writing software for non-Windows platforms ....</p>\n\n<p>However, there is The Mono project (<a href=\"http://www.mono-project.com\" rel=\"nofollow noreferrer\">http://www.mono-project.com</a>), which is \"an open development initiative sponsored by Novell to develop an open source, UNIX version of the .NET development platform.\"</p>\n"},{"tags":[],"owner":{"account_id":8090,"reputation":9081,"user_id":14359,"accept_rate":100,"display_name":"Michael Brown"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1221669838,"creation_date":1221669838,"answer_id":85180,"question_id":84058,"body_markdown":"Microsoft has never made those claims but they ARE making moves in the WORA arena. Silverlight 2.0 for example will use a subset of the .NET framework and be available on Windows, Linux (through the Moonlight project), MacOS, Windows Mobile, and Nokia handsets.\r\n\r\nAs others have mentioned, the Mono project has also brought the framework to multiple environments.","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>Microsoft has never made those claims but they ARE making moves in the WORA arena. Silverlight 2.0 for example will use a subset of the .NET framework and be available on Windows, Linux (through the Moonlight project), MacOS, Windows Mobile, and Nokia handsets.</p>\n\n<p>As others have mentioned, the Mono project has also brought the framework to multiple environments.</p>\n"},{"tags":[],"owner":{"account_id":3408,"reputation":18062,"user_id":4916,"accept_rate":67,"display_name":"Scott Saad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1227111658,"creation_date":1223075112,"answer_id":169234,"question_id":84058,"body_markdown":"Given responses from others I&#39;m still unclear as to whether it was an actual intention of Microsoft to have .NET be a WORA initiative. The only way to really know I guess is to have **somebody from the Microsoft .NET team chime in** on this.\r\n\r\nSince we cannot definitively know the original WORA intentions of .NET we can point to efforts that are attempting to make this a reality (as previous answers have talked about).\r\n\r\n##[Mono](http://en.wikipedia.org/wiki/Mono_(software\\))\r\nThis effort is an initiative happening outside of Microsoft.\r\n&gt; Mono is a project led by Novell (formerly by Ximian) to create an Ecma standard compliant .NET compatible set of tools, including among others a C# compiler and a Common Language Runtime. Mono can be run on Linux, BSD, UNIX, Mac OS X, Solaris and Windows operating systems.\r\n\r\n##[Silverlight](http://en.wikipedia.org/wiki/Silverlight)\r\nThis effort is being heavily pursued by Microsoft. Silverlight 2.0 implements a version of the framework that is the same as .NET 3.0 and seems to be an attempt to successfully deliver the framework to multiple platforms through the browser.\r\n&gt; It is compatible with multiple web browser products used on Microsoft Windows and Mac OS X operating systems. Mobile devices, starting with Windows Mobile 6 and Symbian (Series 60) phones, will also be supported. \r\n\r\n\r\nWhile it does not specifically address bring functionality to GNU/Linux there is apparently a third-party free software implementation named [Moonlight](http://en.wikipedia.org/wiki/Moonlight_(runtime\\)).\r\n\r\nThis seems to be what we currently know, but as stated earlier, **it would be very helpful if somebody from the .NET team could pitch in on this one to properly clarify if WORA was in fact an original initiative.**","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>Given responses from others I'm still unclear as to whether it was an actual intention of Microsoft to have .NET be a WORA initiative. The only way to really know I guess is to have <strong>somebody from the Microsoft .NET team chime in</strong> on this.</p>\n\n<p>Since we cannot definitively know the original WORA intentions of .NET we can point to efforts that are attempting to make this a reality (as previous answers have talked about).</p>\n\n<h2>[Mono](<a href=\"http://en.wikipedia.org/wiki/Mono_(software))\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Mono_(software))</a></h2>\n\n<p>This effort is an initiative happening outside of Microsoft.</p>\n\n<blockquote>\n  <p>Mono is a project led by Novell (formerly by Ximian) to create an Ecma standard compliant .NET compatible set of tools, including among others a C# compiler and a Common Language Runtime. Mono can be run on Linux, BSD, UNIX, Mac OS X, Solaris and Windows operating systems.</p>\n</blockquote>\n\n<h2><a href=\"http://en.wikipedia.org/wiki/Silverlight\" rel=\"nofollow noreferrer\">Silverlight</a></h2>\n\n<p>This effort is being heavily pursued by Microsoft. Silverlight 2.0 implements a version of the framework that is the same as .NET 3.0 and seems to be an attempt to successfully deliver the framework to multiple platforms through the browser.</p>\n\n<blockquote>\n  <p>It is compatible with multiple web browser products used on Microsoft Windows and Mac OS X operating systems. Mobile devices, starting with Windows Mobile 6 and Symbian (Series 60) phones, will also be supported. </p>\n</blockquote>\n\n<p>While it does not specifically address bring functionality to GNU/Linux there is apparently a third-party free software implementation named [Moonlight](<a href=\"http://en.wikipedia.org/wiki/Moonlight_(runtime))\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Moonlight_(runtime))</a>.</p>\n\n<p>This seems to be what we currently know, but as stated earlier, <strong>it would be very helpful if somebody from the .NET team could pitch in on this one to properly clarify if WORA was in fact an original initiative.</strong></p>\n"},{"tags":[],"owner":{"display_name":"Sevil Natas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1225260323,"creation_date":1225260323,"answer_id":245934,"question_id":84058,"body_markdown":"It was most assuredly meant to be WORA. It&#39;s just MS figured Anywhere and Everywhere would be Windows by now. Who knew Linux and the MacOS would still be around. But judging by all the Macs at the PDC, I guess they were either half right or half wrong!","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>It was most assuredly meant to be WORA. It's just MS figured Anywhere and Everywhere would be Windows by now. Who knew Linux and the MacOS would still be around. But judging by all the Macs at the PDC, I guess they were either half right or half wrong!</p>\n"},{"tags":[],"owner":{"account_id":8688,"reputation":2118,"user_id":15768,"display_name":"alasdairg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1226495740,"creation_date":1226495740,"answer_id":283897,"question_id":84058,"body_markdown":"If WORA was really an original goal, then I guess we&#39;d see .NET implementations on all the major platforms by now, fully supported by Microsoft. I seem to recall that at the time Sun was shouting WORA from the rooftops, Microsoft&#39;s riposte was &quot;Write Any (language) Run on One (platform)&quot; (WARO:-). As somebody else mentioned, I think they&#39;ve always been firm backers of WORASLAIW (Write Once Run Anywhere So Long As Its Windows)\r\n\r\nAs you point out, they seem to be changing tack a bit with Silverlight to try and get a piece of the Flash/Flex action now that the battlefield has shifted significantly away from the desktop and towards the browser.","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>If WORA was really an original goal, then I guess we'd see .NET implementations on all the major platforms by now, fully supported by Microsoft. I seem to recall that at the time Sun was shouting WORA from the rooftops, Microsoft's riposte was \"Write Any (language) Run on One (platform)\" (WARO:-). As somebody else mentioned, I think they've always been firm backers of WORASLAIW (Write Once Run Anywhere So Long As Its Windows)</p>\n\n<p>As you point out, they seem to be changing tack a bit with Silverlight to try and get a piece of the Flash/Flex action now that the battlefield has shifted significantly away from the desktop and towards the browser.</p>\n"},{"tags":[],"owner":{"account_id":15379,"reputation":466,"user_id":32415,"display_name":"user32415"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1226496350,"creation_date":1226496350,"answer_id":283918,"question_id":84058,"body_markdown":"But it IS multiplataform  Win9x/WinNT/Mobile","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>But it IS multiplataform  Win9x/WinNT/Mobile</p>\n"},{"tags":[],"owner":{"account_id":29161,"reputation":8697,"user_id":78561,"accept_rate":64,"display_name":"trampster"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1258871195,"creation_date":1258871195,"answer_id":1778001,"question_id":84058,"body_markdown":"To put this in context, in many people&#39;s view Java never delivered on its &quot;Write Once Run Anywhere&quot; promise either.\r\n\r\nAt best what you got was &quot;Write Once Debug Everywhere&quot; or &quot;Write Once Looks like crap Everywhere&quot;\r\n\r\nThe successful CLR based applications have all been written using a graphical framework that is native to the target platform.\r\n\r\nFor example the following highly successful linux applications where written using c# bindings to GTK called GTK# and not using winforms like you would expect:\r\n\r\nBanshee - music player like itunes\r\n\r\nfspot - photo manager\r\n\r\nTomBoy - notes program\r\n\r\nGnomeDo - Quick launcher and dock\r\n\r\n\r\nEqually successful windows .net applications are not written using GTK# (even though it is cross platform) they are written using winforms or WPF.\r\n\r\nWhen google came to make Chrome they didn&#39;t try to use a cross platform GUI framework, instead they choose to use native GUI frameworks on each platform. Why? because that way the application, fits properly into it&#39;s environment, that way it looks, feels and acts like its native to the operating system its on.\r\n\r\nBasically when you try to have write once run anywhere you have to make serious compromises and what you end up with is something that doesn&#39;t really work right anywhere.\r\n\r\nThe industry has largely given up on the lofty goal of write once run anywhere, as a nice idea which didn&#39;t work out in practice.\r\n\r\nThe best approach with mono/.net is to share your lower level binaries and to use a native gui framework on each target platform. GTK# on linux, winforms or WPF on windows, CocoaSharp on Mac. This way your application will look and feel like a native app.\r\n","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>To put this in context, in many people's view Java never delivered on its \"Write Once Run Anywhere\" promise either.</p>\n\n<p>At best what you got was \"Write Once Debug Everywhere\" or \"Write Once Looks like crap Everywhere\"</p>\n\n<p>The successful CLR based applications have all been written using a graphical framework that is native to the target platform.</p>\n\n<p>For example the following highly successful linux applications where written using c# bindings to GTK called GTK# and not using winforms like you would expect:</p>\n\n<p>Banshee - music player like itunes</p>\n\n<p>fspot - photo manager</p>\n\n<p>TomBoy - notes program</p>\n\n<p>GnomeDo - Quick launcher and dock</p>\n\n<p>Equally successful windows .net applications are not written using GTK# (even though it is cross platform) they are written using winforms or WPF.</p>\n\n<p>When google came to make Chrome they didn't try to use a cross platform GUI framework, instead they choose to use native GUI frameworks on each platform. Why? because that way the application, fits properly into it's environment, that way it looks, feels and acts like its native to the operating system its on.</p>\n\n<p>Basically when you try to have write once run anywhere you have to make serious compromises and what you end up with is something that doesn't really work right anywhere.</p>\n\n<p>The industry has largely given up on the lofty goal of write once run anywhere, as a nice idea which didn't work out in practice.</p>\n\n<p>The best approach with mono/.net is to share your lower level binaries and to use a native gui framework on each target platform. GTK# on linux, winforms or WPF on windows, CocoaSharp on Mac. This way your application will look and feel like a native app.</p>\n"},{"tags":[],"owner":{"account_id":22774,"reputation":18102,"user_id":56524,"accept_rate":45,"display_name":"mP."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1274710395,"creation_date":1274710395,"answer_id":2897597,"question_id":84058,"body_markdown":"If Microsoft were serious about dotnet on other non windows platforms they would have released the class libraries for reuse by others ajoiding the need to rewrite the same libs again. Sun on the other hand has done this meaning less barriers are present ifnone wishesto port to another platform. Natually with java one still needs to write a vm and do the native stuff but it helps avoid a headache that is reimplementing the entire class library. The standardization of the language wS a marketing ploy to grab jon technical folk. A language without libs is worthless. Try doing your next project withnknly the prjkitive types ... That&#39;s right write your own string class etc and tell me how helpful a standardiSe language is without any libs available...","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>If Microsoft were serious about dotnet on other non windows platforms they would have released the class libraries for reuse by others ajoiding the need to rewrite the same libs again. Sun on the other hand has done this meaning less barriers are present ifnone wishesto port to another platform. Natually with java one still needs to write a vm and do the native stuff but it helps avoid a headache that is reimplementing the entire class library. The standardization of the language wS a marketing ploy to grab jon technical folk. A language without libs is worthless. Try doing your next project withnknly the prjkitive types ... That's right write your own string class etc and tell me how helpful a standardiSe language is without any libs available...</p>\n"},{"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1274710784,"creation_date":1274710784,"answer_id":2897632,"question_id":84058,"body_markdown":"The answer is a very shaky Yes.  The moment you include an external library, the answer changes to No.\r\n\r\nFor example, Microsoft has no 64-bit JET driver.  JET is used by .NET to access MS Access databases.\r\n\r\nAny applications compiled for the Any CPU target that use MS Access databases will fail on a 64-bit version of Windows.\r\n\r\n(This is ignoring that said applications are not portable to Mono.)","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>The answer is a very shaky Yes.  The moment you include an external library, the answer changes to No.</p>\n\n<p>For example, Microsoft has no 64-bit JET driver.  JET is used by .NET to access MS Access databases.</p>\n\n<p>Any applications compiled for the Any CPU target that use MS Access databases will fail on a 64-bit version of Windows.</p>\n\n<p>(This is ignoring that said applications are not portable to Mono.)</p>\n"},{"tags":[],"owner":{"account_id":516928,"reputation":2109,"user_id":1128667,"accept_rate":100,"display_name":"Nishant George Agrwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335599940,"creation_date":1335599940,"answer_id":10361715,"question_id":84058,"body_markdown":"I think the idea was to create inter-operability between the different programming languages, not WORA. ","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>I think the idea was to create inter-operability between the different programming languages, not WORA. </p>\n"},{"tags":[],"owner":{"account_id":6139897,"reputation":43,"user_id":4787616,"display_name":"Nitin Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646877464,"creation_date":1646877464,"answer_id":71417992,"question_id":84058,"body_markdown":"[.Net Core][1] makes .Net &quot;almost&quot; Write Once Run Anywhere.\r\n\r\nBut there are subtle differences -\r\n\r\n1. .Net Core is not really .Net\r\n2. With .Net Core, you write once but build multiple times, once for each specific target OS. Whereas in Java binaries are built once and can be run on any supported OS.\r\n\r\n&gt; dotnet build --runtime ubuntu.18.04-x64\r\n\r\n\r\n  [1]: https://dotnet.microsoft.com/en-us/download","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p><a href=\"https://dotnet.microsoft.com/en-us/download\" rel=\"nofollow noreferrer\">.Net Core</a> makes .Net &quot;almost&quot; Write Once Run Anywhere.</p>\n<p>But there are subtle differences -</p>\n<ol>\n<li>.Net Core is not really .Net</li>\n<li>With .Net Core, you write once but build multiple times, once for each specific target OS. Whereas in Java binaries are built once and can be run on any supported OS.</li>\n</ol>\n<blockquote>\n<p>dotnet build --runtime ubuntu.18.04-x64</p>\n</blockquote>\n"}],"owner":{"account_id":3408,"reputation":18062,"user_id":4916,"accept_rate":67,"display_name":"Scott Saad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5438,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"answer_count":30,"score":11,"last_activity_date":1646877464,"creation_date":1221663052,"question_id":84058,"body_markdown":"I remember Sun&#39;s slogan so vividly... [&quot;Write Once, Run Anywhere&quot;](http://en.wikipedia.org/wiki/Write_once,_run_anywhere). The idea being that since programs are compiled into standard byte codes, any device with a Java Virtual Machine could run it. Over the years, Java seems to have made it onto many platforms/devices. \r\n\r\nIs this the intention or was it ever the intention of .NET. If so, what kind of efforts are being put forth to make this a reality?","title":"Is .NET a write once, run anywhere (WORA) platform like Java claims to be?","body":"<p>I remember Sun's slogan so vividly... <a href=\"http://en.wikipedia.org/wiki/Write_once,_run_anywhere\" rel=\"noreferrer\">\"Write Once, Run Anywhere\"</a>. The idea being that since programs are compiled into standard byte codes, any device with a Java Virtual Machine could run it. Over the years, Java seems to have made it onto many platforms/devices. </p>\n\n<p>Is this the intention or was it ever the intention of .NET. If so, what kind of efforts are being put forth to make this a reality?</p>\n"},{"tags":["java","android","android-studio","monitoring"],"owner":{"account_id":19853906,"reputation":315,"user_id":14543816,"display_name":"S.."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646877104,"creation_date":1646877104,"question_id":71417963,"body_markdown":"I am trying to create a android app in java which will be able to track some hardware components, specifically their usage in real time like CPU usage, RAM usage, and whatever else is available to track. I would also like the app to track network usage. \r\n\r\nCurrently I&#39;m looking everywhere to try and find a good way to get any form of data from the components, but can&#39;t find anything that I could actually use or make sense of.\r\n\r\nIf anyone knows of any open source projects or libraries which offer this kind of functionality or has done anything wimilar that you are willing to share I would be very grateful.\r\n\r\nMy attempts at monitoring the cpu:\r\n\r\n#1 - doesn&#39;t work\r\n\r\n    try\r\n        {\r\n            final TextView textViewToChange = (TextView) findViewById(R.id.cpu);\r\n            RandomAccessFile reader = new RandomAccessFile(&quot;/proc/stat&quot;, &quot;r&quot;);\r\n            String load = reader.readLine();\r\n            while (load != null)\r\n            {\r\n                textViewToChange.append(load);\r\n                //Log.d(&quot;CPU&quot;, &quot;CPU usage: &quot; + load);\r\n                load = reader.readLine();\r\n            }\r\n        }\r\n        catch (IOException ex)\r\n        {\r\n            ex.printStackTrace();\r\n        }\r\n\r\n#2 - gives me the &quot;frequency&quot; but I&#39;m running a quad core and it&#39;s displaying only single frequency value and the frequency seems way off so i&#39;d say not working either\r\n\r\n    try {\r\n            double currentFreq;\r\n            RandomAccessFile readerCurFreq;\r\n            readerCurFreq = new RandomAccessFile(&quot;/sys/devices/system/cpu/cpu0/cpufreq/scaling_cur_freq&quot;, &quot;r&quot;);\r\n            String cur_freq = readerCurFreq.readLine();\r\n            currentFreq = Double.parseDouble(cur_freq) / 1000;\r\n            readerCurFreq.close();\r\n            String final_freq = &quot;Curent Frequency of Core 0 is: &quot; + currentFreq;\r\n\r\n            final TextView textViewToChange = (TextView) findViewById(R.id.cpu);\r\n            textViewToChange.setText(final_freq);\r\n        } catch (IOException ex) {\r\n            String final_freq = &quot;Core is Idle&quot;;\r\n            final TextView textViewToChange = (TextView) findViewById(R.id.cpu);\r\n            textViewToChange.setText(final_freq);\r\n            ex.printStackTrace();\r\n        }\r\n\r\n#3 - not working\r\n\r\n    try {\r\n            RandomAccessFile reader = new RandomAccessFile(&quot;/proc/stat&quot;, &quot;r&quot;);\r\n            String load = reader.readLine();\r\n\r\n            String[] toks = load.split(&quot; +&quot;);  // Split on one or more spaces\r\n\r\n            long idle1 = Long.parseLong(toks[4]);\r\n            long cpu1 = Long.parseLong(toks[2]) + Long.parseLong(toks[3]) + Long.parseLong(toks[5])\r\n                    + Long.parseLong(toks[6]) + Long.parseLong(toks[7]) + Long.parseLong(toks[8]);\r\n\r\n            try {\r\n                Thread.sleep(360);\r\n            } catch (Exception e) {}\r\n\r\n            reader.seek(0);\r\n            load = reader.readLine();\r\n            reader.close();\r\n\r\n            toks = load.split(&quot; +&quot;);\r\n\r\n            long idle2 = Long.parseLong(toks[4]);\r\n            long cpu2 = Long.parseLong(toks[2]) + Long.parseLong(toks[3]) + Long.parseLong(toks[5])\r\n                    + Long.parseLong(toks[6]) + Long.parseLong(toks[7]) + Long.parseLong(toks[8]);\r\n\r\n            float final_freq = (float)(cpu2 - cpu1) / ((cpu2 + idle2) - (cpu1 + idle1));\r\n            final TextView textViewToChange = (TextView) findViewById(R.id.cpu);\r\n            textViewToChange.setText(String.valueOf(final_freq));\r\n\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n\r\n#4 - not working\r\n\r\n    MBeanServerConnection mbsc = ManagementFactory.getPlatformMBeanServer();\r\n\r\n        OperatingSystemMXBean osMBean = ManagementFactory.newPlatformMXBeanProxy(\r\n                mbsc, ManagementFactory.OPERATING_SYSTEM_MXBEAN_NAME, OperatingSystemMXBean.class);\r\n\r\n        long nanoBefore = System.nanoTime();\r\n        long cpuBefore = osMBean.getProcessCpuTime();\r\n\r\n        // Call an expensive task, or sleep if you are monitoring a remote process\r\n\r\n        long cpuAfter = osMBean.getProcessCpuTime();\r\n        long nanoAfter = System.nanoTime();\r\n\r\n        long percent;\r\n        if (nanoAfter &gt; nanoBefore)\r\n            percent = ((cpuAfter-cpuBefore)*100L)/\r\n                    (nanoAfter-nanoBefore);\r\n        else percent = 0;\r\n\r\n        string result = &quot;Cpu usage: &quot; + percent + &quot;%&quot;;\r\n\r\n        final TextView textViewToChange = (TextView) findViewById(R.id.cpu);\r\n        textViewToChange.setText(String.valueOf(result));\r\n\r\n","title":"Android studio hardware and network resource tracking","body":"<p>I am trying to create a android app in java which will be able to track some hardware components, specifically their usage in real time like CPU usage, RAM usage, and whatever else is available to track. I would also like the app to track network usage.</p>\n<p>Currently I'm looking everywhere to try and find a good way to get any form of data from the components, but can't find anything that I could actually use or make sense of.</p>\n<p>If anyone knows of any open source projects or libraries which offer this kind of functionality or has done anything wimilar that you are willing to share I would be very grateful.</p>\n<p>My attempts at monitoring the cpu:</p>\n<p>#1 - doesn't work</p>\n<pre><code>try\n    {\n        final TextView textViewToChange = (TextView) findViewById(R.id.cpu);\n        RandomAccessFile reader = new RandomAccessFile(&quot;/proc/stat&quot;, &quot;r&quot;);\n        String load = reader.readLine();\n        while (load != null)\n        {\n            textViewToChange.append(load);\n            //Log.d(&quot;CPU&quot;, &quot;CPU usage: &quot; + load);\n            load = reader.readLine();\n        }\n    }\n    catch (IOException ex)\n    {\n        ex.printStackTrace();\n    }\n</code></pre>\n<p>#2 - gives me the &quot;frequency&quot; but I'm running a quad core and it's displaying only single frequency value and the frequency seems way off so i'd say not working either</p>\n<pre><code>try {\n        double currentFreq;\n        RandomAccessFile readerCurFreq;\n        readerCurFreq = new RandomAccessFile(&quot;/sys/devices/system/cpu/cpu0/cpufreq/scaling_cur_freq&quot;, &quot;r&quot;);\n        String cur_freq = readerCurFreq.readLine();\n        currentFreq = Double.parseDouble(cur_freq) / 1000;\n        readerCurFreq.close();\n        String final_freq = &quot;Curent Frequency of Core 0 is: &quot; + currentFreq;\n\n        final TextView textViewToChange = (TextView) findViewById(R.id.cpu);\n        textViewToChange.setText(final_freq);\n    } catch (IOException ex) {\n        String final_freq = &quot;Core is Idle&quot;;\n        final TextView textViewToChange = (TextView) findViewById(R.id.cpu);\n        textViewToChange.setText(final_freq);\n        ex.printStackTrace();\n    }\n</code></pre>\n<p>#3 - not working</p>\n<pre><code>try {\n        RandomAccessFile reader = new RandomAccessFile(&quot;/proc/stat&quot;, &quot;r&quot;);\n        String load = reader.readLine();\n\n        String[] toks = load.split(&quot; +&quot;);  // Split on one or more spaces\n\n        long idle1 = Long.parseLong(toks[4]);\n        long cpu1 = Long.parseLong(toks[2]) + Long.parseLong(toks[3]) + Long.parseLong(toks[5])\n                + Long.parseLong(toks[6]) + Long.parseLong(toks[7]) + Long.parseLong(toks[8]);\n\n        try {\n            Thread.sleep(360);\n        } catch (Exception e) {}\n\n        reader.seek(0);\n        load = reader.readLine();\n        reader.close();\n\n        toks = load.split(&quot; +&quot;);\n\n        long idle2 = Long.parseLong(toks[4]);\n        long cpu2 = Long.parseLong(toks[2]) + Long.parseLong(toks[3]) + Long.parseLong(toks[5])\n                + Long.parseLong(toks[6]) + Long.parseLong(toks[7]) + Long.parseLong(toks[8]);\n\n        float final_freq = (float)(cpu2 - cpu1) / ((cpu2 + idle2) - (cpu1 + idle1));\n        final TextView textViewToChange = (TextView) findViewById(R.id.cpu);\n        textViewToChange.setText(String.valueOf(final_freq));\n\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n</code></pre>\n<p>#4 - not working</p>\n<pre><code>MBeanServerConnection mbsc = ManagementFactory.getPlatformMBeanServer();\n\n    OperatingSystemMXBean osMBean = ManagementFactory.newPlatformMXBeanProxy(\n            mbsc, ManagementFactory.OPERATING_SYSTEM_MXBEAN_NAME, OperatingSystemMXBean.class);\n\n    long nanoBefore = System.nanoTime();\n    long cpuBefore = osMBean.getProcessCpuTime();\n\n    // Call an expensive task, or sleep if you are monitoring a remote process\n\n    long cpuAfter = osMBean.getProcessCpuTime();\n    long nanoAfter = System.nanoTime();\n\n    long percent;\n    if (nanoAfter &gt; nanoBefore)\n        percent = ((cpuAfter-cpuBefore)*100L)/\n                (nanoAfter-nanoBefore);\n    else percent = 0;\n\n    string result = &quot;Cpu usage: &quot; + percent + &quot;%&quot;;\n\n    final TextView textViewToChange = (TextView) findViewById(R.id.cpu);\n    textViewToChange.setText(String.valueOf(result));\n</code></pre>\n"},{"tags":["java","junit","mocking","mockito","junit5"],"comments":[{"owner":{"account_id":1507676,"reputation":590,"user_id":1410671,"display_name":"randal4"},"score":0,"creation_date":1584925022,"post_id":60805398,"comment_id":107582739,"body_markdown":"When you are mocking PersonService with the @MockBean annotation, you are causing the service to not call the actual method and is returning an empty list.  Also your add method will not work as you&#39;re expecting as it doesn&#39;t save the list back to your model.","body":"When you are mocking PersonService with the @MockBean annotation, you are causing the service to not call the actual method and is returning an empty list.  Also your add method will not work as you&#39;re expecting as it doesn&#39;t save the list back to your model."}],"answers":[{"tags":[],"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584950886,"creation_date":1584950886,"answer_id":60809821,"question_id":60805398,"body_markdown":"As you mock the `PersonService` you have to provide its behaviour otherwise it always returns `null`. You can use `when().thenReturn()` from Mockito for this:\r\n\r\n    @WebMvcTest(PersonController.class)\r\n    @ExtendWith(SpringExtension.class)\r\n    public class PersonControllerTest {\r\n    \r\n        @Autowired\r\n        private MockMvc mvc;\r\n    \r\n        @Autowired\r\n        private Model model;\r\n    \r\n        @MockBean\r\n        private PersonService service;\r\n    \r\n    \r\n         @Test\r\n         public void addPersonTest() throws Exception {\r\n    \r\n               List&lt;Person&gt; personList = Arrays.asList(new Person()); // create list here\r\n               when(service.add(any(Person.class)).thenReturn(personList); // mock the behaviour of your PersonService bean\r\n    \r\n               this.mvc.perform(post(&quot;/person/add&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON).content(&quot;{\\&quot;firstName\\&quot;: \\&quot;Test\\&quot;,\\&quot;lastName\\&quot;: \\&quot;\\&quot;,\\&quot;address\\&quot;: \\&quot;\\&quot;,\\&quot;city\\&quot;: \\&quot;\\&quot;,\\&quot;zip\\&quot;: \\&quot;\\&quot;,\\&quot;phone\\&quot;: \\&quot;\\&quot;,\\&quot;email\\&quot;: \\&quot;\\&quot;}&quot;))\r\n                .andDo(MockMvcResultHandlers.print())\r\n                        .andExpect(status().isOk());\r\n         }\r\n    }","title":"MockHttpServletResponse body empty","body":"<p>As you mock the <code>PersonService</code> you have to provide its behaviour otherwise it always returns <code>null</code>. You can use <code>when().thenReturn()</code> from Mockito for this:</p>\n\n<pre><code>@WebMvcTest(PersonController.class)\n@ExtendWith(SpringExtension.class)\npublic class PersonControllerTest {\n\n    @Autowired\n    private MockMvc mvc;\n\n    @Autowired\n    private Model model;\n\n    @MockBean\n    private PersonService service;\n\n\n     @Test\n     public void addPersonTest() throws Exception {\n\n           List&lt;Person&gt; personList = Arrays.asList(new Person()); // create list here\n           when(service.add(any(Person.class)).thenReturn(personList); // mock the behaviour of your PersonService bean\n\n           this.mvc.perform(post(\"/person/add\")\n            .contentType(MediaType.APPLICATION_JSON).content(\"{\\\"firstName\\\": \\\"Test\\\",\\\"lastName\\\": \\\"\\\",\\\"address\\\": \\\"\\\",\\\"city\\\": \\\"\\\",\\\"zip\\\": \\\"\\\",\\\"phone\\\": \\\"\\\",\\\"email\\\": \\\"\\\"}\"))\n            .andDo(MockMvcResultHandlers.print())\n                    .andExpect(status().isOk());\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":18018361,"reputation":35,"user_id":13096291,"display_name":"Remi0110"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5907,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1646876855,"creation_date":1584914040,"question_id":60805398,"body_markdown":"I try to test my method `addPerson()` in my controller, but when I execute the test I have status 200 with an empty body in `MockHttpServletResponse`. I would like to test the body response with `jsonPath` from `MockMvcResultMatchers` but I can&#39;t do it while the body is empty.\r\n\r\nHere is my test:\r\n\r\n    @WebMvcTest(PersonController.class)\r\n    @ExtendWith(SpringExtension.class)\r\n    public class PersonControllerTest {\r\n    \r\n    \t@Autowired\r\n        private MockMvc mvc;\r\n    \t\r\n    \t@Autowired\r\n        private Model model;\r\n    \t\r\n    \t@MockBean\r\n    \tprivate PersonService service;\r\n    \t\r\n    \t @Test\r\n    \t public void addPersonTest() throws Exception {\r\n   \t        this.mvc.perform(post(&quot;/person/add&quot;)\r\n    \t        .contentType(MediaType.APPLICATION_JSON).content(&quot;{\\&quot;firstName\\&quot;: \\&quot;Test\\&quot;,\\&quot;lastName\\&quot;: \\&quot;\\&quot;,\\&quot;address\\&quot;: \\&quot;\\&quot;,\\&quot;city\\&quot;: \\&quot;\\&quot;,\\&quot;zip\\&quot;: \\&quot;\\&quot;,\\&quot;phone\\&quot;: \\&quot;\\&quot;,\\&quot;email\\&quot;: \\&quot;\\&quot;}&quot;))\r\n    \t        .andDo(MockMvcResultHandlers.print())\r\n                .andExpect(status().isOk());\r\n    \t }\r\nHere is my controller with the method addPerson()\r\n\r\n    @RequestMapping(&quot;/person&quot;)\r\n    @RestController\r\n    public class PersonController {\r\n    \r\n    \t@Autowired\r\n    \tModel model;\r\n    \r\n    \tprivate static final Logger logger = LogManager.getRootLogger();\r\n    \r\n    \t@Autowired\r\n    \tprivate PersonService personService;\r\n    \r\n    \t@GetMapping(&quot;/&quot;)\r\n    \tpublic List&lt;Person&gt; allPerson() {\r\n    \t\treturn personService.all();\r\n    \t}\r\n    \r\n    \t@PostMapping(&quot;/add&quot;)\r\n    \tpublic List&lt;Person&gt; addPerson(@RequestBody Person person) {\r\n    \t\tList&lt;Person&gt; listPerson = this.personService.add(person);\r\n    \r\n    \t\tlogger.info(&quot;Request = @RequestBody = {}&quot;, person);\r\n    \t\tlogger.info(&quot;Response {}&quot;, listPerson);\r\n    \t\treturn listPerson;\r\n    \t}\r\n\r\nAnd here is the service:\r\n\r\n    @Service\r\n    public class PersonService {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate Model model;\r\n    \r\n    \tpublic PersonService(Model model2) {\r\n    \t\t this.model = model2;\r\n    \t}\r\n    \r\n    \tpublic List&lt;Person&gt; add(Person person) {\r\n    \t\tList&lt;Person&gt; listPersons = model.getPersons();\r\n    \t\tlistPersons.add(person);\r\n    \t\treturn listPersons;\r\n    \t}\r\n\r\nThanks for your help.\r\n","title":"MockHttpServletResponse body empty","body":"<p>I try to test my method <code>addPerson()</code> in my controller, but when I execute the test I have status 200 with an empty body in <code>MockHttpServletResponse</code>. I would like to test the body response with <code>jsonPath</code> from <code>MockMvcResultMatchers</code> but I can't do it while the body is empty.</p>\n\n<p>Here is my test:</p>\n\n<pre><code>@WebMvcTest(PersonController.class)\n@ExtendWith(SpringExtension.class)\npublic class PersonControllerTest {\n\n    @Autowired\n    private MockMvc mvc;\n\n    @Autowired\n    private Model model;\n\n    @MockBean\n    private PersonService service;\n\n     @Test\n     public void addPersonTest() throws Exception {\n        this.mvc.perform(post(\"/person/add\")\n            .contentType(MediaType.APPLICATION_JSON).content(\"{\\\"firstName\\\": \\\"Test\\\",\\\"lastName\\\": \\\"\\\",\\\"address\\\": \\\"\\\",\\\"city\\\": \\\"\\\",\\\"zip\\\": \\\"\\\",\\\"phone\\\": \\\"\\\",\\\"email\\\": \\\"\\\"}\"))\n            .andDo(MockMvcResultHandlers.print())\n            .andExpect(status().isOk());\n     }\n</code></pre>\n\n<p>Here is my controller with the method addPerson()</p>\n\n<pre><code>@RequestMapping(\"/person\")\n@RestController\npublic class PersonController {\n\n    @Autowired\n    Model model;\n\n    private static final Logger logger = LogManager.getRootLogger();\n\n    @Autowired\n    private PersonService personService;\n\n    @GetMapping(\"/\")\n    public List&lt;Person&gt; allPerson() {\n        return personService.all();\n    }\n\n    @PostMapping(\"/add\")\n    public List&lt;Person&gt; addPerson(@RequestBody Person person) {\n        List&lt;Person&gt; listPerson = this.personService.add(person);\n\n        logger.info(\"Request = @RequestBody = {}\", person);\n        logger.info(\"Response {}\", listPerson);\n        return listPerson;\n    }\n</code></pre>\n\n<p>And here is the service:</p>\n\n<pre><code>@Service\npublic class PersonService {\n\n    @Autowired\n    private Model model;\n\n    public PersonService(Model model2) {\n         this.model = model2;\n    }\n\n    public List&lt;Person&gt; add(Person person) {\n        List&lt;Person&gt; listPersons = model.getPersons();\n        listPersons.add(person);\n        return listPersons;\n    }\n</code></pre>\n\n<p>Thanks for your help.</p>\n"},{"tags":["java","android","android-studio","build","build.gradle"],"comments":[{"owner":{"account_id":271838,"reputation":2500,"user_id":562592,"accept_rate":73,"display_name":"Peter"},"score":0,"creation_date":1537965734,"post_id":52517484,"comment_id":91975526,"body_markdown":"just wait. i was waiting two hours :D &gt;Becouse every restart was usless.","body":"just wait. i was waiting two hours :D &gt;Becouse every restart was usless."}],"answers":[{"tags":[],"owner":{"account_id":2211214,"reputation":87,"user_id":1953012,"display_name":"cousma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537978270,"creation_date":1537978270,"answer_id":52522101,"question_id":52517484,"body_markdown":"I managed to solve it by changing the SDK location (File-&gt;Project Structure-&gt;SDK location) and point to a different path on the JDK location, i had another version of JDK so using that it doesn&#39;t suspend the task of Open JDK Platform Binary. At least this change allows me to sync and build the project.","title":"Gradle build is stuck and never finishes after updating to Android Studio 3.2","body":"<p>I managed to solve it by changing the SDK location (File->Project Structure->SDK location) and point to a different path on the JDK location, i had another version of JDK so using that it doesn't suspend the task of Open JDK Platform Binary. At least this change allows me to sync and build the project.</p>\n"},{"tags":[],"owner":{"account_id":10445954,"reputation":13,"user_id":7700985,"display_name":"Acentellao17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538401961,"creation_date":1538401961,"answer_id":52592687,"question_id":52517484,"body_markdown":"I had the same issue and I solved it by downgrading Android Studio to 3.1.4 version. You can download it from here: https://developer.android.com/studio/archive\r\n\r\nYou can keep both versions, and you can use the same Android SDK Folder. However, I reccommend you to select &quot;Do not import settings&quot; option on the installation process. Regards.","title":"Gradle build is stuck and never finishes after updating to Android Studio 3.2","body":"<p>I had the same issue and I solved it by downgrading Android Studio to 3.1.4 version. You can download it from here: <a href=\"https://developer.android.com/studio/archive\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/archive</a></p>\n\n<p>You can keep both versions, and you can use the same Android SDK Folder. However, I reccommend you to select \"Do not import settings\" option on the installation process. Regards.</p>\n"},{"tags":[],"owner":{"account_id":14856416,"reputation":19,"user_id":10728785,"display_name":"Mahdi Parastesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646876739,"creation_date":1646876739,"answer_id":71417925,"question_id":52517484,"body_markdown":"Deleting both the &quot;/build/ and &quot;/app/build/&quot; folders solved my problem!","title":"Gradle build is stuck and never finishes after updating to Android Studio 3.2","body":"<p>Deleting both the &quot;/build/ and &quot;/app/build/&quot; folders solved my problem!</p>\n"}],"owner":{"account_id":2211214,"reputation":87,"user_id":1953012,"display_name":"cousma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4984,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1646876739,"creation_date":1537963882,"question_id":52517484,"body_markdown":"I have a project in android and after updating to android studio 3.2 Gradle build is stuck and never finishes. I looked at the task manager and the Open JDK Platform Binary task is going to suspended a few seconds after i start the build. Anyone has seen something similar?  \r\n- I have distributionUrl=https\\://services.gradle.org/distributions/gradle-4.6-all.zip\r\n- Deleted the .gradle folder and tried again\r\n- My build tools version is  buildToolsVersion &#39;26.0.2&#39; and version of gradle is &#39;com.android.tools.build:gradle:3.2.0\r\n- Changed compile to implementation \r\n\r\nI have no idea why the task is suspended but that is why the build gets stuck when i try from the terminal a Java Platform Binary task is generated and this is not suspended. \r\nAny help would be appreciated.","title":"Gradle build is stuck and never finishes after updating to Android Studio 3.2","body":"<p>I have a project in android and after updating to android studio 3.2 Gradle build is stuck and never finishes. I looked at the task manager and the Open JDK Platform Binary task is going to suspended a few seconds after i start the build. Anyone has seen something similar?</p>\n<ul>\n<li>I have distributionUrl=https://services.gradle.org/distributions/gradle-4.6-all.zip</li>\n<li>Deleted the .gradle folder and tried again</li>\n<li>My build tools version is  buildToolsVersion '26.0.2' and version of gradle is 'com.android.tools.build:gradle:3.2.0</li>\n<li>Changed compile to implementation</li>\n</ul>\n<p>I have no idea why the task is suspended but that is why the build gets stuck when i try from the terminal a Java Platform Binary task is generated and this is not suspended.\nAny help would be appreciated.</p>\n"},{"tags":["java","stringbuilder"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646858937,"post_id":71415516,"comment_id":126230886,"body_markdown":"How are you building the SQL statement?","body":"How are you building the SQL statement?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646863487,"post_id":71415516,"comment_id":126232154,"body_markdown":"I added the solution at the top of my answer, and an explanation of the solution following that.","body":"I added the solution at the top of my answer, and an explanation of the solution following that."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1646879342,"post_id":71415516,"comment_id":126234928,"body_markdown":"You can also not put the WHERE and AND on separate lines.  The first condition gets a WHERE at the beginning and every subsequent condition gets an AND at the beginning.","body":"You can also not put the WHERE and AND on separate lines.  The first condition gets a WHERE at the beginning and every subsequent condition gets an AND at the beginning."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646876585,"creation_date":1646862708,"answer_id":71416400,"question_id":71415516,"body_markdown":"**TL:DR**\r\nYour solution\r\n```\r\n@Override\r\npublic List&lt;ProgramTable&gt; getProgramsByAdvancedSearch(SearchModel searchContext) {\r\n\tSystem.out.println(searchContext.getName());\r\n\r\n    String baseStatement = &quot;SELECT p.ProgramId, c.CategoryId, c.CategoryName, p.ProgramName, p.Description, p.Active, p.BaseLocation\\n&quot; +\r\n        &quot;FROM Program p\\n&quot; +\r\n        &quot;INNER JOIN Ref_ProgramCategory r on r.ProgramId = p.ProgramId\\n&quot; +\r\n        &quot;INNER JOIN Category c on c.CategoryId = r.CategoryId\\n&quot; +\r\n        &quot;WHERE\\n&quot;;\r\n\r\n    List&lt;String&gt; clauses = new ArrayList&lt;&gt;();\r\n    if(searchContext.getName() != null){\r\n        clauses.add(&quot;p.ProgramName = &quot; + &quot;&#39;&quot; + searchContext.getName() + &quot;&#39;&quot; + &quot;\\n&quot;);\r\n    }\r\n\r\n    if(searchContext.getCategory() != null){\r\n        clauses.add(&quot;c.CategoryName = &quot; + &quot;&#39;&quot; + searchContext.getCategory() + &quot;&#39;&quot; + &quot;\\n&quot;);\r\n    }\r\n\r\n    StringBuilder sb = new StringBuilder(baseStatement);\r\n    for (int i = 0; i &lt; clauses.size(); i++) {\r\n        sb.append(clauses.get(i));\r\n        if (i &lt; clauses.size() - 1) {\r\n            sb.append(&quot;AND\\n&quot;);\r\n        }\r\n    }\r\n\r\n\tsb.append(&quot;ORDER BY p.ProgramName;&quot;);\r\n\r\n\t// The line break after WHERE is character number 241\r\n\t// Would like to do the AND insert here\r\n\r\n\t// Getting &quot;java.lang.NullPointerException: null&quot; here\r\n\tQuery query = entityManager.createNativeQuery(sb.toString());\r\n\r\n\tList&lt;ProgramTable&gt; searchList = query.getResultList();\r\n\r\n\treturn searchList;\r\n}\r\n```\r\n----------\r\n\r\nThere&#39;s quite a few to unpack here, but I will just focus on the main problem (Adding &quot;AND&quot; in the middle of the string between two specific points). Since this method (procedurally) creates the SQL statement, you could do something like this:\r\n```\r\nif(searchContext.getName() != null){\r\n    sb.append(&quot;p.ProgramName = &quot; + &quot;&#39;&quot; + searchContext.getName() + &quot;&#39;&quot; + &quot;\\n&quot;);\r\n}\r\n\r\nif(searchContext.getCategory() != null){\r\n    if (searchContext.getName() != null) {\r\n        sb.append(&quot;AND\\n&quot;);\r\n    sb.append(&quot;c.CategoryName = &quot; + &quot;&#39;&quot; + searchContext.getCategory() + &quot;&#39;&quot; + &quot;\\n&quot;);\r\n}\r\n```\r\nAnd you can continue that pattern in as many `if` statements until you reach the `ORDER by` line. This is the simplest solution, albeit not the most elegant.\r\n\r\nAlternatively, you can build the SQL statement completely and call the `toString()` method on the `StringBuilder` object and then figure out a way to insert &quot;AND&quot; into the resulting string in as many places you need to.\r\n```\r\nString sqlStatement = sb.toString();\r\n// Call String&#39;s replace(...), replaceFirst(...), or replaceAll(...) here\r\n```\r\nObviously, this is more difficult because you will have to know either the precise index where the insertion need to occur, the character sequence to replace, or the regular expression to match to make the insertion at the correct location. This is why the I believe the first option I gave you is the correct way to approach this.\r\n\r\nNow.... If you break this down into separate string buffers, you will get more flexibility. For example, this\r\n```\r\nsb.append(&quot;SELECT p.ProgramId, c.CategoryId, c.CategoryName, p.ProgramName, p.Description, p.Active, p.BaseLocation\\n&quot; +\r\n    &quot;FROM Program p\\n&quot; +\r\n    &quot;INNER JOIN Ref_ProgramCategory r on r.ProgramId = p.ProgramId\\n&quot; +\r\n    &quot;INNER JOIN Category c on c.CategoryId = r.CategoryId\\n&quot; +\r\n    &quot;WHERE\\n&quot;);\r\n```\r\ncan be its own String since it is all hard-coded.\r\n```\r\nString baseStatement = &quot;SELECT p.ProgramId, c.CategoryId, c.CategoryName, p.ProgramName, p.Description, p.Active, p.BaseLocation\\n&quot; +\r\n    &quot;FROM Program p\\n&quot; +\r\n    &quot;INNER JOIN Ref_ProgramCategory r on r.ProgramId = p.ProgramId\\n&quot; +\r\n    &quot;INNER JOIN Category c on c.CategoryId = r.CategoryId\\n&quot; +\r\n    &quot;WHERE\\n&quot;;\r\n```\r\nThen, you can capture the subsequent items on a list:\r\n```\r\nList&lt;String&gt; clauses = new ArrayList&lt;&gt;();\r\nif(searchContext.getName() != null){\r\n    clauses.add(&quot;p.ProgramName = &quot; + &quot;&#39;&quot; + searchContext.getName() + &quot;&#39;&quot; + &quot;\\n&quot;);\r\n}\r\n\r\nif(searchContext.getCategory() != null){\r\n    clauses.add(&quot;c.CategoryName = &quot; + &quot;&#39;&quot; + searchContext.getCategory() + &quot;&#39;&quot; + &quot;\\n&quot;);\r\n}\r\n// many other clauses\r\n```\r\nLastly, you can iterate through the list of clauses and add &quot;AND&quot; in between them. This way, you don&#39;t need to check if the previous clause exist to add the &quot;AND&quot;. This is especially helpful if you have more than two clauses and some clauses in the middle are missing.\r\n```\r\nStringBuilder sb = new StringBuilder(baseStatement);\r\nfor (int i = 0; i &lt; clauses.size(); i++) {\r\n    sb.append(clauses.get(i));\r\n    if (i &lt; clauses.size() - 1) {\r\n        sb.append(&quot;AND\\n&quot;);\r\n    }\r\n}\r\n```\r\nYou iterate through the entire list, but stop inserting &quot;AND&quot; at `size() - 1` so that you only add &quot;AND&quot; up to the second to last clause. After this, you are ready to call `sb.toString()`.\r\n\r\nP.S. There is no way to `append()` to a `StringBuffer` at some arbitrary point. You can only append to the end of the buffer. You can `insert()` or `replace()` but again, you will need to know the exact index location where you want to insert. This is not an easy task. For cases like that, it works well if you can place weird character patterns that you will know won&#39;t exist any other spot in your string and then you can replace all occurrences of that character sequence (pattern) with the string value you want; in this case, &quot;AND&quot;.","title":"Conditionally adding text to a the middle of a string builder between 2 specified points","body":"<p><strong>TL:DR</strong>\nYour solution</p>\n<pre><code>@Override\npublic List&lt;ProgramTable&gt; getProgramsByAdvancedSearch(SearchModel searchContext) {\n    System.out.println(searchContext.getName());\n\n    String baseStatement = &quot;SELECT p.ProgramId, c.CategoryId, c.CategoryName, p.ProgramName, p.Description, p.Active, p.BaseLocation\\n&quot; +\n        &quot;FROM Program p\\n&quot; +\n        &quot;INNER JOIN Ref_ProgramCategory r on r.ProgramId = p.ProgramId\\n&quot; +\n        &quot;INNER JOIN Category c on c.CategoryId = r.CategoryId\\n&quot; +\n        &quot;WHERE\\n&quot;;\n\n    List&lt;String&gt; clauses = new ArrayList&lt;&gt;();\n    if(searchContext.getName() != null){\n        clauses.add(&quot;p.ProgramName = &quot; + &quot;'&quot; + searchContext.getName() + &quot;'&quot; + &quot;\\n&quot;);\n    }\n\n    if(searchContext.getCategory() != null){\n        clauses.add(&quot;c.CategoryName = &quot; + &quot;'&quot; + searchContext.getCategory() + &quot;'&quot; + &quot;\\n&quot;);\n    }\n\n    StringBuilder sb = new StringBuilder(baseStatement);\n    for (int i = 0; i &lt; clauses.size(); i++) {\n        sb.append(clauses.get(i));\n        if (i &lt; clauses.size() - 1) {\n            sb.append(&quot;AND\\n&quot;);\n        }\n    }\n\n    sb.append(&quot;ORDER BY p.ProgramName;&quot;);\n\n    // The line break after WHERE is character number 241\n    // Would like to do the AND insert here\n\n    // Getting &quot;java.lang.NullPointerException: null&quot; here\n    Query query = entityManager.createNativeQuery(sb.toString());\n\n    List&lt;ProgramTable&gt; searchList = query.getResultList();\n\n    return searchList;\n}\n</code></pre>\n<hr />\n<p>There's quite a few to unpack here, but I will just focus on the main problem (Adding &quot;AND&quot; in the middle of the string between two specific points). Since this method (procedurally) creates the SQL statement, you could do something like this:</p>\n<pre><code>if(searchContext.getName() != null){\n    sb.append(&quot;p.ProgramName = &quot; + &quot;'&quot; + searchContext.getName() + &quot;'&quot; + &quot;\\n&quot;);\n}\n\nif(searchContext.getCategory() != null){\n    if (searchContext.getName() != null) {\n        sb.append(&quot;AND\\n&quot;);\n    sb.append(&quot;c.CategoryName = &quot; + &quot;'&quot; + searchContext.getCategory() + &quot;'&quot; + &quot;\\n&quot;);\n}\n</code></pre>\n<p>And you can continue that pattern in as many <code>if</code> statements until you reach the <code>ORDER by</code> line. This is the simplest solution, albeit not the most elegant.</p>\n<p>Alternatively, you can build the SQL statement completely and call the <code>toString()</code> method on the <code>StringBuilder</code> object and then figure out a way to insert &quot;AND&quot; into the resulting string in as many places you need to.</p>\n<pre><code>String sqlStatement = sb.toString();\n// Call String's replace(...), replaceFirst(...), or replaceAll(...) here\n</code></pre>\n<p>Obviously, this is more difficult because you will have to know either the precise index where the insertion need to occur, the character sequence to replace, or the regular expression to match to make the insertion at the correct location. This is why the I believe the first option I gave you is the correct way to approach this.</p>\n<p>Now.... If you break this down into separate string buffers, you will get more flexibility. For example, this</p>\n<pre><code>sb.append(&quot;SELECT p.ProgramId, c.CategoryId, c.CategoryName, p.ProgramName, p.Description, p.Active, p.BaseLocation\\n&quot; +\n    &quot;FROM Program p\\n&quot; +\n    &quot;INNER JOIN Ref_ProgramCategory r on r.ProgramId = p.ProgramId\\n&quot; +\n    &quot;INNER JOIN Category c on c.CategoryId = r.CategoryId\\n&quot; +\n    &quot;WHERE\\n&quot;);\n</code></pre>\n<p>can be its own String since it is all hard-coded.</p>\n<pre><code>String baseStatement = &quot;SELECT p.ProgramId, c.CategoryId, c.CategoryName, p.ProgramName, p.Description, p.Active, p.BaseLocation\\n&quot; +\n    &quot;FROM Program p\\n&quot; +\n    &quot;INNER JOIN Ref_ProgramCategory r on r.ProgramId = p.ProgramId\\n&quot; +\n    &quot;INNER JOIN Category c on c.CategoryId = r.CategoryId\\n&quot; +\n    &quot;WHERE\\n&quot;;\n</code></pre>\n<p>Then, you can capture the subsequent items on a list:</p>\n<pre><code>List&lt;String&gt; clauses = new ArrayList&lt;&gt;();\nif(searchContext.getName() != null){\n    clauses.add(&quot;p.ProgramName = &quot; + &quot;'&quot; + searchContext.getName() + &quot;'&quot; + &quot;\\n&quot;);\n}\n\nif(searchContext.getCategory() != null){\n    clauses.add(&quot;c.CategoryName = &quot; + &quot;'&quot; + searchContext.getCategory() + &quot;'&quot; + &quot;\\n&quot;);\n}\n// many other clauses\n</code></pre>\n<p>Lastly, you can iterate through the list of clauses and add &quot;AND&quot; in between them. This way, you don't need to check if the previous clause exist to add the &quot;AND&quot;. This is especially helpful if you have more than two clauses and some clauses in the middle are missing.</p>\n<pre><code>StringBuilder sb = new StringBuilder(baseStatement);\nfor (int i = 0; i &lt; clauses.size(); i++) {\n    sb.append(clauses.get(i));\n    if (i &lt; clauses.size() - 1) {\n        sb.append(&quot;AND\\n&quot;);\n    }\n}\n</code></pre>\n<p>You iterate through the entire list, but stop inserting &quot;AND&quot; at <code>size() - 1</code> so that you only add &quot;AND&quot; up to the second to last clause. After this, you are ready to call <code>sb.toString()</code>.</p>\n<p>P.S. There is no way to <code>append()</code> to a <code>StringBuffer</code> at some arbitrary point. You can only append to the end of the buffer. You can <code>insert()</code> or <code>replace()</code> but again, you will need to know the exact index location where you want to insert. This is not an easy task. For cases like that, it works well if you can place weird character patterns that you will know won't exist any other spot in your string and then you can replace all occurrences of that character sequence (pattern) with the string value you want; in this case, &quot;AND&quot;.</p>\n"}],"owner":{"account_id":13450109,"reputation":196,"user_id":14108804,"display_name":"Cole Perry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71416400,"answer_count":1,"score":0,"last_activity_date":1646876585,"creation_date":1646857116,"question_id":71415516,"body_markdown":"I have a ````StringBuilder() sb```` that contains the following text:\r\n````\r\nSELECT p.ProgramId, c.CategoryId, c.CategoryName, p.ProgramName, p.Description, p.Active, p.BaseLocation\r\nFROM Program p\r\nINNER JOIN Ref_ProgramCategory r on r.ProgramId = p.ProgramId\r\nINNER JOIN Category c on c.CategoryId = r.CategoryId\r\nWHERE\r\np.ProgramName = &#39;Jubilee Baltimore&#39;\r\nc.CategoryName = &#39;Community Stability and Growth&#39;\r\np.BaseLocation = &#39;Community Based&#39;\r\nORDER BY p.ProgramName;\r\n````\r\nIn order for this query to be executed I need to add the word ````AND```` in the where clause between the first parameter and every addition one. Because there are very many possible where parameters and it is unknown which ones will and won&#39;t be null this is an efficient method of achieving my goal. So the desired outcome would be:\r\n````\r\nSELECT p.ProgramId, c.CategoryId, c.CategoryName, p.ProgramName, p.Description, p.Active, p.BaseLocation\r\nFROM Program p\r\nINNER JOIN Ref_ProgramCategory r on r.ProgramId = p.ProgramId\r\nINNER JOIN Category c on c.CategoryId = r.CategoryId\r\nWHERE\r\np.ProgramName = &#39;Jubilee Baltimore&#39;\r\nAND\r\nc.CategoryName = &#39;Community Stability and Growth&#39;\r\nAND\r\np.BaseLocation = &#39;Community Based&#39;\r\nORDER BY p.ProgramName;\r\n````\r\n\r\nHow could I do something like ````sb.insert([every new line break after 2nd line break after &#39;WHERE&#39; but before &#39;ORDER&#39;], &#39;AND&#39;);````\r\n\r\nSo an alternate example of a desired outcome might also look like:\r\n````\r\nSELECT p.ProgramId, c.CategoryId, c.CategoryName, p.ProgramName, p.Description, p.Active, p.BaseLocation, p.Support\r\nFROM Program p\r\nINNER JOIN Ref_ProgramCategory r on r.ProgramId = p.ProgramId\r\nINNER JOIN Category c on c.CategoryId = r.CategoryId\r\nWHERE\r\nc.CategoryName = &#39;Community Stability and Growth&#39;\r\nAND\r\np.BaseLocation = &#39;Community Based&#39;\r\nAND\r\np.Support= &#39;Financially Supported&#39;\r\nORDER BY p.ProgramName;\r\n````\r\n\r\nSo I need to add ````AND```` after every line break after the 2nd line break after &#39;WHERE` and stop at the word &#39;ORDER.\r\n\r\nI know that is incredibly specific so other ways to achieve this are welcome. It is also worth noting that WHERE and it&#39;s line break will always be at the same position so I can get that position pretty easily. ORDER on the other hand will always be at a different position but will always be the last line.\r\n\r\nEDIT: I&#39;m going to show the entire function in which I am doing this for clarity:\r\n\r\n````\r\n   @Override\r\n    public List&lt;ProgramTable&gt; getProgramsByAdvancedSearch(SearchModel searchContext) {\r\n        System.out.println(searchContext.getName());\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        sb.append(&quot;SELECT p.ProgramId, c.CategoryId, c.CategoryName, p.ProgramName, p.Description, p.Active, p.BaseLocation\\n&quot; +\r\n                &quot;FROM Program p\\n&quot; +\r\n                &quot;INNER JOIN Ref_ProgramCategory r on r.ProgramId = p.ProgramId\\n&quot; +\r\n                &quot;INNER JOIN Category c on c.CategoryId = r.CategoryId\\n&quot; +\r\n                &quot;WHERE\\n&quot;);\r\n\r\n        if(searchContext.getName() != null){\r\n            sb.append(&quot;p.ProgramName = &quot; + &quot;&#39;&quot; + searchContext.getName() + &quot;&#39;&quot; + &quot;\\n&quot;);\r\n        }\r\n\r\n        if(searchContext.getCategory() != null){\r\n            sb.append(&quot;c.CategoryName = &quot; + &quot;&#39;&quot; + searchContext.getCategory() + &quot;&#39;&quot; + &quot;\\n&quot;);\r\n        }\r\n\r\n        sb.append(&quot;ORDER BY p.ProgramName;&quot;);\r\n\r\n        //The line break after WHERE is character number 241\r\n        //Would like to do the AND insert here\r\n\r\n      \r\n        //Getting &quot;java.lang.NullPointerException: null&quot; here\r\n        Query query = entityManager.createNativeQuery(sb.toString());\r\n\r\n        List&lt;ProgramTable&gt; searchList = query.getResultList();\r\n\r\n        return searchList;\r\n    }\r\n````\r\n\r\nUPDATE: I have added all the parameters I need and am using the code provided in the first answer but I am getting an additional AND that I don&#39;t want:\r\n````\r\n@Override\r\n    public List&lt;ProgramTable&gt; getProgramsByAdvancedSearch(SearchModel searchContext) {\r\n\r\n        String baseStatement = &quot;SELECT p.ProgramId, c.CategoryId, c.CategoryName, p.ProgramName, p.Description, p.Active, p.BaseLocation, s.SupportDescription, p.StreetAddress, p.AreaServed\\n&quot; +\r\n                &quot;FROM Program p\\n&quot; +\r\n                &quot;INNER JOIN Ref_ProgramCategory r on r.ProgramId = p.ProgramId\\n&quot; +\r\n                &quot;INNER JOIN Category c on c.CategoryId = r.CategoryId\\n&quot; +\r\n                &quot;INNER JOIN Ref_ProgramSupport rs on rs.ProgramId = p.ProgramId\\n&quot; +\r\n                &quot;INNER JOIN Support s on s.SupportId = rs.SupportId\\n&quot; +\r\n                &quot;WHERE\\n&quot;;\r\n\r\n        List&lt;String&gt; clauses = new ArrayList&lt;&gt;();\r\n        if(searchContext.getName() != null){\r\n            clauses.add(&quot;p.ProgramName = &quot; + &quot;&#39;&quot; + searchContext.getName() + &quot;&#39;&quot; + &quot;\\n&quot;);\r\n        }\r\n\r\n        if(searchContext.getCategory() != null){\r\n            clauses.add(&quot;c.CategoryName = &quot; + &quot;&#39;&quot; + searchContext.getCategory() + &quot;&#39;&quot; + &quot;\\n&quot;);\r\n        }\r\n\r\n        if(searchContext.getBaseLocation() != null){\r\n            clauses.add(&quot;p.BaseLocation = &quot; + &quot;&#39;&quot; + searchContext.getBaseLocation() + &quot;&#39;&quot; + &quot;\\n&quot;);\r\n        }\r\n\r\n        //Might need to strip the brackets off the result here\r\n        if(searchContext.getSupport() != null){\r\n            clauses.add(&quot;s.SupportDescription = &quot; + &quot;&#39;&quot; + searchContext.getSupport() + &quot;&#39;&quot; + &quot;\\n&quot;);\r\n        }\r\n\r\n        if(searchContext.getAddress() != null){\r\n            clauses.add(&quot;p.StreetAddress = &quot; + &quot;&#39;&quot; + searchContext.getAddress() + &quot;&#39;&quot; + &quot;\\n&quot;);\r\n        }\r\n\r\n        if(searchContext.getAreaServed() != null){\r\n            clauses.add(&quot;p.AreaServed = &quot; + &quot;&#39;&quot; + searchContext.getAreaServed() + &quot;&#39;&quot; + &quot;\\n&quot;);\r\n        }\r\n\r\n        StringBuilder sb = new StringBuilder(baseStatement);\r\n        for (int i = 0; i &lt; clauses.size() - 2 ; i++) {\r\n            sb.append(clauses.get(i));\r\n            sb.append(&quot;AND\\n&quot;);\r\n        }\r\n\r\n        sb.append(&quot;ORDER BY p.ProgramName;&quot;);\r\n\r\n        System.out.println(clauses);\r\n        System.out.println(sb);\r\n\r\n        //Getting &quot;java.lang.NullPointerException: null&quot; here\r\n        Query query = entityManager.createNativeQuery(sb.toString());\r\n\r\n        List&lt;ProgramTable&gt; searchList = query.getResultList();\r\n\r\n        return searchList;\r\n    }\r\n````\r\n\r\nResult:\r\n````\r\nSELECT p.ProgramId, c.CategoryId, c.CategoryName, p.ProgramName, p.Description, p.Active, p.BaseLocation, s.SupportDescription, p.StreetAddress, p.AreaServed\r\nFROM Program p\r\nINNER JOIN Ref_ProgramCategory r on r.ProgramId = p.ProgramId\r\nINNER JOIN Category c on c.CategoryId = r.CategoryId\r\nINNER JOIN Ref_ProgramSupport rs on rs.ProgramId = p.ProgramId\r\nINNER JOIN Support s on s.SupportId = rs.SupportId\r\nWHERE\r\np.ProgramName = &#39;Jubilee Baltimore  &#39;\r\nAND\r\nc.CategoryName = &#39;Community Stability and Growth&#39;\r\nAND\r\np.BaseLocation = &#39;Community Based &#39;\r\nAND\r\ns.SupportDescription = &#39;[Financially Supported]&#39;\r\nAND\r\nORDER BY p.ProgramName;\r\n````","title":"Conditionally adding text to a the middle of a string builder between 2 specified points","body":"<p>I have a <code>StringBuilder() sb</code> that contains the following text:</p>\n<pre><code>SELECT p.ProgramId, c.CategoryId, c.CategoryName, p.ProgramName, p.Description, p.Active, p.BaseLocation\nFROM Program p\nINNER JOIN Ref_ProgramCategory r on r.ProgramId = p.ProgramId\nINNER JOIN Category c on c.CategoryId = r.CategoryId\nWHERE\np.ProgramName = 'Jubilee Baltimore'\nc.CategoryName = 'Community Stability and Growth'\np.BaseLocation = 'Community Based'\nORDER BY p.ProgramName;\n</code></pre>\n<p>In order for this query to be executed I need to add the word <code>AND</code> in the where clause between the first parameter and every addition one. Because there are very many possible where parameters and it is unknown which ones will and won't be null this is an efficient method of achieving my goal. So the desired outcome would be:</p>\n<pre><code>SELECT p.ProgramId, c.CategoryId, c.CategoryName, p.ProgramName, p.Description, p.Active, p.BaseLocation\nFROM Program p\nINNER JOIN Ref_ProgramCategory r on r.ProgramId = p.ProgramId\nINNER JOIN Category c on c.CategoryId = r.CategoryId\nWHERE\np.ProgramName = 'Jubilee Baltimore'\nAND\nc.CategoryName = 'Community Stability and Growth'\nAND\np.BaseLocation = 'Community Based'\nORDER BY p.ProgramName;\n</code></pre>\n<p>How could I do something like <code>sb.insert([every new line break after 2nd line break after 'WHERE' but before 'ORDER'], 'AND');</code></p>\n<p>So an alternate example of a desired outcome might also look like:</p>\n<pre><code>SELECT p.ProgramId, c.CategoryId, c.CategoryName, p.ProgramName, p.Description, p.Active, p.BaseLocation, p.Support\nFROM Program p\nINNER JOIN Ref_ProgramCategory r on r.ProgramId = p.ProgramId\nINNER JOIN Category c on c.CategoryId = r.CategoryId\nWHERE\nc.CategoryName = 'Community Stability and Growth'\nAND\np.BaseLocation = 'Community Based'\nAND\np.Support= 'Financially Supported'\nORDER BY p.ProgramName;\n</code></pre>\n<p>So I need to add <code>AND</code> after every line break after the 2nd line break after 'WHERE` and stop at the word 'ORDER.</p>\n<p>I know that is incredibly specific so other ways to achieve this are welcome. It is also worth noting that WHERE and it's line break will always be at the same position so I can get that position pretty easily. ORDER on the other hand will always be at a different position but will always be the last line.</p>\n<p>EDIT: I'm going to show the entire function in which I am doing this for clarity:</p>\n<pre><code>   @Override\n    public List&lt;ProgramTable&gt; getProgramsByAdvancedSearch(SearchModel searchContext) {\n        System.out.println(searchContext.getName());\n\n        StringBuilder sb = new StringBuilder();\n\n        sb.append(&quot;SELECT p.ProgramId, c.CategoryId, c.CategoryName, p.ProgramName, p.Description, p.Active, p.BaseLocation\\n&quot; +\n                &quot;FROM Program p\\n&quot; +\n                &quot;INNER JOIN Ref_ProgramCategory r on r.ProgramId = p.ProgramId\\n&quot; +\n                &quot;INNER JOIN Category c on c.CategoryId = r.CategoryId\\n&quot; +\n                &quot;WHERE\\n&quot;);\n\n        if(searchContext.getName() != null){\n            sb.append(&quot;p.ProgramName = &quot; + &quot;'&quot; + searchContext.getName() + &quot;'&quot; + &quot;\\n&quot;);\n        }\n\n        if(searchContext.getCategory() != null){\n            sb.append(&quot;c.CategoryName = &quot; + &quot;'&quot; + searchContext.getCategory() + &quot;'&quot; + &quot;\\n&quot;);\n        }\n\n        sb.append(&quot;ORDER BY p.ProgramName;&quot;);\n\n        //The line break after WHERE is character number 241\n        //Would like to do the AND insert here\n\n      \n        //Getting &quot;java.lang.NullPointerException: null&quot; here\n        Query query = entityManager.createNativeQuery(sb.toString());\n\n        List&lt;ProgramTable&gt; searchList = query.getResultList();\n\n        return searchList;\n    }\n</code></pre>\n<p>UPDATE: I have added all the parameters I need and am using the code provided in the first answer but I am getting an additional AND that I don't want:</p>\n<pre><code>@Override\n    public List&lt;ProgramTable&gt; getProgramsByAdvancedSearch(SearchModel searchContext) {\n\n        String baseStatement = &quot;SELECT p.ProgramId, c.CategoryId, c.CategoryName, p.ProgramName, p.Description, p.Active, p.BaseLocation, s.SupportDescription, p.StreetAddress, p.AreaServed\\n&quot; +\n                &quot;FROM Program p\\n&quot; +\n                &quot;INNER JOIN Ref_ProgramCategory r on r.ProgramId = p.ProgramId\\n&quot; +\n                &quot;INNER JOIN Category c on c.CategoryId = r.CategoryId\\n&quot; +\n                &quot;INNER JOIN Ref_ProgramSupport rs on rs.ProgramId = p.ProgramId\\n&quot; +\n                &quot;INNER JOIN Support s on s.SupportId = rs.SupportId\\n&quot; +\n                &quot;WHERE\\n&quot;;\n\n        List&lt;String&gt; clauses = new ArrayList&lt;&gt;();\n        if(searchContext.getName() != null){\n            clauses.add(&quot;p.ProgramName = &quot; + &quot;'&quot; + searchContext.getName() + &quot;'&quot; + &quot;\\n&quot;);\n        }\n\n        if(searchContext.getCategory() != null){\n            clauses.add(&quot;c.CategoryName = &quot; + &quot;'&quot; + searchContext.getCategory() + &quot;'&quot; + &quot;\\n&quot;);\n        }\n\n        if(searchContext.getBaseLocation() != null){\n            clauses.add(&quot;p.BaseLocation = &quot; + &quot;'&quot; + searchContext.getBaseLocation() + &quot;'&quot; + &quot;\\n&quot;);\n        }\n\n        //Might need to strip the brackets off the result here\n        if(searchContext.getSupport() != null){\n            clauses.add(&quot;s.SupportDescription = &quot; + &quot;'&quot; + searchContext.getSupport() + &quot;'&quot; + &quot;\\n&quot;);\n        }\n\n        if(searchContext.getAddress() != null){\n            clauses.add(&quot;p.StreetAddress = &quot; + &quot;'&quot; + searchContext.getAddress() + &quot;'&quot; + &quot;\\n&quot;);\n        }\n\n        if(searchContext.getAreaServed() != null){\n            clauses.add(&quot;p.AreaServed = &quot; + &quot;'&quot; + searchContext.getAreaServed() + &quot;'&quot; + &quot;\\n&quot;);\n        }\n\n        StringBuilder sb = new StringBuilder(baseStatement);\n        for (int i = 0; i &lt; clauses.size() - 2 ; i++) {\n            sb.append(clauses.get(i));\n            sb.append(&quot;AND\\n&quot;);\n        }\n\n        sb.append(&quot;ORDER BY p.ProgramName;&quot;);\n\n        System.out.println(clauses);\n        System.out.println(sb);\n\n        //Getting &quot;java.lang.NullPointerException: null&quot; here\n        Query query = entityManager.createNativeQuery(sb.toString());\n\n        List&lt;ProgramTable&gt; searchList = query.getResultList();\n\n        return searchList;\n    }\n</code></pre>\n<p>Result:</p>\n<pre><code>SELECT p.ProgramId, c.CategoryId, c.CategoryName, p.ProgramName, p.Description, p.Active, p.BaseLocation, s.SupportDescription, p.StreetAddress, p.AreaServed\nFROM Program p\nINNER JOIN Ref_ProgramCategory r on r.ProgramId = p.ProgramId\nINNER JOIN Category c on c.CategoryId = r.CategoryId\nINNER JOIN Ref_ProgramSupport rs on rs.ProgramId = p.ProgramId\nINNER JOIN Support s on s.SupportId = rs.SupportId\nWHERE\np.ProgramName = 'Jubilee Baltimore  '\nAND\nc.CategoryName = 'Community Stability and Growth'\nAND\np.BaseLocation = 'Community Based '\nAND\ns.SupportDescription = '[Financially Supported]'\nAND\nORDER BY p.ProgramName;\n</code></pre>\n"},{"tags":["java","arrays","string","split"],"comments":[{"owner":{"account_id":21480022,"reputation":128,"user_id":15827548,"display_name":"MattDog_222 Overwatch"},"score":0,"creation_date":1646874724,"post_id":71417706,"comment_id":126234196,"body_markdown":"Are you trying to separate by capital letters?","body":"Are you trying to separate by capital letters?"},{"owner":{"account_id":23338986,"reputation":3,"user_id":17414153,"display_name":"Ayhrix"},"score":0,"creation_date":1646874906,"post_id":71417706,"comment_id":126234219,"body_markdown":"@MattDog_222Overwatch I&#39;m trying to separate the letters out in general, possibly into an array if that works.","body":"@MattDog_222Overwatch I&#39;m trying to separate the letters out in general, possibly into an array if that works."},{"owner":{"account_id":21480022,"reputation":128,"user_id":15827548,"display_name":"MattDog_222 Overwatch"},"score":0,"creation_date":1646875056,"post_id":71417706,"comment_id":126234244,"body_markdown":"&quot;Separate the letters&quot; is fairly vague. `String#toCharArray()` exists and returns a `char[]`, but I&#39;m not sure if that&#39;s what you&#39;d want.","body":"&quot;Separate the letters&quot; is fairly vague. <code>String#toCharArray()</code> exists and returns a <code>char[]</code>, but I&#39;m not sure if that&#39;s what you&#39;d want."}],"answers":[{"tags":[],"owner":{"account_id":11224986,"reputation":2603,"user_id":8234870,"display_name":"Udesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646876114,"creation_date":1646875440,"answer_id":71417809,"question_id":71417706,"body_markdown":"Use **Or Operator**\r\n\r\n    class Regx{\r\n    \tpublic static void main(String ...$){\r\n    \t\tString s = &quot;11020#Delta-99998#Sigma-45201#Gamma-69420#Gamma-90967#Alpha-&quot;;\r\n    \t\tvar out = System.out;\r\n    \t\tString arr[] = s.split(&quot;Delta|Sigma|Gamma|Alpha&quot;);\r\n    \t\tfor(var a : arr)\r\n    \t\t\tout.println(a);\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n------\r\n\r\n    $ java Regx \r\n    11020#\r\n    -99998#\r\n    -45201#\r\n    -69420#\r\n    -90967#\r\n    -\r\n\r\nIf you want to separate `#` and `-` as well :\r\n\r\n    import java.util.stream.Stream;\r\n    import java.util.stream.Collectors;\r\n    class Regx{\r\n    \tpublic static void main(String ...$){\r\n    \t\tString s = &quot;11020#Delta-99998#Sigma-45201#Gamma-69420#Gamma-90967#Alpha-&quot;;\r\n    \t\tvar out = System.out;\r\n    \t\tvar arr = Stream.of(s.split(&quot;Delta|Sigma|Gamma|Alpha|#|-&quot;)).filter(str-&gt;str.length() !=0).collect(Collectors.toList());\r\n    \t\tfor(var a : arr)\r\n    \t\t\tout.println(a);\r\n    \t}\r\n    }\r\n\r\n\r\nOutput:\r\n------\r\n\r\n    $ javac Regx.java &amp;&amp; java Regx\r\n    11020\r\n    99998\r\n    45201\r\n    69420\r\n    90967\r\n\r\n\r\n\r\n","title":"How to isolate specific words from a string in Java?","body":"<p>Use <strong>Or Operator</strong></p>\n<pre><code>class Regx{\n    public static void main(String ...$){\n        String s = &quot;11020#Delta-99998#Sigma-45201#Gamma-69420#Gamma-90967#Alpha-&quot;;\n        var out = System.out;\n        String arr[] = s.split(&quot;Delta|Sigma|Gamma|Alpha&quot;);\n        for(var a : arr)\n            out.println(a);\n    }\n}\n</code></pre>\n<h2>Output:</h2>\n<pre><code>$ java Regx \n11020#\n-99998#\n-45201#\n-69420#\n-90967#\n-\n</code></pre>\n<p>If you want to separate <code>#</code> and <code>-</code> as well :</p>\n<pre><code>import java.util.stream.Stream;\nimport java.util.stream.Collectors;\nclass Regx{\n    public static void main(String ...$){\n        String s = &quot;11020#Delta-99998#Sigma-45201#Gamma-69420#Gamma-90967#Alpha-&quot;;\n        var out = System.out;\n        var arr = Stream.of(s.split(&quot;Delta|Sigma|Gamma|Alpha|#|-&quot;)).filter(str-&gt;str.length() !=0).collect(Collectors.toList());\n        for(var a : arr)\n            out.println(a);\n    }\n}\n</code></pre>\n<h2>Output:</h2>\n<pre><code>$ javac Regx.java &amp;&amp; java Regx\n11020\n99998\n45201\n69420\n90967\n</code></pre>\n"}],"owner":{"account_id":23338986,"reputation":3,"user_id":17414153,"display_name":"Ayhrix"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71417809,"answer_count":1,"score":-1,"last_activity_date":1646876114,"creation_date":1646874290,"question_id":71417706,"body_markdown":"I&#39;ve looked into other similar posts, and all the ones I&#39;ve seen are strings with spaces. How about splitting strings that do not contain any spaces? I know how to separate the numbers, but I&#39;m not sure about splitting specific words like Delta, Sigma, Gamma, and Alpha. \r\n\r\n    // the one below is the string to be separated\r\n    //11020#Delta-99998#Sigma-45201#Gamma-69420#Gamma-90967#Alpha-\r\n\r\n    int[] numbers = new int[numberOnly.length()];\r\n\tfor(int i =0; i&lt;numberOnly.length();i++) {\r\n\t    numbers[i] = numberOnly.charAt(i)-&#39;0&#39;;\r\n\t\t\t\t}\r\n\t\t\t\t","title":"How to isolate specific words from a string in Java?","body":"<p>I've looked into other similar posts, and all the ones I've seen are strings with spaces. How about splitting strings that do not contain any spaces? I know how to separate the numbers, but I'm not sure about splitting specific words like Delta, Sigma, Gamma, and Alpha.</p>\n<pre><code>// the one below is the string to be separated\n//11020#Delta-99998#Sigma-45201#Gamma-69420#Gamma-90967#Alpha-\n\nint[] numbers = new int[numberOnly.length()];\nfor(int i =0; i&lt;numberOnly.length();i++) {\n    numbers[i] = numberOnly.charAt(i)-'0';\n            }\n            \n</code></pre>\n"},{"tags":["java","math"],"answers":[{"tags":[],"owner":{"account_id":22390458,"reputation":39,"user_id":16602632,"display_name":"Nexteon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646760657,"creation_date":1646621158,"answer_id":71375939,"question_id":71375753,"body_markdown":"By the way, &quot;best&quot; is a very ambiguous term. It could mean most efficient, best looking, or perhaps even the &quot;coolest&quot; way to do said task. I am unsure as to what you are looking for. But, in my opinion, the coolest way to do this, and the best way for future cases, is to be able to find the row and column of an element and then compare these values with the other element you are looking for; in your case a number like 4 and 7. \r\n\r\nThis gives you both answers at the same time. In the example below, we use a generic 4x5 matrix to show how this solution applies to your specific use case and is future-proof.\r\n\r\n```\r\nimport java.util.*;\r\npublic class abc {\r\n\r\n  public static void main(String[] args) {\r\n   int nums[][] = {{12, 20, 30, 40}, \r\n                  {15, 25, 35, 45}, \r\n                  {24, 29, 39, 51}, \r\n                  {35, 30, 39, 50}, \r\n                  {50, 60, 75, 72}}; \r\n\t\t\t   \r\n\t int rows = 5;    \r\n\t int search_element = 39;\t\t   \r\n     int ans[] = Saddleback(nums, rows - 1, 0, search_element);\r\n        System.out.println(&quot;Position of &quot;+search_element+&quot; in the matrix is (&quot;+ans[0] + &quot;,&quot; + ans[1]+&quot;)&quot;);\t\t\t   \r\n    } \r\n\r\n    /**\r\n     * @param nums, the matrix.  \r\n     * @param row the current row.\r\n     * @param col the current column.\r\n     * @param search_element  the element that we want to search for.\r\n     * @return value: If found the index(row and column) of the element.\r\n     *  else return (-1 -1).\r\n     */\r\n    private static int[] Saddleback(int nums[][], int row, int col, int search_element) {\r\n\r\n        //numsay to store the row and column of the searched element\r\n        int element_pos[] = {-1, -1};\r\n        if (row &lt; 0 || col &gt;= nums[row].length) {\r\n            return element_pos;\r\n        }\r\n        if (nums[row][col] == search_element) {\r\n            element_pos[0] = row;\r\n            element_pos[1] = col;\r\n            return element_pos;\r\n        }\r\n        //move up if the current element is greater than the given element  \r\n        else if (nums[row][col] &gt; search_element) {\r\n            return Saddleback(nums, row - 1, col, search_element);\r\n        }\r\n        //otherwise move right\r\n        return Saddleback(nums, row, col + 1, search_element);\r\n    }\r\n\r\n    /**\r\n     * Main method\r\n     *\r\n     * @param args Command line arguments\r\n     */\r\n  \r\n}\r\n\r\n\r\n\r\n```","title":"Simplest way to check if a number is in the same row as another in a numpad","body":"<p>By the way, &quot;best&quot; is a very ambiguous term. It could mean most efficient, best looking, or perhaps even the &quot;coolest&quot; way to do said task. I am unsure as to what you are looking for. But, in my opinion, the coolest way to do this, and the best way for future cases, is to be able to find the row and column of an element and then compare these values with the other element you are looking for; in your case a number like 4 and 7.</p>\n<p>This gives you both answers at the same time. In the example below, we use a generic 4x5 matrix to show how this solution applies to your specific use case and is future-proof.</p>\n<pre><code>import java.util.*;\npublic class abc {\n\n  public static void main(String[] args) {\n   int nums[][] = {{12, 20, 30, 40}, \n                  {15, 25, 35, 45}, \n                  {24, 29, 39, 51}, \n                  {35, 30, 39, 50}, \n                  {50, 60, 75, 72}}; \n               \n     int rows = 5;    \n     int search_element = 39;          \n     int ans[] = Saddleback(nums, rows - 1, 0, search_element);\n        System.out.println(&quot;Position of &quot;+search_element+&quot; in the matrix is (&quot;+ans[0] + &quot;,&quot; + ans[1]+&quot;)&quot;);             \n    } \n\n    /**\n     * @param nums, the matrix.  \n     * @param row the current row.\n     * @param col the current column.\n     * @param search_element  the element that we want to search for.\n     * @return value: If found the index(row and column) of the element.\n     *  else return (-1 -1).\n     */\n    private static int[] Saddleback(int nums[][], int row, int col, int search_element) {\n\n        //numsay to store the row and column of the searched element\n        int element_pos[] = {-1, -1};\n        if (row &lt; 0 || col &gt;= nums[row].length) {\n            return element_pos;\n        }\n        if (nums[row][col] == search_element) {\n            element_pos[0] = row;\n            element_pos[1] = col;\n            return element_pos;\n        }\n        //move up if the current element is greater than the given element  \n        else if (nums[row][col] &gt; search_element) {\n            return Saddleback(nums, row - 1, col, search_element);\n        }\n        //otherwise move right\n        return Saddleback(nums, row, col + 1, search_element);\n    }\n\n    /**\n     * Main method\n     *\n     * @param args Command line arguments\n     */\n  \n}\n\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19261750,"reputation":1096,"user_id":14077491,"display_name":"Jacob K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646625508,"creation_date":1646625508,"answer_id":71376260,"question_id":71375753,"body_markdown":"Yes, there is a quick mathematical method.\r\n\r\nTwo integers are in the same column if `num1 % 3 == num2 % 3`\r\n\r\nTwo integers are in the same row if `(num1 - 1) / 3 == (num2 - 1) / 3`\r\n\r\nThe important thing for the row-check is that they are integers since integer division will drop the remainder.","title":"Simplest way to check if a number is in the same row as another in a numpad","body":"<p>Yes, there is a quick mathematical method.</p>\n<p>Two integers are in the same column if <code>num1 % 3 == num2 % 3</code></p>\n<p>Two integers are in the same row if <code>(num1 - 1) / 3 == (num2 - 1) / 3</code></p>\n<p>The important thing for the row-check is that they are integers since integer division will drop the remainder.</p>\n"}],"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1646630544,"accepted_answer_id":71376260,"answer_count":2,"score":-3,"last_activity_date":1646875346,"creation_date":1646618960,"question_id":71375753,"body_markdown":"Hard to explain easily in the title. I have two numbers and need to find it they are both in the same row in a number pad:\r\n\r\n    7 8 9\r\n    4 5 6\r\n    1 2 3\r\n\r\nSo a row would be 7, 8, 9 or 1, 2, 3 etc. If I had the numbers 1 and 5 that would be negative since they are not both in the same row, while if I had the numbers 7 and 9 that would be positive since they would be in the same row. I have a feeling there is some kind of simple maths that I&#39;m missing that would get me the answer.\r\n\r\nAlso in the same way I would need to find out if two numbers are in the same column in a separate query. A column being of course 1, 4, 7 or 3, 6, 9.\r\n\r\nThe only solution I found myself for these was to make arrays of all the rows and columns, like `[4, 5, 6]` etc and then check if the two numbers are in the same array but it seems a bit long winded.\r\n\r\nIs my solution already the simplest/shortest one or is there a better one?\r\n\r\nEDIT: Edited to make it clearer that I want the simplest and not necessarily the best. Clearly closed in error for lack of clarity? since there has already been an answer which was exactly what I was looking for.","title":"Simplest way to check if a number is in the same row as another in a numpad","body":"<p>Hard to explain easily in the title. I have two numbers and need to find it they are both in the same row in a number pad:</p>\n<pre><code>7 8 9\n4 5 6\n1 2 3\n</code></pre>\n<p>So a row would be 7, 8, 9 or 1, 2, 3 etc. If I had the numbers 1 and 5 that would be negative since they are not both in the same row, while if I had the numbers 7 and 9 that would be positive since they would be in the same row. I have a feeling there is some kind of simple maths that I'm missing that would get me the answer.</p>\n<p>Also in the same way I would need to find out if two numbers are in the same column in a separate query. A column being of course 1, 4, 7 or 3, 6, 9.</p>\n<p>The only solution I found myself for these was to make arrays of all the rows and columns, like <code>[4, 5, 6]</code> etc and then check if the two numbers are in the same array but it seems a bit long winded.</p>\n<p>Is my solution already the simplest/shortest one or is there a better one?</p>\n<p>EDIT: Edited to make it clearer that I want the simplest and not necessarily the best. Clearly closed in error for lack of clarity? since there has already been an answer which was exactly what I was looking for.</p>\n"},{"tags":["java","swing","paintcomponent","mouselistener","mousehover"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1451031611,"post_id":34461186,"comment_id":56664381,"body_markdown":"First of all, don&#39;t load resources in `paintComponent`, your paint method should run as fast as it can, second, don&#39;t add listeners within the `paint` methods, this will get called a lot, so you&#39;re just repeatedly adding new listeners each time your component is painted","body":"First of all, don&#39;t load resources in <code>paintComponent</code>, your paint method should run as fast as it can, second, don&#39;t add listeners within the <code>paint</code> methods, this will get called a lot, so you&#39;re just repeatedly adding new listeners each time your component is painted"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1451031959,"post_id":34461186,"comment_id":56664460,"body_markdown":"*&quot;want to create a menu using images which highlights when user hover mouse over them&quot;*  Put the images (normal and hover) into a `JButton` that has had the extra space and borders removed.  It will be much simpler, and probably better.  E.G. as seen in [this answer](http://stackoverflow.com/a/10862262/418556) ..","body":"<i>&quot;want to create a menu using images which highlights when user hover mouse over them&quot;</i>  Put the images (normal and hover) into a <code>JButton</code> that has had the extra space and borders removed.  It will be much simpler, and probably better.  E.G. as seen in <a href=\"http://stackoverflow.com/a/10862262/418556\">this answer</a> .."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1451032325,"creation_date":1451032325,"answer_id":34461294,"question_id":34461186,"body_markdown":"1. Don&#39;t load resources in `paintComponent`, your paint method should run as fast as it can\r\n2. Don&#39;t add listeners within the `paint` methods, this will get called a lot, so you&#39;re just repeatedly adding new listeners each time your component is painted\r\n3. Use a `MouseMotionListener` instead of a `MouseListener`, you want the `mouseMoved` event\r\n4. You need some way to know where the image is painted, so you can determine if the mouse moved within it&#39;s bounds.\r\n\r\nHave a look at [How to Write a Mouse-Motion Listener](https://docs.oracle.com/javase/tutorial/uiswing/events/mousemotionlistener.html) and [Painting in AWT and Swing](http://www.oracle.com/technetwork/java/painting-140037.html) for more details.\r\n\r\nThis example uses a simple `Rectangle` to define the location that the image is painted within, when the mouse moves within the confines of that `Rectangle`, a flag is set and the component is repainted, which paints a alpha based highlight effect over the image\r\n\r\n[![Hover][1]][1]\r\n\r\n\timport java.awt.AlphaComposite;\r\n\timport java.awt.Color;\r\n\timport java.awt.Dimension;\r\n\timport java.awt.EventQueue;\r\n\timport java.awt.Graphics;\r\n\timport java.awt.Graphics2D;\r\n\timport java.awt.Rectangle;\r\n\timport java.awt.event.MouseAdapter;\r\n\timport java.awt.event.MouseEvent;\r\n\timport java.awt.image.BufferedImage;\r\n\timport java.io.File;\r\n\timport java.io.IOException;\r\n\timport javax.imageio.ImageIO;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.UIManager;\r\n\timport javax.swing.UnsupportedLookAndFeelException;\r\n\r\n\tpublic class Example {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Example();\r\n\t\t}\r\n\r\n\t\tpublic Example() {\r\n\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t\t\t\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n\t\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n\t\t\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\t\tframe.add(new TestPane());\r\n\t\t\t\t\t\tframe.pack();\r\n\t\t\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t\t} catch (IOException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic class TestPane extends JPanel {\r\n\r\n\t\t\tprivate BufferedImage img;\r\n\t\t\tprivate Rectangle drawRectangle;\r\n\t\t\tprivate boolean highlight = false;\r\n\r\n\t\t\tpublic TestPane() throws IOException {\r\n\t\t\t\timg = ImageIO.read(...);\r\n\t\t\t\taddMouseMotionListener(new MouseAdapter() {\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void mouseMoved(MouseEvent e) {\r\n\t\t\t\t\t\thighlight = drawRectangle.contains(e.getPoint());\r\n\t\t\t\t\t\trepaint();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\tint width = getPreferredSize().width;\r\n\t\t\t\tint height = getPreferredSize().height;\r\n\r\n\t\t\t\tint x = (width - img.getWidth()) / 2;\r\n\t\t\t\tint y = (height - img.getHeight()) / 2;\r\n\r\n\t\t\t\tdrawRectangle = new Rectangle(x, y, img.getWidth(), img.getHeight());\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Dimension getPreferredSize() {\r\n\t\t\t\treturn new Dimension(400, 400);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void paintComponent(Graphics g) {\r\n\t\t\t\tsuper.paintComponent(g);\r\n\t\t\t\tGraphics2D g2d = (Graphics2D) g.create();\r\n\t\t\t\tg2d.drawImage(img, drawRectangle.x, drawRectangle.y, this);\r\n\t\t\t\tif (highlight) {\r\n\t\t\t\t\tg2d.setColor(Color.RED);\r\n\t\t\t\t\tg2d.setComposite(AlphaComposite.SrcOver.derive(0.5f));\r\n\t\t\t\t\tg2d.fill(drawRectangle);\r\n\t\t\t\t}\r\n\t\t\t\tg2d.dispose();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/q4BQc.gif\r\n\r\nNow, having said all that, you might be better off using the `rollover` capabilities of `JButton`, which will basically do the same thing.\r\n\r\nSee [How to Use Buttons, Check Boxes, and Radio Buttons](https://docs.oracle.com/javase/tutorial/uiswing/components/button.html) for more details","title":"How to detect mouse hover on an image drawn from paintComponent&#39;s drawImage(); method","body":"<ol>\n<li>Don't load resources in <code>paintComponent</code>, your paint method should run as fast as it can</li>\n<li>Don't add listeners within the <code>paint</code> methods, this will get called a lot, so you're just repeatedly adding new listeners each time your component is painted</li>\n<li>Use a <code>MouseMotionListener</code> instead of a <code>MouseListener</code>, you want the <code>mouseMoved</code> event</li>\n<li>You need some way to know where the image is painted, so you can determine if the mouse moved within it's bounds.</li>\n</ol>\n\n<p>Have a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/mousemotionlistener.html\" rel=\"nofollow noreferrer\">How to Write a Mouse-Motion Listener</a> and <a href=\"http://www.oracle.com/technetwork/java/painting-140037.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> for more details.</p>\n\n<p>This example uses a simple <code>Rectangle</code> to define the location that the image is painted within, when the mouse moves within the confines of that <code>Rectangle</code>, a flag is set and the component is repainted, which paints a alpha based highlight effect over the image</p>\n\n<p><a href=\"https://i.stack.imgur.com/q4BQc.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q4BQc.gif\" alt=\"Hover\"></a></p>\n\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Rectangle;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class Example {\n\n    public static void main(String[] args) {\n        new Example();\n    }\n\n    public Example() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    try {\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                        ex.printStackTrace();\n                    }\n\n                    JFrame frame = new JFrame(\"Testing\");\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    ex.printStackTrace();\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private BufferedImage img;\n        private Rectangle drawRectangle;\n        private boolean highlight = false;\n\n        public TestPane() throws IOException {\n            img = ImageIO.read(...);\n            addMouseMotionListener(new MouseAdapter() {\n\n                @Override\n                public void mouseMoved(MouseEvent e) {\n                    highlight = drawRectangle.contains(e.getPoint());\n                    repaint();\n                }\n\n            });\n\n            int width = getPreferredSize().width;\n            int height = getPreferredSize().height;\n\n            int x = (width - img.getWidth()) / 2;\n            int y = (height - img.getHeight()) / 2;\n\n            drawRectangle = new Rectangle(x, y, img.getWidth(), img.getHeight());\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.drawImage(img, drawRectangle.x, drawRectangle.y, this);\n            if (highlight) {\n                g2d.setColor(Color.RED);\n                g2d.setComposite(AlphaComposite.SrcOver.derive(0.5f));\n                g2d.fill(drawRectangle);\n            }\n            g2d.dispose();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Now, having said all that, you might be better off using the <code>rollover</code> capabilities of <code>JButton</code>, which will basically do the same thing.</p>\n\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">How to Use Buttons, Check Boxes, and Radio Buttons</a> for more details</p>\n"}],"owner":{"account_id":7526123,"reputation":127,"user_id":5716246,"display_name":"New Coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3317,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":34461294,"answer_count":1,"score":-2,"last_activity_date":1646873413,"creation_date":1451031378,"question_id":34461186,"body_markdown":"I am new to Java and need help. I am making a GUI for an application using images made from photoshop, and want to create a menu using images which highlights when user hover mouse over them. I have tried `mouseEntered();` method by getting mouse x, y co-ordinates but it&#39;s not working. Here is the code.\r\n\r\n    public class GUI extends JComponent{\r\n    \r\n        public void paintComponent(Graphics g){\r\n           \r\n            super.paintComponent(g);\r\n            ImageIcon exitBtnImg = new ImageIcon(&quot;src/images/userInterface/exitBtn.png&quot;);\r\n            g.drawImage(exitBtnImg.getImage(), 0, 5, this);\r\n            mouseHandler handler = new mouseHandler();\r\n            addMouseListener(handler);\r\n        }\r\n    }\r\n\r\n\r\n    public class mouseHandler implements MouseListener{\r\n\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            \r\n       }\r\n\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            \r\n        }\r\n\r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n            \r\n        }\r\n\r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {\r\n            if((e.getX()&gt;100&amp;&amp;e.getX()&lt;300)&amp;&amp;(e.getY()&gt;50&amp;&amp;e.getY()&lt;196)){\r\n                \r\n                repaint();\r\n            }\r\n        }\r\n\r\n        @Override\r\n       public void mouseExited(MouseEvent e) {\r\n            \r\n        }\r\n    \r\n    }","title":"How to detect mouse hover on an image drawn from paintComponent&#39;s drawImage(); method","body":"<p>I am new to Java and need help. I am making a GUI for an application using images made from photoshop, and want to create a menu using images which highlights when user hover mouse over them. I have tried <code>mouseEntered();</code> method by getting mouse x, y co-ordinates but it's not working. Here is the code.</p>\n\n<pre><code>public class GUI extends JComponent{\n\n    public void paintComponent(Graphics g){\n\n        super.paintComponent(g);\n        ImageIcon exitBtnImg = new ImageIcon(\"src/images/userInterface/exitBtn.png\");\n        g.drawImage(exitBtnImg.getImage(), 0, 5, this);\n        mouseHandler handler = new mouseHandler();\n        addMouseListener(handler);\n    }\n}\n\n\npublic class mouseHandler implements MouseListener{\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n\n   }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n        if((e.getX()&gt;100&amp;&amp;e.getX()&lt;300)&amp;&amp;(e.getY()&gt;50&amp;&amp;e.getY()&lt;196)){\n\n            repaint();\n        }\n    }\n\n    @Override\n   public void mouseExited(MouseEvent e) {\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","string","for-loop","iteration"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646872720,"creation_date":1646872720,"answer_id":71417576,"question_id":71417512,"body_markdown":"Java resolves &#39;left to right&#39;. Crucially, the error occurred on `arrayOfMaxValues[i]`, and _not_ `stringOfNumbers.charAt(i)`. If the `stringOfNumbers` truly had a length of 11, it would have crashed there, with an `IndexOutOfBoundsException` (and not an `ArrayIndexOutOfBoundsException`).\r\n\r\nConclusion: Your string is at least 12 characters long.\r\n\r\nThe code you pasted does not indicate how this happened, but it happened. Your for loop loops from 0 to the length of the string. Thus, if the string is length Y, and your array is length X, where Y is larger than X, this will always happen. Search through your code where you write to the string.\r\n\r\nIf you write to the string inside the `// do something` part, you have your explanation. Java doesn&#39;t actually start that for loop with: Right, we&#39;re looping from 0 to 10, because _right now_ `stringOfNumbers.length()` is 11.\r\n\r\nThat&#39;s not how it works. Java starts the loop by executing the initializer of the for loop (`int i = 0`) and will then immediately check the condition (is `0` less than the length of whatever the `stringOfNumbers` variable is currently pointing at? It is; _right now_ `stringOfNumbers.length()` is 11). It then loops, and once the loop is done, it executes the incrementor part (`i++`), and then simply reruns the expression `i &lt; stringOfNumbers.length()`, and will break out of the loop if the expression is false.\r\n\r\nThus, if you update `stringOfNumbers` inside the loop, the loop will end later.\r\n\r\nIf you don&#39;t want that, don&#39;t write to `stringOfNumbers`; write to something else and overwrite `stringOfNumbers` after the loop. Alternatively, you could do:\r\n\r\n```\r\nfor (int i = 0, len = stringOfNumbers.length(); i &lt; len; i++) { ... }\r\n```\r\n\r\nThis &#39;caches&#39; the length when the for loop begins and only checks `i` against this cached length, not against the length of what `stringOfNumbers` is _currently_ pointing at.\r\n","title":"Java: For Loop iterating strangely causing out of bounds errors","body":"<p>Java resolves 'left to right'. Crucially, the error occurred on <code>arrayOfMaxValues[i]</code>, and <em>not</em> <code>stringOfNumbers.charAt(i)</code>. If the <code>stringOfNumbers</code> truly had a length of 11, it would have crashed there, with an <code>IndexOutOfBoundsException</code> (and not an <code>ArrayIndexOutOfBoundsException</code>).</p>\n<p>Conclusion: Your string is at least 12 characters long.</p>\n<p>The code you pasted does not indicate how this happened, but it happened. Your for loop loops from 0 to the length of the string. Thus, if the string is length Y, and your array is length X, where Y is larger than X, this will always happen. Search through your code where you write to the string.</p>\n<p>If you write to the string inside the <code>// do something</code> part, you have your explanation. Java doesn't actually start that for loop with: Right, we're looping from 0 to 10, because <em>right now</em> <code>stringOfNumbers.length()</code> is 11.</p>\n<p>That's not how it works. Java starts the loop by executing the initializer of the for loop (<code>int i = 0</code>) and will then immediately check the condition (is <code>0</code> less than the length of whatever the <code>stringOfNumbers</code> variable is currently pointing at? It is; <em>right now</em> <code>stringOfNumbers.length()</code> is 11). It then loops, and once the loop is done, it executes the incrementor part (<code>i++</code>), and then simply reruns the expression <code>i &lt; stringOfNumbers.length()</code>, and will break out of the loop if the expression is false.</p>\n<p>Thus, if you update <code>stringOfNumbers</code> inside the loop, the loop will end later.</p>\n<p>If you don't want that, don't write to <code>stringOfNumbers</code>; write to something else and overwrite <code>stringOfNumbers</code> after the loop. Alternatively, you could do:</p>\n<pre><code>for (int i = 0, len = stringOfNumbers.length(); i &lt; len; i++) { ... }\n</code></pre>\n<p>This 'caches' the length when the for loop begins and only checks <code>i</code> against this cached length, not against the length of what <code>stringOfNumbers</code> is <em>currently</em> pointing at.</p>\n"}],"owner":{"account_id":22700080,"reputation":35,"user_id":16867640,"display_name":"Petetunze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71417576,"answer_count":1,"score":0,"last_activity_date":1646872720,"creation_date":1646872038,"question_id":71417512,"body_markdown":"I have a for loop that iterates through a string of numbers. I also have an array that is the same length of the string consisting of numbers that represent that index&#39;s max value. The code iterates thru every index of the string and the array and checks to see if number at i in the string is less than or equal to the max value at the index of i in the array.\r\n\r\nIn this case, the string length is 11, thus the array length is also 11. So, start from 0 up to 10 for the string&#39;s and array&#39;s indexes. The problem is sometimes the for loop will randomly keep going up to 11 and make the program crash giving an out of bounds error. I say randomly because it can be the first set iterations or up to the 4th set of iterations. I&#39;ve taken a look at the debugger (Intelli-J IDEA) and it when stepping, i goes up. I don&#39;t see why it would.\r\n\r\nCode:\r\n```\r\n\r\n\r\nfor(int i = 0; i &lt; stringOfNumbers.length(); i++){\r\n\r\n    System.out.println(i); // Print for debug purpose\r\n    \r\n    if(Integer.parseInt(String.valueOf(stringOfNumbers.charAt(i))) &lt;= arrayOfMaxValues[i]){\r\n\r\n        // do something\r\n        // successful run\r\n    }\r\n    else{\r\n        \r\n        // do something\r\n        // unsuccessful run\r\n    }\r\n}\r\n```\r\n\r\nThis is what the console gave me:\r\n```\r\n0\r\n1\r\n2\r\n3\r\n4\r\n5\r\n6\r\n7\r\n8\r\n9\r\n10\r\nIteration 1 done\r\n0\r\n1\r\n2\r\n3\r\n4\r\n5\r\n6\r\n7\r\n8\r\n9\r\n10\r\n11\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 11 out of bounds for length 11\r\n\tat Main.checkValidity(Main.java:91)\r\n\tat Main.main(Main.java:63)\r\n```","title":"Java: For Loop iterating strangely causing out of bounds errors","body":"<p>I have a for loop that iterates through a string of numbers. I also have an array that is the same length of the string consisting of numbers that represent that index's max value. The code iterates thru every index of the string and the array and checks to see if number at i in the string is less than or equal to the max value at the index of i in the array.</p>\n<p>In this case, the string length is 11, thus the array length is also 11. So, start from 0 up to 10 for the string's and array's indexes. The problem is sometimes the for loop will randomly keep going up to 11 and make the program crash giving an out of bounds error. I say randomly because it can be the first set iterations or up to the 4th set of iterations. I've taken a look at the debugger (Intelli-J IDEA) and it when stepping, i goes up. I don't see why it would.</p>\n<p>Code:</p>\n<pre><code>\n\nfor(int i = 0; i &lt; stringOfNumbers.length(); i++){\n\n    System.out.println(i); // Print for debug purpose\n    \n    if(Integer.parseInt(String.valueOf(stringOfNumbers.charAt(i))) &lt;= arrayOfMaxValues[i]){\n\n        // do something\n        // successful run\n    }\n    else{\n        \n        // do something\n        // unsuccessful run\n    }\n}\n</code></pre>\n<p>This is what the console gave me:</p>\n<pre><code>0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\nIteration 1 done\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 11 out of bounds for length 11\n    at Main.checkValidity(Main.java:91)\n    at Main.main(Main.java:63)\n</code></pre>\n"},{"tags":["java","exception","nullpointerexception","bigdecimal"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1646864530,"post_id":71416564,"comment_id":126232401,"body_markdown":"Why not modify `wallet.getAmount()` to return BigDecimal.ZERO when it would otherwise be null?","body":"Why not modify <code>wallet.getAmount()</code> to return BigDecimal.ZERO when it would otherwise be null?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1646867927,"post_id":71416564,"comment_id":126233088,"body_markdown":"Throwing NPE when receiving null is the right thing to do.  If null is supposed to represent zero, then you should actually pass in zero instead of null.","body":"Throwing NPE when receiving null is the right thing to do.  If null is supposed to represent zero, then you should actually pass in zero instead of null."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646870951,"post_id":71416564,"comment_id":126233628,"body_markdown":"By the way, `throw new RuntimeBindingException(e.getMessage())` should be `throw new RuntimeBindingException(e.getMessage(), e)` to make debugging less frustrating.","body":"By the way, <code>throw new RuntimeBindingException(e.getMessage())</code> should be <code>throw new RuntimeBindingException(e.getMessage(), e)</code> to make debugging less frustrating."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646871222,"creation_date":1646871222,"answer_id":71417443,"question_id":71416564,"body_markdown":"If you encounter a different NPE in the same block of code, catching it and assuming that it was thrown because `getAmount` returned `null` will hide some other bug.\r\n\r\nEither change `getAmount` to never return `null`, or do something like:\r\n```\r\nfinal BigDecimal walletAmount = wallet.getAmount();\r\nconversionPriceDTO.setPrice(\r\n        walletAmount == null ? BigDecimal.ZERO\r\n                             : walletAmount.multiply(conversionRate)\r\n);","title":"What can be a good solution to strengthen this multiply() BigDecimal operation in order to handle the possibility of null values?","body":"<p>If you encounter a different NPE in the same block of code, catching it and assuming that it was thrown because <code>getAmount</code> returned <code>null</code> will hide some other bug.</p>\n<p>Either change <code>getAmount</code> to never return <code>null</code>, or do something like:</p>\n<pre><code>final BigDecimal walletAmount = wallet.getAmount();\nconversionPriceDTO.setPrice(\n        walletAmount == null ? BigDecimal.ZERO\n                             : walletAmount.multiply(conversionRate)\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646872219,"creation_date":1646872219,"answer_id":71417527,"question_id":71416564,"body_markdown":"Something like this may help:\r\n\r\n```\r\nfinal BidDecimal amount = Optional.ofNullable(wallet.getAmount()).orElse(BigDecimal.ZERO);\r\n...\r\n```","title":"What can be a good solution to strengthen this multiply() BigDecimal operation in order to handle the possibility of null values?","body":"<p>Something like this may help:</p>\n<pre><code>final BidDecimal amount = Optional.ofNullable(wallet.getAmount()).orElse(BigDecimal.ZERO);\n...\n</code></pre>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646872219,"creation_date":1646863850,"question_id":71416564,"body_markdown":"in my code I have the following code involving a **multiply()** operation on  two**BigDecimal** values\r\n\r\n\twalletsDTOList.stream().forEach( (WalletDTO wallet) -&gt; {\r\n\t\ttry {\r\n\t\t\tConversionPriceDTO conversionPriceDTO = coingeckoInfoService.getCoinPrice(wallet.getCoin().getName(),targetCurrency);\r\n\t\t\tBigDecimal conversionRate = conversionPriceDTO.getPrice();\r\n\t\t\tconversionPriceDTO.setPrice(wallet.getAmount().multiply(conversionRate));\r\n\t\t\twallet.setConvertedCurrencyAmountInfo(conversionPriceDTO);\r\n\t\t} catch (JsonProcessingException | BindingException e) {\r\n\t\t\tthrow new RuntimeBindingException(e.getMessage());\r\n\t\t}\r\n\t});\r\n\r\nThis line:\r\n\r\n    conversionPriceDTO.setPrice(wallet.getAmount().multiply(conversionRate));\r\n\r\nNow my problem is that the **wallet.getAmount()** coming from the DB and it could be **NULL**. The problem is that in case of **NULL** value I obtain the following exception:\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;java.math.BigDecimal.multiply(java.math.BigDecimal)&quot; because the return value of &quot;com.easydefi.users.dto.WalletDTO.getAmount()&quot; is null\r\n\r\nI need to toughen up this operation. For my **NULL** value equals to 0 so in this case the multiply operation must return 0.\r\n\r\nWhat can be a smart way to do it? My idea was to put the previous line (containing the multiply() operation) into a try catch and in case of **NullPointerException** set 0.\r\n\r\nIs it good or can I do better?","title":"What can be a good solution to strengthen this multiply() BigDecimal operation in order to handle the possibility of null values?","body":"<p>in my code I have the following code involving a <strong>multiply()</strong> operation on  two<strong>BigDecimal</strong> values</p>\n<pre><code>walletsDTOList.stream().forEach( (WalletDTO wallet) -&gt; {\n    try {\n        ConversionPriceDTO conversionPriceDTO = coingeckoInfoService.getCoinPrice(wallet.getCoin().getName(),targetCurrency);\n        BigDecimal conversionRate = conversionPriceDTO.getPrice();\n        conversionPriceDTO.setPrice(wallet.getAmount().multiply(conversionRate));\n        wallet.setConvertedCurrencyAmountInfo(conversionPriceDTO);\n    } catch (JsonProcessingException | BindingException e) {\n        throw new RuntimeBindingException(e.getMessage());\n    }\n});\n</code></pre>\n<p>This line:</p>\n<pre><code>conversionPriceDTO.setPrice(wallet.getAmount().multiply(conversionRate));\n</code></pre>\n<p>Now my problem is that the <strong>wallet.getAmount()</strong> coming from the DB and it could be <strong>NULL</strong>. The problem is that in case of <strong>NULL</strong> value I obtain the following exception:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;java.math.BigDecimal.multiply(java.math.BigDecimal)&quot; because the return value of &quot;com.easydefi.users.dto.WalletDTO.getAmount()&quot; is null\n</code></pre>\n<p>I need to toughen up this operation. For my <strong>NULL</strong> value equals to 0 so in this case the multiply operation must return 0.</p>\n<p>What can be a smart way to do it? My idea was to put the previous line (containing the multiply() operation) into a try catch and in case of <strong>NullPointerException</strong> set 0.</p>\n<p>Is it good or can I do better?</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1646870689,"post_id":71417372,"comment_id":126233581,"body_markdown":"it just don&#39;t find the file, and it seems to don&#39;t be the good path. Are you sure you should use `sword:` and not `sword/` ? Also, are you sure you don&#39;t need to put the file extension ?","body":"it just don&#39;t find the file, and it seems to don&#39;t be the good path. Are you sure you should use <code>sword:</code> and not <code>sword&#47;</code> ? Also, are you sure you don&#39;t need to put the file extension ?"},{"owner":{"account_id":24509294,"reputation":1,"user_id":18423828,"display_name":"Akariiinnn"},"score":0,"creation_date":1646871358,"post_id":71417372,"comment_id":126233700,"body_markdown":"i replaced the line with : &quot;sword/texture/items/epee_feu.png&quot; but it did&#39;nt seem to work, also, adding the assets folders in the resources directory brokes the mcmod.info and i don&#39;t know what to do about it","body":"i replaced the line with : &quot;sword/texture/items/epee_feu.png&quot; but it did&#39;nt seem to work, also, adding the assets folders in the resources directory brokes the mcmod.info and i don&#39;t know what to do about it"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1646871435,"post_id":71417372,"comment_id":126233713,"body_markdown":"and what about `sword:texture/items/my_sword.png` ?","body":"and what about <code>sword:texture&#47;items&#47;my_sword.png</code> ?"},{"owner":{"account_id":24509294,"reputation":1,"user_id":18423828,"display_name":"Akariiinnn"},"score":0,"creation_date":1646871637,"post_id":71417372,"comment_id":126233743,"body_markdown":"it&#39;s the same, i don&#39;t really know what to do from now...","body":"it&#39;s the same, i don&#39;t really know what to do from now..."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1646873227,"post_id":71417372,"comment_id":126233998,"body_markdown":"Does my answer help you ?","body":"Does my answer help you ?"},{"owner":{"account_id":24509294,"reputation":1,"user_id":18423828,"display_name":"Akariiinnn"},"score":0,"creation_date":1646873367,"post_id":71417372,"comment_id":126234027,"body_markdown":"not really, because i can&#39;t even create a package inside resources i can only create directories i think that&#39;s why it&#39;s broken.","body":"not really, because i can&#39;t even create a package inside resources i can only create directories i think that&#39;s why it&#39;s broken."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1646873434,"post_id":71417372,"comment_id":126234036,"body_markdown":"No, such as It&#39;s not java code it&#39;s not package. Also, package is -for OS- folder. So just create/rename folder and it should be fine","body":"No, such as It&#39;s not java code it&#39;s not package. Also, package is -for OS- folder. So just create/rename folder and it should be fine"},{"owner":{"account_id":24509294,"reputation":1,"user_id":18423828,"display_name":"Akariiinnn"},"score":0,"creation_date":1646873533,"post_id":71417372,"comment_id":126234041,"body_markdown":"do you have discord so we can talk easier ?","body":"do you have discord so we can talk easier ?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1646875932,"post_id":71417372,"comment_id":126234377,"body_markdown":"Sure: Elikill58#0743","body":"Sure: Elikill58#0743"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1646881106,"post_id":71417372,"comment_id":126235187,"body_markdown":"Please include your code in the question, as text, as a [mcve]. Links can break, and content on github is almost sure to change. That makes the question useless for others with similar problems. Also describe your problem better. How did you expect your texture to turn out? See [ask].","body":"Please include your code in the question, as text, as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Links can break, and content on github is almost sure to change. That makes the question useless for others with similar problems. Also describe your problem better. How did you expect your texture to turn out? See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646872085,"creation_date":1646872085,"answer_id":71417518,"question_id":71417372,"body_markdown":"The issue come from names.\r\n\r\n1. The model should be in `models/items`\r\n\r\n2. You should use `textures/items` as package name\r\n\r\n3. The `layer0` should be `sword:items/my_sword`\r\n\r\n[Source](https://mcmodhelp.fandom.com/wiki/Tutorials:_Items#Making_a_texture), you can check more [here](https://minecraft.fandom.com/wiki/Tutorials/Creating_Forge_mods#Setting_up_Item_Registration)","title":"Weird textures on a sword i made for Minecraft 1.12.2","body":"<p>The issue come from names.</p>\n<ol>\n<li><p>The model should be in <code>models/items</code></p>\n</li>\n<li><p>You should use <code>textures/items</code> as package name</p>\n</li>\n<li><p>The <code>layer0</code> should be <code>sword:items/my_sword</code></p>\n</li>\n</ol>\n<p><a href=\"https://mcmodhelp.fandom.com/wiki/Tutorials:_Items#Making_a_texture\" rel=\"nofollow noreferrer\">Source</a>, you can check more <a href=\"https://minecraft.fandom.com/wiki/Tutorials/Creating_Forge_mods#Setting_up_Item_Registration\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":24509294,"reputation":1,"user_id":18423828,"display_name":"Akariiinnn"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1646872085,"creation_date":1646870341,"question_id":71417372,"body_markdown":"I have a problem with a sword i made for Minecraft 1.12.2, the sword appears in the tab and works well but the texture is not quite how i wanted (see the pic). I don&#39;t know what to do.\r\n\r\nI am using the IDE IntelliJ IDEA and Java 1.8.0.\r\n\r\nHere&#39;s the git repos : https://github.com/Akariiinnn/Mods-MC\r\n\r\n\r\n[IMAGE][1]\r\n\r\nPS: i am new to modding\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cDsVV.png","title":"Weird textures on a sword i made for Minecraft 1.12.2","body":"<p>I have a problem with a sword i made for Minecraft 1.12.2, the sword appears in the tab and works well but the texture is not quite how i wanted (see the pic). I don't know what to do.</p>\n<p>I am using the IDE IntelliJ IDEA and Java 1.8.0.</p>\n<p>Here's the git repos : <a href=\"https://github.com/Akariiinnn/Mods-MC\" rel=\"nofollow noreferrer\">https://github.com/Akariiinnn/Mods-MC</a></p>\n<p><a href=\"https://i.stack.imgur.com/cDsVV.png\" rel=\"nofollow noreferrer\">IMAGE</a></p>\n<p>PS: i am new to modding</p>\n"},{"tags":["java","web-services"],"answers":[{"tags":[],"owner":{"account_id":38973,"reputation":17442,"user_id":112222,"accept_rate":88,"display_name":"Teja Kantamneni"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1268056761,"creation_date":1268056761,"answer_id":2401761,"question_id":2401661,"body_markdown":"JAXB doesnot support RPC/Encoding. Use JAX-RPC to solve this problem.","title":"Clickatell SOAP wsdl to JAXB java classes","body":"<p>JAXB doesnot support RPC/Encoding. Use JAX-RPC to solve this problem.</p>\n"},{"tags":[],"owner":{"account_id":251716,"reputation":9,"user_id":529297,"display_name":"An RakiM"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1291375592,"creation_date":1291375592,"answer_id":4345059,"question_id":2401661,"body_markdown":"check WS-I BasicProfile-1.1 spec at\r\nhttp://www.ws-i.org/Profiles/BasicProfile-1.1.html#soapenc_Array\r\n\r\nIt says : \r\n\r\nR2110  In a DESCRIPTION, declarations MUST NOT extend or restrict the soapenc:Array type.\r\n\r\nR2111 In a DESCRIPTION, declarations MUST NOT use wsdl:arrayType attribute in the type declaration.\r\n\r\nR2112 In a DESCRIPTION, elements SHOULD NOT be named using the convention ArrayOfXXX.\r\n\r\nR2113 An ENVELOPE MUST NOT include the soapenc:arrayType attribute. \r\n\r\nyo!","title":"Clickatell SOAP wsdl to JAXB java classes","body":"<p>check WS-I BasicProfile-1.1 spec at\n<a href=\"http://www.ws-i.org/Profiles/BasicProfile-1.1.html#soapenc_Array\" rel=\"nofollow\">http://www.ws-i.org/Profiles/BasicProfile-1.1.html#soapenc_Array</a></p>\n\n<p>It says : </p>\n\n<p>R2110  In a DESCRIPTION, declarations MUST NOT extend or restrict the soapenc:Array type.</p>\n\n<p>R2111 In a DESCRIPTION, declarations MUST NOT use wsdl:arrayType attribute in the type declaration.</p>\n\n<p>R2112 In a DESCRIPTION, elements SHOULD NOT be named using the convention ArrayOfXXX.</p>\n\n<p>R2113 An ENVELOPE MUST NOT include the soapenc:arrayType attribute. </p>\n\n<p>yo!</p>\n"},{"tags":[],"owner":{"account_id":354343,"reputation":4204,"user_id":692626,"accept_rate":14,"display_name":"dan carter"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1646872070,"creation_date":1373326572,"answer_id":17537684,"question_id":2401661,"body_markdown":"Your schema refers to the type `SOAP-ENC:Array` defined in the schema `xmlns:SOAP-ENC=&quot;http://schemas.xmlsoap.org/soap/encoding/` but that schema is not included in the wsdl.\r\n\r\nI had a similar problem and had to use a catalog to tell jaxb/xjc where to find the schema.\r\n\r\nGo to http://schemas.xmlsoap.org/soap/encoding/ and save as soapenc.xsd\r\n\r\nThen create a plain text file with following content\r\n\r\n    PUBLIC &quot;http://schemas.xmlsoap.org/soap/encoding/&quot; &quot;soapenc.xsd&quot;\r\n\r\nThen pass that file to xjc as the catalog file\r\n\r\n------\r\n\r\nUpdate: If you are on maven, this is how it would all hang together.\r\n\r\nplace the schema, soapenc.xsd, and catalog.cat(the plain text file) in src/main/resources\r\n\r\nThen tell the jaxb plugin to pass the catalog to xjc\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;wsdl-generate&lt;/id&gt;\r\n            &lt;configuration&gt;\r\n              &lt;schemaIncludes&gt;\r\n                &lt;include&gt;*.wsdl&lt;/include&gt;\r\n              &lt;/schemaIncludes&gt;\r\n              &lt;catalog&gt;${project.basedir}/src/main/resources/catalog.cat&lt;/catalog&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;","title":"Clickatell SOAP wsdl to JAXB java classes","body":"<p>Your schema refers to the type <code>SOAP-ENC:Array</code> defined in the schema <code>xmlns:SOAP-ENC=&quot;http://schemas.xmlsoap.org/soap/encoding/</code> but that schema is not included in the wsdl.</p>\n<p>I had a similar problem and had to use a catalog to tell jaxb/xjc where to find the schema.</p>\n<p>Go to <a href=\"http://schemas.xmlsoap.org/soap/encoding/\" rel=\"nofollow noreferrer\">http://schemas.xmlsoap.org/soap/encoding/</a> and save as soapenc.xsd</p>\n<p>Then create a plain text file with following content</p>\n<pre><code>PUBLIC &quot;http://schemas.xmlsoap.org/soap/encoding/&quot; &quot;soapenc.xsd&quot;\n</code></pre>\n<p>Then pass that file to xjc as the catalog file</p>\n<hr />\n<p>Update: If you are on maven, this is how it would all hang together.</p>\n<p>place the schema, soapenc.xsd, and catalog.cat(the plain text file) in src/main/resources</p>\n<p>Then tell the jaxb plugin to pass the catalog to xjc</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;wsdl-generate&lt;/id&gt;\n        &lt;configuration&gt;\n          &lt;schemaIncludes&gt;\n            &lt;include&gt;*.wsdl&lt;/include&gt;\n          &lt;/schemaIncludes&gt;\n          &lt;catalog&gt;${project.basedir}/src/main/resources/catalog.cat&lt;/catalog&gt;\n        &lt;/configuration&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;generate&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11195532,"reputation":11,"user_id":10899829,"display_name":"Bartosz Bełcik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547203512,"creation_date":1547202491,"answer_id":54144650,"question_id":2401661,"body_markdown":"I think the best way is to use old good axis 1.4. It was designed to work with rpc services and it usually does its job. The main problem is that this library is very, very old (the jar was uploaded to central in 2006) and it is not maintained any more.\r\n\r\nIf you decide to give it a try, just add the following dependency to your pom:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;axis&lt;/groupId&gt;\r\n        &lt;artifactId&gt;axis&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nadd the following plugin:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;axistools-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;configuration&gt;\r\n            &lt;sourceDirectory&gt;${project.basedir}/src/main/resources&lt;/sourceDirectory&gt;\r\n            &lt;wsdlFiles&gt;\r\n                &lt;wsdlFile&gt;my_service.wsdl&lt;/wsdlFile&gt;\r\n            &lt;/wsdlFiles&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n \r\nput your wsdl file into `src/main/resources/my_service.wsdl` and build the app by `mvn clean package`.\r\n\r\nPlugin details can be found [here](https://www.mojohaus.org/axistools-maven-plugin/wsdl2java-mojo.html)","title":"Clickatell SOAP wsdl to JAXB java classes","body":"<p>I think the best way is to use old good axis 1.4. It was designed to work with rpc services and it usually does its job. The main problem is that this library is very, very old (the jar was uploaded to central in 2006) and it is not maintained any more.</p>\n\n<p>If you decide to give it a try, just add the following dependency to your pom:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;axis&lt;/groupId&gt;\n    &lt;artifactId&gt;axis&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>add the following plugin:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;axistools-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;wsdl2java&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;configuration&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/resources&lt;/sourceDirectory&gt;\n        &lt;wsdlFiles&gt;\n            &lt;wsdlFile&gt;my_service.wsdl&lt;/wsdlFile&gt;\n        &lt;/wsdlFiles&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>put your wsdl file into <code>src/main/resources/my_service.wsdl</code> and build the app by <code>mvn clean package</code>.</p>\n\n<p>Plugin details can be found <a href=\"https://www.mojohaus.org/axistools-maven-plugin/wsdl2java-mojo.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":12012635,"reputation":1,"user_id":8788771,"display_name":"Krishna Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552983565,"creation_date":1552983565,"answer_id":55236314,"question_id":2401661,"body_markdown":"I was using wsdl2java utility of axis1.5, we got the similar error on array.\r\n\r\n    Exception in thread &quot;main&quot; org.apache.axis2.wsdl.codegen.CodeGenerationException: java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\t\t\t\tat org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:271)\r\n\t\t\t\tat org.apache.axis2.wsdl.WSDL2Code.main(WSDL2Code.java:35)\r\n\t\t\t\tat org.apache.axis2.wsdl.WSDL2Java.main(WSDL2Java.java:24)\r\n\t\tCaused by: java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\t\t\t\tat org.apache.axis2.wsdl.codegen.extension.SimpleDBExtension.engage(SimpleDBExtension.java:53)\r\n\t\t\t\tat org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:224)\r\n\t\t\t\t... 2 more\r\n\t\tCaused by: java.lang.reflect.InvocationTargetException\r\n\t\t\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\t\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\t\t\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\t\t\t\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\t\t\t\tat org.apache.axis2.wsdl.codegen.extension.SimpleDBExtension.engage(SimpleDBExtension.java:50)\r\n\t\t\t\t... 3 more\r\n\t\tCaused by: org.apache.axis2.schema.SchemaCompilationException: can not find type {http://schemas.xmlsoap.org/soap/encoding/}Array from the parent schema ....\r\n\t\t\t\tat org.apache.axis2.schema.SchemaCompiler.copyMetaInfoHierarchy(SchemaCompiler.java:1296)\r\n\t\t\t\tat org.apache.axis2.schema.SchemaCompiler.processComplexContent(SchemaCompiler.java:1258)\r\n\t\t\t\tat org.apache.axis2.schema.SchemaCompiler.processContentModel(SchemaCompiler.java:1153)\r\n\t\t\t\tat org.apache.axis2.schema.SchemaCompiler.processComplexType(SchemaCompiler.java:1097)\r\n\t\t\t\tat org.apache.axis2.schema.SchemaCompiler.processNamedComplexSchemaType(SchemaCompiler.java:1017)\r\n\r\n\r\nAs explained in one of the answers above on soapenc.xsd ,i tried updating my wsdl file by creating the soapenc.xsd with the contents from website &#39;http://schemas.xmlsoap.org/soap/encoding/&#39;.\r\nAs shown below, this worked really for me.\r\n\r\n    &lt;definitions xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:ns1= .. xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:tns=.. xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; targetNamespace=..&gt;\r\n\t&lt;types&gt;\r\n\t\t&lt;schema xmlns=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:soap-enc=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; targetNamespace=.. xmlns:ns1=.. xmlns:ns2=.. xmlns:tns=.. xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;/&gt;\r\n\t&lt;/types&gt;\r\n\t&lt;import location=&quot;soapenc.xsd&quot; namespace=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot;/&gt;\r\n\t&lt;message name=&quot;Input&quot;&gt;\r\n\t\t&lt;part name=../&gt;\r\n\t&lt;/message&gt;\r\n\t&lt;message name=&quot;Output&quot;&gt;\r\n\t\t&lt;part name=../&gt;\r\n\t&lt;/message&gt;\r\n\t&lt;portType name=&quot;..&quot;&gt; ..\t&lt;/portType&gt;\r\n\t&lt;binding name=&quot;...&quot; type=&quot;tns:&quot;..&quot;&gt;\r\n\t\t&lt;operation name=&quot;...&quot;&gt;\t\t\t..\t\t\t&lt;/operation&gt;\r\n\t\t&lt;soap:binding style=&quot;rpc&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\r\n\t&lt;/binding&gt;\r\n\t&lt;service name=&quot;...&quot;&gt;\r\n\t\t&lt;port binding=&quot;tns:...&quot; name=&quot;...&quot;&gt;\t\t\t&lt;soap:address location=&quot;...&quot;/&gt;\t\t&lt;/port&gt;\r\n\t&lt;/service&gt;\r\n &lt;/definitions&gt;\r\n\r\n\r\n","title":"Clickatell SOAP wsdl to JAXB java classes","body":"<p>I was using wsdl2java utility of axis1.5, we got the similar error on array.</p>\n\n<pre><code>Exception in thread \"main\" org.apache.axis2.wsdl.codegen.CodeGenerationException: java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n            at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:271)\n            at org.apache.axis2.wsdl.WSDL2Code.main(WSDL2Code.java:35)\n            at org.apache.axis2.wsdl.WSDL2Java.main(WSDL2Java.java:24)\n    Caused by: java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n            at org.apache.axis2.wsdl.codegen.extension.SimpleDBExtension.engage(SimpleDBExtension.java:53)\n            at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:224)\n            ... 2 more\n    Caused by: java.lang.reflect.InvocationTargetException\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n            at java.lang.reflect.Method.invoke(Method.java:597)\n            at org.apache.axis2.wsdl.codegen.extension.SimpleDBExtension.engage(SimpleDBExtension.java:50)\n            ... 3 more\n    Caused by: org.apache.axis2.schema.SchemaCompilationException: can not find type {http://schemas.xmlsoap.org/soap/encoding/}Array from the parent schema ....\n            at org.apache.axis2.schema.SchemaCompiler.copyMetaInfoHierarchy(SchemaCompiler.java:1296)\n            at org.apache.axis2.schema.SchemaCompiler.processComplexContent(SchemaCompiler.java:1258)\n            at org.apache.axis2.schema.SchemaCompiler.processContentModel(SchemaCompiler.java:1153)\n            at org.apache.axis2.schema.SchemaCompiler.processComplexType(SchemaCompiler.java:1097)\n            at org.apache.axis2.schema.SchemaCompiler.processNamedComplexSchemaType(SchemaCompiler.java:1017)\n</code></pre>\n\n<p>As explained in one of the answers above on soapenc.xsd ,i tried updating my wsdl file by creating the soapenc.xsd with the contents from website '<a href=\"http://schemas.xmlsoap.org/soap/encoding/\" rel=\"nofollow noreferrer\">http://schemas.xmlsoap.org/soap/encoding/</a>'.\nAs shown below, this worked really for me.</p>\n\n<pre><code>&lt;definitions xmlns=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:ns1= .. xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:tns=.. xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" targetNamespace=..&gt;\n&lt;types&gt;\n    &lt;schema xmlns=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap-enc=\"http://schemas.xmlsoap.org/soap/encoding/\" targetNamespace=.. xmlns:ns1=.. xmlns:ns2=.. xmlns:tns=.. xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\"/&gt;\n&lt;/types&gt;\n&lt;import location=\"soapenc.xsd\" namespace=\"http://schemas.xmlsoap.org/soap/encoding/\"/&gt;\n&lt;message name=\"Input\"&gt;\n    &lt;part name=../&gt;\n&lt;/message&gt;\n&lt;message name=\"Output\"&gt;\n    &lt;part name=../&gt;\n&lt;/message&gt;\n&lt;portType name=\"..\"&gt; .. &lt;/portType&gt;\n&lt;binding name=\"...\" type=\"tns:\"..\"&gt;\n    &lt;operation name=\"...\"&gt;          ..          &lt;/operation&gt;\n    &lt;soap:binding style=\"rpc\" transport=\"http://schemas.xmlsoap.org/soap/http\"/&gt;\n&lt;/binding&gt;\n&lt;service name=\"...\"&gt;\n    &lt;port binding=\"tns:...\" name=\"...\"&gt;         &lt;soap:address location=\"...\"/&gt;      &lt;/port&gt;\n&lt;/service&gt;\n</code></pre>\n\n<p></p>\n"}],"owner":{"display_name":"user288805"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13055,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":5,"score":18,"last_activity_date":1646872070,"creation_date":1268055934,"question_id":2401661,"body_markdown":"I&#39;m trying to generate JAXB classes from the Clickatell wsdl:\r\nYou can find the wsdl definition here it quite large:\r\nhttp://api.clickatell.com/soap/webservice.php?WSDL\r\n\r\nWhen trying to generate java classes from this Wsdl i got the following errors:\r\n[ERROR] undefined simple or complex type &#39;SOAP-ENC:Array&#39;\r\n[ERROR] undefined attribute &#39;SOAP-ENC:arrayType&#39;\r\n\r\nI hope someone can help me out.\r\nCheers,\r\nTim\r\n\r\n\r\n","title":"Clickatell SOAP wsdl to JAXB java classes","body":"<p>I'm trying to generate JAXB classes from the Clickatell wsdl:\nYou can find the wsdl definition here it quite large:\n<a href=\"http://api.clickatell.com/soap/webservice.php?WSDL\" rel=\"noreferrer\">http://api.clickatell.com/soap/webservice.php?WSDL</a></p>\n\n<p>When trying to generate java classes from this Wsdl i got the following errors:\n[ERROR] undefined simple or complex type 'SOAP-ENC:Array'\n[ERROR] undefined attribute 'SOAP-ENC:arrayType'</p>\n\n<p>I hope someone can help me out.\nCheers,\nTim</p>\n"},{"tags":["java","maven","intellij-idea","module"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646872114,"post_id":71417449,"comment_id":126233825,"body_markdown":"How are you running your program, and what&#39;s the minimal pom change to cause the problem?","body":"How are you running your program, and what&#39;s the minimal pom change to cause the problem?"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1646898562,"post_id":71417449,"comment_id":126238372,"body_markdown":"I have reproduced this. Created the issue: https://youtrack.jetbrains.com/issue/IDEA-290267 Please follow it for updates in YouTrack.","body":"I have reproduced this. Created the issue: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-290267\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-290267</a> Please follow it for updates in YouTrack."},{"owner":{"account_id":24508983,"reputation":11,"user_id":18423581,"display_name":"Striker"},"score":0,"creation_date":1646917076,"post_id":71417449,"comment_id":126245183,"body_markdown":"@tgdavies\nI just press little green triangle next to the class name or main method name.\nAs for the pom file, new module creation changes packaging from jar to pom: \n\n&lt;packaging&gt;pom&lt;/packaging&gt;\n\nWithout this line pom.xml cannot contain modules part, yet with it the application cannot see my data.properties file.","body":"@tgdavies I just press little green triangle next to the class name or main method name. As for the pom file, new module creation changes packaging from jar to pom:   &lt;packaging&gt;pom&lt;/packaging&gt;  Without this line pom.xml cannot contain modules part, yet with it the application cannot see my data.properties file."},{"owner":{"account_id":24508983,"reputation":11,"user_id":18423581,"display_name":"Striker"},"score":0,"creation_date":1646917344,"post_id":71417449,"comment_id":126245289,"body_markdown":"@Andrey so this IS a bug? Unfortunately, YouTrack gives me 404 error when I try to use provided url.","body":"@Andrey so this IS a bug? Unfortunately, YouTrack gives me 404 error when I try to use provided url."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1647008586,"post_id":71417449,"comment_id":126271449,"body_markdown":"It looks like a bug. I have filled the issue to investigate it. Sorry, it has been created with restricted visibility for some reason. Now it should be visible, please try again.","body":"It looks like a bug. I have filled the issue to investigate it. Sorry, it has been created with restricted visibility for some reason. Now it should be visible, please try again."},{"owner":{"account_id":24508983,"reputation":11,"user_id":18423581,"display_name":"Striker"},"score":0,"creation_date":1647039627,"post_id":71417449,"comment_id":126281224,"body_markdown":"@Andrey thanks a lot, I can see it now.","body":"@Andrey thanks a lot, I can see it now."}],"owner":{"account_id":24508983,"reputation":11,"user_id":18423581,"display_name":"Striker"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646871793,"creation_date":1646871314,"question_id":71417449,"body_markdown":"&lt;pre&gt;Environment: Java 1.8, IntelliJ Community Edition, Maven based project.&lt;/pre&gt;\r\n\r\nI&#39;ve met this odd behaviour when I was trying to create a multi module Spring Boot project and it appeared that the project can not see &lt;code&gt;application.properties&lt;/code&gt; file that was places inside it&#39;s resources directory. The problem isn&#39;t in Spring, it can be reproduced on any other Maven project, on various versions of IntelliJ.\r\n\r\nAfter some researching I have figured that &lt;b&gt;the problem appears when a new module is being added to the project. Instantly after that - without me touching anything else - the file that could be perfectly found and read moments ago, becomes no longer visible for the application.&lt;/b&gt;\r\n\r\n\r\n\r\nOne-method project that reads file from classpath and prints it line by line:\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class Runner {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        InputStream resourceAsStream = Runner.class.getClassLoader()\r\n            .getResourceAsStream(&quot;data.properties&quot;);\r\n\r\n        try (\r\n        InputStreamReader streamReader = \r\n            new InputStreamReader(resourceAsStream, StandardCharsets.UTF_8);\r\n        BufferedReader reader = new BufferedReader(streamReader)) {\r\n\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                System.out.println(line);\r\n            }\r\n\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n&lt;code&gt;data.properties&lt;/code&gt; guts can be anything, I&#39;ve filled it with\r\n&lt;pre&gt;number=34&lt;/pre&gt;\r\n\r\nSo, with no modules added, application works just fine, however after I add one this is the output I get on execution:\r\n&lt;pre&gt;Exception in thread &quot;main&quot; java.lang.NullPointerException&lt;/pre&gt; (it cannot find the file hence &lt;code&gt;resourceAsStream&lt;/code&gt; has &lt;code&gt;null&lt;/code&gt; value).&lt;br/&gt;&lt;br/&gt;\r\n\r\n - It seems, everything is fine when I use Gradle instead of Maven.\r\n - I got the very same results on my second machine with different versions of IDE and Java.\r\n - In project properties the &lt;code&gt;resources&lt;/code&gt; directory is still marked as, well, a resource directory.\r\n - Deleting newly created module doesn&#39;t seem to help a bit.\r\n\r\nSo, the question is: Is it about me and my poor knowledge in Maven or in something else that was involved in work OR there is some sort of bug I&#39;ve encountered? Any fixes / bypasses to be made?","title":"Adding a new module to IntelliJ Java Maven project somehow makes it stop seeing files in resources folder","body":"<pre>Environment: Java 1.8, IntelliJ Community Edition, Maven based project.</pre>\n<p>I've met this odd behaviour when I was trying to create a multi module Spring Boot project and it appeared that the project can not see <code>application.properties</code> file that was places inside it's resources directory. The problem isn't in Spring, it can be reproduced on any other Maven project, on various versions of IntelliJ.</p>\n<p>After some researching I have figured that <b>the problem appears when a new module is being added to the project. Instantly after that - without me touching anything else - the file that could be perfectly found and read moments ago, becomes no longer visible for the application.</b></p>\n<p>One-method project that reads file from classpath and prints it line by line:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.nio.charset.StandardCharsets;\n\npublic class Runner {\n\n    public static void main(String[] args) {\n\n        InputStream resourceAsStream = Runner.class.getClassLoader()\n            .getResourceAsStream(&quot;data.properties&quot;);\n\n        try (\n        InputStreamReader streamReader = \n            new InputStreamReader(resourceAsStream, StandardCharsets.UTF_8);\n        BufferedReader reader = new BufferedReader(streamReader)) {\n\n            String line;\n            while ((line = reader.readLine()) != null) {\n                System.out.println(line);\n            }\n\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p><code>data.properties</code> guts can be anything, I've filled it with</p>\n<pre>number=34</pre>\n<p>So, with no modules added, application works just fine, however after I add one this is the output I get on execution:</p>\n<pre>Exception in thread \"main\" java.lang.NullPointerException</pre> (it cannot find the file hence <code>resourceAsStream</code> has <code>null</code> value).<br/><br/>\n<ul>\n<li>It seems, everything is fine when I use Gradle instead of Maven.</li>\n<li>I got the very same results on my second machine with different versions of IDE and Java.</li>\n<li>In project properties the <code>resources</code> directory is still marked as, well, a resource directory.</li>\n<li>Deleting newly created module doesn't seem to help a bit.</li>\n</ul>\n<p>So, the question is: Is it about me and my poor knowledge in Maven or in something else that was involved in work OR there is some sort of bug I've encountered? Any fixes / bypasses to be made?</p>\n"},{"tags":["java","java-stream","bigdecimal","collectors"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1646844149,"post_id":71412306,"comment_id":126225865,"body_markdown":"For each **ID** there will be exactly one object with name `&quot;A&quot;`, one with `&quot;B&quot;` and one with `&quot;C&quot;`, or there could be multiple objects with such names? Assume that at least one of them is always present","body":"For each <b>ID</b> there will be exactly one object with name <code>&quot;A&quot;</code>, one with <code>&quot;B&quot;</code> and one with <code>&quot;C&quot;</code>, or there could be multiple objects with such names? Assume that at least one of them is always present"},{"owner":{"account_id":24137475,"reputation":59,"user_id":18104162,"display_name":"Rishi Kumar"},"score":0,"creation_date":1646844399,"post_id":71412306,"comment_id":126225960,"body_markdown":"@AlexanderIvanchenko In the list we have multiple object like name of &quot;A&quot;, &quot;B&quot; and &quot;C&quot; but I applied filter in the list based on this three name (&quot;A&quot;, &quot;B&quot; and &quot;C&quot;) so after apply filtered the final list I have only name of &quot;A&quot;, &quot;B&quot; and &quot;C&quot; for each group of Ids.","body":"@AlexanderIvanchenko In the list we have multiple object like name of &quot;A&quot;, &quot;B&quot; and &quot;C&quot; but I applied filter in the list based on this three name (&quot;A&quot;, &quot;B&quot; and &quot;C&quot;) so after apply filtered the final list I have only name of &quot;A&quot;, &quot;B&quot; and &quot;C&quot; for each group of Ids."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1646844781,"post_id":71412306,"comment_id":126226118,"body_markdown":"I mean, is it possible that there will be more then **one** &quot;A&quot; object with the same **id**?","body":"I mean, is it possible that there will be more then <b>one</b> &quot;A&quot; object with the same <b>id</b>?"},{"owner":{"account_id":24137475,"reputation":59,"user_id":18104162,"display_name":"Rishi Kumar"},"score":0,"creation_date":1646844942,"post_id":71412306,"comment_id":126226203,"body_markdown":"@AlexanderIvanchenko No, For same Id have unique object for each name.","body":"@AlexanderIvanchenko No, For same Id have unique object for each name."}],"answers":[{"tags":[],"owner":{"account_id":9014228,"reputation":522,"user_id":6717707,"display_name":"Falah H. Abbas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646844832,"creation_date":1646844832,"answer_id":71413104,"question_id":71412306,"body_markdown":"group the list by id, then loop through each group and get the a, b, and c values,\r\nthe add new Data to list with D name with Formula value.\r\n\r\n\r\n```\r\n   list.stream()\r\n                .collect(Collectors.groupingBy(Data10::getId))\r\n                .entrySet().forEach(e -&gt; {\r\n                    var a = e.getValue().stream().filter(d -&gt; d.getName().equals(&quot;A&quot;)).findFirst().get().getValue();\r\n\r\n                    var b = e.getValue().stream().filter(d -&gt; d.getName().equals(&quot;B&quot;)).findFirst().get().getValue();\r\n\r\n                    var c = e.getValue().stream().filter(d -&gt; d.getName().equals(&quot;C&quot;)).findFirst().get().getValue();\r\n\r\n                    var formula = new BigDecimal(a.subtract(b.multiply(c)).doubleValue());\r\n                    list.add(new Data10(e.getKey(), 2020, &quot;D&quot;, formula));\r\n                });\r\n\r\n\r\n```","title":"How to apply an Arithmetic operation on each Group of elements with the same ID in the list","body":"<p>group the list by id, then loop through each group and get the a, b, and c values,\nthe add new Data to list with D name with Formula value.</p>\n<pre><code>   list.stream()\n                .collect(Collectors.groupingBy(Data10::getId))\n                .entrySet().forEach(e -&gt; {\n                    var a = e.getValue().stream().filter(d -&gt; d.getName().equals(&quot;A&quot;)).findFirst().get().getValue();\n\n                    var b = e.getValue().stream().filter(d -&gt; d.getName().equals(&quot;B&quot;)).findFirst().get().getValue();\n\n                    var c = e.getValue().stream().filter(d -&gt; d.getName().equals(&quot;C&quot;)).findFirst().get().getValue();\n\n                    var formula = new BigDecimal(a.subtract(b.multiply(c)).doubleValue());\n                    list.add(new Data10(e.getKey(), 2020, &quot;D&quot;, formula));\n                });\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646871319,"creation_date":1646845075,"answer_id":71413157,"question_id":71412306,"body_markdown":"You can group these objects first by `id` and then by `name` with `Collectors.groupingBy` which will produce a nested map. And then reduce this intermediate map into list by producing a new data-object for each value in the map.\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Data10&gt; data10List = // initializing the list\r\n\r\n        List&lt;Data10&gt; result =\r\n                data10List.stream()\r\n                        .collect(Collectors.groupingBy(Data10::getId, // by id\r\n                                    Collectors.groupingBy(Data10::getName))) // by name\r\n                        .values().stream()\r\n                        .map(map -&gt; processValues(map))\r\n                        .collect(Collectors.toList());\r\n\r\n        result.forEach(System.out::println); // printing the result\r\n    }\r\n\r\nFor the method below, I&#39;ve made an assumption that all combinations **`id`** and **`name`**  are unique. Therefore, every list in the map will contain only one element (*Note: hard-coded **names** as well as hard-coded **math logic**, normally has to be avoided*).\r\n\r\n    public static Data10 processValues(Map&lt;String, List&lt;Data10&gt;&gt; map) {\r\n        BigDecimal combinedValue =\r\n                map.get(&quot;A&quot;).get(0).getValue() // &quot;A&quot;\r\n                        .subtract(map.get(&quot;B&quot;).get(0).getValue() // &quot;B&quot;\r\n                                .multiply(map.get(&quot;C&quot;).get(0).getValue())); // &quot;C&quot;\r\n\r\n        return new Data10(map.get(&quot;A&quot;).get(0).getId(),\r\n                          map.get(&quot;A&quot;).get(0).getYear(),\r\n                          &quot;D&quot;,\r\n                          combinedValue);\r\n    }\r\nTo avoid hard-coding the logic for the math operation, you can define a custom **functional interface** (there&#39;s no build-in function in the JDK that expects three argument). And make the method `processValues()` more generalized by adding this interface and expected names as parameters to the declaration. So that it&#39;ll be possible to apply different math logic without need to change the method.\r\n\r\nAn interface and implementation might look like that:\r\n\r\n    @FunctionalInterface\r\n    interface TripleFunction&lt;A, B, C, R&gt; {\r\n        R calculate(A a, B b, C c);\r\n    }\r\n```\r\nTripleFunction&lt;BigDecimal, BigDecimal, BigDecimal, BigDecimal&gt; mathOperation =\r\n          (a, b, c) -&gt; a.subtract(b.multiply(c));\r\n```\r\nThese are the changes required to utilize this function (in the stream pipeline and inside the `processValues`):\r\n```\r\n.map(map -&gt; processValues(map, mathOperation, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;))\r\n```\r\n    public static Data10 processValues(Map&lt;String, List&lt;Data10&gt;&gt; map,\r\n                                       TripleFunction&lt;BigDecimal, BigDecimal, BigDecimal, BigDecimal&gt; mathOperation,\r\n                                       String a, String b, String c) {\r\n\r\n        BigDecimal combinedValue = mathOperation\r\n                .calculate(map.get(a).get(0).getValue(),\r\n                           map.get(b).get(0).getValue(),\r\n                           map.get(c).get(0).getValue());\r\n\r\n        return new Data10(map.get(&quot;A&quot;).get(0).getId(),\r\n                map.get(&quot;A&quot;).get(0).getYear(),\r\n                &quot;D&quot;,\r\n                combinedValue);\r\n    }\r\n**Output** (*data listed in the question, was used as an input*)\r\n```\r\nData10{id=1, year=2020, name=&#39;D&#39;, value=-15.75}\r\nData10{id=2, year=2020, name=&#39;D&#39;, value=-14.75}\r\nData10{id=3, year=2020, name=&#39;D&#39;, value=-7.75}\r\nData10{id=4, year=2020, name=&#39;D&#39;, value=-37.75}\r\n```","title":"How to apply an Arithmetic operation on each Group of elements with the same ID in the list","body":"<p>You can group these objects first by <code>id</code> and then by <code>name</code> with <code>Collectors.groupingBy</code> which will produce a nested map. And then reduce this intermediate map into list by producing a new data-object for each value in the map.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Data10&gt; data10List = // initializing the list\n\n    List&lt;Data10&gt; result =\n            data10List.stream()\n                    .collect(Collectors.groupingBy(Data10::getId, // by id\n                                Collectors.groupingBy(Data10::getName))) // by name\n                    .values().stream()\n                    .map(map -&gt; processValues(map))\n                    .collect(Collectors.toList());\n\n    result.forEach(System.out::println); // printing the result\n}\n</code></pre>\n<p>For the method below, I've made an assumption that all combinations <strong><code>id</code></strong> and <strong><code>name</code></strong>  are unique. Therefore, every list in the map will contain only one element (<em>Note: hard-coded <strong>names</strong> as well as hard-coded <strong>math logic</strong>, normally has to be avoided</em>).</p>\n<pre><code>public static Data10 processValues(Map&lt;String, List&lt;Data10&gt;&gt; map) {\n    BigDecimal combinedValue =\n            map.get(&quot;A&quot;).get(0).getValue() // &quot;A&quot;\n                    .subtract(map.get(&quot;B&quot;).get(0).getValue() // &quot;B&quot;\n                            .multiply(map.get(&quot;C&quot;).get(0).getValue())); // &quot;C&quot;\n\n    return new Data10(map.get(&quot;A&quot;).get(0).getId(),\n                      map.get(&quot;A&quot;).get(0).getYear(),\n                      &quot;D&quot;,\n                      combinedValue);\n}\n</code></pre>\n<p>To avoid hard-coding the logic for the math operation, you can define a custom <strong>functional interface</strong> (there's no build-in function in the JDK that expects three argument). And make the method <code>processValues()</code> more generalized by adding this interface and expected names as parameters to the declaration. So that it'll be possible to apply different math logic without need to change the method.</p>\n<p>An interface and implementation might look like that:</p>\n<pre><code>@FunctionalInterface\ninterface TripleFunction&lt;A, B, C, R&gt; {\n    R calculate(A a, B b, C c);\n}\n</code></pre>\n<pre><code>TripleFunction&lt;BigDecimal, BigDecimal, BigDecimal, BigDecimal&gt; mathOperation =\n          (a, b, c) -&gt; a.subtract(b.multiply(c));\n</code></pre>\n<p>These are the changes required to utilize this function (in the stream pipeline and inside the <code>processValues</code>):</p>\n<pre><code>.map(map -&gt; processValues(map, mathOperation, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;))\n</code></pre>\n<pre><code>public static Data10 processValues(Map&lt;String, List&lt;Data10&gt;&gt; map,\n                                   TripleFunction&lt;BigDecimal, BigDecimal, BigDecimal, BigDecimal&gt; mathOperation,\n                                   String a, String b, String c) {\n\n    BigDecimal combinedValue = mathOperation\n            .calculate(map.get(a).get(0).getValue(),\n                       map.get(b).get(0).getValue(),\n                       map.get(c).get(0).getValue());\n\n    return new Data10(map.get(&quot;A&quot;).get(0).getId(),\n            map.get(&quot;A&quot;).get(0).getYear(),\n            &quot;D&quot;,\n            combinedValue);\n}\n</code></pre>\n<p><strong>Output</strong> (<em>data listed in the question, was used as an input</em>)</p>\n<pre><code>Data10{id=1, year=2020, name='D', value=-15.75}\nData10{id=2, year=2020, name='D', value=-14.75}\nData10{id=3, year=2020, name='D', value=-7.75}\nData10{id=4, year=2020, name='D', value=-37.75}\n</code></pre>\n"}],"owner":{"account_id":24137475,"reputation":59,"user_id":18104162,"display_name":"Rishi Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71413157,"answer_count":2,"score":0,"last_activity_date":1646871319,"creation_date":1646841648,"question_id":71412306,"body_markdown":"I have **class** `Data10` which have 4 fields. \r\n\r\nAnd I have a list of `Data10` objects. \r\n\r\nI want to do an **arithmetic operation** with **values** of the elements with the *same* **ID**. As a final result I need to generate new `Data10` object with same **ID**, same `year`, new `name`(`&quot;D&quot;`), and `value` (based on **arithmetic operation**).\r\n```\r\npublic class Data10 {\r\n    int id;\r\n    int year;\r\n    String name;\r\n    BigDecimal value;\r\n}\r\n```\r\n    List&lt;Data10&gt; list = new ArrayList();\r\n    list.add(new Data10(1, 2020, &quot;A&quot;, new BigDecimal(5.5)));\r\n    list.add(new Data10(1, 2020, &quot;B&quot;, new BigDecimal(2.5)));\r\n    list.add(new Data10(1, 2020, &quot;C&quot;, new BigDecimal(8.5)));\r\n\r\n    list.add(new Data10(2, 2020, &quot;A&quot;, new BigDecimal(1.5)));\r\n    list.add(new Data10(2, 2020, &quot;B&quot;, new BigDecimal(6.5)));\r\n    list.add(new Data10(2, 2020, &quot;C&quot;, new BigDecimal(2.5)));\r\n\t\t\t\t\t\t\t\t  \r\n    list.add(new Data10(3, 2020, &quot;A&quot;, new BigDecimal(6.5)));\r\n    list.add(new Data10(3, 2020, &quot;B&quot;, new BigDecimal(1.5)));\r\n    list.add(new Data10(3, 2020, &quot;C&quot;, new BigDecimal(9.5)));\r\n\r\n    list.add(new Data10(4, 2020, &quot;A&quot;, new BigDecimal(3.5)));\r\n    list.add(new Data10(4, 2020, &quot;B&quot;, new BigDecimal(7.5)));\r\n    list.add(new Data10(4, 2020, &quot;C&quot;, new BigDecimal(5.5)));\r\n\r\nI want to apply the below **formula** for each group of **ID**: \r\n\r\n&gt; ****D** = **A** - (**B** * **C**)** [Airthmetic operation for group of objects with the same **ID**]\r\n\r\nI applied filter for object names (`&quot;A|B|C&quot;`) so that only element with these names can appear in the list. And there will be only one  unique object for each name and Id.\r\n\r\nI&#39;ve tried grouping the list based on **ID** but don&#39;t know how to apply the formula in each group.\r\n    \r\n    list.stream().filter(data10 -&gt; data10.getName().matches(&quot;A|B|C&quot;))\r\n                .collect(Collectors.groupingBy(Data10::getId));\r\n\r\n**Expected:**\r\n\r\n    Data10(1, 2020, &quot;D&quot;, -15.75);  [ Formula (D= 5.5 - (2.5 * 8.5)) ]\r\n    Data10(2, 2020, &quot;D&quot;, -14.75);  [ Formula (D= 1.5 - (6.5 * 2.5)) ]\r\n    Data10(3, 2020, &quot;D&quot;, -7.75);   [ Formula (D= 6.5 - (1.5 * 9.5)) ]\r\n    Data10(4, 2020, &quot;D&quot;, -37.75);  [ Formula (D= 3.5 - (7.5 * 5.5)) ]\r\n\r\n","title":"How to apply an Arithmetic operation on each Group of elements with the same ID in the list","body":"<p>I have <strong>class</strong> <code>Data10</code> which have 4 fields.</p>\n<p>And I have a list of <code>Data10</code> objects.</p>\n<p>I want to do an <strong>arithmetic operation</strong> with <strong>values</strong> of the elements with the <em>same</em> <strong>ID</strong>. As a final result I need to generate new <code>Data10</code> object with same <strong>ID</strong>, same <code>year</code>, new <code>name</code>(<code>&quot;D&quot;</code>), and <code>value</code> (based on <strong>arithmetic operation</strong>).</p>\n<pre><code>public class Data10 {\n    int id;\n    int year;\n    String name;\n    BigDecimal value;\n}\n</code></pre>\n<pre><code>List&lt;Data10&gt; list = new ArrayList();\nlist.add(new Data10(1, 2020, &quot;A&quot;, new BigDecimal(5.5)));\nlist.add(new Data10(1, 2020, &quot;B&quot;, new BigDecimal(2.5)));\nlist.add(new Data10(1, 2020, &quot;C&quot;, new BigDecimal(8.5)));\n\nlist.add(new Data10(2, 2020, &quot;A&quot;, new BigDecimal(1.5)));\nlist.add(new Data10(2, 2020, &quot;B&quot;, new BigDecimal(6.5)));\nlist.add(new Data10(2, 2020, &quot;C&quot;, new BigDecimal(2.5)));\n                              \nlist.add(new Data10(3, 2020, &quot;A&quot;, new BigDecimal(6.5)));\nlist.add(new Data10(3, 2020, &quot;B&quot;, new BigDecimal(1.5)));\nlist.add(new Data10(3, 2020, &quot;C&quot;, new BigDecimal(9.5)));\n\nlist.add(new Data10(4, 2020, &quot;A&quot;, new BigDecimal(3.5)));\nlist.add(new Data10(4, 2020, &quot;B&quot;, new BigDecimal(7.5)));\nlist.add(new Data10(4, 2020, &quot;C&quot;, new BigDecimal(5.5)));\n</code></pre>\n<p>I want to apply the below <strong>formula</strong> for each group of <strong>ID</strong>:</p>\n<blockquote>\n<p><strong><strong>D</strong> = <strong>A</strong> - (<strong>B</strong> * <strong>C</strong>)</strong> [Airthmetic operation for group of objects with the same <strong>ID</strong>]</p>\n</blockquote>\n<p>I applied filter for object names (<code>&quot;A|B|C&quot;</code>) so that only element with these names can appear in the list. And there will be only one  unique object for each name and Id.</p>\n<p>I've tried grouping the list based on <strong>ID</strong> but don't know how to apply the formula in each group.</p>\n<pre><code>list.stream().filter(data10 -&gt; data10.getName().matches(&quot;A|B|C&quot;))\n            .collect(Collectors.groupingBy(Data10::getId));\n</code></pre>\n<p><strong>Expected:</strong></p>\n<pre><code>Data10(1, 2020, &quot;D&quot;, -15.75);  [ Formula (D= 5.5 - (2.5 * 8.5)) ]\nData10(2, 2020, &quot;D&quot;, -14.75);  [ Formula (D= 1.5 - (6.5 * 2.5)) ]\nData10(3, 2020, &quot;D&quot;, -7.75);   [ Formula (D= 6.5 - (1.5 * 9.5)) ]\nData10(4, 2020, &quot;D&quot;, -37.75);  [ Formula (D= 3.5 - (7.5 * 5.5)) ]\n</code></pre>\n"},{"tags":["java","javafx","javafx-8"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646871240,"creation_date":1646857815,"answer_id":71415652,"question_id":71415207,"body_markdown":"**Recommended Solution**\r\n\r\nSet the `vbarPolicy` property directly to a string value of the [`ScrollBarPolicy`](https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ScrollPane.ScrollBarPolicy.html) enumerated type: `vbarPolicy=&quot;ALWAYS&quot;`.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.ScrollPane?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n\r\n    &lt;ScrollPane fitToHeight = &quot;true&quot; fitToWidth = &quot;true&quot; vbarPolicy=&quot;ALWAYS&quot;&gt;\r\n        &lt;Label text=&quot;The quick brown fox jumped over the lazy dog&quot; minHeight=&quot;100&quot; wrapText=&quot;true&quot; alignment=&quot;TOP_LEFT&quot;/&gt;\r\n    &lt;/ScrollPane&gt;\r\n\r\nThis will work for any enumerated type property.  \r\n\r\nSee for instance in the example how `alignment=&quot;TOP_LEFT&quot;`, similarly sets the value of the `Pos` enumerated type `alignment` property for the `Label`.\r\n\r\n**Alternate Solution**\r\n\r\nAs Slaw noted in comments you can also do this in a verbose fashion using the `fx:constant` syntax:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.ScrollPane?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.ScrollPane.ScrollBarPolicy?&gt;\r\n    \r\n    &lt;ScrollPane fitToHeight = &quot;true&quot; fitToWidth = &quot;true&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;&gt;\r\n        &lt;vbarPolicy&gt;\r\n            &lt;ScrollPane.ScrollBarPolicy fx:constant = &quot;ALWAYS&quot; /&gt;\r\n        &lt;/vbarPolicy&gt;\r\n        &lt;Label text=&quot;The quick brown fox jumped over the lazy dog&quot; minHeight=&quot;100&quot; wrapText=&quot;true&quot; alignment=&quot;TOP_LEFT&quot;/&gt;\r\n    &lt;/ScrollPane&gt;\r\n\r\nIf you do this, ensure that you:\r\n\r\n 1. Define the `fx` namespace:\r\n\r\n        xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n\r\n 2. Import the `ScrollBarPolicy` type:\r\n\r\n        &lt;?import javafx.scene.control.ScrollPane.ScrollBarPolicy?&gt;\r\n\r\nMy preference would be to use the direct string conversion previously outlined rather than the `fx:constant` version.","title":"How to set vBarPolicy in ScrollPane ? JavaFX","body":"<p><strong>Recommended Solution</strong></p>\n<p>Set the <code>vbarPolicy</code> property directly to a string value of the <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ScrollPane.ScrollBarPolicy.html\" rel=\"nofollow noreferrer\"><code>ScrollBarPolicy</code></a> enumerated type: <code>vbarPolicy=&quot;ALWAYS&quot;</code>.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.ScrollPane?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n\n&lt;ScrollPane fitToHeight = &quot;true&quot; fitToWidth = &quot;true&quot; vbarPolicy=&quot;ALWAYS&quot;&gt;\n    &lt;Label text=&quot;The quick brown fox jumped over the lazy dog&quot; minHeight=&quot;100&quot; wrapText=&quot;true&quot; alignment=&quot;TOP_LEFT&quot;/&gt;\n&lt;/ScrollPane&gt;\n</code></pre>\n<p>This will work for any enumerated type property.</p>\n<p>See for instance in the example how <code>alignment=&quot;TOP_LEFT&quot;</code>, similarly sets the value of the <code>Pos</code> enumerated type <code>alignment</code> property for the <code>Label</code>.</p>\n<p><strong>Alternate Solution</strong></p>\n<p>As Slaw noted in comments you can also do this in a verbose fashion using the <code>fx:constant</code> syntax:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.ScrollPane?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.ScrollPane.ScrollBarPolicy?&gt;\n\n&lt;ScrollPane fitToHeight = &quot;true&quot; fitToWidth = &quot;true&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;&gt;\n    &lt;vbarPolicy&gt;\n        &lt;ScrollPane.ScrollBarPolicy fx:constant = &quot;ALWAYS&quot; /&gt;\n    &lt;/vbarPolicy&gt;\n    &lt;Label text=&quot;The quick brown fox jumped over the lazy dog&quot; minHeight=&quot;100&quot; wrapText=&quot;true&quot; alignment=&quot;TOP_LEFT&quot;/&gt;\n&lt;/ScrollPane&gt;\n</code></pre>\n<p>If you do this, ensure that you:</p>\n<ol>\n<li><p>Define the <code>fx</code> namespace:</p>\n<pre><code>xmlns:fx=&quot;http://javafx.com/fxml&quot;\n</code></pre>\n</li>\n<li><p>Import the <code>ScrollBarPolicy</code> type:</p>\n<pre><code>&lt;?import javafx.scene.control.ScrollPane.ScrollBarPolicy?&gt;\n</code></pre>\n</li>\n</ol>\n<p>My preference would be to use the direct string conversion previously outlined rather than the <code>fx:constant</code> version.</p>\n"}],"owner":{"account_id":22723302,"reputation":29,"user_id":16887486,"display_name":"Rudolphine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71415652,"answer_count":1,"score":1,"last_activity_date":1646871240,"creation_date":1646855206,"question_id":71415207,"body_markdown":"I&#39;m trying to set vertical scroll bar to be always visible.\r\nBut i want to do it, using only fxml. Currently I;m trying to do this, like this:\r\n\r\n      &lt;ScrollPane fitToHeight = &quot;true&quot; fitToWidth = &quot;true&quot;&gt;\r\n         &lt;vbarPolicy&gt;\r\n            &lt;ScrollBarPolicy fx:constant = &quot;ALWAYS&quot; /&gt;\r\n         &lt;/vbarPolicy&gt;\r\n         &lt;LogView fx:id = &quot;logViewLog&quot; /&gt;\r\n      &lt;/ScrollPane&gt;\r\n\r\nBut I got this error:\r\n\r\n    Caused by: javafx.fxml.LoadException: ScrollBarPolicy is not a valid type.","title":"How to set vBarPolicy in ScrollPane ? JavaFX","body":"<p>I'm trying to set vertical scroll bar to be always visible.\nBut i want to do it, using only fxml. Currently I;m trying to do this, like this:</p>\n<pre><code>  &lt;ScrollPane fitToHeight = &quot;true&quot; fitToWidth = &quot;true&quot;&gt;\n     &lt;vbarPolicy&gt;\n        &lt;ScrollBarPolicy fx:constant = &quot;ALWAYS&quot; /&gt;\n     &lt;/vbarPolicy&gt;\n     &lt;LogView fx:id = &quot;logViewLog&quot; /&gt;\n  &lt;/ScrollPane&gt;\n</code></pre>\n<p>But I got this error:</p>\n<pre><code>Caused by: javafx.fxml.LoadException: ScrollBarPolicy is not a valid type.\n</code></pre>\n"},{"tags":["java","string","replace"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1646865964,"post_id":71416817,"comment_id":126232681,"body_markdown":"Please show your code.","body":"Please show your code."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1646866030,"post_id":71416817,"comment_id":126232692,"body_markdown":"Are you implementing your own List or SortedSet?  If not, then you don&#39;t control their toString implementations, so you&#39;ll have to use replace or some other means of manually switching the braces.","body":"Are you implementing your own List or SortedSet?  If not, then you don&#39;t control their toString implementations, so you&#39;ll have to use replace or some other means of manually switching the braces."},{"owner":{"account_id":23247258,"reputation":23,"user_id":17335664,"display_name":"Klaudio"},"score":0,"creation_date":1646866923,"post_id":71416817,"comment_id":126232863,"body_markdown":"I am using java.util&#39;s, my thought was to declare an inner class that would do that type of formatting and return it, but I don&#39;t know how to then later print that in the unit tests, since both methods have to return a List and a SortedSet, I also cannot use System.out.println() to directly print the List or SortedSet","body":"I am using java.util&#39;s, my thought was to declare an inner class that would do that type of formatting and return it, but I don&#39;t know how to then later print that in the unit tests, since both methods have to return a List and a SortedSet, I also cannot use System.out.println() to directly print the List or SortedSet"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1646867548,"post_id":71416817,"comment_id":126233016,"body_markdown":"Displaying a List as a String than is different to its `toString()` does **not** mean you must override `toString()` (although you could use aspect, but that would replace the impl for all instances and is the wrong solution anyway). You should write a method that accepts a List and returns the List rendered as a String.","body":"Displaying a List as a String than is different to its <code>toString()</code> does <b>not</b> mean you must override <code>toString()</code> (although you could use aspect, but that would replace the impl for all instances and is the wrong solution anyway). You should write a method that accepts a List and returns the List rendered as a String."},{"owner":{"account_id":23247258,"reputation":23,"user_id":17335664,"display_name":"Klaudio"},"score":0,"creation_date":1646868312,"post_id":71416817,"comment_id":126233159,"body_markdown":"I thought of that too, but my professor specified that both methods should return that format when called, which doesn&#39;t really make sense since that would make them not of type ```List&lt;E&gt;``` or ```SortedSet&lt;E&gt;```that&#39;s why I thought he might be asking for when ```toString()``` is used on the return type of those methods.","body":"I thought of that too, but my professor specified that both methods should return that format when called, which doesn&#39;t really make sense since that would make them not of type <code>List&lt;E&gt;</code> or <code>SortedSet&lt;E&gt;</code>that&#39;s why I thought he might be asking for when <code>toString()</code> is used on the return type of those methods."},{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1646868451,"post_id":71416817,"comment_id":126233188,"body_markdown":"If there is a requirement to use `toString()`, make each object with an anonymous inner class overriding `toString()`","body":"If there is a requirement to use <code>toString()</code>, make each object with an anonymous inner class overriding <code>toString()</code>"},{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1646868625,"post_id":71416817,"comment_id":126233217,"body_markdown":"I see your concern but doesn&#39;t the object have a `toString()` based on what kind of object it actually is, not the type your method returns?","body":"I see your concern but doesn&#39;t the object have a <code>toString()</code> based on what kind of object it actually is, not the type your method returns?"},{"owner":{"account_id":23247258,"reputation":23,"user_id":17335664,"display_name":"Klaudio"},"score":0,"creation_date":1646869013,"post_id":71416817,"comment_id":126233281,"body_markdown":"@clwhisk the object has its own ```toString()``` method, the only problem is when calling ```toString()``` on the ```List&lt;E&gt;``` and printing that to console it uses the original formatting for the parenthesis.","body":"@clwhisk the object has its own <code>toString()</code> method, the only problem is when calling <code>toString()</code> on the <code>List&lt;E&gt;</code> and printing that to console it uses the original formatting for the parenthesis."}],"answers":[{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646868625,"creation_date":1646868292,"answer_id":71417136,"question_id":71416817,"body_markdown":"I believe what you want is instanceof.  something like:\r\n\r\n    String makeString(Collection myCollection)\r\n    {\r\n        String stringedCollection = makeCommaSeparatedString(myCollection);\r\n        if(myCollection instanceof List)\r\n        {\r\n            // surround it with square brackets\r\n            return &quot;[&quot;+stringedCollection+&quot;]&quot;;\r\n        }\r\n        else if(myColleciton instanceof Set)\r\n        {\r\n            // surround with braces\r\n            return &quot;{&quot;+stringedCollection+&quot;}&quot;;\r\n        }\r\n\r\nThis isn&#39;t actually based on what was calling your function, but what was passed in.","title":"Can you replace char based on which method calls toString()","body":"<p>I believe what you want is instanceof.  something like:</p>\n<pre><code>String makeString(Collection myCollection)\n{\n    String stringedCollection = makeCommaSeparatedString(myCollection);\n    if(myCollection instanceof List)\n    {\n        // surround it with square brackets\n        return &quot;[&quot;+stringedCollection+&quot;]&quot;;\n    }\n    else if(myColleciton instanceof Set)\n    {\n        // surround with braces\n        return &quot;{&quot;+stringedCollection+&quot;}&quot;;\n    }\n</code></pre>\n<p>This isn't actually based on what was calling your function, but what was passed in.</p>\n"},{"tags":[],"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646869805,"creation_date":1646869805,"answer_id":71417312,"question_id":71416817,"body_markdown":"You say you&#39;ve tried anonymous inner classes but I&#39;ll put this proof of concept here for reference.\r\n\r\n    List&lt;Integer&gt; obj = new ArrayList&lt;Integer&gt;(){\r\n        public String toString(){\r\n            return &quot;{}&quot;;\r\n        }\r\n    };\r\n    System.out.println(obj);//{}","title":"Can you replace char based on which method calls toString()","body":"<p>You say you've tried anonymous inner classes but I'll put this proof of concept here for reference.</p>\n<pre><code>List&lt;Integer&gt; obj = new ArrayList&lt;Integer&gt;(){\n    public String toString(){\n        return &quot;{}&quot;;\n    }\n};\nSystem.out.println(obj);//{}\n</code></pre>\n"}],"owner":{"account_id":23247258,"reputation":23,"user_id":17335664,"display_name":"Klaudio"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71417312,"answer_count":2,"score":0,"last_activity_date":1646869805,"creation_date":1646865613,"question_id":71416817,"body_markdown":"I am quite confused because I have been given the task to display a ```List&lt;E&gt;``` with the format [E1,E2,E3] and a ```SortedSet&lt;E&gt;``` with the format {E1, E2, E3}, I have Overriden the toString method for my type of objects, but I do not know how to replace the squared braces with curly ones when the return type of the method I call ```toString()``` on is of type ```SortedSet&lt;E&gt;```, I know that I can use ```toString.replace()```, problem is I cannot use it on my unit tests, I&#39;m only allowed to call ```toString()``` in those, any idea is greatly appreciated. \r\n\r\nEdit, here&#39;s the code(I left it out intentionally before because it was in Italian on some points and I didn&#39;t want to confuse people more):\r\n```\r\npublic List&lt;Attrezzo&gt; getContenutoOrdinatoPerPeso(){\r\n\t\tList&lt;Attrezzo&gt; out=new ArrayList&lt;Attrezzo&gt;();\r\n\t\tout.addAll(this.attrezzi.values());\r\n\t\tout.sort(new ComparatorePrimaPesoPoiNome());\r\n\t\treturn out;\r\n\r\n\t}\r\n\tpublic SortedSet&lt;Attrezzo&gt; getContenutoOrdinatoPerNome(){\r\n\t\tSortedSet&lt;Attrezzo&gt; outAttrezzos= new TreeSet&lt;Attrezzo&gt;(new ComparatorePerNome());\r\n\t\toutAttrezzos.addAll(this.attrezzi.values());\r\n\t\treturn outAttrezzos;\r\n\t}\r\n```\r\nThis is what an example of a unit test would look like \r\n```\r\n@Test\r\npublic void testGetContenutoOrdinatoPerNome(){\r\nassertEquals(&quot;{E1, E2, E3}&quot;,this.borsa.getContenutoOrdinatoPerNome().toString);\r\n}\r\n```","title":"Can you replace char based on which method calls toString()","body":"<p>I am quite confused because I have been given the task to display a <code>List&lt;E&gt;</code> with the format [E1,E2,E3] and a <code>SortedSet&lt;E&gt;</code> with the format {E1, E2, E3}, I have Overriden the toString method for my type of objects, but I do not know how to replace the squared braces with curly ones when the return type of the method I call <code>toString()</code> on is of type <code>SortedSet&lt;E&gt;</code>, I know that I can use <code>toString.replace()</code>, problem is I cannot use it on my unit tests, I'm only allowed to call <code>toString()</code> in those, any idea is greatly appreciated.</p>\n<p>Edit, here's the code(I left it out intentionally before because it was in Italian on some points and I didn't want to confuse people more):</p>\n<pre><code>public List&lt;Attrezzo&gt; getContenutoOrdinatoPerPeso(){\n        List&lt;Attrezzo&gt; out=new ArrayList&lt;Attrezzo&gt;();\n        out.addAll(this.attrezzi.values());\n        out.sort(new ComparatorePrimaPesoPoiNome());\n        return out;\n\n    }\n    public SortedSet&lt;Attrezzo&gt; getContenutoOrdinatoPerNome(){\n        SortedSet&lt;Attrezzo&gt; outAttrezzos= new TreeSet&lt;Attrezzo&gt;(new ComparatorePerNome());\n        outAttrezzos.addAll(this.attrezzi.values());\n        return outAttrezzos;\n    }\n</code></pre>\n<p>This is what an example of a unit test would look like</p>\n<pre><code>@Test\npublic void testGetContenutoOrdinatoPerNome(){\nassertEquals(&quot;{E1, E2, E3}&quot;,this.borsa.getContenutoOrdinatoPerNome().toString);\n}\n</code></pre>\n"},{"tags":["java","multithreading","java-8","scheduledexecutorservice"],"comments":[{"owner":{"account_id":3150862,"reputation":11755,"user_id":2664350,"display_name":"piet.t"},"score":1,"creation_date":1646831387,"post_id":71409612,"comment_id":126220475,"body_markdown":"Have you checked that this is not an artifact produced by the logging framework/clock-function used to produce the messages together with the timestamps? You could try calling `System.nanoTime()` at task-start and log the value along with &quot;started QueueTask&quot;.","body":"Have you checked that this is not an artifact produced by the logging framework/clock-function used to produce the messages together with the timestamps? You could try calling <code>System.nanoTime()</code> at task-start and log the value along with &quot;started QueueTask&quot;."},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1646831495,"post_id":71409612,"comment_id":126220512,"body_markdown":"Suggest to add some identifier in the log to see what happened, like below\n            UUID id = UUID.randomUUID();\n            log.info(&quot;started QueueTask &quot; + id);\n            // ...your stuff\n            log.info(&quot;end QueueTask &quot; + id);","body":"Suggest to add some identifier in the log to see what happened, like below             UUID id = UUID.randomUUID();             log.info(&quot;started QueueTask &quot; + id);             // ...your stuff             log.info(&quot;end QueueTask &quot; + id);"},{"owner":{"account_id":15997752,"reputation":1131,"user_id":11545271,"display_name":"Noy Gafni"},"score":0,"creation_date":1646834045,"post_id":71409612,"comment_id":126221508,"body_markdown":"I updated the question and as you can see the logs represent different runs (different uuid) and the nanoseconds are not 10ms apart.","body":"I updated the question and as you can see the logs represent different runs (different uuid) and the nanoseconds are not 10ms apart."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1646834161,"post_id":71409612,"comment_id":126221560,"body_markdown":"Can you show `QueueTask`?","body":"Can you show <code>QueueTask</code>?"},{"owner":{"account_id":15997752,"reputation":1131,"user_id":11545271,"display_name":"Noy Gafni"},"score":0,"creation_date":1646834698,"post_id":71409612,"comment_id":126221778,"body_markdown":"It really doesn&#39;t matter because if the queue is empty it deonst do anything, and in the example I gave - the queue was empty. you can trust me that it takes most of the time less than 1 milliseconds","body":"It really doesn&#39;t matter because if the queue is empty it deonst do anything, and in the example I gave - the queue was empty. you can trust me that it takes most of the time less than 1 milliseconds"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1646836493,"post_id":71409612,"comment_id":126222556,"body_markdown":"Check the javadocs of ScheduledExecutorService : &quot;If any execution of this task takes longer than its period, then subsequent executions may start late, but will not concurrently execute.&quot;. You system can be under high load, or other high priority thread is taking the CPU, etc. You cannot guarantee the 10ms between each run.","body":"Check the javadocs of ScheduledExecutorService : &quot;If any execution of this task takes longer than its period, then subsequent executions may start late, but will not concurrently execute.&quot;. You system can be under high load, or other high priority thread is taking the CPU, etc. You cannot guarantee the 10ms between each run."},{"owner":{"account_id":15997752,"reputation":1131,"user_id":11545271,"display_name":"Noy Gafni"},"score":1,"creation_date":1646836819,"post_id":71409612,"comment_id":126222688,"body_markdown":"But my problem is that it execute too fast not too slow","body":"But my problem is that it execute too fast not too slow"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1646843727,"post_id":71409612,"comment_id":126225674,"body_markdown":"In addition, the granularity of the timer used might be greater than 10 milliseconds (e.g. if I&#39;m not mistaken, the default Windows timer resolution is ~16ms, though I believe in recent years Java was changed to request a higher resolution).","body":"In addition, the granularity of the timer used might be greater than 10 milliseconds (e.g. if I&#39;m not mistaken, the default Windows timer resolution is ~16ms, though I believe in recent years Java was changed to request a higher resolution)."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1646843872,"post_id":71409612,"comment_id":126225731,"body_markdown":"Perhaps you should post your code for `QueueTask` or similar to make an [MCVE](https://stackoverflow.com/help/mcve).","body":"Perhaps you should post your code for <code>QueueTask</code> or similar to make an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646843475,"creation_date":1646842204,"answer_id":71412471,"question_id":71409612,"body_markdown":"Note that `executorService.scheduleAtFixedRate()` as mentioned within the Java documentation will submit the task to the thread , and that doesn&#39;t mean that the thread will execute the task in the given time exactly.\r\n\r\nAlso you cannot guarantee the time of execution of the task, it can be more than 10 ms for the firsts tasks and then less than 10 ms.\r\n\r\nSo you will have every 10 ms a new task submitted to your single thread, the time of execution of those tasks is not fixed, and probably it is more or less than 10 ms, so the number of tasks within the task pool will be more than the tasks executed and your thread will try to print all of them and that&#39;s why you see that it print the same time there. The output is not guaranteed and you cannot expect it in your case, it depends also on your machine and your thread scheduler.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nJava documentation of the method `scheduleAtFixedRate`:\r\n&gt; Submits a periodic action that becomes enabled first after the given\r\n&gt; initial delay, and subsequently with the given period; that is,\r\n&gt; executions will commence after initialDelay, then initialDelay +\r\n&gt; period, then initialDelay + 2 * period, and so on.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XHVD3.png","title":"ScheduledExecutorService schedule at fixed rate not working as accurate as expected","body":"<p>Note that <code>executorService.scheduleAtFixedRate()</code> as mentioned within the Java documentation will submit the task to the thread , and that doesn't mean that the thread will execute the task in the given time exactly.</p>\n<p>Also you cannot guarantee the time of execution of the task, it can be more than 10 ms for the firsts tasks and then less than 10 ms.</p>\n<p>So you will have every 10 ms a new task submitted to your single thread, the time of execution of those tasks is not fixed, and probably it is more or less than 10 ms, so the number of tasks within the task pool will be more than the tasks executed and your thread will try to print all of them and that's why you see that it print the same time there. The output is not guaranteed and you cannot expect it in your case, it depends also on your machine and your thread scheduler.</p>\n<p><a href=\"https://i.stack.imgur.com/XHVD3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XHVD3.png\" alt=\"enter image description here\" /></a></p>\n<p>Java documentation of the method <code>scheduleAtFixedRate</code>:</p>\n<blockquote>\n<p>Submits a periodic action that becomes enabled first after the given\ninitial delay, and subsequently with the given period; that is,\nexecutions will commence after initialDelay, then initialDelay +\nperiod, then initialDelay + 2 * period, and so on.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646869698,"creation_date":1646869698,"answer_id":71417300,"question_id":71409612,"body_markdown":"# Short runs make up for long runs\r\n\r\nI built some code to experiment with the scheduling.\r\n\r\nWhat I am seeing is that some runs are too short (under 10ms) in order to make up for some runs that went too long (over 10ms). \r\n\r\nFor every 100 iterations I run, I get about half that are just under 10ms, and about half that over 10 ms, with the total average being very close to 10 ms. If 47 of 100 iterations run long, then 53 run short, for example. If 46 long, then 54 short, and so on. When perusing the results data, it seems the long-short runs are interleaved.\r\n\r\nThis result makes sense given the documentation for [`ScheduledExecutorService#scheduleAtFixedRate `][1]. If you ask for increments of 10 ms, the service strives to meet that target of every 10 ms since the start, *not* 10 ms since the last iteration completed. That striving involves compensating for long runs by shortening others.\r\n\r\nBut perhaps I am wrong. Either my code may be faulty, or my reasoning. Please correct me as needed.\r\n\r\n```java\r\npackage work.basil.threading;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.atomic.AtomicLong;\r\n\r\npublic class TenMs\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        // Setup experiment.\r\n        System.out.println( &quot;INFO - Demo start. &quot; + System.nanoTime() );\r\n        final int runDemoForMilliseconds = 1000;\r\n        final int iterationMillis = 10;\r\n        final int initialCapacity = ( runDemoForMilliseconds / iterationMillis ) + 2;\r\n        final AtomicLong momentOfExecution = new AtomicLong( System.nanoTime() );\r\n        record Moment( long then , long now , long elapsed )\r\n        {\r\n            @Override\r\n            public String toString ( )\r\n            {\r\n                return &quot;Moment[&quot; + String.join( &quot;|&quot; , &quot;then=&quot; , Long.toString( this.then ) , &quot;now=&quot; , Long.toString( this.now ) , &quot;elapsed=&quot; , Long.toString( this.elapsed ) ,\r\n                        &quot;elapsed ms = &quot; + TimeUnit.MILLISECONDS.convert( this.elapsed , TimeUnit.NANOSECONDS ) ) + &quot;]&quot;;\r\n            }\r\n        }\r\n        final List &lt; Moment &gt; moments = new ArrayList &lt;&gt;( initialCapacity );\r\n        final Runnable task = ( ) -&gt; {\r\n            long then = momentOfExecution.getAndSet( System.nanoTime() );\r\n            long now = momentOfExecution.get();\r\n            moments.add( new Moment( then , now , ( now - then ) ) );\r\n            //try { Thread.sleep( 5  ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n        };\r\n\r\n        // Run experiment.\r\n        final ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\r\n        ses.scheduleAtFixedRate( task , 0 , 10 , TimeUnit.MILLISECONDS );\r\n        //ses.scheduleWithFixedDelay( task , 0 , 10 , TimeUnit.MILLISECONDS );\r\n        try { Thread.sleep( runDemoForMilliseconds ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n        ses.shutdownNow();\r\n        try { ses.awaitTermination( runDemoForMilliseconds * 2 , TimeUnit.MILLISECONDS ); }catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n\r\n        // Analyze results of experiment.\r\n        moments.remove( 0 ); // Discard first run, as it involves the startup code&#39;s delay.\r\n        long averageElapsedNanos = ( long ) moments.stream().mapToLong( Moment :: elapsed ).average().orElse( - 666d );\r\n        long averageElapsedMillis = TimeUnit.MILLISECONDS.convert( averageElapsedNanos , TimeUnit.NANOSECONDS );\r\n        System.out.println( &quot;averageElapsedNanos = &quot; + averageElapsedNanos );\r\n        System.out.println( &quot;averageElapsedMillis = &quot; + averageElapsedMillis );\r\n\r\n        List &lt; Moment &gt; under10ms = moments.stream().filter( moment -&gt; moment.elapsed &lt; TimeUnit.NANOSECONDS.convert( 10 , TimeUnit.MILLISECONDS ) ).toList();\r\n        List &lt; Moment &gt; exactly10ms = moments.stream().filter( moment -&gt; moment.elapsed == TimeUnit.NANOSECONDS.convert( 10 , TimeUnit.MILLISECONDS ) ).toList();\r\n        List &lt; Moment &gt; over10ms = moments.stream().filter( moment -&gt; moment.elapsed &gt; TimeUnit.NANOSECONDS.convert( 10 , TimeUnit.MILLISECONDS ) ).toList();\r\n        System.out.println( under10ms.size() + &quot; under 10 ms: &quot; + under10ms );\r\n        System.out.println( exactly10ms.size() + &quot; exactly 10 ms: &quot; + exactly10ms );\r\n        System.out.println( over10ms.size() + &quot; over 10 ms: &quot; + over10ms );\r\n\r\n        System.out.println( &quot;moments.size() = &quot; + moments.size() );\r\n        System.out.println( &quot;moments = &quot; + moments );\r\n        System.out.println( &quot;INFO - Demo end. &quot; + System.nanoTime() );\r\n    }\r\n}\r\n```\r\n\r\nWhen run on a MacBook Pro (13-inch, M1, 2020), M1 Apple Silicon chip with 4 efficiency cores and 4 performance cores, and 16 gigs memory. Executed from IntelliJ 2022.1 EAP on Java 17.0.2. \r\n\r\n```none\r\nINFO - Demo start. 162867211907750\r\naverageElapsedNanos = 10009907\r\naverageElapsedMillis = 10\r\n54 under 10 ms: [Moment[then=|162867232777375|now=|162867242202833|elapsed=|9425458|elapsed ms = 9], Moment[then=|162867252876333|now=|162867262335291|elapsed=|9458958|elapsed ms = 9], Moment[then=|162867262335291|now=|162867270992458|elapsed=|8657167|elapsed ms = 8], Moment[then=|162867283166791|now=|162867292620625|elapsed=|9453834|elapsed ms = 9], Moment[then=|162867292620625|now=|162867301683791|elapsed=|9063166|elapsed ms = 9], Moment[then=|162867313011041|now=|162867322679541|elapsed=|9668500|elapsed ms = 9], Moment[then=|162867342782791|now=|162867352760333|elapsed=|9977542|elapsed ms = 9], Moment[then=|162867372793958|now=|162867382731083|elapsed=|9937125|elapsed ms = 9], Moment[then=|162867392778750|now=|162867402749458|elapsed=|9970708|elapsed ms = 9], Moment[then=|162867402749458|now=|162867412179000|elapsed=|9429542|elapsed ms = 9], Moment[then=|162867422922208|now=|162867432750083|elapsed=|9827875|elapsed ms = 9], Moment[then=|162867452829250|now=|162867462773791|elapsed=|9944541|elapsed ms = 9], Moment[then=|162867462773791|now=|162867472772250|elapsed=|9998459|elapsed ms = 9], Moment[then=|162867472772250|now=|162867482735583|elapsed=|9963333|elapsed ms = 9], Moment[then=|162867492755833|now=|162867502739958|elapsed=|9984125|elapsed ms = 9], Moment[then=|162867522892250|now=|162867532706291|elapsed=|9814041|elapsed ms = 9], Moment[then=|162867532706291|now=|162867542669250|elapsed=|9962959|elapsed ms = 9], Moment[then=|162867552836500|now=|162867562807916|elapsed=|9971416|elapsed ms = 9], Moment[then=|162867562807916|now=|162867572736458|elapsed=|9928542|elapsed ms = 9], Moment[then=|162867572736458|now=|162867581052458|elapsed=|8316000|elapsed ms = 8], Moment[then=|162867593213708|now=|162867601604291|elapsed=|8390583|elapsed ms = 8], Moment[then=|162867613152250|now=|162867622672250|elapsed=|9520000|elapsed ms = 9], Moment[then=|162867632754041|now=|162867642711791|elapsed=|9957750|elapsed ms = 9], Moment[then=|162867652745125|now=|162867660950750|elapsed=|8205625|elapsed ms = 8], Moment[then=|162867673205416|now=|162867682648458|elapsed=|9443042|elapsed ms = 9], Moment[then=|162867702750208|now=|162867712719166|elapsed=|9968958|elapsed ms = 9], Moment[then=|162867722770291|now=|162867732742083|elapsed=|9971792|elapsed ms = 9], Moment[then=|162867742745750|now=|162867752721166|elapsed=|9975416|elapsed ms = 9], Moment[then=|162867752721166|now=|162867762038083|elapsed=|9316917|elapsed ms = 9], Moment[then=|162867772938291|now=|162867782701208|elapsed=|9762917|elapsed ms = 9], Moment[then=|162867792819250|now=|162867802733958|elapsed=|9914708|elapsed ms = 9], Moment[then=|162867812754916|now=|162867822730166|elapsed=|9975250|elapsed ms = 9], Moment[then=|162867852834958|now=|162867862754000|elapsed=|9919042|elapsed ms = 9], Moment[then=|162867872797875|now=|162867882771166|elapsed=|9973291|elapsed ms = 9], Moment[then=|162867882771166|now=|162867892719333|elapsed=|9948167|elapsed ms = 9], Moment[then=|162867892719333|now=|162867901537291|elapsed=|8817958|elapsed ms = 8], Moment[then=|162867913086583|now=|162867922725166|elapsed=|9638583|elapsed ms = 9], Moment[then=|162867932766916|now=|162867942723708|elapsed=|9956792|elapsed ms = 9], Moment[then=|162867942723708|now=|162867950987166|elapsed=|8263458|elapsed ms = 8], Moment[then=|162867963205000|now=|162867972662291|elapsed=|9457291|elapsed ms = 9], Moment[then=|162868002963166|now=|162868011406875|elapsed=|8443709|elapsed ms = 8], Moment[then=|162868023188125|now=|162868031231500|elapsed=|8043375|elapsed ms = 8], Moment[then=|162868043275291|now=|162868052630166|elapsed=|9354875|elapsed ms = 9], Moment[then=|162868062829125|now=|162868072762000|elapsed=|9932875|elapsed ms = 9], Moment[then=|162868082837791|now=|162868092819500|elapsed=|9981709|elapsed ms = 9], Moment[then=|162868092819500|now=|162868102766750|elapsed=|9947250|elapsed ms = 9], Moment[then=|162868112903958|now=|162868121689041|elapsed=|8785083|elapsed ms = 8], Moment[then=|162868133048041|now=|162868142725875|elapsed=|9677834|elapsed ms = 9], Moment[then=|162868142725875|now=|162868151383958|elapsed=|8658083|elapsed ms = 8], Moment[then=|162868163148958|now=|162868172674750|elapsed=|9525792|elapsed ms = 9], Moment[then=|162868182812916|now=|162868192789250|elapsed=|9976334|elapsed ms = 9], Moment[then=|162868192789250|now=|162868202785916|elapsed=|9996666|elapsed ms = 9], Moment[then=|162868202785916|now=|162868212745625|elapsed=|9959709|elapsed ms = 9], Moment[then=|162868212745625|now=|162868222741375|elapsed=|9995750|elapsed ms = 9]]\r\n0 exactly 10 ms: []\r\n46 over 10 ms: [Moment[then=|162867221750666|now=|162867232777375|elapsed=|11026709|elapsed ms = 11], Moment[then=|162867242202833|now=|162867252876333|elapsed=|10673500|elapsed ms = 10], Moment[then=|162867270992458|now=|162867283166791|elapsed=|12174333|elapsed ms = 12], Moment[then=|162867301683791|now=|162867313011041|elapsed=|11327250|elapsed ms = 11], Moment[then=|162867322679541|now=|162867332759166|elapsed=|10079625|elapsed ms = 10], Moment[then=|162867332759166|now=|162867342782791|elapsed=|10023625|elapsed ms = 10], Moment[then=|162867352760333|now=|162867362760500|elapsed=|10000167|elapsed ms = 10], Moment[then=|162867362760500|now=|162867372793958|elapsed=|10033458|elapsed ms = 10], Moment[then=|162867382731083|now=|162867392778750|elapsed=|10047667|elapsed ms = 10], Moment[then=|162867412179000|now=|162867422922208|elapsed=|10743208|elapsed ms = 10], Moment[then=|162867432750083|now=|162867442783500|elapsed=|10033417|elapsed ms = 10], Moment[then=|162867442783500|now=|162867452829250|elapsed=|10045750|elapsed ms = 10], Moment[then=|162867482735583|now=|162867492755833|elapsed=|10020250|elapsed ms = 10], Moment[then=|162867502739958|now=|162867512789125|elapsed=|10049167|elapsed ms = 10], Moment[then=|162867512789125|now=|162867522892250|elapsed=|10103125|elapsed ms = 10], Moment[then=|162867542669250|now=|162867552836500|elapsed=|10167250|elapsed ms = 10], Moment[then=|162867581052458|now=|162867593213708|elapsed=|12161250|elapsed ms = 12], Moment[then=|162867601604291|now=|162867613152250|elapsed=|11547959|elapsed ms = 11], Moment[then=|162867622672250|now=|162867632754041|elapsed=|10081791|elapsed ms = 10], Moment[then=|162867642711791|now=|162867652745125|elapsed=|10033334|elapsed ms = 10], Moment[then=|162867660950750|now=|162867673205416|elapsed=|12254666|elapsed ms = 12], Moment[then=|162867682648458|now=|162867692740291|elapsed=|10091833|elapsed ms = 10], Moment[then=|162867692740291|now=|162867702750208|elapsed=|10009917|elapsed ms = 10], Moment[then=|162867712719166|now=|162867722770291|elapsed=|10051125|elapsed ms = 10], Moment[then=|162867732742083|now=|162867742745750|elapsed=|10003667|elapsed ms = 10], Moment[then=|162867762038083|now=|162867772938291|elapsed=|10900208|elapsed ms = 10], Moment[then=|162867782701208|now=|162867792819250|elapsed=|10118042|elapsed ms = 10], Moment[then=|162867802733958|now=|162867812754916|elapsed=|10020958|elapsed ms = 10], Moment[then=|162867822730166|now=|162867832762791|elapsed=|10032625|elapsed ms = 10], Moment[then=|162867832762791|now=|162867842782541|elapsed=|10019750|elapsed ms = 10], Moment[then=|162867842782541|now=|162867852834958|elapsed=|10052417|elapsed ms = 10], Moment[then=|162867862754000|now=|162867872797875|elapsed=|10043875|elapsed ms = 10], Moment[then=|162867901537291|now=|162867913086583|elapsed=|11549292|elapsed ms = 11], Moment[then=|162867922725166|now=|162867932766916|elapsed=|10041750|elapsed ms = 10], Moment[then=|162867950987166|now=|162867963205000|elapsed=|12217834|elapsed ms = 12], Moment[then=|162867972662291|now=|162867982797833|elapsed=|10135542|elapsed ms = 10], Moment[then=|162867982797833|now=|162867992885583|elapsed=|10087750|elapsed ms = 10], Moment[then=|162867992885583|now=|162868002963166|elapsed=|10077583|elapsed ms = 10], Moment[then=|162868011406875|now=|162868023188125|elapsed=|11781250|elapsed ms = 11], Moment[then=|162868031231500|now=|162868043275291|elapsed=|12043791|elapsed ms = 12], Moment[then=|162868052630166|now=|162868062829125|elapsed=|10198959|elapsed ms = 10], Moment[then=|162868072762000|now=|162868082837791|elapsed=|10075791|elapsed ms = 10], Moment[then=|162868102766750|now=|162868112903958|elapsed=|10137208|elapsed ms = 10], Moment[then=|162868121689041|now=|162868133048041|elapsed=|11359000|elapsed ms = 11], Moment[then=|162868151383958|now=|162868163148958|elapsed=|11765000|elapsed ms = 11], Moment[then=|162868172674750|now=|162868182812916|elapsed=|10138166|elapsed ms = 10]]\r\nmoments.size() = 100\r\nmoments = [Moment[then=|162867221750666|now=|162867232777375|elapsed=|11026709|elapsed ms = 11], Moment[then=|162867232777375|now=|162867242202833|elapsed=|9425458|elapsed ms = 9], Moment[then=|162867242202833|now=|162867252876333|elapsed=|10673500|elapsed ms = 10], Moment[then=|162867252876333|now=|162867262335291|elapsed=|9458958|elapsed ms = 9], Moment[then=|162867262335291|now=|162867270992458|elapsed=|8657167|elapsed ms = 8], Moment[then=|162867270992458|now=|162867283166791|elapsed=|12174333|elapsed ms = 12], Moment[then=|162867283166791|now=|162867292620625|elapsed=|9453834|elapsed ms = 9], Moment[then=|162867292620625|now=|162867301683791|elapsed=|9063166|elapsed ms = 9], Moment[then=|162867301683791|now=|162867313011041|elapsed=|11327250|elapsed ms = 11], Moment[then=|162867313011041|now=|162867322679541|elapsed=|9668500|elapsed ms = 9], Moment[then=|162867322679541|now=|162867332759166|elapsed=|10079625|elapsed ms = 10], Moment[then=|162867332759166|now=|162867342782791|elapsed=|10023625|elapsed ms = 10], Moment[then=|162867342782791|now=|162867352760333|elapsed=|9977542|elapsed ms = 9], Moment[then=|162867352760333|now=|162867362760500|elapsed=|10000167|elapsed ms = 10], Moment[then=|162867362760500|now=|162867372793958|elapsed=|10033458|elapsed ms = 10], Moment[then=|162867372793958|now=|162867382731083|elapsed=|9937125|elapsed ms = 9], Moment[then=|162867382731083|now=|162867392778750|elapsed=|10047667|elapsed ms = 10], Moment[then=|162867392778750|now=|162867402749458|elapsed=|9970708|elapsed ms = 9], Moment[then=|162867402749458|now=|162867412179000|elapsed=|9429542|elapsed ms = 9], Moment[then=|162867412179000|now=|162867422922208|elapsed=|10743208|elapsed ms = 10], Moment[then=|162867422922208|now=|162867432750083|elapsed=|9827875|elapsed ms = 9], Moment[then=|162867432750083|now=|162867442783500|elapsed=|10033417|elapsed ms = 10], Moment[then=|162867442783500|now=|162867452829250|elapsed=|10045750|elapsed ms = 10], Moment[then=|162867452829250|now=|162867462773791|elapsed=|9944541|elapsed ms = 9], Moment[then=|162867462773791|now=|162867472772250|elapsed=|9998459|elapsed ms = 9], Moment[then=|162867472772250|now=|162867482735583|elapsed=|9963333|elapsed ms = 9], Moment[then=|162867482735583|now=|162867492755833|elapsed=|10020250|elapsed ms = 10], Moment[then=|162867492755833|now=|162867502739958|elapsed=|9984125|elapsed ms = 9], Moment[then=|162867502739958|now=|162867512789125|elapsed=|10049167|elapsed ms = 10], Moment[then=|162867512789125|now=|162867522892250|elapsed=|10103125|elapsed ms = 10], Moment[then=|162867522892250|now=|162867532706291|elapsed=|9814041|elapsed ms = 9], Moment[then=|162867532706291|now=|162867542669250|elapsed=|9962959|elapsed ms = 9], Moment[then=|162867542669250|now=|162867552836500|elapsed=|10167250|elapsed ms = 10], Moment[then=|162867552836500|now=|162867562807916|elapsed=|9971416|elapsed ms = 9], Moment[then=|162867562807916|now=|162867572736458|elapsed=|9928542|elapsed ms = 9], Moment[then=|162867572736458|now=|162867581052458|elapsed=|8316000|elapsed ms = 8], Moment[then=|162867581052458|now=|162867593213708|elapsed=|12161250|elapsed ms = 12], Moment[then=|162867593213708|now=|162867601604291|elapsed=|8390583|elapsed ms = 8], Moment[then=|162867601604291|now=|162867613152250|elapsed=|11547959|elapsed ms = 11], Moment[then=|162867613152250|now=|162867622672250|elapsed=|9520000|elapsed ms = 9], Moment[then=|162867622672250|now=|162867632754041|elapsed=|10081791|elapsed ms = 10], Moment[then=|162867632754041|now=|162867642711791|elapsed=|9957750|elapsed ms = 9], Moment[then=|162867642711791|now=|162867652745125|elapsed=|10033334|elapsed ms = 10], Moment[then=|162867652745125|now=|162867660950750|elapsed=|8205625|elapsed ms = 8], Moment[then=|162867660950750|now=|162867673205416|elapsed=|12254666|elapsed ms = 12], Moment[then=|162867673205416|now=|162867682648458|elapsed=|9443042|elapsed ms = 9], Moment[then=|162867682648458|now=|162867692740291|elapsed=|10091833|elapsed ms = 10], Moment[then=|162867692740291|now=|162867702750208|elapsed=|10009917|elapsed ms = 10], Moment[then=|162867702750208|now=|162867712719166|elapsed=|9968958|elapsed ms = 9], Moment[then=|162867712719166|now=|162867722770291|elapsed=|10051125|elapsed ms = 10], Moment[then=|162867722770291|now=|162867732742083|elapsed=|9971792|elapsed ms = 9], Moment[then=|162867732742083|now=|162867742745750|elapsed=|10003667|elapsed ms = 10], Moment[then=|162867742745750|now=|162867752721166|elapsed=|9975416|elapsed ms = 9], Moment[then=|162867752721166|now=|162867762038083|elapsed=|9316917|elapsed ms = 9], Moment[then=|162867762038083|now=|162867772938291|elapsed=|10900208|elapsed ms = 10], Moment[then=|162867772938291|now=|162867782701208|elapsed=|9762917|elapsed ms = 9], Moment[then=|162867782701208|now=|162867792819250|elapsed=|10118042|elapsed ms = 10], Moment[then=|162867792819250|now=|162867802733958|elapsed=|9914708|elapsed ms = 9], Moment[then=|162867802733958|now=|162867812754916|elapsed=|10020958|elapsed ms = 10], Moment[then=|162867812754916|now=|162867822730166|elapsed=|9975250|elapsed ms = 9], Moment[then=|162867822730166|now=|162867832762791|elapsed=|10032625|elapsed ms = 10], Moment[then=|162867832762791|now=|162867842782541|elapsed=|10019750|elapsed ms = 10], Moment[then=|162867842782541|now=|162867852834958|elapsed=|10052417|elapsed ms = 10], Moment[then=|162867852834958|now=|162867862754000|elapsed=|9919042|elapsed ms = 9], Moment[then=|162867862754000|now=|162867872797875|elapsed=|10043875|elapsed ms = 10], Moment[then=|162867872797875|now=|162867882771166|elapsed=|9973291|elapsed ms = 9], Moment[then=|162867882771166|now=|162867892719333|elapsed=|9948167|elapsed ms = 9], Moment[then=|162867892719333|now=|162867901537291|elapsed=|8817958|elapsed ms = 8], Moment[then=|162867901537291|now=|162867913086583|elapsed=|11549292|elapsed ms = 11], Moment[then=|162867913086583|now=|162867922725166|elapsed=|9638583|elapsed ms = 9], Moment[then=|162867922725166|now=|162867932766916|elapsed=|10041750|elapsed ms = 10], Moment[then=|162867932766916|now=|162867942723708|elapsed=|9956792|elapsed ms = 9], Moment[then=|162867942723708|now=|162867950987166|elapsed=|8263458|elapsed ms = 8], Moment[then=|162867950987166|now=|162867963205000|elapsed=|12217834|elapsed ms = 12], Moment[then=|162867963205000|now=|162867972662291|elapsed=|9457291|elapsed ms = 9], Moment[then=|162867972662291|now=|162867982797833|elapsed=|10135542|elapsed ms = 10], Moment[then=|162867982797833|now=|162867992885583|elapsed=|10087750|elapsed ms = 10], Moment[then=|162867992885583|now=|162868002963166|elapsed=|10077583|elapsed ms = 10], Moment[then=|162868002963166|now=|162868011406875|elapsed=|8443709|elapsed ms = 8], Moment[then=|162868011406875|now=|162868023188125|elapsed=|11781250|elapsed ms = 11], Moment[then=|162868023188125|now=|162868031231500|elapsed=|8043375|elapsed ms = 8], Moment[then=|162868031231500|now=|162868043275291|elapsed=|12043791|elapsed ms = 12], Moment[then=|162868043275291|now=|162868052630166|elapsed=|9354875|elapsed ms = 9], Moment[then=|162868052630166|now=|162868062829125|elapsed=|10198959|elapsed ms = 10], Moment[then=|162868062829125|now=|162868072762000|elapsed=|9932875|elapsed ms = 9], Moment[then=|162868072762000|now=|162868082837791|elapsed=|10075791|elapsed ms = 10], Moment[then=|162868082837791|now=|162868092819500|elapsed=|9981709|elapsed ms = 9], Moment[then=|162868092819500|now=|162868102766750|elapsed=|9947250|elapsed ms = 9], Moment[then=|162868102766750|now=|162868112903958|elapsed=|10137208|elapsed ms = 10], Moment[then=|162868112903958|now=|162868121689041|elapsed=|8785083|elapsed ms = 8], Moment[then=|162868121689041|now=|162868133048041|elapsed=|11359000|elapsed ms = 11], Moment[then=|162868133048041|now=|162868142725875|elapsed=|9677834|elapsed ms = 9], Moment[then=|162868142725875|now=|162868151383958|elapsed=|8658083|elapsed ms = 8], Moment[then=|162868151383958|now=|162868163148958|elapsed=|11765000|elapsed ms = 11], Moment[then=|162868163148958|now=|162868172674750|elapsed=|9525792|elapsed ms = 9], Moment[then=|162868172674750|now=|162868182812916|elapsed=|10138166|elapsed ms = 10], Moment[then=|162868182812916|now=|162868192789250|elapsed=|9976334|elapsed ms = 9], Moment[then=|162868192789250|now=|162868202785916|elapsed=|9996666|elapsed ms = 9], Moment[then=|162868202785916|now=|162868212745625|elapsed=|9959709|elapsed ms = 9], Moment[then=|162868212745625|now=|162868222741375|elapsed=|9995750|elapsed ms = 9]]\r\nINFO - Demo end. 162868252016666\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)","title":"ScheduledExecutorService schedule at fixed rate not working as accurate as expected","body":"<h1>Short runs make up for long runs</h1>\n<p>I built some code to experiment with the scheduling.</p>\n<p>What I am seeing is that some runs are too short (under 10ms) in order to make up for some runs that went too long (over 10ms).</p>\n<p>For every 100 iterations I run, I get about half that are just under 10ms, and about half that over 10 ms, with the total average being very close to 10 ms. If 47 of 100 iterations run long, then 53 run short, for example. If 46 long, then 54 short, and so on. When perusing the results data, it seems the long-short runs are interleaved.</p>\n<p>This result makes sense given the documentation for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService#scheduleAtFixedRate </code></a>. If you ask for increments of 10 ms, the service strives to meet that target of every 10 ms since the start, <em>not</em> 10 ms since the last iteration completed. That striving involves compensating for long runs by shortening others.</p>\n<p>But perhaps I am wrong. Either my code may be faulty, or my reasoning. Please correct me as needed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.threading;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.atomic.AtomicLong;\n\npublic class TenMs\n{\n    public static void main ( String[] args )\n    {\n        // Setup experiment.\n        System.out.println( &quot;INFO - Demo start. &quot; + System.nanoTime() );\n        final int runDemoForMilliseconds = 1000;\n        final int iterationMillis = 10;\n        final int initialCapacity = ( runDemoForMilliseconds / iterationMillis ) + 2;\n        final AtomicLong momentOfExecution = new AtomicLong( System.nanoTime() );\n        record Moment( long then , long now , long elapsed )\n        {\n            @Override\n            public String toString ( )\n            {\n                return &quot;Moment[&quot; + String.join( &quot;|&quot; , &quot;then=&quot; , Long.toString( this.then ) , &quot;now=&quot; , Long.toString( this.now ) , &quot;elapsed=&quot; , Long.toString( this.elapsed ) ,\n                        &quot;elapsed ms = &quot; + TimeUnit.MILLISECONDS.convert( this.elapsed , TimeUnit.NANOSECONDS ) ) + &quot;]&quot;;\n            }\n        }\n        final List &lt; Moment &gt; moments = new ArrayList &lt;&gt;( initialCapacity );\n        final Runnable task = ( ) -&gt; {\n            long then = momentOfExecution.getAndSet( System.nanoTime() );\n            long now = momentOfExecution.get();\n            moments.add( new Moment( then , now , ( now - then ) ) );\n            //try { Thread.sleep( 5  ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n        };\n\n        // Run experiment.\n        final ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\n        ses.scheduleAtFixedRate( task , 0 , 10 , TimeUnit.MILLISECONDS );\n        //ses.scheduleWithFixedDelay( task , 0 , 10 , TimeUnit.MILLISECONDS );\n        try { Thread.sleep( runDemoForMilliseconds ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n        ses.shutdownNow();\n        try { ses.awaitTermination( runDemoForMilliseconds * 2 , TimeUnit.MILLISECONDS ); }catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n\n        // Analyze results of experiment.\n        moments.remove( 0 ); // Discard first run, as it involves the startup code's delay.\n        long averageElapsedNanos = ( long ) moments.stream().mapToLong( Moment :: elapsed ).average().orElse( - 666d );\n        long averageElapsedMillis = TimeUnit.MILLISECONDS.convert( averageElapsedNanos , TimeUnit.NANOSECONDS );\n        System.out.println( &quot;averageElapsedNanos = &quot; + averageElapsedNanos );\n        System.out.println( &quot;averageElapsedMillis = &quot; + averageElapsedMillis );\n\n        List &lt; Moment &gt; under10ms = moments.stream().filter( moment -&gt; moment.elapsed &lt; TimeUnit.NANOSECONDS.convert( 10 , TimeUnit.MILLISECONDS ) ).toList();\n        List &lt; Moment &gt; exactly10ms = moments.stream().filter( moment -&gt; moment.elapsed == TimeUnit.NANOSECONDS.convert( 10 , TimeUnit.MILLISECONDS ) ).toList();\n        List &lt; Moment &gt; over10ms = moments.stream().filter( moment -&gt; moment.elapsed &gt; TimeUnit.NANOSECONDS.convert( 10 , TimeUnit.MILLISECONDS ) ).toList();\n        System.out.println( under10ms.size() + &quot; under 10 ms: &quot; + under10ms );\n        System.out.println( exactly10ms.size() + &quot; exactly 10 ms: &quot; + exactly10ms );\n        System.out.println( over10ms.size() + &quot; over 10 ms: &quot; + over10ms );\n\n        System.out.println( &quot;moments.size() = &quot; + moments.size() );\n        System.out.println( &quot;moments = &quot; + moments );\n        System.out.println( &quot;INFO - Demo end. &quot; + System.nanoTime() );\n    }\n}\n</code></pre>\n<p>When run on a MacBook Pro (13-inch, M1, 2020), M1 Apple Silicon chip with 4 efficiency cores and 4 performance cores, and 16 gigs memory. Executed from IntelliJ 2022.1 EAP on Java 17.0.2.</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO - Demo start. 162867211907750\naverageElapsedNanos = 10009907\naverageElapsedMillis = 10\n54 under 10 ms: [Moment[then=|162867232777375|now=|162867242202833|elapsed=|9425458|elapsed ms = 9], Moment[then=|162867252876333|now=|162867262335291|elapsed=|9458958|elapsed ms = 9], Moment[then=|162867262335291|now=|162867270992458|elapsed=|8657167|elapsed ms = 8], Moment[then=|162867283166791|now=|162867292620625|elapsed=|9453834|elapsed ms = 9], Moment[then=|162867292620625|now=|162867301683791|elapsed=|9063166|elapsed ms = 9], Moment[then=|162867313011041|now=|162867322679541|elapsed=|9668500|elapsed ms = 9], Moment[then=|162867342782791|now=|162867352760333|elapsed=|9977542|elapsed ms = 9], Moment[then=|162867372793958|now=|162867382731083|elapsed=|9937125|elapsed ms = 9], Moment[then=|162867392778750|now=|162867402749458|elapsed=|9970708|elapsed ms = 9], Moment[then=|162867402749458|now=|162867412179000|elapsed=|9429542|elapsed ms = 9], Moment[then=|162867422922208|now=|162867432750083|elapsed=|9827875|elapsed ms = 9], Moment[then=|162867452829250|now=|162867462773791|elapsed=|9944541|elapsed ms = 9], Moment[then=|162867462773791|now=|162867472772250|elapsed=|9998459|elapsed ms = 9], Moment[then=|162867472772250|now=|162867482735583|elapsed=|9963333|elapsed ms = 9], Moment[then=|162867492755833|now=|162867502739958|elapsed=|9984125|elapsed ms = 9], Moment[then=|162867522892250|now=|162867532706291|elapsed=|9814041|elapsed ms = 9], Moment[then=|162867532706291|now=|162867542669250|elapsed=|9962959|elapsed ms = 9], Moment[then=|162867552836500|now=|162867562807916|elapsed=|9971416|elapsed ms = 9], Moment[then=|162867562807916|now=|162867572736458|elapsed=|9928542|elapsed ms = 9], Moment[then=|162867572736458|now=|162867581052458|elapsed=|8316000|elapsed ms = 8], Moment[then=|162867593213708|now=|162867601604291|elapsed=|8390583|elapsed ms = 8], Moment[then=|162867613152250|now=|162867622672250|elapsed=|9520000|elapsed ms = 9], Moment[then=|162867632754041|now=|162867642711791|elapsed=|9957750|elapsed ms = 9], Moment[then=|162867652745125|now=|162867660950750|elapsed=|8205625|elapsed ms = 8], Moment[then=|162867673205416|now=|162867682648458|elapsed=|9443042|elapsed ms = 9], Moment[then=|162867702750208|now=|162867712719166|elapsed=|9968958|elapsed ms = 9], Moment[then=|162867722770291|now=|162867732742083|elapsed=|9971792|elapsed ms = 9], Moment[then=|162867742745750|now=|162867752721166|elapsed=|9975416|elapsed ms = 9], Moment[then=|162867752721166|now=|162867762038083|elapsed=|9316917|elapsed ms = 9], Moment[then=|162867772938291|now=|162867782701208|elapsed=|9762917|elapsed ms = 9], Moment[then=|162867792819250|now=|162867802733958|elapsed=|9914708|elapsed ms = 9], Moment[then=|162867812754916|now=|162867822730166|elapsed=|9975250|elapsed ms = 9], Moment[then=|162867852834958|now=|162867862754000|elapsed=|9919042|elapsed ms = 9], Moment[then=|162867872797875|now=|162867882771166|elapsed=|9973291|elapsed ms = 9], Moment[then=|162867882771166|now=|162867892719333|elapsed=|9948167|elapsed ms = 9], Moment[then=|162867892719333|now=|162867901537291|elapsed=|8817958|elapsed ms = 8], Moment[then=|162867913086583|now=|162867922725166|elapsed=|9638583|elapsed ms = 9], Moment[then=|162867932766916|now=|162867942723708|elapsed=|9956792|elapsed ms = 9], Moment[then=|162867942723708|now=|162867950987166|elapsed=|8263458|elapsed ms = 8], Moment[then=|162867963205000|now=|162867972662291|elapsed=|9457291|elapsed ms = 9], Moment[then=|162868002963166|now=|162868011406875|elapsed=|8443709|elapsed ms = 8], Moment[then=|162868023188125|now=|162868031231500|elapsed=|8043375|elapsed ms = 8], Moment[then=|162868043275291|now=|162868052630166|elapsed=|9354875|elapsed ms = 9], Moment[then=|162868062829125|now=|162868072762000|elapsed=|9932875|elapsed ms = 9], Moment[then=|162868082837791|now=|162868092819500|elapsed=|9981709|elapsed ms = 9], Moment[then=|162868092819500|now=|162868102766750|elapsed=|9947250|elapsed ms = 9], Moment[then=|162868112903958|now=|162868121689041|elapsed=|8785083|elapsed ms = 8], Moment[then=|162868133048041|now=|162868142725875|elapsed=|9677834|elapsed ms = 9], Moment[then=|162868142725875|now=|162868151383958|elapsed=|8658083|elapsed ms = 8], Moment[then=|162868163148958|now=|162868172674750|elapsed=|9525792|elapsed ms = 9], Moment[then=|162868182812916|now=|162868192789250|elapsed=|9976334|elapsed ms = 9], Moment[then=|162868192789250|now=|162868202785916|elapsed=|9996666|elapsed ms = 9], Moment[then=|162868202785916|now=|162868212745625|elapsed=|9959709|elapsed ms = 9], Moment[then=|162868212745625|now=|162868222741375|elapsed=|9995750|elapsed ms = 9]]\n0 exactly 10 ms: []\n46 over 10 ms: [Moment[then=|162867221750666|now=|162867232777375|elapsed=|11026709|elapsed ms = 11], Moment[then=|162867242202833|now=|162867252876333|elapsed=|10673500|elapsed ms = 10], Moment[then=|162867270992458|now=|162867283166791|elapsed=|12174333|elapsed ms = 12], Moment[then=|162867301683791|now=|162867313011041|elapsed=|11327250|elapsed ms = 11], Moment[then=|162867322679541|now=|162867332759166|elapsed=|10079625|elapsed ms = 10], Moment[then=|162867332759166|now=|162867342782791|elapsed=|10023625|elapsed ms = 10], Moment[then=|162867352760333|now=|162867362760500|elapsed=|10000167|elapsed ms = 10], Moment[then=|162867362760500|now=|162867372793958|elapsed=|10033458|elapsed ms = 10], Moment[then=|162867382731083|now=|162867392778750|elapsed=|10047667|elapsed ms = 10], Moment[then=|162867412179000|now=|162867422922208|elapsed=|10743208|elapsed ms = 10], Moment[then=|162867432750083|now=|162867442783500|elapsed=|10033417|elapsed ms = 10], Moment[then=|162867442783500|now=|162867452829250|elapsed=|10045750|elapsed ms = 10], Moment[then=|162867482735583|now=|162867492755833|elapsed=|10020250|elapsed ms = 10], Moment[then=|162867502739958|now=|162867512789125|elapsed=|10049167|elapsed ms = 10], Moment[then=|162867512789125|now=|162867522892250|elapsed=|10103125|elapsed ms = 10], Moment[then=|162867542669250|now=|162867552836500|elapsed=|10167250|elapsed ms = 10], Moment[then=|162867581052458|now=|162867593213708|elapsed=|12161250|elapsed ms = 12], Moment[then=|162867601604291|now=|162867613152250|elapsed=|11547959|elapsed ms = 11], Moment[then=|162867622672250|now=|162867632754041|elapsed=|10081791|elapsed ms = 10], Moment[then=|162867642711791|now=|162867652745125|elapsed=|10033334|elapsed ms = 10], Moment[then=|162867660950750|now=|162867673205416|elapsed=|12254666|elapsed ms = 12], Moment[then=|162867682648458|now=|162867692740291|elapsed=|10091833|elapsed ms = 10], Moment[then=|162867692740291|now=|162867702750208|elapsed=|10009917|elapsed ms = 10], Moment[then=|162867712719166|now=|162867722770291|elapsed=|10051125|elapsed ms = 10], Moment[then=|162867732742083|now=|162867742745750|elapsed=|10003667|elapsed ms = 10], Moment[then=|162867762038083|now=|162867772938291|elapsed=|10900208|elapsed ms = 10], Moment[then=|162867782701208|now=|162867792819250|elapsed=|10118042|elapsed ms = 10], Moment[then=|162867802733958|now=|162867812754916|elapsed=|10020958|elapsed ms = 10], Moment[then=|162867822730166|now=|162867832762791|elapsed=|10032625|elapsed ms = 10], Moment[then=|162867832762791|now=|162867842782541|elapsed=|10019750|elapsed ms = 10], Moment[then=|162867842782541|now=|162867852834958|elapsed=|10052417|elapsed ms = 10], Moment[then=|162867862754000|now=|162867872797875|elapsed=|10043875|elapsed ms = 10], Moment[then=|162867901537291|now=|162867913086583|elapsed=|11549292|elapsed ms = 11], Moment[then=|162867922725166|now=|162867932766916|elapsed=|10041750|elapsed ms = 10], Moment[then=|162867950987166|now=|162867963205000|elapsed=|12217834|elapsed ms = 12], Moment[then=|162867972662291|now=|162867982797833|elapsed=|10135542|elapsed ms = 10], Moment[then=|162867982797833|now=|162867992885583|elapsed=|10087750|elapsed ms = 10], Moment[then=|162867992885583|now=|162868002963166|elapsed=|10077583|elapsed ms = 10], Moment[then=|162868011406875|now=|162868023188125|elapsed=|11781250|elapsed ms = 11], Moment[then=|162868031231500|now=|162868043275291|elapsed=|12043791|elapsed ms = 12], Moment[then=|162868052630166|now=|162868062829125|elapsed=|10198959|elapsed ms = 10], Moment[then=|162868072762000|now=|162868082837791|elapsed=|10075791|elapsed ms = 10], Moment[then=|162868102766750|now=|162868112903958|elapsed=|10137208|elapsed ms = 10], Moment[then=|162868121689041|now=|162868133048041|elapsed=|11359000|elapsed ms = 11], Moment[then=|162868151383958|now=|162868163148958|elapsed=|11765000|elapsed ms = 11], Moment[then=|162868172674750|now=|162868182812916|elapsed=|10138166|elapsed ms = 10]]\nmoments.size() = 100\nmoments = [Moment[then=|162867221750666|now=|162867232777375|elapsed=|11026709|elapsed ms = 11], Moment[then=|162867232777375|now=|162867242202833|elapsed=|9425458|elapsed ms = 9], Moment[then=|162867242202833|now=|162867252876333|elapsed=|10673500|elapsed ms = 10], Moment[then=|162867252876333|now=|162867262335291|elapsed=|9458958|elapsed ms = 9], Moment[then=|162867262335291|now=|162867270992458|elapsed=|8657167|elapsed ms = 8], Moment[then=|162867270992458|now=|162867283166791|elapsed=|12174333|elapsed ms = 12], Moment[then=|162867283166791|now=|162867292620625|elapsed=|9453834|elapsed ms = 9], Moment[then=|162867292620625|now=|162867301683791|elapsed=|9063166|elapsed ms = 9], Moment[then=|162867301683791|now=|162867313011041|elapsed=|11327250|elapsed ms = 11], Moment[then=|162867313011041|now=|162867322679541|elapsed=|9668500|elapsed ms = 9], Moment[then=|162867322679541|now=|162867332759166|elapsed=|10079625|elapsed ms = 10], Moment[then=|162867332759166|now=|162867342782791|elapsed=|10023625|elapsed ms = 10], Moment[then=|162867342782791|now=|162867352760333|elapsed=|9977542|elapsed ms = 9], Moment[then=|162867352760333|now=|162867362760500|elapsed=|10000167|elapsed ms = 10], Moment[then=|162867362760500|now=|162867372793958|elapsed=|10033458|elapsed ms = 10], Moment[then=|162867372793958|now=|162867382731083|elapsed=|9937125|elapsed ms = 9], Moment[then=|162867382731083|now=|162867392778750|elapsed=|10047667|elapsed ms = 10], Moment[then=|162867392778750|now=|162867402749458|elapsed=|9970708|elapsed ms = 9], Moment[then=|162867402749458|now=|162867412179000|elapsed=|9429542|elapsed ms = 9], Moment[then=|162867412179000|now=|162867422922208|elapsed=|10743208|elapsed ms = 10], Moment[then=|162867422922208|now=|162867432750083|elapsed=|9827875|elapsed ms = 9], Moment[then=|162867432750083|now=|162867442783500|elapsed=|10033417|elapsed ms = 10], Moment[then=|162867442783500|now=|162867452829250|elapsed=|10045750|elapsed ms = 10], Moment[then=|162867452829250|now=|162867462773791|elapsed=|9944541|elapsed ms = 9], Moment[then=|162867462773791|now=|162867472772250|elapsed=|9998459|elapsed ms = 9], Moment[then=|162867472772250|now=|162867482735583|elapsed=|9963333|elapsed ms = 9], Moment[then=|162867482735583|now=|162867492755833|elapsed=|10020250|elapsed ms = 10], Moment[then=|162867492755833|now=|162867502739958|elapsed=|9984125|elapsed ms = 9], Moment[then=|162867502739958|now=|162867512789125|elapsed=|10049167|elapsed ms = 10], Moment[then=|162867512789125|now=|162867522892250|elapsed=|10103125|elapsed ms = 10], Moment[then=|162867522892250|now=|162867532706291|elapsed=|9814041|elapsed ms = 9], Moment[then=|162867532706291|now=|162867542669250|elapsed=|9962959|elapsed ms = 9], Moment[then=|162867542669250|now=|162867552836500|elapsed=|10167250|elapsed ms = 10], Moment[then=|162867552836500|now=|162867562807916|elapsed=|9971416|elapsed ms = 9], Moment[then=|162867562807916|now=|162867572736458|elapsed=|9928542|elapsed ms = 9], Moment[then=|162867572736458|now=|162867581052458|elapsed=|8316000|elapsed ms = 8], Moment[then=|162867581052458|now=|162867593213708|elapsed=|12161250|elapsed ms = 12], Moment[then=|162867593213708|now=|162867601604291|elapsed=|8390583|elapsed ms = 8], Moment[then=|162867601604291|now=|162867613152250|elapsed=|11547959|elapsed ms = 11], Moment[then=|162867613152250|now=|162867622672250|elapsed=|9520000|elapsed ms = 9], Moment[then=|162867622672250|now=|162867632754041|elapsed=|10081791|elapsed ms = 10], Moment[then=|162867632754041|now=|162867642711791|elapsed=|9957750|elapsed ms = 9], Moment[then=|162867642711791|now=|162867652745125|elapsed=|10033334|elapsed ms = 10], Moment[then=|162867652745125|now=|162867660950750|elapsed=|8205625|elapsed ms = 8], Moment[then=|162867660950750|now=|162867673205416|elapsed=|12254666|elapsed ms = 12], Moment[then=|162867673205416|now=|162867682648458|elapsed=|9443042|elapsed ms = 9], Moment[then=|162867682648458|now=|162867692740291|elapsed=|10091833|elapsed ms = 10], Moment[then=|162867692740291|now=|162867702750208|elapsed=|10009917|elapsed ms = 10], Moment[then=|162867702750208|now=|162867712719166|elapsed=|9968958|elapsed ms = 9], Moment[then=|162867712719166|now=|162867722770291|elapsed=|10051125|elapsed ms = 10], Moment[then=|162867722770291|now=|162867732742083|elapsed=|9971792|elapsed ms = 9], Moment[then=|162867732742083|now=|162867742745750|elapsed=|10003667|elapsed ms = 10], Moment[then=|162867742745750|now=|162867752721166|elapsed=|9975416|elapsed ms = 9], Moment[then=|162867752721166|now=|162867762038083|elapsed=|9316917|elapsed ms = 9], Moment[then=|162867762038083|now=|162867772938291|elapsed=|10900208|elapsed ms = 10], Moment[then=|162867772938291|now=|162867782701208|elapsed=|9762917|elapsed ms = 9], Moment[then=|162867782701208|now=|162867792819250|elapsed=|10118042|elapsed ms = 10], Moment[then=|162867792819250|now=|162867802733958|elapsed=|9914708|elapsed ms = 9], Moment[then=|162867802733958|now=|162867812754916|elapsed=|10020958|elapsed ms = 10], Moment[then=|162867812754916|now=|162867822730166|elapsed=|9975250|elapsed ms = 9], Moment[then=|162867822730166|now=|162867832762791|elapsed=|10032625|elapsed ms = 10], Moment[then=|162867832762791|now=|162867842782541|elapsed=|10019750|elapsed ms = 10], Moment[then=|162867842782541|now=|162867852834958|elapsed=|10052417|elapsed ms = 10], Moment[then=|162867852834958|now=|162867862754000|elapsed=|9919042|elapsed ms = 9], Moment[then=|162867862754000|now=|162867872797875|elapsed=|10043875|elapsed ms = 10], Moment[then=|162867872797875|now=|162867882771166|elapsed=|9973291|elapsed ms = 9], Moment[then=|162867882771166|now=|162867892719333|elapsed=|9948167|elapsed ms = 9], Moment[then=|162867892719333|now=|162867901537291|elapsed=|8817958|elapsed ms = 8], Moment[then=|162867901537291|now=|162867913086583|elapsed=|11549292|elapsed ms = 11], Moment[then=|162867913086583|now=|162867922725166|elapsed=|9638583|elapsed ms = 9], Moment[then=|162867922725166|now=|162867932766916|elapsed=|10041750|elapsed ms = 10], Moment[then=|162867932766916|now=|162867942723708|elapsed=|9956792|elapsed ms = 9], Moment[then=|162867942723708|now=|162867950987166|elapsed=|8263458|elapsed ms = 8], Moment[then=|162867950987166|now=|162867963205000|elapsed=|12217834|elapsed ms = 12], Moment[then=|162867963205000|now=|162867972662291|elapsed=|9457291|elapsed ms = 9], Moment[then=|162867972662291|now=|162867982797833|elapsed=|10135542|elapsed ms = 10], Moment[then=|162867982797833|now=|162867992885583|elapsed=|10087750|elapsed ms = 10], Moment[then=|162867992885583|now=|162868002963166|elapsed=|10077583|elapsed ms = 10], Moment[then=|162868002963166|now=|162868011406875|elapsed=|8443709|elapsed ms = 8], Moment[then=|162868011406875|now=|162868023188125|elapsed=|11781250|elapsed ms = 11], Moment[then=|162868023188125|now=|162868031231500|elapsed=|8043375|elapsed ms = 8], Moment[then=|162868031231500|now=|162868043275291|elapsed=|12043791|elapsed ms = 12], Moment[then=|162868043275291|now=|162868052630166|elapsed=|9354875|elapsed ms = 9], Moment[then=|162868052630166|now=|162868062829125|elapsed=|10198959|elapsed ms = 10], Moment[then=|162868062829125|now=|162868072762000|elapsed=|9932875|elapsed ms = 9], Moment[then=|162868072762000|now=|162868082837791|elapsed=|10075791|elapsed ms = 10], Moment[then=|162868082837791|now=|162868092819500|elapsed=|9981709|elapsed ms = 9], Moment[then=|162868092819500|now=|162868102766750|elapsed=|9947250|elapsed ms = 9], Moment[then=|162868102766750|now=|162868112903958|elapsed=|10137208|elapsed ms = 10], Moment[then=|162868112903958|now=|162868121689041|elapsed=|8785083|elapsed ms = 8], Moment[then=|162868121689041|now=|162868133048041|elapsed=|11359000|elapsed ms = 11], Moment[then=|162868133048041|now=|162868142725875|elapsed=|9677834|elapsed ms = 9], Moment[then=|162868142725875|now=|162868151383958|elapsed=|8658083|elapsed ms = 8], Moment[then=|162868151383958|now=|162868163148958|elapsed=|11765000|elapsed ms = 11], Moment[then=|162868163148958|now=|162868172674750|elapsed=|9525792|elapsed ms = 9], Moment[then=|162868172674750|now=|162868182812916|elapsed=|10138166|elapsed ms = 10], Moment[then=|162868182812916|now=|162868192789250|elapsed=|9976334|elapsed ms = 9], Moment[then=|162868192789250|now=|162868202785916|elapsed=|9996666|elapsed ms = 9], Moment[then=|162868202785916|now=|162868212745625|elapsed=|9959709|elapsed ms = 9], Moment[then=|162868212745625|now=|162868222741375|elapsed=|9995750|elapsed ms = 9]]\nINFO - Demo end. 162868252016666\n</code></pre>\n"}],"owner":{"account_id":15997752,"reputation":1131,"user_id":11545271,"display_name":"Noy Gafni"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2742,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71412471,"answer_count":2,"score":2,"last_activity_date":1646869698,"creation_date":1646830068,"question_id":71409612,"body_markdown":"I have a Java project (Java 8) that should execute a task every 10ms. I use java `ScheduledExecutorService` to run the task:\r\n\r\n```java\r\nScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\r\nexecutorService.scheduleAtFixedRate(new QueueTask(), 0, 10, TimeUnit.MILLISECONDS);\r\n```\r\n\r\nThe `QueueTask` extends `Runnable` and polls from a queue - not taking more than 10ms. Every run of `QueueTask` I log &quot;started QueueTask&quot;.\r\n\r\nFor some reason according to the logs, the task is running at the same millisecond and I don&#39;t understand why. For example:\r\n\r\n```none\r\n2022-03-09 15:24:32.362 INFO 12536 --- [pool-1-thread-1] com.example.consumer.QueueTask      : started QueueTask, uuid: 40bf7e61-66f3-4869-b5f8-43b9cac8e203, nanoTime: 311179321467600\r\n2022-03-09 15:24:32.362 INFO 12536 --- [pool-1-thread-1] com.example.consumer.QueueTask      : started QueueTask, uuid: a63b814f-2016-4b1a-b17b-d870e4b38c64, nanoTime: 311179322025300\r\n2022-03-09 15:24:32.362 INFO 12536 --- [pool-1-thread-1] com.example.consumer.QueueTask      : started QueueTask, uuid: 17879b1f-96ed-4236-9902-ff98fc772b5a, nanoTime: 311179322376100\r\n```\r\n\r\nI don&#39;t understand how this is happening. I have one thread that is scheduled to run every 10ms and it runs at the same millisecond sometimes. By the way, it doesn&#39;t run exactly every 10ms, for my understanding it is impossible for the scheduler to be 100% accurate but it should not behave this way. I also tried using more than one thread in the thread pool but it didn&#39;t help.\r\n\r\nYou can see that the nanoseconds printed using `System.nanoTime()` is different between the logs, but the difference between the first and second logs is: `350800` nanoseconds which is `0.3508` milliseconds. So this means that the task is not running 10ms apart.","title":"ScheduledExecutorService schedule at fixed rate not working as accurate as expected","body":"<p>I have a Java project (Java 8) that should execute a task every 10ms. I use java <code>ScheduledExecutorService</code> to run the task:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\nexecutorService.scheduleAtFixedRate(new QueueTask(), 0, 10, TimeUnit.MILLISECONDS);\n</code></pre>\n<p>The <code>QueueTask</code> extends <code>Runnable</code> and polls from a queue - not taking more than 10ms. Every run of <code>QueueTask</code> I log &quot;started QueueTask&quot;.</p>\n<p>For some reason according to the logs, the task is running at the same millisecond and I don't understand why. For example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-03-09 15:24:32.362 INFO 12536 --- [pool-1-thread-1] com.example.consumer.QueueTask      : started QueueTask, uuid: 40bf7e61-66f3-4869-b5f8-43b9cac8e203, nanoTime: 311179321467600\n2022-03-09 15:24:32.362 INFO 12536 --- [pool-1-thread-1] com.example.consumer.QueueTask      : started QueueTask, uuid: a63b814f-2016-4b1a-b17b-d870e4b38c64, nanoTime: 311179322025300\n2022-03-09 15:24:32.362 INFO 12536 --- [pool-1-thread-1] com.example.consumer.QueueTask      : started QueueTask, uuid: 17879b1f-96ed-4236-9902-ff98fc772b5a, nanoTime: 311179322376100\n</code></pre>\n<p>I don't understand how this is happening. I have one thread that is scheduled to run every 10ms and it runs at the same millisecond sometimes. By the way, it doesn't run exactly every 10ms, for my understanding it is impossible for the scheduler to be 100% accurate but it should not behave this way. I also tried using more than one thread in the thread pool but it didn't help.</p>\n<p>You can see that the nanoseconds printed using <code>System.nanoTime()</code> is different between the logs, but the difference between the first and second logs is: <code>350800</code> nanoseconds which is <code>0.3508</code> milliseconds. So this means that the task is not running 10ms apart.</p>\n"},{"tags":["java","file","operating-system"],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646869442,"creation_date":1646869442,"answer_id":71417275,"question_id":71416859,"body_markdown":"This is discussed in the Javadoc for `FileLock`, specifically the section on &quot;Platform Dependencies&quot;.  \r\n\r\nThis is completely implementation defined, so you have to study the underlying OS to see if file locks are enforced. All you can be certain of is that any Java program will use the same underlying file locking mechanism, and that underlying mechanism defines the behavior. \r\n\r\nAlso, in most systems, file locking is collaborative, meaning everybody has to use the file locking mechanism to participate. Code that doesn&#39;t lock files may or may not get access to files locked by other processes. And of course, things get much more complex when you have networked filesystems, so &quot;your mileage WILL vary&quot;.\r\n","title":"Multiple application instances and FileLock","body":"<p>This is discussed in the Javadoc for <code>FileLock</code>, specifically the section on &quot;Platform Dependencies&quot;.</p>\n<p>This is completely implementation defined, so you have to study the underlying OS to see if file locks are enforced. All you can be certain of is that any Java program will use the same underlying file locking mechanism, and that underlying mechanism defines the behavior.</p>\n<p>Also, in most systems, file locking is collaborative, meaning everybody has to use the file locking mechanism to participate. Code that doesn't lock files may or may not get access to files locked by other processes. And of course, things get much more complex when you have networked filesystems, so &quot;your mileage WILL vary&quot;.</p>\n"}],"owner":{"account_id":20919261,"reputation":89,"user_id":15368273,"display_name":"Wiktor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1646869442,"creation_date":1646865946,"question_id":71416859,"body_markdown":"Will multiple instances of the same Java application respect file locks made by &#39;java.nio.channels.FileLock&#39; on the same OS? Let&#39;s say on the same computer or a server. (Java 17.0.2)","title":"Multiple application instances and FileLock","body":"<p>Will multiple instances of the same Java application respect file locks made by 'java.nio.channels.FileLock' on the same OS? Let's say on the same computer or a server. (Java 17.0.2)</p>\n"},{"tags":["java","oop","singleton","double-checked-locking"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646857833,"post_id":71415498,"comment_id":126230564,"body_markdown":"[How to make the perfect Singleton?](https://medium.com/@kevalpatel2106/how-to-make-the-perfect-singleton-de6b951dfdb0#:~:text=In%20eager%20initialization%2C%20the%20instance,want%20to%20create%20the%20Singleton.); [What is an efficient way to implement a singleton pattern in Java?](https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java); [Java Singleton Design Pattern Best Practices with Examples](https://www.journaldev.com/1377/java-singleton-design-pattern-best-practices-examples)","body":"<a href=\"https://medium.com/@kevalpatel2106/how-to-make-the-perfect-singleton-de6b951dfdb0#:~:text=In%20eager%20initialization%2C%20the%20instance,want%20to%20create%20the%20Singleton.\" rel=\"nofollow noreferrer\">How to make the perfect Singleton?</a>; <a href=\"https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java\">What is an efficient way to implement a singleton pattern in Java?</a>; <a href=\"https://www.journaldev.com/1377/java-singleton-design-pattern-best-practices-examples\" rel=\"nofollow noreferrer\">Java Singleton Design Pattern Best Practices with Examples</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646857896,"post_id":71415498,"comment_id":126230586,"body_markdown":"*&quot;What if I need to pass other classes to the constructor?&quot;* then I&#39;d think that a singleton approach is not the right one and you might consider something like dependency injection instead","body":"<i>&quot;What if I need to pass other classes to the constructor?&quot;</i> then I&#39;d think that a singleton approach is not the right one and you might consider something like dependency injection instead"},{"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"score":0,"creation_date":1646860501,"post_id":71415498,"comment_id":126231366,"body_markdown":"It&#39;s a big legacy project. I can not just change this approach to DI. I would love to, but then there would be no question","body":"It&#39;s a big legacy project. I can not just change this approach to DI. I would love to, but then there would be no question"}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646869009,"creation_date":1646866565,"answer_id":71416942,"question_id":71415498,"body_markdown":"There are multiple ways to fix this. The simplest one is to simply not use double-checked locking at all and `synchronize` the whole method instead. With early versions of the JVM, synchronizing the whole method was generally advised against for performance reasons. But `synchronized` performance has improved a lot in newer JVMs, so this is now a preferred solution. If you prefer to avoid using synchronized altogether, you can use an inner static class to hold the reference instead. Inner static classes are guaranteed to load lazily.\r\n\r\n**Solution 1. Synchronized method**&lt;br&gt;\r\n\r\n```java\r\npublic class Singletons {\r\n    private static UserService userService;\r\n\r\n    public static synchronized UserService getUserService() {\r\n        if (userService == null) {\r\n            userService = new UserService();\r\n        }\r\n        return userService;\r\n    }\r\n}\r\n```\r\n**Solution 2. Nested static class**&lt;br&gt;\r\nThe solution which you described, but split instances into several static inner classes. It will guarantee that each instance will be created on-demand. In your example, two instances will be created when you call one of them.\r\nClass initialization occurs the first time we use one of its methods or fields. Java Virtual Machine is responsible for taking care of synchronization and recursive initialization. See [documentation][1].\r\n\r\n```java\r\npublic class Singletons {\r\n    private static class UserServiceRef {\r\n        static final UserService userService = new UserService();\r\n    }\r\n\r\n    private static class OrderServiceRef {\r\n        static final OrderService orderService = new OrderService();\r\n    }\r\n\r\n    public static UserService getUserService() {\r\n        return UserServiceRef.userService;\r\n    }\r\n\r\n    public static OrderService getOrderService() {\r\n        return OrderServiceRef.orderService;\r\n    }\r\n} \r\n```\r\n\r\nAs for me **Solution 2** more preferable because it is not using `synchronized`. JWM is responsible for the synchronization and classes are guaranteed to load lazily.\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4.2","title":"How can I create the correct lazy singleton?","body":"<p>There are multiple ways to fix this. The simplest one is to simply not use double-checked locking at all and <code>synchronize</code> the whole method instead. With early versions of the JVM, synchronizing the whole method was generally advised against for performance reasons. But <code>synchronized</code> performance has improved a lot in newer JVMs, so this is now a preferred solution. If you prefer to avoid using synchronized altogether, you can use an inner static class to hold the reference instead. Inner static classes are guaranteed to load lazily.</p>\n<p><strong>Solution 1. Synchronized method</strong><br></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Singletons {\n    private static UserService userService;\n\n    public static synchronized UserService getUserService() {\n        if (userService == null) {\n            userService = new UserService();\n        }\n        return userService;\n    }\n}\n</code></pre>\n<p><strong>Solution 2. Nested static class</strong><br>\nThe solution which you described, but split instances into several static inner classes. It will guarantee that each instance will be created on-demand. In your example, two instances will be created when you call one of them.\nClass initialization occurs the first time we use one of its methods or fields. Java Virtual Machine is responsible for taking care of synchronization and recursive initialization. See <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4.2\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Singletons {\n    private static class UserServiceRef {\n        static final UserService userService = new UserService();\n    }\n\n    private static class OrderServiceRef {\n        static final OrderService orderService = new OrderService();\n    }\n\n    public static UserService getUserService() {\n        return UserServiceRef.userService;\n    }\n\n    public static OrderService getOrderService() {\n        return OrderServiceRef.orderService;\n    }\n} \n</code></pre>\n<p>As for me <strong>Solution 2</strong> more preferable because it is not using <code>synchronized</code>. JWM is responsible for the synchronization and classes are guaranteed to load lazily.</p>\n"}],"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646869009,"creation_date":1646857009,"question_id":71415498,"body_markdown":"I have this class\r\n\r\n    public class Singletons {\r\n        private static UserService userService;\r\n        private static OrderService orderService;\r\n    \r\n        public static UserService getUserService() {\r\n            if (userService == null) {\r\n                synchronized (Singletons.class) {\r\n                    if (userService == null)\r\n                        userService = new UserService();\r\n                }\r\n            }\r\n    \r\n            return userService;\r\n        }\r\n    \r\n        public static OrderService getOrderService() {\r\n            if (orderService == null) {\r\n                synchronized (Singletons.class) {\r\n                    if (orderService == null)\r\n                        orderService = new OrderService();\r\n                }\r\n            }\r\n    \r\n            return orderService;\r\n        }\r\n    }\r\n\r\nIntellij IDEA shows me this warrnig: \r\n\r\n&gt; Double-checked locking tries to initialize a field on demand and in a\r\n&gt; thread-safe manner while avoiding the cost of synchronization.\r\n&gt; Unfortunately it is not thread-safe when used on a field that is not\r\n&gt; declared volatile. When using Java 1.4 or earlier, double-checked\r\n&gt; locking doesn&#39;t work even with volatile fields. Read the article\r\n&gt; linked above for the detailed explanation of the problem.\r\n\r\nAnd this link: [The &quot;Double-Checked Locking is Broken&quot; Declaration][1]\r\n\r\n\r\nI read this article but I can not understand how I can fix my class. As I understood I can do the following:\r\n\r\n    public class Singletons {\r\n        private static volatile UserService userService;\r\n        private static volatile OrderService orderService;\r\n    \r\n        public static UserService getUserService() {\r\n            if (userService == null) {\r\n                synchronized (Singletons.class) {\r\n                    if (userService == null)\r\n                        userService = new UserService();\r\n                }\r\n            }\r\n    \r\n            return userService;\r\n        }\r\n    \r\n        public static OrderService getOrderService() {\r\n            if (orderService == null) {\r\n                synchronized (Singletons.class) {\r\n                    if (orderService == null)\r\n                        orderService = new OrderService();\r\n                }\r\n            }\r\n    \r\n            return orderService;\r\n        }\r\n    }\r\n\r\nIs this enough?(**EDDIT - I use java &gt; 1.4 so it is not for me**) Or the second approach might be like this:\r\n\r\n    public class Singletons {\r\n        private static final UserService userService = new UserService();\r\n        private static final OrderService orderService = new OrderService();\r\n    \r\n        public static UserService getUserService() {\r\n            return userService;\r\n        }\r\n    \r\n        public static OrderService getOrderService() {\r\n            return orderService;\r\n        }\r\n    }\r\n\r\nBut it looks strange. What if I need to pass other classes to the constructor? It looks wrong.\r\nMaybe this, like in this answer([StackOverflow answer][2]):\r\n\r\n    public class Singletons {\r\n        private static class Ref {\r\n            static final UserService userService = new UserService();\r\n            static final OrderService orderService = new OrderService();\r\n        }\r\n    \r\n        public static UserService getUserService() {\r\n            return Ref.userService;\r\n        }\r\n    \r\n        public static OrderService getOrderService() {\r\n            return Ref.orderService;\r\n        }\r\n    } \r\n\r\nBut it looks the same as the previous one. So How can I create the correct lazy singleton?\r\n\r\n\r\n  [1]: https://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html\r\n  [2]: https://stackoverflow.com/a/3578704/11926338","title":"How can I create the correct lazy singleton?","body":"<p>I have this class</p>\n<pre><code>public class Singletons {\n    private static UserService userService;\n    private static OrderService orderService;\n\n    public static UserService getUserService() {\n        if (userService == null) {\n            synchronized (Singletons.class) {\n                if (userService == null)\n                    userService = new UserService();\n            }\n        }\n\n        return userService;\n    }\n\n    public static OrderService getOrderService() {\n        if (orderService == null) {\n            synchronized (Singletons.class) {\n                if (orderService == null)\n                    orderService = new OrderService();\n            }\n        }\n\n        return orderService;\n    }\n}\n</code></pre>\n<p>Intellij IDEA shows me this warrnig:</p>\n<blockquote>\n<p>Double-checked locking tries to initialize a field on demand and in a\nthread-safe manner while avoiding the cost of synchronization.\nUnfortunately it is not thread-safe when used on a field that is not\ndeclared volatile. When using Java 1.4 or earlier, double-checked\nlocking doesn't work even with volatile fields. Read the article\nlinked above for the detailed explanation of the problem.</p>\n</blockquote>\n<p>And this link: <a href=\"https://www.cs.umd.edu/%7Epugh/java/memoryModel/DoubleCheckedLocking.html\" rel=\"nofollow noreferrer\">The &quot;Double-Checked Locking is Broken&quot; Declaration</a></p>\n<p>I read this article but I can not understand how I can fix my class. As I understood I can do the following:</p>\n<pre><code>public class Singletons {\n    private static volatile UserService userService;\n    private static volatile OrderService orderService;\n\n    public static UserService getUserService() {\n        if (userService == null) {\n            synchronized (Singletons.class) {\n                if (userService == null)\n                    userService = new UserService();\n            }\n        }\n\n        return userService;\n    }\n\n    public static OrderService getOrderService() {\n        if (orderService == null) {\n            synchronized (Singletons.class) {\n                if (orderService == null)\n                    orderService = new OrderService();\n            }\n        }\n\n        return orderService;\n    }\n}\n</code></pre>\n<p>Is this enough?(<strong>EDDIT - I use java &gt; 1.4 so it is not for me</strong>) Or the second approach might be like this:</p>\n<pre><code>public class Singletons {\n    private static final UserService userService = new UserService();\n    private static final OrderService orderService = new OrderService();\n\n    public static UserService getUserService() {\n        return userService;\n    }\n\n    public static OrderService getOrderService() {\n        return orderService;\n    }\n}\n</code></pre>\n<p>But it looks strange. What if I need to pass other classes to the constructor? It looks wrong.\nMaybe this, like in this answer(<a href=\"https://stackoverflow.com/a/3578704/11926338\">StackOverflow answer</a>):</p>\n<pre><code>public class Singletons {\n    private static class Ref {\n        static final UserService userService = new UserService();\n        static final OrderService orderService = new OrderService();\n    }\n\n    public static UserService getUserService() {\n        return Ref.userService;\n    }\n\n    public static OrderService getOrderService() {\n        return Ref.orderService;\n    }\n} \n</code></pre>\n<p>But it looks the same as the previous one. So How can I create the correct lazy singleton?</p>\n"},{"tags":["java","methods","boolean","tic-tac-toe"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1646864173,"post_id":71416570,"comment_id":126232332,"body_markdown":"Where are you calling the `isCrossWin(fields);` method within your code? It should look like `Boolean result = isCrossWin(fields);` and actually do something with the result variable, whereas currently you probably have `isCrossWin(fields);` without using the return variable","body":"Where are you calling the <code>isCrossWin(fields);</code> method within your code? It should look like <code>Boolean result = isCrossWin(fields);</code> and actually do something with the result variable, whereas currently you probably have <code>isCrossWin(fields);</code> without using the return variable"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":6,"creation_date":1646864390,"post_id":71416570,"comment_id":126232379,"body_markdown":"Unless you get very lucky (e.g. using interned Strings) your comparisons to &quot;X&quot; will fail.  You need to use `equals` to compare objects.","body":"Unless you get very lucky (e.g. using interned Strings) your comparisons to &quot;X&quot; will fail.  You need to use <code>equals</code> to compare objects."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646870529,"post_id":71416570,"comment_id":126233553,"body_markdown":"Because you are ignoring it *at the calling site.*","body":"Because you are ignoring it <i>at the calling site.</i>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1646916443,"post_id":71416570,"comment_id":126244922,"body_markdown":"Generally, don’t write code like `if(condition) { return true; } else { return false; }` Just write `return condition;`","body":"Generally, don’t write code like <code>if(condition) { return true; } else { return false; }</code> Just write <code>return condition;</code>"},{"owner":{"account_id":23713791,"reputation":11,"user_id":17757350,"display_name":"Kango Vince"},"score":0,"creation_date":1646943161,"post_id":71416570,"comment_id":126255199,"body_markdown":"@Holger, thank you for your reply. Can you please advice? If I use boolean method,that says: if (type Y) return true, else if (type N) return false, it underlines me in red? What if I need to choose between two options?","body":"@Holger, thank you for your reply. Can you please advice? If I use boolean method,that says: if (type Y) return true, else if (type N) return false, it underlines me in red? What if I need to choose between two options?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1646991140,"post_id":71416570,"comment_id":126265301,"body_markdown":"`if(condition1) return true; else if (condition2) return false;` is incomplete. It doesn’t say what should happen if neither condition is `true`. Depending on what should happen then, one of the conditions is obsolete. a) if `false` should be returned when both are `false`, the second condition is obsolete and you can just use `return condition1;` b) if `true` should be returned when both are `false`, the first condition is obsolete and you can just use `return !condition2;`","body":"<code>if(condition1) return true; else if (condition2) return false;</code> is incomplete. It doesn’t say what should happen if neither condition is <code>true</code>. Depending on what should happen then, one of the conditions is obsolete. a) if <code>false</code> should be returned when both are <code>false</code>, the second condition is obsolete and you can just use <code>return condition1;</code> b) if <code>true</code> should be returned when both are <code>false</code>, the first condition is obsolete and you can just use <code>return !condition2;</code>"}],"answers":[{"tags":[],"owner":{"account_id":22977171,"reputation":315,"user_id":17104620,"display_name":"Nicholas Zolton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646868708,"creation_date":1646865375,"answer_id":71416794,"question_id":71416570,"body_markdown":"There are two things to worry about with this code. The first, and more pertinent in my opinion, is dealing with the way you are checking the strings. In Java to compare two strings you MUST use `String#equals()` and not `==`.\r\n\r\nTo fix this you would have to go through and change every single \r\n```checkField[x] == &quot;X&quot;``` to ```checkField[x].equals(&quot;X&quot;);```\r\n\r\nThis may not have been an issue up to this point for you (there are cases where == will still work, but they are accidents of the implementation), you must fix this.\r\n\r\nNext, as far as not using the result goes, you need to look at how you are actually applying the method in the rest of your code. Some simple debugging tips you could use to see what is actually happening is either using a [debugger][1] or by simply adding print statements in both of the return cases. Either way, if the function actually isn&#39;t returning something, that would definitely be your best guess for finding out why.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/tools/windows/jdb.html","title":"Why does it say that return value of method is never used?","body":"<p>There are two things to worry about with this code. The first, and more pertinent in my opinion, is dealing with the way you are checking the strings. In Java to compare two strings you MUST use <code>String#equals()</code> and not <code>==</code>.</p>\n<p>To fix this you would have to go through and change every single\n<code>checkField[x] == &quot;X&quot;</code> to <code>checkField[x].equals(&quot;X&quot;);</code></p>\n<p>This may not have been an issue up to this point for you (there are cases where == will still work, but they are accidents of the implementation), you must fix this.</p>\n<p>Next, as far as not using the result goes, you need to look at how you are actually applying the method in the rest of your code. Some simple debugging tips you could use to see what is actually happening is either using a <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/jdb.html\" rel=\"nofollow noreferrer\">debugger</a> or by simply adding print statements in both of the return cases. Either way, if the function actually isn't returning something, that would definitely be your best guess for finding out why.</p>\n"}],"owner":{"account_id":23713791,"reputation":11,"user_id":17757350,"display_name":"Kango Vince"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646868708,"creation_date":1646863908,"question_id":71416570,"body_markdown":"Trying to make TicTacToe by myself. Making this method in order to check is Crosses win.\r\nBut it says that returned value never used.\r\nsout of checkField[9] is like this\r\n{0, 1, 2\r\n3, 4, 5\r\n6, 7, 8}\r\nSo it shall return true if you win and false if you don&#39;t.\r\nBut it doesn&#39;t.\r\n\r\n\r\n         static boolean isCrossWin(String[] checkField) {\r\n\r\n        if (\r\n                        checkField[0] == &quot;X&quot; &amp;&amp; checkField[4] == &quot;X&quot; &amp;&amp; checkField[8] == &quot;X&quot; ||\r\n                        checkField[3] == &quot;X&quot; &amp;&amp; checkField[4] == &quot;X&quot; &amp;&amp; checkField[5] == &quot;X&quot; ||\r\n                        checkField[6] == &quot;X&quot; &amp;&amp; checkField[4] == &quot;X&quot; &amp;&amp; checkField[2] == &quot;X&quot; ||\r\n                        checkField[7] == &quot;X&quot; &amp;&amp; checkField[4] == &quot;X&quot; &amp;&amp; checkField[1] == &quot;X&quot; ||\r\n                        checkField[0] == &quot;X&quot; &amp;&amp; checkField[3] == &quot;X&quot; &amp;&amp; checkField[6] == &quot;X&quot; ||\r\n                        checkField[6] == &quot;X&quot; &amp;&amp; checkField[7] == &quot;X&quot; &amp;&amp; checkField[8] == &quot;X&quot; ||\r\n                        checkField[8] == &quot;X&quot; &amp;&amp; checkField[5] == &quot;X&quot; &amp;&amp; checkField[2] == &quot;X&quot; ||\r\n                        checkField[0] == &quot;X&quot; &amp;&amp; checkField[1] == &quot;X&quot; &amp;&amp; checkField[2] == &quot;X&quot;\r\n        ) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }","title":"Why does it say that return value of method is never used?","body":"<p>Trying to make TicTacToe by myself. Making this method in order to check is Crosses win.\nBut it says that returned value never used.\nsout of checkField[9] is like this\n{0, 1, 2\n3, 4, 5\n6, 7, 8}\nSo it shall return true if you win and false if you don't.\nBut it doesn't.</p>\n<pre><code>     static boolean isCrossWin(String[] checkField) {\n\n    if (\n                    checkField[0] == &quot;X&quot; &amp;&amp; checkField[4] == &quot;X&quot; &amp;&amp; checkField[8] == &quot;X&quot; ||\n                    checkField[3] == &quot;X&quot; &amp;&amp; checkField[4] == &quot;X&quot; &amp;&amp; checkField[5] == &quot;X&quot; ||\n                    checkField[6] == &quot;X&quot; &amp;&amp; checkField[4] == &quot;X&quot; &amp;&amp; checkField[2] == &quot;X&quot; ||\n                    checkField[7] == &quot;X&quot; &amp;&amp; checkField[4] == &quot;X&quot; &amp;&amp; checkField[1] == &quot;X&quot; ||\n                    checkField[0] == &quot;X&quot; &amp;&amp; checkField[3] == &quot;X&quot; &amp;&amp; checkField[6] == &quot;X&quot; ||\n                    checkField[6] == &quot;X&quot; &amp;&amp; checkField[7] == &quot;X&quot; &amp;&amp; checkField[8] == &quot;X&quot; ||\n                    checkField[8] == &quot;X&quot; &amp;&amp; checkField[5] == &quot;X&quot; &amp;&amp; checkField[2] == &quot;X&quot; ||\n                    checkField[0] == &quot;X&quot; &amp;&amp; checkField[1] == &quot;X&quot; &amp;&amp; checkField[2] == &quot;X&quot;\n    ) {\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":395472,"reputation":12714,"user_id":758446,"accept_rate":93,"display_name":"BlackVegetable"},"score":1,"creation_date":1342815027,"post_id":11586299,"comment_id":15331679,"body_markdown":"Is it just numbers ending in 0, or does that third number cross some overflow boundary?","body":"Is it just numbers ending in 0, or does that third number cross some overflow boundary?"},{"owner":{"account_id":432102,"reputation":911,"user_id":816635,"accept_rate":0,"display_name":"lini sax"},"score":0,"creation_date":1342817153,"post_id":11586299,"comment_id":15332323,"body_markdown":"@BlackVegetable I only see this happening for numbers ending in 0. Other e.g. is \t163341520 -&gt; \t1.6334152E+8. A larger number (10 digit number not ending in 0) is processed perfectly fine.","body":"@BlackVegetable I only see this happening for numbers ending in 0. Other e.g. is \t163341520 -&gt; \t1.6334152E+8. A larger number (10 digit number not ending in 0) is processed perfectly fine."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1405712517,"post_id":11586299,"comment_id":38554397,"body_markdown":"If it&#39;s a JSON *string* (enclosed in quotes) it won&#39;t be converted to scientific notation.  And have you examined the actual Java object types?  How do you know the difference is not simply in how a `double` is printed, depending on its value?","body":"If it&#39;s a JSON <i>string</i> (enclosed in quotes) it won&#39;t be converted to scientific notation.  And have you examined the actual Java object types?  How do you know the difference is not simply in how a <code>double</code> is printed, depending on its value?"}],"answers":[{"tags":[],"owner":{"account_id":432102,"reputation":911,"user_id":816635,"accept_rate":0,"display_name":"lini sax"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1343094554,"creation_date":1343094554,"answer_id":11623006,"question_id":11586299,"body_markdown":"I did not find a solution to my problem of gson formatting numbers ending in 0 to scientific notation. I instead used a work-around to convert this scientific notation into a double that I formatted with commas. &quot;value&quot; is the json string.\r\n\r\n      private String formatNumber(String value) { \r\n        double dValue = Double.parseDouble(value);\r\n\t\tString pattern = &quot;#,###&quot;;\r\n\t\tDecimalFormat formatter = new DecimalFormat(pattern);\r\n\t\tString newNumber = formatter.format(dValue);\r\n\t\t\r\n                return newNumber;\r\n    }\r\nThis doesn&#39;t answer the question asked but is an added step to work-around the problem to display the numbers as required by the system.","title":"How to prevent Gson from converting a long number (a json string ) to scientific notation format?","body":"<p>I did not find a solution to my problem of gson formatting numbers ending in 0 to scientific notation. I instead used a work-around to convert this scientific notation into a double that I formatted with commas. \"value\" is the json string.</p>\n\n<pre><code>  private String formatNumber(String value) { \n    double dValue = Double.parseDouble(value);\n    String pattern = \"#,###\";\n    DecimalFormat formatter = new DecimalFormat(pattern);\n    String newNumber = formatter.format(dValue);\n\n            return newNumber;\n}\n</code></pre>\n\n<p>This doesn't answer the question asked but is an added step to work-around the problem to display the numbers as required by the system.</p>\n"},{"tags":[],"owner":{"account_id":2142929,"reputation":189,"user_id":1901179,"display_name":"melbyts"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1358377843,"creation_date":1358377843,"answer_id":14369566,"question_id":11586299,"body_markdown":"Another work around is to use the JsonParser class instead. This will return the Gson object representations (JsonElement) rather than a user defined class, but avoids the problem of conversion to scientific notation.\r\n\r\n    import java.lang.reflect.Type;\r\n    import java.util.Map;\r\n    \r\n    import com.google.gson.Gson;\r\n    import com.google.gson.JsonElement;\r\n    import com.google.gson.JsonParser;\r\n    import com.google.gson.reflect.TypeToken;\r\n    \r\n    public class GsonTest\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tString json = &quot;{numbers:[268627104,485677888,506884800]}&quot;;\r\n    \t\t\r\n    \t\tGson gson = new Gson();\r\n    \t\tType type = new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType();\r\n    \t\tMap&lt;String, Object&gt; jsonMap = gson.fromJson(json, type);\r\n    \t\tSystem.out.println(&quot;Gson output:&quot;);\r\n    \t\tSystem.out.println(jsonMap);\r\n    \t\t\r\n    \t\tJsonParser jsonParser = new JsonParser();\r\n    \t\tJsonElement jsonElement = jsonParser.parse(json);\r\n    \t\tSystem.out.println(&quot;JsonParser output:&quot;);\r\n    \t\tSystem.out.println(jsonElement);\r\n    \t}\r\n    }\r\n\r\nCode Output:\r\n\r\n    Gson output:  \r\n    {numbers=[2.68627104E8, 4.85677888E8, 5.068848E8]}  \r\n    JsonParser output:  \r\n    {&quot;numbers&quot;:[268627104,485677888,506884800]}","title":"How to prevent Gson from converting a long number (a json string ) to scientific notation format?","body":"<p>Another work around is to use the JsonParser class instead. This will return the Gson object representations (JsonElement) rather than a user defined class, but avoids the problem of conversion to scientific notation.</p>\n\n<pre><code>import java.lang.reflect.Type;\nimport java.util.Map;\n\nimport com.google.gson.Gson;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonParser;\nimport com.google.gson.reflect.TypeToken;\n\npublic class GsonTest\n{\n    public static void main(String[] args)\n    {\n        String json = \"{numbers:[268627104,485677888,506884800]}\";\n\n        Gson gson = new Gson();\n        Type type = new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType();\n        Map&lt;String, Object&gt; jsonMap = gson.fromJson(json, type);\n        System.out.println(\"Gson output:\");\n        System.out.println(jsonMap);\n\n        JsonParser jsonParser = new JsonParser();\n        JsonElement jsonElement = jsonParser.parse(json);\n        System.out.println(\"JsonParser output:\");\n        System.out.println(jsonElement);\n    }\n}\n</code></pre>\n\n<p>Code Output:</p>\n\n<pre><code>Gson output:  \n{numbers=[2.68627104E8, 4.85677888E8, 5.068848E8]}  \nJsonParser output:  \n{\"numbers\":[268627104,485677888,506884800]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1030,"reputation":26097,"user_id":1366,"accept_rate":96,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1405712056,"creation_date":1399333450,"answer_id":23483692,"question_id":11586299,"body_markdown":"If serializing to a String is an option for you, you can configure GSON to do so with:\r\n\r\n\tGsonBuilder gsonBuilder = new GsonBuilder();\r\n\tgsonBuilder.setLongSerializationPolicy( LongSerializationPolicy.STRING );\r\n\tGson gson = gsonBuilder.create();\r\n\r\nThis will produce something like:\r\n\r\n\t{numbers : [ &quot;268627104&quot;, &quot;485677888&quot;, &quot;506884800&quot; ] }","title":"How to prevent Gson from converting a long number (a json string ) to scientific notation format?","body":"<p>If serializing to a String is an option for you, you can configure GSON to do so with:</p>\n\n<pre><code>GsonBuilder gsonBuilder = new GsonBuilder();\ngsonBuilder.setLongSerializationPolicy( LongSerializationPolicy.STRING );\nGson gson = gsonBuilder.create();\n</code></pre>\n\n<p>This will produce something like:</p>\n\n<pre><code>{numbers : [ \"268627104\", \"485677888\", \"506884800\" ] }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60183,"reputation":4029,"user_id":179864,"accept_rate":67,"display_name":"aditsu quit because SE is EVIL"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1491914177,"creation_date":1491914177,"answer_id":43346123,"question_id":11586299,"body_markdown":"I had a similar problem, and it not only converts integers to double, but it actually loses precision for certain long numbers, as described in this [related question][1].\r\n\r\nI tracked down this conversion to `ObjectTypeAdapter`&#39;s `read` method, specifically:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    case NUMBER:\r\n      return in.nextDouble();\r\n\r\nIt may be possible to plug in a modified `TypeAdapter` for `Object`, but I couldn&#39;t get that to work, so instead I just copied the `read` method (`Object read(JsonReader in)`) to my own code and modified the above lines to this:\r\n\r\n\tcase NUMBER:\r\n\t\tfinal String s = in.nextString();\r\n\t\ttry {\r\n\t\t\treturn Integer.parseInt(s);\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\t// ignore\r\n\t\t}\r\n\t\ttry {\r\n\t\t\treturn Long.parseLong(s);\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\t// ignore\r\n\t\t}\r\n\t\treturn Double.parseDouble(s);\r\n\r\nI wish Gson did this by default..\r\n\r\nThen I put the other connecting pieces in a helper method that looks something like this:\r\n\r\n    public static Object parse(final Reader r) {\r\n    \ttry (final JsonReader jr = new JsonReader(r)) {\r\n    \t\tjr.setLenient(true);\r\n    \t\tboolean empty = true;\r\n    \t\tObject o = null;\r\n    \t\ttry {\r\n    \t\t\tjr.peek();\r\n    \t\t\tempty = false;\r\n    \t\t\to = read(jr);\r\n    \t\t} catch (EOFException e) {\r\n    \t\t\tif (!empty) {\r\n    \t\t\t\tthrow new JsonSyntaxException(e);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (o != null &amp;&amp; jr.peek() != JsonToken.END_DOCUMENT) {\r\n    \t\t\tthrow new JsonIOException(&quot;JSON document was not fully consumed.&quot;);\r\n    \t\t}\r\n    \t\treturn o;\r\n    \t} catch (IOException e) {\r\n    \t\tthrow new JsonIOException(e);\r\n    \t}\r\n    }\r\n\r\nSo now instead of `new Gson().fromJson(r, Object.class)`, I call `parse(r)`.\r\n\r\nThis works well for me because I want to be able to parse json data with any structure, but if you have a particular class you&#39;re targeting, you probably just need to eliminate occurrences of `Object` within that class&#39;s members.\r\n\r\n  [1]: https://stackoverflow.com/q/17695242/179864\r\n\r\n","title":"How to prevent Gson from converting a long number (a json string ) to scientific notation format?","body":"<p>I had a similar problem, and it not only converts integers to double, but it actually loses precision for certain long numbers, as described in this <a href=\"https://stackoverflow.com/q/17695242/179864\">related question</a>.</p>\n\n<p>I tracked down this conversion to <code>ObjectTypeAdapter</code>'s <code>read</code> method, specifically:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>case NUMBER:\n  return in.nextDouble();\n</code></pre>\n\n<p>It may be possible to plug in a modified <code>TypeAdapter</code> for <code>Object</code>, but I couldn't get that to work, so instead I just copied the <code>read</code> method (<code>Object read(JsonReader in)</code>) to my own code and modified the above lines to this:</p>\n\n<pre><code>case NUMBER:\n    final String s = in.nextString();\n    try {\n        return Integer.parseInt(s);\n    } catch (NumberFormatException e) {\n        // ignore\n    }\n    try {\n        return Long.parseLong(s);\n    } catch (NumberFormatException e) {\n        // ignore\n    }\n    return Double.parseDouble(s);\n</code></pre>\n\n<p>I wish Gson did this by default..</p>\n\n<p>Then I put the other connecting pieces in a helper method that looks something like this:</p>\n\n<pre><code>public static Object parse(final Reader r) {\n    try (final JsonReader jr = new JsonReader(r)) {\n        jr.setLenient(true);\n        boolean empty = true;\n        Object o = null;\n        try {\n            jr.peek();\n            empty = false;\n            o = read(jr);\n        } catch (EOFException e) {\n            if (!empty) {\n                throw new JsonSyntaxException(e);\n            }\n        }\n        if (o != null &amp;&amp; jr.peek() != JsonToken.END_DOCUMENT) {\n            throw new JsonIOException(\"JSON document was not fully consumed.\");\n        }\n        return o;\n    } catch (IOException e) {\n        throw new JsonIOException(e);\n    }\n}\n</code></pre>\n\n<p>So now instead of <code>new Gson().fromJson(r, Object.class)</code>, I call <code>parse(r)</code>.</p>\n\n<p>This works well for me because I want to be able to parse json data with any structure, but if you have a particular class you're targeting, you probably just need to eliminate occurrences of <code>Object</code> within that class's members.</p>\n"},{"tags":[],"owner":{"account_id":12209472,"reputation":31,"user_id":8911627,"display_name":"zzcron toby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511950203,"creation_date":1511947751,"answer_id":47549271,"question_id":11586299,"body_markdown":"Not smart, but still working method is to add &quot; at the start and at the end of the number. Then after processing is finished, delete it.","title":"How to prevent Gson from converting a long number (a json string ) to scientific notation format?","body":"<p>Not smart, but still working method is to add \" at the start and at the end of the number. Then after processing is finished, delete it.</p>\n"},{"tags":[],"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1515781465,"creation_date":1515777130,"answer_id":48230990,"question_id":11586299,"body_markdown":"Got the same issue, after some investigation here is what I found.\r\n\r\n**The behavior:**\r\n\r\n - Gson  \r\nFor a number without fractional part, `Gson` would convert it as `Double`,\r\n - Jackson  \r\nFor a number without fractional part, `Jackson` would convert it as `Integer` or `Long`, depends on how large the number is.\r\n\r\n**Possible solutions:**\r\n\r\n - Convert `Gson`&#39;s return value from `Double` to `Long`, explicitly.\r\n - Use `Jackson` instead.  \r\nI prefer this.\r\n\r\n---\r\n**Code - test for `Jackson`**\r\n\r\n**ParseNumberTest.java:**\r\n\r\n\timport java.util.List;\r\n\r\n\timport org.testng.Assert;\r\n\timport org.testng.annotations.Test;\r\n\r\n\timport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n\t/**\r\n\t * test - jackson parse numbers,\r\n\t * \r\n\t * @author eric\r\n\t * @date Jan 13, 2018 12:28:36 AM\r\n\t */\r\n\tpublic class ParseNumberTest {\r\n\t    @Test\r\n\t    public void test() throws Exception {\r\n\t\tString jsonFn = &quot;numbers.json&quot;;\r\n\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\r\n\t\tDummyData dd = mapper.readValue(this.getClass().getResourceAsStream(jsonFn), DummyData.class);\r\n\t\tfor (Object data : dd.dataList) {\r\n\t\t    System.out.printf(&quot;data type: %s, value: %s\\n&quot;, data.getClass().getName(), data.toString());\r\n\t\t    Assert.assertTrue(data.getClass() == Double.class || data.getClass() == Long.class || data.getClass() == Integer.class);\r\n\r\n\t\t    System.out.printf(&quot;%s\\n\\n&quot;, &quot;------------&quot;);\r\n\t\t}\r\n\t    }\r\n\r\n\t    static class DummyData {\r\n\t\tList&lt;Object&gt; dataList;\r\n\r\n\t\tpublic List&lt;Object&gt; getDataList() {\r\n\t\t    return dataList;\r\n\t\t}\r\n\r\n\t\tpublic void setDataList(List&lt;Object&gt; dataList) {\r\n\t\t    this.dataList = dataList;\r\n\t\t}\r\n\t    }\r\n\t}\r\n\r\n**numbers.json:**\r\n\r\n\t{\r\n\t\t&quot;dataList&quot;: [\r\n\t\t\t150000000000,\r\n\t\t\t150778742934,\r\n\t\t\t150000,\r\n\t\t\t150000.0\r\n\t\t]\r\n\t}\r\n\r\n**How to run:**  \r\n\r\n - The test case is based on `Jackson` &amp; `TestNG`.\r\n - Put `numbers.json` at the same package as `ParseNumberTest.java`.\r\n - Run as testng test, then it would print type &amp; value of the parse result.\r\n\r\n**Output:**\r\n\r\n\tdata type: java.lang.Long, value: 150000000000\r\n\t------------\r\n\r\n\tdata type: java.lang.Long, value: 150778742934\r\n\t------------\r\n\r\n\tdata type: java.lang.Integer, value: 150000\r\n\t------------\r\n\r\n\tdata type: java.lang.Double, value: 150000.0\r\n\t------------\r\n\r\n\tPASSED: test\r\n","title":"How to prevent Gson from converting a long number (a json string ) to scientific notation format?","body":"<p>Got the same issue, after some investigation here is what I found.</p>\n\n<p><strong>The behavior:</strong></p>\n\n<ul>\n<li>Gson<br>\nFor a number without fractional part, <code>Gson</code> would convert it as <code>Double</code>,</li>\n<li>Jackson<br>\nFor a number without fractional part, <code>Jackson</code> would convert it as <code>Integer</code> or <code>Long</code>, depends on how large the number is.</li>\n</ul>\n\n<p><strong>Possible solutions:</strong></p>\n\n<ul>\n<li>Convert <code>Gson</code>'s return value from <code>Double</code> to <code>Long</code>, explicitly.</li>\n<li>Use <code>Jackson</code> instead.<br>\nI prefer this.</li>\n</ul>\n\n<hr>\n\n<p><strong>Code - test for <code>Jackson</code></strong></p>\n\n<p><strong>ParseNumberTest.java:</strong></p>\n\n<pre><code>import java.util.List;\n\nimport org.testng.Assert;\nimport org.testng.annotations.Test;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n/**\n * test - jackson parse numbers,\n * \n * @author eric\n * @date Jan 13, 2018 12:28:36 AM\n */\npublic class ParseNumberTest {\n    @Test\n    public void test() throws Exception {\n    String jsonFn = \"numbers.json\";\n\n    ObjectMapper mapper = new ObjectMapper();\n\n    DummyData dd = mapper.readValue(this.getClass().getResourceAsStream(jsonFn), DummyData.class);\n    for (Object data : dd.dataList) {\n        System.out.printf(\"data type: %s, value: %s\\n\", data.getClass().getName(), data.toString());\n        Assert.assertTrue(data.getClass() == Double.class || data.getClass() == Long.class || data.getClass() == Integer.class);\n\n        System.out.printf(\"%s\\n\\n\", \"------------\");\n    }\n    }\n\n    static class DummyData {\n    List&lt;Object&gt; dataList;\n\n    public List&lt;Object&gt; getDataList() {\n        return dataList;\n    }\n\n    public void setDataList(List&lt;Object&gt; dataList) {\n        this.dataList = dataList;\n    }\n    }\n}\n</code></pre>\n\n<p><strong>numbers.json:</strong></p>\n\n<pre><code>{\n    \"dataList\": [\n        150000000000,\n        150778742934,\n        150000,\n        150000.0\n    ]\n}\n</code></pre>\n\n<p><strong>How to run:</strong>  </p>\n\n<ul>\n<li>The test case is based on <code>Jackson</code> &amp; <code>TestNG</code>.</li>\n<li>Put <code>numbers.json</code> at the same package as <code>ParseNumberTest.java</code>.</li>\n<li>Run as testng test, then it would print type &amp; value of the parse result.</li>\n</ul>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>data type: java.lang.Long, value: 150000000000\n------------\n\ndata type: java.lang.Long, value: 150778742934\n------------\n\ndata type: java.lang.Integer, value: 150000\n------------\n\ndata type: java.lang.Double, value: 150000.0\n------------\n\nPASSED: test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10632463,"reputation":101,"user_id":7830146,"display_name":"Deepak Gusain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566359917,"creation_date":1566355571,"answer_id":57583804,"question_id":11586299,"body_markdown":"We can use the below code solution for number Long:\r\n\r\n    Document doc = documentCursor.next();  \r\n    \r\n    JsonWriterSettings relaxed = JsonWriterSettings.builder().outputMode(JsonMode.RELAXED).build();  \r\n    \r\n    CustomeObject obj = gson.fromJson(doc.toJson(relaxed), CustomeObject.class);","title":"How to prevent Gson from converting a long number (a json string ) to scientific notation format?","body":"<p>We can use the below code solution for number Long:</p>\n\n<pre><code>Document doc = documentCursor.next();  \n\nJsonWriterSettings relaxed = JsonWriterSettings.builder().outputMode(JsonMode.RELAXED).build();  \n\nCustomeObject obj = gson.fromJson(doc.toJson(relaxed), CustomeObject.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3906627,"reputation":1,"user_id":3233155,"display_name":"AlaaAbdallah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619535682,"creation_date":1619521760,"answer_id":67281889,"question_id":11586299,"body_markdown":"The best solution in case you need them as String was to force attributes to be quoted with a single quote before doing the conversion.\r\n\r\nDo changes like this:\r\n```\r\nString readerAsString = convertReaderToString(reader);\r\nreaderAsString = readerAsString.toString().replace(&quot;=&quot;, &quot;=&#39;&quot;);\r\nreaderAsString = readerAsString.toString().replace(&quot;,&quot;, &quot;&#39;,&quot;);\r\nreaderAsString = readerAsString.toString().replace(&quot;}]&quot;, &quot;&#39;}]&quot;);\r\n```","title":"How to prevent Gson from converting a long number (a json string ) to scientific notation format?","body":"<p>The best solution in case you need them as String was to force attributes to be quoted with a single quote before doing the conversion.</p>\n<p>Do changes like this:</p>\n<pre><code>String readerAsString = convertReaderToString(reader);\nreaderAsString = readerAsString.toString().replace(&quot;=&quot;, &quot;='&quot;);\nreaderAsString = readerAsString.toString().replace(&quot;,&quot;, &quot;',&quot;);\nreaderAsString = readerAsString.toString().replace(&quot;}]&quot;, &quot;'}]&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":346833,"reputation":6288,"user_id":680583,"accept_rate":50,"display_name":"rmirabelle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646868253,"creation_date":1646687492,"answer_id":71387310,"question_id":11586299,"body_markdown":"```kotlin\r\ndata class Answer(\r\n    val question: String,\r\n    val value: Any\r\n)\r\n```\r\n\r\nGiven the `value:Any` property above, I find it dubious that Gson encounters a JSON value of `1` (not `&quot;1&quot;`) and cannot INFER the blatantly obvious truth: `1` is an `Int`.  Instead, Gson converts the integer value to the double `1.0`.\r\n\r\nGson *should* only convert a JSON value from `1` to `1.0` if the `value` property above was of type `Float` or `Double`. When Gson encounters a property whose type is `Any`, it should (quite simply) infer the type from the JSON value it receives. Unfortunately, it doesn&#39;t, preferring to actually corrupt incoming integer values by casting them to Double, which unsurprisingly immediately causes exceptions.\r\n\r\nI can find no reasonable solution to this peculiarity of the Gson parser. As such, I&#39;m forced to either manually convert all those double values back into int values after using Gson or implement my own generic custom type adapter for Gson. Neither of these options is at all appealing.","title":"How to prevent Gson from converting a long number (a json string ) to scientific notation format?","body":"<pre class=\"lang-kotlin prettyprint-override\"><code>data class Answer(\n    val question: String,\n    val value: Any\n)\n</code></pre>\n<p>Given the <code>value:Any</code> property above, I find it dubious that Gson encounters a JSON value of <code>1</code> (not <code>&quot;1&quot;</code>) and cannot INFER the blatantly obvious truth: <code>1</code> is an <code>Int</code>.  Instead, Gson converts the integer value to the double <code>1.0</code>.</p>\n<p>Gson <em>should</em> only convert a JSON value from <code>1</code> to <code>1.0</code> if the <code>value</code> property above was of type <code>Float</code> or <code>Double</code>. When Gson encounters a property whose type is <code>Any</code>, it should (quite simply) infer the type from the JSON value it receives. Unfortunately, it doesn't, preferring to actually corrupt incoming integer values by casting them to Double, which unsurprisingly immediately causes exceptions.</p>\n<p>I can find no reasonable solution to this peculiarity of the Gson parser. As such, I'm forced to either manually convert all those double values back into int values after using Gson or implement my own generic custom type adapter for Gson. Neither of these options is at all appealing.</p>\n"}],"owner":{"account_id":432102,"reputation":911,"user_id":816635,"accept_rate":0,"display_name":"lini sax"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41835,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"answer_count":9,"score":31,"last_activity_date":1646868253,"creation_date":1342814900,"question_id":11586299,"body_markdown":"I need to convert json string to java object and display it as a long. The json string is a fixed array of long numbers:\r\n\r\n    {numbers\r\n\t[ 268627104, 485677888,\t506884800 ] }\r\n\r\nThe code to convert works fine in all cases except for numbers ending in 0. It converts those to a scientific notation number format:\r\n \r\n  \r\n  \r\n       public static Object fromJson(HttpResponse response, Class&lt;?&gt; classOf)\r\n        throws IOException {\r\n\t\tInputStream instream = response.getResponseInputStream();\t\t\t\t\t\r\n\t\t\r\n\t\tObject obj = null;\r\n\t\ttry {\r\n\t\t\tReader reader = new InputStreamReader(instream, HTTP.UTF_8);\r\n\t\t\t\r\n\t\t\tGson gson = new Gson();\r\n\t\t\t\r\n\t\t\tobj = gson.fromJson(reader, classOf); \r\n\t\t\t\r\n\t\t\tLogger.d(TAG, &quot;json --&gt; &quot;+gson.toJson(obj));\r\n\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\tLogger.e(TAG, &quot;unsupported encoding&quot;, e);\r\n\t\t} catch (Exception e) {\r\n\t\t\tLogger.e(TAG, &quot;json parsing error&quot;, e);\r\n\t\t}\r\n\t\t\r\n\t\treturn obj;\r\n\t}\r\n\r\nThe actual result:\r\nJava object :  268627104, 485677888, 5.068848E+8\r\n\r\nNotice the last number is converted to a scientific notation format. Can anyone suggest what could be done to work around it or prevent it or undo it? I&#39;m using Gson v1.7.1","title":"How to prevent Gson from converting a long number (a json string ) to scientific notation format?","body":"<p>I need to convert json string to java object and display it as a long. The json string is a fixed array of long numbers:</p>\n\n<pre><code>{numbers\n[ 268627104, 485677888, 506884800 ] }\n</code></pre>\n\n<p>The code to convert works fine in all cases except for numbers ending in 0. It converts those to a scientific notation number format:</p>\n\n<pre><code>   public static Object fromJson(HttpResponse response, Class&lt;?&gt; classOf)\n    throws IOException {\n    InputStream instream = response.getResponseInputStream();                   \n\n    Object obj = null;\n    try {\n        Reader reader = new InputStreamReader(instream, HTTP.UTF_8);\n\n        Gson gson = new Gson();\n\n        obj = gson.fromJson(reader, classOf); \n\n        Logger.d(TAG, \"json --&gt; \"+gson.toJson(obj));\n    } catch (UnsupportedEncodingException e) {\n        Logger.e(TAG, \"unsupported encoding\", e);\n    } catch (Exception e) {\n        Logger.e(TAG, \"json parsing error\", e);\n    }\n\n    return obj;\n}\n</code></pre>\n\n<p>The actual result:\nJava object :  268627104, 485677888, 5.068848E+8</p>\n\n<p>Notice the last number is converted to a scientific notation format. Can anyone suggest what could be done to work around it or prevent it or undo it? I'm using Gson v1.7.1</p>\n"},{"tags":["java","scala","dictionary"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":1,"creation_date":1646661954,"post_id":71381875,"comment_id":126171938,"body_markdown":"I would rather use explicit calls to `updated` &amp; `updatedWith` instead of relying on sugar syntax; like this: https://scastie.scala-lang.org/BalmungSan/kdlqN3t5SGiQ26oDPyy0jg/2","body":"I would rather use explicit calls to <code>updated</code> &amp; <code>updatedWith</code> instead of relying on sugar syntax; like this: <a href=\"https://scastie.scala-lang.org/BalmungSan/kdlqN3t5SGiQ26oDPyy0jg/2\" rel=\"nofollow noreferrer\">scastie.scala-lang.org/BalmungSan/kdlqN3t5SGiQ26oDPyy0jg/2</a>"}],"answers":[{"tags":[],"owner":{"account_id":16267456,"reputation":298,"user_id":11747069,"display_name":"LinkCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646867332,"creation_date":1646867332,"answer_id":71417032,"question_id":71381875,"body_markdown":"As @Luis Miguel Mej&#237;a Su&#225;rez noted in the comments, using `updated` and `updatedWith` methods solved the problem. Example:  https://scastie.scala-lang.org/BalmungSan/kdlqN3t5SGiQ26oDPyy0jg/2","title":"How to update Map value that is also a Map in Scala?","body":"<p>As @Luis Miguel Mejía Suárez noted in the comments, using <code>updated</code> and <code>updatedWith</code> methods solved the problem. Example:  <a href=\"https://scastie.scala-lang.org/BalmungSan/kdlqN3t5SGiQ26oDPyy0jg/2\" rel=\"nofollow noreferrer\">https://scastie.scala-lang.org/BalmungSan/kdlqN3t5SGiQ26oDPyy0jg/2</a></p>\n"}],"owner":{"account_id":16267456,"reputation":298,"user_id":11747069,"display_name":"LinkCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71417032,"answer_count":1,"score":0,"last_activity_date":1646867332,"creation_date":1646659918,"question_id":71381875,"body_markdown":"I am trying to update an immutable Map in an immutable Map, but that gives me an error:\r\n```\r\nvar m: immutable.Map[Int, immutable.Map[String, Int]] = Map[Int, immutable.Map[String, Int]]()\r\n\r\nval item = Map[String, Int](&quot;Test&quot; -&gt; 0)\r\nm += (1, item)\r\n\r\nval newVal: Int = m(1)(&quot;Test&quot;) + 1\r\nval newValMap = Map[String, Int](&quot;Test&quot;-&gt; newVal)\r\n// This gives an error\r\nm += (1, newValMap)\r\n```\r\nERROR:\r\n```\r\nvalue += is not a member of scala.collection.immutable.Map[Int,scala.collection.immutable.Map[String,Int]]\r\n  Expression does not convert to assignment because:\r\n    type mismatch;\r\n     found   : Int\r\n     required: (Int, scala.collection.immutable.Map[String,Int])\r\n    type mismatch;\r\n     found   : (String, Int)\r\n     required: (Int, scala.collection.immutable.Map[String,Int])\r\n    expansion: TestClass.this.m = TestClass.this.m.+(&lt;1: error&gt;, &quot;Test&quot;.$minus$greater(1))\r\n        m += (1, (&quot;Test&quot; -&gt; 1))\r\n```\r\nHow can I replace the immutable Map value by a new one in the `m` without making `m` mutable?","title":"How to update Map value that is also a Map in Scala?","body":"<p>I am trying to update an immutable Map in an immutable Map, but that gives me an error:</p>\n<pre><code>var m: immutable.Map[Int, immutable.Map[String, Int]] = Map[Int, immutable.Map[String, Int]]()\n\nval item = Map[String, Int](&quot;Test&quot; -&gt; 0)\nm += (1, item)\n\nval newVal: Int = m(1)(&quot;Test&quot;) + 1\nval newValMap = Map[String, Int](&quot;Test&quot;-&gt; newVal)\n// This gives an error\nm += (1, newValMap)\n</code></pre>\n<p>ERROR:</p>\n<pre><code>value += is not a member of scala.collection.immutable.Map[Int,scala.collection.immutable.Map[String,Int]]\n  Expression does not convert to assignment because:\n    type mismatch;\n     found   : Int\n     required: (Int, scala.collection.immutable.Map[String,Int])\n    type mismatch;\n     found   : (String, Int)\n     required: (Int, scala.collection.immutable.Map[String,Int])\n    expansion: TestClass.this.m = TestClass.this.m.+(&lt;1: error&gt;, &quot;Test&quot;.$minus$greater(1))\n        m += (1, (&quot;Test&quot; -&gt; 1))\n</code></pre>\n<p>How can I replace the immutable Map value by a new one in the <code>m</code> without making <code>m</code> mutable?</p>\n"},{"tags":["java","github","intellij-idea","failed-to-connect"],"comments":[{"owner":{"account_id":1986559,"reputation":9239,"user_id":1781611,"accept_rate":55,"display_name":"Jay"},"score":0,"creation_date":1646819108,"post_id":71406851,"comment_id":126216101,"body_markdown":"When u r directed to a authorization web page, you need to click the button to authorize it","body":"When u r directed to a authorization web page, you need to click the button to authorize it"}],"answers":[{"tags":[],"owner":{"account_id":17081761,"reputation":2089,"user_id":12360005,"display_name":"Ruslan Kuleshov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646865944,"creation_date":1646865944,"answer_id":71416856,"question_id":71406851,"body_markdown":"&quot;Invalid authentication data, connection timed out&quot; - there is a chance that you may have proxy configured either in your system or under Preferences | Appearance &amp; Behavior | System Settings | HTTP Proxy. \r\nSo it worth checking it, and if it&#39;s in place - please try to disable it.\r\n\r\n","title":"Connecting GitHub in IntelliJ","body":"<p>&quot;Invalid authentication data, connection timed out&quot; - there is a chance that you may have proxy configured either in your system or under Preferences | Appearance &amp; Behavior | System Settings | HTTP Proxy.\nSo it worth checking it, and if it's in place - please try to disable it.</p>\n"}],"owner":{"account_id":15177550,"reputation":3,"user_id":18356313,"display_name":"user637300"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646865944,"creation_date":1646817143,"question_id":71406851,"body_markdown":"I am trying to connect GitHub in my IntelliJ. I attempted it in two ways, first with my username and password, I got this message, \r\n&quot;You are being redirected to the authorized application. If your browser does not redirect you back, please click here to continue.&quot; \r\nI also tried with a token, but I got this message, \r\n&quot;Invalid authentication data, connection timed out&quot;. \r\n\r\nDo you have any suggestions?\r\nThanks\r\n","title":"Connecting GitHub in IntelliJ","body":"<p>I am trying to connect GitHub in my IntelliJ. I attempted it in two ways, first with my username and password, I got this message,\n&quot;You are being redirected to the authorized application. If your browser does not redirect you back, please click here to continue.&quot;\nI also tried with a token, but I got this message,\n&quot;Invalid authentication data, connection timed out&quot;.</p>\n<p>Do you have any suggestions?\nThanks</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":18942186,"reputation":457,"user_id":13821955,"display_name":"Rashad Nasirli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646863256,"creation_date":1646863256,"answer_id":71416488,"question_id":71416182,"body_markdown":"Simple advice first: Do not make return anything when using TestNG annotations (like @BeforeSuite and etc.) Because everytime you want to call this method as parameter it will open new Chrome Browser.\r\nSince you are creating driver in the inside of driver() method\r\nNo any other methods can see that there is driver already defined. Insted use it like global variable, not inside method.\r\n\r\n    public class LoginTestingStep {\r\n    WebDriver driver; //declare as global\r\n    @BeforeSuite\r\n    public static void driver() {\r\n    System.setProperty(WebDriverPage.webDriverAdress,                        \r\n    WebDriverPage.webDriverPath);\r\n    driver = new ChromeDriver(); //then create instance \r\n    wait = new WebDriverWait(driver, Duration.ofSeconds(5));\r\n\r\n    driver.get(&quot;https://evernote.com/&quot;);\r\n    }\r\n\r\n\r\n    public static void WaitForElementVisible(String option) {\r\n        wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(option)));\r\n    }\r\n    @Test\r\n    public static void UnauthotisedLogin() {\r\n                driver.manage().window().maximize();\r\n                driver.findElement(By.cssSelector(LoginTestingPage.loginButton)).click();\r\n                driver.findElement(By.cssSelector(LoginTestingPage.emailAdreesField)).sendKeys(&quot;spacesiatat@yahoo.com&quot;);\r\n                WaitForElementVisible(LoginTestingPage.continueButton);\r\n                driver.findElement(By.cssSelector(LoginTestingPage.continueButton)).click();\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n**What I changed in your code? **\r\n\r\n 1. Made driver() method to be return type void instead of WebDriver return type\r\n 2. Deleted line that include: `return driver;`\r\n 3. Made WebDriverWait global to enable using it in other methods as well and avoiding repeating creating instance of it every time\r\n 4. Added &#39;DurationOfSeconds&#39; to &#39;WebDriverWait&#39; constructor parameter since raw usage of second is deprecated\r\n ","title":"Error passing WebDriver instance to another method","body":"<p>Simple advice first: Do not make return anything when using TestNG annotations (like @BeforeSuite and etc.) Because everytime you want to call this method as parameter it will open new Chrome Browser.\nSince you are creating driver in the inside of driver() method\nNo any other methods can see that there is driver already defined. Insted use it like global variable, not inside method.</p>\n<pre><code>public class LoginTestingStep {\nWebDriver driver; //declare as global\n@BeforeSuite\npublic static void driver() {\nSystem.setProperty(WebDriverPage.webDriverAdress,                        \nWebDriverPage.webDriverPath);\ndriver = new ChromeDriver(); //then create instance \nwait = new WebDriverWait(driver, Duration.ofSeconds(5));\n\ndriver.get(&quot;https://evernote.com/&quot;);\n}\n\n\npublic static void WaitForElementVisible(String option) {\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(option)));\n}\n@Test\npublic static void UnauthotisedLogin() {\n            driver.manage().window().maximize();\n            driver.findElement(By.cssSelector(LoginTestingPage.loginButton)).click();\n            driver.findElement(By.cssSelector(LoginTestingPage.emailAdreesField)).sendKeys(&quot;spacesiatat@yahoo.com&quot;);\n            WaitForElementVisible(LoginTestingPage.continueButton);\n            driver.findElement(By.cssSelector(LoginTestingPage.continueButton)).click();\n}\n</code></pre>\n<p>}</p>\n<p>**What I changed in your code? **</p>\n<ol>\n<li>Made driver() method to be return type void instead of WebDriver return type</li>\n<li>Deleted line that include: <code>return driver;</code></li>\n<li>Made WebDriverWait global to enable using it in other methods as well and avoiding repeating creating instance of it every time</li>\n<li>Added 'DurationOfSeconds' to 'WebDriverWait' constructor parameter since raw usage of second is deprecated</li>\n</ol>\n"}],"owner":{"account_id":17952867,"reputation":11,"user_id":13045630,"display_name":"Tiberiu-Mihai Neagoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646863256,"creation_date":1646861322,"question_id":71416182,"body_markdown":"everyone, I&#39;m struggling with the following situation.\r\nReturned driver is not recognized.\r\nI want to make a method to used it for rest of the methods for a test suite but \r\n\r\n    package acceptanceTesting\r\n    \r\n    import org.junit.Test;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import org.testng.annotations.BeforeSuite;\r\n    \r\n    public class LoginTestingStep {\r\n    \r\n    \t@BeforeSuite\r\n    \tpublic static WebDriver driver() {\r\n    \t\tSystem.setProperty(WebDriverPage.webDriverAdress, WebDriverPage.webDriverPath);\r\n    \t\t\tWebDriver driver = new ChromeDriver();\r\n    \t\t\t\tdriver.get(&quot;https://evernote.com/&quot;);\r\n    \treturn driver;\r\n    \t}\r\n    \tpublic static void WaitForElementVisible(String option) {\r\n    \t\tWebDriverWait wait = new WebDriverWait(driver(), 5);\r\n    \t\twait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(option)));\r\n    \t}\r\n    \t@Test\r\n    \tpublic static void UnauthotisedLogin() {\r\n    \t\t\t\tdriver.manage().window().maximize();\r\n    \t\t\t\tdriver.findElement(By.cssSelector(LoginTestingPage.loginButton)).click();\r\n    \t\t\t\tdriver.findElement(By.cssSelector(LoginTestingPage.emailAdreesField)).sendKeys(&quot;spacesiatat@yahoo.com&quot;);\r\n    \t\t\t\tWaitForElementVisible(LoginTestingPage.continueButton);\r\n    \t\t\t\tdriver.findElement(By.cssSelector(LoginTestingPage.continueButton)).click();\r\n    //\t\t\t\tTimeUnit.SECONDS.sleep(5);\r\n    //\t\t\t\tdriver.close();\r\n    \t}\r\n    \tpublic static void AuthotisedLogin() {\r\n    }\r\n    }","title":"Error passing WebDriver instance to another method","body":"<p>everyone, I'm struggling with the following situation.\nReturned driver is not recognized.\nI want to make a method to used it for rest of the methods for a test suite but</p>\n<pre><code>package acceptanceTesting\n\nimport org.junit.Test;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.testng.annotations.BeforeSuite;\n\npublic class LoginTestingStep {\n\n    @BeforeSuite\n    public static WebDriver driver() {\n        System.setProperty(WebDriverPage.webDriverAdress, WebDriverPage.webDriverPath);\n            WebDriver driver = new ChromeDriver();\n                driver.get(&quot;https://evernote.com/&quot;);\n    return driver;\n    }\n    public static void WaitForElementVisible(String option) {\n        WebDriverWait wait = new WebDriverWait(driver(), 5);\n        wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(option)));\n    }\n    @Test\n    public static void UnauthotisedLogin() {\n                driver.manage().window().maximize();\n                driver.findElement(By.cssSelector(LoginTestingPage.loginButton)).click();\n                driver.findElement(By.cssSelector(LoginTestingPage.emailAdreesField)).sendKeys(&quot;spacesiatat@yahoo.com&quot;);\n                WaitForElementVisible(LoginTestingPage.continueButton);\n                driver.findElement(By.cssSelector(LoginTestingPage.continueButton)).click();\n//              TimeUnit.SECONDS.sleep(5);\n//              driver.close();\n    }\n    public static void AuthotisedLogin() {\n}\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1646863044,"post_id":71416316,"comment_id":126232035,"body_markdown":"LiveData must be bounded to a lifecycle observer (activity/fragment)","body":"LiveData must be bounded to a lifecycle observer (activity/fragment)"},{"owner":{"account_id":11290261,"reputation":3,"user_id":8279609,"display_name":"KlokDok"},"score":0,"creation_date":1646863738,"post_id":71416316,"comment_id":126232223,"body_markdown":"Ok, but is it okay to send it back to the ViewModel? Is this an efficient way?","body":"Ok, but is it okay to send it back to the ViewModel? Is this an efficient way?"}],"owner":{"account_id":11290261,"reputation":3,"user_id":8279609,"display_name":"KlokDok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646863080,"creation_date":1646862133,"question_id":71416316,"body_markdown":"Why i should pass the LiveData to the activity to get the value of **allQuestions**. I am a little bit confused.\r\n\r\nI tried to get the List of allQuestions in **QuestionViewModel** from the repo directly but it didn&#39;t work.\r\n\r\n**This is what&#39;s in my brain.** \r\n\r\n    public class QuestionViewModel extends AndroidViewModel {\r\n\r\n    private Repository repo;\r\n    private List&lt;QuestionModel&gt; allQuestions;\r\n\r\n    public QuestionViewModel(@NonNull Application application) {\r\n        super(application);\r\n        repo = new Repository(application);\r\n        allQuestions = repo.getAllQuestions().getValue(); //This line did not work for me (︶︹︺)\r\n    }}\r\n\r\n***What i did do to get it work.***\r\n\r\n**ViewModel**\r\n\r\n    public class QuestionViewModel extends AndroidViewModel {\r\n\r\n    private Repository repo;\r\n    private LiveData&lt;List&lt;QuestionModel&gt;&gt; allQuestions;\r\n    public List&lt;QuestionModel&gt; CurrentListOfQues;\r\n \r\n\r\n    public QuestionViewModel(@NonNull Application application) {\r\n        super(application);\r\n        repo = new Repository(application);\r\n        allQuestions = repo.getAllQuestions();\r\n    }\r\n\r\n    public LiveData&lt;List&lt;QuestionModel&gt;&gt; GetAllQues() {\r\n        if (allQuestions == null) {\r\n            allQuestions = new LiveData&lt;List&lt;QuestionModel&gt;&gt;() {\r\n                @Override\r\n                public void observe(@NonNull LifecycleOwner owner, @NonNull Observer&lt;? super List&lt;QuestionModel&gt;&gt; observer) {\r\n                    super.observe(owner, observer);\r\n                }\r\n            };\r\n        }\r\n        return allQuestions;\r\n    }\r\n\r\n    public void setCurrent(List&lt;QuestionModel&gt; CurrentListOfQues) {\r\n            if (this.CurrentListOfQues == null) {\r\n                this.CurrentListOfQues = CurrentListOfQues;\r\n            }\r\n    }\r\n\r\n**Question Activity**\r\n\r\n    QVM = new ViewModelProvider(this).get(QuestionViewModel.class);\r\n\r\n    QVM.GetAllQues().observe(this, new Observer&lt;List&lt;QuestionModel&gt;&gt;() {\r\n            @Override\r\n            public void onChanged(List&lt;QuestionModel&gt; allQuestions) {\r\n                QVM.setCurrent(allQuestions);\r\n            }\r\n        });\r\n\r\nIs this the right way to get the list in my viewmodel? Why `allQuestions = repo.getAllQuestions().getValue();` is always `null`","title":"Getting data from Repository to Viewmodel without passing observer to the activity","body":"<p>Why i should pass the LiveData to the activity to get the value of <strong>allQuestions</strong>. I am a little bit confused.</p>\n<p>I tried to get the List of allQuestions in <strong>QuestionViewModel</strong> from the repo directly but it didn't work.</p>\n<p><strong>This is what's in my brain.</strong></p>\n<pre><code>public class QuestionViewModel extends AndroidViewModel {\n\nprivate Repository repo;\nprivate List&lt;QuestionModel&gt; allQuestions;\n\npublic QuestionViewModel(@NonNull Application application) {\n    super(application);\n    repo = new Repository(application);\n    allQuestions = repo.getAllQuestions().getValue(); //This line did not work for me (︶︹︺)\n}}\n</code></pre>\n<p><em><strong>What i did do to get it work.</strong></em></p>\n<p><strong>ViewModel</strong></p>\n<pre><code>public class QuestionViewModel extends AndroidViewModel {\n\nprivate Repository repo;\nprivate LiveData&lt;List&lt;QuestionModel&gt;&gt; allQuestions;\npublic List&lt;QuestionModel&gt; CurrentListOfQues;\n\n\npublic QuestionViewModel(@NonNull Application application) {\n    super(application);\n    repo = new Repository(application);\n    allQuestions = repo.getAllQuestions();\n}\n\npublic LiveData&lt;List&lt;QuestionModel&gt;&gt; GetAllQues() {\n    if (allQuestions == null) {\n        allQuestions = new LiveData&lt;List&lt;QuestionModel&gt;&gt;() {\n            @Override\n            public void observe(@NonNull LifecycleOwner owner, @NonNull Observer&lt;? super List&lt;QuestionModel&gt;&gt; observer) {\n                super.observe(owner, observer);\n            }\n        };\n    }\n    return allQuestions;\n}\n\npublic void setCurrent(List&lt;QuestionModel&gt; CurrentListOfQues) {\n        if (this.CurrentListOfQues == null) {\n            this.CurrentListOfQues = CurrentListOfQues;\n        }\n}\n</code></pre>\n<p><strong>Question Activity</strong></p>\n<pre><code>QVM = new ViewModelProvider(this).get(QuestionViewModel.class);\n\nQVM.GetAllQues().observe(this, new Observer&lt;List&lt;QuestionModel&gt;&gt;() {\n        @Override\n        public void onChanged(List&lt;QuestionModel&gt; allQuestions) {\n            QVM.setCurrent(allQuestions);\n        }\n    });\n</code></pre>\n<p>Is this the right way to get the list in my viewmodel? Why <code>allQuestions = repo.getAllQuestions().getValue();</code> is always <code>null</code></p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":23923272,"reputation":13,"user_id":17918750,"display_name":"Brenbear87"},"score":0,"creation_date":1646861627,"post_id":71416215,"comment_id":126231674,"body_markdown":"Update!!! I got rid of the or statement in the while loop, and kept only the &quot;!letter.equals(reverse)&quot; now if a word is a palindrome the program works correctly, still get the error if the word is not a palindrome however.","body":"Update!!! I got rid of the or statement in the while loop, and kept only the &quot;!letter.equals(reverse)&quot; now if a word is a palindrome the program works correctly, still get the error if the word is not a palindrome however."}],"answers":[{"tags":[],"owner":{"account_id":22977171,"reputation":315,"user_id":17104620,"display_name":"Nicholas Zolton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646861984,"creation_date":1646861984,"answer_id":71416282,"question_id":71416215,"body_markdown":"A [StringIndexOutOfBoundsException][1] is a type of error that is thrown when either (as shown in this link) &quot;an index is either negative or greater than the size of the string&quot;. \r\n\r\nTo prevent such cases, many times we will make the conditions of the while loop or for loop we are coding in specifically the size of the string (or zero if we are going downwards). You attempted to do this, but your error is still coming through so it must be a little bit deeper.\r\n\r\nIn your case, this is likely because the String letter never becomes equal to reverse, so the while loop goes on forever (hence the StringIndexOutOfBounds when index becomes negative). \r\n\r\nTo fix this you may want to rethink the conditions on your while loop, and instead use something directly based on the length of the string (as opposed to whether or not the reverse is ever true).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StringIndexOutOfBoundsException.html","title":"Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: -1 when trying to find a palindrome","body":"<p>A <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StringIndexOutOfBoundsException.html\" rel=\"nofollow noreferrer\">StringIndexOutOfBoundsException</a> is a type of error that is thrown when either (as shown in this link) &quot;an index is either negative or greater than the size of the string&quot;.</p>\n<p>To prevent such cases, many times we will make the conditions of the while loop or for loop we are coding in specifically the size of the string (or zero if we are going downwards). You attempted to do this, but your error is still coming through so it must be a little bit deeper.</p>\n<p>In your case, this is likely because the String letter never becomes equal to reverse, so the while loop goes on forever (hence the StringIndexOutOfBounds when index becomes negative).</p>\n<p>To fix this you may want to rethink the conditions on your while loop, and instead use something directly based on the length of the string (as opposed to whether or not the reverse is ever true).</p>\n"},{"tags":[],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646862877,"creation_date":1646862877,"answer_id":71416426,"question_id":71416215,"body_markdown":"You need just the change the while condition look at my edition it&#39;s works !!\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \t\t// Create the Scanner object, scnr, to perform input operations.\r\n    \r\n    \t\tScanner scnr = new Scanner(System.in);\r\n    \r\n    \t\t// Declare the identifiers\r\n    \t\tString reverse;\r\n    \t\treverse = &quot;&quot;;\r\n    \t\tint index;\r\n    \t\tint number;         \r\n    \t\tString letter;     \r\n    \t\tfinal String end = &quot;Stop&quot;;\r\n    \r\n    \t\tSystem.out.println(&quot;Please type a word:&quot;);\r\n    \t\tletter = scnr.next();\r\n    \t\tindex = letter.length() - 1;\r\n    \r\n    \r\n    \t\twhile (!letter.equals(reverse) &amp;&amp; (index &gt;= 0)) {\r\n    \t\t\t//  while (letter.equals(reverse.length() + 0));\r\n      \r\n    \t\t\t// index = letter.length()-1 - index--;\r\n    \t\t\t// index + 1;\r\n    \t\t\t// System.out.println(index.CharAt(index--));\r\n    \r\n    \t\t\treverse = reverse + letter.charAt(index);\r\n    \t\t\tSystem.out.println(reverse);\r\n    \t\t\tindex--;\r\n    \r\n    \r\n    \t\t}\r\n    \t\tif (letter.equals(reverse)) {\r\n    \t\t\tSystem.out.println(letter + &quot; is a palindrome!&quot;);\r\n    \t\t}\r\n    \r\n    \t\telse {\r\n    \t\t\tSystem.out.println(letter + &quot; is not a palindrome, spelt backwards it is: &quot; + reverse);\r\n    \r\n    \t\t}\r\n    \t\tscnr.close();\r\n\r\nresult :\r\n\r\n    olaalo is a palindrome!","title":"Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: -1 when trying to find a palindrome","body":"<p>You need just the change the while condition look at my edition it's works !!</p>\n<pre><code>public static void main(String[] args) {\n\n        // Create the Scanner object, scnr, to perform input operations.\n\n        Scanner scnr = new Scanner(System.in);\n\n        // Declare the identifiers\n        String reverse;\n        reverse = &quot;&quot;;\n        int index;\n        int number;         \n        String letter;     \n        final String end = &quot;Stop&quot;;\n\n        System.out.println(&quot;Please type a word:&quot;);\n        letter = scnr.next();\n        index = letter.length() - 1;\n\n\n        while (!letter.equals(reverse) &amp;&amp; (index &gt;= 0)) {\n            //  while (letter.equals(reverse.length() + 0));\n  \n            // index = letter.length()-1 - index--;\n            // index + 1;\n            // System.out.println(index.CharAt(index--));\n\n            reverse = reverse + letter.charAt(index);\n            System.out.println(reverse);\n            index--;\n\n\n        }\n        if (letter.equals(reverse)) {\n            System.out.println(letter + &quot; is a palindrome!&quot;);\n        }\n\n        else {\n            System.out.println(letter + &quot; is not a palindrome, spelt backwards it is: &quot; + reverse);\n\n        }\n        scnr.close();\n</code></pre>\n<p>result :</p>\n<pre><code>olaalo is a palindrome!\n</code></pre>\n"}],"owner":{"account_id":23923272,"reputation":13,"user_id":17918750,"display_name":"Brenbear87"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71416426,"answer_count":2,"score":0,"last_activity_date":1646862877,"creation_date":1646861507,"question_id":71416215,"body_markdown":"I am trying to make a program that sees if a word is a palindrome or not. However, I am getting the above error. When I run the program it puts together the word backwards, up until there are no more letters left. That is when I get the error.\r\n```\r\n// Programmer: Your name\r\n// Class, Section and Term: ...\r\n// Purpose: Find the average of a list of integer numbers. The list is ended with a sentiel value SENTINEL.\r\n// Topic: while-loop\r\n// Import the Scanner Class for input operations.\r\n\r\n      import java.util.Scanner;\r\n\r\n      public class SimpleProgram {\r\n\r\n      public static void main(String[] args) {\r\n\r\n      // Create the Scanner object, scnr, to perform input operations.\r\n\r\n      Scanner scnr = new Scanner(System.in);\r\n\r\n      // Declare the identifiers\r\n      String reverse;\r\n      reverse = &quot;&quot;;\r\n      int index;\r\n      int number;         \r\n      String letter;     \r\n      final String end = &quot;Stop&quot;;\r\n\r\n  \r\n   System.out.println(&quot;Please type a word:&quot;);\r\n   letter = scnr.next();\r\n      index = letter.length() + 0;\r\n\r\n      \r\n       while (!letter.equals(reverse) || (index &gt;= 0)) {\r\n        //  while (letter.equals(reverse.length() + 0));\r\n         \r\n            index--;\r\n         \r\n        \r\n      \r\n     // index = letter.length()-1 - index--;\r\n      // index + 1;\r\n     // System.out.println(index.CharAt(index--));\r\n   \r\n      reverse = reverse + letter.charAt(index);\r\n      System.out.println(reverse);\r\n      \r\n          \r\n      }\r\n   if (letter.equals(reverse)) {\r\n      System.out.println(letter + &quot; is a palindrome!&quot;);\r\n   }\r\n  \r\n   else {\r\n      System.out.println(letter + &quot; is not a palindrome, spelt backwards it is: &quot; + reverse);\r\n   \r\n   }\r\n   scnr.close();\r\n   }\r\n   \r\n}\r\n```\r\n","title":"Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: -1 when trying to find a palindrome","body":"<p>I am trying to make a program that sees if a word is a palindrome or not. However, I am getting the above error. When I run the program it puts together the word backwards, up until there are no more letters left. That is when I get the error.</p>\n<pre><code>// Programmer: Your name\n// Class, Section and Term: ...\n// Purpose: Find the average of a list of integer numbers. The list is ended with a sentiel value SENTINEL.\n// Topic: while-loop\n// Import the Scanner Class for input operations.\n\n      import java.util.Scanner;\n\n      public class SimpleProgram {\n\n      public static void main(String[] args) {\n\n      // Create the Scanner object, scnr, to perform input operations.\n\n      Scanner scnr = new Scanner(System.in);\n\n      // Declare the identifiers\n      String reverse;\n      reverse = &quot;&quot;;\n      int index;\n      int number;         \n      String letter;     \n      final String end = &quot;Stop&quot;;\n\n  \n   System.out.println(&quot;Please type a word:&quot;);\n   letter = scnr.next();\n      index = letter.length() + 0;\n\n      \n       while (!letter.equals(reverse) || (index &gt;= 0)) {\n        //  while (letter.equals(reverse.length() + 0));\n         \n            index--;\n         \n        \n      \n     // index = letter.length()-1 - index--;\n      // index + 1;\n     // System.out.println(index.CharAt(index--));\n   \n      reverse = reverse + letter.charAt(index);\n      System.out.println(reverse);\n      \n          \n      }\n   if (letter.equals(reverse)) {\n      System.out.println(letter + &quot; is a palindrome!&quot;);\n   }\n  \n   else {\n      System.out.println(letter + &quot; is not a palindrome, spelt backwards it is: &quot; + reverse);\n   \n   }\n   scnr.close();\n   }\n   \n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","formula","classcastexception"],"answers":[{"tags":[],"owner":{"account_id":19242426,"reputation":158,"user_id":14062144,"display_name":"Ilya Lisov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646862665,"creation_date":1646862665,"answer_id":71416392,"question_id":71415577,"body_markdown":"Answer is easy - I need to use `r.author_id` in second formula. But it works fine in MySQL Workbench, but does not work in `@Formula`","title":"ClassCastException: org.hibernate.loader.plan.build.internal.returns.CollectionReturnImpl cannot be cast to org.hibernate.loader.plan.spi.Fetch","body":"<p>Answer is easy - I need to use <code>r.author_id</code> in second formula. But it works fine in MySQL Workbench, but does not work in <code>@Formula</code></p>\n"}],"owner":{"account_id":19242426,"reputation":158,"user_id":14062144,"display_name":"Ilya Lisov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71416392,"answer_count":1,"score":0,"last_activity_date":1646862665,"creation_date":1646857465,"question_id":71415577,"body_markdown":"I can not define what is wrong with my code. Last time I used it and it wordked, but now when I am trying to read `User`, I get ClassCast execption: `java.lang.ClassCastException: org.hibernate.loader.plan.build.internal.returns.CollectionReturnImpl cannot be cast to org.hibernate.loader.plan.spi.Fetch`\r\n\r\nI am using Spring Boot and Hibernate, could you help to determine the reason.\r\nUser object contains java.util.List of RoleEntity, which contains User in it.\r\n\r\nProblem is in the second `@Formula`, first works, I don`t know what is wrong here.\r\n    \r\n    @Formula(&quot;(SELECT COUNT(*) FROM rdb.review r WHERE r.entity_id = \r\n    id)&quot;)\r\n    private Integer reviewsAmount;\r\n\r\n    @Formula(&quot;(SELECT COUNT(DISTINCT author_id) FROM rdb.review r WHERE \r\n    r.entity_id = id)&quot;)\r\n    private Integer peopleEnvolved;\r\n    }\r\n","title":"ClassCastException: org.hibernate.loader.plan.build.internal.returns.CollectionReturnImpl cannot be cast to org.hibernate.loader.plan.spi.Fetch","body":"<p>I can not define what is wrong with my code. Last time I used it and it wordked, but now when I am trying to read <code>User</code>, I get ClassCast execption: <code>java.lang.ClassCastException: org.hibernate.loader.plan.build.internal.returns.CollectionReturnImpl cannot be cast to org.hibernate.loader.plan.spi.Fetch</code></p>\n<p>I am using Spring Boot and Hibernate, could you help to determine the reason.\nUser object contains java.util.List of RoleEntity, which contains User in it.</p>\n<p>Problem is in the second <code>@Formula</code>, first works, I don`t know what is wrong here.</p>\n<pre><code>@Formula(&quot;(SELECT COUNT(*) FROM rdb.review r WHERE r.entity_id = \nid)&quot;)\nprivate Integer reviewsAmount;\n\n@Formula(&quot;(SELECT COUNT(DISTINCT author_id) FROM rdb.review r WHERE \nr.entity_id = id)&quot;)\nprivate Integer peopleEnvolved;\n}\n</code></pre>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1272463397,"creation_date":1272463397,"answer_id":2730142,"question_id":2730044,"body_markdown":"    final JButton btn = new JButton(&quot;Close&quot;);\r\n    \r\n    btn.addActionListener(new ActionListener() {\r\n      public void actionPerformed(ActionEvent evt) {\r\n        Window w = SwingUtilities.getWindowAncestor(btn);\r\n    \r\n        if (w != null) {\r\n          w.setVisible(false);\r\n        }\r\n      }\r\n    });","title":"Closing a dialog created by JOptionPane.showOptionDialog()","body":"<pre><code>final JButton btn = new JButton(\"Close\");\n\nbtn.addActionListener(new ActionListener() {\n  public void actionPerformed(ActionEvent evt) {\n    Window w = SwingUtilities.getWindowAncestor(btn);\n\n    if (w != null) {\n      w.setVisible(false);\n    }\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":228888,"reputation":1314,"user_id":491479,"accept_rate":14,"display_name":"cmujica"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1450877127,"creation_date":1312580023,"answer_id":6962871,"question_id":2730044,"body_markdown":" Try   \r\n\r\n\r\n    JOptionPane.getRootFrame().dispose();\t\r\n","title":"Closing a dialog created by JOptionPane.showOptionDialog()","body":"<p>Try   </p>\n\n<pre><code>JOptionPane.getRootFrame().dispose();   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1769700,"reputation":412,"user_id":1614775,"display_name":"Zweibieren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646862523,"creation_date":1646862523,"answer_id":71416372,"question_id":2730044,"body_markdown":"JOptionPane is closed by calling its setValue method\r\n\r\n(Speaking of dirty side effects)","title":"Closing a dialog created by JOptionPane.showOptionDialog()","body":"<p>JOptionPane is closed by calling its setValue method</p>\n<p>(Speaking of dirty side effects)</p>\n"}],"owner":{"account_id":608405,"reputation":5559,"user_id":317778,"accept_rate":89,"display_name":"llm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33046,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":2730142,"answer_count":3,"score":6,"last_activity_date":1646862523,"creation_date":1272462852,"question_id":2730044,"body_markdown":"I am creating an options dialog using `JOptionPane.showOptionDialog(...)`;\r\n\r\nFor the options parameter I am passing an array of JButtons each with its own `ActionListener`.\r\n\r\nOne of these buttons is responsible for closing the dialog.  My question is: what code do I place in the close button&#39;s event handler to close the option dialog?  \r\n\r\nA point that may make a difference: the class responsible for showing this dialog is a singleton and, as such, the method responsible for displaying the dialog is *static*.  Therefore, calling `javax.swing.JInternalFrame.doDefaultCloseAction();` does not work &quot;from a static context&quot;.\r\n\r\nThanks","title":"Closing a dialog created by JOptionPane.showOptionDialog()","body":"<p>I am creating an options dialog using <code>JOptionPane.showOptionDialog(...)</code>;</p>\n\n<p>For the options parameter I am passing an array of JButtons each with its own <code>ActionListener</code>.</p>\n\n<p>One of these buttons is responsible for closing the dialog.  My question is: what code do I place in the close button's event handler to close the option dialog?  </p>\n\n<p>A point that may make a difference: the class responsible for showing this dialog is a singleton and, as such, the method responsible for displaying the dialog is <em>static</em>.  Therefore, calling <code>javax.swing.JInternalFrame.doDefaultCloseAction();</code> does not work \"from a static context\".</p>\n\n<p>Thanks</p>\n"},{"tags":["java","selenium","try-catch"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646861777,"creation_date":1646861777,"answer_id":71416251,"question_id":71416209,"body_markdown":"You can put the second command inside the `catch` block of the first `try`-`catch`, as following:\r\n```java\r\ntry\r\n{ \r\n    // code that may throw an exception\r\n    driver.findElement(By.id(&quot;component-unique-id-31&quot;)).click();\r\n\r\n}\r\ncatch (Exception ex1)\r\n{\r\n   try\r\n   { \r\n       //Another command i want executed if the above fails\r\n       driver.findElement(By.xpath(&quot;//h3[normalize-space()=&#39;Something&#39;]&quot;)).click();       \r\n   }\r\n   catch (Exception ex2)\r\n   {\r\n       // handle\r\n  }\r\n}\r\n```","title":"How can i execute commands based on if the status of the previous one?","body":"<p>You can put the second command inside the <code>catch</code> block of the first <code>try</code>-<code>catch</code>, as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try\n{ \n    // code that may throw an exception\n    driver.findElement(By.id(&quot;component-unique-id-31&quot;)).click();\n\n}\ncatch (Exception ex1)\n{\n   try\n   { \n       //Another command i want executed if the above fails\n       driver.findElement(By.xpath(&quot;//h3[normalize-space()='Something']&quot;)).click();       \n   }\n   catch (Exception ex2)\n   {\n       // handle\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646862427,"creation_date":1646861929,"answer_id":71416271,"question_id":71416209,"body_markdown":"You can wrap up both the _`try-catch{}`_ blocks within a single [_`try-catch-finally{}`_](https://www.w3schools.com/java/java_try_catch.asp) block as follows:\r\n\r\n\ttry {\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.id(&quot;component-unique-id-31&quot;))).click();\r\n\t  System.out.println(&quot;Within in try block.&quot;);\r\n\t}\r\n\tcatch(TimeoutException e) {\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//h3[normalize-space()=&#39;Something&#39;]&quot;))).click();\r\n\t  System.out.println(&quot;Within in catch block.&quot;);\r\n\t} finally {\r\n      System.out.println(&quot;The &#39;try catch&#39; is finished.&quot;);\r\n    }\r\n\t\r\n\r\n&gt;PS: You must avoid catching the raw exception.","title":"How can i execute commands based on if the status of the previous one?","body":"<p>You can wrap up both the <em><code>try-catch{}</code></em> blocks within a single <a href=\"https://www.w3schools.com/java/java_try_catch.asp\" rel=\"nofollow noreferrer\"><em><code>try-catch-finally{}</code></em></a> block as follows:</p>\n<pre><code>try {\n  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.id(&quot;component-unique-id-31&quot;))).click();\n  System.out.println(&quot;Within in try block.&quot;);\n}\ncatch(TimeoutException e) {\n  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//h3[normalize-space()='Something']&quot;))).click();\n  System.out.println(&quot;Within in catch block.&quot;);\n} finally {\n  System.out.println(&quot;The 'try catch' is finished.&quot;);\n}\n</code></pre>\n<blockquote>\n<p>PS: You must avoid catching the raw exception.</p>\n</blockquote>\n"}],"owner":{"account_id":22665929,"reputation":33,"user_id":16838288,"display_name":"Steven S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1646862427,"creation_date":1646861472,"question_id":71416209,"body_markdown":"Basically i have 2 different commands i could possibly execute. If the first one does not work, I want to execute the second command. \r\nIs there some easier, cleaner way to do this?\r\nWhat would i even put in the if statement?\r\n```\r\n\r\ntry\r\n{ \r\n    // code that may throw an exception\r\n    driver.findElement(By.id(&quot;component-unique-id-31&quot;)).click();\r\n\r\n}\r\ncatch (Exception ex)\r\n{\r\n   // Print to console\r\n}\r\n\r\nif(previous command threw an exception){\r\n\r\n  try\r\n  { \r\n     //Another command i want executed if the above fails\r\n     driver.findElement(By.xpath(&quot;//h3[normalize-space()=&#39;Something&#39;]&quot;)).click();\r\n       \r\n  }\r\n  catch (Exception ex)\r\n  {\r\n   // handle\r\n  }\r\n}\r\n```","title":"How can i execute commands based on if the status of the previous one?","body":"<p>Basically i have 2 different commands i could possibly execute. If the first one does not work, I want to execute the second command.\nIs there some easier, cleaner way to do this?\nWhat would i even put in the if statement?</p>\n<pre><code>\ntry\n{ \n    // code that may throw an exception\n    driver.findElement(By.id(&quot;component-unique-id-31&quot;)).click();\n\n}\ncatch (Exception ex)\n{\n   // Print to console\n}\n\nif(previous command threw an exception){\n\n  try\n  { \n     //Another command i want executed if the above fails\n     driver.findElement(By.xpath(&quot;//h3[normalize-space()='Something']&quot;)).click();\n       \n  }\n  catch (Exception ex)\n  {\n   // handle\n  }\n}\n</code></pre>\n"},{"tags":["java","math","equation"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1354847047,"post_id":13755976,"comment_id":18906607,"body_markdown":"Most likely there is no built-in method that does this exactly. However, you can easily implement your own.","body":"Most likely there is no built-in method that does this exactly. However, you can easily implement your own."},{"owner":{"account_id":1005212,"reputation":28558,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"score":1,"creation_date":1354847213,"post_id":13755976,"comment_id":18906639,"body_markdown":"furher you should know whats the name of that function! othetwise you could not find it, even when one exist!","body":"furher you should know whats the name of that function! othetwise you could not find it, even when one exist!"},{"owner":{"account_id":2120940,"reputation":3,"user_id":1884189,"display_name":"user1884189"},"score":0,"creation_date":1354847918,"post_id":13755976,"comment_id":18906764,"body_markdown":"The A and the B are two different numbers!","body":"The A and the B are two different numbers!"}],"answers":[{"tags":[],"owner":{"account_id":1968644,"reputation":32046,"user_id":1768232,"accept_rate":81,"display_name":"durron597"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1354847069,"creation_date":1354847069,"answer_id":13756032,"question_id":13755976,"body_markdown":"I think there is one!\r\n\r\n    public static double aValue(double aMin, double aMax, double bValue, double bMin, double bMax) {\r\n      return aMin + (bValue - bMin)/(aMax * bMax);\r\n    }\r\n\r\nI&#39;m not sure what you&#39;re talking about, actually, but I&#39;m pretty sure Java doesn&#39;t have it. Here&#39;s the [Java Math functions class](http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html)","title":"Java math function like this math equation?","body":"<p>I think there is one!</p>\n\n<pre><code>public static double aValue(double aMin, double aMax, double bValue, double bMin, double bMax) {\n  return aMin + (bValue - bMin)/(aMax * bMax);\n}\n</code></pre>\n\n<p>I'm not sure what you're talking about, actually, but I'm pretty sure Java doesn't have it. Here's the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html\" rel=\"nofollow\">Java Math functions class</a></p>\n"}],"owner":{"account_id":2120940,"reputation":3,"user_id":1884189,"display_name":"user1884189"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1354901419,"accepted_answer_id":13756032,"answer_count":1,"score":0,"last_activity_date":1646861877,"creation_date":1354846688,"question_id":13755976,"body_markdown":"Is there any kind of Java math function like what this math equation does?\r\n\r\n    A_value = A_min + (B_value-B_min)/B_max*A_max\r\n\r\nSo it would be like this:\r\n\r\n    0 + (5-0)/10*5\r\n\r\nThat would be equal to 2.5.\r\nIs there any kind of math function like this? When B increases its value by a set minimum and maximum, A&#39;s value increases by a set minimum and maximum.","title":"Java math function like this math equation?","body":"<p>Is there any kind of Java math function like what this math equation does?</p>\n<pre><code>A_value = A_min + (B_value-B_min)/B_max*A_max\n</code></pre>\n<p>So it would be like this:</p>\n<pre><code>0 + (5-0)/10*5\n</code></pre>\n<p>That would be equal to 2.5.\nIs there any kind of math function like this? When B increases its value by a set minimum and maximum, A's value increases by a set minimum and maximum.</p>\n"},{"tags":["java","configuration","scalability","cadence-workflow","uber-cadence"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646825495,"post_id":71403189,"comment_id":126218457,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":275586,"reputation":2166,"user_id":7823836,"display_name":"Long Quanzheng"},"score":0,"creation_date":1646840921,"post_id":71403189,"comment_id":126224472,"body_markdown":"Do you know what is the bottleneck here? Have you set up the dashboard? https://cadenceworkflow.io/docs/operation-guide/monitor/#cadence-default-persistence-monitoring","body":"Do you know what is the bottleneck here? Have you set up the dashboard? <a href=\"https://cadenceworkflow.io/docs/operation-guide/monitor/#cadence-default-persistence-monitoring\" rel=\"nofollow noreferrer\">cadenceworkflow.io/docs/operation-guide/monitor/&hellip;</a>"},{"owner":{"account_id":15465919,"reputation":29,"user_id":11157252,"display_name":"Paul Brebner"},"score":0,"creation_date":1646863719,"post_id":71403189,"comment_id":126232218,"body_markdown":"Actually using Instaclustr&#39;s preview of Cadence managed service, what should we be monitoring to ensure scalability across all Cadence cluster nodes and no bottlenecks? We have some metrics exposed on the console at this point but not all of them yet. Paul","body":"Actually using Instaclustr&#39;s preview of Cadence managed service, what should we be monitoring to ensure scalability across all Cadence cluster nodes and no bottlenecks? We have some metrics exposed on the console at this point but not all of them yet. Paul"},{"owner":{"account_id":275586,"reputation":2166,"user_id":7823836,"display_name":"Long Quanzheng"},"score":0,"creation_date":1646868052,"post_id":71403189,"comment_id":126233112,"body_markdown":"So what do you have for monitoring? \nNot all of them in the docs are critical, but most of them are quite important. I would encourage to have them.","body":"So what do you have for monitoring?  Not all of them in the docs are critical, but most of them are quite important. I would encourage to have them."},{"owner":{"account_id":275586,"reputation":2166,"user_id":7823836,"display_name":"Long Quanzheng"},"score":1,"creation_date":1646883146,"post_id":71403189,"comment_id":126235467,"body_markdown":"For your question of what should be monitored for scalability— most of the latency are important for monitoring latency, especially persistence/frontend/history  Api . And also task schedule to start latency","body":"For your question of what should be monitored for scalability— most of the latency are important for monitoring latency, especially persistence/frontend/history  Api . And also task schedule to start latency"}],"owner":{"account_id":15465919,"reputation":29,"user_id":11157252,"display_name":"Paul Brebner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1646861428,"creation_date":1646788014,"question_id":71403189,"body_markdown":"I&#39;ve written a Cadence Drone Demo application and I want to benchmark it and scale it up on a large Cadence cluster (6 nodes). What will I need to tune/configure on the client/worker and server-side of things please? I&#39;ve got 2 workflow types, a Drone and an Order, and they interact, and the Drone workflow is very busy (800 history events), with lots of signals, queries, short sleeps (10s), and computationally intensive activities etc. Thanks for any help, Paul","title":"Cadence client and server configurations for benchmarking and scalability?","body":"<p>I've written a Cadence Drone Demo application and I want to benchmark it and scale it up on a large Cadence cluster (6 nodes). What will I need to tune/configure on the client/worker and server-side of things please? I've got 2 workflow types, a Drone and an Order, and they interact, and the Drone workflow is very busy (800 history events), with lots of signals, queries, short sleeps (10s), and computationally intensive activities etc. Thanks for any help, Paul</p>\n"},{"tags":["java","selenium","thread-sleep"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1646810896,"post_id":71405660,"comment_id":126213271,"body_markdown":"Hover over that line. You should see what the error actually is. Or try and compile it and see what the error is.","body":"Hover over that line. You should see what the error actually is. Or try and compile it and see what the error is."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1646810944,"post_id":71405660,"comment_id":126213282,"body_markdown":"And please [do not post pictures of code](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question). Post text instead.","body":"And please <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">do not post pictures of code</a>. Post text instead."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1646811030,"post_id":71405660,"comment_id":126213303,"body_markdown":"And finally read the documentation for the [`sleep` method.](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#sleep(long)). You&#39;ll notice it throws exceptions you&#39;re not handling.","body":"And finally read the documentation for the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#sleep(long)\" rel=\"nofollow noreferrer\"><code>sleep</code> method.</a>. You&#39;ll notice it throws exceptions you&#39;re not handling."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1646811307,"post_id":71405660,"comment_id":126213379,"body_markdown":"Rather than sleeping you should have a look at https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.Timeouts.html","body":"Rather than sleeping you should have a look at <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.Timeouts.html\" rel=\"nofollow noreferrer\">selenium.dev/selenium/docs/api/java/org/openqa/selenium/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646816246,"creation_date":1646816246,"answer_id":71406670,"question_id":71405660,"body_markdown":"`Thread` is part of another library, not part of the Selenium plugin.\r\n\r\nAdd this line to your code and compile:\r\n\r\n    import java.lang.Thread;   ","title":"Selenium Thread.sleep showing error? How do I resolve the issue","body":"<p><code>Thread</code> is part of another library, not part of the Selenium plugin.</p>\n<p>Add this line to your code and compile:</p>\n<pre><code>import java.lang.Thread;   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646861388,"creation_date":1646861388,"answer_id":71416192,"question_id":71405660,"body_markdown":"This is not an actual error. It&#39;s just an indication that you have to allow the [InterruptedException](https://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html) to propagate up the call stack, as an example, by adding a _`throws`_ clause to the method in turn and letting the caller determine how to handle the interrupt. This can involve our not catching the exception or catching and rethrowing it.\r\n\r\nThere are some methods in Java that throws [InterruptedException](https://www.baeldung.com/java-interrupted-exception#what-is-an-interruptedexception). Some examples are:\r\n\r\n- Object class:\r\n  - _`Thread.sleep()`_\r\n  - _`Thread.join()`_\r\n  - _`wait()`_ \r\n\r\n- BlockingQueue:  \r\n  - _`put()`_\r\n  - _`take()`_\r\n\r\n\r\n----------\r\n\r\n\r\n  \r\nSolution\r\n--------\r\nTo add the `throws` clause you need to modify the code block as follows:\r\n\r\n\tpublic static void main() throws InterruptedException {\r\n\t    // some lines\r\n\t    Thread.sleep(1000);\r\n\t    // remaining lines\r\n\t}","title":"Selenium Thread.sleep showing error? How do I resolve the issue","body":"<p>This is not an actual error. It's just an indication that you have to allow the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html\" rel=\"nofollow noreferrer\">InterruptedException</a> to propagate up the call stack, as an example, by adding a <em><code>throws</code></em> clause to the method in turn and letting the caller determine how to handle the interrupt. This can involve our not catching the exception or catching and rethrowing it.</p>\n<p>There are some methods in Java that throws <a href=\"https://www.baeldung.com/java-interrupted-exception#what-is-an-interruptedexception\" rel=\"nofollow noreferrer\">InterruptedException</a>. Some examples are:</p>\n<ul>\n<li><p>Object class:</p>\n<ul>\n<li><em><code>Thread.sleep()</code></em></li>\n<li><em><code>Thread.join()</code></em></li>\n<li><em><code>wait()</code></em></li>\n</ul>\n</li>\n<li><p>BlockingQueue:</p>\n<ul>\n<li><em><code>put()</code></em></li>\n<li><em><code>take()</code></em></li>\n</ul>\n</li>\n</ul>\n<hr />\n<h2>Solution</h2>\n<p>To add the <code>throws</code> clause you need to modify the code block as follows:</p>\n<pre><code>public static void main() throws InterruptedException {\n    // some lines\n    Thread.sleep(1000);\n    // remaining lines\n}\n</code></pre>\n"}],"owner":{"account_id":23585272,"reputation":1,"user_id":17623798,"display_name":"wadshah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":661,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1646861388,"creation_date":1646810611,"question_id":71405660,"body_markdown":"[![The image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XTAVE.png\r\n\r\n    \r\nI tried using wait function too that to showed error.","title":"Selenium Thread.sleep showing error? How do I resolve the issue","body":"<p><a href=\"https://i.stack.imgur.com/XTAVE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XTAVE.png\" alt=\"The image\" /></a></p>\n<p>I tried using wait function too that to showed error.</p>\n"},{"tags":["java","memory-management","parameters","jvm"],"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":2,"creation_date":1519142604,"post_id":14763079,"comment_id":84783847,"body_markdown":"when using `-Xmx128m -Xms64m` it can peak around `275m` RES mem, but when using `-Xmx128m -Xms128m` it can peak around `550m` RES mem\nUsing Java 8\nBest thing is to stress the GC and look at what happens ...","body":"when using <code>-Xmx128m -Xms64m</code> it can peak around <code>275m</code> RES mem, but when using <code>-Xmx128m -Xms128m</code> it can peak around <code>550m</code> RES mem Using Java 8 Best thing is to stress the GC and look at what happens ..."},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":5,"creation_date":1610627938,"post_id":14763079,"comment_id":116195677,"body_markdown":"Just being curious, the 275m and 550m - How were they calculated?","body":"Just being curious, the 275m and 550m - How were they calculated?"},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1645658032,"post_id":14763079,"comment_id":125934241,"body_markdown":"Default values see https://stackoverflow.com/questions/4667483/how-is-the-default-max-java-heap-size-determined","body":"Default values see <a href=\"https://stackoverflow.com/questions/4667483/how-is-the-default-max-java-heap-size-determined\" title=\"how is the default max java heap size determined\">stackoverflow.com/questions/4667483/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1468834,"reputation":88950,"user_id":1380918,"accept_rate":98,"display_name":"hexacyanide"},"down_vote_count":1,"up_vote_count":1842,"is_accepted":true,"score":1841,"last_activity_date":1613617142,"creation_date":1360279771,"answer_id":14763095,"question_id":14763079,"body_markdown":"The flag `Xmx` specifies the maximum memory allocation pool for a Java Virtual Machine (JVM), while `Xms` specifies the initial memory allocation pool.\r\n\r\nThis means that your JVM will be started with `Xms` amount of memory and will be able to use a maximum of `Xmx` amount of memory. For example, starting a JVM like below will start it with 256&amp;nbsp;MB of memory and will allow the process to use up to 2048&amp;nbsp;MB of memory:\r\n\r\n    java -Xms256m -Xmx2048m\r\n\r\nThe memory flag can also be specified in different sizes, such as kilobytes, megabytes, and so on.\r\n\r\n    -Xmx1024k\r\n    -Xmx512m\r\n    -Xmx8g\r\n\r\nThe `Xms` flag has no default value, and `Xmx` typically has a default value of 256&amp;nbsp;MB. A common use for these flags is when you encounter a `java.lang.OutOfMemoryError`.\r\n\r\nWhen using these settings, keep in mind that these settings are for the JVM&#39;s *heap*, and that the JVM can and will use more memory than just the size allocated to the heap. From [Oracle&#39;s documentation][1]:\r\n\r\n&gt; Note that the JVM uses more memory than just the heap. For example Java methods, thread stacks and native handles are allocated in memory separate from the heap, as well as JVM internal data structures.\r\n\r\n  [1]: http://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/geninfo/diagnos/garbage_collect.html\r\n\r\n","title":"What are the -Xms and -Xmx parameters when starting JVM?","body":"<p>The flag <code>Xmx</code> specifies the maximum memory allocation pool for a Java Virtual Machine (JVM), while <code>Xms</code> specifies the initial memory allocation pool.</p>\n<p>This means that your JVM will be started with <code>Xms</code> amount of memory and will be able to use a maximum of <code>Xmx</code> amount of memory. For example, starting a JVM like below will start it with 256 MB of memory and will allow the process to use up to 2048 MB of memory:</p>\n<pre><code>java -Xms256m -Xmx2048m\n</code></pre>\n<p>The memory flag can also be specified in different sizes, such as kilobytes, megabytes, and so on.</p>\n<pre><code>-Xmx1024k\n-Xmx512m\n-Xmx8g\n</code></pre>\n<p>The <code>Xms</code> flag has no default value, and <code>Xmx</code> typically has a default value of 256 MB. A common use for these flags is when you encounter a <code>java.lang.OutOfMemoryError</code>.</p>\n<p>When using these settings, keep in mind that these settings are for the JVM's <em>heap</em>, and that the JVM can and will use more memory than just the size allocated to the heap. From <a href=\"http://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/geninfo/diagnos/garbage_collect.html\" rel=\"noreferrer\">Oracle's documentation</a>:</p>\n<blockquote>\n<p>Note that the JVM uses more memory than just the heap. For example Java methods, thread stacks and native handles are allocated in memory separate from the heap, as well as JVM internal data structures.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":553127,"reputation":12116,"user_id":918472,"accept_rate":71,"display_name":"Rupesh Yadav"},"down_vote_count":3,"up_vote_count":413,"is_accepted":false,"score":410,"last_activity_date":1553323898,"creation_date":1385636604,"answer_id":20264362,"question_id":14763079,"body_markdown":"Run the command `java -X` and you will get a list of all `-X` options:\r\n\r\n    C:\\Users\\Admin&gt;java -X\r\n    -Xmixed           mixed mode execution (default)\r\n    -Xint             interpreted mode execution only\r\n    -Xbootclasspath:&lt;directories and zip/jar files separated by ;&gt;\r\n                          set search path for bootstrap classes and resources\r\n    -Xbootclasspath/a:&lt;directories and zip/jar files separated by ;&gt;\r\n                          append to end of bootstrap class path\r\n    -Xbootclasspath/p:&lt;directories and zip/jar files separated by ;&gt;\r\n                          prepend in front of bootstrap class path\r\n    -Xdiag            show additional diagnostic messages\r\n    -Xnoclassgc       disable class garbage collection\r\n    -Xincgc           enable incremental garbage collection\r\n    -Xloggc:&lt;file&gt;    log GC status to a file with time stamps\r\n    -Xbatch           disable background compilation\r\n    -Xms&lt;size&gt;        set initial Java heap size.........................\r\n    -Xmx&lt;size&gt;        set maximum Java heap size.........................\r\n    -Xss&lt;size&gt;        set java thread stack size\r\n    -Xprof            output cpu profiling data\r\n    -Xfuture          enable strictest checks, anticipating future default\r\n    -Xrs              reduce use of OS signals by Java/VM (see documentation)\r\n    -Xcheck:jni       perform additional checks for JNI functions\r\n    -Xshare:off       do not attempt to use shared class data\r\n    -Xshare:auto      use shared class data if possible (default)\r\n    -Xshare:on        require using shared class data, otherwise fail.\r\n    -XshowSettings    show all settings and continue\r\n    -XshowSettings:all         show all settings and continue\r\n    -XshowSettings:vm          show all vm related settings and continue\r\n    -XshowSettings:properties  show all property settings and continue\r\n    -XshowSettings:locale      show all locale related settings and continue\r\n\r\n**The -X options are non-standard and subject to change without notice.**\r\n\r\nI hope this will help you understand `Xms`, `Xmx` as well as many other things that matters the most. :)","title":"What are the -Xms and -Xmx parameters when starting JVM?","body":"<p>Run the command <code>java -X</code> and you will get a list of all <code>-X</code> options:</p>\n\n<pre><code>C:\\Users\\Admin&gt;java -X\n-Xmixed           mixed mode execution (default)\n-Xint             interpreted mode execution only\n-Xbootclasspath:&lt;directories and zip/jar files separated by ;&gt;\n                      set search path for bootstrap classes and resources\n-Xbootclasspath/a:&lt;directories and zip/jar files separated by ;&gt;\n                      append to end of bootstrap class path\n-Xbootclasspath/p:&lt;directories and zip/jar files separated by ;&gt;\n                      prepend in front of bootstrap class path\n-Xdiag            show additional diagnostic messages\n-Xnoclassgc       disable class garbage collection\n-Xincgc           enable incremental garbage collection\n-Xloggc:&lt;file&gt;    log GC status to a file with time stamps\n-Xbatch           disable background compilation\n-Xms&lt;size&gt;        set initial Java heap size.........................\n-Xmx&lt;size&gt;        set maximum Java heap size.........................\n-Xss&lt;size&gt;        set java thread stack size\n-Xprof            output cpu profiling data\n-Xfuture          enable strictest checks, anticipating future default\n-Xrs              reduce use of OS signals by Java/VM (see documentation)\n-Xcheck:jni       perform additional checks for JNI functions\n-Xshare:off       do not attempt to use shared class data\n-Xshare:auto      use shared class data if possible (default)\n-Xshare:on        require using shared class data, otherwise fail.\n-XshowSettings    show all settings and continue\n-XshowSettings:all         show all settings and continue\n-XshowSettings:vm          show all vm related settings and continue\n-XshowSettings:properties  show all property settings and continue\n-XshowSettings:locale      show all locale related settings and continue\n</code></pre>\n\n<p><strong>The -X options are non-standard and subject to change without notice.</strong></p>\n\n<p>I hope this will help you understand <code>Xms</code>, <code>Xmx</code> as well as many other things that matters the most. :)</p>\n"},{"tags":[],"owner":{"account_id":3234332,"reputation":151,"user_id":2728885,"display_name":"Abhishek Aich"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1553324068,"creation_date":1391780586,"answer_id":21629315,"question_id":14763079,"body_markdown":"The question itself has already been addressed above. \r\nJust adding part of the default values.\r\n\r\nAs per http://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/jrdocs/refman/optionX.html\r\n\r\nThe default value of Xmx will depend on platform and amount of memory available in the system.","title":"What are the -Xms and -Xmx parameters when starting JVM?","body":"<p>The question itself has already been addressed above. \nJust adding part of the default values.</p>\n\n<p>As per <a href=\"http://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/jrdocs/refman/optionX.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/jrdocs/refman/optionX.html</a></p>\n\n<p>The default value of Xmx will depend on platform and amount of memory available in the system.</p>\n"},{"tags":[],"owner":{"account_id":3726352,"reputation":439,"user_id":3100160,"display_name":"Mehrez BEN MOHAMED"},"down_vote_count":21,"up_vote_count":36,"is_accepted":false,"score":15,"last_activity_date":1553323918,"creation_date":1424166642,"answer_id":28559044,"question_id":14763079,"body_markdown":"You can specify it in your IDE. For example, for Eclipse in *Run Configurations* → *VM arguments*. You can enter `-Xmx800m -Xms500m` as\r\n\r\n![Enter image description here][1]\r\n\r\n  [1]: http://i.stack.imgur.com/lJHpH.png\r\n\r\n","title":"What are the -Xms and -Xmx parameters when starting JVM?","body":"<p>You can specify it in your IDE. For example, for Eclipse in <em>Run Configurations</em> → <em>VM arguments</em>. You can enter <code>-Xmx800m -Xms500m</code> as</p>\n\n<p><img src=\"https://i.stack.imgur.com/lJHpH.png\" alt=\"Enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":9316795,"reputation":1583,"user_id":6916890,"display_name":"lazylead"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1646861367,"creation_date":1577948641,"answer_id":59559516,"question_id":14763079,"body_markdown":"**-Xms** is the initial heap size for the startup, however, during the working process, the heap size can be less than **-Xms**  due to users&#39; inactivity or GC iterations.\r\nThis is not a minimum required heap size.\r\n\r\n**-Xmx** is the maximum heap size","title":"What are the -Xms and -Xmx parameters when starting JVM?","body":"<p><strong>-Xms</strong> is the initial heap size for the startup, however, during the working process, the heap size can be less than <strong>-Xms</strong>  due to users' inactivity or GC iterations.\nThis is not a minimum required heap size.</p>\n<p><strong>-Xmx</strong> is the maximum heap size</p>\n"}],"owner":{"account_id":1286970,"reputation":14838,"user_id":1239857,"accept_rate":31,"display_name":"Pankaj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2728886,"favorite_count":0,"down_vote_count":2,"up_vote_count":1442,"accepted_answer_id":14763095,"answer_count":5,"score":1440,"last_activity_date":1646861367,"creation_date":1360279700,"question_id":14763079,"body_markdown":"Please explain the use of the `Xms` and `Xmx` parameters in JVMs. What are the default values for them?\r\n\r\n","title":"What are the -Xms and -Xmx parameters when starting JVM?","body":"<p>Please explain the use of the <code>Xms</code> and <code>Xmx</code> parameters in JVMs. What are the default values for them?</p>\n"},{"tags":["java","selenium","serenity-bdd"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646847954,"post_id":71413543,"comment_id":126227387,"body_markdown":"Have you set the property for the web driver anywhere? If I have to guess, I think the problem (as the error indicates) the web driver is null. If you don&#39;t tell the test runner where to obtain the `.exe` file to properly instantiate the driver, this is the most likely result.","body":"Have you set the property for the web driver anywhere? If I have to guess, I think the problem (as the error indicates) the web driver is null. If you don&#39;t tell the test runner where to obtain the <code>.exe</code> file to properly instantiate the driver, this is the most likely result."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646849696,"post_id":71413543,"comment_id":126227972,"body_markdown":"It took me a while to figure what this `@Managed` annotation was because I never used it. Is this part of `net.thucydides`? If so, this is not correct at all as far as I can tell.","body":"It took me a while to figure what this <code>@Managed</code> annotation was because I never used it. Is this part of <code>net.thucydides</code>? If so, this is not correct at all as far as I can tell."}],"answers":[{"tags":[],"owner":{"account_id":24074560,"reputation":84,"user_id":18050083,"display_name":"PJMan0300"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646847511,"creation_date":1646846945,"answer_id":71413585,"question_id":71413543,"body_markdown":"What you&#39;re seeing is that driver is still null because BasePage has not yet been instantiated. You will have to override the navigateTo method in some way to create a driver.\r\n```\r\nclass BasePage extends PageObject {\r\n\r\n  @Managed\r\n   WebDriver driver;\r\n\r\n    \r\n    public Alert waitingForAlert() throws InterruptedException {\r\n        Alert al = driver.switchTo().alert();\r\n        return al;\r\n    }\r\n\r\n    public void navigateTo() { // your code here ... }\r\n}\r\n```","title":"Null pointer exception for alerts: JAVA","body":"<p>What you're seeing is that driver is still null because BasePage has not yet been instantiated. You will have to override the navigateTo method in some way to create a driver.</p>\n<pre><code>class BasePage extends PageObject {\n\n  @Managed\n   WebDriver driver;\n\n    \n    public Alert waitingForAlert() throws InterruptedException {\n        Alert al = driver.switchTo().alert();\n        return al;\n    }\n\n    public void navigateTo() { // your code here ... }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18942186,"reputation":457,"user_id":13821955,"display_name":"Rashad Nasirli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646861072,"creation_date":1646861072,"answer_id":71416141,"question_id":71413543,"body_markdown":"You get this error only because of using driver before creating an instance of it.\r\nLet&#39;s suppose you want to run this test case on Chrome and your PageObject class doesn&#39;t have Chrome Driver instance (if yes it will create new chrome driver instance again which is not supposed to do)\r\n\r\n      WebDriver driver; \r\n\r\n    \r\n    public Alert waitingForAlert() throws InterruptedException {\r\n        Alert al = driver.switchTo().alert(); \r\n        return al;\r\n    }\r\n\r\nThe nullPointer exception comes from this line: `driver.switchTo().alert();`\r\nin order to use driver you should create an instance of it. Meaning you can do it by typing:\r\n\r\n    class BasePage extends PageObject {\r\n\r\n \r\n\r\n     @Managed\r\n       WebDriver driver;\r\n\r\n    public void setDriver()\r\n    {\r\n    \r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;&lt;Path of ChromeDriver.exe here&gt;&quot;); \r\n         driver = new ChromeDriver(); // Creating new &#39;ChromeDriver&#39; instance\r\n    }\r\n    \r\n        public Alert waitingForAlert() throws InterruptedException {\r\n        setDriver();\r\n        Alert al = driver.switchTo().alert(); \r\n        return al;\r\n    }\r\n`}`\r\n\r\n","title":"Null pointer exception for alerts: JAVA","body":"<p>You get this error only because of using driver before creating an instance of it.\nLet's suppose you want to run this test case on Chrome and your PageObject class doesn't have Chrome Driver instance (if yes it will create new chrome driver instance again which is not supposed to do)</p>\n<pre><code>  WebDriver driver; \n\n\npublic Alert waitingForAlert() throws InterruptedException {\n    Alert al = driver.switchTo().alert(); \n    return al;\n}\n</code></pre>\n<p>The nullPointer exception comes from this line: <code>driver.switchTo().alert();</code>\nin order to use driver you should create an instance of it. Meaning you can do it by typing:</p>\n<pre><code>class BasePage extends PageObject {\n\n\n\n @Managed\n   WebDriver driver;\n\npublic void setDriver()\n{\n\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;&lt;Path of ChromeDriver.exe here&gt;&quot;); \n     driver = new ChromeDriver(); // Creating new 'ChromeDriver' instance\n}\n\n    public Alert waitingForAlert() throws InterruptedException {\n    setDriver();\n    Alert al = driver.switchTo().alert(); \n    return al;\n}\n</code></pre>\n<p><code>}</code></p>\n"}],"owner":{"account_id":9223316,"reputation":2501,"user_id":6851888,"accept_rate":50,"display_name":"SUPARNA SOMAN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1053,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646861072,"creation_date":1646846726,"question_id":71413543,"body_markdown":"   Here is my code:\r\n    \r\n    public class BasePage extends PageObject {\r\n    \r\n      @Managed\r\n       WebDriver driver;\r\n    \r\n        \r\n        public Alert waitingForAlert() throws InterruptedException {\r\n            Alert al = driver.switchTo().alert();\r\n            return al;\r\n        }\r\n\r\n\r\n\r\nI&#39;m getting the error \r\n  \r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.switchTo()&quot; because &quot;this.driver&quot; is null\r\n\r\n","title":"Null pointer exception for alerts: JAVA","body":"<p>Here is my code:</p>\n<pre><code>public class BasePage extends PageObject {\n\n  @Managed\n   WebDriver driver;\n\n    \n    public Alert waitingForAlert() throws InterruptedException {\n        Alert al = driver.switchTo().alert();\n        return al;\n    }\n</code></pre>\n<p>I'm getting the error</p>\n<p>java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.switchTo()&quot; because &quot;this.driver&quot; is null</p>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":17896735,"reputation":4904,"user_id":13001961,"display_name":"Tom V"},"score":0,"creation_date":1646858561,"post_id":71415607,"comment_id":126230781,"body_markdown":"Welcome to stack exchange!  This question is not related to Serial Peripheral Interface, so I have removed the SPI tag.","body":"Welcome to stack exchange!  This question is not related to Serial Peripheral Interface, so I have removed the SPI tag."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646860625,"creation_date":1646860625,"answer_id":71416070,"question_id":71415607,"body_markdown":"In Java 11 the scanning for the drivers is only started when the first connection is opened:\r\n\r\n[`DriverManager.getConnection(String url)`](https://github.com/openjdk/jdk11u/blob/master/src/java.sql/share/classes/java/sql/DriverManager.java#L247)\r\n\r\n    public static Connection getConnection(String url)\r\n        throws SQLException {\r\n\r\n        java.util.Properties info = new java.util.Properties();\r\n        return (getConnection(url, info, Reflection.getCallerClass()));\r\n    }\r\n\r\ncalls [`DriverManager.getConnection(String url, Properties info, Class&lt;?&gt; caller)`](https://github.com/openjdk/jdk11u/blob/master/src/java.sql/share/classes/java/sql/DriverManager.java#L646):\r\n\r\n    private static Connection getConnection(\r\n        String url, java.util.Properties info, Class&lt;?&gt; caller) throws SQLException {\r\n        // [..]\r\n        ensureDriversInitialized();\r\n        // [..]\r\n    }\r\n\r\nwhich in turn calls [`DriverManager.ensureDriversInitialized()`](https://github.com/openjdk/jdk11u/blob/master/src/java.sql/share/classes/java/sql/DriverManager.java#L570) which finally uses the `java.util.ServiceLoader` class to effectively load the drivers:\r\n\r\n    private static void ensureDriversInitialized() {\r\n        // [..]\r\n                        ServiceLoader&lt;Driver&gt; loadedDrivers = ServiceLoader.load(Driver.class);\r\n        // [..]\r\n    }\r\n","title":"How JAVA11 use SPI to load SQL Driver Class","body":"<p>In Java 11 the scanning for the drivers is only started when the first connection is opened:</p>\n<p><a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.sql/share/classes/java/sql/DriverManager.java#L247\" rel=\"nofollow noreferrer\"><code>DriverManager.getConnection(String url)</code></a></p>\n<pre><code>public static Connection getConnection(String url)\n    throws SQLException {\n\n    java.util.Properties info = new java.util.Properties();\n    return (getConnection(url, info, Reflection.getCallerClass()));\n}\n</code></pre>\n<p>calls <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.sql/share/classes/java/sql/DriverManager.java#L646\" rel=\"nofollow noreferrer\"><code>DriverManager.getConnection(String url, Properties info, Class&lt;?&gt; caller)</code></a>:</p>\n<pre><code>private static Connection getConnection(\n    String url, java.util.Properties info, Class&lt;?&gt; caller) throws SQLException {\n    // [..]\n    ensureDriversInitialized();\n    // [..]\n}\n</code></pre>\n<p>which in turn calls <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.sql/share/classes/java/sql/DriverManager.java#L570\" rel=\"nofollow noreferrer\"><code>DriverManager.ensureDriversInitialized()</code></a> which finally uses the <code>java.util.ServiceLoader</code> class to effectively load the drivers:</p>\n<pre><code>private static void ensureDriversInitialized() {\n    // [..]\n                    ServiceLoader&lt;Driver&gt; loadedDrivers = ServiceLoader.load(Driver.class);\n    // [..]\n}\n</code></pre>\n"}],"owner":{"account_id":24506724,"reputation":61,"user_id":18421645,"display_name":"askaquestion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71416070,"answer_count":1,"score":0,"last_activity_date":1646860625,"creation_date":1646857606,"question_id":71415607,"body_markdown":"In Java8 there is a static block in java.sql.DriverManger class as \r\n```\r\n    static {\r\n        loadInitialDrivers();\r\n        println(&quot;JDBC DriverManager initialized&quot;);\r\n    }\r\n```\r\nIt will be executed when java.sql.DriverManger class is loaded by ClassLoader, and it will call the ServiceLoader.load() method to start to scan files under META-IFO/services folder in jars under the classpath. In this way it register all the Driver class defined in services folder.    \r\nHowever, in Java11, it don&#39;t have this static block anymore, I was wondering how Java11 starts the SPI process. Thanks for any answers. ","title":"How JAVA11 use SPI to load SQL Driver Class","body":"<p>In Java8 there is a static block in java.sql.DriverManger class as</p>\n<pre><code>    static {\n        loadInitialDrivers();\n        println(&quot;JDBC DriverManager initialized&quot;);\n    }\n</code></pre>\n<p>It will be executed when java.sql.DriverManger class is loaded by ClassLoader, and it will call the ServiceLoader.load() method to start to scan files under META-IFO/services folder in jars under the classpath. In this way it register all the Driver class defined in services folder.<br />\nHowever, in Java11, it don't have this static block anymore, I was wondering how Java11 starts the SPI process. Thanks for any answers.</p>\n"},{"tags":["java","json","oop","server","jackson"],"comments":[{"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"score":2,"creation_date":1646862647,"post_id":71416065,"comment_id":126231942,"body_markdown":"Jackson does all of this for you - search engine keywords : &#39;jackson polymorphism&#39;. There are many styles and options to play with so the best advice is to dig into this long but thorough writeup https://www.baeldung.com/jackson-inheritance","body":"Jackson does all of this for you - search engine keywords : &#39;jackson polymorphism&#39;. There are many styles and options to play with so the best advice is to dig into this long but thorough writeup <a href=\"https://www.baeldung.com/jackson-inheritance\" rel=\"nofollow noreferrer\">baeldung.com/jackson-inheritance</a>"},{"owner":{"account_id":22582612,"reputation":23,"user_id":16767068,"display_name":"Thibaut"},"score":0,"creation_date":1647885849,"post_id":71416065,"comment_id":126479118,"body_markdown":"Thank you very much for your reply. I did not know how to look for what I wanted to do, and the keywords you provided enabled me to find what I was looking for.","body":"Thank you very much for your reply. I did not know how to look for what I wanted to do, and the keywords you provided enabled me to find what I was looking for."}],"owner":{"account_id":22582612,"reputation":23,"user_id":16767068,"display_name":"Thibaut"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646860592,"creation_date":1646860592,"question_id":71416065,"body_markdown":"I am currently developping a whiteboard application for a student project. We have to write a whole protocol from scratch and I went for a text-based approach, for which I use JSON messages. The backend server, which replies to the client requests, is written in **Java**.\r\n\r\nThe way I handle incoming messages at the moment is done through a **WebSocket server**. The string that contains the JSON message is mapped to an object that I defined as *SuperMessage* through an **ObjectMapper** with the *mapper.readValue()* function. The **SuperMessage** class is defined as followed:\r\n\r\n```\r\npublic class SuperMessage {\r\n\r\n    private MessageType type;\r\n    private JsonNode object;\r\n\r\n    @JsonCreator\r\n    public SuperMessage(@JsonProperty(&quot;type&quot;) MessageType type, @JsonProperty(&quot;object&quot;) JsonNode object) {\r\n        this.type = type;\r\n        this.object = object;\r\n    }\r\n    // Getters here\r\n}\r\n```\r\n\r\nThe *type* attribute is here to indicate what kind of message it is, and the *object* attribute contains the payload, which is a serialized object of the same type as the one indicated in the *type* attribute. Therefore, in my protocol, a JSON message has always the following structure:\r\n\r\n```\r\n{\r\n\t&quot;type&quot;:&quot;&lt;message_type&gt;&quot;,\r\n\t&quot;object&quot;: {\r\n\t\t&quot;attribute_1&quot;: &quot;&lt;value_1&gt;&quot;,\r\n\t\t&quot;attribute_2&quot;: &quot;&lt;value_2&gt;&quot;,\r\n\t\t&quot;sub_object&quot;: {\r\n\t\t\t&quot;sub_attribute_1&quot;: &quot;&lt;sub_value_1&gt;&quot;,\r\n\t\t\t&quot;sub_attribute_2&quot;: &quot;&lt;sub_value_2&gt;&quot;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nOnce this message is created, I use a **switch** statement on the *type* field from the JSON message to know what to do with that specific message. I have the following bit of code in the definition of the *onMessage()* function:\r\n\r\n```\r\n@Override\r\npublic void onMessage(WebSocket conn, String message) {\r\n    try {\r\n        SuperMessage msg = mapper.readValue(message, SuperMessage.class);\r\n        System.out.println(&quot;Message type is: &quot; + msg.getType() + &quot; and message payload is: &quot; + msg.getObject());\r\n        String messageString = msg.getObject().toString();\r\n        // For each case of the switch, errors still need to be considered and handled through exceptions\r\n        switch (msg.getType()) {\r\n            case CREATE_MEETING:\r\n                CreateMeeting createMeeting = mapper.readValue(messageString, CreateMeeting.class);\r\n                // more code\r\n                break;\r\n                // other cases\r\n       }\r\n   }\r\n}\r\n```\r\n\r\nI use the **switch cases** to know what kind of message I am dealing with, and then create the instance of the corresponding class. This is where I am stuck and I don&#39;t know how to proceed. Let&#39;s say I receive the following JSON message:\r\n\r\n```\r\n{\r\n  &quot;type&quot;: &quot;CreateMeeting&quot;,\r\n  &quot;object&quot;: {\r\n    &quot;messageId&quot;: &quot;123456&quot;,\r\n    &quot;pseudo&quot;: &quot;bob123&quot;\r\n  }\r\n}\r\n```\r\n\r\nNow, I would like to create an object of type **CreateMeeting**. However, I would like to do it in a generic manner, as I don&#39;t know in advance what kind of message I will be receiving, and I don&#39;t want to add new **switch cases** for each type of new message that I define. I know this is wrong code but that&#39;s what I would like to write:\r\n\r\n```\r\n@Override\r\npublic void onMessage(WebSocket conn, String message) {\r\n    try {\r\n        SuperMessage msg = mapper.readValue(message, SuperMessage.class);\r\n        System.out.println(&quot;Message type is: &quot; + msg.getType() + &quot; and message payload is: &quot; + msg.getObject());\r\n        String messageString = msg.getObject().toString();\r\n \t\tString className = msg.getType().toString(); // Now, className = &quot;CreateMessage&quot;;\r\n \t\t// Now messageObject&#39;s type would be CreateMessage\r\n        Object messageObject = mapper.readValue(messageString, className.class); // This code is wrong\r\n   }\r\n}\r\n```\r\n\r\n**Is there a way to do that? To dynamically map a JSON message to an object type that is not known in advance?**\r\n\r\nI am quite new to OOP, and I am sure that experienced programmers here would say this code is not clean at all. I am really looking for any kind of advice and/or methods to make this better and optimized.\r\n\r\nThanks in advance for any recommendations!","title":"How to dynamically choose an object type based on a JSON string value with Jackson library in Java?","body":"<p>I am currently developping a whiteboard application for a student project. We have to write a whole protocol from scratch and I went for a text-based approach, for which I use JSON messages. The backend server, which replies to the client requests, is written in <strong>Java</strong>.</p>\n<p>The way I handle incoming messages at the moment is done through a <strong>WebSocket server</strong>. The string that contains the JSON message is mapped to an object that I defined as <em>SuperMessage</em> through an <strong>ObjectMapper</strong> with the <em>mapper.readValue()</em> function. The <strong>SuperMessage</strong> class is defined as followed:</p>\n<pre><code>public class SuperMessage {\n\n    private MessageType type;\n    private JsonNode object;\n\n    @JsonCreator\n    public SuperMessage(@JsonProperty(&quot;type&quot;) MessageType type, @JsonProperty(&quot;object&quot;) JsonNode object) {\n        this.type = type;\n        this.object = object;\n    }\n    // Getters here\n}\n</code></pre>\n<p>The <em>type</em> attribute is here to indicate what kind of message it is, and the <em>object</em> attribute contains the payload, which is a serialized object of the same type as the one indicated in the <em>type</em> attribute. Therefore, in my protocol, a JSON message has always the following structure:</p>\n<pre><code>{\n    &quot;type&quot;:&quot;&lt;message_type&gt;&quot;,\n    &quot;object&quot;: {\n        &quot;attribute_1&quot;: &quot;&lt;value_1&gt;&quot;,\n        &quot;attribute_2&quot;: &quot;&lt;value_2&gt;&quot;,\n        &quot;sub_object&quot;: {\n            &quot;sub_attribute_1&quot;: &quot;&lt;sub_value_1&gt;&quot;,\n            &quot;sub_attribute_2&quot;: &quot;&lt;sub_value_2&gt;&quot;\n        }\n    }\n}\n</code></pre>\n<p>Once this message is created, I use a <strong>switch</strong> statement on the <em>type</em> field from the JSON message to know what to do with that specific message. I have the following bit of code in the definition of the <em>onMessage()</em> function:</p>\n<pre><code>@Override\npublic void onMessage(WebSocket conn, String message) {\n    try {\n        SuperMessage msg = mapper.readValue(message, SuperMessage.class);\n        System.out.println(&quot;Message type is: &quot; + msg.getType() + &quot; and message payload is: &quot; + msg.getObject());\n        String messageString = msg.getObject().toString();\n        // For each case of the switch, errors still need to be considered and handled through exceptions\n        switch (msg.getType()) {\n            case CREATE_MEETING:\n                CreateMeeting createMeeting = mapper.readValue(messageString, CreateMeeting.class);\n                // more code\n                break;\n                // other cases\n       }\n   }\n}\n</code></pre>\n<p>I use the <strong>switch cases</strong> to know what kind of message I am dealing with, and then create the instance of the corresponding class. This is where I am stuck and I don't know how to proceed. Let's say I receive the following JSON message:</p>\n<pre><code>{\n  &quot;type&quot;: &quot;CreateMeeting&quot;,\n  &quot;object&quot;: {\n    &quot;messageId&quot;: &quot;123456&quot;,\n    &quot;pseudo&quot;: &quot;bob123&quot;\n  }\n}\n</code></pre>\n<p>Now, I would like to create an object of type <strong>CreateMeeting</strong>. However, I would like to do it in a generic manner, as I don't know in advance what kind of message I will be receiving, and I don't want to add new <strong>switch cases</strong> for each type of new message that I define. I know this is wrong code but that's what I would like to write:</p>\n<pre><code>@Override\npublic void onMessage(WebSocket conn, String message) {\n    try {\n        SuperMessage msg = mapper.readValue(message, SuperMessage.class);\n        System.out.println(&quot;Message type is: &quot; + msg.getType() + &quot; and message payload is: &quot; + msg.getObject());\n        String messageString = msg.getObject().toString();\n        String className = msg.getType().toString(); // Now, className = &quot;CreateMessage&quot;;\n        // Now messageObject's type would be CreateMessage\n        Object messageObject = mapper.readValue(messageString, className.class); // This code is wrong\n   }\n}\n</code></pre>\n<p><strong>Is there a way to do that? To dynamically map a JSON message to an object type that is not known in advance?</strong></p>\n<p>I am quite new to OOP, and I am sure that experienced programmers here would say this code is not clean at all. I am really looking for any kind of advice and/or methods to make this better and optimized.</p>\n<p>Thanks in advance for any recommendations!</p>\n"},{"tags":["java","android-studio","gradle","discord4j"],"answers":[{"tags":[],"owner":{"account_id":19821948,"reputation":46,"user_id":14518305,"display_name":"quantic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646860400,"creation_date":1646860400,"answer_id":71416038,"question_id":71390070,"body_markdown":"I&#39;m one of the developers for Discord4J and have [pushed a fix](https://github.com/Discord4J/Discord4J/commit/f4ae01b061e86542a9f53856aad12fd749c00d17) moving the affected class to a shared module.\r\n\r\nUntil there&#39;s a stable version including it, you could switch to the latest snapshot to try it.\r\n\r\n```groovy\r\nrepositories {\r\n  maven { url &#39;https://oss.sonatype.org/content/repositories/snapshots&#39; }\r\n  mavenCentral()\r\n}\r\n\r\ndependencies {\r\n  implementation &#39;com.discord4j:discord4j-core:3.2.3-SNAPSHOT&#39;\r\n}\r\n```\r\n\r\nFrom: https://docs.discord4j.com/using-snapshots/","title":"Gradle error after adding discord4j library","body":"<p>I'm one of the developers for Discord4J and have <a href=\"https://github.com/Discord4J/Discord4J/commit/f4ae01b061e86542a9f53856aad12fd749c00d17\" rel=\"nofollow noreferrer\">pushed a fix</a> moving the affected class to a shared module.</p>\n<p>Until there's a stable version including it, you could switch to the latest snapshot to try it.</p>\n<pre><code>repositories {\n  maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }\n  mavenCentral()\n}\n\ndependencies {\n  implementation 'com.discord4j:discord4j-core:3.2.3-SNAPSHOT'\n}\n</code></pre>\n<p>From: <a href=\"https://docs.discord4j.com/using-snapshots/\" rel=\"nofollow noreferrer\">https://docs.discord4j.com/using-snapshots/</a></p>\n"}],"owner":{"account_id":24324131,"reputation":405,"user_id":18263961,"display_name":"iLittleWizard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71416038,"answer_count":1,"score":2,"last_activity_date":1646860400,"creation_date":1646714060,"question_id":71390070,"body_markdown":"I am trying to build an discord bot with [discord4j][1]. I added this line of code to the build.gradle file.\r\n\r\n    dependencies {\r\n        implementation &quot;com.discord4j:discord4j-core:3.2.2&quot;\r\n    }\r\n\r\nHowever, after I try to build the app, the build failed at task `:app:checkDebugDuplicateClasses`.\r\n\r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n    &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n       &gt; Duplicate class com.iwebpp.crypto.TweetNaclFast found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\r\n         Duplicate class com.iwebpp.crypto.TweetNaclFast$Box found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\r\n         Duplicate class com.iwebpp.crypto.TweetNaclFast$Box$KeyPair found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\r\n         Duplicate class com.iwebpp.crypto.TweetNaclFast$Hash found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\r\n         Duplicate class com.iwebpp.crypto.TweetNaclFast$ScalarMult found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\r\n         Duplicate class com.iwebpp.crypto.TweetNaclFast$SecretBox found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\r\n         Duplicate class com.iwebpp.crypto.TweetNaclFast$Signature found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\r\n         Duplicate class com.iwebpp.crypto.TweetNaclFast$Signature$KeyPair found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\r\n         Duplicate class com.iwebpp.crypto.TweetNaclFast$poly1305 found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\r\n         \r\n         Go to the documentation to learn how to &lt;a href=&quot;d.android.com/r/tools/classpath-sync-errors&quot;&gt;Fix dependency resolution errors&lt;/a&gt;.\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:188)\r\n    \tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:186)\r\n\t\tat ...\r\n\t\t\r\n    Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n    \tat org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:342)\r\n    \tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:142)\r\n    \tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:94)\r\n\t\tat ...\r\n\t\t\r\n    Caused by: java.lang.RuntimeException: Duplicate class com.iwebpp.crypto.TweetNaclFast found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\r\n    Duplicate class com.iwebpp.crypto.TweetNaclFast$Box found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\r\n    Duplicate class com.iwebpp.crypto.TweetNaclFast$Box$KeyPair found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\r\n    Duplicate class com.iwebpp.crypto.TweetNaclFast$Hash found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\r\n    Duplicate class com.iwebpp.crypto.TweetNaclFast$ScalarMult found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\r\n    Duplicate class com.iwebpp.crypto.TweetNaclFast$SecretBox found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\r\n    Duplicate class com.iwebpp.crypto.TweetNaclFast$Signature found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\r\n    Duplicate class com.iwebpp.crypto.TweetNaclFast$Signature$KeyPair found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\r\n    Duplicate class com.iwebpp.crypto.TweetNaclFast$poly1305 found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\r\n    \r\n    Go to the documentation to learn how to &lt;a href=&quot;d.android.com/r/tools/classpath-sync-errors&quot;&gt;Fix dependency resolution errors&lt;/a&gt;.\r\n    \tat com.android.build.gradle.internal.tasks.CheckDuplicateClassesDelegate.run(CheckDuplicateClassesDelegate.kt:71)\r\n    \tat com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable.execute(CheckDuplicateClassesDelegate.kt:98)\r\n    \tat ...\r\n    \r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 6s\r\n\r\nI noticed that there is a duplicate class in modules `discord4j-rest` and `discord4j-voice`. After searching for the solutions, I found [this answer][2]:\r\n\r\n&gt; Sometimes duplicate classes exception means that one of your\r\n&gt; dependencies uses implicitly the older or newer (with +) version of\r\n&gt; some library you also use in your project,\r\n\r\nHowever, these 2 modules are the dependencies of discord4j. Therefore, I am not able to use the `force` function with them. How can I solve this problem?\r\n\r\n  [1]: https://discord4j.com/\r\n  [2]: https://stackoverflow.com/a/57426167/18263961","title":"Gradle error after adding discord4j library","body":"<p>I am trying to build an discord bot with <a href=\"https://discord4j.com/\" rel=\"nofollow noreferrer\">discord4j</a>. I added this line of code to the build.gradle file.</p>\n<pre><code>dependencies {\n    implementation &quot;com.discord4j:discord4j-core:3.2.2&quot;\n}\n</code></pre>\n<p>However, after I try to build the app, the build failed at task <code>:app:checkDebugDuplicateClasses</code>.</p>\n<pre><code>* What went wrong:\nExecution failed for task ':app:checkDebugDuplicateClasses'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\n   &gt; Duplicate class com.iwebpp.crypto.TweetNaclFast found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\n     Duplicate class com.iwebpp.crypto.TweetNaclFast$Box found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\n     Duplicate class com.iwebpp.crypto.TweetNaclFast$Box$KeyPair found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\n     Duplicate class com.iwebpp.crypto.TweetNaclFast$Hash found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\n     Duplicate class com.iwebpp.crypto.TweetNaclFast$ScalarMult found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\n     Duplicate class com.iwebpp.crypto.TweetNaclFast$SecretBox found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\n     Duplicate class com.iwebpp.crypto.TweetNaclFast$Signature found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\n     Duplicate class com.iwebpp.crypto.TweetNaclFast$Signature$KeyPair found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\n     Duplicate class com.iwebpp.crypto.TweetNaclFast$poly1305 found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\n     \n     Go to the documentation to learn how to &lt;a href=&quot;d.android.com/r/tools/classpath-sync-errors&quot;&gt;Fix dependency resolution errors&lt;/a&gt;.\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:checkDebugDuplicateClasses'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:188)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:186)\n    at ...\n    \nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\n    at org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:342)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:142)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:94)\n    at ...\n    \nCaused by: java.lang.RuntimeException: Duplicate class com.iwebpp.crypto.TweetNaclFast found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\nDuplicate class com.iwebpp.crypto.TweetNaclFast$Box found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\nDuplicate class com.iwebpp.crypto.TweetNaclFast$Box$KeyPair found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\nDuplicate class com.iwebpp.crypto.TweetNaclFast$Hash found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\nDuplicate class com.iwebpp.crypto.TweetNaclFast$ScalarMult found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\nDuplicate class com.iwebpp.crypto.TweetNaclFast$SecretBox found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\nDuplicate class com.iwebpp.crypto.TweetNaclFast$Signature found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\nDuplicate class com.iwebpp.crypto.TweetNaclFast$Signature$KeyPair found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\nDuplicate class com.iwebpp.crypto.TweetNaclFast$poly1305 found in modules discord4j-rest-3.2 (com.discord4j:discord4j-rest:3.2.2) and discord4j-voice-3.2 (com.discord4j:discord4j-voice:3.2.2)\n\nGo to the documentation to learn how to &lt;a href=&quot;d.android.com/r/tools/classpath-sync-errors&quot;&gt;Fix dependency resolution errors&lt;/a&gt;.\n    at com.android.build.gradle.internal.tasks.CheckDuplicateClassesDelegate.run(CheckDuplicateClassesDelegate.kt:71)\n    at com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable.execute(CheckDuplicateClassesDelegate.kt:98)\n    at ...\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 6s\n</code></pre>\n<p>I noticed that there is a duplicate class in modules <code>discord4j-rest</code> and <code>discord4j-voice</code>. After searching for the solutions, I found <a href=\"https://stackoverflow.com/a/57426167/18263961\">this answer</a>:</p>\n<blockquote>\n<p>Sometimes duplicate classes exception means that one of your\ndependencies uses implicitly the older or newer (with +) version of\nsome library you also use in your project,</p>\n</blockquote>\n<p>However, these 2 modules are the dependencies of discord4j. Therefore, I am not able to use the <code>force</code> function with them. How can I solve this problem?</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1646858101,"post_id":71415619,"comment_id":126230642,"body_markdown":"Refactor your application, so that static method calls like this occur in a wrapper class.  In your test, mock the wrapper class.","body":"Refactor your application, so that static method calls like this occur in a wrapper class.  In your test, mock the wrapper class."}],"answers":[{"tags":[],"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646860362,"creation_date":1646860362,"answer_id":71416029,"question_id":71415619,"body_markdown":"**Option 1:** factor out the static method call into a separate method and use Mockito `spy`:\r\n\r\n```\r\nclass Foo {\r\n\r\n    public void methodToTest(){\r\n        checkCondition(args);\r\n        // ....\r\n    }\r\n\r\n    boolean checkCondition(Object args) {\r\n        return SomeUtil.checkCondition(args);\r\n    }\r\n}\r\n```\r\n```\r\nclass FooTest {\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    private Foo foo;\r\n\r\n    @Test\r\n    void methodToTest() {\r\n        //...\r\n        when(foo.checkCondition(yourArg)).thenReturn(true);\r\n    }\r\n}\r\n```\r\n\r\nSee the [Spy][1] documentation for more details:\r\n\r\n**Option 2:** factor out verification into a class:\r\n\r\n```\r\nclass ArgumentVerifier {\r\n    boolean checkArgument(Object args) {\r\n        return SomeUtil.checkCondition(args);\r\n    }\r\n}\r\n```\r\n```\r\nclass Foo {\r\n    private ArgumentVerifier verifier;\r\n\r\n    public void methodToTest() {\r\n        verifier.checkArgument(args); // mock the verifier as you normally would\r\n        // ....\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Spy.html","title":"Mockito - Mock external util method call","body":"<p><strong>Option 1:</strong> factor out the static method call into a separate method and use Mockito <code>spy</code>:</p>\n<pre><code>class Foo {\n\n    public void methodToTest(){\n        checkCondition(args);\n        // ....\n    }\n\n    boolean checkCondition(Object args) {\n        return SomeUtil.checkCondition(args);\n    }\n}\n</code></pre>\n<pre><code>class FooTest {\n\n    @Spy\n    @InjectMocks\n    private Foo foo;\n\n    @Test\n    void methodToTest() {\n        //...\n        when(foo.checkCondition(yourArg)).thenReturn(true);\n    }\n}\n</code></pre>\n<p>See the <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Spy.html\" rel=\"nofollow noreferrer\">Spy</a> documentation for more details:</p>\n<p><strong>Option 2:</strong> factor out verification into a class:</p>\n<pre><code>class ArgumentVerifier {\n    boolean checkArgument(Object args) {\n        return SomeUtil.checkCondition(args);\n    }\n}\n</code></pre>\n<pre><code>class Foo {\n    private ArgumentVerifier verifier;\n\n    public void methodToTest() {\n        verifier.checkArgument(args); // mock the verifier as you normally would\n        // ....\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646860388,"creation_date":1646860388,"answer_id":71416037,"question_id":71415619,"body_markdown":"It is possible since Mockito 3.4.0: [Mocking Static Methods With Mockito](https://www.baeldung.com/mockito-mock-static-methods) \r\n\r\nBut please be aware that:\r\n- injecting remains a more explicit way of expressing dependency on another object/service, especially external api\r\n- static helper methods rarely need to be mocked (especially if they depend only on their arguments)\r\n\r\nThis limits the number of cases where mocking a static method is the tool of choice, but it is worth having it under your belt.\r\n","title":"Mockito - Mock external util method call","body":"<p>It is possible since Mockito 3.4.0: <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">Mocking Static Methods With Mockito</a></p>\n<p>But please be aware that:</p>\n<ul>\n<li>injecting remains a more explicit way of expressing dependency on another object/service, especially external api</li>\n<li>static helper methods rarely need to be mocked (especially if they depend only on their arguments)</li>\n</ul>\n<p>This limits the number of cases where mocking a static method is the tool of choice, but it is worth having it under your belt.</p>\n"}],"owner":{"account_id":144187,"reputation":7338,"user_id":353046,"accept_rate":47,"display_name":"Mankind1023"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":945,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646860388,"creation_date":1646857655,"question_id":71415619,"body_markdown":"I&#39;m trying to test a method that calls an external util static method for a check, and need to somehow mock it to return true / false conditions, here is a sample:\r\n\r\n    class foo {\r\n     public void methodToTest(){\r\n      ..logic\r\n      boolean myCondition = SomeUtil.checkCondition(args);\r\n      ..more logic\r\n     }\r\n    }\r\n\r\nIs this possible to do with mockito only? If not directly, is there a way to replace the SameUtil method with reflection or something similar?\r\n\r\nI saw people suggesting powermock, but they don&#39;t have mockito 3.x listed on their compatibility chart, is there a better option?\r\n\r\nThis seems like a pretty common case, not everything should be autowired or injected.","title":"Mockito - Mock external util method call","body":"<p>I'm trying to test a method that calls an external util static method for a check, and need to somehow mock it to return true / false conditions, here is a sample:</p>\n<pre><code>class foo {\n public void methodToTest(){\n  ..logic\n  boolean myCondition = SomeUtil.checkCondition(args);\n  ..more logic\n }\n}\n</code></pre>\n<p>Is this possible to do with mockito only? If not directly, is there a way to replace the SameUtil method with reflection or something similar?</p>\n<p>I saw people suggesting powermock, but they don't have mockito 3.x listed on their compatibility chart, is there a better option?</p>\n<p>This seems like a pretty common case, not everything should be autowired or injected.</p>\n"},{"tags":["java","user-interface","singleton","stack-overflow"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646861700,"post_id":71415886,"comment_id":126231690,"body_markdown":"Generally speaking, you&#39;re describing, essentially, a &quot;god class&quot;, where all the responsibility is passed through this one class.  To my mind, that&#39;s going to end up in a mess of branching logic and state (mis)management. Why I would certainly agree with having a single window as the base component, I would be focused on decoupling the navigation workflows, data and state management from the UI and individual views. I&#39;d make use of things like dependency injection to pass data, observer patterns to make the interactions between the view(s) and the models","body":"Generally speaking, you&#39;re describing, essentially, a &quot;god class&quot;, where all the responsibility is passed through this one class.  To my mind, that&#39;s going to end up in a mess of branching logic and state (mis)management. Why I would certainly agree with having a single window as the base component, I would be focused on decoupling the navigation workflows, data and state management from the UI and individual views. I&#39;d make use of things like dependency injection to pass data, observer patterns to make the interactions between the view(s) and the models"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646861870,"post_id":71415886,"comment_id":126231738,"body_markdown":"Navigation is actually a complex problem and can end up in spaghetti very fast, especially if you have a non-linear workflow.  In the past I&#39;ve build navigation workflows which are independent of each other, but which allows one navigation controller to pass control off to another (so one nav controller becomes a child of another). This allows the each navigation controller to be specialised for it&#39;s particular needs without the need to expose functionality or workflows to parties which don&#39;t need it","body":"Navigation is actually a complex problem and can end up in spaghetti very fast, especially if you have a non-linear workflow.  In the past I&#39;ve build navigation workflows which are independent of each other, but which allows one navigation controller to pass control off to another (so one nav controller becomes a child of another). This allows the each navigation controller to be specialised for it&#39;s particular needs without the need to expose functionality or workflows to parties which don&#39;t need it"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646862021,"post_id":71415886,"comment_id":126231772,"body_markdown":"I&#39;ve also coupled the navigation controllers with a navigation &quot;model&quot; and &quot;view factory&quot; concept, so that the controller itself becomes a re-usable, self contained unit of work, which &quot;delegates&quot; parts of it&#39;s functionality to the model and factory, so you don&#39;t have to have all the views initialised at the same time and can control the flow of navigation based on the available state (been passed between the views and the model)","body":"I&#39;ve also coupled the navigation controllers with a navigation &quot;model&quot; and &quot;view factory&quot; concept, so that the controller itself becomes a re-usable, self contained unit of work, which &quot;delegates&quot; parts of it&#39;s functionality to the model and factory, so you don&#39;t have to have all the views initialised at the same time and can control the flow of navigation based on the available state (been passed between the views and the model)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646862109,"post_id":71415886,"comment_id":126231789,"body_markdown":"So, I guess my &quot;basic&quot; answer is, no, it&#39;s not a good idea.  You should aim to &quot;decouple&quot; as much of the workflow as you can and not rely on hard coded paths if possible - use models/delegation instead - IMHO.  You could also make use of different UI containers, like `JTabbedPane` to allow the user to more freely choose which views that want to look at","body":"So, I guess my &quot;basic&quot; answer is, no, it&#39;s not a good idea.  You should aim to &quot;decouple&quot; as much of the workflow as you can and not rely on hard coded paths if possible - use models/delegation instead - IMHO.  You could also make use of different UI containers, like <code>JTabbedPane</code> to allow the user to more freely choose which views that want to look at"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646862230,"post_id":71415886,"comment_id":126231820,"body_markdown":"MVC is also a multi layered capable.  That is, a MVC can contain one or more MVC &#128521;","body":"MVC is also a multi layered capable.  That is, a MVC can contain one or more MVC 😉"},{"owner":{"account_id":12496424,"reputation":3,"user_id":9096245,"display_name":"ZenGingersaus"},"score":0,"creation_date":1646862520,"post_id":71415886,"comment_id":126231897,"body_markdown":"So, maybe then instead of a &quot;god class&quot;, use a constructor (or some method) to pass the &quot;base frame component&quot; to the class that&#39;s &quot;in view&quot;? That way they share the same core characteristics, but the &quot;flow&quot; would be less dependent on a singular class, and more dynamic in how it can internally navigate between classes?  Now that I&#39;m typing this, it kinda sounds like the base frame could behave more like an interface that the other classes then &quot;build off of&quot;","body":"So, maybe then instead of a &quot;god class&quot;, use a constructor (or some method) to pass the &quot;base frame component&quot; to the class that&#39;s &quot;in view&quot;? That way they share the same core characteristics, but the &quot;flow&quot; would be less dependent on a singular class, and more dynamic in how it can internally navigate between classes?  Now that I&#39;m typing this, it kinda sounds like the base frame could behave more like an interface that the other classes then &quot;build off of&quot;"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646945867,"post_id":71415886,"comment_id":126256022,"body_markdown":"So, if you&#39;re really willing to take some time and effort, you could have a look at [this &quot;conceptual&quot; idea for a Swing based navigation controller](https://github.com/RustyKnight/SimpleSwingNavigationController) and if you&#39;re still keen, you could have a look [at this, crazier idea](https://github.com/RustyKnight/SwingNavigationControllerPane)","body":"So, if you&#39;re really willing to take some time and effort, you could have a look at <a href=\"https://github.com/RustyKnight/SimpleSwingNavigationController\" rel=\"nofollow noreferrer\">this &quot;conceptual&quot; idea for a Swing based navigation controller</a> and if you&#39;re still keen, you could have a look <a href=\"https://github.com/RustyKnight/SwingNavigationControllerPane\" rel=\"nofollow noreferrer\">at this, crazier idea</a>"},{"owner":{"account_id":12496424,"reputation":3,"user_id":9096245,"display_name":"ZenGingersaus"},"score":0,"creation_date":1647124549,"post_id":71415886,"comment_id":126294354,"body_markdown":"Your advice has been greatly appreciated!  After your initial comments about dependency injection, I&#39;ve started looking into using the Spring frame-work, and how that could help. And now with those additional resources given, I&#39;m going to try and digest as much as I can from their design layout to see what sort of &quot;mixed integration&quot; I could implement from combining the different design concepts.","body":"Your advice has been greatly appreciated!  After your initial comments about dependency injection, I&#39;ve started looking into using the Spring frame-work, and how that could help. And now with those additional resources given, I&#39;m going to try and digest as much as I can from their design layout to see what sort of &quot;mixed integration&quot; I could implement from combining the different design concepts."}],"owner":{"account_id":12496424,"reputation":3,"user_id":9096245,"display_name":"ZenGingersaus"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646859358,"creation_date":1646859358,"question_id":71415886,"body_markdown":"I&#39;ve been working on an app that&#39;s similar to a dnd character sheet, and I hate working with GUI&#39;s. I thought of using something not unlike a MVC pattern for handling the GUI framework (how panels are loaded or hidden), but in my approach I ended up combining it with a Singleton pattern to establish a base class called GUI_Controller that all panels were then loaded onto via method calls. This let me create each new &quot;page&quot; or &quot;sheet&quot; as a separate class, and when I needed it to be &quot;loaded&quot; all I had to do was use the method call within the Singleton GUI_Controller. This approach seems to work, and I like how it makes the framework of the GUI easy to follow. My question is, is this OK? or is this only working for now? I didn&#39;t know if the way the control works, if this could lead to a stack overflow error if the &quot;view&quot; kept shifting enough with more and more method calls to classes stacking up. Or if by returning to the Singleton each time, the stack was being kept clean, but resulting in any data &quot;loaded&quot; by one class&#39;s call being &quot;erased&quot; and then &quot;re-loaded&quot; when that class&#39;s call was called again (ex: clicking on the spells page, going back to character page, then clicking on spells page again). \r\n\r\nIf so, the data is called via a &quot;Database&quot; class that connects an SQL database. Would it then be best to front load the database before initially moving scope to the Singleton?\r\n\r\nThe Singleton for GUI_Controller looks like this..\r\n\r\n    public class GUI_Controller extends JFrame{\r\n\t   private static GUI_Controller singleton = new GUI_Controller();\r\n\t\r\n\tprivate GUI_Controller() {\r\n\t\tinitialize();\r\n\t}\r\n\t\r\n\tpublic static GUI_Controller getSingleton() {\r\n\t\tif(singleton == null) {\r\n\t\t\tsingleton = new GUI_Controller();\r\n\t\t}\r\n\t\treturn singleton;\r\n\t}\r\n\t\r\n\tprivate JFrame frame;\r\n\t\r\n\t\r\n\tprivate void initialize() {\r\n\t\tframe = new JFrame();\r\n\t\tframe.setLocation(100,100);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.getContentPane().setLayout(new FlowLayout(FlowLayout.CENTER, 0, 0));\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic void setHomePage() {\r\n\t\tHomePage hp = new HomePage();\r\n\t\t\r\n\t\tframe.getContentPane().removeAll();\r\n\t\tframe.getContentPane().add(hp);\r\n\t\t\r\n\t\tframe.pack();\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\t\r\n\t\r\n\tpublic void setSpellsPage() {\r\n\t\tSpellsPage sp = new SpellsPage();\r\n\t\t\r\n\t\tframe.getContentPane().removeAll();\r\n\t\tframe.getContentPane().add(sp);\r\n\t\t\r\n\t\tframe.pack();\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\r\n\r\nand other classes access the Singleton in ways like\r\n\r\n    GUI_Controller gui = GUI_Controller.getSingleton();\r\n\t\tgui.setHomePage();\r\n\r\nand\r\n\r\n    btnViewSpells.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tGUI_Controller gui = GUI_Controller.getSingleton();\r\n\t\t\t\tgui.setSpellsPage();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\nI&#39;ll add a note that each class is not a single JPanel, but acts as a &quot;frame&quot; having it&#39;s own design and card layout views. I came up with this overall framework to simplify the GUI control, but now I don&#39;t know if it&#39;s just over-programming.","title":"Can Singleton Gui Framework cause a Stack-Overflow? If not, is all loaded data lost between GUI frames?","body":"<p>I've been working on an app that's similar to a dnd character sheet, and I hate working with GUI's. I thought of using something not unlike a MVC pattern for handling the GUI framework (how panels are loaded or hidden), but in my approach I ended up combining it with a Singleton pattern to establish a base class called GUI_Controller that all panels were then loaded onto via method calls. This let me create each new &quot;page&quot; or &quot;sheet&quot; as a separate class, and when I needed it to be &quot;loaded&quot; all I had to do was use the method call within the Singleton GUI_Controller. This approach seems to work, and I like how it makes the framework of the GUI easy to follow. My question is, is this OK? or is this only working for now? I didn't know if the way the control works, if this could lead to a stack overflow error if the &quot;view&quot; kept shifting enough with more and more method calls to classes stacking up. Or if by returning to the Singleton each time, the stack was being kept clean, but resulting in any data &quot;loaded&quot; by one class's call being &quot;erased&quot; and then &quot;re-loaded&quot; when that class's call was called again (ex: clicking on the spells page, going back to character page, then clicking on spells page again).</p>\n<p>If so, the data is called via a &quot;Database&quot; class that connects an SQL database. Would it then be best to front load the database before initially moving scope to the Singleton?</p>\n<p>The Singleton for GUI_Controller looks like this..</p>\n<pre><code>public class GUI_Controller extends JFrame{\n   private static GUI_Controller singleton = new GUI_Controller();\n\nprivate GUI_Controller() {\n    initialize();\n}\n\npublic static GUI_Controller getSingleton() {\n    if(singleton == null) {\n        singleton = new GUI_Controller();\n    }\n    return singleton;\n}\n\nprivate JFrame frame;\n\n\nprivate void initialize() {\n    frame = new JFrame();\n    frame.setLocation(100,100);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.getContentPane().setLayout(new FlowLayout(FlowLayout.CENTER, 0, 0));\n    \n}\n\n\npublic void setHomePage() {\n    HomePage hp = new HomePage();\n    \n    frame.getContentPane().removeAll();\n    frame.getContentPane().add(hp);\n    \n    frame.pack();\n    frame.setVisible(true);\n}\n\n\npublic void setSpellsPage() {\n    SpellsPage sp = new SpellsPage();\n    \n    frame.getContentPane().removeAll();\n    frame.getContentPane().add(sp);\n    \n    frame.pack();\n    frame.setVisible(true);\n}\n</code></pre>\n<p>and other classes access the Singleton in ways like</p>\n<pre><code>GUI_Controller gui = GUI_Controller.getSingleton();\n    gui.setHomePage();\n</code></pre>\n<p>and</p>\n<pre><code>btnViewSpells.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            GUI_Controller gui = GUI_Controller.getSingleton();\n            gui.setSpellsPage();\n        }\n    });\n</code></pre>\n<p>I'll add a note that each class is not a single JPanel, but acts as a &quot;frame&quot; having it's own design and card layout views. I came up with this overall framework to simplify the GUI control, but now I don't know if it's just over-programming.</p>\n"},{"tags":["java","recursion","binary-search"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1646827853,"post_id":71399165,"comment_id":126219219,"body_markdown":"This doesn&#39;t seem to give you the correct results. For example, with `{ 7, 8, 9, 1, 2, 3, 4, 5, 6 }` it gives 3 when it should give 1. How did it pass all test cases?","body":"This doesn&#39;t seem to give you the correct results. For example, with <code>{ 7, 8, 9, 1, 2, 3, 4, 5, 6 }</code> it gives 3 when it should give 1. How did it pass all test cases?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1646837277,"post_id":71399165,"comment_id":126222892,"body_markdown":"@k314159 Three is the correct answer.  The indices are in order 0,1,2,3,....  The OP wants the index of the value, not the value.","body":"@k314159 Three is the correct answer.  The indices are in order 0,1,2,3,....  The OP wants the index of the value, not the value."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1646842681,"post_id":71399165,"comment_id":126225233,"body_markdown":"All numbers are unique? I.e. is that `{3, 3, 3, 1, 3, 3, 3, 3, 3, 3}` a valid input?","body":"All numbers are unique? I.e. is that <code>{3, 3, 3, 1, 3, 3, 3, 3, 3, 3}</code> a valid input?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1646849896,"post_id":71399165,"comment_id":126228056,"body_markdown":"Unfortunately, your solution fails when the array is shifted right 1 (e.g. `[9, 1, 2, 3, 4, 5, 6, 7, 8]`  It always returns 0 as the index for the smallest number.","body":"Unfortunately, your solution fails when the array is shifted right 1 (e.g. <code>[9, 1, 2, 3, 4, 5, 6, 7, 8]</code>  It always returns 0 as the index for the smallest number."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646858846,"creation_date":1646763587,"answer_id":71399784,"question_id":71399165,"body_markdown":"Here is a solution using a binary search that uses a slightly different check for keying on the target. Given an array of values sorted in `ascending order`, any group of values between any two points within a rotated array will not contain the target value `if that group is also sorted in ascending order`.  This is because the target value must lie in a group where the array transitions from `descending to ascending`.  Whether a group within a rotated array is sorted is easily determined by comparing the first and last values of that group.\r\n\r\nUsing that fact, the array is simply continually subdivided into groups until the left most index of a group exceeds the right most index.  At that point, the right most index or `high` point contains the target value and is returned as the solution. \r\n```\r\n\r\npublic static int findMinIndex(Integer[] a) {\r\n\tint low = 0;\r\n\tint high = a.length-1;\r\n    // check if the array is un-rotated.\r\n\tif (a[low] &lt; a[high]) {\r\n\t\treturn 0;\r\n\t}\r\n\tint mid = high/2;\r\n\twhile (low &lt; mid) {\r\n\t\tif (a[low].compareTo(a[mid]) &gt; 0) {\r\n\t\t\t// It&#39;s in this range\r\n\t\t\thigh = mid;\r\n        } else {\r\n        \tlow = mid;\r\n        }\r\n\t\tmid = low + (high-low)/2;\r\n\t}\r\n\treturn high;\r\n}\r\n```\r\nHere is how I tested it.\r\n- create an array of `N` sorted random values between `1 and 1000`.\r\n- assign `A[0]` to `min`. \r\n- the iterate over `N` rotating the previous array by `1` each time\r\n- in all cases, the index for the minimum value was found.\r\n```\r\nint N = 10_000;\r\nRandom r = new Random();\r\nInteger[] a = r.ints(N,1, 1000).boxed().sorted().toArray(Integer[]::new);\r\nInteger min = a[0];\r\nfor (int i = 0; i &lt; N; i++) {\r\n\tint index = findMinIndex(a);\r\n\tif (a[index] != min) {\r\n\t\tSystem.out.printf(&quot;Error at index %d - %d found!%n&quot;, index, a[index]);\r\n\t}\r\n\tCollections.rotate(Arrays.asList(a), 1);\r\n}\r\n```\r\nNote:  `Arrays.asList` returns a list backed by the supplied `Object array`. So `Collections.rotate` can be used to rotate the array.  This will not work for primitive arrays.","title":"Better or more efficient way of solving finding smallest number in semi-sorted list?","body":"<p>Here is a solution using a binary search that uses a slightly different check for keying on the target. Given an array of values sorted in <code>ascending order</code>, any group of values between any two points within a rotated array will not contain the target value <code>if that group is also sorted in ascending order</code>.  This is because the target value must lie in a group where the array transitions from <code>descending to ascending</code>.  Whether a group within a rotated array is sorted is easily determined by comparing the first and last values of that group.</p>\n<p>Using that fact, the array is simply continually subdivided into groups until the left most index of a group exceeds the right most index.  At that point, the right most index or <code>high</code> point contains the target value and is returned as the solution.</p>\n<pre><code>\npublic static int findMinIndex(Integer[] a) {\n    int low = 0;\n    int high = a.length-1;\n    // check if the array is un-rotated.\n    if (a[low] &lt; a[high]) {\n        return 0;\n    }\n    int mid = high/2;\n    while (low &lt; mid) {\n        if (a[low].compareTo(a[mid]) &gt; 0) {\n            // It's in this range\n            high = mid;\n        } else {\n            low = mid;\n        }\n        mid = low + (high-low)/2;\n    }\n    return high;\n}\n</code></pre>\n<p>Here is how I tested it.</p>\n<ul>\n<li>create an array of <code>N</code> sorted random values between <code>1 and 1000</code>.</li>\n<li>assign <code>A[0]</code> to <code>min</code>.</li>\n<li>the iterate over <code>N</code> rotating the previous array by <code>1</code> each time</li>\n<li>in all cases, the index for the minimum value was found.</li>\n</ul>\n<pre><code>int N = 10_000;\nRandom r = new Random();\nInteger[] a = r.ints(N,1, 1000).boxed().sorted().toArray(Integer[]::new);\nInteger min = a[0];\nfor (int i = 0; i &lt; N; i++) {\n    int index = findMinIndex(a);\n    if (a[index] != min) {\n        System.out.printf(&quot;Error at index %d - %d found!%n&quot;, index, a[index]);\n    }\n    Collections.rotate(Arrays.asList(a), 1);\n}\n</code></pre>\n<p>Note:  <code>Arrays.asList</code> returns a list backed by the supplied <code>Object array</code>. So <code>Collections.rotate</code> can be used to rotate the array.  This will not work for primitive arrays.</p>\n"},{"tags":[],"owner":{"account_id":19137308,"reputation":234,"user_id":13978044,"display_name":"Sheldon"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1646768232,"creation_date":1646763630,"answer_id":71399793,"question_id":71399165,"body_markdown":"When i read your implementation, i had the same thought as you described it: too many special cases.\r\n\r\nIf i understand the task correctly, the input is sorted in ascending order (lowest value at lowest index, highest value at highest index), but might be shifted.\r\n\r\nWhen you say &quot;a more efficient way to write this&quot;, i assume that you don&#39;t mean runtime efficiency, but less code complexity.\r\n\r\n```\r\npackage stackoverflow;\r\n\r\n/**\r\n * https://stackoverflow.com/questions/71399165/\r\n */\r\npublic class LocateSmallestValue {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tInteger[] a1 = { 7, 8, 9, 0, 1, 2, 3, 4, 5, 6 };\r\n\t\tSystem.out.println(&quot;a1: &quot; + findMinIndex(a1));\r\n\t\tInteger[] a2 = { 2, 13, 17, 23, 30, 35, 41, 45, 53, 67 };\r\n\t\tSystem.out.println(&quot;a2: &quot; + findMinIndex(a2));\r\n\t\tInteger[] a3 = { 2, 3, 4, 5, 6, 7, 8, 9, 0, 1 };\r\n\t\tSystem.out.println(&quot;a3: &quot; + findMinIndex(a3));\r\n\t\tInteger[] a4 = { 67, 2, 13, 17, 23, 30, 35, 41, 45, 53 };\r\n\t\tSystem.out.println(&quot;a4: &quot; + findMinIndex(a4));\r\n\t\tInteger[] a5 = { 2, 3, 4, 5, 6, 1 };\r\n\t\tSystem.out.println(&quot;a5: &quot; + findMinIndex(a5));\r\n\t}\r\n\r\n\t/**\r\n\t * @param input The input is sorted but can be shifted. [7, 8, 9, 0, 1, 2, 3, 4, 5, 6] for example.\r\n\t * @return index of smallest value\r\n\t */\r\n\tpublic static &lt;E extends Comparable&lt;E&gt;&gt; int findMinIndex(E[] input) {\r\n\t\tif (input.length == 0) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;input array is empty&quot;);\r\n\t\t}\r\n\t\t// This case handles an input that is not shifted.\r\n\t\tif (input[0].compareTo(input[input.length - 1]) &lt;= 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\treturn _findMinIndex(input, 0);\r\n\t}\r\n\r\n\tprivate static &lt;E extends Comparable&lt;E&gt;&gt; int _findMinIndex(E[] input, int currentIndex) {\r\n\t\tint nextIndex = currentIndex + 1;\r\n\t\tE currentValue = input[currentIndex];\r\n\t\tE nextValue = input[nextIndex];\r\n\t\tif (currentValue.compareTo(nextValue) &gt; 0) {\r\n\t\t\treturn nextIndex;\r\n\t\t}\r\n\t\treturn _findMinIndex(input, nextIndex);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nOutput:\r\n\r\n```\r\na1: 3\r\na2: 0\r\na3: 8\r\na4: 1\r\na5: 5\r\n```","title":"Better or more efficient way of solving finding smallest number in semi-sorted list?","body":"<p>When i read your implementation, i had the same thought as you described it: too many special cases.</p>\n<p>If i understand the task correctly, the input is sorted in ascending order (lowest value at lowest index, highest value at highest index), but might be shifted.</p>\n<p>When you say &quot;a more efficient way to write this&quot;, i assume that you don't mean runtime efficiency, but less code complexity.</p>\n<pre><code>package stackoverflow;\n\n/**\n * https://stackoverflow.com/questions/71399165/\n */\npublic class LocateSmallestValue {\n\n    public static void main(String[] args) {\n        Integer[] a1 = { 7, 8, 9, 0, 1, 2, 3, 4, 5, 6 };\n        System.out.println(&quot;a1: &quot; + findMinIndex(a1));\n        Integer[] a2 = { 2, 13, 17, 23, 30, 35, 41, 45, 53, 67 };\n        System.out.println(&quot;a2: &quot; + findMinIndex(a2));\n        Integer[] a3 = { 2, 3, 4, 5, 6, 7, 8, 9, 0, 1 };\n        System.out.println(&quot;a3: &quot; + findMinIndex(a3));\n        Integer[] a4 = { 67, 2, 13, 17, 23, 30, 35, 41, 45, 53 };\n        System.out.println(&quot;a4: &quot; + findMinIndex(a4));\n        Integer[] a5 = { 2, 3, 4, 5, 6, 1 };\n        System.out.println(&quot;a5: &quot; + findMinIndex(a5));\n    }\n\n    /**\n     * @param input The input is sorted but can be shifted. [7, 8, 9, 0, 1, 2, 3, 4, 5, 6] for example.\n     * @return index of smallest value\n     */\n    public static &lt;E extends Comparable&lt;E&gt;&gt; int findMinIndex(E[] input) {\n        if (input.length == 0) {\n            throw new IllegalArgumentException(&quot;input array is empty&quot;);\n        }\n        // This case handles an input that is not shifted.\n        if (input[0].compareTo(input[input.length - 1]) &lt;= 0) {\n            return 0;\n        }\n        return _findMinIndex(input, 0);\n    }\n\n    private static &lt;E extends Comparable&lt;E&gt;&gt; int _findMinIndex(E[] input, int currentIndex) {\n        int nextIndex = currentIndex + 1;\n        E currentValue = input[currentIndex];\n        E nextValue = input[nextIndex];\n        if (currentValue.compareTo(nextValue) &gt; 0) {\n            return nextIndex;\n        }\n        return _findMinIndex(input, nextIndex);\n    }\n\n}\n\n</code></pre>\n<p>Output:</p>\n<pre><code>a1: 3\na2: 0\na3: 8\na4: 1\na5: 5\n</code></pre>\n"}],"owner":{"account_id":5533651,"reputation":846,"user_id":4392781,"accept_rate":0,"display_name":"Tarmiac"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1646858846,"creation_date":1646760479,"question_id":71399165,"body_markdown":"So I had an assignment where we were to write a method that finds the smallest number in a list and returns where it&#39;s located (position). The list is sorted but can be shifted.\r\n```[7, 8, 9, 0, 1, 2, 3, 4, 5, 6]``` for example. \r\n\r\nMy solution looks like this:\r\n\r\n```\r\npublic class Main\r\n{\r\n    \r\n    public static &lt;E extends Comparable&lt;E&gt;&gt; int findMinIndex(E[] a) {\r\n      if(a.length == 0){\r\n        return -1;\r\n      }else{\r\n        return _findMinIndex(a, 0, a.length - 1);\r\n      }\r\n    }\r\n\r\n    private static &lt;E extends Comparable&lt;E&gt;&gt; int _findMinIndex(E[] a, int first, int last){\r\n      if(last == 0){\r\n        return last;\r\n      }\r\n      int mid = first + (last - first) / 2;\r\n      if(mid == 0 || mid == last){\r\n          return mid;\r\n      }\r\n\r\n      if(a[mid].compareTo(a[last]) &lt; 0){\r\n          if(last - first == 1){\r\n              return mid - 1;\r\n          }\r\n\r\n          return _findMinIndex(a, first, mid);\r\n      }else{\r\n        if(last - first == 1){\r\n            return mid + 1;\r\n        }\r\n\r\n        return _findMinIndex(a, mid, last);\r\n      }\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        Integer[] a = {2, 13, 17, 23, 30, 35, 41, 45, 53, 67};\r\n        System.out.println(findMinIndex(a));\r\n    }\r\n}\r\n```\r\nThey want us to practice generic classes so that&#39;s why it takes a generic array. \r\n\r\nOutput should be 0 since 2 is smallest. \r\nNow this passed all test cases but I think it may seem to have a bit too many special cases, is there a more efficient way to write this?","title":"Better or more efficient way of solving finding smallest number in semi-sorted list?","body":"<p>So I had an assignment where we were to write a method that finds the smallest number in a list and returns where it's located (position). The list is sorted but can be shifted.\n<code>[7, 8, 9, 0, 1, 2, 3, 4, 5, 6]</code> for example.</p>\n<p>My solution looks like this:</p>\n<pre><code>public class Main\n{\n    \n    public static &lt;E extends Comparable&lt;E&gt;&gt; int findMinIndex(E[] a) {\n      if(a.length == 0){\n        return -1;\n      }else{\n        return _findMinIndex(a, 0, a.length - 1);\n      }\n    }\n\n    private static &lt;E extends Comparable&lt;E&gt;&gt; int _findMinIndex(E[] a, int first, int last){\n      if(last == 0){\n        return last;\n      }\n      int mid = first + (last - first) / 2;\n      if(mid == 0 || mid == last){\n          return mid;\n      }\n\n      if(a[mid].compareTo(a[last]) &lt; 0){\n          if(last - first == 1){\n              return mid - 1;\n          }\n\n          return _findMinIndex(a, first, mid);\n      }else{\n        if(last - first == 1){\n            return mid + 1;\n        }\n\n        return _findMinIndex(a, mid, last);\n      }\n    }\n    \n    public static void main(String[] args) {\n        Integer[] a = {2, 13, 17, 23, 30, 35, 41, 45, 53, 67};\n        System.out.println(findMinIndex(a));\n    }\n}\n</code></pre>\n<p>They want us to practice generic classes so that's why it takes a generic array.</p>\n<p>Output should be 0 since 2 is smallest.\nNow this passed all test cases but I think it may seem to have a bit too many special cases, is there a more efficient way to write this?</p>\n"},{"tags":["java","windows","ssl","tomcat"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1644602169,"post_id":71083342,"comment_id":125658545,"body_markdown":"Execute the code from [this question](https://stackoverflow.com/q/46913559/150978)  then you know the exact name of the certificate and if it is a key entry.","body":"Execute the code from <a href=\"https://stackoverflow.com/q/46913559/150978\">this question</a>  then you know the exact name of the certificate and if it is a key entry."}],"answers":[{"tags":[],"owner":{"account_id":24227912,"reputation":11,"user_id":18182140,"display_name":"Brett"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646858738,"creation_date":1646858738,"answer_id":71415793,"question_id":71083342,"body_markdown":"After much research, I have found the issue and I will post it here so I can spare other Windows server admins days of going do the same rabbit hole. :-)\r\n\r\nIn order to access the Windows cert store, you need to use the Store Provider &quot;SunMSCAPI&quot;. This is a CAPI provided by SUN/Java. However there is a known (but barely documented) issue with the CAPI. While the TrustStoreType &quot;Windows-ROOT&quot; is capable of accessing the Root/Intermediate cert stores across the different stores, **the KeyStoreType &quot;Windows-MY&quot; only accesses the *CurrentUser\\My* store**. This means that, in order to access a cert using this CAPI, you would need to sign in as the user under which Tomcat/Java app runs and add the certificate to the CurrentUser\\My store, which can be tedious if running multiple services under multiple accounts (don&#39;t get me started on if you have to run it as Local Service). The LocalMachine\\My store is a place where certs can be readily accessed, regardless of what account is accessing it.\r\n\r\nFrom what I have found, this issue has been around since 2011 yet Sun has made no apparent attempts to address/correct it. I have found some independently developed workarounds for this but nothing released by a software company with supported/regular updates.\r\n\r\nWe will move to a hybrid solution where the ROOT/INTERMEDIATE certs will accessed via the SunMSCAPI and the pub/priv certs be stored in a fileshare in a PKCS12 format where they will be monitored for expiration via scripts and tools. Thanks to everyone who reviewed and contributed.","title":"Tomcat unable to access cert in Windows Cert store","body":"<p>After much research, I have found the issue and I will post it here so I can spare other Windows server admins days of going do the same rabbit hole. :-)</p>\n<p>In order to access the Windows cert store, you need to use the Store Provider &quot;SunMSCAPI&quot;. This is a CAPI provided by SUN/Java. However there is a known (but barely documented) issue with the CAPI. While the TrustStoreType &quot;Windows-ROOT&quot; is capable of accessing the Root/Intermediate cert stores across the different stores, <strong>the KeyStoreType &quot;Windows-MY&quot; only accesses the <em>CurrentUser\\My</em> store</strong>. This means that, in order to access a cert using this CAPI, you would need to sign in as the user under which Tomcat/Java app runs and add the certificate to the CurrentUser\\My store, which can be tedious if running multiple services under multiple accounts (don't get me started on if you have to run it as Local Service). The LocalMachine\\My store is a place where certs can be readily accessed, regardless of what account is accessing it.</p>\n<p>From what I have found, this issue has been around since 2011 yet Sun has made no apparent attempts to address/correct it. I have found some independently developed workarounds for this but nothing released by a software company with supported/regular updates.</p>\n<p>We will move to a hybrid solution where the ROOT/INTERMEDIATE certs will accessed via the SunMSCAPI and the pub/priv certs be stored in a fileshare in a PKCS12 format where they will be monitored for expiration via scripts and tools. Thanks to everyone who reviewed and contributed.</p>\n"}],"owner":{"account_id":24227912,"reputation":11,"user_id":18182140,"display_name":"Brett"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646858738,"creation_date":1644596502,"question_id":71083342,"body_markdown":"I am configuring Tomcat to use the Windows Certificate store to allow tracking of certificate expiry through Microsoft System Center Operations Manager. I have configured a Tomcat 8.5 Connector to use the Windows certificate store as shown below:\r\n\r\n    &lt;Connector \tport=&quot;443&quot; \r\n\t\t\tscheme=&quot;https&quot;\r\n\t\t\tsecure=&quot;true&quot;\r\n\t\t\tSSLEnabled=&quot;true&quot;\r\n\t\t\t&gt;\r\n\t\t\t\t&lt;SSLHostConfig \thostName=&quot;*.mms.ams.local&quot;\r\n\t\t\t\t\t\t\t\tsslProtocol=&quot;TLS&quot;\r\n\t\t\t\t\t\t\t\tprotocols=&quot;TLSv1,+TLSv1.1,+TLSv1.2&quot;\r\n\t\t\t\t\t\t\t\ttruststoreProvider=&quot;SunMSCAPI&quot;\r\n\t\t\t\t\t\t\t\ttruststoreType=&quot;Windows-ROOT&quot;\r\n\t\t\t\t\t\t\t\t&gt;\r\n\t\t\t\t\t&lt;Certificate \tcertificateKeyStoreProvider=&quot;SunMSCAPI&quot;\r\n\t\t\t\t\t\t\t\t\tcertificateKeyAlias=&quot;*.mms.ams.local&quot;\r\n\t\t\t\t\t\t\t\t\tcertificateKeystoreFile=&quot;NONE&quot;\r\n\t\t\t\t\t\t\t\t\tcertificateKeystorePassword=&quot;&quot;\r\n\t\t\t\t\t\t\t\t\tcertificateKeystoreType=&quot;Windows-My&quot;\r\n\t\t\t\t\t\t\t\t\ttype=&quot;RSA&quot;\r\n\t\t\t\t\t/&gt;\r\n\t\t\t\t&lt;/SSLHostConfig&gt;\r\n&lt;/Connector&gt;\r\nThe Common Name/Friendly name of the cert is the same, has an associated private key, and has a proper, verified certificate chain. However, when Tomcat starts up, the following error is thrown in the logs:\r\n\r\n    11-Feb-2022 10:12:48.226 SEVERE [main] org.apache.catalina.core.StandardService.initInternal Failed to initialize connector [Connector[HTTP/1.1-443]]\r\n\torg.apache.catalina.LifecycleException: Protocol handler initialization failed\r\n\t\tat org.apache.catalina.connector.Connector.initInternal(Connector.java:1076)\r\n\t\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n\t\tat org.apache.catalina.core.StandardService.initInternal(StandardService.java:552)\r\n\t\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n\t\tat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:843)\r\n\t\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n\t\tat org.apache.catalina.startup.Catalina.load(Catalina.java:639)\r\n\t\tat org.apache.catalina.startup.Catalina.load(Catalina.java:662)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\t\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\t\tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:305)\r\n\t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)\r\n\tCaused by: java.lang.IllegalArgumentException: Alias name [*.mms.ams.local] does not identify a key entry\r\n\t\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:100)\r\n\t\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:72)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:244)\r\n\t\tat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:1189)\r\n\t\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.init(AbstractJsseEndpoint.java:222)\r\n\t\tat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:617)\r\n\t\tat org.apache.coyote.http11.AbstractHttp11Protocol.init(AbstractHttp11Protocol.java:80)\r\n\t\tat org.apache.catalina.connector.Connector.initInternal(Connector.java:1074)\r\n\t\t... 13 more\r\n\tCaused by: java.io.IOException: Alias name [*.mms.ams.local] does not identify a key entry\r\n\t\tat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:335)\r\n\t\tat org.apache.tomcat.util.net.openssl.OpenSSLUtil.getKeyManagers(OpenSSLUtil.java:98)\r\n\t\tat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:244)\r\n\t\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:98)\r\n\t\t... 20 more\r\nAfter three days of searching, I am unable to find any references online as to what may be causing this issue with a Microsoft Certificate store. Nearly all references I have found refer to file-based keystores, which doesn&#39;t apply. Tomcat&#39;s documentation, while saying that use of the Microsoft Keystore is supported, is very sparse in talking about proper configuration of the connector. The examples in the &quot;server.xml&quot; file are vague as well. Getting to this point with the connector, I have had to piecemeal settings together from several articles. Anyone out there with experience with doing this have any suggestions or pointers? Thanks in advance for your consideration with this.","title":"Tomcat unable to access cert in Windows Cert store","body":"<p>I am configuring Tomcat to use the Windows Certificate store to allow tracking of certificate expiry through Microsoft System Center Operations Manager. I have configured a Tomcat 8.5 Connector to use the Windows certificate store as shown below:</p>\n<pre><code>&lt;Connector  port=&quot;443&quot; \n        scheme=&quot;https&quot;\n        secure=&quot;true&quot;\n        SSLEnabled=&quot;true&quot;\n        &gt;\n            &lt;SSLHostConfig  hostName=&quot;*.mms.ams.local&quot;\n                            sslProtocol=&quot;TLS&quot;\n                            protocols=&quot;TLSv1,+TLSv1.1,+TLSv1.2&quot;\n                            truststoreProvider=&quot;SunMSCAPI&quot;\n                            truststoreType=&quot;Windows-ROOT&quot;\n                            &gt;\n                &lt;Certificate    certificateKeyStoreProvider=&quot;SunMSCAPI&quot;\n                                certificateKeyAlias=&quot;*.mms.ams.local&quot;\n                                certificateKeystoreFile=&quot;NONE&quot;\n                                certificateKeystorePassword=&quot;&quot;\n                                certificateKeystoreType=&quot;Windows-My&quot;\n                                type=&quot;RSA&quot;\n                /&gt;\n            &lt;/SSLHostConfig&gt;\n</code></pre>\n\nThe Common Name/Friendly name of the cert is the same, has an associated private key, and has a proper, verified certificate chain. However, when Tomcat starts up, the following error is thrown in the logs:\n<pre><code>11-Feb-2022 10:12:48.226 SEVERE [main] org.apache.catalina.core.StandardService.initInternal Failed to initialize connector [Connector[HTTP/1.1-443]]\norg.apache.catalina.LifecycleException: Protocol handler initialization failed\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:1076)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\n    at org.apache.catalina.core.StandardService.initInternal(StandardService.java:552)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\n    at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:843)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:639)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:662)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:305)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)\nCaused by: java.lang.IllegalArgumentException: Alias name [*.mms.ams.local] does not identify a key entry\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:100)\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:72)\n    at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:244)\n    at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:1189)\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.init(AbstractJsseEndpoint.java:222)\n    at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:617)\n    at org.apache.coyote.http11.AbstractHttp11Protocol.init(AbstractHttp11Protocol.java:80)\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:1074)\n    ... 13 more\nCaused by: java.io.IOException: Alias name [*.mms.ams.local] does not identify a key entry\n    at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:335)\n    at org.apache.tomcat.util.net.openssl.OpenSSLUtil.getKeyManagers(OpenSSLUtil.java:98)\n    at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:244)\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:98)\n    ... 20 more\n</code></pre>\n<p>After three days of searching, I am unable to find any references online as to what may be causing this issue with a Microsoft Certificate store. Nearly all references I have found refer to file-based keystores, which doesn't apply. Tomcat's documentation, while saying that use of the Microsoft Keystore is supported, is very sparse in talking about proper configuration of the connector. The examples in the &quot;server.xml&quot; file are vague as well. Getting to this point with the connector, I have had to piecemeal settings together from several articles. Anyone out there with experience with doing this have any suggestions or pointers? Thanks in advance for your consideration with this.</p>\n"},{"tags":["java","mockito","stub"],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1536150959,"creation_date":1519856355,"answer_id":49039567,"question_id":49039513,"body_markdown":"You can use the [`thenThrow(Throwable... throwables)`][1] method on the [`OngoingStubbing`][2] instance returned by `Mockito.when(...)`.   \r\nThe method accepts a `var-args` that are the exceptions to throw consecutively when the mocked method is invoked.\r\n\r\n\r\n    @Test\r\n    public void myTest(){\r\n       // ...\r\n       Mockito.when(myClass.myMethod())\r\n              .thenThrow( myException1, \r\n                          myException1, \r\n                          myException1, \r\n                          myException1, \r\n                          myException1,\r\n                          myException2);\r\n       // ...\r\n    }\r\n\r\nor by chaining `OngoingStubbing.thenThrow()` invocations as the method actually returns a `OngoingStubbing` object :\r\n\r\n    @Test\r\n    public void myTest(){\r\n       // ...\r\n       Mockito.when(myClass.myMethod())\r\n              .thenThrow(myException1)\r\n              .thenThrow(myException1)\r\n              .thenThrow(myException1)\r\n              .thenThrow(myException1)\r\n              .thenThrow(myException1)\r\n              .thenThrow(myException2);\r\n       // ...\r\n    }\r\n\r\n\r\n  [1]: https://static.javadoc.io/org.mockito/mockito-core/2.2.9/org/mockito/stubbing/OngoingStubbing.html#thenThrow(java.lang.Throwable...)\r\n  [2]: https://static.javadoc.io/org.mockito/mockito-core/2.2.9/org/mockito/stubbing/OngoingStubbing.html","title":"MOCKITO - Change the exception thrown based on number of times the method is called","body":"<p>You can use the <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.2.9/org/mockito/stubbing/OngoingStubbing.html#thenThrow(java.lang.Throwable...)\" rel=\"nofollow noreferrer\"><code>thenThrow(Throwable... throwables)</code></a> method on the <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.2.9/org/mockito/stubbing/OngoingStubbing.html\" rel=\"nofollow noreferrer\"><code>OngoingStubbing</code></a> instance returned by <code>Mockito.when(...)</code>.<br>\nThe method accepts a <code>var-args</code> that are the exceptions to throw consecutively when the mocked method is invoked.</p>\n\n<pre><code>@Test\npublic void myTest(){\n   // ...\n   Mockito.when(myClass.myMethod())\n          .thenThrow( myException1, \n                      myException1, \n                      myException1, \n                      myException1, \n                      myException1,\n                      myException2);\n   // ...\n}\n</code></pre>\n\n<p>or by chaining <code>OngoingStubbing.thenThrow()</code> invocations as the method actually returns a <code>OngoingStubbing</code> object :</p>\n\n<pre><code>@Test\npublic void myTest(){\n   // ...\n   Mockito.when(myClass.myMethod())\n          .thenThrow(myException1)\n          .thenThrow(myException1)\n          .thenThrow(myException1)\n          .thenThrow(myException1)\n          .thenThrow(myException1)\n          .thenThrow(myException2);\n   // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1424404,"reputation":26,"user_id":9886512,"display_name":"Rafael Veck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646858567,"creation_date":1646858567,"answer_id":71415768,"question_id":49039513,"body_markdown":"You can return exception at first call and another thing at second call:\r\n```\r\nwhen(myMock.myMethod(any()))\r\n.thenThrow(new MyFirstException())\r\n.thenThrow(new MySecondException())\r\n.thenReturn(new MyObject();\r\n```\r\nThis approach is useful in testing recursively called methods.\r\n\r\nIn the end I suggest checking if the method was called with the correct amount of times.\r\n\r\n```\r\nverify(myMock, times(3)).myMethod(any());\r\n```","title":"MOCKITO - Change the exception thrown based on number of times the method is called","body":"<p>You can return exception at first call and another thing at second call:</p>\n<pre><code>when(myMock.myMethod(any()))\n.thenThrow(new MyFirstException())\n.thenThrow(new MySecondException())\n.thenReturn(new MyObject();\n</code></pre>\n<p>This approach is useful in testing recursively called methods.</p>\n<p>In the end I suggest checking if the method was called with the correct amount of times.</p>\n<pre><code>verify(myMock, times(3)).myMethod(any());\n</code></pre>\n"}],"owner":{"account_id":3393506,"reputation":846,"user_id":2847782,"accept_rate":86,"display_name":"raullalves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2752,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49039567,"answer_count":2,"score":2,"last_activity_date":1646858567,"creation_date":1519856115,"question_id":49039513,"body_markdown":"I want to throw a specific exception for the first 5 times the method is executed. Afterwards, I want to throw another exception.\r\n\r\nIdeally, I have this code snippet, which obviously doesn&#39;t work\r\n\r\n    int count = 0;\r\n    int max = 5;\r\n    \r\n    @Test\r\n    public void myTest(){\r\n       ...\r\n       doThrow(count++ &lt; max ? myException1 : myException2).when(myClass).myMethod()\r\n       ...\r\n    }\r\n\r\nHow can I make it work?","title":"MOCKITO - Change the exception thrown based on number of times the method is called","body":"<p>I want to throw a specific exception for the first 5 times the method is executed. Afterwards, I want to throw another exception.</p>\n\n<p>Ideally, I have this code snippet, which obviously doesn't work</p>\n\n<pre><code>int count = 0;\nint max = 5;\n\n@Test\npublic void myTest(){\n   ...\n   doThrow(count++ &lt; max ? myException1 : myException2).when(myClass).myMethod()\n   ...\n}\n</code></pre>\n\n<p>How can I make it work?</p>\n"},{"tags":["java","spring","spring-boot","rest","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":5147284,"reputation":2911,"user_id":4122894,"display_name":"sixrandanes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646857425,"creation_date":1646857425,"answer_id":71415567,"question_id":71415120,"body_markdown":"It&#39;s HTTP protocol.\r\nYou cannot pass any body object with the Get method. You have to use Post or Put method for using a body in HTTP request.","title":"Using Object class as wrapper for input in spring boot RestController","body":"<p>It's HTTP protocol.\nYou cannot pass any body object with the Get method. You have to use Post or Put method for using a body in HTTP request.</p>\n"},{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646858201,"creation_date":1646858201,"answer_id":71415720,"question_id":71415120,"body_markdown":"`@RequestBody` not for single value it is intended for your custom object that is used with POST or PUT but in you case you can `@RequestParam` also if `@RequestParam` take attribute required with boolean vlue which tell your endpoint caller which params is optional if you set it False and which is required if you set it True","title":"Using Object class as wrapper for input in spring boot RestController","body":"<p><code>@RequestBody</code> not for single value it is intended for your custom object that is used with POST or PUT but in you case you can <code>@RequestParam</code> also if <code>@RequestParam</code> take attribute required with boolean vlue which tell your endpoint caller which params is optional if you set it False and which is required if you set it True</p>\n"}],"owner":{"account_id":4608700,"reputation":142,"user_id":3737446,"accept_rate":83,"display_name":"Niche"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":963,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71415567,"answer_count":2,"score":0,"last_activity_date":1646858201,"creation_date":1646854760,"question_id":71415120,"body_markdown":"I am bit new to spring boot and I am trying to design a search on user history which will provide 3 attributes to search user history {userId, searchKey, SearchValue}.  \r\n\r\nThe search value datatype may differ based on search. \r\n\r\n&gt; E.g \r\n&gt; 1. Userid=100, SearchKey=userAddress, searchValue=&#39;10 Downing Street&#39; \r\n&gt; 2. Userid=100, SearchKey=external, searchValue=true\r\n&gt; 3. Userid=100, SearchKey=companyId, searchValue=25\r\n\r\nI am trying to design a rest endpoint as below. This endpoint will integrate with react front end.\r\n\r\n    @GetMapping(value = &quot;/searchUserHistoryByKeyValue&quot;)\r\n    public ResponseEntity&lt;Object&gt; searchUserHistoryByKeyValue(\r\n          @RequestParam(value = &quot;userId&quot;) int userId,\r\n          @RequestParam(value = &quot;searchKey&quot;) String searchKey,\r\n          @RequestBody Object searchValue) {\r\n    \r\n              List&lt;org.json.simple.JSONObject&gt; entities =\r\n                  userHistoryService.searchUserHisotryByKeyValue(userId, searchKey, searchValue);\r\n              return new ResponseEntity&lt;&gt;(entities, HttpStatus.OK);\r\n    }\r\n\r\nI have implemented a dynamodb search on userhistory object which takes input as generic searchValue object as search filter as below.\r\nDynamo DB Querying - https://www.tutorialspoint.com/dynamodb/dynamodb_querying.htm \r\n\r\n     public List&lt;JSONObject&gt; searchUserHistoryByKeyValue(\r\n          int userId, String searchKey, Object searchValue) throws DataAccessException {\r\n    \r\n      Table table = dynamoDB.getTable(userHistoryTable.getName());\r\n    \r\n      Map&lt;String, String&gt; expressionAttributeNames =\r\n          DEFAULT_USER_FILTERS.stream()\r\n              .collect(\r\n                  Collectors.toMap(attrib -&gt; attrib, attrib -&gt; attrib.substring(1), (a, b) -&gt; b));\r\n    \r\n    Optional&lt;String&gt; projectionExpression =\r\n              createProjectionExpression(\r\n                  Collections.singletonList(searchKey), expressionAttributeNames);\r\n    \r\n          Optional&lt;String&gt; filterProjectionExpression =\r\n              buildCustomProjectionExpression(\r\n                  Collections.singletonList(searchKey), expressionAttributeNames);\r\n    \r\n          QuerySpec querySpec =\r\n              new QuerySpec()\r\n                  .withProjectionExpression(projectionExpression.orElse(StringUtils.EMPTY))\r\n                  .withKeyConditionExpression(&quot;#userId = :userId&quot;)\r\n                  .withFilterExpression(\r\n                      String.format(\r\n                          &quot;%s = :searchValue&quot;,\r\n                          filterProjectionExpression.orElseThrow(\r\n                              () -&gt; new IllegalArgumentException(&quot;Invalid Search Attributes&quot;))))\r\n                  .withNameMap(expressionAttributeNames)\r\n                  .withValueMap(Map.of(&quot;:userId&quot;, userId, &quot;:searchValue&quot;, searchValue))\r\n                  .withScanIndexForward(false);\r\n\r\nWhen I am trying use swagger or postman to test this endpoint , I am not able to pass in \r\n*@RequestBody Object searchValue* . it just shows as empty braces - {}\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAlso it shows below error as - \r\n\r\n&gt; &#39;TypeError: Failed to execute &#39;fetch&#39; on &#39;Window&#39;: Request with\r\n&gt; GET/HEAD method cannot have body. &#39;\r\n\r\nI am not able to make this work? Appreciate your insights on this. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qu9Ha.png\r\n","title":"Using Object class as wrapper for input in spring boot RestController","body":"<p>I am bit new to spring boot and I am trying to design a search on user history which will provide 3 attributes to search user history {userId, searchKey, SearchValue}.</p>\n<p>The search value datatype may differ based on search.</p>\n<blockquote>\n<p>E.g</p>\n<ol>\n<li>Userid=100, SearchKey=userAddress, searchValue='10 Downing Street'</li>\n<li>Userid=100, SearchKey=external, searchValue=true</li>\n<li>Userid=100, SearchKey=companyId, searchValue=25</li>\n</ol>\n</blockquote>\n<p>I am trying to design a rest endpoint as below. This endpoint will integrate with react front end.</p>\n<pre><code>@GetMapping(value = &quot;/searchUserHistoryByKeyValue&quot;)\npublic ResponseEntity&lt;Object&gt; searchUserHistoryByKeyValue(\n      @RequestParam(value = &quot;userId&quot;) int userId,\n      @RequestParam(value = &quot;searchKey&quot;) String searchKey,\n      @RequestBody Object searchValue) {\n\n          List&lt;org.json.simple.JSONObject&gt; entities =\n              userHistoryService.searchUserHisotryByKeyValue(userId, searchKey, searchValue);\n          return new ResponseEntity&lt;&gt;(entities, HttpStatus.OK);\n}\n</code></pre>\n<p>I have implemented a dynamodb search on userhistory object which takes input as generic searchValue object as search filter as below.\nDynamo DB Querying - <a href=\"https://www.tutorialspoint.com/dynamodb/dynamodb_querying.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/dynamodb/dynamodb_querying.htm</a></p>\n<pre><code> public List&lt;JSONObject&gt; searchUserHistoryByKeyValue(\n      int userId, String searchKey, Object searchValue) throws DataAccessException {\n\n  Table table = dynamoDB.getTable(userHistoryTable.getName());\n\n  Map&lt;String, String&gt; expressionAttributeNames =\n      DEFAULT_USER_FILTERS.stream()\n          .collect(\n              Collectors.toMap(attrib -&gt; attrib, attrib -&gt; attrib.substring(1), (a, b) -&gt; b));\n\nOptional&lt;String&gt; projectionExpression =\n          createProjectionExpression(\n              Collections.singletonList(searchKey), expressionAttributeNames);\n\n      Optional&lt;String&gt; filterProjectionExpression =\n          buildCustomProjectionExpression(\n              Collections.singletonList(searchKey), expressionAttributeNames);\n\n      QuerySpec querySpec =\n          new QuerySpec()\n              .withProjectionExpression(projectionExpression.orElse(StringUtils.EMPTY))\n              .withKeyConditionExpression(&quot;#userId = :userId&quot;)\n              .withFilterExpression(\n                  String.format(\n                      &quot;%s = :searchValue&quot;,\n                      filterProjectionExpression.orElseThrow(\n                          () -&gt; new IllegalArgumentException(&quot;Invalid Search Attributes&quot;))))\n              .withNameMap(expressionAttributeNames)\n              .withValueMap(Map.of(&quot;:userId&quot;, userId, &quot;:searchValue&quot;, searchValue))\n              .withScanIndexForward(false);\n</code></pre>\n<p>When I am trying use swagger or postman to test this endpoint , I am not able to pass in\n<em>@RequestBody Object searchValue</em> . it just shows as empty braces - {}</p>\n<p><a href=\"https://i.stack.imgur.com/Qu9Ha.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qu9Ha.png\" alt=\"enter image description here\" /></a></p>\n<p>Also it shows below error as -</p>\n<blockquote>\n<p>'TypeError: Failed to execute 'fetch' on 'Window': Request with\nGET/HEAD method cannot have body. '</p>\n</blockquote>\n<p>I am not able to make this work? Appreciate your insights on this.</p>\n"},{"tags":["java","xml","xsd"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1646850109,"post_id":71413990,"comment_id":126228140,"body_markdown":"Did not see anything either. You might start to remove/add XML parts in the file till you located the error.","body":"Did not see anything either. You might start to remove/add XML parts in the file till you located the error."}],"answers":[{"tags":[],"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646850473,"creation_date":1646850473,"answer_id":71414300,"question_id":71413990,"body_markdown":"The following are all different names.  Fix these discrepancies to address your present error:\r\n\r\n- Your XML has elements named, `MovieData`.\r\n- Your XSD defines elements named, `Movie_Data`.\r\n- Your error message complains about an element named, `Movie Data`.  \r\n\r\n(Whether you re-typed the error message wrong or messed-up in some other way is unclear, but there&#39;s clearly a degree of naming carelessness going on that must be addressed.)\r\n\r\n","title":"XML Notepad++ - A name contained an invalid character, Error Parsing &quot;x&quot; as NCName datatype","body":"<p>The following are all different names.  Fix these discrepancies to address your present error:</p>\n<ul>\n<li>Your XML has elements named, <code>MovieData</code>.</li>\n<li>Your XSD defines elements named, <code>Movie_Data</code>.</li>\n<li>Your error message complains about an element named, <code>Movie Data</code>.</li>\n</ul>\n<p>(Whether you re-typed the error message wrong or messed-up in some other way is unclear, but there's clearly a degree of naming carelessness going on that must be addressed.)</p>\n"}],"owner":{"account_id":24506695,"reputation":1,"user_id":18421621,"display_name":"sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":824,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1646858039,"creation_date":1646848885,"question_id":71413990,"body_markdown":"I am a completely new user when it comes to any type of coding, so forgive me in advance for any misuse of terminology, I will provide any information needed. \r\n\r\nI am trying to validate my XML file with an XSD schema in Notepad++. When validating, I get the error on the 1st line, saying: &quot;A name contained an invalid character. Error parsing &#39;Movie Data&#39; as NCName Datatype. Googling this error led me to see that there can not be any white spaces when validating, however, I have no &quot;white spaces&quot; in my code, which you will see below. I am at a complete loss on why it is saying it cannot parse this attribute, as its not even something thats in my code. My xsd code can also be found below the xml.\r\n\r\nThanks in advance\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;Movie_Info xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;sfuchs2_Movies.xsd&quot;&gt;\r\n    \t&lt;Movie_Data ENTRY=&quot;NEW&quot;&gt;\r\n    \t\t&lt;Movie_Name&gt;Colossus: The Forbin Project&lt;/Movie_Name&gt;\r\n    \t\t&lt;Movie_ID&gt;01&lt;/Movie_ID&gt;\r\n    \t\t&lt;Movie_Title&gt;Colossus: The Forbin Project&lt;/Movie_Title&gt;\r\n    \t\t&lt;Movie_Genre&gt;Science Fiction&lt;/Movie_Genre&gt;\r\n    \t\t&lt;Movie_Year_Released&gt;1970&lt;/Movie_Year_Released&gt;\r\n    \t\t&lt;Movie_Director&gt;Joseph Sargent&lt;/Movie_Director&gt;\r\n    \t\t&lt;Synopsis&gt;Thinking this will prevent war,\r\n    \r\n                      the US government gives an impenetrable supercomputer\r\n    \r\n                      total control over launching nuclear missiles.\r\n    \r\n                      But what the computer does with the power is\r\n    \r\n                      unimaginable to its creators.&lt;/Synopsis&gt;\r\n    \t\t&lt;Movie_Stars&gt;\r\n    \t\t\t&lt;Movie_Star_ID&gt;1&lt;/Movie_Star_ID&gt;\r\n    \t\t\t&lt;Last_Name&gt;Braeden&lt;/Last_Name&gt;\r\n    \t\t\t&lt;First_Name&gt;Eric&lt;/First_Name&gt;\r\n    \t\t\t&lt;Movie_Id_Association&gt;01&lt;/Movie_Id_Association&gt;\r\n    \t\t&lt;/Movie_Stars&gt;\r\n    \t\t&lt;Movie_Stars&gt;\r\n    \t\t\t&lt;Movie_Star_ID&gt;2&lt;/Movie_Star_ID&gt;\r\n    \t\t\t&lt;Last_Name&gt;Clarck&lt;/Last_Name&gt;\r\n    \t\t\t&lt;First_Name&gt;Susan&lt;/First_Name&gt;\r\n    \t\t\t&lt;Movie_Id_Association&gt;01&lt;/Movie_Id_Association&gt;\r\n    \t\t&lt;/Movie_Stars&gt;\r\n    \t\t&lt;Movie_Stars&gt;\r\n    \t\t\t&lt;Movie_Star_ID&gt;3&lt;/Movie_Star_ID&gt;\r\n    \t\t\t&lt;Last_Name&gt;Pinset&lt;/Last_Name&gt;\r\n    \t\t\t&lt;First_Name&gt;Gordon&lt;/First_Name&gt;\r\n    \t\t\t&lt;Movie_Id_Association&gt;01&lt;/Movie_Id_Association&gt;\r\n    \t\t&lt;/Movie_Stars&gt;\r\n    \t\t&lt;Writers&gt;\r\n    \t\t\t&lt;Writer_ID&gt;1&lt;/Writer_ID&gt;\r\n    \t\t\t&lt;Last_Name&gt;Bridges&lt;/Last_Name&gt;\r\n    \t\t\t&lt;First_Name&gt;James&lt;/First_Name&gt;\r\n    \t\t\t&lt;Union&gt;NWGA&lt;/Union&gt;\r\n    \t\t\t&lt;Movie_Id_Association&gt;1&lt;/Movie_Id_Association&gt;\r\n    \t\t&lt;/Writers&gt;\r\n    \t\t&lt;Writers&gt;\r\n    \t\t\t&lt;Writer_ID&gt;2&lt;/Writer_ID&gt;\r\n    \t\t\t&lt;Last_Name&gt;Jones&lt;/Last_Name&gt;\r\n    \t\t\t&lt;First_Name&gt;D.F.&lt;/First_Name&gt;\r\n    \t\t\t&lt;Movie_Id_Association&gt;1&lt;/Movie_Id_Association&gt;\r\n    \t\t&lt;/Writers&gt;\r\n    \t\t&lt;Rating&gt;9.4&lt;/Rating&gt;\r\n    \t\t&lt;Recommended&gt;true&lt;/Recommended&gt;\r\n    \t\t&lt;Submitted_By&gt;Max Magguilli&lt;/Submitted_By&gt;\r\n    \t&lt;/Movie_Data&gt;\r\n    \t&lt;Movie_Data ENTRY=&quot;NEW&quot;&gt;\r\n    \t\t&lt;Movie_Name&gt;Fantastic Voyage&lt;/Movie_Name&gt;\r\n    \t\t&lt;Movie_ID&gt;02&lt;/Movie_ID&gt;\r\n    \t\t&lt;Movie_Title&gt;Fantastic Voyage&lt;/Movie_Title&gt;\r\n    \t\t&lt;Movie_Genre&gt;Science Fiction&lt;/Movie_Genre&gt;\r\n    \t\t&lt;Movie_Year_Released&gt;1966&lt;/Movie_Year_Released&gt;\r\n    \t\t&lt;Movie_Director&gt;Richard Fleischer&lt;/Movie_Director&gt;\r\n    \t\t&lt;Synopsis&gt;A scientist is nearly assassinated. \r\n                     \r\n    \t\t\t\t In order to save him, a submarine is shrunken to microscopic \r\n                     \r\n    \t\t\t\t size and injected into his bloodstream with a small crew. \r\n                     \r\n    \t\t\t\t Problems arise almost as soon as they enter it.&lt;/Synopsis&gt;\r\n    \t\t&lt;Movie_Stars&gt;\r\n    \t\t\t&lt;Movie_Star_ID&gt;1&lt;/Movie_Star_ID&gt;\r\n    \t\t\t&lt;Last_Name&gt;Boyd&lt;/Last_Name&gt;\r\n    \t\t\t&lt;First_Name&gt;Stephen&lt;/First_Name&gt;\r\n    \t\t\t&lt;Movie_Id_Association&gt;02&lt;/Movie_Id_Association&gt;\r\n    \t\t&lt;/Movie_Stars&gt;\r\n    \t\t&lt;Movie_Stars&gt;\r\n    \t\t\t&lt;Movie_Star_ID&gt;2&lt;/Movie_Star_ID&gt;\r\n    \t\t\t&lt;Last_Name&gt;Welch&lt;/Last_Name&gt;\r\n    \t\t\t&lt;First_Name&gt;Raquel&lt;/First_Name&gt;\r\n    \t\t\t&lt;Movie_Id_Association&gt;02&lt;/Movie_Id_Association&gt;\r\n    \t\t&lt;/Movie_Stars&gt;\r\n    \t\t&lt;Movie_Stars&gt;\r\n    \t\t\t&lt;Movie_Star_ID&gt;3&lt;/Movie_Star_ID&gt;\r\n    \t\t\t&lt;Last_Name&gt;O&#39;Connell&lt;/Last_Name&gt;\r\n    \t\t\t&lt;First_Name&gt;Arthur&lt;/First_Name&gt;\r\n    \t\t\t&lt;Movie_Id_Association&gt;02&lt;/Movie_Id_Association&gt;\r\n    \t\t&lt;/Movie_Stars&gt;\r\n    \t\t&lt;Writers&gt;\r\n    \t\t\t&lt;Writer_ID&gt;1&lt;/Writer_ID&gt;\r\n    \t\t\t&lt;Last_Name&gt;Kleiner&lt;/Last_Name&gt;\r\n    \t\t\t&lt;First_Name&gt;Harry&lt;/First_Name&gt;\r\n    \t\t\t&lt;Union&gt;SWGA&lt;/Union&gt;\r\n    \t\t\t&lt;Movie_Id_Association&gt;2&lt;/Movie_Id_Association&gt;\r\n    \t\t&lt;/Writers&gt;\r\n    \t\t&lt;Writers&gt;\r\n    \t\t\t&lt;Writer_ID&gt;2&lt;/Writer_ID&gt;\r\n    \t\t\t&lt;Last_Name&gt;Duncan&lt;/Last_Name&gt;\r\n    \t\t\t&lt;First_Name&gt;David&lt;/First_Name&gt;\r\n    \t\t\t&lt;Movie_Id_Association&gt;2&lt;/Movie_Id_Association&gt;\r\n    \t\t&lt;/Writers&gt;\r\n    \t\t&lt;Rating&gt;9.65&lt;/Rating&gt;\r\n    \t\t&lt;Recommended&gt;true&lt;/Recommended&gt;\r\n    \t\t&lt;Submitted_By&gt;Nancy Zima&lt;/Submitted_By&gt;\r\n    \t&lt;/Movie_Data&gt;\r\n    \t&lt;Movie_Data ENTRY=&quot;NEW&quot;&gt;\r\n    \t\t&lt;Movie_Name&gt;The Godfather &quot;Part 1&quot;&lt;/Movie_Name&gt;\r\n    \t\t&lt;Movie_ID&gt;03&lt;/Movie_ID&gt;\r\n    \t\t&lt;Movie_Title&gt;The Godfather &quot;Part 1&quot;&lt;/Movie_Title&gt;\r\n    \t\t&lt;Movie_Genre&gt;Crime Drama&lt;/Movie_Genre&gt;\r\n    \t\t&lt;Movie_Year_Released&gt;1972&lt;/Movie_Year_Released&gt;\r\n    \t\t&lt;Movie_Director&gt;Francis Ford Coppola&lt;/Movie_Director&gt;\r\n    \t\t&lt;Synopsis&gt; The aging patriarch of an organized crime \r\n                    \r\n    \t\t\t\tdynasty in postwar New York City transfers \r\n                    \r\n    \t\t\t\tcontrol of his clandestine empire to his reluctant \r\n                    \r\n    \t\t\t\tyoungest son.&lt;/Synopsis&gt;\r\n    \t\t&lt;Movie_Stars&gt;\r\n    \t\t\t&lt;Movie_Star_ID&gt;1&lt;/Movie_Star_ID&gt;\r\n    \t\t\t&lt;Last_Name&gt;Brando&lt;/Last_Name&gt;\r\n    \t\t\t&lt;First_Name&gt;Marlon&lt;/First_Name&gt;\r\n    \t\t\t&lt;Movie_Id_Association&gt;03&lt;/Movie_Id_Association&gt;\r\n    \t\t&lt;/Movie_Stars&gt;\r\n    \t\t&lt;Movie_Stars&gt;\r\n    \t\t\t&lt;Movie_Star_ID&gt;2&lt;/Movie_Star_ID&gt;\r\n    \t\t\t&lt;Last_Name&gt;Pacino&lt;/Last_Name&gt;\r\n    \t\t\t&lt;First_Name&gt;Al&lt;/First_Name&gt;\r\n    \t\t\t&lt;Movie_Id_Association&gt;03&lt;/Movie_Id_Association&gt;\r\n    \t\t&lt;/Movie_Stars&gt;\r\n    \t\t&lt;Movie_Stars&gt;\r\n    \t\t\t&lt;Movie_Star_ID&gt;3&lt;/Movie_Star_ID&gt;\r\n    \t\t\t&lt;Last_Name&gt;Caan&lt;/Last_Name&gt;\r\n    \t\t\t&lt;First_Name&gt;James&lt;/First_Name&gt;\r\n    \t\t\t&lt;Movie_Id_Association&gt;03&lt;/Movie_Id_Association&gt;\r\n    \t\t&lt;/Movie_Stars&gt;\r\n    \t\t&lt;Writers&gt;\r\n    \t\t\t&lt;Writer_ID&gt;1&lt;/Writer_ID&gt;\r\n    \t\t\t&lt;Last_Name&gt;Puzo&lt;/Last_Name&gt;\r\n    \t\t\t&lt;First_Name&gt;Mario&lt;/First_Name&gt;\r\n    \t\t\t&lt;Union&gt;NWGA&lt;/Union&gt;\r\n    \t\t\t&lt;Movie_Id_Association&gt;3&lt;/Movie_Id_Association&gt;\r\n    \t\t&lt;/Writers&gt;\r\n    \t\t&lt;Rating&gt;9&lt;/Rating&gt;\r\n    \t\t&lt;Recommended&gt;true&lt;/Recommended&gt;\r\n    \t\t&lt;Submitted_By&gt;Max Magguilli&lt;/Submitted_By&gt;\r\n    \t&lt;/Movie_Data&gt;\r\n    \t&lt;Movie_Data ENTRY=&quot;NEW&quot;&gt;\r\n    \t\t&lt;Movie_Name&gt;The Batman&lt;/Movie_Name&gt;\r\n    \t\t&lt;Movie_ID&gt;04&lt;/Movie_ID&gt;\r\n    \t\t&lt;Movie_Title&gt;The Batman&lt;/Movie_Title&gt;\r\n    \t\t&lt;Movie_Genre&gt;Superhero&lt;/Movie_Genre&gt;\r\n    \t\t&lt;Movie_Year_Released&gt;2022&lt;/Movie_Year_Released&gt;\r\n    \t\t&lt;Movie_Director&gt;Matt Reeves&lt;/Movie_Director&gt;\r\n    \t\t&lt;Synopsis&gt;Batman ventures into Gotham City&#39;s underworld when a sadistic killer leaves behind a trail of cryptic clues. \r\n    \t\t\t\r\n    \t\t\tAs the evidence begins to lead closer to home and the scale of the perpetrator&#39;s plans become clear,\r\n    \t\t\t \r\n    \t\t\t he must forge new relationships, unmask the culprit and bring justice to the abuse of power and corruption\r\n    \t\t\t \r\n    \t\t\t that has long plagued the metropolis.&lt;/Synopsis&gt;\r\n    \t\t&lt;Movie_Stars&gt;\r\n    \t\t\t&lt;Movie_Star_ID&gt;1&lt;/Movie_Star_ID&gt;\r\n    \t\t\t&lt;Last_Name&gt;Pattinson&lt;/Last_Name&gt;\r\n    \t\t\t&lt;First_Name&gt;Robert&lt;/First_Name&gt;\r\n    \t\t\t&lt;Movie_Id_Association&gt;04&lt;/Movie_Id_Association&gt;\r\n    \t\t&lt;/Movie_Stars&gt;\r\n    \t\t&lt;Movie_Stars&gt;\r\n    \t\t\t&lt;Movie_Star_ID&gt;2&lt;/Movie_Star_ID&gt;\r\n    \t\t\t&lt;Last_Name&gt;Kravitz&lt;/Last_Name&gt;\r\n    \t\t\t&lt;First_Name&gt;Zoe&lt;/First_Name&gt;\r\n    \t\t\t&lt;Movie_Id_Association&gt;04&lt;/Movie_Id_Association&gt;\r\n    \t\t&lt;/Movie_Stars&gt;\r\n    \t\t&lt;Movie_Stars&gt;\r\n    \t\t\t&lt;Movie_Star_ID&gt;3&lt;/Movie_Star_ID&gt;\r\n    \t\t\t&lt;Last_Name&gt;Dano&lt;/Last_Name&gt;\r\n    \t\t\t&lt;First_Name&gt;Paul&lt;/First_Name&gt;\r\n    \t\t\t&lt;Movie_Id_Association&gt;04&lt;/Movie_Id_Association&gt;\r\n    \t\t&lt;/Movie_Stars&gt;\r\n    \t\t&lt;Writers&gt;\r\n    \t\t\t&lt;Writer_ID&gt;1&lt;/Writer_ID&gt;\r\n    \t\t\t&lt;Last_Name&gt;Reeves&lt;/Last_Name&gt;\r\n    \t\t\t&lt;First_Name&gt;Matt&lt;/First_Name&gt;\r\n    \t\t\t&lt;Movie_Id_Association&gt;4&lt;/Movie_Id_Association&gt;\r\n    \t\t&lt;/Writers&gt;\r\n    \t\t&lt;Rating&gt;9&lt;/Rating&gt;\r\n    \t\t&lt;Recommended&gt;true&lt;/Recommended&gt;\r\n    \t\t&lt;Submitted_By&gt;Samuel Fuchs&lt;/Submitted_By&gt;\r\n    \t&lt;/Movie_Data&gt;\r\n    &lt;/Movie_Info&gt;\r\n    \r\nSchema:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    \t&lt;xsd:element name=&quot;Movie_Info&quot;&gt;\r\n    \t\t&lt;xsd:complexType&gt;\r\n    \t\t\t&lt;xsd:sequence&gt;\r\n    \t\t\t\t&lt;xsd:element name=&quot;Movie_Data&quot;\r\n    \t\t\t\t             minOccurs=&quot;0&quot;\r\n    \t\t\t\t             maxOccurs=&quot;unbounded&quot;&gt;\r\n    \t\t\t\t\t&lt;xsd:complexType&gt;\r\n    \t\t\t\t\t\t&lt;xsd:sequence&gt;\r\n    \t\t\t\t\t\t\t&lt;xsd:element name=&quot;Movie_Name&quot;\r\n    \t\t\t\t\t\t\t             type=&quot;xsd:string&quot;/&gt;\r\n    \t\t\t\t\t\t\t&lt;xsd:element name=&quot;Movie_ID&quot;\r\n    \t\t\t\t\t\t\t             type=&quot;xsd:string&quot;/&gt;\r\n    \t\t\t\t\t\t\t&lt;xsd:element name=&quot;Movie_Title&quot;\r\n    \t\t\t\t\t\t\t             type=&quot;xsd:string&quot;/&gt;\r\n    \t\t\t\t\t\t\t&lt;xsd:element name=&quot;Movie_Genre&quot;\r\n    \t\t\t\t\t\t\t             type=&quot;xsd:string&quot;/&gt;\r\n    \t\t\t\t\t\t\t&lt;xsd:element name=&quot;Movie_Year_Released&quot;\r\n    \t\t\t\t\t\t\t             type=&quot;xsd:integer&quot;/&gt;\r\n    \t\t\t\t\t\t\t&lt;xsd:element name=&quot;Movie_Director&quot;\r\n    \t\t\t\t\t\t\t             type=&quot;xsd:string&quot;/&gt;\r\n    \t\t\t\t\t\t\t&lt;xsd:element name=&quot;Synopsis&quot;\r\n    \t\t\t\t\t\t\t             type=&quot;xsd:string&quot;/&gt;\r\n    \t\t\t\t\t\t\t&lt;xsd:element name=&quot;Movie_Stars&quot;\r\n    \t\t\t\t\t\t\t             minOccurs=&quot;1&quot;\r\n    \t\t\t\t\t\t\t             maxOccurs=&quot;unbounded&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;xsd:complexType&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;xsd:sequence&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;xsd:element name=&quot;Movie_Star_ID&quot;\r\n    \t\t\t\t\t\t\t\t\t\t             type=&quot;xsd:string&quot;/&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;xsd:element name=&quot;Last_Name&quot;\r\n    \t\t\t\t\t\t\t\t\t\t             type=&quot;xsd:string&quot;/&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;xsd:element name=&quot;First_Name&quot;\r\n    \t\t\t\t\t\t\t\t\t\t             type=&quot;xsd:string&quot;/&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;xsd:element name=&quot;Movie_ID_Association&quot;\r\n    \t\t\t\t\t\t\t\t\t\t             type=&quot;xsd:string&quot;/&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/xsd:sequence&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/xsd:complexType&gt;\r\n    \t\t\t\t\t\t\t&lt;/xsd:element&gt;\r\n    \t\t\t\t\t\t\t&lt;xsd:element name=&quot;Writers&quot;\r\n    \t\t\t\t\t\t\t             minOccurs=&quot;1&quot;\r\n    \t\t\t\t\t\t\t             maxOccurs=&quot;5&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;xsd:complexType&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;xsd:sequence&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;xsd:element name=&quot;Writer_ID&quot;\r\n    \t\t\t\t\t\t\t\t\t\t             type=&quot;xsd:integer&quot;/&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;xsd:element name=&quot;Last_Name&quot;\r\n    \t\t\t\t\t\t\t\t\t\t             type=&quot;xsd:string&quot;/&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;xsd:element name=&quot;First_Name&quot;\r\n    \t\t\t\t\t\t\t\t\t\t             type=&quot;xsd:string&quot;/&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;xsd:element name=&quot;Union&quot;\r\n    \t\t\t\t\t\t\t\t\t\t             type=&quot;xsd:string&quot;/&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;xsd:element name=&quot;Movie_ID_Association&quot;\r\n    \t\t\t\t\t\t\t\t\t\t             type=&quot;xsd:string&quot;/&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/xsd:sequence&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/xsd:complexType&gt;\r\n    \t\t\t\t\t\t\t&lt;/xsd:element&gt;\r\n    \t\t\t\t\t\t\t&lt;xsd:element name=&quot;Rating&quot;\r\n    \t\t\t\t\t\t\t             type=&quot;xsd:integer&quot;/&gt;\r\n    \t\t\t\t\t\t\t&lt;xsd:element name=&quot;Recommended&quot;\r\n    \t\t\t\t\t\t\t             type=&quot;xsd:boolean&quot;/&gt;\r\n    \t\t\t\t\t\t\t&lt;xsd:element name=&quot;Submitted_By&quot;\r\n    \t\t\t\t\t\t\t             type=&quot;xsd:string&quot;/&gt;\r\n    \t\t\t\t\t\t&lt;/xsd:sequence&gt;\r\n    \t\t\t\t\t&lt;/xsd:complexType&gt;\r\n    \t\t\t\t&lt;/xsd:element&gt;\r\n    \t\t\t&lt;/xsd:sequence&gt;\r\n    \t\t&lt;/xsd:complexType&gt;\r\n    \t&lt;/xsd:element&gt;\r\n    &lt;/xsd:schema&gt;\r\n\r\nMinimal:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;TVShow_Info xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;sfuchs2_Movies.xsd&quot;&gt;\r\n    \t&lt;TVShow_Data ENTRY=&quot;NEW&quot;&gt;\r\n    \t\t\r\n    \t&lt;/TVShow_Data&gt;\r\n    &lt;/TVShow_Info&gt;","title":"XML Notepad++ - A name contained an invalid character, Error Parsing &quot;x&quot; as NCName datatype","body":"<p>I am a completely new user when it comes to any type of coding, so forgive me in advance for any misuse of terminology, I will provide any information needed.</p>\n<p>I am trying to validate my XML file with an XSD schema in Notepad++. When validating, I get the error on the 1st line, saying: &quot;A name contained an invalid character. Error parsing 'Movie Data' as NCName Datatype. Googling this error led me to see that there can not be any white spaces when validating, however, I have no &quot;white spaces&quot; in my code, which you will see below. I am at a complete loss on why it is saying it cannot parse this attribute, as its not even something thats in my code. My xsd code can also be found below the xml.</p>\n<p>Thanks in advance</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;Movie_Info xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;sfuchs2_Movies.xsd&quot;&gt;\n    &lt;Movie_Data ENTRY=&quot;NEW&quot;&gt;\n        &lt;Movie_Name&gt;Colossus: The Forbin Project&lt;/Movie_Name&gt;\n        &lt;Movie_ID&gt;01&lt;/Movie_ID&gt;\n        &lt;Movie_Title&gt;Colossus: The Forbin Project&lt;/Movie_Title&gt;\n        &lt;Movie_Genre&gt;Science Fiction&lt;/Movie_Genre&gt;\n        &lt;Movie_Year_Released&gt;1970&lt;/Movie_Year_Released&gt;\n        &lt;Movie_Director&gt;Joseph Sargent&lt;/Movie_Director&gt;\n        &lt;Synopsis&gt;Thinking this will prevent war,\n\n                  the US government gives an impenetrable supercomputer\n\n                  total control over launching nuclear missiles.\n\n                  But what the computer does with the power is\n\n                  unimaginable to its creators.&lt;/Synopsis&gt;\n        &lt;Movie_Stars&gt;\n            &lt;Movie_Star_ID&gt;1&lt;/Movie_Star_ID&gt;\n            &lt;Last_Name&gt;Braeden&lt;/Last_Name&gt;\n            &lt;First_Name&gt;Eric&lt;/First_Name&gt;\n            &lt;Movie_Id_Association&gt;01&lt;/Movie_Id_Association&gt;\n        &lt;/Movie_Stars&gt;\n        &lt;Movie_Stars&gt;\n            &lt;Movie_Star_ID&gt;2&lt;/Movie_Star_ID&gt;\n            &lt;Last_Name&gt;Clarck&lt;/Last_Name&gt;\n            &lt;First_Name&gt;Susan&lt;/First_Name&gt;\n            &lt;Movie_Id_Association&gt;01&lt;/Movie_Id_Association&gt;\n        &lt;/Movie_Stars&gt;\n        &lt;Movie_Stars&gt;\n            &lt;Movie_Star_ID&gt;3&lt;/Movie_Star_ID&gt;\n            &lt;Last_Name&gt;Pinset&lt;/Last_Name&gt;\n            &lt;First_Name&gt;Gordon&lt;/First_Name&gt;\n            &lt;Movie_Id_Association&gt;01&lt;/Movie_Id_Association&gt;\n        &lt;/Movie_Stars&gt;\n        &lt;Writers&gt;\n            &lt;Writer_ID&gt;1&lt;/Writer_ID&gt;\n            &lt;Last_Name&gt;Bridges&lt;/Last_Name&gt;\n            &lt;First_Name&gt;James&lt;/First_Name&gt;\n            &lt;Union&gt;NWGA&lt;/Union&gt;\n            &lt;Movie_Id_Association&gt;1&lt;/Movie_Id_Association&gt;\n        &lt;/Writers&gt;\n        &lt;Writers&gt;\n            &lt;Writer_ID&gt;2&lt;/Writer_ID&gt;\n            &lt;Last_Name&gt;Jones&lt;/Last_Name&gt;\n            &lt;First_Name&gt;D.F.&lt;/First_Name&gt;\n            &lt;Movie_Id_Association&gt;1&lt;/Movie_Id_Association&gt;\n        &lt;/Writers&gt;\n        &lt;Rating&gt;9.4&lt;/Rating&gt;\n        &lt;Recommended&gt;true&lt;/Recommended&gt;\n        &lt;Submitted_By&gt;Max Magguilli&lt;/Submitted_By&gt;\n    &lt;/Movie_Data&gt;\n    &lt;Movie_Data ENTRY=&quot;NEW&quot;&gt;\n        &lt;Movie_Name&gt;Fantastic Voyage&lt;/Movie_Name&gt;\n        &lt;Movie_ID&gt;02&lt;/Movie_ID&gt;\n        &lt;Movie_Title&gt;Fantastic Voyage&lt;/Movie_Title&gt;\n        &lt;Movie_Genre&gt;Science Fiction&lt;/Movie_Genre&gt;\n        &lt;Movie_Year_Released&gt;1966&lt;/Movie_Year_Released&gt;\n        &lt;Movie_Director&gt;Richard Fleischer&lt;/Movie_Director&gt;\n        &lt;Synopsis&gt;A scientist is nearly assassinated. \n                 \n                 In order to save him, a submarine is shrunken to microscopic \n                 \n                 size and injected into his bloodstream with a small crew. \n                 \n                 Problems arise almost as soon as they enter it.&lt;/Synopsis&gt;\n        &lt;Movie_Stars&gt;\n            &lt;Movie_Star_ID&gt;1&lt;/Movie_Star_ID&gt;\n            &lt;Last_Name&gt;Boyd&lt;/Last_Name&gt;\n            &lt;First_Name&gt;Stephen&lt;/First_Name&gt;\n            &lt;Movie_Id_Association&gt;02&lt;/Movie_Id_Association&gt;\n        &lt;/Movie_Stars&gt;\n        &lt;Movie_Stars&gt;\n            &lt;Movie_Star_ID&gt;2&lt;/Movie_Star_ID&gt;\n            &lt;Last_Name&gt;Welch&lt;/Last_Name&gt;\n            &lt;First_Name&gt;Raquel&lt;/First_Name&gt;\n            &lt;Movie_Id_Association&gt;02&lt;/Movie_Id_Association&gt;\n        &lt;/Movie_Stars&gt;\n        &lt;Movie_Stars&gt;\n            &lt;Movie_Star_ID&gt;3&lt;/Movie_Star_ID&gt;\n            &lt;Last_Name&gt;O'Connell&lt;/Last_Name&gt;\n            &lt;First_Name&gt;Arthur&lt;/First_Name&gt;\n            &lt;Movie_Id_Association&gt;02&lt;/Movie_Id_Association&gt;\n        &lt;/Movie_Stars&gt;\n        &lt;Writers&gt;\n            &lt;Writer_ID&gt;1&lt;/Writer_ID&gt;\n            &lt;Last_Name&gt;Kleiner&lt;/Last_Name&gt;\n            &lt;First_Name&gt;Harry&lt;/First_Name&gt;\n            &lt;Union&gt;SWGA&lt;/Union&gt;\n            &lt;Movie_Id_Association&gt;2&lt;/Movie_Id_Association&gt;\n        &lt;/Writers&gt;\n        &lt;Writers&gt;\n            &lt;Writer_ID&gt;2&lt;/Writer_ID&gt;\n            &lt;Last_Name&gt;Duncan&lt;/Last_Name&gt;\n            &lt;First_Name&gt;David&lt;/First_Name&gt;\n            &lt;Movie_Id_Association&gt;2&lt;/Movie_Id_Association&gt;\n        &lt;/Writers&gt;\n        &lt;Rating&gt;9.65&lt;/Rating&gt;\n        &lt;Recommended&gt;true&lt;/Recommended&gt;\n        &lt;Submitted_By&gt;Nancy Zima&lt;/Submitted_By&gt;\n    &lt;/Movie_Data&gt;\n    &lt;Movie_Data ENTRY=&quot;NEW&quot;&gt;\n        &lt;Movie_Name&gt;The Godfather &quot;Part 1&quot;&lt;/Movie_Name&gt;\n        &lt;Movie_ID&gt;03&lt;/Movie_ID&gt;\n        &lt;Movie_Title&gt;The Godfather &quot;Part 1&quot;&lt;/Movie_Title&gt;\n        &lt;Movie_Genre&gt;Crime Drama&lt;/Movie_Genre&gt;\n        &lt;Movie_Year_Released&gt;1972&lt;/Movie_Year_Released&gt;\n        &lt;Movie_Director&gt;Francis Ford Coppola&lt;/Movie_Director&gt;\n        &lt;Synopsis&gt; The aging patriarch of an organized crime \n                \n                dynasty in postwar New York City transfers \n                \n                control of his clandestine empire to his reluctant \n                \n                youngest son.&lt;/Synopsis&gt;\n        &lt;Movie_Stars&gt;\n            &lt;Movie_Star_ID&gt;1&lt;/Movie_Star_ID&gt;\n            &lt;Last_Name&gt;Brando&lt;/Last_Name&gt;\n            &lt;First_Name&gt;Marlon&lt;/First_Name&gt;\n            &lt;Movie_Id_Association&gt;03&lt;/Movie_Id_Association&gt;\n        &lt;/Movie_Stars&gt;\n        &lt;Movie_Stars&gt;\n            &lt;Movie_Star_ID&gt;2&lt;/Movie_Star_ID&gt;\n            &lt;Last_Name&gt;Pacino&lt;/Last_Name&gt;\n            &lt;First_Name&gt;Al&lt;/First_Name&gt;\n            &lt;Movie_Id_Association&gt;03&lt;/Movie_Id_Association&gt;\n        &lt;/Movie_Stars&gt;\n        &lt;Movie_Stars&gt;\n            &lt;Movie_Star_ID&gt;3&lt;/Movie_Star_ID&gt;\n            &lt;Last_Name&gt;Caan&lt;/Last_Name&gt;\n            &lt;First_Name&gt;James&lt;/First_Name&gt;\n            &lt;Movie_Id_Association&gt;03&lt;/Movie_Id_Association&gt;\n        &lt;/Movie_Stars&gt;\n        &lt;Writers&gt;\n            &lt;Writer_ID&gt;1&lt;/Writer_ID&gt;\n            &lt;Last_Name&gt;Puzo&lt;/Last_Name&gt;\n            &lt;First_Name&gt;Mario&lt;/First_Name&gt;\n            &lt;Union&gt;NWGA&lt;/Union&gt;\n            &lt;Movie_Id_Association&gt;3&lt;/Movie_Id_Association&gt;\n        &lt;/Writers&gt;\n        &lt;Rating&gt;9&lt;/Rating&gt;\n        &lt;Recommended&gt;true&lt;/Recommended&gt;\n        &lt;Submitted_By&gt;Max Magguilli&lt;/Submitted_By&gt;\n    &lt;/Movie_Data&gt;\n    &lt;Movie_Data ENTRY=&quot;NEW&quot;&gt;\n        &lt;Movie_Name&gt;The Batman&lt;/Movie_Name&gt;\n        &lt;Movie_ID&gt;04&lt;/Movie_ID&gt;\n        &lt;Movie_Title&gt;The Batman&lt;/Movie_Title&gt;\n        &lt;Movie_Genre&gt;Superhero&lt;/Movie_Genre&gt;\n        &lt;Movie_Year_Released&gt;2022&lt;/Movie_Year_Released&gt;\n        &lt;Movie_Director&gt;Matt Reeves&lt;/Movie_Director&gt;\n        &lt;Synopsis&gt;Batman ventures into Gotham City's underworld when a sadistic killer leaves behind a trail of cryptic clues. \n            \n            As the evidence begins to lead closer to home and the scale of the perpetrator's plans become clear,\n             \n             he must forge new relationships, unmask the culprit and bring justice to the abuse of power and corruption\n             \n             that has long plagued the metropolis.&lt;/Synopsis&gt;\n        &lt;Movie_Stars&gt;\n            &lt;Movie_Star_ID&gt;1&lt;/Movie_Star_ID&gt;\n            &lt;Last_Name&gt;Pattinson&lt;/Last_Name&gt;\n            &lt;First_Name&gt;Robert&lt;/First_Name&gt;\n            &lt;Movie_Id_Association&gt;04&lt;/Movie_Id_Association&gt;\n        &lt;/Movie_Stars&gt;\n        &lt;Movie_Stars&gt;\n            &lt;Movie_Star_ID&gt;2&lt;/Movie_Star_ID&gt;\n            &lt;Last_Name&gt;Kravitz&lt;/Last_Name&gt;\n            &lt;First_Name&gt;Zoe&lt;/First_Name&gt;\n            &lt;Movie_Id_Association&gt;04&lt;/Movie_Id_Association&gt;\n        &lt;/Movie_Stars&gt;\n        &lt;Movie_Stars&gt;\n            &lt;Movie_Star_ID&gt;3&lt;/Movie_Star_ID&gt;\n            &lt;Last_Name&gt;Dano&lt;/Last_Name&gt;\n            &lt;First_Name&gt;Paul&lt;/First_Name&gt;\n            &lt;Movie_Id_Association&gt;04&lt;/Movie_Id_Association&gt;\n        &lt;/Movie_Stars&gt;\n        &lt;Writers&gt;\n            &lt;Writer_ID&gt;1&lt;/Writer_ID&gt;\n            &lt;Last_Name&gt;Reeves&lt;/Last_Name&gt;\n            &lt;First_Name&gt;Matt&lt;/First_Name&gt;\n            &lt;Movie_Id_Association&gt;4&lt;/Movie_Id_Association&gt;\n        &lt;/Writers&gt;\n        &lt;Rating&gt;9&lt;/Rating&gt;\n        &lt;Recommended&gt;true&lt;/Recommended&gt;\n        &lt;Submitted_By&gt;Samuel Fuchs&lt;/Submitted_By&gt;\n    &lt;/Movie_Data&gt;\n&lt;/Movie_Info&gt;\n</code></pre>\n<p>Schema:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;xsd:element name=&quot;Movie_Info&quot;&gt;\n        &lt;xsd:complexType&gt;\n            &lt;xsd:sequence&gt;\n                &lt;xsd:element name=&quot;Movie_Data&quot;\n                             minOccurs=&quot;0&quot;\n                             maxOccurs=&quot;unbounded&quot;&gt;\n                    &lt;xsd:complexType&gt;\n                        &lt;xsd:sequence&gt;\n                            &lt;xsd:element name=&quot;Movie_Name&quot;\n                                         type=&quot;xsd:string&quot;/&gt;\n                            &lt;xsd:element name=&quot;Movie_ID&quot;\n                                         type=&quot;xsd:string&quot;/&gt;\n                            &lt;xsd:element name=&quot;Movie_Title&quot;\n                                         type=&quot;xsd:string&quot;/&gt;\n                            &lt;xsd:element name=&quot;Movie_Genre&quot;\n                                         type=&quot;xsd:string&quot;/&gt;\n                            &lt;xsd:element name=&quot;Movie_Year_Released&quot;\n                                         type=&quot;xsd:integer&quot;/&gt;\n                            &lt;xsd:element name=&quot;Movie_Director&quot;\n                                         type=&quot;xsd:string&quot;/&gt;\n                            &lt;xsd:element name=&quot;Synopsis&quot;\n                                         type=&quot;xsd:string&quot;/&gt;\n                            &lt;xsd:element name=&quot;Movie_Stars&quot;\n                                         minOccurs=&quot;1&quot;\n                                         maxOccurs=&quot;unbounded&quot;&gt;\n                                &lt;xsd:complexType&gt;\n                                    &lt;xsd:sequence&gt;\n                                        &lt;xsd:element name=&quot;Movie_Star_ID&quot;\n                                                     type=&quot;xsd:string&quot;/&gt;\n                                        &lt;xsd:element name=&quot;Last_Name&quot;\n                                                     type=&quot;xsd:string&quot;/&gt;\n                                        &lt;xsd:element name=&quot;First_Name&quot;\n                                                     type=&quot;xsd:string&quot;/&gt;\n                                        &lt;xsd:element name=&quot;Movie_ID_Association&quot;\n                                                     type=&quot;xsd:string&quot;/&gt;\n                                    &lt;/xsd:sequence&gt;\n                                &lt;/xsd:complexType&gt;\n                            &lt;/xsd:element&gt;\n                            &lt;xsd:element name=&quot;Writers&quot;\n                                         minOccurs=&quot;1&quot;\n                                         maxOccurs=&quot;5&quot;&gt;\n                                &lt;xsd:complexType&gt;\n                                    &lt;xsd:sequence&gt;\n                                        &lt;xsd:element name=&quot;Writer_ID&quot;\n                                                     type=&quot;xsd:integer&quot;/&gt;\n                                        &lt;xsd:element name=&quot;Last_Name&quot;\n                                                     type=&quot;xsd:string&quot;/&gt;\n                                        &lt;xsd:element name=&quot;First_Name&quot;\n                                                     type=&quot;xsd:string&quot;/&gt;\n                                        &lt;xsd:element name=&quot;Union&quot;\n                                                     type=&quot;xsd:string&quot;/&gt;\n                                        &lt;xsd:element name=&quot;Movie_ID_Association&quot;\n                                                     type=&quot;xsd:string&quot;/&gt;\n                                    &lt;/xsd:sequence&gt;\n                                &lt;/xsd:complexType&gt;\n                            &lt;/xsd:element&gt;\n                            &lt;xsd:element name=&quot;Rating&quot;\n                                         type=&quot;xsd:integer&quot;/&gt;\n                            &lt;xsd:element name=&quot;Recommended&quot;\n                                         type=&quot;xsd:boolean&quot;/&gt;\n                            &lt;xsd:element name=&quot;Submitted_By&quot;\n                                         type=&quot;xsd:string&quot;/&gt;\n                        &lt;/xsd:sequence&gt;\n                    &lt;/xsd:complexType&gt;\n                &lt;/xsd:element&gt;\n            &lt;/xsd:sequence&gt;\n        &lt;/xsd:complexType&gt;\n    &lt;/xsd:element&gt;\n&lt;/xsd:schema&gt;\n</code></pre>\n<p>Minimal:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;TVShow_Info xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;sfuchs2_Movies.xsd&quot;&gt;\n    &lt;TVShow_Data ENTRY=&quot;NEW&quot;&gt;\n        \n    &lt;/TVShow_Data&gt;\n&lt;/TVShow_Info&gt;\n</code></pre>\n"},{"tags":["java","memory-management"],"comments":[{"owner":{"account_id":4271589,"reputation":4111,"user_id":3493289,"accept_rate":83,"display_name":"MS Srikkanth"},"score":0,"creation_date":1460788222,"post_id":36660904,"comment_id":60914433,"body_markdown":"Yes your understanding is right. But the JLS allows for Integers in the range -128 to 127 to be stored as static instances within Integer class.","body":"Yes your understanding is right. But the JLS allows for Integers in the range -128 to 127 to be stored as static instances within Integer class."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1460788870,"post_id":36660904,"comment_id":60914599,"body_markdown":"For a local reference variable like `e1` here, the reference itself will be on the stack, but the object that it refers to will be on the heap.","body":"For a local reference variable like <code>e1</code> here, the reference itself will be on the stack, but the object that it refers to will be on the heap."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1617868157,"creation_date":1460789223,"answer_id":36661078,"question_id":36660904,"body_markdown":"It is a bit more complicated than that.\r\n\r\nFirst, you need to know whether the `i` and `ei` variables are local variables or fields (static or instance) of an object&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nIf they are local variables:\r\n\r\n  - `i` is on the stack.\r\n  - `ei` is on the stack (a reference) and it refers to an object in the heap.\r\n\r\nIf they are fields of an instance or class:\r\n\r\n  - `i` is on the heap (as part of the instance or the class).\r\n  - `ei` is on the heap (as part of the instance or the class) and it refers to an object in the heap.\r\n\r\nFinally, it is worth noting that `Integer e1 = 0` may not allocate a new `Integer` object at all.  The reference stored in `e1` may be a reference to an object that already existed.\r\n\r\n------------\r\n\r\n&lt;sup&gt;1 - There&#39;s another case too.  If `i` or `ei` are local variables that are referred to by an inner class declaration, then a second copy will be made when the inner class is instantiated.  For that copy, the space usage will be as if `i` / `ei` were fields of the inner class.&lt;/sup&gt;\r\n        ","title":"Java Wrapper &amp; Primitive Memory Allocation","body":"<p>It is a bit more complicated than that.</p>\n<p>First, you need to know whether the <code>i</code> and <code>ei</code> variables are local variables or fields (static or instance) of an object<sup>1</sup>.</p>\n<p>If they are local variables:</p>\n<ul>\n<li><code>i</code> is on the stack.</li>\n<li><code>ei</code> is on the stack (a reference) and it refers to an object in the heap.</li>\n</ul>\n<p>If they are fields of an instance or class:</p>\n<ul>\n<li><code>i</code> is on the heap (as part of the instance or the class).</li>\n<li><code>ei</code> is on the heap (as part of the instance or the class) and it refers to an object in the heap.</li>\n</ul>\n<p>Finally, it is worth noting that <code>Integer e1 = 0</code> may not allocate a new <code>Integer</code> object at all.  The reference stored in <code>e1</code> may be a reference to an object that already existed.</p>\n<hr />\n<p><sup>1 - There's another case too.  If <code>i</code> or <code>ei</code> are local variables that are referred to by an inner class declaration, then a second copy will be made when the inner class is instantiated.  For that copy, the space usage will be as if <code>i</code> / <code>ei</code> were fields of the inner class.</sup></p>\n"},{"tags":[],"owner":{"account_id":9746314,"reputation":356,"user_id":7226192,"display_name":"JamesC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646857917,"creation_date":1646857917,"answer_id":71415668,"question_id":36660904,"body_markdown":"This one is a very interesting question.\r\n\r\nWith the primitive the allocation will be in the stack and will cost its needed 4 bytes give or take some rounding.\r\n\r\nBut things really begin to grow when talking about the wrapper.\r\nIf we compare it to C++, the fact that the 4 bytes will be allocated in the heap, makes the e1 a pointer.\r\n\r\nAssuming we are using a 64bit machine, e1 will take 8bytes in the stack (+rounding). \r\n\r\nAnd the heap data chunk has at least a small 4-8bytes header.\r\n\r\nLooking inside the implementation of these types I don&#39;t see more memory used for each instance as all helper members and constants are static, so all instances will use the same data chunk in the &#39;data-segment&#39; used for this type.\r\n\r\nSo, adding all this shows that the wrapper&#39;s allocation will always be bigger than the primitive. \r\nFor example - with extremely rough calculation you get something like:\r\n\r\nPrimitive: int -&gt;  4 bytes,  Wrapper: Integer -&gt; 8(stack) + [4 + 4](heap) = 16 bytes\r\n\r\n\r\nAs for performance, it seems that primitives will be manipulated way faster than wrappers, but this is for another discussion.\r\n\r\nHope this info had helped.\r\n \r\n","title":"Java Wrapper &amp; Primitive Memory Allocation","body":"<p>This one is a very interesting question.</p>\n<p>With the primitive the allocation will be in the stack and will cost its needed 4 bytes give or take some rounding.</p>\n<p>But things really begin to grow when talking about the wrapper.\nIf we compare it to C++, the fact that the 4 bytes will be allocated in the heap, makes the e1 a pointer.</p>\n<p>Assuming we are using a 64bit machine, e1 will take 8bytes in the stack (+rounding).</p>\n<p>And the heap data chunk has at least a small 4-8bytes header.</p>\n<p>Looking inside the implementation of these types I don't see more memory used for each instance as all helper members and constants are static, so all instances will use the same data chunk in the 'data-segment' used for this type.</p>\n<p>So, adding all this shows that the wrapper's allocation will always be bigger than the primitive.\nFor example - with extremely rough calculation you get something like:</p>\n<p>Primitive: int -&gt;  4 bytes,  Wrapper: Integer -&gt; 8(stack) + 4 + 4 = 16 bytes</p>\n<p>As for performance, it seems that primitives will be manipulated way faster than wrappers, but this is for another discussion.</p>\n<p>Hope this info had helped.</p>\n"}],"owner":{"account_id":2927844,"reputation":431,"user_id":2508818,"accept_rate":64,"display_name":"Amar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4036,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"answer_count":2,"score":12,"last_activity_date":1646857917,"creation_date":1460787920,"question_id":36660904,"body_markdown":"I was asked following question in a interview\r\n\r\n&gt; ##Consider this following Code##\r\n&gt; &gt; `int i =0` &lt;BR/&gt;\r\n&gt; &gt; `Integer e1 = 0` &lt;BR/&gt;\r\n&gt; &gt; In which memory are they going to be created?\r\n\r\nAs per my understanding\r\n&gt; &gt; For `int i =0` &lt;BR/&gt;\r\n&gt; &gt; &gt; Primitive data type goes into stack memory and &lt;BR/&gt;\r\n\r\n&gt; &gt; For`Integer e1 = 0` &lt;BR/&gt;\r\n&gt; &gt; &gt; Integer been a Wrapper Class goes into heap memory&lt;BR/&gt;\r\n\r\nPlease help with the proper understanding?","title":"Java Wrapper &amp; Primitive Memory Allocation","body":"<p>I was asked following question in a interview</p>\n\n<blockquote>\n  <h2>Consider this following Code</h2>\n  \n  <blockquote>\n    <p><code>int i =0</code> <BR/>\n    <code>Integer e1 = 0</code> <BR/>\n    In which memory are they going to be created?</p>\n  </blockquote>\n</blockquote>\n\n<p>As per my understanding</p>\n\n<blockquote>\n  <blockquote>\n    <p>For <code>int i =0</code> <BR/></p>\n    \n    <blockquote>\n      <p>Primitive data type goes into stack memory and <BR/></p>\n    </blockquote>\n    \n    <p>For<code>Integer e1 = 0</code> <BR/></p>\n    \n    <blockquote>\n      <p>Integer been a Wrapper Class goes into heap memory<BR/></p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<p>Please help with the proper understanding?</p>\n"},{"tags":["java","stl"],"answers":[{"tags":[],"owner":{"display_name":"user6094307"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646857789,"creation_date":1646857789,"answer_id":71415645,"question_id":71415548,"body_markdown":"Real32 is not 12 byte long. Each vertex has 3 real32 number, each one is for x, y and z coordinate respectively. Each coordinate is represented by 4 bytes that means 32 bit in little endian format, and that format is called real32.\r\nYou can write a function that converts 4 bytes real32 number to double.","title":"How to convert a REAL32 to a Vector","body":"<p>Real32 is not 12 byte long. Each vertex has 3 real32 number, each one is for x, y and z coordinate respectively. Each coordinate is represented by 4 bytes that means 32 bit in little endian format, and that format is called real32.\nYou can write a function that converts 4 bytes real32 number to double.</p>\n"}],"owner":{"account_id":21932712,"reputation":33,"user_id":16214449,"display_name":"Malte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71415645,"answer_count":1,"score":0,"last_activity_date":1646857789,"creation_date":1646857288,"question_id":71415548,"body_markdown":"so I want to read a STL-File for a project and ran into the problem of not knowing how to read a REAL32 number and convert it to a useable Float Value.\r\n\r\nTLDR how to read 12 byte REAL32 and convert it to 3 coordinates\r\n\r\n(from Wikipedia)\r\n\r\n    foreach triangle                      - 50 bytes:\r\n        REAL32[3] – Normal vector             - 12 bytes\r\n        REAL32[3] – Vertex 1                  - 12 bytes\r\n        REAL32[3] – Vertex 2                  - 12 bytes\r\n        REAL32[3] – Vertex 3                  - 12 bytes\r\n        UINT16    – Attribute byte count      -  2 bytes\r\n    end","title":"How to convert a REAL32 to a Vector","body":"<p>so I want to read a STL-File for a project and ran into the problem of not knowing how to read a REAL32 number and convert it to a useable Float Value.</p>\n<p>TLDR how to read 12 byte REAL32 and convert it to 3 coordinates</p>\n<p>(from Wikipedia)</p>\n<pre><code>foreach triangle                      - 50 bytes:\n    REAL32[3] – Normal vector             - 12 bytes\n    REAL32[3] – Vertex 1                  - 12 bytes\n    REAL32[3] – Vertex 2                  - 12 bytes\n    REAL32[3] – Vertex 3                  - 12 bytes\n    UINT16    – Attribute byte count      -  2 bytes\nend\n</code></pre>\n"},{"tags":["java","swing","jfreechart"],"comments":[{"owner":{"account_id":49071,"reputation":8670,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":0,"creation_date":1646800382,"post_id":71402109,"comment_id":126211170,"body_markdown":"Can you simplify the code down the bare minimum?","body":"Can you simplify the code down the bare minimum?"},{"owner":{"account_id":23863113,"reputation":21907,"user_id":17865804,"display_name":"Chris"},"score":0,"creation_date":1646827896,"post_id":71402109,"comment_id":126219232,"body_markdown":"Please have a look at [this answer](https://stackoverflow.com/a/16106116).","body":"Please have a look at <a href=\"https://stackoverflow.com/a/16106116\">this answer</a>."},{"owner":{"account_id":15510,"reputation":30708,"user_id":32834,"accept_rate":79,"display_name":"Frank"},"score":0,"creation_date":1646844959,"post_id":71402109,"comment_id":126226207,"body_markdown":"I tried marker, but doesn&#39;t work :   private JFreeChart createChart(String Symbol)\n  {\n    createPriceDataset(Symbol);\n ...\n      \n    IntervalMarker marker=new IntervalMarker(1.3,2.9);                         // Not working ?\n//    marker.setPaint(new Color(0xDD,0xFF,0xDD,0x80));\n    marker.setPaint(new Color(200,0,200));\n    marker.setAlpha(0.5f);\n    plot.addDomainMarker(marker,Layer.BACKGROUND);\n\n    return chart;\n  }","body":"I tried marker, but doesn&#39;t work :   private JFreeChart createChart(String Symbol)   {     createPriceDataset(Symbol);  ...            IntervalMarker marker=new IntervalMarker(1.3,2.9);                         // Not working ? //    marker.setPaint(new Color(0xDD,0xFF,0xDD,0x80));     marker.setPaint(new Color(200,0,200));     marker.setAlpha(0.5f);     plot.addDomainMarker(marker,Layer.BACKGROUND);      return chart;   }"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646857382,"creation_date":1646857382,"answer_id":71415561,"question_id":71402109,"body_markdown":"As seen [here][1], concrete annotations require that coordinates be specified in data space. Given a `Map.Entry&lt;Integer, Integer&gt; hightlight` of series indices to highlight, seen [here][2],\r\n\r\n    Map.Entry&lt;Integer, Integer&gt; highlight = new HashMap.SimpleEntry&lt;&gt;(6, 8);\r\n\r\nThe fragment below adds an [`XYBoxAnnotation`][3] spanning the indicated domain and the full range. Note that a non-zero value for `setBarAlignmentFactor()` requires a corresponding adjustment by `BAR_SHIFT`:\r\n\r\n    double BAR_FACTOR = 0.5;\r\n    double BAR_SHIFT = Duration.ofDays(1).toMillis() * BAR_FACTOR;\r\n    …\r\n    double t0 = priceSeries.getTimePeriod(hightlight.getKey()).getFirstMillisecond() - BAR_SHIFT;\r\n    double t1 = priceSeries.getTimePeriod(hightlight.getValue()).getLastMillisecond() - BAR_SHIFT;\r\n    double minY = 0;\r\n    double maxY = priceSeries.getMaxY() * 1.1;\r\n    Color color = new Color(0, 0, 255, 50);\r\n    xyRenderer.addAnnotation(new XYBoxAnnotation(\r\n        t0, minY, t1, maxY, null, null, color), Layer.BACKGROUND);\r\n\r\n[![image][4]][4]\r\n\r\nSearching a series for matching date strings is illustrated [here][5].\r\n\r\n\r\n  [1]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/annotations/package-summary.html\r\n  [2]: https://gist.github.com/trashgod/a3f7581417db19bf5b6dc52d3647a2f9\r\n  [3]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/annotations/XYBoxAnnotation.html\r\n  [4]: https://i.stack.imgur.com/8kp3r.png\r\n  [5]: https://stackoverflow.com/q/71385253/230513","title":"How to highlight a section in JFreeChart?","body":"<p>As seen <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/annotations/package-summary.html\" rel=\"nofollow noreferrer\">here</a>, concrete annotations require that coordinates be specified in data space. Given a <code>Map.Entry&lt;Integer, Integer&gt; hightlight</code> of series indices to highlight, seen <a href=\"https://gist.github.com/trashgod/a3f7581417db19bf5b6dc52d3647a2f9\" rel=\"nofollow noreferrer\">here</a>,</p>\n<pre><code>Map.Entry&lt;Integer, Integer&gt; highlight = new HashMap.SimpleEntry&lt;&gt;(6, 8);\n</code></pre>\n<p>The fragment below adds an <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/annotations/XYBoxAnnotation.html\" rel=\"nofollow noreferrer\"><code>XYBoxAnnotation</code></a> spanning the indicated domain and the full range. Note that a non-zero value for <code>setBarAlignmentFactor()</code> requires a corresponding adjustment by <code>BAR_SHIFT</code>:</p>\n<pre><code>double BAR_FACTOR = 0.5;\ndouble BAR_SHIFT = Duration.ofDays(1).toMillis() * BAR_FACTOR;\n…\ndouble t0 = priceSeries.getTimePeriod(hightlight.getKey()).getFirstMillisecond() - BAR_SHIFT;\ndouble t1 = priceSeries.getTimePeriod(hightlight.getValue()).getLastMillisecond() - BAR_SHIFT;\ndouble minY = 0;\ndouble maxY = priceSeries.getMaxY() * 1.1;\nColor color = new Color(0, 0, 255, 50);\nxyRenderer.addAnnotation(new XYBoxAnnotation(\n    t0, minY, t1, maxY, null, null, color), Layer.BACKGROUND);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8kp3r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8kp3r.png\" alt=\"image\" /></a></p>\n<p>Searching a series for matching date strings is illustrated <a href=\"https://stackoverflow.com/q/71385253/230513\">here</a>.</p>\n"}],"owner":{"account_id":15510,"reputation":30708,"user_id":32834,"accept_rate":79,"display_name":"Frank"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71415561,"answer_count":1,"score":1,"last_activity_date":1646857382,"creation_date":1646777697,"question_id":71402109,"body_markdown":"My sample code looks like the following :\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.awt.geom.*;\r\n    import java.text.*;\r\n    import java.util.*;\r\n    import javax.swing.*;\r\n    import org.jfree.chart.*;\r\n    import org.jfree.chart.annotations.*;\r\n    import org.jfree.chart.axis.*;\r\n    import org.jfree.chart.entity.*;\r\n    import org.jfree.chart.plot.XYPlot;\r\n    import org.jfree.chart.renderer.xy.XYBarRenderer;\r\n    import org.jfree.data.time.*;\r\n    import org.jfree.data.xy.XYDataset;\r\n    import org.jfree.chart.labels.*;\r\n    import org.jfree.chart.panel.*;\r\n    import org.jfree.chart.plot.*;\r\n    import org.jfree.chart.renderer.xy.*;\r\n    import org.jfree.chart.ui.*;\r\n    \r\n    public class PriceVolume_Chart extends JPanel implements ChartMouseListener   // A demo application for price-volume chart.   \r\n    {\r\n      ChartPanel panel;\r\n      TimeSeries Price_Series=new TimeSeries(&quot;Price&quot;);\r\n      TimeSeries Volume_Series=new TimeSeries(&quot;Volume&quot;);\r\n      Crosshair xCrosshair,yCrosshair;\r\n      Vector&lt;String&gt; Volume_Color_Vector;\r\n      XYTextAnnotation note;\r\n      XYPlot plot;\r\n      XYLineAndShapeRenderer r;\r\n      JFreeChart chart;\r\n      LinkedHashMap&lt;String,String&gt; From_To_Date_Map;\r\n      \r\n      public PriceVolume_Chart(String Symbol,LinkedHashMap&lt;String,String&gt; From_To_Date_Map,int Index)\r\n      {\r\n    //    super(new GridLayout());\r\n        this.From_To_Date_Map=From_To_Date_Map;\r\n        try\r\n        {\r\n          chart=createChart(Symbol);\r\n          panel=new ChartPanel(chart,true,true,true,false,true);\r\n          panel.setPreferredSize(new java.awt.Dimension(1000,500));\r\n          panel.addChartMouseListener(this);\r\n    \r\n          if (From_To_Date_Map!=null &amp;&amp; From_To_Date_Map.size()&gt;0)\r\n          {\r\n            for (String key : From_To_Date_Map.keySet())\r\n            {\r\n              String fromDate=key;\r\n              int xStart=getX(fromDate);\r\n              String toDate=From_To_Date_Map.get(key);\r\n              int xEnd=getX(toDate);\r\n    \r\n              XYShapeAnnotation highlight=new XYShapeAnnotation(new Rectangle2D.Double(xStart,36,xEnd-xStart,669),new BasicStroke(1.0f),Color.blue);\r\n              plot.addAnnotation(highlight);\r\n              Out(&quot;[ &quot;+fromDate+&quot; : &quot;+toDate+&quot; ]&quot;);\r\n            }\r\n          }\r\n    \r\n          CrosshairOverlay crosshairOverlay=new CrosshairOverlay();\r\n          float[] dash={2f,0f,2f};\r\n          BasicStroke bs=new BasicStroke(1,BasicStroke.CAP_BUTT,BasicStroke.JOIN_ROUND,1.0f,dash,2f);\r\n    \r\n          xCrosshair=new Crosshair(Double.NaN,Color.black,bs);\r\n          xCrosshair.setLabelBackgroundPaint(new Color(0f,0f,0f,1f));\r\n          xCrosshair.setLabelFont(xCrosshair.getLabelFont().deriveFont(14f));\r\n          xCrosshair.setLabelPaint(new Color(1f,1f,1f,1f));\r\n    \r\n          xCrosshair.setLabelGenerator(new CrosshairLabelGenerator()\r\n          {\r\n            @Override\r\n            public String generateLabel(Crosshair crosshair)\r\n            {\r\n              long ms=(long)crosshair.getValue();\r\n              TimeSeriesDataItem item=null;\r\n              for (int i=0;i&lt;Volume_Series.getItemCount();i++)\r\n              {\r\n                item=Volume_Series.getDataItem(i);\r\n                if (ms==item.getPeriod().getFirstMillisecond()) break;\r\n              }\r\n              long volume=item.getValue().longValue();\r\n              String s=NumberFormat.getInstance().format(volume);\r\n              return MessageFormat.format(&quot; Volume: {0} &quot;,s);\r\n            }\r\n          });\r\n    \r\n    /*\r\n          xCrosshair.setLabelGenerator(new StandardCrosshairLabelGenerator()\r\n          {\r\n            @Override\r\n            public String generateLabel(Crosshair crosshair)\r\n            {\r\n              long ms=(long)crosshair.getValue();\r\n              TimeSeriesDataItem item=null;\r\n              for (int i=0;i&lt;Volume_Series.getItemCount();i++)\r\n              {\r\n                item=Volume_Series.getDataItem(i);\r\n                if (ms==item.getPeriod().getFirstMillisecond()) break;\r\n              }\r\n              long volume=item.getValue().longValue();\r\n              return &quot; &quot;+NumberFormat.getInstance().format(volume)+&quot; &quot;;\r\n            }\r\n          });\r\n    */\r\n          xCrosshair.setLabelVisible(true);\r\n          yCrosshair=new Crosshair(Double.NaN,Color.black,bs);\r\n          yCrosshair.setLabelBackgroundPaint(new Color(0f,0f,0f,1f));\r\n          yCrosshair.setLabelFont(xCrosshair.getLabelFont().deriveFont(14f));\r\n          yCrosshair.setLabelPaint(new Color(1f,1f,1f,1f));\r\n          \r\n          yCrosshair.setLabelGenerator(new StandardCrosshairLabelGenerator(&quot; Price: {0} &quot;,NumberFormat.getCurrencyInstance()));\r\n    \r\n          yCrosshair.setLabelVisible(true);\r\n          crosshairOverlay.addDomainCrosshair(xCrosshair);\r\n          crosshairOverlay.addRangeCrosshair(yCrosshair);\r\n          panel.addOverlay(crosshairOverlay);\r\n          add(panel);\r\n    /*\r\n          if (Index!=-1 &amp;&amp; Index&lt;Volume_Series.getItemCount())\r\n          {\r\n            TimeSeriesDataItem itemX=Volume_Series.getDataItem(Index);\r\n            xCrosshair.setValue(itemX.getPeriod().getFirstMillisecond());\r\n            \r\n            TimeSeriesDataItem itemY=Price_Series.getDataItem(Index);\r\n            yCrosshair.setValue(itemY.getValue().doubleValue());\r\n    \r\n            TimeSeriesDataItem item=Price_Series.getDataItem(Index);\r\n            float time=item.getPeriod().getFirstMillisecond();\r\n            float price=item.getValue().floatValue();\r\n            SimpleDateFormat f=new SimpleDateFormat(&quot;yyyy-MM-d&quot;);\r\n            String st=&quot; Price : &quot;+f.format(new Date((long)time))+&quot; , &quot;+NumberFormat.getCurrencyInstance().format(price)+&quot; &quot;;\r\n            note=new XYTextAnnotation(st,time,price-1);\r\n            note.setFont(UIManager.getFont(&quot;ToolTip.font&quot;));\r\n            note.setBackgroundPaint(UIManager.getColor(&quot;ToolTip.background&quot;));\r\n            Out(&quot;Index = &quot;+Index);\r\n            note.setTextAnchor(Index&lt;Volume_Color_Vector.size()/2?TextAnchor.TOP_LEFT:TextAnchor.TOP_RIGHT);\r\n            note.setOutlinePaint(Color.blue);\r\n            note.setOutlineVisible(true);\r\n            plot.getRenderer().addAnnotation(note);\r\n          }\r\n    */\r\n        }\r\n        catch (Exception e) { e.printStackTrace(); }\r\n      }\r\n    \r\n      private JFreeChart createChart(String Symbol)\r\n      {\r\n        createPriceDataset(Symbol);\r\n        XYDataset priceData=new TimeSeriesCollection(Price_Series);\r\n        JFreeChart chart=ChartFactory.createTimeSeriesChart(Symbol,&quot;Date&quot;,getYLabel(&quot;Price ( $ )&quot;),priceData,true,true,true);\r\n        plot=chart.getXYPlot();\r\n        plot.setBackgroundPaint(new Color(192,196,196));\r\n        NumberAxis rangeAxis1=(NumberAxis)plot.getRangeAxis();\r\n        rangeAxis1.setLowerMargin(0.40);                                           // Leave room for volume bars\r\n        plot.getRenderer().setDefaultToolTipGenerator(new StandardXYToolTipGenerator(StandardXYToolTipGenerator.DEFAULT_TOOL_TIP_FORMAT,new SimpleDateFormat(&quot;yyyy-MM-d&quot;),NumberFormat.getCurrencyInstance()));\r\n    \r\n        NumberAxis rangeAxis2=new NumberAxis(&quot;Volume&quot;);\r\n        rangeAxis2.setUpperMargin(1.00);                                           // Leave room for price line   \r\n        rangeAxis2.setNumberFormatOverride(NumberFormat.getNumberInstance());\r\n        plot.setRangeAxis(1,rangeAxis2);\r\n        plot.setDataset(1,new TimeSeriesCollection(Volume_Series));\r\n        plot.setRangeAxis(1,rangeAxis2);\r\n        plot.mapDatasetToRangeAxis(1,1);\r\n        MyRender Renderer=new MyRender(this);\r\n        Renderer.setShadowVisible(false);\r\n        plot.setRenderer(1,Renderer);\r\n    \r\n        DateAxis domainAxis=(DateAxis) plot.getDomainAxis();                     // Consider adjusting the lower margin of the domain axis for symmetry.\r\n        domainAxis.setLowerMargin(0.05);\r\n              \r\n        r=(XYLineAndShapeRenderer)plot.getRenderer();\r\n    \r\n    //    r.addAnnotation(new XYShapeAnnotation(new Ellipse2D.Double(300,300,60,60)));\r\n    \r\n        return chart;\r\n      }\r\n    \r\n      private void createPriceDataset(String Symbol)\r\n      {\r\n        String Lines[]=new String[21],Items[],Date;\r\n        int Year, Month, Day;\r\n        long Volume,Last_Volume=0;\r\n        float Price;\r\n    \r\n        Lines[0]=&quot;Date,Open,High,Low,Close,Adj Close,Volume&quot;;\r\n        Lines[1]=&quot;2020-07-17,44.110001,44.369999,41.919998,42.509998,42.323395,849700&quot;;\r\n        Lines[2]=&quot;2020-07-20,41.630001,41.680000,39.669998,40.119999,39.943886,1319300&quot;;\r\n        Lines[3]=&quot;2020-07-21,40.880001,42.860001,40.860001,42.270000,42.084450,2070300&quot;;\r\n        Lines[4]=&quot;2020-07-22,41.919998,42.700001,41.090000,42.570000,42.383133,1317600&quot;;\r\n        Lines[5]=&quot;2020-07-23,43.919998,46.389999,43.279999,44.759998,44.563519,1917700&quot;;\r\n        Lines[6]=&quot;2020-07-24,46.500000,46.500000,43.950001,44.410000,44.215057,1384600&quot;;\r\n        Lines[7]=&quot;2020-07-27,44.000000,44.240002,42.610001,43.860001,43.667469,799800&quot;;\r\n        Lines[8]=&quot;2020-07-28,43.389999,44.590000,42.930000,43.020000,42.831158,699700&quot;;\r\n        Lines[9]=&quot;2020-07-29,42.759998,45.590000,42.740002,45.430000,45.230579,826200&quot;;\r\n        Lines[10]=&quot;2020-07-30,44.160000,44.639999,42.959999,44.500000,44.304661,798100&quot;;\r\n        Lines[11]=&quot;2020-07-31,44.330002,44.419998,42.580002,44.360001,44.165276,1037800&quot;;\r\n        Lines[12]=&quot;2020-08-03,44.560001,45.599998,43.419998,44.939999,44.742729,797000&quot;;\r\n        Lines[13]=&quot;2020-08-04,44.900002,45.500000,43.450001,43.540001,43.348877,971100&quot;;\r\n        Lines[14]=&quot;2020-08-05,44.860001,45.389999,43.650002,45.330002,45.131020,902000&quot;;\r\n        Lines[15]=&quot;2020-08-06,45.049999,46.279999,44.330002,45.299999,45.101147,645200&quot;;\r\n        Lines[16]=&quot;2020-08-07,44.849998,46.189999,44.189999,46.150002,45.947418,604900&quot;;\r\n        Lines[17]=&quot;2020-08-10,46.669998,48.410000,46.549999,47.290001,47.082417,960200&quot;;\r\n        Lines[18]=&quot;2020-08-11,49.110001,50.849998,48.799999,48.910000,48.695301,1187700&quot;;\r\n        Lines[19]=&quot;2020-08-12,49.759998,50.009998,47.060001,47.840000,47.630001,752800&quot;;\r\n        Lines[20]=&quot;2020-08-13,46.950001,48.369999,46.459999,47.110001,47.110001,535700&quot;;\r\n    \r\n        Volume_Color_Vector=new Vector();\r\n        for (int i=1;i&lt;Lines.length;i++)\r\n        {\r\n          Items=Lines[i].split(&quot;,&quot;);\r\n          Date=Items[0].replace(&quot;-0&quot;,&quot;-&quot;);\r\n          Price=Float.parseFloat(Items[5]);\r\n          Volume=Long.parseLong(Items[6]);\r\n          Items=Date.split(&quot;-&quot;);\r\n          Year=Integer.parseInt(Items[0]);\r\n          Month=Integer.parseInt(Items[1]);\r\n          Day=Integer.parseInt(Items[2]);\r\n          Price_Series.add(new Day(Day,Month,Year),Price);\r\n          Volume_Series.add(new Day(Day,Month,Year),Volume);\r\n          Volume_Color_Vector.add(Volume&gt;=Last_Volume?&quot;+&quot;:&quot;-&quot;);\r\n          Last_Volume=Volume;\r\n        }\r\n      }\r\n    \r\n      public int getX(int index)                     // Find X pixel location by date index : In this example : index = 0 points to &quot;2020-07-17&quot;\r\n      {\r\n        Rectangle2D dataArea=panel.getScreenDataArea();\r\n        RectangleEdge xAxisLocation=plot.getDomainAxisEdge();\r\n        DateAxis domainAxis=(DateAxis)plot.getDomainAxis();\r\n        TimeSeriesDataItem item=Price_Series.getDataItem(index);\r\n        long t=item.getPeriod().getFirstMillisecond();\r\n        double x=domainAxis.valueToJava2D(t,dataArea,xAxisLocation);\r\n    //    Out(&quot;X = &quot;+(int)x);\r\n        return (int) x;\r\n      }\r\n    \r\n      public int getX(String date)                   // Find X pixel location by date string : For example &quot;2020-08-03&quot;\r\n      {\r\n        double x=-999;\r\n        \r\n        Rectangle2D dataArea=panel.getScreenDataArea();\r\n        RectangleEdge xAxisLocation=plot.getDomainAxisEdge();\r\n        DateAxis domainAxis=(DateAxis)plot.getDomainAxis();\r\n        try\r\n        {\r\n          SimpleDateFormat sdf=new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n          RegularTimePeriod rtp=new Day(sdf.parse(date));\r\n          TimeSeriesDataItem item=Price_Series.getDataItem(Price_Series.getIndex(rtp));\r\n          long t=item.getPeriod().getFirstMillisecond();\r\n          x=domainAxis.valueToJava2D(t,dataArea,xAxisLocation);\r\n    //    Out(&quot;X = &quot;+(int)x);\r\n        }\r\n        catch (Exception e) { e.printStackTrace(); }\r\n        return (int) x;\r\n      }\r\n    \r\n      @Override\r\n      public void chartMouseClicked(ChartMouseEvent e)\r\n      {\r\n        Out(&quot;x = &quot;+e.getTrigger().getX());           // Find X pixel location by mouse click\r\n      }\r\n    \r\n      public void chartMouseMoved(ChartMouseEvent cmevent)\r\n      {\r\n        ChartEntity chartentity=cmevent.getEntity();\r\n        if (chartentity instanceof XYItemEntity)\r\n        {\r\n          if (!r.getAnnotations().isEmpty()) r.removeAnnotation(note);\r\n    \r\n          XYItemEntity e=(XYItemEntity)chartentity;\r\n          XYDataset d=e.getDataset();\r\n          int s=e.getSeriesIndex();\r\n          int i=e.getItem();\r\n          double x=d.getXValue(s,i);\r\n          double y=d.getYValue(s,i);\r\n    //      Out(&quot;x = &quot;+x+&quot;  y = &quot;+y);\r\n          xCrosshair.setValue(x);\r\n          yCrosshair.setValue(y);\r\n    //      Out(cmevent.getTrigger().getX()+&quot; &quot;+getX(i)+&quot;  getX(2020-07-23) = &quot;+getX(&quot;2020-07-23&quot;));\r\n        }\r\n      }\r\n    /*\r\n      public void paint(Graphics g)\r\n      {\r\n        int x=58,y=36,w=87,h=401;\r\n        Graphics2D g2d=(Graphics2D)g;\r\n        \r\n        chart.draw((Graphics2D)g,getBounds());\r\n        chart.setAntiAlias(true);\r\n            \r\n        g2d.setPaint(new Color(98,98,198));\r\n        g2d.setComposite(makeComposite(0.36f));\r\n        g2d.fillRect(x+313,y,w,h);   \r\n        \r\n        repaint();\r\n      }\r\n    \r\n      private AlphaComposite makeComposite(float alpha)\r\n      {\r\n        int type=AlphaComposite.SRC_OVER;\r\n        return (AlphaComposite.getInstance(type,alpha));\r\n      }\r\n    */\r\n      String getYLabel(String Text)\r\n      {\r\n        String Result=&quot;&quot;;\r\n    \r\n        for (int i=0;i&lt;Text.length();i++) Result+=Text.charAt(i)+(i&lt;Text.length()-1?&quot;\\u2009&quot;:&quot;&quot;);\r\n    //    Out(Result);\r\n        return Result;\r\n      }\r\n    \r\n      private static void out(String message) { System.out.print(message); }\r\n    \r\n      private static void Out(String message) { System.out.println(message); }\r\n    \r\n      // Create the GUI and show it. For thread safety, this method should be invoked from the event-dispatching thread.\r\n      static void Create_And_Show_GUI()\r\n      {\r\n        LinkedHashMap&lt;String,String&gt; From_To_Date_Map=new LinkedHashMap();\r\n        \r\n        From_To_Date_Map.put(&quot;2020-07-27&quot;,&quot;2020-07-29&quot;);\r\n        final PriceVolume_Chart demo=new PriceVolume_Chart(&quot;ADS&quot;,From_To_Date_Map,10);\r\n    \r\n        JFrame frame=new JFrame(&quot;PriceVolume_Chart Frame&quot;);\r\n        frame.add(demo);\r\n        frame.addWindowListener(new WindowAdapter()\r\n        {\r\n          public void windowActivated(WindowEvent e) { }\r\n          public void windowClosed(WindowEvent e) { }\r\n          public void windowClosing(WindowEvent e) { System.exit(0); }\r\n          public void windowDeactivated(WindowEvent e) { }\r\n          public void windowDeiconified(WindowEvent e) { demo.repaint(); }\r\n          public void windowGainedFocus(WindowEvent e) { demo.repaint(); }\r\n          public void windowIconified(WindowEvent e) { }\r\n          public void windowLostFocus(WindowEvent e) { }\r\n          public void windowOpening(WindowEvent e) { demo.repaint(); }\r\n          public void windowOpened(WindowEvent e) { }\r\n          public void windowResized(WindowEvent e) { demo.repaint(); }\r\n          public void windowStateChanged(WindowEvent e) { demo.repaint(); }\r\n        });\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n      }\r\n    \r\n      public static void main(String[] args)\r\n      {\r\n        // Schedule a job for the event-dispatching thread : creating and showing this application&#39;s GUI.\r\n        SwingUtilities.invokeLater(new Runnable() { public void run() { Create_And_Show_GUI(); } });\r\n      }\r\n    }\r\n    \r\n    class MyRender extends XYBarRenderer\r\n    {\r\n      PriceVolume_Chart PVC;\r\n    \r\n      MyRender(PriceVolume_Chart PVC)\r\n      {\r\n        this.PVC=PVC;\r\n      }\r\n    \r\n      @Override\r\n      public Paint getItemPaint(int row,int col)\r\n      {\r\n        this.setBarAlignmentFactor(0.5);\r\n    //      System.out.println(row+&quot; &quot;+col+&quot; &quot;+super.getItemPaint(row,col));\r\n        return PVC.Volume_Color_Vector.elementAt(col).equals(&quot;+&quot;)?super.getItemPaint(row,col):new Color(0.56f,0.2f,0.5f,1f);\r\n      }\r\n    }\r\n\r\nI&#39;m trying to highlight a section on the chart, which should look like the following, yet it&#39;s not showing up, how to fix my code ?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fr40O.png","title":"How to highlight a section in JFreeChart?","body":"<p>My sample code looks like the following :</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.awt.geom.*;\nimport java.text.*;\nimport java.util.*;\nimport javax.swing.*;\nimport org.jfree.chart.*;\nimport org.jfree.chart.annotations.*;\nimport org.jfree.chart.axis.*;\nimport org.jfree.chart.entity.*;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.renderer.xy.XYBarRenderer;\nimport org.jfree.data.time.*;\nimport org.jfree.data.xy.XYDataset;\nimport org.jfree.chart.labels.*;\nimport org.jfree.chart.panel.*;\nimport org.jfree.chart.plot.*;\nimport org.jfree.chart.renderer.xy.*;\nimport org.jfree.chart.ui.*;\n\npublic class PriceVolume_Chart extends JPanel implements ChartMouseListener   // A demo application for price-volume chart.   \n{\n  ChartPanel panel;\n  TimeSeries Price_Series=new TimeSeries(&quot;Price&quot;);\n  TimeSeries Volume_Series=new TimeSeries(&quot;Volume&quot;);\n  Crosshair xCrosshair,yCrosshair;\n  Vector&lt;String&gt; Volume_Color_Vector;\n  XYTextAnnotation note;\n  XYPlot plot;\n  XYLineAndShapeRenderer r;\n  JFreeChart chart;\n  LinkedHashMap&lt;String,String&gt; From_To_Date_Map;\n  \n  public PriceVolume_Chart(String Symbol,LinkedHashMap&lt;String,String&gt; From_To_Date_Map,int Index)\n  {\n//    super(new GridLayout());\n    this.From_To_Date_Map=From_To_Date_Map;\n    try\n    {\n      chart=createChart(Symbol);\n      panel=new ChartPanel(chart,true,true,true,false,true);\n      panel.setPreferredSize(new java.awt.Dimension(1000,500));\n      panel.addChartMouseListener(this);\n\n      if (From_To_Date_Map!=null &amp;&amp; From_To_Date_Map.size()&gt;0)\n      {\n        for (String key : From_To_Date_Map.keySet())\n        {\n          String fromDate=key;\n          int xStart=getX(fromDate);\n          String toDate=From_To_Date_Map.get(key);\n          int xEnd=getX(toDate);\n\n          XYShapeAnnotation highlight=new XYShapeAnnotation(new Rectangle2D.Double(xStart,36,xEnd-xStart,669),new BasicStroke(1.0f),Color.blue);\n          plot.addAnnotation(highlight);\n          Out(&quot;[ &quot;+fromDate+&quot; : &quot;+toDate+&quot; ]&quot;);\n        }\n      }\n\n      CrosshairOverlay crosshairOverlay=new CrosshairOverlay();\n      float[] dash={2f,0f,2f};\n      BasicStroke bs=new BasicStroke(1,BasicStroke.CAP_BUTT,BasicStroke.JOIN_ROUND,1.0f,dash,2f);\n\n      xCrosshair=new Crosshair(Double.NaN,Color.black,bs);\n      xCrosshair.setLabelBackgroundPaint(new Color(0f,0f,0f,1f));\n      xCrosshair.setLabelFont(xCrosshair.getLabelFont().deriveFont(14f));\n      xCrosshair.setLabelPaint(new Color(1f,1f,1f,1f));\n\n      xCrosshair.setLabelGenerator(new CrosshairLabelGenerator()\n      {\n        @Override\n        public String generateLabel(Crosshair crosshair)\n        {\n          long ms=(long)crosshair.getValue();\n          TimeSeriesDataItem item=null;\n          for (int i=0;i&lt;Volume_Series.getItemCount();i++)\n          {\n            item=Volume_Series.getDataItem(i);\n            if (ms==item.getPeriod().getFirstMillisecond()) break;\n          }\n          long volume=item.getValue().longValue();\n          String s=NumberFormat.getInstance().format(volume);\n          return MessageFormat.format(&quot; Volume: {0} &quot;,s);\n        }\n      });\n\n/*\n      xCrosshair.setLabelGenerator(new StandardCrosshairLabelGenerator()\n      {\n        @Override\n        public String generateLabel(Crosshair crosshair)\n        {\n          long ms=(long)crosshair.getValue();\n          TimeSeriesDataItem item=null;\n          for (int i=0;i&lt;Volume_Series.getItemCount();i++)\n          {\n            item=Volume_Series.getDataItem(i);\n            if (ms==item.getPeriod().getFirstMillisecond()) break;\n          }\n          long volume=item.getValue().longValue();\n          return &quot; &quot;+NumberFormat.getInstance().format(volume)+&quot; &quot;;\n        }\n      });\n*/\n      xCrosshair.setLabelVisible(true);\n      yCrosshair=new Crosshair(Double.NaN,Color.black,bs);\n      yCrosshair.setLabelBackgroundPaint(new Color(0f,0f,0f,1f));\n      yCrosshair.setLabelFont(xCrosshair.getLabelFont().deriveFont(14f));\n      yCrosshair.setLabelPaint(new Color(1f,1f,1f,1f));\n      \n      yCrosshair.setLabelGenerator(new StandardCrosshairLabelGenerator(&quot; Price: {0} &quot;,NumberFormat.getCurrencyInstance()));\n\n      yCrosshair.setLabelVisible(true);\n      crosshairOverlay.addDomainCrosshair(xCrosshair);\n      crosshairOverlay.addRangeCrosshair(yCrosshair);\n      panel.addOverlay(crosshairOverlay);\n      add(panel);\n/*\n      if (Index!=-1 &amp;&amp; Index&lt;Volume_Series.getItemCount())\n      {\n        TimeSeriesDataItem itemX=Volume_Series.getDataItem(Index);\n        xCrosshair.setValue(itemX.getPeriod().getFirstMillisecond());\n        \n        TimeSeriesDataItem itemY=Price_Series.getDataItem(Index);\n        yCrosshair.setValue(itemY.getValue().doubleValue());\n\n        TimeSeriesDataItem item=Price_Series.getDataItem(Index);\n        float time=item.getPeriod().getFirstMillisecond();\n        float price=item.getValue().floatValue();\n        SimpleDateFormat f=new SimpleDateFormat(&quot;yyyy-MM-d&quot;);\n        String st=&quot; Price : &quot;+f.format(new Date((long)time))+&quot; , &quot;+NumberFormat.getCurrencyInstance().format(price)+&quot; &quot;;\n        note=new XYTextAnnotation(st,time,price-1);\n        note.setFont(UIManager.getFont(&quot;ToolTip.font&quot;));\n        note.setBackgroundPaint(UIManager.getColor(&quot;ToolTip.background&quot;));\n        Out(&quot;Index = &quot;+Index);\n        note.setTextAnchor(Index&lt;Volume_Color_Vector.size()/2?TextAnchor.TOP_LEFT:TextAnchor.TOP_RIGHT);\n        note.setOutlinePaint(Color.blue);\n        note.setOutlineVisible(true);\n        plot.getRenderer().addAnnotation(note);\n      }\n*/\n    }\n    catch (Exception e) { e.printStackTrace(); }\n  }\n\n  private JFreeChart createChart(String Symbol)\n  {\n    createPriceDataset(Symbol);\n    XYDataset priceData=new TimeSeriesCollection(Price_Series);\n    JFreeChart chart=ChartFactory.createTimeSeriesChart(Symbol,&quot;Date&quot;,getYLabel(&quot;Price ( $ )&quot;),priceData,true,true,true);\n    plot=chart.getXYPlot();\n    plot.setBackgroundPaint(new Color(192,196,196));\n    NumberAxis rangeAxis1=(NumberAxis)plot.getRangeAxis();\n    rangeAxis1.setLowerMargin(0.40);                                           // Leave room for volume bars\n    plot.getRenderer().setDefaultToolTipGenerator(new StandardXYToolTipGenerator(StandardXYToolTipGenerator.DEFAULT_TOOL_TIP_FORMAT,new SimpleDateFormat(&quot;yyyy-MM-d&quot;),NumberFormat.getCurrencyInstance()));\n\n    NumberAxis rangeAxis2=new NumberAxis(&quot;Volume&quot;);\n    rangeAxis2.setUpperMargin(1.00);                                           // Leave room for price line   \n    rangeAxis2.setNumberFormatOverride(NumberFormat.getNumberInstance());\n    plot.setRangeAxis(1,rangeAxis2);\n    plot.setDataset(1,new TimeSeriesCollection(Volume_Series));\n    plot.setRangeAxis(1,rangeAxis2);\n    plot.mapDatasetToRangeAxis(1,1);\n    MyRender Renderer=new MyRender(this);\n    Renderer.setShadowVisible(false);\n    plot.setRenderer(1,Renderer);\n\n    DateAxis domainAxis=(DateAxis) plot.getDomainAxis();                     // Consider adjusting the lower margin of the domain axis for symmetry.\n    domainAxis.setLowerMargin(0.05);\n          \n    r=(XYLineAndShapeRenderer)plot.getRenderer();\n\n//    r.addAnnotation(new XYShapeAnnotation(new Ellipse2D.Double(300,300,60,60)));\n\n    return chart;\n  }\n\n  private void createPriceDataset(String Symbol)\n  {\n    String Lines[]=new String[21],Items[],Date;\n    int Year, Month, Day;\n    long Volume,Last_Volume=0;\n    float Price;\n\n    Lines[0]=&quot;Date,Open,High,Low,Close,Adj Close,Volume&quot;;\n    Lines[1]=&quot;2020-07-17,44.110001,44.369999,41.919998,42.509998,42.323395,849700&quot;;\n    Lines[2]=&quot;2020-07-20,41.630001,41.680000,39.669998,40.119999,39.943886,1319300&quot;;\n    Lines[3]=&quot;2020-07-21,40.880001,42.860001,40.860001,42.270000,42.084450,2070300&quot;;\n    Lines[4]=&quot;2020-07-22,41.919998,42.700001,41.090000,42.570000,42.383133,1317600&quot;;\n    Lines[5]=&quot;2020-07-23,43.919998,46.389999,43.279999,44.759998,44.563519,1917700&quot;;\n    Lines[6]=&quot;2020-07-24,46.500000,46.500000,43.950001,44.410000,44.215057,1384600&quot;;\n    Lines[7]=&quot;2020-07-27,44.000000,44.240002,42.610001,43.860001,43.667469,799800&quot;;\n    Lines[8]=&quot;2020-07-28,43.389999,44.590000,42.930000,43.020000,42.831158,699700&quot;;\n    Lines[9]=&quot;2020-07-29,42.759998,45.590000,42.740002,45.430000,45.230579,826200&quot;;\n    Lines[10]=&quot;2020-07-30,44.160000,44.639999,42.959999,44.500000,44.304661,798100&quot;;\n    Lines[11]=&quot;2020-07-31,44.330002,44.419998,42.580002,44.360001,44.165276,1037800&quot;;\n    Lines[12]=&quot;2020-08-03,44.560001,45.599998,43.419998,44.939999,44.742729,797000&quot;;\n    Lines[13]=&quot;2020-08-04,44.900002,45.500000,43.450001,43.540001,43.348877,971100&quot;;\n    Lines[14]=&quot;2020-08-05,44.860001,45.389999,43.650002,45.330002,45.131020,902000&quot;;\n    Lines[15]=&quot;2020-08-06,45.049999,46.279999,44.330002,45.299999,45.101147,645200&quot;;\n    Lines[16]=&quot;2020-08-07,44.849998,46.189999,44.189999,46.150002,45.947418,604900&quot;;\n    Lines[17]=&quot;2020-08-10,46.669998,48.410000,46.549999,47.290001,47.082417,960200&quot;;\n    Lines[18]=&quot;2020-08-11,49.110001,50.849998,48.799999,48.910000,48.695301,1187700&quot;;\n    Lines[19]=&quot;2020-08-12,49.759998,50.009998,47.060001,47.840000,47.630001,752800&quot;;\n    Lines[20]=&quot;2020-08-13,46.950001,48.369999,46.459999,47.110001,47.110001,535700&quot;;\n\n    Volume_Color_Vector=new Vector();\n    for (int i=1;i&lt;Lines.length;i++)\n    {\n      Items=Lines[i].split(&quot;,&quot;);\n      Date=Items[0].replace(&quot;-0&quot;,&quot;-&quot;);\n      Price=Float.parseFloat(Items[5]);\n      Volume=Long.parseLong(Items[6]);\n      Items=Date.split(&quot;-&quot;);\n      Year=Integer.parseInt(Items[0]);\n      Month=Integer.parseInt(Items[1]);\n      Day=Integer.parseInt(Items[2]);\n      Price_Series.add(new Day(Day,Month,Year),Price);\n      Volume_Series.add(new Day(Day,Month,Year),Volume);\n      Volume_Color_Vector.add(Volume&gt;=Last_Volume?&quot;+&quot;:&quot;-&quot;);\n      Last_Volume=Volume;\n    }\n  }\n\n  public int getX(int index)                     // Find X pixel location by date index : In this example : index = 0 points to &quot;2020-07-17&quot;\n  {\n    Rectangle2D dataArea=panel.getScreenDataArea();\n    RectangleEdge xAxisLocation=plot.getDomainAxisEdge();\n    DateAxis domainAxis=(DateAxis)plot.getDomainAxis();\n    TimeSeriesDataItem item=Price_Series.getDataItem(index);\n    long t=item.getPeriod().getFirstMillisecond();\n    double x=domainAxis.valueToJava2D(t,dataArea,xAxisLocation);\n//    Out(&quot;X = &quot;+(int)x);\n    return (int) x;\n  }\n\n  public int getX(String date)                   // Find X pixel location by date string : For example &quot;2020-08-03&quot;\n  {\n    double x=-999;\n    \n    Rectangle2D dataArea=panel.getScreenDataArea();\n    RectangleEdge xAxisLocation=plot.getDomainAxisEdge();\n    DateAxis domainAxis=(DateAxis)plot.getDomainAxis();\n    try\n    {\n      SimpleDateFormat sdf=new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n      RegularTimePeriod rtp=new Day(sdf.parse(date));\n      TimeSeriesDataItem item=Price_Series.getDataItem(Price_Series.getIndex(rtp));\n      long t=item.getPeriod().getFirstMillisecond();\n      x=domainAxis.valueToJava2D(t,dataArea,xAxisLocation);\n//    Out(&quot;X = &quot;+(int)x);\n    }\n    catch (Exception e) { e.printStackTrace(); }\n    return (int) x;\n  }\n\n  @Override\n  public void chartMouseClicked(ChartMouseEvent e)\n  {\n    Out(&quot;x = &quot;+e.getTrigger().getX());           // Find X pixel location by mouse click\n  }\n\n  public void chartMouseMoved(ChartMouseEvent cmevent)\n  {\n    ChartEntity chartentity=cmevent.getEntity();\n    if (chartentity instanceof XYItemEntity)\n    {\n      if (!r.getAnnotations().isEmpty()) r.removeAnnotation(note);\n\n      XYItemEntity e=(XYItemEntity)chartentity;\n      XYDataset d=e.getDataset();\n      int s=e.getSeriesIndex();\n      int i=e.getItem();\n      double x=d.getXValue(s,i);\n      double y=d.getYValue(s,i);\n//      Out(&quot;x = &quot;+x+&quot;  y = &quot;+y);\n      xCrosshair.setValue(x);\n      yCrosshair.setValue(y);\n//      Out(cmevent.getTrigger().getX()+&quot; &quot;+getX(i)+&quot;  getX(2020-07-23) = &quot;+getX(&quot;2020-07-23&quot;));\n    }\n  }\n/*\n  public void paint(Graphics g)\n  {\n    int x=58,y=36,w=87,h=401;\n    Graphics2D g2d=(Graphics2D)g;\n    \n    chart.draw((Graphics2D)g,getBounds());\n    chart.setAntiAlias(true);\n        \n    g2d.setPaint(new Color(98,98,198));\n    g2d.setComposite(makeComposite(0.36f));\n    g2d.fillRect(x+313,y,w,h);   \n    \n    repaint();\n  }\n\n  private AlphaComposite makeComposite(float alpha)\n  {\n    int type=AlphaComposite.SRC_OVER;\n    return (AlphaComposite.getInstance(type,alpha));\n  }\n*/\n  String getYLabel(String Text)\n  {\n    String Result=&quot;&quot;;\n\n    for (int i=0;i&lt;Text.length();i++) Result+=Text.charAt(i)+(i&lt;Text.length()-1?&quot;\\u2009&quot;:&quot;&quot;);\n//    Out(Result);\n    return Result;\n  }\n\n  private static void out(String message) { System.out.print(message); }\n\n  private static void Out(String message) { System.out.println(message); }\n\n  // Create the GUI and show it. For thread safety, this method should be invoked from the event-dispatching thread.\n  static void Create_And_Show_GUI()\n  {\n    LinkedHashMap&lt;String,String&gt; From_To_Date_Map=new LinkedHashMap();\n    \n    From_To_Date_Map.put(&quot;2020-07-27&quot;,&quot;2020-07-29&quot;);\n    final PriceVolume_Chart demo=new PriceVolume_Chart(&quot;ADS&quot;,From_To_Date_Map,10);\n\n    JFrame frame=new JFrame(&quot;PriceVolume_Chart Frame&quot;);\n    frame.add(demo);\n    frame.addWindowListener(new WindowAdapter()\n    {\n      public void windowActivated(WindowEvent e) { }\n      public void windowClosed(WindowEvent e) { }\n      public void windowClosing(WindowEvent e) { System.exit(0); }\n      public void windowDeactivated(WindowEvent e) { }\n      public void windowDeiconified(WindowEvent e) { demo.repaint(); }\n      public void windowGainedFocus(WindowEvent e) { demo.repaint(); }\n      public void windowIconified(WindowEvent e) { }\n      public void windowLostFocus(WindowEvent e) { }\n      public void windowOpening(WindowEvent e) { demo.repaint(); }\n      public void windowOpened(WindowEvent e) { }\n      public void windowResized(WindowEvent e) { demo.repaint(); }\n      public void windowStateChanged(WindowEvent e) { demo.repaint(); }\n    });\n    frame.pack();\n    frame.setLocationRelativeTo(null);\n    frame.setVisible(true);\n  }\n\n  public static void main(String[] args)\n  {\n    // Schedule a job for the event-dispatching thread : creating and showing this application's GUI.\n    SwingUtilities.invokeLater(new Runnable() { public void run() { Create_And_Show_GUI(); } });\n  }\n}\n\nclass MyRender extends XYBarRenderer\n{\n  PriceVolume_Chart PVC;\n\n  MyRender(PriceVolume_Chart PVC)\n  {\n    this.PVC=PVC;\n  }\n\n  @Override\n  public Paint getItemPaint(int row,int col)\n  {\n    this.setBarAlignmentFactor(0.5);\n//      System.out.println(row+&quot; &quot;+col+&quot; &quot;+super.getItemPaint(row,col));\n    return PVC.Volume_Color_Vector.elementAt(col).equals(&quot;+&quot;)?super.getItemPaint(row,col):new Color(0.56f,0.2f,0.5f,1f);\n  }\n}\n</code></pre>\n<p>I'm trying to highlight a section on the chart, which should look like the following, yet it's not showing up, how to fix my code ?</p>\n<p><a href=\"https://i.stack.imgur.com/fr40O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fr40O.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","amazon-s3","pdfbox","java-io"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1646840388,"post_id":71411460,"comment_id":126224203,"body_markdown":"Related: https://stackoverflow.com/questions/51245535/is-it-possible-to-write-to-s3-via-a-stream-using-s3-java-sdk","body":"Related: <a href=\"https://stackoverflow.com/questions/51245535/is-it-possible-to-write-to-s3-via-a-stream-using-s3-java-sdk\" title=\"is it possible to write to s3 via a stream using s3 java sdk\">stackoverflow.com/questions/51245535/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646857374,"creation_date":1646840188,"answer_id":71411959,"question_id":71411460,"body_markdown":"to upload the file you need to pass the byte array or input stream, the following use byte array:\r\n\r\n    public void saveFileToS3(String yourBucketName,String pathAws, String folderName) {\r\n\t\tPDFMergerUtility pdfMergerUtility = new PDFMergerUtility();\r\n\t\tString FinalFileName= &quot;Merged.pdf&quot;;\r\n\r\n\t\tpdfMergerUtility.setDestinationFileName(FinalFileName);\r\n\t\tpdfMergerUtility.addSource(FileOne);\r\n\t\tpdfMergerUtility.addSource(FileTwo);\t\t \r\n        pdfMergerUtility.mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());\r\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n        pdfMergerUtility.setDestinationStream(byteArrayOutputStream);  \r\n\t\tAmazonS3 s3Client = AwsUtil.s3Authentication();\r\n\t\tPutObjectRequest objectRequest = PutObjectRequest.builder()\r\n\t\t  .bucket(yourBucketName)\r\n\t\t  .key(folderName+&quot;/&quot;+pathAws)//pathAws: path on S3 where the file will be saved\r\n\t\t  .build();\r\n\t\t//convert it into a byte array\r\n\t\tbyte[] pdfBytes = byteArrayOutputStream.toByteArray()  \r\n\t\tCompletableFuture&lt;PutObjectResponse&gt; future = \r\n\t\ts3Client.putObject(objectRequest,AsyncRequestBody.fromBytes(pdfBytes));\r\n\t\tfuture.whenComplete((resp, err) -&gt; {\r\n\t\t  try {\r\n\t\t\tif (resp != null) {\r\n\t\t\t  System.out.println(&quot;Object uploaded. Details: &quot; + resp);\r\n\t\t\t} else {\r\n\t\t\t  err.printStackTrace();\r\n\t\t\t}\r\n\t\t  } finally {\r\n\t\t\ts3Client.close();\r\n\t\t  }\r\n\t\t});    \r\n\t\tfuture.join();   \r\n    }\r\n\r\n ","title":"How to save pdf to Aws s3","body":"<p>to upload the file you need to pass the byte array or input stream, the following use byte array:</p>\n<pre><code>public void saveFileToS3(String yourBucketName,String pathAws, String folderName) {\n    PDFMergerUtility pdfMergerUtility = new PDFMergerUtility();\n    String FinalFileName= &quot;Merged.pdf&quot;;\n\n    pdfMergerUtility.setDestinationFileName(FinalFileName);\n    pdfMergerUtility.addSource(FileOne);\n    pdfMergerUtility.addSource(FileTwo);         \n    pdfMergerUtility.mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n    pdfMergerUtility.setDestinationStream(byteArrayOutputStream);  \n    AmazonS3 s3Client = AwsUtil.s3Authentication();\n    PutObjectRequest objectRequest = PutObjectRequest.builder()\n      .bucket(yourBucketName)\n      .key(folderName+&quot;/&quot;+pathAws)//pathAws: path on S3 where the file will be saved\n      .build();\n    //convert it into a byte array\n    byte[] pdfBytes = byteArrayOutputStream.toByteArray()  \n    CompletableFuture&lt;PutObjectResponse&gt; future = \n    s3Client.putObject(objectRequest,AsyncRequestBody.fromBytes(pdfBytes));\n    future.whenComplete((resp, err) -&gt; {\n      try {\n        if (resp != null) {\n          System.out.println(&quot;Object uploaded. Details: &quot; + resp);\n        } else {\n          err.printStackTrace();\n        }\n      } finally {\n        s3Client.close();\n      }\n    });    \n    future.join();   \n}\n</code></pre>\n"}],"owner":{"account_id":22426433,"reputation":341,"user_id":16632970,"display_name":"Amara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1747,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1646857374,"creation_date":1646838185,"question_id":71411460,"body_markdown":"I am using PDFbox to merge two pdf files in my code, then I want to store the resultant (merged file) into AWS s3 bucket. \r\nI was trying storing the pdf file to s3 directly without saving locally in my system, but I am not able to figure out any way to do it.\r\n\r\nMy code to merge two pdf-\r\n  \r\n    PDFMergerUtility pdfMergerUtility = new PDFMergerUtility();\r\n    String FinalFileName= &quot;Merged.pdf&quot;;\r\n\r\n    pdfMergerUtility.setDestinationFileName(FinalFileName);\r\n    pdfMergerUtility.addSource(FileOne);\r\n    pdfMergerUtility.addSource(FileTwo);\r\n    pdfMergerUtility.mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());\r\n\r\n    //To upload over s3 \r\n    String fileNameIWantInS3 = &quot;myfile.pdf&quot;;\r\n    s3.putObject(BucketName, fileNameIWantInS3, ??); //Stuck here\r\n\r\nI don&#39;t want to make a file over my server instead I want to put it on s3 directly, how can I modify this code to upload `Merged.pdf` to s3 bucket. \r\nAbove code is just a part where I am stuck. FileOne and FileTwo I have created using `File.createTempFile`. \r\n \r\nEntire idea is to merge two files and put the final file over s3 without making a physical copy of  that over the server! Please help.\r\n\r\n","title":"How to save pdf to Aws s3","body":"<p>I am using PDFbox to merge two pdf files in my code, then I want to store the resultant (merged file) into AWS s3 bucket.\nI was trying storing the pdf file to s3 directly without saving locally in my system, but I am not able to figure out any way to do it.</p>\n<p>My code to merge two pdf-</p>\n<pre><code>PDFMergerUtility pdfMergerUtility = new PDFMergerUtility();\nString FinalFileName= &quot;Merged.pdf&quot;;\n\npdfMergerUtility.setDestinationFileName(FinalFileName);\npdfMergerUtility.addSource(FileOne);\npdfMergerUtility.addSource(FileTwo);\npdfMergerUtility.mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());\n\n//To upload over s3 \nString fileNameIWantInS3 = &quot;myfile.pdf&quot;;\ns3.putObject(BucketName, fileNameIWantInS3, ??); //Stuck here\n</code></pre>\n<p>I don't want to make a file over my server instead I want to put it on s3 directly, how can I modify this code to upload <code>Merged.pdf</code> to s3 bucket.\nAbove code is just a part where I am stuck. FileOne and FileTwo I have created using <code>File.createTempFile</code>.</p>\n<p>Entire idea is to merge two files and put the final file over s3 without making a physical copy of  that over the server! Please help.</p>\n"},{"tags":["java","spring-boot","spring-mvc","resttemplate","http-status-code-400"],"answers":[{"tags":[],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646857246,"creation_date":1646857246,"answer_id":71415540,"question_id":71415106,"body_markdown":"You need to specify the token in the headers for example:\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_JSON);\r\n    headers.set(&quot;Authorization&quot;, &quot;Bearer &quot;+accessToken);\r\n\r\nI suggest to see this helpfull [post][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21101250/sending-get-request-with-authentication-headers-using-resttemplate","title":"RestTemplate POST form URL encoded data giving 400 error","body":"<p>You need to specify the token in the headers for example:</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_JSON);\nheaders.set(&quot;Authorization&quot;, &quot;Bearer &quot;+accessToken);\n</code></pre>\n<p>I suggest to see this helpfull <a href=\"https://stackoverflow.com/questions/21101250/sending-get-request-with-authentication-headers-using-resttemplate\">post</a></p>\n"}],"owner":{"account_id":6608940,"reputation":620,"user_id":5483731,"accept_rate":72,"display_name":"linuxNoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":587,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646857246,"creation_date":1646854677,"question_id":71415106,"body_markdown":"I&#39;m using Spring&#39;s (version 2.5.4) `RESTTemplate` to make a `POST` call to a REST end point (`url`). Here is the code I have:  \r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n        MultiValueMap&lt;String,String&gt; requestBody = new LinkedMultiValueMap&lt;&gt;();\r\n    \trequestBody.add(&quot;token&quot;, &quot;abc&quot;);\r\n    \tHttpEntity&lt;MultiValueMap&lt;String,String&gt;&gt; request = new HttpEntity&lt;&gt;(requestBody, headers);\r\n        try\r\n        {     \t\r\n        \tResponseEntity&lt;TokenValidationResponse&gt; responseEntity = restTemplate.exchange(url, HttpMethod.POST, request, TokenValidationResponse.class);\t\r\n        \tTokenValidationResponse response = responseEntity.getBody();\r\n        \tBoolean isActive = response.getActive();\r\n        \tif(isActive == null || !isActive) {\r\n        \t\tlog.info(&quot;The token supplied isn&#39;t active&quot;);\r\n        \t}\r\n        }\r\n        catch(RestClientException e)\r\n        {\r\n        \tlog.error(&quot;An error occurred while posting query to security URI for token validation&quot;, e);\r\n        }\r\n\r\nI keep running into a 400 bad request - \r\n\r\n    org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: [{&quot;error_description&quot;:&quot;token parameter is required for the security endpoint.&quot;,&quot;error&quot;:&quot;invalid_request&quot;}]\r\n    \tat org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:101)\r\n    \tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186)\r\n    \tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:125)\r\n    \tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\r\n    \tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819)\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777)\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\r\n    \tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\r\n\r\nThis is the requirement given for the security endpoint `url` - This endpoint accepts only the `HTTP POST` method. The required `Content-Type` value is `application/x-www-form-urlencoded`. The endpoint has the following parameters: token\r\n\r\n\r\nI can see the token being passed in though. I am able to verify that the call works fine on POSTMAN when I supply the token as part of the body. I was wondering if there is something I am missing? ","title":"RestTemplate POST form URL encoded data giving 400 error","body":"<p>I'm using Spring's (version 2.5.4) <code>RESTTemplate</code> to make a <code>POST</code> call to a REST end point (<code>url</code>). Here is the code I have:</p>\n<pre><code>    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n    MultiValueMap&lt;String,String&gt; requestBody = new LinkedMultiValueMap&lt;&gt;();\n    requestBody.add(&quot;token&quot;, &quot;abc&quot;);\n    HttpEntity&lt;MultiValueMap&lt;String,String&gt;&gt; request = new HttpEntity&lt;&gt;(requestBody, headers);\n    try\n    {       \n        ResponseEntity&lt;TokenValidationResponse&gt; responseEntity = restTemplate.exchange(url, HttpMethod.POST, request, TokenValidationResponse.class);   \n        TokenValidationResponse response = responseEntity.getBody();\n        Boolean isActive = response.getActive();\n        if(isActive == null || !isActive) {\n            log.info(&quot;The token supplied isn't active&quot;);\n        }\n    }\n    catch(RestClientException e)\n    {\n        log.error(&quot;An error occurred while posting query to security URI for token validation&quot;, e);\n    }\n</code></pre>\n<p>I keep running into a 400 bad request -</p>\n<pre><code>org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: [{&quot;error_description&quot;:&quot;token parameter is required for the security endpoint.&quot;,&quot;error&quot;:&quot;invalid_request&quot;}]\n    at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:101)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:125)\n    at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\n</code></pre>\n<p>This is the requirement given for the security endpoint <code>url</code> - This endpoint accepts only the <code>HTTP POST</code> method. The required <code>Content-Type</code> value is <code>application/x-www-form-urlencoded</code>. The endpoint has the following parameters: token</p>\n<p>I can see the token being passed in though. I am able to verify that the call works fine on POSTMAN when I supply the token as part of the body. I was wondering if there is something I am missing?</p>\n"},{"tags":["python","java","pycharm"],"comments":[{"owner":{"account_id":12394921,"reputation":4981,"user_id":9035237,"display_name":"Geno Chen"},"score":0,"creation_date":1638758783,"post_id":70240346,"comment_id":124165862,"body_markdown":"Did you changed the Java Runtime by changing the `JAVA_HOME` environment variable?","body":"Did you changed the Java Runtime by changing the <code>JAVA_HOME</code> environment variable?"},{"owner":{"account_id":12304551,"reputation":65,"user_id":12138185,"display_name":"Chessnut"},"score":0,"creation_date":1638761679,"post_id":70240346,"comment_id":124166251,"body_markdown":"I&#39;m not quite sure what that is. I changed it by going control shift a, searching java, and changing it from there","body":"I&#39;m not quite sure what that is. I changed it by going control shift a, searching java, and changing it from there"}],"answers":[{"tags":[],"owner":{"account_id":6165011,"reputation":1375,"user_id":4805305,"accept_rate":95,"display_name":"Techno04335"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646856796,"creation_date":1646856796,"answer_id":71415462,"question_id":70240346,"body_markdown":"Seems you are running this on windows. I found the solution on macOS machines.\r\nEssentially you have to go to yout Jetbrains folder and remove the respective pycharm chat:\r\n\r\n    cd ~/library\r\n    cd Application\\ Support/\r\n    cd Jetbrains\r\n    ls\r\n    rm -r PyCharmCE2021.3\r\n\r\nHope you can try similar method on windows!","title":"Changed Java Runtime and broke Pycharm","body":"<p>Seems you are running this on windows. I found the solution on macOS machines.\nEssentially you have to go to yout Jetbrains folder and remove the respective pycharm chat:</p>\n<pre><code>cd ~/library\ncd Application\\ Support/\ncd Jetbrains\nls\nrm -r PyCharmCE2021.3\n</code></pre>\n<p>Hope you can try similar method on windows!</p>\n"}],"owner":{"account_id":12304551,"reputation":65,"user_id":12138185,"display_name":"Chessnut"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646856796,"creation_date":1638758396,"question_id":70240346,"body_markdown":"Prefacing by saying I know very little about this.\r\n\r\nI tried changing the java version of pycharm to a 1.17 ?  version I downloaded, and Pycharm failed to start. I tried reinstalling pycharm, and get the following error on launch. Any help to fix my boneheaded mistake is greatly appreciated :)\r\n\r\n\r\nInternal error. Please refer to https://jb.gg/ide/critical-startup-errors\r\n\r\ncom.intellij.ide.plugins.StartupAbortedException: UI initialization failed\r\n    at com.intellij.idea.StartupUtil.lambda$start$15(StartupUtil.java:268)\r\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:990)\r\n    at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:974)\r\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n    at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614)\r\n    at java.base/java.util.concurrent.CompletableFuture$UniRun.tryFire(CompletableFuture.java:795)\r\n    at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)\r\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:771)\r\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:741)\r\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nCaused by: java.util.concurrent.CompletionException: java.lang.IllegalAccessError: class com.intellij.idea.StartupUtil (in unnamed module @0x73f792cf) cannot access class sun.awt.AWTAutoShutdown (in module java.desktop) because module java.desktop does not export sun.awt to unnamed module @0x73f792cf\r\n    at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)\r\n    at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)\r\n    at java.base/java.util.concurrent.CompletableFuture$UniRun.tryFire(CompletableFuture.java:791)\r\n    ... 14 more\r\nCaused by: java.lang.IllegalAccessError: class com.intellij.idea.StartupUtil (in unnamed module @0x73f792cf) cannot access class sun.awt.AWTAutoShutdown (in module java.desktop) because module java.desktop does not export sun.awt to unnamed module @0x73f792cf\r\n    at com.intellij.idea.StartupUtil.lambda$scheduleInitUi$22(StartupUtil.java:503)\r\n    at java.base/java.util.concurrent.CompletableFuture$UniRun.tryFire(CompletableFuture.java:787)\r\n    ... 14 more\r\n\r\n-----\r\nYour JRE: 17.0.1+12-LTS-39 amd64 (Oracle Corporation)\r\nC:\\Program Files\\Java\\jdk-17.0.1","title":"Changed Java Runtime and broke Pycharm","body":"<p>Prefacing by saying I know very little about this.</p>\n<p>I tried changing the java version of pycharm to a 1.17 ?  version I downloaded, and Pycharm failed to start. I tried reinstalling pycharm, and get the following error on launch. Any help to fix my boneheaded mistake is greatly appreciated :)</p>\n<p>Internal error. Please refer to <a href=\"https://jb.gg/ide/critical-startup-errors\" rel=\"nofollow noreferrer\">https://jb.gg/ide/critical-startup-errors</a></p>\n<p>com.intellij.ide.plugins.StartupAbortedException: UI initialization failed\nat com.intellij.idea.StartupUtil.lambda$start$15(StartupUtil.java:268)\nat java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:990)\nat java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:974)\nat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\nat java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614)\nat java.base/java.util.concurrent.CompletableFuture$UniRun.tryFire(CompletableFuture.java:795)\nat java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)\nat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\nat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:771)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\nat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:741)\nat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\nat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.util.concurrent.CompletionException: java.lang.IllegalAccessError: class com.intellij.idea.StartupUtil (in unnamed module @0x73f792cf) cannot access class sun.awt.AWTAutoShutdown (in module java.desktop) because module java.desktop does not export sun.awt to unnamed module @0x73f792cf\nat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)\nat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)\nat java.base/java.util.concurrent.CompletableFuture$UniRun.tryFire(CompletableFuture.java:791)\n... 14 more\nCaused by: java.lang.IllegalAccessError: class com.intellij.idea.StartupUtil (in unnamed module @0x73f792cf) cannot access class sun.awt.AWTAutoShutdown (in module java.desktop) because module java.desktop does not export sun.awt to unnamed module @0x73f792cf\nat com.intellij.idea.StartupUtil.lambda$scheduleInitUi$22(StartupUtil.java:503)\nat java.base/java.util.concurrent.CompletableFuture$UniRun.tryFire(CompletableFuture.java:787)\n... 14 more</p>\n<hr />\n<p>Your JRE: 17.0.1+12-LTS-39 amd64 (Oracle Corporation)\nC:\\Program Files\\Java\\jdk-17.0.1</p>\n"},{"tags":["java","eclipse","tomcat"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1646837970,"post_id":71410882,"comment_id":126223188,"body_markdown":"It looks like you didn&#39;t request that file.","body":"It looks like you didn&#39;t request that file."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1646841127,"post_id":71410882,"comment_id":126224581,"body_markdown":"Please [don&#39;t upload text as image](https://meta.stackoverflow.com/a/285557/13447). Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see [ask].","body":"Please <a href=\"https://meta.stackoverflow.com/a/285557/13447\">don&#39;t upload text as image</a>. Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":12973039,"reputation":41,"user_id":9378076,"display_name":"Cinzia Bocchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646856478,"creation_date":1646856478,"answer_id":71415418,"question_id":71410882,"body_markdown":"Try right-clicking on the html file and choosing Run as&gt; Run on server. Or change the url to http: // localhost: 8080 / NewFile3.html. The problem could be due to the fact that if you start the application starting from the project and not from the file, it looks for the index.html file, which is not present in your project. Alternatively, change the name of the html file to index.html. Hope this solves your problem.","title":"Eclipse HTTP 404 not found error the requested resource tomcat server error","body":"<p>Try right-clicking on the html file and choosing Run as&gt; Run on server. Or change the url to http: // localhost: 8080 / NewFile3.html. The problem could be due to the fact that if you start the application starting from the project and not from the file, it looks for the index.html file, which is not present in your project. Alternatively, change the name of the html file to index.html. Hope this solves your problem.</p>\n"}],"owner":{"account_id":21688287,"reputation":1,"user_id":16003323,"display_name":"DOvahboi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646856478,"creation_date":1646835832,"question_id":71410882,"body_markdown":"Wanted to run my html file on eclipse tomcat server when I clicked run on server\r\nit gave me this error.\r\n[enter image description here][1]\r\n\r\n\r\nHere is my html file \r\n[enter image description here][2]\r\n\r\nI do not know why tomcat is not able to find my project file\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/trPfT.png\r\n  [2]: https://i.stack.imgur.com/f7Dm6.png","title":"Eclipse HTTP 404 not found error the requested resource tomcat server error","body":"<p>Wanted to run my html file on eclipse tomcat server when I clicked run on server\nit gave me this error.\n<a href=\"https://i.stack.imgur.com/trPfT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Here is my html file\n<a href=\"https://i.stack.imgur.com/f7Dm6.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I do not know why tomcat is not able to find my project file</p>\n"},{"tags":["java","jar","timestamp","signing","jar-signing"],"comments":[{"owner":{"account_id":1132853,"reputation":2896,"user_id":1118527,"accept_rate":83,"display_name":"Lama"},"score":0,"creation_date":1430302039,"post_id":29939847,"comment_id":48001852,"body_markdown":"If the cert is invalid it shouldnt work. You can try to lower/edit your security settings","body":"If the cert is invalid it shouldnt work. You can try to lower/edit your security settings"},{"owner":{"account_id":2113561,"reputation":560,"user_id":1878313,"accept_rate":61,"display_name":"themanwhosoldtheworld"},"score":0,"creation_date":1430305009,"post_id":29939847,"comment_id":48004021,"body_markdown":"@Goot the certificate is not &#39;invalid&#39;, it has expired but since the JAR was timestamped when it was signed, it should continue to work","body":"@Goot the certificate is not &#39;invalid&#39;, it has expired but since the JAR was timestamped when it was signed, it should continue to work"},{"owner":{"account_id":1132853,"reputation":2896,"user_id":1118527,"accept_rate":83,"display_name":"Lama"},"score":0,"creation_date":1430306023,"post_id":29939847,"comment_id":48004778,"body_markdown":"As I understand this depends on your security settings","body":"As I understand this depends on your security settings"}],"answers":[{"tags":[],"owner":{"account_id":1254363,"reputation":326,"user_id":1214161,"display_name":"Steve U"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430302034,"creation_date":1430302034,"answer_id":29940545,"question_id":29939847,"body_markdown":"Was the certificate revoked? As noted [here][1], timestamps for revoked certificates are not considered due to uncertainties in the actual date of the compromise.\r\n\r\nIf this is not the case, it may be worth looking at [this answer][2] which appears to deal with the same issue.\r\n\r\n  [1]: https://blogs.oracle.com/java-platform-group/entry/code_signing_understanding_who_and\r\n  [2]: https://stackoverflow.com/questions/23270818/application-blocked-by-security-settings-error-on-client-windows8-os","title":"Signed and timestamped JAR not working after expiry","body":"<p>Was the certificate revoked? As noted <a href=\"https://blogs.oracle.com/java-platform-group/entry/code_signing_understanding_who_and\" rel=\"nofollow noreferrer\">here</a>, timestamps for revoked certificates are not considered due to uncertainties in the actual date of the compromise.</p>\n\n<p>If this is not the case, it may be worth looking at <a href=\"https://stackoverflow.com/questions/23270818/application-blocked-by-security-settings-error-on-client-windows8-os\">this answer</a> which appears to deal with the same issue.</p>\n"}],"owner":{"account_id":2113561,"reputation":560,"user_id":1878313,"accept_rate":61,"display_name":"themanwhosoldtheworld"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646856445,"creation_date":1430300345,"question_id":29939847,"body_markdown":"I signed a JAR with a certificate from third party and also time stamped it.\r\nNow the certificate has expired, but since the JAR is timestamped at a time when \r\nthe certificate is still active and also since the JAR is not modified after that\r\nshould&#39;nt the JAR continue to work even after the certificate is expired?\r\nInstead I get the following message \r\n\r\n![enter image description here][1]\r\n\r\nCan I get some help here?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/4HtTD.png","title":"Signed and timestamped JAR not working after expiry","body":"<p>I signed a JAR with a certificate from third party and also time stamped it.\nNow the certificate has expired, but since the JAR is timestamped at a time when \nthe certificate is still active and also since the JAR is not modified after that\nshould'nt the JAR continue to work even after the certificate is expired?\nInstead I get the following message </p>\n\n<p><img src=\"https://i.stack.imgur.com/4HtTD.png\" alt=\"enter image description here\"></p>\n\n<p>Can I get some help here?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":5103775,"reputation":1344,"user_id":4092532,"display_name":"Mustafa Yousef"},"score":2,"creation_date":1645558335,"post_id":71005890,"comment_id":125902179,"body_markdown":"We gained our knowledge by spending time and effort to learn and study stuff like that. You should do that too. Trust me, knowledge is power.","body":"We gained our knowledge by spending time and effort to learn and study stuff like that. You should do that too. Trust me, knowledge is power."},{"owner":{"account_id":16198723,"reputation":45,"user_id":11695641,"display_name":"Wade"},"score":0,"creation_date":1645558612,"post_id":71005890,"comment_id":125902266,"body_markdown":"so that mean you guys wont share it??","body":"so that mean you guys wont share it??"},{"owner":{"account_id":16198723,"reputation":45,"user_id":11695641,"display_name":"Wade"},"score":0,"creation_date":1645558917,"post_id":71005890,"comment_id":125902368,"body_markdown":"I though its a place where we help and share knowledge @MustafaYousef","body":"I though its a place where we help and share knowledge @MustafaYousef"},{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":4,"creation_date":1645560255,"post_id":71005890,"comment_id":125902849,"body_markdown":"`I though its a place where we help and share knowledge` stack overflow definitely is. however, it&#39;s also a place where a minimum amount of effort is required and it definitely isn&#39;t a free coding service, so to improve your question, show what you&#39;ve tried and what isn&#39;t working. just straight up asking &quot;convert this for me into X&quot; doesn&#39;t show any effort at all. if you don&#39;t have enough knowledge to do _any_ of this, then it&#39;s a good sign that you need to do more research yourself first","body":"<code>I though its a place where we help and share knowledge</code> stack overflow definitely is. however, it&#39;s also a place where a minimum amount of effort is required and it definitely isn&#39;t a free coding service, so to improve your question, show what you&#39;ve tried and what isn&#39;t working. just straight up asking &quot;convert this for me into X&quot; doesn&#39;t show any effort at all. if you don&#39;t have enough knowledge to do <i>any</i> of this, then it&#39;s a good sign that you need to do more research yourself first"}],"answers":[{"tags":[],"owner":{"account_id":18348513,"reputation":8716,"user_id":13363205,"display_name":"iknow"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645562079,"creation_date":1645559981,"answer_id":71227590,"question_id":71005890,"body_markdown":"It will look something like this:\r\n\r\n``` java\r\nprivate CompoundButton checkedRadioButton = null;\r\n\r\n@Override\r\npublic void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\r\n    holder.itemView.radio_button.setOnCheckedChangeListener(checkedChangeListener);\r\n    if (holder.itemView.radio_button.isChecked()) {\r\n        checkedRadioButton = holder.itemView.radio_button;\r\n    }\r\n}\r\n\r\nprivate final CompoundButton.OnCheckedChangeListener checkedChangeListener =\r\n        (compoundButton, isChecked) -&gt; {\r\n            if (checkedRadioButton != null) {\r\n                checkedRadioButton.setChecked(!isChecked);\r\n            }\r\n            compoundButton.setChecked(isChecked);\r\n            checkedRadioButton = compoundButton;\r\n        };\r\n```\r\n\r\n`var` in Kotlin is used to create a variable that can be changed in runtime. `val` creates a variable that can not be changed. [Kotlin Variables](https://kotlinlang.org/docs/basic-syntax.html#variables)\r\n\r\n`apply` - it takes an object and in scope `this` will refer to this object, it also returns this object [Kotlin apply](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html)\r\n\r\n`checkedChangeListener` is an Implementation of an interface that has only one method, function takes two arguments (`compoundButton` and `isChecked`) [Kotlin SAM conversion](https://jorgecastillo.dev/kotlin-sam-conversions)\r\n\r\n`?.` is a null safety operator, it only calls a function when an object is not a null [Safe calls](https://kotlinlang.org/docs/null-safety.html#safe-calls)","title":"How can I convert this Kotlin code to Java?","body":"<p>It will look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private CompoundButton checkedRadioButton = null;\n\n@Override\npublic void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\n    holder.itemView.radio_button.setOnCheckedChangeListener(checkedChangeListener);\n    if (holder.itemView.radio_button.isChecked()) {\n        checkedRadioButton = holder.itemView.radio_button;\n    }\n}\n\nprivate final CompoundButton.OnCheckedChangeListener checkedChangeListener =\n        (compoundButton, isChecked) -&gt; {\n            if (checkedRadioButton != null) {\n                checkedRadioButton.setChecked(!isChecked);\n            }\n            compoundButton.setChecked(isChecked);\n            checkedRadioButton = compoundButton;\n        };\n</code></pre>\n<p><code>var</code> in Kotlin is used to create a variable that can be changed in runtime. <code>val</code> creates a variable that can not be changed. <a href=\"https://kotlinlang.org/docs/basic-syntax.html#variables\" rel=\"nofollow noreferrer\">Kotlin Variables</a></p>\n<p><code>apply</code> - it takes an object and in scope <code>this</code> will refer to this object, it also returns this object <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"nofollow noreferrer\">Kotlin apply</a></p>\n<p><code>checkedChangeListener</code> is an Implementation of an interface that has only one method, function takes two arguments (<code>compoundButton</code> and <code>isChecked</code>) <a href=\"https://jorgecastillo.dev/kotlin-sam-conversions\" rel=\"nofollow noreferrer\">Kotlin SAM conversion</a></p>\n<p><code>?.</code> is a null safety operator, it only calls a function when an object is not a null <a href=\"https://kotlinlang.org/docs/null-safety.html#safe-calls\" rel=\"nofollow noreferrer\">Safe calls</a></p>\n"}],"owner":{"account_id":16198723,"reputation":45,"user_id":11695641,"display_name":"Wade"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":6,"up_vote_count":3,"accepted_answer_id":71227590,"answer_count":1,"score":-3,"last_activity_date":1646856415,"creation_date":1644140623,"question_id":71005890,"body_markdown":"I don&#39;t know Kotlin. How can I convert the below code to Java?\r\n\r\nHere is the code: \r\n\r\n``` Kotlin\r\nprivate var checkedRadioButton: CompoundButton? = null\r\n\r\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n    holder.itemView.radio_button.setOnCheckedChangeListener(checkedChangeListener)\r\n\r\n    if (holder.itemView.radio_button.isChecked) \r\n        checkedRadioButton = holder.itemView.radio_button\r\n}\r\n\r\nprivate val checkedChangeListener =\r\n    CompoundButton.OnCheckedChangeListener { compoundButton, isChecked -&gt;\r\n        checkedRadioButton?.apply { setChecked(!isChecked) }\r\n        checkedRadioButton = compoundButton.apply { setChecked(isChecked) }\r\n    }\r\n```","title":"How can I convert this Kotlin code to Java?","body":"<p>I don't know Kotlin. How can I convert the below code to Java?</p>\n<p>Here is the code:</p>\n<pre><code>private var checkedRadioButton: CompoundButton? = null\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    holder.itemView.radio_button.setOnCheckedChangeListener(checkedChangeListener)\n\n    if (holder.itemView.radio_button.isChecked) \n        checkedRadioButton = holder.itemView.radio_button\n}\n\nprivate val checkedChangeListener =\n    CompoundButton.OnCheckedChangeListener { compoundButton, isChecked -&gt;\n        checkedRadioButton?.apply { setChecked(!isChecked) }\n        checkedRadioButton = compoundButton.apply { setChecked(isChecked) }\n    }\n</code></pre>\n"},{"tags":["java","ubuntu"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1646851397,"post_id":71414447,"comment_id":126228541,"body_markdown":"Wrong package name.\napt-cache search &#39;^openjdk&#39; \nwill show you what you need. E.g. sudo apt install openjdk-17-jdk","body":"Wrong package name. apt-cache search &#39;^openjdk&#39;  will show you what you need. E.g. sudo apt install openjdk-17-jdk"}],"answers":[{"tags":[],"owner":{"display_name":"user6094307"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646856274,"creation_date":1646856274,"answer_id":71415386,"question_id":71414447,"body_markdown":"You need to install JRE or JDK. Check [this page][1].\r\n\r\n\r\n  [1]: https://ubuntu.com/tutorials/install-jre#2-installing-openjdk-jre","title":"can&#39;t exec &quot; java &quot; no such file or directory at ./fastqc line 307","body":"<p>You need to install JRE or JDK. Check <a href=\"https://ubuntu.com/tutorials/install-jre#2-installing-openjdk-jre\" rel=\"nofollow noreferrer\">this page</a>.</p>\n"}],"owner":{"account_id":24464459,"reputation":3,"user_id":18385052,"display_name":"Forough Sadeghipour"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":808,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71415386,"answer_count":1,"score":-1,"last_activity_date":1646856274,"creation_date":1646851180,"question_id":71414447,"body_markdown":"When I want to install fastqc file in Ubuntu, I face this error: can&#39;t exec &quot; java &quot; no such file or directory at ./fastqc line 307\r\nI tried to install Java with this command &quot; sudo apt install java-common&quot; but it doesn&#39;t work\r\nI would be happy if you help me with this problem.\r\n\r\nThank you","title":"can&#39;t exec &quot; java &quot; no such file or directory at ./fastqc line 307","body":"<p>When I want to install fastqc file in Ubuntu, I face this error: can't exec &quot; java &quot; no such file or directory at ./fastqc line 307\nI tried to install Java with this command &quot; sudo apt install java-common&quot; but it doesn't work\nI would be happy if you help me with this problem.</p>\n<p>Thank you</p>\n"},{"tags":["java","arrays","recursion"],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1646274948,"creation_date":1646274948,"answer_id":71331485,"question_id":71331298,"body_markdown":"\r\n    public static int countSubs(int [] data, int [] sub) {\r\n\t\tint cnt = 0;\r\n\t\tif (data.length &lt; sub.length) {\r\n\t\t\treturn cnt;\r\n\t\t}\r\n\t\tboolean found = true;\r\n\t\tfor (int i = 0; i &lt; sub.length; i++) {\r\n\t\t\tif (data[i] != sub[i]) {\r\n\t\t\t\tfound = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (found) {\r\n\t\t\tcnt++;\r\n\t\t}\r\n\t\t\r\n\t\tcnt += countSubs(Arrays.copyOfRange(data, 1, data.length), sub);\r\n\t\treturn cnt;\r\n\t}","title":"How to count the number of subarrays within a bigger array using recursion","body":"<pre><code>public static int countSubs(int [] data, int [] sub) {\n    int cnt = 0;\n    if (data.length &lt; sub.length) {\n        return cnt;\n    }\n    boolean found = true;\n    for (int i = 0; i &lt; sub.length; i++) {\n        if (data[i] != sub[i]) {\n            found = false;\n            break;\n        }\n    }\n    if (found) {\n        cnt++;\n    }\n    \n    cnt += countSubs(Arrays.copyOfRange(data, 1, data.length), sub);\n    return cnt;\n}\n</code></pre>\n"}],"owner":{"account_id":21233016,"reputation":5,"user_id":15617474,"display_name":"eswcs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71331485,"answer_count":1,"score":-1,"last_activity_date":1646856084,"creation_date":1646272955,"question_id":71331298,"body_markdown":"How can you get a subarray from a bigger array recursively, and without using copyOfRange? \r\n\r\nFor example if `int[] a = {1,2,1,3,1,2,1,1,2}`, and `int[] b = {1,2}`, the correct answer is 3. \r\nThis is the only recursive call I have, but I&#39;m not sure what to do beyond this.\r\nI know the base case should be `if(a.length &lt; b.length)`, but I don&#39;t understand how to count the occurrences.\r\nThe function returns `return numSubstring(a,b,low, mid-1) + numSubstring(a,b, mid+1,high);`\r\n","title":"How to count the number of subarrays within a bigger array using recursion","body":"<p>How can you get a subarray from a bigger array recursively, and without using copyOfRange?</p>\n<p>For example if <code>int[] a = {1,2,1,3,1,2,1,1,2}</code>, and <code>int[] b = {1,2}</code>, the correct answer is 3.\nThis is the only recursive call I have, but I'm not sure what to do beyond this.\nI know the base case should be <code>if(a.length &lt; b.length)</code>, but I don't understand how to count the occurrences.\nThe function returns <code>return numSubstring(a,b,low, mid-1) + numSubstring(a,b, mid+1,high);</code></p>\n"},{"tags":["java","spring-boot","spring-security","mockito","junit5"],"comments":[{"owner":{"account_id":3507861,"reputation":408,"user_id":2932980,"display_name":"Sergio"},"score":0,"creation_date":1646838539,"post_id":70940131,"comment_id":126223443,"body_markdown":"same question as this one? https://stackoverflow.com/questions/71322261/nullpointerexception-at-org-springframework-security-config-annotation-web-confi","body":"same question as this one? <a href=\"https://stackoverflow.com/questions/71322261/nullpointerexception-at-org-springframework-security-config-annotation-web-confi\" title=\"nullpointerexception at org springframework security config annotation web confi\">stackoverflow.com/questions/71322261/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24505871,"reputation":11,"user_id":18420908,"display_name":"user18420908"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646855770,"creation_date":1646843036,"answer_id":71412675,"question_id":70940131,"body_markdown":"The following code works:\r\n    \r\n    private HashMap&lt;Class&lt;?&gt;, Object&gt; getSharedObjets(){\r\n        HashMap map = new HashMap&lt;Class&lt;?&gt;, Object&gt;();\r\n        GenericApplicationContext context= new GenericApplicationContext();\r\n        context.refresh();\r\n        map.put(ApplicationContext.class, context);\r\n        return map;\r\n    }","title":"How to mock ApplicationContext context = getContext(); of HttpSecurity to prevent nullPointer Exception in below testcase","body":"<p>The following code works:</p>\n<pre><code>private HashMap&lt;Class&lt;?&gt;, Object&gt; getSharedObjets(){\n    HashMap map = new HashMap&lt;Class&lt;?&gt;, Object&gt;();\n    GenericApplicationContext context= new GenericApplicationContext();\n    context.refresh();\n    map.put(ApplicationContext.class, context);\n    return map;\n}\n</code></pre>\n"}],"owner":{"account_id":23631971,"reputation":81,"user_id":17663555,"display_name":"Radha S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":733,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1646855770,"creation_date":1643716396,"question_id":70940131,"body_markdown":"Upgraded springboot version from 2.5.6 to 2.6.3\r\n\r\nAfter upgrading testcase written for configuration class is throwing nullpointerException.\r\n\r\nHttpSecurity.authorizeRequests() throwing NullPointerException in configure() method.\r\n\r\n\r\nIn latest version implementation of ExpressionUrlAuthorizationConfigurer(ApplicationContext context) has been changed and its trying to fetch getBeanNamesForType from ApplicationContext which is resulting in NullpointerException( getContext method called in HttpSecurity-&gt; authorizeRequests returns null in both old and latest version)\r\n\r\n\r\nTESTCASE\r\n```\r\n    @Mock\r\n\tAuthenticationManagerBuilder amb;\r\n\t@Mock\r\n\tObjectPostProcessor&lt;Object&gt; opp;\r\n\t@Mock\r\n\tMap&lt;Class&lt;? extends Object&gt;, Object&gt; sharedObjects;\r\n\r\n\r\n\t@Test\r\n\tpublic void configureTrue() throws Exception{\r\n\t\tHttpSecurity http=new HttpSecurity(opp, amb, sharedObjects);\r\n\t\tSecurityConfig securityConfig=new SecurityConfig();\r\n\t\tsecurityConfig.requireHttps=true;\r\n\t\tsecurityConfig.managementSecurityEnabled=true;\r\n\t\tsecurityConfig.configure(http); //calls conigure method of configuration class(Failing here)\r\n\t\tsecurityConfig.requireHttps=false;\r\n\t\tsecurityConfig.managementSecurityEnabled=false;\r\n\t\tassertNotNull(http);\r\n\t}\r\n```\r\n    \r\n**App.java(Main method class which has SecurityConfig.class)**\r\n\r\n\r\n```\r\n@Configuration\r\n\t@EnableWebSecurity\r\n\t@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n\tpublic static class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\t@Value(&quot;${management.security.enabled}&quot;)\r\n\t\tprotected boolean managementSecurityEnabled;\r\n\r\n\t\t@Value(&quot;${security.require_ssl}&quot;)\r\n\t\tprotected boolean requireHttps;\r\n\r\n\t\tpublic boolean isManagementSecurityEnabled() {\r\n\t\t\treturn managementSecurityEnabled;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\thttp.csrf().disable();\r\n\r\n\r\n\t\t\tif (isManagementSecurityEnabled()) {\r\n\r\n// authorizeRequests() is the one throwing nullpointerException\r\nhttp.antMatcher(&quot;/management/admin/v1/met/**&quot;).authorizeRequests().anyRequest()\r\n\t\t\t\t\t\t.hasRole(&quot;ACTUATOR&quot;).and().httpBasic();\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\n\r\n**HttpSecurity.class**\r\n\r\n```\r\n\r\n    public ExpressionUrlAuthorizationConfigurer&lt;HttpSecurity&gt;.ExpressionInterceptUrlRegistry authorizeRequests()\r\n    \t\t\tthrows Exception {\r\n    \t\tApplicationContext context = getContext(); //getting null for context\r\n    \t\treturn getOrApply(new ExpressionUrlAuthorizationConfigurer&lt;&gt;(context)).getRegistry();\r\n    \t}\r\n\r\n\r\n```\r\n\r\n**ExpressionUrlAuthorizationConfigurer**\r\n```\r\n/**\r\n\t * Creates a new instance\r\n\t * @see HttpSecurity#authorizeRequests()\r\n\t */\r\n\tpublic ExpressionUrlAuthorizationConfigurer(ApplicationContext context) {\r\n\r\n//Getting failed here(NullPointer Exception) since we are getting context as null\r\n\t\tString[] grantedAuthorityDefaultsBeanNames = context.getBeanNamesForType(GrantedAuthorityDefaults.class); \r\n\t\tif (grantedAuthorityDefaultsBeanNames.length == 1) {\r\n\t\t\tGrantedAuthorityDefaults grantedAuthorityDefaults = context.getBean(grantedAuthorityDefaultsBeanNames[0],\r\n\t\t\t\t\tGrantedAuthorityDefaults.class);\r\n\t\t\tthis.rolePrefix = grantedAuthorityDefaults.getRolePrefix();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.rolePrefix = &quot;ROLE_&quot;;\r\n\t\t}\r\n\t\tthis.REGISTRY = new ExpressionInterceptUrlRegistry(context);\r\n\t}\r\n\r\n  ","title":"How to mock ApplicationContext context = getContext(); of HttpSecurity to prevent nullPointer Exception in below testcase","body":"<p>Upgraded springboot version from 2.5.6 to 2.6.3</p>\n<p>After upgrading testcase written for configuration class is throwing nullpointerException.</p>\n<p>HttpSecurity.authorizeRequests() throwing NullPointerException in configure() method.</p>\n<p>In latest version implementation of ExpressionUrlAuthorizationConfigurer(ApplicationContext context) has been changed and its trying to fetch getBeanNamesForType from ApplicationContext which is resulting in NullpointerException( getContext method called in HttpSecurity-&gt; authorizeRequests returns null in both old and latest version)</p>\n<p>TESTCASE</p>\n<pre><code>    @Mock\n    AuthenticationManagerBuilder amb;\n    @Mock\n    ObjectPostProcessor&lt;Object&gt; opp;\n    @Mock\n    Map&lt;Class&lt;? extends Object&gt;, Object&gt; sharedObjects;\n\n\n    @Test\n    public void configureTrue() throws Exception{\n        HttpSecurity http=new HttpSecurity(opp, amb, sharedObjects);\n        SecurityConfig securityConfig=new SecurityConfig();\n        securityConfig.requireHttps=true;\n        securityConfig.managementSecurityEnabled=true;\n        securityConfig.configure(http); //calls conigure method of configuration class(Failing here)\n        securityConfig.requireHttps=false;\n        securityConfig.managementSecurityEnabled=false;\n        assertNotNull(http);\n    }\n</code></pre>\n<p><strong>App.java(Main method class which has SecurityConfig.class)</strong></p>\n<pre><code>@Configuration\n    @EnableWebSecurity\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\n    public static class SecurityConfig extends WebSecurityConfigurerAdapter {\n        @Value(&quot;${management.security.enabled}&quot;)\n        protected boolean managementSecurityEnabled;\n\n        @Value(&quot;${security.require_ssl}&quot;)\n        protected boolean requireHttps;\n\n        public boolean isManagementSecurityEnabled() {\n            return managementSecurityEnabled;\n        }\n\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http.csrf().disable();\n\n\n            if (isManagementSecurityEnabled()) {\n\n// authorizeRequests() is the one throwing nullpointerException\nhttp.antMatcher(&quot;/management/admin/v1/met/**&quot;).authorizeRequests().anyRequest()\n                        .hasRole(&quot;ACTUATOR&quot;).and().httpBasic();\n\n            }\n        }\n    }\n</code></pre>\n<p><strong>HttpSecurity.class</strong></p>\n<pre><code>\n    public ExpressionUrlAuthorizationConfigurer&lt;HttpSecurity&gt;.ExpressionInterceptUrlRegistry authorizeRequests()\n                throws Exception {\n            ApplicationContext context = getContext(); //getting null for context\n            return getOrApply(new ExpressionUrlAuthorizationConfigurer&lt;&gt;(context)).getRegistry();\n        }\n\n\n</code></pre>\n<p><strong>ExpressionUrlAuthorizationConfigurer</strong></p>\n<pre><code>/**\n     * Creates a new instance\n     * @see HttpSecurity#authorizeRequests()\n     */\n    public ExpressionUrlAuthorizationConfigurer(ApplicationContext context) {\n\n//Getting failed here(NullPointer Exception) since we are getting context as null\n        String[] grantedAuthorityDefaultsBeanNames = context.getBeanNamesForType(GrantedAuthorityDefaults.class); \n        if (grantedAuthorityDefaultsBeanNames.length == 1) {\n            GrantedAuthorityDefaults grantedAuthorityDefaults = context.getBean(grantedAuthorityDefaultsBeanNames[0],\n                    GrantedAuthorityDefaults.class);\n            this.rolePrefix = grantedAuthorityDefaults.getRolePrefix();\n        }\n        else {\n            this.rolePrefix = &quot;ROLE_&quot;;\n        }\n        this.REGISTRY = new ExpressionInterceptUrlRegistry(context);\n    }\n\n  \n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1646855424,"post_id":71415228,"comment_id":126229798,"body_markdown":"&quot;the length of the string is unknown&quot; - but you can always find the length of the original string, with the `length()` method. Are you really just looking for the `split()` method though?","body":"&quot;the length of the string is unknown&quot; - but you can always find the length of the original string, with the <code>length()</code> method. Are you really just looking for the <code>split()</code> method though?"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1646855458,"post_id":71415228,"comment_id":126229807,"body_markdown":"Does this answer your question? https://stackoverflow.com/questions/3481828/how-to-split-a-string-in-java?r=SearchResults&amp;s=1|443.4187","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3481828/how-to-split-a-string-in-java?r=SearchResults&amp;s=1|443.4187\" title=\"how to split a string in java\">stackoverflow.com/questions/3481828/&hellip;</a>"},{"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"score":0,"creation_date":1646855504,"post_id":71415228,"comment_id":126229825,"body_markdown":"use split inside of substring","body":"use split inside of substring"},{"owner":{"account_id":24507484,"reputation":1,"user_id":18422294,"display_name":"Mimi"},"score":0,"creation_date":1646858471,"post_id":71415228,"comment_id":126230751,"body_markdown":"Yes, the link to the question you sent me helped me a lot, thank u so much!","body":"Yes, the link to the question you sent me helped me a lot, thank u so much!"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646855470,"creation_date":1646855470,"answer_id":71415263,"question_id":71415228,"body_markdown":"If every string is in this format, you might as well just write\r\n\r\n    String[] words = string.split(&quot; &quot;);\r\n    return new CityAndRoad(words[1], words[2]);\r\n\r\nor return them in whatever other format is appropriate.","title":"Extract a substring from a string that its length is unknown in Java","body":"<p>If every string is in this format, you might as well just write</p>\n<pre><code>String[] words = string.split(&quot; &quot;);\nreturn new CityAndRoad(words[1], words[2]);\n</code></pre>\n<p>or return them in whatever other format is appropriate.</p>\n"}],"owner":{"account_id":24507484,"reputation":1,"user_id":18422294,"display_name":"Mimi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646858384,"answer_count":1,"score":0,"last_activity_date":1646855470,"creation_date":1646855312,"question_id":71415228,"body_markdown":"I need to extract a substring from a string, the length of the string is unknown.\r\nFor example &quot;435323 London KingRoad&quot; and I need to extract London and Kingroad (each of them separately) \r\nHow can I do it?","title":"Extract a substring from a string that its length is unknown in Java","body":"<p>I need to extract a substring from a string, the length of the string is unknown.\nFor example &quot;435323 London KingRoad&quot; and I need to extract London and Kingroad (each of them separately)\nHow can I do it?</p>\n"},{"tags":["java","ssl","solr","keytool","fips"],"comments":[{"owner":{"account_id":1610498,"reputation":696,"user_id":2100569,"display_name":"Steven Linn"},"score":0,"creation_date":1646841210,"post_id":71387682,"comment_id":126224613,"body_markdown":"You aren&#39;t alone. 8.11.1. Having the same thing on a STIG&#39;d RHEL. My problem goes even further with the &quot;CoreContainer is either not initialized or shutting down&quot;\n\nIf I find anything I&#39;ll let you know.","body":"You aren&#39;t alone. 8.11.1. Having the same thing on a STIG&#39;d RHEL. My problem goes even further with the &quot;CoreContainer is either not initialized or shutting down&quot;  If I find anything I&#39;ll let you know."}],"answers":[{"tags":[],"owner":{"account_id":1610498,"reputation":696,"user_id":2100569,"display_name":"Steven Linn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646855147,"creation_date":1646855147,"answer_id":71415193,"question_id":71387682,"body_markdown":"After much research, I was able to get it to run in a STIG&#39;d RHEL with this in `/etc/default/solr.in.sh`.\r\n\r\n```\r\nSOLR_OPTS=&quot;$SOLR_OPTS -Dcom.redhat.fips=false&quot;\r\n```\r\n\r\nI&#39;m not sure what this affects but since the underlying FS is FIPS and I have a PKCS12 SSL cert it all works fine, including SSL connections.\r\n\r\nThere are open issues with Solr about FIPS mode not working, but no resolution has been posted anywhere.","title":"How do you get Solr 8.11 to run on a FIPS enabled environment","body":"<p>After much research, I was able to get it to run in a STIG'd RHEL with this in <code>/etc/default/solr.in.sh</code>.</p>\n<pre><code>SOLR_OPTS=&quot;$SOLR_OPTS -Dcom.redhat.fips=false&quot;\n</code></pre>\n<p>I'm not sure what this affects but since the underlying FS is FIPS and I have a PKCS12 SSL cert it all works fine, including SSL connections.</p>\n<p>There are open issues with Solr about FIPS mode not working, but no resolution has been posted anywhere.</p>\n"}],"owner":{"account_id":22285562,"reputation":39,"user_id":16513280,"display_name":"RyanWorks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1646856585,"answer_count":1,"score":1,"last_activity_date":1646855147,"creation_date":1646689935,"question_id":71387682,"body_markdown":"I&#39;m trying to get Solr 8.11.1 working on Red Hat Enterprise Linux release 8.5 (Ootpa). The environment has FIPS enabled and I can&#39;t get Solr to start. I&#39;ve followed Solr&#39;s install guide (https://solr.apache.org/guide/8_11/taking-solr-to-production.html) and then I tried following Solr&#39;s guide (https://solr.apache.org/guide/8_11/enabling-ssl.html) to enable SSL, but I&#39;m unable to run the keytool command they provide:  \r\nkeytool -genkeypair -alias solr-ssl -keyalg RSA -keysize 2048 -keypass secret -storepass secret -validity 9999 -keystore solr-ssl.keystore.p12 -storetype PKCS12 -ext SAN=DNS:localhost,IP:XXX.XXX.X.X,IP:127.0.0.1 -dname &quot;CN=localhost, OU=Organizational Unit, O=Organization, L=Location, ST=State, C=Country&quot;\r\n\r\nWhen I try to run that command, I get the following error:\r\nkeytool error: java.security.KeyStoreException: Key protection algorithm not found: java.lang.NullPointerException\r\n\r\nI was able to successfully get the same version of Solr working using the same steps from https://solr.apache.org/guide/8_11/taking-solr-to-production.html on two other RHEL 8 machines, but they did not have FIPS on them. So I&#39;m fairly certain that FIPS is the issue here, but I don&#39;t have much experience working with it, so I don&#39;t know how to properly start Solr within a FIPS environment. I&#39;ve tried searching online, but have not come across anything on how to get Solr to run on a FIPS enabled machine. Any help would be much appreciated!","title":"How do you get Solr 8.11 to run on a FIPS enabled environment","body":"<p>I'm trying to get Solr 8.11.1 working on Red Hat Enterprise Linux release 8.5 (Ootpa). The environment has FIPS enabled and I can't get Solr to start. I've followed Solr's install guide (<a href=\"https://solr.apache.org/guide/8_11/taking-solr-to-production.html\" rel=\"nofollow noreferrer\">https://solr.apache.org/guide/8_11/taking-solr-to-production.html</a>) and then I tried following Solr's guide (<a href=\"https://solr.apache.org/guide/8_11/enabling-ssl.html\" rel=\"nofollow noreferrer\">https://solr.apache.org/guide/8_11/enabling-ssl.html</a>) to enable SSL, but I'm unable to run the keytool command they provide:<br />\nkeytool -genkeypair -alias solr-ssl -keyalg RSA -keysize 2048 -keypass secret -storepass secret -validity 9999 -keystore solr-ssl.keystore.p12 -storetype PKCS12 -ext SAN=DNS:localhost,IP:XXX.XXX.X.X,IP:127.0.0.1 -dname &quot;CN=localhost, OU=Organizational Unit, O=Organization, L=Location, ST=State, C=Country&quot;</p>\n<p>When I try to run that command, I get the following error:\nkeytool error: java.security.KeyStoreException: Key protection algorithm not found: java.lang.NullPointerException</p>\n<p>I was able to successfully get the same version of Solr working using the same steps from <a href=\"https://solr.apache.org/guide/8_11/taking-solr-to-production.html\" rel=\"nofollow noreferrer\">https://solr.apache.org/guide/8_11/taking-solr-to-production.html</a> on two other RHEL 8 machines, but they did not have FIPS on them. So I'm fairly certain that FIPS is the issue here, but I don't have much experience working with it, so I don't know how to properly start Solr within a FIPS environment. I've tried searching online, but have not come across anything on how to get Solr to run on a FIPS enabled machine. Any help would be much appreciated!</p>\n"},{"tags":["java","netbeans","derby","dbeaver"],"answers":[{"tags":[],"owner":{"account_id":65826,"reputation":16198,"user_id":193453,"display_name":"Bryan Pendleton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646854791,"creation_date":1646854791,"answer_id":71415123,"question_id":71413982,"body_markdown":"By using this line of code:\r\n\r\n    String databaseURL = &quot;jdbc:derby:eportdatabase;&quot;;\r\n\r\nyou are using Derby in the &quot;embedded&quot; configuration. With Embedded Derby, only  one Java application at a time can use the database. Other applications that try to use it concurrently are rejected with the message\r\n\r\n    Another instance of Derby may have already booted the database\r\n\r\nas you saw when you tried it.\r\n\r\nThere are other configurations in which Derby can be deployed and run; specifically there is a Client-Server configuration in which multiple applications may all run as clients, and may connect to the same Derby server, allowing the applications to run concurrently.\r\n\r\nTo learn more about these aspects of Derby, start here: https://db.apache.org/derby/docs/10.15/getstart/cgsquck70629.html","title":"DB Derby Database stops functioning once connected to DBeaver","body":"<p>By using this line of code:</p>\n<pre><code>String databaseURL = &quot;jdbc:derby:eportdatabase;&quot;;\n</code></pre>\n<p>you are using Derby in the &quot;embedded&quot; configuration. With Embedded Derby, only  one Java application at a time can use the database. Other applications that try to use it concurrently are rejected with the message</p>\n<pre><code>Another instance of Derby may have already booted the database\n</code></pre>\n<p>as you saw when you tried it.</p>\n<p>There are other configurations in which Derby can be deployed and run; specifically there is a Client-Server configuration in which multiple applications may all run as clients, and may connect to the same Derby server, allowing the applications to run concurrently.</p>\n<p>To learn more about these aspects of Derby, start here: <a href=\"https://db.apache.org/derby/docs/10.15/getstart/cgsquck70629.html\" rel=\"nofollow noreferrer\">https://db.apache.org/derby/docs/10.15/getstart/cgsquck70629.html</a></p>\n"}],"owner":{"account_id":23884087,"reputation":19,"user_id":17884438,"display_name":"Valerio Tavoletti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646854791,"creation_date":1646848845,"question_id":71413982,"body_markdown":"Here is my application&#39;s code to create the database, connect to it, and make a table in the database called Accounts.\r\n```\r\npackage eportfolio.application;\r\n\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport javax.swing.JOptionPane;\r\nimport java.sql.Connection;\r\nimport java.sql.DatabaseMetaData;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.Scanner;\r\n\r\n\r\n/**\r\n *\r\n * @author valeriomacpro\r\n */\r\npublic class HomePage extends javax.swing.JFrame {\r\n    public static String username;\r\n    public static String password;\r\n    public static int SelectedPost;\r\n    /**\r\n     * Creates new form HomePage\r\n     */\r\n    \r\n    public static boolean doesTableExists (String tableName, Connection conn)\r\n            \r\n                throws SQLException {\r\n                DatabaseMetaData meta = conn.getMetaData();\r\n                ResultSet result = meta.getTables(null, null, tableName.toUpperCase(), null);\r\n        \r\n        return result.next();\r\n    }\r\n    \r\n    \r\n    public HomePage() {\r\n        initComponents();\r\n        \r\n        try\r\n        {\r\n                String databaseURL = &quot;jdbc:derby:eportdatabase;create=true&quot;;\r\n                Connection con = DriverManager.getConnection(databaseURL);\r\n                Statement st = con.createStatement();\r\n            \r\n                if (!doesTableExists(&quot;Accounts&quot;, con))\r\n                {\r\n                    String sql = &quot;CREATE TABLE Accounts (Username varchar(250), Password varchar(250)) &quot;;\r\n                    st.execute(sql);\r\n                    System.out.println(&quot;Table Does Not Yet Exist!&quot;);\r\n                }\r\n                else if(doesTableExists(&quot;Accounts&quot;, con)) {\r\n                    System.out.println(&quot;Table Already Exists!&quot;);\r\n                }\r\n                \r\n                \r\n                con.close();\r\n        } catch(SQLException e) {\r\n            do {\r\n                System.out.println(&quot;SQLState:&quot; + e.getSQLState());\r\n                System.out.println(&quot;Error Code:&quot; + e.getErrorCode());\r\n                System.out.println(&quot;Message:&quot; + e.getMessage());\r\n                Throwable t = e.getCause();\r\n                while(t != null) {\r\n                System.out.println(&quot;Cause:&quot; + t);\r\n                t = t.getCause();\r\n            }\r\n            e = e.getNextException();\r\n        } while (e != null);\r\n    }\r\n}\r\n```\r\nAdditionally, here is my code that interacts with the Accounts table.\r\n```\r\n        try\r\n        {\r\n                String databaseURL = &quot;jdbc:derby:eportdatabase;&quot;;\r\n                Connection con1 = DriverManager.getConnection(databaseURL);\r\n                Statement st = con1.createStatement();\r\n                \r\n                \r\n                String sql = &quot; INSERT INTO Accounts VALUES (&#39;&quot;+txtNewUsername.getText()+&quot;&#39;,&#39;&quot;+txtNewPassword.getText()+&quot;&#39;) &quot;;\r\n                st.executeUpdate(sql);\r\n            \r\n                JOptionPane.showMessageDialog(null, &quot;Account Info Saved!&quot;); \r\n                txtNewUsername.setText(&quot;&quot;);\r\n                txtNewPassword.setText(&quot;&quot;);\r\n                txtNewConfirm.setText(&quot;&quot;);\r\n                \r\n\r\n        }\r\n```\r\nWhen I run the application, the code works fine. However, if I open DBeaver and connect it to my database, then the following error message comes up. Does not come up if DBeaver is closed, even if it is connected to the database.\r\n```\r\nMessage:Failed to start database &#39;eportdatabase&#39; with class loader jdk.internal.loader.ClassLoaders$AppClassLoader@45ee12a7, see the next exception for details.\r\nCause:ERROR XJ040: Failed to start database &#39;eportdatabase&#39; with class loader jdk.internal.loader.ClassLoaders$AppClassLoader@45ee12a7, see the next exception for details.\r\nCause:ERROR XSDB6: Another instance of Derby may have already booted the database /Users/(username)/NetBeansProjects/ePortfolio Application/eportdatabase.\r\nSQLState:XSDB6\r\nError Code:45000\r\nMessage:Another instance of Derby may have already booted the database /Users/(username)/NetBeansProjects/ePortfolio Application/eportdatabase.\r\nCause:ERROR XSDB6: Another instance of Derby may have already booted the database /Users/(username)/NetBeansProjects/ePortfolio Application/eportdatabase.\r\n```\r\nWhy is this? Am I connecting the Database to DBeaver incorrectly? Or am I coding the database incorrectly in Netbeans? It could be that my drivers and db derby version are old, but I have not been able to find help on that online either. Also important to know that the table does show up in DBeaver, but does not update. I have to delete the database folder in my application&#39;s folder every time I want to use the application with DBeaver open. Any help appreciated.","title":"DB Derby Database stops functioning once connected to DBeaver","body":"<p>Here is my application's code to create the database, connect to it, and make a table in the database called Accounts.</p>\n<pre><code>package eportfolio.application;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport javax.swing.JOptionPane;\nimport java.sql.Connection;\nimport java.sql.DatabaseMetaData;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.Scanner;\n\n\n/**\n *\n * @author valeriomacpro\n */\npublic class HomePage extends javax.swing.JFrame {\n    public static String username;\n    public static String password;\n    public static int SelectedPost;\n    /**\n     * Creates new form HomePage\n     */\n    \n    public static boolean doesTableExists (String tableName, Connection conn)\n            \n                throws SQLException {\n                DatabaseMetaData meta = conn.getMetaData();\n                ResultSet result = meta.getTables(null, null, tableName.toUpperCase(), null);\n        \n        return result.next();\n    }\n    \n    \n    public HomePage() {\n        initComponents();\n        \n        try\n        {\n                String databaseURL = &quot;jdbc:derby:eportdatabase;create=true&quot;;\n                Connection con = DriverManager.getConnection(databaseURL);\n                Statement st = con.createStatement();\n            \n                if (!doesTableExists(&quot;Accounts&quot;, con))\n                {\n                    String sql = &quot;CREATE TABLE Accounts (Username varchar(250), Password varchar(250)) &quot;;\n                    st.execute(sql);\n                    System.out.println(&quot;Table Does Not Yet Exist!&quot;);\n                }\n                else if(doesTableExists(&quot;Accounts&quot;, con)) {\n                    System.out.println(&quot;Table Already Exists!&quot;);\n                }\n                \n                \n                con.close();\n        } catch(SQLException e) {\n            do {\n                System.out.println(&quot;SQLState:&quot; + e.getSQLState());\n                System.out.println(&quot;Error Code:&quot; + e.getErrorCode());\n                System.out.println(&quot;Message:&quot; + e.getMessage());\n                Throwable t = e.getCause();\n                while(t != null) {\n                System.out.println(&quot;Cause:&quot; + t);\n                t = t.getCause();\n            }\n            e = e.getNextException();\n        } while (e != null);\n    }\n}\n</code></pre>\n<p>Additionally, here is my code that interacts with the Accounts table.</p>\n<pre><code>        try\n        {\n                String databaseURL = &quot;jdbc:derby:eportdatabase;&quot;;\n                Connection con1 = DriverManager.getConnection(databaseURL);\n                Statement st = con1.createStatement();\n                \n                \n                String sql = &quot; INSERT INTO Accounts VALUES ('&quot;+txtNewUsername.getText()+&quot;','&quot;+txtNewPassword.getText()+&quot;') &quot;;\n                st.executeUpdate(sql);\n            \n                JOptionPane.showMessageDialog(null, &quot;Account Info Saved!&quot;); \n                txtNewUsername.setText(&quot;&quot;);\n                txtNewPassword.setText(&quot;&quot;);\n                txtNewConfirm.setText(&quot;&quot;);\n                \n\n        }\n</code></pre>\n<p>When I run the application, the code works fine. However, if I open DBeaver and connect it to my database, then the following error message comes up. Does not come up if DBeaver is closed, even if it is connected to the database.</p>\n<pre><code>Message:Failed to start database 'eportdatabase' with class loader jdk.internal.loader.ClassLoaders$AppClassLoader@45ee12a7, see the next exception for details.\nCause:ERROR XJ040: Failed to start database 'eportdatabase' with class loader jdk.internal.loader.ClassLoaders$AppClassLoader@45ee12a7, see the next exception for details.\nCause:ERROR XSDB6: Another instance of Derby may have already booted the database /Users/(username)/NetBeansProjects/ePortfolio Application/eportdatabase.\nSQLState:XSDB6\nError Code:45000\nMessage:Another instance of Derby may have already booted the database /Users/(username)/NetBeansProjects/ePortfolio Application/eportdatabase.\nCause:ERROR XSDB6: Another instance of Derby may have already booted the database /Users/(username)/NetBeansProjects/ePortfolio Application/eportdatabase.\n</code></pre>\n<p>Why is this? Am I connecting the Database to DBeaver incorrectly? Or am I coding the database incorrectly in Netbeans? It could be that my drivers and db derby version are old, but I have not been able to find help on that online either. Also important to know that the table does show up in DBeaver, but does not update. I have to delete the database folder in my application's folder every time I want to use the application with DBeaver open. Any help appreciated.</p>\n"},{"tags":["java","gitlab-ci","cucumber-junit"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1646852924,"post_id":71414749,"comment_id":126229031,"body_markdown":"IS `/builds/&lt;user&gt;/cucumber-testing/./src/drivers/chromedriver_99.exe` executable?  My guess is that that path does not exist, and it is that &quot;&lt;user&gt;&quot; component of the path that is the problem.  Is that an actual directory name?  I&#39;m assuming not.  If not, then it appears that something was supposed to have expanded &quot;&lt;user&gt;&quot; to the something else in that path, but failed to.","body":"IS <code>&#47;builds&#47;&lt;user&gt;&#47;cucumber-testing&#47;.&#47;src&#47;drivers&#47;chromedriver_9&zwnj;&#8203;9.exe</code> executable?  My guess is that that path does not exist, and it is that &quot;&lt;user&gt;&quot; component of the path that is the problem.  Is that an actual directory name?  I&#39;m assuming not.  If not, then it appears that something was supposed to have expanded &quot;&lt;user&gt;&quot; to the something else in that path, but failed to."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1646853129,"post_id":71414749,"comment_id":126229105,"body_markdown":"Which operating system is your job running on? Remember you can&#39;t execute windows executables on Unix.","body":"Which operating system is your job running on? Remember you can&#39;t execute windows executables on Unix."},{"owner":{"account_id":24507222,"reputation":95,"user_id":18422063,"display_name":"tester"},"score":0,"creation_date":1646853226,"post_id":71414749,"comment_id":126229132,"body_markdown":"I can not understand exactly where this path to .exe file was generated. In my project &#39;chromedriver_99.exe&#39; file is located on &#39;./src/drivers/chromedriver_99.exe&#39; path.\nhttps://share.getcloudapp.com/xQuqegyJ\n\nWhen I run test from IDE  - everything is ok","body":"I can not understand exactly where this path to .exe file was generated. In my project &#39;chromedriver_99.exe&#39; file is located on &#39;./src/drivers/chromedriver_99.exe&#39; path. <a href=\"https://share.getcloudapp.com/xQuqegyJ\" rel=\"nofollow noreferrer\">share.getcloudapp.com/xQuqegyJ</a>  When I run test from IDE  - everything is ok"},{"owner":{"account_id":24507222,"reputation":95,"user_id":18422063,"display_name":"tester"},"score":0,"creation_date":1646853414,"post_id":71414749,"comment_id":126229213,"body_markdown":"I am running on Windows 10","body":"I am running on Windows 10"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1646854961,"post_id":71414749,"comment_id":126229673,"body_markdown":"@tester but what operating system is your gitlab job running on?","body":"@tester but what operating system is your gitlab job running on?"}],"answers":[{"tags":[],"owner":{"account_id":7575391,"reputation":32359,"user_id":5747944,"display_name":"sytech"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646854762,"creation_date":1646854762,"answer_id":71415121,"question_id":71414749,"body_markdown":"GitLab docker jobs execute in Linux docker containers. Your executable (`.exe` file) is a win32 binary and cannot be used in jobs running in Linux containers.\r\n\r\nDownload the linux [chromedriver](https://chromedriver.chromium.org/downloads) and specify that file instead.","title":"&quot;ChromeDriver is not executable&quot; error when run GitLab pipeline","body":"<p>GitLab docker jobs execute in Linux docker containers. Your executable (<code>.exe</code> file) is a win32 binary and cannot be used in jobs running in Linux containers.</p>\n<p>Download the linux <a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">chromedriver</a> and specify that file instead.</p>\n"}],"owner":{"account_id":24507222,"reputation":95,"user_id":18422063,"display_name":"tester"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1082,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71415121,"answer_count":1,"score":0,"last_activity_date":1646854762,"creation_date":1646852634,"question_id":71414749,"body_markdown":"I am only starting to use GitLab as CI tool.\r\nI have created autotests using stack: Java, Cucumber, Maven.\r\nI have created gitlab-ci.yml with next settings:\r\n\r\n```yaml\r\nimage: maven:latest\r\nstages:\r\n  - test\r\ntest:\r\n  stage: test\r\n  script:\r\n    - mvn clean test -Dtest=RunCucumberTest\r\n```\r\n\r\n[yml example][1]\r\n\r\n  [1]: https://share.getcloudapp.com/6quZ7BLO\r\n\r\nBut Pipeline is failed with next errors:\r\n```\r\n java.lang.IllegalStateException: The driver is not executable: /builds/&lt;user&gt;/cucumber-testing/./src/drivers/chromedriver_99.exe\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:585)\r\n\tat org.openqa.selenium.remote.service.DriverService.checkExecutable(DriverService.java:150)\r\n\tat org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:141)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:35)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:159)\r\n\tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:355)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:94)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\r\n\tat seleniumActions.ActionWithElement.setUp(ActionWithElement.java:24)\r\n\tat stepDefinition.Hooks.setUp(Hooks.java:14)\r\n```\r\n\r\nHow do I set up ChromeDriver for gitlab in my .yml file?\r\n","title":"&quot;ChromeDriver is not executable&quot; error when run GitLab pipeline","body":"<p>I am only starting to use GitLab as CI tool.\nI have created autotests using stack: Java, Cucumber, Maven.\nI have created gitlab-ci.yml with next settings:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>image: maven:latest\nstages:\n  - test\ntest:\n  stage: test\n  script:\n    - mvn clean test -Dtest=RunCucumberTest\n</code></pre>\n<p><a href=\"https://share.getcloudapp.com/6quZ7BLO\" rel=\"nofollow noreferrer\">yml example</a></p>\n<p>But Pipeline is failed with next errors:</p>\n<pre><code> java.lang.IllegalStateException: The driver is not executable: /builds/&lt;user&gt;/cucumber-testing/./src/drivers/chromedriver_99.exe\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:585)\n    at org.openqa.selenium.remote.service.DriverService.checkExecutable(DriverService.java:150)\n    at org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:141)\n    at org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:35)\n    at org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:159)\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:355)\n    at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:94)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\n    at seleniumActions.ActionWithElement.setUp(ActionWithElement.java:24)\n    at stepDefinition.Hooks.setUp(Hooks.java:14)\n</code></pre>\n<p>How do I set up ChromeDriver for gitlab in my .yml file?</p>\n"},{"tags":["java","apache-spark","apache-spark-ml","apache-spark-dataset"],"owner":{"account_id":18460896,"reputation":505,"user_id":13448436,"display_name":"Lazar Đorđević"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1737,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646854569,"creation_date":1625007737,"question_id":68186591,"body_markdown":"I&#39;m trying to create model and evaluate in **Apache Spark 3.1.1** with OneR algorithm. I have `.csv` file with normalized data (all values are `double`, but some values are very close to 0).\r\n\r\nI was reading [MLlib main guide](https://spark.apache.org/docs/latest/ml-classification-regression.html#one-vs-rest-classifier-aka-one-vs-all) OnevsRest and code is very similar to this:\r\n\r\n```java\r\nSparkSession session = SparkSession\r\n                .builder()\r\n                .appName(&quot;Spark test&quot;)\r\n                .master(&quot;local&quot;)\r\n                .getOrCreate();\r\n\r\nJavaRDD&lt;LabeledPoint&gt; data = loadData(session, &quot;path.csv&quot;);\r\n\r\nLogisticRegression logisticRegression = new LogisticRegression().setMaxIter(20);\r\nOneVsRest oneR = new OneVsRest().setClassifier(logisticRegression);\r\n\r\nBinaryClassificationEvaluator evaluator = new BinaryClassificationEvaluator();\r\nMulticlassMetrics metrics = new MulticlassMetrics(data.rdd());\r\nMulticlassClassificationEvaluator multiEvaluator = new MulticlassClassificationEvaluator()\r\n        .setMetricName(&quot;accuracy&quot;);\r\n\t\t\r\nJavaRDD&lt;LabeledPoint&gt;[] javaRDDS = data.randomSplit(new double[]{0.7, 0.3});\r\nJavaRDD&lt;LabeledPoint&gt; trainingRDD = javaRDDS[0], testRDD = javaRDDS[1];\r\nDataset&lt;Row&gt; trainingDataset = session.createDataFrame(trainingRDD, LabeledPoint.class);\r\nDataset&lt;Row&gt; testDataset = session.createDataFrame(testRDD, LabeledPoint.class);\r\n\r\nOneVsRestModel oneRModel = oneR.fit(trainingDataset);\r\nDataset&lt;Row&gt; oneRPredictions = oneRModel.transform(testDataset).select(&quot;prediction&quot;, &quot;label&quot;);\r\n\r\ndouble oneRAcc = evaluator.evaluate(oneRPredictions);\r\nSystem.out.println(&quot;OneR: \\r\\n&quot;);\r\nSystem.out.println(&quot;Accuracy: &quot; + oneRAcc);\r\nSystem.out.println(&quot;--------------------------------&quot;);\r\n\r\nsession.close();\r\n```\r\nThis code throws exception:\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: requirement failed: rawPredictionCol vectors must have length=2, but got 3\r\n\tat scala.Predef$.require(Predef.scala:281)\r\n\tat org.apache.spark.ml.evaluation.BinaryClassificationEvaluator.$anonfun$getMetrics$1(BinaryClassificationEvaluator.scala:126)\r\n\tat scala.runtime.java8.JFunction1$mcVI$sp.apply(JFunction1$mcVI$sp.java:23)\r\n\tat scala.Option.foreach(Option.scala:407)\r\n\tat org.apache.spark.ml.evaluation.BinaryClassificationEvaluator.getMetrics(BinaryClassificationEvaluator.scala:126)\r\n\tat org.apache.spark.ml.evaluation.BinaryClassificationEvaluator.evaluate(BinaryClassificationEvaluator.scala:100)\r\n\tat Classification.main(Classification.java:64)\r\n```\r\n\r\nWhy this code doesn&#39;t work? I thought that problem is in `.select(&quot;prediction&quot;, &quot;label&quot;)` because I don&#39;t know what I have in `Dataset&lt;Row&gt;` after `transform`, but `vectors must have length of 2 not 3` is strange. I&#39;m trying multiclass classification with 3 classes.\r\n\r\nEdit\r\n====\r\n\r\nI was using `BinaryClassificationEvaluator evaluator` instead of `MulticlassClassificationEvaluator multiEvaluator` by mistake. Now error message makes sense.","title":"IllegalArgumentException: requirement failed: rawPredictionCol vectors must have length=2, but got 3 while testing model in Apache Spark","body":"<p>I'm trying to create model and evaluate in <strong>Apache Spark 3.1.1</strong> with OneR algorithm. I have <code>.csv</code> file with normalized data (all values are <code>double</code>, but some values are very close to 0).</p>\n<p>I was reading <a href=\"https://spark.apache.org/docs/latest/ml-classification-regression.html#one-vs-rest-classifier-aka-one-vs-all\" rel=\"nofollow noreferrer\">MLlib main guide</a> OnevsRest and code is very similar to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SparkSession session = SparkSession\n                .builder()\n                .appName(&quot;Spark test&quot;)\n                .master(&quot;local&quot;)\n                .getOrCreate();\n\nJavaRDD&lt;LabeledPoint&gt; data = loadData(session, &quot;path.csv&quot;);\n\nLogisticRegression logisticRegression = new LogisticRegression().setMaxIter(20);\nOneVsRest oneR = new OneVsRest().setClassifier(logisticRegression);\n\nBinaryClassificationEvaluator evaluator = new BinaryClassificationEvaluator();\nMulticlassMetrics metrics = new MulticlassMetrics(data.rdd());\nMulticlassClassificationEvaluator multiEvaluator = new MulticlassClassificationEvaluator()\n        .setMetricName(&quot;accuracy&quot;);\n        \nJavaRDD&lt;LabeledPoint&gt;[] javaRDDS = data.randomSplit(new double[]{0.7, 0.3});\nJavaRDD&lt;LabeledPoint&gt; trainingRDD = javaRDDS[0], testRDD = javaRDDS[1];\nDataset&lt;Row&gt; trainingDataset = session.createDataFrame(trainingRDD, LabeledPoint.class);\nDataset&lt;Row&gt; testDataset = session.createDataFrame(testRDD, LabeledPoint.class);\n\nOneVsRestModel oneRModel = oneR.fit(trainingDataset);\nDataset&lt;Row&gt; oneRPredictions = oneRModel.transform(testDataset).select(&quot;prediction&quot;, &quot;label&quot;);\n\ndouble oneRAcc = evaluator.evaluate(oneRPredictions);\nSystem.out.println(&quot;OneR: \\r\\n&quot;);\nSystem.out.println(&quot;Accuracy: &quot; + oneRAcc);\nSystem.out.println(&quot;--------------------------------&quot;);\n\nsession.close();\n</code></pre>\n<p>This code throws exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: requirement failed: rawPredictionCol vectors must have length=2, but got 3\n    at scala.Predef$.require(Predef.scala:281)\n    at org.apache.spark.ml.evaluation.BinaryClassificationEvaluator.$anonfun$getMetrics$1(BinaryClassificationEvaluator.scala:126)\n    at scala.runtime.java8.JFunction1$mcVI$sp.apply(JFunction1$mcVI$sp.java:23)\n    at scala.Option.foreach(Option.scala:407)\n    at org.apache.spark.ml.evaluation.BinaryClassificationEvaluator.getMetrics(BinaryClassificationEvaluator.scala:126)\n    at org.apache.spark.ml.evaluation.BinaryClassificationEvaluator.evaluate(BinaryClassificationEvaluator.scala:100)\n    at Classification.main(Classification.java:64)\n</code></pre>\n<p>Why this code doesn't work? I thought that problem is in <code>.select(&quot;prediction&quot;, &quot;label&quot;)</code> because I don't know what I have in <code>Dataset&lt;Row&gt;</code> after <code>transform</code>, but <code>vectors must have length of 2 not 3</code> is strange. I'm trying multiclass classification with 3 classes.</p>\n<h1>Edit</h1>\n<p>I was using <code>BinaryClassificationEvaluator evaluator</code> instead of <code>MulticlassClassificationEvaluator multiEvaluator</code> by mistake. Now error message makes sense.</p>\n"},{"tags":["java","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":3281033,"reputation":14027,"user_id":2761641,"accept_rate":58,"display_name":"Akshay Vijay Jain"},"score":1,"creation_date":1509115203,"post_id":37841373,"comment_id":80902762,"body_markdown":"solution https://stackoverflow.com/questions/41719142/how-to-return-a-set-of-objects-with-spring-boot/46977580#46977580","body":"solution <a href=\"https://stackoverflow.com/questions/41719142/how-to-return-a-set-of-objects-with-spring-boot/46977580#46977580\" title=\"how to return a set of objects with spring boot\">stackoverflow.com/questions/41719142/&hellip;</a>"},{"owner":{"account_id":6016034,"reputation":407,"user_id":4724882,"display_name":"Vivek Mishra"},"score":0,"creation_date":1522808269,"post_id":37841373,"comment_id":86295824,"body_markdown":"Use Central repository to download jars\nIf you are not maven user here you can find your required version jars\nhttp://repo1.maven.org/maven2/com/fasterxml/jackson/core/","body":"Use Central repository to download jars If you are not maven user here you can find your required version jars <a href=\"http://repo1.maven.org/maven2/com/fasterxml/jackson/core/\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/com/fasterxml/jackson/core</a>"}],"answers":[{"tags":[],"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1466010046,"creation_date":1466010046,"answer_id":37841521,"question_id":37841373,"body_markdown":"Use `@ResponseBody` and `getter/setter`. Hope it will solve your issue.\r\n\r\n    @RequestMapping(value = &quot;/bar/foo&quot;, method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;foo&gt; foo() {\r\n\r\n\r\nand update your `mvc-dispatcher-servlet.xml`:\r\n\r\n    &lt;mvc:annotation-driven&gt;\r\n         &lt;mvc:message-converters&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;/&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;/&gt;\r\n       &lt;/mvc:message-converters&gt;\r\n    &lt;/mvc:annotation-driven&gt;","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>Use <code>@ResponseBody</code> and <code>getter/setter</code>. Hope it will solve your issue.</p>\n\n<pre><code>@RequestMapping(value = \"/bar/foo\", method = RequestMethod.GET)\n@ResponseBody\npublic ResponseEntity&lt;foo&gt; foo() {\n</code></pre>\n\n<p>and update your <code>mvc-dispatcher-servlet.xml</code>:</p>\n\n<pre><code>&lt;mvc:annotation-driven&gt;\n     &lt;mvc:message-converters&gt;\n            &lt;bean class=\"org.springframework.http.converter.StringHttpMessageConverter\"/&gt;\n            &lt;bean class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"/&gt;\n   &lt;/mvc:message-converters&gt;\n&lt;/mvc:annotation-driven&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543383,"reputation":16280,"user_id":912495,"accept_rate":88,"display_name":"Marc"},"down_vote_count":0,"up_vote_count":355,"is_accepted":true,"score":355,"last_activity_date":1592583260,"creation_date":1466013345,"answer_id":37842512,"question_id":37841373,"body_markdown":"The problem was that one of the nested objects in `Foo` didn&#39;t have any `getter/setter`","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>The problem was that one of the nested objects in <code>Foo</code> didn't have any <code>getter/setter</code></p>\n"},{"tags":[],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1576994081,"creation_date":1471893967,"answer_id":39087282,"question_id":37841373,"body_markdown":"Add the below dependency to your pom.xml:\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10.0.pr3&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>Add the below dependency to your pom.xml:</p>\n\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.10.0.pr3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3429610,"reputation":735,"user_id":2874434,"display_name":"Vit Ias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492073864,"creation_date":1492073864,"answer_id":43387756,"question_id":37841373,"body_markdown":"I also experienced such error when by accident put two @JsonProperty(&quot;some_value&quot;) identical lines on different properties inside the class","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>I also experienced such error when by accident put two @JsonProperty(\"some_value\") identical lines on different properties inside the class</p>\n"},{"tags":[],"owner":{"account_id":4506096,"reputation":1777,"user_id":3663437,"accept_rate":50,"display_name":"thisisashwani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497002904,"creation_date":1497002904,"answer_id":44455029,"question_id":37841373,"body_markdown":"I had the very same problem, and unfortunately it could not be solved by adding getter methods, or adding jackson dependencies.\r\n\r\nI then looked at Official Spring Guide, and followed their example as given here - https://spring.io/guides/gs/actuator-service/ - where the example also shows the conversion of returned object to JSON format.\r\n\r\nI then again made my own project, with the difference that this time I also added the dependencies and build plugins that&#39;s present in the **pom.xml** file of the Official Spring Guide example I mentioned above.\r\n\r\nThe modified dependencies and build part of XML file looks like this!\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nYou can see the same in the mentioned link above.\r\n\r\n**And magically, atleast for me, it works. So, if you have already exhausted your other options, you might want to try this out, as was the case with me.**\r\n\r\nJust a side note, it didn&#39;t work for me when I added the dependencies in my previous project and did Maven install and update project stuff. So, I had to again make my project from scratch. I didn&#39;t bother much about it as mine is an example project, but you might want to look for that too!\r\n","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>I had the very same problem, and unfortunately it could not be solved by adding getter methods, or adding jackson dependencies.</p>\n\n<p>I then looked at Official Spring Guide, and followed their example as given here - <a href=\"https://spring.io/guides/gs/actuator-service/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/actuator-service/</a> - where the example also shows the conversion of returned object to JSON format.</p>\n\n<p>I then again made my own project, with the difference that this time I also added the dependencies and build plugins that's present in the <strong>pom.xml</strong> file of the Official Spring Guide example I mentioned above.</p>\n\n<p>The modified dependencies and build part of XML file looks like this!</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>You can see the same in the mentioned link above.</p>\n\n<p><strong>And magically, atleast for me, it works. So, if you have already exhausted your other options, you might want to try this out, as was the case with me.</strong></p>\n\n<p>Just a side note, it didn't work for me when I added the dependencies in my previous project and did Maven install and update project stuff. So, I had to again make my project from scratch. I didn't bother much about it as mine is an example project, but you might want to look for that too!</p>\n"},{"tags":[],"owner":{"account_id":1696393,"reputation":748,"user_id":1557707,"accept_rate":67,"display_name":"vish213"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1510050498,"creation_date":1510050498,"answer_id":47155586,"question_id":37841373,"body_markdown":"The issue occurred in my case because spring framework couldn&#39;t fetch the properties of nested objects. Getters/Setters is one way of solving. Making the properties public is another quick and dirty solution to validate if this is indeed the problem.","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>The issue occurred in my case because spring framework couldn't fetch the properties of nested objects. Getters/Setters is one way of solving. Making the properties public is another quick and dirty solution to validate if this is indeed the problem.</p>\n"},{"tags":[],"owner":{"account_id":8176960,"reputation":109,"user_id":6155408,"display_name":"Kiran Kawade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548527675,"creation_date":1515126203,"answer_id":48107159,"question_id":37841373,"body_markdown":"I was facing same issue for long time then comes to know have to convert object into JSON using Object Mapper and  pass it as *JSON Object* \r\n\r\n    @RequestMapping(value = &quot;/getTags&quot;, method = RequestMethod.GET)\r\n    public @ResponseBody String getTags(@RequestParam String tagName) throws\r\n            JsonGenerationException, JsonMappingException, IOException {\r\n        List&lt;Tag&gt; result = new ArrayList&lt;Tag&gt;();\r\n        for (Tag tag : data) {\r\n            if (tag.getTagName().contains(tagName)) {\r\n                result.add(tag);\r\n            }\r\n        }\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        String json = objectMapper.writeValueAsString(result);\r\n        return json;\r\n    }","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>I was facing same issue for long time then comes to know have to convert object into JSON using Object Mapper and  pass it as <em>JSON Object</em> </p>\n\n<pre><code>@RequestMapping(value = \"/getTags\", method = RequestMethod.GET)\npublic @ResponseBody String getTags(@RequestParam String tagName) throws\n        JsonGenerationException, JsonMappingException, IOException {\n    List&lt;Tag&gt; result = new ArrayList&lt;Tag&gt;();\n    for (Tag tag : data) {\n        if (tag.getTagName().contains(tagName)) {\n            result.add(tag);\n        }\n    }\n    ObjectMapper objectMapper = new ObjectMapper();\n    String json = objectMapper.writeValueAsString(result);\n    return json;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4826461,"reputation":11,"user_id":3895811,"display_name":"Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521572212,"creation_date":1521572212,"answer_id":49392173,"question_id":37841373,"body_markdown":"In my case, I forgot to add library jackson-core.jar, I only added jackson-annotations.jar and jackson-databind.jar. When I added jackson-core.jar, it fixed the problem.","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>In my case, I forgot to add library jackson-core.jar, I only added jackson-annotations.jar and jackson-databind.jar. When I added jackson-core.jar, it fixed the problem.</p>\n"},{"tags":[],"owner":{"account_id":1831332,"reputation":1298,"user_id":1662668,"accept_rate":78,"display_name":"Soumyajit Swain"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1529911371,"creation_date":1529911371,"answer_id":51018171,"question_id":37841373,"body_markdown":"Add the getter/setter missing inside the bean mentioned in the error message.","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>Add the getter/setter missing inside the bean mentioned in the error message.</p>\n"},{"tags":[],"owner":{"account_id":5031191,"reputation":79,"user_id":4041311,"accept_rate":0,"display_name":"Nilay"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1541310318,"creation_date":1541310318,"answer_id":53138106,"question_id":37841373,"body_markdown":"I was getting the same error for a while.I had verify getter methods were available for all properties.Still was getting the same error.\r\nTo resolve an issue Configure MVC xml(configuration) with \r\n\r\n     &lt;mvc:annotation-driven/&gt;\r\n\r\n.This is required for Spring to detect the presence of jackson and setup the corresponding converters.","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>I was getting the same error for a while.I had verify getter methods were available for all properties.Still was getting the same error.\nTo resolve an issue Configure MVC xml(configuration) with </p>\n\n<pre><code> &lt;mvc:annotation-driven/&gt;\n</code></pre>\n\n<p>.This is required for Spring to detect the presence of jackson and setup the corresponding converters.</p>\n"},{"tags":[],"owner":{"account_id":4469893,"reputation":409,"user_id":3636486,"accept_rate":25,"display_name":"user3636486"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1550566257,"creation_date":1550566257,"answer_id":54762134,"question_id":37841373,"body_markdown":"@EnableWebMvc annotation on config class resolved my problem. (Spring 5, no web.xml, initialized by AbstractAnnotationConfigDispatcherServletInitializer)","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>@EnableWebMvc annotation on config class resolved my problem. (Spring 5, no web.xml, initialized by AbstractAnnotationConfigDispatcherServletInitializer)</p>\n"},{"tags":[],"owner":{"account_id":2380769,"reputation":4012,"user_id":2082842,"accept_rate":60,"display_name":"Electric Sheep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565186724,"creation_date":1565186724,"answer_id":57396289,"question_id":37841373,"body_markdown":"I saw the same error when the scope of the `jackson-databind` dependency had been set to `test`:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;version&gt;2.9.9&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nRemoving the `&lt;scope&gt;` line fixed the issue.\r\n\r\n","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>I saw the same error when the scope of the <code>jackson-databind</code> dependency had been set to <code>test</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.9.9&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Removing the <code>&lt;scope&gt;</code> line fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":17539836,"reputation":101,"user_id":12722178,"display_name":"parthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580964956,"creation_date":1580964956,"answer_id":60087953,"question_id":37841373,"body_markdown":"Faced same error recently - the pojo had getters/setters and all jackson dependencies were imported in pom correctly but some how &quot;&lt; scope &gt; &quot; was &quot;provided&quot; for jackson dependency and this caused the issue. Removing &quot; &lt; Scope &gt; &quot; from jackson dependency fixed the issue","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>Faced same error recently - the pojo had getters/setters and all jackson dependencies were imported in pom correctly but some how \"&lt; scope > \" was \"provided\" for jackson dependency and this caused the issue. Removing \" &lt; Scope > \" from jackson dependency fixed the issue</p>\n"},{"tags":[],"owner":{"account_id":3623129,"reputation":3773,"user_id":3021395,"accept_rate":40,"display_name":"PowerStat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583339517,"creation_date":1583338526,"answer_id":60530329,"question_id":37841373,"body_markdown":"While using Spring Boot 2.2 I run into a similiar error message and while googling my error message\r\n\r\n&gt; No converter for [class java.util.ArrayList] with preset Content-Type &#39;null&#39;\r\n\r\nthis question here is on top, but all answers here did not work for me, so I think it&#39;s a good idea to add the answer I found myself:\r\n\r\nI had to add the following dependencies to the `pom.xml`:\r\n             \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n         \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n      &lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.11.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAfter this I need to add the following to the WebApplication class:\r\n\r\n    @SpringBootApplication\r\n    public class WebApplication\r\n     {\r\n      // ...\r\n\r\n      @Bean\r\n      public HttpMessageConverter&lt;Object&gt; createXmlHttpMessageConverter()\r\n       {\r\n        final MarshallingHttpMessageConverter xmlConverter = new MarshallingHttpMessageConverter();\r\n        final XStreamMarshaller xstreamMarshaller = new XStreamMarshaller();\r\n        xstreamMarshaller.setAutodetectAnnotations(true);\r\n        xmlConverter.setMarshaller(xstreamMarshaller);\r\n        xmlConverter.setUnmarshaller(xstreamMarshaller);\r\n        return xmlConverter;\r\n       }\r\n\r\n    }\r\n\r\nLast but not least within my `@Controller` I used:\r\n\r\n    @GetMapping(produces = {MediaType.APPLICATION_XML_VALUE, MediaType. APPLICATION_JSON_VALUE})\r\n    @ResponseBody\r\n    public List&lt;MeterTypeEntity&gt; listXmlJson(final Model model)\r\n     {\r\n      return this.service.list();\r\n     }\r\n\r\nSo now I got JSON and XML return values depending on the requests `Accept` header.\r\n\r\nTo make the XML output more readable (remove the complete package name from tag names) you could also add `@XStreamAlias` the following to your entity class:\r\n\r\n    @Table(&quot;ExampleTypes&quot;)\r\n    @XStreamAlias(&quot;ExampleType&quot;)\r\n    public class ExampleTypeEntity\r\n     {\r\n      // ...\r\n     }\r\n\r\n\r\nHopefully this will help others with the same problem.\r\n","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>While using Spring Boot 2.2 I run into a similiar error message and while googling my error message</p>\n\n<blockquote>\n  <p>No converter for [class java.util.ArrayList] with preset Content-Type 'null'</p>\n</blockquote>\n\n<p>this question here is on top, but all answers here did not work for me, so I think it's a good idea to add the answer I found myself:</p>\n\n<p>I had to add the following dependencies to the <code>pom.xml</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n  &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n  &lt;version&gt;1.4.11.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>After this I need to add the following to the WebApplication class:</p>\n\n<pre><code>@SpringBootApplication\npublic class WebApplication\n {\n  // ...\n\n  @Bean\n  public HttpMessageConverter&lt;Object&gt; createXmlHttpMessageConverter()\n   {\n    final MarshallingHttpMessageConverter xmlConverter = new MarshallingHttpMessageConverter();\n    final XStreamMarshaller xstreamMarshaller = new XStreamMarshaller();\n    xstreamMarshaller.setAutodetectAnnotations(true);\n    xmlConverter.setMarshaller(xstreamMarshaller);\n    xmlConverter.setUnmarshaller(xstreamMarshaller);\n    return xmlConverter;\n   }\n\n}\n</code></pre>\n\n<p>Last but not least within my <code>@Controller</code> I used:</p>\n\n<pre><code>@GetMapping(produces = {MediaType.APPLICATION_XML_VALUE, MediaType. APPLICATION_JSON_VALUE})\n@ResponseBody\npublic List&lt;MeterTypeEntity&gt; listXmlJson(final Model model)\n {\n  return this.service.list();\n }\n</code></pre>\n\n<p>So now I got JSON and XML return values depending on the requests <code>Accept</code> header.</p>\n\n<p>To make the XML output more readable (remove the complete package name from tag names) you could also add <code>@XStreamAlias</code> the following to your entity class:</p>\n\n<pre><code>@Table(\"ExampleTypes\")\n@XStreamAlias(\"ExampleType\")\npublic class ExampleTypeEntity\n {\n  // ...\n }\n</code></pre>\n\n<p>Hopefully this will help others with the same problem.</p>\n"},{"tags":[],"owner":{"account_id":10381620,"reputation":864,"user_id":8405699,"accept_rate":100,"display_name":"Aldo In&#225;cio da Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588007259,"creation_date":1588007259,"answer_id":61464362,"question_id":37841373,"body_markdown":"I faced the same problem but I was using Lombok and my UploadFileResponse pojo was a builder.\r\n\r\n```\r\npublic ResponseEntity&lt;UploadFileResponse&gt; \r\n```\r\nTo solve I added @Getter annotation:\r\n```\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\npublic class UploadFileResponse\r\n```\r\n\r\n","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>I faced the same problem but I was using Lombok and my UploadFileResponse pojo was a builder.</p>\n\n<pre><code>public ResponseEntity&lt;UploadFileResponse&gt; \n</code></pre>\n\n<p>To solve I added @Getter annotation:</p>\n\n<pre><code>@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\npublic class UploadFileResponse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13084532,"reputation":307,"user_id":9453953,"display_name":"redd77"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589157207,"creation_date":1589157207,"answer_id":61720542,"question_id":37841373,"body_markdown":"In my case i&#39;m using spring boot , and i have encountered a similar error :\r\n```\r\nNo converter for [class java.util.ArrayList] with preset Content-Type &#39;null&#39;\r\n\r\n```\r\n\r\nturns out that i have a controller with \r\n```\r\n@GetMapping(produces = { &quot;application/xml&quot;, &quot;application/json&quot; })\r\n\r\n```\r\nand shamefully i wasn&#39;t adding the  `Accept` header to my requests ","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>In my case i'm using spring boot , and i have encountered a similar error :</p>\n\n<pre><code>No converter for [class java.util.ArrayList] with preset Content-Type 'null'\n\n</code></pre>\n\n<p>turns out that i have a controller with </p>\n\n<pre><code>@GetMapping(produces = { \"application/xml\", \"application/json\" })\n\n</code></pre>\n\n<p>and shamefully i wasn't adding the  <code>Accept</code> header to my requests </p>\n"},{"tags":[],"owner":{"account_id":6379287,"reputation":1756,"user_id":5404469,"display_name":"harun ugur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593378624,"creation_date":1593378624,"answer_id":62628263,"question_id":37841373,"body_markdown":"you didn&#39;t have any getter/setter methods. ","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>you didn't have any getter/setter methods.</p>\n"},{"tags":[],"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593415942,"creation_date":1593415942,"answer_id":62633256,"question_id":37841373,"body_markdown":"In my case, I was returning Boolean in Response Entity\r\nand had :\r\n\r\n    produces = MediaType.TEXT_PLAIN_VALUE,\r\n\r\nWhen i changed it to below \r\n\r\n   \r\n\r\n    produces = MediaType.APPLICATION_JSON_VALUE\r\n\r\nIt worked!\r\n\r\nExample of what i had.\r\n\r\n    @PostMapping(value = &quot;/xxx-xxxx&quot;,\r\n                produces = MediaType.APPLICATION_JSON_VALUE,\r\n                consumes = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;Boolean&gt; yyyy(","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>In my case, I was returning Boolean in Response Entity\nand had :</p>\n<pre><code>produces = MediaType.TEXT_PLAIN_VALUE,\n</code></pre>\n<p>When i changed it to below</p>\n<pre><code>produces = MediaType.APPLICATION_JSON_VALUE\n</code></pre>\n<p>It worked!</p>\n<p>Example of what i had.</p>\n<pre><code>@PostMapping(value = &quot;/xxx-xxxx&quot;,\n            produces = MediaType.APPLICATION_JSON_VALUE,\n            consumes = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;Boolean&gt; yyyy(\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2200953,"reputation":3860,"user_id":2661700,"accept_rate":86,"display_name":"Yubaraj"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1593684839,"creation_date":1593684839,"answer_id":62693998,"question_id":37841373,"body_markdown":"The answer written by @Marc is also valid. But the concrete answer is the `Getter` method is required. You don&#39;t even need a `Setter`.","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>The answer written by @Marc is also valid. But the concrete answer is the <code>Getter</code> method is required. You don't even need a <code>Setter</code>.</p>\n"},{"tags":[],"owner":{"account_id":8876480,"reputation":87,"user_id":6628440,"display_name":"Aman Malhotra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594133153,"creation_date":1594133153,"answer_id":62777894,"question_id":37841373,"body_markdown":"Add below dependency in pom.xml:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nWas facing the same issue as the return type cannot be bind with the MediaType of Class Foo. After adding the dependency it worked.","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>Add below dependency in pom.xml:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.10.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Was facing the same issue as the return type cannot be bind with the MediaType of Class Foo. After adding the dependency it worked.</p>\n"},{"tags":[],"owner":{"account_id":412597,"reputation":1074,"user_id":785744,"display_name":"Valdas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632402043,"creation_date":1632402043,"answer_id":69300560,"question_id":37841373,"body_markdown":"This might also happen due low Jackson version; e.g. Spring Boot 2.4 default Jackson version is too low when using Java records; you need at least 2.5 to serialize them properly.","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>This might also happen due low Jackson version; e.g. Spring Boot 2.4 default Jackson version is too low when using Java records; you need at least 2.5 to serialize them properly.</p>\n"},{"tags":[],"owner":{"account_id":10591094,"reputation":144,"user_id":7801638,"accept_rate":0,"display_name":"Co ti"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646217868,"creation_date":1646217868,"answer_id":71321327,"question_id":37841373,"body_markdown":"You are missing an Annotation **`@ResponseBody`**","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>You are missing an Annotation <strong><code>@ResponseBody</code></strong></p>\n"},{"tags":[],"owner":{"account_id":2928702,"reputation":771,"user_id":2509520,"display_name":"Peter Tarlos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646854315,"creation_date":1646854315,"answer_id":71415054,"question_id":37841373,"body_markdown":"I also encountered the same error on a Spring 5 project (not Spring Boot), by running a SpringMVC JUnit test-case on a method that returns `ResponseEntity&lt;List&lt;MyPojo&gt;&gt;`\r\n\r\nError: `No converter found for return value of type: class java.util.ArrayList`\r\n\r\nI thought I had all the correct Jackson artifacts in my pom, but later realized that I had the legacy versions.  The Maven groupId changed on the Jackson jars from `org.codehaus.jackson`to `com.fasterxml.jackson.core`.  After switching to the new jars the error went away.\r\n\r\nUpdated maven pom.xml:\r\n```lang-xml\r\n&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.9.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.9.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.9.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>I also encountered the same error on a Spring 5 project (not Spring Boot), by running a SpringMVC JUnit test-case on a method that returns <code>ResponseEntity&lt;List&lt;MyPojo&gt;&gt;</code></p>\n<p>Error: <code>No converter found for return value of type: class java.util.ArrayList</code></p>\n<p>I thought I had all the correct Jackson artifacts in my pom, but later realized that I had the legacy versions.  The Maven groupId changed on the Jackson jars from <code>org.codehaus.jackson</code>to <code>com.fasterxml.jackson.core</code>.  After switching to the new jars the error went away.</p>\n<p>Updated maven pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.9.7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.9.7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;2.9.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":543383,"reputation":16280,"user_id":912495,"accept_rate":88,"display_name":"Marc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187199,"favorite_count":0,"down_vote_count":0,"up_vote_count":129,"accepted_answer_id":37842512,"answer_count":23,"score":129,"last_activity_date":1646854315,"creation_date":1466009536,"question_id":37841373,"body_markdown":"With this code\r\n\r\n    @RequestMapping(value = &quot;/bar/foo&quot;, method = RequestMethod.GET)\r\n        public ResponseEntity&lt;foo&gt; foo() {\r\n    \r\n            Foo model;\r\n            ...\r\n            return ResponseEntity.ok(model);\r\n        }\r\n    }\r\n\r\nI get the following exception\r\n\r\n    java.lang.IllegalArgumentException: No converter found for return value of type\r\n\r\nMy guess is that the object cannot be converted to JSON because Jackson is missing. I don&#39;t understand why because I thought that Jackson was built in with spring boot.\r\n\r\nThen I have tried to add Jackson to the pom.xml but I still have the same error\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nDo I have to change any spring boot properties to make this work?","title":"java.lang.IllegalArgumentException: No converter found for return value of type","body":"<p>With this code</p>\n<pre><code>@RequestMapping(value = &quot;/bar/foo&quot;, method = RequestMethod.GET)\n    public ResponseEntity&lt;foo&gt; foo() {\n\n        Foo model;\n        ...\n        return ResponseEntity.ok(model);\n    }\n}\n</code></pre>\n<p>I get the following exception</p>\n<pre><code>java.lang.IllegalArgumentException: No converter found for return value of type\n</code></pre>\n<p>My guess is that the object cannot be converted to JSON because Jackson is missing. I don't understand why because I thought that Jackson was built in with spring boot.</p>\n<p>Then I have tried to add Jackson to the pom.xml but I still have the same error</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.4.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.4.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Do I have to change any spring boot properties to make this work?</p>\n"},{"tags":["java","jsp","tomcat"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1646682115,"post_id":71385841,"comment_id":126179678,"body_markdown":"I think you should try a simple bean that conforms to the JavaBean conventions. See https://stackoverflow.com/questions/3295496/what-is-a-javabean-exactly#:~:text=A%20JavaBean%20is%20a%20Java,public%20setter%20and%20getter%20methods  Also, check out the JavaBean specification.","body":"I think you should try a simple bean that conforms to the JavaBean conventions. See <a href=\"https://stackoverflow.com/questions/3295496/what-is-a-javabean-exactly#:~:text=A%20JavaBean%20is%20a%20Java,public%20setter%20and%20getter%20methods\" title=\"what is a javabean exactly%23%3a%7e%3atext%3dA%2520JavaBean%2520is%2520a%2520Java%2cpublic%2520setter%2520and%2520getter%2520methods\">stackoverflow.com/questions/3295496/&hellip;</a>  Also, check out the JavaBean specification."},{"owner":{"account_id":24480784,"reputation":21,"user_id":18399231,"display_name":"MathWhiz"},"score":0,"creation_date":1646687723,"post_id":71385841,"comment_id":126181339,"body_markdown":"Thanks, I forgot those things. added them but unfortunately, still same error.","body":"Thanks, I forgot those things. added them but unfortunately, still same error."},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1646695929,"post_id":71385841,"comment_id":126183419,"body_markdown":"Can you get a simple HelloWorld. jsp to run?  Why do you call your bean a Servlet? They are two different things. Just make a simple test bean Also, in your JSP remove the page directive import. The useBean tag will find the class  on its own.","body":"Can you get a simple HelloWorld. jsp to run?  Why do you call your bean a Servlet? They are two different things. Just make a simple test bean Also, in your JSP remove the page directive import. The useBean tag will find the class  on its own."},{"owner":{"account_id":24480784,"reputation":21,"user_id":18399231,"display_name":"MathWhiz"},"score":0,"creation_date":1646764953,"post_id":71385841,"comment_id":126203344,"body_markdown":"@rickz, thank you again: good second question. That must the root of my problem. The Java program is a servlet, not a bean. Not sure why I had bean code there, I probably found that way to access the class name which is all I want.","body":"@rickz, thank you again: good second question. That must the root of my problem. The Java program is a servlet, not a bean. Not sure why I had bean code there, I probably found that way to access the class name which is all I want."}],"answers":[{"tags":[],"owner":{"account_id":24480784,"reputation":21,"user_id":18399231,"display_name":"MathWhiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646853725,"creation_date":1646853725,"answer_id":71414954,"question_id":71385841,"body_markdown":"I have not been able to resolve this issue after removing bean stuff. No clue why.... examined the work file tomcat uses and still no clarity. I am not going to pursue any further. Thanks for the help.","title":"JSP Servlet errors: Value for useBean class attribute is invalid, and ClassNotFoundException: org.apache.jsp.testMath_jsp","body":"<p>I have not been able to resolve this issue after removing bean stuff. No clue why.... examined the work file tomcat uses and still no clarity. I am not going to pursue any further. Thanks for the help.</p>\n"}],"owner":{"account_id":24480784,"reputation":21,"user_id":18399231,"display_name":"MathWhiz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646853725,"creation_date":1646678674,"question_id":71385841,"body_markdown":"I am trying to use JSP pages on my desktop computer (Windows 10 64-bit) with the Apache Tomcat server. I write Java code all the time for applications on my PC only (hobby stuff), no issues.\r\n\r\nI once had this JSP stuff working back in 2004 but it was so many computers ago that I no longer have the setups that worked.  I researched this bug for 3 days and found identical questions dating back to 2004, yet I&#39;ve done all the things mentioned but I still can&#39;t find the problem. Is it so obvious that I don&#39;t see it? \r\n\r\nHere is everything I can think of to show:\r\n\r\n---------------------------------------\r\n\r\nThis is the exact JSP page...  file name is exact, with exact case:  &quot;testMath.jsp&quot;, in folder\r\n  d:\\apache-tomcat-9.0.58\\webapps\\mathJSP \r\n\r\n    &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n\r\n    &lt;%@page import=&quot;math2.MathServlet&quot; %&gt;\r\n    &lt;jsp:useBean id=&quot;s2&quot; class=&quot;math2.MathServlet&quot; scope=&quot;session&quot; /&gt;\r\n    &lt;jsp:setProperty name=&quot;s2&quot; property=&quot;*&quot; /&gt;\r\n\r\n    &lt;title&gt;Test document&lt;/title&gt;\r\n    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n    &lt;a name=&quot;top&quot;&gt;&lt;/a&gt;\r\n    &lt;div style=&quot;margin-left:0.3cm; margin-right:0.3cm&quot;&gt;\r\n\r\n    &lt;span style=&quot;font-family:arial; font-size:150%; position:relative; bottom:-3px&quot;&gt;&amp;infin;&lt;/span&gt;\r\n\r\n     &lt;h2 style=&quot;text-align:center; color:#0000f0&quot;&gt;&lt; b&gt;Test document&lt; /b&gt;&lt; /h2&gt;\r\n\r\n     &lt;/div&gt;\r\n     &lt;/body&gt;\r\n     &lt;/html&gt;\r\n\r\n-------------------------------------------------\r\n\r\nThis is the servlet code, exactly:\r\n\r\nIt has the explicit default constructor with no arguments, and it is public.\r\n\r\n\r\nThis is the compilation command in the DOS/command window:  It puts the class file in the location as shown in the image.\r\n\r\njavac MathServlet.java  -cp /apache-tomcat-9.0.58/lib/servlet-api.jar -d /apache-tomcat-9.0.58/webapps/WEB-INF/classes\r\n\r\nSo the class folder/file path/name is  /apache.../webapps/WEB-INF/classes/math2/MathServlet.class\r\n\r\n\r\n    package math2;\r\n\r\n    import javax.servlet.http.*;\r\n\r\n    public class MathServlet\r\n    {\r\n        public  MathServlet()\r\n        { }\r\n\r\n        public  String  dummyFunc()&gt;\r\n        {\r\n            return &quot;xxxxx&quot;;\r\n        }\r\n    }\r\n\r\n\r\n---------------------------------------------\r\n\r\nThese are the relevant environment variables:\r\n** Is my Java version a problem?  See JAVA_HOME and JAVA_JRE\r\n\r\n\r\n    CATALINA_HOME=D:\\apache-tomcat-9.0.58\r\n\r\n    CLASSPATH=d:/apache-tomcat-9.0.58/webapps/WEB-INF/classes;d:/apache-tomcat-9.0.58/lib/jsp-api.jar\r\n\r\n* NOTE: The CLASSPATH did not originally include &#39;jsp-api.jar&#39;. I read somewhere that it may be needed. It does not help.\r\n        So the original CLASSPATH was\r\n\r\n        CLASSPATH=d:/apache-tomcat-9.0.58/webapps/WEB-INF/classes\r\n\r\n    CommonProgramFiles=C:\\Program Files\\Common Files\r\n    CommonProgramFiles(x86)=C:\\Program Files (x86)\\Common Files\r\n    CommonProgramW6432=C:\\Program Files\\Common Files\r\n\r\n    JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_321\r\n    JAVA_JRE=C:\\Program Files\\Java\\jre1.8.0_321\r\n\r\n    Path=d:\\;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\dotnet\\;C:\\Program Files\\Java\\jdk1.8.0_321\\bin\r\n\r\n    ProgramData=C:\\ProgramData\r\n    ProgramFiles=C:\\Program Files\r\n    ProgramFiles(x86)=C:\\Program Files (x86)\r\n    ProgramW6432=C:\\Program Files\r\n\r\n---------------------------------------------\r\n\r\nAfter entering the URL in the browser (Chrome, latest version),\r\n\r\nURL = http://localhost:8080/mathJSP/testMath.jsp ...  I get the page below:\r\n\r\n\r\n    HTTP Status 500 – Internal Server Error\r\n    Type Exception Report\r\n\r\n    Message /testMath.jsp (line: [6], column: [0]) The value for the useBean class attribute [math2.MathServlet] is invalid.\r\n\r\n    Description The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\n    Exception\r\n\r\n    org.apache.jasper.JasperException: /testMath.jsp (line: [6], column: [0]) The value for the useBean class attribute [math2.MathServlet] is invalid.\r\n    org.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:41)\r\n    [shortened]\r\n\r\nNote The full stack trace of the root cause is available in the server logs.\r\n\r\n----------------\r\n\r\nThen after doing page-reload, i.e. CTRL-R, I get this:\r\n\r\n\r\nHTTP Status 500 – Internal Server Error\r\nType Exception Report\r\n\r\nMessage \r\n    org.apache.jasper.JasperException: java.lang.ClassNotFoundException: \r\n    org.apache.jsp.testMath_jsp\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\n    org.apache.jasper.JasperException: org.apache.jasper.JasperException: \r\n    java.lang.ClassNotFoundException: org.apache.jsp.testMath_jsp\r\n \r\n \r\n    [shortened]\r\n\r\nNote The full stack trace of the root cause is available in the server logs.\r\n\r\n----------------\r\n\r\nUpdated servlet:\r\n\r\n    package math2;\r\n\r\n    // import java.io.Serializable;\r\n    import javax.servlet.http.*;\r\n\r\n    public class MathServlet ///  implements Serializable\r\n    {\r\n        public  MathServlet()\r\n        { }\r\n\r\n\r\n        private int id;\r\n        private String name;\r\n\r\n\r\n        public int getId() {\r\n            return id;\r\n        }\r\n        public void setId( int id ) {\r\n            this.id = id;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName( String name ) {\r\n            this.name = name;\r\n        }\r\n    }\r\n","title":"JSP Servlet errors: Value for useBean class attribute is invalid, and ClassNotFoundException: org.apache.jsp.testMath_jsp","body":"<p>I am trying to use JSP pages on my desktop computer (Windows 10 64-bit) with the Apache Tomcat server. I write Java code all the time for applications on my PC only (hobby stuff), no issues.</p>\n<p>I once had this JSP stuff working back in 2004 but it was so many computers ago that I no longer have the setups that worked.  I researched this bug for 3 days and found identical questions dating back to 2004, yet I've done all the things mentioned but I still can't find the problem. Is it so obvious that I don't see it?</p>\n<p>Here is everything I can think of to show:</p>\n<hr />\n<p>This is the exact JSP page...  file name is exact, with exact case:  &quot;testMath.jsp&quot;, in folder\nd:\\apache-tomcat-9.0.58\\webapps\\mathJSP</p>\n<pre><code>&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n&lt;html&gt;\n&lt;head&gt;\n\n&lt;%@page import=&quot;math2.MathServlet&quot; %&gt;\n&lt;jsp:useBean id=&quot;s2&quot; class=&quot;math2.MathServlet&quot; scope=&quot;session&quot; /&gt;\n&lt;jsp:setProperty name=&quot;s2&quot; property=&quot;*&quot; /&gt;\n\n&lt;title&gt;Test document&lt;/title&gt;\n&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;a name=&quot;top&quot;&gt;&lt;/a&gt;\n&lt;div style=&quot;margin-left:0.3cm; margin-right:0.3cm&quot;&gt;\n\n&lt;span style=&quot;font-family:arial; font-size:150%; position:relative; bottom:-3px&quot;&gt;&amp;infin;&lt;/span&gt;\n\n &lt;h2 style=&quot;text-align:center; color:#0000f0&quot;&gt;&lt; b&gt;Test document&lt; /b&gt;&lt; /h2&gt;\n\n &lt;/div&gt;\n &lt;/body&gt;\n &lt;/html&gt;\n</code></pre>\n<hr />\n<p>This is the servlet code, exactly:</p>\n<p>It has the explicit default constructor with no arguments, and it is public.</p>\n<p>This is the compilation command in the DOS/command window:  It puts the class file in the location as shown in the image.</p>\n<p>javac MathServlet.java  -cp /apache-tomcat-9.0.58/lib/servlet-api.jar -d /apache-tomcat-9.0.58/webapps/WEB-INF/classes</p>\n<p>So the class folder/file path/name is  /apache.../webapps/WEB-INF/classes/math2/MathServlet.class</p>\n<pre><code>package math2;\n\nimport javax.servlet.http.*;\n\npublic class MathServlet\n{\n    public  MathServlet()\n    { }\n\n    public  String  dummyFunc()&gt;\n    {\n        return &quot;xxxxx&quot;;\n    }\n}\n</code></pre>\n<hr />\n<p>These are the relevant environment variables:\n** Is my Java version a problem?  See JAVA_HOME and JAVA_JRE</p>\n<pre><code>CATALINA_HOME=D:\\apache-tomcat-9.0.58\n\nCLASSPATH=d:/apache-tomcat-9.0.58/webapps/WEB-INF/classes;d:/apache-tomcat-9.0.58/lib/jsp-api.jar\n</code></pre>\n<ul>\n<li><p>NOTE: The CLASSPATH did not originally include 'jsp-api.jar'. I read somewhere that it may be needed. It does not help.\nSo the original CLASSPATH was</p>\n<pre><code>  CLASSPATH=d:/apache-tomcat-9.0.58/webapps/WEB-INF/classes\n</code></pre>\n<p>CommonProgramFiles=C:\\Program Files\\Common Files\nCommonProgramFiles(x86)=C:\\Program Files (x86)\\Common Files\nCommonProgramW6432=C:\\Program Files\\Common Files</p>\n<p>JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_321\nJAVA_JRE=C:\\Program Files\\Java\\jre1.8.0_321</p>\n<p>Path=d:;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\dotnet;C:\\Program Files\\Java\\jdk1.8.0_321\\bin</p>\n<p>ProgramData=C:\\ProgramData\nProgramFiles=C:\\Program Files\nProgramFiles(x86)=C:\\Program Files (x86)\nProgramW6432=C:\\Program Files</p>\n</li>\n</ul>\n<hr />\n<p>After entering the URL in the browser (Chrome, latest version),</p>\n<p>URL = http://localhost:8080/mathJSP/testMath.jsp ...  I get the page below:</p>\n<pre><code>HTTP Status 500 – Internal Server Error\nType Exception Report\n\nMessage /testMath.jsp (line: [6], column: [0]) The value for the useBean class attribute [math2.MathServlet] is invalid.\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\norg.apache.jasper.JasperException: /testMath.jsp (line: [6], column: [0]) The value for the useBean class attribute [math2.MathServlet] is invalid.\norg.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:41)\n[shortened]\n</code></pre>\n<p>Note The full stack trace of the root cause is available in the server logs.</p>\n<hr />\n<p>Then after doing page-reload, i.e. CTRL-R, I get this:</p>\n<p>HTTP Status 500 – Internal Server Error\nType Exception Report</p>\n<p>Message\norg.apache.jasper.JasperException: java.lang.ClassNotFoundException:\norg.apache.jsp.testMath_jsp</p>\n<p>Description The server encountered an unexpected condition that prevented it from fulfilling the request.</p>\n<p>Exception</p>\n<pre><code>org.apache.jasper.JasperException: org.apache.jasper.JasperException: \njava.lang.ClassNotFoundException: org.apache.jsp.testMath_jsp\n\n\n[shortened]\n</code></pre>\n<p>Note The full stack trace of the root cause is available in the server logs.</p>\n<hr />\n<p>Updated servlet:</p>\n<pre><code>package math2;\n\n// import java.io.Serializable;\nimport javax.servlet.http.*;\n\npublic class MathServlet ///  implements Serializable\n{\n    public  MathServlet()\n    { }\n\n\n    private int id;\n    private String name;\n\n\n    public int getId() {\n        return id;\n    }\n    public void setId( int id ) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName( String name ) {\n        this.name = name;\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-partition"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646851988,"creation_date":1646851988,"answer_id":71414626,"question_id":71414496,"body_markdown":"That is the behavior of the default partitioner; see its javadocs:\r\n\r\n```\r\n/**\r\n * The default partitioning strategy:\r\n * &lt;ul&gt;\r\n * &lt;li&gt;If a partition is specified in the record, use it\r\n * &lt;li&gt;If no partition is specified but a key is present choose a partition based on a hash of the key\r\n * &lt;li&gt;If no partition or key is present choose the sticky partition that changes when the batch is full.\r\n * \r\n * See KIP-480 for details about sticky partitioning.\r\n */\r\npublic class DefaultPartitioner implements Partitioner {\r\n```\r\n\r\nChanging the number of partitions in the topic will change the destination partition so you might want to consider a custom partitioner.","title":"Use kafka partitioner as a lock","body":"<p>That is the behavior of the default partitioner; see its javadocs:</p>\n<pre><code>/**\n * The default partitioning strategy:\n * &lt;ul&gt;\n * &lt;li&gt;If a partition is specified in the record, use it\n * &lt;li&gt;If no partition is specified but a key is present choose a partition based on a hash of the key\n * &lt;li&gt;If no partition or key is present choose the sticky partition that changes when the batch is full.\n * \n * See KIP-480 for details about sticky partitioning.\n */\npublic class DefaultPartitioner implements Partitioner {\n</code></pre>\n<p>Changing the number of partitions in the topic will change the destination partition so you might want to consider a custom partitioner.</p>\n"}],"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71414626,"answer_count":1,"score":0,"last_activity_date":1646853589,"creation_date":1646851419,"question_id":71414496,"body_markdown":"I have a spring boot application that sends messages into a Kafka topic, something like:\r\n\r\n    public class Message {\r\n        \r\n        @JsonProperty(&quot;customer_id&quot;)\r\n        @SerializedName(&quot;customer_id&quot;)\r\n        private String customerId;\r\n        ...\r\n    }\r\n\r\nFor the sake of some business logic, I do not want to process 2 messages of the same customer in parallel. I want to use the Kafka partition order as some kind of lock.\r\nAs far as I could understand, I can use the customerId as a key to my message and use a custom partitioner (implements Kafka partitioner) to direct the message with the same key to the same partition. \r\nAnd though I assume I am not the first one in history to seek this kind of functionality I&#39;ve found it hard to find some kind of library/documentation for implementing such a thing.\r\nCan anyone guide me to an existing solution to my needs?\r\n","title":"Use kafka partitioner as a lock","body":"<p>I have a spring boot application that sends messages into a Kafka topic, something like:</p>\n<pre><code>public class Message {\n    \n    @JsonProperty(&quot;customer_id&quot;)\n    @SerializedName(&quot;customer_id&quot;)\n    private String customerId;\n    ...\n}\n</code></pre>\n<p>For the sake of some business logic, I do not want to process 2 messages of the same customer in parallel. I want to use the Kafka partition order as some kind of lock.\nAs far as I could understand, I can use the customerId as a key to my message and use a custom partitioner (implements Kafka partitioner) to direct the message with the same key to the same partition.\nAnd though I assume I am not the first one in history to seek this kind of functionality I've found it hard to find some kind of library/documentation for implementing such a thing.\nCan anyone guide me to an existing solution to my needs?</p>\n"},{"tags":["java","regex","pattern-matching"],"comments":[{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":3,"creation_date":1415632077,"post_id":26846700,"comment_id":42256398,"body_markdown":"Just use `String#split` to split the input by space `&quot;\\\\s+&quot;` and process the resulting array `String[]`","body":"Just use <code>String#split</code> to split the input by space <code>&quot;\\\\s+&quot;</code> and process the resulting array <code>String[]</code>"}],"answers":[{"tags":[],"owner":{"account_id":2978007,"reputation":2250,"user_id":2528649,"accept_rate":69,"display_name":"neleus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1415636409,"creation_date":1415633774,"answer_id":26847286,"question_id":26846700,"body_markdown":"You may use `\\b` anchor. Below is hand-written example, I haven&#39;t test it. It just shows the idea.\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    import java.util.Arrays;\r\n    \r\n    public class List {\r\n        public static void main(String[] args) {\r\n    \r\n            int i = 0;\r\n            char[] Wanted = new char[3];// Instead of array any dynamic collection should be used here. Since I&#39;m not familiar with Java collections enough, Im leaving array here for correct work\r\n            Pattern pat = Pattern.compile(&quot;\\\\b\\\\w+\\\\b&quot;);\r\n            String Motherstring = &quot; F5 F4 E3 &quot;;\r\n            Matcher m = pat.matcher(Motherstring);\r\n            while (pat.find()) {\r\n                Wanted[i]= pat.group();\r\n                i++;\r\n            }\r\n        }\r\n    }","title":"Extracting pattern from string with unknown length","body":"<p>You may use <code>\\b</code> anchor. Below is hand-written example, I haven't test it. It just shows the idea.</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.Arrays;\n\npublic class List {\n    public static void main(String[] args) {\n\n        int i = 0;\n        char[] Wanted = new char[3];// Instead of array any dynamic collection should be used here. Since I'm not familiar with Java collections enough, Im leaving array here for correct work\n        Pattern pat = Pattern.compile(\"\\\\b\\\\w+\\\\b\");\n        String Motherstring = \" F5 F4 E3 \";\n        Matcher m = pat.matcher(Motherstring);\n        while (pat.find()) {\n            Wanted[i]= pat.group();\n            i++;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4451090,"reputation":10972,"user_id":3622940,"accept_rate":100,"display_name":"Unihedron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415634273,"creation_date":1415634273,"answer_id":26847468,"question_id":26846700,"body_markdown":"Don&#39;t use an array. Use a `List`. The size is dynamic and allows you to `add` objects. See this:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;[A-H][1-8]&quot;);\r\n    Matcher matcher = pattern.matcher(&quot; F5 F4 E3 &quot;);\r\n\r\n    // Create a new list (ArrayList) to store Strings.\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    // For every match of the regexp in the test string:\r\n    while (matcher.find())\r\n        // Add the match to the list.\r\n        list.add(matcher.group());\r\n\r\n    System.out.println(list);\r\n\r\nHere is an [online code demo](http://ideone.com/aOFEj1). The STDOUT prints:\r\n\r\n    [F5, F4, E3]","title":"Extracting pattern from string with unknown length","body":"<p>Don't use an array. Use a <code>List</code>. The size is dynamic and allows you to <code>add</code> objects. See this:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"[A-H][1-8]\");\nMatcher matcher = pattern.matcher(\" F5 F4 E3 \");\n\n// Create a new list (ArrayList) to store Strings.\nArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n\n// For every match of the regexp in the test string:\nwhile (matcher.find())\n    // Add the match to the list.\n    list.add(matcher.group());\n\nSystem.out.println(list);\n</code></pre>\n\n<p>Here is an <a href=\"http://ideone.com/aOFEj1\" rel=\"nofollow\">online code demo</a>. The STDOUT prints:</p>\n\n<pre><code>[F5, F4, E3]\n</code></pre>\n"}],"owner":{"account_id":5200399,"reputation":17,"user_id":4159988,"accept_rate":100,"display_name":"PaulK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":886,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":26847286,"answer_count":2,"score":-1,"last_activity_date":1646853459,"creation_date":1415631951,"question_id":26846700,"body_markdown":"I&#39;m still in a very embryonic stage in Java and I am trying to figure out how to extract all specific values.\r\n\r\nThat are in this form (pattern) `[A-H][1-8]` out of a String which length is unknown.  \r\nSo for example if my string is `&quot; F5 F4 E3 &quot;` I want to assign `F5` to a variable, `F4` to a variable, `E3` to another variable.\r\n\r\nOr if my string would be `&quot; A2 &quot;` I would like to assign `A2` to a variable.  \r\nI kind of have a feeling that I should use an `Array` to store the values.  \r\nPlease note that between the wanted pattern there are blank spaces `&quot;blankE2blank&quot;`.\r\n\r\nThis is my code so far:\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    import java.util.Arrays;\r\n    \r\n    public class List {\r\n        public static void main(String[] args) {\r\n            \r\n            int i = 0;\r\n            char[] Wanted = new char[]{?}; // What should I use here?\r\n            Pattern pat = Pattern.compile(&quot;\\\\s*d+\\\\s*D+\\\\s*d+&quot;);\r\n            String Motherstring = &quot; F5 F4 E3 &quot;; // this is just an example but the extraction should work for every string\r\n            Matcher m = pat.matcher(Motherstring);\r\n            while (pat.find()) {\r\n                Wanted[i] = pat; // ?\r\n                i++;\r\n            }\r\n        }\r\n    }\r\n\r\n  ","title":"Extracting pattern from string with unknown length","body":"<p>I'm still in a very embryonic stage in Java and I am trying to figure out how to extract all specific values.</p>\n\n<p>That are in this form (pattern) <code>[A-H][1-8]</code> out of a String which length is unknown.<br>\nSo for example if my string is <code>\" F5 F4 E3 \"</code> I want to assign <code>F5</code> to a variable, <code>F4</code> to a variable, <code>E3</code> to another variable.</p>\n\n<p>Or if my string would be <code>\" A2 \"</code> I would like to assign <code>A2</code> to a variable.<br>\nI kind of have a feeling that I should use an <code>Array</code> to store the values.<br>\nPlease note that between the wanted pattern there are blank spaces <code>\"blankE2blank\"</code>.</p>\n\n<p>This is my code so far:</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.Arrays;\n\npublic class List {\n    public static void main(String[] args) {\n\n        int i = 0;\n        char[] Wanted = new char[]{?}; // What should I use here?\n        Pattern pat = Pattern.compile(\"\\\\s*d+\\\\s*D+\\\\s*d+\");\n        String Motherstring = \" F5 F4 E3 \"; // this is just an example but the extraction should work for every string\n        Matcher m = pat.matcher(Motherstring);\n        while (pat.find()) {\n            Wanted[i] = pat; // ?\n            i++;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","css","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643645495,"creation_date":1643471111,"answer_id":70907079,"question_id":70902451,"body_markdown":"You have to enable js support and wait after retrieving the page until all the javascript is done. The js code will generate div&#39;s from you code above (use page.asXML() to get an idea of the page fro the viewpoint of HtmlUnit.\r\n\r\nIf the div&#39;s are there you can click() on them - like on any other html element. This click should trigger the same js code like in real browsers.\r\n\r\nTo find the div elements please have a look at https://htmlunit.sourceforge.io/gettingStarted.html; there are many different options listed.","title":"Picking a JavaScript button in HtmlUnit","body":"<p>You have to enable js support and wait after retrieving the page until all the javascript is done. The js code will generate div's from you code above (use page.asXML() to get an idea of the page fro the viewpoint of HtmlUnit.</p>\n<p>If the div's are there you can click() on them - like on any other html element. This click should trigger the same js code like in real browsers.</p>\n<p>To find the div elements please have a look at <a href=\"https://htmlunit.sourceforge.io/gettingStarted.html;\" rel=\"nofollow noreferrer\">https://htmlunit.sourceforge.io/gettingStarted.html;</a> there are many different options listed.</p>\n"},{"tags":[],"owner":{"account_id":24430599,"reputation":91,"user_id":18356893,"display_name":"Ernesto L&#243;pez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646853389,"creation_date":1646853389,"answer_id":71414892,"question_id":70902451,"body_markdown":"Like @RBRi said, use the click method on the element. To choose the element (DIV in this case) you can use the getbyxpath method:\r\n\r\nStarting from the page you can access using the XPATH of the element. The XPATH can be easily obtained using the browser inspect tool and copying the full XPATH of the div (right click over the div and use the copy option). For the purpose of your URL, &quot;CHINA&quot; element has the XPATH: */html/body/div[6]/div/div[2]/div/div[2]/div[7]/div/div[1]/ul/li[1]/div/* &quot;GERMANY&quot;: */html/body/div[6]/div/div[2]/div/div[2]/div[7]/div/div[1]/ul/li[2]/div/span*\r\n```\r\npage1 = webClient.getPage(&quot;https://www.aliexpress.com/item/32956185908.html&quot;);\r\n// get china div using xpath\r\nelement = ((HtmlElement)page1.getByXPath(&quot;/html/body/div[6]/div/div[2]/div/div[2]/div[7]/div/div[1]/ul/li[1]/div/&quot;).get(0));\r\n// Click over china\r\nelement.click();\r\nwebClient.waitForBackgroundJavaScript(10000);\r\n```\r\nIf you want to iterate over the list of countries you can use the same approach, but this time copy the XPATH of the div that contains all the countries, get that element, and from this element then iterate by getting the divs. In this case, you can use the attribute &quot;class&quot; to get those elements:\r\n\r\n```\r\npage1 = webClient.getPage(&quot;https://www.aliexpress.com/item/32956185908.html&quot;);\r\nelement = ((HtmlElement)page1.getByXPath(&quot;/html/body/div[6]/div/div[2]/div/div[2]/div[7]/div/div[1]/ul&quot;).get(0); // Get the div that contains all countries\r\nList&lt;HtmlElement&gt; elements = element.getElementsByAttribute(&quot;div&quot;, &quot;class&quot;, &quot;sku-property-text&quot;);\r\n```\r\nThen you can iterate over the list of elements and click the one you prefer.\r\n\r\n```\r\n:\r\n  choosenElement.click();\r\n:\r\n```","title":"Picking a JavaScript button in HtmlUnit","body":"<p>Like @RBRi said, use the click method on the element. To choose the element (DIV in this case) you can use the getbyxpath method:</p>\n<p>Starting from the page you can access using the XPATH of the element. The XPATH can be easily obtained using the browser inspect tool and copying the full XPATH of the div (right click over the div and use the copy option). For the purpose of your URL, &quot;CHINA&quot; element has the XPATH: <em>/html/body/div[6]/div/div[2]/div/div[2]/div[7]/div/div[1]/ul/li[1]/div/</em> &quot;GERMANY&quot;: <em>/html/body/div[6]/div/div[2]/div/div[2]/div[7]/div/div[1]/ul/li[2]/div/span</em></p>\n<pre><code>page1 = webClient.getPage(&quot;https://www.aliexpress.com/item/32956185908.html&quot;);\n// get china div using xpath\nelement = ((HtmlElement)page1.getByXPath(&quot;/html/body/div[6]/div/div[2]/div/div[2]/div[7]/div/div[1]/ul/li[1]/div/&quot;).get(0));\n// Click over china\nelement.click();\nwebClient.waitForBackgroundJavaScript(10000);\n</code></pre>\n<p>If you want to iterate over the list of countries you can use the same approach, but this time copy the XPATH of the div that contains all the countries, get that element, and from this element then iterate by getting the divs. In this case, you can use the attribute &quot;class&quot; to get those elements:</p>\n<pre><code>page1 = webClient.getPage(&quot;https://www.aliexpress.com/item/32956185908.html&quot;);\nelement = ((HtmlElement)page1.getByXPath(&quot;/html/body/div[6]/div/div[2]/div/div[2]/div[7]/div/div[1]/ul&quot;).get(0); // Get the div that contains all countries\nList&lt;HtmlElement&gt; elements = element.getElementsByAttribute(&quot;div&quot;, &quot;class&quot;, &quot;sku-property-text&quot;);\n</code></pre>\n<p>Then you can iterate over the list of elements and click the one you prefer.</p>\n<pre><code>:\n  choosenElement.click();\n:\n</code></pre>\n"}],"owner":{"account_id":281594,"reputation":131,"user_id":577994,"accept_rate":75,"display_name":"BoomRamada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646853389,"creation_date":1643432731,"question_id":70902451,"body_markdown":"In AliX, this page for example https://www.aliexpress.com/item/32956185908.html\r\nhow do you pick the particular country and colour? \r\n\r\nFor example, following js configure as country:\r\n```\r\n&quot;skuPropertyValues&quot;:[\r\n{&quot;propertyValueDisplayName&quot;:&quot;China&quot;,&quot;propertyValueId&quot;:201336100,&quot;propertyValueIdLong&quot;:201336100,&quot;propertyValueName&quot;:&quot;China&quot;,&quot;skuPropertySendGoodsCountryCode&quot;:&quot;CN&quot;,&quot;skuPropertyTips&quot;:&quot;China&quot;,&quot;skuPropertyValueShowOrder&quot;:2,&quot;skuPropertyValueTips&quot;:&quot;China&quot;},\r\n{&quot;propertyValueDisplayName&quot;:&quot;GERMANY&quot;,&quot;propertyValueId&quot;:201336101,&quot;propertyValueIdLong&quot;:201336101,&quot;propertyValueName&quot;:&quot;GERMANY&quot;,&quot;skuPropertySendGoodsCountryCode&quot;:&quot;DE&quot;,&quot;skuPropertyTips&quot;:&quot;GERMANY&quot;,&quot;skuPropertyValueShowOrder&quot;:2,&quot;skuPropertyValueTips&quot;:&quot;GERMANY&quot;},\r\n{&quot;propertyValueDisplayName&quot;:&quot;SPAIN&quot;,&quot;propertyValueId&quot;:201336104,&quot;propertyValueIdLong&quot;:201336104,&quot;propertyValueName&quot;:&quot;SPAIN&quot;,&quot;skuPropertySendGoodsCountryCode&quot;:&quot;ES&quot;,&quot;skuPropertyTips&quot;:&quot;SPAIN&quot;,&quot;skuPropertyValueShowOrder&quot;:2,&quot;skuPropertyValueTips&quot;:&quot;SPAIN&quot;},\r\n{&quot;propertyValueDisplayName&quot;:&quot;Russian Federation&quot;,&quot;propertyValueId&quot;:201336103,&quot;propertyValueIdLong&quot;:201336103,&quot;propertyValueName&quot;:&quot;Russian Federation&quot;,&quot;skuPropertySendGoodsCountryCode&quot;:&quot;RU&quot;,&quot;skuPropertyTips&quot;:&quot;Russian Federation&quot;,&quot;skuPropertyValueShowOrder&quot;:2,&quot;skuPropertyValueTips&quot;:&quot;Russian Federation&quot;}]},\r\n\r\n```\r\nI&#39;m not sure how to pick one through JavaScript or am I looing at the wrong thing, would it CS and picking up a div tag?\r\n\r\n\r\n","title":"Picking a JavaScript button in HtmlUnit","body":"<p>In AliX, this page for example <a href=\"https://www.aliexpress.com/item/32956185908.html\" rel=\"nofollow noreferrer\">https://www.aliexpress.com/item/32956185908.html</a>\nhow do you pick the particular country and colour?</p>\n<p>For example, following js configure as country:</p>\n<pre><code>&quot;skuPropertyValues&quot;:[\n{&quot;propertyValueDisplayName&quot;:&quot;China&quot;,&quot;propertyValueId&quot;:201336100,&quot;propertyValueIdLong&quot;:201336100,&quot;propertyValueName&quot;:&quot;China&quot;,&quot;skuPropertySendGoodsCountryCode&quot;:&quot;CN&quot;,&quot;skuPropertyTips&quot;:&quot;China&quot;,&quot;skuPropertyValueShowOrder&quot;:2,&quot;skuPropertyValueTips&quot;:&quot;China&quot;},\n{&quot;propertyValueDisplayName&quot;:&quot;GERMANY&quot;,&quot;propertyValueId&quot;:201336101,&quot;propertyValueIdLong&quot;:201336101,&quot;propertyValueName&quot;:&quot;GERMANY&quot;,&quot;skuPropertySendGoodsCountryCode&quot;:&quot;DE&quot;,&quot;skuPropertyTips&quot;:&quot;GERMANY&quot;,&quot;skuPropertyValueShowOrder&quot;:2,&quot;skuPropertyValueTips&quot;:&quot;GERMANY&quot;},\n{&quot;propertyValueDisplayName&quot;:&quot;SPAIN&quot;,&quot;propertyValueId&quot;:201336104,&quot;propertyValueIdLong&quot;:201336104,&quot;propertyValueName&quot;:&quot;SPAIN&quot;,&quot;skuPropertySendGoodsCountryCode&quot;:&quot;ES&quot;,&quot;skuPropertyTips&quot;:&quot;SPAIN&quot;,&quot;skuPropertyValueShowOrder&quot;:2,&quot;skuPropertyValueTips&quot;:&quot;SPAIN&quot;},\n{&quot;propertyValueDisplayName&quot;:&quot;Russian Federation&quot;,&quot;propertyValueId&quot;:201336103,&quot;propertyValueIdLong&quot;:201336103,&quot;propertyValueName&quot;:&quot;Russian Federation&quot;,&quot;skuPropertySendGoodsCountryCode&quot;:&quot;RU&quot;,&quot;skuPropertyTips&quot;:&quot;Russian Federation&quot;,&quot;skuPropertyValueShowOrder&quot;:2,&quot;skuPropertyValueTips&quot;:&quot;Russian Federation&quot;}]},\n\n</code></pre>\n<p>I'm not sure how to pick one through JavaScript or am I looing at the wrong thing, would it CS and picking up a div tag?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1646838512,"post_id":71411470,"comment_id":126223432,"body_markdown":"`else continue;` not needed and you can simply do `return line.matches(&quot;link=&quot;+name) &amp;&amp; correctLink(name);`","body":"<code>else continue;</code> not needed and you can simply do <code>return line.matches(&quot;link=&quot;+name) &amp;&amp; correctLink(name);</code>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1646838535,"post_id":71411470,"comment_id":126223441,"body_markdown":"I suggest you start with properly formatting your code: apply the correct indentation, so the structure of the code is easy to see.","body":"I suggest you start with properly formatting your code: apply the correct indentation, so the structure of the code is easy to see."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1646838813,"post_id":71411470,"comment_id":126223546,"body_markdown":"Decompose your problem properly.  I&#39;d separate loading the document from the search for the list of links.  I&#39;d write two methods: one that takes in a file and returns a List&lt;String&gt; of lines, and another that takes in the List&lt;String&gt; of document lines and returns a List&lt;String&gt; of links.","body":"Decompose your problem properly.  I&#39;d separate loading the document from the search for the list of links.  I&#39;d write two methods: one that takes in a file and returns a List&lt;String&gt; of lines, and another that takes in the List&lt;String&gt; of document lines and returns a List&lt;String&gt; of links."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646844772,"creation_date":1646844772,"answer_id":71413088,"question_id":71411470,"body_markdown":"First I would suggest that you get used to compare to literal strings &quot;the other way round&quot; - this will save you from a lot `NullPointerException`s (but this is just a side comment):\r\n``` lang-java\r\nif (&quot;eod&quot;.equals(line))\r\n```\r\n\r\nYou can use @Ofer s example (it is generated from https://regex101.com, a nice page to play around with regular expressions and get them explained btw.) but you should use a different regex:\r\n``` lang-java\r\nfinal String regex = &quot;link=([a-z][a-z0-9_]*)&quot;;\r\n```\r\nand a different option for the pattern:\r\n``` lang-java\r\nfinal Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\r\n```\r\n\r\nI used the CASE_INSENSITIVE option to make the &quot;link&quot; also trigger for mixed case writings (like &quot;Link&quot;, &quot;liNk&quot; and so on). Therefore I also could skip the uppercase letters from the actual regex, as [a-z] will also match uppercase letters with that option, and that&#39;s what was requested.\r\n\r\nThe &quot;magic&quot; here is that you put the expression that you later want to &quot;read&quot; from the pattern matcher into parenthesis &quot;()&quot; - this marks a &quot;group&quot;. Group 0 always gives back the full match (including the &quot;link=&quot; here).\r\n\r\nYou can play around with that expression at https://regex101.com/r/id2CP2/1\r\n\r\nPlease don&#39;t forget to convert the identifiers (you get them from `matcher.group(i)`) to lowercase before you output them.","title":"Write a procedure loadDocument(String name) which will load and analyze lines after lines searching for link in every line","body":"<p>First I would suggest that you get used to compare to literal strings &quot;the other way round&quot; - this will save you from a lot <code>NullPointerException</code>s (but this is just a side comment):</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (&quot;eod&quot;.equals(line))\n</code></pre>\n<p>You can use @Ofer s example (it is generated from <a href=\"https://regex101.com\" rel=\"nofollow noreferrer\">https://regex101.com</a>, a nice page to play around with regular expressions and get them explained btw.) but you should use a different regex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String regex = &quot;link=([a-z][a-z0-9_]*)&quot;;\n</code></pre>\n<p>and a different option for the pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\n</code></pre>\n<p>I used the CASE_INSENSITIVE option to make the &quot;link&quot; also trigger for mixed case writings (like &quot;Link&quot;, &quot;liNk&quot; and so on). Therefore I also could skip the uppercase letters from the actual regex, as [a-z] will also match uppercase letters with that option, and that's what was requested.</p>\n<p>The &quot;magic&quot; here is that you put the expression that you later want to &quot;read&quot; from the pattern matcher into parenthesis &quot;()&quot; - this marks a &quot;group&quot;. Group 0 always gives back the full match (including the &quot;link=&quot; here).</p>\n<p>You can play around with that expression at <a href=\"https://regex101.com/r/id2CP2/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/id2CP2/1</a></p>\n<p>Please don't forget to convert the identifiers (you get them from <code>matcher.group(i)</code>) to lowercase before you output them.</p>\n"}],"owner":{"account_id":24046898,"reputation":19,"user_id":18025822,"display_name":"nme"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1646853253,"creation_date":1646838230,"question_id":71411470,"body_markdown":"&gt; Write a procedure `loadDocument(String name)` which will load and analyze lines after lines searching for link in every line. The link format is as follows: 5 characters `link=` (it can be mixed capital and small letters) after which there is a correct identifier. The correct identifier starts from letter (small or capital) follows by zero or more occurrences of letters or digits or underline `_`. The procedure has to print subsequent identifiers, each one in a separated line. Before printing, the identifiers have to be changed to small letters. The document ends with line with the text `eod`, which means end of document.\r\n\r\nMy code:\r\n\r\n    public static void loadDocument(String name, Scanner scan) {\r\n    \twhile(scan.hasNext()) {\r\n    \t\tString line = scan.nextLine();\r\n    \t\tif(line.equals(&quot;eod&quot;)) {\r\n    \t\t\treturn;\r\n    \t    }\r\n    \t\telse if(line.matches(&quot;link=&quot;+name) &amp;&amp; correctLink(name)) {\r\n    \t\t\tString identifier = name.toLowerCase();\r\n    \t\t    System.out.println(identifier);\r\n    \t\t}\r\n    \t\telse\r\n    \t        continue;\r\n    \t}\t         \r\n    }\r\n\r\n\t// accepted only small letters, capital letter, digits and &#39;_&#39; (but not on the begin)\r\n\tpublic static boolean correctLink(String link) {\r\n    \tif(link.matches(&quot;^[a-zA-Z]+[0]+||[0-9]+||_&quot;))\r\n    \t\treturn true;\r\n    \telse\r\n    \t\treturn false;\r\n    }\r\n\r\nHow to write if line equal to `link=`, return whatever&#39;s after `link=`?\r\nMy problem is in this code:\r\n\r\n    else if(line.matches(&quot;link=&quot;+name) &amp;&amp; correctLink(name)) {\r\n\t\tString identifier = name.toLowerCase();\r\n    \tSystem.out.println(identifier);\r\n    }\r\n\r\nFor example, if the input is `link=abc`, I want it to print `abc`.","title":"Write a procedure loadDocument(String name) which will load and analyze lines after lines searching for link in every line","body":"<blockquote>\n<p>Write a procedure <code>loadDocument(String name)</code> which will load and analyze lines after lines searching for link in every line. The link format is as follows: 5 characters <code>link=</code> (it can be mixed capital and small letters) after which there is a correct identifier. The correct identifier starts from letter (small or capital) follows by zero or more occurrences of letters or digits or underline <code>_</code>. The procedure has to print subsequent identifiers, each one in a separated line. Before printing, the identifiers have to be changed to small letters. The document ends with line with the text <code>eod</code>, which means end of document.</p>\n</blockquote>\n<p>My code:</p>\n<pre><code>public static void loadDocument(String name, Scanner scan) {\n    while(scan.hasNext()) {\n        String line = scan.nextLine();\n        if(line.equals(&quot;eod&quot;)) {\n            return;\n        }\n        else if(line.matches(&quot;link=&quot;+name) &amp;&amp; correctLink(name)) {\n            String identifier = name.toLowerCase();\n            System.out.println(identifier);\n        }\n        else\n            continue;\n    }            \n}\n\n// accepted only small letters, capital letter, digits and '_' (but not on the begin)\npublic static boolean correctLink(String link) {\n    if(link.matches(&quot;^[a-zA-Z]+[0]+||[0-9]+||_&quot;))\n        return true;\n    else\n        return false;\n}\n</code></pre>\n<p>How to write if line equal to <code>link=</code>, return whatever's after <code>link=</code>?\nMy problem is in this code:</p>\n<pre><code>else if(line.matches(&quot;link=&quot;+name) &amp;&amp; correctLink(name)) {\n    String identifier = name.toLowerCase();\n    System.out.println(identifier);\n}\n</code></pre>\n<p>For example, if the input is <code>link=abc</code>, I want it to print <code>abc</code>.</p>\n"},{"tags":["javascript","java","spring","rest","xmlhttprequest"],"comments":[{"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"score":1,"creation_date":1474948235,"post_id":39715646,"comment_id":66729154,"body_markdown":"`var params = &#39;eid=&#39; +userEmailId+&#39;&amp;amp;pwd=&#39;+userPwd` - try changing that to `var params = &#39;eid=&#39; +userEmailId+&#39;&amp;pwd=&#39;+userPwd`","body":"<code>var params = &#39;eid=&#39; +userEmailId+&#39;&amp;amp;pwd=&#39;+userPwd</code> - try changing that to <code>var params = &#39;eid=&#39; +userEmailId+&#39;&amp;pwd=&#39;+userPwd</code>"},{"owner":{"account_id":284362,"reputation":3807,"user_id":582421,"accept_rate":21,"display_name":"Gautam"},"score":0,"creation_date":1474948470,"post_id":39715646,"comment_id":66729224,"body_markdown":"I am trying this code in JSPX page so i need to escape XML Character. when parser and  displayed in browser windows it shows like this : http://i.stack.imgur.com/1obo5.jpg\n\nthat &amp;amp; is not and issue after JSP translation it will convert to &amp; only.  what you can see .\n\nI have attached image of Code after parse and display in browser window. I tried so many things with in this but could not figure out what other things i am missing.","body":"I am trying this code in JSPX page so i need to escape XML Character. when parser and  displayed in browser windows it shows like this : <a href=\"http://i.stack.imgur.com/1obo5.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/1obo5.jpg</a>  that &amp;amp; is not and issue after JSP translation it will convert to &amp; only.  what you can see .  I have attached image of Code after parse and display in browser window. I tried so many things with in this but could not figure out what other things i am missing."},{"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"score":0,"creation_date":1474949533,"post_id":39715646,"comment_id":66729501,"body_markdown":"check the request parameters in the browser developer tools network tab for that request, make sure it looks right there","body":"check the request parameters in the browser developer tools network tab for that request, make sure it looks right there"},{"owner":{"account_id":284362,"reputation":3807,"user_id":582421,"accept_rate":21,"display_name":"Gautam"},"score":0,"creation_date":1474950683,"post_id":39715646,"comment_id":66729765,"body_markdown":"Yes request  payload is going correct way i have added images of chrome network tab from developer tools : http://i.stack.imgur.com/bxcur.jpg","body":"Yes request  payload is going correct way i have added images of chrome network tab from developer tools : <a href=\"http://i.stack.imgur.com/bxcur.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/bxcur.jpg</a>"},{"owner":{"account_id":300083,"reputation":25180,"user_id":607033,"accept_rate":94,"display_name":"inf3rno"},"score":0,"creation_date":1475036706,"post_id":39715646,"comment_id":66773783,"body_markdown":"Apparently this is not a REST service, since it violates the stateless constraint.","body":"Apparently this is not a REST service, since it violates the stateless constraint."}],"answers":[{"tags":[],"owner":{"account_id":2029577,"reputation":1180,"user_id":1813682,"accept_rate":50,"display_name":"toto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474949116,"creation_date":1474948739,"answer_id":39715730,"question_id":39715646,"body_markdown":"try it:\r\n\r\n    var params = {\r\n       eid:userEmailId,\r\n       pwd:userPwd\r\n    };\r\n    \r\n    http.send(params);\r\n\r\nor:\r\n\r\n   \r\n\r\n     var formData = new FormData();\r\n        formData.append(&quot;eid&quot;, userEmailId);\r\n        formData.append(&quot;pwd&quot;, userPwd);\r\n        \r\n        http.send(formData);","title":"XMLHttpRequest Returning Bad Request (400) while calling from java script , if i am calling from Java or Postman client it working fine","body":"<p>try it:</p>\n\n<pre><code>var params = {\n   eid:userEmailId,\n   pwd:userPwd\n};\n\nhttp.send(params);\n</code></pre>\n\n<p>or:</p>\n\n<pre><code> var formData = new FormData();\n    formData.append(\"eid\", userEmailId);\n    formData.append(\"pwd\", userPwd);\n\n    http.send(formData);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":284362,"reputation":3807,"user_id":582421,"accept_rate":21,"display_name":"Gautam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474977099,"creation_date":1474977099,"answer_id":39723936,"question_id":39715646,"body_markdown":"After spending a lot of time,still I am not able to figure out what exactly the problem in above implementation.\r\n \r\nBut now I change like this and working fine with below style : \r\n\r\n    var response = $.post(&quot;/search/loginAuthentication&quot;,{&quot;eid&quot;:userEmailId, &quot;pwd&quot; :userPwd},\r\n    \t\tfunction(data,status){\r\n    \t\t\t\tprocessAuthenticationResponse(data);\t\r\n    \t\t},&#39;json&#39;);\r\n    \t}","title":"XMLHttpRequest Returning Bad Request (400) while calling from java script , if i am calling from Java or Postman client it working fine","body":"<p>After spending a lot of time,still I am not able to figure out what exactly the problem in above implementation.</p>\n\n<p>But now I change like this and working fine with below style : </p>\n\n<pre><code>var response = $.post(\"/search/loginAuthentication\",{\"eid\":userEmailId, \"pwd\" :userPwd},\n        function(data,status){\n                processAuthenticationResponse(data);    \n        },'json');\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15270552,"reputation":1,"user_id":11017882,"display_name":"Harshad Karanjule"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646852269,"creation_date":1646852269,"answer_id":71414680,"question_id":39715646,"body_markdown":"I had same problem. But then I sent string of JSON instead of JSON object. Then it worked.\r\n\r\n```\r\nrequest.send(JSON.stringify(json));\r\n```\r\n","title":"XMLHttpRequest Returning Bad Request (400) while calling from java script , if i am calling from Java or Postman client it working fine","body":"<p>I had same problem. But then I sent string of JSON instead of JSON object. Then it worked.</p>\n<pre><code>request.send(JSON.stringify(json));\n</code></pre>\n"}],"owner":{"account_id":284362,"reputation":3807,"user_id":582421,"accept_rate":21,"display_name":"Gautam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1807,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1646852269,"creation_date":1474948083,"question_id":39715646,"body_markdown":"I am trying to call Spring rest method using java script. \r\nI am getting:\r\n\r\n**POST http://www.davco.com/search/loginAuthentication 400 (Bad Request)** \r\n\r\nBelow is my Java scrpt Code to invoke Spring REST service that I have       \r\n   \r\n\r\n       var userEmailId= $(&quot;#emailAddress&quot;).val();\r\n       var userPwd= $(&quot;#userPassword&quot;).val();\r\n    \t\r\n    \tif (empty(userPwd)) {\r\n    \t\talert(&quot;Please enter password&quot;);\r\n    \t\treturn false;\r\n    \t}\r\n    \t \r\n    \tvar http = new createXMLHttpRequest();\r\n    \tvar url = &quot;/search/loginAuthentication&quot;;\r\n    \tvar params = &#39;eid=&#39; +userEmailId+&#39;&amp;amp;pwd=&#39;+userPwd\r\n    \r\n    \thttp.open(&quot;POST&quot;, url, true);\r\n    \t//Send the proper header information along with the request\r\n    \thttp.setRequestHeader(&quot;Content-type&quot;, &quot;application/xml&quot;);\r\n    \thttp.onreadystatechange = function() {//Call a function when the state changes.\r\n    \t\tif(http.readyState == 4 &amp;amp;&amp;amp; http.status == 200) {\r\n    \t\t\talert(http.responseText);\r\n    \t\t}\r\n    \t}\r\n    \thttp.send(params);\r\n[![enter image description here][2]][2]\r\nWhen i am trying to call same method from Google Postman client I am able to hit services and get the response.. \r\n\r\nI am not able to understand what wrong i am doing while  i am calling it form Javascrpt. I have refer this [link][3], this [link as well][4]. \r\n\r\nI tried different **Content-type** header like : \r\n\r\nhttp.setRequestHeader(&quot;Content-type&quot;, &quot;text/html&quot;);\r\nhttp.setRequestHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\r\nhttp.setRequestHeader(&quot;Content-type&quot;, &quot;Accept=application/xml&quot;);\r\n\r\nI am seeing from browser request and request payload for POST call is going like below that is correct : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Below is my Spring Rest Services Code:** \r\n\r\n\r\n    @RequestMapping(method = RequestMethod.POST, value = &quot;/loginAuthentication&quot; ,headers = &quot;Accept=application/xml, application/json, text/html&quot;)\r\n        public @ResponseBody String loginAuthnticationForHTEtb(@RequestParam(&quot;eid&quot;) String userEmailId,@RequestParam(&quot;pwd&quot;) String password\r\n                ,HttpServletRequest request, HttpServletResponse response) {   \r\n    \r\n            StringBuffer result = new StringBuffer();\r\n            try {\r\n                String domainVraiable=Context.getDomainName();\r\n                int inxexOfDot=domainVraiable.indexOf(&quot;.&quot;)+1;\r\n                int lastIndexOf=domainVraiable.lastIndexOf(&quot;.&quot;);\r\n    \t\t\t\r\n    \t\t\t....\r\n\r\nI am just wondering why it working and i am able to call from PostMan Client but not working while i am trying  to call from java script? As you can see in below screenshot.\r\n\r\n[![enter image description here][5]][5]\r\n\r\nThanks in advance for any kind of clue or information to get rid of this. I spend almost a day but could not figured out. \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bxcur.jpg\r\n  [2]: http://i.stack.imgur.com/1obo5.jpg\r\n  [3]: https://stackoverflow.com/questions/10810492/html-form-submit-giving-400-bad-request\r\n  [4]: https://stackoverflow.com/questions/4773725/getting-400-bad-request-when-using-multipart-form-data-as-content-type-in-xhr\r\n  [5]: http://i.stack.imgur.com/hRivC.jpg","title":"XMLHttpRequest Returning Bad Request (400) while calling from java script , if i am calling from Java or Postman client it working fine","body":"<p>I am trying to call Spring rest method using java script. \nI am getting:</p>\n\n<p><strong>POST <a href=\"http://www.davco.com/search/loginAuthentication\" rel=\"nofollow noreferrer\">http://www.davco.com/search/loginAuthentication</a> 400 (Bad Request)</strong> </p>\n\n<p>Below is my Java scrpt Code to invoke Spring REST service that I have       </p>\n\n<pre><code>   var userEmailId= $(\"#emailAddress\").val();\n   var userPwd= $(\"#userPassword\").val();\n\n    if (empty(userPwd)) {\n        alert(\"Please enter password\");\n        return false;\n    }\n\n    var http = new createXMLHttpRequest();\n    var url = \"/search/loginAuthentication\";\n    var params = 'eid=' +userEmailId+'&amp;amp;pwd='+userPwd\n\n    http.open(\"POST\", url, true);\n    //Send the proper header information along with the request\n    http.setRequestHeader(\"Content-type\", \"application/xml\");\n    http.onreadystatechange = function() {//Call a function when the state changes.\n        if(http.readyState == 4 &amp;amp;&amp;amp; http.status == 200) {\n            alert(http.responseText);\n        }\n    }\n    http.send(params);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1obo5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1obo5.jpg\" alt=\"enter image description here\"></a>\nWhen i am trying to call same method from Google Postman client I am able to hit services and get the response.. </p>\n\n<p>I am not able to understand what wrong i am doing while  i am calling it form Javascrpt. I have refer this <a href=\"https://stackoverflow.com/questions/10810492/html-form-submit-giving-400-bad-request\">link</a>, this <a href=\"https://stackoverflow.com/questions/4773725/getting-400-bad-request-when-using-multipart-form-data-as-content-type-in-xhr\">link as well</a>. </p>\n\n<p>I tried different <strong>Content-type</strong> header like : </p>\n\n<p>http.setRequestHeader(\"Content-type\", \"text/html\");\nhttp.setRequestHeader(\"Content-type\", \"application/json\");\nhttp.setRequestHeader(\"Content-type\", \"Accept=application/xml\");</p>\n\n<p>I am seeing from browser request and request payload for POST call is going like below that is correct : </p>\n\n<p><a href=\"https://i.stack.imgur.com/bxcur.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bxcur.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Below is my Spring Rest Services Code:</strong> </p>\n\n<pre><code>@RequestMapping(method = RequestMethod.POST, value = \"/loginAuthentication\" ,headers = \"Accept=application/xml, application/json, text/html\")\n    public @ResponseBody String loginAuthnticationForHTEtb(@RequestParam(\"eid\") String userEmailId,@RequestParam(\"pwd\") String password\n            ,HttpServletRequest request, HttpServletResponse response) {   \n\n        StringBuffer result = new StringBuffer();\n        try {\n            String domainVraiable=Context.getDomainName();\n            int inxexOfDot=domainVraiable.indexOf(\".\")+1;\n            int lastIndexOf=domainVraiable.lastIndexOf(\".\");\n\n            ....\n</code></pre>\n\n<p>I am just wondering why it working and i am able to call from PostMan Client but not working while i am trying  to call from java script? As you can see in below screenshot.</p>\n\n<p><a href=\"https://i.stack.imgur.com/hRivC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hRivC.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks in advance for any kind of clue or information to get rid of this. I spend almost a day but could not figured out. </p>\n"},{"tags":["java","string","reduce","radix","string-length"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1646820609,"post_id":71407548,"comment_id":126216694,"body_markdown":"What characters is the string composed of?    Digits and uppercase letters only?","body":"What characters is the string composed of?    Digits and uppercase letters only?"},{"owner":{"account_id":21576677,"reputation":21,"user_id":15908686,"display_name":"Null Pointer"},"score":0,"creation_date":1646821063,"post_id":71407548,"comment_id":126216835,"body_markdown":"yes, currently I have used `ToUpperCase()` method","body":"yes, currently I have used <code>ToUpperCase()</code> method"},{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":0,"creation_date":1646821350,"post_id":71407548,"comment_id":126216938,"body_markdown":"You could in theory use Run-length encoding (RLE). If there are enough repitions in your char sequence, it would compress your data. But there is no guarantee that it will reduce every string to a predefined length. So not sure if this helps.","body":"You could in theory use Run-length encoding (RLE). If there are enough repitions in your char sequence, it would compress your data. But there is no guarantee that it will reduce every string to a predefined length. So not sure if this helps."},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":1,"creation_date":1646821663,"post_id":71407548,"comment_id":126217058,"body_markdown":"What is of importance here. The length or the size?","body":"What is of importance here. The length or the size?"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1646821700,"post_id":71407548,"comment_id":126217075,"body_markdown":"Only alphabets? A-Z and 0-9?","body":"Only alphabets? A-Z and 0-9?"},{"owner":{"account_id":21576677,"reputation":21,"user_id":15908686,"display_name":"Null Pointer"},"score":0,"creation_date":1646822239,"post_id":71407548,"comment_id":126217281,"body_markdown":"@NicoVanBelle length is the factor here","body":"@NicoVanBelle length is the factor here"},{"owner":{"account_id":21576677,"reputation":21,"user_id":15908686,"display_name":"Null Pointer"},"score":0,"creation_date":1646822303,"post_id":71407548,"comment_id":126217305,"body_markdown":"@Darkman I have updated my question,\nmy string is composed of alphabets and integers.","body":"@Darkman I have updated my question, my string is composed of alphabets and integers."},{"owner":{"account_id":21576677,"reputation":21,"user_id":15908686,"display_name":"Null Pointer"},"score":0,"creation_date":1646822411,"post_id":71407548,"comment_id":126217336,"body_markdown":"Is it possible to encode it keeping the collision issue in mind, so that its length becomes smaller?","body":"Is it possible to encode it keeping the collision issue in mind, so that its length becomes smaller?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1646822547,"post_id":71407548,"comment_id":126217384,"body_markdown":"You are basically asking: how can I magically cut arbitrary ASCII strings in half, still representing them as ASCII strings, and do that reliably? That is in essence what you want. And no, if we could just look at any string and cut in half like that without losing information, that would be nice.","body":"You are basically asking: how can I magically cut arbitrary ASCII strings in half, still representing them as ASCII strings, and do that reliably? That is in essence what you want. And no, if we could just look at any string and cut in half like that without losing information, that would be nice."},{"owner":{"account_id":21576677,"reputation":21,"user_id":15908686,"display_name":"Null Pointer"},"score":0,"creation_date":1646822567,"post_id":71407548,"comment_id":126217393,"body_markdown":"sorry, By &quot;alphabets&quot; I meant  A-Z and a-z.","body":"sorry, By &quot;alphabets&quot; I meant  A-Z and a-z."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1646822883,"post_id":71407548,"comment_id":126217504,"body_markdown":"If you want to reduce the length of a string, I think you&#39;re out of luck. But if you don&#39;t mind to convert it into a byte array (number of bytes is critical) then it is possible (Only for A-Z and 0-9).","body":"If you want to reduce the length of a string, I think you&#39;re out of luck. But if you don&#39;t mind to convert it into a byte array (number of bytes is critical) then it is possible (Only for A-Z and 0-9)."},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1646822950,"post_id":71407548,"comment_id":126217524,"body_markdown":"did you try simple compression? https://xperti.io/blogs/java-string-data-compression-and-decompression/","body":"did you try simple compression? <a href=\"https://xperti.io/blogs/java-string-data-compression-and-decompression/\" rel=\"nofollow noreferrer\">xperti.io/blogs/java-string-data-compression-and-decompressi&zwnj;&#8203;on</a>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1646829097,"post_id":71407548,"comment_id":126219643,"body_markdown":"Note: never put such new information into comments. Always [edit] your question instead. Don&#39;t expect other people to read through 20 comments to understand all the details needed to answer.","body":"Note: never put such new information into comments. Always <a href=\"https://stackoverflow.com/posts/71407548/edit\">edit</a> your question instead. Don&#39;t expect other people to read through 20 comments to understand all the details needed to answer."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1646832467,"post_id":71407548,"comment_id":126220917,"body_markdown":"@MarcStroebel - Simple compression is unlikely to be very effective in a random string, especially a short one.","body":"@MarcStroebel - Simple compression is unlikely to be very effective in a random string, especially a short one."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646851791,"creation_date":1646828883,"answer_id":71409363,"question_id":71407548,"body_markdown":"Assuming that the string represents a number in base 36 `[0-9A-Z]`, it may be &quot;compressed&quot; additionally by converting to base 62 `[0-9A-Za-z]`, however, this does not help much in reducing the size, only 1 symbol is &quot;saved&quot;:\r\n```java\r\nString str = &quot;BWOOL0JDXUNP1&quot;;\r\nBigInteger bi = new BigInteger(str, 36);\r\n\r\nString alpha = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&quot;;\r\nBigInteger size = BigInteger.valueOf(alpha.length());\r\nSystem.out.println(str);\r\n\r\nStringBuilder sb = new StringBuilder();\r\nwhile (bi.compareTo(BigInteger.ZERO) &gt; 0) {\r\n    int cp = bi.mod(size).intValue();\r\n    sb.append(alpha.charAt(cp));\r\n    bi = bi.divide(size);\r\n}\r\nSystem.out.println(sb);\r\n// -&gt; BWOOL0JDXUNP1\r\n// -&gt; NXew7nv28E51\r\n```\r\nAdditionally, binary compression may be applied with some custom encoding, for instance, the mentioned 62 characters `[0-9A-Za-z]` fit into just 6 bits, so the mentioned 12 characters may be represented with just 12 * 0.75 = 9 bytes.  Of course, in this case additional &quot;unpacking&quot; method would be needed to properly represent the result.","title":"Reduce Length of a string without losing data","body":"<p>Assuming that the string represents a number in base 36 <code>[0-9A-Z]</code>, it may be &quot;compressed&quot; additionally by converting to base 62 <code>[0-9A-Za-z]</code>, however, this does not help much in reducing the size, only 1 symbol is &quot;saved&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;BWOOL0JDXUNP1&quot;;\nBigInteger bi = new BigInteger(str, 36);\n\nString alpha = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&quot;;\nBigInteger size = BigInteger.valueOf(alpha.length());\nSystem.out.println(str);\n\nStringBuilder sb = new StringBuilder();\nwhile (bi.compareTo(BigInteger.ZERO) &gt; 0) {\n    int cp = bi.mod(size).intValue();\n    sb.append(alpha.charAt(cp));\n    bi = bi.divide(size);\n}\nSystem.out.println(sb);\n// -&gt; BWOOL0JDXUNP1\n// -&gt; NXew7nv28E51\n</code></pre>\n<p>Additionally, binary compression may be applied with some custom encoding, for instance, the mentioned 62 characters <code>[0-9A-Za-z]</code> fit into just 6 bits, so the mentioned 12 characters may be represented with just 12 * 0.75 = 9 bytes.  Of course, in this case additional &quot;unpacking&quot; method would be needed to properly represent the result.</p>\n"}],"owner":{"account_id":21576677,"reputation":21,"user_id":15908686,"display_name":"Null Pointer"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646851791,"creation_date":1646820316,"question_id":71407548,"body_markdown":"I have a string of length 13 composed of alphabets(uppercase +  lowercase both are possible but currently using only UpperCase) and Integers (0-9)(ex: BWOOL0JDXUNP1) and I wanted to reduce its length to 6-10 characters without losing any data.\r\nI tried this by converting it into bytes using `StandardCharsets.UTF_8` then `new BigInteger(1, bytes).toString(36)` but it increases the length to 18 characters. \r\nI am not sure if it is possible or not. If there is any way to do this in Java please help.\r\n","title":"Reduce Length of a string without losing data","body":"<p>I have a string of length 13 composed of alphabets(uppercase +  lowercase both are possible but currently using only UpperCase) and Integers (0-9)(ex: BWOOL0JDXUNP1) and I wanted to reduce its length to 6-10 characters without losing any data.\nI tried this by converting it into bytes using <code>StandardCharsets.UTF_8</code> then <code>new BigInteger(1, bytes).toString(36)</code> but it increases the length to 18 characters.\nI am not sure if it is possible or not. If there is any way to do this in Java please help.</p>\n"},{"tags":["java","static","variable-declaration"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":1,"creation_date":1646852776,"post_id":71414541,"comment_id":126228987,"body_markdown":"Not enough information.  I&#39;m guessing you have this declaration inside of a method instead of as a class member variable. You should also add a &quot;final&quot; keyword to declaration.","body":"Not enough information.  I&#39;m guessing you have this declaration inside of a method instead of as a class member variable. You should also add a &quot;final&quot; keyword to declaration."}],"answers":[{"tags":[],"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646851738,"creation_date":1646851738,"answer_id":71414565,"question_id":71414541,"body_markdown":"You must place static field declarations __inside a class__, but __outside of method bodies__.","title":"How to make regex pattern static?","body":"<p>You must place static field declarations <strong>inside a class</strong>, but <strong>outside of method bodies</strong>.</p>\n"}],"owner":{"account_id":23403996,"reputation":13,"user_id":17466698,"display_name":"s1ckoleg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71414565,"answer_count":1,"score":0,"last_activity_date":1646851738,"creation_date":1646851612,"question_id":71414541,"body_markdown":"When I try to make static pattern variable I receive an error: *Modifier &#39;static&#39; not allowed here*. I can&#39;t see any reasons, why it doesn&#39;t work. Do you have any ideas? \r\n\r\nThis is how I try to do it: \r\n```\r\nstatic Pattern pattern = Pattern.compile(&quot;[0-9:?;!]&quot;);\r\n```","title":"How to make regex pattern static?","body":"<p>When I try to make static pattern variable I receive an error: <em>Modifier 'static' not allowed here</em>. I can't see any reasons, why it doesn't work. Do you have any ideas?</p>\n<p>This is how I try to do it:</p>\n<pre><code>static Pattern pattern = Pattern.compile(&quot;[0-9:?;!]&quot;);\n</code></pre>\n"},{"tags":["java","store"],"comments":[{"owner":{"account_id":12489064,"reputation":1172,"user_id":9091276,"accept_rate":100,"display_name":"Frontear"},"score":0,"creation_date":1646851266,"post_id":71414452,"comment_id":126228501,"body_markdown":"This would require you to save array contents to some file or database. Consider creating a config file that has your data, which you read and save to as needed","body":"This would require you to save array contents to some file or database. Consider creating a config file that has your data, which you read and save to as needed"},{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":1,"creation_date":1646851275,"post_id":71414452,"comment_id":126228504,"body_markdown":"You answered your own question. You can write the list to a file.","body":"You answered your own question. You can write the list to a file."},{"owner":{"account_id":24310011,"reputation":25,"user_id":18252180,"display_name":"Selim"},"score":0,"creation_date":1646851398,"post_id":71414452,"comment_id":126228542,"body_markdown":"I dont know how to write it to a file and call it back later. If you could help me with that, it would be great.","body":"I dont know how to write it to a file and call it back later. If you could help me with that, it would be great."},{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":0,"creation_date":1646851457,"post_id":71414452,"comment_id":126228561,"body_markdown":"Here&#39;s how you can write it - https://stackoverflow.com/questions/6548157/how-to-write-an-arraylist-of-strings-into-a-text-file here&#39;s how to read it - https://stackoverflow.com/questions/5343689/java-reading-a-file-into-an-arraylist a little bit of googling will solve this","body":"Here&#39;s how you can write it - <a href=\"https://stackoverflow.com/questions/6548157/how-to-write-an-arraylist-of-strings-into-a-text-file\" title=\"how to write an arraylist of strings into a text file\">stackoverflow.com/questions/6548157/&hellip;</a> here&#39;s how to read it - <a href=\"https://stackoverflow.com/questions/5343689/java-reading-a-file-into-an-arraylist\" title=\"java reading a file into an arraylist\">stackoverflow.com/questions/5343689/&hellip;</a> a little bit of googling will solve this"},{"owner":{"account_id":24310011,"reputation":25,"user_id":18252180,"display_name":"Selim"},"score":0,"creation_date":1646851657,"post_id":71414452,"comment_id":126228629,"body_markdown":"Hahaha thank you so much. I&#39;ve been searching for an answer for 40 minutes however every code I encountered was quite complex so I gave up and asked this question, thanks","body":"Hahaha thank you so much. I&#39;ve been searching for an answer for 40 minutes however every code I encountered was quite complex so I gave up and asked this question, thanks"}],"answers":[{"tags":[],"owner":{"account_id":13359761,"reputation":391,"user_id":10079966,"display_name":"Vml11"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646851713,"creation_date":1646851713,"answer_id":71414558,"question_id":71414452,"body_markdown":"Serialize the data into a file and when starting up again deserialize it.\r\nRemember to add a shutDownHook in order to save it before the program exits.\r\n\r\n    Runtime.getRuntime().addShutdownHook(...)\r\n\r\n\r\n[enter link description here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19639319/java-shutdown-hook","title":"how to store arraylist elements and call them back even though program is closed in java?","body":"<p>Serialize the data into a file and when starting up again deserialize it.\nRemember to add a shutDownHook in order to save it before the program exits.</p>\n<pre><code>Runtime.getRuntime().addShutdownHook(...)\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/19639319/java-shutdown-hook\">enter link description here</a></p>\n"}],"owner":{"account_id":24310011,"reputation":25,"user_id":18252180,"display_name":"Selim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646851713,"creation_date":1646851196,"question_id":71414452,"body_markdown":"What I want to do is basically I want to add elements to an arraylist and call those elements back even though the program closes. So I want to store those elements permanently and when I start the program again I want to be able to call the elements I added to the arraylist before and see them. It could be with text files or something else, everything non very complicated is accepted. Thanks!","title":"how to store arraylist elements and call them back even though program is closed in java?","body":"<p>What I want to do is basically I want to add elements to an arraylist and call those elements back even though the program closes. So I want to store those elements permanently and when I start the program again I want to be able to call the elements I added to the arraylist before and see them. It could be with text files or something else, everything non very complicated is accepted. Thanks!</p>\n"},{"tags":["java","computer-science"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":1,"creation_date":1646844615,"post_id":71412869,"comment_id":126226045,"body_markdown":"Your code is incomplete. As it is, it won&#39;t compile. Please double check that you&#39;ve posted all there is. If an error/exception is being thrown, please also post it as text and mark the line in the code where the error occurs.","body":"Your code is incomplete. As it is, it won&#39;t compile. Please double check that you&#39;ve posted all there is. If an error/exception is being thrown, please also post it as text and mark the line in the code where the error occurs."},{"owner":{"account_id":24228150,"reputation":1,"user_id":18182339,"display_name":"Zach MacKenzie"},"score":0,"creation_date":1646848091,"post_id":71412869,"comment_id":126227442,"body_markdown":"@JettoMart&#237;nez I have updated this to the full code.","body":"@JettoMart&#237;nez I have updated this to the full code."}],"owner":{"account_id":24228150,"reputation":1,"user_id":18182339,"display_name":"Zach MacKenzie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646851475,"creation_date":1646843897,"question_id":71412869,"body_markdown":"I have two classes here for an assignment. I am attempting to remove the Item object from the library catalog and add it to the checkedOutItems of the current patron. When I run my code it is saying that I didn&#39;t remove the object from the catalog. Anything here that i&#39;m missing? Im mainly concerned with the CheckIn and CheckOut methods.\r\n\r\nLibrary.java below\r\n\r\n    \r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.time.LocalDate;\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n\r\n    public class Library {\r\n\r\n        private boolean isOpen;\r\n        private Patron currPatron;\r\n        public ArrayList&lt;Patron&gt; patrons;\r\n        public ArrayList&lt;Item&gt; catalog;\r\n        private LocalDate currDate;\r\n        public ArrayList&lt;Item&gt; lastSearchResults = new ArrayList&lt;&gt;();\r\n\r\n        public Library(ArrayList&lt;Item&gt; catalog, Scanner input, int year, int month, int day) {\r\n            this.currDate = LocalDate.of(year, month, day);\r\n            this.catalog = catalog;\r\n            this.patrons = new ArrayList&lt;Patron&gt;();\r\n        }\r\n    public ArrayList&lt;Item&gt; getCatalog() {\r\n        return catalog;\r\n    }\r\n\r\n    public LocalDate getCurrDate() {\r\n        return currDate;\r\n    }\r\n\r\n    public void start() {\r\n        Scanner s = new Scanner(System.in);\r\n        System.out.println(&quot;Enter o to open the library or x to exit the program.&quot;);\r\n        String input = s.next();\r\n        if (input.contains(&quot;x&quot;)) {\r\n            return;\r\n        }\r\n        if (!input.contains(&quot;o&quot;)) {\r\n            System.out.println(&quot;Invalid input&quot;);\r\n        }\r\n\r\n        System.out.println(&quot;Today&#39;s date: &quot; + currDate + &quot;\\n&quot;);\r\n        System.out.println(&quot;Overdue items: \\n&quot;);\r\n\r\n        System.out.println(&quot;Choose an existing patron by number, enter n to add a new patron, or enter c to close.&quot;);\r\n\r\n        input = s.next();\r\n        s.nextLine();\r\n\r\n        switch (input) {\r\n            case &quot;c&quot;:\r\n                break;\r\n            case &quot;n&quot;:\r\n                System.out.println(&quot;Enter patron name.&quot;);\r\n                String name = s.nextLine();\r\n                System.out.println(&quot;Enter patron card number.&quot;);\r\n                int cn = s.nextInt();\r\n\r\n                Patron p = new Patron(name, cn);\r\n                break;\r\n        }\r\n    }\r\n\r\n    public void open() {\r\n        this.isOpen = true;\r\n    }\r\n\r\n    public void close() {\r\n        this.isOpen = false;\r\n        this.currDate = currDate.plusDays(1);\r\n    }\r\n\r\n    public boolean isOpen() {\r\n        return isOpen;\r\n    }\r\n\r\n    public ArrayList&lt;Patron&gt; getPatrons() {\r\n        return patrons;\r\n    }\r\n\r\n    public void addPatron(String n, int cn) {\r\n        Patron p = new Patron(n, cn);\r\n        currPatron = p;\r\n        patrons.add(p);\r\n    }\r\n\r\n    public void setPatron(int p) {\r\n        for (Patron patron : patrons) {\r\n            if (patron.getCardNumber() == p) {\r\n                this.currPatron = patron;\r\n            }\r\n        }\r\n    }\r\n\r\n    public Patron getCurrPatron() {\r\n        return currPatron;\r\n    }\r\n\r\n    public void search(String search) {\r\n        lastSearchResults.clear();\r\n        for (Item currItem : catalog) {\r\n            if (currItem.detailedInfo().contains(search)) {\r\n                lastSearchResults.add(currItem);\r\n            }\r\n        }\r\n    }\r\n\r\n    public ArrayList&lt;Item&gt; getSearchResults() {\r\n        return lastSearchResults;\r\n    }\r\n\r\n    public void checkIn(int index) {\r\n        ArrayList&lt;Item&gt; ls = currPatron.getItems();\r\n        Item a = ls.get(index);\r\n        currPatron.checkInItem(a);\r\n        catalog.add(index, a);\r\n\r\n    }\r\n\r\n    public void checkOut(int index) {\r\n        Item i = catalog.get(index);\r\n        catalog.remove(index);\r\n        currPatron.checkOutItem(i);\r\n    }\r\n\r\n    /////////////////// DO NOT CHANGE THE CODE BELOW /////////////////////\r\n\r\n    public static ArrayList&lt;Item&gt; readCatalog(String fileName) {\r\n\r\n        Scanner input = null;\r\n        try {\r\n            input = new Scanner(new File(fileName));\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;File was not found.&quot;);\r\n            System.exit(-1);\r\n        }\r\n\r\n        String line = &quot;&quot;;\r\n        ArrayList&lt;Item&gt; catalog = new ArrayList&lt;Item&gt;();\r\n        boolean stop = false;\r\n        while (!stop) {\r\n            line = input.nextLine();\r\n            switch (line) {\r\n                case &quot;BOOK&quot;:\r\n                    String title = input.nextLine();\r\n                    String author = input.nextLine();\r\n                    int pages = input.nextInt();\r\n                    int year = input.nextInt();\r\n                    catalog.add(new Book(title, author, pages, year));\r\n                    input.nextLine();\r\n                    break;\r\n                case &quot;MUSIC&quot;:\r\n                    title = input.nextLine();\r\n                    String artist = input.nextLine();\r\n                    String format = input.nextLine();\r\n                    year = input.nextInt();\r\n                    input.nextLine();\r\n                    ArrayList&lt;String&gt; tracks = new ArrayList&lt;String&gt;();\r\n                    while (true) {\r\n                        line = input.nextLine();\r\n                        if (line.equals(&quot;&quot;)) {\r\n                            break;\r\n                        }\r\n                        tracks.add(line);\r\n                    }\r\n                    catalog.add(new Music(title, artist, format, year, tracks));\r\n                    break;\r\n                case &quot;VIDEO&quot;:\r\n                    title = input.nextLine();\r\n                    format = input.nextLine();\r\n                    year = input.nextInt();\r\n                    int runtime = input.nextInt();\r\n                    catalog.add(new Video(title, format, year, runtime));\r\n                    input.nextLine();\r\n                    break;\r\n                case &quot;END&quot;:\r\n                    stop = true;\r\n                    break;\r\n            }\r\n        }\r\n        return catalog;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Enter catalog file name.&quot;);\r\n        String fileName = input.nextLine();\r\n        int year;\r\n        int month;\r\n        int day;\r\n        System.out.println(&quot;Enter the current year.&quot;);\r\n        year = input.nextInt();\r\n        System.out.println(&quot;Enter the current month.&quot;);\r\n        month = input.nextInt();\r\n        System.out.println(&quot;Enter the current day.&quot;);\r\n        day = input.nextInt();\r\n        input.nextLine();\r\n\r\n        ArrayList&lt;Item&gt; catalog = Library.readCatalog(fileName);\r\n\r\n        Library l = new Library(catalog, input, year, month, day);\r\n\r\n        l.start();\r\n    }\r\n    }\r\n\r\nPatron.java file\r\n\r\n    import java.util.ArrayList;\r\n\r\n    public class Patron implements Printable {\r\n\r\n    private String name;\r\n    private int cardNumber;\r\n    ArrayList&lt;Item&gt; checkedItems = new ArrayList&lt;Item&gt;();\r\n\r\n    public Patron(String n, int cn) {\r\n        this.name = n;\r\n        this.cardNumber = cn;\r\n    }\r\n\r\n    public String basicInfo() {\r\n        return this.name + &quot; (&quot; + this.cardNumber + &quot;)&quot;;\r\n    }\r\n\r\n    public String detailedInfo() {\r\n\r\n        StringBuilder items = new StringBuilder();\r\n        for (Item item : checkedItems) {\r\n            items.append(&quot;    &quot;).append(item.basicInfo()).append(&quot; due on &quot;).append(item.getDueDate()).append(&quot;\\n&quot;);\r\n        }\r\n\r\n        String r = &quot;Name: &quot; + this.name + &quot;\\n&quot;\r\n                + &quot;Card number: &quot; + this.cardNumber + &quot;\\n&quot;\r\n                + items.toString();\r\n\r\n        return r.trim();\r\n    }\r\n\r\n    public ArrayList&lt;Item&gt; getItems() {\r\n        return this.checkedItems;\r\n    }\r\n\r\n    public void checkOutItem(Item i) {\r\n        checkedItems.add(i);\r\n    }\r\n\r\n    public void checkInItem(Item i) {\r\n        checkedItems.remove(i);\r\n    }\r\n\r\n    public int getCardNumber() {\r\n        return this.cardNumber;\r\n    }\r\n    }\r\n\r\n----------\r\n","title":"How to remove an object from an ArrayList in a different class?","body":"<p>I have two classes here for an assignment. I am attempting to remove the Item object from the library catalog and add it to the checkedOutItems of the current patron. When I run my code it is saying that I didn't remove the object from the catalog. Anything here that i'm missing? Im mainly concerned with the CheckIn and CheckOut methods.</p>\n<p>Library.java below</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.time.LocalDate;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Library {\n\n    private boolean isOpen;\n    private Patron currPatron;\n    public ArrayList&lt;Patron&gt; patrons;\n    public ArrayList&lt;Item&gt; catalog;\n    private LocalDate currDate;\n    public ArrayList&lt;Item&gt; lastSearchResults = new ArrayList&lt;&gt;();\n\n    public Library(ArrayList&lt;Item&gt; catalog, Scanner input, int year, int month, int day) {\n        this.currDate = LocalDate.of(year, month, day);\n        this.catalog = catalog;\n        this.patrons = new ArrayList&lt;Patron&gt;();\n    }\npublic ArrayList&lt;Item&gt; getCatalog() {\n    return catalog;\n}\n\npublic LocalDate getCurrDate() {\n    return currDate;\n}\n\npublic void start() {\n    Scanner s = new Scanner(System.in);\n    System.out.println(&quot;Enter o to open the library or x to exit the program.&quot;);\n    String input = s.next();\n    if (input.contains(&quot;x&quot;)) {\n        return;\n    }\n    if (!input.contains(&quot;o&quot;)) {\n        System.out.println(&quot;Invalid input&quot;);\n    }\n\n    System.out.println(&quot;Today's date: &quot; + currDate + &quot;\\n&quot;);\n    System.out.println(&quot;Overdue items: \\n&quot;);\n\n    System.out.println(&quot;Choose an existing patron by number, enter n to add a new patron, or enter c to close.&quot;);\n\n    input = s.next();\n    s.nextLine();\n\n    switch (input) {\n        case &quot;c&quot;:\n            break;\n        case &quot;n&quot;:\n            System.out.println(&quot;Enter patron name.&quot;);\n            String name = s.nextLine();\n            System.out.println(&quot;Enter patron card number.&quot;);\n            int cn = s.nextInt();\n\n            Patron p = new Patron(name, cn);\n            break;\n    }\n}\n\npublic void open() {\n    this.isOpen = true;\n}\n\npublic void close() {\n    this.isOpen = false;\n    this.currDate = currDate.plusDays(1);\n}\n\npublic boolean isOpen() {\n    return isOpen;\n}\n\npublic ArrayList&lt;Patron&gt; getPatrons() {\n    return patrons;\n}\n\npublic void addPatron(String n, int cn) {\n    Patron p = new Patron(n, cn);\n    currPatron = p;\n    patrons.add(p);\n}\n\npublic void setPatron(int p) {\n    for (Patron patron : patrons) {\n        if (patron.getCardNumber() == p) {\n            this.currPatron = patron;\n        }\n    }\n}\n\npublic Patron getCurrPatron() {\n    return currPatron;\n}\n\npublic void search(String search) {\n    lastSearchResults.clear();\n    for (Item currItem : catalog) {\n        if (currItem.detailedInfo().contains(search)) {\n            lastSearchResults.add(currItem);\n        }\n    }\n}\n\npublic ArrayList&lt;Item&gt; getSearchResults() {\n    return lastSearchResults;\n}\n\npublic void checkIn(int index) {\n    ArrayList&lt;Item&gt; ls = currPatron.getItems();\n    Item a = ls.get(index);\n    currPatron.checkInItem(a);\n    catalog.add(index, a);\n\n}\n\npublic void checkOut(int index) {\n    Item i = catalog.get(index);\n    catalog.remove(index);\n    currPatron.checkOutItem(i);\n}\n\n/////////////////// DO NOT CHANGE THE CODE BELOW /////////////////////\n\npublic static ArrayList&lt;Item&gt; readCatalog(String fileName) {\n\n    Scanner input = null;\n    try {\n        input = new Scanner(new File(fileName));\n    } catch (FileNotFoundException e) {\n        System.out.println(&quot;File was not found.&quot;);\n        System.exit(-1);\n    }\n\n    String line = &quot;&quot;;\n    ArrayList&lt;Item&gt; catalog = new ArrayList&lt;Item&gt;();\n    boolean stop = false;\n    while (!stop) {\n        line = input.nextLine();\n        switch (line) {\n            case &quot;BOOK&quot;:\n                String title = input.nextLine();\n                String author = input.nextLine();\n                int pages = input.nextInt();\n                int year = input.nextInt();\n                catalog.add(new Book(title, author, pages, year));\n                input.nextLine();\n                break;\n            case &quot;MUSIC&quot;:\n                title = input.nextLine();\n                String artist = input.nextLine();\n                String format = input.nextLine();\n                year = input.nextInt();\n                input.nextLine();\n                ArrayList&lt;String&gt; tracks = new ArrayList&lt;String&gt;();\n                while (true) {\n                    line = input.nextLine();\n                    if (line.equals(&quot;&quot;)) {\n                        break;\n                    }\n                    tracks.add(line);\n                }\n                catalog.add(new Music(title, artist, format, year, tracks));\n                break;\n            case &quot;VIDEO&quot;:\n                title = input.nextLine();\n                format = input.nextLine();\n                year = input.nextInt();\n                int runtime = input.nextInt();\n                catalog.add(new Video(title, format, year, runtime));\n                input.nextLine();\n                break;\n            case &quot;END&quot;:\n                stop = true;\n                break;\n        }\n    }\n    return catalog;\n}\n\npublic static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Enter catalog file name.&quot;);\n    String fileName = input.nextLine();\n    int year;\n    int month;\n    int day;\n    System.out.println(&quot;Enter the current year.&quot;);\n    year = input.nextInt();\n    System.out.println(&quot;Enter the current month.&quot;);\n    month = input.nextInt();\n    System.out.println(&quot;Enter the current day.&quot;);\n    day = input.nextInt();\n    input.nextLine();\n\n    ArrayList&lt;Item&gt; catalog = Library.readCatalog(fileName);\n\n    Library l = new Library(catalog, input, year, month, day);\n\n    l.start();\n}\n}\n</code></pre>\n<p>Patron.java file</p>\n<pre><code>import java.util.ArrayList;\n\npublic class Patron implements Printable {\n\nprivate String name;\nprivate int cardNumber;\nArrayList&lt;Item&gt; checkedItems = new ArrayList&lt;Item&gt;();\n\npublic Patron(String n, int cn) {\n    this.name = n;\n    this.cardNumber = cn;\n}\n\npublic String basicInfo() {\n    return this.name + &quot; (&quot; + this.cardNumber + &quot;)&quot;;\n}\n\npublic String detailedInfo() {\n\n    StringBuilder items = new StringBuilder();\n    for (Item item : checkedItems) {\n        items.append(&quot;    &quot;).append(item.basicInfo()).append(&quot; due on &quot;).append(item.getDueDate()).append(&quot;\\n&quot;);\n    }\n\n    String r = &quot;Name: &quot; + this.name + &quot;\\n&quot;\n            + &quot;Card number: &quot; + this.cardNumber + &quot;\\n&quot;\n            + items.toString();\n\n    return r.trim();\n}\n\npublic ArrayList&lt;Item&gt; getItems() {\n    return this.checkedItems;\n}\n\npublic void checkOutItem(Item i) {\n    checkedItems.add(i);\n}\n\npublic void checkInItem(Item i) {\n    checkedItems.remove(i);\n}\n\npublic int getCardNumber() {\n    return this.cardNumber;\n}\n}\n</code></pre>\n<hr />\n"},{"tags":["java","string","methods"],"comments":[{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":0,"creation_date":1646848977,"post_id":71413976,"comment_id":126227735,"body_markdown":"You can use reflection as shown in this duplicate question \nhttps://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string\n\nBut you probably don&#39;t want to do that.","body":"You can use reflection as shown in this duplicate question  <a href=\"https://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string\" title=\"how do i invoke a java method when given the method name as a string\">stackoverflow.com/questions/160970/&hellip;</a>  But you probably don&#39;t want to do that."},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":0,"creation_date":1646848989,"post_id":71413976,"comment_id":126227740,"body_markdown":"Does this answer your question? [How do I invoke a Java method when given the method name as a string?](https://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string\">How do I invoke a Java method when given the method name as a string?</a>"}],"answers":[{"tags":[],"owner":{"account_id":203758,"reputation":14587,"user_id":451600,"accept_rate":91,"display_name":"Captain Giraffe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646849001,"creation_date":1646849001,"answer_id":71414023,"question_id":71413976,"body_markdown":"This is the use-case for a switch case statement.\r\n\r\n\r\n    switch(command){\r\n        case &quot;command1&quot;: command1(); break;\r\n        case &quot;command2&quot;: command2(); break;\r\n\r\nUsing a string javascript style is fortunately impossible in Java. The comments links to answers how to use reflection to accomplish something similar. This is rarely a good solution.\r\n\r\n","title":"How to call a method from a given string in Java","body":"<p>This is the use-case for a switch case statement.</p>\n<pre><code>switch(command){\n    case &quot;command1&quot;: command1(); break;\n    case &quot;command2&quot;: command2(); break;\n</code></pre>\n<p>Using a string javascript style is fortunately impossible in Java. The comments links to answers how to use reflection to accomplish something similar. This is rarely a good solution.</p>\n"},{"tags":[],"owner":{"account_id":2480954,"reputation":317,"user_id":2160443,"display_name":"Rakib Hasan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646851444,"creation_date":1646851444,"answer_id":71414510,"question_id":71413976,"body_markdown":"we can use \r\n\r\n&gt; java.lang.reflect.Method\r\nSomething like \r\n\r\n    java.lang.reflect.Method method;\r\n    try {\r\n        method = obj.getClass().getMethod(methodName, param1.class, param2.class, ..);\r\n    } catch (SecurityException e) { ... }\r\n    catch (NoSuchMethodException e) { ... }\r\nThe parameters identify the very specific method you need (if there are several overloaded available, if the method has no arguments, only give methodName).\r\n\r\nAnd your possible solution can be like -\r\n\r\n    package com.test.pkg;\r\n    public class MethodClass {\r\n      public int getFishCount() {\r\n        return 5;\r\n     }\r\n     public int getRiceCount() {\r\n        return 100;\r\n     }\r\n     public int getVegetableCount() {\r\n        return 50;\r\n     }\r\n    }\r\n\r\n\r\n```\r\npackage com.test.pkg;\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.lang.reflect.Method;\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        MethodClass classObj = new MethodClass();\r\n        Method method;\r\n        String commandString = &quot;Fish&quot;;\r\n        try {\r\n            String methodName = &quot;get&quot; + commandString + &quot;Count&quot;;\r\n            method = classObj.getClass().getMethod(methodName);\r\n            System.out.println(method.invoke(classObj));          //equivalent to System.out.println(testObj.getFishCount());\r\n        } catch (SecurityException | NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nRef: https://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string","title":"How to call a method from a given string in Java","body":"<p>we can use</p>\n<blockquote>\n<p>java.lang.reflect.Method\nSomething like</p>\n</blockquote>\n<pre><code>java.lang.reflect.Method method;\ntry {\n    method = obj.getClass().getMethod(methodName, param1.class, param2.class, ..);\n} catch (SecurityException e) { ... }\ncatch (NoSuchMethodException e) { ... }\n</code></pre>\n<p>The parameters identify the very specific method you need (if there are several overloaded available, if the method has no arguments, only give methodName).</p>\n<p>And your possible solution can be like -</p>\n<pre><code>package com.test.pkg;\npublic class MethodClass {\n  public int getFishCount() {\n    return 5;\n }\n public int getRiceCount() {\n    return 100;\n }\n public int getVegetableCount() {\n    return 50;\n }\n}\n</code></pre>\n<pre><code>package com.test.pkg;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\npublic class Test {\n    public static void main(String[] args) {\n        MethodClass classObj = new MethodClass();\n        Method method;\n        String commandString = &quot;Fish&quot;;\n        try {\n            String methodName = &quot;get&quot; + commandString + &quot;Count&quot;;\n            method = classObj.getClass().getMethod(methodName);\n            System.out.println(method.invoke(classObj));          //equivalent to System.out.println(testObj.getFishCount());\n        } catch (SecurityException | NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Ref: <a href=\"https://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string\">How do I invoke a Java method when given the method name as a string?</a></p>\n"}],"owner":{"account_id":23055863,"reputation":151,"user_id":17171910,"display_name":"Xanthan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71414023,"answer_count":2,"score":1,"last_activity_date":1646851444,"creation_date":1646848802,"question_id":71413976,"body_markdown":"I am trying to reduce my code from using a bunch of if statements from getting a specified command and calling a method for it.\r\n\r\nInstead, I want to try something that would take that command and call a method name with it\r\n\r\nSomething like this:\r\n\r\n```&quot;get&quot; + commandString + &quot;Count&quot;()```\r\n\r\nInstead of:\r\n\r\n```\r\nif (command == &quot;something&quot;) {\r\n   callSomeMethod();\r\n}\r\n\r\nif (command == &quot;somethingelse&quot;) {\r\n   callSomeOtherMethod();\r\n}\r\n\r\n...\r\n```\r\nIs there a way to call a method from a specified string? Or a better way to approach this problem.\r\n","title":"How to call a method from a given string in Java","body":"<p>I am trying to reduce my code from using a bunch of if statements from getting a specified command and calling a method for it.</p>\n<p>Instead, I want to try something that would take that command and call a method name with it</p>\n<p>Something like this:</p>\n<p><code>&quot;get&quot; + commandString + &quot;Count&quot;()</code></p>\n<p>Instead of:</p>\n<pre><code>if (command == &quot;something&quot;) {\n   callSomeMethod();\n}\n\nif (command == &quot;somethingelse&quot;) {\n   callSomeOtherMethod();\n}\n\n...\n</code></pre>\n<p>Is there a way to call a method from a specified string? Or a better way to approach this problem.</p>\n"},{"tags":["java","spring","multithreading","spring-boot","concurrency"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1646858270,"post_id":71413763,"comment_id":126230686,"body_markdown":"By the way, you should generally be using an executor service obtained through the `Executors` utility class rather than using specifically [`ThreadPoolExecutor`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html) class. Read the Javadoc for explanation.","body":"By the way, you should generally be using an executor service obtained through the <code>Executors</code> utility class rather than using specifically <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\"><code>ThreadPoolExecutor</code></a> class. Read the Javadoc for explanation."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646851026,"creation_date":1646848982,"answer_id":71414008,"question_id":71413763,"body_markdown":"Threads are Runnable, but not all Runnables are Threads. When you submit a Runnable to a thread pool the expectation is that the pool supplies the actual thread, your Runnable is only a task intended to be executed by some thread. When the thread pool worker that is assigned your task finishes processing it, it grabs another task and it doesn&#39;t have your Runnable anymore. \r\n\r\nYou could keep a reference to your Runnable, but then you&#39;d have to deal with updates made across threads and we&#39;d have to deal with using volatile, AtomicInteger, or whatever. Your code doesn&#39;t just automatically see changes made by another thread, the JVM needs specific signs that it looks out for. The whole model of submitting a runnable to a pool, then looking at the runnable later is very ugly and error-prone.\r\n\r\n If you change your Runnable into a Callable&lt;Integer&gt; and have it use a Future to return the int you need back, then the memory visibility issues will be handled for you.\r\n\r\nPass the Callable into [the ExecutorService submit method that returns a Future][1]. You can call isDone on the Future to see if the task is completed yet, then call get on it to retrieve the value returned from the Callable.\r\n\r\nI&#39;m not clear on what exactly you want to find in the task after it has been executed. My advice is make a separate immutable object with the values you want. Here I&#39;m calling it MyResult. so the Callable would look like this:\r\n\r\n\r\n    class MyObj implements Callable&lt;MyResult&gt; {{\r\n        \r\n        int m_id;\r\n        MyObj(int id) {n_id = id}\r\n        \r\n        @Override\r\n        public MyResult call() { \r\n            return new MyResult(1,2);\r\n        }\r\n    }\r\n\r\n    class MyResult {\r\n        final val1;\r\n        final val2;\r\n        public MyResult(int val1, int val2) {\r\n            this.val1 = val1;\r\n            this.val2 = val2;\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#submit-java.util.concurrent.Callable-","title":"How to get the object on a specific thread?","body":"<p>Threads are Runnable, but not all Runnables are Threads. When you submit a Runnable to a thread pool the expectation is that the pool supplies the actual thread, your Runnable is only a task intended to be executed by some thread. When the thread pool worker that is assigned your task finishes processing it, it grabs another task and it doesn't have your Runnable anymore.</p>\n<p>You could keep a reference to your Runnable, but then you'd have to deal with updates made across threads and we'd have to deal with using volatile, AtomicInteger, or whatever. Your code doesn't just automatically see changes made by another thread, the JVM needs specific signs that it looks out for. The whole model of submitting a runnable to a pool, then looking at the runnable later is very ugly and error-prone.</p>\n<p>If you change your Runnable into a Callable and have it use a Future to return the int you need back, then the memory visibility issues will be handled for you.</p>\n<p>Pass the Callable into <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#submit-java.util.concurrent.Callable-\" rel=\"nofollow noreferrer\">the ExecutorService submit method that returns a Future</a>. You can call isDone on the Future to see if the task is completed yet, then call get on it to retrieve the value returned from the Callable.</p>\n<p>I'm not clear on what exactly you want to find in the task after it has been executed. My advice is make a separate immutable object with the values you want. Here I'm calling it MyResult. so the Callable would look like this:</p>\n<pre><code>class MyObj implements Callable&lt;MyResult&gt; {{\n    \n    int m_id;\n    MyObj(int id) {n_id = id}\n    \n    @Override\n    public MyResult call() { \n        return new MyResult(1,2);\n    }\n}\n\nclass MyResult {\n    final val1;\n    final val2;\n    public MyResult(int val1, int val2) {\n        this.val1 = val1;\n        this.val2 = val2;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1975034,"reputation":961,"user_id":1773011,"accept_rate":85,"display_name":"lightrek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71414008,"answer_count":1,"score":1,"last_activity_date":1646851026,"creation_date":1646847854,"question_id":71413763,"body_markdown":"I have a runnable created by ThreadPoolExecutor.execute\r\n\r\nfor example:\r\n\r\n    class myObj implements Runnable{{\r\n       int m_id;\r\n       myObj(int id) {n_id = id}\r\n       @Override\r\n        public void run() { }\r\n    }\r\n    \r\n    m_threadPoolTaskExecutor.execute(\r\n        new myObj(9);\r\n    );\r\n\r\nThen after the run, how can I get the myObj instance from that thread? So can I iterate through the thread pool and find mObj that matches the m_id == 9?\r\n","title":"How to get the object on a specific thread?","body":"<p>I have a runnable created by ThreadPoolExecutor.execute</p>\n<p>for example:</p>\n<pre><code>class myObj implements Runnable{{\n   int m_id;\n   myObj(int id) {n_id = id}\n   @Override\n    public void run() { }\n}\n\nm_threadPoolTaskExecutor.execute(\n    new myObj(9);\n);\n</code></pre>\n<p>Then after the run, how can I get the myObj instance from that thread? So can I iterate through the thread pool and find mObj that matches the m_id == 9?</p>\n"},{"tags":["java","eclipse","if-statement"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1646850548,"post_id":71414260,"comment_id":126228298,"body_markdown":"Do you want to output the score really that often? Each time you decrease it, you also output it.","body":"Do you want to output the score really that often? Each time you decrease it, you also output it."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1646850647,"post_id":71414260,"comment_id":126228324,"body_markdown":"Debug you code. Hint: Review.split(&quot;\\n&quot;) vs  Review.split(&quot;\\\\s+&quot;).","body":"Debug you code. Hint: Review.split(&quot;\\n&quot;) vs  Review.split(&quot;\\\\s+&quot;)."},{"owner":{"account_id":17879137,"reputation":35,"user_id":12988414,"display_name":"Kirsty Liv"},"score":0,"creation_date":1646850675,"post_id":71414260,"comment_id":126228337,"body_markdown":"I&#39;ll probably remove it at some point but it helps me see that the code is working as expected","body":"I&#39;ll probably remove it at some point but it helps me see that the code is working as expected"},{"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"score":0,"creation_date":1646851258,"post_id":71414260,"comment_id":126228496,"body_markdown":"Once you split on word boundaries you probably want to use `s.equals(&quot;me&quot;)` instead of contains unless yo want to deduct &quot;me&quot; points for words such as &quot;mesmerised&quot;.","body":"Once you split on word boundaries you probably want to use <code>s.equals(&quot;me&quot;)</code> instead of contains unless yo want to deduct &quot;me&quot; points for words such as &quot;mesmerised&quot;."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646850870,"creation_date":1646850870,"answer_id":71414396,"question_id":71414260,"body_markdown":"First you should return the review score from your method `verbcount`.\r\n\r\nSecond you split the text twice, once by word boundaries (&quot;\\s+&quot;), but inside your method `verbcount` you split it by newlines (&quot;\\n&quot;) and therefore the method is not working as intended.\r\n\r\nInstead of the string to review, pass the `words` array into that method and don&#39;t split it again!\r\n\r\nThird your ifs are nested, so the `s.contains (&quot;I&quot;)` will only be checked, if also `s.contains(&quot;me&quot;)` - this can happen because you split by lines, but only once per line. Also once you split words, you will never get into that second if-branch.\r\nPull it up one level to be in parallel to the first `if` inside the method.","title":"If statement in for loop only running once in JAVA","body":"<p>First you should return the review score from your method <code>verbcount</code>.</p>\n<p>Second you split the text twice, once by word boundaries (&quot;\\s+&quot;), but inside your method <code>verbcount</code> you split it by newlines (&quot;\\n&quot;) and therefore the method is not working as intended.</p>\n<p>Instead of the string to review, pass the <code>words</code> array into that method and don't split it again!</p>\n<p>Third your ifs are nested, so the <code>s.contains (&quot;I&quot;)</code> will only be checked, if also <code>s.contains(&quot;me&quot;)</code> - this can happen because you split by lines, but only once per line. Also once you split words, you will never get into that second if-branch.\nPull it up one level to be in parallel to the first <code>if</code> inside the method.</p>\n"}],"owner":{"account_id":17879137,"reputation":35,"user_id":12988414,"display_name":"Kirsty Liv"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71414396,"answer_count":1,"score":0,"last_activity_date":1646850870,"creation_date":1646850218,"question_id":71414260,"body_markdown":"Im trying to make an if statement that deducts 2 points for each time the verb &#39;me&#39; or &#39;I&#39; is found in a string. To do this I have split the string into separate words. To test I changed the string to have 2x &quot;me&quot;. But the score is only deducted once instead of twice (as there are 2 x &quot;me&quot;). Tried adding a while loop but it just kept deducting until negative. Baby language please, I am a beginner coder. Thanks in advance\r\n\r\n    public static void main(String[] args) { //getWordLength() { // Checking word length. Less than 6 means reviewer can&#39;t weigh out positives and negatives\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\t int ReviewScore = 30;\r\n\t\t\t\r\n\t\t\t String Review = &quot;me I me, from Montreal&quot;;\r\n\t\t\t String[] words = Review.split(&quot;\\\\s+&quot;);\r\n\t\t\t \r\n\t\t\t  System.out.println(&quot;Word Count is: &quot;+words.length);\r\n\t\t\t   int wordlength = Integer.valueOf(words.length);\r\n\t\t\t  \r\n\t\t\t   \r\n\t\t\t  \tif (wordlength&lt; 6) { \r\n\t\t\t  \t\t ReviewScore -=4; // deducts 4pts if review less than 6 words\r\n\t\t\t   \t\tSystem.out.println(&quot;Score is &quot;+ ReviewScore);\r\n\t\t\t   \t\t\r\n\t\t\t    }\r\n\t\t\t  \tverbCount( ReviewScore,Review);\r\n\t\t\t  \t\r\n\t\t}\r\n\t\t\r\n\t\t\tpublic static  void verbCount (int ReviewScore, String Review) { //Count verbs &#39;I&#39; or &#39;me&#39;\r\n\t\t\r\n\t\t\tfor (String s : Review.split(&quot;\\n&quot;) ) { // splits review into separate words\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\tif (s.contains(&quot;me&quot; )){ // Checks for &#39;me&#39; or &#39;I&#39;\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tReviewScore -= 2;\r\n\t\t\t\t\tSystem.out.println(&quot;Score is &quot;+ ReviewScore); // deducts by 2 pts \r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( s.contains (&quot;I&quot;)) {\r\n\t\t\t\t\t\tReviewScore -= 2;\r\n\t\t\t\t\t\tSystem.out.println(&quot;Score is &quot;+ ReviewScore);\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n \r\n\t\t    }\r\n\t\t\r\n\t\t\r\n\t}\r\n}\r\n}\r\n\r\n      ","title":"If statement in for loop only running once in JAVA","body":"<p>Im trying to make an if statement that deducts 2 points for each time the verb 'me' or 'I' is found in a string. To do this I have split the string into separate words. To test I changed the string to have 2x &quot;me&quot;. But the score is only deducted once instead of twice (as there are 2 x &quot;me&quot;). Tried adding a while loop but it just kept deducting until negative. Baby language please, I am a beginner coder. Thanks in advance</p>\n<pre><code>public static void main(String[] args) { //getWordLength() { // Checking word length. Less than 6 means reviewer can't weigh out positives and negatives\n        // TODO Auto-generated method stub\n         int ReviewScore = 30;\n        \n         String Review = &quot;me I me, from Montreal&quot;;\n         String[] words = Review.split(&quot;\\\\s+&quot;);\n         \n          System.out.println(&quot;Word Count is: &quot;+words.length);\n           int wordlength = Integer.valueOf(words.length);\n          \n           \n            if (wordlength&lt; 6) { \n                 ReviewScore -=4; // deducts 4pts if review less than 6 words\n                System.out.println(&quot;Score is &quot;+ ReviewScore);\n                \n            }\n            verbCount( ReviewScore,Review);\n            \n    }\n    \n        public static  void verbCount (int ReviewScore, String Review) { //Count verbs 'I' or 'me'\n    \n        for (String s : Review.split(&quot;\\n&quot;) ) { // splits review into separate words\n            \n        \n            if (s.contains(&quot;me&quot; )){ // Checks for 'me' or 'I'\n            \n                \n                ReviewScore -= 2;\n                System.out.println(&quot;Score is &quot;+ ReviewScore); // deducts by 2 pts \n                \n                \n                if ( s.contains (&quot;I&quot;)) {\n                    ReviewScore -= 2;\n                    System.out.println(&quot;Score is &quot;+ ReviewScore);\n                \n                }\n\n        }\n    \n    \n}\n</code></pre>\n<p>}\n}</p>\n"},{"tags":["java","encryption","aes","rsa"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1646851811,"post_id":71414347,"comment_id":126228673,"body_markdown":"It&#39;s best not to call it PGP, which most people would take as a reference to code that complies with the OpenPGP standard. Also, you must encrypt with the recipient&#39;s public key, not theirs or yours private key.","body":"It&#39;s best not to call it PGP, which most people would take as a reference to code that complies with the OpenPGP standard. Also, you must encrypt with the recipient&#39;s public key, not theirs or yours private key."},{"owner":{"account_id":24506835,"reputation":1,"user_id":18421732,"display_name":"alexg"},"score":0,"creation_date":1646930031,"post_id":71414347,"comment_id":126250763,"body_markdown":"@PresidentJamesK.Polk Thanks Mr. President, I will change that","body":"@PresidentJamesK.Polk Thanks Mr. President, I will change that"}],"owner":{"account_id":24506835,"reputation":1,"user_id":18421732,"display_name":"alexg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646850670,"creation_date":1646850670,"question_id":71414347,"body_markdown":"I am making a PGP program for a school class, however I am having some trouble unwrapping and wrapping keys. I am encrypting the text with a random aes key, then wrapping the aes key with the private key from the KeyPair. To decrypt, I am unwrapping the aes key with the public key from the KeyPair, however I am getting the **Key is too long for unwrapping** error. I checked out [this question](https://stackoverflow.com/questions/26237273/spring-saml-key-is-too-long-for-unwrapping-invalidkeyexception), but I am pretty sure I am using the correct keys to unwrap and wrap. Here is my code for wrapping and unwrapping\r\n\r\n```    \r\nbyte[] returnWrappedKey(Key keyToWrap, Key keyForWrapping) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, IllegalBlockSizeException {\r\n    Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n    cipher.init(Cipher.WRAP_MODE, keyForWrapping);\r\n    return cipher.wrap(keyToWrap);\r\n}\r\nKey returnUnwrappedKey(byte[] keyToUnwrap, Key keyForUnwrapping) throws IllegalBlockSizeException, BadPaddingException, InvalidKeyException, NoSuchPaddingException, NoSuchAlgorithmException, NoSuchProviderException {\r\n    Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n    cipher.init(Cipher.UNWRAP_MODE, keyForUnwrapping);\r\n    return cipher.unwrap(keyToUnwrap, &quot;AES&quot;, Cipher.SECRET_KEY);\r\n}\r\n```\r\n\r\nI pass in the public or private keyFor(Un)Wrapping, yet whichever way I do it I get the error. I am using swing to have the user input a key, and ```.getBytes()``` to get the key for unwrapping.\r\n\r\nFull code **(Not sure if this is helpful)**\r\n\r\n```\r\nimport org.jetbrains.annotations.*;\r\n\r\nimport javax.crypto.*;\r\nimport javax.swing.*;\r\nimport javax.swing.filechooser.*;\r\nimport java.awt.*;\r\nimport java.awt.datatransfer.*;\r\nimport java.io.*;\r\nimport java.nio.charset.*;\r\nimport java.nio.file.*;\r\nimport java.security.*;\r\nimport java.security.spec.*;\r\nimport java.util.*;\r\n\r\npublic class run {\r\n    /**\r\n     * Variable State meaning\r\n     * 1: Key is Public\r\n     * 2: Key is Private\r\n     * 3: Key is not defined as either public or private\r\n     */\r\n    static int keyState = 3;\r\n    static int AESKeyState = 3;\r\n    static byte[] operationBytes;\r\n    static PublicKey operationalPubKey;\r\n    static PrivateKey operationalPrvKey;\r\n    static Key operationalAESKey;\r\n    static final gui window = new gui();\r\n    static rsaEncryption rsaMethods = new rsaEncryption();\r\n    static aesEncryption aesMethods = new aesEncryption();\r\n\r\n    public static void main(String[] args) {\r\n        JFileChooser fileChooser = new JFileChooser(FileSystemView.getFileSystemView().getHomeDirectory());\r\n        fileChooser.setFileSelectionMode(JFileChooser.FILES_ONLY);\r\n        window.createSignature.addActionListener(e -&gt; {\r\n            KeyPair pair = null;\r\n            try {\r\n                pair = rsaMethods.generateKeyPair();\r\n            } catch (NoSuchAlgorithmException noSuchAlgorithmException) {\r\n                displayError(noSuchAlgorithmException);\r\n            }\r\n            assert pair != null;\r\n            window.publicKeyOutputArea.setText(rsaMethods.generatePublicKeyString(pair.getPublic()));\r\n            window.privateKeyOutputArea.setText(rsaMethods.generatePrivateKeyString(pair.getPrivate()));\r\n        });\r\n        window.copyPublicKeyToClipboard.addActionListener(e -&gt; rsaMethods.copyDataToClipboard(window.publicKeyOutputArea.getText()));\r\n        window.copyPrivateKeyToClipboard.addActionListener(e -&gt; rsaMethods.copyDataToClipboard(window.privateKeyOutputArea.getText()));\r\n        window.exportPublicKeyToFile.addActionListener(e -&gt; {\r\n            int choice = fileChooser.showOpenDialog(null);\r\n            if (choice == JFileChooser.APPROVE_OPTION) {\r\n                try {\r\n                    rsaMethods.exportDataToFile(fileChooser.getSelectedFile(), window.publicKeyOutputArea.getText());\r\n                } catch (IOException ioException) {\r\n                    displayError(ioException);\r\n                }\r\n            }\r\n        });\r\n        window.exportPrivateKeyToFile.addActionListener(e -&gt; {\r\n            int choice = fileChooser.showOpenDialog(null);\r\n            if (choice == JFileChooser.APPROVE_OPTION) {\r\n                try {\r\n                    rsaMethods.exportDataToFile(fileChooser.getSelectedFile(), window.privateKeyOutputArea.getText());\r\n                } catch (IOException ioException) {\r\n                    displayError(ioException);\r\n                }\r\n            }\r\n        });\r\n        window.importPublicKeyFromFile.addActionListener(e -&gt; {\r\n            PublicKey publicKey = null;\r\n            int choice = fileChooser.showOpenDialog(null);\r\n            if (choice == JFileChooser.APPROVE_OPTION) {\r\n                try {\r\n                    publicKey = rsaMethods.getPublicKeyFromFile(fileChooser.getSelectedFile());\r\n                } catch (NoSuchAlgorithmException | IOException | InvalidKeySpecException noSuchAlgorithmException) {\r\n                    displayError(noSuchAlgorithmException);\r\n                }\r\n            }\r\n            assert publicKey != null;\r\n            window.pasteKeyForOperation.setText(rsaMethods.generatePublicKeyString(publicKey));\r\n            keyState = 1;\r\n        });\r\n        window.importPrivateKeyFromFile.addActionListener(e -&gt; {\r\n            PrivateKey privateKey = null;\r\n            int choice = fileChooser.showOpenDialog(null);\r\n            if (choice == JFileChooser.APPROVE_OPTION) {\r\n                try {\r\n                    privateKey = rsaMethods.getPrivateKeyFromFile(fileChooser.getSelectedFile());\r\n                } catch (IOException | NoSuchAlgorithmException | InvalidKeySpecException ioException) {\r\n                    displayError(ioException);\r\n                }\r\n            }\r\n            assert privateKey != null;\r\n            window.pasteKeyForOperation.setText(rsaMethods.generatePrivateKeyString(privateKey));\r\n            keyState = 2;\r\n        });\r\n        window.checkKey.addActionListener(e -&gt; {\r\n            if (keyState == 3 &amp;&amp; window.pasteKeyForOperation.getText().equals(&quot;&quot;)) {\r\n                JOptionPane.showMessageDialog(null, &quot;You have not input a valid key!&quot;);\r\n            } else {\r\n                if (window.publicKeyPasteSelection.isSelected()) {\r\n                    try {\r\n                        operationalPubKey = rsaMethods.getPubKeyFromString(window.pasteKeyForOperation.getText());\r\n                    } catch (NoSuchAlgorithmException | InvalidKeySpecException noSuchAlgorithmException) {\r\n                        displayError(noSuchAlgorithmException);\r\n                    }\r\n                    keyState = 1;\r\n                    window.pasteKeyForOperation.setText(&quot;&quot;);\r\n                    AESKeyState = 3;\r\n                } else if (window.privateKeyPasteSelection.isSelected()) {\r\n                    try {\r\n                        operationalPrvKey = rsaMethods.getPrvKeyFromString(window.pasteKeyForOperation.getText());\r\n                    } catch (NoSuchAlgorithmException | InvalidKeySpecException noSuchAlgorithmException) {\r\n                        displayError(noSuchAlgorithmException);\r\n                    }\r\n                    keyState = 2;\r\n                    window.pasteKeyForOperation.setText(&quot;&quot;);\r\n                    AESKeyState = 3;\r\n                }\r\n            }\r\n        });\r\n        window.checkAESKey.addActionListener(e -&gt; {\r\n            if (keyState == 3) {\r\n                JOptionPane.showMessageDialog(null, &quot;You need to first input a RSA Key and select public or private!&quot;);\r\n            } else if (Objects.equals(window.pasteKeyForOperation.getText(), &quot;&quot;)) {\r\n                JOptionPane.showMessageDialog(null, &quot;You have not input a key!&quot;);\r\n            } else if (keyState == 1) {\r\n                try {\r\n                    operationalAESKey = rsaMethods.returnUnwrappedKey(window.pasteKeyForOperation.getText().getBytes(), operationalPubKey);\r\n                } catch (IllegalBlockSizeException | BadPaddingException | InvalidKeyException | NoSuchPaddingException | NoSuchAlgorithmException | NoSuchProviderException ex) {\r\n                    displayError(ex);\r\n                }\r\n                AESKeyState = 1;\r\n            } else if (keyState == 2) {\r\n                try {\r\n                    operationalAESKey = rsaMethods.returnUnwrappedKey(window.pasteKeyForOperation.getText().getBytes(), operationalPrvKey);\r\n                } catch (IllegalBlockSizeException | BadPaddingException | InvalidKeyException | NoSuchPaddingException | NoSuchAlgorithmException | NoSuchProviderException ex) {\r\n                    displayError(ex);\r\n                }\r\n                AESKeyState = 2;\r\n            }\r\n        });\r\n        window.operationDataFileImport.addActionListener(e -&gt; {\r\n            int choice = fileChooser.showOpenDialog(null);\r\n            if (choice == JFileChooser.APPROVE_OPTION) {\r\n                window.operationPlainTextInput.setText(&quot;Data received from file import&quot;);\r\n            }\r\n            try {\r\n                operationBytes = rsaMethods.importDataFromFile(fileChooser.getSelectedFile());\r\n            } catch (IOException ioException) {\r\n                displayError(ioException);\r\n            }\r\n        });\r\n        window.encryptDataButton.addActionListener(e -&gt; {\r\n            if (operationBytes == null) {\r\n                operationBytes = window.operationPlainTextInput.getText().getBytes(StandardCharsets.UTF_8);\r\n            }\r\n            try {\r\n                encryptData();\r\n            } catch (NoSuchPaddingException | IllegalBlockSizeException | NoSuchAlgorithmException | BadPaddingException | InvalidKeyException | NoSuchProviderException noSuchPaddingException) {\r\n                displayError(noSuchPaddingException);\r\n            }\r\n        });\r\n        window.decryptDataButton.addActionListener(e -&gt; {\r\n            if (operationBytes == null) {\r\n                operationBytes = window.operationPlainTextInput.getText().getBytes(StandardCharsets.UTF_8);\r\n            }\r\n            try {\r\n                decryptData();\r\n            } catch (IllegalBlockSizeException | NoSuchPaddingException | BadPaddingException | NoSuchAlgorithmException | InvalidKeyException | NoSuchProviderException illegalBlockSizeException) {\r\n                displayError(illegalBlockSizeException);\r\n            }\r\n        });\r\n        window.operationDataFileExport.addActionListener(e -&gt; {\r\n            int choice = fileChooser.showOpenDialog(null);\r\n            if (choice == JFileChooser.APPROVE_OPTION) {\r\n                try {\r\n                    rsaMethods.exportDataToFile(fileChooser.getSelectedFile(), window.operationPlainTextOutput.getText());\r\n                } catch (IOException ioException) {\r\n                    displayError(ioException);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Sets the plain text output of the operationPlainTextOutput\r\n     * panel to the decrypted or encrypted data encoded in\r\n     * Base64 using the key input from the user.\r\n     *\r\n     * @throws IllegalBlockSizeException Throws IllegalBlockSizeException.\r\n     * @throws NoSuchPaddingException Throws NoSuchPaddingException.\r\n     * @throws BadPaddingException Throws BadPaddingException.\r\n     * @throws NoSuchAlgorithmException Throws NoSuchAlgorithmException.\r\n     * @throws InvalidKeyException Throws InvalidKeyException.\r\n     */\r\n    private static void encryptData() throws NoSuchPaddingException, IllegalBlockSizeException, NoSuchAlgorithmException, BadPaddingException, InvalidKeyException, NoSuchProviderException {\r\n        operationBytes = window.operationPlainTextInput.getText().getBytes();\r\n        SecretKey key = aesMethods.returnKey();\r\n        window.operationPlainTextOutput.setText(Base64.getEncoder().encodeToString(aesMethods.returnEncryptedData(operationBytes, key)));\r\n        if (keyState == 1) {\r\n            byte[] bKey = rsaMethods.returnWrappedKey(key, operationalPubKey);\r\n            JOptionPane.showMessageDialog(null, &quot;Your AES key (RSA PUB KEY) has been copied to your clipboard!&quot;);\r\n            rsaMethods.copyDataToClipboard(Base64.getEncoder().encodeToString(bKey));\r\n            keyState = 3;\r\n        } else if (keyState == 2) {\r\n            byte[] bKey = rsaMethods.returnWrappedKey(key, operationalPrvKey);\r\n            JOptionPane.showMessageDialog(null, &quot;Your AES key (RSA PRV KEY) has been copied to your clipboard!&quot;);\r\n            rsaMethods.copyDataToClipboard(Base64.getEncoder().encodeToString(bKey));\r\n            keyState = 3;\r\n        } else {\r\n            JOptionPane.showMessageDialog(null, &quot;You have not input a key!&quot;);\r\n        }\r\n    }\r\n    private static void decryptData() throws NoSuchPaddingException, IllegalBlockSizeException, NoSuchAlgorithmException, BadPaddingException, InvalidKeyException, NoSuchProviderException {\r\n        operationBytes = window.operationPlainTextInput.getText().getBytes();\r\n        Key key = operationalAESKey;\r\n        if (AESKeyState == 1 || AESKeyState == 2) {\r\n            window.operationPlainTextOutput.setText(Base64.getEncoder().encodeToString(aesMethods.returnDecryptedData(window.operationPlainTextInput.getText().getBytes(), key)));\r\n        } else {\r\n            JOptionPane.showMessageDialog(null, &quot;You have not input a AES key!&quot;);\r\n        }\r\n    }\r\n    private static void displayError(@NotNull Exception e) {\r\n        System.out.println(keyState);\r\n        e.printStackTrace();\r\n        JOptionPane.showMessageDialog(null, e.getMessage());\r\n    }\r\n}\r\n\r\nclass rsaEncryption {\r\n    KeyPair generateKeyPair() throws NoSuchAlgorithmException {\r\n        SecureRandom random = new SecureRandom();\r\n        KeyPairGenerator generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n        generator.initialize(2048, random);\r\n        return generator.generateKeyPair();\r\n    }\r\n    PublicKey getPublicKeyFromFile(@NotNull File file) throws NoSuchAlgorithmException, IOException, InvalidKeySpecException {\r\n        return KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(new X509EncodedKeySpec(Files.readAllBytes(file.toPath())));\r\n    }\r\n    PrivateKey getPrivateKeyFromFile(@NotNull File file) throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\r\n        return KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(new PKCS8EncodedKeySpec(Files.readAllBytes(file.toPath())));\r\n    }\r\n    void copyDataToClipboard(String string) {\r\n        StringSelection selection = new StringSelection(string);\r\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n        clipboard.setContents(selection, null);\r\n    }\r\n    String generatePrivateKeyString(@NotNull PrivateKey privateKey) {\r\n        return Base64.getEncoder().encodeToString(privateKey.getEncoded());\r\n    }\r\n    String generatePublicKeyString(@NotNull PublicKey publicKey) {\r\n        return Base64.getEncoder().encodeToString(publicKey.getEncoded());\r\n    }\r\n    byte[] returnWrappedKey(Key keyToWrap, Key keyForWrapping) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, IllegalBlockSizeException {\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n        cipher.init(Cipher.WRAP_MODE, keyForWrapping);\r\n        return cipher.wrap(keyToWrap);\r\n    }\r\n    Key returnUnwrappedKey(byte[] keyToUnwrap, Key keyForUnwrapping) throws IllegalBlockSizeException, BadPaddingException, InvalidKeyException, NoSuchPaddingException, NoSuchAlgorithmException, NoSuchProviderException {\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n        cipher.init(Cipher.UNWRAP_MODE, keyForUnwrapping);\r\n        return cipher.unwrap(keyToUnwrap, &quot;AES&quot;, Cipher.SECRET_KEY);\r\n    }\r\n    byte[] importDataFromFile(File file) throws IOException {\r\n        FileInputStream fis = new FileInputStream(file);\r\n        return fis.readAllBytes();\r\n    }\r\n    void exportDataToFile(File file, String string) throws IOException {\r\n        BufferedWriter writer = new BufferedWriter(new FileWriter(file));\r\n        writer.write(string);\r\n        writer.flush();\r\n    }\r\n    PublicKey getPubKeyFromString(String string) throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n        byte[] publicKeyBytes = Base64.getDecoder().decode(string);\r\n        KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        return factory.generatePublic(new X509EncodedKeySpec(publicKeyBytes));\r\n    }\r\n    PrivateKey getPrvKeyFromString(String string) throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n        byte[] privateKeyBytes = Base64.getDecoder().decode(string);\r\n        KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        return factory.generatePrivate(new PKCS8EncodedKeySpec(privateKeyBytes));\r\n    }\r\n}\r\nclass aesEncryption {\r\n    SecretKey returnKey() throws NoSuchAlgorithmException {\r\n        KeyGenerator gen = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        gen.init(new SecureRandom());\r\n        return gen.generateKey();\r\n    }\r\n    byte[] returnEncryptedData(byte[] data, Key key) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\r\n        Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n        cipher.init(Cipher.ENCRYPT_MODE, key);\r\n        return cipher.doFinal(data);\r\n    }\r\n    byte[] returnDecryptedData(byte[] data, Key key) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\r\n        Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n        cipher.init(Cipher.DECRYPT_MODE, key);\r\n        return  cipher.doFinal(data);\r\n    }\r\n}\r\n\r\nclass gui {\r\n    public gui() {\r\n        initialize();\r\n    }\r\n\r\n    JFrame frame = new JFrame();\r\n    JButton createSignature = new JButton(&quot;Create!&quot;);\r\n    JTextArea privateKeyOutputArea = new JTextArea();\r\n    JTextArea publicKeyOutputArea = new JTextArea();\r\n    JButton exportPublicKeyToFile = new JButton(&quot;Export Key to File&quot;);\r\n    JButton copyPublicKeyToClipboard = new JButton(&quot;Copy Key to Clipboard&quot;);\r\n    JButton exportPrivateKeyToFile = new JButton(&quot;Export Key to File&quot;);\r\n    JButton copyPrivateKeyToClipboard = new JButton(&quot;Copy Key to Clipboard&quot;);\r\n    JButton importPublicKeyFromFile = new JButton(&quot;PubKey&quot;);\r\n    JButton importPrivateKeyFromFile = new JButton(&quot;PrvKey&quot;);\r\n    JRadioButton publicKeyPasteSelection = new JRadioButton(&quot;PUBLIC KEY&quot;);\r\n    JRadioButton privateKeyPasteSelection = new JRadioButton(&quot;PRIVATE KEY&quot;);\r\n    JTextField pasteKeyForOperation = new JTextField();\r\n    JTextArea operationPlainTextInput = new JTextArea();\r\n    JTextArea operationPlainTextOutput = new JTextArea();\r\n    JButton encryptDataButton = new JButton(&quot;Encrypt&quot;);\r\n    JButton decryptDataButton = new JButton(&quot;Decrypt&quot;);\r\n    JButton operationDataFileImport = new JButton(&quot;Import Data From File&quot;);\r\n    JButton operationDataFileExport = new JButton(&quot;Export Data To File&quot;);\r\n    JButton checkKey = new JButton(&quot;Check Key&quot;);\r\n    JButton checkAESKey = new JButton(&quot;AES Key&quot;);\r\n\r\n    private void initialize() {\r\n        frame.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 12));\r\n        frame.setTitle(&quot;RSA SIGNATURE MANAGER&quot;);\r\n        frame.setBounds(100, 100, 619, 495);\r\n        frame.setResizable(false);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        JTabbedPane tabbedPane = new JTabbedPane(JTabbedPane.TOP);\r\n        frame.getContentPane().add(tabbedPane, BorderLayout.CENTER);\r\n\r\n        JPanel signatureCreationPanel = new JPanel();\r\n        signatureCreationPanel.setBackground(Color.DARK_GRAY);\r\n        tabbedPane.addTab(&quot;Create New Signature&quot;, null, signatureCreationPanel, null);\r\n        signatureCreationPanel.setLayout(null);\r\n\r\n        JLabel createNewPgpSignature = new JLabel(&quot;Create New PGP Signature&quot;);\r\n        createNewPgpSignature.setForeground(Color.WHITE);\r\n        createNewPgpSignature.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 24));\r\n        createNewPgpSignature.setBounds(10, 11, 391, 30);\r\n        signatureCreationPanel.add(createNewPgpSignature);\r\n\r\n        createSignature.setBackground(Color.BLACK);\r\n        createSignature.setForeground(Color.WHITE);\r\n        createSignature.setBounds(379, 17, 188, 23);\r\n        signatureCreationPanel.add(createSignature);\r\n\r\n        JScrollPane scrollPane = new JScrollPane(privateKeyOutputArea);\r\n        scrollPane.setBounds(306, 103, 282, 282);\r\n        privateKeyOutputArea.setEditable(false);\r\n        privateKeyOutputArea.add(new JScrollBar());\r\n        privateKeyOutputArea.setLineWrap(true);\r\n        privateKeyOutputArea.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 12));\r\n        privateKeyOutputArea.setBackground(Color.BLACK);\r\n        privateKeyOutputArea.setForeground(Color.WHITE);\r\n        signatureCreationPanel.add(scrollPane);\r\n\r\n        publicKeyOutputArea.setEditable(false);\r\n        publicKeyOutputArea.setLineWrap(true);\r\n        publicKeyOutputArea.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 12));\r\n        publicKeyOutputArea.setBackground(Color.BLACK);\r\n        publicKeyOutputArea.setForeground(Color.WHITE);\r\n        publicKeyOutputArea.setBounds(10, 103, 286, 282);\r\n        signatureCreationPanel.add(publicKeyOutputArea);\r\n\r\n        exportPublicKeyToFile.setBackground(Color.BLACK);\r\n        exportPublicKeyToFile.setForeground(Color.WHITE);\r\n        exportPublicKeyToFile.setBounds(10, 396, 136, 23);\r\n        signatureCreationPanel.add(exportPublicKeyToFile);\r\n\r\n        copyPublicKeyToClipboard.setBackground(Color.BLACK);\r\n        copyPublicKeyToClipboard.setForeground(Color.WHITE);\r\n        copyPublicKeyToClipboard.setBounds(156, 396, 140, 23);\r\n        signatureCreationPanel.add(copyPublicKeyToClipboard);\r\n\r\n        exportPrivateKeyToFile.setBackground(Color.BLACK);\r\n        exportPrivateKeyToFile.setForeground(Color.WHITE);\r\n        exportPrivateKeyToFile.setBounds(306, 396, 136, 23);\r\n        signatureCreationPanel.add(exportPrivateKeyToFile);\r\n\r\n        copyPrivateKeyToClipboard.setBackground(Color.BLACK);\r\n        copyPrivateKeyToClipboard.setForeground(Color.WHITE);\r\n        copyPrivateKeyToClipboard.setBounds(448, 396, 140, 23);\r\n        signatureCreationPanel.add(copyPrivateKeyToClipboard);\r\n\r\n        JLabel publicKeyCreationContext = new JLabel(&quot;Public Key:&quot;);\r\n        publicKeyCreationContext.setForeground(Color.WHITE);\r\n        publicKeyCreationContext.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 16));\r\n        publicKeyCreationContext.setBounds(10, 69, 136, 23);\r\n        signatureCreationPanel.add(publicKeyCreationContext);\r\n\r\n        JLabel privateKeyCreationContext = new JLabel(&quot;Private Key:&quot;);\r\n        privateKeyCreationContext.setForeground(Color.WHITE);\r\n        privateKeyCreationContext.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 16));\r\n        privateKeyCreationContext.setBounds(306, 69, 136, 23);\r\n        signatureCreationPanel.add(privateKeyCreationContext);\r\n\r\n        JPanel operationPanel = new JPanel();\r\n        operationPanel.setBackground(Color.DARK_GRAY);\r\n        tabbedPane.addTab(&quot;Encrypt or Decrypt&quot;, null, operationPanel, null);\r\n        operationPanel.setLayout(null);\r\n\r\n        importPublicKeyFromFile.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 18));\r\n        importPublicKeyFromFile.setForeground(Color.WHITE);\r\n        importPublicKeyFromFile.setBackground(Color.BLACK);\r\n        importPublicKeyFromFile.setBounds(10, 11, 100, 26);\r\n        operationPanel.add(importPublicKeyFromFile);\r\n\r\n        importPrivateKeyFromFile.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 18));\r\n        importPrivateKeyFromFile.setForeground(Color.WHITE);\r\n        importPrivateKeyFromFile.setBackground(Color.BLACK);\r\n        importPrivateKeyFromFile.setBounds(120, 11, 100, 26);\r\n        operationPanel.add(importPrivateKeyFromFile);\r\n\r\n        pasteKeyForOperation.setForeground(Color.WHITE);\r\n        pasteKeyForOperation.setBackground(Color.BLACK);\r\n        pasteKeyForOperation.setToolTipText(&quot;Paste Key Here&quot;);\r\n        pasteKeyForOperation.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 18));\r\n        pasteKeyForOperation.setBounds(230, 11, 200, 26);\r\n        operationPanel.add(pasteKeyForOperation);\r\n\r\n        privateKeyPasteSelection.setForeground(Color.WHITE);\r\n        privateKeyPasteSelection.setBackground(Color.DARK_GRAY);\r\n        privateKeyPasteSelection.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 14));\r\n        privateKeyPasteSelection.setBounds(170, 40, 125, 26);\r\n        operationPanel.add(privateKeyPasteSelection);\r\n\r\n        publicKeyPasteSelection.setForeground(Color.WHITE);\r\n        publicKeyPasteSelection.setBackground(Color.DARK_GRAY);\r\n        publicKeyPasteSelection.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 14));\r\n        publicKeyPasteSelection.setBounds(290, 40, 150, 26);\r\n        operationPanel.add(publicKeyPasteSelection);\r\n\r\n        ButtonGroup group = new ButtonGroup();\r\n        group.add(privateKeyPasteSelection);\r\n        group.add(publicKeyPasteSelection);\r\n\r\n        checkKey.setBackground(Color.BLACK);\r\n        checkKey.setForeground(Color.WHITE);\r\n        checkKey.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 18));\r\n        checkKey.setBounds(440, 11, 140, 26);\r\n        operationPanel.add(checkKey);\r\n\r\n        checkAESKey.setBackground(Color.BLACK);\r\n        checkAESKey.setForeground(Color.white);\r\n        checkAESKey.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 18));\r\n        checkAESKey.setBounds(440, 39, 140, 26);\r\n        operationPanel.add(checkAESKey);\r\n\r\n        JScrollPane operationInputScrollPane = new JScrollPane(operationPlainTextInput);\r\n        operationInputScrollPane.setBounds(10, 102, 280, 256);\r\n        operationPlainTextInput.setLineWrap(true);\r\n        operationPlainTextInput.setBackground(Color.BLACK);\r\n        operationPlainTextInput.setForeground(Color.WHITE);\r\n        operationPanel.add(operationInputScrollPane);\r\n\r\n        JScrollPane operationOutputScrollPane = new JScrollPane(operationPlainTextOutput);\r\n        operationOutputScrollPane.setBounds(308, 102, 280, 256);\r\n        operationPlainTextOutput.setLineWrap(true);\r\n        operationPlainTextOutput.setEditable(false);\r\n        operationPlainTextOutput.setForeground(Color.WHITE);\r\n        operationPlainTextOutput.setBackground(Color.BLACK);\r\n        operationPanel.add(operationOutputScrollPane);\r\n\r\n        JLabel whereToPasteDataLabel = new JLabel(&quot;Paste data here:&quot;);\r\n        whereToPasteDataLabel.setForeground(Color.WHITE);\r\n        whereToPasteDataLabel.setBackground(Color.BLACK);\r\n        whereToPasteDataLabel.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 14));\r\n        whereToPasteDataLabel.setBounds(20, 78, 142, 14);\r\n        operationPanel.add(whereToPasteDataLabel);\r\n\r\n        JLabel operationOutputLabel = new JLabel(&quot;Output in Plaintext:&quot;);\r\n        operationOutputLabel.setForeground(Color.WHITE);\r\n        operationOutputLabel.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 14));\r\n        operationOutputLabel.setBackground(Color.BLACK);\r\n        operationOutputLabel.setBounds(319, 78, 250, 14);\r\n        operationPanel.add(operationOutputLabel);\r\n\r\n        encryptDataButton.setForeground(Color.WHITE);\r\n        encryptDataButton.setBackground(Color.BLACK);\r\n        encryptDataButton.setBounds(257, 369, 89, 23);\r\n        operationPanel.add(encryptDataButton);\r\n\r\n        decryptDataButton.setForeground(Color.WHITE);\r\n        decryptDataButton.setBackground(Color.BLACK);\r\n        decryptDataButton.setBounds(257, 396, 89, 23);\r\n        operationPanel.add(decryptDataButton);\r\n\r\n        operationDataFileImport.setForeground(Color.WHITE);\r\n        operationDataFileImport.setBackground(Color.BLACK);\r\n        operationDataFileImport.setBounds(10, 369, 170, 23);\r\n        operationPanel.add(operationDataFileImport);\r\n\r\n        operationDataFileExport.setForeground(Color.WHITE);\r\n        operationDataFileExport.setBackground(Color.BLACK);\r\n        operationDataFileExport.setBounds(436, 369, 152, 23);\r\n        operationPanel.add(operationDataFileExport);\r\n\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n\r\n```\r\n","title":"Key too long for unwrapping","body":"<p>I am making a PGP program for a school class, however I am having some trouble unwrapping and wrapping keys. I am encrypting the text with a random aes key, then wrapping the aes key with the private key from the KeyPair. To decrypt, I am unwrapping the aes key with the public key from the KeyPair, however I am getting the <strong>Key is too long for unwrapping</strong> error. I checked out <a href=\"https://stackoverflow.com/questions/26237273/spring-saml-key-is-too-long-for-unwrapping-invalidkeyexception\">this question</a>, but I am pretty sure I am using the correct keys to unwrap and wrap. Here is my code for wrapping and unwrapping</p>\n<pre><code>byte[] returnWrappedKey(Key keyToWrap, Key keyForWrapping) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, IllegalBlockSizeException {\n    Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\n    cipher.init(Cipher.WRAP_MODE, keyForWrapping);\n    return cipher.wrap(keyToWrap);\n}\nKey returnUnwrappedKey(byte[] keyToUnwrap, Key keyForUnwrapping) throws IllegalBlockSizeException, BadPaddingException, InvalidKeyException, NoSuchPaddingException, NoSuchAlgorithmException, NoSuchProviderException {\n    Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\n    cipher.init(Cipher.UNWRAP_MODE, keyForUnwrapping);\n    return cipher.unwrap(keyToUnwrap, &quot;AES&quot;, Cipher.SECRET_KEY);\n}\n</code></pre>\n<p>I pass in the public or private keyFor(Un)Wrapping, yet whichever way I do it I get the error. I am using swing to have the user input a key, and <code>.getBytes()</code> to get the key for unwrapping.</p>\n<p>Full code <strong>(Not sure if this is helpful)</strong></p>\n<pre><code>import org.jetbrains.annotations.*;\n\nimport javax.crypto.*;\nimport javax.swing.*;\nimport javax.swing.filechooser.*;\nimport java.awt.*;\nimport java.awt.datatransfer.*;\nimport java.io.*;\nimport java.nio.charset.*;\nimport java.nio.file.*;\nimport java.security.*;\nimport java.security.spec.*;\nimport java.util.*;\n\npublic class run {\n    /**\n     * Variable State meaning\n     * 1: Key is Public\n     * 2: Key is Private\n     * 3: Key is not defined as either public or private\n     */\n    static int keyState = 3;\n    static int AESKeyState = 3;\n    static byte[] operationBytes;\n    static PublicKey operationalPubKey;\n    static PrivateKey operationalPrvKey;\n    static Key operationalAESKey;\n    static final gui window = new gui();\n    static rsaEncryption rsaMethods = new rsaEncryption();\n    static aesEncryption aesMethods = new aesEncryption();\n\n    public static void main(String[] args) {\n        JFileChooser fileChooser = new JFileChooser(FileSystemView.getFileSystemView().getHomeDirectory());\n        fileChooser.setFileSelectionMode(JFileChooser.FILES_ONLY);\n        window.createSignature.addActionListener(e -&gt; {\n            KeyPair pair = null;\n            try {\n                pair = rsaMethods.generateKeyPair();\n            } catch (NoSuchAlgorithmException noSuchAlgorithmException) {\n                displayError(noSuchAlgorithmException);\n            }\n            assert pair != null;\n            window.publicKeyOutputArea.setText(rsaMethods.generatePublicKeyString(pair.getPublic()));\n            window.privateKeyOutputArea.setText(rsaMethods.generatePrivateKeyString(pair.getPrivate()));\n        });\n        window.copyPublicKeyToClipboard.addActionListener(e -&gt; rsaMethods.copyDataToClipboard(window.publicKeyOutputArea.getText()));\n        window.copyPrivateKeyToClipboard.addActionListener(e -&gt; rsaMethods.copyDataToClipboard(window.privateKeyOutputArea.getText()));\n        window.exportPublicKeyToFile.addActionListener(e -&gt; {\n            int choice = fileChooser.showOpenDialog(null);\n            if (choice == JFileChooser.APPROVE_OPTION) {\n                try {\n                    rsaMethods.exportDataToFile(fileChooser.getSelectedFile(), window.publicKeyOutputArea.getText());\n                } catch (IOException ioException) {\n                    displayError(ioException);\n                }\n            }\n        });\n        window.exportPrivateKeyToFile.addActionListener(e -&gt; {\n            int choice = fileChooser.showOpenDialog(null);\n            if (choice == JFileChooser.APPROVE_OPTION) {\n                try {\n                    rsaMethods.exportDataToFile(fileChooser.getSelectedFile(), window.privateKeyOutputArea.getText());\n                } catch (IOException ioException) {\n                    displayError(ioException);\n                }\n            }\n        });\n        window.importPublicKeyFromFile.addActionListener(e -&gt; {\n            PublicKey publicKey = null;\n            int choice = fileChooser.showOpenDialog(null);\n            if (choice == JFileChooser.APPROVE_OPTION) {\n                try {\n                    publicKey = rsaMethods.getPublicKeyFromFile(fileChooser.getSelectedFile());\n                } catch (NoSuchAlgorithmException | IOException | InvalidKeySpecException noSuchAlgorithmException) {\n                    displayError(noSuchAlgorithmException);\n                }\n            }\n            assert publicKey != null;\n            window.pasteKeyForOperation.setText(rsaMethods.generatePublicKeyString(publicKey));\n            keyState = 1;\n        });\n        window.importPrivateKeyFromFile.addActionListener(e -&gt; {\n            PrivateKey privateKey = null;\n            int choice = fileChooser.showOpenDialog(null);\n            if (choice == JFileChooser.APPROVE_OPTION) {\n                try {\n                    privateKey = rsaMethods.getPrivateKeyFromFile(fileChooser.getSelectedFile());\n                } catch (IOException | NoSuchAlgorithmException | InvalidKeySpecException ioException) {\n                    displayError(ioException);\n                }\n            }\n            assert privateKey != null;\n            window.pasteKeyForOperation.setText(rsaMethods.generatePrivateKeyString(privateKey));\n            keyState = 2;\n        });\n        window.checkKey.addActionListener(e -&gt; {\n            if (keyState == 3 &amp;&amp; window.pasteKeyForOperation.getText().equals(&quot;&quot;)) {\n                JOptionPane.showMessageDialog(null, &quot;You have not input a valid key!&quot;);\n            } else {\n                if (window.publicKeyPasteSelection.isSelected()) {\n                    try {\n                        operationalPubKey = rsaMethods.getPubKeyFromString(window.pasteKeyForOperation.getText());\n                    } catch (NoSuchAlgorithmException | InvalidKeySpecException noSuchAlgorithmException) {\n                        displayError(noSuchAlgorithmException);\n                    }\n                    keyState = 1;\n                    window.pasteKeyForOperation.setText(&quot;&quot;);\n                    AESKeyState = 3;\n                } else if (window.privateKeyPasteSelection.isSelected()) {\n                    try {\n                        operationalPrvKey = rsaMethods.getPrvKeyFromString(window.pasteKeyForOperation.getText());\n                    } catch (NoSuchAlgorithmException | InvalidKeySpecException noSuchAlgorithmException) {\n                        displayError(noSuchAlgorithmException);\n                    }\n                    keyState = 2;\n                    window.pasteKeyForOperation.setText(&quot;&quot;);\n                    AESKeyState = 3;\n                }\n            }\n        });\n        window.checkAESKey.addActionListener(e -&gt; {\n            if (keyState == 3) {\n                JOptionPane.showMessageDialog(null, &quot;You need to first input a RSA Key and select public or private!&quot;);\n            } else if (Objects.equals(window.pasteKeyForOperation.getText(), &quot;&quot;)) {\n                JOptionPane.showMessageDialog(null, &quot;You have not input a key!&quot;);\n            } else if (keyState == 1) {\n                try {\n                    operationalAESKey = rsaMethods.returnUnwrappedKey(window.pasteKeyForOperation.getText().getBytes(), operationalPubKey);\n                } catch (IllegalBlockSizeException | BadPaddingException | InvalidKeyException | NoSuchPaddingException | NoSuchAlgorithmException | NoSuchProviderException ex) {\n                    displayError(ex);\n                }\n                AESKeyState = 1;\n            } else if (keyState == 2) {\n                try {\n                    operationalAESKey = rsaMethods.returnUnwrappedKey(window.pasteKeyForOperation.getText().getBytes(), operationalPrvKey);\n                } catch (IllegalBlockSizeException | BadPaddingException | InvalidKeyException | NoSuchPaddingException | NoSuchAlgorithmException | NoSuchProviderException ex) {\n                    displayError(ex);\n                }\n                AESKeyState = 2;\n            }\n        });\n        window.operationDataFileImport.addActionListener(e -&gt; {\n            int choice = fileChooser.showOpenDialog(null);\n            if (choice == JFileChooser.APPROVE_OPTION) {\n                window.operationPlainTextInput.setText(&quot;Data received from file import&quot;);\n            }\n            try {\n                operationBytes = rsaMethods.importDataFromFile(fileChooser.getSelectedFile());\n            } catch (IOException ioException) {\n                displayError(ioException);\n            }\n        });\n        window.encryptDataButton.addActionListener(e -&gt; {\n            if (operationBytes == null) {\n                operationBytes = window.operationPlainTextInput.getText().getBytes(StandardCharsets.UTF_8);\n            }\n            try {\n                encryptData();\n            } catch (NoSuchPaddingException | IllegalBlockSizeException | NoSuchAlgorithmException | BadPaddingException | InvalidKeyException | NoSuchProviderException noSuchPaddingException) {\n                displayError(noSuchPaddingException);\n            }\n        });\n        window.decryptDataButton.addActionListener(e -&gt; {\n            if (operationBytes == null) {\n                operationBytes = window.operationPlainTextInput.getText().getBytes(StandardCharsets.UTF_8);\n            }\n            try {\n                decryptData();\n            } catch (IllegalBlockSizeException | NoSuchPaddingException | BadPaddingException | NoSuchAlgorithmException | InvalidKeyException | NoSuchProviderException illegalBlockSizeException) {\n                displayError(illegalBlockSizeException);\n            }\n        });\n        window.operationDataFileExport.addActionListener(e -&gt; {\n            int choice = fileChooser.showOpenDialog(null);\n            if (choice == JFileChooser.APPROVE_OPTION) {\n                try {\n                    rsaMethods.exportDataToFile(fileChooser.getSelectedFile(), window.operationPlainTextOutput.getText());\n                } catch (IOException ioException) {\n                    displayError(ioException);\n                }\n            }\n        });\n    }\n\n    /**\n     * Sets the plain text output of the operationPlainTextOutput\n     * panel to the decrypted or encrypted data encoded in\n     * Base64 using the key input from the user.\n     *\n     * @throws IllegalBlockSizeException Throws IllegalBlockSizeException.\n     * @throws NoSuchPaddingException Throws NoSuchPaddingException.\n     * @throws BadPaddingException Throws BadPaddingException.\n     * @throws NoSuchAlgorithmException Throws NoSuchAlgorithmException.\n     * @throws InvalidKeyException Throws InvalidKeyException.\n     */\n    private static void encryptData() throws NoSuchPaddingException, IllegalBlockSizeException, NoSuchAlgorithmException, BadPaddingException, InvalidKeyException, NoSuchProviderException {\n        operationBytes = window.operationPlainTextInput.getText().getBytes();\n        SecretKey key = aesMethods.returnKey();\n        window.operationPlainTextOutput.setText(Base64.getEncoder().encodeToString(aesMethods.returnEncryptedData(operationBytes, key)));\n        if (keyState == 1) {\n            byte[] bKey = rsaMethods.returnWrappedKey(key, operationalPubKey);\n            JOptionPane.showMessageDialog(null, &quot;Your AES key (RSA PUB KEY) has been copied to your clipboard!&quot;);\n            rsaMethods.copyDataToClipboard(Base64.getEncoder().encodeToString(bKey));\n            keyState = 3;\n        } else if (keyState == 2) {\n            byte[] bKey = rsaMethods.returnWrappedKey(key, operationalPrvKey);\n            JOptionPane.showMessageDialog(null, &quot;Your AES key (RSA PRV KEY) has been copied to your clipboard!&quot;);\n            rsaMethods.copyDataToClipboard(Base64.getEncoder().encodeToString(bKey));\n            keyState = 3;\n        } else {\n            JOptionPane.showMessageDialog(null, &quot;You have not input a key!&quot;);\n        }\n    }\n    private static void decryptData() throws NoSuchPaddingException, IllegalBlockSizeException, NoSuchAlgorithmException, BadPaddingException, InvalidKeyException, NoSuchProviderException {\n        operationBytes = window.operationPlainTextInput.getText().getBytes();\n        Key key = operationalAESKey;\n        if (AESKeyState == 1 || AESKeyState == 2) {\n            window.operationPlainTextOutput.setText(Base64.getEncoder().encodeToString(aesMethods.returnDecryptedData(window.operationPlainTextInput.getText().getBytes(), key)));\n        } else {\n            JOptionPane.showMessageDialog(null, &quot;You have not input a AES key!&quot;);\n        }\n    }\n    private static void displayError(@NotNull Exception e) {\n        System.out.println(keyState);\n        e.printStackTrace();\n        JOptionPane.showMessageDialog(null, e.getMessage());\n    }\n}\n\nclass rsaEncryption {\n    KeyPair generateKeyPair() throws NoSuchAlgorithmException {\n        SecureRandom random = new SecureRandom();\n        KeyPairGenerator generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n        generator.initialize(2048, random);\n        return generator.generateKeyPair();\n    }\n    PublicKey getPublicKeyFromFile(@NotNull File file) throws NoSuchAlgorithmException, IOException, InvalidKeySpecException {\n        return KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(new X509EncodedKeySpec(Files.readAllBytes(file.toPath())));\n    }\n    PrivateKey getPrivateKeyFromFile(@NotNull File file) throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\n        return KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(new PKCS8EncodedKeySpec(Files.readAllBytes(file.toPath())));\n    }\n    void copyDataToClipboard(String string) {\n        StringSelection selection = new StringSelection(string);\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n        clipboard.setContents(selection, null);\n    }\n    String generatePrivateKeyString(@NotNull PrivateKey privateKey) {\n        return Base64.getEncoder().encodeToString(privateKey.getEncoded());\n    }\n    String generatePublicKeyString(@NotNull PublicKey publicKey) {\n        return Base64.getEncoder().encodeToString(publicKey.getEncoded());\n    }\n    byte[] returnWrappedKey(Key keyToWrap, Key keyForWrapping) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, IllegalBlockSizeException {\n        Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\n        cipher.init(Cipher.WRAP_MODE, keyForWrapping);\n        return cipher.wrap(keyToWrap);\n    }\n    Key returnUnwrappedKey(byte[] keyToUnwrap, Key keyForUnwrapping) throws IllegalBlockSizeException, BadPaddingException, InvalidKeyException, NoSuchPaddingException, NoSuchAlgorithmException, NoSuchProviderException {\n        Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\n        cipher.init(Cipher.UNWRAP_MODE, keyForUnwrapping);\n        return cipher.unwrap(keyToUnwrap, &quot;AES&quot;, Cipher.SECRET_KEY);\n    }\n    byte[] importDataFromFile(File file) throws IOException {\n        FileInputStream fis = new FileInputStream(file);\n        return fis.readAllBytes();\n    }\n    void exportDataToFile(File file, String string) throws IOException {\n        BufferedWriter writer = new BufferedWriter(new FileWriter(file));\n        writer.write(string);\n        writer.flush();\n    }\n    PublicKey getPubKeyFromString(String string) throws NoSuchAlgorithmException, InvalidKeySpecException {\n        byte[] publicKeyBytes = Base64.getDecoder().decode(string);\n        KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\n        return factory.generatePublic(new X509EncodedKeySpec(publicKeyBytes));\n    }\n    PrivateKey getPrvKeyFromString(String string) throws NoSuchAlgorithmException, InvalidKeySpecException {\n        byte[] privateKeyBytes = Base64.getDecoder().decode(string);\n        KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\n        return factory.generatePrivate(new PKCS8EncodedKeySpec(privateKeyBytes));\n    }\n}\nclass aesEncryption {\n    SecretKey returnKey() throws NoSuchAlgorithmException {\n        KeyGenerator gen = KeyGenerator.getInstance(&quot;AES&quot;);\n        gen.init(new SecureRandom());\n        return gen.generateKey();\n    }\n    byte[] returnEncryptedData(byte[] data, Key key) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\n        Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\n        cipher.init(Cipher.ENCRYPT_MODE, key);\n        return cipher.doFinal(data);\n    }\n    byte[] returnDecryptedData(byte[] data, Key key) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\n        Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\n        cipher.init(Cipher.DECRYPT_MODE, key);\n        return  cipher.doFinal(data);\n    }\n}\n\nclass gui {\n    public gui() {\n        initialize();\n    }\n\n    JFrame frame = new JFrame();\n    JButton createSignature = new JButton(&quot;Create!&quot;);\n    JTextArea privateKeyOutputArea = new JTextArea();\n    JTextArea publicKeyOutputArea = new JTextArea();\n    JButton exportPublicKeyToFile = new JButton(&quot;Export Key to File&quot;);\n    JButton copyPublicKeyToClipboard = new JButton(&quot;Copy Key to Clipboard&quot;);\n    JButton exportPrivateKeyToFile = new JButton(&quot;Export Key to File&quot;);\n    JButton copyPrivateKeyToClipboard = new JButton(&quot;Copy Key to Clipboard&quot;);\n    JButton importPublicKeyFromFile = new JButton(&quot;PubKey&quot;);\n    JButton importPrivateKeyFromFile = new JButton(&quot;PrvKey&quot;);\n    JRadioButton publicKeyPasteSelection = new JRadioButton(&quot;PUBLIC KEY&quot;);\n    JRadioButton privateKeyPasteSelection = new JRadioButton(&quot;PRIVATE KEY&quot;);\n    JTextField pasteKeyForOperation = new JTextField();\n    JTextArea operationPlainTextInput = new JTextArea();\n    JTextArea operationPlainTextOutput = new JTextArea();\n    JButton encryptDataButton = new JButton(&quot;Encrypt&quot;);\n    JButton decryptDataButton = new JButton(&quot;Decrypt&quot;);\n    JButton operationDataFileImport = new JButton(&quot;Import Data From File&quot;);\n    JButton operationDataFileExport = new JButton(&quot;Export Data To File&quot;);\n    JButton checkKey = new JButton(&quot;Check Key&quot;);\n    JButton checkAESKey = new JButton(&quot;AES Key&quot;);\n\n    private void initialize() {\n        frame.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 12));\n        frame.setTitle(&quot;RSA SIGNATURE MANAGER&quot;);\n        frame.setBounds(100, 100, 619, 495);\n        frame.setResizable(false);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JTabbedPane tabbedPane = new JTabbedPane(JTabbedPane.TOP);\n        frame.getContentPane().add(tabbedPane, BorderLayout.CENTER);\n\n        JPanel signatureCreationPanel = new JPanel();\n        signatureCreationPanel.setBackground(Color.DARK_GRAY);\n        tabbedPane.addTab(&quot;Create New Signature&quot;, null, signatureCreationPanel, null);\n        signatureCreationPanel.setLayout(null);\n\n        JLabel createNewPgpSignature = new JLabel(&quot;Create New PGP Signature&quot;);\n        createNewPgpSignature.setForeground(Color.WHITE);\n        createNewPgpSignature.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 24));\n        createNewPgpSignature.setBounds(10, 11, 391, 30);\n        signatureCreationPanel.add(createNewPgpSignature);\n\n        createSignature.setBackground(Color.BLACK);\n        createSignature.setForeground(Color.WHITE);\n        createSignature.setBounds(379, 17, 188, 23);\n        signatureCreationPanel.add(createSignature);\n\n        JScrollPane scrollPane = new JScrollPane(privateKeyOutputArea);\n        scrollPane.setBounds(306, 103, 282, 282);\n        privateKeyOutputArea.setEditable(false);\n        privateKeyOutputArea.add(new JScrollBar());\n        privateKeyOutputArea.setLineWrap(true);\n        privateKeyOutputArea.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 12));\n        privateKeyOutputArea.setBackground(Color.BLACK);\n        privateKeyOutputArea.setForeground(Color.WHITE);\n        signatureCreationPanel.add(scrollPane);\n\n        publicKeyOutputArea.setEditable(false);\n        publicKeyOutputArea.setLineWrap(true);\n        publicKeyOutputArea.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 12));\n        publicKeyOutputArea.setBackground(Color.BLACK);\n        publicKeyOutputArea.setForeground(Color.WHITE);\n        publicKeyOutputArea.setBounds(10, 103, 286, 282);\n        signatureCreationPanel.add(publicKeyOutputArea);\n\n        exportPublicKeyToFile.setBackground(Color.BLACK);\n        exportPublicKeyToFile.setForeground(Color.WHITE);\n        exportPublicKeyToFile.setBounds(10, 396, 136, 23);\n        signatureCreationPanel.add(exportPublicKeyToFile);\n\n        copyPublicKeyToClipboard.setBackground(Color.BLACK);\n        copyPublicKeyToClipboard.setForeground(Color.WHITE);\n        copyPublicKeyToClipboard.setBounds(156, 396, 140, 23);\n        signatureCreationPanel.add(copyPublicKeyToClipboard);\n\n        exportPrivateKeyToFile.setBackground(Color.BLACK);\n        exportPrivateKeyToFile.setForeground(Color.WHITE);\n        exportPrivateKeyToFile.setBounds(306, 396, 136, 23);\n        signatureCreationPanel.add(exportPrivateKeyToFile);\n\n        copyPrivateKeyToClipboard.setBackground(Color.BLACK);\n        copyPrivateKeyToClipboard.setForeground(Color.WHITE);\n        copyPrivateKeyToClipboard.setBounds(448, 396, 140, 23);\n        signatureCreationPanel.add(copyPrivateKeyToClipboard);\n\n        JLabel publicKeyCreationContext = new JLabel(&quot;Public Key:&quot;);\n        publicKeyCreationContext.setForeground(Color.WHITE);\n        publicKeyCreationContext.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 16));\n        publicKeyCreationContext.setBounds(10, 69, 136, 23);\n        signatureCreationPanel.add(publicKeyCreationContext);\n\n        JLabel privateKeyCreationContext = new JLabel(&quot;Private Key:&quot;);\n        privateKeyCreationContext.setForeground(Color.WHITE);\n        privateKeyCreationContext.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 16));\n        privateKeyCreationContext.setBounds(306, 69, 136, 23);\n        signatureCreationPanel.add(privateKeyCreationContext);\n\n        JPanel operationPanel = new JPanel();\n        operationPanel.setBackground(Color.DARK_GRAY);\n        tabbedPane.addTab(&quot;Encrypt or Decrypt&quot;, null, operationPanel, null);\n        operationPanel.setLayout(null);\n\n        importPublicKeyFromFile.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 18));\n        importPublicKeyFromFile.setForeground(Color.WHITE);\n        importPublicKeyFromFile.setBackground(Color.BLACK);\n        importPublicKeyFromFile.setBounds(10, 11, 100, 26);\n        operationPanel.add(importPublicKeyFromFile);\n\n        importPrivateKeyFromFile.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 18));\n        importPrivateKeyFromFile.setForeground(Color.WHITE);\n        importPrivateKeyFromFile.setBackground(Color.BLACK);\n        importPrivateKeyFromFile.setBounds(120, 11, 100, 26);\n        operationPanel.add(importPrivateKeyFromFile);\n\n        pasteKeyForOperation.setForeground(Color.WHITE);\n        pasteKeyForOperation.setBackground(Color.BLACK);\n        pasteKeyForOperation.setToolTipText(&quot;Paste Key Here&quot;);\n        pasteKeyForOperation.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 18));\n        pasteKeyForOperation.setBounds(230, 11, 200, 26);\n        operationPanel.add(pasteKeyForOperation);\n\n        privateKeyPasteSelection.setForeground(Color.WHITE);\n        privateKeyPasteSelection.setBackground(Color.DARK_GRAY);\n        privateKeyPasteSelection.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 14));\n        privateKeyPasteSelection.setBounds(170, 40, 125, 26);\n        operationPanel.add(privateKeyPasteSelection);\n\n        publicKeyPasteSelection.setForeground(Color.WHITE);\n        publicKeyPasteSelection.setBackground(Color.DARK_GRAY);\n        publicKeyPasteSelection.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 14));\n        publicKeyPasteSelection.setBounds(290, 40, 150, 26);\n        operationPanel.add(publicKeyPasteSelection);\n\n        ButtonGroup group = new ButtonGroup();\n        group.add(privateKeyPasteSelection);\n        group.add(publicKeyPasteSelection);\n\n        checkKey.setBackground(Color.BLACK);\n        checkKey.setForeground(Color.WHITE);\n        checkKey.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 18));\n        checkKey.setBounds(440, 11, 140, 26);\n        operationPanel.add(checkKey);\n\n        checkAESKey.setBackground(Color.BLACK);\n        checkAESKey.setForeground(Color.white);\n        checkAESKey.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 18));\n        checkAESKey.setBounds(440, 39, 140, 26);\n        operationPanel.add(checkAESKey);\n\n        JScrollPane operationInputScrollPane = new JScrollPane(operationPlainTextInput);\n        operationInputScrollPane.setBounds(10, 102, 280, 256);\n        operationPlainTextInput.setLineWrap(true);\n        operationPlainTextInput.setBackground(Color.BLACK);\n        operationPlainTextInput.setForeground(Color.WHITE);\n        operationPanel.add(operationInputScrollPane);\n\n        JScrollPane operationOutputScrollPane = new JScrollPane(operationPlainTextOutput);\n        operationOutputScrollPane.setBounds(308, 102, 280, 256);\n        operationPlainTextOutput.setLineWrap(true);\n        operationPlainTextOutput.setEditable(false);\n        operationPlainTextOutput.setForeground(Color.WHITE);\n        operationPlainTextOutput.setBackground(Color.BLACK);\n        operationPanel.add(operationOutputScrollPane);\n\n        JLabel whereToPasteDataLabel = new JLabel(&quot;Paste data here:&quot;);\n        whereToPasteDataLabel.setForeground(Color.WHITE);\n        whereToPasteDataLabel.setBackground(Color.BLACK);\n        whereToPasteDataLabel.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 14));\n        whereToPasteDataLabel.setBounds(20, 78, 142, 14);\n        operationPanel.add(whereToPasteDataLabel);\n\n        JLabel operationOutputLabel = new JLabel(&quot;Output in Plaintext:&quot;);\n        operationOutputLabel.setForeground(Color.WHITE);\n        operationOutputLabel.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 14));\n        operationOutputLabel.setBackground(Color.BLACK);\n        operationOutputLabel.setBounds(319, 78, 250, 14);\n        operationPanel.add(operationOutputLabel);\n\n        encryptDataButton.setForeground(Color.WHITE);\n        encryptDataButton.setBackground(Color.BLACK);\n        encryptDataButton.setBounds(257, 369, 89, 23);\n        operationPanel.add(encryptDataButton);\n\n        decryptDataButton.setForeground(Color.WHITE);\n        decryptDataButton.setBackground(Color.BLACK);\n        decryptDataButton.setBounds(257, 396, 89, 23);\n        operationPanel.add(decryptDataButton);\n\n        operationDataFileImport.setForeground(Color.WHITE);\n        operationDataFileImport.setBackground(Color.BLACK);\n        operationDataFileImport.setBounds(10, 369, 170, 23);\n        operationPanel.add(operationDataFileImport);\n\n        operationDataFileExport.setForeground(Color.WHITE);\n        operationDataFileExport.setBackground(Color.BLACK);\n        operationDataFileExport.setBounds(436, 369, 152, 23);\n        operationPanel.add(operationDataFileExport);\n\n        frame.setVisible(true);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","atomic","compare-and-swap","double-compare-and-swap"],"comments":[{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1646850707,"post_id":71414236,"comment_id":126228346,"body_markdown":"You would have to use a library with a native implementation.","body":"You would have to use a library with a native implementation."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646850537,"creation_date":1646850537,"answer_id":71414317,"question_id":71414236,"body_markdown":"No.\r\n\r\nThere is no instruction in the Java Byte code specification that covers that. And there is also nothing in the Java Language specification to work around &quot;deficiency&quot;.\r\n\r\nSo, theoretically, a JVM *implementation* might compile certain Java byte code sequences in order to use such hardware based instructions. But as said: that would be implementation specific.","title":"Does Java support double-width CAS?","body":"<p>No.</p>\n<p>There is no instruction in the Java Byte code specification that covers that. And there is also nothing in the Java Language specification to work around &quot;deficiency&quot;.</p>\n<p>So, theoretically, a JVM <em>implementation</em> might compile certain Java byte code sequences in order to use such hardware based instructions. But as said: that would be implementation specific.</p>\n"}],"owner":{"account_id":9840468,"reputation":143,"user_id":7289606,"display_name":"galym"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646850537,"creation_date":1646850116,"question_id":71414236,"body_markdown":"Is there a way to perform a double-width (16-byte) compare-and-swap in Java if the hardware supports it (e.g. using CMPXCHG16B on Intel)?","title":"Does Java support double-width CAS?","body":"<p>Is there a way to perform a double-width (16-byte) compare-and-swap in Java if the hardware supports it (e.g. using CMPXCHG16B on Intel)?</p>\n"},{"tags":["java","android","windows","android-studio","windows-10"],"comments":[{"owner":{"account_id":5786247,"reputation":12927,"user_id":4565367,"accept_rate":75,"display_name":"Francisco Romero"},"score":0,"creation_date":1483490214,"post_id":35390997,"comment_id":70115411,"body_markdown":"Possible duplicate of [Is it possible to allocate these folders in another place?](http://stackoverflow.com/questions/32759785/is-it-possible-to-allocate-these-folders-in-another-place)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/32759785/is-it-possible-to-allocate-these-folders-in-another-place\">Is it possible to allocate these folders in another place?</a>"}],"answers":[{"tags":[],"owner":{"account_id":7837729,"reputation":94,"user_id":5925110,"display_name":"Ron Puri"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1455456625,"creation_date":1455456625,"answer_id":35392374,"question_id":35390997,"body_markdown":"Does that config path exist?\r\n\r\nAndroid Studio is based on IntelliJ. See [IntelliJ Idea Properties][1] for where to modify your idea.properties file - and modify **idea.config.path** as described at the bottom of [IntelliJ Idea - Project and IDE Settings][2] page.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/help/file-idea-properties.html\r\n  [2]: https://www.jetbrains.com/idea/help/project-and-ide-settings.html","title":"Config path Android studio is invalid","body":"<p>Does that config path exist?</p>\n\n<p>Android Studio is based on IntelliJ. See <a href=\"https://www.jetbrains.com/idea/help/file-idea-properties.html\" rel=\"nofollow\">IntelliJ Idea Properties</a> for where to modify your idea.properties file - and modify <strong>idea.config.path</strong> as described at the bottom of <a href=\"https://www.jetbrains.com/idea/help/project-and-ide-settings.html\" rel=\"nofollow\">IntelliJ Idea - Project and IDE Settings</a> page.</p>\n"},{"tags":[],"owner":{"account_id":4145212,"reputation":1,"user_id":3399170,"display_name":"infiniteRecursion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455478839,"creation_date":1455478294,"answer_id":35397103,"question_id":35390997,"body_markdown":"I got the same error when I installed AndroidStudio 1.5 on my windows 10 laptop after I uninstalled an older version of Android Studio. To fix it, I followed the instructions at the Android developer website: http://tools.android.com/tech-docs/configuration.\r\n\r\nFirst, do not modify the idea.properties file located in the bin folder where Android Studio is installed. Older stack overflow posts will tell you to modify that idea.properites file, but you aren&#39;t supposed to do so for AndroidStudio 1.5. By following the instructions, I created an idea.properties file at **%USERPROFILE%\\\\.{FOLDER_NAME}\\idea.properties**.  If you have installed AndroidStudio 1.5, then .{FOLDER_NAME} should be .{AndroidStudio1.5}.  The content of my idea.properties file is the following:\r\n\r\n\r\n\r\n    #---------------------------------------------------------------------\r\n    # IDEA can copy library .jar files to prevent their locking.\r\n    # By default this behavior is enabled on Windows and disabled on other platforms.\r\n    # Uncomment this property to override.\r\n    #---------------------------------------------------------------------\r\n    # idea.jars.nocopy=false\r\n    \r\n    #---------------------------------------------------------------------\r\n    # The VM option value to be used to start a JVM in debug mode.\r\n    # Some JREs define it in a different way (-XXdebug in Oracle VM)\r\n    #---------------------------------------------------------------------\r\n    idea.xdebug.key=-Xdebug\r\n    \r\n    #-----------------------------------------------------------------------\r\n    # Change to &#39;enabled&#39; if you want to receive instant visual notifications\r\n    # about fatal errors that happen to an IDE or plugins installed.\r\n    #-----------------------------------------------------------------------\r\n    idea.fatal.error.notification=disabled\r\n    \r\n    #---------------------------------------------------------------------\r\n    # Uncomment this option if you want to customize path to IDE config folder. Make sure you&#39;re using forward slashes\r\n    #---------------------------------------------------------------------\r\n    idea.config.path=${user.home}/.AndroidStudio1.5/config\r\n    \r\n    #---------------------------------------------------------------------\r\n    # Uncomment this option if you want to customize path to IDE system folder. Make sure you&#39;re using forward slashes\r\n    #---------------------------------------------------------------------\r\n    idea.system.path=${user.home}/.AndroidStudio1.5/system\r\n    \r\n    #---------------------------------------------------------------------\r\n    # Uncomment this option if you want to customize path to user installed plugins folder. Make sure you&#39;re using forward slashes\r\n    #---------------------------------------------------------------------\r\n    idea.plugins.path=${user.home}/.AndroidStudio1.5/config/plugins\r\n    \r\n    #---------------------------------------------------------------------\r\n    # Uncomment this option if you want to customize path to IDE logs folder. Make sure you&#39;re using forward slashes.\r\n    #---------------------------------------------------------------------\r\n    idea.log.path=${user.home}/.AndroidStudio1.5/system/log\r\n\r\n","title":"Config path Android studio is invalid","body":"<p>I got the same error when I installed AndroidStudio 1.5 on my windows 10 laptop after I uninstalled an older version of Android Studio. To fix it, I followed the instructions at the Android developer website: <a href=\"http://tools.android.com/tech-docs/configuration\" rel=\"nofollow\">http://tools.android.com/tech-docs/configuration</a>.</p>\n\n<p>First, do not modify the idea.properties file located in the bin folder where Android Studio is installed. Older stack overflow posts will tell you to modify that idea.properites file, but you aren't supposed to do so for AndroidStudio 1.5. By following the instructions, I created an idea.properties file at <strong>%USERPROFILE%\\.{FOLDER_NAME}\\idea.properties</strong>.  If you have installed AndroidStudio 1.5, then .{FOLDER_NAME} should be .{AndroidStudio1.5}.  The content of my idea.properties file is the following:</p>\n\n<pre><code>#---------------------------------------------------------------------\n# IDEA can copy library .jar files to prevent their locking.\n# By default this behavior is enabled on Windows and disabled on other platforms.\n# Uncomment this property to override.\n#---------------------------------------------------------------------\n# idea.jars.nocopy=false\n\n#---------------------------------------------------------------------\n# The VM option value to be used to start a JVM in debug mode.\n# Some JREs define it in a different way (-XXdebug in Oracle VM)\n#---------------------------------------------------------------------\nidea.xdebug.key=-Xdebug\n\n#-----------------------------------------------------------------------\n# Change to 'enabled' if you want to receive instant visual notifications\n# about fatal errors that happen to an IDE or plugins installed.\n#-----------------------------------------------------------------------\nidea.fatal.error.notification=disabled\n\n#---------------------------------------------------------------------\n# Uncomment this option if you want to customize path to IDE config folder. Make sure you're using forward slashes\n#---------------------------------------------------------------------\nidea.config.path=${user.home}/.AndroidStudio1.5/config\n\n#---------------------------------------------------------------------\n# Uncomment this option if you want to customize path to IDE system folder. Make sure you're using forward slashes\n#---------------------------------------------------------------------\nidea.system.path=${user.home}/.AndroidStudio1.5/system\n\n#---------------------------------------------------------------------\n# Uncomment this option if you want to customize path to user installed plugins folder. Make sure you're using forward slashes\n#---------------------------------------------------------------------\nidea.plugins.path=${user.home}/.AndroidStudio1.5/config/plugins\n\n#---------------------------------------------------------------------\n# Uncomment this option if you want to customize path to IDE logs folder. Make sure you're using forward slashes.\n#---------------------------------------------------------------------\nidea.log.path=${user.home}/.AndroidStudio1.5/system/log\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6358354,"reputation":249,"user_id":4934757,"display_name":"Sabin Bajracharya"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1458195771,"creation_date":1458195771,"answer_id":36053044,"question_id":35390997,"body_markdown":"Run Android Studio as Administrator and it will create the idea.properties files","title":"Config path Android studio is invalid","body":"<p>Run Android Studio as Administrator and it will create the idea.properties files</p>\n"},{"tags":[],"owner":{"account_id":15481919,"reputation":49,"user_id":11168896,"display_name":"Mohammad Ameer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646850494,"creation_date":1646850494,"answer_id":71414304,"question_id":35390997,"body_markdown":"to fix this you need to open it as admin, you can do that by the terminal or just open the Finder folder, find the application, right-click and open as admin in windows or just open in mac","title":"Config path Android studio is invalid","body":"<p>to fix this you need to open it as admin, you can do that by the terminal or just open the Finder folder, find the application, right-click and open as admin in windows or just open in mac</p>\n"}],"owner":{"account_id":5418389,"reputation":155,"user_id":4312888,"accept_rate":57,"display_name":"Eoin &#211; Crib&#237;n"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8549,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36053044,"answer_count":4,"score":1,"last_activity_date":1646850494,"creation_date":1455447765,"question_id":35390997,"body_markdown":"I&#39;m not sure if anyone else has seen this before but I got a windows update a few days ago and ever since my android studio fails to open. The exact error message I&#39;m getting is:\r\n\r\n    Config path C:/windows/system32/config/systemprofile/.AndroidSudio.3/config is\r\n     invalid. If you have modified the &#39;idea.config.path&#39; property please make \r\n    sure it is correct, otherwise please re-install the IDE. \r\n   When I run it in Admin mode it goes through the installation again.\r\n I don&#39;t want to have to do this every time I open it.  ","title":"Config path Android studio is invalid","body":"<p>I'm not sure if anyone else has seen this before but I got a windows update a few days ago and ever since my android studio fails to open. The exact error message I'm getting is:</p>\n\n<pre><code>Config path C:/windows/system32/config/systemprofile/.AndroidSudio.3/config is\n invalid. If you have modified the 'idea.config.path' property please make \nsure it is correct, otherwise please re-install the IDE. \n</code></pre>\n\n<p>When I run it in Admin mode it goes through the installation again.\n I don't want to have to do this every time I open it.  </p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1646721270,"post_id":71384939,"comment_id":126187607,"body_markdown":"Post full output when you run this task from the command line by Gradle: e.g. it might be the `./gradlew run`. Also, add the `--debug` [option](https://docs.gradle.org/current/userguide/logging.html#logLevels) as the command argument to have Gradle to make more verbose output.","body":"Post full output when you run this task from the command line by Gradle: e.g. it might be the <code>.&#47;gradlew run</code>. Also, add the <code>--debug</code> <a href=\"https://docs.gradle.org/current/userguide/logging.html#logLevels\" rel=\"nofollow noreferrer\">option</a> as the command argument to have Gradle to make more verbose output."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1646848074,"post_id":71384939,"comment_id":126227438,"body_markdown":"&quot;&gt; Task :run FAILED\nRedirected Output: logs/master_log_3_9_2022_10_38_38.txt&quot; and &quot;Run with --info or --debug option to get more log output&quot; (both in the error message) might be helpful","body":"&quot;&gt; Task :run FAILED Redirected Output: logs/master_log_3_9_2022_10_38_38.txt&quot; and &quot;Run with --info or --debug option to get more log output&quot; (both in the error message) might be helpful"},{"owner":{"account_id":24482357,"reputation":3,"user_id":18400573,"display_name":"Phantom11"},"score":0,"creation_date":1646848785,"post_id":71384939,"comment_id":126227680,"body_markdown":"doesnt --debug show info I should not post?","body":"doesnt --debug show info I should not post?"}],"owner":{"account_id":24482357,"reputation":3,"user_id":18400573,"display_name":"Phantom11"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646850222,"creation_date":1646673720,"question_id":71384939,"body_markdown":"Here is the error that I am getting whenever I try to run my program with Gradle. (I am on a linux ubuntu system, if that matters) I am using a JDK 11 version to run this.\r\n\r\n```\r\nExecution failed for task &#39;:run&#39;.\r\n&gt; Process &#39;command &#39;/home/dex/Downloads/jdk-11.0.13/bin/java&#39;&#39; finished with non-zero exit value 1\r\n```\r\n\r\nException -\r\n```\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:run&#39;\r\nCaused by: org.gradle.process.internal.ExecException: Process &#39;command &#39;/home/dex/Downloads/jdk-11.0.13/bin/java&#39;&#39; finished with non-zero exit value 1\r\n```\r\n\r\n\r\n\r\n\r\nUPDATED (./gradlew run command)\r\n```\r\n&gt; Configure project :\r\nProject : =&gt; no module-info.java found\r\n\r\n&gt; Task :compileJava\r\nNote: Some input files use unchecked or unsafe operations.\r\nNote: Recompile with -Xlint:unchecked for details.\r\n\r\n&gt; Task :run FAILED\r\nRedirected Output: logs/master_log_3_9_2022_10_38_38.txt\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:run&#39;.\r\n&gt; Process &#39;command &#39;/usr/lib/jvm/java-11-openjdk-amd64/bin/java&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 5s\r\n5 actionable tasks: 3 executed, 2 up-to-date\r\n```\r\n\r\nFrom --debug(Only posted info that was in red)\r\n```\r\n2022-03-09T13:01:57.117-0500 [ERROR] [org.gradle.internal.buildevents.BuildResultLogger] BUILD FAILED in 4s\r\n\r\n\r\n2022-03-09T13:01:57.116-0500 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] FAILURE: Build failed with an exception.\r\n\r\n2022-03-09T13:01:56.807-0500 [LIFECYCLE] [class org.gradle.internal.buildevents.TaskExecutionLogger] &gt; Task :run FAILED\r\n\r\n2022-03-09T13:01:57.116-0500 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; Process &#39;command &#39;/usr/lib/jvm/java-11-openjdk-amd64/bin/java&#39;&#39; finished with non-zero exit value 1\r\n```\r\n\r\nFrom log master file \r\n```\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n\tat Main.main(Main.java:210)\r\n\tat KioskApp.main(KioskApp.java:5)\r\n```\r\n\r\n","title":"IntelliJ running a program with Gradle, &quot;failed at task :Run&quot; error","body":"<p>Here is the error that I am getting whenever I try to run my program with Gradle. (I am on a linux ubuntu system, if that matters) I am using a JDK 11 version to run this.</p>\n<pre><code>Execution failed for task ':run'.\n&gt; Process 'command '/home/dex/Downloads/jdk-11.0.13/bin/java'' finished with non-zero exit value 1\n</code></pre>\n<p>Exception -</p>\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':run'\nCaused by: org.gradle.process.internal.ExecException: Process 'command '/home/dex/Downloads/jdk-11.0.13/bin/java'' finished with non-zero exit value 1\n</code></pre>\n<p>UPDATED (./gradlew run command)</p>\n<pre><code>&gt; Configure project :\nProject : =&gt; no module-info.java found\n\n&gt; Task :compileJava\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\n&gt; Task :run FAILED\nRedirected Output: logs/master_log_3_9_2022_10_38_38.txt\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':run'.\n&gt; Process 'command '/usr/lib/jvm/java-11-openjdk-amd64/bin/java'' finished with non-zero exit value 1\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 5s\n5 actionable tasks: 3 executed, 2 up-to-date\n</code></pre>\n<p>From --debug(Only posted info that was in red)</p>\n<pre><code>2022-03-09T13:01:57.117-0500 [ERROR] [org.gradle.internal.buildevents.BuildResultLogger] BUILD FAILED in 4s\n\n\n2022-03-09T13:01:57.116-0500 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] FAILURE: Build failed with an exception.\n\n2022-03-09T13:01:56.807-0500 [LIFECYCLE] [class org.gradle.internal.buildevents.TaskExecutionLogger] &gt; Task :run FAILED\n\n2022-03-09T13:01:57.116-0500 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; Process 'command '/usr/lib/jvm/java-11-openjdk-amd64/bin/java'' finished with non-zero exit value 1\n</code></pre>\n<p>From log master file</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at Main.main(Main.java:210)\n    at KioskApp.main(KioskApp.java:5)\n</code></pre>\n"},{"tags":["java","hibernate","one-to-many","scalability"],"answers":[{"tags":[],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1646849876,"creation_date":1646726916,"answer_id":71391778,"question_id":71389597,"body_markdown":"Yes, it&#39;s possible.\r\n\r\n```java\r\nclass Parent {\r\n   @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;parent&quot;, cascade = PERSIST)\r\n   Set &lt;Child&gt; children = new HashSet&lt;&gt;();\r\n\r\n   public void addChild(Child child) {\r\n      child.setParent(this);\r\n      children.add(child);\r\n   }\r\n}\r\n...\r\n\r\nparent.addChild(child);\r\n```\r\n\r\nIn this case, lazy initialization of `Parent.children` won&#39;t be triggered. You can check it out by enabling SQL logging (`spring.jpa.show-sql=true`).\r\n\r\n## EDIT 1\r\n\r\nIf you store `children` as `Set`, then you should override `equals` and `hashCode` [correctly](https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/). Note that Hibernate entity is not a regular DTO. So, generating default implementation won&#39;t work properly. According to Hibernate Specification entity should not change its identity (`equals/hashCode` result) through all the lifecycle.\r\n\r\nHere is the example.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;ZZ_CHILD&quot;)\r\npublic class Child {\r\n    ...\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (!(o instanceof Child)) {\r\n            return false;\r\n        }\r\n        Child other = (Child) o;\r\n        return Objects.equals(id, other.id) &amp;&amp; id != null;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return 1;\r\n    }\r\n}\r\n```\r\n\r\nOr you can replace `Set` with `List` and everything is going to work without additional `select` as well.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7gWNo.png","title":"Is it possible in Hibernate to add/remove children of a OneToMany relationship without loading all the children?","body":"<p>Yes, it's possible.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Parent {\n   @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;parent&quot;, cascade = PERSIST)\n   Set &lt;Child&gt; children = new HashSet&lt;&gt;();\n\n   public void addChild(Child child) {\n      child.setParent(this);\n      children.add(child);\n   }\n}\n...\n\nparent.addChild(child);\n</code></pre>\n<p>In this case, lazy initialization of <code>Parent.children</code> won't be triggered. You can check it out by enabling SQL logging (<code>spring.jpa.show-sql=true</code>).</p>\n<h2>EDIT 1</h2>\n<p>If you store <code>children</code> as <code>Set</code>, then you should override <code>equals</code> and <code>hashCode</code> <a href=\"https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/\" rel=\"noreferrer\">correctly</a>. Note that Hibernate entity is not a regular DTO. So, generating default implementation won't work properly. According to Hibernate Specification entity should not change its identity (<code>equals/hashCode</code> result) through all the lifecycle.</p>\n<p>Here is the example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;ZZ_CHILD&quot;)\npublic class Child {\n    ...\n    @Override\n    public boolean equals(Object o) {\n        if (!(o instanceof Child)) {\n            return false;\n        }\n        Child other = (Child) o;\n        return Objects.equals(id, other.id) &amp;&amp; id != null;\n    }\n\n    @Override\n    public int hashCode() {\n        return 1;\n    }\n}\n</code></pre>\n<p>Or you can replace <code>Set</code> with <code>List</code> and everything is going to work without additional <code>select</code> as well.</p>\n<p><a href=\"https://i.stack.imgur.com/7gWNo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7gWNo.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2517246,"reputation":61,"user_id":2188391,"display_name":"ROMAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":889,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646849876,"creation_date":1646708804,"question_id":71389597,"body_markdown":"For the following domain:\r\n\r\n    class Parent {\r\n       @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;parent&quot;)\r\n       Set &lt;Child&gt; children;\r\n    )\r\n    \r\n    class Child {\r\n       @ManyToOne\r\n       Parent parent;\r\n       ... // setters, getters, other properties       \r\n    }\r\n\r\nI&#39;m looking for a way to add child entities, without Lazy initializing children in the Parent object.\r\n\r\nEx: \r\n\r\n    child.set(parent) // is fine, since Parent is pretty lightweight.\r\n    \r\n    parent.getChildren().add(child) // No good, since in this case it will attempt to \r\n    //load all the children of a Parent object.\r\n\r\n\r\nFrom the first glance it felt like something that should have been easily achievable since in order to add a child all you need is just a parent id and an SQL insert statement to the Child table.\r\nHowever when it comes to hibernate nothing is simple (In fact it’s true for everything that uses caching) :-) \r\n\r\nWe are trying to scale a legacy application that was initially written to support tens of children,  but over time evolved to operate with thousands of children now and as you can imagine that doesn’t scale well, since every time we need to add a child, we need to load the entire group in memory first what results in O(N) time and  O(N) space complexity (where N is a total number of children).\r\n\r\nHave anyone run into a similar problem? Is there a way to solve it in hibernate, or hibernate is just not the best framework to use for this use case? How have you tackled it? Or any ideas, share of experience will be helpful.\r\n\r\nI run into the following discussion:\r\n&quot;https://stackoverflow.com/questions/41119537/how-to-persist-a-hibernate-child-entity-without-loading-the-parent-side-set-coll&quot;\r\nThat felt a bit sketchy to me since evicting cache might cause concurrency issues (especially when code will run on multiple servers) \r\n\r\n","title":"Is it possible in Hibernate to add/remove children of a OneToMany relationship without loading all the children?","body":"<p>For the following domain:</p>\n<pre><code>class Parent {\n   @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;parent&quot;)\n   Set &lt;Child&gt; children;\n)\n\nclass Child {\n   @ManyToOne\n   Parent parent;\n   ... // setters, getters, other properties       \n}\n</code></pre>\n<p>I'm looking for a way to add child entities, without Lazy initializing children in the Parent object.</p>\n<p>Ex:</p>\n<pre><code>child.set(parent) // is fine, since Parent is pretty lightweight.\n\nparent.getChildren().add(child) // No good, since in this case it will attempt to \n//load all the children of a Parent object.\n</code></pre>\n<p>From the first glance it felt like something that should have been easily achievable since in order to add a child all you need is just a parent id and an SQL insert statement to the Child table.\nHowever when it comes to hibernate nothing is simple (In fact it’s true for everything that uses caching) :-)</p>\n<p>We are trying to scale a legacy application that was initially written to support tens of children,  but over time evolved to operate with thousands of children now and as you can imagine that doesn’t scale well, since every time we need to add a child, we need to load the entire group in memory first what results in O(N) time and  O(N) space complexity (where N is a total number of children).</p>\n<p>Have anyone run into a similar problem? Is there a way to solve it in hibernate, or hibernate is just not the best framework to use for this use case? How have you tackled it? Or any ideas, share of experience will be helpful.</p>\n<p>I run into the following discussion:\n&quot;https://stackoverflow.com/questions/41119537/how-to-persist-a-hibernate-child-entity-without-loading-the-parent-side-set-coll&quot;\nThat felt a bit sketchy to me since evicting cache might cause concurrency issues (especially when code will run on multiple servers)</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1646849509,"post_id":71413555,"comment_id":126227913,"body_markdown":"Please only use the `android-studio` tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the `android` tag.","body":"Please only use the <code>android-studio</code> tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the <code>android</code> tag."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646849658,"creation_date":1646849658,"answer_id":71414151,"question_id":71413555,"body_markdown":"If your `Shop_details` class matches the JSON structure in the `shop_details` node of the database, you should read the object from only that snapshot:\r\n```\r\nShop_details shop_details = postSnapshot.child(&quot;shop_details&quot;).getValue(Shop_details.class);\r\n```\r\n\r\n---\r\n\r\nNote that it may be better to store the separate aspects of a shop in separate top-level nodes, all with the same key for each shop. Something like:\r\n```\r\nshop_details: {\r\n  &quot;igd1P...&quot;: { owner_name: &quot;...&quot;, shop_address: &quot;...&quot;, ... },\r\n  &quot;yDLoU...&quot;: { owner_name: &quot;...&quot;, shop_address: &quot;...&quot;, ... }\r\n},\r\nshop_services: {\r\n  &quot;igd1P...&quot;: { ... },\r\n  &quot;yDLoU...&quot;: { ... }\r\n}\r\n```\r\n\r\nThat way you can load just the details of each shop, without also loading all their services. This type of structure also allows you to secure the data better.\r\n\r\nI recommend reading up on [structuring your data](https://firebase.google.com/docs/database/android/structure-data) specifically on [avoiding nested data](https://firebase.google.com/docs/database/android/structure-data#avoid_nesting_data) and [flattening your data structures](https://firebase.google.com/docs/database/android/structure-data#flatten_data_structures).","title":"how to iterate through some children&#39;s of every id in Firebase Database android (java)?","body":"<p>If your <code>Shop_details</code> class matches the JSON structure in the <code>shop_details</code> node of the database, you should read the object from only that snapshot:</p>\n<pre><code>Shop_details shop_details = postSnapshot.child(&quot;shop_details&quot;).getValue(Shop_details.class);\n</code></pre>\n<hr />\n<p>Note that it may be better to store the separate aspects of a shop in separate top-level nodes, all with the same key for each shop. Something like:</p>\n<pre><code>shop_details: {\n  &quot;igd1P...&quot;: { owner_name: &quot;...&quot;, shop_address: &quot;...&quot;, ... },\n  &quot;yDLoU...&quot;: { owner_name: &quot;...&quot;, shop_address: &quot;...&quot;, ... }\n},\nshop_services: {\n  &quot;igd1P...&quot;: { ... },\n  &quot;yDLoU...&quot;: { ... }\n}\n</code></pre>\n<p>That way you can load just the details of each shop, without also loading all their services. This type of structure also allows you to secure the data better.</p>\n<p>I recommend reading up on <a href=\"https://firebase.google.com/docs/database/android/structure-data\" rel=\"nofollow noreferrer\">structuring your data</a> specifically on <a href=\"https://firebase.google.com/docs/database/android/structure-data#avoid_nesting_data\" rel=\"nofollow noreferrer\">avoiding nested data</a> and <a href=\"https://firebase.google.com/docs/database/android/structure-data#flatten_data_structures\" rel=\"nofollow noreferrer\">flattening your data structures</a>.</p>\n"}],"owner":{"account_id":22132595,"reputation":71,"user_id":16383903,"display_name":"ROCKY 007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71414151,"answer_count":1,"score":0,"last_activity_date":1646849658,"creation_date":1646846789,"question_id":71413555,"body_markdown":"I have one parent that is shop and in that every id is a shop and i want to iterate through every id means every shop and store the object of `shop_details` because i want to show every shop in `RecyclerView`\r\n\r\nhere is my database Hierarchy\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is my partial code but this is not working\r\n\r\n```\r\nArrayList&lt;Shop_details&gt; list=new ArrayList&lt;&gt;();\r\n\r\ndatabase.getReference(&quot;Shops&quot;).addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n        list.clear();\r\n        for (DataSnapshot postSnapshot: snapshot.getChildren()) {\r\n            Shop_details shop_details = postSnapshot.getValue(Shop_details.class);\r\n          \r\n            list.add(shop_details);\r\n          \r\n        }\r\n        shop_list_adapter adapter=new shop_list_adapter(list,getContext());\r\n        shop_list_recyclerview.setAdapter(adapter);\r\n        shop_list_recyclerview.setLayoutManager(new LinearLayoutManager(getContext()));\r\n        Loading_box.dismiss();\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WjaRR.png","title":"how to iterate through some children&#39;s of every id in Firebase Database android (java)?","body":"<p>I have one parent that is shop and in that every id is a shop and i want to iterate through every id means every shop and store the object of <code>shop_details</code> because i want to show every shop in <code>RecyclerView</code></p>\n<p>here is my database Hierarchy</p>\n<p><a href=\"https://i.stack.imgur.com/WjaRR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WjaRR.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my partial code but this is not working</p>\n<pre><code>ArrayList&lt;Shop_details&gt; list=new ArrayList&lt;&gt;();\n\ndatabase.getReference(&quot;Shops&quot;).addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        list.clear();\n        for (DataSnapshot postSnapshot: snapshot.getChildren()) {\n            Shop_details shop_details = postSnapshot.getValue(Shop_details.class);\n          \n            list.add(shop_details);\n          \n        }\n        shop_list_adapter adapter=new shop_list_adapter(list,getContext());\n        shop_list_recyclerview.setAdapter(adapter);\n        shop_list_recyclerview.setLayoutManager(new LinearLayoutManager(getContext()));\n        Loading_box.dismiss();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","service","interface"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1646850237,"post_id":71414149,"comment_id":126228186,"body_markdown":"This may turn out to be an opinionated answer, but AFAIK using an interface was never required.  To me, the decision to use an interface is mostly based on this question:  Are there multiple implementations?  If yes, then use interface.  If no, then there&#39;s usually no need for an interface.  In the example, `ServiceImpl` as a class name tells the reader nothing about the specific implementation, so an interface adds an unnecessary level of abstraction.","body":"This may turn out to be an opinionated answer, but AFAIK using an interface was never required.  To me, the decision to use an interface is mostly based on this question:  Are there multiple implementations?  If yes, then use interface.  If no, then there&#39;s usually no need for an interface.  In the example, <code>ServiceImpl</code> as a class name tells the reader nothing about the specific implementation, so an interface adds an unnecessary level of abstraction."},{"owner":{"display_name":"user18085807"},"score":0,"creation_date":1646850286,"post_id":71414149,"comment_id":126228197,"body_markdown":"Maybe, but when I look at the answers, I am getting much more confused. Then what is short answer? As far as I see, for multiple implementation it is a need. Otherwise, in most situations no need. What do you think?","body":"Maybe, but when I look at the answers, I am getting much more confused. Then what is short answer? As far as I see, for multiple implementation it is a need. Otherwise, in most situations no need. What do you think?"},{"owner":{"display_name":"user18085807"},"score":0,"creation_date":1646850406,"post_id":71414149,"comment_id":126228250,"body_markdown":"@AndrewS Yes, I also pointed that issue before reading your comment. But if I will need in the future then I think it is good idea to start the project with interface. Otherwise it would be much more harder to update the project later so that implement interfaces for each services in the project. any idea?","body":"@AndrewS Yes, I also pointed that issue before reading your comment. But if I will need in the future then I think it is good idea to start the project with interface. Otherwise it would be much more harder to update the project later so that implement interfaces for each services in the project. any idea?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1646850734,"post_id":71414149,"comment_id":126228354,"body_markdown":"_But if I will need in the future_ Modern IDEs make re-factoring easy.  Over-engineering a solution now, for a future requirement that might never actually exist, adds unnecessary complexity and is a waste of time.","body":"<i>But if I will need in the future</i> Modern IDEs make re-factoring easy.  Over-engineering a solution now, for a future requirement that might never actually exist, adds unnecessary complexity and is a waste of time."}],"owner":{"display_name":"user18085807"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646850894,"answer_count":0,"score":0,"last_activity_date":1646849655,"creation_date":1646849655,"question_id":71414149,"body_markdown":"I have used `Service` interface for `ServiceImpl` class in some projects and last week I watched a video where it is said that &quot;there is no need to use interface anymore. Spring Boot provide injection and just create `ServiceImpl` class, **no need** to create `Service` interface. \r\n\r\nHowever, I am confused, is that true for Spring Boot project that we just need `ServiceImpl` class, and no need to use `Service` interface? Any idea?","title":"Do I need to create service interface for services in Spring Boot?","body":"<p>I have used <code>Service</code> interface for <code>ServiceImpl</code> class in some projects and last week I watched a video where it is said that &quot;there is no need to use interface anymore. Spring Boot provide injection and just create <code>ServiceImpl</code> class, <strong>no need</strong> to create <code>Service</code> interface.</p>\n<p>However, I am confused, is that true for Spring Boot project that we just need <code>ServiceImpl</code> class, and no need to use <code>Service</code> interface? Any idea?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8463,"page":1529,"page_size":100}
