{"items":[{"tags":["java","gradle","intellij-idea","jar","build.gradle"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1680778825,"post_id":75948683,"comment_id":133957254,"body_markdown":"Maybe remove the : in  implementation(&#39;:vtv-plugin-base&#39;)","body":"Maybe remove the : in  implementation(&#39;:vtv-plugin-base&#39;)"},{"owner":{"account_id":23791468,"reputation":11,"user_id":17802855,"display_name":"Harish Algat"},"score":0,"creation_date":1680779178,"post_id":75948683,"comment_id":133957336,"body_markdown":"the issue is not there","body":"the issue is not there"},{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1680789447,"post_id":75948683,"comment_id":133959834,"body_markdown":"So, it seems to find the `.jar` files or it would fail sooner, correct?  It also seems to fail on the second jar, since `mqttv3` is in the classpath (an assumption tho).  So, I assume you have a `org.eclipse.paho.client.mqttv3-1.2.6.jar` file or somesuch?  Whatever your local jar file is, can you open that file (use 7-zip or something), and verify that `MqttClientPersistence.class` exists in it? Also, does whatever IDE you&#39;re using recognize the class?  Can you navigate to it (perhaps with Ctrl/Cmd + Click) whereever it&#39;s being used?  Just a few things to help narrow it down...","body":"So, it seems to find the <code>.jar</code> files or it would fail sooner, correct?  It also seems to fail on the second jar, since <code>mqttv3</code> is in the classpath (an assumption tho).  So, I assume you have a <code>org.eclipse.paho.client.mqttv3-1.2.6.jar</code> file or somesuch?  Whatever your local jar file is, can you open that file (use 7-zip or something), and verify that <code>MqttClientPersistence.class</code> exists in it? Also, does whatever IDE you&#39;re using recognize the class?  Can you navigate to it (perhaps with Ctrl/Cmd + Click) whereever it&#39;s being used?  Just a few things to help narrow it down..."}],"owner":{"account_id":23791468,"reputation":11,"user_id":17802855,"display_name":"Harish Algat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680794409,"creation_date":1680778430,"question_id":75948683,"body_markdown":"I am using Gradle as a build tool and IntelliJ IDE.\r\n\r\nI have 2 local jars which I am using in `build.gradle` file as a dependency and picking it from local directory.\r\n\r\nI also have a task to generate the jar for that project but when the jar is created and when I am trying to use it in other project it&#39;s giving class not found exception.\r\n\r\nMy build.gradle file:\r\n```gradle\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;com.vodafone.tv&#39;\r\nversion &#39;1.0&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven { url &#39;https://jitpack.io&#39; }\r\n    flatDir {\r\n//these are the directories from where I am picking up the local jars\r\n        dirs &quot;C:\\\\Users\\\\debanjan.bhatt\\\\Desktop\\\\vtv-plugin-base-master&quot;\r\n        dirs &quot;C:\\\\Users\\\\debanjan.bhatt\\\\Desktop&quot;\r\n    }\r\n}\r\n//task to generate jar\r\ntask buildPlugin(type: Jar) {\r\n    manifest {\r\n        attributes &#39;Manifest-Version&#39;: &#39;1.0&#39;,\r\n                &#39;Plugin-Id&#39;: &#39;vtv-mqtt&#39;,\r\n                &#39;Plugin-Version&#39;: &#39;1.0.0&#39;\r\n    }\r\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\r\n    with jar\r\n}\r\n\r\ndependencies {\r\n    implementation(&#39;:vtv-plugin-base&#39;) // this is my first local jar 1\r\n    implementation(name: &#39;org.eclipse.paho.client.mqttv3-1.2.6&#39;)   //this is my seconds local jar 2\r\n    implementation group: &#39;com.consol.citrus&#39;, name: &#39;citrus-java-dsl&#39;, version: &#39;2.8.0&#39;\r\n    implementation group: &#39;org.json&#39;, name: &#39;json&#39;, version: &#39;20201115&#39;\r\n    compileOnly(group: &#39;org.pf4j&#39;, name: &#39;pf4j&#39;, version: &#39;3.6.0&#39;)\r\n    annotationProcessor(group: &#39;org.pf4j&#39;, name: &#39;pf4j&#39;, version: &quot;3.6.0&quot;)\r\n    implementation group: &#39;org.testng&#39;, name: &#39;testng&#39;, version: &#39;7.4.0&#39;\r\n    implementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-log4j12&#39;, version: &#39;1.7.30&#39;\r\n    implementation group: &#39;com.google.code.gson&#39;, name: &#39;gson&#39;, version: &#39;2.8.6&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nI am getting the following error when this jar is created using the task and I am using it somewhere else in the project.\r\n\r\n```lang-txt\r\n09:43:50,216 \\[ INFO  \\] java.lang.ClassNotFoundException: org.eclipse.paho.client.mqttv3.MqttClientPersistence\r\n```","title":"ClassNotFoundException on creating jar","body":"<p>I am using Gradle as a build tool and IntelliJ IDE.</p>\n<p>I have 2 local jars which I am using in <code>build.gradle</code> file as a dependency and picking it from local directory.</p>\n<p>I also have a task to generate the jar for that project but when the jar is created and when I am trying to use it in other project it's giving class not found exception.</p>\n<p>My build.gradle file:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'com.vodafone.tv'\nversion '1.0'\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://jitpack.io' }\n    flatDir {\n//these are the directories from where I am picking up the local jars\n        dirs &quot;C:\\\\Users\\\\debanjan.bhatt\\\\Desktop\\\\vtv-plugin-base-master&quot;\n        dirs &quot;C:\\\\Users\\\\debanjan.bhatt\\\\Desktop&quot;\n    }\n}\n//task to generate jar\ntask buildPlugin(type: Jar) {\n    manifest {\n        attributes 'Manifest-Version': '1.0',\n                'Plugin-Id': 'vtv-mqtt',\n                'Plugin-Version': '1.0.0'\n    }\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n    with jar\n}\n\ndependencies {\n    implementation(':vtv-plugin-base') // this is my first local jar 1\n    implementation(name: 'org.eclipse.paho.client.mqttv3-1.2.6')   //this is my seconds local jar 2\n    implementation group: 'com.consol.citrus', name: 'citrus-java-dsl', version: '2.8.0'\n    implementation group: 'org.json', name: 'json', version: '20201115'\n    compileOnly(group: 'org.pf4j', name: 'pf4j', version: '3.6.0')\n    annotationProcessor(group: 'org.pf4j', name: 'pf4j', version: &quot;3.6.0&quot;)\n    implementation group: 'org.testng', name: 'testng', version: '7.4.0'\n    implementation group: 'org.slf4j', name: 'slf4j-log4j12', version: '1.7.30'\n    implementation group: 'com.google.code.gson', name: 'gson', version: '2.8.6'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I am getting the following error when this jar is created using the task and I am using it somewhere else in the project.</p>\n<pre class=\"lang-txt prettyprint-override\"><code>09:43:50,216 \\[ INFO  \\] java.lang.ClassNotFoundException: org.eclipse.paho.client.mqttv3.MqttClientPersistence\n</code></pre>\n"},{"tags":["java","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":21,"up_vote_count":33,"is_accepted":true,"score":12,"last_activity_date":1300180670,"creation_date":1291987621,"answer_id":4409263,"question_id":4408858,"body_markdown":"**Source**: [Automatically Retry Failed Jobs in Quartz][1]\r\n\r\n[1]: http://fahdshariff.blogspot.com/2010/12/automatically-retry-failed-jobs-in.html\r\n\r\nIf you want to have a job which keeps trying over and over again until it succeeds, all you have to do is throw a JobExecutionException with a flag to tell the scheduler to fire it again when it fails. The following code shows how:\r\n\r\n    class MyJob implements Job {\r\n    \r\n        public MyJob() {\r\n        }\r\n    \r\n        public void execute(JobExecutionContext context) throws JobExecutionException {\r\n            \r\n            try{\r\n                //connect to other application etc\r\n            }\r\n            catch(Exception e){\r\n    \r\n                Thread.sleep(600000); //sleep for 10 mins\r\n    \r\n                JobExecutionException e2 = new JobExecutionException(e);\r\n                //fire it again\r\n                e2.setRefireImmediately(true);\r\n                throw e2;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nIt gets a bit more complicated if you want to retry a certain number of times. You have to use a StatefulJob and hold a retryCounter in its JobDataMap, which you increment if the job fails. If the counter exceeds the maximum number of retries, then you can disable the job if you wish.\r\n\r\n    class MyJob implements StatefulJob {\r\n    \r\n        public MyJob() {\r\n        }\r\n    \r\n        public void execute(JobExecutionContext context) throws JobExecutionException {\r\n            JobDataMap dataMap = context.getJobDetail().getJobDataMap();\r\n            int count = dataMap.getIntValue(&quot;count&quot;);\r\n            \r\n            // allow 5 retries\r\n            if(count &gt;= 5){\r\n                JobExecutionException e = new JobExecutionException(&quot;Retries exceeded&quot;);\r\n                //make sure it doesn&#39;t run again\r\n                e.setUnscheduleAllTriggers(true);\r\n                throw e;\r\n            }\r\n            \r\n            \r\n            try{\r\n                //connect to other application etc\r\n                \r\n                //reset counter back to 0\r\n                dataMap.putAsString(&quot;count&quot;, 0);\r\n            }\r\n            catch(Exception e){\r\n                count++;\r\n                dataMap.putAsString(&quot;count&quot;, count);\r\n                JobExecutionException e2 = new JobExecutionException(e);\r\n                \r\n                Thread.sleep(600000); //sleep for 10 mins\r\n                \r\n                //fire it again\r\n                e2.setRefireImmediately(true);\r\n                throw e2;\r\n            }\r\n        }\r\n    }","title":"Quartz retry when failure","body":"<p><strong>Source</strong>: <a href=\"http://fahdshariff.blogspot.com/2010/12/automatically-retry-failed-jobs-in.html\" rel=\"noreferrer\">Automatically Retry Failed Jobs in Quartz</a></p>\n\n<p>If you want to have a job which keeps trying over and over again until it succeeds, all you have to do is throw a JobExecutionException with a flag to tell the scheduler to fire it again when it fails. The following code shows how:</p>\n\n<pre><code>class MyJob implements Job {\n\n    public MyJob() {\n    }\n\n    public void execute(JobExecutionContext context) throws JobExecutionException {\n\n        try{\n            //connect to other application etc\n        }\n        catch(Exception e){\n\n            Thread.sleep(600000); //sleep for 10 mins\n\n            JobExecutionException e2 = new JobExecutionException(e);\n            //fire it again\n            e2.setRefireImmediately(true);\n            throw e2;\n        }\n    }\n}\n</code></pre>\n\n<p>It gets a bit more complicated if you want to retry a certain number of times. You have to use a StatefulJob and hold a retryCounter in its JobDataMap, which you increment if the job fails. If the counter exceeds the maximum number of retries, then you can disable the job if you wish.</p>\n\n<pre><code>class MyJob implements StatefulJob {\n\n    public MyJob() {\n    }\n\n    public void execute(JobExecutionContext context) throws JobExecutionException {\n        JobDataMap dataMap = context.getJobDetail().getJobDataMap();\n        int count = dataMap.getIntValue(\"count\");\n\n        // allow 5 retries\n        if(count &gt;= 5){\n            JobExecutionException e = new JobExecutionException(\"Retries exceeded\");\n            //make sure it doesn't run again\n            e.setUnscheduleAllTriggers(true);\n            throw e;\n        }\n\n\n        try{\n            //connect to other application etc\n\n            //reset counter back to 0\n            dataMap.putAsString(\"count\", 0);\n        }\n        catch(Exception e){\n            count++;\n            dataMap.putAsString(\"count\", count);\n            JobExecutionException e2 = new JobExecutionException(e);\n\n            Thread.sleep(600000); //sleep for 10 mins\n\n            //fire it again\n            e2.setRefireImmediately(true);\n            throw e2;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62516,"reputation":20965,"user_id":185723,"accept_rate":89,"display_name":"dimitrisli"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1291990462,"creation_date":1291990462,"answer_id":4409634,"question_id":4408858,"body_markdown":"I would suggest for more flexibility and configurability to better store in your DB two offsets: the *repeatOffset* which will tell you\r\nafter how long the job should be retried and the *trialPeriodOffset* which will keep the information of the time window that the job is\r\nallowed to be rescheduled. Then you can retrieve these two parameters like (I assume you are using Spring):\r\n\r\n    String repeatOffset = yourDBUtilsDao.getConfigParameter(..);\r\n    String trialPeriodOffset = yourDBUtilsDao.getConfigParameter(..);\r\n\r\nThen instead of the job to remember the counter it will need to remember the initalAttempt:\r\n\r\n    Long initialAttempt = null;\r\n    initialAttempt = (Long) existingJobDetail.getJobDataMap().get(&quot;firstAttempt&quot;);\r\n\r\nand perform the something like the following check:\r\n\r\n    long allowedThreshold = initialAttempt + Long.parseLong(trialPeriodOffset);\r\n    \t\tif (System.currentTimeMillis() &gt; allowedThreshold) {\r\n    \t\t\t//We&#39;ve tried enough, time to give up\r\n    \t\t\tlog.warn(&quot;The job is not going to be rescheduled since it has reached its trial period threshold&quot;);\r\n    \t\t\tsched.deleteJob(jobName, jobGroup);\r\n    \t\t\treturn YourResultEnumHere.HAS_REACHED_THE_RESCHEDULING_LIMIT;\r\n    \t\t}\r\n\r\nIt would be a good idea to create an enum for the result of the attempt that is being returned back to the core workflow of your \r\napplication like above.\r\n\r\nThen construct the rescheduling time:\r\n\r\n    Date startTime = null;\r\n    startTime = new Date(System.currentTimeMillis() + Long.parseLong(repeatOffset));\r\n    \r\n    String triggerName = &quot;Trigger_&quot; + jobName;\r\n    String triggerGroup = &quot;Trigger_&quot; + jobGroup;\r\n    \t\t\r\n    Trigger retrievedTrigger = sched.getTrigger(triggerName, triggerGroup);\r\n    if (!(retrievedTrigger instanceof SimpleTrigger)) {\r\n            \tlog.error(&quot;While rescheduling the Quartz Job retrieved was not of SimpleTrigger type as expected&quot;);\r\n            \treturn YourResultEnumHere.ERROR;\r\n    }\r\n            \r\n            ((SimpleTrigger) retrievedTrigger).setStartTime(startTime);\r\n    \t\tsched.rescheduleJob(triggerName, triggerGroup, retrievedTrigger);\r\n    \t\treturn YourResultEnumHere.RESCHEDULED;","title":"Quartz retry when failure","body":"<p>I would suggest for more flexibility and configurability to better store in your DB two offsets: the <em>repeatOffset</em> which will tell you\nafter how long the job should be retried and the <em>trialPeriodOffset</em> which will keep the information of the time window that the job is\nallowed to be rescheduled. Then you can retrieve these two parameters like (I assume you are using Spring):</p>\n\n<pre><code>String repeatOffset = yourDBUtilsDao.getConfigParameter(..);\nString trialPeriodOffset = yourDBUtilsDao.getConfigParameter(..);\n</code></pre>\n\n<p>Then instead of the job to remember the counter it will need to remember the initalAttempt:</p>\n\n<pre><code>Long initialAttempt = null;\ninitialAttempt = (Long) existingJobDetail.getJobDataMap().get(\"firstAttempt\");\n</code></pre>\n\n<p>and perform the something like the following check:</p>\n\n<pre><code>long allowedThreshold = initialAttempt + Long.parseLong(trialPeriodOffset);\n        if (System.currentTimeMillis() &gt; allowedThreshold) {\n            //We've tried enough, time to give up\n            log.warn(\"The job is not going to be rescheduled since it has reached its trial period threshold\");\n            sched.deleteJob(jobName, jobGroup);\n            return YourResultEnumHere.HAS_REACHED_THE_RESCHEDULING_LIMIT;\n        }\n</code></pre>\n\n<p>It would be a good idea to create an enum for the result of the attempt that is being returned back to the core workflow of your \napplication like above.</p>\n\n<p>Then construct the rescheduling time:</p>\n\n<pre><code>Date startTime = null;\nstartTime = new Date(System.currentTimeMillis() + Long.parseLong(repeatOffset));\n\nString triggerName = \"Trigger_\" + jobName;\nString triggerGroup = \"Trigger_\" + jobGroup;\n\nTrigger retrievedTrigger = sched.getTrigger(triggerName, triggerGroup);\nif (!(retrievedTrigger instanceof SimpleTrigger)) {\n            log.error(\"While rescheduling the Quartz Job retrieved was not of SimpleTrigger type as expected\");\n            return YourResultEnumHere.ERROR;\n}\n\n        ((SimpleTrigger) retrievedTrigger).setStartTime(startTime);\n        sched.rescheduleJob(triggerName, triggerGroup, retrievedTrigger);\n        return YourResultEnumHere.RESCHEDULED;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6350625,"reputation":193,"user_id":4929812,"display_name":"Fl&#225;vio Ferreira"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1481038435,"creation_date":1481038435,"answer_id":40999093,"question_id":4408858,"body_markdown":"I would recommend an implementation like this one to recover the job after a fail:\r\n\r\n    final JobDataMap jobDataMap = jobCtx.getJobDetail().getJobDataMap();\r\n    // the keys doesn&#39;t exist on first retry\r\n    final int retries = jobDataMap.containsKey(COUNT_MAP_KEY) ? jobDataMap.getIntValue(COUNT_MAP_KEY) : 0;\r\n\r\n    // to stop after awhile\r\n    if (retries &lt; MAX_RETRIES) {\r\n      log.warn(&quot;Retry job &quot; + jobCtx.getJobDetail());\r\n\r\n      // increment the number of retries\r\n      jobDataMap.put(COUNT_MAP_KEY, retries + 1);\r\n\r\n      final JobDetail job = jobCtx\r\n          .getJobDetail()\r\n          .getJobBuilder()\r\n           // to track the number of retries\r\n          .withIdentity(jobCtx.getJobDetail().getKey().getName() + &quot; - &quot; + retries, &quot;FailingJobsGroup&quot;)\r\n          .usingJobData(jobDataMap)\r\n          .build();\r\n\r\n      final OperableTrigger trigger = (OperableTrigger) TriggerBuilder\r\n          .newTrigger()\r\n          .forJob(job)\r\n           // trying to reduce back pressure, you can use another algorithm\r\n          .startAt(new Date(jobCtx.getFireTime().getTime() + (retries*100))) \r\n          .build();\r\n\r\n      try {\r\n        // schedule another job to avoid blocking threads\r\n        jobCtx.getScheduler().scheduleJob(job, trigger);\r\n      } catch (SchedulerException e) {\r\n        log.error(&quot;Error creating job&quot;);\r\n        throw new JobExecutionException(e);\r\n      }\r\n    }\r\n \r\n**Why?**\r\n\r\n 1. It will not block Quartz Workers\r\n 2. It will avoid back pressure. With setRefireImmediately the job will be fired immediately and it could lead to back pressure issues\r\n\r\n","title":"Quartz retry when failure","body":"<p>I would recommend an implementation like this one to recover the job after a fail:</p>\n\n<pre><code>final JobDataMap jobDataMap = jobCtx.getJobDetail().getJobDataMap();\n// the keys doesn't exist on first retry\nfinal int retries = jobDataMap.containsKey(COUNT_MAP_KEY) ? jobDataMap.getIntValue(COUNT_MAP_KEY) : 0;\n\n// to stop after awhile\nif (retries &lt; MAX_RETRIES) {\n  log.warn(\"Retry job \" + jobCtx.getJobDetail());\n\n  // increment the number of retries\n  jobDataMap.put(COUNT_MAP_KEY, retries + 1);\n\n  final JobDetail job = jobCtx\n      .getJobDetail()\n      .getJobBuilder()\n       // to track the number of retries\n      .withIdentity(jobCtx.getJobDetail().getKey().getName() + \" - \" + retries, \"FailingJobsGroup\")\n      .usingJobData(jobDataMap)\n      .build();\n\n  final OperableTrigger trigger = (OperableTrigger) TriggerBuilder\n      .newTrigger()\n      .forJob(job)\n       // trying to reduce back pressure, you can use another algorithm\n      .startAt(new Date(jobCtx.getFireTime().getTime() + (retries*100))) \n      .build();\n\n  try {\n    // schedule another job to avoid blocking threads\n    jobCtx.getScheduler().scheduleJob(job, trigger);\n  } catch (SchedulerException e) {\n    log.error(\"Error creating job\");\n    throw new JobExecutionException(e);\n  }\n}\n</code></pre>\n\n<p><strong>Why?</strong></p>\n\n<ol>\n<li>It will not block Quartz Workers</li>\n<li>It will avoid back pressure. With setRefireImmediately the job will be fired immediately and it could lead to back pressure issues</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25939300,"reputation":31,"user_id":19659058,"display_name":"gearbase"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680793682,"creation_date":1680793682,"answer_id":75951052,"question_id":4408858,"body_markdown":"I hope this information will be useful for you (this is a copy of my answer in this [thread](https://stackoverflow.com/a/75949972/19659058))\r\n\r\nBelow is an example of a multi-instance Spring Boot application that launches a cron job.  \r\nThe Job must be running on only one of the instances.  \r\nThe configuration of each instance must be the same.  \r\nIf a job crashes, it should try to restart 3 times with a delay of 5 minutes * number of restart attempts.  \r\nIf the job still crashes after 3 restarts, the default cron for our job trigger should be set.\r\n\r\n\r\n**We will use Quartz in cluster mode:**\r\n\r\nDeps:\r\n```groovy\r\nimplementation(&quot;org.springframework.boot:spring-boot-starter-quartz&quot;)\r\n```\r\n\r\nAt first, it is a bad idea to use Thread.sleep(600000) as said in this [answer](https://stackoverflow.com/a/4409263/19659058)  \r\n*Out job:*\r\n```kotlin\r\n@Component\r\n@Profile(&quot;quartz&quot;)\r\nclass SomeJob(\r\n    private val someService: SomeService\r\n) : QuartzJobBean() {\r\n    private val log: Logger = LoggerFactory.getLogger(SomeJob::class.java)\r\n    \r\n    override fun executeInternal(jobExecutionContext: JobExecutionContext) {\r\n        try {\r\n            log.info(&quot;Doing awesome work...&quot;)\r\n            someService.work()\r\n            if ((1..10).random() &gt;= 5) throw RuntimeException(&quot;Something went wrong...&quot;)\r\n        } catch (e: Exception) {\r\n            throw JobExecutionException(e)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is the Quartz configuration (more information [here](https://www.baeldung.com/spring-quartz-schedule)):\r\n```kotlin\r\n@Configuration\r\n@Profile(&quot;quartz&quot;)\r\nclass JobConfig {\r\n    //JobDetail for our job\r\n    @Bean\r\n    fun someJobDetail(): JobDetail {\r\n        return JobBuilder\r\n            .newJob(SomeJob::class.java).withIdentity(&quot;SomeJob&quot;)\r\n            .withDescription(&quot;Some job&quot;)\r\n            //If we want the job to be launched after the application instance crashes at the \r\n            //next launch\r\n            .requestRecovery(true)\r\n            .storeDurably().build()\r\n    }\r\n\r\n    //Trigger\r\n    @Bean\r\n    fun someJobTrigger(someJobDetail: JobDetail): Trigger {\r\n        return TriggerBuilder.newTrigger().forJob(someJobDetail)\r\n            .withIdentity(&quot;SomeJobTrigger&quot;)\r\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 0 4 L-1 * ? *&quot;))\r\n            .build()\r\n\r\n    }\r\n\r\n    //Otherwise, changing cron for an existing trigger will not work. (the old cron value will be stored in the database)\r\n    @Bean\r\n    fun scheduler(triggers: List&lt;Trigger&gt;, jobDetails: List&lt;JobDetail&gt;, factory: SchedulerFactoryBean): Scheduler {\r\n        factory.setWaitForJobsToCompleteOnShutdown(true)\r\n        val scheduler = factory.scheduler\r\n        factory.setOverwriteExistingJobs(true)\r\n        //https://stackoverflow.com/questions/39673572/spring-quartz-scheduler-race-condition\r\n        factory.setTransactionManager(JdbcTransactionManager())\r\n        rescheduleTriggers(triggers, scheduler)\r\n        scheduler.start()\r\n        return scheduler\r\n    }\r\n\r\n    private fun rescheduleTriggers(triggers: List&lt;Trigger&gt;, scheduler: Scheduler) {\r\n        triggers.forEach {\r\n            if (!scheduler.checkExists(it.key)) {\r\n                scheduler.scheduleJob(it)\r\n            } else {\r\n                scheduler.rescheduleJob(it.key, it)\r\n            }\r\n        }\r\n    }\r\n}\r\n    \r\n```\r\nAdd a listener to the scheduler:\r\n```kotlin\r\n@Component\r\n@Profile(&quot;quartz&quot;)\r\nclass JobListenerConfig(\r\n    private val schedulerFactory: SchedulerFactoryBean,\r\n    private val jobListener: JobListener\r\n) {\r\n    @PostConstruct\r\n    fun addListener() {\r\n        schedulerFactory.scheduler.listenerManager.addJobListener(jobListener, KeyMatcher.keyEquals(jobKey(&quot;SomeJob&quot;)))\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd now the most important - the logic of processing the execution of our job with listener:\r\n```kotlin\r\n@Profile(&quot;quartz&quot;)\r\nclass JobListener(\r\n    //can be obtained from the execution context, but it can also be injected\r\n    private val scheduler: Scheduler,\r\n    private val triggers: List&lt;Trigger&gt;\r\n): JobListenerSupport() {\r\n\r\n    private lateinit var triggerCronMap: Map&lt;String, String&gt;\r\n\r\n    @PostConstruct\r\n    fun post(){\r\n        //there will be no recovery triggers , only our self-written ones\r\n        triggerCronMap = triggers.associate {\r\n            it.key.name to (it as CronTrigger).cronExpression\r\n        }\r\n    }\r\n\r\n    override fun getName(): String {\r\n        return &quot;myJobListener&quot;\r\n    }\r\n\r\n\r\n    override fun jobToBeExecuted(context: JobExecutionContext) {\r\n        log.info(&quot;Job: ${context.jobDetail.key.name} ready to start by trigger: ${context.trigger.key.name}&quot;)\r\n    }\r\n\r\n\r\n    override fun jobWasExecuted(context: JobExecutionContext, jobException: JobExecutionException?) {\r\n        //you can use context.mergedJobDataMap\r\n        val dataMap = context.trigger.jobDataMap\r\n        val count = if (dataMap[&quot;count&quot;] != null) dataMap.getIntValue(&quot;count&quot;) else {\r\n            dataMap.putAsString(&quot;count&quot;, 1)\r\n            1\r\n        }\r\n        //in the if block, you can add the condition &amp;&amp; !context.trigger.key.name.startsWith(&quot;recover_&quot;) - in this case, the scheduler will not restart recover triggers if they fall during execution\r\n        if (jobException != null ){\r\n            if (count &lt; 3) {\r\n                log.warn(&quot;Job: ${context.jobDetail.key.name} filed while execution. Restart attempts count: $count &quot;)\r\n                val oldTrigger = context.trigger\r\n                var newTriggerName = context.trigger.key.name + &quot;_retry&quot;\r\n                //in case such a trigger already exists\r\n                context.scheduler.getTriggersOfJob(context.jobDetail.key)\r\n                    .map { it.key.name }\r\n                    .takeIf { it.contains(newTriggerName) }\r\n                    ?.apply { newTriggerName += &quot;_retry&quot; }\r\n                val newTrigger = TriggerBuilder.newTrigger()\r\n                    .forJob(context.jobDetail)\r\n                    .withIdentity(newTriggerName, context.trigger.key.group)\r\n                    //create a simple trigger that should be fired in 5 minutes * restart attempts\r\n                    .startAt(Date.from(Instant.now().plus((5 * count).toLong(), ChronoUnit.MINUTES)))\r\n                    .usingJobData(&quot;count&quot;, count + 1 )\r\n                    .build()\r\n                val date = scheduler.rescheduleJob(oldTrigger.key, newTrigger)\r\n                log.warn(&quot;Rescheduling trigger: ${oldTrigger.key} to trigger: ${newTrigger.key}&quot;)\r\n            } else {\r\n                log.warn(&quot;The maximum number of restarts has been reached. Restart attempts: $count&quot;)\r\n                recheduleWithDefaultTrigger(context)\r\n            }\r\n        } else if (count &gt; 1) {\r\n            recheduleWithDefaultTrigger(context)\r\n        }\r\n        else {\r\n            log.info(&quot;Job: ${context.jobDetail.key.name} completed successfully&quot;)\r\n        }\r\n        context.scheduler.getTriggersOfJob(context.trigger.jobKey).forEach {\r\n            log.info(&quot;Trigger with key: ${it.key} for job: ${context.trigger.jobKey.name} will start at ${it.nextFireTime ?: it.startTime}&quot;)\r\n        }\r\n    }\r\n\r\n    private fun recheduleWithDefaultTrigger(context: JobExecutionContext) {\r\n        val clone = context.jobDetail.clone() as JobDetail\r\n        val defaultTriggerName = context.trigger.key.name.split(&quot;_&quot;)[0]\r\n        //Recovery triggers should not be rescheduled\r\n        if (!triggerCronMap.contains(defaultTriggerName)) {\r\n            log.warn(&quot;This trigger: ${context.trigger.key.name} for job: ${context.trigger.jobKey.name} is not self-written trigger. It can be recovery trigger or whatever. This trigger must not be recheduled.&quot;)\r\n            return\r\n        }\r\n        log.warn(&quot;Remove all triggers for job: ${context.trigger.jobKey.name} and schedule default trigger for it: $defaultTriggerName&quot;)\r\n        scheduler.deleteJob(clone.key)\r\n        scheduler.addJob(clone, true)\r\n        scheduler.scheduleJob(\r\n            TriggerBuilder.newTrigger()\r\n                .forJob(clone)\r\n                .withIdentity(defaultTriggerName)\r\n                .withSchedule(CronScheduleBuilder.cronSchedule(triggerCronMap[defaultTriggerName]))\r\n                .usingJobData(&quot;count&quot;, 1)\r\n                .startAt(Date.from(Instant.now().plusSeconds(5)))\r\n                .build()\r\n        )\r\n    }\r\n}\r\n```\r\nLast but not least: **application.yaml**\r\n```yaml\r\nspring:\r\n  quartz:\r\n    job-store-type: jdbc #Database Mode\r\n    jdbc:\r\n      initialize-schema: never #Do not initialize table structure\r\n    properties:\r\n      org:\r\n        quartz:\r\n          scheduler:\r\n            instanceId: AUTO #Default hostname and timestamp generate instance ID, which can be any string, but must be the only corresponding qrtz_scheduler_state INSTANCE_NAME field for all dispatchers\r\n            #instanceName: clusteredScheduler #quartzScheduler\r\n          jobStore:\r\n#            a few problems with the two properties below: https://github.com/spring-projects/spring-boot/issues/28758#issuecomment-974628989 &amp; https://github.com/quartz-scheduler/quartz/issues/284\r\n#            class: org.springframework.scheduling.quartz.LocalDataSourceJobStore #Persistence Configuration\r\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate #We only make database-specific proxies for databases\r\n#            useProperties: true #Indicates that JDBC JobStore stores all values in JobDataMaps as strings, so more complex objects can be stored as name-value pairs rather than serialized in BLOB columns.In the long run, this is safer because you avoid serializing non-String classes to BLOB class versions.\r\n            tablePrefix: scam_quartz.QRTZ_  #Database Table Prefix\r\n            misfireThreshold: 60000 #The number of milliseconds the dispatcher will &quot;tolerate&quot; a Trigger to pass its next startup time before being considered a &quot;fire&quot;.The default value (if you do not enter this property in the configuration) is 60000 (60 seconds).\r\n            clusterCheckinInterval: 5000 #Set the frequency (in milliseconds) of this instance&#39;checkin&#39;* with other instances of the cluster.Affects the speed of detecting failed instances.\r\n            isClustered: true #Turn on Clustering\r\n          threadPool: #Connection Pool\r\n            class: org.quartz.simpl.SimpleThreadPool\r\n            threadCount: 3\r\n            threadPriority: 1\r\n            threadsInheritContextClassLoaderOfInitializingThread: true\r\n```\r\n\r\n[Here](https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore) official scripts for database (use liquibase or flyway)      \r\nMore information:   \r\n[About quartz](https://www.baeldung.com/quartz)  \r\n[spring boot using quartz in cluster mode](https://medium.com/javarevisited/spring-boot-using-quartz-in-mode-cluster-e1d71e4af4b9)  \r\n[One more article](https://habr.com/ru/companies/surfstudio/articles/685980)  \r\n[Cluster effectively quartz](https://medium.com/javarevisited/how-to-cluster-effectively-quartz-jobs-9b097f5e1191)","title":"Quartz retry when failure","body":"<p>I hope this information will be useful for you (this is a copy of my answer in this <a href=\"https://stackoverflow.com/a/75949972/19659058\">thread</a>)</p>\n<p>Below is an example of a multi-instance Spring Boot application that launches a cron job.<br />\nThe Job must be running on only one of the instances.<br />\nThe configuration of each instance must be the same.<br />\nIf a job crashes, it should try to restart 3 times with a delay of 5 minutes * number of restart attempts.<br />\nIf the job still crashes after 3 restarts, the default cron for our job trigger should be set.</p>\n<p><strong>We will use Quartz in cluster mode:</strong></p>\n<p>Deps:</p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-quartz&quot;)\n</code></pre>\n<p>At first, it is a bad idea to use Thread.sleep(600000) as said in this <a href=\"https://stackoverflow.com/a/4409263/19659058\">answer</a><br />\n<em>Out job:</em></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Profile(&quot;quartz&quot;)\nclass SomeJob(\n    private val someService: SomeService\n) : QuartzJobBean() {\n    private val log: Logger = LoggerFactory.getLogger(SomeJob::class.java)\n    \n    override fun executeInternal(jobExecutionContext: JobExecutionContext) {\n        try {\n            log.info(&quot;Doing awesome work...&quot;)\n            someService.work()\n            if ((1..10).random() &gt;= 5) throw RuntimeException(&quot;Something went wrong...&quot;)\n        } catch (e: Exception) {\n            throw JobExecutionException(e)\n        }\n    }\n}\n</code></pre>\n<p>Here is the Quartz configuration (more information <a href=\"https://www.baeldung.com/spring-quartz-schedule\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\n@Profile(&quot;quartz&quot;)\nclass JobConfig {\n    //JobDetail for our job\n    @Bean\n    fun someJobDetail(): JobDetail {\n        return JobBuilder\n            .newJob(SomeJob::class.java).withIdentity(&quot;SomeJob&quot;)\n            .withDescription(&quot;Some job&quot;)\n            //If we want the job to be launched after the application instance crashes at the \n            //next launch\n            .requestRecovery(true)\n            .storeDurably().build()\n    }\n\n    //Trigger\n    @Bean\n    fun someJobTrigger(someJobDetail: JobDetail): Trigger {\n        return TriggerBuilder.newTrigger().forJob(someJobDetail)\n            .withIdentity(&quot;SomeJobTrigger&quot;)\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 0 4 L-1 * ? *&quot;))\n            .build()\n\n    }\n\n    //Otherwise, changing cron for an existing trigger will not work. (the old cron value will be stored in the database)\n    @Bean\n    fun scheduler(triggers: List&lt;Trigger&gt;, jobDetails: List&lt;JobDetail&gt;, factory: SchedulerFactoryBean): Scheduler {\n        factory.setWaitForJobsToCompleteOnShutdown(true)\n        val scheduler = factory.scheduler\n        factory.setOverwriteExistingJobs(true)\n        //https://stackoverflow.com/questions/39673572/spring-quartz-scheduler-race-condition\n        factory.setTransactionManager(JdbcTransactionManager())\n        rescheduleTriggers(triggers, scheduler)\n        scheduler.start()\n        return scheduler\n    }\n\n    private fun rescheduleTriggers(triggers: List&lt;Trigger&gt;, scheduler: Scheduler) {\n        triggers.forEach {\n            if (!scheduler.checkExists(it.key)) {\n                scheduler.scheduleJob(it)\n            } else {\n                scheduler.rescheduleJob(it.key, it)\n            }\n        }\n    }\n}\n    \n</code></pre>\n<p>Add a listener to the scheduler:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Profile(&quot;quartz&quot;)\nclass JobListenerConfig(\n    private val schedulerFactory: SchedulerFactoryBean,\n    private val jobListener: JobListener\n) {\n    @PostConstruct\n    fun addListener() {\n        schedulerFactory.scheduler.listenerManager.addJobListener(jobListener, KeyMatcher.keyEquals(jobKey(&quot;SomeJob&quot;)))\n    }\n}\n\n</code></pre>\n<p>And now the most important - the logic of processing the execution of our job with listener:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Profile(&quot;quartz&quot;)\nclass JobListener(\n    //can be obtained from the execution context, but it can also be injected\n    private val scheduler: Scheduler,\n    private val triggers: List&lt;Trigger&gt;\n): JobListenerSupport() {\n\n    private lateinit var triggerCronMap: Map&lt;String, String&gt;\n\n    @PostConstruct\n    fun post(){\n        //there will be no recovery triggers , only our self-written ones\n        triggerCronMap = triggers.associate {\n            it.key.name to (it as CronTrigger).cronExpression\n        }\n    }\n\n    override fun getName(): String {\n        return &quot;myJobListener&quot;\n    }\n\n\n    override fun jobToBeExecuted(context: JobExecutionContext) {\n        log.info(&quot;Job: ${context.jobDetail.key.name} ready to start by trigger: ${context.trigger.key.name}&quot;)\n    }\n\n\n    override fun jobWasExecuted(context: JobExecutionContext, jobException: JobExecutionException?) {\n        //you can use context.mergedJobDataMap\n        val dataMap = context.trigger.jobDataMap\n        val count = if (dataMap[&quot;count&quot;] != null) dataMap.getIntValue(&quot;count&quot;) else {\n            dataMap.putAsString(&quot;count&quot;, 1)\n            1\n        }\n        //in the if block, you can add the condition &amp;&amp; !context.trigger.key.name.startsWith(&quot;recover_&quot;) - in this case, the scheduler will not restart recover triggers if they fall during execution\n        if (jobException != null ){\n            if (count &lt; 3) {\n                log.warn(&quot;Job: ${context.jobDetail.key.name} filed while execution. Restart attempts count: $count &quot;)\n                val oldTrigger = context.trigger\n                var newTriggerName = context.trigger.key.name + &quot;_retry&quot;\n                //in case such a trigger already exists\n                context.scheduler.getTriggersOfJob(context.jobDetail.key)\n                    .map { it.key.name }\n                    .takeIf { it.contains(newTriggerName) }\n                    ?.apply { newTriggerName += &quot;_retry&quot; }\n                val newTrigger = TriggerBuilder.newTrigger()\n                    .forJob(context.jobDetail)\n                    .withIdentity(newTriggerName, context.trigger.key.group)\n                    //create a simple trigger that should be fired in 5 minutes * restart attempts\n                    .startAt(Date.from(Instant.now().plus((5 * count).toLong(), ChronoUnit.MINUTES)))\n                    .usingJobData(&quot;count&quot;, count + 1 )\n                    .build()\n                val date = scheduler.rescheduleJob(oldTrigger.key, newTrigger)\n                log.warn(&quot;Rescheduling trigger: ${oldTrigger.key} to trigger: ${newTrigger.key}&quot;)\n            } else {\n                log.warn(&quot;The maximum number of restarts has been reached. Restart attempts: $count&quot;)\n                recheduleWithDefaultTrigger(context)\n            }\n        } else if (count &gt; 1) {\n            recheduleWithDefaultTrigger(context)\n        }\n        else {\n            log.info(&quot;Job: ${context.jobDetail.key.name} completed successfully&quot;)\n        }\n        context.scheduler.getTriggersOfJob(context.trigger.jobKey).forEach {\n            log.info(&quot;Trigger with key: ${it.key} for job: ${context.trigger.jobKey.name} will start at ${it.nextFireTime ?: it.startTime}&quot;)\n        }\n    }\n\n    private fun recheduleWithDefaultTrigger(context: JobExecutionContext) {\n        val clone = context.jobDetail.clone() as JobDetail\n        val defaultTriggerName = context.trigger.key.name.split(&quot;_&quot;)[0]\n        //Recovery triggers should not be rescheduled\n        if (!triggerCronMap.contains(defaultTriggerName)) {\n            log.warn(&quot;This trigger: ${context.trigger.key.name} for job: ${context.trigger.jobKey.name} is not self-written trigger. It can be recovery trigger or whatever. This trigger must not be recheduled.&quot;)\n            return\n        }\n        log.warn(&quot;Remove all triggers for job: ${context.trigger.jobKey.name} and schedule default trigger for it: $defaultTriggerName&quot;)\n        scheduler.deleteJob(clone.key)\n        scheduler.addJob(clone, true)\n        scheduler.scheduleJob(\n            TriggerBuilder.newTrigger()\n                .forJob(clone)\n                .withIdentity(defaultTriggerName)\n                .withSchedule(CronScheduleBuilder.cronSchedule(triggerCronMap[defaultTriggerName]))\n                .usingJobData(&quot;count&quot;, 1)\n                .startAt(Date.from(Instant.now().plusSeconds(5)))\n                .build()\n        )\n    }\n}\n</code></pre>\n<p>Last but not least: <strong>application.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  quartz:\n    job-store-type: jdbc #Database Mode\n    jdbc:\n      initialize-schema: never #Do not initialize table structure\n    properties:\n      org:\n        quartz:\n          scheduler:\n            instanceId: AUTO #Default hostname and timestamp generate instance ID, which can be any string, but must be the only corresponding qrtz_scheduler_state INSTANCE_NAME field for all dispatchers\n            #instanceName: clusteredScheduler #quartzScheduler\n          jobStore:\n#            a few problems with the two properties below: https://github.com/spring-projects/spring-boot/issues/28758#issuecomment-974628989 &amp; https://github.com/quartz-scheduler/quartz/issues/284\n#            class: org.springframework.scheduling.quartz.LocalDataSourceJobStore #Persistence Configuration\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate #We only make database-specific proxies for databases\n#            useProperties: true #Indicates that JDBC JobStore stores all values in JobDataMaps as strings, so more complex objects can be stored as name-value pairs rather than serialized in BLOB columns.In the long run, this is safer because you avoid serializing non-String classes to BLOB class versions.\n            tablePrefix: scam_quartz.QRTZ_  #Database Table Prefix\n            misfireThreshold: 60000 #The number of milliseconds the dispatcher will &quot;tolerate&quot; a Trigger to pass its next startup time before being considered a &quot;fire&quot;.The default value (if you do not enter this property in the configuration) is 60000 (60 seconds).\n            clusterCheckinInterval: 5000 #Set the frequency (in milliseconds) of this instance'checkin'* with other instances of the cluster.Affects the speed of detecting failed instances.\n            isClustered: true #Turn on Clustering\n          threadPool: #Connection Pool\n            class: org.quartz.simpl.SimpleThreadPool\n            threadCount: 3\n            threadPriority: 1\n            threadsInheritContextClassLoaderOfInitializingThread: true\n</code></pre>\n<p><a href=\"https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore\" rel=\"nofollow noreferrer\">Here</a> official scripts for database (use liquibase or flyway)<br />\nMore information:<br />\n<a href=\"https://www.baeldung.com/quartz\" rel=\"nofollow noreferrer\">About quartz</a><br />\n<a href=\"https://medium.com/javarevisited/spring-boot-using-quartz-in-mode-cluster-e1d71e4af4b9\" rel=\"nofollow noreferrer\">spring boot using quartz in cluster mode</a><br />\n<a href=\"https://habr.com/ru/companies/surfstudio/articles/685980\" rel=\"nofollow noreferrer\">One more article</a><br />\n<a href=\"https://medium.com/javarevisited/how-to-cluster-effectively-quartz-jobs-9b097f5e1191\" rel=\"nofollow noreferrer\">Cluster effectively quartz</a></p>\n"}],"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48217,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":4409263,"answer_count":4,"score":28,"last_activity_date":1680793682,"creation_date":1291984502,"question_id":4408858,"body_markdown":"Let&#39;s say I have a trigger configured this way:\r\n\r\n    &lt;bean id=&quot;updateInsBBTrigger&quot;         \r\n        class=&quot;org.springframework.scheduling.quartz.CronTriggerBean&quot;&gt;\r\n        &lt;property name=&quot;jobDetail&quot; ref=&quot;updateInsBBJobDetail&quot;/&gt;\r\n        &lt;!--  run every morning at 5 AM  --&gt;\r\n        &lt;property name=&quot;cronExpression&quot; value=&quot;0 0 5 * * ?&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n\r\nThe trigger have to connect with another application and if there is any problem (like a connection failure) it should to retry the task up to five times every 10 minutes or until success. There is any way to configure the trigger to work like this?\r\n","title":"Quartz retry when failure","body":"<p>Let's say I have a trigger configured this way:</p>\n\n<pre><code>&lt;bean id=\"updateInsBBTrigger\"         \n    class=\"org.springframework.scheduling.quartz.CronTriggerBean\"&gt;\n    &lt;property name=\"jobDetail\" ref=\"updateInsBBJobDetail\"/&gt;\n    &lt;!--  run every morning at 5 AM  --&gt;\n    &lt;property name=\"cronExpression\" value=\"0 0 5 * * ?\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>The trigger have to connect with another application and if there is any problem (like a connection failure) it should to retry the task up to five times every 10 minutes or until success. There is any way to configure the trigger to work like this?</p>\n"},{"tags":["java","security"],"comments":[{"owner":{"account_id":955054,"reputation":5629,"user_id":980520,"accept_rate":90,"display_name":"lynks"},"score":3,"creation_date":1335305488,"post_id":10306673,"comment_id":13265385,"body_markdown":"The best you can hope for is obfustication, if the program can read it, anyone with access to the files can too. That&#39;s not to say you cant make it damn hard to access.","body":"The best you can hope for is obfustication, if the program can read it, anyone with access to the files can too. That&#39;s not to say you cant make it damn hard to access."},{"owner":{"account_id":1405259,"reputation":3061,"user_id":1333157,"accept_rate":92,"display_name":"ZeroOne"},"score":0,"creation_date":1335306046,"post_id":10306673,"comment_id":13265536,"body_markdown":"Encrypting it with a constant password that is kept in the code seems like a legit way of doing it if people looking over the admin&#39;s shoulder are the main threat.","body":"Encrypting it with a constant password that is kept in the code seems like a legit way of doing it if people looking over the admin&#39;s shoulder are the main threat."},{"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1335306122,"post_id":10306673,"comment_id":13265549,"body_markdown":"How many people access the database? Don&#39;t they need a password for the core database access? Why should you store a second one/ this one?","body":"How many people access the database? Don&#39;t they need a password for the core database access? Why should you store a second one/ this one?"},{"owner":{"account_id":1405259,"reputation":3061,"user_id":1333157,"accept_rate":92,"display_name":"ZeroOne"},"score":0,"creation_date":1335306232,"post_id":10306673,"comment_id":13265575,"body_markdown":"@userunknown, obviously the Java application needs its own username and password for accessing the database. These are kept in the properties file, like the original poster explained.","body":"@userunknown, obviously the Java application needs its own username and password for accessing the database. These are kept in the properties file, like the original poster explained."},{"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1335306603,"post_id":10306673,"comment_id":13265671,"body_markdown":"@ZeroOne: For databases I use, I have an account, and the application just forwards my login information to the database, which grants me privileges or not. Manipulation of a front end program seems to me very risky.","body":"@ZeroOne: For databases I use, I have an account, and the application just forwards my login information to the database, which grants me privileges or not. Manipulation of a front end program seems to me very risky."},{"owner":{"account_id":1405259,"reputation":3061,"user_id":1333157,"accept_rate":92,"display_name":"ZeroOne"},"score":0,"creation_date":1335307227,"post_id":10306673,"comment_id":13265824,"body_markdown":"@userunknown Think of a web application like Stack Overflow. The application needs to access a database, but your login credentials to the web site certainly won&#39;t let you in into that database that powers the site. The application has its own database credentials.","body":"@userunknown Think of a web application like Stack Overflow. The application needs to access a database, but your login credentials to the web site certainly won&#39;t let you in into that database that powers the site. The application has its own database credentials."},{"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1335307700,"post_id":10306673,"comment_id":13265933,"body_markdown":"@ZeroOne: `Java application` isn&#39;t a web-application, is it? Maybe it is, but then it is poorly specified.","body":"@ZeroOne: <code>Java application</code> isn&#39;t a web-application, is it? Maybe it is, but then it is poorly specified."},{"owner":{"account_id":1405259,"reputation":3061,"user_id":1333157,"accept_rate":92,"display_name":"ZeroOne"},"score":0,"creation_date":1335307894,"post_id":10306673,"comment_id":13265980,"body_markdown":"@userunknown Yeah, I just noticed that I just assumed it was. That&#39;s because that&#39;s the only reason I could think of why anyone would want to save a database password into a properties file. Otherwise it should be done just like you already said.","body":"@userunknown Yeah, I just noticed that I just assumed it was. That&#39;s because that&#39;s the only reason I could think of why anyone would want to save a database password into a properties file. Otherwise it should be done just like you already said."},{"owner":{"account_id":54172,"reputation":3040,"user_id":162056,"accept_rate":79,"display_name":"daramasala"},"score":0,"creation_date":1335772811,"post_id":10306673,"comment_id":13382013,"body_markdown":"Thanks for all the comments. So, I wonder, if all I can do is obfuscate then I can just encode it in Base64, no? This way it is hard to tell what is the password by looking at it and yet I don&#39;t need to use encryption/decryption which seem an overkill given the fact the password is not really secured.","body":"Thanks for all the comments. So, I wonder, if all I can do is obfuscate then I can just encode it in Base64, no? This way it is hard to tell what is the password by looking at it and yet I don&#39;t need to use encryption/decryption which seem an overkill given the fact the password is not really secured."},{"owner":{"account_id":360377,"reputation":465,"user_id":702345,"display_name":"Harald Brabenetz"},"score":2,"creation_date":1478023689,"post_id":10306673,"comment_id":67985280,"body_markdown":"I created an opensource-library: http://secured-properties.brabenetz.net/   Please let me know what you think about it.","body":"I created an opensource-library: <a href=\"http://secured-properties.brabenetz.net/\" rel=\"nofollow noreferrer\">secured-properties.brabenetz.net</a>   Please let me know what you think about it."}],"answers":[{"tags":[],"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1335317513,"creation_date":1335312658,"answer_id":10307724,"question_id":10306673,"body_markdown":"[![enter image description here][1]][2] \r\n==\r\n**Jasypt provides the [org.jasypt.properties.EncryptableProperties][3] class for loading, managing and transparently decrypting encrypted values in .properties files, allowing the mix of both encrypted and not-encrypted values in the same file.**\r\n\r\nhttp://www.jasypt.org/encrypting-configuration.html\r\n\r\n&gt; By using an org.jasypt.properties.EncryptableProperties object, an\r\n&gt; application would be able to correctly read and use a .properties file\r\n&gt; like this:\r\n \r\n    datasource.driver=com.mysql.jdbc.Driver \r\n    datasource.url=jdbc:mysql://localhost/reportsdb \r\n    datasource.username=reportsUser \r\n    datasource.password=ENC(G6N718UuyPE5bHyWKyuLQSm02auQPUtm) \r\n\r\n&gt; Note that\r\n&gt; the database password is encrypted (in fact, any other property could\r\n&gt; also be encrypted, be it related with database configuration or not).\r\n&gt; \r\n&gt; How do we read this value? like this:\r\n\r\n    /*\r\n    * First, create (or ask some other component for) the adequate encryptor for   \r\n    * decrypting the values in our .properties file.   \r\n    */  \r\n    StandardPBEStringEncryptor encryptor = new StandardPBEStringEncryptor();     \r\n    encryptor.setPassword(&quot;jasypt&quot;); // could be got from web, env variable...    \r\n    /*   \r\n    * Create our EncryptableProperties object and load it the usual way.   \r\n    */  \r\n    Properties props = new EncryptableProperties(encryptor);  \r\n    props.load(new FileInputStream(&quot;/path/to/my/configuration.properties&quot;));\r\n    \r\n    /*   \r\n    * To get a non-encrypted value, we just get it with getProperty...   \r\n    */  \r\n    String datasourceUsername = props.getProperty(&quot;datasource.username&quot;);\r\n    \r\n    /*   \r\n    * ...and to get an encrypted value, we do exactly the same. Decryption will   \r\n    * be transparently performed behind the scenes.   \r\n    */ \r\n    String datasourcePassword = props.getProperty(&quot;datasource.password&quot;);\r\n    \r\n     // From now on, datasourcePassword equals &quot;reports_passwd&quot;...\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/oEt2m.png\r\n  [2]: http://www.jasypt.org\r\n  [3]: http://www.jasypt.org/api/jasypt/1.8/org/jasypt/properties/EncryptableProperties.html","title":"Securing a password in a properties file","body":"<h1><a href=\"http://www.jasypt.org\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oEt2m.png\" alt=\"enter image description here\"></a></h1>\n\n<p><strong>Jasypt provides the <a href=\"http://www.jasypt.org/api/jasypt/1.8/org/jasypt/properties/EncryptableProperties.html\" rel=\"noreferrer\">org.jasypt.properties.EncryptableProperties</a> class for loading, managing and transparently decrypting encrypted values in .properties files, allowing the mix of both encrypted and not-encrypted values in the same file.</strong></p>\n\n<p><a href=\"http://www.jasypt.org/encrypting-configuration.html\" rel=\"noreferrer\">http://www.jasypt.org/encrypting-configuration.html</a></p>\n\n<blockquote>\n  <p>By using an org.jasypt.properties.EncryptableProperties object, an\n  application would be able to correctly read and use a .properties file\n  like this:</p>\n</blockquote>\n\n<pre><code>datasource.driver=com.mysql.jdbc.Driver \ndatasource.url=jdbc:mysql://localhost/reportsdb \ndatasource.username=reportsUser \ndatasource.password=ENC(G6N718UuyPE5bHyWKyuLQSm02auQPUtm) \n</code></pre>\n\n<blockquote>\n  <p>Note that\n  the database password is encrypted (in fact, any other property could\n  also be encrypted, be it related with database configuration or not).</p>\n  \n  <p>How do we read this value? like this:</p>\n</blockquote>\n\n<pre><code>/*\n* First, create (or ask some other component for) the adequate encryptor for   \n* decrypting the values in our .properties file.   \n*/  \nStandardPBEStringEncryptor encryptor = new StandardPBEStringEncryptor();     \nencryptor.setPassword(\"jasypt\"); // could be got from web, env variable...    \n/*   \n* Create our EncryptableProperties object and load it the usual way.   \n*/  \nProperties props = new EncryptableProperties(encryptor);  \nprops.load(new FileInputStream(\"/path/to/my/configuration.properties\"));\n\n/*   \n* To get a non-encrypted value, we just get it with getProperty...   \n*/  \nString datasourceUsername = props.getProperty(\"datasource.username\");\n\n/*   \n* ...and to get an encrypted value, we do exactly the same. Decryption will   \n* be transparently performed behind the scenes.   \n*/ \nString datasourcePassword = props.getProperty(\"datasource.password\");\n\n // From now on, datasourcePassword equals \"reports_passwd\"...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5168716,"reputation":137,"user_id":4137960,"display_name":"Abelgo Japan"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1413961635,"creation_date":1413960814,"answer_id":26501842,"question_id":10306673,"body_markdown":"The poor mans compromise solution is to use a simplistic multi signature approach.\r\n\r\nFor Example the DBA sets the applications database password to a 50 character random string. \r\n**TAKqWskc4ncvKaJTyDcgAHq82X7tX6GfK2fc386bmNw3muknjU**\r\n\r\nHe or she give half the password to the application developer who then hard codes it into the java binary.\r\n\r\n**private String pass1 = &quot;TAKqWskc4ncvKaJTyDcgAHq82&quot;**\r\n\r\nThe other half of the password is passed as a command line argument. the DBA gives pass2 to the system support or admin person who either enters it a application start time or puts it into the automated application start up script.\r\n\r\njava -jar /myapplication.jar  -pass2 X7tX6GfK2fc386bmNw3muknjU\r\n\r\nWhen the application starts it uses pass1 + pass2 and connects to the database. \r\n\r\nThis solution has many advantages with out the downfalls mentioned.\r\n\r\nYou can safely put half the password in a command line arguments as reading it wont help you much unless you are the developer who has the other half of the password.\r\n\r\nThe DBA can also still change the second half of the password and the developer need not have to re-deploy the application. \r\n\r\nThe source code can also be semi public as reading it and the password will not give you application access.  \r\n\r\nYou can further improve the situation by adding restrictions on the IP address ranges the database will accept connections from. \r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\n ","title":"Securing a password in a properties file","body":"<p>The poor mans compromise solution is to use a simplistic multi signature approach.</p>\n\n<p>For Example the DBA sets the applications database password to a 50 character random string. \n<strong>TAKqWskc4ncvKaJTyDcgAHq82X7tX6GfK2fc386bmNw3muknjU</strong></p>\n\n<p>He or she give half the password to the application developer who then hard codes it into the java binary.</p>\n\n<p><strong>private String pass1 = \"TAKqWskc4ncvKaJTyDcgAHq82\"</strong></p>\n\n<p>The other half of the password is passed as a command line argument. the DBA gives pass2 to the system support or admin person who either enters it a application start time or puts it into the automated application start up script.</p>\n\n<p>java -jar /myapplication.jar  -pass2 X7tX6GfK2fc386bmNw3muknjU</p>\n\n<p>When the application starts it uses pass1 + pass2 and connects to the database. </p>\n\n<p>This solution has many advantages with out the downfalls mentioned.</p>\n\n<p>You can safely put half the password in a command line arguments as reading it wont help you much unless you are the developer who has the other half of the password.</p>\n\n<p>The DBA can also still change the second half of the password and the developer need not have to re-deploy the application. </p>\n\n<p>The source code can also be semi public as reading it and the password will not give you application access.  </p>\n\n<p>You can further improve the situation by adding restrictions on the IP address ranges the database will accept connections from. </p>\n"},{"tags":[],"owner":{"account_id":3997984,"reputation":4081,"user_id":3294902,"display_name":"Kostas Kryptos"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1490021669,"creation_date":1450700933,"answer_id":34395731,"question_id":10306673,"body_markdown":"What about providing a custom N-Factor authentication mechanism?\r\n\r\nBefore combining available methods, let&#39;s assume we can perform the following:\r\n\r\n1) Hard-code inside the Java program\r\n\r\n2) Store in a .properties file\r\n\r\n3) Ask user to type password from command line\r\n\r\n4) Ask user to type password from a form\r\n\r\n5) Ask user to load a password-file from command line or a form\r\n\r\n6) Provide the password through network\r\n\r\n7) many alternatives (eg Draw A Secret, Fingerprint, IP-specific, bla bla bla)\r\n\r\n**1st option:** We could make things more complicated for an attacker by using obfuscation, but this is not considered a good countermeasure. A good coder can easily understand how it works if he/she can access the file. We could even export a per-user binary (or just the obfuscation part or key-part), so an attacker must have access to this user-specific file, not another distro.\r\nAgain, we should find a way to change passwords, eg by recompiling or using reflection to on-the-fly change class behavior.\r\n\r\n**2nd option:** We can store the password in the .properties file in an encrypted format, so it&#39;s not directly visible from an attacker (just like [jasypt][1] does). If we need a password manager we&#39;ll need a master password too which again should be stored somewhere - inside a .class file, the keystore, kernel, another file or even in memory - all have their pros and cons.  \r\nBut, now users will just edit the .properties file for password change.\r\n\r\n**3rd option:** type the password when running from command line e.g. `java -jar /myprogram.jar -p sdflhjkiweHIUHIU8976hyd`.\r\n\r\nThis doesn&#39;t require the password to be stored and will stay in memory. However, `history` commands and OS logs, may be your worst enemy here.\r\nTo change passwords on-the-fly, you will need to implement some methods (eg listen for console inputs, RMI, sockets, REST bla bla bla), but the password will always stay in memory.\r\n\r\nOne can even temporarily decrypt it only when required -&gt; then delete the decrypted, but always keep the encrypted password in memory. Unfortunately, the aforementioned method does not increase security against unauthorized in-memory access, because the person who achieves that, will probably have access to the algorithm, salt and any other secrets being used.\r\n\r\n**4th option:** provide the password from a custom form, rather than the command line. This will circumvent the problem of logging exposure.\r\n\r\n**5th option:** provide a file as a password stored previously on a another medium -&gt; then hard delete file. This will again circumvent the problem of logging exposure, plus no typing is required that could be shoulder-surfing stolen. When a change is required, provide another file, then delete again. \r\n\r\n**6th option:** again to avoid shoulder-surfing, one can implement an RMI method call, to provide the password (through an encrypted channel) from another device, eg via a mobile phone. However, you now need to protect your network channel and access to the other device.\r\n\r\nI would choose a combination of the above methods to achieve maximum security so one would have to access the .class files, the property file, logs, network channel, shoulder surfing, man in the middle, other files bla bla bla. This can be easily implemented using a XOR operation between all sub_passwords to produce the actual password.\r\n\r\nWe can&#39;t be protected from unauthorized in-memory access though, this can only be achieved by using some access-restricted hardware (eg smartcards, HSMs, SGX), where everything is computed into them, without anyone, even the legitimate owner being able to access decryption keys or algorithms. Again, one can steal this hardware too, there are reported [side-channel attacks][2] that may help attackers in key extraction and in some cases you need to trust another party (eg with SGX you trust Intel). Of course, situation may worsen when secure-enclave cloning (de-assembling) will be possible, but I guess this will take some years to be practical.\r\n\r\nAlso, one may consider a key sharing solution where the full key is split between different servers. However, upon reconstruction, the full key can be stolen. The only way to mitigate the aforementioned issue is by [secure multiparty computation][3].\r\n\r\nWe should always keep in mind that whatever the input method, we need to ensure we are not vulnerable from network sniffing (MITM attacks) and/or key-loggers.\r\n\r\n  [1]: http://www.jasypt.org/\r\n  [2]: https://www.theregister.co.uk/2017/03/07/eggheads_slip_a_note_under_intels_door_sgx_can_leak_crypto_keys/\r\n  [3]: https://crypto.stackexchange.com/questions/41470/how-to-securely-compute-aes-where-the-key-is-splitted-across-different-servers","title":"Securing a password in a properties file","body":"<p>What about providing a custom N-Factor authentication mechanism?</p>\n\n<p>Before combining available methods, let's assume we can perform the following:</p>\n\n<p>1) Hard-code inside the Java program</p>\n\n<p>2) Store in a .properties file</p>\n\n<p>3) Ask user to type password from command line</p>\n\n<p>4) Ask user to type password from a form</p>\n\n<p>5) Ask user to load a password-file from command line or a form</p>\n\n<p>6) Provide the password through network</p>\n\n<p>7) many alternatives (eg Draw A Secret, Fingerprint, IP-specific, bla bla bla)</p>\n\n<p><strong>1st option:</strong> We could make things more complicated for an attacker by using obfuscation, but this is not considered a good countermeasure. A good coder can easily understand how it works if he/she can access the file. We could even export a per-user binary (or just the obfuscation part or key-part), so an attacker must have access to this user-specific file, not another distro.\nAgain, we should find a way to change passwords, eg by recompiling or using reflection to on-the-fly change class behavior.</p>\n\n<p><strong>2nd option:</strong> We can store the password in the .properties file in an encrypted format, so it's not directly visible from an attacker (just like <a href=\"http://www.jasypt.org/\" rel=\"noreferrer\">jasypt</a> does). If we need a password manager we'll need a master password too which again should be stored somewhere - inside a .class file, the keystore, kernel, another file or even in memory - all have their pros and cons.<br>\nBut, now users will just edit the .properties file for password change.</p>\n\n<p><strong>3rd option:</strong> type the password when running from command line e.g. <code>java -jar /myprogram.jar -p sdflhjkiweHIUHIU8976hyd</code>.</p>\n\n<p>This doesn't require the password to be stored and will stay in memory. However, <code>history</code> commands and OS logs, may be your worst enemy here.\nTo change passwords on-the-fly, you will need to implement some methods (eg listen for console inputs, RMI, sockets, REST bla bla bla), but the password will always stay in memory.</p>\n\n<p>One can even temporarily decrypt it only when required -> then delete the decrypted, but always keep the encrypted password in memory. Unfortunately, the aforementioned method does not increase security against unauthorized in-memory access, because the person who achieves that, will probably have access to the algorithm, salt and any other secrets being used.</p>\n\n<p><strong>4th option:</strong> provide the password from a custom form, rather than the command line. This will circumvent the problem of logging exposure.</p>\n\n<p><strong>5th option:</strong> provide a file as a password stored previously on a another medium -> then hard delete file. This will again circumvent the problem of logging exposure, plus no typing is required that could be shoulder-surfing stolen. When a change is required, provide another file, then delete again. </p>\n\n<p><strong>6th option:</strong> again to avoid shoulder-surfing, one can implement an RMI method call, to provide the password (through an encrypted channel) from another device, eg via a mobile phone. However, you now need to protect your network channel and access to the other device.</p>\n\n<p>I would choose a combination of the above methods to achieve maximum security so one would have to access the .class files, the property file, logs, network channel, shoulder surfing, man in the middle, other files bla bla bla. This can be easily implemented using a XOR operation between all sub_passwords to produce the actual password.</p>\n\n<p>We can't be protected from unauthorized in-memory access though, this can only be achieved by using some access-restricted hardware (eg smartcards, HSMs, SGX), where everything is computed into them, without anyone, even the legitimate owner being able to access decryption keys or algorithms. Again, one can steal this hardware too, there are reported <a href=\"https://www.theregister.co.uk/2017/03/07/eggheads_slip_a_note_under_intels_door_sgx_can_leak_crypto_keys/\" rel=\"noreferrer\">side-channel attacks</a> that may help attackers in key extraction and in some cases you need to trust another party (eg with SGX you trust Intel). Of course, situation may worsen when secure-enclave cloning (de-assembling) will be possible, but I guess this will take some years to be practical.</p>\n\n<p>Also, one may consider a key sharing solution where the full key is split between different servers. However, upon reconstruction, the full key can be stolen. The only way to mitigate the aforementioned issue is by <a href=\"https://crypto.stackexchange.com/questions/41470/how-to-securely-compute-aes-where-the-key-is-splitted-across-different-servers\">secure multiparty computation</a>.</p>\n\n<p>We should always keep in mind that whatever the input method, we need to ensure we are not vulnerable from network sniffing (MITM attacks) and/or key-loggers.</p>\n"},{"tags":[],"owner":{"account_id":1686882,"reputation":1183,"user_id":1549977,"accept_rate":86,"display_name":"Benjamin Marwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680793397,"creation_date":1465551438,"answer_id":37744873,"question_id":10306673,"body_markdown":"Actually, this is a duplicate of https://stackoverflow.com/questions/1132567/encrypt-password-in-configuration-files.\r\n\r\nThe best solution I found so far is in this answer: https://stackoverflow.com/a/1133815/1549977\r\n\r\nPros: Password is saved a a char array, not as a string. It&#39;s still not good, but better than anything else.","title":"Securing a password in a properties file","body":"<p>Actually, this is a duplicate of <a href=\"https://stackoverflow.com/questions/1132567/encrypt-password-in-configuration-files\">Encrypt password in configuration files</a>.</p>\n<p>The best solution I found so far is in this answer: <a href=\"https://stackoverflow.com/a/1133815/1549977\">https://stackoverflow.com/a/1133815/1549977</a></p>\n<p>Pros: Password is saved a a char array, not as a string. It's still not good, but better than anything else.</p>\n"}],"owner":{"account_id":54172,"reputation":3040,"user_id":162056,"accept_rate":79,"display_name":"daramasala"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167105,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"closed_date":1505764126,"accepted_answer_id":10307724,"answer_count":4,"score":76,"last_activity_date":1680793397,"creation_date":1335304892,"question_id":10306673,"body_markdown":"I have a java application that connects to a database.  \r\nThe user name and password for the database are stored in a properties file.  \r\nWhat is the common practice to avoid storing the password in cleartext in the properties file while still retaining the option to let the user change it?  \r\nThe main motivation here is to prevent someone looking over the admin&#39;s shoulder and seeing the password while the admin is editing the properties file.  \r\nI read [here](https://stackoverflow.com/q/4155187/162056) that there&#39;s a built in way to do it in C#.  \r\nKnowing java, I don&#39;t expect to find a built in solution but I&#39;d like to hear what other people are doing.  \r\nIf I don&#39;t find any good choice then I am probably going to encrypt it with a constant password that will be kept in the code. But I&#39;d hate to do it this way because it feels wrong.\r\n\r\n**Edit Dec 12th 2012**\r\nLooks like there is no magic and I must store the password in the code or something similar.\r\nAt the end we implemented something very similar to what Jasypt that was mentioned in one of the answers does.\r\nSo I&#39;m accepting the Jasypt answer because it is the closest thing to a definite answer.","title":"Securing a password in a properties file","body":"<p>I have a java application that connects to a database.<br>\nThe user name and password for the database are stored in a properties file.<br>\nWhat is the common practice to avoid storing the password in cleartext in the properties file while still retaining the option to let the user change it?<br>\nThe main motivation here is to prevent someone looking over the admin's shoulder and seeing the password while the admin is editing the properties file.<br>\nI read <a href=\"https://stackoverflow.com/q/4155187/162056\">here</a> that there's a built in way to do it in C#.<br>\nKnowing java, I don't expect to find a built in solution but I'd like to hear what other people are doing.<br>\nIf I don't find any good choice then I am probably going to encrypt it with a constant password that will be kept in the code. But I'd hate to do it this way because it feels wrong.</p>\n\n<p><strong>Edit Dec 12th 2012</strong>\nLooks like there is no magic and I must store the password in the code or something similar.\nAt the end we implemented something very similar to what Jasypt that was mentioned in one of the answers does.\nSo I'm accepting the Jasypt answer because it is the closest thing to a definite answer.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":413650,"reputation":1002,"user_id":787418,"accept_rate":56,"display_name":"csyperski"},"score":0,"creation_date":1584989135,"post_id":60819378,"comment_id":107606110,"body_markdown":"You need to provide more information like Spring boot version, Java version, the command you are attempting to run, any output you do get.  There really isn&#39;t enough information to assist you in your question.","body":"You need to provide more information like Spring boot version, Java version, the command you are attempting to run, any output you do get.  There really isn&#39;t enough information to assist you in your question."}],"answers":[{"tags":[],"owner":{"account_id":3993086,"reputation":91,"user_id":3291361,"display_name":"user3291361"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1584987405,"creation_date":1584987405,"answer_id":60819391,"question_id":60819378,"body_markdown":"    public static void main(String[] args) {\r\n            try {\r\n                SpringApplication app = new SpringApplication(YourClass.class);\r\n                app.run(args);\r\n            } catch(Throwable ex) {\r\n                ex.printStackTrace();\r\n            }\r\n    }\r\n\r\nWith this, I was able to see the full error in the logs. Hope this helps.","title":"Process finished with exit code 1 Spring Boot Intellij no other logs","body":"<pre><code>public static void main(String[] args) {\n        try {\n            SpringApplication app = new SpringApplication(YourClass.class);\n            app.run(args);\n        } catch(Throwable ex) {\n            ex.printStackTrace();\n        }\n}\n</code></pre>\n\n<p>With this, I was able to see the full error in the logs. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":9240537,"reputation":147,"user_id":6863958,"display_name":"Jos&#233;-Alberto Gilberte Le&#243;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680791955,"creation_date":1680791955,"answer_id":75950799,"question_id":60819378,"body_markdown":"If you have an application.yml with bad syntax, you can obtain the error. Review your application.yml or put the code above to have more information about the exception.","title":"Process finished with exit code 1 Spring Boot Intellij no other logs","body":"<p>If you have an application.yml with bad syntax, you can obtain the error. Review your application.yml or put the code above to have more information about the exception.</p>\n"}],"owner":{"account_id":3993086,"reputation":91,"user_id":3291361,"display_name":"user3291361"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4235,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1680791955,"creation_date":1584987382,"question_id":60819378,"body_markdown":"I see no logs in my console\r\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin/java...\r\n\r\nProcess finished with exit code 1","title":"Process finished with exit code 1 Spring Boot Intellij no other logs","body":"<p>I see no logs in my console\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin/java...</p>\n\n<p>Process finished with exit code 1</p>\n"},{"tags":["java","android","telephony"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1680802761,"post_id":75950777,"comment_id":133963192,"body_markdown":"[There is no official way to do this](https://stackoverflow.com/a/10678019/16653700).","body":"<a href=\"https://stackoverflow.com/a/10678019/16653700\">There is no official way to do this</a>."}],"owner":{"account_id":5600321,"reputation":322,"user_id":4447899,"accept_rate":50,"display_name":"user4447899"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680791845,"creation_date":1680791845,"question_id":75950777,"body_markdown":"I am starting a call in android java using an intent \r\nIntent callIntent = new Intent(Intent.ACTION_CALL);\r\n\r\nHow can I programmatically end this call","title":"how can I programmatically end a call in android java which was started with an intent","body":"<p>I am starting a call in android java using an intent\nIntent callIntent = new Intent(Intent.ACTION_CALL);</p>\n<p>How can I programmatically end this call</p>\n"},{"tags":["java","generics","treeset"],"answers":[{"tags":[],"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1522368159,"creation_date":1355559547,"answer_id":13890563,"question_id":13890542,"body_markdown":"`TreeSet` is implemented that way because you can [alternatively provide][1] a [`Comparator`][2], in which case the elements don&#39;t need to be [`Comparable`][3]. The only way to support both behaviors without splitting the implementation into multiple classes was to include runtime checks - this was simply a design decision by the author(s) of that class.\r\n\r\nExposing factory methods for `TreeSet` instead of public constructors would&#39;ve been a way to maintain compile time checks using stricter generic type constraints, but that would&#39;ve been a break from the core collections API&#39;s convention of exposing public no-arg and copy constructors for its implementation classes. As you noted in your comment, [Guava][4] goes the factory route with its collections and IMHO is better off for it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/TreeSet.html#TreeSet-java.util.Comparator-\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\r\n  [4]: https://github.com/google/guava","title":"Creating a TreeSet with a non-Comparable class: why a run-time exception, rather than compile-time error?","body":"<p><code>TreeSet</code> is implemented that way because you can <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TreeSet.html#TreeSet-java.util.Comparator-\" rel=\"noreferrer\">alternatively provide</a> a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator</code></a>, in which case the elements don't need to be <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"noreferrer\"><code>Comparable</code></a>. The only way to support both behaviors without splitting the implementation into multiple classes was to include runtime checks - this was simply a design decision by the author(s) of that class.</p>\n\n<p>Exposing factory methods for <code>TreeSet</code> instead of public constructors would've been a way to maintain compile time checks using stricter generic type constraints, but that would've been a break from the core collections API's convention of exposing public no-arg and copy constructors for its implementation classes. As you noted in your comment, <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> goes the factory route with its collections and IMHO is better off for it.</p>\n"},{"tags":[],"owner":{"account_id":2169094,"reputation":87,"user_id":2377645,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680791794,"creation_date":1680791794,"answer_id":75950772,"question_id":13890542,"body_markdown":"You can make a type-safe wrapper for TreeSet:\r\n```\r\npublic class TypeSafeTreeSet&lt;T extends Comparable&lt;? super T&gt;&gt; extends TreeSet&lt;T&gt; {\r\n}\r\n```","title":"Creating a TreeSet with a non-Comparable class: why a run-time exception, rather than compile-time error?","body":"<p>You can make a type-safe wrapper for TreeSet:</p>\n<pre><code>public class TypeSafeTreeSet&lt;T extends Comparable&lt;? super T&gt;&gt; extends TreeSet&lt;T&gt; {\n}\n</code></pre>\n"}],"owner":{"account_id":876126,"reputation":348,"user_id":925735,"accept_rate":50,"display_name":"uscjeremy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5452,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":13890563,"answer_count":2,"score":16,"last_activity_date":1680791794,"creation_date":1355559354,"question_id":13890542,"body_markdown":"If I create an arbitrary class that does not implement Comparable, and try to use it as a treeset, it throws an exception at run time when an object is inserted:\r\n\r\n    public class Foo {\r\n    }\r\n\r\n    public TreeSet&lt;Foo&gt; fooSet = new TreeSet&lt;Foo&gt;();\r\n    fooSet.add(new Foo()); // Throws a ClassCastException exception here: Foo is not comparable\r\n\r\nI&#39;m no Java expert, but something about this seemed dynamically typed (ala Python) in a way I wasn&#39;t expecting.  Is there no way for TreeSet&#39;s implementation to specify that its generic type argument must implement Comparable so that this can be caught at compile-time?  Non-generic functions can take interfaces as arguments; is the same not possible with generics?\r\n","title":"Creating a TreeSet with a non-Comparable class: why a run-time exception, rather than compile-time error?","body":"<p>If I create an arbitrary class that does not implement Comparable, and try to use it as a treeset, it throws an exception at run time when an object is inserted:</p>\n\n<pre><code>public class Foo {\n}\n\npublic TreeSet&lt;Foo&gt; fooSet = new TreeSet&lt;Foo&gt;();\nfooSet.add(new Foo()); // Throws a ClassCastException exception here: Foo is not comparable\n</code></pre>\n\n<p>I'm no Java expert, but something about this seemed dynamically typed (ala Python) in a way I wasn't expecting.  Is there no way for TreeSet's implementation to specify that its generic type argument must implement Comparable so that this can be caught at compile-time?  Non-generic functions can take interfaces as arguments; is the same not possible with generics?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","firebase-storage"],"comments":[{"owner":{"account_id":8964121,"reputation":12195,"user_id":6740698,"display_name":"Xenolion"},"score":0,"creation_date":1596910974,"post_id":63318634,"comment_id":111965452,"body_markdown":"you real have a lot of problems in the code: onSuccess method does not do anything there. First: you have made a map but you have added PICK_IMAGE_REQUEST which is just an integer &quot;71&quot;. Second. The app that you have made you have not used it all. You need a lot of code fix first.","body":"you real have a lot of problems in the code: onSuccess method does not do anything there. First: you have made a map but you have added PICK_IMAGE_REQUEST which is just an integer &quot;71&quot;. Second. The app that you have made you have not used it all. You need a lot of code fix first."}],"answers":[{"tags":[],"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596910492,"creation_date":1596910492,"answer_id":63318790,"question_id":63318634,"body_markdown":"Your code doesn&#39;t actually write anything to the DocumentReference you created.  You will need a call to `set()`:\r\n\r\n```\r\nDocumentReference documentReference = fStore.collection(&quot;users&quot;).document(UID);\r\ndocumentReference.set(...)\r\n```\r\n\r\nYou will need to pass an object or Map to set to tell it what to store in the document, as illustrated in the [documentation][1].\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/manage-data/add-data#set_a_document","title":"How to insert image URL into firestore database after uploading an image in android studio?","body":"<p>Your code doesn't actually write anything to the DocumentReference you created.  You will need a call to <code>set()</code>:</p>\n<pre><code>DocumentReference documentReference = fStore.collection(&quot;users&quot;).document(UID);\ndocumentReference.set(...)\n</code></pre>\n<p>You will need to pass an object or Map to set to tell it what to store in the document, as illustrated in the <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data#set_a_document\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":10751207,"reputation":84,"user_id":7910598,"display_name":"Oscar Alejandro Alvarez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1596911076,"creation_date":1596911076,"answer_id":63318878,"question_id":63318634,"body_markdown":"The file path cannot be used like that, as a reference to download an image. Instead you need to get a download url that is provided by firebase, change your code like this:\r\n\r\n   \r\n\r\n     StorageReference ref = storageReference.child(&quot;Users Profile/&quot; + UUID.randomUUID().toString());\r\n            UploadTask uploadTask = ref.putFile(filePath);\r\n    \r\n            Task&lt;Uri&gt; urlTask = uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\r\n                @Override\r\n                public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\r\n                    if (task.isSuccessful()) {\r\n                        //here the upload of the image finish\r\n                    }\r\n    \r\n                    // Continue the task to get a download url\r\n                    return ref.getDownloadUrl();\r\n                }\r\n            }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        Uri downloadUri = task.getResult(); //this is the download url that you need to pass to your database\r\n                        //Pass the url to your reference\r\n                        UID = fAuth.getCurrentUser().getUid();\r\n                        DocumentReference documentReference = fStore.collection(&quot;users&quot;).document(UID);\r\n    documentReference.update(&quot;profileImage&quot;, downloadUri);\r\n                        Toast.makeText(ProfileActivity.this, &quot;Uploaded&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        / Handle failures\r\n                        // ...\r\n                    }\r\n                }\r\n            });\r\nYou can see in more detail here: https://firebase.google.com/docs/storage/android/upload-files#java_1","title":"How to insert image URL into firestore database after uploading an image in android studio?","body":"<p>The file path cannot be used like that, as a reference to download an image. Instead you need to get a download url that is provided by firebase, change your code like this:</p>\n<pre><code> StorageReference ref = storageReference.child(&quot;Users Profile/&quot; + UUID.randomUUID().toString());\n        UploadTask uploadTask = ref.putFile(filePath);\n\n        Task&lt;Uri&gt; urlTask = uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\n            @Override\n            public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\n                if (task.isSuccessful()) {\n                    //here the upload of the image finish\n                }\n\n                // Continue the task to get a download url\n                return ref.getDownloadUrl();\n            }\n        }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                if (task.isSuccessful()) {\n                    Uri downloadUri = task.getResult(); //this is the download url that you need to pass to your database\n                    //Pass the url to your reference\n                    UID = fAuth.getCurrentUser().getUid();\n                    DocumentReference documentReference = fStore.collection(&quot;users&quot;).document(UID);\ndocumentReference.update(&quot;profileImage&quot;, downloadUri);\n                    Toast.makeText(ProfileActivity.this, &quot;Uploaded&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    / Handle failures\n                    // ...\n                }\n            }\n        });\n</code></pre>\n<p>You can see in more detail here: <a href=\"https://firebase.google.com/docs/storage/android/upload-files#java_1\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/storage/android/upload-files#java_1</a></p>\n"},{"tags":[],"owner":{"account_id":19806851,"reputation":1,"user_id":14506622,"display_name":"parth tagalpallewar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680791458,"creation_date":1680454635,"answer_id":75913411,"question_id":63318634,"body_markdown":"```\r\nstorageRef.child(path).getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n        @Override\r\n        public void onSuccess(Uri uri) {\r\n            Glide.with(getApplicationContext()).load(uri.toString()).into(img);\r\n        }\r\n    });\r\n```","title":"How to insert image URL into firestore database after uploading an image in android studio?","body":"<pre><code>storageRef.child(path).getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n        @Override\n        public void onSuccess(Uri uri) {\n            Glide.with(getApplicationContext()).load(uri.toString()).into(img);\n        }\n    });\n</code></pre>\n"}],"owner":{"display_name":"user14054849"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63318878,"answer_count":3,"score":0,"last_activity_date":1680791458,"creation_date":1596909521,"question_id":63318634,"body_markdown":"I created an upload image functionality in my app. The image uploads and shows for the user and returns &quot;uploaded&quot; upon success. \r\n\r\nNow when the user closes the app and opens again it wont show the image because it is not stored in his unique database file in the field of profileImage.\r\n\r\nI am storing the image in the storage datastore.\r\n\r\nI want to store the same image url that is  being stored in the storage to be in the current users field in the database.\r\n\r\nBut the code I&#39;ve written still doesn&#39;t insert the required value of the image url.\r\n\r\nHere is my code so far:\r\n\r\n\r\n    FirebaseFirestore fStore;\r\n    FirebaseStorage storage;\r\n    StorageReference storageReference;\r\n    \r\n    FirebaseAuth fAuth;\r\n    String UID;\r\n    private Uri filePath;\r\n    private final int PICK_IMAGE_REQUEST = 71;\r\n    \r\n    \r\n    fAuth = FirebaseAuth.getInstance();\r\n    fStore = FirebaseFirestore.getInstance();\r\n    storage = FirebaseStorage.getInstance();\r\n    storageReference = storage.getReference();\r\n    \r\n    \r\n    \r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_profile);\r\n    \r\n        userImage = findViewById(R.id.profile_userImg);\r\n    \r\n        userImage.setOnClickListener(new View.OnClickListener() {\r\n            @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP_MR1)\r\n            @Override\r\n            public void onClick(View view) {\r\n                chooseImage();\r\n            }\r\n        });\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP_MR1)\r\n    private void chooseImage() {\r\n        Intent intent = new Intent();\r\n        intent.setType(&quot;image/*&quot;);\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        startActivityForResult(Intent.createChooser(intent, &quot;Choose a Profile Image&quot;), PICK_IMAGE_REQUEST);\r\n    }\r\n    \r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @androidx.annotation.Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\r\n    \r\n            filePath = data.getData();\r\n            try {\r\n                Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\r\n                userImage.setImageBitmap(bitmap);\r\n                if (filePath != null) {\r\n                    StorageReference ref = storageReference.child(&quot;Users Profile/&quot; + UUID.randomUUID().toString());\r\n                    ref.putFile(filePath).addOnSuccessListener(new OnSuccessListener &lt; UploadTask.TaskSnapshot &gt; () {\r\n                        @Override\r\n                        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                            UID = fAuth.getCurrentUser().getUid();\r\n                            DocumentReference documentReference = fStore.collection(&quot;users&quot;).document(UID);\r\n                            Map &lt; String, Object &gt; user = new HashMap &lt; &gt; ();\r\n                            user.put(&quot;profileImage&quot;, PICK_IMAGE_REQUEST);\r\n                            Toast.makeText(ProfileActivity.this, &quot;Uploaded&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Toast.makeText(ProfileActivity.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n    \r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to insert image URL into firestore database after uploading an image in android studio?","body":"<p>I created an upload image functionality in my app. The image uploads and shows for the user and returns &quot;uploaded&quot; upon success.</p>\n<p>Now when the user closes the app and opens again it wont show the image because it is not stored in his unique database file in the field of profileImage.</p>\n<p>I am storing the image in the storage datastore.</p>\n<p>I want to store the same image url that is  being stored in the storage to be in the current users field in the database.</p>\n<p>But the code I've written still doesn't insert the required value of the image url.</p>\n<p>Here is my code so far:</p>\n<pre><code>FirebaseFirestore fStore;\nFirebaseStorage storage;\nStorageReference storageReference;\n\nFirebaseAuth fAuth;\nString UID;\nprivate Uri filePath;\nprivate final int PICK_IMAGE_REQUEST = 71;\n\n\nfAuth = FirebaseAuth.getInstance();\nfStore = FirebaseFirestore.getInstance();\nstorage = FirebaseStorage.getInstance();\nstorageReference = storage.getReference();\n\n\n\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_profile);\n\n    userImage = findViewById(R.id.profile_userImg);\n\n    userImage.setOnClickListener(new View.OnClickListener() {\n        @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP_MR1)\n        @Override\n        public void onClick(View view) {\n            chooseImage();\n        }\n    });\n\n}\n\n\n\n@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP_MR1)\nprivate void chooseImage() {\n    Intent intent = new Intent();\n    intent.setType(&quot;image/*&quot;);\n    intent.setAction(Intent.ACTION_GET_CONTENT);\n    startActivityForResult(Intent.createChooser(intent, &quot;Choose a Profile Image&quot;), PICK_IMAGE_REQUEST);\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @androidx.annotation.Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\n\n        filePath = data.getData();\n        try {\n            Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\n            userImage.setImageBitmap(bitmap);\n            if (filePath != null) {\n                StorageReference ref = storageReference.child(&quot;Users Profile/&quot; + UUID.randomUUID().toString());\n                ref.putFile(filePath).addOnSuccessListener(new OnSuccessListener &lt; UploadTask.TaskSnapshot &gt; () {\n                    @Override\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                        UID = fAuth.getCurrentUser().getUid();\n                        DocumentReference documentReference = fStore.collection(&quot;users&quot;).document(UID);\n                        Map &lt; String, Object &gt; user = new HashMap &lt; &gt; ();\n                        user.put(&quot;profileImage&quot;, PICK_IMAGE_REQUEST);\n                        Toast.makeText(ProfileActivity.this, &quot;Uploaded&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(ProfileActivity.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":474317,"reputation":45,"user_id":883922,"display_name":"wtomko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680791093,"creation_date":1680787626,"question_id":75950097,"body_markdown":"Hibernate is trying to guess FieldBridge when column is not indexed.\r\n\r\nI have entity A with such filed.\r\n\r\n```\r\n@Embedded\r\n@AttributeOverrides(@AttributeOverride(name = &quot;value&quot;, column = @Column(name = &quot;TYPE&quot;)))\r\nprivate TypeValue type;\r\n\r\n```\r\n\r\n`TypeValue identificationType` is a `ValueObject`\r\n\r\n```\r\n@Embeddable\r\npublic class TypeValue {\r\n    private String value;\r\n\r\n\r\n\tpublic TypeValue () {\r\n\t}\r\n\r\n\tpublic TypeValue (String value) {\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n\tpublic String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(String value) {\r\n        this.value =  value;\r\n    }\r\n}\r\n```\r\n\r\nFor some reason I got this error:\r\nHSEARCH000135: Unable to guess FieldBridge for type...\r\n\r\nHibernateVersion: 5.6.3.Final\r\n\r\n\r\n\r\n   ","title":"Got HSEARCH000135: Unable to guess FieldBridge","body":"<p>Hibernate is trying to guess FieldBridge when column is not indexed.</p>\n<p>I have entity A with such filed.</p>\n<pre><code>@Embedded\n@AttributeOverrides(@AttributeOverride(name = &quot;value&quot;, column = @Column(name = &quot;TYPE&quot;)))\nprivate TypeValue type;\n\n</code></pre>\n<p><code>TypeValue identificationType</code> is a <code>ValueObject</code></p>\n<pre><code>@Embeddable\npublic class TypeValue {\n    private String value;\n\n\n    public TypeValue () {\n    }\n\n    public TypeValue (String value) {\n        this.value = value;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value =  value;\n    }\n}\n</code></pre>\n<p>For some reason I got this error:\nHSEARCH000135: Unable to guess FieldBridge for type...</p>\n<p>HibernateVersion: 5.6.3.Final</p>\n"},{"tags":["java","weblogic12c"],"comments":[{"owner":{"account_id":23904234,"reputation":1928,"user_id":17902018,"display_name":"rikyeah"},"score":0,"creation_date":1645004881,"post_id":71002773,"comment_id":125752948,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1678451217,"post_id":71002773,"comment_id":133539485,"body_markdown":"Does this answer your question? [The server is invalid. Error occurred reading server credential. If the domain was recreated, the server instance in Eclipse must also be recreated](https://stackoverflow.com/questions/75279875/the-server-is-invalid-error-occurred-reading-server-credential-if-the-domain-w)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75279875/the-server-is-invalid-error-occurred-reading-server-credential-if-the-domain-w\">The server is invalid. Error occurred reading server credential. If the domain was recreated, the server instance in Eclipse must also be recreated</a>"}],"answers":[{"tags":[],"owner":{"account_id":7684903,"reputation":401,"user_id":5823051,"display_name":"Hector Gardu&#241;o Real"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648681077,"creation_date":1648681077,"answer_id":71685035,"question_id":71002773,"body_markdown":"Try using Eclipse OEPE version https://www.oracle.com/tools/downloads/oepe-v12219-downloads.html","title":"Can&#39;t add weblogic 14.1.1.0. server to eclipse","body":"<p>Try using Eclipse OEPE version <a href=\"https://www.oracle.com/tools/downloads/oepe-v12219-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/tools/downloads/oepe-v12219-downloads.html</a></p>\n"},{"tags":[],"owner":{"account_id":4431952,"reputation":13,"user_id":3608908,"display_name":"Leonardo Leite de Melo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680791069,"creation_date":1680791069,"answer_id":75950651,"question_id":71002773,"body_markdown":"I&#39;ve fixed it changing the JDK used by eclipse at eclipse.ini setting a SDK 11 and commenting -Dosgi.requiredJavaVersion=17.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gy0rb.png","title":"Can&#39;t add weblogic 14.1.1.0. server to eclipse","body":"<p>I've fixed it changing the JDK used by eclipse at eclipse.ini setting a SDK 11 and commenting -Dosgi.requiredJavaVersion=17.</p>\n<p><a href=\"https://i.stack.imgur.com/gy0rb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gy0rb.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5777090,"reputation":1,"user_id":4616103,"display_name":"Leo lee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680791069,"creation_date":1644100719,"question_id":71002773,"body_markdown":"I am trying to integrate eclipse 2021-12 as Oracle WebLogic Server 14.1.1.0. Both are installed and working perfectly separately. When trying to integrate and add a new weblogic server I get the message: \r\n\r\n&gt; The server is invalid. Error occurred reading server credential. If the domain was recreated, the server instance in Eclipse must also be recreated. Required classpath for credential detection is missing. Detection is disabled.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vAb69.png","title":"Can&#39;t add weblogic 14.1.1.0. server to eclipse","body":"<p>I am trying to integrate eclipse 2021-12 as Oracle WebLogic Server 14.1.1.0. Both are installed and working perfectly separately. When trying to integrate and add a new weblogic server I get the message:</p>\n<blockquote>\n<p>The server is invalid. Error occurred reading server credential. If the domain was recreated, the server instance in Eclipse must also be recreated. Required classpath for credential detection is missing. Detection is disabled.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/vAb69.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vAb69.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","methods","naming-conventions"],"comments":[{"owner":{"account_id":14116,"reputation":39820,"user_id":28760,"accept_rate":93,"display_name":"Kiril"},"score":1,"creation_date":1314036016,"post_id":7151418,"comment_id":8578650,"body_markdown":"In my opinion the naming convention is not a &quot;law,&quot; so while you should try to start the method name with a verb, I don&#39;t see a reason why you can&#39;t start it with a noun if it&#39;s descriptive enough (`movingAverage` is quite descriptive). Don&#39;t forget that while people these days don&#39;t really complain about long method names, I&#39;d take `movingAverage` over `computeMovingAverage` any day. BTW, I can&#39;t think of a verb that&#39;s not generic, even more so when it comes to programming.","body":"In my opinion the naming convention is not a &quot;law,&quot; so while you should try to start the method name with a verb, I don&#39;t see a reason why you can&#39;t start it with a noun if it&#39;s descriptive enough (<code>movingAverage</code> is quite descriptive). Don&#39;t forget that while people these days don&#39;t really complain about long method names, I&#39;d take <code>movingAverage</code> over <code>computeMovingAverage</code> any day. BTW, I can&#39;t think of a verb that&#39;s not generic, even more so when it comes to programming."},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":1,"creation_date":1314036297,"post_id":7151418,"comment_id":8578751,"body_markdown":"even the native java methods don&#39;t follow blindly the &#39;first word is a verb&#39; convention. for instance `Collection#size()`, `Collection#toArray()`. I&#39;d say feel free to use `movingAverage()` if you feel it is clear enough [and no one might think it means something else].","body":"even the native java methods don&#39;t follow blindly the &#39;first word is a verb&#39; convention. for instance <code>Collection#size()</code>, <code>Collection#toArray()</code>. I&#39;d say feel free to use <code>movingAverage()</code> if you feel it is clear enough [and no one might think it means something else]."},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1314045270,"post_id":7151418,"comment_id":8581216,"body_markdown":"@amit The standard Java library is not a good example, it is highly inconsistent - for example some classes have a `length()` method, others have a `getLength()` method, some even have getter and setter methods with the same name (for example `ByteBuffer.position()` to get the position and `ByteBuffer.position(int)` to set the position - I&#39;d discourage you to name your methods like this!).","body":"@amit The standard Java library is not a good example, it is highly inconsistent - for example some classes have a <code>length()</code> method, others have a <code>getLength()</code> method, some even have getter and setter methods with the same name (for example <code>ByteBuffer.position()</code> to get the position and <code>ByteBuffer.position(int)</code> to set the position - I&#39;d discourage you to name your methods like this!)."},{"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":4,"creation_date":1314046709,"post_id":7151418,"comment_id":8581641,"body_markdown":"@Link There is still useful information in the verb. computeMovingAverage would be used when you have to do the (possibly long) work of the calculation - getMovingAverage would imply merely retrieving the already-calculated value.","body":"@Link There is still useful information in the verb. computeMovingAverage would be used when you have to do the (possibly long) work of the calculation - getMovingAverage would imply merely retrieving the already-calculated value."},{"owner":{"account_id":260473,"reputation":48258,"user_id":544050,"accept_rate":95,"display_name":"PengOne"},"score":0,"creation_date":1314048479,"post_id":7151418,"comment_id":8582091,"body_markdown":"@DJClayworth That&#39;s a really good point. Combining that with Evan&#39;s verb summary gives me a great guideline. Thanks.","body":"@DJClayworth That&#39;s a really good point. Combining that with Evan&#39;s verb summary gives me a great guideline. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":223869,"reputation":54820,"user_id":483349,"accept_rate":67,"display_name":"Evan Mulawski"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1495655900,"creation_date":1314036297,"answer_id":7151581,"question_id":7151418,"body_markdown":"I usually ask myself:\r\n\r\n*What is this method doing?*\r\n\r\nThe answer dictates what the method should be called. It is completely independent of the programmer, of course.\r\n\r\n**Note:** If you can&#39;t *succinctly* describe what the method is doing, it&#39;s probably doing too much and should be split up.\r\n\r\nChoosing your method&#39;s verb:\r\n\r\n - Performing calculation(s): **calculate**\r\n - Retrieving data: **get** or **retrieve**\r\n - Mutating data: **set** or **change**\r\n - Deleting data: **delete** or **remove**\r\n - Converting: **convert**\r\n - Initiating an action: **start** or **initiate**\r\n - Stopping an action: **stop** or **cancel**\r\n\r\nNow, not all methods begin with a verb; but they really don&#39;t need to. If you read:\r\n\r\n    ... myString.length();\r\n\r\nor\r\n\r\n    ... myArray.size();\r\n\r\nyou know exactly what is going on - no verb required. This is true for many class methods higher up in the Java hierarchy; Collections, Math, etc. As long as the name accurately communicates what the method does, it&#39;s fine.","title":"determining which verb to use for method names in Java","body":"<p>I usually ask myself:</p>\n\n<p><em>What is this method doing?</em></p>\n\n<p>The answer dictates what the method should be called. It is completely independent of the programmer, of course.</p>\n\n<p><strong>Note:</strong> If you can't <em>succinctly</em> describe what the method is doing, it's probably doing too much and should be split up.</p>\n\n<p>Choosing your method's verb:</p>\n\n<ul>\n<li>Performing calculation(s): <strong>calculate</strong></li>\n<li>Retrieving data: <strong>get</strong> or <strong>retrieve</strong></li>\n<li>Mutating data: <strong>set</strong> or <strong>change</strong></li>\n<li>Deleting data: <strong>delete</strong> or <strong>remove</strong></li>\n<li>Converting: <strong>convert</strong></li>\n<li>Initiating an action: <strong>start</strong> or <strong>initiate</strong></li>\n<li>Stopping an action: <strong>stop</strong> or <strong>cancel</strong></li>\n</ul>\n\n<p>Now, not all methods begin with a verb; but they really don't need to. If you read:</p>\n\n<pre><code>... myString.length();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>... myArray.size();\n</code></pre>\n\n<p>you know exactly what is going on - no verb required. This is true for many class methods higher up in the Java hierarchy; Collections, Math, etc. As long as the name accurately communicates what the method does, it's fine.</p>\n"},{"tags":[],"owner":{"account_id":535414,"reputation":765,"user_id":904933,"display_name":"David Andersson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314036596,"creation_date":1314036596,"answer_id":7151648,"question_id":7151418,"body_markdown":"(*My opinion*) You don&#39;t need a verb in the method name if the object has no state, like a math-library. Compare *computeSquareRoot*(x) and *getJoin*(listOfStrings) with *squareRoot*(x) and *join*(listOfStrings).","title":"determining which verb to use for method names in Java","body":"<p>(<em>My opinion</em>) You don't need a verb in the method name if the object has no state, like a math-library. Compare <em>computeSquareRoot</em>(x) and <em>getJoin</em>(listOfStrings) with <em>squareRoot</em>(x) and <em>join</em>(listOfStrings).</p>\n"},{"tags":[],"owner":{"account_id":235324,"reputation":4269,"user_id":502059,"accept_rate":79,"display_name":"suat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314037450,"creation_date":1314037450,"answer_id":7151808,"question_id":7151418,"body_markdown":"As you said and as we can see in the answers, the verbs used at the beginning of method names are almost the same verbs. I think, if same amount of effort is spent for writing related documentation, methods become much more understandable and integrable :) \r\n\r\nI also realized after reading the question, most of the methods I write start with **get**, **retrieve**, **create**. So again it seems verb selection does not matter so much.\r\n\r\nBest","title":"determining which verb to use for method names in Java","body":"<p>As you said and as we can see in the answers, the verbs used at the beginning of method names are almost the same verbs. I think, if same amount of effort is spent for writing related documentation, methods become much more understandable and integrable :) </p>\n\n<p>I also realized after reading the question, most of the methods I write start with <strong>get</strong>, <strong>retrieve</strong>, <strong>create</strong>. So again it seems verb selection does not matter so much.</p>\n\n<p>Best</p>\n"},{"tags":[],"owner":{"account_id":97634,"reputation":769,"user_id":264727,"accept_rate":83,"display_name":"outmind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680778388,"creation_date":1314038036,"answer_id":7151912,"question_id":7151418,"body_markdown":"I think to find anything which could be a &quot;solution&quot; for the problem we should first extract criteria which play any role in choosing name, like:\r\n\r\n*  readableness (trivial: `getValue` instead of `transferValueFromThisObjectToYou`)\r\n*  convenience (trivial: `getCoordValue` instead of )\r\n*  semantics of the method (get is not the same as calculate)\r\n*  context of usage (in IDEs I usually type `aaa.get_` and press Ctrl+Space to check what I can get from the object)\r\n*  code guides (or other &quot;guides&quot; like Java Bean convention which force you to use some names)\r\n\r\n...\r\n\r\nHowever as suat said - better spend some efforts on a documentation for your methods.","title":"determining which verb to use for method names in Java","body":"<p>I think to find anything which could be a &quot;solution&quot; for the problem we should first extract criteria which play any role in choosing name, like:</p>\n<ul>\n<li>readableness (trivial: <code>getValue</code> instead of <code>transferValueFromThisObjectToYou</code>)</li>\n<li>convenience (trivial: <code>getCoordValue</code> instead of )</li>\n<li>semantics of the method (get is not the same as calculate)</li>\n<li>context of usage (in IDEs I usually type <code>aaa.get_</code> and press Ctrl+Space to check what I can get from the object)</li>\n<li>code guides (or other &quot;guides&quot; like Java Bean convention which force you to use some names)</li>\n</ul>\n<p>...</p>\n<p>However as suat said - better spend some efforts on a documentation for your methods.</p>\n"},{"tags":[],"owner":{"account_id":48192,"reputation":10791,"user_id":143069,"display_name":"ILMTitan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680791059,"creation_date":1314044984,"answer_id":7153237,"question_id":7151418,"body_markdown":"I don&#39;t think java method names should &quot;begin with a verb&quot;, I think they should describe the action. This often requires a verb, as verbs describe actions. Usually, they are important parts of the description (`getVar` and `setVar` mean totally different things). Occasionally, they add nothing to the description (can you think of anything that would operate on `movingAverage` besides get/calculate/generate?) and should be dropped. ","title":"determining which verb to use for method names in Java","body":"<p>I don't think java method names should &quot;begin with a verb&quot;, I think they should describe the action. This often requires a verb, as verbs describe actions. Usually, they are important parts of the description (<code>getVar</code> and <code>setVar</code> mean totally different things). Occasionally, they add nothing to the description (can you think of anything that would operate on <code>movingAverage</code> besides get/calculate/generate?) and should be dropped.</p>\n"},{"tags":[],"owner":{"account_id":9600113,"reputation":74,"user_id":7127962,"display_name":"Ricardo Montesinos"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1490722865,"creation_date":1490722865,"answer_id":43076371,"question_id":7151418,"body_markdown":"Do not forget to use this verbs &quot;is, has or can&quot; for **boolean** methods, such as: **is**On(), **is**Full(), and so on.","title":"determining which verb to use for method names in Java","body":"<p>Do not forget to use this verbs \"is, has or can\" for <strong>boolean</strong> methods, such as: <strong>is</strong>On(), <strong>is</strong>Full(), and so on.</p>\n"},{"tags":[],"owner":{"account_id":83658,"reputation":1362,"user_id":234391,"accept_rate":57,"display_name":"Cornel Masson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561117777,"creation_date":1561117777,"answer_id":56702884,"question_id":7151418,"body_markdown":"Regarding the use of `get` and `set` methods for property accessors *only*: the whole point of [information hiding][1] is that the user of an API (i.e. the calling code) should not need to know or depend on whether the property is stored or calculated on the fly. The implementation should be able to change at any time, as long as the API stays the same.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Information_hiding","title":"determining which verb to use for method names in Java","body":"<p>Regarding the use of <code>get</code> and <code>set</code> methods for property accessors <em>only</em>: the whole point of <a href=\"https://en.wikipedia.org/wiki/Information_hiding\" rel=\"nofollow noreferrer\">information hiding</a> is that the user of an API (i.e. the calling code) should not need to know or depend on whether the property is stored or calculated on the fly. The implementation should be able to change at any time, as long as the API stays the same.</p>\n"},{"tags":[],"owner":{"account_id":18590356,"reputation":708,"user_id":13547712,"display_name":"Gravity API"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1664729486,"creation_date":1633450563,"answer_id":69453993,"question_id":7151418,"body_markdown":"Updated Answer.\r\n\r\nThis kind of list already exists in Powershell. In order to get the list, run any powershell terminal (Windows/Linux/Mac) and run the command `Get-Verb`\r\n\r\n```none\r\nVerb        AliasPrefix Group          Description\r\n----        ----------- -----          -----------\r\nAdd         a           Common         Adds a resource to a container, or attaches an item to another item\r\nClear       cl          Common         Removes all the resources from a container but does not delete the container\r\nClose       cs          Common         Changes the state of a resource to make it inaccessible, unavailable, or unusable\r\nCopy        cp          Common         Copies a resource to another name or to another container\r\nEnter       et          Common         Specifies an action that allows the user to move into a resource\r\nExit        ex          Common         Sets the current environment or context to the most recently used context\r\nFind        fd          Common         Looks for an object in a container that is unknown, implied, optional, or specified\r\nFormat      f           Common         Arranges objects in a specified form or layout\r\nGet         g           Common         Specifies an action that retrieves a resource\r\nHide        h           Common         Makes a resource undetectable\r\nJoin        j           Common         Combines resources into one resource\r\nLock        lk          Common         Secures a resource\r\nMove        m           Common         Moves a resource from one location to another\r\nNew         n           Common         Creates a resource\r\nOpen        op          Common         Changes the state of a resource to make it accessible, available, or usable\r\nOptimize    om          Common         Increases the effectiveness of a resource\r\nPush        pu          Common         Adds an item to the top of a stack\r\nPop         pop         Common         Removes an item from the top of a stack\r\nRedo        re          Common         Resets a resource to the state that was undone\r\nRemove      r           Common         Deletes a resource from a container\r\nRename      rn          Common         Changes the name of a resource\r\nReset       rs          Common         Sets a resource back to its original state\r\nResize      rz          Common         Changes the size of a resource\r\nSearch      sr          Common         Creates a reference to a resource in a container\r\nSelect      sc          Common         Locates a resource in a container\r\nSet         s           Common         Replaces data on an existing resource or creates a resource that contains some data\r\nShow        sh          Common         Makes a resource visible to the user\r\nSkip        sk          Common         Bypasses one or more resources or points in a sequence\r\nSplit       sl          Common         Separates parts of a resource\r\nStep        st          Common         Moves to the next point or resource in a sequence\r\nSwitch      sw          Common         Specifies an action that alternates between two resources, such as to change between two locations, responsibilities, or states\r\nUndo        un          Common         Sets a resource to its previous state\r\nUnlock      uk          Common         Releases a resource that was locked\r\nWatch       wc          Common         Continually inspects or monitors a resource for changes\r\nConnect     cc          Communications Creates a link between a source and a destination\r\nDisconnect  dc          Communications Breaks the link between a source and a destination\r\nRead        rd          Communications Acquires information from a source\r\nReceive     rc          Communications Accepts information sent from a source\r\nSend        sd          Communications Delivers information to a destination\r\nWrite       wr          Communications Adds information to a target\r\nBackup      ba          Data           Stores data by replicating it\r\nCheckpoint  ch          Data           Creates a snapshot of the current state of the data or of its configuration\r\nCompare     cr          Data           Evaluates the data from one resource against the data from another resource\r\nCompress    cm          Data           Compacts the data of a resource\r\nConvert     cv          Data           Changes the data from one representation to another when the cmdlet supports bidirectional conversion or when the cmdlet supports conversion between multiple …\r\nConvertFrom cf          Data           Converts one primary type of input (the cmdlet noun indicates the input) to one or more supported output types\r\nConvertTo   ct          Data           Converts from one or more types of input to a primary output type (the cmdlet noun indicates the output type)\r\nDismount    dm          Data           Detaches a named entity from a location\r\nEdit        ed          Data           Modifies existing data by adding or removing content\r\nExpand      en          Data           Restores the data of a resource that has been compressed to its original state\r\nExport      ep          Data           Encapsulates the primary input into a persistent data store, such as a file, or into an interchange format\r\nGroup       gp          Data           Arranges or associates one or more resources\r\nImport      ip          Data           Creates a resource from data that is stored in a persistent data store (such as a file) or in an interchange format\r\nInitialize  in          Data           Prepares a resource for use, and sets it to a default state\r\nLimit       l           Data           Applies constraints to a resource\r\nMerge       mg          Data           Creates a single resource from multiple resources\r\nMount       mt          Data           Attaches a named entity to a location\r\nOut         o           Data           Sends data out of the environment\r\nPublish     pb          Data           Makes a resource available to others\r\nRestore     rr          Data           Sets a resource to a predefined state, such as a state set by Checkpoint\r\nSave        sv          Data           Preserves data to avoid loss\r\nSync        sy          Data           Assures that two or more resources are in the same state\r\nUnpublish   ub          Data           Makes a resource unavailable to others\r\nUpdate      ud          Data           Brings a resource up-to-date to maintain its state, accuracy, conformance, or compliance\r\nDebug       db          Diagnostic     Examines a resource to diagnose operational problems\r\nMeasure     ms          Diagnostic     Identifies resources that are consumed by a specified operation, or retrieves statistics about a resource\r\nPing        pi          Diagnostic     Use the Test verb\r\nRepair      rp          Diagnostic     Restores a resource to a usable condition\r\nResolve     rv          Diagnostic     Maps a shorthand representation of a resource to a more complete representation\r\nTest        t           Diagnostic     Verifies the operation or consistency of a resource\r\nTrace       tr          Diagnostic     Tracks the activities of a resource\r\nApprove     ap          Lifecycle      Confirms or agrees to the status of a resource or process\r\nAssert      as          Lifecycle      Affirms the state of a resource\r\nBuild       bd          Lifecycle      Creates an artifact (usually a binary or document) out of some set of input files (usually source code or declarative documents)\r\nComplete    cmp         Lifecycle      Concludes an operation\r\nConfirm     cn          Lifecycle      Acknowledges, verifies, or validates the state of a resource or process\r\nDeny        dn          Lifecycle      Refuses, objects, blocks, or opposes the state of a resource or process\r\nDeploy      dp          Lifecycle      Sends an application, website, or solution to a remote target[s] in such a way that a consumer of that solution can access it after deployment is complete\r\nDisable     d           Lifecycle      Configures a resource to an unavailable or inactive state\r\nEnable      e           Lifecycle      Configures a resource to an available or active state\r\nInstall     is          Lifecycle      Places a resource in a location, and optionally initializes it\r\nInvoke      i           Lifecycle      Performs an action, such as running a command or a method\r\nRegister    rg          Lifecycle      Creates an entry for a resource in a repository such as a database\r\nRequest     rq          Lifecycle      Asks for a resource or asks for permissions\r\nRestart     rt          Lifecycle      Stops an operation and then starts it again\r\nResume      ru          Lifecycle      Starts an operation that has been suspended\r\nStart       sa          Lifecycle      Initiates an operation\r\nStop        sp          Lifecycle      Discontinues an activity\r\nSubmit      sb          Lifecycle      Presents a resource for approval\r\nSuspend     ss          Lifecycle      Pauses an activity\r\nUninstall   us          Lifecycle      Removes a resource from an indicated location\r\nUnregister  ur          Lifecycle      Removes the entry for a resource from a repository\r\nWait        w           Lifecycle      Pauses an operation until a specified event occurs\r\nUse         u           Other          Uses or includes a resource to do something\r\nBlock       bl          Security       Restricts access to a resource\r\nGrant       gr          Security       Allows access to a resource\r\nProtect     pt          Security       Safeguards a resource from attack or loss\r\nRevoke      rk          Security       Specifies an action that does not allow access to a resource\r\nUnblock     ul          Security       Removes restrictions to a resource\r\nUnprotect   up          Security       Removes safeguards from a resource that were added to prevent it from attack or loss\r\n```","title":"determining which verb to use for method names in Java","body":"<p>Updated Answer.</p>\n<p>This kind of list already exists in Powershell. In order to get the list, run any powershell terminal (Windows/Linux/Mac) and run the command <code>Get-Verb</code></p>\n<pre class=\"lang-none prettyprint-override\"><code>Verb        AliasPrefix Group          Description\n----        ----------- -----          -----------\nAdd         a           Common         Adds a resource to a container, or attaches an item to another item\nClear       cl          Common         Removes all the resources from a container but does not delete the container\nClose       cs          Common         Changes the state of a resource to make it inaccessible, unavailable, or unusable\nCopy        cp          Common         Copies a resource to another name or to another container\nEnter       et          Common         Specifies an action that allows the user to move into a resource\nExit        ex          Common         Sets the current environment or context to the most recently used context\nFind        fd          Common         Looks for an object in a container that is unknown, implied, optional, or specified\nFormat      f           Common         Arranges objects in a specified form or layout\nGet         g           Common         Specifies an action that retrieves a resource\nHide        h           Common         Makes a resource undetectable\nJoin        j           Common         Combines resources into one resource\nLock        lk          Common         Secures a resource\nMove        m           Common         Moves a resource from one location to another\nNew         n           Common         Creates a resource\nOpen        op          Common         Changes the state of a resource to make it accessible, available, or usable\nOptimize    om          Common         Increases the effectiveness of a resource\nPush        pu          Common         Adds an item to the top of a stack\nPop         pop         Common         Removes an item from the top of a stack\nRedo        re          Common         Resets a resource to the state that was undone\nRemove      r           Common         Deletes a resource from a container\nRename      rn          Common         Changes the name of a resource\nReset       rs          Common         Sets a resource back to its original state\nResize      rz          Common         Changes the size of a resource\nSearch      sr          Common         Creates a reference to a resource in a container\nSelect      sc          Common         Locates a resource in a container\nSet         s           Common         Replaces data on an existing resource or creates a resource that contains some data\nShow        sh          Common         Makes a resource visible to the user\nSkip        sk          Common         Bypasses one or more resources or points in a sequence\nSplit       sl          Common         Separates parts of a resource\nStep        st          Common         Moves to the next point or resource in a sequence\nSwitch      sw          Common         Specifies an action that alternates between two resources, such as to change between two locations, responsibilities, or states\nUndo        un          Common         Sets a resource to its previous state\nUnlock      uk          Common         Releases a resource that was locked\nWatch       wc          Common         Continually inspects or monitors a resource for changes\nConnect     cc          Communications Creates a link between a source and a destination\nDisconnect  dc          Communications Breaks the link between a source and a destination\nRead        rd          Communications Acquires information from a source\nReceive     rc          Communications Accepts information sent from a source\nSend        sd          Communications Delivers information to a destination\nWrite       wr          Communications Adds information to a target\nBackup      ba          Data           Stores data by replicating it\nCheckpoint  ch          Data           Creates a snapshot of the current state of the data or of its configuration\nCompare     cr          Data           Evaluates the data from one resource against the data from another resource\nCompress    cm          Data           Compacts the data of a resource\nConvert     cv          Data           Changes the data from one representation to another when the cmdlet supports bidirectional conversion or when the cmdlet supports conversion between multiple …\nConvertFrom cf          Data           Converts one primary type of input (the cmdlet noun indicates the input) to one or more supported output types\nConvertTo   ct          Data           Converts from one or more types of input to a primary output type (the cmdlet noun indicates the output type)\nDismount    dm          Data           Detaches a named entity from a location\nEdit        ed          Data           Modifies existing data by adding or removing content\nExpand      en          Data           Restores the data of a resource that has been compressed to its original state\nExport      ep          Data           Encapsulates the primary input into a persistent data store, such as a file, or into an interchange format\nGroup       gp          Data           Arranges or associates one or more resources\nImport      ip          Data           Creates a resource from data that is stored in a persistent data store (such as a file) or in an interchange format\nInitialize  in          Data           Prepares a resource for use, and sets it to a default state\nLimit       l           Data           Applies constraints to a resource\nMerge       mg          Data           Creates a single resource from multiple resources\nMount       mt          Data           Attaches a named entity to a location\nOut         o           Data           Sends data out of the environment\nPublish     pb          Data           Makes a resource available to others\nRestore     rr          Data           Sets a resource to a predefined state, such as a state set by Checkpoint\nSave        sv          Data           Preserves data to avoid loss\nSync        sy          Data           Assures that two or more resources are in the same state\nUnpublish   ub          Data           Makes a resource unavailable to others\nUpdate      ud          Data           Brings a resource up-to-date to maintain its state, accuracy, conformance, or compliance\nDebug       db          Diagnostic     Examines a resource to diagnose operational problems\nMeasure     ms          Diagnostic     Identifies resources that are consumed by a specified operation, or retrieves statistics about a resource\nPing        pi          Diagnostic     Use the Test verb\nRepair      rp          Diagnostic     Restores a resource to a usable condition\nResolve     rv          Diagnostic     Maps a shorthand representation of a resource to a more complete representation\nTest        t           Diagnostic     Verifies the operation or consistency of a resource\nTrace       tr          Diagnostic     Tracks the activities of a resource\nApprove     ap          Lifecycle      Confirms or agrees to the status of a resource or process\nAssert      as          Lifecycle      Affirms the state of a resource\nBuild       bd          Lifecycle      Creates an artifact (usually a binary or document) out of some set of input files (usually source code or declarative documents)\nComplete    cmp         Lifecycle      Concludes an operation\nConfirm     cn          Lifecycle      Acknowledges, verifies, or validates the state of a resource or process\nDeny        dn          Lifecycle      Refuses, objects, blocks, or opposes the state of a resource or process\nDeploy      dp          Lifecycle      Sends an application, website, or solution to a remote target[s] in such a way that a consumer of that solution can access it after deployment is complete\nDisable     d           Lifecycle      Configures a resource to an unavailable or inactive state\nEnable      e           Lifecycle      Configures a resource to an available or active state\nInstall     is          Lifecycle      Places a resource in a location, and optionally initializes it\nInvoke      i           Lifecycle      Performs an action, such as running a command or a method\nRegister    rg          Lifecycle      Creates an entry for a resource in a repository such as a database\nRequest     rq          Lifecycle      Asks for a resource or asks for permissions\nRestart     rt          Lifecycle      Stops an operation and then starts it again\nResume      ru          Lifecycle      Starts an operation that has been suspended\nStart       sa          Lifecycle      Initiates an operation\nStop        sp          Lifecycle      Discontinues an activity\nSubmit      sb          Lifecycle      Presents a resource for approval\nSuspend     ss          Lifecycle      Pauses an activity\nUninstall   us          Lifecycle      Removes a resource from an indicated location\nUnregister  ur          Lifecycle      Removes the entry for a resource from a repository\nWait        w           Lifecycle      Pauses an operation until a specified event occurs\nUse         u           Other          Uses or includes a resource to do something\nBlock       bl          Security       Restricts access to a resource\nGrant       gr          Security       Allows access to a resource\nProtect     pt          Security       Safeguards a resource from attack or loss\nRevoke      rk          Security       Specifies an action that does not allow access to a resource\nUnblock     ul          Security       Removes restrictions to a resource\nUnprotect   up          Security       Removes safeguards from a resource that were added to prevent it from attack or loss\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657168670,"creation_date":1657168670,"answer_id":72892343,"question_id":7151418,"body_markdown":"We use method names as propositions (such as plus, minus) rather than verb (such as add, subtract). This emphasis the fact that these methods(propositions) don&#39;t change the value of objects. \r\n\r\nThe `BigInteger` and `BigDecimal` classes didn&#39;t obey this naming convention, and it led to many usage errors. ","title":"determining which verb to use for method names in Java","body":"<p>We use method names as propositions (such as plus, minus) rather than verb (such as add, subtract). This emphasis the fact that these methods(propositions) don't change the value of objects.</p>\n<p>The <code>BigInteger</code> and <code>BigDecimal</code> classes didn't obey this naming convention, and it led to many usage errors.</p>\n"}],"owner":{"account_id":260473,"reputation":48258,"user_id":544050,"accept_rate":95,"display_name":"PengOne"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20256,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":7151581,"answer_count":9,"score":32,"last_activity_date":1680791059,"creation_date":1314035448,"question_id":7151418,"body_markdown":"I understand that naming conventions are important for a number of reasons, most having to do with making your code more readable and easier to integrate into larger projects, etc. In Java, most conventions require that method names be in `lowerCamelCase` begin with a verb.\r\n\r\nMy question is: how do I choose the verb to begin the method name?\r\n\r\nTo make this question less vague, I&#39;m often in the situation where my first choice for a method name is a noun describing the output. In these cases, I&#39;m usually torn between appending generic verbs such as `get`, `generate`, `calculate`, etc in font of the noun to conform to the verb rule. Are there general guidelines for when to use which?\r\n\r\nHere&#39;s an example. I have a method that takes `double[] array` and an `int k` and returns `double[] newArray` which is the length `k` moving average of `array`, i.e. `newArray[i] = (array[i-k+1]+...+array[i])/k` with some fudging to make `newArray` the same length as `array`. My inclination is to call this method `movingAverage` since that&#39;s what it returns, but that&#39;s out since it doesn&#39;t begin with a verb. Should I call this method `getMovingAverage` or `generateMovingAverage` or `calculateMovingAverage` or does it not really matter?","title":"determining which verb to use for method names in Java","body":"<p>I understand that naming conventions are important for a number of reasons, most having to do with making your code more readable and easier to integrate into larger projects, etc. In Java, most conventions require that method names be in <code>lowerCamelCase</code> begin with a verb.</p>\n\n<p>My question is: how do I choose the verb to begin the method name?</p>\n\n<p>To make this question less vague, I'm often in the situation where my first choice for a method name is a noun describing the output. In these cases, I'm usually torn between appending generic verbs such as <code>get</code>, <code>generate</code>, <code>calculate</code>, etc in font of the noun to conform to the verb rule. Are there general guidelines for when to use which?</p>\n\n<p>Here's an example. I have a method that takes <code>double[] array</code> and an <code>int k</code> and returns <code>double[] newArray</code> which is the length <code>k</code> moving average of <code>array</code>, i.e. <code>newArray[i] = (array[i-k+1]+...+array[i])/k</code> with some fudging to make <code>newArray</code> the same length as <code>array</code>. My inclination is to call this method <code>movingAverage</code> since that's what it returns, but that's out since it doesn't begin with a verb. Should I call this method <code>getMovingAverage</code> or <code>generateMovingAverage</code> or <code>calculateMovingAverage</code> or does it not really matter?</p>\n"},{"tags":["java","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":879781,"reputation":973,"user_id":188764,"accept_rate":80,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1502900045,"creation_date":1356660529,"answer_id":14063719,"question_id":12257990,"body_markdown":"You have to reschedule the job by creating a new trigger.\r\n\r\n    public void execute(JobExecutionContext context) throws JobExecutionException {\r\n        Trigger newTrigger = what_ever_you_want;\r\n        Trigger oldTrigger = context.getTrigger();\r\n        Scheduler scheduler = StdSchedulerFactory.getDefaultScheduler();\r\n        scheduler.rescheduleJob(oldTrigger.getKey(), newTrigger);\r\n    }\r\n\r\nThis will replace the same job with a new trigger fire time.\r\n","title":"How to reschedule the job execution interval in Quartz?","body":"<p>You have to reschedule the job by creating a new trigger.</p>\n\n<pre><code>public void execute(JobExecutionContext context) throws JobExecutionException {\n    Trigger newTrigger = what_ever_you_want;\n    Trigger oldTrigger = context.getTrigger();\n    Scheduler scheduler = StdSchedulerFactory.getDefaultScheduler();\n    scheduler.rescheduleJob(oldTrigger.getKey(), newTrigger);\n}\n</code></pre>\n\n<p>This will replace the same job with a new trigger fire time.</p>\n"},{"tags":[],"owner":{"account_id":2174240,"reputation":1419,"user_id":1925356,"accept_rate":33,"display_name":"Alex Mi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586063955,"creation_date":1586063955,"answer_id":61038393,"question_id":12257990,"body_markdown":"Perhaps there is a static method triggerKey() somewhere in the Quartz library. However, I managed to reschedule an existing Quartz job (using Quartz 2.3.2) without using this (potential) method, but rather using the TriggerKey class as follows:\r\n\r\n    \tboolean updateExisting = true; // try it also with false\r\n\t\tint aveId = 1234; // change it as you wish\r\n\t\tjava.util.Date closeDate = new java.util.Date(); // change it as you wish\r\n\t\t\r\n\t\tSchedulerFactory sf = new StdSchedulerFactory(&quot;... /quartz_priority.properties&quot;);\r\n\t\tScheduler scheduler = sf.getScheduler();\r\n\r\n\t\tTriggerKey triggerKey = new TriggerKey(&quot;trigger&quot; + aveId, &quot;group1&quot;);\r\n\r\n\t\tif (updateExisting) {\r\n\t\t\tTrigger oldTrigger = scheduler.getTrigger(triggerKey);\r\n\t\t\tTriggerBuilder oldTriggerBuilder = oldTrigger.getTriggerBuilder();\r\n\r\n\t\t\tTrigger newTrigger = oldTriggerBuilder.startAt(closeDate).build();\r\n\t\t\tscheduler.rescheduleJob(triggerKey, newTrigger);\r\n\r\n\t\t} else {\r\n\t\t\tTrigger trigger = TriggerBuilder.newTrigger().withIdentity(triggerKey).startAt(closeDate).build();\r\n\r\n\t\t\t// Define job instance\r\n\t\t\tJobDetail job1 = JobBuilder.newJob(&lt;YOUR_JOB_CLASS_NAME&gt;.class).withIdentity(&quot;job&quot; + aveId, &quot;group1&quot;).build();\r\n\r\n\t\t\tJobDataMap map = job1.getJobDataMap();\r\n\t\t\tmap.put(&lt;PARAMETER_NAME&gt;, aveId);\r\n\r\n\t\t\t// Schedule the job with the trigger\r\n\t\t\tscheduler.scheduleJob(job1, trigger);\r\n\t\t}\r\n\r\n","title":"How to reschedule the job execution interval in Quartz?","body":"<p>Perhaps there is a static method triggerKey() somewhere in the Quartz library. However, I managed to reschedule an existing Quartz job (using Quartz 2.3.2) without using this (potential) method, but rather using the TriggerKey class as follows:</p>\n\n<pre><code>    boolean updateExisting = true; // try it also with false\n    int aveId = 1234; // change it as you wish\n    java.util.Date closeDate = new java.util.Date(); // change it as you wish\n\n    SchedulerFactory sf = new StdSchedulerFactory(\"... /quartz_priority.properties\");\n    Scheduler scheduler = sf.getScheduler();\n\n    TriggerKey triggerKey = new TriggerKey(\"trigger\" + aveId, \"group1\");\n\n    if (updateExisting) {\n        Trigger oldTrigger = scheduler.getTrigger(triggerKey);\n        TriggerBuilder oldTriggerBuilder = oldTrigger.getTriggerBuilder();\n\n        Trigger newTrigger = oldTriggerBuilder.startAt(closeDate).build();\n        scheduler.rescheduleJob(triggerKey, newTrigger);\n\n    } else {\n        Trigger trigger = TriggerBuilder.newTrigger().withIdentity(triggerKey).startAt(closeDate).build();\n\n        // Define job instance\n        JobDetail job1 = JobBuilder.newJob(&lt;YOUR_JOB_CLASS_NAME&gt;.class).withIdentity(\"job\" + aveId, \"group1\").build();\n\n        JobDataMap map = job1.getJobDataMap();\n        map.put(&lt;PARAMETER_NAME&gt;, aveId);\n\n        // Schedule the job with the trigger\n        scheduler.scheduleJob(job1, trigger);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25939300,"reputation":31,"user_id":19659058,"display_name":"gearbase"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680790853,"creation_date":1680784829,"answer_id":75949636,"question_id":12257990,"body_markdown":"Let me expand on [Kris](https://stackoverflow.com/users/188764/kris) and [Alex Mi](https://stackoverflow.com/users/1925356/alex-mi) answers.\r\n\r\nBelow is an example of a multi-instance Spring Boot application that launches a cron job.  \r\nThe Job must be running on only one of the instances.  \r\nThe configuration of each instance must be the same.  \r\nIf a job crashes, it should try to restart 3 times with a delay of 5 minutes * number of restart attempts.  \r\nIf the job still crashes after 3 restarts, the default cron for our job trigger should be set.\r\n\r\n\r\n**We will use Quartz in cluster mode:**\r\n\r\nDeps:\r\n```groovy\r\nimplementation(&quot;org.springframework.boot:spring-boot-starter-quartz&quot;)\r\n```\r\n\r\n*Out job:*\r\n```kotlin\r\n@Component\r\n@Profile(&quot;quartz&quot;)\r\nclass SomeJob(\r\n    private val someService: SomeService\r\n) : QuartzJobBean() {\r\n    private val log: Logger = LoggerFactory.getLogger(SomeJob::class.java)\r\n    \r\n    override fun executeInternal(jobExecutionContext: JobExecutionContext) {\r\n        try {\r\n            log.info(&quot;Doing awesome work...&quot;)\r\n            someService.work()\r\n            if ((1..10).random() &gt;= 5) throw RuntimeException(&quot;Something went wrong...&quot;)\r\n        } catch (e: Exception) {\r\n            throw JobExecutionException(e)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is the Quartz configuration (more information [here](https://www.baeldung.com/spring-quartz-schedule)):\r\n```kotlin\r\n@Configuration\r\n@Profile(&quot;quartz&quot;)\r\nclass JobConfig {\r\n    //JobDetail for our job\r\n    @Bean\r\n    fun someJobDetail(): JobDetail {\r\n        return JobBuilder\r\n            .newJob(SomeJob::class.java).withIdentity(&quot;SomeJob&quot;)\r\n            .withDescription(&quot;Some job&quot;)\r\n            //If we want the job to be launched after the application instance crashes at the \r\n            //next launch\r\n            .requestRecovery(true)\r\n            .storeDurably().build()\r\n    }\r\n\r\n    //Trigger\r\n    @Bean\r\n    fun someJobTrigger(someJobDetail: JobDetail): Trigger {\r\n        return TriggerBuilder.newTrigger().forJob(someJobDetail)\r\n            .withIdentity(&quot;SomeJobTrigger&quot;)\r\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 0 4 L-1 * ? *&quot;))\r\n            .build()\r\n\r\n    }\r\n\r\n    //Otherwise, changing cron for an existing trigger will not work. (the old cron value will be stored in the database)\r\n    @Bean\r\n    fun scheduler(triggers: List&lt;Trigger&gt;, jobDetails: List&lt;JobDetail&gt;, factory: SchedulerFactoryBean): Scheduler {\r\n        factory.setWaitForJobsToCompleteOnShutdown(true)\r\n        val scheduler = factory.scheduler\r\n        factory.setOverwriteExistingJobs(true)\r\n        //https://stackoverflow.com/questions/39673572/spring-quartz-scheduler-race-condition\r\n        factory.setTransactionManager(JdbcTransactionManager())\r\n        rescheduleTriggers(triggers, scheduler)\r\n        scheduler.start()\r\n        return scheduler\r\n    }\r\n\r\n    private fun rescheduleTriggers(triggers: List&lt;Trigger&gt;, scheduler: Scheduler) {\r\n        triggers.forEach {\r\n            if (!scheduler.checkExists(it.key)) {\r\n                scheduler.scheduleJob(it)\r\n            } else {\r\n                scheduler.rescheduleJob(it.key, it)\r\n            }\r\n        }\r\n    }\r\n}\r\n    \r\n```\r\nAdd a listener to the scheduler:\r\n```kotlin\r\n@Component\r\n@Profile(&quot;quartz&quot;)\r\nclass JobListenerConfig(\r\n    private val schedulerFactory: SchedulerFactoryBean,\r\n    private val jobListener: JobListener\r\n) {\r\n    @PostConstruct\r\n    fun addListener() {\r\n        schedulerFactory.scheduler.listenerManager.addJobListener(jobListener, KeyMatcher.keyEquals(jobKey(&quot;SomeJob&quot;)))\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd now the most important - the logic of processing the execution of our job with listener:\r\n```kotlin\r\n@Profile(&quot;quartz&quot;)\r\nclass JobListener(\r\n    //can be obtained from the execution context, but it can also be injected\r\n    private val scheduler: Scheduler,\r\n    private val triggers: List&lt;Trigger&gt;\r\n): JobListenerSupport() {\r\n\r\n    private lateinit var triggerCronMap: Map&lt;String, String&gt;\r\n\r\n    @PostConstruct\r\n    fun post(){\r\n        //there will be no recovery triggers , only our self-written ones\r\n        triggerCronMap = triggers.associate {\r\n            it.key.name to (it as CronTrigger).cronExpression\r\n        }\r\n    }\r\n\r\n    override fun getName(): String {\r\n        return &quot;myJobListener&quot;\r\n    }\r\n\r\n\r\n    override fun jobToBeExecuted(context: JobExecutionContext) {\r\n        log.info(&quot;Job: ${context.jobDetail.key.name} ready to start by trigger: ${context.trigger.key.name}&quot;)\r\n    }\r\n\r\n\r\n    override fun jobWasExecuted(context: JobExecutionContext, jobException: JobExecutionException?) {\r\n        //you can use context.mergedJobDataMap\r\n        val dataMap = context.trigger.jobDataMap\r\n        val count = if (dataMap[&quot;count&quot;] != null) dataMap.getIntValue(&quot;count&quot;) else {\r\n            dataMap.putAsString(&quot;count&quot;, 1)\r\n            1\r\n        }\r\n        //in the if block, you can add the condition &amp;&amp; !context.trigger.key.name.startsWith(&quot;recover_&quot;) - in this case, the scheduler will not restart recover triggers if they fall during execution\r\n        if (jobException != null ){\r\n            if (count &lt; 3) {\r\n                log.warn(&quot;Job: ${context.jobDetail.key.name} filed while execution. Restart attempts count: $count &quot;)\r\n                val oldTrigger = context.trigger\r\n                var newTriggerName = context.trigger.key.name + &quot;_retry&quot;\r\n                //in case such a trigger already exists\r\n                context.scheduler.getTriggersOfJob(context.jobDetail.key)\r\n                    .map { it.key.name }\r\n                    .takeIf { it.contains(newTriggerName) }\r\n                    ?.apply { newTriggerName += &quot;_retry&quot; }\r\n                val newTrigger = TriggerBuilder.newTrigger()\r\n                    .forJob(context.jobDetail)\r\n                    .withIdentity(newTriggerName, context.trigger.key.group)\r\n                    //create a simple trigger that should be fired in 5 minutes * restart attempts\r\n                    .startAt(Date.from(Instant.now().plus((5 * count).toLong(), ChronoUnit.MINUTES)))\r\n                    .usingJobData(&quot;count&quot;, count + 1 )\r\n                    .build()\r\n                val date = scheduler.rescheduleJob(oldTrigger.key, newTrigger)\r\n                log.info(&quot;Rescheduling trigger: ${oldTrigger.key} to trigger: ${newTrigger.key}&quot;)\r\n            } else {\r\n                log.warn(&quot;Reach max count of restarts: $count. Remove all triggers for job: ${context.trigger.jobKey.name} and schedule default trigger for it: ${context.trigger.key.name.split(&quot;_&quot;)[0]}&quot;)\r\n                recheduleWithDefaultTrigger(context)\r\n            }\r\n        } else if (count &gt; 1) {\r\n            recheduleWithDefaultTrigger(context)\r\n        }\r\n        else {\r\n            log.info(&quot;Job: ${context.jobDetail.key.name} completed successfully&quot;)\r\n        }\r\n        context.scheduler.getTriggersOfJob(context.trigger.jobKey).forEach {\r\n            log.info(&quot;Trigger with key: ${it.key} for job: ${context.trigger.jobKey.name} will start at ${it.nextFireTime ?: it.startTime}&quot;)\r\n        }\r\n    }\r\n\r\n    private fun recheduleWithDefaultTrigger(context: JobExecutionContext) {\r\n        val clone = context.jobDetail.clone() as JobDetail\r\n        val defaultTriggerName = context.trigger.key.name.split(&quot;_&quot;)[0]\r\n        //Recovery triggers should not be rescheduled\r\n        if (!triggerCronMap.contains(defaultTriggerName)) return\r\n        scheduler.deleteJob(clone.key)\r\n        scheduler.addJob(clone, true)\r\n        scheduler.scheduleJob(\r\n            TriggerBuilder.newTrigger()\r\n                .forJob(clone)\r\n                .withIdentity(defaultTriggerName)\r\n                .withSchedule(CronScheduleBuilder.cronSchedule(triggerCronMap[defaultTriggerName]))\r\n                .usingJobData(&quot;count&quot;, 1)\r\n                .startAt(Date.from(Instant.now().plusSeconds(5)))\r\n                .build()\r\n        )\r\n    }\r\n}\r\n```\r\nLast but not least: **application.yaml**\r\n```yaml\r\nspring:\r\n  quartz:\r\n    job-store-type: jdbc #Database Mode\r\n    jdbc:\r\n      initialize-schema: never #Do not initialize table structure\r\n    properties:\r\n      org:\r\n        quartz:\r\n          scheduler:\r\n            instanceId: AUTO #Default hostname and timestamp generate instance ID, which can be any string, but must be the only corresponding qrtz_scheduler_state INSTANCE_NAME field for all dispatchers\r\n            #instanceName: clusteredScheduler #quartzScheduler\r\n          jobStore:\r\n#            a few problems with the two properties below: https://github.com/spring-projects/spring-boot/issues/28758#issuecomment-974628989 &amp; https://github.com/quartz-scheduler/quartz/issues/284\r\n#            class: org.springframework.scheduling.quartz.LocalDataSourceJobStore #Persistence Configuration\r\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate #We only make database-specific proxies for databases\r\n#            useProperties: true #Indicates that JDBC JobStore stores all values in JobDataMaps as strings, so more complex objects can be stored as name-value pairs rather than serialized in BLOB columns.In the long run, this is safer because you avoid serializing non-String classes to BLOB class versions.\r\n            tablePrefix: scam_quartz.QRTZ_  #Database Table Prefix\r\n            misfireThreshold: 60000 #The number of milliseconds the dispatcher will &quot;tolerate&quot; a Trigger to pass its next startup time before being considered a &quot;fire&quot;.The default value (if you do not enter this property in the configuration) is 60000 (60 seconds).\r\n            clusterCheckinInterval: 5000 #Set the frequency (in milliseconds) of this instance&#39;checkin&#39;* with other instances of the cluster.Affects the speed of detecting failed instances.\r\n            isClustered: true #Turn on Clustering\r\n          threadPool: #Connection Pool\r\n            class: org.quartz.simpl.SimpleThreadPool\r\n            threadCount: 3\r\n            threadPriority: 1\r\n            threadsInheritContextClassLoaderOfInitializingThread: true\r\n```\r\n\r\n[Here](https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore) official scripts for database (use liquibase or flyway)      \r\nMore information:   \r\n[About quartz](https://www.baeldung.com/quartz)  \r\n[spring boot using quartz in cluster mode](https://medium.com/javarevisited/spring-boot-using-quartz-in-mode-cluster-e1d71e4af4b9)  \r\n[One more article](https://habr.com/ru/companies/surfstudio/articles/685980)  \r\n[Cluster effectively quartz](https://medium.com/javarevisited/how-to-cluster-effectively-quartz-jobs-9b097f5e1191)","title":"How to reschedule the job execution interval in Quartz?","body":"<p>Let me expand on <a href=\"https://stackoverflow.com/users/188764/kris\">Kris</a> and <a href=\"https://stackoverflow.com/users/1925356/alex-mi\">Alex Mi</a> answers.</p>\n<p>Below is an example of a multi-instance Spring Boot application that launches a cron job.<br />\nThe Job must be running on only one of the instances.<br />\nThe configuration of each instance must be the same.<br />\nIf a job crashes, it should try to restart 3 times with a delay of 5 minutes * number of restart attempts.<br />\nIf the job still crashes after 3 restarts, the default cron for our job trigger should be set.</p>\n<p><strong>We will use Quartz in cluster mode:</strong></p>\n<p>Deps:</p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-quartz&quot;)\n</code></pre>\n<p><em>Out job:</em></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Profile(&quot;quartz&quot;)\nclass SomeJob(\n    private val someService: SomeService\n) : QuartzJobBean() {\n    private val log: Logger = LoggerFactory.getLogger(SomeJob::class.java)\n    \n    override fun executeInternal(jobExecutionContext: JobExecutionContext) {\n        try {\n            log.info(&quot;Doing awesome work...&quot;)\n            someService.work()\n            if ((1..10).random() &gt;= 5) throw RuntimeException(&quot;Something went wrong...&quot;)\n        } catch (e: Exception) {\n            throw JobExecutionException(e)\n        }\n    }\n}\n</code></pre>\n<p>Here is the Quartz configuration (more information <a href=\"https://www.baeldung.com/spring-quartz-schedule\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\n@Profile(&quot;quartz&quot;)\nclass JobConfig {\n    //JobDetail for our job\n    @Bean\n    fun someJobDetail(): JobDetail {\n        return JobBuilder\n            .newJob(SomeJob::class.java).withIdentity(&quot;SomeJob&quot;)\n            .withDescription(&quot;Some job&quot;)\n            //If we want the job to be launched after the application instance crashes at the \n            //next launch\n            .requestRecovery(true)\n            .storeDurably().build()\n    }\n\n    //Trigger\n    @Bean\n    fun someJobTrigger(someJobDetail: JobDetail): Trigger {\n        return TriggerBuilder.newTrigger().forJob(someJobDetail)\n            .withIdentity(&quot;SomeJobTrigger&quot;)\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 0 4 L-1 * ? *&quot;))\n            .build()\n\n    }\n\n    //Otherwise, changing cron for an existing trigger will not work. (the old cron value will be stored in the database)\n    @Bean\n    fun scheduler(triggers: List&lt;Trigger&gt;, jobDetails: List&lt;JobDetail&gt;, factory: SchedulerFactoryBean): Scheduler {\n        factory.setWaitForJobsToCompleteOnShutdown(true)\n        val scheduler = factory.scheduler\n        factory.setOverwriteExistingJobs(true)\n        //https://stackoverflow.com/questions/39673572/spring-quartz-scheduler-race-condition\n        factory.setTransactionManager(JdbcTransactionManager())\n        rescheduleTriggers(triggers, scheduler)\n        scheduler.start()\n        return scheduler\n    }\n\n    private fun rescheduleTriggers(triggers: List&lt;Trigger&gt;, scheduler: Scheduler) {\n        triggers.forEach {\n            if (!scheduler.checkExists(it.key)) {\n                scheduler.scheduleJob(it)\n            } else {\n                scheduler.rescheduleJob(it.key, it)\n            }\n        }\n    }\n}\n    \n</code></pre>\n<p>Add a listener to the scheduler:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Profile(&quot;quartz&quot;)\nclass JobListenerConfig(\n    private val schedulerFactory: SchedulerFactoryBean,\n    private val jobListener: JobListener\n) {\n    @PostConstruct\n    fun addListener() {\n        schedulerFactory.scheduler.listenerManager.addJobListener(jobListener, KeyMatcher.keyEquals(jobKey(&quot;SomeJob&quot;)))\n    }\n}\n\n</code></pre>\n<p>And now the most important - the logic of processing the execution of our job with listener:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Profile(&quot;quartz&quot;)\nclass JobListener(\n    //can be obtained from the execution context, but it can also be injected\n    private val scheduler: Scheduler,\n    private val triggers: List&lt;Trigger&gt;\n): JobListenerSupport() {\n\n    private lateinit var triggerCronMap: Map&lt;String, String&gt;\n\n    @PostConstruct\n    fun post(){\n        //there will be no recovery triggers , only our self-written ones\n        triggerCronMap = triggers.associate {\n            it.key.name to (it as CronTrigger).cronExpression\n        }\n    }\n\n    override fun getName(): String {\n        return &quot;myJobListener&quot;\n    }\n\n\n    override fun jobToBeExecuted(context: JobExecutionContext) {\n        log.info(&quot;Job: ${context.jobDetail.key.name} ready to start by trigger: ${context.trigger.key.name}&quot;)\n    }\n\n\n    override fun jobWasExecuted(context: JobExecutionContext, jobException: JobExecutionException?) {\n        //you can use context.mergedJobDataMap\n        val dataMap = context.trigger.jobDataMap\n        val count = if (dataMap[&quot;count&quot;] != null) dataMap.getIntValue(&quot;count&quot;) else {\n            dataMap.putAsString(&quot;count&quot;, 1)\n            1\n        }\n        //in the if block, you can add the condition &amp;&amp; !context.trigger.key.name.startsWith(&quot;recover_&quot;) - in this case, the scheduler will not restart recover triggers if they fall during execution\n        if (jobException != null ){\n            if (count &lt; 3) {\n                log.warn(&quot;Job: ${context.jobDetail.key.name} filed while execution. Restart attempts count: $count &quot;)\n                val oldTrigger = context.trigger\n                var newTriggerName = context.trigger.key.name + &quot;_retry&quot;\n                //in case such a trigger already exists\n                context.scheduler.getTriggersOfJob(context.jobDetail.key)\n                    .map { it.key.name }\n                    .takeIf { it.contains(newTriggerName) }\n                    ?.apply { newTriggerName += &quot;_retry&quot; }\n                val newTrigger = TriggerBuilder.newTrigger()\n                    .forJob(context.jobDetail)\n                    .withIdentity(newTriggerName, context.trigger.key.group)\n                    //create a simple trigger that should be fired in 5 minutes * restart attempts\n                    .startAt(Date.from(Instant.now().plus((5 * count).toLong(), ChronoUnit.MINUTES)))\n                    .usingJobData(&quot;count&quot;, count + 1 )\n                    .build()\n                val date = scheduler.rescheduleJob(oldTrigger.key, newTrigger)\n                log.info(&quot;Rescheduling trigger: ${oldTrigger.key} to trigger: ${newTrigger.key}&quot;)\n            } else {\n                log.warn(&quot;Reach max count of restarts: $count. Remove all triggers for job: ${context.trigger.jobKey.name} and schedule default trigger for it: ${context.trigger.key.name.split(&quot;_&quot;)[0]}&quot;)\n                recheduleWithDefaultTrigger(context)\n            }\n        } else if (count &gt; 1) {\n            recheduleWithDefaultTrigger(context)\n        }\n        else {\n            log.info(&quot;Job: ${context.jobDetail.key.name} completed successfully&quot;)\n        }\n        context.scheduler.getTriggersOfJob(context.trigger.jobKey).forEach {\n            log.info(&quot;Trigger with key: ${it.key} for job: ${context.trigger.jobKey.name} will start at ${it.nextFireTime ?: it.startTime}&quot;)\n        }\n    }\n\n    private fun recheduleWithDefaultTrigger(context: JobExecutionContext) {\n        val clone = context.jobDetail.clone() as JobDetail\n        val defaultTriggerName = context.trigger.key.name.split(&quot;_&quot;)[0]\n        //Recovery triggers should not be rescheduled\n        if (!triggerCronMap.contains(defaultTriggerName)) return\n        scheduler.deleteJob(clone.key)\n        scheduler.addJob(clone, true)\n        scheduler.scheduleJob(\n            TriggerBuilder.newTrigger()\n                .forJob(clone)\n                .withIdentity(defaultTriggerName)\n                .withSchedule(CronScheduleBuilder.cronSchedule(triggerCronMap[defaultTriggerName]))\n                .usingJobData(&quot;count&quot;, 1)\n                .startAt(Date.from(Instant.now().plusSeconds(5)))\n                .build()\n        )\n    }\n}\n</code></pre>\n<p>Last but not least: <strong>application.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  quartz:\n    job-store-type: jdbc #Database Mode\n    jdbc:\n      initialize-schema: never #Do not initialize table structure\n    properties:\n      org:\n        quartz:\n          scheduler:\n            instanceId: AUTO #Default hostname and timestamp generate instance ID, which can be any string, but must be the only corresponding qrtz_scheduler_state INSTANCE_NAME field for all dispatchers\n            #instanceName: clusteredScheduler #quartzScheduler\n          jobStore:\n#            a few problems with the two properties below: https://github.com/spring-projects/spring-boot/issues/28758#issuecomment-974628989 &amp; https://github.com/quartz-scheduler/quartz/issues/284\n#            class: org.springframework.scheduling.quartz.LocalDataSourceJobStore #Persistence Configuration\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate #We only make database-specific proxies for databases\n#            useProperties: true #Indicates that JDBC JobStore stores all values in JobDataMaps as strings, so more complex objects can be stored as name-value pairs rather than serialized in BLOB columns.In the long run, this is safer because you avoid serializing non-String classes to BLOB class versions.\n            tablePrefix: scam_quartz.QRTZ_  #Database Table Prefix\n            misfireThreshold: 60000 #The number of milliseconds the dispatcher will &quot;tolerate&quot; a Trigger to pass its next startup time before being considered a &quot;fire&quot;.The default value (if you do not enter this property in the configuration) is 60000 (60 seconds).\n            clusterCheckinInterval: 5000 #Set the frequency (in milliseconds) of this instance'checkin'* with other instances of the cluster.Affects the speed of detecting failed instances.\n            isClustered: true #Turn on Clustering\n          threadPool: #Connection Pool\n            class: org.quartz.simpl.SimpleThreadPool\n            threadCount: 3\n            threadPriority: 1\n            threadsInheritContextClassLoaderOfInitializingThread: true\n</code></pre>\n<p><a href=\"https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore\" rel=\"nofollow noreferrer\">Here</a> official scripts for database (use liquibase or flyway)<br />\nMore information:<br />\n<a href=\"https://www.baeldung.com/quartz\" rel=\"nofollow noreferrer\">About quartz</a><br />\n<a href=\"https://medium.com/javarevisited/spring-boot-using-quartz-in-mode-cluster-e1d71e4af4b9\" rel=\"nofollow noreferrer\">spring boot using quartz in cluster mode</a><br />\n<a href=\"https://habr.com/ru/companies/surfstudio/articles/685980\" rel=\"nofollow noreferrer\">One more article</a><br />\n<a href=\"https://medium.com/javarevisited/how-to-cluster-effectively-quartz-jobs-9b097f5e1191\" rel=\"nofollow noreferrer\">Cluster effectively quartz</a></p>\n"}],"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29801,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":14063719,"answer_count":3,"score":8,"last_activity_date":1680790853,"creation_date":1346740599,"question_id":12257990,"body_markdown":"I am a bit new to Quartz. Is there a way to update the job execution interval for an already submitted Quartz job? Does this interval get updated immediately? Do you have to start the job once again after rescheduling it?\r\n\r\nI found the following link but I don&#39;t know which libraries is the code referring to since my quartz jars don&#39;t contain some of the classes used in the link. Also, where did the triggerKey method come from? Is this some kind of a static import? \r\n\r\nhttp://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/cookbook/UpdateTrigger.html\r\n\r\nI want to update the job execution interval to a very large number in one of my JUnit test cases since I don&#39;t want the job to interfere with the state of the class under test. Once the test case completes, I want to reset the the job execution interval to the actual value that will be used in production","title":"How to reschedule the job execution interval in Quartz?","body":"<p>I am a bit new to Quartz. Is there a way to update the job execution interval for an already submitted Quartz job? Does this interval get updated immediately? Do you have to start the job once again after rescheduling it?</p>\n\n<p>I found the following link but I don't know which libraries is the code referring to since my quartz jars don't contain some of the classes used in the link. Also, where did the triggerKey method come from? Is this some kind of a static import? </p>\n\n<p><a href=\"http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/cookbook/UpdateTrigger.html\" rel=\"noreferrer\">http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/cookbook/UpdateTrigger.html</a></p>\n\n<p>I want to update the job execution interval to a very large number in one of my JUnit test cases since I don't want the job to interfere with the state of the class under test. Once the test case completes, I want to reset the the job execution interval to the actual value that will be used in production</p>\n"},{"tags":["java","azure-devops","sdk","azure-pipelines","appium"],"answers":[{"tags":[],"owner":{"account_id":13359429,"reputation":1,"user_id":9963204,"display_name":"Bruno Graciano Alves Carneiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680790837,"creation_date":1680790837,"answer_id":75950612,"question_id":75290021,"body_markdown":"Hello everything is fine? well I believe that on your machine locally you installed the appium-doctor, node, and the appium, the pipeline is no different. To install and validate all the same steps on the machine, you must install everything via script in a macOS virtual machine, as shown in the example below:\r\n\r\n    pool:\r\n      vmImage: macOS-10.15\r\n              - script: npm install -g appium@1.21.0 # --unsafe-perm=true --allow-root\r\n            displayName: &quot;Install appium 1.21.0&quot;\r\n\r\n          - task: NodeTool@0\r\n            condition: always()\r\n            inputs:\r\n              versionSpec: &quot;16.x&quot;\r\n            displayName: Install Node Js\r\n\r\n          - task: Bash@3\r\n            displayName: &quot;Run Appium in background port 4723&quot;\r\n            continueOnError: false\r\n            enabled: true\r\n            inputs:\r\n              targetType: &#39;inline&#39;\r\n              script: |\r\n                #!/bin/bash\r\n                nohup appium -a 127.0.0.1 -p 4723 --relaxed-security &gt; $(agent.buildDirectory)/s/folderReports/appium_log_4723.txt &amp;\r\n\r\n          - script: npm install -g appium-doctor\r\n            continueOnError: true\r\n            enabled: true\r\n            displayName: &quot;Install appium doctor&quot;\r\n          - script: appium-doctor\r\n            continueOnError: true\r\n            enabled: true\r\n            displayName: &quot;Check appium doctor&quot;\r\n\r\nThe Android Emulator &quot;Task Script&quot;you can instantiate it as follows:\r\n \r\n\r\n              - task: Bash@3\r\n            displayName: Run Emulator\r\n            enabled: true\r\n            inputs:\r\n              targetType: &#39;inline&#39;\r\n              script: | \r\n[enter image description here][1]\r\n        \r\nMORE INFORMATION: https://learn.microsoft.com/pt-br/azure/devops/pipelines/ecosystems/android?view=azure-devops\r\n\r\nI&#39;m sorry if I didn&#39;t understand, it&#39;s my first answer here on this channel\r\n\r\n  [1]: https://i.stack.imgur.com/Neh0h.png","title":"How to run Appium tests with WebdriverIO (Android) in Azure DevOps Pipeline","body":"<p>Hello everything is fine? well I believe that on your machine locally you installed the appium-doctor, node, and the appium, the pipeline is no different. To install and validate all the same steps on the machine, you must install everything via script in a macOS virtual machine, as shown in the example below:</p>\n<pre><code>pool:\n  vmImage: macOS-10.15\n          - script: npm install -g appium@1.21.0 # --unsafe-perm=true --allow-root\n        displayName: &quot;Install appium 1.21.0&quot;\n\n      - task: NodeTool@0\n        condition: always()\n        inputs:\n          versionSpec: &quot;16.x&quot;\n        displayName: Install Node Js\n\n      - task: Bash@3\n        displayName: &quot;Run Appium in background port 4723&quot;\n        continueOnError: false\n        enabled: true\n        inputs:\n          targetType: 'inline'\n          script: |\n            #!/bin/bash\n            nohup appium -a 127.0.0.1 -p 4723 --relaxed-security &gt; $(agent.buildDirectory)/s/folderReports/appium_log_4723.txt &amp;\n\n      - script: npm install -g appium-doctor\n        continueOnError: true\n        enabled: true\n        displayName: &quot;Install appium doctor&quot;\n      - script: appium-doctor\n        continueOnError: true\n        enabled: true\n        displayName: &quot;Check appium doctor&quot;\n</code></pre>\n<p>The Android Emulator &quot;Task Script&quot;you can instantiate it as follows:</p>\n<pre><code>          - task: Bash@3\n        displayName: Run Emulator\n        enabled: true\n        inputs:\n          targetType: 'inline'\n          script: | \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Neh0h.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>MORE INFORMATION: <a href=\"https://learn.microsoft.com/pt-br/azure/devops/pipelines/ecosystems/android?view=azure-devops\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/pt-br/azure/devops/pipelines/ecosystems/android?view=azure-devops</a></p>\n<p>I'm sorry if I didn't understand, it's my first answer here on this channel</p>\n"}],"owner":{"account_id":19855685,"reputation":27,"user_id":21008772,"display_name":"Mohamed Khlifi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680790837,"creation_date":1675112063,"question_id":75290021,"body_markdown":"I have a test that I want to run in Azure DevOps Pipeline. I&#39;m using Appium and WebdriverIO.\r\n\r\nI have done it locally and it worked fine. I have installed an Android emulator from Android Studio and set the SDK and JDK paths.\r\n\r\nThe problem now is that I need to create a pipeline to run the test. I have no idea how should I do it.\r\n\r\nHow should I set the SDK and JDK in Azure DevOps. For your information, I don&#39;t use YAML. I use classic editor.\r\n\r\nI know how to create a pipeline to run Cypress tests. But Appium, Nope","title":"How to run Appium tests with WebdriverIO (Android) in Azure DevOps Pipeline","body":"<p>I have a test that I want to run in Azure DevOps Pipeline. I'm using Appium and WebdriverIO.</p>\n<p>I have done it locally and it worked fine. I have installed an Android emulator from Android Studio and set the SDK and JDK paths.</p>\n<p>The problem now is that I need to create a pipeline to run the test. I have no idea how should I do it.</p>\n<p>How should I set the SDK and JDK in Azure DevOps. For your information, I don't use YAML. I use classic editor.</p>\n<p>I know how to create a pipeline to run Cypress tests. But Appium, Nope</p>\n"},{"tags":["java","spring","spring-boot","quartz-scheduler"],"comments":[{"owner":{"account_id":13578509,"reputation":681,"user_id":9795231,"display_name":"user06062019"},"score":0,"creation_date":1578387803,"post_id":59613194,"comment_id":105412626,"body_markdown":"I think you need to create your triggers with misfired configuration.Refer this http://www.quartz-scheduler.org/documentation/quartz-2.1.7/tutorials/tutorial-lesson-06.html","body":"I think you need to create your triggers with misfired configuration.Refer this <a href=\"http://www.quartz-scheduler.org/documentation/quartz-2.1.7/tutorials/tutorial-lesson-06.html\" rel=\"nofollow noreferrer\">quartz-scheduler.org/documentation/quartz-2.1.7/tutorials/&hellip;</a>"},{"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"score":0,"creation_date":1578477148,"post_id":59613194,"comment_id":105447770,"body_markdown":"I am not worrying about misfiring. I have to implement the scheduled jobs should be reinitialized.","body":"I am not worrying about misfiring. I have to implement the scheduled jobs should be reinitialized."},{"owner":{"account_id":13578509,"reputation":681,"user_id":9795231,"display_name":"user06062019"},"score":0,"creation_date":1578505415,"post_id":59613194,"comment_id":105463698,"body_markdown":"So when you say your application is  down and you want to restart all the triggers whose firing time has been lapsed.Isn&#39;t it a senerio of misfire?","body":"So when you say your application is  down and you want to restart all the triggers whose firing time has been lapsed.Isn&#39;t it a senerio of misfire?"},{"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"score":0,"creation_date":1578542334,"post_id":59613194,"comment_id":105474668,"body_markdown":"That&#39;s also a scenario of misfire. But I don&#39;t want to enable misfiring. Is there any other way to impl?","body":"That&#39;s also a scenario of misfire. But I don&#39;t want to enable misfiring. Is there any other way to impl?"},{"owner":{"account_id":13578509,"reputation":681,"user_id":9795231,"display_name":"user06062019"},"score":0,"creation_date":1578562437,"post_id":59613194,"comment_id":105481441,"body_markdown":"Sorry not sure about any other way of doing it without changing the quartz code.","body":"Sorry not sure about any other way of doing it without changing the quartz code."}],"answers":[{"tags":[],"owner":{"account_id":15190407,"reputation":13077,"user_id":10961238,"display_name":"Romil Patel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1578587181,"creation_date":1578587181,"answer_id":59668275,"question_id":59613194,"body_markdown":"You can get the scheduled-jobs from the database and on application startup using `ApplicationRunner` or using `@EventListener(ApplicationReadyEvent.class)` and call to `startAllSchedulers()`.\r\n\r\n    public class SchedulerStartUpHandler implements ApplicationRunner {\r\n    \r\n        @Autowired\r\n        private SchedulerService schedulerService;\r\n    \r\n        @Override\r\n        public void run(ApplicationArguments args) throws Exception {\r\n            log.info(&quot;Schedule all new scheduler jobs at app startup - starting&quot;);\r\n            try {\r\n                schedulerService.startAllSchedulers();\r\n                log.info(&quot;Schedule all new scheduler jobs at app startup - complete&quot;);\r\n            } catch (Exception ex) {\r\n                log.error(&quot;Schedule all new scheduler jobs at app startup - error&quot;, ex);\r\n            }\r\n        }\r\n    }\r\n\r\nOR\r\n\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    public void startTheScheduledJobFromDatabase() {\r\n        startAllSchedulers();\r\n    }\r\n\r\n\r\n----------\r\n**startAllSchedulers()**\r\n\r\n    public void startAllSchedulers() {\r\n       List&lt;SchedulerJobInfo&gt; jobInfoList = schedulerRepository.findAll();\r\n        if (jobInfoList != null) {\r\n            Scheduler scheduler = schedulerFactoryBean.getScheduler();\r\n            jobInfoList.forEach(jobInfo -&gt; {\r\n                try {\r\n                    JobDetail jobDetail = JobBuilder.newJob(SampleCronJob.class)\r\n                            .withIdentity(jobInfo.getJobName(), jobInfo.getJobGroup()).build();\r\n                    if (!scheduler.checkExists(jobDetail.getKey())) {\r\n                        Trigger trigger;\r\n                        jobDetail = scheduleCreator.createJob(SampleCronJob.class,\r\n                                false, context, jobInfo.getJobName(), jobInfo.getJobGroup());\r\n\r\n                        if (jobInfo.getCronJob() &amp;&amp; CronExpression.isValidExpression(jobInfo.getCronExpression())) {\r\n                            trigger = scheduleCreator.createCronTrigger(jobInfo.getJobName(), new Date(),\r\n                                    jobInfo.getCronExpression(), SimpleTrigger.MISFIRE_INSTRUCTION_FIRE_NOW);\r\n                        } else {\r\n                            trigger = scheduleCreator.createSimpleTrigger(jobInfo.getJobName(), new Date(),\r\n                                    jobInfo.getRepeatTime(), SimpleTrigger.MISFIRE_INSTRUCTION_FIRE_NOW);\r\n                        }\r\n\r\n                        scheduler.scheduleJob(jobDetail, trigger);\r\n\r\n                    }\r\n                } catch (SchedulerException e) {\r\n                    log.error(e.getMessage(), e);\r\n                }\r\n            });\r\n        }\r\n    }","title":"How to restart Quartz jobs which is stored in DB?","body":"<p>You can get the scheduled-jobs from the database and on application startup using <code>ApplicationRunner</code> or using <code>@EventListener(ApplicationReadyEvent.class)</code> and call to <code>startAllSchedulers()</code>.</p>\n\n<pre><code>public class SchedulerStartUpHandler implements ApplicationRunner {\n\n    @Autowired\n    private SchedulerService schedulerService;\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n        log.info(\"Schedule all new scheduler jobs at app startup - starting\");\n        try {\n            schedulerService.startAllSchedulers();\n            log.info(\"Schedule all new scheduler jobs at app startup - complete\");\n        } catch (Exception ex) {\n            log.error(\"Schedule all new scheduler jobs at app startup - error\", ex);\n        }\n    }\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>@EventListener(ApplicationReadyEvent.class)\npublic void startTheScheduledJobFromDatabase() {\n    startAllSchedulers();\n}\n</code></pre>\n\n<hr>\n\n<p><strong>startAllSchedulers()</strong></p>\n\n<pre><code>public void startAllSchedulers() {\n   List&lt;SchedulerJobInfo&gt; jobInfoList = schedulerRepository.findAll();\n    if (jobInfoList != null) {\n        Scheduler scheduler = schedulerFactoryBean.getScheduler();\n        jobInfoList.forEach(jobInfo -&gt; {\n            try {\n                JobDetail jobDetail = JobBuilder.newJob(SampleCronJob.class)\n                        .withIdentity(jobInfo.getJobName(), jobInfo.getJobGroup()).build();\n                if (!scheduler.checkExists(jobDetail.getKey())) {\n                    Trigger trigger;\n                    jobDetail = scheduleCreator.createJob(SampleCronJob.class,\n                            false, context, jobInfo.getJobName(), jobInfo.getJobGroup());\n\n                    if (jobInfo.getCronJob() &amp;&amp; CronExpression.isValidExpression(jobInfo.getCronExpression())) {\n                        trigger = scheduleCreator.createCronTrigger(jobInfo.getJobName(), new Date(),\n                                jobInfo.getCronExpression(), SimpleTrigger.MISFIRE_INSTRUCTION_FIRE_NOW);\n                    } else {\n                        trigger = scheduleCreator.createSimpleTrigger(jobInfo.getJobName(), new Date(),\n                                jobInfo.getRepeatTime(), SimpleTrigger.MISFIRE_INSTRUCTION_FIRE_NOW);\n                    }\n\n                    scheduler.scheduleJob(jobDetail, trigger);\n\n                }\n            } catch (SchedulerException e) {\n                log.error(e.getMessage(), e);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25939300,"reputation":31,"user_id":19659058,"display_name":"gearbase"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680790257,"creation_date":1680790257,"answer_id":75950509,"question_id":59613194,"body_markdown":"I hope this information will be useful for you (this is a copy of my answer in this [thread](https://stackoverflow.com/a/75949972/19659058))\r\n\r\nBelow is an example of a multi-instance Spring Boot application that launches a cron job.  \r\nThe Job must be running on only one of the instances.  \r\nThe configuration of each instance must be the same.  \r\nIf a job crashes, it should try to restart 3 times with a delay of 5 minutes * number of restart attempts.  \r\nIf the job still crashes after 3 restarts, the default cron for our job trigger should be set.\r\n\r\n\r\n**We will use Quartz in cluster mode:**\r\n\r\nDeps:\r\n```groovy\r\nimplementation(&quot;org.springframework.boot:spring-boot-starter-quartz&quot;)\r\n```\r\n\r\nAt first, it is a bad idea to use Thread.sleep(600000) as said in this [answer](https://stackoverflow.com/a/4409263/19659058)  \r\n*Out job:*\r\n```kotlin\r\n@Component\r\n@Profile(&quot;quartz&quot;)\r\nclass SomeJob(\r\n    private val someService: SomeService\r\n) : QuartzJobBean() {\r\n    private val log: Logger = LoggerFactory.getLogger(SomeJob::class.java)\r\n    \r\n    override fun executeInternal(jobExecutionContext: JobExecutionContext) {\r\n        try {\r\n            log.info(&quot;Doing awesome work...&quot;)\r\n            someService.work()\r\n            if ((1..10).random() &gt;= 5) throw RuntimeException(&quot;Something went wrong...&quot;)\r\n        } catch (e: Exception) {\r\n            throw JobExecutionException(e)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is the Quartz configuration (more information [here](https://www.baeldung.com/spring-quartz-schedule)):\r\n```kotlin\r\n@Configuration\r\n@Profile(&quot;quartz&quot;)\r\nclass JobConfig {\r\n    //JobDetail for our job\r\n    @Bean\r\n    fun someJobDetail(): JobDetail {\r\n        return JobBuilder\r\n            .newJob(SomeJob::class.java).withIdentity(&quot;SomeJob&quot;)\r\n            .withDescription(&quot;Some job&quot;)\r\n            //If we want the job to be launched after the application instance crashes at the \r\n            //next launch\r\n            .requestRecovery(true)\r\n            .storeDurably().build()\r\n    }\r\n\r\n    //Trigger\r\n    @Bean\r\n    fun someJobTrigger(someJobDetail: JobDetail): Trigger {\r\n        return TriggerBuilder.newTrigger().forJob(someJobDetail)\r\n            .withIdentity(&quot;SomeJobTrigger&quot;)\r\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0/30 * * ? * * *&quot;))\r\n            .build()\r\n\r\n    }\r\n\r\n    //Otherwise, changing cron for an existing trigger will not work. (the old cron value will be stored in the database)\r\n    @Bean\r\n    fun scheduler(triggers: List&lt;Trigger&gt;, jobDetails: List&lt;JobDetail&gt;, factory: SchedulerFactoryBean): Scheduler {\r\n        factory.setWaitForJobsToCompleteOnShutdown(true)\r\n        val scheduler = factory.scheduler\r\n        factory.setOverwriteExistingJobs(true)\r\n        //https://stackoverflow.com/questions/39673572/spring-quartz-scheduler-race-condition\r\n        factory.setTransactionManager(JdbcTransactionManager())\r\n        rescheduleTriggers(triggers, scheduler)\r\n        scheduler.start()\r\n        return scheduler\r\n    }\r\n\r\n    private fun rescheduleTriggers(triggers: List&lt;Trigger&gt;, scheduler: Scheduler) {\r\n        triggers.forEach {\r\n            if (!scheduler.checkExists(it.key)) {\r\n                scheduler.scheduleJob(it)\r\n            } else {\r\n                scheduler.rescheduleJob(it.key, it)\r\n            }\r\n        }\r\n    }\r\n}\r\n    \r\n```\r\nAdd a listener to the scheduler:\r\n```kotlin\r\n@Component\r\n@Profile(&quot;quartz&quot;)\r\nclass JobListenerConfig(\r\n    private val schedulerFactory: SchedulerFactoryBean,\r\n    private val jobListener: JobListener\r\n) {\r\n    @PostConstruct\r\n    fun addListener() {\r\n        schedulerFactory.scheduler.listenerManager.addJobListener(jobListener, KeyMatcher.keyEquals(jobKey(&quot;SomeJob&quot;)))\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd now the most important - the logic of processing the execution of our job with listener:\r\n```kotlin\r\n@Profile(&quot;quartz&quot;)\r\nclass JobListener(\r\n    //can be obtained from the execution context, but it can also be injected\r\n    private val scheduler: Scheduler,\r\n    private val triggers: List&lt;Trigger&gt;\r\n): JobListenerSupport() {\r\n\r\n    private lateinit var triggerCronMap: Map&lt;String, String&gt;\r\n\r\n    @PostConstruct\r\n    fun post(){\r\n        //there will be no recovery triggers , only our self-written ones\r\n        triggerCronMap = triggers.associate {\r\n            it.key.name to (it as CronTrigger).cronExpression\r\n        }\r\n    }\r\n\r\n    override fun getName(): String {\r\n        return &quot;myJobListener&quot;\r\n    }\r\n\r\n\r\n    override fun jobToBeExecuted(context: JobExecutionContext) {\r\n        log.info(&quot;Job: ${context.jobDetail.key.name} ready to start by trigger: ${context.trigger.key.name}&quot;)\r\n    }\r\n\r\n\r\n    override fun jobWasExecuted(context: JobExecutionContext, jobException: JobExecutionException?) {\r\n        //you can use context.mergedJobDataMap\r\n        val dataMap = context.trigger.jobDataMap\r\n        val count = if (dataMap[&quot;count&quot;] != null) dataMap.getIntValue(&quot;count&quot;) else {\r\n            dataMap.putAsString(&quot;count&quot;, 1)\r\n            1\r\n        }\r\n        //in the if block, you can add the condition &amp;&amp; !context.trigger.key.name.startsWith(&quot;recover_&quot;) - in this case, the scheduler will not restart recover triggers if they fall during execution\r\n        if (jobException != null ){\r\n            if (count &lt; 3) {\r\n                log.warn(&quot;Job: ${context.jobDetail.key.name} filed while execution. Restart attempts count: $count &quot;)\r\n                val oldTrigger = context.trigger\r\n                var newTriggerName = context.trigger.key.name + &quot;_retry&quot;\r\n                //in case such a trigger already exists\r\n                context.scheduler.getTriggersOfJob(context.jobDetail.key)\r\n                    .map { it.key.name }\r\n                    .takeIf { it.contains(newTriggerName) }\r\n                    ?.apply { newTriggerName += &quot;_retry&quot; }\r\n                val newTrigger = TriggerBuilder.newTrigger()\r\n                    .forJob(context.jobDetail)\r\n                    .withIdentity(newTriggerName, context.trigger.key.group)\r\n                    //create a simple trigger that should be fired in 5 minutes * restart attempts\r\n                    .startAt(Date.from(Instant.now().plus((5 * count).toLong(), ChronoUnit.MINUTES)))\r\n                    .usingJobData(&quot;count&quot;, count + 1 )\r\n                    .build()\r\n                val date = scheduler.rescheduleJob(oldTrigger.key, newTrigger)\r\n                log.warn(&quot;Rescheduling trigger: ${oldTrigger.key} to trigger: ${newTrigger.key}&quot;)\r\n            } else {\r\n                log.warn(&quot;The maximum number of restarts has been reached. Restart attempts: $count&quot;)\r\n                recheduleWithDefaultTrigger(context)\r\n            }\r\n        } else if (count &gt; 1) {\r\n            recheduleWithDefaultTrigger(context)\r\n        }\r\n        else {\r\n            log.info(&quot;Job: ${context.jobDetail.key.name} completed successfully&quot;)\r\n        }\r\n        context.scheduler.getTriggersOfJob(context.trigger.jobKey).forEach {\r\n            log.info(&quot;Trigger with key: ${it.key} for job: ${context.trigger.jobKey.name} will start at ${it.nextFireTime ?: it.startTime}&quot;)\r\n        }\r\n    }\r\n\r\n    private fun recheduleWithDefaultTrigger(context: JobExecutionContext) {\r\n        val clone = context.jobDetail.clone() as JobDetail\r\n        val defaultTriggerName = context.trigger.key.name.split(&quot;_&quot;)[0]\r\n        //Recovery triggers should not be rescheduled\r\n        if (!triggerCronMap.contains(defaultTriggerName)) {\r\n            log.warn(&quot;This trigger: ${context.trigger.key.name} for job: ${context.trigger.jobKey.name} is not self-written trigger. It can be recovery trigger or whatever. This trigger must not be recheduled.&quot;)\r\n            return\r\n        }\r\n        log.warn(&quot;Remove all triggers for job: ${context.trigger.jobKey.name} and schedule default trigger for it: $defaultTriggerName&quot;)\r\n        scheduler.deleteJob(clone.key)\r\n        scheduler.addJob(clone, true)\r\n        scheduler.scheduleJob(\r\n            TriggerBuilder.newTrigger()\r\n                .forJob(clone)\r\n                .withIdentity(defaultTriggerName)\r\n                .withSchedule(CronScheduleBuilder.cronSchedule(triggerCronMap[defaultTriggerName]))\r\n                .usingJobData(&quot;count&quot;, 1)\r\n                .startAt(Date.from(Instant.now().plusSeconds(5)))\r\n                .build()\r\n        )\r\n    }\r\n}\r\n```\r\nLast but not least: **application.yaml**\r\n```yaml\r\nspring:\r\n  quartz:\r\n    job-store-type: jdbc #Database Mode\r\n    jdbc:\r\n      initialize-schema: never #Do not initialize table structure\r\n    properties:\r\n      org:\r\n        quartz:\r\n          scheduler:\r\n            instanceId: AUTO #Default hostname and timestamp generate instance ID, which can be any string, but must be the only corresponding qrtz_scheduler_state INSTANCE_NAME field for all dispatchers\r\n            #instanceName: clusteredScheduler #quartzScheduler\r\n          jobStore:\r\n#            a few problems with the two properties below: https://github.com/spring-projects/spring-boot/issues/28758#issuecomment-974628989 &amp; https://github.com/quartz-scheduler/quartz/issues/284\r\n#            class: org.springframework.scheduling.quartz.LocalDataSourceJobStore #Persistence Configuration\r\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate #We only make database-specific proxies for databases\r\n#            useProperties: true #Indicates that JDBC JobStore stores all values in JobDataMaps as strings, so more complex objects can be stored as name-value pairs rather than serialized in BLOB columns.In the long run, this is safer because you avoid serializing non-String classes to BLOB class versions.\r\n            tablePrefix: scam_quartz.QRTZ_  #Database Table Prefix\r\n            misfireThreshold: 60000 #The number of milliseconds the dispatcher will &quot;tolerate&quot; a Trigger to pass its next startup time before being considered a &quot;fire&quot;.The default value (if you do not enter this property in the configuration) is 60000 (60 seconds).\r\n            clusterCheckinInterval: 5000 #Set the frequency (in milliseconds) of this instance&#39;checkin&#39;* with other instances of the cluster.Affects the speed of detecting failed instances.\r\n            isClustered: true #Turn on Clustering\r\n          threadPool: #Connection Pool\r\n            class: org.quartz.simpl.SimpleThreadPool\r\n            threadCount: 3\r\n            threadPriority: 1\r\n            threadsInheritContextClassLoaderOfInitializingThread: true\r\n```\r\n\r\n[Here](https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore) official scripts for database (use liquibase or flyway)      \r\nMore information:   \r\n[About quartz](https://www.baeldung.com/quartz)  \r\n[spring boot using quartz in cluster mode](https://medium.com/javarevisited/spring-boot-using-quartz-in-mode-cluster-e1d71e4af4b9)  \r\n[One more article](https://habr.com/ru/companies/surfstudio/articles/685980)  \r\n[Cluster effectively quartz](https://medium.com/javarevisited/how-to-cluster-effectively-quartz-jobs-9b097f5e1191)","title":"How to restart Quartz jobs which is stored in DB?","body":"<p>I hope this information will be useful for you (this is a copy of my answer in this <a href=\"https://stackoverflow.com/a/75949972/19659058\">thread</a>)</p>\n<p>Below is an example of a multi-instance Spring Boot application that launches a cron job.<br />\nThe Job must be running on only one of the instances.<br />\nThe configuration of each instance must be the same.<br />\nIf a job crashes, it should try to restart 3 times with a delay of 5 minutes * number of restart attempts.<br />\nIf the job still crashes after 3 restarts, the default cron for our job trigger should be set.</p>\n<p><strong>We will use Quartz in cluster mode:</strong></p>\n<p>Deps:</p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-quartz&quot;)\n</code></pre>\n<p>At first, it is a bad idea to use Thread.sleep(600000) as said in this <a href=\"https://stackoverflow.com/a/4409263/19659058\">answer</a><br />\n<em>Out job:</em></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Profile(&quot;quartz&quot;)\nclass SomeJob(\n    private val someService: SomeService\n) : QuartzJobBean() {\n    private val log: Logger = LoggerFactory.getLogger(SomeJob::class.java)\n    \n    override fun executeInternal(jobExecutionContext: JobExecutionContext) {\n        try {\n            log.info(&quot;Doing awesome work...&quot;)\n            someService.work()\n            if ((1..10).random() &gt;= 5) throw RuntimeException(&quot;Something went wrong...&quot;)\n        } catch (e: Exception) {\n            throw JobExecutionException(e)\n        }\n    }\n}\n</code></pre>\n<p>Here is the Quartz configuration (more information <a href=\"https://www.baeldung.com/spring-quartz-schedule\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\n@Profile(&quot;quartz&quot;)\nclass JobConfig {\n    //JobDetail for our job\n    @Bean\n    fun someJobDetail(): JobDetail {\n        return JobBuilder\n            .newJob(SomeJob::class.java).withIdentity(&quot;SomeJob&quot;)\n            .withDescription(&quot;Some job&quot;)\n            //If we want the job to be launched after the application instance crashes at the \n            //next launch\n            .requestRecovery(true)\n            .storeDurably().build()\n    }\n\n    //Trigger\n    @Bean\n    fun someJobTrigger(someJobDetail: JobDetail): Trigger {\n        return TriggerBuilder.newTrigger().forJob(someJobDetail)\n            .withIdentity(&quot;SomeJobTrigger&quot;)\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0/30 * * ? * * *&quot;))\n            .build()\n\n    }\n\n    //Otherwise, changing cron for an existing trigger will not work. (the old cron value will be stored in the database)\n    @Bean\n    fun scheduler(triggers: List&lt;Trigger&gt;, jobDetails: List&lt;JobDetail&gt;, factory: SchedulerFactoryBean): Scheduler {\n        factory.setWaitForJobsToCompleteOnShutdown(true)\n        val scheduler = factory.scheduler\n        factory.setOverwriteExistingJobs(true)\n        //https://stackoverflow.com/questions/39673572/spring-quartz-scheduler-race-condition\n        factory.setTransactionManager(JdbcTransactionManager())\n        rescheduleTriggers(triggers, scheduler)\n        scheduler.start()\n        return scheduler\n    }\n\n    private fun rescheduleTriggers(triggers: List&lt;Trigger&gt;, scheduler: Scheduler) {\n        triggers.forEach {\n            if (!scheduler.checkExists(it.key)) {\n                scheduler.scheduleJob(it)\n            } else {\n                scheduler.rescheduleJob(it.key, it)\n            }\n        }\n    }\n}\n    \n</code></pre>\n<p>Add a listener to the scheduler:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Profile(&quot;quartz&quot;)\nclass JobListenerConfig(\n    private val schedulerFactory: SchedulerFactoryBean,\n    private val jobListener: JobListener\n) {\n    @PostConstruct\n    fun addListener() {\n        schedulerFactory.scheduler.listenerManager.addJobListener(jobListener, KeyMatcher.keyEquals(jobKey(&quot;SomeJob&quot;)))\n    }\n}\n\n</code></pre>\n<p>And now the most important - the logic of processing the execution of our job with listener:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Profile(&quot;quartz&quot;)\nclass JobListener(\n    //can be obtained from the execution context, but it can also be injected\n    private val scheduler: Scheduler,\n    private val triggers: List&lt;Trigger&gt;\n): JobListenerSupport() {\n\n    private lateinit var triggerCronMap: Map&lt;String, String&gt;\n\n    @PostConstruct\n    fun post(){\n        //there will be no recovery triggers , only our self-written ones\n        triggerCronMap = triggers.associate {\n            it.key.name to (it as CronTrigger).cronExpression\n        }\n    }\n\n    override fun getName(): String {\n        return &quot;myJobListener&quot;\n    }\n\n\n    override fun jobToBeExecuted(context: JobExecutionContext) {\n        log.info(&quot;Job: ${context.jobDetail.key.name} ready to start by trigger: ${context.trigger.key.name}&quot;)\n    }\n\n\n    override fun jobWasExecuted(context: JobExecutionContext, jobException: JobExecutionException?) {\n        //you can use context.mergedJobDataMap\n        val dataMap = context.trigger.jobDataMap\n        val count = if (dataMap[&quot;count&quot;] != null) dataMap.getIntValue(&quot;count&quot;) else {\n            dataMap.putAsString(&quot;count&quot;, 1)\n            1\n        }\n        //in the if block, you can add the condition &amp;&amp; !context.trigger.key.name.startsWith(&quot;recover_&quot;) - in this case, the scheduler will not restart recover triggers if they fall during execution\n        if (jobException != null ){\n            if (count &lt; 3) {\n                log.warn(&quot;Job: ${context.jobDetail.key.name} filed while execution. Restart attempts count: $count &quot;)\n                val oldTrigger = context.trigger\n                var newTriggerName = context.trigger.key.name + &quot;_retry&quot;\n                //in case such a trigger already exists\n                context.scheduler.getTriggersOfJob(context.jobDetail.key)\n                    .map { it.key.name }\n                    .takeIf { it.contains(newTriggerName) }\n                    ?.apply { newTriggerName += &quot;_retry&quot; }\n                val newTrigger = TriggerBuilder.newTrigger()\n                    .forJob(context.jobDetail)\n                    .withIdentity(newTriggerName, context.trigger.key.group)\n                    //create a simple trigger that should be fired in 5 minutes * restart attempts\n                    .startAt(Date.from(Instant.now().plus((5 * count).toLong(), ChronoUnit.MINUTES)))\n                    .usingJobData(&quot;count&quot;, count + 1 )\n                    .build()\n                val date = scheduler.rescheduleJob(oldTrigger.key, newTrigger)\n                log.warn(&quot;Rescheduling trigger: ${oldTrigger.key} to trigger: ${newTrigger.key}&quot;)\n            } else {\n                log.warn(&quot;The maximum number of restarts has been reached. Restart attempts: $count&quot;)\n                recheduleWithDefaultTrigger(context)\n            }\n        } else if (count &gt; 1) {\n            recheduleWithDefaultTrigger(context)\n        }\n        else {\n            log.info(&quot;Job: ${context.jobDetail.key.name} completed successfully&quot;)\n        }\n        context.scheduler.getTriggersOfJob(context.trigger.jobKey).forEach {\n            log.info(&quot;Trigger with key: ${it.key} for job: ${context.trigger.jobKey.name} will start at ${it.nextFireTime ?: it.startTime}&quot;)\n        }\n    }\n\n    private fun recheduleWithDefaultTrigger(context: JobExecutionContext) {\n        val clone = context.jobDetail.clone() as JobDetail\n        val defaultTriggerName = context.trigger.key.name.split(&quot;_&quot;)[0]\n        //Recovery triggers should not be rescheduled\n        if (!triggerCronMap.contains(defaultTriggerName)) {\n            log.warn(&quot;This trigger: ${context.trigger.key.name} for job: ${context.trigger.jobKey.name} is not self-written trigger. It can be recovery trigger or whatever. This trigger must not be recheduled.&quot;)\n            return\n        }\n        log.warn(&quot;Remove all triggers for job: ${context.trigger.jobKey.name} and schedule default trigger for it: $defaultTriggerName&quot;)\n        scheduler.deleteJob(clone.key)\n        scheduler.addJob(clone, true)\n        scheduler.scheduleJob(\n            TriggerBuilder.newTrigger()\n                .forJob(clone)\n                .withIdentity(defaultTriggerName)\n                .withSchedule(CronScheduleBuilder.cronSchedule(triggerCronMap[defaultTriggerName]))\n                .usingJobData(&quot;count&quot;, 1)\n                .startAt(Date.from(Instant.now().plusSeconds(5)))\n                .build()\n        )\n    }\n}\n</code></pre>\n<p>Last but not least: <strong>application.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  quartz:\n    job-store-type: jdbc #Database Mode\n    jdbc:\n      initialize-schema: never #Do not initialize table structure\n    properties:\n      org:\n        quartz:\n          scheduler:\n            instanceId: AUTO #Default hostname and timestamp generate instance ID, which can be any string, but must be the only corresponding qrtz_scheduler_state INSTANCE_NAME field for all dispatchers\n            #instanceName: clusteredScheduler #quartzScheduler\n          jobStore:\n#            a few problems with the two properties below: https://github.com/spring-projects/spring-boot/issues/28758#issuecomment-974628989 &amp; https://github.com/quartz-scheduler/quartz/issues/284\n#            class: org.springframework.scheduling.quartz.LocalDataSourceJobStore #Persistence Configuration\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate #We only make database-specific proxies for databases\n#            useProperties: true #Indicates that JDBC JobStore stores all values in JobDataMaps as strings, so more complex objects can be stored as name-value pairs rather than serialized in BLOB columns.In the long run, this is safer because you avoid serializing non-String classes to BLOB class versions.\n            tablePrefix: scam_quartz.QRTZ_  #Database Table Prefix\n            misfireThreshold: 60000 #The number of milliseconds the dispatcher will &quot;tolerate&quot; a Trigger to pass its next startup time before being considered a &quot;fire&quot;.The default value (if you do not enter this property in the configuration) is 60000 (60 seconds).\n            clusterCheckinInterval: 5000 #Set the frequency (in milliseconds) of this instance'checkin'* with other instances of the cluster.Affects the speed of detecting failed instances.\n            isClustered: true #Turn on Clustering\n          threadPool: #Connection Pool\n            class: org.quartz.simpl.SimpleThreadPool\n            threadCount: 3\n            threadPriority: 1\n            threadsInheritContextClassLoaderOfInitializingThread: true\n</code></pre>\n<p><a href=\"https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore\" rel=\"nofollow noreferrer\">Here</a> official scripts for database (use liquibase or flyway)<br />\nMore information:<br />\n<a href=\"https://www.baeldung.com/quartz\" rel=\"nofollow noreferrer\">About quartz</a><br />\n<a href=\"https://medium.com/javarevisited/spring-boot-using-quartz-in-mode-cluster-e1d71e4af4b9\" rel=\"nofollow noreferrer\">spring boot using quartz in cluster mode</a><br />\n<a href=\"https://habr.com/ru/companies/surfstudio/articles/685980\" rel=\"nofollow noreferrer\">One more article</a><br />\n<a href=\"https://medium.com/javarevisited/how-to-cluster-effectively-quartz-jobs-9b097f5e1191\" rel=\"nofollow noreferrer\">Cluster effectively quartz</a></p>\n"}],"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5153,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1680790257,"creation_date":1578318160,"question_id":59613194,"body_markdown":"I have a `scheduler` application which runs using `Spring Boot` &amp; `Quartz`. I have created the job with multiple triggers (cron) which is running perfectly fine. The details of the job, cron expressions are storing at the database.\r\n\r\nHere is the requirement, whenever restarting the application the stored triggers are not firing. I know a workaround to make it happen. Storing the details of job, trigger in a user defined table. Should be loaded upfront whenever the application starts. But I am not sure the approach is right or wrong.\r\n\r\nAlso I have referred lot of articles and github projects to find out how to restart/resume/re-initiate jobs.\r\n\r\nThere could be a solution where I couldn&#39;t find, maybe lack of understanding of quartz or something. I am sure someone would have experienced the scenario and found a way to overcome it. It will be grateful if someone provide an answer.","title":"How to restart Quartz jobs which is stored in DB?","body":"<p>I have a <code>scheduler</code> application which runs using <code>Spring Boot</code> &amp; <code>Quartz</code>. I have created the job with multiple triggers (cron) which is running perfectly fine. The details of the job, cron expressions are storing at the database.</p>\n\n<p>Here is the requirement, whenever restarting the application the stored triggers are not firing. I know a workaround to make it happen. Storing the details of job, trigger in a user defined table. Should be loaded upfront whenever the application starts. But I am not sure the approach is right or wrong.</p>\n\n<p>Also I have referred lot of articles and github projects to find out how to restart/resume/re-initiate jobs.</p>\n\n<p>There could be a solution where I couldn't find, maybe lack of understanding of quartz or something. I am sure someone would have experienced the scenario and found a way to overcome it. It will be grateful if someone provide an answer.</p>\n"},{"tags":["java","maven","dockerfile"],"comments":[{"owner":{"account_id":20137339,"reputation":5,"user_id":14768013,"display_name":"Ferich1"},"score":0,"creation_date":1680790149,"post_id":75950457,"comment_id":133960013,"body_markdown":"Lool what... My maven was in the offline mode. How?.. Okaaaay. I switched off offline mode. But why Maven switched on an offline mode? Loll","body":"Lool what... My maven was in the offline mode. How?.. Okaaaay. I switched off offline mode. But why Maven switched on an offline mode? Loll"}],"owner":{"account_id":20137339,"reputation":5,"user_id":14768013,"display_name":"Ferich1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680790002,"creation_date":1680790002,"question_id":75950457,"body_markdown":"I am trying to include docker-maven-plugin to my pom.xml file but always I get an error: Cannot resolve plugin io.fabric8:docker-maven-plugin:0.42.0.\r\n\r\nWhat am I doing wrong?\r\nHere is my pom.xml file:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.10&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.optimagrowth&lt;/groupId&gt;\r\n    &lt;artifactId&gt;licensing-service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;Microservices1&lt;/name&gt;\r\n    &lt;description&gt;Microservices1&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;docker.image.prefix&gt;ostock&lt;/docker.image.prefix&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.22&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- This plugin is used to create a docker image and publish the image to docker hub--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.fabric8&lt;/groupId&gt;\r\n                &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.42.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt;\r\n                    &lt;tag&gt;${project.version}&lt;/tag&gt;\r\n                    &lt;buildArgs&gt;\r\n                        &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt;\r\n                    &lt;/buildArgs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default&lt;/id&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build&lt;/goal&gt;\r\n                            &lt;goal&gt;push&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\nAlso I tried to add dockerfile-maven plugin, but I got the same error: Cannot resolve plugin com.spotify:dockerfile-maven-plugin:1.4.13.","title":"Cannot resolve plugin io.fabric8:docker-maven-plugin:0.42.0","body":"<p>I am trying to include docker-maven-plugin to my pom.xml file but always I get an error: Cannot resolve plugin io.fabric8:docker-maven-plugin:0.42.0.</p>\n<p>What am I doing wrong?\nHere is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.10&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.optimagrowth&lt;/groupId&gt;\n    &lt;artifactId&gt;licensing-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Microservices1&lt;/name&gt;\n    &lt;description&gt;Microservices1&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;docker.image.prefix&gt;ostock&lt;/docker.image.prefix&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.22&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;!-- This plugin is used to create a docker image and publish the image to docker hub--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.fabric8&lt;/groupId&gt;\n                &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.42.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt;\n                    &lt;tag&gt;${project.version}&lt;/tag&gt;\n                    &lt;buildArgs&gt;\n                        &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt;\n                    &lt;/buildArgs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default&lt;/id&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                            &lt;goal&gt;push&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Also I tried to add dockerfile-maven plugin, but I got the same error: Cannot resolve plugin com.spotify:dockerfile-maven-plugin:1.4.13.</p>\n"},{"tags":["java","awt","x11"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1680711573,"post_id":75941817,"comment_id":133945763,"body_markdown":"Looks like you haven&#39;t installed zthe x11 components of you OS","body":"Looks like you haven&#39;t installed zthe x11 components of you OS"},{"owner":{"account_id":28224593,"reputation":29,"user_id":21574817,"display_name":"jlan"},"score":0,"creation_date":1680711930,"post_id":75941817,"comment_id":133945855,"body_markdown":"I have installed X11 and it works if I type startx","body":"I have installed X11 and it works if I type startx"},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1680717073,"post_id":75941817,"comment_id":133947059,"body_markdown":"Does this answer your question? [Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable](https://stackoverflow.com/questions/10165761/java-cant-connect-to-x11-window-server-using-localhost10-0-as-the-value-of-t)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10165761/java-cant-connect-to-x11-window-server-using-localhost10-0-as-the-value-of-t\">Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable</a>"},{"owner":{"account_id":28224593,"reputation":29,"user_id":21574817,"display_name":"jlan"},"score":0,"creation_date":1680770781,"post_id":75941817,"comment_id":133955504,"body_markdown":"Won&#39;t work, but thanks anyways","body":"Won&#39;t work, but thanks anyways"}],"answers":[{"tags":[],"owner":{"account_id":12902766,"reputation":173,"user_id":9331018,"display_name":"M Virts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680712983,"creation_date":1680712983,"answer_id":75942023,"question_id":75941817,"body_markdown":"Based on the localhost:10.0 value of DISPLAY, it seems likely that you are connecting to the raspberry pi via SSH and your SSH client is attempting to do X forwarding (allowing remote programs to open windows on your local computer). Disable X forwarding in your SSH client or set your DISPLAY variable to something else to avoid this. I would try `export DISPLAY=:0` as a starting point for testing.\r\n\r\nIf that doesn&#39;t help, try running a known X application like `xterm` to see if it will connect to the X server and create a window. If this fails, you may need to fix your X server configuration, or an X server may not be running.\r\n\r\nIf that succeeds, check the DISPLAY variable that works for the other program (`echo $DISPLAY`) and try using whatever value is set there. (e.g. `export DISPLAY=:0`)\r\n\r\nNote that X display numbers usually correspond to a TCP port number where the X server is listening. The display number is 6000 less than the port number, so display 0 listens on port 6000, display 10 listens on 6010. This means you can use a command like `netstat -tlp` to list out programs that are listening on specific ports and check if anything is listening on port 6010, corresponding to localhost:10.0 in your DISPLAY variable. If the process listening on 6010 is ssh, your client is attempting to provide X forwarding.\r\n\r\nAlso note that on most systems X servers have an authentication mechanism that prevents users that didn&#39;t start a session from connecting. (look up XAuthority file for more info) Usually the root user can open windows on any X server, so it may be worth trying as the root user to test.\r\n\r\n\r\n\r\n","title":"java.awt.AWTError: Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>Based on the localhost:10.0 value of DISPLAY, it seems likely that you are connecting to the raspberry pi via SSH and your SSH client is attempting to do X forwarding (allowing remote programs to open windows on your local computer). Disable X forwarding in your SSH client or set your DISPLAY variable to something else to avoid this. I would try <code>export DISPLAY=:0</code> as a starting point for testing.</p>\n<p>If that doesn't help, try running a known X application like <code>xterm</code> to see if it will connect to the X server and create a window. If this fails, you may need to fix your X server configuration, or an X server may not be running.</p>\n<p>If that succeeds, check the DISPLAY variable that works for the other program (<code>echo $DISPLAY</code>) and try using whatever value is set there. (e.g. <code>export DISPLAY=:0</code>)</p>\n<p>Note that X display numbers usually correspond to a TCP port number where the X server is listening. The display number is 6000 less than the port number, so display 0 listens on port 6000, display 10 listens on 6010. This means you can use a command like <code>netstat -tlp</code> to list out programs that are listening on specific ports and check if anything is listening on port 6010, corresponding to localhost:10.0 in your DISPLAY variable. If the process listening on 6010 is ssh, your client is attempting to provide X forwarding.</p>\n<p>Also note that on most systems X servers have an authentication mechanism that prevents users that didn't start a session from connecting. (look up XAuthority file for more info) Usually the root user can open windows on any X server, so it may be worth trying as the root user to test.</p>\n"},{"tags":[],"owner":{"account_id":28224593,"reputation":29,"user_id":21574817,"display_name":"jlan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680789985,"creation_date":1680789985,"answer_id":75950453,"question_id":75941817,"body_markdown":"I just got it, it was as simple as writing `sudo java -jar` instead of `java -jar`, not sure why but it works now","title":"java.awt.AWTError: Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>I just got it, it was as simple as writing <code>sudo java -jar</code> instead of <code>java -jar</code>, not sure why but it works now</p>\n"}],"owner":{"account_id":28224593,"reputation":29,"user_id":21574817,"display_name":"jlan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2103,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75950453,"answer_count":2,"score":0,"last_activity_date":1680789985,"creation_date":1680711418,"question_id":75941817,"body_markdown":"I have a problem working connecting to X11 and DISPLAY variable\r\n\r\n\r\nI&#39;m working with a Java file in my Raspberry Pi Zero that is using JFrame and I want the window created by JFrame to show up in a monitor that is connected to my Raspberry, but I keep getting this exception. Any ideas? I&#39;m working with Java OpenJDK version &quot;1.8.0_312&quot;\r\n\r\n```none\r\nException in thread &quot;main&quot; java.awt.AWTError: Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable.\r\n    at sun.awt.X11GraphicsEnvironment.initDisplay(Native Method)\r\n    at sun.awt.X11GraphicsEnvironment.access$200(X11GraphicsEnvironment.java:65)\r\n    at sun.awt.X11GraphicsEnvironment$1.run(X11GraphicsEnvironment.java:115)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at sun.awt.X11GraphicsEnvironment.&lt;clinit&gt;(X11GraphicsEnvironment.java:74)\r\n    at java.lang.Class.forName0(Native Method)\r\n    at java.lang.Class.forName(Class.java:264)\r\n    at java.awt.GraphicsEnvironment.createGE(GraphicsEnvironment.java:103)\r\n    at java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(GraphicsEnvironment.java:82)\r\n    at java.awt.Window.initGC(Window.java:475)\r\n    at java.awt.Window.init(Window.java:495)\r\n    at java.awt.Window.&lt;init&gt;(Window.java:537)\r\n    at java.awt.Frame.&lt;init&gt;(Frame.java:420)\r\n    at javax.swing.JFrame.&lt;init&gt;(JFrame.java:233)\r\n    at Prueba.main(Prueba.java:5)\r\n```\r\n\r\nI tried to start xterm or xhost to check everything was working fine but I have this problem:\r\n\r\n```none\r\nNo protocol specified\r\nxterm: Xt error: Can&#39;t open display: :0\r\n```\r\n\r\nI am using Putty as my SSH client.","title":"java.awt.AWTError: Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>I have a problem working connecting to X11 and DISPLAY variable</p>\n<p>I'm working with a Java file in my Raspberry Pi Zero that is using JFrame and I want the window created by JFrame to show up in a monitor that is connected to my Raspberry, but I keep getting this exception. Any ideas? I'm working with Java OpenJDK version &quot;1.8.0_312&quot;</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.awt.AWTError: Can't connect to X11 window server using 'localhost:10.0' as the value of the DISPLAY variable.\n    at sun.awt.X11GraphicsEnvironment.initDisplay(Native Method)\n    at sun.awt.X11GraphicsEnvironment.access$200(X11GraphicsEnvironment.java:65)\n    at sun.awt.X11GraphicsEnvironment$1.run(X11GraphicsEnvironment.java:115)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.awt.X11GraphicsEnvironment.&lt;clinit&gt;(X11GraphicsEnvironment.java:74)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at java.awt.GraphicsEnvironment.createGE(GraphicsEnvironment.java:103)\n    at java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(GraphicsEnvironment.java:82)\n    at java.awt.Window.initGC(Window.java:475)\n    at java.awt.Window.init(Window.java:495)\n    at java.awt.Window.&lt;init&gt;(Window.java:537)\n    at java.awt.Frame.&lt;init&gt;(Frame.java:420)\n    at javax.swing.JFrame.&lt;init&gt;(JFrame.java:233)\n    at Prueba.main(Prueba.java:5)\n</code></pre>\n<p>I tried to start xterm or xhost to check everything was working fine but I have this problem:</p>\n<pre class=\"lang-none prettyprint-override\"><code>No protocol specified\nxterm: Xt error: Can't open display: :0\n</code></pre>\n<p>I am using Putty as my SSH client.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680790119,"post_id":75950060,"comment_id":133960003,"body_markdown":"I wouldn&#39;t expect it. What makes you think you can change the metadata through modifying the map? If you are already generating the code why modify it afterwards, feels weird to me (although the whole construct feels weird to me but that is something else).","body":"I wouldn&#39;t expect it. What makes you think you can change the metadata through modifying the map? If you are already generating the code why modify it afterwards, feels weird to me (although the whole construct feels weird to me but that is something else)."}],"owner":{"account_id":24774918,"reputation":11,"user_id":18658548,"display_name":"Amit Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680789849,"creation_date":1680787461,"question_id":75950060,"body_markdown":"I am trying to create wrapper for integrating multiple databases in spring boot.\r\nIn order to scan Repositories, i am creating Configuration class file annotated with @EnableJpaRepositories at runtime.\r\n\r\nSteps : \r\n1. Read multiple database configurations for some config file.\r\n2. Create @Configuration class file  for each database at runtime\r\n3. Register this configuration bean in spring boot at runtime.\r\n\r\nBelow is my code : \r\n\r\nMy dynamically created @Configuration class file at runtime from template looks something this : \r\n\r\n\r\n```\r\n@Configuration\r\n@Component\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories\r\npublic class TESTDBJpaConfig {\r\n\r\n\t@Autowired\r\n    private LoadTimeWeaver loadTimeWeaver;\r\n\r\n\t@Bean(&quot;testdbdatasource&quot;)\r\n    public DataSource clusterDataSource() throws Exception {\r\n       \r\n\t\t// Initalizing datasource as per config value : say testDataSOurce    \r\n        return testDataSOurce;\r\n    }\r\n\r\n    @Bean(&quot;testentitymanager&quot;)\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() throws Exception {\r\n    \tLocalContainerEntityManagerFactoryBean entityManagerFactory = new LocalContainerEntityManagerFactoryBean();\r\n    \tentityManagerFactory.setDataSource(clusterDataSource());\r\n\t\tentityManagerFactory.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n\r\n\t\tString packageName = &quot;&quot;; // package name picked from config\r\n\t\tentityManagerFactory.setPackagesToScan(packageName);\r\n\r\n\t\tentityManagerFactory.setLoadTimeWeaver(loadTimeWeaver);\r\n\r\n        return entityManagerFactory;\r\n    }\r\n\r\n    @Bean(&quot;testtxnmanager&quot;)\r\n    public PlatformTransactionManager transactionManager() throws Exception {\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n\t    transactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\r\n\t    return transactionManager;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI am modifying the attributes of @EnableJpaRepositories at runtime and then registering the bean. Below is the code for that :\r\n\r\n\r\n```\r\n@Component\r\npublic class DatabasePostProcessor implements BeanFactoryPostProcessor {\r\n    @Override\r\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n        try {\r\n        \t\tString generatedCode = &quot;// Sample code for @COnfiguration class show above is this string&quot;\r\n            \tString className = &quot;com.example.database.TESTDBJpaConfig&quot;;\r\n                Class&lt;?&gt; generatedClass = InMemoryJavaCompiler.newInstance().compile(className, generatedCode);\r\n                \r\n                // Update @EnableJpaRepositories annotation with correct values\r\n                updateJpaAnnotation(generatedClass);\r\n\r\n                // register the bean here\r\n                BeanDefinitionRegistry registry = ((BeanDefinitionRegistry )beanFactory);\r\n                GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\r\n                beanDefinition.setBeanClass(generatedClass);\r\n                beanDefinition.setLazyInit(false);\r\n                beanDefinition.setAbstract(false);\r\n                beanDefinition.setAutowireCandidate(true);\r\n                registry.registerBeanDefinition(className,beanDefinition);\r\n                beanDefinition.getBeanClass().newInstance();\r\n\r\n        } catch (Exception exp) {\r\n            log.error(&quot;Unable to setup database&quot;);\r\n        }\r\n    }\r\n\r\n    private void updateJpaAnnotation(Class&lt;?&gt; generatedClass) throws Exception {\r\n        Method method = Class.class.getDeclaredMethod(&quot;annotationData&quot;, null);\r\n        method.setAccessible(true);\r\n        Object annotationData = method.invoke(generatedClass, null);\r\n        Field declaredAnnotations = annotationData.getClass().getDeclaredField(&quot;declaredAnnotations&quot;);\r\n        declaredAnnotations.setAccessible(true);\r\n        Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt; annotations = (Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt;) declaredAnnotations.get(annotationData);\r\n        Annotation oldJpaAnnotation = annotations.get(EnableJpaRepositories.class);\r\n        Annotation newJpaAnnotation = new EnableJpaRepositories(){\r\n            @Override\r\n            public Class&lt;? extends Annotation&gt; annotationType() {\r\n                return oldJpaAnnotation.annotationType();\r\n            }\r\n            @Override\r\n            public String[] basePackages() {\r\n                return // Base package from config;\r\n            }\r\n            @Override\r\n            public String entityManagerFactoryRef() {\r\n                return &quot;testentitymanager&quot;;\r\n            }\r\n\r\n            @Override\r\n            public String transactionManagerRef() {\r\n                return &quot;testtxnmanager&quot;;\r\n            }\r\n            // rest of the code\r\n        };\r\n        annotations.put(EnableJpaRepositories.class, newJpaAnnotation);\r\n    }\r\n}\r\n```\r\n\r\nProblem is : when i am running the code bean is getting registered, but code erros out when i @Autowire any repository class. It says &quot;required a bean of type XYZ Repository not found&quot;.\r\n\r\nIdeally when the bean is registered @EnableJpaRepositories with updated basePackages attribute it should have scanned them right ?\r\n\r\n\r\nPlease help me here, what am i doing wrong here","title":"How to register dynamically created class file for @EnableJpaRepository","body":"<p>I am trying to create wrapper for integrating multiple databases in spring boot.\nIn order to scan Repositories, i am creating Configuration class file annotated with @EnableJpaRepositories at runtime.</p>\n<p>Steps :</p>\n<ol>\n<li>Read multiple database configurations for some config file.</li>\n<li>Create @Configuration class file  for each database at runtime</li>\n<li>Register this configuration bean in spring boot at runtime.</li>\n</ol>\n<p>Below is my code :</p>\n<p>My dynamically created @Configuration class file at runtime from template looks something this :</p>\n<pre><code>@Configuration\n@Component\n@EnableTransactionManagement\n@EnableJpaRepositories\npublic class TESTDBJpaConfig {\n\n    @Autowired\n    private LoadTimeWeaver loadTimeWeaver;\n\n    @Bean(&quot;testdbdatasource&quot;)\n    public DataSource clusterDataSource() throws Exception {\n       \n        // Initalizing datasource as per config value : say testDataSOurce    \n        return testDataSOurce;\n    }\n\n    @Bean(&quot;testentitymanager&quot;)\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() throws Exception {\n        LocalContainerEntityManagerFactoryBean entityManagerFactory = new LocalContainerEntityManagerFactoryBean();\n        entityManagerFactory.setDataSource(clusterDataSource());\n        entityManagerFactory.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n\n        String packageName = &quot;&quot;; // package name picked from config\n        entityManagerFactory.setPackagesToScan(packageName);\n\n        entityManagerFactory.setLoadTimeWeaver(loadTimeWeaver);\n\n        return entityManagerFactory;\n    }\n\n    @Bean(&quot;testtxnmanager&quot;)\n    public PlatformTransactionManager transactionManager() throws Exception {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\n        return transactionManager;\n    }\n}\n</code></pre>\n<p>I am modifying the attributes of @EnableJpaRepositories at runtime and then registering the bean. Below is the code for that :</p>\n<pre><code>@Component\npublic class DatabasePostProcessor implements BeanFactoryPostProcessor {\n    @Override\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n        try {\n                String generatedCode = &quot;// Sample code for @COnfiguration class show above is this string&quot;\n                String className = &quot;com.example.database.TESTDBJpaConfig&quot;;\n                Class&lt;?&gt; generatedClass = InMemoryJavaCompiler.newInstance().compile(className, generatedCode);\n                \n                // Update @EnableJpaRepositories annotation with correct values\n                updateJpaAnnotation(generatedClass);\n\n                // register the bean here\n                BeanDefinitionRegistry registry = ((BeanDefinitionRegistry )beanFactory);\n                GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\n                beanDefinition.setBeanClass(generatedClass);\n                beanDefinition.setLazyInit(false);\n                beanDefinition.setAbstract(false);\n                beanDefinition.setAutowireCandidate(true);\n                registry.registerBeanDefinition(className,beanDefinition);\n                beanDefinition.getBeanClass().newInstance();\n\n        } catch (Exception exp) {\n            log.error(&quot;Unable to setup database&quot;);\n        }\n    }\n\n    private void updateJpaAnnotation(Class&lt;?&gt; generatedClass) throws Exception {\n        Method method = Class.class.getDeclaredMethod(&quot;annotationData&quot;, null);\n        method.setAccessible(true);\n        Object annotationData = method.invoke(generatedClass, null);\n        Field declaredAnnotations = annotationData.getClass().getDeclaredField(&quot;declaredAnnotations&quot;);\n        declaredAnnotations.setAccessible(true);\n        Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt; annotations = (Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt;) declaredAnnotations.get(annotationData);\n        Annotation oldJpaAnnotation = annotations.get(EnableJpaRepositories.class);\n        Annotation newJpaAnnotation = new EnableJpaRepositories(){\n            @Override\n            public Class&lt;? extends Annotation&gt; annotationType() {\n                return oldJpaAnnotation.annotationType();\n            }\n            @Override\n            public String[] basePackages() {\n                return // Base package from config;\n            }\n            @Override\n            public String entityManagerFactoryRef() {\n                return &quot;testentitymanager&quot;;\n            }\n\n            @Override\n            public String transactionManagerRef() {\n                return &quot;testtxnmanager&quot;;\n            }\n            // rest of the code\n        };\n        annotations.put(EnableJpaRepositories.class, newJpaAnnotation);\n    }\n}\n</code></pre>\n<p>Problem is : when i am running the code bean is getting registered, but code erros out when i @Autowire any repository class. It says &quot;required a bean of type XYZ Repository not found&quot;.</p>\n<p>Ideally when the bean is registered @EnableJpaRepositories with updated basePackages attribute it should have scanned them right ?</p>\n<p>Please help me here, what am i doing wrong here</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":28232007,"reputation":21,"user_id":21581084,"display_name":"Pooja Wagh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680789724,"creation_date":1680784593,"question_id":75949597,"body_markdown":"how to find out when polygon overlapping each other on google map using java android studio \r\n\r\nim searching on google no of time but i didn&#39;t found perfect ans","title":"How to solve polygon overlapping each other on google map using java in android studio?","body":"<p>how to find out when polygon overlapping each other on google map using java android studio</p>\n<p>im searching on google no of time but i didn't found perfect ans</p>\n"},{"tags":["java","android","flutter","kotlin","android-bluetooth"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680115424,"post_id":75877274,"comment_id":133844507,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":12925501,"reputation":171,"user_id":9346402,"display_name":"tobi1805"},"score":0,"creation_date":1680266411,"post_id":75877274,"comment_id":133873433,"body_markdown":"https://developer.android.com/guide/topics/connectivity/bluetooth/find-bluetooth-devices#discover-devices","body":"<a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/find-bluetooth-devices#discover-devices\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/connectivity/bluetooth/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27446708,"reputation":21,"user_id":20940306,"display_name":"Mohib Ul Rehman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680789369,"creation_date":1680773063,"answer_id":75947878,"question_id":75877274,"body_markdown":"I got the solution, The problem was with device as well and still (the problem comes rarely) but code is working fine now for my devices as well. There may be delay in scanning some devices. i.e. 3 devices scanned with no time and other one or two devices take time to scan. Some time broadcast receiver missed to invoke, that&#39;s why time to get an end.\r\n\r\nFollowing is the broadcast receiver which will return Bluetooth device.\r\n\r\n\r\n    class FoundDeviceReceiver(\r\n        private val onDeviceFound: (BluetoothDevice) -&gt; Unit\r\n    ): BroadcastReceiver() {\r\n\r\n    override fun onReceive(context: Context?, intent: Intent?) {\r\n        when(intent?.action) {\r\n            BluetoothDevice.ACTION_FOUND -&gt; {\r\n                val device = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\r\n                    intent.getParcelableExtra(\r\n                        BluetoothDevice.EXTRA_DEVICE,\r\n                        BluetoothDevice::class.java\r\n                    )\r\n                } else {\r\n                    intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE)\r\n                }\r\n                device?.let(onDeviceFound)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nFollowing is the method to register broadcast receiver and start discovery. We also have to unregister the broadcast receiver according to our requirements.\r\n\r\n \r\n\r\n    override fun startDiscovery() {\r\n            if (!hasPermission(Manifest.permission.BLUETOOTH_SCAN)) {\r\n                return\r\n            }\r\n\r\n        context.registerReceiver(\r\n            foundDeviceReceiver, IntentFilter(BluetoothDevice.ACTION_FOUND)\r\n        )\r\n\r\n    \r\n        bluetoothAdapter?.startDiscovery()\r\n    }\r\n\r\n\r\n `bluetoothAdapter?.startDiscovery()` is the build in method, which will invoke the registered broadcast receiver and we will successfully receive Bluetooth devices.\r\n\r\nIf someone will have still problem then he can comment, I will be happy to respond.","title":"Get list of unpaired Bluetooth devices","body":"<p>I got the solution, The problem was with device as well and still (the problem comes rarely) but code is working fine now for my devices as well. There may be delay in scanning some devices. i.e. 3 devices scanned with no time and other one or two devices take time to scan. Some time broadcast receiver missed to invoke, that's why time to get an end.</p>\n<p>Following is the broadcast receiver which will return Bluetooth device.</p>\n<pre><code>class FoundDeviceReceiver(\n    private val onDeviceFound: (BluetoothDevice) -&gt; Unit\n): BroadcastReceiver() {\n\noverride fun onReceive(context: Context?, intent: Intent?) {\n    when(intent?.action) {\n        BluetoothDevice.ACTION_FOUND -&gt; {\n            val device = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\n                intent.getParcelableExtra(\n                    BluetoothDevice.EXTRA_DEVICE,\n                    BluetoothDevice::class.java\n                )\n            } else {\n                intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE)\n            }\n            device?.let(onDeviceFound)\n        }\n    }\n}\n</code></pre>\n<p>Following is the method to register broadcast receiver and start discovery. We also have to unregister the broadcast receiver according to our requirements.</p>\n<pre><code>override fun startDiscovery() {\n        if (!hasPermission(Manifest.permission.BLUETOOTH_SCAN)) {\n            return\n        }\n\n    context.registerReceiver(\n        foundDeviceReceiver, IntentFilter(BluetoothDevice.ACTION_FOUND)\n    )\n\n\n    bluetoothAdapter?.startDiscovery()\n}\n</code></pre>\n<p><code>bluetoothAdapter?.startDiscovery()</code> is the build in method, which will invoke the registered broadcast receiver and we will successfully receive Bluetooth devices.</p>\n<p>If someone will have still problem then he can comment, I will be happy to respond.</p>\n"}],"owner":{"account_id":27446708,"reputation":21,"user_id":20940306,"display_name":"Mohib Ul Rehman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680789369,"creation_date":1680093229,"question_id":75877274,"body_markdown":"How to get(scan) list of unpaired Bluetooth devices in android? meaning have to scan nearby devices. Would you please help in this regard.\r\n\r\nI know how to find(scan) paired devices and do all things(socket, connection, server, communication etc) with pared devices but unable to find(scan) nearby Bluetooth devices programmatically. I hope you people will understand my problem and help accordingly.\r\n\r\n\r\n\r\nI want to scan for list of unpaired Bluetooth devices.","title":"Get list of unpaired Bluetooth devices","body":"<p>How to get(scan) list of unpaired Bluetooth devices in android? meaning have to scan nearby devices. Would you please help in this regard.</p>\n<p>I know how to find(scan) paired devices and do all things(socket, connection, server, communication etc) with pared devices but unable to find(scan) nearby Bluetooth devices programmatically. I hope you people will understand my problem and help accordingly.</p>\n<p>I want to scan for list of unpaired Bluetooth devices.</p>\n"},{"tags":["java","tomcat","memory-leaks"],"comments":[{"owner":{"account_id":265077,"reputation":3398,"user_id":551804,"accept_rate":100,"display_name":"David"},"score":0,"creation_date":1456999454,"post_id":28105803,"comment_id":59209613,"body_markdown":"http://docs.oracle.com/cd/E17952_01/connector-j-relnotes-en/news-5-1-23.html","body":"<a href=\"http://docs.oracle.com/cd/E17952_01/connector-j-relnotes-en/news-5-1-23.html\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E17952_01/connector-j-relnotes-en/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5144658,"reputation":324,"user_id":4120980,"display_name":"Ravi Chhatrala"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1422004240,"creation_date":1422004240,"answer_id":28106401,"question_id":28105803,"body_markdown":"I think your problem is similar to [this][1]. When you redeploy the app, apache deploys it incrementally on itself where `system.gc();` do not work and after few redeployment in developing phase the permanent generated space gets full and you get memory leak error. \r\n\r\nPlease keep restarting your server after few redeployment, so the PermGen space can be cleared with a restart.\r\n\r\nOr \r\n\r\na you can also solve it by changing the PermGen space in server.\r\nPlease visit [here][2].\r\n\r\nI hope this will help you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7683434/permgen-space-error-glassfish-server\r\n  [2]: http://www.mkyong.com/tomcat/tomcat-javalangoutofmemoryerror-permgen-space/","title":"Tomcat8 memory leak","body":"<p>I think your problem is similar to <a href=\"https://stackoverflow.com/questions/7683434/permgen-space-error-glassfish-server\">this</a>. When you redeploy the app, apache deploys it incrementally on itself where <code>system.gc();</code> do not work and after few redeployment in developing phase the permanent generated space gets full and you get memory leak error. </p>\n\n<p>Please keep restarting your server after few redeployment, so the PermGen space can be cleared with a restart.</p>\n\n<p>Or </p>\n\n<p>a you can also solve it by changing the PermGen space in server.\nPlease visit <a href=\"http://www.mkyong.com/tomcat/tomcat-javalangoutofmemoryerror-permgen-space/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>I hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":3054958,"reputation":14923,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1680789355,"creation_date":1422005646,"answer_id":28106807,"question_id":28105803,"body_markdown":"There is nothing to worry about. This is a standard message tomcat outputs when it detects the application has started its own `Thread` or created a `ThreadLocal`. If you terminate the thread on shutdown and remove the *threadlocals* when they are no longer needed, then there will be no problem. \r\n\r\n&gt; Why would I get all this memory leaks errors? as well, when I run\r\n&gt; shutdown, it doesn&#39;t shut it down, I have to manually kill the\r\n&gt; process.\r\n\r\nI&#39;ve seen this behavior, when an application has started `ScheduledExecutor` (but this will happen with any other `Thread`/`TheadPool`) and didn&#39;t shut it down on `contextDestroyed`. So check if you are shutting down your threads on application/server stop.\r\n\r\n\r\n**Now on your concrete problem** why the server doesn&#39;t stop:\r\nJDBC drivers are registered in the JVM as singletons, and are shared with all webapps. More info [here.][1] The best solution to your problem is to move the MySQL driver from the webapp&#39;s `WEB-INF/lib` into Tomcat&#39;s `/lib` folder. If you cannot do that you can try [this][2] but it&#39;s more like a hack than a real solution.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6981564/why-jdbc-driver-must-been-put-in-tomcat-home-lib-folder/7198049#7198049\r\n  [2]: http://techblog.ralph-schuster.eu/2014/07/09/solution-to-tomcat-cant-stop-an-abandoned-connection-cleanup-thread/","title":"Tomcat8 memory leak","body":"<p>There is nothing to worry about. This is a standard message tomcat outputs when it detects the application has started its own <code>Thread</code> or created a <code>ThreadLocal</code>. If you terminate the thread on shutdown and remove the <em>threadlocals</em> when they are no longer needed, then there will be no problem.</p>\n<blockquote>\n<p>Why would I get all this memory leaks errors? as well, when I run\nshutdown, it doesn't shut it down, I have to manually kill the\nprocess.</p>\n</blockquote>\n<p>I've seen this behavior, when an application has started <code>ScheduledExecutor</code> (but this will happen with any other <code>Thread</code>/<code>TheadPool</code>) and didn't shut it down on <code>contextDestroyed</code>. So check if you are shutting down your threads on application/server stop.</p>\n<p><strong>Now on your concrete problem</strong> why the server doesn't stop:\nJDBC drivers are registered in the JVM as singletons, and are shared with all webapps. More info <a href=\"https://stackoverflow.com/questions/6981564/why-jdbc-driver-must-been-put-in-tomcat-home-lib-folder/7198049#7198049\">here.</a> The best solution to your problem is to move the MySQL driver from the webapp's <code>WEB-INF/lib</code> into Tomcat's <code>/lib</code> folder. If you cannot do that you can try <a href=\"http://techblog.ralph-schuster.eu/2014/07/09/solution-to-tomcat-cant-stop-an-abandoned-connection-cleanup-thread/\" rel=\"nofollow noreferrer\">this</a> but it's more like a hack than a real solution.</p>\n"}],"owner":{"account_id":97482,"reputation":14027,"user_id":264419,"accept_rate":89,"display_name":"Dejell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131489,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":28106807,"answer_count":2,"score":25,"last_activity_date":1680789355,"creation_date":1422001806,"question_id":28105803,"body_markdown":"When I try to stop tomcat8 on Java 8, I get a few memory leaks errors:\r\n\r\n    org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [Abandoned connection cleanup thread] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     java.lang.Object.wait(Native Method)\r\n     java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:142)\r\n     com.mysql.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:40)\r\n    23-Jan-2015 08:18:10.202 WARNING [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [pool-5-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread\r\n\r\n\r\n    23-Jan-2015 08:18:10.205 SEVERE [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [com.util.ThreadLocalProperties$1] (value [com.util.ThreadLocalProperties$1@2fafda6e]) and a value of type [java.util.Properties] (value [{}]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n\r\nThe class ThreadLocalProperties is:\r\n\r\n    public class ThreadLocalProperties extends Properties {\r\n    \r\n    \tprivate static final long serialVersionUID = -4260632266508618756L;\r\n    \tprivate final ThreadLocal&lt;Properties&gt; localProperties = new ThreadLocal&lt;Properties&gt;() {\r\n    \t\t@Override\r\n    \t\tprotected Properties initialValue() {\r\n    \t\t\treturn new Properties();\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tpublic ThreadLocalProperties(Properties properties) {\r\n    \t\tsuper(properties);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getProperty(String key) {\r\n    \t\tString localValue = localProperties.get().getProperty(key);\r\n    \t\treturn localValue == null ? super.getProperty(key) : localValue;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object setProperty(String key, String value) {\r\n    \t\treturn localProperties.get().setProperty(key, value);\r\n    \t}\r\n    \r\n    \tpublic ThreadLocal&lt;Properties&gt; getThreadLocal() {\r\n    \t\treturn localProperties;\r\n    \t}\r\n    }\r\n\r\nand I start and stop it like this:\r\n\r\n    @WebListener()\r\n    public class GeneralListener implements ServletContextListener {\r\n    \r\n    \tThreadLocalProperties threadLocalProperties = new ThreadLocalProperties(System.getProperties());\r\n    \r\n    \t@Override\r\n    \tpublic void contextDestroyed(ServletContextEvent arg0) {\r\n    \t\tthreadLocalProperties.getThreadLocal().remove();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void contextInitialized(ServletContextEvent arg0) {\r\n    \t\tSystem.setProperties(threadLocalProperties);\r\n    \t}\r\n    }\r\n\r\nWhy would i get all this memory leaks errors? as well, when I run shutdown, it doesn&#39;t shut it down, I have to manually kill the process.\r\n\r\nWhat is wrong?","title":"Tomcat8 memory leak","body":"<p>When I try to stop tomcat8 on Java 8, I get a few memory leaks errors:</p>\n\n<pre><code>org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [Abandoned connection cleanup thread] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.lang.Object.wait(Native Method)\n java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:142)\n com.mysql.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:40)\n23-Jan-2015 08:18:10.202 WARNING [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [pool-5-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread\n\n\n23-Jan-2015 08:18:10.205 SEVERE [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [com.util.ThreadLocalProperties$1] (value [com.util.ThreadLocalProperties$1@2fafda6e]) and a value of type [java.util.Properties] (value [{}]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n</code></pre>\n\n<p>The class ThreadLocalProperties is:</p>\n\n<pre><code>public class ThreadLocalProperties extends Properties {\n\n    private static final long serialVersionUID = -4260632266508618756L;\n    private final ThreadLocal&lt;Properties&gt; localProperties = new ThreadLocal&lt;Properties&gt;() {\n        @Override\n        protected Properties initialValue() {\n            return new Properties();\n        }\n    };\n\n    public ThreadLocalProperties(Properties properties) {\n        super(properties);\n    }\n\n    @Override\n    public String getProperty(String key) {\n        String localValue = localProperties.get().getProperty(key);\n        return localValue == null ? super.getProperty(key) : localValue;\n    }\n\n    @Override\n    public Object setProperty(String key, String value) {\n        return localProperties.get().setProperty(key, value);\n    }\n\n    public ThreadLocal&lt;Properties&gt; getThreadLocal() {\n        return localProperties;\n    }\n}\n</code></pre>\n\n<p>and I start and stop it like this:</p>\n\n<pre><code>@WebListener()\npublic class GeneralListener implements ServletContextListener {\n\n    ThreadLocalProperties threadLocalProperties = new ThreadLocalProperties(System.getProperties());\n\n    @Override\n    public void contextDestroyed(ServletContextEvent arg0) {\n        threadLocalProperties.getThreadLocal().remove();\n    }\n\n    @Override\n    public void contextInitialized(ServletContextEvent arg0) {\n        System.setProperties(threadLocalProperties);\n    }\n}\n</code></pre>\n\n<p>Why would i get all this memory leaks errors? as well, when I run shutdown, it doesn't shut it down, I have to manually kill the process.</p>\n\n<p>What is wrong?</p>\n"},{"tags":["java","akka-stream"],"owner":{"account_id":21624083,"reputation":61,"user_id":15948642,"display_name":"Sigurd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680788977,"creation_date":1680788977,"question_id":75950297,"body_markdown":"I&#39;m using Akka Stream 2.6 and I want to handle a failed stream.\r\n\r\n    Source.from(...).via(business()).recover(MyException.class, elem -&gt; errorMessage())\r\n\r\nI&#39;m aware, that I can map an Exception based on mapError() and also recover to a valid element in the stream by recover(), but I&#39;ve not seen a way to get an exception and the failing element of the stream. I need the current element because there is meta information, that is necessary for handling the error correctly. ","title":"Handling Errors in Akka Streams: Using Exception and current element of the stream","body":"<p>I'm using Akka Stream 2.6 and I want to handle a failed stream.</p>\n<pre><code>Source.from(...).via(business()).recover(MyException.class, elem -&gt; errorMessage())\n</code></pre>\n<p>I'm aware, that I can map an Exception based on mapError() and also recover to a valid element in the stream by recover(), but I've not seen a way to get an exception and the failing element of the stream. I need the current element because there is meta information, that is necessary for handling the error correctly.</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680786579,"creation_date":1680784365,"answer_id":75949564,"question_id":75946451,"body_markdown":"You wrote in your question:\r\n&gt; I want to build 3 animal objects\r\n\r\nThat means you want a class named `Animal` which has three attributes, i.e.\r\n```java\r\npublic class Animal {\r\n    private String first;\r\n    private String second;\r\n    private String third;\r\n}\r\n```\r\nNote that I could not ascertain, from your question, what each attrbiute represents and therefore I named them `first`, `second` and `third`.\r\n\r\nNow you want to write a constructor for your class:\r\n```java\r\npublic Animal(String first, String second, String third) {\r\n    this.first = first;\r\n    this.second = second;\r\n    this.third = third;\r\n}\r\n```\r\nYou also wrote in your question:\r\n&gt; I want to store the animals objects in array\r\n\r\nAn array has a fixed size which you provide when you declare it. Since you are reading from a file, you probably don&#39;t know the size, hence probably better to use a [List](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html).\r\n\r\nWhen reading from a file in Java, after you have finished reading the file, you should close it. Since Java 7, there is [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html).\r\n\r\nAlso since Java 7 there is class `Files` which is part of [NIO.2](https://docs.oracle.com/javase/tutorial/essential/io/fileio.html).\r\n\r\n`StringTokenizer` is a legacy class. New code should use method `split` of class `java.lang.String`.\r\n\r\nHere is sample code that achieves what you want.\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Animal {\r\n    private String first;\r\n    private String second;\r\n    private String third;\r\n\r\n    public Animal(String first, String second, String third) {\r\n        this.first = first;\r\n        this.second = second;\r\n        this.third = third;\r\n    }\r\n\r\n    public static void getAnimalsFromTextFile() throws IOException {\r\n        List&lt;Animal&gt; animals = new ArrayList&lt;&gt;();\r\n        Path path = Paths.get(&quot;animals.txt&quot;);\r\n        try (BufferedReader inFile = Files.newBufferedReader(path)) {\r\n            String line = inFile.readLine();\r\n            while (line != null) {\r\n                String[] strings = line.split(&quot; &quot;);\r\n                Animal animal = new Animal(strings[0], strings[1], strings[2]);\r\n                animals.add(animal);\r\n                line = inFile.readLine();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nAlternatively, you could use [streams](https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html) which was introduced in Java 8.\r\n```java\r\npublic static void getAnimalsFromTextFile() throws IOException {\r\n    Path path = Paths.get(&quot;animals.txt&quot;);\r\n    try (Stream&lt;String&gt; stream = Files.lines(path)) {\r\n        List&lt;Animal&gt; animals = stream.map(line -&gt; line.split(&quot; &quot;))\r\n                                     .map(array -&gt; new Animal(array[0], array[1], array[2]))\r\n                                     .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\n","title":"Trying to read data from text data and build objects from that","body":"<p>You wrote in your question:</p>\n<blockquote>\n<p>I want to build 3 animal objects</p>\n</blockquote>\n<p>That means you want a class named <code>Animal</code> which has three attributes, i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Animal {\n    private String first;\n    private String second;\n    private String third;\n}\n</code></pre>\n<p>Note that I could not ascertain, from your question, what each attrbiute represents and therefore I named them <code>first</code>, <code>second</code> and <code>third</code>.</p>\n<p>Now you want to write a constructor for your class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Animal(String first, String second, String third) {\n    this.first = first;\n    this.second = second;\n    this.third = third;\n}\n</code></pre>\n<p>You also wrote in your question:</p>\n<blockquote>\n<p>I want to store the animals objects in array</p>\n</blockquote>\n<p>An array has a fixed size which you provide when you declare it. Since you are reading from a file, you probably don't know the size, hence probably better to use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a>.</p>\n<p>When reading from a file in Java, after you have finished reading the file, you should close it. Since Java 7, there is <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>.</p>\n<p>Also since Java 7 there is class <code>Files</code> which is part of <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow noreferrer\">NIO.2</a>.</p>\n<p><code>StringTokenizer</code> is a legacy class. New code should use method <code>split</code> of class <code>java.lang.String</code>.</p>\n<p>Here is sample code that achieves what you want.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Animal {\n    private String first;\n    private String second;\n    private String third;\n\n    public Animal(String first, String second, String third) {\n        this.first = first;\n        this.second = second;\n        this.third = third;\n    }\n\n    public static void getAnimalsFromTextFile() throws IOException {\n        List&lt;Animal&gt; animals = new ArrayList&lt;&gt;();\n        Path path = Paths.get(&quot;animals.txt&quot;);\n        try (BufferedReader inFile = Files.newBufferedReader(path)) {\n            String line = inFile.readLine();\n            while (line != null) {\n                String[] strings = line.split(&quot; &quot;);\n                Animal animal = new Animal(strings[0], strings[1], strings[2]);\n                animals.add(animal);\n                line = inFile.readLine();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Alternatively, you could use <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">streams</a> which was introduced in Java 8.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void getAnimalsFromTextFile() throws IOException {\n    Path path = Paths.get(&quot;animals.txt&quot;);\n    try (Stream&lt;String&gt; stream = Files.lines(path)) {\n        List&lt;Animal&gt; animals = stream.map(line -&gt; line.split(&quot; &quot;))\n                                     .map(array -&gt; new Animal(array[0], array[1], array[2]))\n                                     .collect(Collectors.toList());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680788474,"creation_date":1680788474,"answer_id":75950226,"question_id":75946451,"body_markdown":"Create a class that holds three animals, this will be the\r\n\r\n    class Animal {\r\n    \t\r\n    \tprivate String animal1; \r\n    \tprivate String animal2; \r\n    \tprivate String animal3;\r\n    \tpublic Animal(String animal1, String animal2, String animal3) {\r\n    \t\tsuper();\r\n    \t\tthis.animal1 = animal1;\r\n    \t\tthis.animal2 = animal2;\r\n    \t\tthis.animal3 = animal3;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Animal [animal1=&quot; + animal1 + &quot;, animal2=&quot; + animal2 + &quot;, animal3=&quot; + animal3 + &quot;]&quot;;\r\n    \t}\r\n    }\r\n\r\n**Inside your loop (while reading the file)**\r\n\r\n 1. Split the current line with space (`&quot; &quot;`) and get an array of elements.\r\n 2. Pass each array element respectively to your animal constructor.\r\n 3. Once you have the object assign it to the array with the index `cnt`.\r\n\r\n    public class AnimalManager {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\t\r\n    \t\ttry (BufferedReader inFile = new BufferedReader(new FileReader(&quot;animals.txt&quot;));) {\r\n    \t\t\t\r\n    \t\t    String line;\r\n    \t\t    int cnt = 0;\r\n    \t\t    Animal[] animalArray = new Animal[10];\r\n    \t\t    \r\n    \t\t    while ((line = inFile.readLine()) != null) {\r\n    \t\t    \t\r\n    \t\t    \tString animalsInLine[] = line.split(&quot; &quot;);\r\n    \t\t    \tanimalArray[cnt++] = new Animal(animalsInLine[0], animalsInLine[1], animalsInLine[2]);\r\n    \t\t    }\r\n    \t\t    \r\n    \t\t    System.out.println(java.util.Arrays.toString(animalArray));\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.out.println(&quot;Error while file handling : &quot; + e.getMessage());\r\n    \t\t}\r\n    \t}","title":"Trying to read data from text data and build objects from that","body":"<p>Create a class that holds three animals, this will be the</p>\n<pre><code>class Animal {\n    \n    private String animal1; \n    private String animal2; \n    private String animal3;\n    public Animal(String animal1, String animal2, String animal3) {\n        super();\n        this.animal1 = animal1;\n        this.animal2 = animal2;\n        this.animal3 = animal3;\n    }\n    @Override\n    public String toString() {\n        return &quot;Animal [animal1=&quot; + animal1 + &quot;, animal2=&quot; + animal2 + &quot;, animal3=&quot; + animal3 + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p><strong>Inside your loop (while reading the file)</strong></p>\n<ol>\n<li><p>Split the current line with space (<code>&quot; &quot;</code>) and get an array of elements.</p>\n</li>\n<li><p>Pass each array element respectively to your animal constructor.</p>\n</li>\n<li><p>Once you have the object assign it to the array with the index <code>cnt</code>.</p>\n<p>public class AnimalManager {</p>\n<pre><code>public static void main(String[] args) {\n\n\n    try (BufferedReader inFile = new BufferedReader(new FileReader(&quot;animals.txt&quot;));) {\n\n        String line;\n        int cnt = 0;\n        Animal[] animalArray = new Animal[10];\n\n        while ((line = inFile.readLine()) != null) {\n\n            String animalsInLine[] = line.split(&quot; &quot;);\n            animalArray[cnt++] = new Animal(animalsInLine[0], animalsInLine[1], animalsInLine[2]);\n        }\n\n        System.out.println(java.util.Arrays.toString(animalArray));\n    } catch (IOException e) {\n        System.out.println(&quot;Error while file handling : &quot; + e.getMessage());\n    }\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":28229229,"reputation":11,"user_id":21578700,"display_name":"Nikita Gelfman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680788474,"creation_date":1680762113,"question_id":75946451,"body_markdown":"```java\r\npublic void getAnimalsFromTextFile() throws IOException {\r\n    String file = &quot;C:\\\\Users\\\\nikit\\\\OneDrive\\\\Desktop\\\\animals.txt&quot;;\r\n    BufferedReader inFile = new BufferedReader(new FileReader(file));\r\n    String line;\r\n    int cnt = 0;\r\n    while ((line = inFile.readLine()) != null) {\r\n        StringTokenizer st = new StringTokenizer(line,&quot;&quot;);\r\n        if(st.hasMoreTokens()) {\r\n            String line1 = st.nextToken();\r\n            StringTokenizer st1 = new StringTokenizer(line1, &quot; &quot;);\r\n            while (st1.hasMoreTokens()) {\r\n                String att = st1.nextToken();\r\n                strings.add(att);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis text file is:\r\n```none\r\nJackie Jack Boston\r\nMarty Bird California\r\nDonald Duck Netherlands\r\n```\r\nI want to build 3 `Animal` objects from this file, like:\r\n```java\r\nAnimal animal =  new Animal(Jackie, Jack, Boston);\r\n```\r\nThen add them to array.\r\n \r\nIn the and I want to store the animals objects in array.\r\n","title":"Trying to read data from text data and build objects from that","body":"<pre class=\"lang-java prettyprint-override\"><code>public void getAnimalsFromTextFile() throws IOException {\n    String file = &quot;C:\\\\Users\\\\nikit\\\\OneDrive\\\\Desktop\\\\animals.txt&quot;;\n    BufferedReader inFile = new BufferedReader(new FileReader(file));\n    String line;\n    int cnt = 0;\n    while ((line = inFile.readLine()) != null) {\n        StringTokenizer st = new StringTokenizer(line,&quot;&quot;);\n        if(st.hasMoreTokens()) {\n            String line1 = st.nextToken();\n            StringTokenizer st1 = new StringTokenizer(line1, &quot; &quot;);\n            while (st1.hasMoreTokens()) {\n                String att = st1.nextToken();\n                strings.add(att);\n            }\n        }\n    }\n}\n</code></pre>\n<p>This text file is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Jackie Jack Boston\nMarty Bird California\nDonald Duck Netherlands\n</code></pre>\n<p>I want to build 3 <code>Animal</code> objects from this file, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Animal animal =  new Animal(Jackie, Jack, Boston);\n</code></pre>\n<p>Then add them to array.</p>\n<p>In the and I want to store the animals objects in array.</p>\n"},{"tags":["java","spring","hibernate","jpa","persistence"],"owner":{"account_id":14677665,"reputation":11,"user_id":10600216,"display_name":"kassem adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680788452,"creation_date":1680787711,"question_id":75950111,"body_markdown":"In my db, there is an entity that exists that has it&#39;s records partitioned in various tables named using this convention &quot;Foo_MMYYYY&quot;\r\n\r\nFor example, say I have a table to have log records of a users interaction on a website. Since these interactions happen very frequently and each time we store the interaction log in the db, a solution for this website is to have the Log entity partitioned with a set of &quot;rotated&quot; tables in our db. So every month, a new table is created (for Ex, for this month the table would be named `logs_042023`) that will contain that months set of log records. \r\n\r\nIs there a way to dynamically set the table for a JPA entity by sending in &lt;MM&gt;&lt;YYYY&gt; portion of the table name as an argument?\r\n\r\nI tried looking up JPA documentation to see if there was a way to do this to no avail. It seems that the table name cannot be dynamically altered during runtime. What other options do I have?","title":"How would I assign a JPA Entity to a set of &quot;rotated&quot; tables in database?","body":"<p>In my db, there is an entity that exists that has it's records partitioned in various tables named using this convention &quot;Foo_MMYYYY&quot;</p>\n<p>For example, say I have a table to have log records of a users interaction on a website. Since these interactions happen very frequently and each time we store the interaction log in the db, a solution for this website is to have the Log entity partitioned with a set of &quot;rotated&quot; tables in our db. So every month, a new table is created (for Ex, for this month the table would be named <code>logs_042023</code>) that will contain that months set of log records.</p>\n<p>Is there a way to dynamically set the table for a JPA entity by sending in  portion of the table name as an argument?</p>\n<p>I tried looking up JPA documentation to see if there was a way to do this to no avail. It seems that the table name cannot be dynamically altered during runtime. What other options do I have?</p>\n"},{"tags":["java","pdf","pdfbox","pdftotext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1680811629,"post_id":75947149,"comment_id":133965059,"body_markdown":"Most likely there are no spaces (as in drawn space characters) there, the text insertion point simply is repositioned. What you are looking for is text extraction that tries to keep the layout.","body":"Most likely there are no spaces (as in drawn space characters) there, the text insertion point simply is repositioned. What you are looking for is text extraction that tries to keep the layout."},{"owner":{"account_id":13915256,"reputation":1,"user_id":10047281,"display_name":"iiprateek"},"score":0,"creation_date":1680887457,"post_id":75947149,"comment_id":133976433,"body_markdown":"I just want to preserve the format of pdf using Apache pdf box with java.","body":"I just want to preserve the format of pdf using Apache pdf box with java."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1680888103,"post_id":75947149,"comment_id":133976557,"body_markdown":"Maybe you should use tabula java instead, that one can extract tables.","body":"Maybe you should use tabula java instead, that one can extract tables."},{"owner":{"account_id":13915256,"reputation":1,"user_id":10047281,"display_name":"iiprateek"},"score":0,"creation_date":1681045129,"post_id":75947149,"comment_id":133992706,"body_markdown":"@mkl yes, the character has its own coordinates that pdf renderer uses to draw text. What will be my algorithm to draw white spaces. To make that it will show space. Blank string length of width of pdf. Then calculate where the single character will take place.","body":"@mkl yes, the character has its own coordinates that pdf renderer uses to draw text. What will be my algorithm to draw white spaces. To make that it will show space. Blank string length of width of pdf. Then calculate where the single character will take place."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1681420506,"post_id":75947149,"comment_id":134057920,"body_markdown":"You may want to look at the proof-of-concept [in this answer](https://stackoverflow.com/a/45842515/1729265) (unfortunately based on PDFBox 1.8.x) or [this github project](https://github.com/JonathanLink/PDFLayoutTextStripper) based on PDFBox 2.x.","body":"You may want to look at the proof-of-concept <a href=\"https://stackoverflow.com/a/45842515/1729265\">in this answer</a> (unfortunately based on PDFBox 1.8.x) or <a href=\"https://github.com/JonathanLink/PDFLayoutTextStripper\" rel=\"nofollow noreferrer\">this github project</a> based on PDFBox 2.x."},{"owner":{"account_id":13915256,"reputation":1,"user_id":10047281,"display_name":"iiprateek"},"score":0,"creation_date":1681667588,"post_id":75947149,"comment_id":134089909,"body_markdown":"I have used the github project once. If you see carefully the picture no 2 (Data extraction from a form in a PDF file) the spaces are not formatted correctly. For one space It have 2 whitespaces in text extract. In that project first he is trying to find new line on the basis of Y position. If the position of current `TextPosition` object is greater than previous text position. Then a new line is formed. He just created the blank array of width of pdf/4 and with the location X position he is trying to fit the text into the text extract. He is also checking XprevChar + prevCharWidth == currXpos","body":"I have used the github project once. If you see carefully the picture no 2 (Data extraction from a form in a PDF file) the spaces are not formatted correctly. For one space It have 2 whitespaces in text extract. In that project first he is trying to find new line on the basis of Y position. If the position of current <code>TextPosition</code> object is greater than previous text position. Then a new line is formed. He just created the blank array of width of pdf/4 and with the location X position he is trying to fit the text into the text extract. He is also checking XprevChar + prevCharWidth == currXpos"}],"owner":{"account_id":13915256,"reputation":1,"user_id":10047281,"display_name":"iiprateek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680788080,"creation_date":1680768028,"question_id":75947149,"body_markdown":"I have a pdf like this \r\n\r\n![pdf](https://i.stack.imgur.com/aSoyx.png)\r\n\r\nbut the extracted goes like this \r\n```Hoodie with Kangaroo\r\nPocket,Light\r\nOlive,M,469168485002\r\n1475.63 364.23 1111.40 133.3761051020 2299.0\r\n```\r\n\r\nBut i want the result with the preserved multi spaces present in the document\r\n```\r\nHoodie with Kangaroo\r\nPocket,Light              61051020     2299.0     1475.63       364.23      1111.40       133.37\r\nOlive,M,469168485002\r\n```\r\n \r\n\r\nI am expecting to get the result in preserved spaces that is present in pdf ","title":"preserve multiple spaces between words using pdfbox","body":"<p>I have a pdf like this</p>\n<p><img src=\"https://i.stack.imgur.com/aSoyx.png\" alt=\"pdf\" /></p>\n<p>but the extracted goes like this</p>\n<pre><code>Pocket,Light\nOlive,M,469168485002\n1475.63 364.23 1111.40 133.3761051020 2299.0\n</code></pre>\n<p>But i want the result with the preserved multi spaces present in the document</p>\n<pre><code>Hoodie with Kangaroo\nPocket,Light              61051020     2299.0     1475.63       364.23      1111.40       133.37\nOlive,M,469168485002\n</code></pre>\n<p>I am expecting to get the result in preserved spaces that is present in pdf</p>\n"},{"tags":["java","list","sorting","comparator"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1680574771,"post_id":75924992,"comment_id":133917649,"body_markdown":"I can&#39;t understand the data structure of the maps. Also `Maps` and `MapDifference`. Need more code to see.","body":"I can&#39;t understand the data structure of the maps. Also <code>Maps</code> and <code>MapDifference</code>. Need more code to see."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1680575936,"post_id":75924992,"comment_id":133917771,"body_markdown":"What is the sort criteria for the list?","body":"What is the sort criteria for the list?"},{"owner":{"account_id":18886372,"reputation":157,"user_id":13777706,"display_name":"Blake"},"score":0,"creation_date":1680584857,"post_id":75924992,"comment_id":133918661,"body_markdown":"Sort criteria can be anything, i just need the order to be the same on both the maps","body":"Sort criteria can be anything, i just need the order to be the same on both the maps"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680787894,"creation_date":1680787894,"answer_id":75950138,"question_id":75924992,"body_markdown":"I think that this is the key:\r\n\r\n    Error: Required type: List &lt;T&gt;\r\n\r\nThe sort needs a comparable class to sort with. Try this to sort the jurisdictionTaxes:\r\n\r\n\t\tArrays.sort((JurisdictionTax[]) map1.get(&quot;jurisdictionTaxes&quot;));\r\n\r\nEg:\r\n\r\n\tstatic Map&lt;String, Object&gt; map1 = new HashMap&lt;&gt;();\r\n\r\n\tstatic {\r\n\t\tmap1.put(&quot;taxRate&quot;, &quot;rateType=EXCLUSIVE, rate=0.07&quot;);\r\n\t\tmap1.put(&quot;taxAmount&quot;, &quot;currencyCode=USD, amount=7.0&quot;);\r\n\t\tmap1.put(&quot;jurisdictionTaxes&quot;, new JurisdictionTax[] { new JurisdictionTax(new TaxRate(&quot;bbb&quot;)),\r\n\t\t\t\tnew JurisdictionTax(new TaxRate(&quot;aaa&quot;)) });\r\n\t\tmap1.put(&quot;withholdingJurisdictionTaxes&quot;, &quot;[]&quot;);\r\n\t}\r\n\r\n\tstatic Map&lt;String, Object&gt; map2 = new HashMap&lt;&gt;();\r\n\r\n\tstatic {\r\n\t\tmap2.put(&quot;taxRate&quot;, &quot;rateType=EXCLUSIVE, rate=0.07&quot;);\r\n\t\tmap2.put(&quot;taxAmount&quot;, &quot;currencyCode=USD, amount=7.0}&quot;);\r\n\t\tmap2.put(&quot;jurisdictionTaxes&quot;, new JurisdictionTax[] { new JurisdictionTax(new TaxRate(&quot;ccc&quot;)),\r\n\t\t\t\tnew JurisdictionTax(new TaxRate(&quot;aaa&quot;)) });\r\n\t\tmap2.put(&quot;withholdingJurisdictionTaxes&quot;, &quot;[]&quot;);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\tSystem.out.println(&quot;map1 before: &quot; + ((JurisdictionTax[])map1.get(&quot;jurisdictionTaxes&quot;))[0]);\r\n\tSystem.out.println(&quot;map2 before: &quot; + ((JurisdictionTax[])map2.get(&quot;jurisdictionTaxes&quot;))[0]);\r\n\t\r\n\tArrays.sort((JurisdictionTax[]) map1.get(&quot;jurisdictionTaxes&quot;));\r\n\tArrays.sort((JurisdictionTax[]) map2.get(&quot;jurisdictionTaxes&quot;));\r\n\r\n\tSystem.out.println(&quot;map1 after: &quot; + ((JurisdictionTax[])map1.get(&quot;jurisdictionTaxes&quot;))[0]);\r\n\tSystem.out.println(&quot;map2 after: &quot; +    ((JurisdictionTax[])map2.get(&quot;jurisdictionTaxes&quot;))[0]);\r\n\r\nprints:\r\n\r\n    map1 before: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=bbb, rate=null]]\r\n    map2 before: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=ccc, rate=null]]\r\n    map1 after: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=aaa, rate=null]]\r\n    map2 after: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=aaa, rate=null]]\r\n\r\nWith defined classes:\r\n\r\n\r\n    public class JurisdictionTax implements Comparable&lt;JurisdictionTax&gt; {\r\n\tpublic JurisdictionTax(TaxRate taxRate) {\r\n\t\tsuper();\r\n\t\tthis.taxRate = taxRate;\r\n\t}\r\n\tpublic String jurisdictionLevel;\r\n\tpublic TaxAmount taxAmount;\r\n\tpublic TaxRate taxRate;\r\n\tpublic String displayName;\r\n\tpublic String jurisdictionName;\r\n\tpublic String responsiblePartyReason;\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic int compareTo(JurisdictionTax other) {\r\n\t\t// incomplete\r\n\t\treturn this.taxRate.rateType.compareTo(other.taxRate.rateType);\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;JurisdictionTax [jurisdictionLevel=&quot; + jurisdictionLevel + &quot;, taxAmount=&quot; + taxAmount + &quot;, taxRate=&quot;\r\n\t\t\t\t+ taxRate + &quot;]&quot;;\r\n\t}\r\n    \t\r\n    \r\n    \r\n    }\r\n\r\n etc\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to sort List&lt;Object&gt; in a Map&lt;String, Object&gt; in Java?","body":"<p>I think that this is the key:</p>\n<pre><code>Error: Required type: List &lt;T&gt;\n</code></pre>\n<p>The sort needs a comparable class to sort with. Try this to sort the jurisdictionTaxes:</p>\n<pre><code>    Arrays.sort((JurisdictionTax[]) map1.get(&quot;jurisdictionTaxes&quot;));\n</code></pre>\n<p>Eg:</p>\n<pre><code>static Map&lt;String, Object&gt; map1 = new HashMap&lt;&gt;();\n\nstatic {\n    map1.put(&quot;taxRate&quot;, &quot;rateType=EXCLUSIVE, rate=0.07&quot;);\n    map1.put(&quot;taxAmount&quot;, &quot;currencyCode=USD, amount=7.0&quot;);\n    map1.put(&quot;jurisdictionTaxes&quot;, new JurisdictionTax[] { new JurisdictionTax(new TaxRate(&quot;bbb&quot;)),\n            new JurisdictionTax(new TaxRate(&quot;aaa&quot;)) });\n    map1.put(&quot;withholdingJurisdictionTaxes&quot;, &quot;[]&quot;);\n}\n\nstatic Map&lt;String, Object&gt; map2 = new HashMap&lt;&gt;();\n\nstatic {\n    map2.put(&quot;taxRate&quot;, &quot;rateType=EXCLUSIVE, rate=0.07&quot;);\n    map2.put(&quot;taxAmount&quot;, &quot;currencyCode=USD, amount=7.0}&quot;);\n    map2.put(&quot;jurisdictionTaxes&quot;, new JurisdictionTax[] { new JurisdictionTax(new TaxRate(&quot;ccc&quot;)),\n            new JurisdictionTax(new TaxRate(&quot;aaa&quot;)) });\n    map2.put(&quot;withholdingJurisdictionTaxes&quot;, &quot;[]&quot;);\n}\n\npublic static void main(String[] args) {\nSystem.out.println(&quot;map1 before: &quot; + ((JurisdictionTax[])map1.get(&quot;jurisdictionTaxes&quot;))[0]);\nSystem.out.println(&quot;map2 before: &quot; + ((JurisdictionTax[])map2.get(&quot;jurisdictionTaxes&quot;))[0]);\n\nArrays.sort((JurisdictionTax[]) map1.get(&quot;jurisdictionTaxes&quot;));\nArrays.sort((JurisdictionTax[]) map2.get(&quot;jurisdictionTaxes&quot;));\n\nSystem.out.println(&quot;map1 after: &quot; + ((JurisdictionTax[])map1.get(&quot;jurisdictionTaxes&quot;))[0]);\nSystem.out.println(&quot;map2 after: &quot; +    ((JurisdictionTax[])map2.get(&quot;jurisdictionTaxes&quot;))[0]);\n</code></pre>\n<p>prints:</p>\n<pre><code>map1 before: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=bbb, rate=null]]\nmap2 before: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=ccc, rate=null]]\nmap1 after: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=aaa, rate=null]]\nmap2 after: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=aaa, rate=null]]\n</code></pre>\n<p>With defined classes:</p>\n<pre><code>public class JurisdictionTax implements Comparable&lt;JurisdictionTax&gt; {\npublic JurisdictionTax(TaxRate taxRate) {\n    super();\n    this.taxRate = taxRate;\n}\npublic String jurisdictionLevel;\npublic TaxAmount taxAmount;\npublic TaxRate taxRate;\npublic String displayName;\npublic String jurisdictionName;\npublic String responsiblePartyReason;\n\n\n@Override\npublic int compareTo(JurisdictionTax other) {\n    // incomplete\n    return this.taxRate.rateType.compareTo(other.taxRate.rateType);\n}\n\n\n@Override\npublic String toString() {\n    return &quot;JurisdictionTax [jurisdictionLevel=&quot; + jurisdictionLevel + &quot;, taxAmount=&quot; + taxAmount + &quot;, taxRate=&quot;\n            + taxRate + &quot;]&quot;;\n}\n    \n\n\n}\n</code></pre>\n<p>etc</p>\n"}],"owner":{"account_id":18886372,"reputation":157,"user_id":13777706,"display_name":"Blake"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75950138,"answer_count":1,"score":1,"last_activity_date":1680787894,"creation_date":1680574103,"question_id":75924992,"body_markdown":"I have two maps, `Map&lt;String,Object&gt;` which looks like:\r\n```\r\nMap&lt;String, Object&gt; map1 = {\r\n    taxRate={rateType=EXCLUSIVE, rate=0.07}, \r\n    taxAmount={currencyCode=USD, amount=7.0},\r\n    jurisdictionTaxes=[{jurisdictionLevel=State, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=County, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=City, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=District, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}],\r\n    withholdingJurisdictionTaxes=[]\r\n}\r\n\r\nMap&lt;String, Object&gt; map2 = {\r\n    taxRate={rateType=EXCLUSIVE, rate=0.07}, \r\n    taxAmount={currencyCode=USD, amount=7.0},\r\n    jurisdictionTaxes=[{jurisdictionLevel=State, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=County, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=City, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=District, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}],\r\n    withholdingJurisdictionTaxes=[]\r\n}\r\n\r\n```\r\n\r\nI am comparing these two maps using\r\n\r\n```\r\n  Map&lt;String, Object&gt; flatMap1 = FlatMapUtil.flatten(map1);\r\n  Map&lt;String, Object&gt; flatMap2 = FlatMapUtil.flatten(map2);\r\n  MapDifference&lt;String, Object&gt; difference = Maps.difference(flatMap1, flatMap2);\r\n\r\n```\r\n\r\nHowever if you look at the second key value in the map, it is a list of objects. The order matters while calculating the diff. So I would need to sort that particular list before finding the Map.difference.\r\n\r\nCan you help me understand how I can sort this List&lt;Object&gt;?\r\n\r\nI tried the following:\r\n```\r\n1. Collections.sort(Arrays.asList(leftMap.get(&quot;jurisdictionTaxes&quot;)));\r\n\r\nError: Required type: List &lt;T&gt;\r\nProvided: List &lt;Object&gt;\r\n\r\n2. Arrays.asList(leftMap.get(&quot;jurisdictionTaxes&quot;)).sort((s1, s2) -&gt; s1.get(&quot;jurisdictionLevel&quot;) - s2.get(&quot;jurisdictionLevel&quot;));\r\n\r\nError: Cannot resolve method &#39;get&#39; in &#39;Object&#39;\r\n```\r\n\r\n\r\n```\r\n public static &lt;K, V&gt; MapDifference&lt;K, V&gt; difference(Map&lt;? extends K, ? extends V&gt; left, Map&lt;? extends K, ? extends V&gt; right) {\r\n        if (left instanceof SortedMap) {\r\n            SortedMap&lt;K, ? extends V&gt; sortedLeft = (SortedMap)left;\r\n            return difference(sortedLeft, right);\r\n        } else {\r\n            return difference(left, right, Equivalence.equals());\r\n        }\r\n    }\r\n```","title":"How to sort List&lt;Object&gt; in a Map&lt;String, Object&gt; in Java?","body":"<p>I have two maps, <code>Map&lt;String,Object&gt;</code> which looks like:</p>\n<pre><code>Map&lt;String, Object&gt; map1 = {\n    taxRate={rateType=EXCLUSIVE, rate=0.07}, \n    taxAmount={currencyCode=USD, amount=7.0},\n    jurisdictionTaxes=[{jurisdictionLevel=State, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=County, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=City, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=District, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}],\n    withholdingJurisdictionTaxes=[]\n}\n\nMap&lt;String, Object&gt; map2 = {\n    taxRate={rateType=EXCLUSIVE, rate=0.07}, \n    taxAmount={currencyCode=USD, amount=7.0},\n    jurisdictionTaxes=[{jurisdictionLevel=State, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=County, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=City, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=District, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}],\n    withholdingJurisdictionTaxes=[]\n}\n\n</code></pre>\n<p>I am comparing these two maps using</p>\n<pre><code>  Map&lt;String, Object&gt; flatMap1 = FlatMapUtil.flatten(map1);\n  Map&lt;String, Object&gt; flatMap2 = FlatMapUtil.flatten(map2);\n  MapDifference&lt;String, Object&gt; difference = Maps.difference(flatMap1, flatMap2);\n\n</code></pre>\n<p>However if you look at the second key value in the map, it is a list of objects. The order matters while calculating the diff. So I would need to sort that particular list before finding the Map.difference.</p>\n<p>Can you help me understand how I can sort this List?</p>\n<p>I tried the following:</p>\n<pre><code>1. Collections.sort(Arrays.asList(leftMap.get(&quot;jurisdictionTaxes&quot;)));\n\nError: Required type: List &lt;T&gt;\nProvided: List &lt;Object&gt;\n\n2. Arrays.asList(leftMap.get(&quot;jurisdictionTaxes&quot;)).sort((s1, s2) -&gt; s1.get(&quot;jurisdictionLevel&quot;) - s2.get(&quot;jurisdictionLevel&quot;));\n\nError: Cannot resolve method 'get' in 'Object'\n</code></pre>\n<pre><code> public static &lt;K, V&gt; MapDifference&lt;K, V&gt; difference(Map&lt;? extends K, ? extends V&gt; left, Map&lt;? extends K, ? extends V&gt; right) {\n        if (left instanceof SortedMap) {\n            SortedMap&lt;K, ? extends V&gt; sortedLeft = (SortedMap)left;\n            return difference(sortedLeft, right);\n        } else {\n            return difference(left, right, Equivalence.equals());\n        }\n    }\n</code></pre>\n"},{"tags":["java","quarkus","vert.x","smallrye"],"answers":[{"tags":[],"owner":{"account_id":427958,"reputation":548,"user_id":809984,"display_name":"jponge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680768020,"creation_date":1680768020,"answer_id":75947146,"question_id":75940219,"body_markdown":"It would be easier if you had a full reproducer project somewhere, and any error log / stack-trace would also help.\r\n\r\nThat being said I&#39;m seeing something very suspicious:\r\n\r\n```java\r\n.onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null)\r\n```\r\n\r\nThis could insert `null` values in a `Multi` stream, and that is not permitted in the _Reactive Streams_ specification that `Multi` implements.\r\nWhen a `transform` handler returns `null`, then the stream is errored.","title":"Implementation using io.vertx.mutiny in Quarkus does not change the value to be returned","body":"<p>It would be easier if you had a full reproducer project somewhere, and any error log / stack-trace would also help.</p>\n<p>That being said I'm seeing something very suspicious:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null)\n</code></pre>\n<p>This could insert <code>null</code> values in a <code>Multi</code> stream, and that is not permitted in the <em>Reactive Streams</em> specification that <code>Multi</code> implements.\nWhen a <code>transform</code> handler returns <code>null</code>, then the stream is errored.</p>\n"},{"tags":[],"owner":{"account_id":28223234,"reputation":3,"user_id":21573645,"display_name":"Takayuki-T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680787841,"creation_date":1680787841,"answer_id":75950131,"question_id":75940219,"body_markdown":"I was able to deal with it by doing only OrderBy separately as shown below, but the reason is not clear. Sorry for the inconvenience.    \r\n\r\n\r\n    @Override\r\n        public Multi&lt;Product&gt; searchProducts(String sortKey, String order, Integer limit, Integer offset) {\r\n    \r\n            final String query = QueryHelper.setOrderInQuery(ProductCommand.FECTH, order);\r\n    \r\n            return client\r\n                    .preparedQuery(query)\r\n                    .execute(selectTuple(sortKey, limit, offset))\r\n                    .onItem().transformToMulti(rows -&gt; Multi.createFrom().iterable(rows))\r\n                    .onItem().transform(this::toProduct)\r\n                    .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\r\n        }\r\n    \r\n        private Tuple selectTuple(String key, Integer limit, Integer offset) {\r\n            return Tuple.wrap(Arrays.asList(\r\n                    Objects.isNull(key) ? &quot; p.id&quot; : key,\r\n                    Objects.isNull(limit) ? 10 : limit,\r\n                    Objects.isNull(offset) ? 0 : offset));","title":"Implementation using io.vertx.mutiny in Quarkus does not change the value to be returned","body":"<p>I was able to deal with it by doing only OrderBy separately as shown below, but the reason is not clear. Sorry for the inconvenience.</p>\n<pre><code>@Override\n    public Multi&lt;Product&gt; searchProducts(String sortKey, String order, Integer limit, Integer offset) {\n\n        final String query = QueryHelper.setOrderInQuery(ProductCommand.FECTH, order);\n\n        return client\n                .preparedQuery(query)\n                .execute(selectTuple(sortKey, limit, offset))\n                .onItem().transformToMulti(rows -&gt; Multi.createFrom().iterable(rows))\n                .onItem().transform(this::toProduct)\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\n    }\n\n    private Tuple selectTuple(String key, Integer limit, Integer offset) {\n        return Tuple.wrap(Arrays.asList(\n                Objects.isNull(key) ? &quot; p.id&quot; : key,\n                Objects.isNull(limit) ? 10 : limit,\n                Objects.isNull(offset) ? 0 : offset));\n</code></pre>\n"}],"owner":{"account_id":28223234,"reputation":3,"user_id":21573645,"display_name":"Takayuki-T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75947146,"answer_count":2,"score":0,"last_activity_date":1680787841,"creation_date":1680702271,"question_id":75940219,"body_markdown":"We are building a reactive system by implementing it using io.vertx.mutiny in Quarkus.\r\nAt this time, a single value was tested and confirmed to be returned. However, variables that are expected to return multiple records will not finish processing and will eventually be cancelled. How should I deal with this?\r\n\r\nI would appreciate it if you could enjoy it if you know the solution.\r\n\r\nImport-Block\r\n```\r\nimport io.smallrye.mutiny.Multi; import io.smallrye.mutiny.Uni; import io.vertx.mutiny.pgclient.PgPool; import io.vertx.mutiny.sqlclient.Row; import io.vertx.mutiny.sqlclient.RowSet; import io.vertx.mutiny.sqlclient.SqlClient; import io.vertx.mutiny.sqlclient.Tuple;`\r\n```\r\n```\r\nprivate final PgPool client;\r\n```\r\n\r\n\r\nSuccess Method\r\n   \r\n```\r\nprivate final String FETCH_BY_ID = &quot;SELECT p.*, c.name as category_name FROM products p INNER JOIN categories c ON p.category_id = c.id WHERE p.id = $1&quot;;\r\n @Override\r\n    public Uni&lt;Product&gt; searchProduct(UUID productId) {\r\n        return this.executeFetchById(productId, this.client);\r\n    }\r\n\r\n    private Uni&lt;Product&gt; executeFetchById(UUID productId, SqlClient client) {\r\n        return client\r\n                .preparedQuery(FETCH_BY_ID)\r\n                .execute(Tuple.of(productId))\r\n                .onItem().transform(RowSet::iterator)\r\n                .onItem().transform(iterator -&gt; iterator.hasNext() ? toProduct(iterator.next()) : null)\r\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\r\n    }\r\n```\r\n\r\nFailure\r\n```\r\n    @Override\r\n    public Multi&lt;Product&gt; searchProducts(String sortKey, String order, Integer limit, Integer offset) {\r\n\r\n        final String query = generateSearchProductsQuery(sortKey, order);\r\n\r\n        return client\r\n                .preparedQuery(query)\r\n                .execute(selectTuple(limit, offset))\r\n                .onItem().transformToMulti(rows -&gt; Multi.createFrom().iterable(rows))\r\n                .onItem().transform(this::toProduct)\r\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\r\n    }\r\n\r\n    private Tuple selectTuple(Integer limit, Integer offset) {\r\n        return Tuple.wrap(Arrays.asList(\r\n                Objects.isNull(limit) ? 10 : limit,\r\n                Objects.isNull(offset) ? 0 : offset));\r\n    }\r\n\r\n    private String generateSearchProductsQuery(String sortKey, String order) {\r\n        String baseQuery = &quot;SELECT p.*, c.name as category_name FROM products p INNER JOIN categories c ON p.category_id = c.id ORDER BY %s %s LIMIT $1 OFFSET $2&quot;;\r\n        String finalSortKey = Objects.isNull(sortKey) ? &quot;p.id&quot; : sortKey;\r\n        String finalOrder = Objects.isNull(order) ? &quot;ASC&quot; : order;\r\n        return String.format(baseQuery, finalSortKey, finalOrder);\r\n    }\r\n```\r\n\r\n\r\n```\r\nreturn client\r\n                .preparedQuery(query)\r\n                .execute(selectTuple(limit, offset))\r\n                .onItem().transformToMulti(rows -&gt; Multi.createFrom().iterable(rows))\r\n                .onItem().transform(this::toProduct)\r\n                .log(&quot;TEST A&quot;)\r\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\r\n```\r\n\r\n”TEST A”　is displayed, but the process was never completed.\r\n　\r\n","title":"Implementation using io.vertx.mutiny in Quarkus does not change the value to be returned","body":"<p>We are building a reactive system by implementing it using io.vertx.mutiny in Quarkus.\nAt this time, a single value was tested and confirmed to be returned. However, variables that are expected to return multiple records will not finish processing and will eventually be cancelled. How should I deal with this?</p>\n<p>I would appreciate it if you could enjoy it if you know the solution.</p>\n<p>Import-Block</p>\n<pre><code>import io.smallrye.mutiny.Multi; import io.smallrye.mutiny.Uni; import io.vertx.mutiny.pgclient.PgPool; import io.vertx.mutiny.sqlclient.Row; import io.vertx.mutiny.sqlclient.RowSet; import io.vertx.mutiny.sqlclient.SqlClient; import io.vertx.mutiny.sqlclient.Tuple;`\n</code></pre>\n<pre><code>private final PgPool client;\n</code></pre>\n<p>Success Method</p>\n<pre><code>private final String FETCH_BY_ID = &quot;SELECT p.*, c.name as category_name FROM products p INNER JOIN categories c ON p.category_id = c.id WHERE p.id = $1&quot;;\n @Override\n    public Uni&lt;Product&gt; searchProduct(UUID productId) {\n        return this.executeFetchById(productId, this.client);\n    }\n\n    private Uni&lt;Product&gt; executeFetchById(UUID productId, SqlClient client) {\n        return client\n                .preparedQuery(FETCH_BY_ID)\n                .execute(Tuple.of(productId))\n                .onItem().transform(RowSet::iterator)\n                .onItem().transform(iterator -&gt; iterator.hasNext() ? toProduct(iterator.next()) : null)\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\n    }\n</code></pre>\n<p>Failure</p>\n<pre><code>    @Override\n    public Multi&lt;Product&gt; searchProducts(String sortKey, String order, Integer limit, Integer offset) {\n\n        final String query = generateSearchProductsQuery(sortKey, order);\n\n        return client\n                .preparedQuery(query)\n                .execute(selectTuple(limit, offset))\n                .onItem().transformToMulti(rows -&gt; Multi.createFrom().iterable(rows))\n                .onItem().transform(this::toProduct)\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\n    }\n\n    private Tuple selectTuple(Integer limit, Integer offset) {\n        return Tuple.wrap(Arrays.asList(\n                Objects.isNull(limit) ? 10 : limit,\n                Objects.isNull(offset) ? 0 : offset));\n    }\n\n    private String generateSearchProductsQuery(String sortKey, String order) {\n        String baseQuery = &quot;SELECT p.*, c.name as category_name FROM products p INNER JOIN categories c ON p.category_id = c.id ORDER BY %s %s LIMIT $1 OFFSET $2&quot;;\n        String finalSortKey = Objects.isNull(sortKey) ? &quot;p.id&quot; : sortKey;\n        String finalOrder = Objects.isNull(order) ? &quot;ASC&quot; : order;\n        return String.format(baseQuery, finalSortKey, finalOrder);\n    }\n</code></pre>\n<pre><code>return client\n                .preparedQuery(query)\n                .execute(selectTuple(limit, offset))\n                .onItem().transformToMulti(rows -&gt; Multi.createFrom().iterable(rows))\n                .onItem().transform(this::toProduct)\n                .log(&quot;TEST A&quot;)\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\n</code></pre>\n<p>”TEST A”　is displayed, but the process was never completed.\n　</p>\n"},{"tags":["java","android","firebase","opencsv"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1680779899,"post_id":75947737,"comment_id":133957519,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680785064,"post_id":75947737,"comment_id":133958745,"body_markdown":"`String[] mimeTypes = {&quot;text/csv` Remove that. Just `*/*` will show all files.","body":"<code>String[] mimeTypes = {&quot;text&#47;csv</code> Remove that. Just <code>*&#47;*</code> will show all files."},{"owner":{"account_id":22018291,"reputation":23,"user_id":16287464,"display_name":"Naak Mukka"},"score":0,"creation_date":1680787382,"post_id":75947737,"comment_id":133959322,"body_markdown":"@AlexMamo As you can see in the image the resto.csv file cannot be selected but i want it to be selected so that the data can be parsed.\nTHERE ARE NO ERRORS so i think there must be some logical error","body":"@AlexMamo As you can see in the image the resto.csv file cannot be selected but i want it to be selected so that the data can be parsed. THERE ARE NO ERRORS so i think there must be some logical error"},{"owner":{"account_id":22018291,"reputation":23,"user_id":16287464,"display_name":"Naak Mukka"},"score":0,"creation_date":1680787405,"post_id":75947737,"comment_id":133959332,"body_markdown":"@blackapps tried that too but doesnt help...","body":"@blackapps tried that too but doesnt help..."}],"owner":{"account_id":22018291,"reputation":23,"user_id":16287464,"display_name":"Naak Mukka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680787338,"creation_date":1680772022,"question_id":75947737,"body_markdown":"I am learning Android App Development and trying to make an app which selects a csv or excel file and then parse the data into a Recycler View.\r\nHere I am using a csv file:\r\n\r\n    Name, Price\r\n    Item1, 10\r\n    Item2, 20\r\n    Item3, 30\r\n\r\nbut when click the upload button the file chooser opens successfully but its not showing any csv or xlsx file present in the device although file is present.\r\n\r\nHere is the code :\r\n\r\n\r\n```\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.opencsv.CSVReader;\r\n\r\nimport java.io.FileReader;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class AdminHome extends AppCompatActivity {\r\n    Button logOutBtn, uploadBtn;\r\n    FirebaseAuth mAuth;\r\n    TextView tvEmail;\r\n    private static final int FILE_SELECT_CODE = 1;\r\n    private List&lt;MenuItem&gt; menuItemList = new ArrayList&lt;&gt;();\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_admin_home);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        tvEmail = findViewById(R.id.tvUser);\r\n        logOutBtn = findViewById(R.id.logOutBtn);\r\n        uploadBtn = findViewById(R.id.uploadBtn);\r\n        String email = getIntent().getStringExtra(&quot;email&quot;);\r\n        tvEmail.setText(email);\r\n\r\n\r\n        uploadBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                showFileChooser();\r\n            }\r\n        });\r\n\r\n        logOutBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                signOut();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void showFileChooser() {\r\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        intent.setType(&quot;*/*&quot;); // Allow all file types\r\n        String[] mimeTypes = {&quot;text/csv&quot;}; // Add CSV MIME type\r\n        intent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);\r\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n        try {\r\n            startActivityForResult(Intent.createChooser(intent, &quot;Select a File&quot;), FILE_SELECT_CODE);\r\n\r\n        }catch (Exception e) {\r\n            Toast.makeText(this, e.getMessage(), Toast.LENGTH_LONG).show();\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if(requestCode == FILE_SELECT_CODE &amp;&amp; resultCode == RESULT_OK) {\r\n            if(data != null) {\r\n                Uri uri = data.getData();\r\n                String path = uri.getPath();\r\n                try {\r\n                    CSVReader reader = new CSVReader(new FileReader(path));\r\n                    String[] line;\r\n\r\n                    while ((line = reader.readNext()) != null) {\r\n                        String name = line[0];\r\n                        String price = line[1];\r\n                        menuItemList.add(new MenuItem(name, price));\r\n\r\n                    }\r\n                    RecyclerView recyclerView = findViewById(R.id.menu_list);\r\n                    MenuAdapter adapter = new MenuAdapter(menuItemList);\r\n                    recyclerView.setAdapter(adapter);\r\n                    recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n                    reader.close();\r\n                }catch (Exception e) {\r\n                    Toast.makeText(this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        finishAffinity();\r\n    }\r\n\r\n    public void signOut() {\r\n        mAuth.signOut();\r\n        Intent intent = new Intent(AdminHome.this, MainActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n}\r\n```\r\n[![As you can see I have a csv file present but its not getting selected](https://i.stack.imgur.com/fkfTf.png)](https://i.stack.imgur.com/fkfTf.png)\r\n\r\nAs you can see in the image the resto.csv file cannot be selected but i want it to be selected so that the data can be parsed.\r\n***THERE ARE NO ERRORS so i think there must be some logical error***\r\nI tried to remove these lines thinking that it will allow all types of files to select which it did but then it was not parsing the data:\r\n\r\n```\r\n\r\n        String[] mimeTypes = {&quot;text/csv&quot;}; // Add CSV MIME type\r\n        intent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);`\r\n```","title":"Fille Chooser unable to select csv, xlsx file Android Studio","body":"<p>I am learning Android App Development and trying to make an app which selects a csv or excel file and then parse the data into a Recycler View.\nHere I am using a csv file:</p>\n<pre><code>Name, Price\nItem1, 10\nItem2, 20\nItem3, 30\n</code></pre>\n<p>but when click the upload button the file chooser opens successfully but its not showing any csv or xlsx file present in the device although file is present.</p>\n<p>Here is the code :</p>\n<pre><code>import androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.opencsv.CSVReader;\n\nimport java.io.FileReader;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class AdminHome extends AppCompatActivity {\n    Button logOutBtn, uploadBtn;\n    FirebaseAuth mAuth;\n    TextView tvEmail;\n    private static final int FILE_SELECT_CODE = 1;\n    private List&lt;MenuItem&gt; menuItemList = new ArrayList&lt;&gt;();\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_admin_home);\n\n        mAuth = FirebaseAuth.getInstance();\n\n        tvEmail = findViewById(R.id.tvUser);\n        logOutBtn = findViewById(R.id.logOutBtn);\n        uploadBtn = findViewById(R.id.uploadBtn);\n        String email = getIntent().getStringExtra(&quot;email&quot;);\n        tvEmail.setText(email);\n\n\n        uploadBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                showFileChooser();\n            }\n        });\n\n        logOutBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                signOut();\n            }\n        });\n    }\n\n    private void showFileChooser() {\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n        intent.setType(&quot;*/*&quot;); // Allow all file types\n        String[] mimeTypes = {&quot;text/csv&quot;}; // Add CSV MIME type\n        intent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\n        try {\n            startActivityForResult(Intent.createChooser(intent, &quot;Select a File&quot;), FILE_SELECT_CODE);\n\n        }catch (Exception e) {\n            Toast.makeText(this, e.getMessage(), Toast.LENGTH_LONG).show();\n            System.out.println(e.getMessage());\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if(requestCode == FILE_SELECT_CODE &amp;&amp; resultCode == RESULT_OK) {\n            if(data != null) {\n                Uri uri = data.getData();\n                String path = uri.getPath();\n                try {\n                    CSVReader reader = new CSVReader(new FileReader(path));\n                    String[] line;\n\n                    while ((line = reader.readNext()) != null) {\n                        String name = line[0];\n                        String price = line[1];\n                        menuItemList.add(new MenuItem(name, price));\n\n                    }\n                    RecyclerView recyclerView = findViewById(R.id.menu_list);\n                    MenuAdapter adapter = new MenuAdapter(menuItemList);\n                    recyclerView.setAdapter(adapter);\n                    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n                    reader.close();\n                }catch (Exception e) {\n                    Toast.makeText(this, e.getMessage(), Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n    }\n\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        finishAffinity();\n    }\n\n    public void signOut() {\n        mAuth.signOut();\n        Intent intent = new Intent(AdminHome.this, MainActivity.class);\n        startActivity(intent);\n        finish();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fkfTf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fkfTf.png\" alt=\"As you can see I have a csv file present but its not getting selected\" /></a></p>\n<p>As you can see in the image the resto.csv file cannot be selected but i want it to be selected so that the data can be parsed.\n<em><strong>THERE ARE NO ERRORS so i think there must be some logical error</strong></em>\nI tried to remove these lines thinking that it will allow all types of files to select which it did but then it was not parsing the data:</p>\n<pre><code>\n        String[] mimeTypes = {&quot;text/csv&quot;}; // Add CSV MIME type\n        intent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);`\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"score":0,"creation_date":1680786789,"post_id":75949638,"comment_id":133959173,"body_markdown":"Sorry one case missed in the questions same character means not only digits even alpha like AAAAAAAAAAAA not allow","body":"Sorry one case missed in the questions same character means not only digits even alpha like AAAAAAAAAAAA not allow"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1680786930,"post_id":75949638,"comment_id":133959212,"body_markdown":"See the [answer](https://stackoverflow.com/a/75949772/3832970) (I removed the comment above), it has the right solution.","body":"See the <a href=\"https://stackoverflow.com/a/75949772/3832970\">answer</a> (I removed the comment above), it has the right solution."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680786335,"creation_date":1680785693,"answer_id":75949772,"question_id":75949638,"body_markdown":"You can use\r\n```none\r\n^(?=.{12,14}$)(?!([a-zA-Z\\d])(?:&amp;?\\1)+$)[a-zA-Z\\d]+(?:&amp;[a-zA-Z\\d]+)?$\r\n```\r\nSee the [regex demo][1]\r\n\r\n*Details*:\r\n\r\n - `^` - start of string\r\n - `(?=.{12,14}$)` - the length of the string must be between 12 and 14 chars\r\n - `(?!([a-zA-Z\\d])(?:&amp;?\\1)+$)` - the string cannot have identical alphanumeric chars eventually separated with a `&amp;` char at any position\r\n - `[a-zA-Z\\d]+(?:&amp;[a-zA-Z\\d]+)?` - one or more alphanumeric chars followed with an optional sequence of a `&amp;` char followed with one or more alphanumeric chars\r\n - `$` - end of string.\r\n\r\n  [1]: https://regex101.com/r/aFpfwv/3","title":"Regex Pattern for Not allow all same characters even separated by single special character","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(?=.{12,14}$)(?!([a-zA-Z\\d])(?:&amp;?\\1)+$)[a-zA-Z\\d]+(?:&amp;[a-zA-Z\\d]+)?$\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/aFpfwv/3\" rel=\"nofollow noreferrer\">regex demo</a></p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>(?=.{12,14}$)</code> - the length of the string must be between 12 and 14 chars</li>\n<li><code>(?!([a-zA-Z\\d])(?:&amp;?\\1)+$)</code> - the string cannot have identical alphanumeric chars eventually separated with a <code>&amp;</code> char at any position</li>\n<li><code>[a-zA-Z\\d]+(?:&amp;[a-zA-Z\\d]+)?</code> - one or more alphanumeric chars followed with an optional sequence of a <code>&amp;</code> char followed with one or more alphanumeric chars</li>\n<li><code>$</code> - end of string.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10051056,"reputation":3485,"user_id":7430869,"display_name":"Trung Duong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680786963,"creation_date":1680786963,"answer_id":75949979,"question_id":75949638,"body_markdown":"You could try this pattern: \r\n\r\n    /^([A-Z0-9])(?!(\\1|&amp;)+$)(?=.{11,13}$)[A-Z0-9]*(?:[&amp;][A-Z0-9]+)?$/gm\r\n\r\nIt&#39;s modified version of your pattern, I&#39;ve only updated the negative look-ahead part to `(?!(\\1|&amp;)+$)` (not allow repeated of first letter or &#39;&amp;&#39; letter).\r\n\r\nSee demo [here][1] \r\n\r\n\r\n  [1]: https://regex101.com/r/hfcNuE/1","title":"Regex Pattern for Not allow all same characters even separated by single special character","body":"<p>You could try this pattern:</p>\n<pre><code>/^([A-Z0-9])(?!(\\1|&amp;)+$)(?=.{11,13}$)[A-Z0-9]*(?:[&amp;][A-Z0-9]+)?$/gm\n</code></pre>\n<p>It's modified version of your pattern, I've only updated the negative look-ahead part to <code>(?!(\\1|&amp;)+$)</code> (not allow repeated of first letter or '&amp;' letter).</p>\n<p>See demo <a href=\"https://regex101.com/r/hfcNuE/1\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680786963,"creation_date":1680784833,"question_id":75949638,"body_markdown":"\r\nTrying to create the regex for the below conditions, I have tried the one regex it&#39;s working as expected other than one condition as it does not allow duplicates even separated by particular Char &amp;.\r\n\r\n1. Allow Alpha Numeric characters with a minimum of 12 and a maximum of 14 \r\n\r\n2. No special characters are allowed other than &amp; ( only one)\r\n\r\n3. Not Allow all the same characters even separated by &amp; \r\n\r\n4. Length is same between 12 to 14 even including the &amp; \r\n\r\n  \r\nex: 111111111111 not allowed as all are the same characters\r\n\r\n    1111111&amp;11111 not allowed as all are the same characters even &amp; is there\r\n\r\n    111111111112 allowed \r\n\r\n    1111111&amp;11112 allowed\r\n\r\n    ABC123567GHDG4 allowed\r\n    \r\n```\r\n^(\\d)(?!\\1+$)(?=.{11,13}$)[0-9]*(?:[&amp;][0-9]+)?$\r\n```\r\n\r\nThe above regex is working other than the case 1111111&amp;11111 \r\n\r\ntried the below regex as well, it works the condition as it&#39;s not allowing the same characters \r\n\r\nBut it allows the &amp; beginning and end of the string and not allowed Alphabets \r\n\r\n```\r\n^(?!&amp;?(\\d)(?:&amp;?\\1)+$)(?=.{12,14}$)\\d*(?:&amp;\\d*)?$\r\n```\r\n\r\n\r\n\r\nWe do not allow the ```&quot;&amp;&quot;``` at the beginning and end of the string \r\nAnd it needs to allow the ```Captial Alpha character``` along with ```numerics```.\r\n```\r\nABC123567GHDG4 allowed \r\n\r\nABC1235&amp;67GHD allowed\r\n\r\nABCDEFGHIJKLR allowed\r\n\r\n1254789563254 allowed\r\n\r\n125478&amp;563254 allowed\r\n\r\n125478556325&amp; not allowed as ends with &amp;\r\n\r\n&amp;125478556325 not allowed as starts with &amp;\r\n\r\nABCDEFGHIJKL&amp; not allowed as ends with &amp;\r\n\r\n&amp;ABCDEFGHIJKL not allowed as start with &amp;\r\n\r\n```\r\n\r\n","title":"Regex Pattern for Not allow all same characters even separated by single special character","body":"<p>Trying to create the regex for the below conditions, I have tried the one regex it's working as expected other than one condition as it does not allow duplicates even separated by particular Char &amp;.</p>\n<ol>\n<li><p>Allow Alpha Numeric characters with a minimum of 12 and a maximum of 14</p>\n</li>\n<li><p>No special characters are allowed other than &amp; ( only one)</p>\n</li>\n<li><p>Not Allow all the same characters even separated by &amp;</p>\n</li>\n<li><p>Length is same between 12 to 14 even including the &amp;</p>\n</li>\n</ol>\n<p>ex: 111111111111 not allowed as all are the same characters</p>\n<pre><code>1111111&amp;11111 not allowed as all are the same characters even &amp; is there\n\n111111111112 allowed \n\n1111111&amp;11112 allowed\n\nABC123567GHDG4 allowed\n</code></pre>\n<pre><code>^(\\d)(?!\\1+$)(?=.{11,13}$)[0-9]*(?:[&amp;][0-9]+)?$\n</code></pre>\n<p>The above regex is working other than the case 1111111&amp;11111</p>\n<p>tried the below regex as well, it works the condition as it's not allowing the same characters</p>\n<p>But it allows the &amp; beginning and end of the string and not allowed Alphabets</p>\n<pre><code>^(?!&amp;?(\\d)(?:&amp;?\\1)+$)(?=.{12,14}$)\\d*(?:&amp;\\d*)?$\n</code></pre>\n<p>We do not allow the <code>&quot;&amp;&quot;</code> at the beginning and end of the string\nAnd it needs to allow the <code>Captial Alpha character</code> along with <code>numerics</code>.</p>\n<pre><code>ABC123567GHDG4 allowed \n\nABC1235&amp;67GHD allowed\n\nABCDEFGHIJKLR allowed\n\n1254789563254 allowed\n\n125478&amp;563254 allowed\n\n125478556325&amp; not allowed as ends with &amp;\n\n&amp;125478556325 not allowed as starts with &amp;\n\nABCDEFGHIJKL&amp; not allowed as ends with &amp;\n\n&amp;ABCDEFGHIJKL not allowed as start with &amp;\n\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4631198,"reputation":2017,"user_id":3753671,"display_name":"Mike Elofson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1403742101,"creation_date":1403742101,"answer_id":24420646,"question_id":24420633,"body_markdown":"    int a = (int) Math.round(doubleVar);\r\nThis will round it and cast it to an int.","title":"How to round double to nearest whole number and return it as Integer","body":"<pre><code>int a = (int) Math.round(doubleVar);\n</code></pre>\n\n<p>This will round it and cast it to an int.</p>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1403742167,"creation_date":1403742167,"answer_id":24420650,"question_id":24420633,"body_markdown":"    public static void main(String[] args) {\r\n    \tdouble x = 6.001;\r\n    \tdouble y = 5.999;\r\n    \t\r\n    \tSystem.out.println(Math.round(x)); //outputs 6\r\n    \tSystem.out.println(Math.round(y)); //outputs 6\r\n    }","title":"How to round double to nearest whole number and return it as Integer","body":"<pre><code>public static void main(String[] args) {\n    double x = 6.001;\n    double y = 5.999;\n\n    System.out.println(Math.round(x)); //outputs 6\n    System.out.println(Math.round(y)); //outputs 6\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1403742405,"creation_date":1403742405,"answer_id":24420683,"question_id":24420633,"body_markdown":"For your example, it seems that you want to use [`Math.rint()`](http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#rint(double)).  It will return the closest integer value given a `double`.\r\n\r\n    int valueX = (int) Math.rint(x);\r\n    int valueY = (int) Math.rint(y);   ","title":"How to round double to nearest whole number and return it as Integer","body":"<p>For your example, it seems that you want to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#rint%28double%29\" rel=\"noreferrer\"><code>Math.rint()</code></a>.  It will return the closest integer value given a <code>double</code>.</p>\n\n<pre><code>int valueX = (int) Math.rint(x);\nint valueY = (int) Math.rint(y);   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3600890,"reputation":1894,"user_id":3004221,"accept_rate":100,"display_name":"Sebastian H&#246;ffner"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1403743182,"creation_date":1403743182,"answer_id":24420783,"question_id":24420633,"body_markdown":"The simplest method you get taught in most basic computer science classes is probably to `add 0.5` (or subtract it, if your double is below 0) and simply cast it to `int`.\r\n\r\n    // for the simple case\r\n    double someDouble = 6.0001;\r\n    int someInt = (int) (someDouble + 0.5); \r\n\r\n    // negative case\r\n    double negativeDouble = -5.6;\r\n    int negativeInt = (int) (negativeDouble - 0.5); \r\n    \r\n    // general case\r\n    double unknownDouble = (Math.random() - 0.5) * 10;\r\n    int unknownInt = (int) (unknownDouble + (unknownDouble &lt; 0? -0.5 : 0.5));\r\n    \r\n ","title":"How to round double to nearest whole number and return it as Integer","body":"<p>The simplest method you get taught in most basic computer science classes is probably to <code>add 0.5</code> (or subtract it, if your double is below 0) and simply cast it to <code>int</code>.</p>\n\n<pre><code>// for the simple case\ndouble someDouble = 6.0001;\nint someInt = (int) (someDouble + 0.5); \n\n// negative case\ndouble negativeDouble = -5.6;\nint negativeInt = (int) (negativeDouble - 0.5); \n\n// general case\ndouble unknownDouble = (Math.random() - 0.5) * 10;\nint unknownInt = (int) (unknownDouble + (unknownDouble &lt; 0? -0.5 : 0.5));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14014033,"reputation":699,"user_id":10121996,"display_name":"Sobhit Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594747206,"creation_date":1594747206,"answer_id":62900620,"question_id":24420633,"body_markdown":"    System.out.print(Math.round(totalCost));\r\nSimple","title":"How to round double to nearest whole number and return it as Integer","body":"<pre><code>System.out.print(Math.round(totalCost));\n</code></pre>\n<p>Simple</p>\n"},{"tags":[],"owner":{"account_id":6018468,"reputation":21,"user_id":6056926,"display_name":"mithun singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680786564,"creation_date":1627624753,"answer_id":68586108,"question_id":24420633,"body_markdown":"**Math.round()** method in Java returns the closest int or long as per the argument\r\n\r\n    Math.round(0.48) = 0\r\n    Math.round(85.6) = 86\r\n\r\nSimilarly,\r\n\r\nMath.ceil gives the smallest integer as per the argument.\r\n\r\n     Math.round(0.48) = 0\r\n     Math.round(85.6) = 85\r\n\r\nMath.floor gives the largest integer as per the argument.\r\n\r\n     Math.round(0.48) = 1\r\n     Math.round(85.6) = 86","title":"How to round double to nearest whole number and return it as Integer","body":"<p><strong>Math.round()</strong> method in Java returns the closest int or long as per the argument</p>\n<pre><code>Math.round(0.48) = 0\nMath.round(85.6) = 86\n</code></pre>\n<p>Similarly,</p>\n<p>Math.ceil gives the smallest integer as per the argument.</p>\n<pre><code> Math.round(0.48) = 0\n Math.round(85.6) = 85\n</code></pre>\n<p>Math.floor gives the largest integer as per the argument.</p>\n<pre><code> Math.round(0.48) = 1\n Math.round(85.6) = 86\n</code></pre>\n"}],"owner":{"account_id":4580344,"reputation":139,"user_id":3717539,"display_name":"user3717539"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50017,"favorite_count":0,"down_vote_count":6,"up_vote_count":14,"answer_count":6,"score":8,"last_activity_date":1680786564,"creation_date":1403742017,"question_id":24420633,"body_markdown":"Let suppose that I have `double x`. I would return nearest whole number of `x`. For example:\r\n\r\n 1. if `x = 6.001` I would return `6`\r\n 2. if `x = 5.999`  I would return `6`\r\n\r\nI suppose that I should use `Math.ceil` and `Math.floor` functions. But I don&#39;t know how return nearest whole number...","title":"How to round double to nearest whole number and return it as Integer","body":"<p>Let suppose that I have <code>double x</code>. I would return nearest whole number of <code>x</code>. For example:</p>\n\n<ol>\n<li>if <code>x = 6.001</code> I would return <code>6</code></li>\n<li>if <code>x = 5.999</code>  I would return <code>6</code></li>\n</ol>\n\n<p>I suppose that I should use <code>Math.ceil</code> and <code>Math.floor</code> functions. But I don't know how return nearest whole number...</p>\n"},{"tags":["java","android","xml","kotlin"],"owner":{"account_id":28232376,"reputation":11,"user_id":21581397,"display_name":"cqlsys cql"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680786514,"creation_date":1680786514,"question_id":75949901,"body_markdown":"When I open the keyboard  my root view is scroll up.\r\n\r\nI&#39;m creating a chat based UI screen where I have toolbar and recyclerview for chat messages, and reply msg layout.\r\n\r\nWhenever edittext get focus It moves up the toolbar. Instead I would like to resize the recyclerview.\r\n\r\nsome of the stackoverflow answers suggest to place a empty scrollview below the toolbar, but It didn&#39;t work.\r\n\r\nThanks in advance\r\n\r\nMy xml code is -\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;data&gt;\r\n\r\n    &lt;/data&gt;\r\n\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:paddingBottom=&quot;@dimen/album_dp_20&quot;\r\n        &gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linearLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginHorizontal=&quot;@dimen/dp20&quot;&gt;\r\n\r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/back&quot;\r\n                        android:layout_width=&quot;24dp&quot;\r\n                        android:layout_height=&quot;24dp&quot;\r\n                        android:layout_centerVertical=&quot;true&quot;\r\n                        android:src=&quot;@drawable/backbutton&quot; /&gt;\r\n\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/toolbar_title&quot;\r\n                        style=&quot;@style/Text_title_black_bold&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_centerInParent=&quot;true&quot;\r\n                        android:text=&quot;@string/comment&quot;\r\n                        android:textSize=&quot;@dimen/dp20&quot; /&gt;\r\n                &lt;/RelativeLayout&gt;\r\n            &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/recyclerView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_above=&quot;@id/bottomLL&quot;\r\n            android:layout_below=&quot;@id/linearLayout&quot;\r\n            android:layout_marginTop=&quot;@dimen/dp_10&quot;\r\n            tools:listitem=&quot;@layout/list_item_comments&quot; /&gt;\r\n\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/bottomLL&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_marginHorizontal=&quot;@dimen/dp_32&quot;\r\n            android:layout_marginVertical=&quot;@dimen/album_dp_20&quot;\r\n            android:background=&quot;@drawable/et_background&quot;\r\n            android:backgroundTint=&quot;@color/gray&quot;\r\n            android:weightSum=&quot;2&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/commentsTV&quot;\r\n                style=&quot;@style/Text_title_gray_black_bold&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:layout_marginStart=&quot;16dp&quot;\r\n                android:layout_weight=&quot;1.5&quot;\r\n                android:background=&quot;@null&quot;\r\n                android:hint=&quot;Write Message...&quot;\r\n                android:inputType=&quot;textAutoComplete&quot;\r\n                android:paddingVertical=&quot;@dimen/dp_10&quot;\r\n                android:textColor=&quot;#454545&quot;\r\n                android:textSize=&quot;@dimen/text_size_64px&quot; /&gt;\r\n\r\n            &lt;androidx.appcompat.widget.AppCompatButton\r\n                android:id=&quot;@+id/btn_buzz&quot;\r\n                style=&quot;@style/Widget.AppCompat.Button.Borderless&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;@dimen/dp60&quot;\r\n                android:layout_weight=&quot;0.5&quot;\r\n                android:background=&quot;@drawable/et_background&quot;\r\n                android:backgroundTint=&quot;@color/red&quot;\r\n                android:fontFamily=&quot;@font/segoeui&quot;\r\n                android:text=&quot;Post&quot;\r\n                android:textAllCaps=&quot;false&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;@dimen/text_size_64px&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/progress&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:background=&quot;#6BE1E1D1&quot;\r\n            android:visibility=&quot;gone&quot;&gt;\r\n\r\n            &lt;com.github.ybq.android.spinkit.SpinKitView\r\n                style=&quot;@style/SpinKitView.Large.WanderingCubes&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;@dimen/dp75&quot;\r\n                android:layout_centerInParent=&quot;true&quot;\r\n                app:SpinKit_Color=&quot;@color/red_dark&quot; /&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n&lt;/layout&gt;\r\n```\r\n\r\nI am using in my menifest -\r\n\r\n```\r\n android:windowSoftInputMode=&quot;adjustResize&quot;\r\n```","title":"When I open the keyboard my root view is scrollup","body":"<p>When I open the keyboard  my root view is scroll up.</p>\n<p>I'm creating a chat based UI screen where I have toolbar and recyclerview for chat messages, and reply msg layout.</p>\n<p>Whenever edittext get focus It moves up the toolbar. Instead I would like to resize the recyclerview.</p>\n<p>some of the stackoverflow answers suggest to place a empty scrollview below the toolbar, but It didn't work.</p>\n<p>Thanks in advance</p>\n<p>My xml code is -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;data&gt;\n\n    &lt;/data&gt;\n\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:paddingBottom=&quot;@dimen/album_dp_20&quot;\n        &gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/linearLayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;androidx.appcompat.widget.Toolbar\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n\n                &lt;RelativeLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginHorizontal=&quot;@dimen/dp20&quot;&gt;\n\n                    &lt;ImageView\n                        android:id=&quot;@+id/back&quot;\n                        android:layout_width=&quot;24dp&quot;\n                        android:layout_height=&quot;24dp&quot;\n                        android:layout_centerVertical=&quot;true&quot;\n                        android:src=&quot;@drawable/backbutton&quot; /&gt;\n\n\n                    &lt;TextView\n                        android:id=&quot;@+id/toolbar_title&quot;\n                        style=&quot;@style/Text_title_black_bold&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_centerInParent=&quot;true&quot;\n                        android:text=&quot;@string/comment&quot;\n                        android:textSize=&quot;@dimen/dp20&quot; /&gt;\n                &lt;/RelativeLayout&gt;\n            &lt;/androidx.appcompat.widget.Toolbar&gt;\n        &lt;/LinearLayout&gt;\n\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/recyclerView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_above=&quot;@id/bottomLL&quot;\n            android:layout_below=&quot;@id/linearLayout&quot;\n            android:layout_marginTop=&quot;@dimen/dp_10&quot;\n            tools:listitem=&quot;@layout/list_item_comments&quot; /&gt;\n\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/bottomLL&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentBottom=&quot;true&quot;\n            android:layout_marginHorizontal=&quot;@dimen/dp_32&quot;\n            android:layout_marginVertical=&quot;@dimen/album_dp_20&quot;\n            android:background=&quot;@drawable/et_background&quot;\n            android:backgroundTint=&quot;@color/gray&quot;\n            android:weightSum=&quot;2&quot;&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/commentsTV&quot;\n                style=&quot;@style/Text_title_gray_black_bold&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_vertical&quot;\n                android:layout_marginStart=&quot;16dp&quot;\n                android:layout_weight=&quot;1.5&quot;\n                android:background=&quot;@null&quot;\n                android:hint=&quot;Write Message...&quot;\n                android:inputType=&quot;textAutoComplete&quot;\n                android:paddingVertical=&quot;@dimen/dp_10&quot;\n                android:textColor=&quot;#454545&quot;\n                android:textSize=&quot;@dimen/text_size_64px&quot; /&gt;\n\n            &lt;androidx.appcompat.widget.AppCompatButton\n                android:id=&quot;@+id/btn_buzz&quot;\n                style=&quot;@style/Widget.AppCompat.Button.Borderless&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;@dimen/dp60&quot;\n                android:layout_weight=&quot;0.5&quot;\n                android:background=&quot;@drawable/et_background&quot;\n                android:backgroundTint=&quot;@color/red&quot;\n                android:fontFamily=&quot;@font/segoeui&quot;\n                android:text=&quot;Post&quot;\n                android:textAllCaps=&quot;false&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;@dimen/text_size_64px&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/progress&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_centerInParent=&quot;true&quot;\n            android:background=&quot;#6BE1E1D1&quot;\n            android:visibility=&quot;gone&quot;&gt;\n\n            &lt;com.github.ybq.android.spinkit.SpinKitView\n                style=&quot;@style/SpinKitView.Large.WanderingCubes&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;@dimen/dp75&quot;\n                android:layout_centerInParent=&quot;true&quot;\n                app:SpinKit_Color=&quot;@color/red_dark&quot; /&gt;\n\n        &lt;/RelativeLayout&gt;\n    &lt;/RelativeLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n<p>I am using in my menifest -</p>\n<pre><code> android:windowSoftInputMode=&quot;adjustResize&quot;\n</code></pre>\n"},{"tags":["java","multithreading","synchronization","atomic","volatile"],"comments":[{"owner":{"account_id":425066,"reputation":9181,"user_id":805437,"accept_rate":55,"display_name":"hardik"},"score":5,"creation_date":1331985462,"post_id":9749746,"comment_id":12402120,"body_markdown":"@JBNizet you are right!!! i have that book, it doesn&#39;t have Atomic concept in brief and i am not getting some concepts of that. of curse it&#39;s my mistake not of author.","body":"@JBNizet you are right!!! i have that book, it doesn&#39;t have Atomic concept in brief and i am not getting some concepts of that. of curse it&#39;s my mistake not of author."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":5,"creation_date":1331985712,"post_id":9749746,"comment_id":12402156,"body_markdown":"You don&#39;t really have to care how it&#39;s implemented (and it varies with the OS). What you have to understand is the contract: the value is incremented atomically, and all the other threads are guaranteed to see the new value.","body":"You don&#39;t really have to care how it&#39;s implemented (and it varies with the OS). What you have to understand is the contract: the value is incremented atomically, and all the other threads are guaranteed to see the new value."}],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":455,"is_accepted":true,"score":455,"last_activity_date":1464902873,"creation_date":1331986082,"answer_id":9749864,"question_id":9749746,"body_markdown":"You are specifically asking about how they *internally work*, so here you are:\r\n\r\n# No synchronization\r\n\r\n    private int counter;\r\n\r\n    public int getNextUniqueIndex() {\r\n      return counter++; \r\n    }\r\n\r\nIt basically reads value from memory, increments it and puts back to memory. This works in single thread but nowadays, in the era of multi-core, multi-CPU, multi-level caches it won&#39;t work correctly. First of all it introduces race condition (several threads can read the value at the same time), but also visibility problems. The value might only be stored in &quot;*local*&quot; CPU memory (some cache) and not be visible for other CPUs/cores (and thus - threads). This is why many refer to *local copy* of a variable in a thread. It is very unsafe. Consider this popular but broken thread-stopping code:\r\n\r\n    private boolean stopped;\r\n\r\n\tpublic void run() {\r\n\t\twhile(!stopped) {\r\n\t\t\t//do some work\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void pleaseStop() {\r\n\t\tstopped = true;\r\n\t}\r\n\r\nAdd `volatile` to `stopped` variable and it works fine - if any other thread modifies `stopped` variable via `pleaseStop()` method, you are guaranteed to see that change immediately in working thread&#39;s `while(!stopped)` loop. BTW this is not a good way to interrupt a thread either, see: https://stackoverflow.com/questions/6410721 and https://stackoverflow.com/questions/7786305.\r\n\r\n# `AtomicInteger`\r\n\r\n    private AtomicInteger counter = new AtomicInteger();\r\n\r\n    public int getNextUniqueIndex() {\r\n      return counter.getAndIncrement();\r\n    }\r\n\r\nThe `AtomicInteger` class uses CAS ([compare-and-swap](http://en.wikipedia.org/wiki/Compare-and-swap)) low-level CPU operations (no synchronization needed!) They allow you to modify a particular variable only if the present value is equal to something else (and is returned successfully). So when you execute `getAndIncrement()` it actually runs in a loop (simplified real implementation):\r\n\r\n    int current;\r\n    do {\r\n      current = get();\r\n    } while(!compareAndSet(current, current + 1));\r\n\r\nSo basically: read; try to store incremented value; if not successful (the value is no longer equal to `current`), read and try again. The `compareAndSet()` is implemented in native code (assembly).\r\n\r\n# `volatile` without synchronization\r\n\r\n    private volatile int counter;\r\n\r\n    public int getNextUniqueIndex() {\r\n      return counter++; \r\n    }\r\n\r\nThis code is not correct. It fixes the visibility issue (`volatile` makes sure other threads can see change made to `counter`) but still has a race condition. This has been [explained][1] multiple times: pre/post-incrementation is not atomic.\r\n\r\nThe only side effect of `volatile` is &quot;*flushing*&quot; caches so that all other parties see the freshest version of the data. This is too strict in most situations; that is why `volatile` is not default.\r\n\r\n# `volatile` without synchronization (2)\r\n\r\n    volatile int i = 0;\r\n    void incIBy5() {\r\n      i += 5;\r\n    }\r\n\r\nThe same problem as above, but even worse because `i` is not `private`. The race condition is still present. Why is it a problem? If, say, two threads run this code simultaneously, the output might be `+ 5` or ` + 10`. However, you are guaranteed to see the change.\r\n\r\n# Multiple independent `synchronized`\r\n\r\n    void incIBy5() {\r\n      int temp;\r\n      synchronized(i) { temp = i }\r\n      synchronized(i) { i = temp + 5 }\r\n    }\r\n\r\nSurprise, this code is incorrect as well. In fact, it is completely wrong. First of all you are synchronizing on `i`, which is about to be changed (moreover, `i` is a primitive, so I guess you are synchronizing on a temporary `Integer` created via autoboxing...) Completely flawed. You could also write:\r\n\r\n    synchronized(new Object()) {\r\n      //thread-safe, SRSLy?\r\n    }\r\n\r\nNo two threads can enter the same `synchronized` block **with the same lock**. In this case (and similarly in your code) the lock object changes upon every execution, so `synchronized` effectively has no effect.\r\n\r\nEven if you have used a final variable (or `this`) for synchronization, the code is still incorrect. Two threads can first read `i` to `temp` synchronously (having the same value locally in `temp`), then the first assigns a new value to `i` (say, from 1 to 6) and the other one does the same thing (from 1 to 6).\r\n\r\nThe synchronization must span from reading to assigning a value. Your first synchronization has no effect (reading an `int` is atomic) and the second as well. In my opinion, these are the correct forms:\r\n\r\n    void synchronized incIBy5() {\r\n      i += 5 \r\n    }\r\n\r\n    void incIBy5() {\r\n      synchronized(this) {\r\n        i += 5 \r\n      }\r\n    }\r\n\r\n    void incIBy5() {\r\n      synchronized(this) {\r\n        int temp = i;\r\n        i = temp + 5;\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25168062/why-is-i-not-atomic","title":"What is the difference between atomic / volatile / synchronized?","body":"<p>You are specifically asking about how they <em>internally work</em>, so here you are:</p>\n\n<h1>No synchronization</h1>\n\n<pre><code>private int counter;\n\npublic int getNextUniqueIndex() {\n  return counter++; \n}\n</code></pre>\n\n<p>It basically reads value from memory, increments it and puts back to memory. This works in single thread but nowadays, in the era of multi-core, multi-CPU, multi-level caches it won't work correctly. First of all it introduces race condition (several threads can read the value at the same time), but also visibility problems. The value might only be stored in \"<em>local</em>\" CPU memory (some cache) and not be visible for other CPUs/cores (and thus - threads). This is why many refer to <em>local copy</em> of a variable in a thread. It is very unsafe. Consider this popular but broken thread-stopping code:</p>\n\n<pre><code>private boolean stopped;\n\npublic void run() {\n    while(!stopped) {\n        //do some work\n    }\n}\n\npublic void pleaseStop() {\n    stopped = true;\n}\n</code></pre>\n\n<p>Add <code>volatile</code> to <code>stopped</code> variable and it works fine - if any other thread modifies <code>stopped</code> variable via <code>pleaseStop()</code> method, you are guaranteed to see that change immediately in working thread's <code>while(!stopped)</code> loop. BTW this is not a good way to interrupt a thread either, see: <a href=\"https://stackoverflow.com/questions/6410721\">How to stop a thread that is running forever without any use</a> and <a href=\"https://stackoverflow.com/questions/7786305\">Stopping a specific java thread</a>.</p>\n\n<h1><code>AtomicInteger</code></h1>\n\n<pre><code>private AtomicInteger counter = new AtomicInteger();\n\npublic int getNextUniqueIndex() {\n  return counter.getAndIncrement();\n}\n</code></pre>\n\n<p>The <code>AtomicInteger</code> class uses CAS (<a href=\"http://en.wikipedia.org/wiki/Compare-and-swap\" rel=\"noreferrer\">compare-and-swap</a>) low-level CPU operations (no synchronization needed!) They allow you to modify a particular variable only if the present value is equal to something else (and is returned successfully). So when you execute <code>getAndIncrement()</code> it actually runs in a loop (simplified real implementation):</p>\n\n<pre><code>int current;\ndo {\n  current = get();\n} while(!compareAndSet(current, current + 1));\n</code></pre>\n\n<p>So basically: read; try to store incremented value; if not successful (the value is no longer equal to <code>current</code>), read and try again. The <code>compareAndSet()</code> is implemented in native code (assembly).</p>\n\n<h1><code>volatile</code> without synchronization</h1>\n\n<pre><code>private volatile int counter;\n\npublic int getNextUniqueIndex() {\n  return counter++; \n}\n</code></pre>\n\n<p>This code is not correct. It fixes the visibility issue (<code>volatile</code> makes sure other threads can see change made to <code>counter</code>) but still has a race condition. This has been <a href=\"https://stackoverflow.com/questions/25168062/why-is-i-not-atomic\">explained</a> multiple times: pre/post-incrementation is not atomic.</p>\n\n<p>The only side effect of <code>volatile</code> is \"<em>flushing</em>\" caches so that all other parties see the freshest version of the data. This is too strict in most situations; that is why <code>volatile</code> is not default.</p>\n\n<h1><code>volatile</code> without synchronization (2)</h1>\n\n<pre><code>volatile int i = 0;\nvoid incIBy5() {\n  i += 5;\n}\n</code></pre>\n\n<p>The same problem as above, but even worse because <code>i</code> is not <code>private</code>. The race condition is still present. Why is it a problem? If, say, two threads run this code simultaneously, the output might be <code>+ 5</code> or <code>+ 10</code>. However, you are guaranteed to see the change.</p>\n\n<h1>Multiple independent <code>synchronized</code></h1>\n\n<pre><code>void incIBy5() {\n  int temp;\n  synchronized(i) { temp = i }\n  synchronized(i) { i = temp + 5 }\n}\n</code></pre>\n\n<p>Surprise, this code is incorrect as well. In fact, it is completely wrong. First of all you are synchronizing on <code>i</code>, which is about to be changed (moreover, <code>i</code> is a primitive, so I guess you are synchronizing on a temporary <code>Integer</code> created via autoboxing...) Completely flawed. You could also write:</p>\n\n<pre><code>synchronized(new Object()) {\n  //thread-safe, SRSLy?\n}\n</code></pre>\n\n<p>No two threads can enter the same <code>synchronized</code> block <strong>with the same lock</strong>. In this case (and similarly in your code) the lock object changes upon every execution, so <code>synchronized</code> effectively has no effect.</p>\n\n<p>Even if you have used a final variable (or <code>this</code>) for synchronization, the code is still incorrect. Two threads can first read <code>i</code> to <code>temp</code> synchronously (having the same value locally in <code>temp</code>), then the first assigns a new value to <code>i</code> (say, from 1 to 6) and the other one does the same thing (from 1 to 6).</p>\n\n<p>The synchronization must span from reading to assigning a value. Your first synchronization has no effect (reading an <code>int</code> is atomic) and the second as well. In my opinion, these are the correct forms:</p>\n\n<pre><code>void synchronized incIBy5() {\n  i += 5 \n}\n\nvoid incIBy5() {\n  synchronized(this) {\n    i += 5 \n  }\n}\n\nvoid incIBy5() {\n  synchronized(this) {\n    int temp = i;\n    i = temp + 5;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1331986381,"creation_date":1331986381,"answer_id":9749891,"question_id":9749746,"body_markdown":"&gt; I know that two threads can not enter in Synchronize block at the same time\r\n\r\nTwo thread cannot enter a synchronized block on the same object twice. This means that two threads can enter the same block on different objects.  This confusion can lead to code like this.\r\n\r\n    private Integer i = 0;\r\n\r\n    synchronized(i) {\r\n       i++;\r\n    }\r\n\r\nThis will not behave as expected as it could be locking on a different object each time.\r\n\r\n&gt; if this is true than How this atomic.incrementAndGet() works without Synchronize ?? and is thread safe ??\r\n\r\nyes. It doesn&#39;t use locking to achieve thread safety.\r\n\r\nIf you want to know how they work in more detail, you can read the code for them.\r\n\r\n&gt; And what is difference between internal reading and writing to Volatile Variable / Atomic Variable ??\r\n\r\nAtomic class uses volatile **fields.** There is no difference in the field.  The difference is the operations performed.  The Atomic classes use CompareAndSwap or CAS operations.\r\n\r\n&gt; i read in some article that thread has local copy of variables what is that ??\r\n\r\nI can only assume that it referring to the fact that each CPU has its own cached view of memory which can be different from every other CPU.  To ensure that your CPU has a consistent view of data, you need to use thread safety techniques. \r\n\r\nThis is only an issue when memory is shared at least one thread updates it.\r\n\r\n\r\n","title":"What is the difference between atomic / volatile / synchronized?","body":"<blockquote>\n  <p>I know that two threads can not enter in Synchronize block at the same time</p>\n</blockquote>\n\n<p>Two thread cannot enter a synchronized block on the same object twice. This means that two threads can enter the same block on different objects.  This confusion can lead to code like this.</p>\n\n<pre><code>private Integer i = 0;\n\nsynchronized(i) {\n   i++;\n}\n</code></pre>\n\n<p>This will not behave as expected as it could be locking on a different object each time.</p>\n\n<blockquote>\n  <p>if this is true than How this atomic.incrementAndGet() works without Synchronize ?? and is thread safe ??</p>\n</blockquote>\n\n<p>yes. It doesn't use locking to achieve thread safety.</p>\n\n<p>If you want to know how they work in more detail, you can read the code for them.</p>\n\n<blockquote>\n  <p>And what is difference between internal reading and writing to Volatile Variable / Atomic Variable ??</p>\n</blockquote>\n\n<p>Atomic class uses volatile <strong>fields.</strong> There is no difference in the field.  The difference is the operations performed.  The Atomic classes use CompareAndSwap or CAS operations.</p>\n\n<blockquote>\n  <p>i read in some article that thread has local copy of variables what is that ??</p>\n</blockquote>\n\n<p>I can only assume that it referring to the fact that each CPU has its own cached view of memory which can be different from every other CPU.  To ensure that your CPU has a consistent view of data, you need to use thread safety techniques. </p>\n\n<p>This is only an issue when memory is shared at least one thread updates it.</p>\n"},{"tags":[],"owner":{"account_id":56888,"reputation":11998,"user_id":170383,"accept_rate":71,"display_name":"David R Tribble"},"down_vote_count":1,"up_vote_count":88,"is_accepted":false,"score":87,"last_activity_date":1469560462,"creation_date":1422382183,"answer_id":28177154,"question_id":9749746,"body_markdown":"Declaring a variable as **volatile** means that modifying its value immediately affects the actual memory storage for the variable. The compiler cannot optimize away any references made to the variable. This guarantees that when one thread modifies the variable, all other threads see the new value immediately. (This is not guaranteed for non-volatile variables.)\r\n\r\nDeclaring an **atomic** variable guarantees that operations made on the variable occur in an atomic fashion, i.e., that all of the substeps of the operation are completed within the thread they are executed and are not interrupted by other threads. For example, an increment-and-test operation requires the variable to be incremented and then compared to another value; an atomic operation guarantees that both of these steps will be completed as if they were a single indivisible/uninterruptible operation.\r\n\r\n**Synchronizing** all accesses to a variable allows only a single thread at a time to access the variable, and forces all other threads to wait for that accessing thread to release its access to the variable. \r\n\r\nSynchronized access is similar to atomic access, but the atomic operations are generally implemented at a lower level of programming. Also, it is entirely possible to synchronize only some accesses to a variable and allow other accesses to be unsynchronized (e.g., synchronize all writes to a variable but none of the reads from it).\r\n\r\nAtomicity, synchronization, and volatility are independent attributes, but are typically used in combination to enforce proper thread cooperation for accessing variables.\r\n\r\n**Addendum** *(April 2016)*\r\n\r\nSynchronized access to a variable is usually implemented using a *monitor* or *semaphore*. These are low-level *mutex* (mutual exclusion) mechanisms that allow a thread to acquire control of a variable or block of code exclusively, forcing all other threads to wait if they also attempt to acquire the same mutex. Once the owning thread releases the mutex, another thread can acquire the mutex in turn.\r\n\r\n**Addendum** *(July 2016)*\r\n\r\nSynchronization occurs on an *object*. This means that calling a synchronized method of a class will lock the `this` object of the call. Static synchronized methods will lock the `Class` object itself.\r\n\r\nLikewise, entering a synchronized block requires locking the `this` object of the method.\r\n\r\nThis means that a synchronized method (or block) can be executing in multiple threads at the same time if they are locking on *different* objects, but only one thread can execute a synchronized method (or block) at a time for any given *single* object.","title":"What is the difference between atomic / volatile / synchronized?","body":"<p>Declaring a variable as <strong>volatile</strong> means that modifying its value immediately affects the actual memory storage for the variable. The compiler cannot optimize away any references made to the variable. This guarantees that when one thread modifies the variable, all other threads see the new value immediately. (This is not guaranteed for non-volatile variables.)</p>\n\n<p>Declaring an <strong>atomic</strong> variable guarantees that operations made on the variable occur in an atomic fashion, i.e., that all of the substeps of the operation are completed within the thread they are executed and are not interrupted by other threads. For example, an increment-and-test operation requires the variable to be incremented and then compared to another value; an atomic operation guarantees that both of these steps will be completed as if they were a single indivisible/uninterruptible operation.</p>\n\n<p><strong>Synchronizing</strong> all accesses to a variable allows only a single thread at a time to access the variable, and forces all other threads to wait for that accessing thread to release its access to the variable. </p>\n\n<p>Synchronized access is similar to atomic access, but the atomic operations are generally implemented at a lower level of programming. Also, it is entirely possible to synchronize only some accesses to a variable and allow other accesses to be unsynchronized (e.g., synchronize all writes to a variable but none of the reads from it).</p>\n\n<p>Atomicity, synchronization, and volatility are independent attributes, but are typically used in combination to enforce proper thread cooperation for accessing variables.</p>\n\n<p><strong>Addendum</strong> <em>(April 2016)</em></p>\n\n<p>Synchronized access to a variable is usually implemented using a <em>monitor</em> or <em>semaphore</em>. These are low-level <em>mutex</em> (mutual exclusion) mechanisms that allow a thread to acquire control of a variable or block of code exclusively, forcing all other threads to wait if they also attempt to acquire the same mutex. Once the owning thread releases the mutex, another thread can acquire the mutex in turn.</p>\n\n<p><strong>Addendum</strong> <em>(July 2016)</em></p>\n\n<p>Synchronization occurs on an <em>object</em>. This means that calling a synchronized method of a class will lock the <code>this</code> object of the call. Static synchronized methods will lock the <code>Class</code> object itself.</p>\n\n<p>Likewise, entering a synchronized block requires locking the <code>this</code> object of the method.</p>\n\n<p>This means that a synchronized method (or block) can be executing in multiple threads at the same time if they are locking on <em>different</em> objects, but only one thread can execute a synchronized method (or block) at a time for any given <em>single</em> object.</p>\n"},{"tags":[],"owner":{"account_id":4822249,"reputation":389,"user_id":4598712,"display_name":"Thomas Mathew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440594731,"creation_date":1440594731,"answer_id":32227622,"question_id":9749746,"body_markdown":"A volatile + synchronization is a fool proof solution for an operation(statement) to be fully atomic which includes multiple instructions to the CPU.\r\n\r\nSay for eg:volatile int i = 2;  i++, which is nothing but i = i + 1; which makes i as the value 3 in the memory after the execution of this statement.\r\nThis includes reading the existing value from memory for i(which is 2), load into the CPU accumulator register and do with the calculation by increment the existing value with one(2 + 1 = 3 in accumulator)  and then write back that incremented value back to the memory.  These operations are not atomic enough though the value is of i is volatile.  i being volatile guarantees only that a SINGLE read/write from memory is atomic and not with MULTIPLE.  Hence, we need to have synchronized also around i++  to keep it to be fool proof atomic statement.  Remember the fact that a statement includes multiple statements.\r\n\r\nHope the explanation is clear enough.\r\n","title":"What is the difference between atomic / volatile / synchronized?","body":"<p>A volatile + synchronization is a fool proof solution for an operation(statement) to be fully atomic which includes multiple instructions to the CPU.</p>\n\n<p>Say for eg:volatile int i = 2;  i++, which is nothing but i = i + 1; which makes i as the value 3 in the memory after the execution of this statement.\nThis includes reading the existing value from memory for i(which is 2), load into the CPU accumulator register and do with the calculation by increment the existing value with one(2 + 1 = 3 in accumulator)  and then write back that incremented value back to the memory.  These operations are not atomic enough though the value is of i is volatile.  i being volatile guarantees only that a SINGLE read/write from memory is atomic and not with MULTIPLE.  Hence, we need to have synchronized also around i++  to keep it to be fool proof atomic statement.  Remember the fact that a statement includes multiple statements.</p>\n\n<p>Hope the explanation is clear enough.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1680786331,"creation_date":1464019238,"answer_id":37395582,"question_id":9749746,"body_markdown":"***volatile:***\r\n\r\n`volatile` is a keyword. `volatile` forces all threads to get latest value of the variable from main memory instead of cache. All threads can access volatile variable value at same time with out lock.\r\n\r\nIt reduces memory consistency error.\r\n\r\n\r\n*When to use: One thread modifies the data and other threads have to read latest value of data. Other threads will take some action with out updating \r\n data*.\r\n\r\n***[AtomicXXX][1]:***\r\n\r\n&gt;`AtomicXXX` classes support lock-free thread-safe programming on single variables. \r\n\r\nThese `AtomicXXX` classes (like `AtomicInteger`) resolves memory inconsistency errors\r\n\r\n*When to use: Multiple threads can read and modify data.* \r\n\r\n***[synchronized][2]:***\r\n\r\n`synchronized` is keyword used to guard a method or code block.  By making method as synchronized , you achieve two things.\r\n\r\n\r\n &gt;1. Two executions of `synchronized` methods on the same object never run\r\n &gt;2. Change in the object state is visible to other threads\r\n\r\n*When to use: Multiple threads can read and modify data. Your business logic not only update the data but also executes atomic operations* \r\n\r\n`AtomicXXX` is equivalent of `volatile + synchronized` even though the implementation is different. \r\n\r\n`AmtomicXXX` extends `volatile` variables + `compareAndSet` methods but does not use synchronization. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html","title":"What is the difference between atomic / volatile / synchronized?","body":"<p><em><strong>volatile:</strong></em></p>\n<p><code>volatile</code> is a keyword. <code>volatile</code> forces all threads to get latest value of the variable from main memory instead of cache. All threads can access volatile variable value at same time with out lock.</p>\n<p>It reduces memory consistency error.</p>\n<p><em>When to use: One thread modifies the data and other threads have to read latest value of data. Other threads will take some action with out updating\ndata</em>.</p>\n<p><em><strong><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/package-summary.html\" rel=\"nofollow noreferrer\">AtomicXXX</a>:</strong></em></p>\n<blockquote>\n<p><code>AtomicXXX</code> classes support lock-free thread-safe programming on single variables.</p>\n</blockquote>\n<p>These <code>AtomicXXX</code> classes (like <code>AtomicInteger</code>) resolves memory inconsistency errors</p>\n<p><em>When to use: Multiple threads can read and modify data.</em></p>\n<p><em><strong><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"nofollow noreferrer\">synchronized</a>:</strong></em></p>\n<p><code>synchronized</code> is keyword used to guard a method or code block.  By making method as synchronized , you achieve two things.</p>\n<blockquote>\n<ol>\n<li>Two executions of <code>synchronized</code> methods on the same object never run</li>\n<li>Change in the object state is visible to other threads</li>\n</ol>\n</blockquote>\n<p><em>When to use: Multiple threads can read and modify data. Your business logic not only update the data but also executes atomic operations</em></p>\n<p><code>AtomicXXX</code> is equivalent of <code>volatile + synchronized</code> even though the implementation is different.</p>\n<p><code>AmtomicXXX</code> extends <code>volatile</code> variables + <code>compareAndSet</code> methods but does not use synchronization.</p>\n"},{"tags":[],"owner":{"account_id":3385419,"reputation":11912,"user_id":2841472,"accept_rate":75,"display_name":"Sai prateek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467613007,"creation_date":1467608356,"answer_id":38177218,"question_id":9749746,"body_markdown":"The Java **volatile** modifier is an example of a special mechanism to guarantee that communication happens between threads. When one thread writes to a volatile variable, and another thread sees that write, the first thread is telling the second about all of the contents of memory up until it performed the write to that volatile variable.\r\n\r\n**Atomic operations** are performed in a single unit of task without interference from other operations. Atomic operations are necessity in multi-threaded environment to avoid data inconsistency.\r\n\r\n","title":"What is the difference between atomic / volatile / synchronized?","body":"<p>The Java <strong>volatile</strong> modifier is an example of a special mechanism to guarantee that communication happens between threads. When one thread writes to a volatile variable, and another thread sees that write, the first thread is telling the second about all of the contents of memory up until it performed the write to that volatile variable.</p>\n\n<p><strong>Atomic operations</strong> are performed in a single unit of task without interference from other operations. Atomic operations are necessity in multi-threaded environment to avoid data inconsistency.</p>\n"},{"tags":[],"owner":{"account_id":6413764,"reputation":69,"user_id":4972577,"display_name":"Ajay Gupta"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1587711166,"creation_date":1541087798,"answer_id":53104865,"question_id":9749746,"body_markdown":"**Synchronized Vs Atomic Vs Volatile:**\r\n\r\n - Volatile and Atomic is apply only on variable , While Synchronized apply on method.\r\n - Volatile ensure about visibility not atomicity/consistency of object , While other both   ensure about visibility and atomicity.\r\n - Volatile variable store in RAM and it’s faster in access but we can’t achive Thread safety   or synchronization whitout synchronized keyword.\r\n - Synchronized implemented as synchronized block or synchronized method while both not. We can thread safe multiple line of code with help of synchronized keyword while with both we can’t achieve the same.\r\n - Synchronized can lock the same class object or different class object while both can’t.\r\n\r\n\r\nPlease correct me if anything i missed.","title":"What is the difference between atomic / volatile / synchronized?","body":"<p><strong>Synchronized Vs Atomic Vs Volatile:</strong></p>\n\n<ul>\n<li>Volatile and Atomic is apply only on variable , While Synchronized apply on method.</li>\n<li>Volatile ensure about visibility not atomicity/consistency of object , While other both   ensure about visibility and atomicity.</li>\n<li>Volatile variable store in RAM and it’s faster in access but we can’t achive Thread safety   or synchronization whitout synchronized keyword.</li>\n<li>Synchronized implemented as synchronized block or synchronized method while both not. We can thread safe multiple line of code with help of synchronized keyword while with both we can’t achieve the same.</li>\n<li>Synchronized can lock the same class object or different class object while both can’t.</li>\n</ul>\n\n<p>Please correct me if anything i missed.</p>\n"}],"owner":{"account_id":425066,"reputation":9181,"user_id":805437,"accept_rate":55,"display_name":"hardik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163109,"favorite_count":0,"down_vote_count":2,"up_vote_count":355,"accepted_answer_id":9749864,"answer_count":7,"score":353,"last_activity_date":1680786331,"creation_date":1331984801,"question_id":9749746,"body_markdown":"How do atomic / volatile / synchronized work internally?\r\n\r\nWhat is the difference between the following code blocks?\r\n\r\nCode 1\r\n\r\n    private int counter;\r\n    \r\n    public int getNextUniqueIndex() {\r\n        return counter++; \r\n    }\r\n\r\nCode 2\r\n\r\n    private AtomicInteger counter;\r\n    \r\n    public int getNextUniqueIndex() {\r\n        return counter.getAndIncrement();\r\n    }\r\n\r\nCode 3\r\n\r\n    private volatile int counter;\r\n    \r\n    public int getNextUniqueIndex() {\r\n        return counter++; \r\n    }\r\n\r\n---\r\n\r\nDoes `volatile` work in the following way? Is\r\n\r\n    volatile int i = 0;\r\n    void incIBy5() {\r\n        i += 5;\r\n    }\r\n\r\nequivalent to \r\n\r\n    Integer i = 5;\r\n    void incIBy5() {\r\n        int temp;\r\n        synchronized(i) { temp = i }\r\n        synchronized(i) { i = temp + 5 }\r\n    }\r\n\r\n\r\nI think that two threads cannot enter a synchronized block at the same time... am I right? If this is true then how does `atomic.incrementAndGet()` work without `synchronized`? And is it thread-safe?\r\n\r\nAnd what is the difference between internal reading and writing to volatile variables / atomic variables? I read in some article that the thread has a local copy of the variables - what is that?","title":"What is the difference between atomic / volatile / synchronized?","body":"<p>How do atomic / volatile / synchronized work internally?</p>\n\n<p>What is the difference between the following code blocks?</p>\n\n<p>Code 1</p>\n\n<pre><code>private int counter;\n\npublic int getNextUniqueIndex() {\n    return counter++; \n}\n</code></pre>\n\n<p>Code 2</p>\n\n<pre><code>private AtomicInteger counter;\n\npublic int getNextUniqueIndex() {\n    return counter.getAndIncrement();\n}\n</code></pre>\n\n<p>Code 3</p>\n\n<pre><code>private volatile int counter;\n\npublic int getNextUniqueIndex() {\n    return counter++; \n}\n</code></pre>\n\n<hr>\n\n<p>Does <code>volatile</code> work in the following way? Is</p>\n\n<pre><code>volatile int i = 0;\nvoid incIBy5() {\n    i += 5;\n}\n</code></pre>\n\n<p>equivalent to </p>\n\n<pre><code>Integer i = 5;\nvoid incIBy5() {\n    int temp;\n    synchronized(i) { temp = i }\n    synchronized(i) { i = temp + 5 }\n}\n</code></pre>\n\n<p>I think that two threads cannot enter a synchronized block at the same time... am I right? If this is true then how does <code>atomic.incrementAndGet()</code> work without <code>synchronized</code>? And is it thread-safe?</p>\n\n<p>And what is the difference between internal reading and writing to volatile variables / atomic variables? I read in some article that the thread has a local copy of the variables - what is that?</p>\n"},{"tags":["java","languagetool"],"owner":{"account_id":21564677,"reputation":33,"user_id":15898699,"display_name":"RealFinn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680786195,"creation_date":1680692468,"question_id":75938609,"body_markdown":"I have a LanguageTool embedded in my Java application. There is a lot of phrases that LanguageTool need to ignore and those phrases contain underscores, so they look like this: CCCC_DDDD. Problem is that if I add &quot;CCCC_DDDD&quot; to ignore.txt file, both CCCC and DDDD are marked as a typos. Is there a way to make LT to ignore that phrase? \r\n\r\nI&#39;ve read [here](https://stackoverflow.com/questions/26003377/how-to-add-two-word-patterns-to-be-ignored-by-languagetool),\r\nthat language tool does not support two word phrases, but there is said, that in that case Language Tool would throw an exception, in my case there is no exceptions thrown.\r\n\r\nI have a workaround but I&#39;d like to achieve that from a LanguageTool level.\r\n\r\nEDIT:\r\nIn console version of LanguageTool, adding phrase &quot;CCCC_DDDD&quot; to ignore.txt does the work. This does not work in &quot;embedded version&quot; of the program.","title":"Using underscore in phrase in LanguageTool","body":"<p>I have a LanguageTool embedded in my Java application. There is a lot of phrases that LanguageTool need to ignore and those phrases contain underscores, so they look like this: CCCC_DDDD. Problem is that if I add &quot;CCCC_DDDD&quot; to ignore.txt file, both CCCC and DDDD are marked as a typos. Is there a way to make LT to ignore that phrase?</p>\n<p>I've read <a href=\"https://stackoverflow.com/questions/26003377/how-to-add-two-word-patterns-to-be-ignored-by-languagetool\">here</a>,\nthat language tool does not support two word phrases, but there is said, that in that case Language Tool would throw an exception, in my case there is no exceptions thrown.</p>\n<p>I have a workaround but I'd like to achieve that from a LanguageTool level.</p>\n<p>EDIT:\nIn console version of LanguageTool, adding phrase &quot;CCCC_DDDD&quot; to ignore.txt does the work. This does not work in &quot;embedded version&quot; of the program.</p>\n"},{"tags":["java","spring","spring-boot","testing","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652213909,"creation_date":1652205956,"answer_id":72191115,"question_id":72189083,"body_markdown":"Of course you could extract the `@RequestMapping` path from your REST controller using reflection and combine it with the path from a handler method in it, but it&#39;s really not worth the hassle and it is much easier to put them into public constants and use those to construct the resulting url in your test. \r\n\r\nAlso, constructing an url before testing it is actually a part of the test - you check that your api url looks like you expect it to.","title":"How to get method URL programmatically in SpringBoot test?","body":"<p>Of course you could extract the <code>@RequestMapping</code> path from your REST controller using reflection and combine it with the path from a handler method in it, but it's really not worth the hassle and it is much easier to put them into public constants and use those to construct the resulting url in your test.</p>\n<p>Also, constructing an url before testing it is actually a part of the test - you check that your api url looks like you expect it to.</p>\n"},{"tags":[],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680786150,"creation_date":1680786150,"answer_id":75949840,"question_id":72189083,"body_markdown":"Use [MvcUriComponentsBuilder][1]\r\n\r\n\r\nLet&#39;s play with kittens:\r\n\r\n\r\n```java\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/cats&quot;)\r\npublic class CatsController {\r\n\r\n    @GetMapping(&quot;/childrenOf&quot;)\r\n    public List&lt;Cat&gt; getChildrenOf(@RequestParam(&quot;mommy&quot;) String mommyName); //omitted\r\n\r\n}\r\n\r\n\r\n\r\n//import static omitted\r\n\r\n\r\n{\r\n    assertDoesNotThrow(()-&gt; getMockMvc.perform(get(\r\n        fromMethodCall(\r\n            on(CatsController.class).getChildrenOf(&quot;luna&quot;)\r\n        ).build().toUri()\r\n    ))\r\n}\r\n```\r\n\r\nThe above results into `http://localhost/api/v1/cats/childrenOf/?mommy=luna`\r\n\r\nI used line breaks and indentation heavily to prominently display the use of MvcUriComponentsBuilder\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/MvcUriComponentsBuilder.html","title":"How to get method URL programmatically in SpringBoot test?","body":"<p>Use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/MvcUriComponentsBuilder.html\" rel=\"nofollow noreferrer\">MvcUriComponentsBuilder</a></p>\n<p>Let's play with kittens:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@RestController\n@RequestMapping(&quot;/api/v1/cats&quot;)\npublic class CatsController {\n\n    @GetMapping(&quot;/childrenOf&quot;)\n    public List&lt;Cat&gt; getChildrenOf(@RequestParam(&quot;mommy&quot;) String mommyName); //omitted\n\n}\n\n\n\n//import static omitted\n\n\n{\n    assertDoesNotThrow(()-&gt; getMockMvc.perform(get(\n        fromMethodCall(\n            on(CatsController.class).getChildrenOf(&quot;luna&quot;)\n        ).build().toUri()\n    ))\n}\n</code></pre>\n<p>The above results into <code>http://localhost/api/v1/cats/childrenOf/?mommy=luna</code></p>\n<p>I used line breaks and indentation heavily to prominently display the use of MvcUriComponentsBuilder</p>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680786150,"creation_date":1652196422,"question_id":72189083,"body_markdown":"I would like to test my controller with\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    class MyTest {\r\n    \r\n        @LocalServerPort\r\n        int port;\r\n    \r\n        @Autowired\r\n        TestRestTemplate rest;\r\n    \r\n        String myUrl = ...;\r\n    \r\n        @Test\r\n        public void testSequence() {\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_JSON);\r\n            String requesString = ...\r\n            HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;( requesString, headers );\r\n            String response = rest.postForObject(myUrl, request, String.class);\r\n\r\nhere I need to hardcode `myUlr` with something like\r\n\r\n     String.format(&quot;http://localhost:%d/my/endpint/path&quot;, port);\r\n\r\nwhere `my/endpint/path` depends on annotations I applied to my controller class and it&#39;s methods. \r\n\r\nBut can I derive it programmatically having class name and method name?","title":"How to get method URL programmatically in SpringBoot test?","body":"<p>I would like to test my controller with</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass MyTest {\n\n    @LocalServerPort\n    int port;\n\n    @Autowired\n    TestRestTemplate rest;\n\n    String myUrl = ...;\n\n    @Test\n    public void testSequence() {\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        String requesString = ...\n        HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;( requesString, headers );\n        String response = rest.postForObject(myUrl, request, String.class);\n</code></pre>\n<p>here I need to hardcode <code>myUlr</code> with something like</p>\n<pre><code> String.format(&quot;http://localhost:%d/my/endpint/path&quot;, port);\n</code></pre>\n<p>where <code>my/endpint/path</code> depends on annotations I applied to my controller class and it's methods.</p>\n<p>But can I derive it programmatically having class name and method name?</p>\n"},{"tags":["java","json","scala","jackson2"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":2,"creation_date":1680803065,"post_id":75949551,"comment_id":133963265,"body_markdown":"Can you clarify with the input data you&#39;re using, output data you&#39;re getting Vs. What you expect?","body":"Can you clarify with the input data you&#39;re using, output data you&#39;re getting Vs. What you expect?"}],"owner":{"account_id":28075636,"reputation":1,"user_id":21447546,"display_name":"Brian Jones"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680784902,"creation_date":1680784300,"question_id":75949551,"body_markdown":"I am trying to use this ObjectMapper to deserialize json into an object while ignoring all undefined properties.  Seems like a pretty common thing to do and found plenty of documentation revolving around `@JsonIgnoreProperties(ignoreUnknown = true)` and `jsonObjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)` both of which I have inplace.  However, my object mapper is not ignoring undefined properties and instead pulling in all properties.  For example if a `Tender` has additional properties, those are being included.\r\n\r\n\r\nI have my object mapper defined as :\r\n\r\n```\r\nval jsonObjectMapper = new ObjectMapper()\r\njsonObjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n```\r\n\r\nI have my mapping class defined as:\r\n\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n//@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n        &quot;messageheader&quot;,\r\n        &quot;messagebody&quot;,\r\n        &quot;lod_tmst&quot;\r\n})\r\n\r\npublic class Sales {\r\n\r\n    private MessageHeader messageHeader;\r\n    private MessageBody messageBody;\r\n    private String lod_tmst = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).format(Calendar.getInstance().getTime());\r\n    @JsonIgnore\r\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonProperty(&quot;messageheader&quot;)\r\n    public MessageHeader getMessageHeader() {\r\n        return messageHeader;\r\n    }\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonProperty(&quot;messageHeader&quot;)\r\n    public void setMessageHeader(MessageHeader messageHeader) {\r\n        this.messageHeader = messageHeader;\r\n    }\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonProperty(&quot;messagebody&quot;)\r\n    public MessageBody getMessageBody() {\r\n        return messageBody;\r\n    }\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonProperty(&quot;messageBody&quot;)\r\n    public void setMessageBody(MessageBody messageBody) {\r\n        this.messageBody = messageBody;\r\n    }\r\n    ....\r\n}\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n//@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n        &quot;tenders&quot;,\r\n        ...\r\n})\r\nclass MessageBody {\r\n    private List&lt;Tender&gt; tenders = null;\r\n    ...\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonProperty(&quot;tndr_dtl&quot;)\r\n    public List&lt;Tender&gt; getTenders() {\r\n        return tenders;\r\n    }\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonProperty(&quot;tenders&quot;)\r\n    public void setTenders(List&lt;Tender&gt; tenders) {\r\n        this.tenders = tenders;\r\n    }\r\n    ...\r\n}\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n//@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n        &quot;tndr_typ_cde&quot;,\r\n        &quot;tndr_id&quot;,\r\n        &quot;tndr_amt&quot;,\r\n        &quot;tndr_voided_ind&quot;\r\n})\r\nclass Tender {\r\n\r\n    private String typeCode;\r\n    private String accountNbr;\r\n    private Double amount;\r\n    private String tenderVoidedIndicator;\r\n\r\n    @JsonIgnore\r\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n\r\n    @JsonProperty(&quot;tndr_typ_cde&quot;)\r\n    public String getTypeCode() {\r\n        return typeCode;\r\n    }\r\n\r\n    @JsonProperty(&quot;typeCode&quot;)\r\n    public void setTypeCode(String typeCode) {\r\n        this.typeCode = typeCode;\r\n    }\r\n\r\n    @JsonProperty(&quot;tndr_id&quot;)\r\n    public String getAccountNbr() {\r\n        return accountNbr;\r\n    }\r\n\r\n    @JsonProperty(&quot;accountNbr&quot;)\r\n    public void setAccountNbr(String accountNbr) {\r\n        this.accountNbr = accountNbr;\r\n    }\r\n\r\n    @JsonProperty(&quot;tndr_amt&quot;)\r\n    public Double getAmount() {\r\n        return amount;\r\n    }\r\n\r\n    @JsonProperty(&quot;amount&quot;)\r\n    public void setAmount(Double amount) {\r\n        this.amount = General.roundDecimal(amount);\r\n    }\r\n\r\n    @JsonProperty(&quot;tndr_voided_ind&quot;)\r\n    public String getTenderVoidedIndicator() {\r\n        return tenderVoidedIndicator;\r\n    }\r\n\r\n    @JsonProperty(&quot;tenderVoidedIndicator&quot;)\r\n    public void setTenderVoidedIndicator(String tenderVoidedIndicator) {\r\n        this.tenderVoidedIndicator = tenderVoidedIndicator;\r\n    }\r\n\r\n    @JsonAnyGetter\r\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\r\n        return this.additionalProperties;\r\n    }\r\n\r\n    @JsonAnySetter\r\n    public void setAdditionalProperty(String name, Object value) {\r\n        this.additionalProperties.put(name, value);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have tried several different variations of annotations but haven&#39;t had any luck.","title":"Jackson object mapper not ignoring properties as defined for nested json","body":"<p>I am trying to use this ObjectMapper to deserialize json into an object while ignoring all undefined properties.  Seems like a pretty common thing to do and found plenty of documentation revolving around <code>@JsonIgnoreProperties(ignoreUnknown = true)</code> and <code>jsonObjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)</code> both of which I have inplace.  However, my object mapper is not ignoring undefined properties and instead pulling in all properties.  For example if a <code>Tender</code> has additional properties, those are being included.</p>\n<p>I have my object mapper defined as :</p>\n<pre><code>val jsonObjectMapper = new ObjectMapper()\njsonObjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n</code></pre>\n<p>I have my mapping class defined as:</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n//@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n        &quot;messageheader&quot;,\n        &quot;messagebody&quot;,\n        &quot;lod_tmst&quot;\n})\n\npublic class Sales {\n\n    private MessageHeader messageHeader;\n    private MessageBody messageBody;\n    private String lod_tmst = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).format(Calendar.getInstance().getTime());\n    @JsonIgnore\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    @JsonProperty(&quot;messageheader&quot;)\n    public MessageHeader getMessageHeader() {\n        return messageHeader;\n    }\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    @JsonProperty(&quot;messageHeader&quot;)\n    public void setMessageHeader(MessageHeader messageHeader) {\n        this.messageHeader = messageHeader;\n    }\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    @JsonProperty(&quot;messagebody&quot;)\n    public MessageBody getMessageBody() {\n        return messageBody;\n    }\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    @JsonProperty(&quot;messageBody&quot;)\n    public void setMessageBody(MessageBody messageBody) {\n        this.messageBody = messageBody;\n    }\n    ....\n}\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n//@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n        &quot;tenders&quot;,\n        ...\n})\nclass MessageBody {\n    private List&lt;Tender&gt; tenders = null;\n    ...\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    @JsonProperty(&quot;tndr_dtl&quot;)\n    public List&lt;Tender&gt; getTenders() {\n        return tenders;\n    }\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    @JsonProperty(&quot;tenders&quot;)\n    public void setTenders(List&lt;Tender&gt; tenders) {\n        this.tenders = tenders;\n    }\n    ...\n}\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n//@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n        &quot;tndr_typ_cde&quot;,\n        &quot;tndr_id&quot;,\n        &quot;tndr_amt&quot;,\n        &quot;tndr_voided_ind&quot;\n})\nclass Tender {\n\n    private String typeCode;\n    private String accountNbr;\n    private Double amount;\n    private String tenderVoidedIndicator;\n\n    @JsonIgnore\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n    @JsonProperty(&quot;tndr_typ_cde&quot;)\n    public String getTypeCode() {\n        return typeCode;\n    }\n\n    @JsonProperty(&quot;typeCode&quot;)\n    public void setTypeCode(String typeCode) {\n        this.typeCode = typeCode;\n    }\n\n    @JsonProperty(&quot;tndr_id&quot;)\n    public String getAccountNbr() {\n        return accountNbr;\n    }\n\n    @JsonProperty(&quot;accountNbr&quot;)\n    public void setAccountNbr(String accountNbr) {\n        this.accountNbr = accountNbr;\n    }\n\n    @JsonProperty(&quot;tndr_amt&quot;)\n    public Double getAmount() {\n        return amount;\n    }\n\n    @JsonProperty(&quot;amount&quot;)\n    public void setAmount(Double amount) {\n        this.amount = General.roundDecimal(amount);\n    }\n\n    @JsonProperty(&quot;tndr_voided_ind&quot;)\n    public String getTenderVoidedIndicator() {\n        return tenderVoidedIndicator;\n    }\n\n    @JsonProperty(&quot;tenderVoidedIndicator&quot;)\n    public void setTenderVoidedIndicator(String tenderVoidedIndicator) {\n        this.tenderVoidedIndicator = tenderVoidedIndicator;\n    }\n\n    @JsonAnyGetter\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\n        return this.additionalProperties;\n    }\n\n    @JsonAnySetter\n    public void setAdditionalProperty(String name, Object value) {\n        this.additionalProperties.put(name, value);\n    }\n\n}\n</code></pre>\n<p>I have tried several different variations of annotations but haven't had any luck.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1680783938,"post_id":75949455,"comment_id":133958447,"body_markdown":"Which java version are you using? I think in later versions, the support for javascript has been removed due to no one wants to maintain it.","body":"Which java version are you using? I think in later versions, the support for javascript has been removed due to no one wants to maintain it."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1680787062,"post_id":75949455,"comment_id":133959241,"body_markdown":"&quot;package not accessible&quot; is not the same as &quot;package not found&quot;. I know that with [Eclipse](https://www.eclipse.org/) you have to modify the configuration in order to make certain packages accessible. Which IDE are you using?","body":"&quot;package not accessible&quot; is not the same as &quot;package not found&quot;. I know that with <a href=\"https://www.eclipse.org/\" rel=\"nofollow noreferrer\">Eclipse</a> you have to modify the configuration in order to make certain packages accessible. Which IDE are you using?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1680791785,"post_id":75949455,"comment_id":133960437,"body_markdown":"if the project is modular, that is, it is using a `module-info.java` file to declare the module, you must add `java.scripting` to that `module-info.java` file (e.g. `requires java.scripting;`)","body":"if the project is modular, that is, it is using a <code>module-info.java</code> file to declare the module, you must add <code>java.scripting</code> to that <code>module-info.java</code> file (e.g. <code>requires java.scripting;</code>)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1680800997,"post_id":75949455,"comment_id":133962809,"body_markdown":"@JustanotherJavaprogrammer The [*Nashorn* JavaScript script engine](https://en.wikipedia.org/wiki/Nashorn_(JavaScript_engine)) was [deprecated in Java 11](https://openjdk.org/jeps/335) and [removed in Java 15](https://openjdk.org/jeps/372). But [`javax.script.ScriptEngineManager`](https://docs.oracle.com/en/java/javase/20/docs/api/java.scripting/javax/script/ScriptEngineManager.html) remains as of Java 20.","body":"@JustanotherJavaprogrammer The <a href=\"https://en.wikipedia.org/wiki/Nashorn_(JavaScript_engine)\" rel=\"nofollow noreferrer\"><i>Nashorn</i> JavaScript script engine</a> was <a href=\"https://openjdk.org/jeps/335\" rel=\"nofollow noreferrer\">deprecated in Java 11</a> and <a href=\"https://openjdk.org/jeps/372\" rel=\"nofollow noreferrer\">removed in Java 15</a>. But <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.scripting/javax/script/ScriptEngineManager.html\" rel=\"nofollow noreferrer\"><code>javax.script.ScriptEngineManager</code></a> remains as of Java 20."},{"owner":{"account_id":28231940,"reputation":23,"user_id":21581024,"display_name":"Hochy_Marmeladky"},"score":0,"creation_date":1681204595,"post_id":75949455,"comment_id":134014833,"body_markdown":"Thank you all. Now I understand what the problems are.","body":"Thank you all. Now I understand what the problems are."}],"answers":[{"tags":[],"owner":{"account_id":28231940,"reputation":23,"user_id":21581024,"display_name":"Hochy_Marmeladky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680784828,"creation_date":1680784828,"answer_id":75949635,"question_id":75949455,"body_markdown":"I just deleted &quot;module-info.java&quot; and everything worked without downloading libraries.","title":"How do I use the java.scripting module?","body":"<p>I just deleted &quot;module-info.java&quot; and everything worked without downloading libraries.</p>\n"}],"owner":{"account_id":28231940,"reputation":23,"user_id":21581024,"display_name":"Hochy_Marmeladky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680784828,"creation_date":1680783725,"question_id":75949455,"body_markdown":"I was looking for a solution to my problem and found a code that solves it. But the code used classes of the java.scripting module. I tried to import it, but got &quot;The package javax.script is not accessible&quot;. Then I thought I needed to import the library. I almost didn&#39;t find JAR files with this library, and when I imported the ones I found, my program didn&#39;t see them. How do I make this code work?\r\n\r\n\r\n```\r\n ScriptEngineManager factory = new ScriptEngineManager();\r\n        ScriptEngine engine = factory.getEngineByName(&quot;JavaScript&quot;);\r\n        try\r\n        {\r\n            imput.setText(&quot;&quot; + engine.eval(imput.getText()));\r\n        } \r\n        catch (ScriptException e1)\r\n        {\r\n            //...\r\n        }\r\n```\r\n","title":"How do I use the java.scripting module?","body":"<p>I was looking for a solution to my problem and found a code that solves it. But the code used classes of the java.scripting module. I tried to import it, but got &quot;The package javax.script is not accessible&quot;. Then I thought I needed to import the library. I almost didn't find JAR files with this library, and when I imported the ones I found, my program didn't see them. How do I make this code work?</p>\n<pre><code> ScriptEngineManager factory = new ScriptEngineManager();\n        ScriptEngine engine = factory.getEngineByName(&quot;JavaScript&quot;);\n        try\n        {\n            imput.setText(&quot;&quot; + engine.eval(imput.getText()));\n        } \n        catch (ScriptException e1)\n        {\n            //...\n        }\n</code></pre>\n"},{"tags":["java","itext7"],"comments":[{"owner":{"account_id":370109,"reputation":695,"user_id":717847,"accept_rate":62,"display_name":"user717847"},"score":0,"creation_date":1680862440,"post_id":75949559,"comment_id":133971509,"body_markdown":"I am converting html to pdf, and it does say in the chapter) it should work. (It does work with TTF).","body":"I am converting html to pdf, and it does say in the chapter) it should work. (It does work with TTF)."}],"owner":{"account_id":370109,"reputation":695,"user_id":717847,"accept_rate":62,"display_name":"user717847"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680784347,"creation_date":1680784347,"question_id":75949559,"body_markdown":"I&#39;m trying to use webfonts to style a pdf I&#39;m producing from html, using itext7.\r\n\r\nI&#39;ve been struggling to make the examples shown in chapter 6 (https://kb.itextpdf.com/home/it7kb/ebooks/itext-7-converting-html-to-pdf-with-pdfhtml/chapter-6-using-fonts-in-pdfhtml) work. I am not doing anything special with ConverterProperties, per that chapter.\r\n\r\n\r\n(kotlin code):\r\n```\r\n        HtmlConverter.convertToPdf(\r\n              ByteArrayInputStream(html.toByteArray(StandardCharsets.UTF_8)), \r\n                          outputStream, converterProperties)\r\n```\r\n\r\n\r\nInitially I tried adding a url to the font on the web:\r\n\r\n```\r\n@font-face {\r\n        font-family: &quot;Roboto Condensed&quot;;\r\n        src: url(&quot;https://fonts.googleapis.com/css2?family=Roboto+Condensed&amp;display=swap&quot;) format(&quot;woff&quot;);\r\n    }\r\n```\r\n\r\nWhen that didn&#39;t work, I then downloaded the webfont and gave it a local path:\r\n\r\n```\r\n    @font-face {\r\n        font-family: &quot;Roboto Condensed&quot;;\r\n        src: url(&quot;/home/myhome/roboto.woff&quot;) format(&quot;woff&quot;);\r\n    }\r\n```\r\n\r\nIn both cases, the html that I&#39;m generating displays the font just fine. However, the PDF that&#39;s produced does not. What am I missing?\r\n","title":"Webfonts with itext7","body":"<p>I'm trying to use webfonts to style a pdf I'm producing from html, using itext7.</p>\n<p>I've been struggling to make the examples shown in chapter 6 (<a href=\"https://kb.itextpdf.com/home/it7kb/ebooks/itext-7-converting-html-to-pdf-with-pdfhtml/chapter-6-using-fonts-in-pdfhtml\" rel=\"nofollow noreferrer\">https://kb.itextpdf.com/home/it7kb/ebooks/itext-7-converting-html-to-pdf-with-pdfhtml/chapter-6-using-fonts-in-pdfhtml</a>) work. I am not doing anything special with ConverterProperties, per that chapter.</p>\n<p>(kotlin code):</p>\n<pre><code>        HtmlConverter.convertToPdf(\n              ByteArrayInputStream(html.toByteArray(StandardCharsets.UTF_8)), \n                          outputStream, converterProperties)\n</code></pre>\n<p>Initially I tried adding a url to the font on the web:</p>\n<pre><code>@font-face {\n        font-family: &quot;Roboto Condensed&quot;;\n        src: url(&quot;https://fonts.googleapis.com/css2?family=Roboto+Condensed&amp;display=swap&quot;) format(&quot;woff&quot;);\n    }\n</code></pre>\n<p>When that didn't work, I then downloaded the webfont and gave it a local path:</p>\n<pre><code>    @font-face {\n        font-family: &quot;Roboto Condensed&quot;;\n        src: url(&quot;/home/myhome/roboto.woff&quot;) format(&quot;woff&quot;);\n    }\n</code></pre>\n<p>In both cases, the html that I'm generating displays the font just fine. However, the PDF that's produced does not. What am I missing?</p>\n"},{"tags":["java","wildfly","jndi","jackrabbit","jca"],"owner":{"account_id":10422812,"reputation":1,"user_id":12123710,"display_name":"Elias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680783883,"creation_date":1680783703,"question_id":75949449,"body_markdown":"By some constraints I have to implement Wildfly in version 10 with Jackrabbit JCA, our client software must connect to the repo.\r\n\r\nIt is said in the documentation of wildfly 10 about the resource adapter: \r\n&quot;Note, that only JNDI bindings under java:/ or java:jboss/ are supported.&quot;\r\n\r\nAnd this for the remote JNDI:\r\n&quot;Only entries within the java:jboss/exported context are accessible over remote JNDI&quot;\r\n\r\nI tried several binding in the naming subsystem but without result.\r\n\r\nIs it possible to set up a remote jackrabbit repository accessible via JNDI on Wildfly 10?\r\n\r\nThanks for your advice.","title":"Wildfly 10 remote JNDI Resource Adapter export","body":"<p>By some constraints I have to implement Wildfly in version 10 with Jackrabbit JCA, our client software must connect to the repo.</p>\n<p>It is said in the documentation of wildfly 10 about the resource adapter:\n&quot;Note, that only JNDI bindings under java:/ or java:jboss/ are supported.&quot;</p>\n<p>And this for the remote JNDI:\n&quot;Only entries within the java:jboss/exported context are accessible over remote JNDI&quot;</p>\n<p>I tried several binding in the naming subsystem but without result.</p>\n<p>Is it possible to set up a remote jackrabbit repository accessible via JNDI on Wildfly 10?</p>\n<p>Thanks for your advice.</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680783798,"creation_date":1680783798,"answer_id":75949465,"question_id":75949303,"body_markdown":"You need to pass in the `Supplier` `mapFactory` to specify the type of `Map` you wish to collect in (`()-&gt;new TreeMap&lt;&gt;()`). Same in case of `TreeSet`\r\n\r\n        final TreeMap&lt;String, TreeMap&lt;String, TreeMap&lt;String, TreeSet&lt;String&gt;&gt;&gt;&gt; collect =\r\n            list.stream()\r\n                .collect(\r\n                    groupingBy(\r\n                        Dto::getValidationType,\r\n                        TreeMap::new,\r\n                        groupingBy(\r\n                            Dto::getSource,\r\n                            TreeMap::new,\r\n                            groupingBy(\r\n                                Dto::getAddress,\r\n                                TreeMap::new,\r\n                                Collectors.mapping(\r\n                                    Dto::getError,\r\n                                    Collectors.collectingAndThen(\r\n                                        Collectors.toSet(),\r\n                                        TreeSet::new)\r\n                                )\r\n                            )\r\n                        )\r\n                    )\r\n                );","title":"Convert List of objects to nested ordered map of ordered lists","body":"<p>You need to pass in the <code>Supplier</code> <code>mapFactory</code> to specify the type of <code>Map</code> you wish to collect in (<code>()-&gt;new TreeMap&lt;&gt;()</code>). Same in case of <code>TreeSet</code></p>\n<pre><code>    final TreeMap&lt;String, TreeMap&lt;String, TreeMap&lt;String, TreeSet&lt;String&gt;&gt;&gt;&gt; collect =\n        list.stream()\n            .collect(\n                groupingBy(\n                    Dto::getValidationType,\n                    TreeMap::new,\n                    groupingBy(\n                        Dto::getSource,\n                        TreeMap::new,\n                        groupingBy(\n                            Dto::getAddress,\n                            TreeMap::new,\n                            Collectors.mapping(\n                                Dto::getError,\n                                Collectors.collectingAndThen(\n                                    Collectors.toSet(),\n                                    TreeSet::new)\n                            )\n                        )\n                    )\n                )\n            );\n</code></pre>\n"}],"owner":{"account_id":4710206,"reputation":333,"user_id":3810920,"accept_rate":67,"display_name":"arnaldop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75949465,"answer_count":1,"score":1,"last_activity_date":1680783798,"creation_date":1680782574,"question_id":75949303,"body_markdown":"I want to convert a list of DTOs into a deep nested map.\r\n\r\nSource format:\r\n```\r\n[\r\n    Dto(validationType=BASIC, source=BASE, address=A4, error=Client is a required field.),\r\n    Dto(validationType=BASIC, source=BASE, address=A4, error=Client must be one of &#39;I&#39;, &#39;G&#39; or &#39;W&#39;.),\r\n    Dto(validationType=BASIC, source=BASE, address=B5, error=Individuals require First and Last Names.),\r\n    Dto(validationType=BASIC, source=BASE, address=D6, error=Individuals require First and Last Names.),\r\n    Dto(validationType=BASIC, source=BASE, address=J7, error=First is a required field.),\r\n    Dto(validationType=BASIC, source=BASE, address=L8, error=Last is a required field.),\r\n    Dto(validationType=BASIC, source=BASE, address=M9, error=Name is a required field.),\r\n    Dto(validationType=BASIC, source=BASE, address=N10, error=Status is a required field.),\r\n    Dto(validationType=BASIC, source=BASE, address=N10, error=Status must be one of &#39;A&#39; or &#39;P&#39;.),\r\n    Dto(validationType=BASIC, source=BASE, address=F16, error=Groups require a Group Name.)\r\n]\r\n```\r\n\r\nTarget format:\r\n```\r\n{\r\n    BASIC = {\r\n        BASE = {\r\n            A4 = [ &quot;Client is a required field.&quot;, &quot;Client must be one of &#39;I&#39;, &#39;G&#39; or &#39;W&#39;.&quot; ],\r\n            B5 = [ &quot;Individuals require First and Last Names.&quot; ],\r\n            D6 = [ &quot;Individuals require First and Last Names.&quot; ],\r\n            J7 = [ &quot;First is a required field.&quot; ],\r\n            L8 = [ &quot;Last is a required field.&quot; ],\r\n            M9 = [ &quot;Name is a required field.&quot; ],\r\n            N10 = [ &quot;Status is a required field.&quot; ],\r\n            N10 = [ &quot;Status must be one of &#39;A&#39; or &#39;P&#39;.&quot; ],\r\n            F16 = [ &quot;Groups require a Group Name.&quot; ]\r\n        }\r\n    }\r\n}\r\n```\r\n                                 \r\nThis code snippet:\r\n```java\r\nfinal Map&lt;String, Map&lt;String, Map&lt;String, ArrayList&lt;String&gt;&gt;&gt;&gt; collect =\r\n    dtoList.stream()\r\n        .collect(\r\n            Collectors.groupingBy(\r\n                Dto::getValidationType,\r\n                Collectors.groupingBy(\r\n                    Dto::getSource,\r\n                    Collectors.groupingBy(\r\n                        Dto::getAddress,\r\n                        Collectors.mapping(\r\n                            Dto::getError,\r\n                            Collectors.collectingAndThen(\r\n                                Collectors.toSet(),\r\n                                ArrayList::new))))));\r\n\r\n```\r\n\r\nproduces this map:\r\n```\r\n{\r\n    BASIC = {\r\n        BASE = {\r\nkey       -&gt;            D6 = [ &quot;Individuals require First and Last Names.&quot;],\r\norder     -&gt;            B5 = [ &quot;Individuals require First and Last Names.],\r\nnot       -&gt;            A4 = [ &quot;Client must be one of &#39;I&#39;, &#39;G&#39; or &#39;W&#39;.&quot;, &quot;Client is a required field.&quot;], &lt;- values&#39; original order lost\r\npreserved -&gt;            F16 = [ &quot;Groups require a Group Name.&quot; ],\r\n          -&gt;            N10 = [ &quot;Status must be one of &#39;A&#39; or &#39;P&#39;.&quot;, &quot;Status is a required field.&quot; ],\r\n          -&gt;            M9 = [ &quot;Name is a required field.&quot; ],\r\n          -&gt;            L8 = [ &quot;Last is a required field.&quot; ],\r\n          -&gt;            J7 = [ &quot;First is a required field.&quot; ]\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe problems are:\r\n1. The keys under BASE are not sorted. I know I need something like a TreeSet, but I am not sure how to collect into such a collection.\r\n2. The values within each list are not preserving their order. &quot;Client is a required field.&quot; should come before &quot;Client must be one of &#39;I&#39;, &#39;G&#39; or &#39;W&#39;.&quot;, because that is their original order.\r\n\r\n","title":"Convert List of objects to nested ordered map of ordered lists","body":"<p>I want to convert a list of DTOs into a deep nested map.</p>\n<p>Source format:</p>\n<pre><code>[\n    Dto(validationType=BASIC, source=BASE, address=A4, error=Client is a required field.),\n    Dto(validationType=BASIC, source=BASE, address=A4, error=Client must be one of 'I', 'G' or 'W'.),\n    Dto(validationType=BASIC, source=BASE, address=B5, error=Individuals require First and Last Names.),\n    Dto(validationType=BASIC, source=BASE, address=D6, error=Individuals require First and Last Names.),\n    Dto(validationType=BASIC, source=BASE, address=J7, error=First is a required field.),\n    Dto(validationType=BASIC, source=BASE, address=L8, error=Last is a required field.),\n    Dto(validationType=BASIC, source=BASE, address=M9, error=Name is a required field.),\n    Dto(validationType=BASIC, source=BASE, address=N10, error=Status is a required field.),\n    Dto(validationType=BASIC, source=BASE, address=N10, error=Status must be one of 'A' or 'P'.),\n    Dto(validationType=BASIC, source=BASE, address=F16, error=Groups require a Group Name.)\n]\n</code></pre>\n<p>Target format:</p>\n<pre><code>{\n    BASIC = {\n        BASE = {\n            A4 = [ &quot;Client is a required field.&quot;, &quot;Client must be one of 'I', 'G' or 'W'.&quot; ],\n            B5 = [ &quot;Individuals require First and Last Names.&quot; ],\n            D6 = [ &quot;Individuals require First and Last Names.&quot; ],\n            J7 = [ &quot;First is a required field.&quot; ],\n            L8 = [ &quot;Last is a required field.&quot; ],\n            M9 = [ &quot;Name is a required field.&quot; ],\n            N10 = [ &quot;Status is a required field.&quot; ],\n            N10 = [ &quot;Status must be one of 'A' or 'P'.&quot; ],\n            F16 = [ &quot;Groups require a Group Name.&quot; ]\n        }\n    }\n}\n</code></pre>\n<p>This code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Map&lt;String, Map&lt;String, Map&lt;String, ArrayList&lt;String&gt;&gt;&gt;&gt; collect =\n    dtoList.stream()\n        .collect(\n            Collectors.groupingBy(\n                Dto::getValidationType,\n                Collectors.groupingBy(\n                    Dto::getSource,\n                    Collectors.groupingBy(\n                        Dto::getAddress,\n                        Collectors.mapping(\n                            Dto::getError,\n                            Collectors.collectingAndThen(\n                                Collectors.toSet(),\n                                ArrayList::new))))));\n\n</code></pre>\n<p>produces this map:</p>\n<pre><code>{\n    BASIC = {\n        BASE = {\nkey       -&gt;            D6 = [ &quot;Individuals require First and Last Names.&quot;],\norder     -&gt;            B5 = [ &quot;Individuals require First and Last Names.],\nnot       -&gt;            A4 = [ &quot;Client must be one of 'I', 'G' or 'W'.&quot;, &quot;Client is a required field.&quot;], &lt;- values' original order lost\npreserved -&gt;            F16 = [ &quot;Groups require a Group Name.&quot; ],\n          -&gt;            N10 = [ &quot;Status must be one of 'A' or 'P'.&quot;, &quot;Status is a required field.&quot; ],\n          -&gt;            M9 = [ &quot;Name is a required field.&quot; ],\n          -&gt;            L8 = [ &quot;Last is a required field.&quot; ],\n          -&gt;            J7 = [ &quot;First is a required field.&quot; ]\n        }\n    }\n}\n</code></pre>\n<p>The problems are:</p>\n<ol>\n<li>The keys under BASE are not sorted. I know I need something like a TreeSet, but I am not sure how to collect into such a collection.</li>\n<li>The values within each list are not preserving their order. &quot;Client is a required field.&quot; should come before &quot;Client must be one of 'I', 'G' or 'W'.&quot;, because that is their original order.</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":0,"creation_date":1680597681,"post_id":75926752,"comment_id":133921067,"body_markdown":"what would be the reason for getting the value of `myString` in `MyBaseAppConfiguration` ? and how is it related to the creation of the bean `MyDAOBean`? Does the creation of the bean &#39;MyDAOBean&#39; depends on the value of `myString`? if yes, how so?","body":"what would be the reason for getting the value of <code>myString</code> in <code>MyBaseAppConfiguration</code> ? and how is it related to the creation of the bean <code>MyDAOBean</code>? Does the creation of the bean &#39;MyDAOBean&#39; depends on the value of <code>myString</code>? if yes, how so?"},{"owner":{"account_id":13427296,"reputation":319,"user_id":9688211,"display_name":"Kaepxer"},"score":0,"creation_date":1680597818,"post_id":75926752,"comment_id":133921106,"body_markdown":"@atish.s I made a note at the end of the question just for this. I can&#39;t explain the business logic behind that I really trying to write. Focusing on the problem will make things easier","body":"@atish.s I made a note at the end of the question just for this. I can&#39;t explain the business logic behind that I really trying to write. Focusing on the problem will make things easier"}],"answers":[{"tags":[],"owner":{"account_id":11164402,"reputation":541,"user_id":8193521,"display_name":"olgunyldz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680596152,"creation_date":1680596152,"answer_id":75927007,"question_id":75926752,"body_markdown":"You can add MyBean as a constructor injection.\r\n\r\n    public class MyBaseAppConfiguration {\r\n        protected String myString;\r\n   \r\n        @Autowired\r\n        public MyBaseAppConfiguration(MyBean myBean ){\r\n          myString = myBean.getMyString();\r\n        }\r\n\r\n\r\n\r\n   \r\n}","title":"Call method after bean initialization but before @Bean called","body":"<p>You can add MyBean as a constructor injection.</p>\n<pre><code>public class MyBaseAppConfiguration {\n    protected String myString;\n\n    @Autowired\n    public MyBaseAppConfiguration(MyBean myBean ){\n      myString = myBean.getMyString();\n    }\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680783582,"creation_date":1680725742,"answer_id":75943642,"question_id":75926752,"body_markdown":"The creation of the bean for `MyDAOBean` seems to have some dependency on a computed value based on the property of `MyBean`.\r\n\r\nThe [`@Conditional`][1] annotation alongside a custom condition can be used to do the operations required; `myString.isEmpty()` is this case.\r\n\r\n    import org.springframework.context.annotation.Condition;\r\n    import org.springframework.context.annotation.ConditionContext;\r\n    import org.springframework.core.type.AnnotatedTypeMetadata;\r\n    \r\n    import java.util.Objects;\r\n    \r\n    public class MyStringIsEmpty implements Condition {\r\n\r\n\t\t@Override\r\n\t\tpublic boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n\t\t\t// Get the spring bean for MyBean\r\n\t\t\tMyBean myBean = Objects.requireNonNull(context.getBeanFactory()).getBean(MyBean.class);\r\n\t\t\r\n\t\t\t// Get the property of myString\r\n\t\t\tString myString = myBean.getMyString();\r\n\t\t\r\n\t\t\t// perform your desired evaluation\r\n\t\t\tboolean isEmpty = myString.isEmpty();\r\n\t\t\r\n\t\t\treturn isEmpty; // if true, the bean will be created\r\n\t\t}\r\n    }\r\n\r\nUsing the custom condition.\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Conditional;\r\n\r\n    @Bean\r\n    @Conditional(MyStringIsEmpty.class)\r\n    public MyDAOBean getMyDAOBean() {\r\n        return new MyDAOBean();\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Conditional.html\r\n","title":"Call method after bean initialization but before @Bean called","body":"<p>The creation of the bean for <code>MyDAOBean</code> seems to have some dependency on a computed value based on the property of <code>MyBean</code>.</p>\n<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Conditional.html\" rel=\"nofollow noreferrer\"><code>@Conditional</code></a> annotation alongside a custom condition can be used to do the operations required; <code>myString.isEmpty()</code> is this case.</p>\n<pre><code>import org.springframework.context.annotation.Condition;\nimport org.springframework.context.annotation.ConditionContext;\nimport org.springframework.core.type.AnnotatedTypeMetadata;\n\nimport java.util.Objects;\n\npublic class MyStringIsEmpty implements Condition {\n\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        // Get the spring bean for MyBean\n        MyBean myBean = Objects.requireNonNull(context.getBeanFactory()).getBean(MyBean.class);\n    \n        // Get the property of myString\n        String myString = myBean.getMyString();\n    \n        // perform your desired evaluation\n        boolean isEmpty = myString.isEmpty();\n    \n        return isEmpty; // if true, the bean will be created\n    }\n}\n</code></pre>\n<p>Using the custom condition.</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Conditional;\n\n@Bean\n@Conditional(MyStringIsEmpty.class)\npublic MyDAOBean getMyDAOBean() {\n    return new MyDAOBean();\n}\n</code></pre>\n"}],"owner":{"account_id":13427296,"reputation":319,"user_id":9688211,"display_name":"Kaepxer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75927007,"answer_count":2,"score":0,"last_activity_date":1680783582,"creation_date":1680594379,"question_id":75926752,"body_markdown":"    @Configuration\r\n    public class MyAppConfiguration extends MyBaseAppConfiguration {\r\n    \t@Bean\r\n    \tpublic MyDAOBean getMyDAOBean() {\r\n            boolean isEmpty = myString.isEmpty();\r\n    \t\treturn new MyDAOBean();\r\n    \t}\r\n    }\r\n\r\n    @Component\r\n    @ConfigurationProperties(prefix=&quot;hey&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class MyBean {\r\n        private String myString;\r\n    }\r\n\r\n\r\n    public class MyBaseAppConfiguration {\r\n        @Autowired\r\n        private MyBean myBean;\r\n    \r\n        protected String myString;\r\n\r\n    \t//I need some annotation to call this (@PostConstruct maybe?)\r\n    \tpublic void setMyString() {\r\n            this.myString= myBean.getMyString();\r\n    \t}\r\n    }\r\n\r\nI want to set `myString` with something that I got from `myBean`. So I need some annotation to call method that I set this field after myBean initiliazed but before `getMyDAOBean` called. `@PostConstruct` currently working for this situation but I need to be sure if it is always working. Does it do the job or there is something I don&#39;t know and this is risky?\r\n\r\nPlease ignore simplicity of example. `myBean.getMyString()` in `getMyDAOBean` would be more easy but It&#39;s more complex in real, just focus on the problem.\r\n\r\nEdit: How about setter-injection way? Does it make any difference? More safety or else?\r\n\r\n\r\n    public class MyBaseAppConfiguration {\r\n        protected String myString;\r\n\r\n    \t@Autowired\r\n    \tpublic void setMyString(MyBean myBean) {\r\n            this.myString= myBean.getMyString();\r\n    \t}\r\n    }\r\n\r\n","title":"Call method after bean initialization but before @Bean called","body":"<pre><code>@Configuration\npublic class MyAppConfiguration extends MyBaseAppConfiguration {\n    @Bean\n    public MyDAOBean getMyDAOBean() {\n        boolean isEmpty = myString.isEmpty();\n        return new MyDAOBean();\n    }\n}\n\n@Component\n@ConfigurationProperties(prefix=&quot;hey&quot;)\n@Getter\n@Setter\npublic class MyBean {\n    private String myString;\n}\n\n\npublic class MyBaseAppConfiguration {\n    @Autowired\n    private MyBean myBean;\n\n    protected String myString;\n\n    //I need some annotation to call this (@PostConstruct maybe?)\n    public void setMyString() {\n        this.myString= myBean.getMyString();\n    }\n}\n</code></pre>\n<p>I want to set <code>myString</code> with something that I got from <code>myBean</code>. So I need some annotation to call method that I set this field after myBean initiliazed but before <code>getMyDAOBean</code> called. <code>@PostConstruct</code> currently working for this situation but I need to be sure if it is always working. Does it do the job or there is something I don't know and this is risky?</p>\n<p>Please ignore simplicity of example. <code>myBean.getMyString()</code> in <code>getMyDAOBean</code> would be more easy but It's more complex in real, just focus on the problem.</p>\n<p>Edit: How about setter-injection way? Does it make any difference? More safety or else?</p>\n<pre><code>public class MyBaseAppConfiguration {\n    protected String myString;\n\n    @Autowired\n    public void setMyString(MyBean myBean) {\n        this.myString= myBean.getMyString();\n    }\n}\n</code></pre>\n"},{"tags":["java","forgerock"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680878740,"post_id":75949435,"comment_id":133974591,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":19404007,"reputation":1,"user_id":14189889,"display_name":"Prasad .teamup"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680783550,"creation_date":1680783550,"question_id":75949435,"body_markdown":"I&#39;m new to ForgeRock.I am facing an issue that I&#39;m unable to make a specific user not use my custom node but I found we can enable or disable a journey but I didn&#39;t find about nodes. \r\n\r\nI tried to modify plugin class but it not working and that is not feasible solution","title":"How to disable or hide a my custom node to a specific user in ForgeRock","body":"<p>I'm new to ForgeRock.I am facing an issue that I'm unable to make a specific user not use my custom node but I found we can enable or disable a journey but I didn't find about nodes.</p>\n<p>I tried to modify plugin class but it not working and that is not feasible solution</p>\n"},{"tags":["java","hibernate","maven","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1680555694,"post_id":75923677,"comment_id":133915504,"body_markdown":"Do you run the project on JDK 1.8?","body":"Do you run the project on JDK 1.8?"},{"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"score":0,"creation_date":1680560745,"post_id":75923677,"comment_id":133916314,"body_markdown":"please post the stacktrace of your exception","body":"please post the stacktrace of your exception"}],"answers":[{"tags":[],"owner":{"account_id":28206524,"reputation":11,"user_id":21559527,"display_name":"doradura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680783362,"creation_date":1680783362,"answer_id":75949415,"question_id":75923677,"body_markdown":"I added this to my pom.xml\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Exception java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException in a simple maven hibernate project with mysql","body":"<p>I added this to my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n  &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":28206524,"reputation":11,"user_id":21559527,"display_name":"doradura"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680783362,"creation_date":1680555122,"question_id":75923677,"body_markdown":"I&#39;m working on a project using maven, hibernate and mysql in intellij idea. This is my pom.xml:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;tsp3&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;tsp3&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.sourse&gt;1.8&lt;/maven.compiler.sourse&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;hibernate-version&gt;5.0.1.Final&lt;/hibernate-version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;5.0.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- for JPA, use hibernate-entitymanager instead of hibernate-core --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    &lt;version&gt;5.0.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.12&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;version&gt;8.0.32&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-tools&lt;/artifactId&gt;\r\n      &lt;version&gt;4.3.2.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\nThis is my hibernate.cfg.xml\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;170302&lt;/property&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;mapping class=&quot;org.example.MessegesEntity&quot;/&gt;\r\n        &lt;mapping resource=&quot;mappings/MessegesEntity.hbm.xml&quot;/&gt;\r\n        &lt;mapping resource=&quot;mappings/ThemeEntity.hbm.xml&quot;/&gt;\r\n        &lt;mapping class=&quot;org.example.ThemeEntity&quot;/&gt;\r\n        &lt;mapping resource=&quot;mappings/UsersEntity.hbm.xml&quot;/&gt;\r\n        &lt;mapping class=&quot;org.example.UsersEntity&quot;/&gt;\r\n        &lt;!-- &lt;property name=&quot;connection.username&quot;/&gt; --&gt;\r\n        &lt;!-- &lt;property name=&quot;connection.password&quot;/&gt; --&gt;\r\n\r\n        &lt;!-- DB schema will be updated if needed --&gt;\r\n        &lt;!-- &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; --&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\nThis is my SessionFactory class\r\n\r\n```\r\nimport org.example.MessegesEntity;\r\nimport org.example.ThemeEntity;\r\nimport org.example.UsersEntity;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\nimport org.hibernate.cfg.Configuration;\r\n\r\npublic class HibernateSessionFactoryUtil {\r\n\r\n    private static SessionFactory sessionFactory;\r\n\r\n    private HibernateSessionFactoryUtil() {}\r\n\r\n    public static SessionFactory getSessionFactory() {\r\n        if (sessionFactory == null) {\r\n            try {\r\n                Configuration configuration = new Configuration().configure();\r\n                configuration.addAnnotatedClass(MessegesEntity.class);\r\n                configuration.addAnnotatedClass(UsersEntity.class);\r\n                configuration.addAnnotatedClass(ThemeEntity.class);\r\n                StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());\r\n                sessionFactory = configuration.buildSessionFactory(builder.build());\r\n\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Exception!&quot; + e);\r\n            }\r\n        }\r\n        return sessionFactory;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI have DB and mappings. Also I have classes, DAO and Service classes for my tables. I try to create new user and save it to my DB in my main method. The first exception appear in HibernateSessionFactoryUtil class in Configuration configuration = new Configuration().configure();\r\n\r\nAll my exceptions: \r\n[![enter image description here][1]][1]\r\n\r\njdk version 20?\r\n[![enter image description here][2]][2]\r\nI would be grateful for your help!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c0uSx.png\r\n  [2]: https://i.stack.imgur.com/RnvvA.png","title":"Exception java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException in a simple maven hibernate project with mysql","body":"<p>I'm working on a project using maven, hibernate and mysql in intellij idea. This is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;tsp3&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;tsp3&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.sourse&gt;1.8&lt;/maven.compiler.sourse&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;hibernate-version&gt;5.0.1.Final&lt;/hibernate-version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;5.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- for JPA, use hibernate-entitymanager instead of hibernate-core --&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;5.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n      &lt;version&gt;8.0.32&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-tools&lt;/artifactId&gt;\n      &lt;version&gt;4.3.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is my hibernate.cfg.xml</p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306&lt;/property&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;170302&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;mapping class=&quot;org.example.MessegesEntity&quot;/&gt;\n        &lt;mapping resource=&quot;mappings/MessegesEntity.hbm.xml&quot;/&gt;\n        &lt;mapping resource=&quot;mappings/ThemeEntity.hbm.xml&quot;/&gt;\n        &lt;mapping class=&quot;org.example.ThemeEntity&quot;/&gt;\n        &lt;mapping resource=&quot;mappings/UsersEntity.hbm.xml&quot;/&gt;\n        &lt;mapping class=&quot;org.example.UsersEntity&quot;/&gt;\n        &lt;!-- &lt;property name=&quot;connection.username&quot;/&gt; --&gt;\n        &lt;!-- &lt;property name=&quot;connection.password&quot;/&gt; --&gt;\n\n        &lt;!-- DB schema will be updated if needed --&gt;\n        &lt;!-- &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; --&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>This is my SessionFactory class</p>\n<pre><code>import org.example.MessegesEntity;\nimport org.example.ThemeEntity;\nimport org.example.UsersEntity;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\n\npublic class HibernateSessionFactoryUtil {\n\n    private static SessionFactory sessionFactory;\n\n    private HibernateSessionFactoryUtil() {}\n\n    public static SessionFactory getSessionFactory() {\n        if (sessionFactory == null) {\n            try {\n                Configuration configuration = new Configuration().configure();\n                configuration.addAnnotatedClass(MessegesEntity.class);\n                configuration.addAnnotatedClass(UsersEntity.class);\n                configuration.addAnnotatedClass(ThemeEntity.class);\n                StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());\n                sessionFactory = configuration.buildSessionFactory(builder.build());\n\n            } catch (Exception e) {\n                System.out.println(&quot;Exception!&quot; + e);\n            }\n        }\n        return sessionFactory;\n    }\n}\n</code></pre>\n<p>I have DB and mappings. Also I have classes, DAO and Service classes for my tables. I try to create new user and save it to my DB in my main method. The first exception appear in HibernateSessionFactoryUtil class in Configuration configuration = new Configuration().configure();</p>\n<p>All my exceptions:\n<a href=\"https://i.stack.imgur.com/c0uSx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c0uSx.png\" alt=\"enter image description here\" /></a></p>\n<p>jdk version 20?\n<a href=\"https://i.stack.imgur.com/RnvvA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RnvvA.png\" alt=\"enter image description here\" /></a>\nI would be grateful for your help!</p>\n"},{"tags":["java","css","itext","flying-saucer"],"answers":[{"tags":[],"owner":{"account_id":1008655,"reputation":8966,"user_id":1021720,"accept_rate":60,"display_name":"obourgain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594374735,"creation_date":1594374735,"answer_id":62831717,"question_id":62771402,"body_markdown":"If you&#39;re using a `table`, you can use the following CSS style, which will repeat `thead` on each page.\r\n\r\n    table {\r\n        -fs-table-paginate: paginate;\r\n        border-spacing: 0;\r\n    }\r\n\r\nIf you&#39;re using `div`s, you can use page headers to repeat some content on each page.\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;style&gt;\r\n            @page {  @top-center {content: element(header);}  }\r\n            #header {position: running(header);}\r\n        &lt;/style&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div id=&quot;header&quot;&gt;Header&lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"flyingsaucer/itext - is it possible to have table header on each PDF page","body":"<p>If you're using a <code>table</code>, you can use the following CSS style, which will repeat <code>thead</code> on each page.</p>\n<pre><code>table {\n    -fs-table-paginate: paginate;\n    border-spacing: 0;\n}\n</code></pre>\n<p>If you're using <code>div</code>s, you can use page headers to repeat some content on each page.</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;style&gt;\n        @page {  @top-center {content: element(header);}  }\n        #header {position: running(header);}\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=&quot;header&quot;&gt;Header&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":11331751,"reputation":1903,"user_id":8309065,"display_name":"Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680782817,"creation_date":1594111649,"question_id":62771402,"body_markdown":"I have an HTML file which converted into PDF file with 5+ pages (a4 size)\r\nalmost all pages it&#39;s a big table which created using DIVs\r\nthe problem is that the table header is present only on the first page, but I want to have it on each page where the table present.\r\n\r\nIs there any way how to add repeating table header on each page?","title":"flyingsaucer/itext - is it possible to have table header on each PDF page","body":"<p>I have an HTML file which converted into PDF file with 5+ pages (a4 size)\nalmost all pages it's a big table which created using DIVs\nthe problem is that the table header is present only on the first page, but I want to have it on each page where the table present.</p>\n<p>Is there any way how to add repeating table header on each page?</p>\n"},{"tags":["java","talend","snowflake-schema"],"owner":{"account_id":2734872,"reputation":1610,"user_id":2357766,"accept_rate":85,"display_name":"Rajesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680782381,"creation_date":1678910231,"question_id":75749503,"body_markdown":"I am trying to connect to Snowflake and insert/Retrieve data from it for the connection purpose I use SnowFlake in MetaData section I have given all the details correctly and the connection is successful , when I go to the next step I get list of tables when I click on Finish it shows Save Failed! error with below details\r\n\r\n\r\n\r\nWhen I try with Snowflake Input component the connection gets successful but when I run Nothing happens\r\n\r\n\r\n\r\nI use Talend 8.0.1\r\n\r\n         Snowflake JDBC Version 3.13\r\n\r\n\r\n\r\nSave failed!\r\n\r\n org.eclipse.core.runtime.CoreException: Error when saving the connection\r\n\r\n   at org.talend.repository.generic.ui.GenericConnWizard$1.run(GenericConnWizard.java:311)\r\n\r\n   at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2313)\r\n\r\n   at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2338)\r\n\r\n   at org.talend.repository.generic.ui.GenericConnWizard.createOrUpdateConnectionItem(GenericConnWizard.java:319)\r\n\r\n   at org.talend.repository.generic.ui.GenericConnWizard.performFinish(GenericConnWizard.java:259)\r\n\r\n   at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:832)\r\n\r\n   at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:472)\r\n\r\n   at org.eclipse.jface.dialogs.Dialog.lambda$0(Dialog.java:619)\r\n\r\n   at org.eclipse.swt.events.SelectionListener$1.widgetSelected(SelectionListener.java:84)\r\n\r\n   at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\r\n\r\n   at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\r\n   at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4209)\r\n\r\n   at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1043)\r\n\r\n   at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4026)\r\n\r\n   at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3626)\r\n\r\n   at org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\r\n\r\n   at org.eclipse.jface.window.Window.open(Window.java:799)\r\n\r\n   at org.talend.repository.generic.action.GenericAction.doRun(GenericAction.java:71)\r\n\r\n   at org.talend.repository.ui.actions.AContextualAction$2.run(AContextualAction.java:678)\r\n\r\n   at org.talend.repository.RepositoryWorkUnit.executeRun(RepositoryWorkUnit.java:103)\r\n\r\n   at org.talend.core.repository.model.AbstractRepositoryFactory.executeRepositoryWorkUnit(AbstractRepositoryFactory.java:259)\r\n\r\n   at org.talend.repository.localprovider.model.LocalRepositoryFactory.executeRepositoryWorkUnit(LocalRepositoryFactory.java:3767)\r\n\r\n   at org.talend.core.repository.model.ProxyRepositoryFactory.executeRepositoryWorkUnit(ProxyRepositoryFactory.java:2679)\r\n\r\n   at org.talend.repository.ui.actions.AContextualAction.run(AContextualAction.java:688)\r\n\r\n   at org.eclipse.jface.action.Action.runWithEvent(Action.java:474)\r\n\r\n   at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\r\n\r\n   at org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\r\n\r\n   at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\r\n   at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4209)\r\n\r\n   at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1043)\r\n\r\n   at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4026)\r\n\r\n   at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3626)\r\n\r\n   at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1157)\r\n\r\n   at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\r\n   at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n\r\n   at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n\r\n   at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:644)\r\n\r\n   at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\r\n   at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)\r\n\r\n   at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)\r\n\r\n   at org.talend.rcp.intro.Application.start(Application.java:303)\r\n\r\n   at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\r\n   at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\r\n\r\n   at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\r\n   at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n\r\n   at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\r\n   at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\r\n   at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\r\n   at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\r\n\r\n   at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\r\n\r\n   at org.eclipse.equinox.launcher.Main.run(Main.java:1462)\r\n\r\n Caused by: org.talend.daikon.exception.TalendRuntimeException: FAILED_INVOKE_METHOD:{class=org.talend.components.snowflake.SnowflakeTableListProperties, method=afterFormFinishMain}\r\n\r\n   at org.talend.daikon.properties.PropertiesDynamicMethodHelper.doInvoke(PropertiesDynamicMethodHelper.java:109)\r\n\r\n   at org.talend.daikon.properties.PropertiesDynamicMethodHelper.afterFormFinish(PropertiesDynamicMethodHelper.java:323)\r\n\r\n   at org.talend.daikon.properties.service.PropertiesServiceImpl.afterFormFinish(PropertiesServiceImpl.java:135)\r\n\r\n   at org.talend.components.api.service.internal.osgi.ComponentServiceOsgi.afterFormFinish(ComponentServiceOsgi.java:177)\r\n\r\n   at org.talend.repository.generic.ui.GenericConnWizard$1.run(GenericConnWizard.java:307)\r\n\r\n   ... 50 more\r\n\r\n Caused by: java.lang.reflect.InvocationTargetException\r\n\r\n   at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\r\n   at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\r\n   at org.talend.daikon.properties.PropertiesDynamicMethodHelper.doInvoke(PropertiesDynamicMethodHelper.java:105)\r\n\r\n   ... 54 more\r\n\r\n Caused by: com.cedarsoftware.util.io.JsonIoException: JsonIoException setting field &#39;status&#39; on target: OK null with value: {name=null}\r\n\r\n   at com.cedarsoftware.util.io.ObjectResolver.assignField(ObjectResolver.java:229)\r\n\r\n   at com.cedarsoftware.util.io.ObjectResolver.traverseFields(ObjectResolver.java:85)\r\n\r\n   at com.cedarsoftware.util.io.Resolver.convertMapsToObjects(Resolver.java:184)\r\n\r\n   at com.cedarsoftware.util.io.JsonReader.convertParsedMapsToJava(JsonReader.java:747)\r\n\r\n   at com.cedarsoftware.util.io.JsonReader.readObject(JsonReader.java:694)\r\n\r\n   at com.cedarsoftware.util.io.JsonReader.jsonToJava(JsonReader.java:426)\r\n\r\n   at org.talend.daikon.serialize.SerializerDeserializer.fromSerialized(SerializerDeserializer.java:171)\r\n\r\n   at org.talend.daikon.serialize.SerializerDeserializer.fromSerialized(SerializerDeserializer.java:135)\r\n\r\n   at org.talend.daikon.properties.Properties$Helper.fromSerializedPersistent(Properties.java:277)\r\n\r\n   at org.talend.designer.core.generic.utils.ComponentsUtils.getComponentPropertiesFromSerialized(ComponentsUtils.java:860)\r\n\r\n   at org.talend.designer.core.generic.utils.ComponentsUtils.getComponentPropertiesFromSerialized(ComponentsUtils.java:854)\r\n\r\n   at org.talend.repository.generic.util.GenericConnectionUtil.synNamePropertyWithItem(GenericConnectionUtil.java:54)\r\n\r\n   at org.talend.repository.generic.handler.GenericRepositoryContentHandler.save(GenericRepositoryContentHandler.java:107)\r\n\r\n   at org.talend.repository.localprovider.model.LocalRepositoryFactory.save(LocalRepositoryFactory.java:2671)\r\n\r\n   at org.talend.repository.localprovider.model.LocalRepositoryFactory.save(LocalRepositoryFactory.java:2527)\r\n\r\n   at org.talend.core.repository.model.ProxyRepositoryFactory.save(ProxyRepositoryFactory.java:1649)\r\n\r\n   at org.talend.core.repository.model.ProxyRepositoryFactory.save(ProxyRepositoryFactory.java:1643)\r\n\r\n   at org.talend.repository.generic.persistence.GenericRepository.storeProperties(GenericRepository.java:91)\r\n\r\n   at org.talend.repository.generic.persistence.GenericRepository.storeProperties(GenericRepository.java:1)\r\n\r\n   at org.talend.components.snowflake.SnowflakeTableListProperties.afterFormFinishMain(SnowflakeTableListProperties.java:93)\r\n\r\n   at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\r\n   ... 56 more\r\n\r\n Caused by: com.cedarsoftware.util.io.JsonIoException: Class listed in @type [org.talend.daikon.properties.ValidationResult$Result] is not found\r\n\r\n   at com.cedarsoftware.util.io.ObjectResolver.readIfMatching(ObjectResolver.java:629)\r\n\r\n   at com.cedarsoftware.util.io.ObjectResolver.assignField(ObjectResolver.java:151)\r\n\r\n   ... 76 more\r\n\r\n Caused by: java.lang.NullPointerException: Name is null\r\n\r\n   at java.base/java.lang.Enum.valueOf(Enum.java:272)\r\n\r\n   at com.cedarsoftware.util.io.Resolver.getEnum(Resolver.java:515)\r\n\r\n   at com.cedarsoftware.util.io.Resolver.createJavaObjectInstance(Resolver.java:380)\r\n\r\n   at com.cedarsoftware.util.io.ObjectResolver.readIfMatching(ObjectResolver.java:625)\r\n\r\n   ... 77 more\r\n\r\n\r\n\r\n\r\n\r\nI tried with JDK 19/JDK 1.8/JDK 11 still I get the above error, please help\r\n\r\n\r\n\r\n\r\n\r\n","title":"Cannot Save Snowflake Connection","body":"<p>I am trying to connect to Snowflake and insert/Retrieve data from it for the connection purpose I use SnowFlake in MetaData section I have given all the details correctly and the connection is successful , when I go to the next step I get list of tables when I click on Finish it shows Save Failed! error with below details</p>\n<p>When I try with Snowflake Input component the connection gets successful but when I run Nothing happens</p>\n<p>I use Talend 8.0.1</p>\n<pre><code>     Snowflake JDBC Version 3.13\n</code></pre>\n<p>Save failed!</p>\n<p>org.eclipse.core.runtime.CoreException: Error when saving the connection</p>\n<p>at org.talend.repository.generic.ui.GenericConnWizard$1.run(GenericConnWizard.java:311)</p>\n<p>at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2313)</p>\n<p>at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2338)</p>\n<p>at org.talend.repository.generic.ui.GenericConnWizard.createOrUpdateConnectionItem(GenericConnWizard.java:319)</p>\n<p>at org.talend.repository.generic.ui.GenericConnWizard.performFinish(GenericConnWizard.java:259)</p>\n<p>at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:832)</p>\n<p>at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:472)</p>\n<p>at org.eclipse.jface.dialogs.Dialog.lambda$0(Dialog.java:619)</p>\n<p>at org.eclipse.swt.events.SelectionListener$1.widgetSelected(SelectionListener.java:84)</p>\n<p>at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)</p>\n<p>at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)</p>\n<p>at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4209)</p>\n<p>at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1043)</p>\n<p>at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4026)</p>\n<p>at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3626)</p>\n<p>at org.eclipse.jface.window.Window.runEventLoop(Window.java:823)</p>\n<p>at org.eclipse.jface.window.Window.open(Window.java:799)</p>\n<p>at org.talend.repository.generic.action.GenericAction.doRun(GenericAction.java:71)</p>\n<p>at org.talend.repository.ui.actions.AContextualAction$2.run(AContextualAction.java:678)</p>\n<p>at org.talend.repository.RepositoryWorkUnit.executeRun(RepositoryWorkUnit.java:103)</p>\n<p>at org.talend.core.repository.model.AbstractRepositoryFactory.executeRepositoryWorkUnit(AbstractRepositoryFactory.java:259)</p>\n<p>at org.talend.repository.localprovider.model.LocalRepositoryFactory.executeRepositoryWorkUnit(LocalRepositoryFactory.java:3767)</p>\n<p>at org.talend.core.repository.model.ProxyRepositoryFactory.executeRepositoryWorkUnit(ProxyRepositoryFactory.java:2679)</p>\n<p>at org.talend.repository.ui.actions.AContextualAction.run(AContextualAction.java:688)</p>\n<p>at org.eclipse.jface.action.Action.runWithEvent(Action.java:474)</p>\n<p>at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)</p>\n<p>at org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)</p>\n<p>at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)</p>\n<p>at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4209)</p>\n<p>at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1043)</p>\n<p>at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4026)</p>\n<p>at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3626)</p>\n<p>at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1157)</p>\n<p>at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)</p>\n<p>at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)</p>\n<p>at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)</p>\n<p>at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:644)</p>\n<p>at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)</p>\n<p>at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)</p>\n<p>at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)</p>\n<p>at org.talend.rcp.intro.Application.start(Application.java:303)</p>\n<p>at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)</p>\n<p>at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)</p>\n<p>at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)</p>\n<p>at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)</p>\n<p>at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)</p>\n<p>at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)</p>\n<p>at java.base/java.lang.reflect.Method.invoke(Method.java:578)</p>\n<p>at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)</p>\n<p>at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)</p>\n<p>at org.eclipse.equinox.launcher.Main.run(Main.java:1462)</p>\n<p>Caused by: org.talend.daikon.exception.TalendRuntimeException: FAILED_INVOKE_METHOD:{class=org.talend.components.snowflake.SnowflakeTableListProperties, method=afterFormFinishMain}</p>\n<p>at org.talend.daikon.properties.PropertiesDynamicMethodHelper.doInvoke(PropertiesDynamicMethodHelper.java:109)</p>\n<p>at org.talend.daikon.properties.PropertiesDynamicMethodHelper.afterFormFinish(PropertiesDynamicMethodHelper.java:323)</p>\n<p>at org.talend.daikon.properties.service.PropertiesServiceImpl.afterFormFinish(PropertiesServiceImpl.java:135)</p>\n<p>at org.talend.components.api.service.internal.osgi.ComponentServiceOsgi.afterFormFinish(ComponentServiceOsgi.java:177)</p>\n<p>at org.talend.repository.generic.ui.GenericConnWizard$1.run(GenericConnWizard.java:307)</p>\n<p>... 50 more</p>\n<p>Caused by: java.lang.reflect.InvocationTargetException</p>\n<p>at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)</p>\n<p>at java.base/java.lang.reflect.Method.invoke(Method.java:578)</p>\n<p>at org.talend.daikon.properties.PropertiesDynamicMethodHelper.doInvoke(PropertiesDynamicMethodHelper.java:105)</p>\n<p>... 54 more</p>\n<p>Caused by: com.cedarsoftware.util.io.JsonIoException: JsonIoException setting field 'status' on target: OK null with value: {name=null}</p>\n<p>at com.cedarsoftware.util.io.ObjectResolver.assignField(ObjectResolver.java:229)</p>\n<p>at com.cedarsoftware.util.io.ObjectResolver.traverseFields(ObjectResolver.java:85)</p>\n<p>at com.cedarsoftware.util.io.Resolver.convertMapsToObjects(Resolver.java:184)</p>\n<p>at com.cedarsoftware.util.io.JsonReader.convertParsedMapsToJava(JsonReader.java:747)</p>\n<p>at com.cedarsoftware.util.io.JsonReader.readObject(JsonReader.java:694)</p>\n<p>at com.cedarsoftware.util.io.JsonReader.jsonToJava(JsonReader.java:426)</p>\n<p>at org.talend.daikon.serialize.SerializerDeserializer.fromSerialized(SerializerDeserializer.java:171)</p>\n<p>at org.talend.daikon.serialize.SerializerDeserializer.fromSerialized(SerializerDeserializer.java:135)</p>\n<p>at org.talend.daikon.properties.Properties$Helper.fromSerializedPersistent(Properties.java:277)</p>\n<p>at org.talend.designer.core.generic.utils.ComponentsUtils.getComponentPropertiesFromSerialized(ComponentsUtils.java:860)</p>\n<p>at org.talend.designer.core.generic.utils.ComponentsUtils.getComponentPropertiesFromSerialized(ComponentsUtils.java:854)</p>\n<p>at org.talend.repository.generic.util.GenericConnectionUtil.synNamePropertyWithItem(GenericConnectionUtil.java:54)</p>\n<p>at org.talend.repository.generic.handler.GenericRepositoryContentHandler.save(GenericRepositoryContentHandler.java:107)</p>\n<p>at org.talend.repository.localprovider.model.LocalRepositoryFactory.save(LocalRepositoryFactory.java:2671)</p>\n<p>at org.talend.repository.localprovider.model.LocalRepositoryFactory.save(LocalRepositoryFactory.java:2527)</p>\n<p>at org.talend.core.repository.model.ProxyRepositoryFactory.save(ProxyRepositoryFactory.java:1649)</p>\n<p>at org.talend.core.repository.model.ProxyRepositoryFactory.save(ProxyRepositoryFactory.java:1643)</p>\n<p>at org.talend.repository.generic.persistence.GenericRepository.storeProperties(GenericRepository.java:91)</p>\n<p>at org.talend.repository.generic.persistence.GenericRepository.storeProperties(GenericRepository.java:1)</p>\n<p>at org.talend.components.snowflake.SnowflakeTableListProperties.afterFormFinishMain(SnowflakeTableListProperties.java:93)</p>\n<p>at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)</p>\n<p>... 56 more</p>\n<p>Caused by: com.cedarsoftware.util.io.JsonIoException: Class listed in @type [org.talend.daikon.properties.ValidationResult$Result] is not found</p>\n<p>at com.cedarsoftware.util.io.ObjectResolver.readIfMatching(ObjectResolver.java:629)</p>\n<p>at com.cedarsoftware.util.io.ObjectResolver.assignField(ObjectResolver.java:151)</p>\n<p>... 76 more</p>\n<p>Caused by: java.lang.NullPointerException: Name is null</p>\n<p>at java.base/java.lang.Enum.valueOf(Enum.java:272)</p>\n<p>at com.cedarsoftware.util.io.Resolver.getEnum(Resolver.java:515)</p>\n<p>at com.cedarsoftware.util.io.Resolver.createJavaObjectInstance(Resolver.java:380)</p>\n<p>at com.cedarsoftware.util.io.ObjectResolver.readIfMatching(ObjectResolver.java:625)</p>\n<p>... 77 more</p>\n<p>I tried with JDK 19/JDK 1.8/JDK 11 still I get the above error, please help</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1680767398,"post_id":75946893,"comment_id":133954708,"body_markdown":"it should be something like `&amp;sort=field,(ASC|DESC)`. have you tried this: `&amp;sort=name,DESC` for descending order or `&amp;sort=name,ASC` for ascending order ?","body":"it should be something like <code>&amp;sort=field,(ASC|DESC)</code>. have you tried this: <code>&amp;sort=name,DESC</code> for descending order or <code>&amp;sort=name,ASC</code> for ascending order ?"}],"answers":[{"tags":[],"owner":{"account_id":2571786,"reputation":1434,"user_id":2230325,"display_name":"rMonteiro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680771551,"creation_date":1680771551,"answer_id":75947649,"question_id":75946893,"body_markdown":"You can do it adding the sort direction (`,asc`, or `,desc`) in the `sort` parameter of the API request. For example, if you want to sort by the name field in descending order, you can make the following request:\r\n```\r\nhttp://localhost:8080/api/opportunities?page=0&amp;size=10&amp;sort=name,desc\r\n```\r\nSpring Boot will automatically handle this.","title":"Sort records using Pageable with given order","body":"<p>You can do it adding the sort direction (<code>,asc</code>, or <code>,desc</code>) in the <code>sort</code> parameter of the API request. For example, if you want to sort by the name field in descending order, you can make the following request:</p>\n<pre><code>http://localhost:8080/api/opportunities?page=0&amp;size=10&amp;sort=name,desc\n</code></pre>\n<p>Spring Boot will automatically handle this.</p>\n"},{"tags":[],"owner":{"account_id":28219875,"reputation":101,"user_id":21570778,"display_name":"Mayuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680772353,"creation_date":1680772353,"answer_id":75947782,"question_id":75946893,"body_markdown":"You can change your url like this\r\n\r\n    http://localhost:8080/api/opportunities?page=0&amp;size=10&amp;sortField=name&amp;order=asc\r\n\r\n \r\n\r\nThen through @RequestParam you can take order value from url then send that order value to findAll method and change your code like this\r\n\r\n         @Override\r\n          public Page&lt;Opportunity&gt; findAll(String .., String .., String ..,\r\n              Boolean .., boolean .., Pageable pageable) {\r\n        \r\n            OpportunityFilters opportunityFilters = new OpportunityFilters();\r\n            ... // set filters\r\n            OpportunitySpecification opportunitySpecification =\r\n                new OpportunitySpecification(opportunityFilters);\r\n     Sort sort = order.equalsIgnoreCase(Sort.Direction.ASC.name()) ? \r\n     Sort.by(sortField).ascending(): Sort.by(sortField).descending();\r\n            Pageable pageable = PageRequest.of(pageNo, pageSize, sort);\r\n            Page&lt;Opportunity&gt; page = opportunityRepository.findAll(opportunitySpecification,\r\n                pageable);\r\n            ...\r\n        } \r\n\r\n I don&#39;t know where you are creating pageable object but while creating pagable object you have to use sort object to perform sorting with pagination.\r\n\r\n","title":"Sort records using Pageable with given order","body":"<p>You can change your url like this</p>\n<pre><code>http://localhost:8080/api/opportunities?page=0&amp;size=10&amp;sortField=name&amp;order=asc\n</code></pre>\n<p>Then through @RequestParam you can take order value from url then send that order value to findAll method and change your code like this</p>\n<pre><code>     @Override\n      public Page&lt;Opportunity&gt; findAll(String .., String .., String ..,\n          Boolean .., boolean .., Pageable pageable) {\n    \n        OpportunityFilters opportunityFilters = new OpportunityFilters();\n        ... // set filters\n        OpportunitySpecification opportunitySpecification =\n            new OpportunitySpecification(opportunityFilters);\n Sort sort = order.equalsIgnoreCase(Sort.Direction.ASC.name()) ? \n Sort.by(sortField).ascending(): Sort.by(sortField).descending();\n        Pageable pageable = PageRequest.of(pageNo, pageSize, sort);\n        Page&lt;Opportunity&gt; page = opportunityRepository.findAll(opportunitySpecification,\n            pageable);\n        ...\n    } \n</code></pre>\n<p>I don't know where you are creating pageable object but while creating pagable object you have to use sort object to perform sorting with pagination.</p>\n"},{"tags":[],"owner":{"account_id":28199192,"reputation":1,"user_id":21569721,"display_name":"Bala Maddilety"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680782281,"creation_date":1680782281,"answer_id":75949262,"question_id":75946893,"body_markdown":"check it once\r\n``` java\r\nPageable pageDesc = PageRequest.of(pageNo, pageSize,Sort.by(&quot;fieldYouRequired&quot;).descending());\r\nPageable pageAsc = PageRequest.of(pageNo, pageSize, Sort.by(&quot;fieldYouRequired&quot;).ascending());\r\nPage&lt;Opportunity&gt; page =opportunityRepository.findAll(opportunitySpecification,pageDesc/pageAsc);\r\n```","title":"Sort records using Pageable with given order","body":"<p>check it once</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pageable pageDesc = PageRequest.of(pageNo, pageSize,Sort.by(&quot;fieldYouRequired&quot;).descending());\nPageable pageAsc = PageRequest.of(pageNo, pageSize, Sort.by(&quot;fieldYouRequired&quot;).ascending());\nPage&lt;Opportunity&gt; page =opportunityRepository.findAll(opportunitySpecification,pageDesc/pageAsc);\n</code></pre>\n"}],"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1319,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1680782281,"creation_date":1680766134,"question_id":75946893,"body_markdown":"I am working on a spring boot project and have the get API to display the records from the database with certain filters along with pagination to achieve that I am using the JPA with JPA Specifications. API is working fine with given filter options and paginations params. Now I want to sort them based on the field with a decs|asc order dynamically. \r\n\r\n**API**\r\n\r\n    @GetMapping(&quot;/opportunities&quot;)\r\n      public ResponseEntity&lt;List&lt;Opportunities&gt;&gt; findAll(Pageable pageable,\r\n          @RequestParam(required = false) String ..,\r\n          @RequestParam(required = false) String ..,\r\n          @RequestParam(required = false) String ..,\r\n          @RequestParam(required = false) Boolean ..,\r\n          @RequestParam(required = false, defaultValue = &quot;true&quot;) boolean ..) {\r\n        opportunityService.findAll(..., pageable);\r\n      }\r\n\r\n**Method**\r\n\r\n      @Override\r\n      public Page&lt;Opportunity&gt; findAll(String .., String .., String ..,\r\n          Boolean .., boolean .., Pageable pageable) {\r\n    \r\n        OpportunityFilters opportunityFilters = new OpportunityFilters();\r\n        ... // set filters\r\n        OpportunitySpecification opportunitySpecification =\r\n            new OpportunitySpecification(opportunityFilters);\r\n        Page&lt;Opportunity&gt; page = opportunityRepository.findAll(opportunitySpecification,\r\n            pageable);\r\n        ...\r\n    }  \r\n\r\n \r\n\r\n**OpportunityRepository.java**\r\n\r\n    @Repository\r\n    public interface OpportunityRepository extends JpaRepository&lt;Opportunity, String&gt;,\r\n        JpaSpecificationExecutor&lt;Opportunity&gt; {\r\n    }\r\n\r\nWhen I hit the API with the sort param and set the field name it sort the records properly but I want to set the sort order dynamically in the request. How can I set the sort order here? \r\n\r\nhttp://localhost:8080/api/opportunities?page=0&amp;size=10&amp;sort=name","title":"Sort records using Pageable with given order","body":"<p>I am working on a spring boot project and have the get API to display the records from the database with certain filters along with pagination to achieve that I am using the JPA with JPA Specifications. API is working fine with given filter options and paginations params. Now I want to sort them based on the field with a decs|asc order dynamically.</p>\n<p><strong>API</strong></p>\n<pre><code>@GetMapping(&quot;/opportunities&quot;)\n  public ResponseEntity&lt;List&lt;Opportunities&gt;&gt; findAll(Pageable pageable,\n      @RequestParam(required = false) String ..,\n      @RequestParam(required = false) String ..,\n      @RequestParam(required = false) String ..,\n      @RequestParam(required = false) Boolean ..,\n      @RequestParam(required = false, defaultValue = &quot;true&quot;) boolean ..) {\n    opportunityService.findAll(..., pageable);\n  }\n</code></pre>\n<p><strong>Method</strong></p>\n<pre><code>  @Override\n  public Page&lt;Opportunity&gt; findAll(String .., String .., String ..,\n      Boolean .., boolean .., Pageable pageable) {\n\n    OpportunityFilters opportunityFilters = new OpportunityFilters();\n    ... // set filters\n    OpportunitySpecification opportunitySpecification =\n        new OpportunitySpecification(opportunityFilters);\n    Page&lt;Opportunity&gt; page = opportunityRepository.findAll(opportunitySpecification,\n        pageable);\n    ...\n}  \n</code></pre>\n<p><strong>OpportunityRepository.java</strong></p>\n<pre><code>@Repository\npublic interface OpportunityRepository extends JpaRepository&lt;Opportunity, String&gt;,\n    JpaSpecificationExecutor&lt;Opportunity&gt; {\n}\n</code></pre>\n<p>When I hit the API with the sort param and set the field name it sort the records properly but I want to set the sort order dynamically in the request. How can I set the sort order here?</p>\n<p>http://localhost:8080/api/opportunities?page=0&amp;size=10&amp;sort=name</p>\n"},{"tags":["java","dictionary","data-structures","collections"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1680774396,"post_id":75948064,"comment_id":133956259,"body_markdown":"&quot;This suggests that iterating over a Map is read-only.&quot;? How so? Also, it&#39;s not that operations on the `Map` are undefined, the only thing that&#39;s undefined is how the `Map.Entry` acts *after* such a modification (which is just an extension of `Iterator` having undefined behaviour when the underlying collection is modified during its lifetime). So just like you shouldn&#39;t hold on to an `Iterator` for a long time, you also shouldn&#39;t hold on to a `Map.Entry` for basically the same reasons.","body":"&quot;This suggests that iterating over a Map is read-only.&quot;? How so? Also, it&#39;s not that operations on the <code>Map</code> are undefined, the only thing that&#39;s undefined is how the <code>Map.Entry</code> acts <i>after</i> such a modification (which is just an extension of <code>Iterator</code> having undefined behaviour when the underlying collection is modified during its lifetime). So just like you shouldn&#39;t hold on to an <code>Iterator</code> for a long time, you also shouldn&#39;t hold on to a <code>Map.Entry</code> for basically the same reasons."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1680774444,"post_id":75948064,"comment_id":133956269,"body_markdown":"&quot;*This suggests that iterating over a Map is read-only*&quot; You can&#39;t iterate over a map. You can iterate over an entry set of a map. And it doesn&#39;t suggest that. You can modify the map while iterating the entry set, e.g. by calling `Map.Entry.setValue()`","body":"&quot;<i>This suggests that iterating over a Map is read-only</i>&quot; You can&#39;t iterate over a map. You can iterate over an entry set of a map. And it doesn&#39;t suggest that. You can modify the map while iterating the entry set, e.g. by calling <code>Map.Entry.setValue()</code>"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1680774938,"post_id":75948064,"comment_id":133956372,"body_markdown":"&quot;Why&quot; is not a useful question to ask, especially about something that is undefined. Having the behaviour defined would make implementers responsible for implementing that defined behaviour, and no one likes more work they have to do :)","body":"&quot;Why&quot; is not a useful question to ask, especially about something that is undefined. Having the behaviour defined would make implementers responsible for implementing that defined behaviour, and no one likes more work they have to do :)"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1680775072,"post_id":75948064,"comment_id":133956399,"body_markdown":"If &quot;no one likes more work they have to do&quot; isn&#39;t a satisfying answer to your question, please edit it to make it clear *what kind of* answer you are looking for here.","body":"If &quot;no one likes more work they have to do&quot; isn&#39;t a satisfying answer to your question, please edit it to make it clear <i>what kind of</i> answer you are looking for here."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1680775413,"post_id":75948064,"comment_id":133956475,"body_markdown":"&quot;how does one bulk-update entries in a Map?&quot; Just *don&#39;t* modify the map while you are iterating over it? I&#39;m not sure how iterating over the map is related to updating the entries. There is `putAll` and `replaceAll`, which are bulk operations.","body":"&quot;how does one bulk-update entries in a Map?&quot; Just <i>don&#39;t</i> modify the map while you are iterating over it? I&#39;m not sure how iterating over the map is related to updating the entries. There is <code>putAll</code> and <code>replaceAll</code>, which are bulk operations."},{"owner":{"account_id":5345843,"reputation":437,"user_id":4261434,"accept_rate":77,"display_name":"Mr Chasi"},"score":0,"creation_date":1680775424,"post_id":75948064,"comment_id":133956478,"body_markdown":"I see. So this would be undefined? `for (Map.Entry&lt;String, String&gt; m: entries) {m.put(&quot;foo&quot;, &quot;foo&quot;);}`\n\nWhereas this wouldn&#39;t? `for (...) {myMap.put(&quot;foo&quot;, &quot;foo&quot;);}` - assuming that `myMap` is a HashMap defined earlier. @JoachimSauer","body":"I see. So this would be undefined? <code>for (Map.Entry&lt;String, String&gt; m: entries) {m.put(&quot;foo&quot;, &quot;foo&quot;);}</code>  Whereas this wouldn&#39;t? <code>for (...) {myMap.put(&quot;foo&quot;, &quot;foo&quot;);}</code> - assuming that <code>myMap</code> is a HashMap defined earlier. @JoachimSauer"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1680775545,"post_id":75948064,"comment_id":133956506,"body_markdown":"does `Entry` has a `put()` methods? (first one should be a compile error) (second one is the undefined one [assuming a loop *over* `myMap`])","body":"does <code>Entry</code> has a <code>put()</code> methods? (first one should be a compile error) (second one is the undefined one [assuming a loop <i>over</i> <code>myMap</code>])"},{"owner":{"account_id":5345843,"reputation":437,"user_id":4261434,"accept_rate":77,"display_name":"Mr Chasi"},"score":0,"creation_date":1680775716,"post_id":75948064,"comment_id":133956562,"body_markdown":"I admit, I am confused @user16320675","body":"I admit, I am confused @user16320675"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1680775725,"post_id":75948064,"comment_id":133956564,"body_markdown":"if you are looping a map and changing it (the map) - that *can* be undefined (if not using the iterator that is being used for looping)","body":"if you are looping a map and changing it (the map) - that <i>can</i> be undefined (if not using the iterator that is being used for looping)"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680781568,"creation_date":1680779024,"answer_id":75948778,"question_id":75948064,"body_markdown":"The code\r\n\r\n    Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, &quot;b&quot;));\r\n    for (Map.Entry&lt;String, String&gt; entry: myMap.entrySet()) {\r\n        entry.put(&quot;foo&quot;, &quot;foo&quot;);\r\n    }\r\n\r\ndoesn&#39;t compile because `entry` is a `Map.Entry` and `Map.Entry` doesn&#39;t have a `put()` method.\r\n\r\n----\r\nThe fragment\r\n\r\n    Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, &quot;b&quot;));\r\n    for (Map.Entry&lt;String, String&gt; curEntry: myMap.entrySet()) {\r\n        myMap.put(&quot;foo&quot;, &quot;foo&quot;);\r\n        // the behavior of curEntry is undefined after the preceding line\r\n    }\r\n\r\nis the case the `Map.Entry` documentation mentions: `myMap` is modified while iterating over it. That means that according to the documentation the behavior of `curEntry` is undefined after the modifying line.\r\n\r\nPlease note that modifying the map while iterating over it **also** leads to [unspecified behavior for the iterator](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySet--):\r\n\r\n&gt; If the map is modified while an iteration over the set is in progress (except through the iterator&#39;s own `remove` operation, or through the `setValue` operation on a map entry returned by the iterator) the results of the iteration are undefined.\r\n\r\n----\r\n\r\nThe fragment\r\n\r\n    Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, &quot;b&quot;));\r\n    Map&lt;String, String&gt; otherMap = new HashMap&lt;&gt;(Map.of(&quot;c&quot;, &quot;d&quot;));\r\n    for (Map.Entry&lt;String, String&gt; entry: myMap.entrySet()) {\r\n        otherMap.put(&quot;foo&quot;, &quot;foo&quot;);\r\n    }\r\n\r\nis OK because this code modifies `otherMap` while iterating over `myMap`. Since these are two different `Map`s this is allowed.\r\n\r\n------\r\nBulk-Updating a `Map` while iterating over it:\r\n\r\n    Map&lt;String, Integer&gt; myMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, 1));\r\n    for (Map.Entry&lt;String, Integer&gt; entry: myMap.entrySet()) {\r\n        entry.setValue(m.getValue() + 1);\r\n    }\r\n\r\nis OK, because this code uses the supported `Map.Entry.setValue()` method to update the value of an entry.","title":"Iterating a Map - why are operations undefined?","body":"<p>The code</p>\n<pre><code>Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, &quot;b&quot;));\nfor (Map.Entry&lt;String, String&gt; entry: myMap.entrySet()) {\n    entry.put(&quot;foo&quot;, &quot;foo&quot;);\n}\n</code></pre>\n<p>doesn't compile because <code>entry</code> is a <code>Map.Entry</code> and <code>Map.Entry</code> doesn't have a <code>put()</code> method.</p>\n<hr />\n<p>The fragment</p>\n<pre><code>Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, &quot;b&quot;));\nfor (Map.Entry&lt;String, String&gt; curEntry: myMap.entrySet()) {\n    myMap.put(&quot;foo&quot;, &quot;foo&quot;);\n    // the behavior of curEntry is undefined after the preceding line\n}\n</code></pre>\n<p>is the case the <code>Map.Entry</code> documentation mentions: <code>myMap</code> is modified while iterating over it. That means that according to the documentation the behavior of <code>curEntry</code> is undefined after the modifying line.</p>\n<p>Please note that modifying the map while iterating over it <strong>also</strong> leads to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySet--\" rel=\"nofollow noreferrer\">unspecified behavior for the iterator</a>:</p>\n<blockquote>\n<p>If the map is modified while an iteration over the set is in progress (except through the iterator's own <code>remove</code> operation, or through the <code>setValue</code> operation on a map entry returned by the iterator) the results of the iteration are undefined.</p>\n</blockquote>\n<hr />\n<p>The fragment</p>\n<pre><code>Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, &quot;b&quot;));\nMap&lt;String, String&gt; otherMap = new HashMap&lt;&gt;(Map.of(&quot;c&quot;, &quot;d&quot;));\nfor (Map.Entry&lt;String, String&gt; entry: myMap.entrySet()) {\n    otherMap.put(&quot;foo&quot;, &quot;foo&quot;);\n}\n</code></pre>\n<p>is OK because this code modifies <code>otherMap</code> while iterating over <code>myMap</code>. Since these are two different <code>Map</code>s this is allowed.</p>\n<hr />\n<p>Bulk-Updating a <code>Map</code> while iterating over it:</p>\n<pre><code>Map&lt;String, Integer&gt; myMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, 1));\nfor (Map.Entry&lt;String, Integer&gt; entry: myMap.entrySet()) {\n    entry.setValue(m.getValue() + 1);\n}\n</code></pre>\n<p>is OK, because this code uses the supported <code>Map.Entry.setValue()</code> method to update the value of an entry.</p>\n"}],"owner":{"account_id":5345843,"reputation":437,"user_id":4261434,"accept_rate":77,"display_name":"Mr Chasi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75948778,"answer_count":1,"score":0,"last_activity_date":1680781568,"creation_date":1680774206,"question_id":75948064,"body_markdown":"Regarding `Map.Entry`, the Java [documentation][1] states:\r\n\r\n&gt; A map entry (key-value pair). The `Map.entrySet` method returns a\r\n&gt; collection-view of the map, whose elements are of this class. The only\r\n&gt; way to obtain a reference to a map entry is from the iterator of this\r\n&gt; collection-view. These `Map.Entry` objects are valid only for the\r\n&gt; duration of the iteration; more formally, the behavior of a map entry\r\n&gt; is undefined if the backing map has been modified after the entry was\r\n&gt; returned by the iterator, except through the `setValue` operation on the\r\n&gt; map entry.\r\n\r\nThis suggests that iterating over a Map is read-only. If operations on Map objects (such as `put()` etc.) are undefined, how does one bulk-update entries in a Map?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html","title":"Iterating a Map - why are operations undefined?","body":"<p>Regarding <code>Map.Entry</code>, the Java <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html\" rel=\"nofollow noreferrer\">documentation</a> states:</p>\n<blockquote>\n<p>A map entry (key-value pair). The <code>Map.entrySet</code> method returns a\ncollection-view of the map, whose elements are of this class. The only\nway to obtain a reference to a map entry is from the iterator of this\ncollection-view. These <code>Map.Entry</code> objects are valid only for the\nduration of the iteration; more formally, the behavior of a map entry\nis undefined if the backing map has been modified after the entry was\nreturned by the iterator, except through the <code>setValue</code> operation on the\nmap entry.</p>\n</blockquote>\n<p>This suggests that iterating over a Map is read-only. If operations on Map objects (such as <code>put()</code> etc.) are undefined, how does one bulk-update entries in a Map?</p>\n"},{"tags":["java","sql-server","hibernate","jpa","composite-id"],"comments":[{"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"score":0,"creation_date":1504524176,"post_id":46035660,"comment_id":79031918,"body_markdown":"could Yoy format code according to SO rules?","body":"could Yoy format code according to SO rules?"}],"answers":[{"tags":[],"owner":{"account_id":2357612,"reputation":15503,"user_id":2065083,"accept_rate":67,"display_name":"Chaitanya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504527654,"creation_date":1504527654,"answer_id":46036940,"question_id":46035660,"body_markdown":"You have to set the identity_insert to ON to make it work.\r\n\r\nCheck this post - [How to set IDENTITY_INSERT][1] \r\n\r\nSo run below command:\r\n\r\n    SET IDENTITY_INSERT BOOK_EMBEDDED ON\r\n\r\n  [1]: https://stackoverflow.com/a/1334032/2065083","title":"Hibernate insert failing when embedded key contains identity column on SQL Server","body":"<p>You have to set the identity_insert to ON to make it work.</p>\n\n<p>Check this post - <a href=\"https://stackoverflow.com/a/1334032/2065083\">How to set IDENTITY_INSERT</a> </p>\n\n<p>So run below command:</p>\n\n<pre><code>SET IDENTITY_INSERT BOOK_EMBEDDED ON\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1610232615,"creation_date":1504528451,"answer_id":46037186,"question_id":46035660,"body_markdown":"The only way to make it work is to overwrite the `SQLInsert` and trick Hibernate which expects to set the identifier column. This can be done if you provide your own custom INSERT statement so that, instead of setting the `rowId` to null, you set the version instead:\r\n\r\n    @Entity(name = &quot;BOOK_EMBEDDED&quot;)\r\n    @SQLInsert( sql = &quot;insert into BOOK_EMBEDDED (BOOK_NAME, group_no, version) values (?, ?, ?)&quot;)\r\n    public static class Book implements Serializable {\r\n\r\n        @EmbeddedId\r\n        private EmbeddedKey key;\r\n\r\n        @Column(name = &quot;BOOK_NAME&quot;)\r\n        private String bookName;\r\n\r\n        @Version\r\n        @Column(insertable = false)\r\n        private Integer version;\r\n\r\n        public EmbeddedKey getKey() {\r\n            return key;\r\n        }\r\n\r\n        public void setKey(EmbeddedKey key) {\r\n            this.key = key;\r\n        }\r\n\r\n        public String getBookName() {\r\n            return bookName;\r\n        }\r\n\r\n        public void setBookName(String bookName) {\r\n            this.bookName = bookName;\r\n        }\r\n    }\r\n\r\nWith this change in place, you run the following test:\r\n\r\n\tdoInJPA(entityManager -&gt; {\r\n\r\n\t\tEmbeddedKey key = new EmbeddedKey();\r\n\t\tkey.setGroupNo(1);\r\n\r\n\t\tBook book = new Book();\r\n\t\tbook.setBookName( &quot;High-Performance Java Persistence&quot;);\r\n\r\n\t\tbook.setKey(key);\r\n\r\n\t\tentityManager.persist(book);\r\n\t});\r\n\r\n\tdoInJPA(entityManager -&gt; {\r\n\t\tEmbeddedKey key = new EmbeddedKey();\r\n\r\n\t\tkey.setGroupNo(1);\r\n\t\tkey.setRowId(1L);\r\n\r\n\t\tBook book = entityManager.find(Book.class, key);\r\n\t\tassertEquals( &quot;High-Performance Java Persistence&quot;, book.getBookName() );\r\n\t});\r\n\r\nAnd Hibernate will generate the right SQL statements:\r\n\r\n    Query:[&quot;insert into BOOK_EMBEDDED (BOOK_NAME, group_no, version) values (?, ?, ?)&quot;], Params:[(High-Performance Java Persistence, 1, NULL(BIGINT))]\r\n    \r\n    Query:[&quot;select compositei0_.group_no as group_no1_0_0_, compositei0_.row_id as row_id2_0_0_, compositei0_.BOOK_NAME as BOOK_NAM3_0_0_, compositei0_.version as version4_0_0_ from BOOK_EMBEDDED compositei0_ where compositei0_.group_no=? and compositei0_.row_id=?&quot;], Params:[(1, 1)]\r\n\r\nThe test is available on [GitHub][2].\r\n\r\n\r\n  [1]: https://vladmihalcea.com/how-to-map-a-composite-identifier-using-an-automatically-generatedvalue-with-jpa-and-hibernate/\r\n  [2]: https://github.com/vladmihalcea/high-performance-java-persistence/blob/1fcd846f5fb6f356e4509218f9bd5dd38127b7fe/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/identifier/composite/CompositeIdGeneratedIdClassTest.java","title":"Hibernate insert failing when embedded key contains identity column on SQL Server","body":"<p>The only way to make it work is to overwrite the <code>SQLInsert</code> and trick Hibernate which expects to set the identifier column. This can be done if you provide your own custom INSERT statement so that, instead of setting the <code>rowId</code> to null, you set the version instead:</p>\n<pre><code>@Entity(name = &quot;BOOK_EMBEDDED&quot;)\n@SQLInsert( sql = &quot;insert into BOOK_EMBEDDED (BOOK_NAME, group_no, version) values (?, ?, ?)&quot;)\npublic static class Book implements Serializable {\n\n    @EmbeddedId\n    private EmbeddedKey key;\n\n    @Column(name = &quot;BOOK_NAME&quot;)\n    private String bookName;\n\n    @Version\n    @Column(insertable = false)\n    private Integer version;\n\n    public EmbeddedKey getKey() {\n        return key;\n    }\n\n    public void setKey(EmbeddedKey key) {\n        this.key = key;\n    }\n\n    public String getBookName() {\n        return bookName;\n    }\n\n    public void setBookName(String bookName) {\n        this.bookName = bookName;\n    }\n}\n</code></pre>\n<p>With this change in place, you run the following test:</p>\n<pre><code>doInJPA(entityManager -&gt; {\n\n    EmbeddedKey key = new EmbeddedKey();\n    key.setGroupNo(1);\n\n    Book book = new Book();\n    book.setBookName( &quot;High-Performance Java Persistence&quot;);\n\n    book.setKey(key);\n\n    entityManager.persist(book);\n});\n\ndoInJPA(entityManager -&gt; {\n    EmbeddedKey key = new EmbeddedKey();\n\n    key.setGroupNo(1);\n    key.setRowId(1L);\n\n    Book book = entityManager.find(Book.class, key);\n    assertEquals( &quot;High-Performance Java Persistence&quot;, book.getBookName() );\n});\n</code></pre>\n<p>And Hibernate will generate the right SQL statements:</p>\n<pre><code>Query:[&quot;insert into BOOK_EMBEDDED (BOOK_NAME, group_no, version) values (?, ?, ?)&quot;], Params:[(High-Performance Java Persistence, 1, NULL(BIGINT))]\n\nQuery:[&quot;select compositei0_.group_no as group_no1_0_0_, compositei0_.row_id as row_id2_0_0_, compositei0_.BOOK_NAME as BOOK_NAM3_0_0_, compositei0_.version as version4_0_0_ from BOOK_EMBEDDED compositei0_ where compositei0_.group_no=? and compositei0_.row_id=?&quot;], Params:[(1, 1)]\n</code></pre>\n<p>The test is available on <a href=\"https://github.com/vladmihalcea/high-performance-java-persistence/blob/1fcd846f5fb6f356e4509218f9bd5dd38127b7fe/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/identifier/composite/CompositeIdGeneratedIdClassTest.java\" rel=\"nofollow noreferrer\">GitHub</a>.</p>\n"},{"tags":[],"owner":{"account_id":1838798,"reputation":311,"user_id":1668645,"accept_rate":29,"display_name":"Stefan H&#246;ltker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558099726,"creation_date":1558099726,"answer_id":56187455,"question_id":46035660,"body_markdown":"Simply delete &amp; remove the EmbeddedKey class and add the fields to your entity.\r\n\r\n```java\r\nimport java.io.*;\r\nimport javax.persistence.*;\r\n\r\n@Entity(name = &quot;Book&quot;)\r\n@Table(name = &quot;book&quot;)\r\npublic class Book implements Serializable\r\n{\r\n\r\n  @Id\r\n  @Basic(optional = false)\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;registration_number&quot;)\r\n  private Long registrationNumber;\r\n\r\n  @Column(name = &quot;publisher_id&quot;)\r\n  private Integer publisherId;\r\n\r\n  @Column(name = &quot;title&quot;)\r\n  private String title;\r\n\r\n  //Getters and setters omitted for brevity\r\n}\r\n```\r\n\r\n```sql\r\nCREATE TABLE book (\r\n        publisher_id INT NOT NULL,\r\n        registration_number BIGINT IDENTITY NOT NULL,\r\n        title VARCHAR(255),\r\n        PRIMARY KEY (publisher_id, registration_number)\r\n    )\r\n``` ","title":"Hibernate insert failing when embedded key contains identity column on SQL Server","body":"<p>Simply delete &amp; remove the EmbeddedKey class and add the fields to your entity.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport javax.persistence.*;\n\n@Entity(name = \"Book\")\n@Table(name = \"book\")\npublic class Book implements Serializable\n{\n\n  @Id\n  @Basic(optional = false)\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = \"registration_number\")\n  private Long registrationNumber;\n\n  @Column(name = \"publisher_id\")\n  private Integer publisherId;\n\n  @Column(name = \"title\")\n  private String title;\n\n  //Getters and setters omitted for brevity\n}\n</code></pre>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE book (\n        publisher_id INT NOT NULL,\n        registration_number BIGINT IDENTITY NOT NULL,\n        title VARCHAR(255),\n        PRIMARY KEY (publisher_id, registration_number)\n    )\n</code></pre>\n"}],"owner":{"account_id":3542752,"reputation":53,"user_id":2959417,"display_name":"himanshu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4463,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46037186,"answer_count":3,"score":5,"last_activity_date":1680781452,"creation_date":1504522973,"question_id":46035660,"body_markdown":"I&#39;m trying to map an entity with hibernate, but with SQL Server, I am not able to proceed.\r\n\r\nFollowing are the details.\r\n\r\nSQL Server Entity \r\n\r\n\r\n```SQL\r\nCREATE TABLE [dbo].[BOOK_EMBEDDED](\r\n  [row_id] [bigint] IDENTITY(1,1) NOT NULL,\r\n  [group_no] [int]                NOT NULL,\r\n  [book_name] [varchar](255)      NULL,\r\n  CONSTRAINT [PK_BOOK_EMBEDDED] PRIMARY KEY CLUSTERED \r\n(\r\n  [group_no] ASC,\r\n  [row_id] ASC\r\n) WITH (PAD_INDEX = OFF,\r\n        STATISTICS_NORECOMPUTE = OFF,\r\n        IGNORE_DUP_KEY = OFF,\r\n        ALLOW_ROW_LOCKS = ON,\r\n        ALLOW_PAGE_LOCKS = ON\r\n) ON [PRIMARY]\r\n```\r\n\r\n=============================\r\n\r\n&lt;B&gt;The embedded key&lt;/B&gt;\r\n\r\n```java\r\n@Embeddable \r\npublic class EmbeddedKey implements Serializable { \r\n\tprivate static final long serialVersionUID = 1L; \r\n\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY) \r\n\t@Column(name = &quot;row_id&quot;) \r\n\tprivate Long rowId; \r\n\r\n\t@Column(name = &quot;group_no&quot;) \r\n\tprivate int groupNo; \r\n\r\n\tpublic Long getRowId() { \r\n\t\treturn rowId; \r\n\t} \r\n\r\n\tpublic void setRowId(Long rowId) { \r\n\t\tthis.rowId = rowId; \r\n\t} \r\n\r\n\tpublic static long getSerialversionuid() { \r\n\t\treturn serialVersionUID; \r\n\t} \r\n\r\n\t@Override \r\n\tpublic int hashCode() { \r\n\t\tfinal int prime = 31; \r\n\t\tint result = 1; \r\n\r\n\t\tresult = (int) (prime * result + rowId); \r\n\t\tresult = prime * result + groupNo; \r\n\r\n\t\treturn result; \r\n\t} \r\n\r\n\t@Override \r\n\tpublic boolean equals(Object obj) { \r\n\t\tif (this == obj) \r\n\t\t\treturn true; \r\n\r\n\t\tif (obj == null) \r\n\t\t\treturn false; \r\n\r\n\t\tif (getClass() != obj.getClass()) \r\n\t\t\treturn false; \r\n\r\n\t\tEmbeddedKey other = (EmbeddedKey) obj; \r\n\r\n\t\tif (rowId != other.rowId) \r\n\t\t\treturn false; \r\n\r\n\t\tif (groupNo != other.groupNo) \r\n\t\t\treturn false; \r\n\r\n\t\treturn true; \r\n\t} \r\n\r\n\t@Override \r\n\tpublic String toString() { \r\n\t\treturn this.getRowId() + &quot;  &quot; + this.getGroupNo() + &quot; &quot;; \r\n\t} \r\n \r\n\tpublic int getGroupNo() { \r\n\t\treturn groupNo; \r\n\t} \r\n \r\n\tpublic void setGroupNo(int groupNo) { \r\n\t\tthis.groupNo = groupNo; \r\n\t} \r\n} \r\n```\r\n\r\n&lt;b&gt;The Entity&lt;/b&gt; \r\n```java\r\n@Entity(name = &quot;BOOK_EMBEDDED&quot;) \r\npublic class BookMySQL implements Serializable { \r\n\tprivate static final long serialVersionUID = 1L; \r\n\r\n\t@Column(name = &quot;BOOK_NAME&quot;) \r\n\tprivate String book_Name; \r\n\r\n\t@EmbeddedId \r\n\tprivate EmbeddedKey key; \r\n\r\n\tpublic BookMySQL() { \r\n\t} \r\n\r\n\tpublic String getBook_Name() { \r\n\t\treturn book_Name; \r\n\t} \r\n\r\n\tpublic void setBook_Name(String book_Name) { \r\n\t\tthis.book_Name = book_Name; \r\n\t} \r\n\r\n\tpublic static long getSerialversionuid() { \r\n\t\treturn serialVersionUID; \r\n\t} \r\n\r\n\tpublic EmbeddedKey getKey() { \r\n\t\treturn key; \r\n\t} \r\n\r\n\tpublic void setKey(EmbeddedKey key) { \r\n\t\tthis.key = key; \r\n\t} \r\n\r\n\t@Override \r\n\tpublic String toString() { \r\n\t\treturn this.getKey().toString() + &quot;  &quot; + this.getBook_Name(); \r\n\t} \r\n}\r\n```\r\n \r\n&lt;b&gt;Entity Manager class&lt;/b&gt; \r\n\r\n```java\r\npublic class LocalEntityManager { \r\n\tprivate static EntityManagerFactory emf; \r\n\tprivate static EntityManager em; \r\n\r\n\tprivate LocalEntityManager() { \r\n\t} \r\n\r\n\tpublic static EntityManager getEntityManger() { \r\n\t\tif (emf == null) { \r\n\t\t\tsynchronized (LocalEntityManager.class) { \r\n\t\t\t\tif (emf == null) { \r\n\t\t\t\t\temf = Persistence.createEntityManagerFactory(&quot;BookEntities&quot;); \r\n\t\t\t\t\tem = emf.createEntityManager(); \r\n\t\t\t\t} \r\n\t\t\t} \r\n\t\t} \r\n\r\n\t\treturn em; \r\n\t} \r\n}\r\n``` \r\n\r\n&lt;b&gt;Book Service&lt;/b&gt; \r\n```java\r\npublic class MySQLBookService { \r\n\r\n\tpublic Long persistBook(String bookName) { \r\n\t\tEmbeddedKey key = new EmbeddedKey(); \r\n\t\tkey.setGroupNo(1); \r\n\r\n\t\tBookMySQL book = new BookMySQL(); \r\n\t\tbook.setBook_Name(bookName); \r\n\t\tbook.setKey(key); \r\n\r\n\t\tEntityManager em = LocalEntityManager.getEntityManger(); \r\n\t\tEntityTransaction tx = em.getTransaction(); \r\n\r\n\t\ttx.begin(); \r\n\t\tem.persist(book); \r\n\t\ttx.commit(); \r\n\r\n\t\tem.close(); \r\n\r\n\t\treturn book.getKey().getRowId(); \r\n\t} \r\n\r\n\tpublic BookMySQL findBook(int bookId) { \r\n\t\tEntityManager em = LocalEntityManager.getEntityManger();\r\n \r\n\t\tEmbeddedKey key = new EmbeddedKey(); \r\n\t\tkey.setGroupNo(1); \r\n\t\tkey.setRowId(1L); \r\n\r\n\t\tBookMySQL bookMySQL = em.find(BookMySQL.class, key); \r\n\r\n\t\tSystem.out.println(bookMySQL); \r\n\r\n\t\treturn bookMySQL; \r\n\t} \r\n\r\n\tpublic static void main(String... args) { \r\n\t\tMySQLBookService bookService = new MySQLBookService(); \r\n\t\t// bookService.findBook(1); \r\n\t\tbookService.persistBook(&quot;Lord of the rings&quot;); \r\n\t} \r\n}\r\n```\r\n\r\nThe problem is I cannot use a sequence and by executing this \r\nfindBook always works and persist fails with error.\r\n\r\n    ERROR: Cannot insert explicit value for identity column in table &#39;BOOK_EMBEDDED&#39; when IDENTITY_INSERT is set to OFF.\r\n\r\n\r\nAny help will be greatly appreciated. ","title":"Hibernate insert failing when embedded key contains identity column on SQL Server","body":"<p>I'm trying to map an entity with hibernate, but with SQL Server, I am not able to proceed.</p>\n<p>Following are the details.</p>\n<p>SQL Server Entity</p>\n<pre><code>CREATE TABLE [dbo].[BOOK_EMBEDDED](\n  [row_id] [bigint] IDENTITY(1,1) NOT NULL,\n  [group_no] [int]                NOT NULL,\n  [book_name] [varchar](255)      NULL,\n  CONSTRAINT [PK_BOOK_EMBEDDED] PRIMARY KEY CLUSTERED \n(\n  [group_no] ASC,\n  [row_id] ASC\n) WITH (PAD_INDEX = OFF,\n        STATISTICS_NORECOMPUTE = OFF,\n        IGNORE_DUP_KEY = OFF,\n        ALLOW_ROW_LOCKS = ON,\n        ALLOW_PAGE_LOCKS = ON\n) ON [PRIMARY]\n</code></pre>\n<p>=============================</p>\n<p><B>The embedded key</B></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable \npublic class EmbeddedKey implements Serializable { \n    private static final long serialVersionUID = 1L; \n\n    @GeneratedValue(strategy = GenerationType.IDENTITY) \n    @Column(name = &quot;row_id&quot;) \n    private Long rowId; \n\n    @Column(name = &quot;group_no&quot;) \n    private int groupNo; \n\n    public Long getRowId() { \n        return rowId; \n    } \n\n    public void setRowId(Long rowId) { \n        this.rowId = rowId; \n    } \n\n    public static long getSerialversionuid() { \n        return serialVersionUID; \n    } \n\n    @Override \n    public int hashCode() { \n        final int prime = 31; \n        int result = 1; \n\n        result = (int) (prime * result + rowId); \n        result = prime * result + groupNo; \n\n        return result; \n    } \n\n    @Override \n    public boolean equals(Object obj) { \n        if (this == obj) \n            return true; \n\n        if (obj == null) \n            return false; \n\n        if (getClass() != obj.getClass()) \n            return false; \n\n        EmbeddedKey other = (EmbeddedKey) obj; \n\n        if (rowId != other.rowId) \n            return false; \n\n        if (groupNo != other.groupNo) \n            return false; \n\n        return true; \n    } \n\n    @Override \n    public String toString() { \n        return this.getRowId() + &quot;  &quot; + this.getGroupNo() + &quot; &quot;; \n    } \n \n    public int getGroupNo() { \n        return groupNo; \n    } \n \n    public void setGroupNo(int groupNo) { \n        this.groupNo = groupNo; \n    } \n} \n</code></pre>\n<p><b>The Entity</b></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;BOOK_EMBEDDED&quot;) \npublic class BookMySQL implements Serializable { \n    private static final long serialVersionUID = 1L; \n\n    @Column(name = &quot;BOOK_NAME&quot;) \n    private String book_Name; \n\n    @EmbeddedId \n    private EmbeddedKey key; \n\n    public BookMySQL() { \n    } \n\n    public String getBook_Name() { \n        return book_Name; \n    } \n\n    public void setBook_Name(String book_Name) { \n        this.book_Name = book_Name; \n    } \n\n    public static long getSerialversionuid() { \n        return serialVersionUID; \n    } \n\n    public EmbeddedKey getKey() { \n        return key; \n    } \n\n    public void setKey(EmbeddedKey key) { \n        this.key = key; \n    } \n\n    @Override \n    public String toString() { \n        return this.getKey().toString() + &quot;  &quot; + this.getBook_Name(); \n    } \n}\n</code></pre>\n<p><b>Entity Manager class</b></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LocalEntityManager { \n    private static EntityManagerFactory emf; \n    private static EntityManager em; \n\n    private LocalEntityManager() { \n    } \n\n    public static EntityManager getEntityManger() { \n        if (emf == null) { \n            synchronized (LocalEntityManager.class) { \n                if (emf == null) { \n                    emf = Persistence.createEntityManagerFactory(&quot;BookEntities&quot;); \n                    em = emf.createEntityManager(); \n                } \n            } \n        } \n\n        return em; \n    } \n}\n</code></pre>\n<p><b>Book Service</b></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MySQLBookService { \n\n    public Long persistBook(String bookName) { \n        EmbeddedKey key = new EmbeddedKey(); \n        key.setGroupNo(1); \n\n        BookMySQL book = new BookMySQL(); \n        book.setBook_Name(bookName); \n        book.setKey(key); \n\n        EntityManager em = LocalEntityManager.getEntityManger(); \n        EntityTransaction tx = em.getTransaction(); \n\n        tx.begin(); \n        em.persist(book); \n        tx.commit(); \n\n        em.close(); \n\n        return book.getKey().getRowId(); \n    } \n\n    public BookMySQL findBook(int bookId) { \n        EntityManager em = LocalEntityManager.getEntityManger();\n \n        EmbeddedKey key = new EmbeddedKey(); \n        key.setGroupNo(1); \n        key.setRowId(1L); \n\n        BookMySQL bookMySQL = em.find(BookMySQL.class, key); \n\n        System.out.println(bookMySQL); \n\n        return bookMySQL; \n    } \n\n    public static void main(String... args) { \n        MySQLBookService bookService = new MySQLBookService(); \n        // bookService.findBook(1); \n        bookService.persistBook(&quot;Lord of the rings&quot;); \n    } \n}\n</code></pre>\n<p>The problem is I cannot use a sequence and by executing this\nfindBook always works and persist fails with error.</p>\n<pre><code>ERROR: Cannot insert explicit value for identity column in table 'BOOK_EMBEDDED' when IDENTITY_INSERT is set to OFF.\n</code></pre>\n<p>Any help will be greatly appreciated.</p>\n"},{"tags":["java","jena","fuseki"],"comments":[{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1680797946,"post_id":75949121,"comment_id":133962100,"body_markdown":"I don&#39;t see any data being loaded - so no results (zero rows). Otherwise, does the database have only named graphs? `WHERE { { ?s ?p ?o } UNION { GRAPH ?g { ?s ?p ?o } }`","body":"I don&#39;t see any data being loaded - so no results (zero rows). Otherwise, does the database have only named graphs? <code>WHERE { { ?s ?p ?o } UNION { GRAPH ?g { ?s ?p ?o } }</code>"},{"owner":{"account_id":15375756,"reputation":41,"user_id":11092528,"display_name":"Ines"},"score":0,"creation_date":1681404376,"post_id":75949121,"comment_id":134054587,"body_markdown":"@AndyS I didn&#39;t load any data, you are right. I am new to Jena and Fuseki. Thus, I don&#39;t know what&#39;s the default setting when it comes to creating a dataset (named graphs or not). I will try to insert data and see whether anything would change.","body":"@AndyS I didn&#39;t load any data, you are right. I am new to Jena and Fuseki. Thus, I don&#39;t know what&#39;s the default setting when it comes to creating a dataset (named graphs or not). I will try to insert data and see whether anything would change."},{"owner":{"account_id":15375756,"reputation":41,"user_id":11092528,"display_name":"Ines"},"score":0,"creation_date":1681405424,"post_id":75949121,"comment_id":134054813,"body_markdown":"@AndyS UPDATE I tried inserting data and now it works. Thank you!","body":"@AndyS UPDATE I tried inserting data and now it works. Thank you!"}],"owner":{"account_id":15375756,"reputation":41,"user_id":11092528,"display_name":"Ines"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680781343,"creation_date":1680781343,"question_id":75949121,"body_markdown":"I am trying to run a sparql query via fuseki using java.\r\nThe fuseki server is running. However when I run the code below, I can see that the console in eclipse is running but no results are returned (just blank console).\r\n\r\nI am using Fuseki 4.7.0, Jena 4.7.0 and Java 11.\r\n\r\nThe dataset &quot;your-dataset&quot; is created using the following command:\r\n\r\n```\r\nfuseki-server --loc=data --update /your-dataset\r\n```\r\n\r\nCode that I used is the following:\r\n\r\n```\r\npackage test;\r\n\r\nimport org.apache.jena.query.Query; \r\nimport org.apache.jena.query.QueryExecution; \r\nimport org.apache.jena.query.QueryFactory; \r\nimport org.apache.jena.query.ResultSet; \r\n\r\npublic class QueryStore {\r\n\r\n    public static void main(final String[] args) throws Exception { \r\n\t\r\n\r\n    String queryString=\r\n            &quot;prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;&quot;+\r\n            &quot;prefix owl: &lt;http://www.w3.org/2002/07/owl#&gt;&quot;+\r\n\r\n            &quot;SELECT ?subject ?predicate ?object&quot;+\r\n            &quot;WHERE {&quot;+\r\n            &quot; ?subject ?predicate ?object&quot;+\r\n            &quot; } LIMIT 25&quot;;\r\n\r\n            Query query = QueryFactory.create(queryString);\r\n   \r\n            QueryExecution qexec = QueryExecution.service(&quot;http://localhost:3030/your-dataset/sparql&quot;).query(query).build();\r\n\r\n            \r\n            ResultSet results = qexec.execSelect();\r\n            if (results.hasNext())\r\n            {\r\n            \tSystem.out.print(results.next().toString());\r\n            }\r\n            else {\r\n            \tSystem.out.print(&quot;empty dataset&quot;);\r\n            }\r\n            \t\r\n    }\r\n}\r\n```\r\n\r\nCan you spot what did I do wrong?\r\n","title":"Sparql query doesn&#39;t return results using Fuseki","body":"<p>I am trying to run a sparql query via fuseki using java.\nThe fuseki server is running. However when I run the code below, I can see that the console in eclipse is running but no results are returned (just blank console).</p>\n<p>I am using Fuseki 4.7.0, Jena 4.7.0 and Java 11.</p>\n<p>The dataset &quot;your-dataset&quot; is created using the following command:</p>\n<pre><code>fuseki-server --loc=data --update /your-dataset\n</code></pre>\n<p>Code that I used is the following:</p>\n<pre><code>package test;\n\nimport org.apache.jena.query.Query; \nimport org.apache.jena.query.QueryExecution; \nimport org.apache.jena.query.QueryFactory; \nimport org.apache.jena.query.ResultSet; \n\npublic class QueryStore {\n\n    public static void main(final String[] args) throws Exception { \n    \n\n    String queryString=\n            &quot;prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;&quot;+\n            &quot;prefix owl: &lt;http://www.w3.org/2002/07/owl#&gt;&quot;+\n\n            &quot;SELECT ?subject ?predicate ?object&quot;+\n            &quot;WHERE {&quot;+\n            &quot; ?subject ?predicate ?object&quot;+\n            &quot; } LIMIT 25&quot;;\n\n            Query query = QueryFactory.create(queryString);\n   \n            QueryExecution qexec = QueryExecution.service(&quot;http://localhost:3030/your-dataset/sparql&quot;).query(query).build();\n\n            \n            ResultSet results = qexec.execSelect();\n            if (results.hasNext())\n            {\n                System.out.print(results.next().toString());\n            }\n            else {\n                System.out.print(&quot;empty dataset&quot;);\n            }\n                \n    }\n}\n</code></pre>\n<p>Can you spot what did I do wrong?</p>\n"},{"tags":["java","android","xml"],"owner":{"account_id":18847096,"reputation":65,"user_id":13747074,"display_name":"Yanis02015"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680781251,"creation_date":1599050584,"question_id":63705790,"body_markdown":"sorry for my English\r\nMy problem with android studio is that the &quot;EditText&quot; are transparent in the Layout Validation but once the program is executed on my real hardware (my phone) they appear most normally\r\nSo I change the project to see, but the problem is still there\r\nSo it&#39;s clearly my software that bug.\r\n\r\nXML code\r\n\r\n    &lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;EditText\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;EditText test&quot;/&gt; &lt;/LinearLayout&gt;\r\n\r\nScreen:\r\n\r\n![Layout validation empty, but still appears in the split][1]\r\n\r\nThank you for helping me\r\nCordially.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gowtz.jpg","title":"Android Studio Layout Validation bug?","body":"<p>sorry for my English\nMy problem with android studio is that the &quot;EditText&quot; are transparent in the Layout Validation but once the program is executed on my real hardware (my phone) they appear most normally\nSo I change the project to see, but the problem is still there\nSo it's clearly my software that bug.</p>\n<p>XML code</p>\n<pre><code>&lt;LinearLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:orientation=&quot;vertical&quot;&gt;\n\n&lt;EditText\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:hint=&quot;EditText test&quot;/&gt; &lt;/LinearLayout&gt;\n</code></pre>\n<p>Screen:</p>\n<p><img src=\"https://i.stack.imgur.com/Gowtz.jpg\" alt=\"Layout validation empty, but still appears in the split\" /></p>\n<p>Thank you for helping me\nCordially.</p>\n"},{"tags":["java","spring-boot","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680781095,"creation_date":1680611468,"answer_id":75929424,"question_id":75925778,"body_markdown":"&gt;`ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(1000));`\r\n\r\nOf course it won&#39;t work with that; you are completely bypassing the Spring code and interacting with the `KafkaConsumer` yourself.\r\n\r\nIn that case you will have to implement your own error handling.\r\n\r\nHowever, you don&#39;t have to use `@KafkaListener` to use a container, you can use the container factory to create a container and use `setMessageListener` to add your listener to the container properties.\r\n\r\nYou should remove the `@KafkaListener` in that case, so the framework doesn&#39;t automatically configure a container for it.","title":"spring kafka error handling without KafkaListener","body":"<blockquote>\n<p><code>ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(1000));</code></p>\n</blockquote>\n<p>Of course it won't work with that; you are completely bypassing the Spring code and interacting with the <code>KafkaConsumer</code> yourself.</p>\n<p>In that case you will have to implement your own error handling.</p>\n<p>However, you don't have to use <code>@KafkaListener</code> to use a container, you can use the container factory to create a container and use <code>setMessageListener</code> to add your listener to the container properties.</p>\n<p>You should remove the <code>@KafkaListener</code> in that case, so the framework doesn't automatically configure a container for it.</p>\n"}],"owner":{"account_id":12621614,"reputation":962,"user_id":9176914,"accept_rate":100,"display_name":"Muddassir Rahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75929424,"answer_count":1,"score":3,"last_activity_date":1680781095,"creation_date":1680585956,"question_id":75925778,"body_markdown":"I am using the spring kafka in my project and have implemented a retry functionality. A message is consumed and if it fails I need to retry. Below code is working fine if I am using  and doing retry for some exceptions.\r\n\r\n\t@Component\r\n\tpublic class Consumer implements AcknowledgingMessageListener&lt;String, String&gt; {\r\n\r\n\t\t@Override\r\n\t\t@KafkaListener(topics = { &quot;ff808081672c17c8016730733d020001.CBS_PROFILE&quot;})\r\n\t\tpublic void onMessage(ConsumerRecord&lt;String, String&gt; consumerRecord, Acknowledgment acknowledgment) {\r\n\r\n\t\t\tlog.info(&quot;Computed &quot;);\r\n\t\t\tthrow new RuntimeException();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Configuration\r\n\t@Slf4j\r\n\tpublic class KafkaConsumerConfig {\r\n\r\n\t\t/** handles error and recovery logic **/\r\n\t\tpublic DefaultErrorHandler errorHandler() {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Inside error handler&quot;);\r\n\r\n\t\t\t// if these exceptions occur in the consumer, record will not be retried\r\n\t\t\tList&lt;Class&lt;? extends Exception&gt;&gt; exceptionsToIgnore = List.of(JsonSchemaValidationException.class);\r\n\r\n\t\t\t// if these exceptions occur in the consumer, record will be retried\r\n\t\t\tList&lt;Class&lt;? extends Exception&gt;&gt; exceptionsToRetry = List.of(DataEngineNotAvailableException.class, ListenerExecutionFailedException.class);\r\n\r\n\t\t\t// retry twice after fixed interval of one second\r\n\t\t\tvar fixedBackOff = new FixedBackOff(500L, 1);\r\n\t\t\tvar expBackoff = new ExponentialBackOffWithMaxRetries(2);\r\n\t\t\texpBackoff.setInitialInterval(1000L);\r\n\t\t\tvar errorHandler = new DefaultErrorHandler(fixedBackOff);\r\n\r\n\t\t\terrorHandler.setRetryListeners((consumerRecord, ex, deliveryAttempt) -&gt; {\r\n\t\t\t\tlog.info(&quot;Failed record {} in retry listeners, Exception : {}, delivery attempt : {}&quot;, consumerRecord,\r\n\t\t\t\t\t\tex.getMessage(), deliveryAttempt);\r\n\t\t\t});\r\n\r\n\t\t\texceptionsToIgnore.forEach(errorHandler::addNotRetryableExceptions);\r\n\t\t\texceptionsToRetry.forEach(errorHandler::addRetryableExceptions);\r\n\t\t\treturn errorHandler;\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\r\n\t\t\t\tConcurrentKafkaListenerContainerFactoryConfigurer configurer,\r\n\t\t\t\tConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\r\n\t\t\tConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n\t\t\tconfigurer.configure(factory, kafkaConsumerFactory);\r\n\t\t\tfactory.getContainerProperties().setAckMode(AckMode.MANUAL);\r\n\r\n\t\t\t// should be equal to number of partitions\r\n\t\t\tfactory.setConcurrency(3);\r\n\t\t\tfactory.setCommonErrorHandler(errorHandler());\r\n\t\t\treturn factory;\r\n\t\t}\r\n\r\n\t}\r\n\r\nBut I am not able to implement retry mechanism if I implement consumer like below. \r\nExpectation is to retry the `dataProcessor.readRecord(r, consumer)` method.\r\n\r\n    @PostConstruct\r\n\tpublic void onLoad() {\r\n\r\n\t\tconfigService.setConfigurations();\r\n\t\t\r\n\t\t//load consumer\r\n\t\tconsumerRunnerV2.loadConsumers();\r\n\r\n\t}\r\n\t\r\n\r\n\tpublic void loadConsumers() {\r\n\r\n\t\tconsumerServiceV2.fillConsumerMap();\r\n\t\tMap&lt;String, LRConsumer&gt; consumersMap = consumerServiceV2.getConsumersMap();\r\n\r\n\t\tfor (Map.Entry&lt;String, LRConsumer&gt; consumer : consumersMap.entrySet()) {\r\n\t\t\tconsumerTaskExecutor.execute(() -&gt; runConsumer(consumer.getValue()));\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\t\r\n\tprivate void runConsumer(LRConsumer consumer) {\r\n\r\n\t\twhile (true) {\r\n\t\t\r\n\t\r\n\t\t\t// to check state of consumer\r\n\t\t\tconsumer = consumerServiceV2.getConsumerById(consumer.getConsumerId());\r\n\r\n\t\t\tif (consumer.getState() != ConsumerState.PAUSED) {\r\n\t\t\t\t\r\n\t\t\t\tlog.info(&quot;Waiting to receive messages.&quot;);\r\n\t\t\t\tConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(1000));\r\n\t\t\t\t\r\n\t\t\t\tfor (ConsumerRecord&lt;String, String&gt; r : records)\r\n\t\t\t\t\r\n\t\t\t\t\t//expectation is to retry this method\r\n\t\t\t\t\tdataProcessor.readRecord(r, consumer);\r\n\t\t\t}\r\n\r\n\t\t\telse {\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t\tlog.info(&quot;Consumer is in paused state.&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n","title":"spring kafka error handling without KafkaListener","body":"<p>I am using the spring kafka in my project and have implemented a retry functionality. A message is consumed and if it fails I need to retry. Below code is working fine if I am using  and doing retry for some exceptions.</p>\n<pre><code>@Component\npublic class Consumer implements AcknowledgingMessageListener&lt;String, String&gt; {\n\n    @Override\n    @KafkaListener(topics = { &quot;ff808081672c17c8016730733d020001.CBS_PROFILE&quot;})\n    public void onMessage(ConsumerRecord&lt;String, String&gt; consumerRecord, Acknowledgment acknowledgment) {\n\n        log.info(&quot;Computed &quot;);\n        throw new RuntimeException();\n\n    }\n\n}\n\n@Configuration\n@Slf4j\npublic class KafkaConsumerConfig {\n\n    /** handles error and recovery logic **/\n    public DefaultErrorHandler errorHandler() {\n        \n        System.out.println(&quot;Inside error handler&quot;);\n\n        // if these exceptions occur in the consumer, record will not be retried\n        List&lt;Class&lt;? extends Exception&gt;&gt; exceptionsToIgnore = List.of(JsonSchemaValidationException.class);\n\n        // if these exceptions occur in the consumer, record will be retried\n        List&lt;Class&lt;? extends Exception&gt;&gt; exceptionsToRetry = List.of(DataEngineNotAvailableException.class, ListenerExecutionFailedException.class);\n\n        // retry twice after fixed interval of one second\n        var fixedBackOff = new FixedBackOff(500L, 1);\n        var expBackoff = new ExponentialBackOffWithMaxRetries(2);\n        expBackoff.setInitialInterval(1000L);\n        var errorHandler = new DefaultErrorHandler(fixedBackOff);\n\n        errorHandler.setRetryListeners((consumerRecord, ex, deliveryAttempt) -&gt; {\n            log.info(&quot;Failed record {} in retry listeners, Exception : {}, delivery attempt : {}&quot;, consumerRecord,\n                    ex.getMessage(), deliveryAttempt);\n        });\n\n        exceptionsToIgnore.forEach(errorHandler::addNotRetryableExceptions);\n        exceptionsToRetry.forEach(errorHandler::addRetryableExceptions);\n        return errorHandler;\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\n            ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\n            ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        configurer.configure(factory, kafkaConsumerFactory);\n        factory.getContainerProperties().setAckMode(AckMode.MANUAL);\n\n        // should be equal to number of partitions\n        factory.setConcurrency(3);\n        factory.setCommonErrorHandler(errorHandler());\n        return factory;\n    }\n\n}\n</code></pre>\n<p>But I am not able to implement retry mechanism if I implement consumer like below.\nExpectation is to retry the <code>dataProcessor.readRecord(r, consumer)</code> method.</p>\n<pre><code>@PostConstruct\npublic void onLoad() {\n\n    configService.setConfigurations();\n    \n    //load consumer\n    consumerRunnerV2.loadConsumers();\n\n}\n\n\npublic void loadConsumers() {\n\n    consumerServiceV2.fillConsumerMap();\n    Map&lt;String, LRConsumer&gt; consumersMap = consumerServiceV2.getConsumersMap();\n\n    for (Map.Entry&lt;String, LRConsumer&gt; consumer : consumersMap.entrySet()) {\n        consumerTaskExecutor.execute(() -&gt; runConsumer(consumer.getValue()));\n    }\n\n}\n\n\nprivate void runConsumer(LRConsumer consumer) {\n\n    while (true) {\n    \n\n        // to check state of consumer\n        consumer = consumerServiceV2.getConsumerById(consumer.getConsumerId());\n\n        if (consumer.getState() != ConsumerState.PAUSED) {\n            \n            log.info(&quot;Waiting to receive messages.&quot;);\n            ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(1000));\n            \n            for (ConsumerRecord&lt;String, String&gt; r : records)\n            \n                //expectation is to retry this method\n                dataProcessor.readRecord(r, consumer);\n        }\n\n        else {\n            Thread.sleep(1000);\n            log.info(&quot;Consumer is in paused state.&quot;);\n        }\n        \n        \n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","junit4","serenity-bdd","lambdatest"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680777946,"post_id":75948408,"comment_id":133957056,"body_markdown":"Please read [ask].","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":28231639,"reputation":16,"user_id":21580766,"display_name":"Surendra Nagora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680781081,"creation_date":1680780994,"answer_id":75949067,"question_id":75948408,"body_markdown":"maven tunnel dependency is below as per your pom details\r\nhttps://github.com/LambdaTest/lambdatest-maven-tunnel\r\n\r\nthis is using testng as dependency.\r\n```\r\n   &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t    &lt;version&gt;7.7.1&lt;/version&gt;\r\n    \t&lt;scope&gt;compile&lt;/scope&gt;\r\n   &lt;/dependency&gt;\r\n```\r\n\r\nIt could give you some issues when running with surefire. try with TestNG Exclusion as below. It should work. \r\nIt is always the better idea to use latest version.\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.lambdatest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lambdatest-tunnel-binary&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.16&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n```\r\n\r\n\r\n","title":"Serenity JUnit tests are not getting executed in parallel with LambdaTest Maven Tunnel","body":"<p>maven tunnel dependency is below as per your pom details\n<a href=\"https://github.com/LambdaTest/lambdatest-maven-tunnel\" rel=\"nofollow noreferrer\">https://github.com/LambdaTest/lambdatest-maven-tunnel</a></p>\n<p>this is using testng as dependency.</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;7.7.1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n   &lt;/dependency&gt;\n</code></pre>\n<p>It could give you some issues when running with surefire. try with TestNG Exclusion as below. It should work.\nIt is always the better idea to use latest version.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.lambdatest&lt;/groupId&gt;\n            &lt;artifactId&gt;lambdatest-tunnel-binary&lt;/artifactId&gt;\n            &lt;version&gt;1.0.16&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n"}],"owner":{"account_id":28231049,"reputation":3,"user_id":21580267,"display_name":"Shahnawaz Sk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680786857,"accepted_answer_id":75949067,"answer_count":1,"score":0,"last_activity_date":1680781081,"creation_date":1680776288,"question_id":75948408,"body_markdown":"I am using all these dependencies in the POM.xml for my serenity project.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project\r\n\txmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;org.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;SerenityBDD&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;serenity.version&gt;3.6.12&lt;/serenity.version&gt;\r\n\t\t&lt;serenity.maven.version&gt;3.6.12&lt;/serenity.maven.version&gt;\r\n\t\t&lt;serenity.cucumber.version&gt;3.6.12&lt;/serenity.cucumber.version&gt;\r\n\t\t&lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\r\n\t\t&lt;maven.surefire.version&gt;3.0.0-M5&lt;/maven.surefire.version&gt;\r\n\t\t&lt;tags&gt;&lt;/tags&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${serenity.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;serenity-junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${serenity.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;serenity-rest-assured&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${serenity.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;serenity-cucumber&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${serenity.cucumber.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.19.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.19.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.lambdatest&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lambdatest-tunnel-binary&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.16&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${maven.compiler.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t\t\t&lt;source&gt;11&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;11&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${maven.surefire.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/SerenityTestRunner.java&lt;/include&gt;\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/SerenityRunner*.java&lt;/include&gt;\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t&lt;parallel&gt;methods&lt;/parallel&gt;\r\n\t\t\t\t\t&lt;threadCount&gt;3&lt;/threadCount&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;verify&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.26.0&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${serenity.maven.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;tags&gt;${tags}&lt;/tags&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;serenity-reports&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;aggregate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nAfter commenting the LambdaTest Maven Tunnel dependency, the parallel execution of tests on LambdaTest dashboard works fine.\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.lambdatest&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lambdatest-tunnel-binary&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.16&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nDebugging Steps:\r\n- To execute all the tests in parallel threads with LambdaTest Maven Tunnel on LambdaTest grid.","title":"Serenity JUnit tests are not getting executed in parallel with LambdaTest Maven Tunnel","body":"<p>I am using all these dependencies in the POM.xml for my serenity project.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project\n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SerenityBDD&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;serenity.version&gt;3.6.12&lt;/serenity.version&gt;\n        &lt;serenity.maven.version&gt;3.6.12&lt;/serenity.maven.version&gt;\n        &lt;serenity.cucumber.version&gt;3.6.12&lt;/serenity.cucumber.version&gt;\n        &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\n        &lt;maven.surefire.version&gt;3.0.0-M5&lt;/maven.surefire.version&gt;\n        &lt;tags&gt;&lt;/tags&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-junit&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-cucumber&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.cucumber.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.lambdatest&lt;/groupId&gt;\n            &lt;artifactId&gt;lambdatest-tunnel-binary&lt;/artifactId&gt;\n            &lt;version&gt;1.0.16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/SerenityTestRunner.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/SerenityRunner*.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;parallel&gt;methods&lt;/parallel&gt;\n                    &lt;threadCount&gt;3&lt;/threadCount&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\n                &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.26.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${serenity.maven.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;tags&gt;${tags}&lt;/tags&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;serenity-reports&lt;/id&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>After commenting the LambdaTest Maven Tunnel dependency, the parallel execution of tests on LambdaTest dashboard works fine.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.lambdatest&lt;/groupId&gt;\n            &lt;artifactId&gt;lambdatest-tunnel-binary&lt;/artifactId&gt;\n            &lt;version&gt;1.0.16&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Debugging Steps:</p>\n<ul>\n<li>To execute all the tests in parallel threads with LambdaTest Maven Tunnel on LambdaTest grid.</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","snowflake-cloud-data-platform"],"answers":[{"tags":[],"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647420539,"creation_date":1647420539,"answer_id":71494057,"question_id":71487403,"body_markdown":"The parameter **JDBC_QUERY_RESULT_FORMAT** can be set per account/user/session, therefore if you always want to have **JSON** for that user you can set it directly via Snowflake UI only once:\r\n\r\n    ALTER USER &lt;youruser&gt; SET JDBC_QUERY_RESULT_FORMAT=&#39;JSON&#39;;\r\n\r\nThis would only impact your user and the account would still have **ARROW** as default. And you wouldn&#39;t need to set it at session level all the time.","title":"Spring boot - Snowflake JDBC - Alter session automatically when application loads","body":"<p>The parameter <strong>JDBC_QUERY_RESULT_FORMAT</strong> can be set per account/user/session, therefore if you always want to have <strong>JSON</strong> for that user you can set it directly via Snowflake UI only once:</p>\n<pre><code>ALTER USER &lt;youruser&gt; SET JDBC_QUERY_RESULT_FORMAT='JSON';\n</code></pre>\n<p>This would only impact your user and the account would still have <strong>ARROW</strong> as default. And you wouldn't need to set it at session level all the time.</p>\n"},{"tags":[],"owner":{"account_id":4308682,"reputation":12613,"user_id":3520404,"display_name":"saran3h"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662992551,"creation_date":1647508083,"answer_id":71509626,"question_id":71487403,"body_markdown":"It turns out that the original issue can be fixed easily by tweaking some memory settings in your applications.\r\n\r\nSummarising the solution below:\r\n\r\nIncrease the heap memory and setting `-XX:MaxDirectMemorySize` &gt; 64M by setting the `JAVA_OPTS` property for your application. \r\n\r\nThe rationale behind this is that Arrow format inherently make use of the available heap memory in order to optimise the large results. Not having enough heap space will lead to the above mentioned error.\r\n\r\nI still need to perform more tests to find out the ideal values for heap memory, stack size, and this variable → -XX:MaxDirectMemorySize.\r\n\r\nEDIT: Below settings worked:\r\n```\r\n&quot;JAVA_OPTS&quot;: &quot;-Xss230k -XX:ReservedCodeCacheSize=100m -Xmx1800m -XX:MaxDirectMemorySize=1500m&quot;\r\n\r\n6 instances of the app running in parallel.\r\n\r\n2GB RAM per instance ie. 12GB RAM in total (probably an overkill but it snowflake driver does eat up a lot of ram in general)\r\n```","title":"Spring boot - Snowflake JDBC - Alter session automatically when application loads","body":"<p>It turns out that the original issue can be fixed easily by tweaking some memory settings in your applications.</p>\n<p>Summarising the solution below:</p>\n<p>Increase the heap memory and setting <code>-XX:MaxDirectMemorySize</code> &gt; 64M by setting the <code>JAVA_OPTS</code> property for your application.</p>\n<p>The rationale behind this is that Arrow format inherently make use of the available heap memory in order to optimise the large results. Not having enough heap space will lead to the above mentioned error.</p>\n<p>I still need to perform more tests to find out the ideal values for heap memory, stack size, and this variable → -XX:MaxDirectMemorySize.</p>\n<p>EDIT: Below settings worked:</p>\n<pre><code>&quot;JAVA_OPTS&quot;: &quot;-Xss230k -XX:ReservedCodeCacheSize=100m -Xmx1800m -XX:MaxDirectMemorySize=1500m&quot;\n\n6 instances of the app running in parallel.\n\n2GB RAM per instance ie. 12GB RAM in total (probably an overkill but it snowflake driver does eat up a lot of ram in general)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130318,"reputation":6472,"user_id":329496,"accept_rate":66,"display_name":"simbo1905"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680780807,"creation_date":1680780807,"answer_id":75949035,"question_id":71487403,"body_markdown":"This happens on modern JVMs due to Arrow wanting to do low level memory allocations. It logs to stdout that it wants the JVM to be started with `--add-opens=java.base/java.nio=ALL-UNNAMED`. \r\n\r\nThe fixes that are good for JDK17 are described on the [Arrow Docs](https://arrow.apache.org/docs/java/install.html) as: \r\n\r\n```shell\r\n# Directly on the command line\r\njava --add-opens=java.base/java.nio=ALL-UNNAMED -jar ...\r\n\r\n# Indirectly via environment variables\r\nenv _JAVA_OPTIONS=&quot;--add-opens=java.base/java.nio=ALL-UNNAMED&quot; java -jar ...\r\n```\r\n\r\nSo if you are using intellij/Docker setting the env var of `_JAVA_OPTIONS` to be `--add-opens=java.base/java.nio=ALL-UNNAMED` is probably the best solution. ","title":"Spring boot - Snowflake JDBC - Alter session automatically when application loads","body":"<p>This happens on modern JVMs due to Arrow wanting to do low level memory allocations. It logs to stdout that it wants the JVM to be started with <code>--add-opens=java.base/java.nio=ALL-UNNAMED</code>.</p>\n<p>The fixes that are good for JDK17 are described on the <a href=\"https://arrow.apache.org/docs/java/install.html\" rel=\"nofollow noreferrer\">Arrow Docs</a> as:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Directly on the command line\njava --add-opens=java.base/java.nio=ALL-UNNAMED -jar ...\n\n# Indirectly via environment variables\nenv _JAVA_OPTIONS=&quot;--add-opens=java.base/java.nio=ALL-UNNAMED&quot; java -jar ...\n</code></pre>\n<p>So if you are using intellij/Docker setting the env var of <code>_JAVA_OPTIONS</code> to be <code>--add-opens=java.base/java.nio=ALL-UNNAMED</code> is probably the best solution.</p>\n"}],"owner":{"account_id":4308682,"reputation":12613,"user_id":3520404,"display_name":"saran3h"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1137,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71494057,"answer_count":3,"score":2,"last_activity_date":1680780807,"creation_date":1647369607,"question_id":71487403,"body_markdown":"I&#39;m trying to connect Snowflake to Spring boot based application. Everything works well however due to some crazy defaults in snowflake, I&#39;m having to deal with the below error:\r\nhttps://community.snowflake.com/s/article/SAP-BW-Java-lang-NoClassDefFoundError-for-Apache-arrow\r\n\r\nI can fire the queries via Spring data JPA but not able to map the results at all. The solution asks for changing the default resultset format from ARROW to JSON:\r\n\r\n```\r\nCustomer can use this property (jdbc_query_result_format=json) in datasouce property of Application server or session property in application like\r\n\r\nStatement = connection.createStatement();\r\nStatement.executeQuery(&quot;ALTER SESSION SET JDBC_QUERY_RESULT_FORMAT=&#39;JSON&#39;&quot;);\r\n```\r\n\r\nI&#39;m just wondering how could I achieve that with Spring ie. run the above SQL in the bootstrap period. I&#39;m using Spring data JPA queries.","title":"Spring boot - Snowflake JDBC - Alter session automatically when application loads","body":"<p>I'm trying to connect Snowflake to Spring boot based application. Everything works well however due to some crazy defaults in snowflake, I'm having to deal with the below error:\n<a href=\"https://community.snowflake.com/s/article/SAP-BW-Java-lang-NoClassDefFoundError-for-Apache-arrow\" rel=\"nofollow noreferrer\">https://community.snowflake.com/s/article/SAP-BW-Java-lang-NoClassDefFoundError-for-Apache-arrow</a></p>\n<p>I can fire the queries via Spring data JPA but not able to map the results at all. The solution asks for changing the default resultset format from ARROW to JSON:</p>\n<pre><code>Customer can use this property (jdbc_query_result_format=json) in datasouce property of Application server or session property in application like\n\nStatement = connection.createStatement();\nStatement.executeQuery(&quot;ALTER SESSION SET JDBC_QUERY_RESULT_FORMAT='JSON'&quot;);\n</code></pre>\n<p>I'm just wondering how could I achieve that with Spring ie. run the above SQL in the bootstrap period. I'm using Spring data JPA queries.</p>\n"},{"tags":["java","jasper-reports","export-to-excel","dynamic-jasper"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1680768278,"post_id":75947079,"comment_id":133954921,"body_markdown":"An issue which relates to this was [reported](https://community.jaspersoft.com/jasperreports-library/issues/14316) and resolved as far as I know in 6.20.0. Try to upgrage the latest Jasper version.","body":"An issue which relates to this was <a href=\"https://community.jaspersoft.com/jasperreports-library/issues/14316\" rel=\"nofollow noreferrer\">reported</a> and resolved as far as I know in 6.20.0. Try to upgrage the latest Jasper version."},{"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"score":0,"creation_date":1680769872,"post_id":75947079,"comment_id":133955311,"body_markdown":"@zforgo thanks but I&#39;ve tried this and it didn&#39;t work . :(","body":"@zforgo thanks but I&#39;ve tried this and it didn&#39;t work . :("},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1681164356,"post_id":75947079,"comment_id":134009663,"body_markdown":"As @Axel Richter\nnotes [here](https://stackoverflow.com/questions/75975141/xlsx-files-are-opening-with-error-popup-using-apache-poi-and-jasperreports#comment134000187_75975141), see the [_Component Map_](https://poi.apache.org/components/index.html#components).","body":"As @Axel Richter notes <a href=\"https://stackoverflow.com/questions/75975141/xlsx-files-are-opening-with-error-popup-using-apache-poi-and-jasperreports#comment134000187_75975141\">here</a>, see the <a href=\"https://poi.apache.org/components/index.html#components\" rel=\"nofollow noreferrer\"><i>Component Map</i></a>."}],"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680780598,"creation_date":1680767540,"question_id":75947079,"body_markdown":"I&#39;m working on jasper reports and the .xlxs file that gets generated from the jasper gives this error\r\n**We found a problem with some content in &#39;DetailedQuoteReport ISX003178-001.xlsx. Do you want us to try to recover as much as we can? If you trust the source of this workbook, click Yes.**\r\nHowever the PDF, word, .xls file are getting generated and opened fine.\r\nI&#39;m unable to rectify the cause. The code in order to generate the excel is below\r\n```\r\n    public ByteArrayOutputStream export(JasperPrint jp) {\r\n    Exporter exporter =exporter = new JRXlsxExporter();\r\n    \t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \r\n    \t\t// Here we assign the parameters jp and baos to the exporter\r\n    \t\texporter.setParameter(JRExporterParameter.JASPER_PRINT, jp);\r\n    \t\texporter.setParameter(JRExporterParameter.OUTPUT_STREAM, baos);\r\n    \t\tif (ReportOutputType.XLS.equals(reportOutputType) || ReportOutputType.XLSX.equals(reportOutputType)) {\r\n    \t\t\texporter.setParameter(JRXlsExporterParameter.IS_DETECT_CELL_TYPE, Boolean.TRUE);\r\n    \t\t\texporter.setParameter(JRXlsExporterParameter.IS_WHITE_PAGE_BACKGROUND, Boolean.FALSE);\r\n    \t\t\texporter.setParameter(JRXlsExporterParameter.IS_IGNORE_GRAPHICS, Boolean.FALSE);\r\n    \t\t\texporter.setParameter(JRXlsExporterParameter.IS_REMOVE_EMPTY_SPACE_BETWEEN_COLUMNS, Boolean.TRUE);\r\n    \t\t\texporter.setParameter(JRXlsExporterParameter.IS_REMOVE_EMPTY_SPACE_BETWEEN_ROWS, Boolean.TRUE);\r\n    \t\t\texporter.setParameter(JRXlsExporterParameter.IS_COLLAPSE_ROW_SPAN, Boolean.TRUE);\r\n    \t\t\texporter.setParameter(JRXlsExporterParameter.IS_FONT_SIZE_FIX_ENABLED, Boolean.TRUE);\r\n    \t\t\texporter.setParameter(JRXlsExporterParameter.IS_IGNORE_CELL_BORDER, Boolean.TRUE);\r\n    \t\t\t \r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\texporter.exportReport();\r\n    \r\n    \t\t} catch (JRException e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \r\n    \t\treturn baos;\r\n    \t}\r\n```\r\nThe jasper Version that I&#39;m using is 6.17.0 ,\r\n Dynamic jasper = 5.3.3 , \r\n poi =  5.2.0 ,\r\n poi-ooxml ,ooxml-schemas - 1.4 .\r\nAs soon as I click on yes in the excel popup the excel opens successfully but why the error prompt is coming? Please help","title":".XLSX files which are generated using jasper report 6.17.0 are opening with error","body":"<p>I'm working on jasper reports and the .xlxs file that gets generated from the jasper gives this error\n<strong>We found a problem with some content in 'DetailedQuoteReport ISX003178-001.xlsx. Do you want us to try to recover as much as we can? If you trust the source of this workbook, click Yes.</strong>\nHowever the PDF, word, .xls file are getting generated and opened fine.\nI'm unable to rectify the cause. The code in order to generate the excel is below</p>\n<pre><code>    public ByteArrayOutputStream export(JasperPrint jp) {\n    Exporter exporter =exporter = new JRXlsxExporter();\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    \n            // Here we assign the parameters jp and baos to the exporter\n            exporter.setParameter(JRExporterParameter.JASPER_PRINT, jp);\n            exporter.setParameter(JRExporterParameter.OUTPUT_STREAM, baos);\n            if (ReportOutputType.XLS.equals(reportOutputType) || ReportOutputType.XLSX.equals(reportOutputType)) {\n                exporter.setParameter(JRXlsExporterParameter.IS_DETECT_CELL_TYPE, Boolean.TRUE);\n                exporter.setParameter(JRXlsExporterParameter.IS_WHITE_PAGE_BACKGROUND, Boolean.FALSE);\n                exporter.setParameter(JRXlsExporterParameter.IS_IGNORE_GRAPHICS, Boolean.FALSE);\n                exporter.setParameter(JRXlsExporterParameter.IS_REMOVE_EMPTY_SPACE_BETWEEN_COLUMNS, Boolean.TRUE);\n                exporter.setParameter(JRXlsExporterParameter.IS_REMOVE_EMPTY_SPACE_BETWEEN_ROWS, Boolean.TRUE);\n                exporter.setParameter(JRXlsExporterParameter.IS_COLLAPSE_ROW_SPAN, Boolean.TRUE);\n                exporter.setParameter(JRXlsExporterParameter.IS_FONT_SIZE_FIX_ENABLED, Boolean.TRUE);\n                exporter.setParameter(JRXlsExporterParameter.IS_IGNORE_CELL_BORDER, Boolean.TRUE);\n                 \n            }\n    \n            try {\n                exporter.exportReport();\n    \n            } catch (JRException e) {\n                throw new RuntimeException(e);\n            }\n    \n            return baos;\n        }\n</code></pre>\n<p>The jasper Version that I'm using is 6.17.0 ,\nDynamic jasper = 5.3.3 ,\npoi =  5.2.0 ,\npoi-ooxml ,ooxml-schemas - 1.4 .\nAs soon as I click on yes in the excel popup the excel opens successfully but why the error prompt is coming? Please help</p>\n"},{"tags":["java","playwright","playwright-java"],"answers":[{"tags":[],"owner":{"account_id":26567053,"reputation":41,"user_id":20193901,"display_name":"Hamza Bouhelal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669908291,"creation_date":1669908281,"answer_id":74644290,"question_id":74598850,"body_markdown":"Since this is your website, you could set some hidden input to indicate whether the table is loading or not using javascript, and wait for that input value to be what you expect in playwright. ","title":"Wait until element change state in Playwright with Java","body":"<p>Since this is your website, you could set some hidden input to indicate whether the table is loading or not using javascript, and wait for that input value to be what you expect in playwright.</p>\n"},{"tags":[],"owner":{"account_id":7400870,"reputation":48,"user_id":5631359,"display_name":"RoRO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677380350,"creation_date":1677380350,"answer_id":75569755,"question_id":74598850,"body_markdown":"Try a utility function like this to wait for Javascript and JQuery animations to finish\r\n\r\n```\r\n    public static void waitForJsAndJquery(Page page) {\r\n        String jsScript = &quot;document.readyState === &#39;complete&#39;&quot;;\r\n        String jqueryScript = &quot;window.jQuery &amp;&amp; window.jQuery.active == 0 &amp;&amp; $(\\&quot;:animated\\&quot;).length == 0&quot;;\r\n\r\n        Boolean javascript = (Boolean) page.evaluate(jsScript);\r\n        Boolean jquery = (Boolean) page.evaluate(jqueryScript);\r\n\r\n        while (!javascript &amp;&amp; jquery != null &amp;&amp; !jquery) {\r\n            javascript = (Boolean) page.evaluate(jsScript);\r\n            jquery = (Boolean) page.evaluate(jqueryScript);\r\n        }\r\n    }\r\n```\r\n\r\nIf this still doesn&#39;t work, then try in conjunction with your\r\n```\r\npage.waitForLoadState(LoadState.DOMCONTENTLOADED);\r\npage.waitForLoadState(LoadState.NETWORKIDLE);\r\n```","title":"Wait until element change state in Playwright with Java","body":"<p>Try a utility function like this to wait for Javascript and JQuery animations to finish</p>\n<pre><code>    public static void waitForJsAndJquery(Page page) {\n        String jsScript = &quot;document.readyState === 'complete'&quot;;\n        String jqueryScript = &quot;window.jQuery &amp;&amp; window.jQuery.active == 0 &amp;&amp; $(\\&quot;:animated\\&quot;).length == 0&quot;;\n\n        Boolean javascript = (Boolean) page.evaluate(jsScript);\n        Boolean jquery = (Boolean) page.evaluate(jqueryScript);\n\n        while (!javascript &amp;&amp; jquery != null &amp;&amp; !jquery) {\n            javascript = (Boolean) page.evaluate(jsScript);\n            jquery = (Boolean) page.evaluate(jqueryScript);\n        }\n    }\n</code></pre>\n<p>If this still doesn't work, then try in conjunction with your</p>\n<pre><code>page.waitForLoadState(LoadState.DOMCONTENTLOADED);\npage.waitForLoadState(LoadState.NETWORKIDLE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7583167,"reputation":26,"user_id":5753228,"display_name":"Elayaraja K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680779997,"creation_date":1680779920,"answer_id":75948913,"question_id":74598850,"body_markdown":"You can use Awaitility (import org.awaitility.Awaitility;) with polling until your specified conditions are met. It solves most of my conditional based requirement in my app implementation.\r\n\r\n    Callable&lt;Boolean&gt; wait = () -&gt; page.locator(&quot;yourLocator&quot;).isVisible(); //you can code your condition here.\r\n    Awaitility.waitAtMost(Duration.ofSeconds(30)).pollDelay(Duration.ofMillis(500)).until(wait); \r\n\r\n","title":"Wait until element change state in Playwright with Java","body":"<p>You can use Awaitility (import org.awaitility.Awaitility;) with polling until your specified conditions are met. It solves most of my conditional based requirement in my app implementation.</p>\n<pre><code>Callable&lt;Boolean&gt; wait = () -&gt; page.locator(&quot;yourLocator&quot;).isVisible(); //you can code your condition here.\nAwaitility.waitAtMost(Duration.ofSeconds(30)).pollDelay(Duration.ofMillis(500)).until(wait); \n</code></pre>\n"}],"owner":{"account_id":8945947,"reputation":94,"user_id":6673431,"accept_rate":64,"display_name":"Hamza Amami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75948913,"answer_count":3,"score":0,"last_activity_date":1680779997,"creation_date":1669629445,"question_id":74598850,"body_markdown":"I have an issue with tables. Let&#39;s say that I have a table with column and rows, I get the need to verify a value before and after\r\n\r\n    //get the value before\r\n    String randomStuff = page.locate(columnSelector).textContent() //This will give us for example Activate\r\n\r\n    // click on deactivate button\r\n    page.locate(deactivateButton).click()\r\n\r\n    // get the value after\r\n    String randomStuff = page.locate(columnSelector).textContent() //This will give us for example Deactivate\r\n\r\nThe problem is as the element exist anyway, the script give me randomly activate or deactivate, so it generate flakiness.\r\n\r\nI have tried\r\n\r\n    page.waitForLoadState(LoadState.DOMCONTENTLOADED);\r\n    page.waitForLoadState(LoadState.NETWORKIDLE);\r\n\r\nTo wait for element to change, but nothing works.\r\n\r\nI even waited for ready state = complete, but nothing works\r\n\r\n    String state = page.evaluate(&quot;document.readyState&quot;).toString();\r\n    outerloop:while(time&lt;timeout) {\r\n    \ttry {\r\n    \t\tThread.sleep(200);\r\n    \t} catch (InterruptedException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \ttime+=200;\r\n    \tstate = page.evaluate(&quot;document.readyState&quot;).toString();\r\n    \tif (state.equals(&quot;complete&quot;)) \r\n    \t\tbreak outerloop;\r\n    }\r\n\r\nI want to wait (dynamically) until the element change the state. When searching for existence or absence of an element in a table for example, tables and column exist even before the search, so Playwright doesn&#39;t wait until the table finish loading with search result.\r\n\r\nI have many example like this in my web app, and I can&#39;t figure out a simple solution that Playwright offers.","title":"Wait until element change state in Playwright with Java","body":"<p>I have an issue with tables. Let's say that I have a table with column and rows, I get the need to verify a value before and after</p>\n<pre><code>//get the value before\nString randomStuff = page.locate(columnSelector).textContent() //This will give us for example Activate\n\n// click on deactivate button\npage.locate(deactivateButton).click()\n\n// get the value after\nString randomStuff = page.locate(columnSelector).textContent() //This will give us for example Deactivate\n</code></pre>\n<p>The problem is as the element exist anyway, the script give me randomly activate or deactivate, so it generate flakiness.</p>\n<p>I have tried</p>\n<pre><code>page.waitForLoadState(LoadState.DOMCONTENTLOADED);\npage.waitForLoadState(LoadState.NETWORKIDLE);\n</code></pre>\n<p>To wait for element to change, but nothing works.</p>\n<p>I even waited for ready state = complete, but nothing works</p>\n<pre><code>String state = page.evaluate(&quot;document.readyState&quot;).toString();\nouterloop:while(time&lt;timeout) {\n    try {\n        Thread.sleep(200);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    time+=200;\n    state = page.evaluate(&quot;document.readyState&quot;).toString();\n    if (state.equals(&quot;complete&quot;)) \n        break outerloop;\n}\n</code></pre>\n<p>I want to wait (dynamically) until the element change the state. When searching for existence or absence of an element in a table for example, tables and column exist even before the search, so Playwright doesn't wait until the table finish loading with search result.</p>\n<p>I have many example like this in my web app, and I can't figure out a simple solution that Playwright offers.</p>\n"},{"tags":["java","spring","spring-boot","java-8","veracode"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1680780112,"post_id":75948840,"comment_id":133957568,"body_markdown":"Use of `stmt.executeQuery(sql)` indicates your queries would contain values already which is a huge vulnerability. Not sure if that&#39;s the only thing that triggers vera code though. You should try to use `PreparedStatement` instead and try passing a list of positional parameters and set them via `setObject(index + 1, parameters[index])`","body":"Use of <code>stmt.executeQuery(sql)</code> indicates your queries would contain values already which is a huge vulnerability. Not sure if that&#39;s the only thing that triggers vera code though. You should try to use <code>PreparedStatement</code> instead and try passing a list of positional parameters and set them via <code>setObject(index + 1, parameters[index])</code>"},{"owner":{"account_id":16724652,"reputation":11,"user_id":12088519,"display_name":"Sanket Shirsat"},"score":0,"creation_date":1680783639,"post_id":75948840,"comment_id":133958385,"body_markdown":"@Thomas As I am using this method in multiple locations so I can&#39;t send a proper positional parameters and set in that method only. Is there any way that we can sanitize this input (String sql) in this method only","body":"@Thomas As I am using this method in multiple locations so I can&#39;t send a proper positional parameters and set in that method only. Is there any way that we can sanitize this input (String sql) in this method only"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1680788647,"post_id":75948840,"comment_id":133959639,"body_markdown":"Sanitizing the SQL may be hard as you probably don&#39;t know what queries to allow. You could use some parsing to see just keep the first select query (as injection attacks could insert malicious queries into the data) but that can become quite complex and might mean a significant performance hit. In any case you&#39;d probably still get the vulnerability flag as this doesn&#39;t fix the basic problem.","body":"Sanitizing the SQL may be hard as you probably don&#39;t know what queries to allow. You could use some parsing to see just keep the first select query (as injection attacks could insert malicious queries into the data) but that can become quite complex and might mean a significant performance hit. In any case you&#39;d probably still get the vulnerability flag as this doesn&#39;t fix the basic problem."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1680788807,"post_id":75948840,"comment_id":133959679,"body_markdown":"So I&#39;d rather work on getting rid of this method and fix all the code instead trying to work around this tech debt (the workaround could be used as an intermediate measure but should not be the ultimate &quot;fix&quot;).","body":"So I&#39;d rather work on getting rid of this method and fix all the code instead trying to work around this tech debt (the workaround could be used as an intermediate measure but should not be the ultimate &quot;fix&quot;)."}],"owner":{"account_id":16724652,"reputation":11,"user_id":12088519,"display_name":"Sanket Shirsat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680779775,"creation_date":1680779424,"question_id":75948840,"body_markdown":"After running a Vercode report \r\nAfter R&amp;D I didn&#39;t get solution for this.\r\n \r\n**Description**\r\nThis database query contains a SQL injection flaw. The function call constructs a dynamic SQL query using a variable\r\nderived from untrusted input. An attacker could exploit this flaw to execute arbitrary SQL queries against the database.\r\n\r\n**Recommendations**\r\nAvoid dynamically constructing SQL queries. Instead, use parameterized prepared statements to prevent the database\r\nfrom interpreting the contents of bind variables as part of the query. Always validate untrusted input to ensure that it\r\nconforms to the expected format, using centralized data validation routines when possible\r\n\r\nI am using a common method to get the Resultset from database in many modules so I cant create my sql query in this method only, Is there any way to sanitize this user input in this method itself in order to resolve this High Veracode vulnerabiliy.\r\nplease suggest.\r\n\r\n------------------------------------------------------------\r\n\r\n     public ResultSet fetchDB(String sql){\r\n        ResultSet rs = null;\r\n        try {\r\n            logger.info(&quot;DB connection checking&quot;);\r\n            if(con == null || con.isClosed()) {\r\n            \tcon = getDBConnection();\r\n            \tlogger.info(&quot;DB connection established&quot;);\r\n            }\r\n            logger.info(&quot;Executing statement&quot;);\r\n            stmt = con.createStatement();\r\n            rs = stmt.executeQuery(sql);\r\n            logger.info(&quot;DB data fetching completed&quot;);\r\n            return rs;\r\n\t\t} catch (Exception e) {\r\n                            }\r\n      }","title":"Java- Improper Neutralization of Special Elements used in an SQL Command (&#39;SQL Injection&#39;) (CWE ID 89) Veracode Static issue","body":"<p>After running a Vercode report\nAfter R&amp;D I didn't get solution for this.</p>\n<p><strong>Description</strong>\nThis database query contains a SQL injection flaw. The function call constructs a dynamic SQL query using a variable\nderived from untrusted input. An attacker could exploit this flaw to execute arbitrary SQL queries against the database.</p>\n<p><strong>Recommendations</strong>\nAvoid dynamically constructing SQL queries. Instead, use parameterized prepared statements to prevent the database\nfrom interpreting the contents of bind variables as part of the query. Always validate untrusted input to ensure that it\nconforms to the expected format, using centralized data validation routines when possible</p>\n<p>I am using a common method to get the Resultset from database in many modules so I cant create my sql query in this method only, Is there any way to sanitize this user input in this method itself in order to resolve this High Veracode vulnerabiliy.\nplease suggest.</p>\n<hr />\n<pre><code> public ResultSet fetchDB(String sql){\n    ResultSet rs = null;\n    try {\n        logger.info(&quot;DB connection checking&quot;);\n        if(con == null || con.isClosed()) {\n            con = getDBConnection();\n            logger.info(&quot;DB connection established&quot;);\n        }\n        logger.info(&quot;Executing statement&quot;);\n        stmt = con.createStatement();\n        rs = stmt.executeQuery(sql);\n        logger.info(&quot;DB data fetching completed&quot;);\n        return rs;\n    } catch (Exception e) {\n                        }\n  }\n</code></pre>\n"},{"tags":["java","unit-testing","java-bytecode-asm"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1680767494,"post_id":75945271,"comment_id":133954731,"body_markdown":"Yes, it can modify the bytecode.","body":"Yes, it can modify the bytecode."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1680770471,"post_id":75945271,"comment_id":133955436,"body_markdown":"There’s a contradiction between your question’s title (“How to check the whole execution flow”) and the question eventually asked (“is it able to modify the bytecode”). Further, there’s a lot of context missing. To analyze the bytecode, you need access to it, which depends on the environment your analyzer is running in. You can always modify it, producing new modified bytecode, but how you can pass it to an execution environment to use it, depends on the environment supposed to use it (and again, on the environment your analyzer is running in).","body":"There’s a contradiction between your question’s title (“How to check the whole execution flow”) and the question eventually asked (“is it able to modify the bytecode”). Further, there’s a lot of context missing. To analyze the bytecode, you need access to it, which depends on the environment your analyzer is running in. You can always modify it, producing new modified bytecode, but how you can pass it to an execution environment to use it, depends on the environment supposed to use it (and again, on the environment your analyzer is running in)."},{"owner":{"account_id":28227726,"reputation":11,"user_id":21577432,"display_name":"castysishi"},"score":0,"creation_date":1680779846,"post_id":75945271,"comment_id":133957501,"body_markdown":"@Holger I am sorry for I didn&#39;t clearify my question. Thanks for your reply. and  what I want to ask is, the bytecode of test unit is the only bytecode passed to ASM transformer, in this scenario, can I modify the bytecode of class A and class B? If I did not misunderstand what you mean, do you mean that the answer to my question is based on the environment that my analyzer in running in?","body":"@Holger I am sorry for I didn&#39;t clearify my question. Thanks for your reply. and  what I want to ask is, the bytecode of test unit is the only bytecode passed to ASM transformer, in this scenario, can I modify the bytecode of class A and class B? If I did not misunderstand what you mean, do you mean that the answer to my question is based on the environment that my analyzer in running in?"},{"owner":{"account_id":28227726,"reputation":11,"user_id":21577432,"display_name":"castysishi"},"score":0,"creation_date":1680779893,"post_id":75945271,"comment_id":133957516,"body_markdown":"@JohannesKuhn thanks to your reply. I am sorry I didn&#39;t clearify my question. What I want to ask is, the bytecode of test unit is the only bytecode passed to ASM transformer, in this scenario, can I modify the bytecode of class A and class B?","body":"@JohannesKuhn thanks to your reply. I am sorry I didn&#39;t clearify my question. What I want to ask is, the bytecode of test unit is the only bytecode passed to ASM transformer, in this scenario, can I modify the bytecode of class A and class B?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1680789363,"post_id":75945271,"comment_id":133959812,"body_markdown":"A transformer only modifies one class per call. You can of course record information that is used by other transformations later on. I don&#39;t know how you execute the transformer (static tool, java agent...).","body":"A transformer only modifies one class per call. You can of course record information that is used by other transformations later on. I don&#39;t know how you execute the transformer (static tool, java agent...)."},{"owner":{"account_id":28227726,"reputation":11,"user_id":21577432,"display_name":"castysishi"},"score":0,"creation_date":1680871970,"post_id":75945271,"comment_id":133973148,"body_markdown":"@JohannesKuhn thanks a lot. I am using a tool executing the transformer with java agent,  is there anything I can do to reach my aim?  In the scenario, the tool only modifies the passed test unit bytecode, but I would like to modify the bytecode of other classes that is invoked in the test unit bytecode.","body":"@JohannesKuhn thanks a lot. I am using a tool executing the transformer with java agent,  is there anything I can do to reach my aim?  In the scenario, the tool only modifies the passed test unit bytecode, but I would like to modify the bytecode of other classes that is invoked in the test unit bytecode."}],"owner":{"account_id":28227726,"reputation":11,"user_id":21577432,"display_name":"castysishi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680779693,"creation_date":1680746512,"question_id":75945271,"body_markdown":"I am wondering what to do to take a deeper insight into the execution flow when running a test unit. \r\n\r\n\r\nFor example, \r\nbelow should be a body of a **test unit.**\r\n```\r\nA.methodA(1,2,false);\r\nB b = new B(&quot;foo&quot;);\r\nboolean c = b.testFoo(&quot;abc&quot;,true);\r\n```\r\n\r\nBelow bodies are found by JVM on classpath.\r\n\r\nWhat I want to ask is, the bytecode of **test unit** is the only bytecode passed to ASM transformer, in this scenario, can I modify the bytecode of class A and class B?\r\n\r\nbelow should be the body of A\r\n```\r\nClass A{\r\npublic static methodA(int a,int b, boolean c){\r\n    if(c) System.out.println(a+b);\r\n    else System.out.println(a-b);\r\n}\r\n}\r\n```\r\n\r\nbelow should be the body of B\r\n\r\n```\r\nClass B\r\n{\r\n  String n;\r\n  public B(String c) {this.n = c;}\r\n  public boolean testFoo(String temp,boolean b)\r\n  {\r\n    boolean tested = temp.equals(this.n);\r\n    return tested.equals(b);\r\n  }\r\n}\r\n```\r\nWhen I pass the bytecode of **test unit** to the ASM transformer, can it be able to modify the bytecode of Class A and Class B?","title":"How to check the whole execution flow of a running program using ASM?","body":"<p>I am wondering what to do to take a deeper insight into the execution flow when running a test unit.</p>\n<p>For example,\nbelow should be a body of a <strong>test unit.</strong></p>\n<pre><code>A.methodA(1,2,false);\nB b = new B(&quot;foo&quot;);\nboolean c = b.testFoo(&quot;abc&quot;,true);\n</code></pre>\n<p>Below bodies are found by JVM on classpath.</p>\n<p>What I want to ask is, the bytecode of <strong>test unit</strong> is the only bytecode passed to ASM transformer, in this scenario, can I modify the bytecode of class A and class B?</p>\n<p>below should be the body of A</p>\n<pre><code>Class A{\npublic static methodA(int a,int b, boolean c){\n    if(c) System.out.println(a+b);\n    else System.out.println(a-b);\n}\n}\n</code></pre>\n<p>below should be the body of B</p>\n<pre><code>Class B\n{\n  String n;\n  public B(String c) {this.n = c;}\n  public boolean testFoo(String temp,boolean b)\n  {\n    boolean tested = temp.equals(this.n);\n    return tested.equals(b);\n  }\n}\n</code></pre>\n<p>When I pass the bytecode of <strong>test unit</strong> to the ASM transformer, can it be able to modify the bytecode of Class A and Class B?</p>\n"},{"tags":["java","jooq","jooq-codegen"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680779516,"creation_date":1680779516,"answer_id":75948856,"question_id":75947749,"body_markdown":"You probably misunderstood [my previous answer][1]. All you do in a `Converter` is:\r\n\r\n- 100% client based, so you cannot apply any SQL functions in there\r\n- 100% single column expression based, so you cannot access any other column values\r\n\r\nThere&#39;s no way to achieve what you want to do with a `Converter`. [My previous suggestion of using a `Converter`][1] was meant to hint at doing all the encryption / decryption completely in the client, not partially in the client. This means you have to have that key available in memory to do any encryption / decryption using Java API, not using MySQL API.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75939555/521799","title":"How to convert a Field in jooq custom converter using other fields in the same Record?","body":"<p>You probably misunderstood <a href=\"https://stackoverflow.com/a/75939555/521799\">my previous answer</a>. All you do in a <code>Converter</code> is:</p>\n<ul>\n<li>100% client based, so you cannot apply any SQL functions in there</li>\n<li>100% single column expression based, so you cannot access any other column values</li>\n</ul>\n<p>There's no way to achieve what you want to do with a <code>Converter</code>. <a href=\"https://stackoverflow.com/a/75939555/521799\">My previous suggestion of using a <code>Converter</code></a> was meant to hint at doing all the encryption / decryption completely in the client, not partially in the client. This means you have to have that key available in memory to do any encryption / decryption using Java API, not using MySQL API.</p>\n"}],"owner":{"account_id":12199095,"reputation":57,"user_id":8903828,"display_name":"introvertkernel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75948856,"answer_count":1,"score":0,"last_activity_date":1680779516,"creation_date":1680772098,"question_id":75947749,"body_markdown":"- Need to apply custom field conversion logic in ```org.jooq.Converter``` implementation.\r\n- The custom conversion is a encrypt / decrypt the field\r\n- The key for encryption / decryption will be available in the same ```org.jooq.RecordContext ``` i.e: In the same table another column will have key.\r\n\r\nIf below is not possible what are the other ways to achieve this?\r\n\r\n```\r\npublic class CustomFieldConverter implements Converter&lt;String, String&gt; {\r\n\r\n    \r\n    @Override\r\n\tpublic String from(String databaseObject) {\r\n\r\n\t\t// do MySQLDSL.aesDecrypt(databaseObject, Field(&#39;keyColumn&#39;)\r\n        // How to access keyColumn field here?\r\n        // \r\n\t}\r\n\r\n\t@Override\r\n\tpublic String to(String userObject) {\r\n\t\t// do MySQLDSL.aesEncrypt(databaseObject, Field(&#39;keyColumn&#39;)\r\n        // How to access keyColumn field here?\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Class&lt;String&gt; fromType() {\r\n\t\treturn String.class;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Class&lt;String&gt; toType() {\r\n\t\treturn String.class;\r\n\t}\r\n}\r\n\r\n```","title":"How to convert a Field in jooq custom converter using other fields in the same Record?","body":"<ul>\n<li>Need to apply custom field conversion logic in <code>org.jooq.Converter</code> implementation.</li>\n<li>The custom conversion is a encrypt / decrypt the field</li>\n<li>The key for encryption / decryption will be available in the same <code>org.jooq.RecordContext </code> i.e: In the same table another column will have key.</li>\n</ul>\n<p>If below is not possible what are the other ways to achieve this?</p>\n<pre><code>public class CustomFieldConverter implements Converter&lt;String, String&gt; {\n\n    \n    @Override\n    public String from(String databaseObject) {\n\n        // do MySQLDSL.aesDecrypt(databaseObject, Field('keyColumn')\n        // How to access keyColumn field here?\n        // \n    }\n\n    @Override\n    public String to(String userObject) {\n        // do MySQLDSL.aesEncrypt(databaseObject, Field('keyColumn')\n        // How to access keyColumn field here?\n    }\n\n    @Override\n    public Class&lt;String&gt; fromType() {\n        return String.class;\n    }\n\n    @Override\n    public Class&lt;String&gt; toType() {\n        return String.class;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","swing","jedit"],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680779480,"creation_date":1680772087,"answer_id":75947743,"question_id":75855751,"body_markdown":"With the following BeanShell script you can save a PNG of the jEdit text area:\r\n```java\r\nimport java.awt.image.BufferedImage;\r\nimport javax.imageio.ImageIO;\r\n\r\nimg = new BufferedImage(textArea.getWidth(), textArea.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\ng = img.getGraphics();\r\ntextArea.paint(g);\r\ng.dispose();\r\nImageIO.write(img, &quot;png&quot;, new File(&quot;.../textArea.png&quot;));\r\n```\r\n\r\nYou can save that as action and map it to some shortcut, even adding a dialog that asks for the location where to save the image to.\r\n\r\nYou can also save it as a file somewhere and then invoke it from outside using `jedit -run=path/to/snapshot-textArea.bsh` to record the currently active text area.\r\n\r\nYou can do the same with any Swing component, not just with the text area.","title":"Calling into jEdit to get a bitmap of the rendered text","body":"<p>With the following BeanShell script you can save a PNG of the jEdit text area:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.image.BufferedImage;\nimport javax.imageio.ImageIO;\n\nimg = new BufferedImage(textArea.getWidth(), textArea.getHeight(), BufferedImage.TYPE_INT_ARGB);\ng = img.getGraphics();\ntextArea.paint(g);\ng.dispose();\nImageIO.write(img, &quot;png&quot;, new File(&quot;.../textArea.png&quot;));\n</code></pre>\n<p>You can save that as action and map it to some shortcut, even adding a dialog that asks for the location where to save the image to.</p>\n<p>You can also save it as a file somewhere and then invoke it from outside using <code>jedit -run=path/to/snapshot-textArea.bsh</code> to record the currently active text area.</p>\n<p>You can do the same with any Swing component, not just with the text area.</p>\n"}],"owner":{"account_id":1876608,"reputation":6989,"user_id":1697709,"accept_rate":78,"display_name":"Gergely"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75947743,"answer_count":1,"score":0,"last_activity_date":1680779480,"creation_date":1679920122,"question_id":75855751,"body_markdown":"In Swift, it is possible to get the bitmap of generated graphical content:\r\n\r\nhttps://stackoverflow.com/questions/7787027/create-bitmap-of-uitextviews-entire-content\r\n\r\nI would like to have this for the jEdit text area. How could I do it?","title":"Calling into jEdit to get a bitmap of the rendered text","body":"<p>In Swift, it is possible to get the bitmap of generated graphical content:</p>\n<p><a href=\"https://stackoverflow.com/questions/7787027/create-bitmap-of-uitextviews-entire-content\">Create bitmap of UITextView&#39;s entire content</a></p>\n<p>I would like to have this for the jEdit text area. How could I do it?</p>\n"},{"tags":["java","oauth-2.0","azure-active-directory","azure-web-app-service","microsoft-partnercenter-java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1677068985,"post_id":75532641,"comment_id":133263643,"body_markdown":"Check the logs of your app for the complete stack trace and verify where that cast is happening. You didn&#39;t provide enough information to identify the source and no one is going to clone the project and reproduce it like that. It&#39;s on you to provide a [mre].","body":"Check the logs of your app for the complete stack trace and verify where that cast is happening. You didn&#39;t provide enough information to identify the source and no one is going to clone the project and reproduce it like that. It&#39;s on you to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"score":0,"creation_date":1677072566,"post_id":75532641,"comment_id":133264826,"body_markdown":"@JoachimSauer - Although there is no stack trace in the logs but I have updated the question with the code which seems to be the source.","body":"@JoachimSauer - Although there is no stack trace in the logs but I have updated the question with the code which seems to be the source."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1677072968,"post_id":75532641,"comment_id":133264965,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"score":0,"creation_date":1677073962,"post_id":75532641,"comment_id":133265256,"body_markdown":"Replaced image with actual code. For error, just wanted to show where I saw the it. Hence, added the image. Hope the code helps in finding the source.","body":"Replaced image with actual code. For error, just wanted to show where I saw the it. Hence, added the image. Hope the code helps in finding the source."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677074391,"post_id":75532641,"comment_id":133265410,"body_markdown":"Since the line you mention doesn&#39;t handle `String` or `List`, it can&#39;t be the one that actually throws the exception. Did you try adding a catch block for `Exception` and print the full stack trace there?","body":"Since the line you mention doesn&#39;t handle <code>String</code> or <code>List</code>, it can&#39;t be the one that actually throws the exception. Did you try adding a catch block for <code>Exception</code> and print the full stack trace there?"},{"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"score":0,"creation_date":1677076345,"post_id":75532641,"comment_id":133266074,"body_markdown":"Done, I just printed the stack trace in the catch block from where it was redirected to the error JSP. Updated the question with it.\nJust FYI, all the invocations in the stack trace are from library classes and not directly from project. So, I cannot modify those.","body":"Done, I just printed the stack trace in the catch block from where it was redirected to the error JSP. Updated the question with it. Just FYI, all the invocations in the stack trace are from library classes and not directly from project. So, I cannot modify those."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677076497,"post_id":75532641,"comment_id":133266131,"body_markdown":"That stack trace is pretty deep in code that I assume is not yours. That means there&#39;s either a bug in the code or it&#39;s been misconfigured somehow. I&#39;m don&#39;t really know any of the software involved, so I can&#39;t give you more specific suggestions.","body":"That stack trace is pretty deep in code that I assume is not yours. That means there&#39;s either a bug in the code or it&#39;s been misconfigured somehow. I&#39;m don&#39;t really know any of the software involved, so I can&#39;t give you more specific suggestions."},{"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"score":0,"creation_date":1677077373,"post_id":75532641,"comment_id":133266449,"body_markdown":"Created an issue for this project in GIT because I see that for another GIT project which is also microsoft partner center related, a similar issue had been posted and it was fixed - https://github.com/microsoft/Partner-Center-Java/issues/85\nBut I&#39;m not able to check what exactly was that fix.","body":"Created an issue for this project in GIT because I see that for another GIT project which is also microsoft partner center related, a similar issue had been posted and it was fixed - <a href=\"https://github.com/microsoft/Partner-Center-Java/issues/85\" rel=\"nofollow noreferrer\">github.com/microsoft/Partner-Center-Java/issues/85</a> But I&#39;m not able to check what exactly was that fix."},{"owner":{"account_id":26324592,"reputation":4885,"user_id":19986107,"display_name":"Aswin"},"score":0,"creation_date":1678448643,"post_id":75532641,"comment_id":133538896,"body_markdown":"@ab.it.gcp Did you got this fixed?","body":"@ab.it.gcp Did you got this fixed?"},{"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"score":0,"creation_date":1678448997,"post_id":75532641,"comment_id":133538966,"body_markdown":"@Aswin - No. There&#39;s no response on the GIT issue as well.","body":"@Aswin - No. There&#39;s no response on the GIT issue as well."}],"answers":[{"tags":[],"owner":{"account_id":21189004,"reputation":59,"user_id":15581823,"display_name":"Ave Maria - Hail Mary"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680779316,"creation_date":1680629040,"answer_id":75932189,"question_id":75532641,"body_markdown":"Java\r\n\r\n    string str = &quot;A&quot;; // No space character.\r\n    (string) str.split(&quot; &quot;); // Error\r\n    (ArrayList&lt;string&gt;) str.split(&quot; &quot;); // Error\r\n    (List&lt;string&gt;) str.split(&quot; &quot;); // No Error\r\nKotlin\r\n\r\n    val str = &quot;A&quot; // No space character.\r\n    str.split(&quot; &quot;) as String // Error\r\n    str.split(&quot; &quot;) as ArrayList&lt;String&gt; // Error\r\n    str.split(&quot; &quot;) as List&lt;String&gt; // No Error","title":"How to resolve class java.util.Collections$SingletonList cannot be cast to class java.lang.String?","body":"<p>Java</p>\n<pre><code>string str = &quot;A&quot;; // No space character.\n(string) str.split(&quot; &quot;); // Error\n(ArrayList&lt;string&gt;) str.split(&quot; &quot;); // Error\n(List&lt;string&gt;) str.split(&quot; &quot;); // No Error\n</code></pre>\n<p>Kotlin</p>\n<pre><code>val str = &quot;A&quot; // No space character.\nstr.split(&quot; &quot;) as String // Error\nstr.split(&quot; &quot;) as ArrayList&lt;String&gt; // Error\nstr.split(&quot; &quot;) as List&lt;String&gt; // No Error\n</code></pre>\n"}],"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1566,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680779316,"creation_date":1677068625,"question_id":75532641,"body_markdown":"I have cloned the project - https://github.com/Microsoft/Partner-Center-Java-Samples/tree/master/secure-app-model/keyvault from GIT to my local Eclipse.\r\n\r\nWhen I run the partnerconsent project on my local server, I am getting this exception :-\r\n\r\nclass java.util.Collections$SingletonList cannot be cast to class java.lang.String (java.util.Collections$SingletonList and java.lang.String are in module java.base of loader &#39;bootstrap&#39;)\r\n\r\n\r\n[![Screenshot for reference][1]][1]\r\n\r\n\r\nStack trace\r\n\r\n  [1]: https://i.stack.imgur.com/5rlgO.png\r\n   \r\n\r\n    java.lang.ClassCastException: class java.util.Collections$SingletonList cannot be cast to class java.lang.String (java.util.Collections$SingletonList and java.lang.String are in module java.base of loader &#39;bootstrap&#39;)\r\n    \tat com.nimbusds.oauth2.sdk.util.URLUtils.serializeParameters(URLUtils.java:103)\r\n    \tat com.microsoft.aad.adal4j.AdalTokenRequest.toOAuthRequest(AdalTokenRequest.java:160)\r\n    \tat com.microsoft.aad.adal4j.AdalTokenRequest.executeOAuthRequestAndProcessResponse(AdalTokenRequest.java:86)\r\n    \tat com.microsoft.aad.adal4j.AuthenticationContext.acquireTokenCommon(AuthenticationContext.java:930)\r\n    \tat com.microsoft.aad.adal4j.AcquireTokenCallable.execute(AcquireTokenCallable.java:70)\r\n    \tat com.microsoft.aad.adal4j.AcquireTokenCallable.execute(AcquireTokenCallable.java:38)\r\n    \tat com.microsoft.aad.adal4j.AdalCallable.call(AdalCallable.java:47)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)","title":"How to resolve class java.util.Collections$SingletonList cannot be cast to class java.lang.String?","body":"<p>I have cloned the project - <a href=\"https://github.com/Microsoft/Partner-Center-Java-Samples/tree/master/secure-app-model/keyvault\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/Partner-Center-Java-Samples/tree/master/secure-app-model/keyvault</a> from GIT to my local Eclipse.</p>\n<p>When I run the partnerconsent project on my local server, I am getting this exception :-</p>\n<p>class java.util.Collections$SingletonList cannot be cast to class java.lang.String (java.util.Collections$SingletonList and java.lang.String are in module java.base of loader 'bootstrap')</p>\n<p><a href=\"https://i.stack.imgur.com/5rlgO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5rlgO.png\" alt=\"Screenshot for reference\" /></a></p>\n<p>Stack trace</p>\n<pre><code>java.lang.ClassCastException: class java.util.Collections$SingletonList cannot be cast to class java.lang.String (java.util.Collections$SingletonList and java.lang.String are in module java.base of loader 'bootstrap')\n    at com.nimbusds.oauth2.sdk.util.URLUtils.serializeParameters(URLUtils.java:103)\n    at com.microsoft.aad.adal4j.AdalTokenRequest.toOAuthRequest(AdalTokenRequest.java:160)\n    at com.microsoft.aad.adal4j.AdalTokenRequest.executeOAuthRequestAndProcessResponse(AdalTokenRequest.java:86)\n    at com.microsoft.aad.adal4j.AuthenticationContext.acquireTokenCommon(AuthenticationContext.java:930)\n    at com.microsoft.aad.adal4j.AcquireTokenCallable.execute(AcquireTokenCallable.java:70)\n    at com.microsoft.aad.adal4j.AcquireTokenCallable.execute(AcquireTokenCallable.java:38)\n    at com.microsoft.aad.adal4j.AdalCallable.call(AdalCallable.java:47)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":4,"creation_date":1680534335,"post_id":75920929,"comment_id":133910668,"body_markdown":"You cannot fix that inside the method. Both the list and the array get passed to the method, so the caller is in control over the lengths of these parameters. Call you can do inside the method is check if the lengths match.","body":"You cannot fix that inside the method. Both the list and the array get passed to the method, so the caller is in control over the lengths of these parameters. Call you can do inside the method is check if the lengths match."},{"owner":{"account_id":22782349,"reputation":89,"user_id":16938087,"display_name":"Corvus"},"score":1,"creation_date":1680534673,"post_id":75920929,"comment_id":133910778,"body_markdown":"Did you write this code? Don&#39;t pass separate lists or arrays of primitive data like `double`s and try to synchronize them; create a class that encapsulates the object data including price, and put the logic in the class. And prices should be fixed-point, not `double`.","body":"Did you write this code? Don&#39;t pass separate lists or arrays of primitive data like <code>double</code>s and try to synchronize them; create a class that encapsulates the object data including price, and put the logic in the class. And prices should be fixed-point, not <code>double</code>."},{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":1,"creation_date":1680537184,"post_id":75920929,"comment_id":133911419,"body_markdown":"The only solution is to check and throw and IllegalArgumentException if the two don&#39;t match.","body":"The only solution is to check and throw and IllegalArgumentException if the two don&#39;t match."},{"owner":{"account_id":14234571,"reputation":662,"user_id":10282739,"display_name":"Noryn Basaya"},"score":0,"creation_date":1680537291,"post_id":75920929,"comment_id":133911447,"body_markdown":"as they said, it&#39;s not possible.  you should try inside curly brackets {} what you are trying to do and not in the parameter of the method.","body":"as they said, it&#39;s not possible.  you should try inside curly brackets {} what you are trying to do and not in the parameter of the method."},{"owner":{"account_id":11603,"reputation":21560,"user_id":22437,"accept_rate":88,"display_name":"Dour High Arch"},"score":0,"creation_date":1680621761,"post_id":75920929,"comment_id":133927419,"body_markdown":"This is called an [XY Problem](https://meta.stackexchange.com/a/66378/135230); you want X but you don&#39;t know how to get it. You thought that “create an Array that is dependent upon the size of an ArrayList” would X, but now you find that won&#39;t X. You need to explain what X is. Why are you doing that? What is your goal?","body":"This is called an <a href=\"https://meta.stackexchange.com/a/66378/135230\">XY Problem</a>; you want X but you don&#39;t know how to get it. You thought that “create an Array that is dependent upon the size of an ArrayList” would X, but now you find that won&#39;t X. You need to explain what X is. Why are you doing that? What is your goal?"}],"answers":[{"tags":[],"owner":{"account_id":27636740,"reputation":44,"user_id":21094524,"display_name":"VaporXP"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680536719,"creation_date":1680536533,"answer_id":75921313,"question_id":75920929,"body_markdown":"You can not do that. Since the method receives the array as a parameter you can not change its size. You can however check inside the method if both lengths match depending on what you wish to accomplish. I am not sure what your constraints are, but it seems like this can be easily done where the method is called before the call.","title":"How can I create an array that is dependent upon the size of an ArrayList?","body":"<p>You can not do that. Since the method receives the array as a parameter you can not change its size. You can however check inside the method if both lengths match depending on what you wish to accomplish. I am not sure what your constraints are, but it seems like this can be easily done where the method is called before the call.</p>\n"}],"owner":{"account_id":28204088,"reputation":11,"user_id":21557443,"display_name":"glum"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680779273,"creation_date":1680534219,"question_id":75920929,"body_markdown":"```lang-java\r\npublic void methodName(ArrayList&lt;Object&gt; list, double[] priceList){...}\r\n```\r\n        \r\nThis method is supposed to take an `ArrayList` of objects paired with their price as an array of double values. I need the array to be the same size as the `ArrayList`. \r\n\r\nIs it possible to call a method within the declaration? `(double[list.size()])` What are other solutions to this problem? ","title":"How can I create an array that is dependent upon the size of an ArrayList?","body":"<pre class=\"lang-java prettyprint-override\"><code>public void methodName(ArrayList&lt;Object&gt; list, double[] priceList){...}\n</code></pre>\n<p>This method is supposed to take an <code>ArrayList</code> of objects paired with their price as an array of double values. I need the array to be the same size as the <code>ArrayList</code>.</p>\n<p>Is it possible to call a method within the declaration? <code>(double[list.size()])</code> What are other solutions to this problem?</p>\n"},{"tags":["java","list","filter","java-stream"],"comments":[{"owner":{"account_id":13545735,"reputation":102,"user_id":9772107,"display_name":"Mojtaba jalambadani"},"score":3,"creation_date":1680768247,"post_id":75947012,"comment_id":133954912,"body_markdown":"Try using map instead of peek, it has better performance since it avoids modifying the objects in place and creates new instances only when needed.","body":"Try using map instead of peek, it has better performance since it avoids modifying the objects in place and creates new instances only when needed."},{"owner":{"account_id":15722688,"reputation":315,"user_id":11345193,"display_name":"Danilo Giovannico"},"score":0,"creation_date":1680769449,"post_id":75947012,"comment_id":133955219,"body_markdown":"Un example about coding of this?","body":"Un example about coding of this?"},{"owner":{"account_id":13545735,"reputation":102,"user_id":9772107,"display_name":"Mojtaba jalambadani"},"score":0,"creation_date":1680769735,"post_id":75947012,"comment_id":133955288,"body_markdown":"see this https://stackoverflow.com/a/44371170/9772107","body":"see this <a href=\"https://stackoverflow.com/a/44371170/9772107\">stackoverflow.com/a/44371170/9772107</a>"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680779210,"creation_date":1680769986,"answer_id":75947397,"question_id":75947012,"body_markdown":"from a design point of view, I would say you can try to encapsulate the filtering logic inside this Attivita class. \r\n\r\nFor a simplified example, if you see something like this:\r\n```pawn.setPosition(pawn.getPosition() + x)```\r\nThis is an anti-pattern known as &quot;feature envy&quot; and it is a sign that this logic belongs inside the Pawn class: ```pawn.advance(x)```.\r\n\r\nIn your case, maybe you can add something like ```activita.filterLavorazioniById(idIstanza)```\r\n\r\n\r\nIn regards to performance, how large are these collections? if they are not very large, the overhead of using parallel streams might not be worth it, especially since you are using mutable data.\r\n\r\nAs suggested in the comments, it can be a good idea to use immutable objects if you want to safely process these collections in parallel. So, if you&#39;ll introduce this ```filterLavorazioniById()``` method, it can potentially return a new ```activita``` with the filtered data. the final code can look something like this:\r\n\r\n    return servizioGenerico.ottieniCall(prefixCall).getListaAttivita()\r\n    \t.stream().parallel()\r\n        .map(attivita -&gt; attivita.filterLavorazioniById(idIstanza)\r\n    \t.collect(Collectors.toList());","title":"Stream on objects list that cointains a child list need to be filtered Java Stream","body":"<p>from a design point of view, I would say you can try to encapsulate the filtering logic inside this Attivita class.</p>\n<p>For a simplified example, if you see something like this:\n<code>pawn.setPosition(pawn.getPosition() + x)</code>\nThis is an anti-pattern known as &quot;feature envy&quot; and it is a sign that this logic belongs inside the Pawn class: <code>pawn.advance(x)</code>.</p>\n<p>In your case, maybe you can add something like <code>activita.filterLavorazioniById(idIstanza)</code></p>\n<p>In regards to performance, how large are these collections? if they are not very large, the overhead of using parallel streams might not be worth it, especially since you are using mutable data.</p>\n<p>As suggested in the comments, it can be a good idea to use immutable objects if you want to safely process these collections in parallel. So, if you'll introduce this <code>filterLavorazioniById()</code> method, it can potentially return a new <code>activita</code> with the filtered data. the final code can look something like this:</p>\n<pre><code>return servizioGenerico.ottieniCall(prefixCall).getListaAttivita()\n    .stream().parallel()\n    .map(attivita -&gt; attivita.filterLavorazioniById(idIstanza)\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":15722688,"reputation":315,"user_id":11345193,"display_name":"Danilo Giovannico"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75947397,"answer_count":1,"score":0,"last_activity_date":1680779210,"creation_date":1680767066,"question_id":75947012,"body_markdown":"I would like to ask you what was the most elegant and performant way to execute the following piece of code:\r\n \r\n\r\n    return servizioGenerico.ottieniCall(prefixCall).getListaAttivita().stream().parallel()\r\n                .peek(attivita -&gt; {\r\n                    attivita.setListaLavorazioni(attivita.getListaLavorazioni().stream().parallel().filter(lavorazione -&gt; lavorazione.getIstanza().getId().equals(idIstanza)).collect(Collectors.toList()));\r\n                }).collect(Collectors.toList());\r\n\r\nthe following code iterates over a list of objects containing a child that must be filtered and reset on each object of the parent stream.\r\n\r\nAlso posted a new version of the code using map:\r\n\r\n    @CachePut(value=&quot;sdipp-cache&quot;)\r\n    public List&lt;Attivita&gt; ottieniListaAttivita(String prefixCall, Long idIstanza) throws DefaultException {\r\n        return servizioGenerico.ottieniCall(prefixCall).getListaAttivita().stream().parallel()\r\n            .map(attivita -&gt; filtroLavorazioniAttivitaSuIstanza(attivita, idIstanza)).collect(Collectors.toList());\r\n    }\r\n\r\n    private Attivita filtroLavorazioniAttivitaSuIstanza(Attivita attivita, Long idIstanza) {\r\n        attivita.setListaLavorazioni(attivita.getListaLavorazioni().stream().parallel()\r\n            .filter(lavorazione -&gt; lavorazione.getIstanza().getId().equals(idIstanza)).collect(Collectors.toList()));\r\n        return attivita;\r\n    }\r\n\r\nThanks.","title":"Stream on objects list that cointains a child list need to be filtered Java Stream","body":"<p>I would like to ask you what was the most elegant and performant way to execute the following piece of code:</p>\n<pre><code>return servizioGenerico.ottieniCall(prefixCall).getListaAttivita().stream().parallel()\n            .peek(attivita -&gt; {\n                attivita.setListaLavorazioni(attivita.getListaLavorazioni().stream().parallel().filter(lavorazione -&gt; lavorazione.getIstanza().getId().equals(idIstanza)).collect(Collectors.toList()));\n            }).collect(Collectors.toList());\n</code></pre>\n<p>the following code iterates over a list of objects containing a child that must be filtered and reset on each object of the parent stream.</p>\n<p>Also posted a new version of the code using map:</p>\n<pre><code>@CachePut(value=&quot;sdipp-cache&quot;)\npublic List&lt;Attivita&gt; ottieniListaAttivita(String prefixCall, Long idIstanza) throws DefaultException {\n    return servizioGenerico.ottieniCall(prefixCall).getListaAttivita().stream().parallel()\n        .map(attivita -&gt; filtroLavorazioniAttivitaSuIstanza(attivita, idIstanza)).collect(Collectors.toList());\n}\n\nprivate Attivita filtroLavorazioniAttivitaSuIstanza(Attivita attivita, Long idIstanza) {\n    attivita.setListaLavorazioni(attivita.getListaLavorazioni().stream().parallel()\n        .filter(lavorazione -&gt; lavorazione.getIstanza().getId().equals(idIstanza)).collect(Collectors.toList()));\n    return attivita;\n}\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","algorithm","loops","nested-loops","primes"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1680771130,"post_id":75947533,"comment_id":133955567,"body_markdown":"`num_primes` is defined as 0 in every iteration of the loop so `primes[num_primes] = prime;` will never update anything else than `primes[1]`","body":"<code>num_primes</code> is defined as 0 in every iteration of the loop so <code>primes[num_primes] = prime;</code> will never update anything else than <code>primes[1]</code>"},{"owner":{"account_id":28230271,"reputation":13,"user_id":21579599,"display_name":"Pranshu"},"score":1,"creation_date":1680771954,"post_id":75947533,"comment_id":133955751,"body_markdown":"Thanks Now my problem is solved it was my first independent java project","body":"Thanks Now my problem is solved it was my first independent java project"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680771471,"creation_date":1680771471,"answer_id":75947629,"question_id":75947533,"body_markdown":"There are two issues:\r\n\r\n* `num_primes` is redefined with value 0 at *every* iteration of the `do` loop and so `primes[num_primes] = prime;` is always doing `primes[1] = prime;`. `num_primes` should only be initialised once -- outside the loop.\r\n* `num_primes++` is executed in every iteration of the loop, but this should only happen if a prime was found.\r\n* Not a problem, but `continue` as the last statement in a loop body is useless.\r\n\r\nCorrected code:\r\n\r\n```\r\n        if (num &gt; 1) {\r\n            int num_primes = 0; // Initialise before loop\r\n            do {\r\n                prime ++;\r\n                if (PrimeNumberFinder.is_prime(prime, primes)) {\r\n                    // Only increment when prime\r\n                    primes[++num_primes] = prime;\r\n                }\r\n            } while (primes[num - 1] == 0);\r\n        }\r\n```\r\n","title":"generating a nth prime number without using &#39;isprime()&#39; function","body":"<p>There are two issues:</p>\n<ul>\n<li><code>num_primes</code> is redefined with value 0 at <em>every</em> iteration of the <code>do</code> loop and so <code>primes[num_primes] = prime;</code> is always doing <code>primes[1] = prime;</code>. <code>num_primes</code> should only be initialised once -- outside the loop.</li>\n<li><code>num_primes++</code> is executed in every iteration of the loop, but this should only happen if a prime was found.</li>\n<li>Not a problem, but <code>continue</code> as the last statement in a loop body is useless.</li>\n</ul>\n<p>Corrected code:</p>\n<pre><code>        if (num &gt; 1) {\n            int num_primes = 0; // Initialise before loop\n            do {\n                prime ++;\n                if (PrimeNumberFinder.is_prime(prime, primes)) {\n                    // Only increment when prime\n                    primes[++num_primes] = prime;\n                }\n            } while (primes[num - 1] == 0);\n        }\n</code></pre>\n"}],"owner":{"account_id":28230271,"reputation":13,"user_id":21579599,"display_name":"Pranshu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75947629,"answer_count":1,"score":0,"last_activity_date":1680778174,"creation_date":1680770882,"question_id":75947533,"body_markdown":"there is no output for the code when the input exceeds two.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\n\r\nclass PrimeNumberFinder {\r\n    static boolean is_prime(int number ,int[] prime_numbers) {\r\n        boolean is_prime = true;\r\n        for (int primeNumber : prime_numbers) {\r\n            if( primeNumber != 0) {\r\n                if ((number % primeNumber) == 0) {\r\n                    is_prime = false;\r\n                    break;\r\n                }else {continue;}\r\n            }else {continue ;}\r\n        }\r\n        return is_prime;\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String []args){\r\n        Scanner n = new Scanner(System.in) ;\r\n        System.out.println(&quot;Enter the nth prime number you want: &quot;);\r\n\r\n        int num = n.nextInt();\r\n\r\n        int[] primes = new int[num];\r\n        int prime = 2;\r\n        primes[0] = 2;\r\n        if (num &gt; 1) {\r\n        do {\r\n            int num_primes = 0;\r\n            num_primes ++;\r\n            prime ++;\r\n            if (PrimeNumberFinder.is_prime(prime, primes)) {primes[num_primes] = prime;}\r\n            continue;\r\n        } while (primes[num - 1] == 0);}\r\n        System.out.printf(&quot;Your Prime number is %d&quot;,primes[num -1]);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI was trying to create a cli application that generates a nth prime number with input n.\r\nthe above code is not generating any output after 2 i guess any one of the loop is not functioning properly.","title":"generating a nth prime number without using &#39;isprime()&#39; function","body":"<p>there is no output for the code when the input exceeds two.</p>\n<pre><code>import java.util.Scanner;\n\n\nclass PrimeNumberFinder {\n    static boolean is_prime(int number ,int[] prime_numbers) {\n        boolean is_prime = true;\n        for (int primeNumber : prime_numbers) {\n            if( primeNumber != 0) {\n                if ((number % primeNumber) == 0) {\n                    is_prime = false;\n                    break;\n                }else {continue;}\n            }else {continue ;}\n        }\n        return is_prime;\n    }\n}\n\npublic class Main {\n    public static void main(String []args){\n        Scanner n = new Scanner(System.in) ;\n        System.out.println(&quot;Enter the nth prime number you want: &quot;);\n\n        int num = n.nextInt();\n\n        int[] primes = new int[num];\n        int prime = 2;\n        primes[0] = 2;\n        if (num &gt; 1) {\n        do {\n            int num_primes = 0;\n            num_primes ++;\n            prime ++;\n            if (PrimeNumberFinder.is_prime(prime, primes)) {primes[num_primes] = prime;}\n            continue;\n        } while (primes[num - 1] == 0);}\n        System.out.printf(&quot;Your Prime number is %d&quot;,primes[num -1]);\n    }\n}\n</code></pre>\n<p>I was trying to create a cli application that generates a nth prime number with input n.\nthe above code is not generating any output after 2 i guess any one of the loop is not functioning properly.</p>\n"},{"tags":["java","android","dart","gradle"],"owner":{"account_id":26716566,"reputation":1,"user_id":20321089,"display_name":"Asif Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680778123,"answer_count":0,"score":0,"last_activity_date":1680778062,"creation_date":1680777314,"question_id":75948540,"body_markdown":"* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;/Users/macbook/Desktop/psych_diagnosis/android/settings.gradle&#39; (/Users/macbook/.gradle/caches/7.4/scripts/9cj2juayyzdzoy7ot69w9men4).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 64\r\n\r\n\r\n* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;/Users/macbook/Desktop/psych_diagnosis/android/settings.gradle&#39; (/Users/macbook/.gradle/caches/7.4/scripts/9cj2juayyzdzoy7ot69w9men4).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 64\r\n","title":"A java error come in my Project my java version is 70","body":"<ul>\n<li>What went wrong:\nCould not open settings generic class cache for settings file '/Users/macbook/Desktop/psych_diagnosis/android/settings.gradle' (/Users/macbook/.gradle/caches/7.4/scripts/9cj2juayyzdzoy7ot69w9men4).</li>\n</ul>\n<blockquote>\n<p>BUG! exception in phase 'semantic analysis' in source unit '<em>BuildScript</em>' Unsupported class file major version 64</p>\n</blockquote>\n<ul>\n<li>What went wrong:\nCould not open settings generic class cache for settings file '/Users/macbook/Desktop/psych_diagnosis/android/settings.gradle' (/Users/macbook/.gradle/caches/7.4/scripts/9cj2juayyzdzoy7ot69w9men4).</li>\n</ul>\n<blockquote>\n<p>BUG! exception in phase 'semantic analysis' in source unit '<em>BuildScript</em>' Unsupported class file major version 64</p>\n</blockquote>\n"},{"tags":["java","generator","barcode"],"comments":[{"owner":{"account_id":428239,"reputation":2242,"user_id":810435,"accept_rate":82,"display_name":"naeemgik"},"score":1,"creation_date":1503379569,"post_id":1700597,"comment_id":78576447,"body_markdown":"you can use barcode4j. A good example [here](http://naeemgik.blogspot.com/2013/10/generating-barcode-in-java-using.html)","body":"you can use barcode4j. A good example <a href=\"http://naeemgik.blogspot.com/2013/10/generating-barcode-in-java-using.html\" rel=\"nofollow noreferrer\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":3519,"reputation":25773,"user_id":5077,"accept_rate":71,"display_name":"Chris Dail"},"down_vote_count":2,"up_vote_count":43,"is_accepted":true,"score":41,"last_activity_date":1257768662,"creation_date":1257768662,"answer_id":1700616,"question_id":1700597,"body_markdown":"[iText][1] is a great Java PDF library. They also have an API for creating barcodes. You don&#39;t need to be creating a PDF to use it.\r\n\r\nThis page has the details on [creating barcodes][2]. Here is an example from that site:\r\n\r\n    BarcodeEAN codeEAN = new BarcodeEAN();\r\n    codeEAN.setCodeType(codeEAN.EAN13);\r\n    codeEAN.setCode(&quot;9780201615883&quot;);\r\n    Image imageEAN = codeEAN.createImageWithBarcode(cb, null, null);\r\n\r\nThe biggest thing you will need to determine is what type of barcode you need. There are many different barcode formats and iText does support a lot of them. You will need to know what format you need before you can determine if this API will work for you.\r\n\r\n\r\n  [1]: http://www.lowagie.com/iText/\r\n  [2]: http://itextdocs.lowagie.com/tutorial/objects/images/tiff/index.php","title":"BarCode Image Generator in Java","body":"<p><a href=\"http://www.lowagie.com/iText/\" rel=\"noreferrer\">iText</a> is a great Java PDF library. They also have an API for creating barcodes. You don't need to be creating a PDF to use it.</p>\n\n<p>This page has the details on <a href=\"http://itextdocs.lowagie.com/tutorial/objects/images/tiff/index.php\" rel=\"noreferrer\">creating barcodes</a>. Here is an example from that site:</p>\n\n<pre><code>BarcodeEAN codeEAN = new BarcodeEAN();\ncodeEAN.setCodeType(codeEAN.EAN13);\ncodeEAN.setCode(\"9780201615883\");\nImage imageEAN = codeEAN.createImageWithBarcode(cb, null, null);\n</code></pre>\n\n<p>The biggest thing you will need to determine is what type of barcode you need. There are many different barcode formats and iText does support a lot of them. You will need to know what format you need before you can determine if this API will work for you.</p>\n"},{"tags":[],"owner":{"account_id":46515,"reputation":8715,"user_id":137483,"accept_rate":96,"display_name":"True Soft"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1257768715,"creation_date":1257768715,"answer_id":1700623,"question_id":1700597,"body_markdown":"There is a free library called [barcode4j][1]\r\n\r\n\r\n  [1]: http://barcode4j.sourceforge.net/","title":"BarCode Image Generator in Java","body":"<p>There is a free library called <a href=\"http://barcode4j.sourceforge.net/\" rel=\"noreferrer\">barcode4j</a></p>\n"},{"tags":[],"owner":{"account_id":71458,"reputation":1889,"user_id":206715,"accept_rate":84,"display_name":"Arto Uusikangas"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1257768781,"creation_date":1257768781,"answer_id":1700629,"question_id":1700597,"body_markdown":"There is also this free API that you can use to make free barcodes in java.\r\n\r\n[Barbecue][1]\r\n\r\n\r\n  [1]: http://barbecue.sourceforge.net/","title":"BarCode Image Generator in Java","body":"<p>There is also this free API that you can use to make free barcodes in java.</p>\n\n<p><a href=\"http://barbecue.sourceforge.net/\" rel=\"noreferrer\">Barbecue</a></p>\n"},{"tags":[],"owner":{"account_id":66479,"reputation":27633,"user_id":194982,"accept_rate":65,"display_name":"bguiz"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1408969739,"creation_date":1257769301,"answer_id":1700670,"question_id":1700597,"body_markdown":"I use \r\n[barbeque][1]\r\n, it&#39;s great, and supports a very wide range of different barcode formats.  \r\nSee if you like \r\n[its API][2]\r\n.\r\n\r\nSample API:\r\n\r\n&lt;pre&gt;public static &lt;a bitly=&quot;BITLY_PROCESSED&quot; href=&quot;../../../net/sourceforge/barbecue/Barcode.html&quot; title=&quot;class in net.sourceforge.barbecue&quot;&gt;Barcode&lt;/a&gt; &lt;b&gt;createCode128&lt;/b&gt;(java.lang.String&amp;nbsp;data)\r\n                             throws &lt;a bitly=&quot;BITLY_PROCESSED&quot; href=&quot;../../../net/sourceforge/barbecue/BarcodeException.html&quot; title=&quot;class in net.sourceforge.barbecue&quot;&gt;BarcodeException&lt;/a&gt;&lt;/pre&gt;\r\n\r\n&gt;  Creates a Code 128 barcode that\r\n&gt; dynamically switches between character\r\n&gt; sets  to give the smallest possible\r\n&gt; encoding. This will encode  all\r\n&gt; numeric characters, upper and lower\r\n&gt; case alpha characters and control\r\n&gt; characters  from the standard ASCII\r\n&gt; character set. The size of the barcode\r\n&gt; created will be the  smallest possible\r\n&gt; for the given data, and use of this\r\n&gt; &quot;optimal&quot; encoding will  generally\r\n&gt; give smaller barcodes than any of the\r\n&gt; other 3 &quot;vanilla&quot; encodings.\r\n\r\n\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/barbecue/\r\n  [2]: http://barbecue.sourceforge.net/apidocs/overview-tree.html","title":"BarCode Image Generator in Java","body":"<p>I use \n<a href=\"http://sourceforge.net/projects/barbecue/\" rel=\"nofollow noreferrer\">barbeque</a>\n, it's great, and supports a very wide range of different barcode formats.<br>\nSee if you like \n<a href=\"http://barbecue.sourceforge.net/apidocs/overview-tree.html\" rel=\"nofollow noreferrer\">its API</a>\n.</p>\n\n<p>Sample API:</p>\n\n<pre>public static Barcode <b>createCode128</b>(java.lang.String&nbsp;data)\n                             throws BarcodeException</pre>\n\n<blockquote>\n  <p>Creates a Code 128 barcode that\n  dynamically switches between character\n  sets  to give the smallest possible\n  encoding. This will encode  all\n  numeric characters, upper and lower\n  case alpha characters and control\n  characters  from the standard ASCII\n  character set. The size of the barcode\n  created will be the  smallest possible\n  for the given data, and use of this\n  \"optimal\" encoding will  generally\n  give smaller barcodes than any of the\n  other 3 \"vanilla\" encodings.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":31844,"reputation":358,"user_id":87789,"display_name":"Vineet Manohar"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1287683969,"creation_date":1285607126,"answer_id":3806065,"question_id":1700597,"body_markdown":"[ZXing][1] is a free open source Java library to read and generate barcode images. You need to get the source code and build the jars yourself. Here&#39;s a [simple tutorial][2] that I wrote for building with ZXing jars and writing your first program with ZXing.\r\n\r\n[http://www.vineetmanohar.com/2010/09/java-barcode-api/]\r\n\r\n\r\n  [1]: http://code.google.com/p/zxing/\r\n  [2]: http://www.vineetmanohar.com/2010/09/java-barcode-api/","title":"BarCode Image Generator in Java","body":"<p><a href=\"http://code.google.com/p/zxing/\" rel=\"noreferrer\">ZXing</a> is a free open source Java library to read and generate barcode images. You need to get the source code and build the jars yourself. Here's a <a href=\"http://www.vineetmanohar.com/2010/09/java-barcode-api/\" rel=\"noreferrer\">simple tutorial</a> that I wrote for building with ZXing jars and writing your first program with ZXing.</p>\n\n<p>[<a href=\"http://www.vineetmanohar.com/2010/09/java-barcode-api/]\" rel=\"noreferrer\">http://www.vineetmanohar.com/2010/09/java-barcode-api/]</a></p>\n"}],"owner":{"account_id":56246,"reputation":4189,"user_id":168461,"accept_rate":35,"display_name":"om."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113512,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":1700616,"answer_count":5,"score":58,"last_activity_date":1680777970,"creation_date":1257768427,"question_id":1700597,"body_markdown":"How can I create a barcode image in Java?  I need something that will allow me to enter a number and produce the corresponding barcode image.  Is there a free library available for this type of task?","title":"BarCode Image Generator in Java","body":"<p>How can I create a barcode image in Java?  I need something that will allow me to enter a number and produce the corresponding barcode image.  Is there a free library available for this type of task?</p>\n"},{"tags":["java","barcode"],"answers":[{"tags":[],"owner":{"account_id":47259,"reputation":21919,"user_id":139909,"accept_rate":87,"display_name":"bdhar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1277270213,"creation_date":1277270213,"answer_id":3099072,"question_id":3099053,"body_markdown":"I have tried [Barcode4J][1]. Nice one\r\n\r\n\r\n  [1]: http://barcode4j.sourceforge.net/","title":"Bar code generation in Java","body":"<p>I have tried <a href=\"http://barcode4j.sourceforge.net/\" rel=\"nofollow noreferrer\">Barcode4J</a>. Nice one</p>\n"},{"tags":[],"owner":{"account_id":156573,"reputation":217,"user_id":373938,"accept_rate":71,"display_name":"Sonal Patil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1277280329,"creation_date":1277280329,"answer_id":3099909,"question_id":3099053,"body_markdown":"I think Barbecue is an open-source &amp; easy Java library so it is best.Also ZXing (pronounced “zebra crossing”) is an open-source, multi-format 1D/2D barcode image processing library implemented in Java.See this link http://code.google.com/p/zxing/","title":"Bar code generation in Java","body":"<p>I think Barbecue is an open-source &amp; easy Java library so it is best.Also ZXing (pronounced “zebra crossing”) is an open-source, multi-format 1D/2D barcode image processing library implemented in Java.See this link <a href=\"http://code.google.com/p/zxing/\" rel=\"nofollow noreferrer\">http://code.google.com/p/zxing/</a></p>\n"},{"tags":[],"owner":{"account_id":425049,"reputation":426,"user_id":805412,"display_name":"Taras Matyashovskyy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348133086,"creation_date":1348133086,"answer_id":12509696,"question_id":3099053,"body_markdown":"I&#39;ve used [Barbecue][1].\r\n\r\n\r\n  [1]: http://barbecue.sourceforge.net\r\n\r\nSimple example is really trivial:\r\n\r\n    BufferedImage image = BarcodeImageHandler.getImage(BarcodeFactory.createCode128(&quot;BARCODE&quot;));\r\n\r\nAfterwards you can convert *image* to a *byte[]* via *ByteArrayOutputStream*.","title":"Bar code generation in Java","body":"<p>I've used <a href=\"http://barbecue.sourceforge.net\" rel=\"nofollow\">Barbecue</a>.</p>\n\n<p>Simple example is really trivial:</p>\n\n<pre><code>BufferedImage image = BarcodeImageHandler.getImage(BarcodeFactory.createCode128(\"BARCODE\"));\n</code></pre>\n\n<p>Afterwards you can convert <em>image</em> to a <em>byte[]</em> via <em>ByteArrayOutputStream</em>.</p>\n"},{"tags":[],"owner":{"account_id":4751779,"reputation":78,"user_id":3841643,"display_name":"jous32"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405607662,"creation_date":1405607662,"answer_id":24806435,"question_id":3099053,"body_markdown":"I prefer barbecue, is more stable and simple\r\n\r\n[example here(http://bethecoder.com/applications/tutorials/barcodes/barbecue/barcode-size.html)\r\n\r\n    public class BarCodeSizeTest {\r\n\r\n    public static void main (String [] args) throws Exception {\r\n\r\n    //Get 128B Barcode instance from the Factory\r\n    Barcode barcode = BarcodeFactory.createCode128B(&quot;be the coder&quot;);\r\n    barcode.setBarHeight(60);\r\n    barcode.setBarWidth(2);\r\n\r\n    File imgFile = new File(&quot;testsize.png&quot;);\r\n\r\n    //Write the bar code to PNG file\r\n    BarcodeImageHandler.savePNG(barcode, imgFile);\r\n      }\r\n    }","title":"Bar code generation in Java","body":"<p>I prefer barbecue, is more stable and simple</p>\n\n<p>[example here(<a href=\"http://bethecoder.com/applications/tutorials/barcodes/barbecue/barcode-size.html\" rel=\"nofollow\">http://bethecoder.com/applications/tutorials/barcodes/barbecue/barcode-size.html</a>)</p>\n\n<pre><code>public class BarCodeSizeTest {\n\npublic static void main (String [] args) throws Exception {\n\n//Get 128B Barcode instance from the Factory\nBarcode barcode = BarcodeFactory.createCode128B(\"be the coder\");\nbarcode.setBarHeight(60);\nbarcode.setBarWidth(2);\n\nFile imgFile = new File(\"testsize.png\");\n\n//Write the bar code to PNG file\nBarcodeImageHandler.savePNG(barcode, imgFile);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10712651,"reputation":1,"user_id":7884435,"display_name":"Thilak G Vishwanath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540461478,"creation_date":1540460660,"answer_id":52986210,"question_id":3099053,"body_markdown":"I have used &quot;**zxing**&quot;\r\n\r\nHave the following dependencies,\r\n\r\nhttps://mvnrepository.com/artifact/com.google.zxing/core\r\nhttps://mvnrepository.com/artifact/com.google.zxing/javase\r\n\r\n    QRCodeWriter qrCodeWriter = new QRCodeWriter();\r\n    BitMatrix bitMatrix = qrCodeWriter.encode(inputText, BarcodeFormat.QR_CODE, width, height);\r\n    Path path = FileSystems.getDefault().getPath(filePath);\r\n    MatrixToImageWriter.writeToPath(bitMatrix, &quot;PNG&quot;, path);\r\n\r\n\r\nyou can convert into image using,\r\n \r\n\r\n    Image image = MatrixToImageWriter.toBufferedImage(bitMatrix); \r\n\r\n","title":"Bar code generation in Java","body":"<p>I have used \"<strong>zxing</strong>\"</p>\n\n<p>Have the following dependencies,</p>\n\n<p><a href=\"https://mvnrepository.com/artifact/com.google.zxing/core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.google.zxing/core</a>\n<a href=\"https://mvnrepository.com/artifact/com.google.zxing/javase\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.google.zxing/javase</a></p>\n\n<pre><code>QRCodeWriter qrCodeWriter = new QRCodeWriter();\nBitMatrix bitMatrix = qrCodeWriter.encode(inputText, BarcodeFormat.QR_CODE, width, height);\nPath path = FileSystems.getDefault().getPath(filePath);\nMatrixToImageWriter.writeToPath(bitMatrix, \"PNG\", path);\n</code></pre>\n\n<p>you can convert into image using,</p>\n\n<pre><code>Image image = MatrixToImageWriter.toBufferedImage(bitMatrix); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2115257,"reputation":779,"user_id":1879731,"accept_rate":50,"display_name":"Olivier Masseau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680777883,"creation_date":1680777883,"answer_id":75948610,"question_id":3099053,"body_markdown":"Nowadays, I would consider https://github.com/woo-j/OkapiBarcode\r\n\r\nBarbecue and Barcode4j are not maintained since a very long time.","title":"Bar code generation in Java","body":"<p>Nowadays, I would consider <a href=\"https://github.com/woo-j/OkapiBarcode\" rel=\"nofollow noreferrer\">https://github.com/woo-j/OkapiBarcode</a></p>\n<p>Barbecue and Barcode4j are not maintained since a very long time.</p>\n"}],"owner":{"account_id":177751,"reputation":1485,"user_id":409283,"accept_rate":29,"display_name":"lalit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10270,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":6,"score":0,"last_activity_date":1680777883,"creation_date":1277269841,"question_id":3099053,"body_markdown":"Which is a better bar code generation library in Java. I see two options as JBar and Barbecue.\r\nAny real life usage is greatly appreciated.","title":"Bar code generation in Java","body":"<p>Which is a better bar code generation library in Java. I see two options as JBar and Barbecue.\nAny real life usage is greatly appreciated.</p>\n"},{"tags":["java","maven","cucumber","junit5","cucumber-jvm"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1680777086,"post_id":75948252,"comment_id":133956889,"body_markdown":"The first command is the correct one. But it sounds like you have some shell quoting issues. You should look at the details around the &quot;Unknown lifecycle error&quot; to help you deduce how your command got interpreted.","body":"The first command is the correct one. But it sounds like you have some shell quoting issues. You should look at the details around the &quot;Unknown lifecycle error&quot; to help you deduce how your command got interpreted."}],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680777766,"creation_date":1680777766,"answer_id":75948599,"question_id":75948252,"body_markdown":"The first command is the correct one. But it sounds like you have some shell quoting issues. You should look at the details around the &quot;Unknown lifecycle error&quot; to help you deduce how your command got interpreted by your shell.\r\n\r\nNow I would guess that this should work:\r\n\r\n```\r\nmvn test -D&quot;cucumber.features=src/test/resources/features/file.feature&quot;\r\n```\r\n\r\nBut you should use caution when using it. [Cucumber may just run twice][1]. Instead you would be better of [selecting the tests you want to run through a tag][2].\r\n\r\n\r\n```\r\nmvn test -D&quot;groups=ExampleTag&quot;\r\n```\r\n\r\n---\r\n\r\nAs an aside you&#39;ve specified a bill of materials (BOM) for both Cucumber and JUnit, so you don&#39;t need these explicit versions anymore:\r\n\r\n```xml\r\n&lt;version&gt;${junit.platform.version}&lt;/version&gt;\r\n&lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n```\r\n\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/issues/2567\r\n  [2]: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#tags","title":"Cucumber / JUnit 5: How to run individual scenarios/features in CLI?","body":"<p>The first command is the correct one. But it sounds like you have some shell quoting issues. You should look at the details around the &quot;Unknown lifecycle error&quot; to help you deduce how your command got interpreted by your shell.</p>\n<p>Now I would guess that this should work:</p>\n<pre><code>mvn test -D&quot;cucumber.features=src/test/resources/features/file.feature&quot;\n</code></pre>\n<p>But you should use caution when using it. <a href=\"https://github.com/cucumber/cucumber-jvm/issues/2567\" rel=\"nofollow noreferrer\">Cucumber may just run twice</a>. Instead you would be better of <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#tags\" rel=\"nofollow noreferrer\">selecting the tests you want to run through a tag</a>.</p>\n<pre><code>mvn test -D&quot;groups=ExampleTag&quot;\n</code></pre>\n<hr />\n<p>As an aside you've specified a bill of materials (BOM) for both Cucumber and JUnit, so you don't need these explicit versions anymore:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;version&gt;${junit.platform.version}&lt;/version&gt;\n&lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n&lt;version&gt;${cucumber.version}&lt;/version&gt;\n</code></pre>\n"}],"owner":{"account_id":28230808,"reputation":23,"user_id":21580069,"display_name":"Corentin CANIN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75948599,"answer_count":1,"score":0,"last_activity_date":1680777766,"creation_date":1680775293,"question_id":75948252,"body_markdown":"I&#39;m on a project that uses Cucumber 7.11.2 (so with JUnit5) to run tests.\r\nI can&#39;t get to run individual scenarios or features using CLI.\r\n\r\nI read a lot about using commands such as :\r\n\r\n```\r\nmvn test -Dcucumber.features=&quot;src/test/resources/features/file.feature&quot;\r\n```\r\n\r\nor\r\n\r\n\r\n```\r\nmvn test -Dcucumber.options=&quot;src/test/resources/features/file.feature&quot;\r\n```\r\n\r\nbut none worked and I get an &quot;Unknown lifecycle error&quot;. If I move some quotes around to get :\r\n\r\n```\r\nmvn test -D&quot;cucumber.options=src/test/resources/features/file.feature&quot; \r\n```\r\n\r\nfor example then all tests run.\r\n\r\nI suspect either the first two commands worked with older Cucumber versions or I didn&#39;t configure my pom.xml right.\r\n\r\nHere is my pom.xml :\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;application&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.plugin.version&gt;3.11.0&lt;/maven.compiler.plugin.version&gt;\r\n\r\n        &lt;allure-junit5.version&gt;2.21.0&lt;/allure-junit5.version&gt;\r\n        &lt;junit.jupiter.version&gt;5.9.2&lt;/junit.jupiter.version&gt;\r\n        &lt;junit.platform.version&gt;1.9.2&lt;/junit.platform.version&gt;\r\n        &lt;assertj-core.version&gt;3.24.2&lt;/assertj-core.version&gt;\r\n        &lt;maven.surefire.plugin.version&gt;3.0.0&lt;/maven.surefire.plugin.version&gt;\r\n        &lt;log4j.version&gt;2.20.0&lt;/log4j.version&gt;\r\n        &lt;slf4j.version&gt;2.0.7&lt;/slf4j.version&gt;\r\n\r\n        &lt;rest-assured.version&gt;5.3.0&lt;/rest-assured.version&gt;\r\n        &lt;slf4j-log4j12.version&gt;2.0.7&lt;/slf4j-log4j12.version&gt;\r\n        &lt;aspectj.version&gt;1.9.19&lt;/aspectj.version&gt;\r\n        &lt;jackson.version&gt;2.14.2&lt;/jackson.version&gt;\r\n        &lt;lombok.version&gt;1.18.26&lt;/lombok.version&gt;\r\n\r\n        &lt;cucumber.version&gt;7.11.2&lt;/cucumber.version&gt;\r\n        &lt;selenium.version&gt;4.8.3&lt;/selenium.version&gt;\r\n        &lt;webdrivermanager.version&gt;5.3.2&lt;/webdrivermanager.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;7.11.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;5.9.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Rest Assured dependency | For API Testing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;${rest-assured.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Junit\r\n        Dependencies | For Test execution--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.platform.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Cucumber\r\n        Dependencies | For Test execution--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-picocontainer --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--WebDriver\r\n        Dependency | For UI testing--&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;${webdrivermanager.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Allure\r\n        Dependency | For Reporting--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${assertj-core.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Log4J\r\n        Dependency | For Logging--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n                    &lt;argLine&gt;\r\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                    &lt;/argLine&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;property&gt;\r\n                            &lt;name&gt;junit.jupiter.extensions.autodetection.enabled&lt;/name&gt;\r\n                            &lt;value&gt;true&lt;/value&gt;\r\n                        &lt;/property&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n                &lt;version&gt;2.12.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;reportVersion&gt;2.4.1&lt;/reportVersion&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nUpdate: Running individual features works with IntelliJ interface, not with VSCode.","title":"Cucumber / JUnit 5: How to run individual scenarios/features in CLI?","body":"<p>I'm on a project that uses Cucumber 7.11.2 (so with JUnit5) to run tests.\nI can't get to run individual scenarios or features using CLI.</p>\n<p>I read a lot about using commands such as :</p>\n<pre><code>mvn test -Dcucumber.features=&quot;src/test/resources/features/file.feature&quot;\n</code></pre>\n<p>or</p>\n<pre><code>mvn test -Dcucumber.options=&quot;src/test/resources/features/file.feature&quot;\n</code></pre>\n<p>but none worked and I get an &quot;Unknown lifecycle error&quot;. If I move some quotes around to get :</p>\n<pre><code>mvn test -D&quot;cucumber.options=src/test/resources/features/file.feature&quot; \n</code></pre>\n<p>for example then all tests run.</p>\n<p>I suspect either the first two commands worked with older Cucumber versions or I didn't configure my pom.xml right.</p>\n<p>Here is my pom.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;application&lt;/artifactId&gt;\n    &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.plugin.version&gt;3.11.0&lt;/maven.compiler.plugin.version&gt;\n\n        &lt;allure-junit5.version&gt;2.21.0&lt;/allure-junit5.version&gt;\n        &lt;junit.jupiter.version&gt;5.9.2&lt;/junit.jupiter.version&gt;\n        &lt;junit.platform.version&gt;1.9.2&lt;/junit.platform.version&gt;\n        &lt;assertj-core.version&gt;3.24.2&lt;/assertj-core.version&gt;\n        &lt;maven.surefire.plugin.version&gt;3.0.0&lt;/maven.surefire.plugin.version&gt;\n        &lt;log4j.version&gt;2.20.0&lt;/log4j.version&gt;\n        &lt;slf4j.version&gt;2.0.7&lt;/slf4j.version&gt;\n\n        &lt;rest-assured.version&gt;5.3.0&lt;/rest-assured.version&gt;\n        &lt;slf4j-log4j12.version&gt;2.0.7&lt;/slf4j-log4j12.version&gt;\n        &lt;aspectj.version&gt;1.9.19&lt;/aspectj.version&gt;\n        &lt;jackson.version&gt;2.14.2&lt;/jackson.version&gt;\n        &lt;lombok.version&gt;1.18.26&lt;/lombok.version&gt;\n\n        &lt;cucumber.version&gt;7.11.2&lt;/cucumber.version&gt;\n        &lt;selenium.version&gt;4.8.3&lt;/selenium.version&gt;\n        &lt;webdrivermanager.version&gt;5.3.2&lt;/webdrivermanager.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-bom&lt;/artifactId&gt;\n                &lt;version&gt;7.11.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n                &lt;version&gt;5.9.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Rest Assured dependency | For API Testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;${rest-assured.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--Junit\n        Dependencies | For Test execution--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\n            &lt;version&gt;${junit.platform.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--Cucumber\n        Dependencies | For Test execution--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-picocontainer --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--WebDriver\n        Dependency | For UI testing--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;${webdrivermanager.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;!--Allure\n        Dependency | For Reporting--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\n            &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;${assertj-core.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--Log4J\n        Dependency | For Logging--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                    &lt;argLine&gt;\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                    &lt;/argLine&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;junit.jupiter.extensions.autodetection.enabled&lt;/name&gt;\n                            &lt;value&gt;true&lt;/value&gt;\n                        &lt;/property&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n                &lt;version&gt;2.12.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;reportVersion&gt;2.4.1&lt;/reportVersion&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>Update: Running individual features works with IntelliJ interface, not with VSCode.</p>\n"},{"tags":["java","arrays","algorithm","data-structures"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1679572704,"post_id":75822608,"comment_id":133747343,"body_markdown":"9 times out of 10 if you&#39;re solution is &quot;correct but runs into time limit&quot;, then you are expected to use a different, more performant algorithm, I.e. it&#39;s unlikely to be an implementation detail/fault, but you having picked the wrong (suboptimal) algorithm.","body":"9 times out of 10 if you&#39;re solution is &quot;correct but runs into time limit&quot;, then you are expected to use a different, more performant algorithm, I.e. it&#39;s unlikely to be an implementation detail/fault, but you having picked the wrong (suboptimal) algorithm."},{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":0,"creation_date":1679572768,"post_id":75822608,"comment_id":133747369,"body_markdown":"Try to avoid `for(...) { if(...) { ... } }` and use `for(...) { ... }` or `if(...) { for(...) { ... } }` instead.","body":"Try to avoid <code>for(...) { if(...) { ... } }</code> and use <code>for(...) { ... }</code> or <code>if(...) { for(...) { ... } }</code> instead."},{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":0,"creation_date":1679572943,"post_id":75822608,"comment_id":133747409,"body_markdown":"Given that it times out even for small inputs, it probably is just looping forever, so double-check to make sure you don&#39;t have any off-by-1 errors or other mistakes.","body":"Given that it times out even for small inputs, it probably is just looping forever, so double-check to make sure you don&#39;t have any off-by-1 errors or other mistakes."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1679585849,"post_id":75822608,"comment_id":133751398,"body_markdown":"&quot;*if everything is correct*&quot; - probably not! Have you tried the second example of posted problem link? As commented above, the algorithm does not end (at least not in the first 2 Minutes)","body":"&quot;<i>if everything is correct</i>&quot; - probably not! Have you tried the second example of posted problem link? As commented above, the algorithm does not end (at least not in the first 2 Minutes)"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1679649735,"creation_date":1679575748,"answer_id":75823196,"question_id":75822608,"body_markdown":"Your code will run into an infinite loop for the second example input:\r\n\r\n    rows = 5, cols = 6, rStart = 1, cStart = 4\r\n\r\nIt goes wrong in the first iteration of the outer loop, and in the third inner loop: there the algorithm walks to the east, but goes one step too far, adding the coordinate `{2, 2}`, and then the fourth loop will move vertically from that point onwards. But that means the algorithm doesn&#39;t visit `{1, 3}`, making bigger &quot;circles&quot; and bigger and bigger, but never reaching the required count of visited cells, as this one spot remains for ever unvisited.\r\n\r\nLooking in more detail at the algorithm you should never have to alter any of `rStart`, `rEnd`, `cStart`, `cEnd` variables with **two** steps. I understood that you did this to compensate for temporary opposite adjustments to these variables, which in turn are necessary to deal with &quot;taking corners&quot;. But this can be done in a better way, which also resolves the problem:\r\n\r\n* Have your inner loop stop one iteration earlier, so they don&#39;t cover for the final &quot;corner&quot; cell -- leave that for the next inner loop to cover\r\n* Adjust the 4 involved variables just with one unit.\r\n\r\nAnother problem in your code is related to the variable `count`: it should be reset to zero for every run, as otherwise you risk that the value from a previous run becomes the starting value in the next run.\r\n\r\nHere is the correction:\r\n\r\n```\r\nclass Solution {\r\n    int count = 0;\r\n    public int[][] spiralMatrixIII(int rows, int cols, int rStart, int cStart) {\r\n        int[][] ans = new int[rows*cols][2];\r\n\r\n        count = 0; // Reset!\r\n\r\n        int rEnd = rStart+1;\r\n        int cEnd = cStart+1;\r\n\r\n        while(count&lt;rows*cols){\r\n            for(int i = cStart; i &lt; cEnd &amp;&amp; count&lt;rows*cols; i++){ // Stop one iteration earlier\r\n                if(i&lt;cols &amp;&amp; i&gt;=0 &amp;&amp; rStart&gt;=0 &amp;&amp; rStart&lt;rows) addToAns(ans, rStart, i);\r\n            }\r\n            cStart--; // One unit only\r\n            for(int i = rStart; i &lt; rEnd &amp;&amp; count&lt;rows*cols; i++){ // Stop one iteration earlier\r\n                if(i&lt;rows &amp;&amp; i&gt;=0 &amp;&amp; cEnd&gt;=0 &amp;&amp; cEnd&lt;cols) addToAns(ans, i, cEnd);\r\n            }\r\n            rStart--; // One unit only\r\n            for(int i = cEnd; i &gt; cStart &amp;&amp; count&lt;rows*cols; i--) { // Stop one iteration earlier\r\n                if(i&gt;=0 &amp;&amp; i&lt;cols &amp;&amp; rEnd&gt;=0 &amp;&amp; rEnd&lt;rows) addToAns(ans, rEnd, i);\r\n            }\r\n            cEnd++; // One unit only\r\n            for(int i = rEnd; i &gt; rStart &amp;&amp; count&lt;rows*cols; i--){ // Stop one iteration earlier\r\n                if(i&gt;=0 &amp;&amp; i&lt;rows &amp;&amp; cStart&gt;=0 &amp;&amp; cStart&lt;cols) addToAns(ans, i, cStart);\r\n            }\r\n            rEnd++;  // One unit only\r\n        }\r\n        return ans;\r\n    }\r\n\r\n    void addToAns(int[][] ans, int row, int col){\r\n        ans[count][0] = row;\r\n        ans[count][1] = col;\r\n        count++;\r\n    }\r\n}\r\n```\r\n\r\n### Other remarks\r\n\r\nWhile this solves the immediate issue, there are several ways this code could be improved:\r\n\r\n* `addAns` could itself verify whether the coordinates are valid, and so you would replace the four `if` conditions by just one.\r\n* By careful loop conditions you could even avoid having to check the validity of the coordinates with a separate `if`. You could avoid starting an inner loop when the line it is supposed to traverse is completely out of range. This can save a lot of iterations.\r\n* There should be no need to have a non-local `count` variable. To achieve that, pass `ans[count]` to `addAns` instead of `ans`. You can then also increment `count` at the same time.\r\n\r\nHere is how it could look with those remarks taken into account:\r\n\r\n```\r\nclass Solution {\r\n    public int[][] spiralMatrixIII(int rows, int cols, int rStart, int cStart) {\r\n        int size = rows*cols;\r\n        int[][] ans = new int[size][2];\r\n        int rEnd = rStart+1;\r\n        int cEnd = cStart+1;\r\n        int count = 0;\r\n\r\n        while (true) { // We will exit the loop with a return statement\r\n            if (rStart &gt;= 0) { // Skip entirely if row out of range\r\n                for(int c = Math.max(cStart, 0); c &lt; cEnd; c++){ // Stop one iteration earlier\r\n                    addToAns(ans[count++], rStart, c);\r\n                    if (count &gt;= size) return ans;\r\n                }\r\n            }\r\n            if (cStart &gt;= 0) cStart--;  // One unit only and don&#39;t move it when already out of range\r\n            if (cEnd &lt; cols) { // Skip entirely if column out of range\r\n                for(int r = Math.max(0, rStart); r &lt; rEnd; r++){\r\n                    addToAns(ans[count++], r, cEnd);\r\n                    if (count &gt;= size) return ans;\r\n                }\r\n            }\r\n            if (rStart &gt;= 0) rStart--;  // One unit only and don&#39;t move it when already out of range\r\n            if (rEnd &lt; rows) { // Skip entirely if row out of range\r\n                for(int c = Math.min(cEnd, cols - 1); c &gt; cStart; c--) { // Stop one iteration earlier\r\n                    addToAns(ans[count++], rEnd, c);\r\n                    if (count &gt;= size) return ans;\r\n                }\r\n            }\r\n            if (cEnd &lt; cols) cEnd++;  // One unit only and don&#39;t move it when already out of range\r\n            if (cStart &gt;= 0) { // Skip entirely if column out of range\r\n                for(int r = Math.min(rEnd, rows - 1); r &gt; rStart; r--){ // Stop one iteration earlier\r\n                    addToAns(ans[count++], r, cStart);\r\n                    if (count &gt;= size) return ans;\r\n                }\r\n            }\r\n            if (rEnd &lt; rows) rEnd++;  // One unit only and don&#39;t move it when already out of range\r\n        }\r\n    }\r\n\r\n    void addToAns(int[] ans, int row, int col){\r\n        ans[0] = row;\r\n        ans[1] = col;\r\n    }\r\n}\r\n```\r\n","title":"I was solving leetcode problem number 885(Spiral Matrix III), everything seems to be correct but it shows time limit exceed","body":"<p>Your code will run into an infinite loop for the second example input:</p>\n<pre><code>rows = 5, cols = 6, rStart = 1, cStart = 4\n</code></pre>\n<p>It goes wrong in the first iteration of the outer loop, and in the third inner loop: there the algorithm walks to the east, but goes one step too far, adding the coordinate <code>{2, 2}</code>, and then the fourth loop will move vertically from that point onwards. But that means the algorithm doesn't visit <code>{1, 3}</code>, making bigger &quot;circles&quot; and bigger and bigger, but never reaching the required count of visited cells, as this one spot remains for ever unvisited.</p>\n<p>Looking in more detail at the algorithm you should never have to alter any of <code>rStart</code>, <code>rEnd</code>, <code>cStart</code>, <code>cEnd</code> variables with <strong>two</strong> steps. I understood that you did this to compensate for temporary opposite adjustments to these variables, which in turn are necessary to deal with &quot;taking corners&quot;. But this can be done in a better way, which also resolves the problem:</p>\n<ul>\n<li>Have your inner loop stop one iteration earlier, so they don't cover for the final &quot;corner&quot; cell -- leave that for the next inner loop to cover</li>\n<li>Adjust the 4 involved variables just with one unit.</li>\n</ul>\n<p>Another problem in your code is related to the variable <code>count</code>: it should be reset to zero for every run, as otherwise you risk that the value from a previous run becomes the starting value in the next run.</p>\n<p>Here is the correction:</p>\n<pre><code>class Solution {\n    int count = 0;\n    public int[][] spiralMatrixIII(int rows, int cols, int rStart, int cStart) {\n        int[][] ans = new int[rows*cols][2];\n\n        count = 0; // Reset!\n\n        int rEnd = rStart+1;\n        int cEnd = cStart+1;\n\n        while(count&lt;rows*cols){\n            for(int i = cStart; i &lt; cEnd &amp;&amp; count&lt;rows*cols; i++){ // Stop one iteration earlier\n                if(i&lt;cols &amp;&amp; i&gt;=0 &amp;&amp; rStart&gt;=0 &amp;&amp; rStart&lt;rows) addToAns(ans, rStart, i);\n            }\n            cStart--; // One unit only\n            for(int i = rStart; i &lt; rEnd &amp;&amp; count&lt;rows*cols; i++){ // Stop one iteration earlier\n                if(i&lt;rows &amp;&amp; i&gt;=0 &amp;&amp; cEnd&gt;=0 &amp;&amp; cEnd&lt;cols) addToAns(ans, i, cEnd);\n            }\n            rStart--; // One unit only\n            for(int i = cEnd; i &gt; cStart &amp;&amp; count&lt;rows*cols; i--) { // Stop one iteration earlier\n                if(i&gt;=0 &amp;&amp; i&lt;cols &amp;&amp; rEnd&gt;=0 &amp;&amp; rEnd&lt;rows) addToAns(ans, rEnd, i);\n            }\n            cEnd++; // One unit only\n            for(int i = rEnd; i &gt; rStart &amp;&amp; count&lt;rows*cols; i--){ // Stop one iteration earlier\n                if(i&gt;=0 &amp;&amp; i&lt;rows &amp;&amp; cStart&gt;=0 &amp;&amp; cStart&lt;cols) addToAns(ans, i, cStart);\n            }\n            rEnd++;  // One unit only\n        }\n        return ans;\n    }\n\n    void addToAns(int[][] ans, int row, int col){\n        ans[count][0] = row;\n        ans[count][1] = col;\n        count++;\n    }\n}\n</code></pre>\n<h3>Other remarks</h3>\n<p>While this solves the immediate issue, there are several ways this code could be improved:</p>\n<ul>\n<li><code>addAns</code> could itself verify whether the coordinates are valid, and so you would replace the four <code>if</code> conditions by just one.</li>\n<li>By careful loop conditions you could even avoid having to check the validity of the coordinates with a separate <code>if</code>. You could avoid starting an inner loop when the line it is supposed to traverse is completely out of range. This can save a lot of iterations.</li>\n<li>There should be no need to have a non-local <code>count</code> variable. To achieve that, pass <code>ans[count]</code> to <code>addAns</code> instead of <code>ans</code>. You can then also increment <code>count</code> at the same time.</li>\n</ul>\n<p>Here is how it could look with those remarks taken into account:</p>\n<pre><code>class Solution {\n    public int[][] spiralMatrixIII(int rows, int cols, int rStart, int cStart) {\n        int size = rows*cols;\n        int[][] ans = new int[size][2];\n        int rEnd = rStart+1;\n        int cEnd = cStart+1;\n        int count = 0;\n\n        while (true) { // We will exit the loop with a return statement\n            if (rStart &gt;= 0) { // Skip entirely if row out of range\n                for(int c = Math.max(cStart, 0); c &lt; cEnd; c++){ // Stop one iteration earlier\n                    addToAns(ans[count++], rStart, c);\n                    if (count &gt;= size) return ans;\n                }\n            }\n            if (cStart &gt;= 0) cStart--;  // One unit only and don't move it when already out of range\n            if (cEnd &lt; cols) { // Skip entirely if column out of range\n                for(int r = Math.max(0, rStart); r &lt; rEnd; r++){\n                    addToAns(ans[count++], r, cEnd);\n                    if (count &gt;= size) return ans;\n                }\n            }\n            if (rStart &gt;= 0) rStart--;  // One unit only and don't move it when already out of range\n            if (rEnd &lt; rows) { // Skip entirely if row out of range\n                for(int c = Math.min(cEnd, cols - 1); c &gt; cStart; c--) { // Stop one iteration earlier\n                    addToAns(ans[count++], rEnd, c);\n                    if (count &gt;= size) return ans;\n                }\n            }\n            if (cEnd &lt; cols) cEnd++;  // One unit only and don't move it when already out of range\n            if (cStart &gt;= 0) { // Skip entirely if column out of range\n                for(int r = Math.min(rEnd, rows - 1); r &gt; rStart; r--){ // Stop one iteration earlier\n                    addToAns(ans[count++], r, cStart);\n                    if (count &gt;= size) return ans;\n                }\n            }\n            if (rEnd &lt; rows) rEnd++;  // One unit only and don't move it when already out of range\n        }\n    }\n\n    void addToAns(int[] ans, int row, int col){\n        ans[0] = row;\n        ans[1] = col;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27611476,"reputation":29,"user_id":21074504,"display_name":"Puneet Chhabra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75823196,"answer_count":1,"score":-1,"last_activity_date":1680777723,"creation_date":1679572098,"question_id":75822608,"body_markdown":"This happened once before, I also got time limit exceed error. I don&#39;t understand if everything is correct, why does this error occur. I haven&#39;t studied time complexity yet, but if someone can explain in brief it would be great. \r\n\r\nHere&#39;s the problem [link](https://leetcode.com/problems/spiral-matrix-iii/description/).\r\n\r\nHere&#39;s my code : \r\n\r\n```java\r\nclass Solution {\r\n    int count = 0;\r\n    public int[][] spiralMatrixIII(int rows, int cols, int rStart, int cStart) {\r\n        \r\n        int[][] ans = new int[rows*cols][2];\r\n\r\n        int rEnd = rStart+1;\r\n        int cEnd = cStart+1;\r\n                \r\n        while(count&lt;rows*cols){\r\n            for(int i = cStart; i&lt;=cEnd &amp;&amp; count&lt;rows*cols; i++){\r\n                if(i&lt;cols &amp;&amp; i&gt;=0 &amp;&amp; rStart&gt;=0 &amp;&amp; rStart&lt;rows) addToAns(ans, rStart, i);\r\n            }\r\n            cStart = cStart - 2;\r\n            rStart++;\r\n            for(int i = rStart; i&lt;=rEnd &amp;&amp; count&lt;rows*cols; i++){\r\n                if(i&lt;rows &amp;&amp; i&gt;=0 &amp;&amp; cEnd&gt;=0 &amp;&amp; cEnd&lt;cols) addToAns(ans, i, cEnd);\r\n            }\r\n            rStart = rStart-2;\r\n            cEnd--;\r\n            for(int i = cEnd; i&gt;= cStart &amp;&amp; count&lt;rows*cols; i--){\r\n                if(i&gt;=0 &amp;&amp; i&lt;cols &amp;&amp; rEnd&gt;=0 &amp;&amp; rEnd&lt;rows) addToAns(ans, rEnd, i);\r\n            }\r\n            cEnd = cEnd+2;\r\n            rEnd++;\r\n            for(int i = rEnd; i&gt;= rStart &amp;&amp; count&lt;rows*cols; i--){\r\n                if(i&gt;=0 &amp;&amp; i&lt;rows &amp;&amp; cStart&gt;=0 &amp;&amp; cStart&lt;cols) addToAns(ans, i, cStart);\r\n            }\r\n            rEnd = rEnd + 2;\r\n            cStart++;\r\n        }\r\n        return ans;\r\n    }\r\n\r\n    void addToAns(int[][] ans, int row, int col){\r\n        ans[count][0] = row;\r\n        ans[count][1] = col;\r\n        count++;\r\n    }\r\n}\r\n```\r\n\r\nCan you please tell what&#39;s wrong? Which line exactly can be improved to improve time complexity. The same approach was running, but giving wrong answer before few modifications. \r\n\r\n","title":"I was solving leetcode problem number 885(Spiral Matrix III), everything seems to be correct but it shows time limit exceed","body":"<p>This happened once before, I also got time limit exceed error. I don't understand if everything is correct, why does this error occur. I haven't studied time complexity yet, but if someone can explain in brief it would be great.</p>\n<p>Here's the problem <a href=\"https://leetcode.com/problems/spiral-matrix-iii/description/\" rel=\"nofollow noreferrer\">link</a>.</p>\n<p>Here's my code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    int count = 0;\n    public int[][] spiralMatrixIII(int rows, int cols, int rStart, int cStart) {\n        \n        int[][] ans = new int[rows*cols][2];\n\n        int rEnd = rStart+1;\n        int cEnd = cStart+1;\n                \n        while(count&lt;rows*cols){\n            for(int i = cStart; i&lt;=cEnd &amp;&amp; count&lt;rows*cols; i++){\n                if(i&lt;cols &amp;&amp; i&gt;=0 &amp;&amp; rStart&gt;=0 &amp;&amp; rStart&lt;rows) addToAns(ans, rStart, i);\n            }\n            cStart = cStart - 2;\n            rStart++;\n            for(int i = rStart; i&lt;=rEnd &amp;&amp; count&lt;rows*cols; i++){\n                if(i&lt;rows &amp;&amp; i&gt;=0 &amp;&amp; cEnd&gt;=0 &amp;&amp; cEnd&lt;cols) addToAns(ans, i, cEnd);\n            }\n            rStart = rStart-2;\n            cEnd--;\n            for(int i = cEnd; i&gt;= cStart &amp;&amp; count&lt;rows*cols; i--){\n                if(i&gt;=0 &amp;&amp; i&lt;cols &amp;&amp; rEnd&gt;=0 &amp;&amp; rEnd&lt;rows) addToAns(ans, rEnd, i);\n            }\n            cEnd = cEnd+2;\n            rEnd++;\n            for(int i = rEnd; i&gt;= rStart &amp;&amp; count&lt;rows*cols; i--){\n                if(i&gt;=0 &amp;&amp; i&lt;rows &amp;&amp; cStart&gt;=0 &amp;&amp; cStart&lt;cols) addToAns(ans, i, cStart);\n            }\n            rEnd = rEnd + 2;\n            cStart++;\n        }\n        return ans;\n    }\n\n    void addToAns(int[][] ans, int row, int col){\n        ans[count][0] = row;\n        ans[count][1] = col;\n        count++;\n    }\n}\n</code></pre>\n<p>Can you please tell what's wrong? Which line exactly can be improved to improve time complexity. The same approach was running, but giving wrong answer before few modifications.</p>\n"},{"tags":["java","schema","google-cloud-dataflow","apache-beam"],"owner":{"account_id":8566016,"reputation":52,"user_id":6418463,"display_name":"Yoyo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680777571,"creation_date":1679999737,"question_id":75865157,"body_markdown":"I am trying to read XML files and do some SQL queries. So, I am trying to read the XML file and convert it into JSON by using the Beam inbuilt library. Everything works fine until here, but when I try to convert it into a Row to do some aggregations, I am getting the following error \r\n\r\n&gt; An exception occured while executing the Java class. Unable to return a default Coder for print/ParMultiDo(Anonymous).output [PCollection@1927917030]. Correct one of the following root causes:\r\n[ERROR]   No Coder has been manually specified;  you may do so using .setCoder().\r\n[ERROR]   Inferring a Coder from the CoderRegistry failed: Cannot provide a coder for a Beam Row. Please provide a schema instead using PCollection.setRowSchema.\r\n[ERROR]   Using the default output Coder from the producing PTransform failed: PTransform.getOutputCoder called.\r\n\r\nCan someone help me in figuring out the issue, tried going through the documentation but its confusing me even more. Below is the code\r\n\r\n```\r\npublic class CustXMLIO {\r\n\r\n    public interface DirectRunnerOptions extends PipelineOptions {\r\n        @Description(&quot;Path of File to Read from&quot;)\r\n        @Default.String(&quot;.\\\\XMLIO\\\\demo\\\\trial_partial.xml&quot;)\r\n        String getInputFile();\r\n\r\n        void setInputFile(String value);\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        DirectRunnerOptions options = PipelineOptionsFactory.fromArgs(args).as(DirectRunnerOptions.class);\r\n        final Logger LOG = LoggerFactory.getLogger(CustXMLIO.class);\r\n        boolean dedupingRequired = false;\r\n        Schema trialSchema = Schema.builder()\r\n                .addField(&quot;OrganizationID&quot;,FieldType.STRING)\r\n                .addField(&quot;TransactionID&quot;,FieldType.STRING)\r\n                .addField(&quot;RetailStoreID&quot;, FieldType.STRING)\r\n                .addField(&quot;WorkstationID&quot;,FieldType.INT64)\r\n                .addField(&quot;TillID&quot;, FieldType.STRING)\r\n                .addField(&quot;SequenceNumber&quot;,FieldType.INT64)\r\n                .addField(&quot;BusinessDayDate&quot;,FieldType.STRING)\r\n                .addField(&quot;BeginDateTime&quot;,FieldType.STRING)\r\n                .addField(&quot;EndDateTime&quot;,FieldType.STRING)\r\n                .addField(&quot;OperatorID&quot;,FieldType.INT64)\r\n                .addField(&quot;CurrencyCode&quot;,FieldType.STRING)\r\n                .build();\r\n\r\n        Pipeline p = Pipeline.create(options);\r\n\r\n        PCollection&lt;String&gt; readFiles = p.apply(FileIO.match()\r\n                        .filepattern(options.getInputFile())\r\n                )\r\n                .apply(FileIO.readMatches()/*.withCompression(GZIP)*/)\r\n                .apply(&quot;Converting XML to JSON, flattening and splitting&quot;,ParDo.of(new DoFn&lt;FileIO.ReadableFile, String &gt;() {\r\n                    @ProcessElement\r\n                    public void processElement(@Element FileIO.ReadableFile file, ProcessContext c) throws IOException {\r\n                        JSONObject op = XML.toJSONObject(file.readFullyAsUTF8String()).getJSONObject(&quot;Transaction&quot;);\r\n                        System.out.println(op.toString(2));\r\n                        c.output(op.toString());\r\n                    }\r\n                }));\r\n\r\n        PCollection&lt;Row&gt; trialRow = readFiles\r\n                .apply(&quot;Deserialize to Row&quot;,JsonToRow.withSchema(trialSchema))\r\n                .apply(&quot;print&quot;,ParDo.of(new DoFn&lt;Row, Row&gt;() {\r\n                    @ProcessElement\r\n                    public void process (ProcessContext c){\r\n                        System.out.println(c.element().toString());\r\n                    }\r\n                }));\r\n\t\t\r\n\t\tp.run();\r\n\t}\r\n}\r\n```\r\n\r\nInput XML file is as below\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;Transaction&gt;\r\n  &lt;OrganizationID&gt;AmericanEagle&lt;/OrganizationID&gt;\r\n  &lt;TransactionID&gt;U110_1_2022-11-01 10:28:43&lt;/TransactionID&gt;\r\n  &lt;RetailStoreID&gt;U110&lt;/RetailStoreID&gt;\r\n  &lt;WorkstationID&gt;1&lt;/WorkstationID&gt;\r\n  &lt;TillID&gt;1&lt;/TillID&gt;\r\n  &lt;SequenceNumber&gt;301261&lt;/SequenceNumber&gt;\r\n  &lt;BusinessDayDate&gt;2022-11-01&lt;/BusinessDayDate&gt;\r\n  &lt;BeginDateTime&gt;2022-11-01 10:28:43&lt;/BeginDateTime&gt;\r\n  &lt;EndDateTime&gt;2022-11-01 10:28:43&lt;/EndDateTime&gt;\r\n  &lt;OperatorID&gt;1&lt;/OperatorID&gt;\r\n  &lt;CurrencyCode&gt;USD&lt;/CurrencyCode&gt;\r\n&lt;/Transaction&gt;\r\n```","title":"Apache Beam JsonToRow.withSchema() method throwing error","body":"<p>I am trying to read XML files and do some SQL queries. So, I am trying to read the XML file and convert it into JSON by using the Beam inbuilt library. Everything works fine until here, but when I try to convert it into a Row to do some aggregations, I am getting the following error</p>\n<blockquote>\n<p>An exception occured while executing the Java class. Unable to return a default Coder for print/ParMultiDo(Anonymous).output [PCollection@1927917030]. Correct one of the following root causes:\n[ERROR]   No Coder has been manually specified;  you may do so using .setCoder().\n[ERROR]   Inferring a Coder from the CoderRegistry failed: Cannot provide a coder for a Beam Row. Please provide a schema instead using PCollection.setRowSchema.\n[ERROR]   Using the default output Coder from the producing PTransform failed: PTransform.getOutputCoder called.</p>\n</blockquote>\n<p>Can someone help me in figuring out the issue, tried going through the documentation but its confusing me even more. Below is the code</p>\n<pre><code>public class CustXMLIO {\n\n    public interface DirectRunnerOptions extends PipelineOptions {\n        @Description(&quot;Path of File to Read from&quot;)\n        @Default.String(&quot;.\\\\XMLIO\\\\demo\\\\trial_partial.xml&quot;)\n        String getInputFile();\n\n        void setInputFile(String value);\n    }\n\n    public static void main(String[] args){\n        DirectRunnerOptions options = PipelineOptionsFactory.fromArgs(args).as(DirectRunnerOptions.class);\n        final Logger LOG = LoggerFactory.getLogger(CustXMLIO.class);\n        boolean dedupingRequired = false;\n        Schema trialSchema = Schema.builder()\n                .addField(&quot;OrganizationID&quot;,FieldType.STRING)\n                .addField(&quot;TransactionID&quot;,FieldType.STRING)\n                .addField(&quot;RetailStoreID&quot;, FieldType.STRING)\n                .addField(&quot;WorkstationID&quot;,FieldType.INT64)\n                .addField(&quot;TillID&quot;, FieldType.STRING)\n                .addField(&quot;SequenceNumber&quot;,FieldType.INT64)\n                .addField(&quot;BusinessDayDate&quot;,FieldType.STRING)\n                .addField(&quot;BeginDateTime&quot;,FieldType.STRING)\n                .addField(&quot;EndDateTime&quot;,FieldType.STRING)\n                .addField(&quot;OperatorID&quot;,FieldType.INT64)\n                .addField(&quot;CurrencyCode&quot;,FieldType.STRING)\n                .build();\n\n        Pipeline p = Pipeline.create(options);\n\n        PCollection&lt;String&gt; readFiles = p.apply(FileIO.match()\n                        .filepattern(options.getInputFile())\n                )\n                .apply(FileIO.readMatches()/*.withCompression(GZIP)*/)\n                .apply(&quot;Converting XML to JSON, flattening and splitting&quot;,ParDo.of(new DoFn&lt;FileIO.ReadableFile, String &gt;() {\n                    @ProcessElement\n                    public void processElement(@Element FileIO.ReadableFile file, ProcessContext c) throws IOException {\n                        JSONObject op = XML.toJSONObject(file.readFullyAsUTF8String()).getJSONObject(&quot;Transaction&quot;);\n                        System.out.println(op.toString(2));\n                        c.output(op.toString());\n                    }\n                }));\n\n        PCollection&lt;Row&gt; trialRow = readFiles\n                .apply(&quot;Deserialize to Row&quot;,JsonToRow.withSchema(trialSchema))\n                .apply(&quot;print&quot;,ParDo.of(new DoFn&lt;Row, Row&gt;() {\n                    @ProcessElement\n                    public void process (ProcessContext c){\n                        System.out.println(c.element().toString());\n                    }\n                }));\n        \n        p.run();\n    }\n}\n</code></pre>\n<p>Input XML file is as below</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;Transaction&gt;\n  &lt;OrganizationID&gt;AmericanEagle&lt;/OrganizationID&gt;\n  &lt;TransactionID&gt;U110_1_2022-11-01 10:28:43&lt;/TransactionID&gt;\n  &lt;RetailStoreID&gt;U110&lt;/RetailStoreID&gt;\n  &lt;WorkstationID&gt;1&lt;/WorkstationID&gt;\n  &lt;TillID&gt;1&lt;/TillID&gt;\n  &lt;SequenceNumber&gt;301261&lt;/SequenceNumber&gt;\n  &lt;BusinessDayDate&gt;2022-11-01&lt;/BusinessDayDate&gt;\n  &lt;BeginDateTime&gt;2022-11-01 10:28:43&lt;/BeginDateTime&gt;\n  &lt;EndDateTime&gt;2022-11-01 10:28:43&lt;/EndDateTime&gt;\n  &lt;OperatorID&gt;1&lt;/OperatorID&gt;\n  &lt;CurrencyCode&gt;USD&lt;/CurrencyCode&gt;\n&lt;/Transaction&gt;\n</code></pre>\n"},{"tags":["java","bufferedimage"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1672131021,"post_id":74923247,"comment_id":132225487,"body_markdown":"@gpasch `BufferedImage` does indeed allow 16 bits per channel. 8 bits per channel is fine for computer display, but sometimes higher precision is required. Working with this higher precision involves more  number crunching. But it&#39;s definitively *not* magic.","body":"@gpasch <code>BufferedImage</code> does indeed allow 16 bits per channel. 8 bits per channel is fine for computer display, but sometimes higher precision is required. Working with this higher precision involves more  number crunching. But it&#39;s definitively <i>not</i> magic."}],"answers":[{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672760658,"creation_date":1672760100,"answer_id":74995441,"question_id":74923247,"body_markdown":"After som testing and research, I think the fact that `ConvolveOp` and `AffineTransformOp` doesn&#39;t work with 16 bits/sample (`TYPE_USHORT` data type) images out of the box, is a JDK bug. It might be that the underlying native code only works with 8 bits/sample images, but in that case &quot;Op&quot;s should throw an exception (or perhaps add a slower, but correct Java fallback code path). You might want to report that to the OpenJDK community. \r\n\r\n---\r\n\r\nFor the 16 to 8 bits/sample conversion, the problem is you can&#39;t set 16 bit values into an 8 bit buffer, as there&#39;s no normalization done on the samples. I guess you&#39;ll just end up with the lower 8 bits of the 16 bits sample, which will typically look like static/noise. This can be fixed, however. \r\n\r\nHere&#39;s a version that will convert the values correctly to 8 bit, but otherwise keep the color space/color profile unchanged:\r\n\r\n```java\r\nprivate static BufferedImage changeTo8BitDepth(BufferedImage original) {\r\n    ColorModel cm = original.getColorModel();\r\n\r\n    // Create 8 bit color model\r\n    ColorModel newCM = new ComponentColorModel(cm.getColorSpace(), cm.hasAlpha(), cm.isAlphaPremultiplied(), cm.getTransparency(), DataBuffer.TYPE_BYTE);\r\n    WritableRaster newRaster = newCM.createCompatibleWritableRaster(original.getWidth(), original.getHeight());\r\n    BufferedImage newImage = new BufferedImage(newCM, newRaster, newCM.isAlphaPremultiplied(), null);\r\n\r\n    // convert using createGraphics/dawImage\r\n    Graphics2D graphics = newImage.createGraphics();\r\n    try {\r\n        graphics.drawImage(original, 0, 0, null);\r\n    }\r\n    finally {\r\n        graphics.dispose();\r\n    }\r\n\r\n    return newImage;\r\n}\r\n```\r\n\r\nIf you prefer conversion using rasters only, it&#39;s also possible with some hacks:\r\n\r\n```java\r\nprivate static BufferedImage changeTo8BitDepth(BufferedImage original) {\r\n    ColorModel cm = original.getColorModel();\r\n\r\n    // Create 8 bit color model\r\n    ColorModel newCM = new ComponentColorModel(cm.getColorSpace(), cm.hasAlpha(), cm.isAlphaPremultiplied(), cm.getTransparency(), DataBuffer.TYPE_BYTE);\r\n    WritableRaster newRaster = newCM.createCompatibleWritableRaster(original.getWidth(), original.getHeight());\r\n    BufferedImage newImage = new BufferedImage(newCM, newRaster, newCM.isAlphaPremultiplied(), null);\r\n\r\n    // convert using setData\r\n    // newImage.setData(as8BitRaster(original.getRaster())); // Works\r\n    newRaster.setDataElements(0, 0, as8BitRaster(original.getRaster())); // Faster, requires less conversion\r\n\r\n    return newImage;\r\n}\r\n\r\nprivate static Raster as8BitRaster(WritableRaster raster) {\r\n    // Assumption: Raster is TYPE_USHORT (16 bit) and has PixelInterleavedSampleModel\r\n    PixelInterleavedSampleModel sampleModel = (PixelInterleavedSampleModel) raster.getSampleModel();\r\n\r\n    // We&#39;ll create a custom data buffer, that delegates to the original 16 bit buffer\r\n    final DataBuffer buffer = raster.getDataBuffer();\r\n\r\n    return Raster.createInterleavedRaster(new DataBuffer(DataBuffer.TYPE_BYTE, buffer.getSize()) {\r\n        @Override public int getElem(int bank, int i) {\r\n            return buffer.getElem(bank, i) &gt;&gt;&gt; 8; // We only need the upper 8 bits of the 16 bit sample\r\n        }\r\n\r\n        @Override public void setElem(int bank, int i, int val) {\r\n            throw new UnsupportedOperationException(&quot;Raster is read only!&quot;);\r\n        }\r\n    }, raster.getWidth(), raster.getHeight(), sampleModel.getScanlineStride(), sampleModel.getPixelStride(), sampleModel.getBandOffsets(), new Point());\r\n}\r\n```","title":"Some operations (Convolve, AffineTransform) on BufferedImage with 16 bit per channel result in garbled data","body":"<p>After som testing and research, I think the fact that <code>ConvolveOp</code> and <code>AffineTransformOp</code> doesn't work with 16 bits/sample (<code>TYPE_USHORT</code> data type) images out of the box, is a JDK bug. It might be that the underlying native code only works with 8 bits/sample images, but in that case &quot;Op&quot;s should throw an exception (or perhaps add a slower, but correct Java fallback code path). You might want to report that to the OpenJDK community.</p>\n<hr />\n<p>For the 16 to 8 bits/sample conversion, the problem is you can't set 16 bit values into an 8 bit buffer, as there's no normalization done on the samples. I guess you'll just end up with the lower 8 bits of the 16 bits sample, which will typically look like static/noise. This can be fixed, however.</p>\n<p>Here's a version that will convert the values correctly to 8 bit, but otherwise keep the color space/color profile unchanged:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static BufferedImage changeTo8BitDepth(BufferedImage original) {\n    ColorModel cm = original.getColorModel();\n\n    // Create 8 bit color model\n    ColorModel newCM = new ComponentColorModel(cm.getColorSpace(), cm.hasAlpha(), cm.isAlphaPremultiplied(), cm.getTransparency(), DataBuffer.TYPE_BYTE);\n    WritableRaster newRaster = newCM.createCompatibleWritableRaster(original.getWidth(), original.getHeight());\n    BufferedImage newImage = new BufferedImage(newCM, newRaster, newCM.isAlphaPremultiplied(), null);\n\n    // convert using createGraphics/dawImage\n    Graphics2D graphics = newImage.createGraphics();\n    try {\n        graphics.drawImage(original, 0, 0, null);\n    }\n    finally {\n        graphics.dispose();\n    }\n\n    return newImage;\n}\n</code></pre>\n<p>If you prefer conversion using rasters only, it's also possible with some hacks:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static BufferedImage changeTo8BitDepth(BufferedImage original) {\n    ColorModel cm = original.getColorModel();\n\n    // Create 8 bit color model\n    ColorModel newCM = new ComponentColorModel(cm.getColorSpace(), cm.hasAlpha(), cm.isAlphaPremultiplied(), cm.getTransparency(), DataBuffer.TYPE_BYTE);\n    WritableRaster newRaster = newCM.createCompatibleWritableRaster(original.getWidth(), original.getHeight());\n    BufferedImage newImage = new BufferedImage(newCM, newRaster, newCM.isAlphaPremultiplied(), null);\n\n    // convert using setData\n    // newImage.setData(as8BitRaster(original.getRaster())); // Works\n    newRaster.setDataElements(0, 0, as8BitRaster(original.getRaster())); // Faster, requires less conversion\n\n    return newImage;\n}\n\nprivate static Raster as8BitRaster(WritableRaster raster) {\n    // Assumption: Raster is TYPE_USHORT (16 bit) and has PixelInterleavedSampleModel\n    PixelInterleavedSampleModel sampleModel = (PixelInterleavedSampleModel) raster.getSampleModel();\n\n    // We'll create a custom data buffer, that delegates to the original 16 bit buffer\n    final DataBuffer buffer = raster.getDataBuffer();\n\n    return Raster.createInterleavedRaster(new DataBuffer(DataBuffer.TYPE_BYTE, buffer.getSize()) {\n        @Override public int getElem(int bank, int i) {\n            return buffer.getElem(bank, i) &gt;&gt;&gt; 8; // We only need the upper 8 bits of the 16 bit sample\n        }\n\n        @Override public void setElem(int bank, int i, int val) {\n            throw new UnsupportedOperationException(&quot;Raster is read only!&quot;);\n        }\n    }, raster.getWidth(), raster.getHeight(), sampleModel.getScanlineStride(), sampleModel.getPixelStride(), sampleModel.getBandOffsets(), new Point());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9843309,"reputation":1992,"user_id":7291698,"display_name":"user7291698"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680777405,"creation_date":1680777405,"answer_id":75948553,"question_id":74923247,"body_markdown":"I had a similar problem with blurring a 16 bit `BufferedImage` and `ConvolveOp`, but in my case a grayscale picture (`BufferedImage.TYPE_BYTE_GRAY`). The image I needed to process is a heightmap.\r\n\r\nI used the following code:\r\n\t\r\n\tprivate static BufferedImage blur(BufferedImage img) {\r\n\t    float[] matrix3 = {\r\n\t            1f/9, 1f/9, 1f/9,\r\n\t            1f/9, 1f/9, 1f/9,\r\n\t            1f/9, 1f/9, 1f/9,\r\n\t        };\r\n\t    Kernel kernel = new Kernel(3, 3, matrix3);\r\n\r\n\t    BufferedImageOp op = new ConvolveOp(kernel);\r\n\t\treturn op.filter(img, null);\r\n\t}\r\n\r\nThis results in the following artifacts (images cropped due to their large size):\r\n\r\nOriginal image:\r\n\r\n[![original image][1]][1]\r\n\r\nBlurred image:\r\n\r\n[![imageblurred with ConvolveOp][2]][2]\r\n\r\n\r\nNow, instead of using `ConvolveOp`, I can achieve the same effect with blurring all rows and all cols individually in only one dimension (cf. [here][3]) with a factor of 1/3 instead of 1/9 in the matrix, because 1/3 * 1/3 = 1/9. The following code does this, but leads to the same artifacts as the `ConvolveOp` used above:\r\n\r\n\tprivate static BufferedImage blur(BufferedImage img) {\r\n\t\tfor (int x=0; x&lt;img.getWidth(); x++) {\r\n\t\t\tfor (int y=0; y&lt;img.getHeight(); y++) {\r\n\t\t\t\tint y0 = Math.max(y-1, 0);\r\n\t\t\t\tint y1 = y;\r\n\t\t\t\tint y2 = Math.min(y+2, img.getHeight()-1);\r\n\r\n\t\t\t\tshort s0 = ((short[]) img.getRaster().getDataElements(x, y0, null))[0];\r\n\t\t\t\tshort s1 = ((short[]) img.getRaster().getDataElements(x, y1, null))[0];\r\n\t\t\t\tshort s2 = ((short[]) img.getRaster().getDataElements(x, y2, null))[0];\r\n\t\t\t\t\r\n\t\t\t\tshort sNew = (short) ((s0 + s1 + s2) / 3);\r\n\r\n\t\t\t\timg.getRaster().setDataElements(x, y, new short[] {(short)sNew});\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (int x=0; x&lt;img.getWidth(); x++) {\r\n\t\t\tfor (int y=0; y&lt;img.getHeight(); y++) {\r\n\t\t\t\tint x0 = Math.max(x-1, 0);\r\n\t\t\t\tint x1 = x;\r\n\t\t\t\tint x2 = Math.min(x+2, img.getWidth()-1);\r\n\r\n\t\t\t\tshort s0 = ((short[]) img.getRaster().getDataElements(x0, y, null))[0];\r\n\t\t\t\tshort s1 = ((short[]) img.getRaster().getDataElements(x1, y, null))[0];\r\n\t\t\t\tshort s2 = ((short[]) img.getRaster().getDataElements(x2, y, null))[0];\r\n\t\t\t\t\r\n\t\t\t\tshort sNew = (short) ((s0 + s1 + s2) / 3);\r\n\r\n\t\t\t\timg.getRaster().setDataElements(x, y, new short[] {(short)sNew});\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn img;\r\n\t}\r\n\r\n\r\n\r\n**Workaround**:\r\n\r\nWith the following code (added lines marked), I can get rid of these artifacts and the blurring is correct:\r\n\r\n\tprivate static BufferedImage blur(BufferedImage img) {\r\n\t\tfor (int x=0; x&lt;img.getWidth(); x++) {\r\n\t\t\tfor (int y=0; y&lt;img.getHeight(); y++) {\r\n\t\t\t\tint y0 = Math.max(y-1, 0);\r\n\t\t\t\tint y1 = y;\r\n\t\t\t\tint y2 = Math.min(y+2, img.getHeight()-1);\r\n\r\n\t\t\t\tshort s0 = ((short[]) img.getRaster().getDataElements(x, y0, null))[0];\r\n\t\t\t\tshort s1 = ((short[]) img.getRaster().getDataElements(x, y1, null))[0];\r\n\t\t\t\tshort s2 = ((short[]) img.getRaster().getDataElements(x, y2, null))[0];\r\n\r\n\t\t\t\ts0 += 32768; // ADDED LINE\r\n\t\t\t\ts1 += 32768; // ADDED LINE\r\n\t\t\t\ts2 += 32768; // ADDED LINE\r\n\t\t\t\t\r\n\t\t\t\tshort sNew = (short) ((s0 + s1 + s2) / 3);\r\n\t\t\t\tsNew -= 32768; // ADDED LINE\r\n\r\n\t\t\t\timg.getRaster().setDataElements(x, y, new short[] {(short)sNew});\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (int x=0; x&lt;img.getWidth(); x++) {\r\n\t\t\tfor (int y=0; y&lt;img.getHeight(); y++) {\r\n\t\t\t\tint x0 = Math.max(x-1, 0);\r\n\t\t\t\tint x1 = x;\r\n\t\t\t\tint x2 = Math.min(x+2, img.getWidth()-1);\r\n\r\n\t\t\t\tshort s0 = ((short[]) img.getRaster().getDataElements(x0, y, null))[0];\r\n\t\t\t\tshort s1 = ((short[]) img.getRaster().getDataElements(x1, y, null))[0];\r\n\t\t\t\tshort s2 = ((short[]) img.getRaster().getDataElements(x2, y, null))[0];\r\n\r\n\t\t\t\ts0 += 32768; // ADDED LINE\r\n\t\t\t\ts1 += 32768; // ADDED LINE\r\n\t\t\t\ts2 += 32768; // ADDED LINE\r\n\t\t\t\t\r\n\t\t\t\tshort sNew = (short) ((s0 + s1 + s2) / 3);\r\n\t\t\t\tsNew -= 32768; // ADDED LINE\r\n\r\n\t\t\t\timg.getRaster().setDataElements(x, y, new short[] {(short)sNew});\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn img;\r\n\t}\r\n\r\nFinal image:\r\n\r\n[![Imageblurred with workaround algorithm][4]][4]\r\n\r\nIt seems to me like it has to do something with the Java `short` type being signed, while the type of the `BufferedImage` is unsigned, but I&#39;m not yet completely sure about that. Maybe this helps solving your problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lFohm.png\r\n  [2]: https://i.stack.imgur.com/8yqul.png\r\n  [3]: https://stackoverflow.com/a/98818\r\n  [4]: https://i.stack.imgur.com/HtYwc.png","title":"Some operations (Convolve, AffineTransform) on BufferedImage with 16 bit per channel result in garbled data","body":"<p>I had a similar problem with blurring a 16 bit <code>BufferedImage</code> and <code>ConvolveOp</code>, but in my case a grayscale picture (<code>BufferedImage.TYPE_BYTE_GRAY</code>). The image I needed to process is a heightmap.</p>\n<p>I used the following code:</p>\n<pre><code>private static BufferedImage blur(BufferedImage img) {\n    float[] matrix3 = {\n            1f/9, 1f/9, 1f/9,\n            1f/9, 1f/9, 1f/9,\n            1f/9, 1f/9, 1f/9,\n        };\n    Kernel kernel = new Kernel(3, 3, matrix3);\n\n    BufferedImageOp op = new ConvolveOp(kernel);\n    return op.filter(img, null);\n}\n</code></pre>\n<p>This results in the following artifacts (images cropped due to their large size):</p>\n<p>Original image:</p>\n<p><a href=\"https://i.stack.imgur.com/lFohm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lFohm.png\" alt=\"original image\" /></a></p>\n<p>Blurred image:</p>\n<p><a href=\"https://i.stack.imgur.com/8yqul.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8yqul.png\" alt=\"imageblurred with ConvolveOp\" /></a></p>\n<p>Now, instead of using <code>ConvolveOp</code>, I can achieve the same effect with blurring all rows and all cols individually in only one dimension (cf. <a href=\"https://stackoverflow.com/a/98818\">here</a>) with a factor of 1/3 instead of 1/9 in the matrix, because 1/3 * 1/3 = 1/9. The following code does this, but leads to the same artifacts as the <code>ConvolveOp</code> used above:</p>\n<pre><code>private static BufferedImage blur(BufferedImage img) {\n    for (int x=0; x&lt;img.getWidth(); x++) {\n        for (int y=0; y&lt;img.getHeight(); y++) {\n            int y0 = Math.max(y-1, 0);\n            int y1 = y;\n            int y2 = Math.min(y+2, img.getHeight()-1);\n\n            short s0 = ((short[]) img.getRaster().getDataElements(x, y0, null))[0];\n            short s1 = ((short[]) img.getRaster().getDataElements(x, y1, null))[0];\n            short s2 = ((short[]) img.getRaster().getDataElements(x, y2, null))[0];\n            \n            short sNew = (short) ((s0 + s1 + s2) / 3);\n\n            img.getRaster().setDataElements(x, y, new short[] {(short)sNew});\n        }\n    }\n    \n    for (int x=0; x&lt;img.getWidth(); x++) {\n        for (int y=0; y&lt;img.getHeight(); y++) {\n            int x0 = Math.max(x-1, 0);\n            int x1 = x;\n            int x2 = Math.min(x+2, img.getWidth()-1);\n\n            short s0 = ((short[]) img.getRaster().getDataElements(x0, y, null))[0];\n            short s1 = ((short[]) img.getRaster().getDataElements(x1, y, null))[0];\n            short s2 = ((short[]) img.getRaster().getDataElements(x2, y, null))[0];\n            \n            short sNew = (short) ((s0 + s1 + s2) / 3);\n\n            img.getRaster().setDataElements(x, y, new short[] {(short)sNew});\n        }\n    }\n    return img;\n}\n</code></pre>\n<p><strong>Workaround</strong>:</p>\n<p>With the following code (added lines marked), I can get rid of these artifacts and the blurring is correct:</p>\n<pre><code>private static BufferedImage blur(BufferedImage img) {\n    for (int x=0; x&lt;img.getWidth(); x++) {\n        for (int y=0; y&lt;img.getHeight(); y++) {\n            int y0 = Math.max(y-1, 0);\n            int y1 = y;\n            int y2 = Math.min(y+2, img.getHeight()-1);\n\n            short s0 = ((short[]) img.getRaster().getDataElements(x, y0, null))[0];\n            short s1 = ((short[]) img.getRaster().getDataElements(x, y1, null))[0];\n            short s2 = ((short[]) img.getRaster().getDataElements(x, y2, null))[0];\n\n            s0 += 32768; // ADDED LINE\n            s1 += 32768; // ADDED LINE\n            s2 += 32768; // ADDED LINE\n            \n            short sNew = (short) ((s0 + s1 + s2) / 3);\n            sNew -= 32768; // ADDED LINE\n\n            img.getRaster().setDataElements(x, y, new short[] {(short)sNew});\n        }\n    }\n    \n    for (int x=0; x&lt;img.getWidth(); x++) {\n        for (int y=0; y&lt;img.getHeight(); y++) {\n            int x0 = Math.max(x-1, 0);\n            int x1 = x;\n            int x2 = Math.min(x+2, img.getWidth()-1);\n\n            short s0 = ((short[]) img.getRaster().getDataElements(x0, y, null))[0];\n            short s1 = ((short[]) img.getRaster().getDataElements(x1, y, null))[0];\n            short s2 = ((short[]) img.getRaster().getDataElements(x2, y, null))[0];\n\n            s0 += 32768; // ADDED LINE\n            s1 += 32768; // ADDED LINE\n            s2 += 32768; // ADDED LINE\n            \n            short sNew = (short) ((s0 + s1 + s2) / 3);\n            sNew -= 32768; // ADDED LINE\n\n            img.getRaster().setDataElements(x, y, new short[] {(short)sNew});\n        }\n    }\n    return img;\n}\n</code></pre>\n<p>Final image:</p>\n<p><a href=\"https://i.stack.imgur.com/HtYwc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HtYwc.png\" alt=\"Imageblurred with workaround algorithm\" /></a></p>\n<p>It seems to me like it has to do something with the Java <code>short</code> type being signed, while the type of the <code>BufferedImage</code> is unsigned, but I'm not yet completely sure about that. Maybe this helps solving your problem.</p>\n"}],"owner":{"account_id":3404,"reputation":485,"user_id":4912,"accept_rate":80,"display_name":"robcast"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74995441,"answer_count":2,"score":1,"last_activity_date":1680777405,"creation_date":1672081225,"question_id":74923247,"body_markdown":"Some operations on BufferedImages with 16 bit per channel result in images with random colored pixels. Is it possible to avoid this problem?\r\n\r\nI see the problem at least with\r\n* ConvolveOp\r\n* AffineTransformOp with INTERPOLATION_BICUBIC on images with alpha channel\r\n\r\nSample code:\r\n```java\r\nKernel kernel = new Kernel(2, 2, new float[] { 0.25f, 0.25f, 0.25f, 0.25f });\r\nConvolveOp blurOp = new ConvolveOp(kernel, ConvolveOp.EDGE_NO_OP, null);\r\nimg = blurOp.filter(img, null);\r\n```\r\nInput: [![sample image][1]][1] output image: [![sample with random colored pixels][2]][2]\r\n\r\nThe operations work fine when the image is 8 bit per channel.\r\n\r\nI tried to convert the image from 16 to 8 bit per channel while keeping the color profile using the following code but this also results in a garbled image.\r\n```java\r\nprivate static BufferedImage changeTo8BitDepth(BufferedImage bi) {\r\n    ColorModel cm = bi.getColorModel();\r\n    boolean hasAlpha = cm.hasAlpha();\r\n    boolean isAlphaPre = cm.isAlphaPremultiplied();\r\n    int transferType = DataBuffer.TYPE_BYTE;\r\n    int transparency = cm.getTransparency();\r\n    ColorSpace cs = cm.getColorSpace();\r\n    ColorModel newCm = new ComponentColorModel(cs, hasAlpha, isAlphaPre, transparency, transferType);\r\n    WritableRaster newRaster = newCm.createCompatibleWritableRaster(bi.getWidth(), bi.getHeight());\r\n    BufferedImage newBi = new BufferedImage(newCm, newRaster, isAlphaPre, null);\r\n    // convert using setData\r\n    newBi.setData(bi.getRaster());\r\n    return newBi;\r\n}\r\n```\r\n(It is possible to use ColorConvertOp to convert to an 8-bit sRGB image but I need the non-sRGB color profile.)\r\n\r\nI tested on Java 8, 11, and 17 on macOS and Linux. For full source code and images for tests see https://github.com/robcast/java-imaging-test (class Test16BitColor) \r\n\r\n  [1]: https://i.stack.imgur.com/yziBt.png\r\n  [2]: https://i.stack.imgur.com/V9pMT.png","title":"Some operations (Convolve, AffineTransform) on BufferedImage with 16 bit per channel result in garbled data","body":"<p>Some operations on BufferedImages with 16 bit per channel result in images with random colored pixels. Is it possible to avoid this problem?</p>\n<p>I see the problem at least with</p>\n<ul>\n<li>ConvolveOp</li>\n<li>AffineTransformOp with INTERPOLATION_BICUBIC on images with alpha channel</li>\n</ul>\n<p>Sample code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Kernel kernel = new Kernel(2, 2, new float[] { 0.25f, 0.25f, 0.25f, 0.25f });\nConvolveOp blurOp = new ConvolveOp(kernel, ConvolveOp.EDGE_NO_OP, null);\nimg = blurOp.filter(img, null);\n</code></pre>\n<p>Input: <a href=\"https://i.stack.imgur.com/yziBt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yziBt.png\" alt=\"sample image\" /></a> output image: <a href=\"https://i.stack.imgur.com/V9pMT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V9pMT.png\" alt=\"sample with random colored pixels\" /></a></p>\n<p>The operations work fine when the image is 8 bit per channel.</p>\n<p>I tried to convert the image from 16 to 8 bit per channel while keeping the color profile using the following code but this also results in a garbled image.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static BufferedImage changeTo8BitDepth(BufferedImage bi) {\n    ColorModel cm = bi.getColorModel();\n    boolean hasAlpha = cm.hasAlpha();\n    boolean isAlphaPre = cm.isAlphaPremultiplied();\n    int transferType = DataBuffer.TYPE_BYTE;\n    int transparency = cm.getTransparency();\n    ColorSpace cs = cm.getColorSpace();\n    ColorModel newCm = new ComponentColorModel(cs, hasAlpha, isAlphaPre, transparency, transferType);\n    WritableRaster newRaster = newCm.createCompatibleWritableRaster(bi.getWidth(), bi.getHeight());\n    BufferedImage newBi = new BufferedImage(newCm, newRaster, isAlphaPre, null);\n    // convert using setData\n    newBi.setData(bi.getRaster());\n    return newBi;\n}\n</code></pre>\n<p>(It is possible to use ColorConvertOp to convert to an 8-bit sRGB image but I need the non-sRGB color profile.)</p>\n<p>I tested on Java 8, 11, and 17 on macOS and Linux. For full source code and images for tests see <a href=\"https://github.com/robcast/java-imaging-test\" rel=\"nofollow noreferrer\">https://github.com/robcast/java-imaging-test</a> (class Test16BitColor)</p>\n"},{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":6507831,"reputation":2550,"user_id":5036171,"display_name":"G3nt_M3caj"},"score":0,"creation_date":1680777192,"post_id":75947575,"comment_id":133956910,"body_markdown":"The last screenshot have a checkbox &quot;Show Package Details&quot;, tick that then be sure you have installed locally the same version specified in build.gradle by compileSdkVersion","body":"The last screenshot have a checkbox &quot;Show Package Details&quot;, tick that then be sure you have installed locally the same version specified in build.gradle by compileSdkVersion"}],"answers":[{"tags":[],"owner":{"account_id":6507831,"reputation":2550,"user_id":5036171,"display_name":"G3nt_M3caj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680777340,"creation_date":1680777340,"answer_id":75948545,"question_id":75947575,"body_markdown":"“Android licenses status unknown” is a warning not an error that cause the mis-compiling.\r\n\r\nYou probably have a version of Java/Android SDK related to your project minor to minimum requested by current flutter project related to its Android part.\r\n\r\nAlso You need to take a version that is the same in compileSdkVersion inside build.gradle (folder ../android/app/src/ build.gradle)  and SDK version selected for current project as images shows.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oNrWM.png\r\n  [2]: https://i.stack.imgur.com/zscrX.png","title":"Flutter JNI error while running &quot;flutter doctor --android-licenses&quot;","body":"<p>“Android licenses status unknown” is a warning not an error that cause the mis-compiling.</p>\n<p>You probably have a version of Java/Android SDK related to your project minor to minimum requested by current flutter project related to its Android part.</p>\n<p>Also You need to take a version that is the same in compileSdkVersion inside build.gradle (folder ../android/app/src/ build.gradle)  and SDK version selected for current project as images shows.</p>\n<p><a href=\"https://i.stack.imgur.com/oNrWM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oNrWM.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/zscrX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zscrX.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22007421,"reputation":45,"user_id":16278171,"display_name":"Titan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75948545,"answer_count":1,"score":0,"last_activity_date":1680777340,"creation_date":1680771157,"question_id":75947575,"body_markdown":"I have installer flutter, android studio, android sdk and android sdk command line tools properly. Flutter doctor shows the following problems;\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I try to accept the licenses by running the command &quot;flutter doctor --android-licenses&quot;, the following JNI error occurs:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI have installed the command line tools via Android studio\r\n\r\n[![enter image description here][3]][3]\r\n\r\nHow do I fix this problem? Is this happening due to a java version mismatch?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ElYZI.png\r\n  [2]: https://i.stack.imgur.com/S0Azj.png\r\n  [3]: https://i.stack.imgur.com/IhboZ.png","title":"Flutter JNI error while running &quot;flutter doctor --android-licenses&quot;","body":"<p>I have installer flutter, android studio, android sdk and android sdk command line tools properly. Flutter doctor shows the following problems;</p>\n<p><a href=\"https://i.stack.imgur.com/ElYZI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ElYZI.png\" alt=\"enter image description here\" /></a></p>\n<p>When I try to accept the licenses by running the command &quot;flutter doctor --android-licenses&quot;, the following JNI error occurs:</p>\n<p><a href=\"https://i.stack.imgur.com/S0Azj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S0Azj.png\" alt=\"enter image description here\" /></a></p>\n<p>I have installed the command line tools via Android studio</p>\n<p><a href=\"https://i.stack.imgur.com/IhboZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IhboZ.png\" alt=\"enter image description here\" /></a></p>\n<p>How do I fix this problem? Is this happening due to a java version mismatch?</p>\n"},{"tags":["java","queue","netty"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680706673,"post_id":75940578,"comment_id":133944217,"body_markdown":"I don&#39;t know anythignabout netty, but I expect that several instances of `NewsAnalyserHandler` are being created.","body":"I don&#39;t know anythignabout netty, but I expect that several instances of <code>NewsAnalyserHandler</code> are being created."},{"owner":{"account_id":28223117,"reputation":1,"user_id":21573542,"display_name":"Logan Duff"},"score":0,"creation_date":1680775907,"post_id":75940578,"comment_id":133956607,"body_markdown":"@tgdavies you were exactly right, thank you so much for that pointer!","body":"@tgdavies you were exactly right, thank you so much for that pointer!"}],"answers":[{"tags":[],"owner":{"account_id":28223117,"reputation":1,"user_id":21573542,"display_name":"Logan Duff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680777046,"creation_date":1680777046,"answer_id":75948507,"question_id":75940578,"body_markdown":"Turns outs I didn&#39;t understand that Netty creates a `NewsAnalyserHandler` for each client that sending messages to the server.\r\n\r\nThis can be seen in [this log screenshot][1]. I ran 2 instances of the client and for each instance ran, Netty appears to create a `NewsAnalyserHandler`.\r\n\r\nMy solution was to declare a `LinkedBlockingQueue` in the `NewsAnalyser` class and pass that object as a constructor argument for the `NewsAnalyserHandler`.\r\n\r\nI have posted the modified code below.\r\n\r\n```java\r\npublic final class NewsAnalyser {\r\n\r\n    private static final int DEFAULT_PORT = 9001;\r\n    private static final Logger logger = LoggerFactory.getLogger(NewsAnalyser.class);\r\n\r\n    // Newly declared `LinkedBlockingQueue`\r\n    private static final BlockingQueue&lt;NewsItem&gt; newsItemQueue = new LinkedBlockingQueue&lt;&gt;();\r\n\r\n    private int port;\r\n\r\n    public NewsAnalyser(int port) {\r\n        this.port = port;\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        int port = (args.length &gt; 0) ? Integer.parseInt(args[0]) : DEFAULT_PORT;\r\n\r\n        new NewsAnalyser(port).run();\r\n\r\n    }\r\n\r\n    public void run() throws InterruptedException {\r\n\r\n        EventLoopGroup bossGroup = new NioEventLoopGroup();\r\n        EventLoopGroup workerGroup = new NioEventLoopGroup();\r\n\r\n        try {\r\n            ServerBootstrap b = new ServerBootstrap();\r\n            b.group(bossGroup, workerGroup)\r\n                    .channel(NioServerSocketChannel.class)\r\n                    .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\r\n\r\n                        @Override\r\n                        protected void initChannel(SocketChannel ch) throws Exception {\r\n                            ch.pipeline().addLast(new NewsItemByteDecoder()).addLast(new ServerResponseEncoder(),\r\n                                    // Passing the `LinkedBlockingQueue` in as a constructor.\r\n                                    new NewsAnalyserHandler(newsItemQueue));\r\n                        }\r\n\r\n                    })\r\n                    .option(ChannelOption.SO_BACKLOG, 128)\r\n                    .childOption(ChannelOption.SO_KEEPALIVE, true);\r\n\r\n        // start server\r\n          \r\n        } finally {\r\n            // shutdown server\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class NewsAnalyserHandler extends ChannelInboundHandlerAdapter {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(NewsAnalyserHandler.class);\r\n    private static final String OK_TO_SEND = &quot;200&quot;;\r\n    private static final String STOP_SENDING = &quot;507&quot;;\r\n\r\n    // Declare local `BlockingQueue&lt;T&gt;`\r\n    private BlockingQueue&lt;NewsItem&gt; newsItemQueue;\r\n\r\n    // Assign passed in `LinkedBlockingQueue`\r\n    public NewsAnalyserHandler(BlockingQueue&lt;NewsItem&gt; newsItemQueue) {\r\n        this.newsItemQueue = newsItemQueue;\r\n    }\r\n\r\n    @Override\r\n    public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception {\r\n\r\n        NewsItem request = (GeneratedNewsItem) msg;\r\n\r\n        if (request.getHeadline().equals(&quot;INIT&quot;) &amp;&amp; request.getPriorty() == -1) {\r\n            ctx.write(OK_TO_SEND);\r\n            return;\r\n        }\r\n\r\n        if (newsItemQueue.offer(request)) {\r\n            logger.info(&quot;Received news item: {}&quot;, request);\r\n            logger.info(&quot;Sending 200 response&quot;);\r\n            ctx.write(OK_TO_SEND);\r\n        }\r\n\r\n        logger.info(&quot;Number of messages: {}&quot;, newsItemQueue.size());\r\n        ReferenceCountUtil.release(msg);\r\n\r\n    }\r\n    \r\n    // Channel read complete &amp; exception handling\r\n\r\n}\r\n\r\n```\r\n\r\nAfter I made the modifications to the code, [this log screenshot][2] shows that the `NewsAnalyserHandler` now functions as expected.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/64C0v.png\r\n  [2]: https://i.stack.imgur.com/Fx3rI.png","title":"Seeking advice for receiving messages from multiple clients to single server","body":"<p>Turns outs I didn't understand that Netty creates a <code>NewsAnalyserHandler</code> for each client that sending messages to the server.</p>\n<p>This can be seen in <a href=\"https://i.stack.imgur.com/64C0v.png\" rel=\"nofollow noreferrer\">this log screenshot</a>. I ran 2 instances of the client and for each instance ran, Netty appears to create a <code>NewsAnalyserHandler</code>.</p>\n<p>My solution was to declare a <code>LinkedBlockingQueue</code> in the <code>NewsAnalyser</code> class and pass that object as a constructor argument for the <code>NewsAnalyserHandler</code>.</p>\n<p>I have posted the modified code below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class NewsAnalyser {\n\n    private static final int DEFAULT_PORT = 9001;\n    private static final Logger logger = LoggerFactory.getLogger(NewsAnalyser.class);\n\n    // Newly declared `LinkedBlockingQueue`\n    private static final BlockingQueue&lt;NewsItem&gt; newsItemQueue = new LinkedBlockingQueue&lt;&gt;();\n\n    private int port;\n\n    public NewsAnalyser(int port) {\n        this.port = port;\n    }\n\n    public static void main(String[] args) throws Exception {\n        int port = (args.length &gt; 0) ? Integer.parseInt(args[0]) : DEFAULT_PORT;\n\n        new NewsAnalyser(port).run();\n\n    }\n\n    public void run() throws InterruptedException {\n\n        EventLoopGroup bossGroup = new NioEventLoopGroup();\n        EventLoopGroup workerGroup = new NioEventLoopGroup();\n\n        try {\n            ServerBootstrap b = new ServerBootstrap();\n            b.group(bossGroup, workerGroup)\n                    .channel(NioServerSocketChannel.class)\n                    .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\n\n                        @Override\n                        protected void initChannel(SocketChannel ch) throws Exception {\n                            ch.pipeline().addLast(new NewsItemByteDecoder()).addLast(new ServerResponseEncoder(),\n                                    // Passing the `LinkedBlockingQueue` in as a constructor.\n                                    new NewsAnalyserHandler(newsItemQueue));\n                        }\n\n                    })\n                    .option(ChannelOption.SO_BACKLOG, 128)\n                    .childOption(ChannelOption.SO_KEEPALIVE, true);\n\n        // start server\n          \n        } finally {\n            // shutdown server\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class NewsAnalyserHandler extends ChannelInboundHandlerAdapter {\n\n    private static final Logger logger = LoggerFactory.getLogger(NewsAnalyserHandler.class);\n    private static final String OK_TO_SEND = &quot;200&quot;;\n    private static final String STOP_SENDING = &quot;507&quot;;\n\n    // Declare local `BlockingQueue&lt;T&gt;`\n    private BlockingQueue&lt;NewsItem&gt; newsItemQueue;\n\n    // Assign passed in `LinkedBlockingQueue`\n    public NewsAnalyserHandler(BlockingQueue&lt;NewsItem&gt; newsItemQueue) {\n        this.newsItemQueue = newsItemQueue;\n    }\n\n    @Override\n    public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception {\n\n        NewsItem request = (GeneratedNewsItem) msg;\n\n        if (request.getHeadline().equals(&quot;INIT&quot;) &amp;&amp; request.getPriorty() == -1) {\n            ctx.write(OK_TO_SEND);\n            return;\n        }\n\n        if (newsItemQueue.offer(request)) {\n            logger.info(&quot;Received news item: {}&quot;, request);\n            logger.info(&quot;Sending 200 response&quot;);\n            ctx.write(OK_TO_SEND);\n        }\n\n        logger.info(&quot;Number of messages: {}&quot;, newsItemQueue.size());\n        ReferenceCountUtil.release(msg);\n\n    }\n    \n    // Channel read complete &amp; exception handling\n\n}\n\n</code></pre>\n<p>After I made the modifications to the code, <a href=\"https://i.stack.imgur.com/Fx3rI.png\" rel=\"nofollow noreferrer\">this log screenshot</a> shows that the <code>NewsAnalyserHandler</code> now functions as expected.</p>\n"}],"owner":{"account_id":28223117,"reputation":1,"user_id":21573542,"display_name":"Logan Duff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680777046,"creation_date":1680704347,"question_id":75940578,"body_markdown":"I am developing a client-server application using Netty v4.1.90.Final. I am still very new to the framework and relatively new to Java and programming.\r\n\r\nThe client side consists of a mock news feed which produces a POJO containing an int and a string. The mock news feed connects to the server with a keep alive TCP connection, and sends the POJO periodically. The client will send an initiating object in order to receive a &quot;200&quot; status code response from the server, after which it will begin sending objects for the server to consume.\r\n\r\nThe server side consists of a news analyser, which will accept the POJO and analyse the string and int for an arbitrary set of conditions. The server receives the initiating object, discards it, and responds with a &quot;200&quot; status code. When an object is received, it is placed in a queue (in this case a `LinkedBlockingQueue`. A news item analyser object then pops the next object in the queue to analyse it.\r\n\r\n***NOTE:*** I am running both the client(s) and server on the same machine and connecting to the localhost on port 9001.\r\n\r\n### Expected Result:\r\nWhen I run 2 or more instances of the client, I expect that the incoming messages will be received by Netty and passed to my decoder and `NewsAnalyserHandler` (see below) in an asynchronous fashion. When they reach the `NewsAnalyserHandler`, I expect that the decoded messages will be appended to the message queue in the order that they were received by Netty and the queue size will increase proportionally. I expect that not object will be overwritten as it is appended to the queue.\r\n\r\n### Actual Result:\r\nWhen the decoded messages reach the `NewsAnalyserHandler`, they seem to overwrite eachother, depending on the order in which they were received. So if I receive 20 messages from 3 clients, I will end up with 20 messages in my queue, rather than the 3x20 messages I expect.\r\n\r\nThis overwriting behaviour can be seen in the log for the [News Analyser log](https://i.stack.imgur.com/FICzq.png).\r\n\r\n#### `NewsAnalyserHandler`\r\n```java\r\npublic class NewsAnalyserHandler extends ChannelInboundHandlerAdapter {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(NewsAnalyserHandler.class);\r\n    private static final String OK_TO_SEND = &quot;200&quot;;\r\n    private static final String STOP_SENDING = &quot;507&quot;;\r\n\r\n    private final BlockingQueue&lt;NewsItem&gt; messageQueue = new LinkedBlockingQueue&lt;&gt;();\r\n\r\n    @Override\r\n    public synchronized void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception {\r\n\r\n        NewsItem request = (GeneratedNewsItem) msg;\r\n\r\n        // If the NewsItem is the initiating object.\r\n        if (request.getHeadline().equals(&quot;INIT&quot;) &amp;&amp; request.getPriorty() == -1) {\r\n            ctx.write(OK_TO_SEND);\r\n            return;\r\n        }\r\n\r\n        // If the NewsItem can be inserted into the queue\r\n        if (messageQueue.offer(request)) {\r\n            logger.info(&quot;Received news item: {}&quot;, request);\r\n            logger.info(&quot;Sending 200 response&quot;);\r\n            ctx.write(OK_TO_SEND);\r\n        }\r\n\r\n        logger.info(&quot;Number of messages: {}&quot;, messageQueue.size());\r\n        ReferenceCountUtil.release(msg);\r\n\r\n    }\r\n\r\n    //...\r\n\r\n}\r\n```\r\n\r\nThe 2 decoders which I used:\r\n#### `NewsItemByteDecoder`\r\n```java\r\npublic class NewsItemByteDecoder extends ByteToMessageDecoder {\r\n\r\n    @Override\r\n    protected void decode(ChannelHandlerContext ctx, ByteBuf in, List&lt;Object&gt; out) throws Exception {\r\n        while (in.isReadable()) {\r\n            int strLen = in.readInt();\r\n            byte[] headlineBytes = new byte[strLen];\r\n            in.readBytes(headlineBytes);\r\n            String headline = new String(headlineBytes, StandardCharsets.UTF_8);\r\n            int priority = in.readInt();\r\n            NewsItem ni = GeneratedNewsItem.createNewsItem(priority, headline);\r\n            ctx.fireChannelRead(ni);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n#### `NewsItemDecoder`\r\n```java\r\npublic class NewsItemDecoder extends ReplayingDecoder&lt;NewsItem&gt; {\r\n\r\n    @Override\r\n    protected void decode(ChannelHandlerContext ctx, ByteBuf in, List&lt;Object&gt; out) throws Exception {\r\n        int strLen = in.readInt();\r\n        byte[] headlineBytes = new byte[strLen];\r\n        in.readBytes(headlineBytes);\r\n        String headline = new String(headlineBytes, StandardCharsets.UTF_8);\r\n        int priority = in.readInt();\r\n        NewsItem ni = GeneratedNewsItem.createNewsItem(priority, headline);\r\n        out.add(ni);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nMy bootstrapping is as follows:\r\n\r\n#### `NewsAnalyser` bootstrapping class\r\n```java\r\npublic final class NewsAnalyser {\r\n\r\n    private static final int DEFAULT_PORT = 9001;\r\n    private static final Logger logger = LoggerFactory.getLogger(NewsAnalyser.class);\r\n\r\n    private int port;\r\n\r\n    public NewsAnalyser(int port) {\r\n        this.port = port;\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        int port = (args.length &gt; 0) ? Integer.parseInt(args[0]) : DEFAULT_PORT;\r\n\r\n        new NewsAnalyser(port).run();\r\n\r\n    }\r\n\r\n    public void run() throws InterruptedException {\r\n\r\n        EventLoopGroup bossGroup = new NioEventLoopGroup();\r\n        EventLoopGroup workerGroup = new NioEventLoopGroup();\r\n\r\n        try {\r\n            ServerBootstrap b = new ServerBootstrap();\r\n            b.group(bossGroup, workerGroup)\r\n                    .channel(NioServerSocketChannel.class)\r\n                    .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\r\n\r\n                        @Override\r\n                        protected void initChannel(SocketChannel ch) throws Exception {\r\n                            ch.pipeline().addLast(new NewsItemByteDecoder())\r\n                                         .addLast(new ServerResponseEncoder(),\r\n                                                  new NewsAnalyserHandler());\r\n                        }\r\n\r\n                    })\r\n                    .option(ChannelOption.SO_BACKLOG, 128)\r\n                    .childOption(ChannelOption.SO_KEEPALIVE, true);\r\n\r\n            ChannelFuture future = b.bind(port).sync();\r\n            logger.info(&quot;Starting News Analyser on localhost:{}&quot;, port);\r\n            future.channel().closeFuture().sync();\r\n        } finally {\r\n            logger.info(&quot;Shutting down News Analyser on localhost:{}&quot;, port);\r\n            workerGroup.shutdownGracefully();\r\n            bossGroup.shutdownGracefully();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI have tried using both the `ReplayingDecoder&lt;T&gt;` and the `ByteToMessageDecoder`, with the exact same effect.\r\n\r\nI have also tried using a number of differing data structures for the  including `List`, `BlockingQueue` and `concurrentLinkedQueue`. I have also tried adding the `synchronized` keyword to the `channelRead()` method and I have tried executing the method body with a `ReentrantLock`, but to no avail.\r\nAll this effort tells me that I am not fundamentally understanding a concept for how the TCP traffic is received and processed by Netty. Or just as likely, I am not understanding a concept in Java for queues or synchronizing.\r\n\r\nAny advice for getting this application working as expected or even pointers to possibly similar posts would be greatly appreciated.","title":"Seeking advice for receiving messages from multiple clients to single server","body":"<p>I am developing a client-server application using Netty v4.1.90.Final. I am still very new to the framework and relatively new to Java and programming.</p>\n<p>The client side consists of a mock news feed which produces a POJO containing an int and a string. The mock news feed connects to the server with a keep alive TCP connection, and sends the POJO periodically. The client will send an initiating object in order to receive a &quot;200&quot; status code response from the server, after which it will begin sending objects for the server to consume.</p>\n<p>The server side consists of a news analyser, which will accept the POJO and analyse the string and int for an arbitrary set of conditions. The server receives the initiating object, discards it, and responds with a &quot;200&quot; status code. When an object is received, it is placed in a queue (in this case a <code>LinkedBlockingQueue</code>. A news item analyser object then pops the next object in the queue to analyse it.</p>\n<p><em><strong>NOTE:</strong></em> I am running both the client(s) and server on the same machine and connecting to the localhost on port 9001.</p>\n<h3>Expected Result:</h3>\n<p>When I run 2 or more instances of the client, I expect that the incoming messages will be received by Netty and passed to my decoder and <code>NewsAnalyserHandler</code> (see below) in an asynchronous fashion. When they reach the <code>NewsAnalyserHandler</code>, I expect that the decoded messages will be appended to the message queue in the order that they were received by Netty and the queue size will increase proportionally. I expect that not object will be overwritten as it is appended to the queue.</p>\n<h3>Actual Result:</h3>\n<p>When the decoded messages reach the <code>NewsAnalyserHandler</code>, they seem to overwrite eachother, depending on the order in which they were received. So if I receive 20 messages from 3 clients, I will end up with 20 messages in my queue, rather than the 3x20 messages I expect.</p>\n<p>This overwriting behaviour can be seen in the log for the <a href=\"https://i.stack.imgur.com/FICzq.png\" rel=\"nofollow noreferrer\">News Analyser log</a>.</p>\n<h4><code>NewsAnalyserHandler</code></h4>\n<pre class=\"lang-java prettyprint-override\"><code>public class NewsAnalyserHandler extends ChannelInboundHandlerAdapter {\n\n    private static final Logger logger = LoggerFactory.getLogger(NewsAnalyserHandler.class);\n    private static final String OK_TO_SEND = &quot;200&quot;;\n    private static final String STOP_SENDING = &quot;507&quot;;\n\n    private final BlockingQueue&lt;NewsItem&gt; messageQueue = new LinkedBlockingQueue&lt;&gt;();\n\n    @Override\n    public synchronized void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception {\n\n        NewsItem request = (GeneratedNewsItem) msg;\n\n        // If the NewsItem is the initiating object.\n        if (request.getHeadline().equals(&quot;INIT&quot;) &amp;&amp; request.getPriorty() == -1) {\n            ctx.write(OK_TO_SEND);\n            return;\n        }\n\n        // If the NewsItem can be inserted into the queue\n        if (messageQueue.offer(request)) {\n            logger.info(&quot;Received news item: {}&quot;, request);\n            logger.info(&quot;Sending 200 response&quot;);\n            ctx.write(OK_TO_SEND);\n        }\n\n        logger.info(&quot;Number of messages: {}&quot;, messageQueue.size());\n        ReferenceCountUtil.release(msg);\n\n    }\n\n    //...\n\n}\n</code></pre>\n<p>The 2 decoders which I used:</p>\n<h4><code>NewsItemByteDecoder</code></h4>\n<pre class=\"lang-java prettyprint-override\"><code>public class NewsItemByteDecoder extends ByteToMessageDecoder {\n\n    @Override\n    protected void decode(ChannelHandlerContext ctx, ByteBuf in, List&lt;Object&gt; out) throws Exception {\n        while (in.isReadable()) {\n            int strLen = in.readInt();\n            byte[] headlineBytes = new byte[strLen];\n            in.readBytes(headlineBytes);\n            String headline = new String(headlineBytes, StandardCharsets.UTF_8);\n            int priority = in.readInt();\n            NewsItem ni = GeneratedNewsItem.createNewsItem(priority, headline);\n            ctx.fireChannelRead(ni);\n        }\n    }\n\n}\n</code></pre>\n<h4><code>NewsItemDecoder</code></h4>\n<pre class=\"lang-java prettyprint-override\"><code>public class NewsItemDecoder extends ReplayingDecoder&lt;NewsItem&gt; {\n\n    @Override\n    protected void decode(ChannelHandlerContext ctx, ByteBuf in, List&lt;Object&gt; out) throws Exception {\n        int strLen = in.readInt();\n        byte[] headlineBytes = new byte[strLen];\n        in.readBytes(headlineBytes);\n        String headline = new String(headlineBytes, StandardCharsets.UTF_8);\n        int priority = in.readInt();\n        NewsItem ni = GeneratedNewsItem.createNewsItem(priority, headline);\n        out.add(ni);\n    }\n    \n}\n</code></pre>\n<p>My bootstrapping is as follows:</p>\n<h4><code>NewsAnalyser</code> bootstrapping class</h4>\n<pre class=\"lang-java prettyprint-override\"><code>public final class NewsAnalyser {\n\n    private static final int DEFAULT_PORT = 9001;\n    private static final Logger logger = LoggerFactory.getLogger(NewsAnalyser.class);\n\n    private int port;\n\n    public NewsAnalyser(int port) {\n        this.port = port;\n    }\n\n    public static void main(String[] args) throws Exception {\n        int port = (args.length &gt; 0) ? Integer.parseInt(args[0]) : DEFAULT_PORT;\n\n        new NewsAnalyser(port).run();\n\n    }\n\n    public void run() throws InterruptedException {\n\n        EventLoopGroup bossGroup = new NioEventLoopGroup();\n        EventLoopGroup workerGroup = new NioEventLoopGroup();\n\n        try {\n            ServerBootstrap b = new ServerBootstrap();\n            b.group(bossGroup, workerGroup)\n                    .channel(NioServerSocketChannel.class)\n                    .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\n\n                        @Override\n                        protected void initChannel(SocketChannel ch) throws Exception {\n                            ch.pipeline().addLast(new NewsItemByteDecoder())\n                                         .addLast(new ServerResponseEncoder(),\n                                                  new NewsAnalyserHandler());\n                        }\n\n                    })\n                    .option(ChannelOption.SO_BACKLOG, 128)\n                    .childOption(ChannelOption.SO_KEEPALIVE, true);\n\n            ChannelFuture future = b.bind(port).sync();\n            logger.info(&quot;Starting News Analyser on localhost:{}&quot;, port);\n            future.channel().closeFuture().sync();\n        } finally {\n            logger.info(&quot;Shutting down News Analyser on localhost:{}&quot;, port);\n            workerGroup.shutdownGracefully();\n            bossGroup.shutdownGracefully();\n        }\n    }\n}\n</code></pre>\n<p>I have tried using both the <code>ReplayingDecoder&lt;T&gt;</code> and the <code>ByteToMessageDecoder</code>, with the exact same effect.</p>\n<p>I have also tried using a number of differing data structures for the  including <code>List</code>, <code>BlockingQueue</code> and <code>concurrentLinkedQueue</code>. I have also tried adding the <code>synchronized</code> keyword to the <code>channelRead()</code> method and I have tried executing the method body with a <code>ReentrantLock</code>, but to no avail.\nAll this effort tells me that I am not fundamentally understanding a concept for how the TCP traffic is received and processed by Netty. Or just as likely, I am not understanding a concept in Java for queues or synchronizing.</p>\n<p>Any advice for getting this application working as expected or even pointers to possibly similar posts would be greatly appreciated.</p>\n"},{"tags":["java","math","simulation"],"comments":[{"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"score":2,"creation_date":1679301105,"post_id":75787958,"comment_id":133690141,"body_markdown":"Can you share the problem statement?","body":"Can you share the problem statement?"},{"owner":{"account_id":14139636,"reputation":45,"user_id":10214875,"display_name":"Sheharyar  Khan"},"score":0,"creation_date":1679301488,"post_id":75787958,"comment_id":133690214,"body_markdown":"you are given two non-negative integers num1 and num2.\n\nIn one operation, if num1 &gt;= num2, you must subtract num2 from num1, otherwise subtract num1 from num2.\n\nFor example, if num1 = 5 and num2 = 4, subtract num2 from num1, thus obtaining num1 = 1 and num2 = 4. However, if num1 = 4 and num2 = 5, after one operation, num1 = 4 and num2 = 1.\nReturn the number of operations required to make either num1 = 0 or num2 = 0.","body":"you are given two non-negative integers num1 and num2.  In one operation, if num1 &gt;= num2, you must subtract num2 from num1, otherwise subtract num1 from num2.  For example, if num1 = 5 and num2 = 4, subtract num2 from num1, thus obtaining num1 = 1 and num2 = 4. However, if num1 = 4 and num2 = 5, after one operation, num1 = 4 and num2 = 1. Return the number of operations required to make either num1 = 0 or num2 = 0."},{"owner":{"account_id":14139636,"reputation":45,"user_id":10214875,"display_name":"Sheharyar  Khan"},"score":1,"creation_date":1679301568,"post_id":75787958,"comment_id":133690234,"body_markdown":"Ok! let me do that","body":"Ok! let me do that"}],"answers":[{"tags":[],"owner":{"account_id":1382476,"reputation":531,"user_id":1315186,"accept_rate":64,"display_name":"EarlGrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679302153,"creation_date":1679301954,"answer_id":75788106,"question_id":75787958,"body_markdown":"The condition of your while loop is not correct.  \r\nYou have to do the algorithm as long as both numbers are greater than 0.  \r\nYour code runs as long as both numbers are 0 or more. This will never terminate, as this would mean, num1 and num2 had to become negative.  \r\nInstead you must end the loop, as soon as one number is 0.","title":"Count Operations to Obtain Zero","body":"<p>The condition of your while loop is not correct.<br />\nYou have to do the algorithm as long as both numbers are greater than 0.<br />\nYour code runs as long as both numbers are 0 or more. This will never terminate, as this would mean, num1 and num2 had to become negative.<br />\nInstead you must end the loop, as soon as one number is 0.</p>\n"},{"tags":[],"owner":{"account_id":28063577,"reputation":1,"user_id":21437311,"display_name":"bug"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679302007,"creation_date":1679302007,"answer_id":75788115,"question_id":75787958,"body_markdown":"you two parameter will to statisfy you condition when they run\r\n\r\n","title":"Count Operations to Obtain Zero","body":"<p>you two parameter will to statisfy you condition when they run</p>\n"},{"tags":[],"owner":{"account_id":14139636,"reputation":45,"user_id":10214875,"display_name":"Sheharyar  Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679635177,"creation_date":1679635177,"answer_id":75830259,"question_id":75787958,"body_markdown":"Here is the correct answer. Here both numbers have to be greater than 0. so I put the condition while (num1&gt;0 &amp;&amp; num2&gt;0). &lt;br&gt;\r\nHere the code for the same &lt;br&gt;\r\n\r\n    class Solution {\r\n    public int countOperations(int num1, int num2) {\r\n        int count =0;\r\n        while(num1!=0 &amp;&amp; num2!=0){\r\n            if(num1&gt;=num2){\r\n                num1=num1-num2;\r\n                count++;\r\n            }else{\r\n                num2=num2-num1;\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n}","title":"Count Operations to Obtain Zero","body":"<p>Here is the correct answer. Here both numbers have to be greater than 0. so I put the condition while (num1&gt;0 &amp;&amp; num2&gt;0). <br>\nHere the code for the same <br></p>\n<pre><code>class Solution {\npublic int countOperations(int num1, int num2) {\n    int count =0;\n    while(num1!=0 &amp;&amp; num2!=0){\n        if(num1&gt;=num2){\n            num1=num1-num2;\n            count++;\n        }else{\n            num2=num2-num1;\n            count++;\n        }\n    }\n    return count;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":14139636,"reputation":45,"user_id":10214875,"display_name":"Sheharyar  Khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1680777018,"creation_date":1679301017,"question_id":75787958,"body_markdown":"Given two non-negative integers num1 and num2.\r\n\r\nIn an one operation, if num1 &gt;= num2, you must subtract num2 from num1, otherwise subtract num1 from num2.\r\n\r\nFor example, if num1 = 5 and num2 = 4, subtract num2 from num1, thus obtaining num1 = 1 and num2 = 4. However, if num1 = 4 and num2 = 5, after one operation, num1 = 4 and num2 = 1.\r\n\r\n``Return the number of operations required to make either num1 = 0 or num2 = 0.``\r\n\r\nI am trying to do this question on leetcode. I take a count=0 then take a while loop eventually do the basic logic to count no of operation in which one the given reduces to 0. But why I am getting the time limit exceded when I try to run the following code for the same\r\n\r\n\r\n#Here is my code for the same\r\n```\r\nclass Solution {\r\n    public int countOperations(int num1, int num2) {\r\n        int count =0;\r\n        while(num1&gt;=0 &amp;&amp; num2&gt;=0){\r\n            if(num1&gt;=num2){\r\n                num1=num1-num2;\r\n                count++;\r\n            }else{\r\n                num2=num2-num1;\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n}\r\n\r\n","title":"Count Operations to Obtain Zero","body":"<p>Given two non-negative integers num1 and num2.</p>\n<p>In an one operation, if num1 &gt;= num2, you must subtract num2 from num1, otherwise subtract num1 from num2.</p>\n<p>For example, if num1 = 5 and num2 = 4, subtract num2 from num1, thus obtaining num1 = 1 and num2 = 4. However, if num1 = 4 and num2 = 5, after one operation, num1 = 4 and num2 = 1.</p>\n<p><code>Return the number of operations required to make either num1 = 0 or num2 = 0.</code></p>\n<p>I am trying to do this question on leetcode. I take a count=0 then take a while loop eventually do the basic logic to count no of operation in which one the given reduces to 0. But why I am getting the time limit exceded when I try to run the following code for the same</p>\n<p>#Here is my code for the same</p>\n<pre><code>class Solution {\n    public int countOperations(int num1, int num2) {\n        int count =0;\n        while(num1&gt;=0 &amp;&amp; num2&gt;=0){\n            if(num1&gt;=num2){\n                num1=num1-num2;\n                count++;\n            }else{\n                num2=num2-num1;\n                count++;\n            }\n        }\n        return count;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1680724948,"post_id":75943311,"comment_id":133948837,"body_markdown":"You don&#39;t see anything in `test2.log` because you didn&#39;t attach the `DATACAPTURE` appender to any logger. Log message propagate in two directions: the appenders directly attached to the logger (logger config to be precise) and to the parent logger and its appenders (unless `additivity=&quot;false&quot;`).","body":"You don&#39;t see anything in <code>test2.log</code> because you didn&#39;t attach the <code>DATACAPTURE</code> appender to any logger. Log message propagate in two directions: the appenders directly attached to the logger (logger config to be precise) and to the parent logger and its appenders (unless <code>additivity=&quot;false&quot;</code>)."},{"owner":{"account_id":5977652,"reputation":394,"user_id":4697928,"display_name":"Abishek Stephen"},"score":0,"creation_date":1680724957,"post_id":75943311,"comment_id":133948842,"body_markdown":"The XML you shared is not valid. Remove the redundant double quote here  filePattern=&quot;${LOG_DIR}/test1.%i.log.gz&quot;&quot; and try again","body":"The XML you shared is not valid. Remove the redundant double quote here  filePattern=&quot;${LOG_DIR}/test1.%i.log.gz&quot;&quot; and try again"}],"owner":{"account_id":19769258,"reputation":11,"user_id":14476565,"display_name":"Manohar Nr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680776934,"creation_date":1680722763,"question_id":75943311,"body_markdown":"I have two RollingFile Appenders in the below XML config file. Whenever I run the application, I can only see the data in the `test1.log` file (appender reference details (```name=&quot;dataCapture&quot;```)), and I&#39;m not able to see any data inside `test2.log` file. I&#39;m completely new log4j2.\r\n\r\nIs it always required to pass appenders reference name to `Loggers` block then only logs will be printed on the file?\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n\r\n&lt;Configuration status=&quot;WARN&quot;&gt;\r\n&#160;&#160;&#160; &lt;Appenders&gt;\r\n       \r\n&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;RollingFile name=&quot;dataCapture&quot; fileName=&quot;${sys:catalina.base}/logs/test1.log&quot; filePattern=&quot;${LOG_DIR}/test1.%i.log.gz&quot;&quot;&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;PatternLayout&gt;\r\n              &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-5p %m%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n\t    &lt;Policies&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;TimeBasedTriggeringPolicy /&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot; /&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;30&quot; /&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/RollingFile&gt;\r\n\r\n\r\n&#160;       &lt;RollingFile name=&quot;DATACAPTURE&quot; fileName=&quot;${sys:catalina.base}/logs/test2.log&quot; filePattern=&quot;${LOG_DIR}/test2.%i.log.gz&quot;&quot;&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;PatternLayout&gt;\r\n              &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-5p %m%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n\t      &lt;Policies&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;TimeBasedTriggeringPolicy /&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot; /&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;30&quot; /&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/RollingFile&gt;\r\n&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; \r\n&#160;&#160;&#160; &lt;/Appenders&gt;\r\n&#160;\r\n&#160;&#160;&#160; &lt;Loggers&gt;\r\n&#160;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;logger name=&quot;com.rest.db.fetch&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;appender-ref ref=&quot;dataCapture&quot; /&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/logger&gt;\r\n&#160;\r\n\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Root level=&quot;info&quot;&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;AppenderRef ref=&quot;dataCapture&quot;  /&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/Root&gt;\r\n&#160;\r\n&#160;&#160;&#160; &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```","title":"Appenders in the Log4j2 xml configuration","body":"<p>I have two RollingFile Appenders in the below XML config file. Whenever I run the application, I can only see the data in the <code>test1.log</code> file (appender reference details (<code>name=&quot;dataCapture&quot;</code>)), and I'm not able to see any data inside <code>test2.log</code> file. I'm completely new log4j2.</p>\n<p>Is it always required to pass appenders reference name to <code>Loggers</code> block then only logs will be printed on the file?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n\n&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt;\n       \n \n        &lt;RollingFile name=&quot;dataCapture&quot; fileName=&quot;${sys:catalina.base}/logs/test1.log&quot; filePattern=&quot;${LOG_DIR}/test1.%i.log.gz&quot;&quot;&gt;\n            &lt;PatternLayout&gt;\n              &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-5p %m%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy /&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;30&quot; /&gt;\n        &lt;/RollingFile&gt;\n\n\n        &lt;RollingFile name=&quot;DATACAPTURE&quot; fileName=&quot;${sys:catalina.base}/logs/test2.log&quot; filePattern=&quot;${LOG_DIR}/test2.%i.log.gz&quot;&quot;&gt;\n            &lt;PatternLayout&gt;\n              &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-5p %m%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n          &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy /&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;30&quot; /&gt;\n        &lt;/RollingFile&gt;\n \n        \n    &lt;/Appenders&gt;\n \n    &lt;Loggers&gt;\n \n        &lt;logger name=&quot;com.rest.db.fetch&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;dataCapture&quot; /&gt;\n        &lt;/logger&gt;\n \n\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;dataCapture&quot;  /&gt;\n        &lt;/Root&gt;\n \n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1680747153,"post_id":75945254,"comment_id":133951931,"body_markdown":"You should probably start by asking what is a jar file... it&#39;s a zip file with a tiny bit of metadata. If your program has dependencies, then you either include them in your jar file (a &quot;fatjar&quot;) or you must point to them on your CLASSPATH or your program will not work. Perhaps you only have transitive dependencies. Those are only needed at build time. Not runtime.","body":"You should probably start by asking what is a jar file... it&#39;s a zip file with a tiny bit of metadata. If your program has dependencies, then you either include them in your jar file (a &quot;fatjar&quot;) or you must point to them on your CLASSPATH or your program will not work. Perhaps you only have transitive dependencies. Those are only needed at build time. Not runtime."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1680747155,"post_id":75945254,"comment_id":133951932,"body_markdown":"A JAR file is fundamentally just a ZIP file. The class files in a JAR file are found and loaded at run-time on an as-needed basis. As for your &quot;bare-bones program&quot;, did you use any third-party libraries? Because if you only used code from the standard library then there is likely no difference between the shaded and non-shaded JAR file. The standard library is part of the JDK/JRE. Though note that even those class files are found and loaded at run-time on an as-needed basis.","body":"A JAR file is fundamentally just a ZIP file. The class files in a JAR file are found and loaded at run-time on an as-needed basis. As for your &quot;bare-bones program&quot;, did you use any third-party libraries? Because if you only used code from the standard library then there is likely no difference between the shaded and non-shaded JAR file. The standard library is part of the JDK/JRE. Though note that even those class files are found and loaded at run-time on an as-needed basis."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1680747330,"post_id":75945254,"comment_id":133951952,"body_markdown":"And the &quot;class-path&quot; (also see &quot;module-path&quot; in Java 9+) is simply where the built-in class loaders will look when asked to load a class.","body":"And the &quot;class-path&quot; (also see &quot;module-path&quot; in Java 9+) is simply where the built-in class loaders will look when asked to load a class."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1680749907,"post_id":75945254,"comment_id":133952216,"body_markdown":"I think the concept of &quot;static&quot; and &quot;dynamic&quot; libraries in this context might not be appropriate. For example, you might make use of library (jar), which is required to be available at compile and run time. Now &quot;technically&quot; the third party library is &quot;loaded&quot; by the class loader dynamically, so it&#39;s not &quot;included in&quot; or &quot;compiled into&quot; the code, instead, if you either end up with multiple jars (which need a manifest in the core jar to determine which libraries need to be included) or a &quot;fat&quot; jar, which basically just throws all the classes into a single jar","body":"I think the concept of &quot;static&quot; and &quot;dynamic&quot; libraries in this context might not be appropriate. For example, you might make use of library (jar), which is required to be available at compile and run time. Now &quot;technically&quot; the third party library is &quot;loaded&quot; by the class loader dynamically, so it&#39;s not &quot;included in&quot; or &quot;compiled into&quot; the code, instead, if you either end up with multiple jars (which need a manifest in the core jar to determine which libraries need to be included) or a &quot;fat&quot; jar, which basically just throws all the classes into a single jar"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1680749960,"post_id":75945254,"comment_id":133952222,"body_markdown":"You can also load Jars dynamically at runtime through the use of a custom classloader.  This is a great starting point for &quot;plugins&quot;, but that&#39;s a whole other complicated discussion","body":"You can also load Jars dynamically at runtime through the use of a custom classloader.  This is a great starting point for &quot;plugins&quot;, but that&#39;s a whole other complicated discussion"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1680751261,"post_id":75945254,"comment_id":133952351,"body_markdown":"And if you&#39;re using JNA or JNI to invoke native code, there is also `LD_LIBRARY_PATH` which the JDK will use to load shared libraries dynamically.","body":"And if you&#39;re using JNA or JNI to invoke native code, there is also <code>LD_LIBRARY_PATH</code> which the JDK will use to load shared libraries dynamically."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680752629,"creation_date":1680752629,"answer_id":75945638,"question_id":75945254,"body_markdown":"&quot;Linking&quot; isn&#39;t the term used by the java ecosystem. At any rate, everything in java links dynamically at all times.\r\n\r\n&gt; But, I have one jar and it runs fine!\r\n\r\nSure; it&#39;s still dynamically linked, it&#39;s just that everything that needs to be loaded is in that jar file.\r\n\r\n&gt; So how does it work?\r\n\r\nA class is loaded by the ClassLoader and you can write your own. They can get it from absolutely anywhere, including &#39;generate it on the fly&#39;, &#39;download live&#39;, or &#39;get it from a database&#39; if you want.\r\n\r\nThe standard classloader (because `java` itself needs to load your main classes, and it can&#39;t use some custom classloader because how do we load that classloader then? Chicken-and-egg problem) - is the one used by most apps without introducing their own.\r\n\r\nThe standard loader knows where java&#39;s own stuff is out of the box. On moden JVMs, its in all those jmod files in your java installation directly. Java just knows where these are, you don&#39;t need to put those dirs in your path, pass them to the java executable, or otherwise worry about them.\r\n\r\nThat leaves your own classes. The standard system launches with a &#39;class path&#39;, which consists of one of 3 things:\r\n\r\n* A path that resolves to a directory on disk.\r\n* A path that resolves to a jar file on disk.\r\n* A path that ends in `*` literally (do not let bash replace that, so, single-quote it on linux), with a dir in front of it, e.g. `/com/foo/libs/*` - that will result in java expanding to including every jar file in that dir (but not recursively - not subdirs) on the classpath.\r\n\r\nJava doesn&#39;t do anything with these and doesn&#39;t load a bunch of classes on bootup at all.\r\n\r\nInstead, it tries to run your main class which it can&#39;t find in the bootclasspath, so we need to load a class (just that one class). This is done by rewriting the Fully Qualified Class Name, e.g. `com.foo.MyApp` to a path form (`/com/foo/MyApp.class`). Then, it looks in every classpath for that resource. For file paths, that&#39;s appended, for jars, that resource is looked for in the jar.\r\n\r\nFirst hit wins and that is loaded. Running that class usually ends up requiring more classes to be loaded, which are resolved in the same way.\r\n\r\n## ... so where is this classpath thing defined then?\r\n\r\nDepends on how you load java. There are 4 ways to run `java.exe`:\r\n\r\n* Pass a __java__ file (source) file to it. There is no classpath, this works only if that java file can run on its own using only itself and bootclasspath.\r\n* Just write out the name of a class, e.g. `java com.foo.Bar`. This means the environment variable `CLASSPATH` is used.\r\n* Use the `-cp` param: `java -cp &#39;libs/*&#39;:myapp.jar com.foo.Bar` - well, you passed the classpath, that&#39;s what is used.\r\n* Use the `-jar` param: `java -jar myapp.jar` - then __`-cp` and CLASSPATH are completely ignored!__ - and instead the file `META-INF/MANIFEST.MF` from inside the jar is opened, the key/value pair `Class-Path` from inside is read out. This classpath (which, if it doesn&#39;t exist, is taken as a blank string) gets the jar you pass prepended to it, and then that is the classpath. The `Class-Path` entry is space separated and relative __to the dir the jar you are running is in__, so it just doesn&#39;t matter in which working dir you are when you `java -jar` it.\r\n\r\n## So how should I deploy my jars?\r\n\r\nThe java ecosystem tends to shade. They are all wrong. Shading is rarely correct. It&#39;s slow and requires transfering far more data than is needed.\r\n\r\nInstead, add `Class-Path` (all build tools can do it). For example, have:\r\n\r\n```\r\n/myapp/myapp.jar\r\n/myapp/libs/lib1.jar\r\n/myapp/libs/lib2.jar\r\n```\r\n\r\nAnd have `Class-Path: libs/lib1.jar libs/lib2.jar` in the manifest (again a thing all build systems can do for you). Then, that jar will &#39;just work&#39;. Even if you are in `/home/foo` and run `java -jar /myapp/myapp.jar`. Replace the `lib` jars only you have a new version to deploy, no need to replace them otherwise.\r\n\r\nshading is nice when deploying to systems you don&#39;t control, except, that doesn&#39;t work either: You can&#39;t/should not ask end users to install java, __you__ have to do that, with an installer, for example jlink + jpackage. The JRE has been mostly dead as a concept for a decade.\r\n\r\n","title":"Need help understanding the specifics of external libraries","body":"<p>&quot;Linking&quot; isn't the term used by the java ecosystem. At any rate, everything in java links dynamically at all times.</p>\n<blockquote>\n<p>But, I have one jar and it runs fine!</p>\n</blockquote>\n<p>Sure; it's still dynamically linked, it's just that everything that needs to be loaded is in that jar file.</p>\n<blockquote>\n<p>So how does it work?</p>\n</blockquote>\n<p>A class is loaded by the ClassLoader and you can write your own. They can get it from absolutely anywhere, including 'generate it on the fly', 'download live', or 'get it from a database' if you want.</p>\n<p>The standard classloader (because <code>java</code> itself needs to load your main classes, and it can't use some custom classloader because how do we load that classloader then? Chicken-and-egg problem) - is the one used by most apps without introducing their own.</p>\n<p>The standard loader knows where java's own stuff is out of the box. On moden JVMs, its in all those jmod files in your java installation directly. Java just knows where these are, you don't need to put those dirs in your path, pass them to the java executable, or otherwise worry about them.</p>\n<p>That leaves your own classes. The standard system launches with a 'class path', which consists of one of 3 things:</p>\n<ul>\n<li>A path that resolves to a directory on disk.</li>\n<li>A path that resolves to a jar file on disk.</li>\n<li>A path that ends in <code>*</code> literally (do not let bash replace that, so, single-quote it on linux), with a dir in front of it, e.g. <code>/com/foo/libs/*</code> - that will result in java expanding to including every jar file in that dir (but not recursively - not subdirs) on the classpath.</li>\n</ul>\n<p>Java doesn't do anything with these and doesn't load a bunch of classes on bootup at all.</p>\n<p>Instead, it tries to run your main class which it can't find in the bootclasspath, so we need to load a class (just that one class). This is done by rewriting the Fully Qualified Class Name, e.g. <code>com.foo.MyApp</code> to a path form (<code>/com/foo/MyApp.class</code>). Then, it looks in every classpath for that resource. For file paths, that's appended, for jars, that resource is looked for in the jar.</p>\n<p>First hit wins and that is loaded. Running that class usually ends up requiring more classes to be loaded, which are resolved in the same way.</p>\n<h2>... so where is this classpath thing defined then?</h2>\n<p>Depends on how you load java. There are 4 ways to run <code>java.exe</code>:</p>\n<ul>\n<li>Pass a <strong>java</strong> file (source) file to it. There is no classpath, this works only if that java file can run on its own using only itself and bootclasspath.</li>\n<li>Just write out the name of a class, e.g. <code>java com.foo.Bar</code>. This means the environment variable <code>CLASSPATH</code> is used.</li>\n<li>Use the <code>-cp</code> param: <code>java -cp 'libs/*':myapp.jar com.foo.Bar</code> - well, you passed the classpath, that's what is used.</li>\n<li>Use the <code>-jar</code> param: <code>java -jar myapp.jar</code> - then <strong><code>-cp</code> and CLASSPATH are completely ignored!</strong> - and instead the file <code>META-INF/MANIFEST.MF</code> from inside the jar is opened, the key/value pair <code>Class-Path</code> from inside is read out. This classpath (which, if it doesn't exist, is taken as a blank string) gets the jar you pass prepended to it, and then that is the classpath. The <code>Class-Path</code> entry is space separated and relative <strong>to the dir the jar you are running is in</strong>, so it just doesn't matter in which working dir you are when you <code>java -jar</code> it.</li>\n</ul>\n<h2>So how should I deploy my jars?</h2>\n<p>The java ecosystem tends to shade. They are all wrong. Shading is rarely correct. It's slow and requires transfering far more data than is needed.</p>\n<p>Instead, add <code>Class-Path</code> (all build tools can do it). For example, have:</p>\n<pre><code>/myapp/myapp.jar\n/myapp/libs/lib1.jar\n/myapp/libs/lib2.jar\n</code></pre>\n<p>And have <code>Class-Path: libs/lib1.jar libs/lib2.jar</code> in the manifest (again a thing all build systems can do for you). Then, that jar will 'just work'. Even if you are in <code>/home/foo</code> and run <code>java -jar /myapp/myapp.jar</code>. Replace the <code>lib</code> jars only you have a new version to deploy, no need to replace them otherwise.</p>\n<p>shading is nice when deploying to systems you don't control, except, that doesn't work either: You can't/should not ask end users to install java, <strong>you</strong> have to do that, with an installer, for example jlink + jpackage. The JRE has been mostly dead as a concept for a decade.</p>\n"}],"owner":{"account_id":28227678,"reputation":1,"user_id":21577391,"display_name":"Baybird"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680776476,"creation_date":1680746266,"question_id":75945254,"body_markdown":"I&#39;m a beginner Java developer seeking to know the specifics of how libraries work in Java.\r\n\r\nDo external and internal libraries get linked statically or dynamically?\r\n\r\nI ask because I&#39;ve seen projects that have dependencies but build only one .jar file as output. This would suggest that the dependencies are loaded statically and yet I&#39;ve read conflicting information that states that external libraries are loaded by the JVM using something called &quot;ClassPath.&quot;\r\n\r\nI compiled a small bare-bones program with maven shade plugin and got an original version and a shaded version. My understanding is that the shaded version is the one with all dependencies included within the file itself so it should be the only one that can run stand-alone. The original should need the dependencies in their expected locations in order for it to run and yet it runs just fine anywhere. I&#39;ve been researching for a few hours now and haven&#39;t found anything on this matter. If I could get a clear explanation of how libraries are linked when projects are built and how the JVM handles these dependencies, I would be ecstatic.\r\n","title":"Need help understanding the specifics of external libraries","body":"<p>I'm a beginner Java developer seeking to know the specifics of how libraries work in Java.</p>\n<p>Do external and internal libraries get linked statically or dynamically?</p>\n<p>I ask because I've seen projects that have dependencies but build only one .jar file as output. This would suggest that the dependencies are loaded statically and yet I've read conflicting information that states that external libraries are loaded by the JVM using something called &quot;ClassPath.&quot;</p>\n<p>I compiled a small bare-bones program with maven shade plugin and got an original version and a shaded version. My understanding is that the shaded version is the one with all dependencies included within the file itself so it should be the only one that can run stand-alone. The original should need the dependencies in their expected locations in order for it to run and yet it runs just fine anywhere. I've been researching for a few hours now and haven't found anything on this matter. If I could get a clear explanation of how libraries are linked when projects are built and how the JVM handles these dependencies, I would be ecstatic.</p>\n"},{"tags":["java","jvm","heap-memory","classloader","bytecode"],"comments":[{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":1,"creation_date":1680726256,"post_id":75943449,"comment_id":133949149,"body_markdown":"Could you please provide [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example), so it&#39;s possible to run your code","body":"Could you please provide <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a>, so it&#39;s possible to run your code"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1680727126,"post_id":75943449,"comment_id":133949314,"body_markdown":"I think you&#39;ll have to setup your custom classloader as system default (https://stackoverflow.com/questions/6366288/how-to-change-default-class-loader-in-java `-Djava.system.class.loader=...`) for that to work. Any time you load a class implicitly by doing `new SomeClass()` it would by default ask the system class loader (see `Core.class.getClassLoader()` vs `clazz.getClassLoader()`) which has no idea that there&#39;s another class loader that could load the class","body":"I think you&#39;ll have to setup your custom classloader as system default (<a href=\"https://stackoverflow.com/questions/6366288/how-to-change-default-class-loader-in-java\" title=\"how to change default class loader in java\">stackoverflow.com/questions/6366288/&hellip;</a> <code>-Djava.system.class.loader=...</code>) for that to work. Any time you load a class implicitly by doing <code>new SomeClass()</code> it would by default ask the system class loader (see <code>Core.class.getClassLoader()</code> vs <code>clazz.getClassLoader()</code>) which has no idea that there&#39;s another class loader that could load the class"},{"owner":{"account_id":17582022,"reputation":138,"user_id":12755627,"display_name":"micartey"},"score":0,"creation_date":1680772600,"post_id":75943449,"comment_id":133955888,"body_markdown":"That might work, but I would like to stay away from java arguments","body":"That might work, but I would like to stay away from java arguments"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1680767270,"creation_date":1680767270,"answer_id":75947041,"question_id":75943449,"body_markdown":"Classes are not visible across the entire JVM and class loaders are not omnipotent entities knowing every existing class in the JVM. That’s why they have a parent loader to delegate to. Different class loaders may even define (unrelated) classes with the same name.\r\n\r\nAs [the JVM specification] puts it:\r\n\r\n&gt; After creation, a class or interface is determined not by its name alone, but by a pair: its binary name ([&#167;4.2.1]) and its defining loader.\r\n\r\nAlso, the assumption that classes always stay forever is not correct. If a (custom) class loader and all of its defined classes become unreachable, they might get garbage collected.\r\n\r\nFrom [the Java Language Specification]:\r\n\r\n&gt; An implementation of the Java programming language may *unload* classes.\r\n&gt; \r\n&gt; A class or interface may be unloaded if and only if its defining class loader may be reclaimed by the garbage collector as discussed in [&#167;12.6].\r\n\r\nSo your current class loader can not see the classes defined by your custom class loader. You can not reverse the parent relationship of these two loaders when the implementation of your custom class loader is defined by your current loader.\r\n\r\nIf you want to inject the definition of a class into your current class loading context, the simplest approach is\r\n\r\n```java\r\nMethodHandles.lookup().defineClass(bytecode);\r\n```\r\n\r\nwhere `bytecode` is a `byte[]` array containing the definiton in the class file format, just like your custom class loader would need.\r\n\r\nSee also the API of [`MethodHandles.lookup()`] and [`MethodHandles.Lookup.defineClass(…)`].\r\n\r\nTo be able to use `Core core = new Core();` in the source code after this statement, there must be a definition of the class available at compile-time, but that’s not different to your class loader approach.\r\n\r\nYou have to be aware of the potential problems of the class not being available before executing the statement that injects it. Consider [“When is a Java Class loaded?”] and also https://stackoverflow.com/q/41965457/2711488 for a practical example\r\n\r\n[the JVM specification]: https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-5.html#jvms-5.3-600 (JVMS, &#167;5.3. Creation and Loading, at end of section)\r\n[&#167;4.2.1]: https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-4.html#jvms-4.2.1 (4.2.1. Binary Class and Interface Names)\r\n[the Java Language Specification]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.7 (JLS, &#167; 12.7. Unloading of Classes and Interfaces)\r\n[&#167;12.6]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.6 (12.6. Finalization of Class Instances)\r\n[`MethodHandles.lookup()`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodHandles.html#lookup()\r\n[`MethodHandles.Lookup.defineClass(…)`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineClass(byte%5B%5D)\r\n[“When is a Java Class loaded?”]: https://stackoverflow.com/a/34263422/2711488","title":"Java ClassLoader loading class only for its own context?","body":"<p>Classes are not visible across the entire JVM and class loaders are not omnipotent entities knowing every existing class in the JVM. That’s why they have a parent loader to delegate to. Different class loaders may even define (unrelated) classes with the same name.</p>\n<p>As <a href=\"https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-5.html#jvms-5.3-600\" rel=\"nofollow noreferrer\" title=\"JVMS, §5.3. Creation and Loading, at end of section\">the JVM specification</a> puts it:</p>\n<blockquote>\n<p>After creation, a class or interface is determined not by its name alone, but by a pair: its binary name (<a href=\"https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-4.html#jvms-4.2.1\" rel=\"nofollow noreferrer\" title=\"4.2.1. Binary Class and Interface Names\">§4.2.1</a>) and its defining loader.</p>\n</blockquote>\n<p>Also, the assumption that classes always stay forever is not correct. If a (custom) class loader and all of its defined classes become unreachable, they might get garbage collected.</p>\n<p>From <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.7\" rel=\"nofollow noreferrer\" title=\"JLS, § 12.7. Unloading of Classes and Interfaces\">the Java Language Specification</a>:</p>\n<blockquote>\n<p>An implementation of the Java programming language may <em>unload</em> classes.</p>\n<p>A class or interface may be unloaded if and only if its defining class loader may be reclaimed by the garbage collector as discussed in <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.6\" rel=\"nofollow noreferrer\" title=\"12.6. Finalization of Class Instances\">§12.6</a>.</p>\n</blockquote>\n<p>So your current class loader can not see the classes defined by your custom class loader. You can not reverse the parent relationship of these two loaders when the implementation of your custom class loader is defined by your current loader.</p>\n<p>If you want to inject the definition of a class into your current class loading context, the simplest approach is</p>\n<pre class=\"lang-java prettyprint-override\"><code>MethodHandles.lookup().defineClass(bytecode);\n</code></pre>\n<p>where <code>bytecode</code> is a <code>byte[]</code> array containing the definiton in the class file format, just like your custom class loader would need.</p>\n<p>See also the API of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodHandles.html#lookup()\" rel=\"nofollow noreferrer\"><code>MethodHandles.lookup()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineClass(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>MethodHandles.Lookup.defineClass(…)</code></a>.</p>\n<p>To be able to use <code>Core core = new Core();</code> in the source code after this statement, there must be a definition of the class available at compile-time, but that’s not different to your class loader approach.</p>\n<p>You have to be aware of the potential problems of the class not being available before executing the statement that injects it. Consider <a href=\"https://stackoverflow.com/a/34263422/2711488\">“When is a Java Class loaded?”</a> and also <a href=\"https://stackoverflow.com/q/41965457/2711488\">Does the JVM throw if an unused class is absent?</a> for a practical example</p>\n"}],"owner":{"account_id":17582022,"reputation":138,"user_id":12755627,"display_name":"micartey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75947041,"answer_count":1,"score":1,"last_activity_date":1680776456,"creation_date":1680724012,"question_id":75943449,"body_markdown":"I have some strange edge case behavior I want to discuss and solve with you. And as a heads-up: Please do not ask why I want to do something :)\r\n\r\nAs far as my understanding goes, the JVM loads classes into the heap once they are needed (or forced to load) and once they are loaded, they stay there... That&#39;s also the reason why you have to overwrite bytecode though instrumentation to change e.g. a method of a class at runtime once it&#39;s loaded.\r\n\r\n**Now to my problem:**\r\n\r\nI have written a custom ClassLoader that works fine and is also able to load the class. I verified that by running:\r\n\r\n```java\r\nCustomClassLoader classLoader = new CustomClassLoader();\r\nClass&lt;?&gt; clazz = classLoader.loadClass(&quot;me.micartey.test.Core&quot;);\r\nSystem.out.println(clazz);\r\nCore core = new Core();\r\n```\r\n\r\nThe output is following:\r\n\r\n```\r\nclass me.micartey.test.core.Core\r\njava.lang.NoClassDefFoundError: me/micartey/test/core/Core ...\r\n```\r\n\r\nSo my suspicion is that classloader may not &quot;share&quot; all classes in the heap... :thinking: (Reflection works but not my goal)\r\n\r\nI then tried to set the parent of the current classloader as the parent of my custom classloader and then my custom classloader as the parent of the current classloader. However, this results in a StackOverflowException when trying to load classes that my classloader uses\r\n\r\nPreferably, I don&#39;t even need to call `loadClass` and it is able to resolve the class without any reflection etc.","title":"Java ClassLoader loading class only for its own context?","body":"<p>I have some strange edge case behavior I want to discuss and solve with you. And as a heads-up: Please do not ask why I want to do something :)</p>\n<p>As far as my understanding goes, the JVM loads classes into the heap once they are needed (or forced to load) and once they are loaded, they stay there... That's also the reason why you have to overwrite bytecode though instrumentation to change e.g. a method of a class at runtime once it's loaded.</p>\n<p><strong>Now to my problem:</strong></p>\n<p>I have written a custom ClassLoader that works fine and is also able to load the class. I verified that by running:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CustomClassLoader classLoader = new CustomClassLoader();\nClass&lt;?&gt; clazz = classLoader.loadClass(&quot;me.micartey.test.Core&quot;);\nSystem.out.println(clazz);\nCore core = new Core();\n</code></pre>\n<p>The output is following:</p>\n<pre><code>class me.micartey.test.core.Core\njava.lang.NoClassDefFoundError: me/micartey/test/core/Core ...\n</code></pre>\n<p>So my suspicion is that classloader may not &quot;share&quot; all classes in the heap... :thinking: (Reflection works but not my goal)</p>\n<p>I then tried to set the parent of the current classloader as the parent of my custom classloader and then my custom classloader as the parent of the current classloader. However, this results in a StackOverflowException when trying to load classes that my classloader uses</p>\n<p>Preferably, I don't even need to call <code>loadClass</code> and it is able to resolve the class without any reflection etc.</p>\n"},{"tags":["java","selenium","webdriver","selenium-chromedriver","webdriverwait"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":1,"creation_date":1626708434,"post_id":68443027,"comment_id":120959948,"body_markdown":"I don&#39;t understand what&#39;s happening with the newer version of Selenium&#39;s  - which version you are referring ?","body":"I don&#39;t understand what&#39;s happening with the newer version of Selenium&#39;s  - which version you are referring ?"},{"owner":{"account_id":8545263,"reputation":959,"user_id":6404012,"accept_rate":50,"display_name":"Eitel Dagnin"},"score":0,"creation_date":1626708530,"post_id":68443027,"comment_id":120959992,"body_markdown":"@cruisepandey Oh right! Probably a good idea to include that lol.. I have updated my question with the version I am using. :) But for reference here, I am using `4.0.0-beta-3`","body":"@cruisepandey Oh right! Probably a good idea to include that lol.. I have updated my question with the version I am using. :) But for reference here, I am using <code>4.0.0-beta-3</code>"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1626708569,"post_id":68443027,"comment_id":120960011,"body_markdown":"I hope you do not mix WebDriverWait with implicitlyWait and have no some kind of global WebDriverWait  mixed with local WebDriverWait ?","body":"I hope you do not mix WebDriverWait with implicitlyWait and have no some kind of global WebDriverWait  mixed with local WebDriverWait ?"},{"owner":{"account_id":8545263,"reputation":959,"user_id":6404012,"accept_rate":50,"display_name":"Eitel Dagnin"},"score":1,"creation_date":1626708661,"post_id":68443027,"comment_id":120960051,"body_markdown":"@Prophet Thank you for the reply. I do not have any other waits that I have explicitly implemented. Up to the point of the `WebDriverWait` implementation, there&#39;s nothing else that&#39;s been defined/specified.","body":"@Prophet Thank you for the reply. I do not have any other waits that I have explicitly implemented. Up to the point of the <code>WebDriverWait</code> implementation, there&#39;s nothing else that&#39;s been defined/specified."},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1626708688,"post_id":68443027,"comment_id":120960064,"body_markdown":"It&#39;s says it&#39;s beat version, you cannot rely on beta can you ?","body":"It&#39;s says it&#39;s beat version, you cannot rely on beta can you ?"},{"owner":{"account_id":8545263,"reputation":959,"user_id":6404012,"accept_rate":50,"display_name":"Eitel Dagnin"},"score":2,"creation_date":1626708811,"post_id":68443027,"comment_id":120960111,"body_markdown":"@cruisepandey 100% agree. It&#39;s definitely a thought that crossed my mind, however there&#39;s always the chance I have done/implemented something incorrectly and that could have been what&#39;s going wrong. So rather than assume, I&#39;d just ask for help and see if the community is able to advise. :)","body":"@cruisepandey 100% agree. It&#39;s definitely a thought that crossed my mind, however there&#39;s always the chance I have done/implemented something incorrectly and that could have been what&#39;s going wrong. So rather than assume, I&#39;d just ask for help and see if the community is able to advise. :)"},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1626711694,"post_id":68443027,"comment_id":120961328,"body_markdown":"@EitelDagnin : I acknowledge.","body":"@EitelDagnin : I acknowledge."}],"owner":{"account_id":8545263,"reputation":959,"user_id":6404012,"accept_rate":50,"display_name":"Eitel Dagnin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1834,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1680776414,"creation_date":1626708001,"question_id":68443027,"body_markdown":"I don&#39;t understand what&#39;s happening with the newer version of Selenium&#39;s `WebDriverWait` but as far as I can see, it&#39;s not behaving the way I&#39;d expect it to.\r\n\r\nI have tried all the versions from `4.0.0-beta-1` - `4.0.0-beta-4` and I have just updated to `4.0.0-beta-4` as my preferred version.\r\n\r\nI use these methods in my own functions:\r\n\r\n    isPresent\r\n    isVisible\r\n    isClickable\r\n\r\nEach of them have their respective constructors that they call:\r\n\r\n    WebDriverWait Presence = new WebDriverWait(webDriver, Duration.ofSeconds(1L));\r\n    WebDriverWait Visible = new WebDriverWait(webDriver, Duration.ofMillis(1L));\r\n    WebDriverWait Clickable = new WebDriverWait(webDriver, Duration.ofMillis(1L));\r\n\r\nA couple of things that I found:\r\n\r\n1. The old constructors would accept their time durations provided as type `Long` and in seconds\r\n2. The new constructors accept their time durations provided as type `Duration` \r\n3. `Duration` has it&#39;s own methods which accept type `Long`\r\n\r\nPreviously, you could write it like this:\r\n\r\n    WebDriverWait Presence = new WebDriverWait(webDriver, 1L);\r\n\r\nNow, it looks like this (*as shown above*):\r\n\r\n    WebDriverWait Presence = new WebDriverWait(webDriver, Duration.ofSeconds(1L));\r\n\r\nThe only difference being how you define the wait.\r\n\r\nWith using `Duration`, you can specify the &quot;type&quot;:\r\n\r\n    Duration.ofDays(1L)\r\n    Duration.ofHours(1L)\r\n    Duration.ofMinutes(1L)\r\n    Duration.ofSeconds(1L)\r\n    Duration.ofMillis(1L)\r\n    Duration.ofNanos(1L)\r\n\r\nIn my above code example, I define the `WebDriverWait` using the `Duration.ofSeconds(1L)`, meaning it should wait for just 1 second, however, it waits for *10 seconds instead*.\r\n\r\nIn fact, it waits for 10 seconds whether it&#39;s set to `Duration.ofMillis` or `Duration.ofNanos` too.\r\n\r\nSo, either I really don&#39;t understand the implementation correctly, or there&#39;s something I am missing, or there&#39;s an issue with the actual `WebDriverWait` class.\r\n\r\nIt&#39;s also worth mentioning, it doesn&#39;t wait 10 seconds whether the `WebElement` exists or not, it only waits the full duration if the `WebElement` does NOT exist.\r\n\r\nHoping someone can assist with this.\r\n","title":"Java Selenium WebDriverWait waits longer than specified wait","body":"<p>I don't understand what's happening with the newer version of Selenium's <code>WebDriverWait</code> but as far as I can see, it's not behaving the way I'd expect it to.</p>\n<p>I have tried all the versions from <code>4.0.0-beta-1</code> - <code>4.0.0-beta-4</code> and I have just updated to <code>4.0.0-beta-4</code> as my preferred version.</p>\n<p>I use these methods in my own functions:</p>\n<pre><code>isPresent\nisVisible\nisClickable\n</code></pre>\n<p>Each of them have their respective constructors that they call:</p>\n<pre><code>WebDriverWait Presence = new WebDriverWait(webDriver, Duration.ofSeconds(1L));\nWebDriverWait Visible = new WebDriverWait(webDriver, Duration.ofMillis(1L));\nWebDriverWait Clickable = new WebDriverWait(webDriver, Duration.ofMillis(1L));\n</code></pre>\n<p>A couple of things that I found:</p>\n<ol>\n<li>The old constructors would accept their time durations provided as type <code>Long</code> and in seconds</li>\n<li>The new constructors accept their time durations provided as type <code>Duration</code></li>\n<li><code>Duration</code> has it's own methods which accept type <code>Long</code></li>\n</ol>\n<p>Previously, you could write it like this:</p>\n<pre><code>WebDriverWait Presence = new WebDriverWait(webDriver, 1L);\n</code></pre>\n<p>Now, it looks like this (<em>as shown above</em>):</p>\n<pre><code>WebDriverWait Presence = new WebDriverWait(webDriver, Duration.ofSeconds(1L));\n</code></pre>\n<p>The only difference being how you define the wait.</p>\n<p>With using <code>Duration</code>, you can specify the &quot;type&quot;:</p>\n<pre><code>Duration.ofDays(1L)\nDuration.ofHours(1L)\nDuration.ofMinutes(1L)\nDuration.ofSeconds(1L)\nDuration.ofMillis(1L)\nDuration.ofNanos(1L)\n</code></pre>\n<p>In my above code example, I define the <code>WebDriverWait</code> using the <code>Duration.ofSeconds(1L)</code>, meaning it should wait for just 1 second, however, it waits for <em>10 seconds instead</em>.</p>\n<p>In fact, it waits for 10 seconds whether it's set to <code>Duration.ofMillis</code> or <code>Duration.ofNanos</code> too.</p>\n<p>So, either I really don't understand the implementation correctly, or there's something I am missing, or there's an issue with the actual <code>WebDriverWait</code> class.</p>\n<p>It's also worth mentioning, it doesn't wait 10 seconds whether the <code>WebElement</code> exists or not, it only waits the full duration if the <code>WebElement</code> does NOT exist.</p>\n<p>Hoping someone can assist with this.</p>\n"},{"tags":["java","xml","dom","xpath"],"answers":[{"tags":[],"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680776407,"creation_date":1680776407,"answer_id":75948430,"question_id":75946499,"body_markdown":"You don&#39;t need to extract the actual namespace. If you get your header element from your XPath expression, the namespace is still there. You only have to serialize the node to string.\r\n\r\nHere is a complete example:\r\n\r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Node;\r\n    import org.xml.sax.InputSource;\r\n\r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.transform.*;\r\n    import javax.xml.transform.dom.DOMSource;\r\n    import javax.xml.transform.stream.StreamResult;\r\n    import javax.xml.xpath.*;\r\n    import java.io.StringReader;\r\n    import java.io.StringWriter;\r\n\r\n    public class XmlExample {\r\n      private static final String xmlWithoutNs = &quot;&lt;inventory&gt;\\n&quot; +\r\n        &quot;&lt;header&gt;\\n&quot; +\r\n        &quot;    &lt;id&gt;123&lt;/id&gt;\\n&quot; +\r\n        &quot;&lt;/header&gt;\\n&quot; +\r\n        &quot; &lt;book&gt;\\n&quot; +\r\n        &quot;    &lt;title&gt;Snow Crash&lt;/title&gt;\\n&quot; +\r\n        &quot;    &lt;author&gt;Neal Stephenson&lt;/author&gt;\\n&quot; +\r\n        &quot;    &lt;publisher&gt;Spectra&lt;/publisher&gt;\\n&quot; +\r\n        &quot;    &lt;isbn&gt;0553380958&lt;/isbn&gt;\\n&quot; +\r\n        &quot;    &lt;price&gt;14.95&lt;/price&gt;\\n&quot; +\r\n        &quot; &lt;/book&gt;\\n&quot; +\r\n        &quot;&lt;/inventory&gt;&quot;;\r\n\r\n      private static final String xmlWithNs = &quot;&lt;Category xmlns:in=\\&quot;uri.category.xsd.in.01\\&quot;&gt;\\n&quot; +\r\n        &quot;&lt;in:type&gt;books&lt;/in:type&gt;\\n&quot; +\r\n        &quot;&lt;h:header xmlns:h=\\&quot;uri.header.xsd.01\\&quot;&gt;\\n&quot; +\r\n        &quot;    &lt;h:id&gt;123&lt;/h:id&gt;\\n&quot; +\r\n        &quot;    &lt;h:memId&gt;123&lt;/h:memId&gt;\\n&quot; +\r\n        &quot;&lt;/h:header&gt;\\n&quot; +\r\n        &quot; &lt;b:book xmlns:b=\\&quot;uri.books.xsd.01\\&quot;&gt;\\n&quot; +\r\n        &quot;    &lt;b:title&gt;Snow Crash&lt;/b:title&gt;\\n&quot; +\r\n        &quot;    &lt;b:author&gt;Neal Stephenson&lt;/b:author&gt;\\n&quot; +\r\n        &quot;    &lt;b:publisher&gt;Spectra&lt;/b:publisher&gt;\\n&quot; +\r\n        &quot;    &lt;b:isbn&gt;0553380958&lt;/b:isbn&gt;\\n&quot; +\r\n        &quot;    &lt;b:price&gt;14.95&lt;/b:price&gt;\\n&quot; +\r\n        &quot; &lt;/b:book&gt;\\n&quot; +\r\n        &quot;&lt;/Category&gt;&quot;;\r\n\r\n      private static String xmlToString(Node node) throws TransformerException {\r\n        TransformerFactory fac = TransformerFactory.newInstance();\r\n        Transformer transformer;\r\n        transformer = fac.newTransformer();\r\n        transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n        StringWriter writer = new StringWriter();\r\n        transformer.transform(new DOMSource(node), new StreamResult(writer));\r\n        return writer.toString();\r\n      }\r\n\r\n      private static String getHeaderAsString(Document doc) throws XPathExpressionException, TransformerException {\r\n        XPath xpath = XPathFactory.newInstance().newXPath();\r\n        XPathExpression expr = xpath.compile(&quot;/*/*[local-name() = &#39;header&#39;]&quot;);\r\n        Node node = (Node) expr.evaluate(doc, XPathConstants.NODE);\r\n        return xmlToString(node);\r\n      }\r\n\r\n      public static void main(String[] args) throws Exception {\r\n        DocumentBuilderFactory fac = DocumentBuilderFactory.newInstance();\r\n        fac.setNamespaceAware(true);\r\n        DocumentBuilder builder = fac.newDocumentBuilder();\r\n        Document docWithNs = builder.parse(new InputSource(new StringReader(xmlWithNs)));\r\n        System.out.println(&quot;Example with Namespace:&quot;);\r\n        System.out.println(getHeaderAsString(docWithNs));\r\n\r\n        Document docWithoutNs = builder.parse(new InputSource(new StringReader(xmlWithoutNs)));\r\n        System.out.println(&quot;\\nExample without Namespace:&quot;);\r\n        System.out.println(getHeaderAsString(docWithoutNs));\r\n      }\r\n    }\r\n\r\nThis is the output:\r\n\r\n    Example with Namespace:\r\n    &lt;h:header xmlns:h=&quot;uri.header.xsd.01&quot;&gt;\r\n        &lt;h:id&gt;123&lt;/h:id&gt;\r\n        &lt;h:memId&gt;123&lt;/h:memId&gt;\r\n    &lt;/h:header&gt;\r\n\r\n    Example without Namespace:\r\n    &lt;header&gt;\r\n        &lt;id&gt;123&lt;/id&gt;\r\n    &lt;/header&gt;\r\n","title":"How to get entire tag as String from an XML","body":"<p>You don't need to extract the actual namespace. If you get your header element from your XPath expression, the namespace is still there. You only have to serialize the node to string.</p>\n<p>Here is a complete example:</p>\n<pre><code>import org.w3c.dom.Document;\nimport org.w3c.dom.Node;\nimport org.xml.sax.InputSource;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.transform.*;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\nimport javax.xml.xpath.*;\nimport java.io.StringReader;\nimport java.io.StringWriter;\n\npublic class XmlExample {\n  private static final String xmlWithoutNs = &quot;&lt;inventory&gt;\\n&quot; +\n    &quot;&lt;header&gt;\\n&quot; +\n    &quot;    &lt;id&gt;123&lt;/id&gt;\\n&quot; +\n    &quot;&lt;/header&gt;\\n&quot; +\n    &quot; &lt;book&gt;\\n&quot; +\n    &quot;    &lt;title&gt;Snow Crash&lt;/title&gt;\\n&quot; +\n    &quot;    &lt;author&gt;Neal Stephenson&lt;/author&gt;\\n&quot; +\n    &quot;    &lt;publisher&gt;Spectra&lt;/publisher&gt;\\n&quot; +\n    &quot;    &lt;isbn&gt;0553380958&lt;/isbn&gt;\\n&quot; +\n    &quot;    &lt;price&gt;14.95&lt;/price&gt;\\n&quot; +\n    &quot; &lt;/book&gt;\\n&quot; +\n    &quot;&lt;/inventory&gt;&quot;;\n\n  private static final String xmlWithNs = &quot;&lt;Category xmlns:in=\\&quot;uri.category.xsd.in.01\\&quot;&gt;\\n&quot; +\n    &quot;&lt;in:type&gt;books&lt;/in:type&gt;\\n&quot; +\n    &quot;&lt;h:header xmlns:h=\\&quot;uri.header.xsd.01\\&quot;&gt;\\n&quot; +\n    &quot;    &lt;h:id&gt;123&lt;/h:id&gt;\\n&quot; +\n    &quot;    &lt;h:memId&gt;123&lt;/h:memId&gt;\\n&quot; +\n    &quot;&lt;/h:header&gt;\\n&quot; +\n    &quot; &lt;b:book xmlns:b=\\&quot;uri.books.xsd.01\\&quot;&gt;\\n&quot; +\n    &quot;    &lt;b:title&gt;Snow Crash&lt;/b:title&gt;\\n&quot; +\n    &quot;    &lt;b:author&gt;Neal Stephenson&lt;/b:author&gt;\\n&quot; +\n    &quot;    &lt;b:publisher&gt;Spectra&lt;/b:publisher&gt;\\n&quot; +\n    &quot;    &lt;b:isbn&gt;0553380958&lt;/b:isbn&gt;\\n&quot; +\n    &quot;    &lt;b:price&gt;14.95&lt;/b:price&gt;\\n&quot; +\n    &quot; &lt;/b:book&gt;\\n&quot; +\n    &quot;&lt;/Category&gt;&quot;;\n\n  private static String xmlToString(Node node) throws TransformerException {\n    TransformerFactory fac = TransformerFactory.newInstance();\n    Transformer transformer;\n    transformer = fac.newTransformer();\n    transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\n    StringWriter writer = new StringWriter();\n    transformer.transform(new DOMSource(node), new StreamResult(writer));\n    return writer.toString();\n  }\n\n  private static String getHeaderAsString(Document doc) throws XPathExpressionException, TransformerException {\n    XPath xpath = XPathFactory.newInstance().newXPath();\n    XPathExpression expr = xpath.compile(&quot;/*/*[local-name() = 'header']&quot;);\n    Node node = (Node) expr.evaluate(doc, XPathConstants.NODE);\n    return xmlToString(node);\n  }\n\n  public static void main(String[] args) throws Exception {\n    DocumentBuilderFactory fac = DocumentBuilderFactory.newInstance();\n    fac.setNamespaceAware(true);\n    DocumentBuilder builder = fac.newDocumentBuilder();\n    Document docWithNs = builder.parse(new InputSource(new StringReader(xmlWithNs)));\n    System.out.println(&quot;Example with Namespace:&quot;);\n    System.out.println(getHeaderAsString(docWithNs));\n\n    Document docWithoutNs = builder.parse(new InputSource(new StringReader(xmlWithoutNs)));\n    System.out.println(&quot;\\nExample without Namespace:&quot;);\n    System.out.println(getHeaderAsString(docWithoutNs));\n  }\n}\n</code></pre>\n<p>This is the output:</p>\n<pre><code>Example with Namespace:\n&lt;h:header xmlns:h=&quot;uri.header.xsd.01&quot;&gt;\n    &lt;h:id&gt;123&lt;/h:id&gt;\n    &lt;h:memId&gt;123&lt;/h:memId&gt;\n&lt;/h:header&gt;\n\nExample without Namespace:\n&lt;header&gt;\n    &lt;id&gt;123&lt;/id&gt;\n&lt;/header&gt;\n</code></pre>\n"}],"owner":{"account_id":28157967,"reputation":15,"user_id":21518402,"display_name":"sita"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75948430,"answer_count":1,"score":1,"last_activity_date":1680776407,"creation_date":1680762631,"question_id":75946499,"body_markdown":"The problem here is that I am getting different xml&#39;s with different namespaces everytime.\r\n\r\nI have to read one tag as string and pass it to another service.\r\n\r\nLets say I am getting this xml one time\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\r\n&lt;inventory&gt;\r\n&lt;header&gt;\r\n    &lt;id&gt;123&lt;/id&gt;\r\n&lt;/header&gt;\r\n &lt;book&gt;\r\n    &lt;title&gt;Snow Crash&lt;/title&gt;\r\n    &lt;author&gt;Neal Stephenson&lt;/author&gt;\r\n    &lt;publisher&gt;Spectra&lt;/publisher&gt;\r\n    &lt;isbn&gt;0553380958&lt;/isbn&gt;\r\n    &lt;price&gt;14.95&lt;/price&gt;\r\n &lt;/book&gt;\r\n&lt;/inventory&gt;\r\n```\r\n\r\nAnd I am also getting xml like this. The namespaces will be different. Its just for example.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\r\n&lt;Category xmlns:in=&quot;uri.category.xsd.in.01&quot;&gt;\r\n&lt;in:type&gt;books&lt;/in:type&gt;\r\n&lt;h:header xmlns:h=&quot;uri.header.xsd.01&quot;&gt;\r\n    &lt;h:id&gt;123&lt;/h:id&gt;\r\n    &lt;h:memId&gt;123&lt;/h:memId&gt;\r\n&lt;/h:header&gt;\r\n &lt;b:book xmlns:b=&quot;uri.books.xsd.01&quot;&gt;\r\n    &lt;b:title&gt;Snow Crash&lt;/b:title&gt;\r\n    &lt;b:author&gt;Neal Stephenson&lt;/b:author&gt;\r\n    &lt;b:publisher&gt;Spectra&lt;/b:publisher&gt;\r\n    &lt;b:isbn&gt;0553380958&lt;/b:isbn&gt;\r\n    &lt;b:price&gt;14.95&lt;/b:price&gt;\r\n &lt;/b:book&gt;\r\n&lt;/Category&gt;\r\n```\r\n\r\nNOTE : Every time I will get different xml&#39;s some with namespaces some without. But only thing common will be the two tags. Like in the above example header and book.\r\n\r\nif I get first xml the I will send like this to the another service\r\n\r\n```\r\n&lt;header&gt;\r\n    &lt;id&gt;123&lt;/id&gt;\r\n&lt;/header&gt;\r\n```\r\n\r\nIf i get the second xml as input then I am supposed to send this to the another service\r\n\r\n```\r\n&lt;h:header xmlns:h=&quot;uri.header.xsd.01&quot;&gt;\r\n    &lt;h:id&gt;123&lt;/h:id&gt;\r\n    &lt;h:memId&gt;123&lt;/h:memId&gt;\r\n&lt;/h:header&gt;\r\n```\r\n\r\nNote: This namespace is only for example. Now I am getting this namespace . I might get xmls with different namespaces only the header and book tag will be common not the namespace. Below might change for different xmls.\r\n\r\n```\r\nxmlns:h=&quot;uri.header.xsd.01&quot;\r\n```\r\n\r\nI have solved this somehow using DOM parser and xpath.\r\n\r\nI have written a method to get the namespace like in above case it is &quot;h:&quot; and doing some manipulation on string like below. I want to know if there is any better way to do this please.\r\n\r\n```\r\npublic static String getNamespace(String s, Document doc) throws Exception{\r\n    String ns=&quot;&quot;;\r\n    XPath xpath = XPathFactory.newInstance().newXPath();\r\n    NodeList nodeList = (NodeList) xpath.evaluate(s,doc, XPathConstants.NODESET);\r\n    Element element = (Element) nodeList.item(0);\r\n    String elementwithNS = element.toString().substring(1,element.toString().length()-1);\r\n    String namespace[]=elementwithNS.split(&quot;:&quot;);\r\n    if(namespace.length==3)\r\n        ns= namespace[0]+&quot;:&quot;;\r\n    return ns;\r\n}\r\n\r\nns_Header = getNamespace(&quot;//*[local-name()=&#39;header&#39;]&quot;);//I get the namespace as h:if it is empty then empty string \r\nString header_close_tag = &quot;&lt;/&quot;+ns_Header+&quot;header&gt;&quot;\r\nString header = StringUtils.substringBetween(xml,&quot;header&quot;,header_close_tag);\r\nString header_tag = &quot;&lt;&quot;+ns_Header+&quot;header&quot;+header+header_close_tag;\r\n```\r\n\r\nI also want to read header tag values like id and memId. i am able to do that without namepsace but when namespace added that too the namespace keeps changing with different xmls. I am not sure how to read the tag values. Don&#39;t want to use JAXB since the XML I am using is quite big and I will end up creating multiple POJO based on different XMLs.","title":"How to get entire tag as String from an XML","body":"<p>The problem here is that I am getting different xml's with different namespaces everytime.</p>\n<p>I have to read one tag as string and pass it to another service.</p>\n<p>Lets say I am getting this xml one time</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\n&lt;inventory&gt;\n&lt;header&gt;\n    &lt;id&gt;123&lt;/id&gt;\n&lt;/header&gt;\n &lt;book&gt;\n    &lt;title&gt;Snow Crash&lt;/title&gt;\n    &lt;author&gt;Neal Stephenson&lt;/author&gt;\n    &lt;publisher&gt;Spectra&lt;/publisher&gt;\n    &lt;isbn&gt;0553380958&lt;/isbn&gt;\n    &lt;price&gt;14.95&lt;/price&gt;\n &lt;/book&gt;\n&lt;/inventory&gt;\n</code></pre>\n<p>And I am also getting xml like this. The namespaces will be different. Its just for example.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\n&lt;Category xmlns:in=&quot;uri.category.xsd.in.01&quot;&gt;\n&lt;in:type&gt;books&lt;/in:type&gt;\n&lt;h:header xmlns:h=&quot;uri.header.xsd.01&quot;&gt;\n    &lt;h:id&gt;123&lt;/h:id&gt;\n    &lt;h:memId&gt;123&lt;/h:memId&gt;\n&lt;/h:header&gt;\n &lt;b:book xmlns:b=&quot;uri.books.xsd.01&quot;&gt;\n    &lt;b:title&gt;Snow Crash&lt;/b:title&gt;\n    &lt;b:author&gt;Neal Stephenson&lt;/b:author&gt;\n    &lt;b:publisher&gt;Spectra&lt;/b:publisher&gt;\n    &lt;b:isbn&gt;0553380958&lt;/b:isbn&gt;\n    &lt;b:price&gt;14.95&lt;/b:price&gt;\n &lt;/b:book&gt;\n&lt;/Category&gt;\n</code></pre>\n<p>NOTE : Every time I will get different xml's some with namespaces some without. But only thing common will be the two tags. Like in the above example header and book.</p>\n<p>if I get first xml the I will send like this to the another service</p>\n<pre><code>&lt;header&gt;\n    &lt;id&gt;123&lt;/id&gt;\n&lt;/header&gt;\n</code></pre>\n<p>If i get the second xml as input then I am supposed to send this to the another service</p>\n<pre><code>&lt;h:header xmlns:h=&quot;uri.header.xsd.01&quot;&gt;\n    &lt;h:id&gt;123&lt;/h:id&gt;\n    &lt;h:memId&gt;123&lt;/h:memId&gt;\n&lt;/h:header&gt;\n</code></pre>\n<p>Note: This namespace is only for example. Now I am getting this namespace . I might get xmls with different namespaces only the header and book tag will be common not the namespace. Below might change for different xmls.</p>\n<pre><code>xmlns:h=&quot;uri.header.xsd.01&quot;\n</code></pre>\n<p>I have solved this somehow using DOM parser and xpath.</p>\n<p>I have written a method to get the namespace like in above case it is &quot;h:&quot; and doing some manipulation on string like below. I want to know if there is any better way to do this please.</p>\n<pre><code>public static String getNamespace(String s, Document doc) throws Exception{\n    String ns=&quot;&quot;;\n    XPath xpath = XPathFactory.newInstance().newXPath();\n    NodeList nodeList = (NodeList) xpath.evaluate(s,doc, XPathConstants.NODESET);\n    Element element = (Element) nodeList.item(0);\n    String elementwithNS = element.toString().substring(1,element.toString().length()-1);\n    String namespace[]=elementwithNS.split(&quot;:&quot;);\n    if(namespace.length==3)\n        ns= namespace[0]+&quot;:&quot;;\n    return ns;\n}\n\nns_Header = getNamespace(&quot;//*[local-name()='header']&quot;);//I get the namespace as h:if it is empty then empty string \nString header_close_tag = &quot;&lt;/&quot;+ns_Header+&quot;header&gt;&quot;\nString header = StringUtils.substringBetween(xml,&quot;header&quot;,header_close_tag);\nString header_tag = &quot;&lt;&quot;+ns_Header+&quot;header&quot;+header+header_close_tag;\n</code></pre>\n<p>I also want to read header tag values like id and memId. i am able to do that without namepsace but when namespace added that too the namespace keeps changing with different xmls. I am not sure how to read the tag values. Don't want to use JAXB since the XML I am using is quite big and I will end up creating multiple POJO based on different XMLs.</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":11833808,"reputation":1152,"user_id":8659747,"display_name":"Kitswas"},"score":1,"creation_date":1674634353,"post_id":75231174,"comment_id":132753860,"body_markdown":"&#39;microservice which should enable from time to time&#39; - Did you try [serverless computing](https://en.wikipedia.org/wiki/Serverless_computing)?","body":"&#39;microservice which should enable from time to time&#39; - Did you try <a href=\"https://en.wikipedia.org/wiki/Serverless_computing\" rel=\"nofollow noreferrer\">serverless computing</a>?"},{"owner":{"account_id":27616275,"reputation":13,"user_id":21078265,"display_name":"Armiddleware"},"score":0,"creation_date":1674634802,"post_id":75231174,"comment_id":132753975,"body_markdown":"No I haven&#39;t, I only heard that docker can automatically turn on your server when it shuts down.","body":"No I haven&#39;t, I only heard that docker can automatically turn on your server when it shuts down."},{"owner":{"account_id":4240367,"reputation":422,"user_id":3470438,"accept_rate":75,"display_name":"wimdetr"},"score":0,"creation_date":1674638902,"post_id":75231174,"comment_id":132755193,"body_markdown":"this might be of interest: https://spring.io/projects/spring-cloud-task","body":"this might be of interest: <a href=\"https://spring.io/projects/spring-cloud-task\" rel=\"nofollow noreferrer\">spring.io/projects/spring-cloud-task</a>"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674643612,"creation_date":1674643612,"answer_id":75232836,"question_id":75231174,"body_markdown":"This a perfect use case for [serverless computing][1]. But if really want to avoid that and want to start and stop pods in kubernetes cluster you can use the [kubernetes api][2] from the primaty process. \r\n\r\nAlternatively, you can start the secondary service in the same Docker container with [Runtime.exec()][3]\r\n\r\n    Runtime rt = Runtime.getRuntime();\r\n    Process pr = rt.exec(&quot;java -jar secondary.jar&quot;);\r\n\r\nThe primary process will need to listen for a call emanating from the secondary service to indicate the secondary service is up.\r\n\r\nWhen secondary is known to be up, primary can make the call. Or it can simple keep retrying until a good response is received.\r\n\r\nWhen the secondary has completed its work it will need to System.exit(). (Or can call primary to terminate it)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Serverless_computing\r\n  [2]: https://kubernetes.io/docs/tasks/administer-cluster/access-cluster-api/\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html\r\n","title":"Connecting two spring boot applications to respond to each other","body":"<p>This a perfect use case for <a href=\"https://en.wikipedia.org/wiki/Serverless_computing\" rel=\"nofollow noreferrer\">serverless computing</a>. But if really want to avoid that and want to start and stop pods in kubernetes cluster you can use the <a href=\"https://kubernetes.io/docs/tasks/administer-cluster/access-cluster-api/\" rel=\"nofollow noreferrer\">kubernetes api</a> from the primaty process.</p>\n<p>Alternatively, you can start the secondary service in the same Docker container with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html\" rel=\"nofollow noreferrer\">Runtime.exec()</a></p>\n<pre><code>Runtime rt = Runtime.getRuntime();\nProcess pr = rt.exec(&quot;java -jar secondary.jar&quot;);\n</code></pre>\n<p>The primary process will need to listen for a call emanating from the secondary service to indicate the secondary service is up.</p>\n<p>When secondary is known to be up, primary can make the call. Or it can simple keep retrying until a good response is received.</p>\n<p>When the secondary has completed its work it will need to System.exit(). (Or can call primary to terminate it)</p>\n"}],"owner":{"account_id":27616275,"reputation":13,"user_id":21078265,"display_name":"Armiddleware"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75232836,"answer_count":1,"score":1,"last_activity_date":1680775610,"creation_date":1674634183,"question_id":75231174,"body_markdown":"My problem is the following: I want to be able to start one spring application from another. I have one application and other is microservice which should enable from time to time. How can I achieve this? \r\n\r\nIn the ideal scenario if application receive rest request from the other one, it should turn on, but I know its impossible since it can&#39;t communicate if it&#39;s not working. ","title":"Connecting two spring boot applications to respond to each other","body":"<p>My problem is the following: I want to be able to start one spring application from another. I have one application and other is microservice which should enable from time to time. How can I achieve this?</p>\n<p>In the ideal scenario if application receive rest request from the other one, it should turn on, but I know its impossible since it can't communicate if it's not working.</p>\n"},{"tags":["java","spring","spring-boot","jpa","repository"],"answers":[{"tags":[],"owner":{"account_id":24643948,"reputation":1,"user_id":18541832,"display_name":"Marko Tripkovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677241420,"creation_date":1677241420,"answer_id":75556534,"question_id":75556057,"body_markdown":"You should use [Criteria Queries][1], with criteria you are able to create logic for the generation of queries.\r\n\r\n\r\n  [1]: https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl","title":"Spring Boot Repository working with optional Properties","body":"<p>You should use <a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl\" rel=\"nofollow noreferrer\">Criteria Queries</a>, with criteria you are able to create logic for the generation of queries.</p>\n"},{"tags":[],"owner":{"account_id":22878047,"reputation":16,"user_id":17020050,"display_name":"Ali Mnf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677243154,"creation_date":1677243096,"answer_id":75556785,"question_id":75556057,"body_markdown":"As a simple way, you can just use a query like this :\r\n\r\n```\r\n    @Query(&quot;SELECT t FROM Task  as t WHERE EXISTS (SELECT t.title FROM t WHERE t.title=:a or t.title=:b or t.title=:c or(t.title=:a and t.title=:b))&quot;)\r\n    Boolean check(String a,String b,String c);\r\n```\r\nbut I think the best way is to use specifications\r\n\r\n","title":"Spring Boot Repository working with optional Properties","body":"<p>As a simple way, you can just use a query like this :</p>\n<pre><code>    @Query(&quot;SELECT t FROM Task  as t WHERE EXISTS (SELECT t.title FROM t WHERE t.title=:a or t.title=:b or t.title=:c or(t.title=:a and t.title=:b))&quot;)\n    Boolean check(String a,String b,String c);\n</code></pre>\n<p>but I think the best way is to use specifications</p>\n"}],"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75556785,"answer_count":2,"score":0,"last_activity_date":1680775532,"creation_date":1677238348,"question_id":75556057,"body_markdown":"I try to find out &quot;if there is any entity with the given properties&quot;.\r\n\r\nGiven is the following sample entity:\r\n\r\n``` \r\n@Entity\r\npublic class Foo {\r\n\t@Id\r\n\tprivate Long someId;\r\n\t@Column\r\n\tprivate String propA;\r\n\t@Column\r\n\tprivate String propB;\r\n\t@Column\r\n\tprivate String propC;\r\n}\r\n```\r\n\r\nI try to find an entity with a given propA. Or propB. Or C. Or a combination of them. I know, I can do this with a JpaRepository, but I will get an exploding number of functions to write:\r\n\r\n```\r\npublic interface FooRepository extends CrudRepository&lt;Foo, Long&gt; {\r\n\r\n\tboolean existsByPropA(String propA);\r\n\tboolean existsByPropB(String propB);\r\n\tboolean existsByPropC(String propC);\r\n\tboolean existsByPropAAndAndPropB(String propA, String propB);\r\n\tboolean existsByPropAAndPropC(String propA, String propC);\r\n    // and much more to be written to get all combinations\r\n}\r\n```\r\nWriting all possible combination is nonsense especially if new properties are to be added.\r\n\r\nI am looking for a generic solution to this problem, or at least a keyword to search for as I am not yet very firm with JPA/Hibernate.\r\n\r\nThank you.","title":"Spring Boot Repository working with optional Properties","body":"<p>I try to find out &quot;if there is any entity with the given properties&quot;.</p>\n<p>Given is the following sample entity:</p>\n<pre><code>@Entity\npublic class Foo {\n    @Id\n    private Long someId;\n    @Column\n    private String propA;\n    @Column\n    private String propB;\n    @Column\n    private String propC;\n}\n</code></pre>\n<p>I try to find an entity with a given propA. Or propB. Or C. Or a combination of them. I know, I can do this with a JpaRepository, but I will get an exploding number of functions to write:</p>\n<pre><code>public interface FooRepository extends CrudRepository&lt;Foo, Long&gt; {\n\n    boolean existsByPropA(String propA);\n    boolean existsByPropB(String propB);\n    boolean existsByPropC(String propC);\n    boolean existsByPropAAndAndPropB(String propA, String propB);\n    boolean existsByPropAAndPropC(String propA, String propC);\n    // and much more to be written to get all combinations\n}\n</code></pre>\n<p>Writing all possible combination is nonsense especially if new properties are to be added.</p>\n<p>I am looking for a generic solution to this problem, or at least a keyword to search for as I am not yet very firm with JPA/Hibernate.</p>\n<p>Thank you.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"score":0,"creation_date":1680753692,"post_id":75944786,"comment_id":133952574,"body_markdown":"Thank you for the comment. I am not sure I am understanding it right. Can you please elaborate it with a piece of code?","body":"Thank you for the comment. I am not sure I am understanding it right. Can you please elaborate it with a piece of code?"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680771505,"creation_date":1680771505,"answer_id":75947638,"question_id":75944786,"body_markdown":"what you can do is to pass a lambda expression that tells your algorithm which property to use from the Car object:\r\n\r\n    static &lt;T&gt; Map&lt;T, Car&gt; collectCars(List&lt;Car&gt; carList, Function&lt;Car, T&gt; keyMapper) {\r\n    \treturn carList.stream()\r\n    \t\t\t.filter(x -&gt; !ObjectUtils.isEmpty(keyMapper.apply(x)))\r\n    \t\t\t.collect(Collectors.toMap(\r\n    \t\t\t\t\tkeyMapper,\r\n    \t\t\t\t\tFunction.identity(),\r\n    \t\t\t\t\t(x1, x2) -&gt; new Car(\r\n    \t\t\t\t\t\t\tx1.getCarColorId(),\r\n    \t\t\t\t\t\t\tx1.getEngineNumber().concat(x2.getEngineNumber()))\r\n    \t\t\t));\r\n    }\r\n\r\nNow, you can use it like this:\r\n\r\n    @Test\r\n    void test() {\r\n    \tMap&lt;Long, Car&gt; carsByColorId = collectCars(carList, Car::getCarColorId);\r\n    \tMap&lt;Long, Car&gt; carsByCarNumber = collectCars(carList, Car::getCarNumber);\r\n    \tMap&lt;String, Car&gt; carsByEngine = collectCars(carList, Car::getEngineNumber);\r\n    \r\n    \tSystem.out.println(carsByEngine);\r\n    }\r\n\r\nand you can dynamically decide which `getter` to pas as an argument based on your inputs. This is also known as the &quot;strategy pattern&quot; you can read more about it here: https://medium.com/javarevisited/venkats-lightweight-strategy-pattern-using-lambda-expressions-626c04654b18?sk=e01874f8b8d780a70c73d7bd8a32add8\r\n\r\n","title":"Creating a dynamic stream from two or more similar looking java streams","body":"<p>what you can do is to pass a lambda expression that tells your algorithm which property to use from the Car object:</p>\n<pre><code>static &lt;T&gt; Map&lt;T, Car&gt; collectCars(List&lt;Car&gt; carList, Function&lt;Car, T&gt; keyMapper) {\n    return carList.stream()\n            .filter(x -&gt; !ObjectUtils.isEmpty(keyMapper.apply(x)))\n            .collect(Collectors.toMap(\n                    keyMapper,\n                    Function.identity(),\n                    (x1, x2) -&gt; new Car(\n                            x1.getCarColorId(),\n                            x1.getEngineNumber().concat(x2.getEngineNumber()))\n            ));\n}\n</code></pre>\n<p>Now, you can use it like this:</p>\n<pre><code>@Test\nvoid test() {\n    Map&lt;Long, Car&gt; carsByColorId = collectCars(carList, Car::getCarColorId);\n    Map&lt;Long, Car&gt; carsByCarNumber = collectCars(carList, Car::getCarNumber);\n    Map&lt;String, Car&gt; carsByEngine = collectCars(carList, Car::getEngineNumber);\n\n    System.out.println(carsByEngine);\n}\n</code></pre>\n<p>and you can dynamically decide which <code>getter</code> to pas as an argument based on your inputs. This is also known as the &quot;strategy pattern&quot; you can read more about it here: <a href=\"https://medium.com/javarevisited/venkats-lightweight-strategy-pattern-using-lambda-expressions-626c04654b18?sk=e01874f8b8d780a70c73d7bd8a32add8\" rel=\"nofollow noreferrer\">https://medium.com/javarevisited/venkats-lightweight-strategy-pattern-using-lambda-expressions-626c04654b18?sk=e01874f8b8d780a70c73d7bd8a32add8</a></p>\n"},{"tags":[],"owner":{"account_id":17096208,"reputation":15,"user_id":12371145,"display_name":"wang junweiiii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680775322,"creation_date":1680775322,"answer_id":75948257,"question_id":75944786,"body_markdown":"As you said, when you input **carNumber**, then the map key is carNumber, when you input **carColorId**, then the map key is carColorId.\r\n\r\n&lt;br&gt;\r\n\r\nSo you can try code below with **Method reference**:\r\n\r\n1. Firstly, you can create **filter** method to cumstom your Predicate, create **getIdentity** method as keyMapper, and the method **mergeFunction** for resolve \r\n collisions.\r\n```java\r\npublic class Car {\r\n    // property, getter and setter ...\r\n    public boolean filter() {\r\n        return !ObjectUtils.isEmpty(this.getCarNumber()) &amp;&amp; !ObjectUtils.isEmpty(this.getCarColorId());\r\n    }\r\n    \r\n    public static Long getIdentity(Car car) {\r\n        if (!ObjectUtils.isEmpty(car.getCarNumber())) {\r\n            return car.getCarNumber();\r\n        } else {\r\n            return car.getCarColorId();\r\n        }\r\n    }\r\n    \r\n    public static Car mergeFunction(Car car1, Car car2) {\r\n        // do merge\r\n        return car1;\r\n    }\r\n}\r\n```\r\n\r\n2. then you can use it in stream\r\n```java\r\nMap&lt;Long, Car&gt; collect = carList.stream().filter(Car::filter)\r\n    .collect(Collectors.toMap(Car::getIdentity, Function.identity(), Car::mergeFunction));\r\n```\r\n\r\n\r\nHelp it works for you.","title":"Creating a dynamic stream from two or more similar looking java streams","body":"<p>As you said, when you input <strong>carNumber</strong>, then the map key is carNumber, when you input <strong>carColorId</strong>, then the map key is carColorId.</p>\n<br>\n<p>So you can try code below with <strong>Method reference</strong>:</p>\n<ol>\n<li>Firstly, you can create <strong>filter</strong> method to cumstom your Predicate, create <strong>getIdentity</strong> method as keyMapper, and the method <strong>mergeFunction</strong> for resolve\ncollisions.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Car {\n    // property, getter and setter ...\n    public boolean filter() {\n        return !ObjectUtils.isEmpty(this.getCarNumber()) &amp;&amp; !ObjectUtils.isEmpty(this.getCarColorId());\n    }\n    \n    public static Long getIdentity(Car car) {\n        if (!ObjectUtils.isEmpty(car.getCarNumber())) {\n            return car.getCarNumber();\n        } else {\n            return car.getCarColorId();\n        }\n    }\n    \n    public static Car mergeFunction(Car car1, Car car2) {\n        // do merge\n        return car1;\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>then you can use it in stream</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Long, Car&gt; collect = carList.stream().filter(Car::filter)\n    .collect(Collectors.toMap(Car::getIdentity, Function.identity(), Car::mergeFunction));\n</code></pre>\n<p>Help it works for you.</p>\n"}],"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680775322,"creation_date":1680738561,"question_id":75944786,"body_markdown":"I wrote the following code using Java streams.\r\n\r\n    @Data\r\n    public class Car {\r\n    \r\n    \tprivate Long carId;\r\n    \tprivate Long carNumber;\r\n    \tprivate Long carColorId;\r\n    \tprivate String engineNumber;\r\n    \tprivate String partsNumber;\r\n    \tprivate String modifiedBy;\r\n    \t\r\n    }\r\n\r\n    List&lt;Car&gt; carList = List.of(new Car(1L, 100L, 1000L, &quot;1ACB&quot;, &quot;ZEGV200&quot;, &quot;John&quot;), new Car(2L, 100L, 1000L, &quot;1TUV&quot;, &quot;ZVAV200&quot;, &quot;Doe&quot;), new Car(3L, 200L, 2000L, &quot;1ZVC&quot;, &quot;CADV200&quot;, &quot;Jane&quot;), new Car(4L, 200L, 2000L, &quot;8CEB&quot;, &quot;V2IWD00&quot;, &quot;Harry&quot;));\r\n\r\n    carList.stream().filter(x -&gt; !ObjectUtils.isEmpty(x.getCarNumber()))\r\n    \t\t.collect(Collectors.toMap(Car::getCarNumber, Function.identity(),\r\n    \t\t\t\t(x1, x2) -&gt; new Car(x1.getCarNumber(),\r\n    \t\t\t\t\t\tx1.getEngineNumber().concat(x2.getEngineNumber()))));\r\n\r\n\r\n    carList.stream().filter(x -&gt; !ObjectUtils.isEmpty(x.getCarColorId()))\r\n    \t\t.collect(Collectors.toMap(Car::getCarColorId, Function.identity(),\r\n    \t\t\t\t(x1, x2) -&gt; new Car(x1.getCarColorId(),\r\n    \t\t\t\t\t\tx1.getEngineNumber().concat(x2.getEngineNumber()))));\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\nThe above streams are pretty much the same except for the key in the map and the filter condition. I would like to know if I can create a single stream that can accommodate both the streams listed above and called `based on input condition`.\r\n\r\nFor example: if I pass a string colorId then the stream with condition colorId would be called in the dynamic stream.","title":"Creating a dynamic stream from two or more similar looking java streams","body":"<p>I wrote the following code using Java streams.</p>\n<pre><code>@Data\npublic class Car {\n\n    private Long carId;\n    private Long carNumber;\n    private Long carColorId;\n    private String engineNumber;\n    private String partsNumber;\n    private String modifiedBy;\n    \n}\n\nList&lt;Car&gt; carList = List.of(new Car(1L, 100L, 1000L, &quot;1ACB&quot;, &quot;ZEGV200&quot;, &quot;John&quot;), new Car(2L, 100L, 1000L, &quot;1TUV&quot;, &quot;ZVAV200&quot;, &quot;Doe&quot;), new Car(3L, 200L, 2000L, &quot;1ZVC&quot;, &quot;CADV200&quot;, &quot;Jane&quot;), new Car(4L, 200L, 2000L, &quot;8CEB&quot;, &quot;V2IWD00&quot;, &quot;Harry&quot;));\n\ncarList.stream().filter(x -&gt; !ObjectUtils.isEmpty(x.getCarNumber()))\n        .collect(Collectors.toMap(Car::getCarNumber, Function.identity(),\n                (x1, x2) -&gt; new Car(x1.getCarNumber(),\n                        x1.getEngineNumber().concat(x2.getEngineNumber()))));\n\n\ncarList.stream().filter(x -&gt; !ObjectUtils.isEmpty(x.getCarColorId()))\n        .collect(Collectors.toMap(Car::getCarColorId, Function.identity(),\n                (x1, x2) -&gt; new Car(x1.getCarColorId(),\n                        x1.getEngineNumber().concat(x2.getEngineNumber()))));\n                \n                            \n</code></pre>\n<p>The above streams are pretty much the same except for the key in the map and the filter condition. I would like to know if I can create a single stream that can accommodate both the streams listed above and called <code>based on input condition</code>.</p>\n<p>For example: if I pass a string colorId then the stream with condition colorId would be called in the dynamic stream.</p>\n"},{"tags":["java","eclipse","scala"],"comments":[{"owner":{"account_id":3307835,"reputation":51,"user_id":2782093,"display_name":"Sultan"},"score":1,"creation_date":1379283173,"post_id":18817928,"comment_id":27755992,"body_markdown":"Also, running the program using scala -cp akka-remote_2.10-2.2.2.jar FileName also gives the same exception.","body":"Also, running the program using scala -cp akka-remote_2.10-2.2.2.jar FileName also gives the same exception."},{"owner":{"account_id":2109264,"reputation":1722,"user_id":1874868,"accept_rate":67,"display_name":"1esha"},"score":0,"creation_date":1379289866,"post_id":18817928,"comment_id":27757350,"body_markdown":"Please post full exception for `scala -cp akka-remote_2.10-2.2.2.jar`","body":"Please post full exception for <code>scala -cp akka-remote_2.10-2.2.2.jar</code>"},{"owner":{"account_id":1030428,"reputation":20420,"user_id":1038826,"display_name":"zsxwing"},"score":1,"creation_date":1379294650,"post_id":18817928,"comment_id":27758247,"body_markdown":"Did you add `akka-remote_2.10-2.2.2.jar` to the CLASSPATH?","body":"Did you add <code>akka-remote_2.10-2.2.2.jar</code> to the CLASSPATH?"},{"owner":{"account_id":3307835,"reputation":51,"user_id":2782093,"display_name":"Sultan"},"score":0,"creation_date":1379312215,"post_id":18817928,"comment_id":27762084,"body_markdown":"@1esha It gives the same exception as above..","body":"@1esha It gives the same exception as above.."},{"owner":{"account_id":3307835,"reputation":51,"user_id":2782093,"display_name":"Sultan"},"score":0,"creation_date":1379312472,"post_id":18817928,"comment_id":27762161,"body_markdown":"@zsxwing Yes I did add it to the classpath. The dependancies are the same when I use command line, eclipse or sbt. It works with eclipse and sbt. Doesnt work with command line, still gives the same exception.","body":"@zsxwing Yes I did add it to the classpath. The dependancies are the same when I use command line, eclipse or sbt. It works with eclipse and sbt. Doesnt work with command line, still gives the same exception."},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":1,"creation_date":1399060863,"post_id":18817928,"comment_id":35919665,"body_markdown":"I am seeing this same error when running Spark (which uses akka). There are several posts about it including this one, none show it resolved.","body":"I am seeing this same error when running Spark (which uses akka). There are several posts about it including this one, none show it resolved."}],"answers":[{"tags":[],"owner":{"account_id":8011563,"reputation":798,"user_id":6043083,"display_name":"Rohit Nandi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590052923,"creation_date":1590052923,"answer_id":61931266,"question_id":18817928,"body_markdown":"The problem here is that the Scala distribution contains akka-actor 2.X.X in its boot class path by default. Hence, the one used by *scalac* and *scala* in your code are different.\r\n\r\nThe workaround is to use java to launch the application instead of scala. All you need to do is to include the right Scala jars (scala-library and scala-compiler) in the classpath.\r\n\r\n    java -cp akka-remote_2.10-2.2.2.jar FileName.scala\r\n\r\nThere are going to be many jar dependencies e.g akka-actor etc.\r\n\r\nTherefore, use SBT or put all jars in a folder and then add that folder in the class path.\r\n\r\n    java -cp ./jars/*:. FileName.scala\r\n\r\n","title":"ClassNotFoundException on akka.remote.RemoteActorRefProvider","body":"<p>The problem here is that the Scala distribution contains akka-actor 2.X.X in its boot class path by default. Hence, the one used by <em>scalac</em> and <em>scala</em> in your code are different.</p>\n\n<p>The workaround is to use java to launch the application instead of scala. All you need to do is to include the right Scala jars (scala-library and scala-compiler) in the classpath.</p>\n\n<pre><code>java -cp akka-remote_2.10-2.2.2.jar FileName.scala\n</code></pre>\n\n<p>There are going to be many jar dependencies e.g akka-actor etc.</p>\n\n<p>Therefore, use SBT or put all jars in a folder and then add that folder in the class path.</p>\n\n<pre><code>java -cp ./jars/*:. FileName.scala\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28230932,"reputation":1,"user_id":21580173,"display_name":"Andr&#233; Santos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680775060,"creation_date":1680775060,"answer_id":75948204,"question_id":18817928,"body_markdown":"What solved the issue for me was importing the akka-remote dependency. Add the following line to the `build.sbt` file.\r\n\r\n    libraryDependencies += &quot;com.typesafe.akka&quot; %% &quot;akka-remote&quot; % &quot;2.5.32&quot;\r\n","title":"ClassNotFoundException on akka.remote.RemoteActorRefProvider","body":"<p>What solved the issue for me was importing the akka-remote dependency. Add the following line to the <code>build.sbt</code> file.</p>\n<pre><code>libraryDependencies += &quot;com.typesafe.akka&quot; %% &quot;akka-remote&quot; % &quot;2.5.32&quot;\n</code></pre>\n"}],"owner":{"account_id":3307835,"reputation":51,"user_id":2782093,"display_name":"Sultan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3832,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1680775060,"creation_date":1379282428,"question_id":18817928,"body_markdown":"I am trying to communicate between remote actors in scala using the Akka actors. My program runs fine from scala IDE but I am unable to run it from command prompt. In my project folder, I have the application.conf file, scala file and akka-remote_2.10-2.2.2.jar file. I am compiling my program as follows\r\n\r\n    scalac -cp akka-remote_2.10-2.2.2.jar FileName.scala\r\n\r\nThe program compiles and then I run it as follows\r\n\r\n    scala FileName\r\n\r\nI get the following error\r\n\r\n    java.lang.ClassNotFoundException: akka.remote.RemoteActorRefProvider\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Class.java:247)\r\n        at akka.actor.ReflectiveDynamicAccess$$anonfun$getClassFor$1.apply(Dynam\r\n    icAccess.scala:68)\r\n        at akka.actor.ReflectiveDynamicAccess$$anonfun$getClassFor$1.apply(Dynam\r\n    icAccess.scala:67)\r\n        at scala.util.Try$.apply(Try.scala:161)\r\n        at akka.actor.ReflectiveDynamicAccess.getClassFor(DynamicAccess.scala:67\r\n    )\r\n        at akka.actor.ReflectiveDynamicAccess.createInstanceFor(DynamicAccess.sc\r\n    ala:85)\r\n        at akka.actor.ActorSystemImpl.&lt;init&gt;(ActorSystem.scala:546)\r\n        at akka.actor.ActorSystem$.apply(ActorSystem.scala:111)\r\n        at akka.actor.ActorSystem$.apply(ActorSystem.scala:93)\r\n        at Project1Bonus2$.main(Project1Bonus2.scala:11)\r\n        at Project1Bonus2.main(Project1Bonus2.scala)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\r\n    java:39)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\n    sorImpl.java:25)\r\n        at java.lang.reflect.Method.invoke(Method.java:597)\r\n        at scala.tools.nsc.util.ScalaClassLoader$$anonfun$run$1.apply(ScalaClass\r\n    Loader.scala:71)\r\n        at scala.tools.nsc.util.ScalaClassLoader$class.asContext(ScalaClassLoade\r\n    r.scala:31)\r\n        at scala.tools.nsc.util.ScalaClassLoader$URLClassLoader.asContext(ScalaC\r\n    lassLoader.scala:139)\r\n        at scala.tools.nsc.util.ScalaClassLoader$class.run(ScalaClassLoader.scal\r\n    a:71)\r\n        at scala.tools.nsc.util.ScalaClassLoader$URLClassLoader.run(ScalaClassLo\r\n    ader.scala:139)\r\n        at scala.tools.nsc.CommonRunner$class.run(ObjectRunner.scala:28)\r\n        at scala.tools.nsc.ObjectRunner$.run(ObjectRunner.scala:45)\r\n        at scala.tools.nsc.CommonRunner$class.runAndCatch(ObjectRunner.scala:35)\r\n\r\n        at scala.tools.nsc.ObjectRunner$.runAndCatch(ObjectRunner.scala:45)\r\n        at scala.tools.nsc.MainGenericRunner.runTarget$1(MainGenericRunner.scala\r\n    :74)\r\n        at scala.tools.nsc.MainGenericRunner.process(MainGenericRunner.scala:96)\r\n\r\n        at scala.tools.nsc.MainGenericRunner$.main(MainGenericRunner.scala:105)\r\n        at scala.tools.nsc.MainGenericRunner.main(MainGenericRunner.scala)\r\n\r\n\r\nMy application.conf file is as follows.\r\n\r\n    akka {\r\n    actor {\r\n    provider = &quot;akka.remote.RemoteActorRefProvider&quot;\r\n    }\r\n    remote {\r\n    enabled-transports = [&quot;akka.remote.netty.tcp&quot;]\r\n    netty.tcp {\r\n    hostname = &quot;127.0.0.1&quot;\r\n    port = 9001\r\n    }\r\n    }\r\n    }\r\n\r\nAny help would be appreciated.\r\n\r\nThanks\r\n","title":"ClassNotFoundException on akka.remote.RemoteActorRefProvider","body":"<p>I am trying to communicate between remote actors in scala using the Akka actors. My program runs fine from scala IDE but I am unable to run it from command prompt. In my project folder, I have the application.conf file, scala file and akka-remote_2.10-2.2.2.jar file. I am compiling my program as follows</p>\n\n<pre><code>scalac -cp akka-remote_2.10-2.2.2.jar FileName.scala\n</code></pre>\n\n<p>The program compiles and then I run it as follows</p>\n\n<pre><code>scala FileName\n</code></pre>\n\n<p>I get the following error</p>\n\n<pre><code>java.lang.ClassNotFoundException: akka.remote.RemoteActorRefProvider\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:247)\n    at akka.actor.ReflectiveDynamicAccess$$anonfun$getClassFor$1.apply(Dynam\nicAccess.scala:68)\n    at akka.actor.ReflectiveDynamicAccess$$anonfun$getClassFor$1.apply(Dynam\nicAccess.scala:67)\n    at scala.util.Try$.apply(Try.scala:161)\n    at akka.actor.ReflectiveDynamicAccess.getClassFor(DynamicAccess.scala:67\n)\n    at akka.actor.ReflectiveDynamicAccess.createInstanceFor(DynamicAccess.sc\nala:85)\n    at akka.actor.ActorSystemImpl.&lt;init&gt;(ActorSystem.scala:546)\n    at akka.actor.ActorSystem$.apply(ActorSystem.scala:111)\n    at akka.actor.ActorSystem$.apply(ActorSystem.scala:93)\n    at Project1Bonus2$.main(Project1Bonus2.scala:11)\n    at Project1Bonus2.main(Project1Bonus2.scala)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at scala.tools.nsc.util.ScalaClassLoader$$anonfun$run$1.apply(ScalaClass\nLoader.scala:71)\n    at scala.tools.nsc.util.ScalaClassLoader$class.asContext(ScalaClassLoade\nr.scala:31)\n    at scala.tools.nsc.util.ScalaClassLoader$URLClassLoader.asContext(ScalaC\nlassLoader.scala:139)\n    at scala.tools.nsc.util.ScalaClassLoader$class.run(ScalaClassLoader.scal\na:71)\n    at scala.tools.nsc.util.ScalaClassLoader$URLClassLoader.run(ScalaClassLo\nader.scala:139)\n    at scala.tools.nsc.CommonRunner$class.run(ObjectRunner.scala:28)\n    at scala.tools.nsc.ObjectRunner$.run(ObjectRunner.scala:45)\n    at scala.tools.nsc.CommonRunner$class.runAndCatch(ObjectRunner.scala:35)\n\n    at scala.tools.nsc.ObjectRunner$.runAndCatch(ObjectRunner.scala:45)\n    at scala.tools.nsc.MainGenericRunner.runTarget$1(MainGenericRunner.scala\n:74)\n    at scala.tools.nsc.MainGenericRunner.process(MainGenericRunner.scala:96)\n\n    at scala.tools.nsc.MainGenericRunner$.main(MainGenericRunner.scala:105)\n    at scala.tools.nsc.MainGenericRunner.main(MainGenericRunner.scala)\n</code></pre>\n\n<p>My application.conf file is as follows.</p>\n\n<pre><code>akka {\nactor {\nprovider = \"akka.remote.RemoteActorRefProvider\"\n}\nremote {\nenabled-transports = [\"akka.remote.netty.tcp\"]\nnetty.tcp {\nhostname = \"127.0.0.1\"\nport = 9001\n}\n}\n}\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","email","spring-security","hyperlink"],"answers":[{"tags":[],"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1617208337,"creation_date":1617208337,"answer_id":66891743,"question_id":66890561,"body_markdown":"Please try to change ```.defaultSuccessUrl(&quot;/home&quot;, true)``` to ```.defaultSuccessUrl(&quot;/home&quot;, false)```\r\n\r\n","title":"url to specific page with spring security","body":"<p>Please try to change <code>.defaultSuccessUrl(&quot;/home&quot;, true)</code> to <code>.defaultSuccessUrl(&quot;/home&quot;, false)</code></p>\n"}],"owner":{"account_id":10441582,"reputation":25,"user_id":7698050,"display_name":"Newbie83"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":66891743,"answer_count":1,"score":-1,"last_activity_date":1680774826,"creation_date":1617203698,"question_id":66890561,"body_markdown":"I have an Spring Boot application.\r\n\r\nI need to send emails that contain a direct url to a specific page of the system, something like:\r\n\r\n&gt;Please, on click on the following link to accept the offer: http://example.com/somepage?id=5\r\n\r\nThe desired behaviour is the following:\r\n\r\n1) The user clicks on the link contained on the email.\r\n2) The login page appears.  \r\n3) The user logs in and the specific page of the link opens. \r\n \r\nBut this is not working. When the user clicks the URL, he goes directly to home page, instead of the specific page included in the link.\r\n\r\nI have this method in controller:\r\n\r\n    @GetMapping(&quot;/home&quot;)\r\n    public String menu(Model model) {   \r\n        \r\n        return &quot;home&quot;;\r\n    }\r\n\r\nAnd this is the Spring Security Configuration class:\r\n\r\n    ...\r\n    .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .permitAll()\r\n                .defaultSuccessUrl(&quot;/home&quot;, true)\r\n            ...\r\n\r\n\r\nDoes anyone know what should I do to make it work properly?\r\n\r\nThanks a million.\r\n\r\nRegards,","title":"url to specific page with spring security","body":"<p>I have an Spring Boot application.</p>\n<p>I need to send emails that contain a direct url to a specific page of the system, something like:</p>\n<blockquote>\n<p>Please, on click on the following link to accept the offer: <a href=\"http://example.com/somepage?id=5\" rel=\"nofollow noreferrer\">http://example.com/somepage?id=5</a></p>\n</blockquote>\n<p>The desired behaviour is the following:</p>\n<ol>\n<li>The user clicks on the link contained on the email.</li>\n<li>The login page appears.</li>\n<li>The user logs in and the specific page of the link opens.</li>\n</ol>\n<p>But this is not working. When the user clicks the URL, he goes directly to home page, instead of the specific page included in the link.</p>\n<p>I have this method in controller:</p>\n<pre><code>@GetMapping(&quot;/home&quot;)\npublic String menu(Model model) {   \n    \n    return &quot;home&quot;;\n}\n</code></pre>\n<p>And this is the Spring Security Configuration class:</p>\n<pre><code>...\n.formLogin()\n            .loginPage(&quot;/login&quot;)\n            .permitAll()\n            .defaultSuccessUrl(&quot;/home&quot;, true)\n        ...\n</code></pre>\n<p>Does anyone know what should I do to make it work properly?</p>\n<p>Thanks a million.</p>\n<p>Regards,</p>\n"},{"tags":["java","mongodb","spring-boot","private","localdatetime"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1657207945,"post_id":72900551,"comment_id":128761343,"body_markdown":"Does this answer your question? https://stackoverflow.com/questions/70412805/what-does-this-error-mean-java-lang-reflect-inaccessibleobjectexception-unable","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70412805/what-does-this-error-mean-java-lang-reflect-inaccessibleobjectexception-unable\" title=\"what does this error mean java lang reflect inaccessibleobjectexception unable\">stackoverflow.com/questions/70412805/&hellip;</a>"},{"owner":{"account_id":20861942,"reputation":1,"user_id":15323950,"display_name":"GrassHopper42"},"score":0,"creation_date":1657209618,"post_id":72900551,"comment_id":128762011,"body_markdown":"That answer fixed the error when run directly. But when I try to test, I got same error.\n\nbtw, it seems like I found another way to fix it from that answer. During my application is running, there is following message in log.\n\n`WARN 17980 --- [  restartedMain] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn&#39;t convert from a store-supported type; You might want to check your annotation setup at the converter implementation`","body":"That answer fixed the error when run directly. But when I try to test, I got same error.  btw, it seems like I found another way to fix it from that answer. During my application is running, there is following message in log.  <code>WARN 17980 --- [  restartedMain] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn&#39;t convert from a store-supported type; You might want to check your annotation setup at the converter implementation</code>"},{"owner":{"account_id":20861942,"reputation":1,"user_id":15323950,"display_name":"GrassHopper42"},"score":0,"creation_date":1657209713,"post_id":72900551,"comment_id":128762040,"body_markdown":"Application tried to convert `java.time.LocalDateTime` to `org.joda.time.LocalDateTime`, so I change import package from `java.time.LocalDateTime` to `org.joda.time.LocalDateTime`. And the error has been fixed!","body":"Application tried to convert <code>java.time.LocalDateTime</code> to <code>org.joda.time.LocalDateTime</code>, so I change import package from <code>java.time.LocalDateTime</code> to <code>org.joda.time.LocalDateTime</code>. And the error has been fixed!"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1657221937,"post_id":72900551,"comment_id":128766087,"body_markdown":"By the way, `LocalDateTime` is the wrong type to record a moment, a specific point on the timeline. Use `Instant` instead. Search to learn more. I and others have written extensively on this.","body":"By the way, <code>LocalDateTime</code> is the wrong type to record a moment, a specific point on the timeline. Use <code>Instant</code> instead. Search to learn more. I and others have written extensively on this."}],"owner":{"account_id":20861942,"reputation":1,"user_id":15323950,"display_name":"GrassHopper42"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680774550,"creation_date":1657207810,"question_id":72900551,"body_markdown":"I&#39;m using Spring boot with mongodb. I used `LocalDateTime` type for `createdAt` key. This is sample code to explain my situation.\r\n\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@Document(&quot;User&quot;)\r\npublic class User {\r\n\r\n  @Id\r\n  private ObjectId id;\r\n\r\n  @CreatedDate\r\n  private LocalDateTime createdAt;\r\n\r\n  @LastModifiedDate\r\n  private LocalDateTime updatedAt;\r\n\r\n  private String username;\r\n```\r\nThen, spring boot throw following error.\r\n\r\n```\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make private java.time.LocalDateTime(java.time.LocalDate,java.time.LocalTime) accessible: module java.base does not &quot;opens java.time&quot; to unnamed module\r\n```\r\n\r\nWhy this error is occured, and how can I fix it?\r\n\r\nI&#39;m using `java-17-amazon-corretto`. If you need more information, I&#39;ll add it.","title":"private LocalDateTime variable throw InaccessibleObjectException","body":"<p>I'm using Spring boot with mongodb. I used <code>LocalDateTime</code> type for <code>createdAt</code> key. This is sample code to explain my situation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@Document(&quot;User&quot;)\npublic class User {\n\n  @Id\n  private ObjectId id;\n\n  @CreatedDate\n  private LocalDateTime createdAt;\n\n  @LastModifiedDate\n  private LocalDateTime updatedAt;\n\n  private String username;\n</code></pre>\n<p>Then, spring boot throw following error.</p>\n<pre><code>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make private java.time.LocalDateTime(java.time.LocalDate,java.time.LocalTime) accessible: module java.base does not &quot;opens java.time&quot; to unnamed module\n</code></pre>\n<p>Why this error is occured, and how can I fix it?</p>\n<p>I'm using <code>java-17-amazon-corretto</code>. If you need more information, I'll add it.</p>\n"},{"tags":["java","android","android-studio","sdk"],"answers":[{"tags":[],"owner":{"account_id":21725598,"reputation":19,"user_id":16035084,"display_name":"Bajrang Lal Bishnoi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1624262083,"creation_date":1624262083,"answer_id":68064283,"question_id":67883319,"body_markdown":"I was using the latest version of gradle classpath dependency \r\n\r\n&gt; classpath &quot;com.android.tools.build:gradle:4.2.1&quot;\r\n\r\nI changed it to \r\n\r\n&gt; classpath &quot;com.android.tools.build:gradle:4.2.0&quot;\r\n\r\nMagically, all errors are gone. ","title":"Content is not allowed in prolog. in android studio","body":"<p>I was using the latest version of gradle classpath dependency</p>\n<blockquote>\n<p>classpath &quot;com.android.tools.build:gradle:4.2.1&quot;</p>\n</blockquote>\n<p>I changed it to</p>\n<blockquote>\n<p>classpath &quot;com.android.tools.build:gradle:4.2.0&quot;</p>\n</blockquote>\n<p>Magically, all errors are gone.</p>\n"},{"tags":[],"owner":{"account_id":12571816,"reputation":53,"user_id":9145668,"display_name":"Shah Nizar Baloch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680774341,"creation_date":1680774341,"answer_id":75948082,"question_id":67883319,"body_markdown":"When you import your project on a different machine, and you have disabled in app gradle file `dependenciesInfo {\r\n        includeInApk false\r\n        includeInBundle false\r\n    }`\r\nThen most probably you will get \r\n\r\n&gt; Content is not allowed in prolog. error\r\n\r\nRemove these two lines from app gradle, clean your cache and build the project. It will resolve the issue.","title":"Content is not allowed in prolog. in android studio","body":"<p>When you import your project on a different machine, and you have disabled in app gradle file <code>dependenciesInfo { includeInApk false includeInBundle false }</code>\nThen most probably you will get</p>\n<blockquote>\n<p>Content is not allowed in prolog. error</p>\n</blockquote>\n<p>Remove these two lines from app gradle, clean your cache and build the project. It will resolve the issue.</p>\n"}],"owner":{"account_id":21725598,"reputation":19,"user_id":16035084,"display_name":"Bajrang Lal Bishnoi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":968,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680774399,"accepted_answer_id":68064283,"answer_count":2,"score":-1,"last_activity_date":1680774341,"creation_date":1623137846,"question_id":67883319,"body_markdown":"In android studio, the project sync is successful. But when I try to build or run the project it shows the error &#39;Content is not allowed in prolog&#39;. I tried invalidate caches but in vain. I also tried to clean and rebuild project but it didn&#39;t work. \r\n\r\nHere is my gradle build log \r\n\r\n&gt; Task :app:processDebugResources\r\n[Fatal Error] aapt2-4.2.1-7147631.pom:2:1: Content is not allowed in prolog.\r\n\r\n&gt; Task :app:processDebugResources FAILED\r\n\r\nExecution failed for task &#39;:app:processDebugResources&#39;.\r\n&gt; Could not isolate parameters com.android.build.gradle.internal.dependency.AarResourcesCompilerTransform$Parameters_Decorated@1b75aaee of artifact transform AarResourcesCompilerTransform\r\n   &gt; Could not isolate value com.android.build.gradle.internal.dependency.AarResourcesCompilerTransform$Parameters_Decorated@1b75aaee of type AarResourcesCompilerTransform.Parameters\r\n      &gt; Could not resolve all files for configuration &#39;:app:detachedConfiguration1&#39;.\r\n         &gt; Could not resolve com.android.tools.build:aapt2:4.2.1-7147631.\r\n           Required by:\r\n               project :app\r\n            &gt; Could not resolve com.android.tools.build:aapt2:4.2.1-7147631.\r\n               &gt; Could not parse POM https://dl.google.com/dl/android/maven2/com/android/tools/build/aapt2/4.2.1-7147631/aapt2-4.2.1-7147631.pom\r\n                  &gt; Content is not allowed in prolog.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n\r\n","title":"Content is not allowed in prolog. in android studio","body":"<p>In android studio, the project sync is successful. But when I try to build or run the project it shows the error 'Content is not allowed in prolog'. I tried invalidate caches but in vain. I also tried to clean and rebuild project but it didn't work.</p>\n<p>Here is my gradle build log</p>\n<blockquote>\n<p>Task :app:processDebugResources\n[Fatal Error] aapt2-4.2.1-7147631.pom:2:1: Content is not allowed in prolog.</p>\n</blockquote>\n<blockquote>\n<p>Task :app:processDebugResources FAILED</p>\n</blockquote>\n<p>Execution failed for task ':app:processDebugResources'.</p>\n<blockquote>\n<p>Could not isolate parameters com.android.build.gradle.internal.dependency.AarResourcesCompilerTransform$Parameters_Decorated@1b75aaee of artifact transform AarResourcesCompilerTransform\nCould not isolate value com.android.build.gradle.internal.dependency.AarResourcesCompilerTransform$Parameters_Decorated@1b75aaee of type AarResourcesCompilerTransform.Parameters\n&gt; Could not resolve all files for configuration ':app:detachedConfiguration1'.\n&gt; Could not resolve com.android.tools.build:aapt2:4.2.1-7147631.\nRequired by:\nproject :app\n&gt; Could not resolve com.android.tools.build:aapt2:4.2.1-7147631.\n&gt; Could not parse POM <a href=\"https://dl.google.com/dl/android/maven2/com/android/tools/build/aapt2/4.2.1-7147631/aapt2-4.2.1-7147631.pom\" rel=\"nofollow noreferrer\">https://dl.google.com/dl/android/maven2/com/android/tools/build/aapt2/4.2.1-7147631/aapt2-4.2.1-7147631.pom</a>\n&gt; Content is not allowed in prolog.</p>\n</blockquote>\n<ul>\n<li>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</li>\n</ul>\n"},{"tags":["java","mysql","eclipse","java-native-interface"],"comments":[{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":1,"creation_date":1505390547,"post_id":22381202,"comment_id":79399586,"body_markdown":"I faced the same problem with jdk-8u144-windows-x64.exe in Windows 10","body":"I faced the same problem with jdk-8u144-windows-x64.exe in Windows 10"},{"owner":{"account_id":6914687,"reputation":484,"user_id":5309409,"accept_rate":62,"display_name":"Lakhwinder Singh Dhillon"},"score":0,"creation_date":1508144762,"post_id":22381202,"comment_id":80478429,"body_markdown":"Clean project solved this issue for me","body":"Clean project solved this issue for me"},{"owner":{"account_id":5124438,"reputation":2515,"user_id":4107038,"accept_rate":44,"display_name":"Rajat"},"score":0,"creation_date":1552029084,"post_id":22381202,"comment_id":96865167,"body_markdown":"https://stackoverflow.com/questions/33613857/noclassdeffounderror-while-executing-main-class-using-java-classpath-command/33616594#33616594","body":"<a href=\"https://stackoverflow.com/questions/33613857/noclassdeffounderror-while-executing-main-class-using-java-classpath-command/33616594#33616594\" title=\"noclassdeffounderror while executing main class using java classpath command\">stackoverflow.com/questions/33613857/&hellip;</a>"},{"owner":{"account_id":31617,"reputation":52341,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"score":3,"creation_date":1556748466,"post_id":22381202,"comment_id":98539759,"body_markdown":"&quot;please check your installation&quot; -- my installation of what?","body":"&quot;please check your installation&quot; -- my installation of what?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1602900206,"post_id":22381202,"comment_id":113874250,"body_markdown":"Your installation of Eclipse + any plugins.  Look in the Eclipse logfile for clues.","body":"Your installation of Eclipse + any plugins.  Look in the Eclipse logfile for clues."},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1653337692,"post_id":22381202,"comment_id":127823270,"body_markdown":"Is this question specific to Eclipse or not? It is attracting answers about [Gradle](https://en.wikipedia.org/wiki/Gradle), [IntelliJ IDEA](https://en.wikipedia.org/wiki/IntelliJ_IDEA), [NetBeans](https://en.wikipedia.org/wiki/NetBeans), etc.","body":"Is this question specific to Eclipse or not? It is attracting answers about <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a>, <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ IDEA</a>, <a href=\"https://en.wikipedia.org/wiki/NetBeans\" rel=\"nofollow noreferrer\">NetBeans</a>, etc."},{"owner":{"account_id":5709718,"reputation":61,"user_id":4512158,"display_name":"Aly Gonz&#225;lez"},"score":0,"creation_date":1674944391,"post_id":22381202,"comment_id":132823149,"body_markdown":"You can get this error not setting ANT Home or wrong setting in your preferences too.","body":"You can get this error not setting ANT Home or wrong setting in your preferences too."}],"answers":[{"tags":[],"owner":{"account_id":6655393,"reputation":2561,"user_id":5136131,"display_name":"Positive Navid"},"down_vote_count":5,"up_vote_count":59,"is_accepted":true,"score":54,"last_activity_date":1653261270,"creation_date":1437416896,"answer_id":31523756,"question_id":22381202,"body_markdown":"**Solution 1:** Right-click on the class that contains the main method. Click on &quot;Run As&quot;. Click on &quot;Java Application&quot;. The keyboard shortcut is: &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;X&lt;/kbd&gt;, &lt;kbd&gt;J&lt;/kbd&gt; (while holding &lt;kbd&gt;Shift&lt;/kbd&gt; and &lt;kbd&gt;Alt&lt;/kbd&gt;, press &lt;kbd&gt;X&lt;/kbd&gt;; then release &lt;kbd&gt;Shift&lt;/kbd&gt; and &lt;kbd&gt;Alt&lt;/kbd&gt; and press &lt;kbd&gt;J&lt;/kbd&gt;). \r\n\r\n**Solution 2:** As [Professor mentioned][1], please make sure that `java -version` and `javac -version` are the same.\r\n\r\n**Note:** Solution 1 is a quick fix and worked for me and a few other people. It may or may not work for you. I think Solution 2 is the proper way to solve it.\r\n\r\n[1]:https://stackoverflow.com/a/57796364/5136131","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p><strong>Solution 1:</strong> Right-click on the class that contains the main method. Click on &quot;Run As&quot;. Click on &quot;Java Application&quot;. The keyboard shortcut is: <kbd>Shift</kbd> + <kbd>Alt</kbd> + <kbd>X</kbd>, <kbd>J</kbd> (while holding <kbd>Shift</kbd> and <kbd>Alt</kbd>, press <kbd>X</kbd>; then release <kbd>Shift</kbd> and <kbd>Alt</kbd> and press <kbd>J</kbd>).</p>\n<p><strong>Solution 2:</strong> As <a href=\"https://stackoverflow.com/a/57796364/5136131\">Professor mentioned</a>, please make sure that <code>java -version</code> and <code>javac -version</code> are the same.</p>\n<p><strong>Note:</strong> Solution 1 is a quick fix and worked for me and a few other people. It may or may not work for you. I think Solution 2 is the proper way to solve it.</p>\n"},{"tags":[],"owner":{"account_id":3273526,"reputation":2016,"user_id":3951770,"display_name":"H S Rathore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653261325,"creation_date":1460233211,"answer_id":36522207,"question_id":22381202,"body_markdown":"I faced a similar problem and then got the solution in the package name.\r\n\r\nI kept the package name as *java.basics*. In the console I got a hint for that as it clearly said &quot;Prohibited package name&quot;. So I changed the package name and it worked.\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>I faced a similar problem and then got the solution in the package name.</p>\n<p>I kept the package name as <em>java.basics</em>. In the console I got a hint for that as it clearly said &quot;Prohibited package name&quot;. So I changed the package name and it worked.</p>\n"},{"tags":[],"owner":{"account_id":4643474,"reputation":141,"user_id":3762586,"display_name":"CoDeSigns"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1584850390,"creation_date":1476918179,"answer_id":40142879,"question_id":22381202,"body_markdown":"I had similar issues when using &#39;java&#39; at the beginning of the package name, e.g. `java.jem.pc`\r\n\r\nCheck your console output, I was receiving: \r\n```\r\nException in thread &quot;main&quot; java.lang.SecurityException: Prohibited package name: java.jem.pc\r\n```\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>I had similar issues when using 'java' at the beginning of the package name, e.g. <code>java.jem.pc</code></p>\n\n<p>Check your console output, I was receiving: </p>\n\n<pre><code>Exception in thread \"main\" java.lang.SecurityException: Prohibited package name: java.jem.pc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9705241,"reputation":181,"user_id":7198862,"display_name":"Miguel Ormita"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1653261636,"creation_date":1479892294,"answer_id":40760135,"question_id":22381202,"body_markdown":"You can check the console first to see the actual error message and then proceed by looking for answers for that error.\r\n\r\nMy console shows the error NoClassDefFound for the class *jcommander*.\r\n\r\nYour error will probably be different from mine. The cause of my error is that the class *jcommander* is not in my M2 repository, so I just have to add that dependency in my *pom.xml* file. You can check if all the class dependencies are all declared and added in your current configuration and project build.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[NoClassDefFoundError][1]\r\n\r\n  [1]: https://i.stack.imgur.com/kZhXg.png\r\n\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>You can check the console first to see the actual error message and then proceed by looking for answers for that error.</p>\n<p>My console shows the error NoClassDefFound for the class <em>jcommander</em>.</p>\n<p>Your error will probably be different from mine. The cause of my error is that the class <em>jcommander</em> is not in my M2 repository, so I just have to add that dependency in my <em>pom.xml</em> file. You can check if all the class dependencies are all declared and added in your current configuration and project build.</p>\n<p><a href=\"https://i.stack.imgur.com/kZhXg.png\" rel=\"nofollow noreferrer\">NoClassDefFoundError</a></p>\n"},{"tags":[],"owner":{"account_id":4766870,"reputation":135,"user_id":3852778,"display_name":"Devendra"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1653261719,"creation_date":1484610482,"answer_id":41686857,"question_id":22381202,"body_markdown":"I also faced the same issue. By looking at the console that&#39;s saying\r\n\r\n&gt; java.lang.SecurityException issue.\r\n\r\nthe solution is: Check your package name of your project.\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>I also faced the same issue. By looking at the console that's saying</p>\n<blockquote>\n<p>java.lang.SecurityException issue.</p>\n</blockquote>\n<p>the solution is: Check your package name of your project.</p>\n"},{"tags":[],"owner":{"account_id":1391349,"reputation":501,"user_id":1322111,"display_name":"erank"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653266681,"creation_date":1497280427,"answer_id":44502913,"question_id":22381202,"body_markdown":"It can happen if the JDK version is different.\r\n\r\nTry this with [Maven][1]:\r\n\r\n```lang-xml\r\n&lt;properties&gt;\r\n    &lt;jdk.version&gt;1.8&lt;/jdk.version&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\nunder *Build* &amp;rarr; *plugins*:\r\n\r\n```lang-xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.2&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;source&gt;${jdk.version}&lt;/source&gt;\r\n        &lt;target&gt;${jdk.version}&lt;/target&gt;\r\n    &lt;/configuration&gt;\r\n\r\n&lt;/plugin&gt;\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Maven\r\n\r\n\r\n\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>It can happen if the JDK version is different.</p>\n<p>Try this with <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;jdk.version&gt;1.8&lt;/jdk.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>under <em>Build</em> → <em>plugins</em>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;${jdk.version}&lt;/source&gt;\n        &lt;target&gt;${jdk.version}&lt;/target&gt;\n    &lt;/configuration&gt;\n\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6356622,"reputation":21,"user_id":4933662,"display_name":"Keshav Bisarwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499065661,"creation_date":1499065661,"answer_id":44879634,"question_id":22381202,"body_markdown":"Check your console. It says java.lang.SecurityException issue. Change your &#39;package name&#39;. I changed my package name from &#39;java.assessment&#39; to &#39;assesment&#39; and it worked for me. \r\nIf somebody knows the root cause , let me know please.","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>Check your console. It says java.lang.SecurityException issue. Change your 'package name'. I changed my package name from 'java.assessment' to 'assesment' and it worked for me. \nIf somebody knows the root cause , let me know please.</p>\n"},{"tags":[],"owner":{"account_id":8169868,"reputation":41,"user_id":6150731,"display_name":"Bheemashankar Pattar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653266865,"creation_date":1501912462,"answer_id":45518749,"question_id":22381202,"body_markdown":"Edit the &quot;.classpath&quot; and include the below tag:\r\n\r\n  `&lt;classpathentry kind=&quot;con&quot; path=&quot;org.testng.TESTNG_CONTAINER&quot;/&gt;`\r\n\r\nThis could solve your problem.\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>Edit the &quot;.classpath&quot; and include the below tag:</p>\n<p><code>&lt;classpathentry kind=&quot;con&quot; path=&quot;org.testng.TESTNG_CONTAINER&quot;/&gt;</code></p>\n<p>This could solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":11563308,"reputation":159,"user_id":8472395,"display_name":"user8472395"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1653266926,"creation_date":1502884916,"answer_id":45713032,"question_id":22381202,"body_markdown":"**Error:** A JNI error has occurred, please check your installation and try again in Eclipse\r\n\r\n**Solution:** Check your package name as it may be colliding with the package name in Java. Simply change the package name to resolve your issue. :)\r\n\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p><strong>Error:</strong> A JNI error has occurred, please check your installation and try again in Eclipse</p>\n<p><strong>Solution:</strong> Check your package name as it may be colliding with the package name in Java. Simply change the package name to resolve your issue. :)</p>\n"},{"tags":[],"owner":{"account_id":8709840,"reputation":1285,"user_id":6516391,"accept_rate":67,"display_name":"DvixExtract"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1653267059,"creation_date":1507935687,"answer_id":46739092,"question_id":22381202,"body_markdown":"In my case the issue was caused by the **JDK version**. To solve this I suggest to go into your [POM][1] file and check the `&lt;jdk.version&gt;1.7&lt;/jdk.version&gt;.`\r\n\r\nAfterwards, check the Java version in your [cmd][2] (Windows) or terminal (OS&amp;nbsp;X or Linux) by typing: **java -version**.\r\n\r\nCompare the version shown in the terminal/command prompt with what you have in your POM file. Make sure they are the same. Then run your project again.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n  [2]: https://en.wikipedia.org/wiki/Cmd.exe\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>In my case the issue was caused by the <strong>JDK version</strong>. To solve this I suggest to go into your <a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a> file and check the <code>&lt;jdk.version&gt;1.7&lt;/jdk.version&gt;.</code></p>\n<p>Afterwards, check the Java version in your <a href=\"https://en.wikipedia.org/wiki/Cmd.exe\" rel=\"nofollow noreferrer\">cmd</a> (Windows) or terminal (OS X or Linux) by typing: <strong>java -version</strong>.</p>\n<p>Compare the version shown in the terminal/command prompt with what you have in your POM file. Make sure they are the same. Then run your project again.</p>\n"},{"tags":[],"owner":{"account_id":9567158,"reputation":11,"user_id":7106060,"display_name":"Eric Forte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653267214,"creation_date":1508441761,"answer_id":46837592,"question_id":22381202,"body_markdown":"In my project I had changed my Maven [POM][1] file and removed the entry for maven-jar-plugin.\r\n\r\nWhen you build a JAR file whose purpose is to be executable, you need to include this so that certain entries get written into the manifest.  I opened the old project, copied that entry (with some modifications for project name) and it worked.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>In my project I had changed my Maven <a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a> file and removed the entry for maven-jar-plugin.</p>\n<p>When you build a JAR file whose purpose is to be executable, you need to include this so that certain entries get written into the manifest.  I opened the old project, copied that entry (with some modifications for project name) and it worked.</p>\n"},{"tags":[],"owner":{"account_id":12862737,"reputation":1,"user_id":9303984,"display_name":"Mohamed Abdelmagid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653267301,"creation_date":1517557449,"answer_id":48577965,"question_id":22381202,"body_markdown":"I think this happens because the name of your class is the same name of another class in the JDK. Help [Eclipse][1] to determine which one you are trying to run by selecting the package your class is in. Go to **run configuration**, select the project and the **main class**.\r\n\r\nWhen you press the search button to select the main class, you will find options that have the same name **but different package**, select your class.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Eclipse_%28software%29\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>I think this happens because the name of your class is the same name of another class in the JDK. Help <a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"nofollow noreferrer\">Eclipse</a> to determine which one you are trying to run by selecting the package your class is in. Go to <strong>run configuration</strong>, select the project and the <strong>main class</strong>.</p>\n<p>When you press the search button to select the main class, you will find options that have the same name <strong>but different package</strong>, select your class.</p>\n"},{"tags":[],"owner":{"account_id":7165101,"reputation":11,"user_id":5474483,"display_name":"Muhammad Soroya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653267479,"creation_date":1519793706,"answer_id":49022210,"question_id":22381202,"body_markdown":"***Possible solution***\r\n\r\nIf *none* of these solutions worked for you then try this... I finally got mine working by deleting the two folders &quot;.metadata&quot; and &quot;.recommenders&quot; in the workspace folder.\r\n\r\nYou can find your workspace folder path by clicking on menu *File* &amp;rarr; *Switch Workspace* &amp;rarr; *Other* in the Eclipse application&#39;s toolbar.\r\n\r\nNow I am a complete noob crying my way through an [software engineering][1] degree at San Jose State University. So I am just sharing what worked for me without knowing much knowledge of why exactly.\r\n\r\nI do not know what harm or headaches, or even if both aforementioned folders needed to be deleted. But in the end, it worked for me and it seems the application just recreates fresh versions of those folders anyway.\r\n\r\n  [1]: https://en.wiktionary.org/wiki/software_engineering#Noun\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p><em><strong>Possible solution</strong></em></p>\n<p>If <em>none</em> of these solutions worked for you then try this... I finally got mine working by deleting the two folders &quot;.metadata&quot; and &quot;.recommenders&quot; in the workspace folder.</p>\n<p>You can find your workspace folder path by clicking on menu <em>File</em> → <em>Switch Workspace</em> → <em>Other</em> in the Eclipse application's toolbar.</p>\n<p>Now I am a complete noob crying my way through an <a href=\"https://en.wiktionary.org/wiki/software_engineering#Noun\" rel=\"nofollow noreferrer\">software engineering</a> degree at San Jose State University. So I am just sharing what worked for me without knowing much knowledge of why exactly.</p>\n<p>I do not know what harm or headaches, or even if both aforementioned folders needed to be deleted. But in the end, it worked for me and it seems the application just recreates fresh versions of those folders anyway.</p>\n"},{"tags":[],"owner":{"account_id":4699401,"reputation":1032,"user_id":3803419,"accept_rate":100,"display_name":"Chris C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527612239,"creation_date":1521832319,"answer_id":49456858,"question_id":22381202,"body_markdown":"My issue came from trying to disable the Maven nature from my project and then deleting the `pom.xml` file.  This is bad, very bad, don&#39;t do this.  If you do, change it back to a Maven project and hopefully you can either restore your old `pom.xml` file or create a new one.  As soon as I did that, it worked again.\r\n\r\nEDIT:  I recently ran across this problem again and this time it was because I had duplicate libraries in my classpath.  The one Maven added (which started with /M2_REPO/.... and then one I had added (which I should not have done).  Even though Eclipse was reporting that it could not find the class, the actual problem was that I had given it two libraries with the same class and it didn&#39;t know which one to use.  Once I removed the second reference, it worked.","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>My issue came from trying to disable the Maven nature from my project and then deleting the <code>pom.xml</code> file.  This is bad, very bad, don't do this.  If you do, change it back to a Maven project and hopefully you can either restore your old <code>pom.xml</code> file or create a new one.  As soon as I did that, it worked again.</p>\n\n<p>EDIT:  I recently ran across this problem again and this time it was because I had duplicate libraries in my classpath.  The one Maven added (which started with /M2_REPO/.... and then one I had added (which I should not have done).  Even though Eclipse was reporting that it could not find the class, the actual problem was that I had given it two libraries with the same class and it didn't know which one to use.  Once I removed the second reference, it worked.</p>\n"},{"tags":[],"owner":{"account_id":2707688,"reputation":773,"user_id":2336934,"display_name":"dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653334614,"creation_date":1522178432,"answer_id":49520888,"question_id":22381202,"body_markdown":"There was no information in my console so that sent me searching for additional solutions and found these - unique to the solutions presented here.  I encountered this with [Eclipse&amp;nbsp;v4.7][1] (Oxygen) trying to run an old [Ant][2] build on a project.\r\n\r\n### Cause 1\r\n\r\nI had configured Eclipse to use an external Ant install which was version 1.10.2 which apparently had classes in it that were compiled with JDK 9.  In Eclipse I got the [JNI][3] error described above (running the Ant build at the command line gave me the renowned &#39;unsupported major.minor version&#39; error - the Java I was using on the system was JDK 8).\r\n\r\nThe solution was to roll back to the embedded Eclipse version of Ant being 1.10.1.  I verified this as the correct solution by downloading Ant 1.10.1 separately and reconfiguring Eclipse to use the new 1.10.1 externally and it still worked.\r\n\r\n### Cause 2\r\n\r\nThis can also happen when you have the Ant Runtime settings configured incorrectly in Eclipse&#39;s Preferences.  Depending on the version of Ant you&#39;re running you will need to add the *tools.jar* file from the appropriate JDK to the classpath used for the Ant Runtime (Home Entries).  More specifically, without a proper configuration, Eclipse will complain when launching an Ant target that the [JRE][4] version is less than a particular required version.\r\n\r\nEssentially, &#39;proper configuration&#39; means aligning each of the configuration items in Eclipse for running Ant so that they all work together.  This involves the *Ant Runtime Home* entry (must point to an Ant version that is compatible with your chosen JDK -- you can&#39;t run Ant with JDK 8 when it was compiled against JDK 9); specifying the `tools.jar` that belongs to the JDK you want to run Ant with in the Ant Runtime settings; and lastly setting the JRE environment of your build script to the JDK you want to run Ant with in the *External Tools* Configuration.\r\n\r\nAll three of these settings need to agree to avoid the error described above.  You&#39;ll also need to consider the attributes used in your `javac` tag to ensure the JDK you&#39;re using is capable of executing as you&#39;ve directed (i.e., JDK 7 can&#39;t compile code using source and target version 8).\r\n\r\n### Moreover\r\n\r\nIf you&#39;re really just trying to run an Ant build script to compile code to an older JDK (e.g., less than 8 for Oxygen), this article helped gain access to [run Ant against an older JDK][5].  There are Ant plugin replacements for a handful of versions of Eclipse, the instructions are brief and getting the correct plugin version for your particular Eclipse is important.\r\n\r\nOr *more simply* you can use this very good solution [to do your legacy compile][6] which doesn&#39;t require replacing your Eclipse plugin, but instead changing the `javac` tag in your build script (while using the latest JDK).\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Eclipse_%28software%29#Releases\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Ant\r\n  [3]: https://en.wikipedia.org/wiki/Java_Native_Interface\r\n  [4]: https://en.wikipedia.org/wiki/Java_virtual_machine#Java_Runtime_Environment\r\n  [5]: https://stackoverflow.com/a/32791390/2336934 &quot;against an older JDK.&quot;\r\n  [6]: https://stackoverflow.com/a/31216261/2336934\r\n\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>There was no information in my console so that sent me searching for additional solutions and found these - unique to the solutions presented here.  I encountered this with <a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29#Releases\" rel=\"nofollow noreferrer\">Eclipse v4.7</a> (Oxygen) trying to run an old <a href=\"https://en.wikipedia.org/wiki/Apache_Ant\" rel=\"nofollow noreferrer\">Ant</a> build on a project.</p>\n<h3>Cause 1</h3>\n<p>I had configured Eclipse to use an external Ant install which was version 1.10.2 which apparently had classes in it that were compiled with JDK 9.  In Eclipse I got the <a href=\"https://en.wikipedia.org/wiki/Java_Native_Interface\" rel=\"nofollow noreferrer\">JNI</a> error described above (running the Ant build at the command line gave me the renowned 'unsupported major.minor version' error - the Java I was using on the system was JDK 8).</p>\n<p>The solution was to roll back to the embedded Eclipse version of Ant being 1.10.1.  I verified this as the correct solution by downloading Ant 1.10.1 separately and reconfiguring Eclipse to use the new 1.10.1 externally and it still worked.</p>\n<h3>Cause 2</h3>\n<p>This can also happen when you have the Ant Runtime settings configured incorrectly in Eclipse's Preferences.  Depending on the version of Ant you're running you will need to add the <em>tools.jar</em> file from the appropriate JDK to the classpath used for the Ant Runtime (Home Entries).  More specifically, without a proper configuration, Eclipse will complain when launching an Ant target that the <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine#Java_Runtime_Environment\" rel=\"nofollow noreferrer\">JRE</a> version is less than a particular required version.</p>\n<p>Essentially, 'proper configuration' means aligning each of the configuration items in Eclipse for running Ant so that they all work together.  This involves the <em>Ant Runtime Home</em> entry (must point to an Ant version that is compatible with your chosen JDK -- you can't run Ant with JDK 8 when it was compiled against JDK 9); specifying the <code>tools.jar</code> that belongs to the JDK you want to run Ant with in the Ant Runtime settings; and lastly setting the JRE environment of your build script to the JDK you want to run Ant with in the <em>External Tools</em> Configuration.</p>\n<p>All three of these settings need to agree to avoid the error described above.  You'll also need to consider the attributes used in your <code>javac</code> tag to ensure the JDK you're using is capable of executing as you've directed (i.e., JDK 7 can't compile code using source and target version 8).</p>\n<h3>Moreover</h3>\n<p>If you're really just trying to run an Ant build script to compile code to an older JDK (e.g., less than 8 for Oxygen), this article helped gain access to <a href=\"https://stackoverflow.com/a/32791390/2336934\" title=\"against an older JDK.\">run Ant against an older JDK</a>.  There are Ant plugin replacements for a handful of versions of Eclipse, the instructions are brief and getting the correct plugin version for your particular Eclipse is important.</p>\n<p>Or <em>more simply</em> you can use this very good solution <a href=\"https://stackoverflow.com/a/31216261/2336934\">to do your legacy compile</a> which doesn't require replacing your Eclipse plugin, but instead changing the <code>javac</code> tag in your build script (while using the latest JDK).</p>\n"},{"tags":[],"owner":{"account_id":2048169,"reputation":865,"user_id":1827796,"display_name":"Ioannis Tsiokos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653334747,"creation_date":1523550610,"answer_id":49801696,"question_id":22381202,"body_markdown":"I have been running into the same error when I adding the following [Maven][1] dependency in my project:\r\n\r\n    &lt;artifactId&gt;aws-encryption-sdk-java&lt;/artifactId&gt;\r\n\r\nThe error came up only when I ran the shade JAR file produced by **maven-shade-plugin**. I was able to overcome the error by using the JAR file produced by **maven-assembly-plugin**.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Maven\r\n\r\n\r\n\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>I have been running into the same error when I adding the following <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> dependency in my project:</p>\n<pre><code>&lt;artifactId&gt;aws-encryption-sdk-java&lt;/artifactId&gt;\n</code></pre>\n<p>The error came up only when I ran the shade JAR file produced by <strong>maven-shade-plugin</strong>. I was able to overcome the error by using the JAR file produced by <strong>maven-assembly-plugin</strong>.</p>\n"},{"tags":[],"owner":{"account_id":11293040,"reputation":24,"user_id":8281384,"display_name":"Shyamjeet Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653334876,"creation_date":1525686643,"answer_id":50211347,"question_id":22381202,"body_markdown":"All is not working for me, but *once* I delete the &quot;.metadata&quot; and &quot;.recommenders&quot; of the workspace, delete the &quot;bin&quot; and &quot;setting&quot; folders, and then after I reimport the same project, then it works for me.\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>All is not working for me, but <em>once</em> I delete the &quot;.metadata&quot; and &quot;.recommenders&quot; of the workspace, delete the &quot;bin&quot; and &quot;setting&quot; folders, and then after I reimport the same project, then it works for me.</p>\n"},{"tags":[],"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653335005,"creation_date":1527845291,"answer_id":50640253,"question_id":22381202,"body_markdown":"I faced the same issue in NetBeans 8.0.2. *Clean and Build Project* solved this problem.\r\n\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>I faced the same issue in NetBeans 8.0.2. <em>Clean and Build Project</em> solved this problem.</p>\n"},{"tags":[],"owner":{"account_id":12984111,"reputation":1,"user_id":9407384,"display_name":"Gihan Wijesuriya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653335224,"creation_date":1528525752,"answer_id":50771562,"question_id":22381202,"body_markdown":"In [NetBeans][1] 8.0.2:\r\n\r\n1. right-click on your package.\r\n2. Select &quot;Properties&quot;.\r\n3. Go to &quot;Run&quot; option.\r\n4. Select the main class by browsing your class name.\r\n5. Click the &lt;kbd&gt;OK&lt;/kbd&gt; button.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/NetBeans\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>In <a href=\"https://en.wikipedia.org/wiki/NetBeans\" rel=\"nofollow noreferrer\">NetBeans</a> 8.0.2:</p>\n<ol>\n<li>right-click on your package.</li>\n<li>Select &quot;Properties&quot;.</li>\n<li>Go to &quot;Run&quot; option.</li>\n<li>Select the main class by browsing your class name.</li>\n<li>Click the <kbd>OK</kbd> button.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9973312,"reputation":173,"user_id":8007803,"accept_rate":40,"display_name":"lupin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529861548,"creation_date":1529861548,"answer_id":51012359,"question_id":22381202,"body_markdown":"You can try:\r\nright click on the project and then click clean. After this run the project.\r\n\r\nIt works for me.","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>You can try:\nright click on the project and then click clean. After this run the project.</p>\n\n<p>It works for me.</p>\n"},{"tags":[],"owner":{"account_id":13775770,"reputation":1,"user_id":9942155,"display_name":"Kuber Pujar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653335625,"creation_date":1530088483,"answer_id":51058158,"question_id":22381202,"body_markdown":"The programs which has been written on one version of JDK won&#39;t support the [JNI][1] platform of another version of the JDK.\r\n\r\nIf in case we are using JDK 10 and JDK 8 with Eclipse configured for JDK 10 and code written on JDK 10. Now, I don&#39;t want to use JDK 10 and started using JDK 8 as jvm and tried to run the code which is written on JDK 10, so Eclipse will threw an error of JNI.\r\n\r\nSo, to come out of this error, please add the current JVM path to *eclipse.ini* file. After this, copy the written code to the clipboard. Delete the project in Eclipse, create a new project, check in the copied code, and run.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Native_Interface\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>The programs which has been written on one version of JDK won't support the <a href=\"https://en.wikipedia.org/wiki/Java_Native_Interface\" rel=\"nofollow noreferrer\">JNI</a> platform of another version of the JDK.</p>\n<p>If in case we are using JDK 10 and JDK 8 with Eclipse configured for JDK 10 and code written on JDK 10. Now, I don't want to use JDK 10 and started using JDK 8 as jvm and tried to run the code which is written on JDK 10, so Eclipse will threw an error of JNI.</p>\n<p>So, to come out of this error, please add the current JVM path to <em>eclipse.ini</em> file. After this, copy the written code to the clipboard. Delete the project in Eclipse, create a new project, check in the copied code, and run.</p>\n"},{"tags":[],"owner":{"account_id":13133987,"reputation":407,"user_id":9487663,"display_name":"Salvador Vigo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1653335816,"creation_date":1534948915,"answer_id":51969390,"question_id":22381202,"body_markdown":"I faced a similar problem with a project, in [IntelliJ][1] with [Maven][2] dependencies.\r\n\r\nI solved it changing the dependencies scope from provided to compile.\r\n\r\n**IntelliJ**:\r\n\r\nMenu &amp;rarr; *File* &amp;rarr; *Project structure* &amp;rarr; *Modules* &amp;rarr; *Dependencies* &amp;rarr; *Scope (provide to) &amp;rarr; *Compile*.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Maven\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>I faced a similar problem with a project, in <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ</a> with <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> dependencies.</p>\n<p>I solved it changing the dependencies scope from provided to compile.</p>\n<p><strong>IntelliJ</strong>:</p>\n<p>Menu → <em>File</em> → <em>Project structure</em> → <em>Modules</em> → <em>Dependencies</em> → *Scope (provide to) → <em>Compile</em>.</p>\n"},{"tags":[],"owner":{"account_id":10600327,"reputation":237,"user_id":7807453,"display_name":"Jasmohan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653335903,"creation_date":1536818280,"answer_id":52307464,"question_id":22381202,"body_markdown":"I have found that adding these lines of code to the *pom.xml* file of a [Maven][1] project solves similar issues for me:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;com.packagename.MainClassName&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Maven\r\n\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>I have found that adding these lines of code to the <em>pom.xml</em> file of a <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> project solves similar issues for me:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;com.packagename.MainClassName&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12616405,"reputation":63,"user_id":9173705,"display_name":"ntucci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654006272,"creation_date":1537970366,"answer_id":52519542,"question_id":22381202,"body_markdown":"If the problem occurs while launching [Ant][1], check your Ant home: it must point to the same Eclipse folder you are running.\r\n\r\nIt happened to me while I reinstalled a new Eclipse version and deleted the previous Eclipse folder while keeping the previous Ant home: Ant simply did not find any Java library.\r\n\r\nIn this case the reason is not a bad JDK version.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Ant\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>If the problem occurs while launching <a href=\"https://en.wikipedia.org/wiki/Apache_Ant\" rel=\"nofollow noreferrer\">Ant</a>, check your Ant home: it must point to the same Eclipse folder you are running.</p>\n<p>It happened to me while I reinstalled a new Eclipse version and deleted the previous Eclipse folder while keeping the previous Ant home: Ant simply did not find any Java library.</p>\n<p>In this case the reason is not a bad JDK version.</p>\n"},{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1653485687,"creation_date":1543485845,"answer_id":53536389,"question_id":22381202,"body_markdown":"Running the jar from command line by:\r\n\r\n    C:\\folder\\where\\jar\\stored&gt;java -jar JarName.jar\r\n\r\nI got information which made the problem clearer:\r\n\r\n&gt; main/Main has been compiled by a more recent version of the Java\r\n&gt; Runtime\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn this case, the jar was compiled with a version newer than jre supports. \r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tqsc3.png","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>Running the jar from command line by:</p>\n<pre><code>C:\\folder\\where\\jar\\stored&gt;java -jar JarName.jar\n</code></pre>\n<p>I got information which made the problem clearer:</p>\n<blockquote>\n<p>main/Main has been compiled by a more recent version of the Java\nRuntime</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/tqsc3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tqsc3.png\" alt=\"enter image description here\" /></a></p>\n<p>In this case, the jar was compiled with a version newer than jre supports.</p>\n"},{"tags":[],"owner":{"account_id":287314,"reputation":77,"user_id":587048,"display_name":"kiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653336809,"creation_date":1547621963,"answer_id":54211839,"question_id":22381202,"body_markdown":"I have faced the same issue due to the packaged name being &quot;Java&quot;. After renaming the package, it was no longer throwing an error.\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>I have faced the same issue due to the packaged name being &quot;Java&quot;. After renaming the package, it was no longer throwing an error.</p>\n"},{"tags":[],"owner":{"account_id":9370313,"reputation":246,"user_id":7592533,"display_name":"dbakiu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562145422,"creation_date":1562145422,"answer_id":56866792,"question_id":22381202,"body_markdown":"I experienced the same issue, however in my case it was due to the Configuration settings in IntelliJ IDEA.\r\n\r\nEven though the project SDK (File -&gt; Project Structure) was set to Java 11, the JRE in the Run/Debug Configurations (Run -&gt; Edit Configurations) was set to Java 8. \r\nAfter changing that to Java 11, it worked like a charm. \r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>I experienced the same issue, however in my case it was due to the Configuration settings in IntelliJ IDEA.</p>\n\n<p>Even though the project SDK (File -> Project Structure) was set to Java 11, the JRE in the Run/Debug Configurations (Run -> Edit Configurations) was set to Java 8. \nAfter changing that to Java 11, it worked like a charm. </p>\n"},{"tags":[],"owner":{"account_id":8687130,"reputation":3464,"user_id":6501190,"accept_rate":83,"display_name":"java-addict301"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653337118,"creation_date":1562961952,"answer_id":57013450,"question_id":22381202,"body_markdown":"In my case, Eclipse was giving me this error, but I was getting *classnotfoundexception* on `javax.servlet.http.HttpServlet` in the logs.\r\n\r\nIn my case, I was trying to start a [Spring Boot][1] application with `exclude module: &#39;spring-boot-starter-tomcat&#39;` in my *build.gradle* file (since I&#39;m deploying on [WildFly][2]).\r\n\r\nThe solution was to comment this exclude out.  The Eclipse [JNI][3] error was very misleading and I would suggest fixing this.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\r\n  [2]: https://en.wikipedia.org/wiki/WildFly\r\n  [3]: https://en.wikipedia.org/wiki/Java_Native_Interface\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>In my case, Eclipse was giving me this error, but I was getting <em>classnotfoundexception</em> on <code>javax.servlet.http.HttpServlet</code> in the logs.</p>\n<p>In my case, I was trying to start a <a href=\"https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\" rel=\"nofollow noreferrer\">Spring Boot</a> application with <code>exclude module: 'spring-boot-starter-tomcat'</code> in my <em>build.gradle</em> file (since I'm deploying on <a href=\"https://en.wikipedia.org/wiki/WildFly\" rel=\"nofollow noreferrer\">WildFly</a>).</p>\n<p>The solution was to comment this exclude out.  The Eclipse <a href=\"https://en.wikipedia.org/wiki/Java_Native_Interface\" rel=\"nofollow noreferrer\">JNI</a> error was very misleading and I would suggest fixing this.</p>\n"},{"tags":[],"owner":{"account_id":3161718,"reputation":45,"user_id":2672641,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653337199,"creation_date":1563526516,"answer_id":57108908,"question_id":22381202,"body_markdown":"I had the same issue. I had imported a newer version of a JSON library (I deleted the old one, but I did not remove it from the build path).\r\n\r\nI resolved it by removing the reference to the old one from the build path.\r\n\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>I had the same issue. I had imported a newer version of a JSON library (I deleted the old one, but I did not remove it from the build path).</p>\n<p>I resolved it by removing the reference to the old one from the build path.</p>\n"},{"tags":[],"owner":{"account_id":8904754,"reputation":163,"user_id":6647014,"display_name":"juancarlosun"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1653337247,"creation_date":1565369538,"answer_id":57434316,"question_id":22381202,"body_markdown":"I solved it by changing my &#39;Compiler compliance level&#39;. In Eclipse:\r\n\r\nMenu *Window* &amp;rarr; *Preferences* &amp;rarr; *Java* &amp;rarr; *Compiler*.\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>I solved it by changing my 'Compiler compliance level'. In Eclipse:</p>\n<p>Menu <em>Window</em> → <em>Preferences</em> → <em>Java</em> → <em>Compiler</em>.</p>\n"},{"tags":[],"owner":{"account_id":9790143,"reputation":799,"user_id":7255058,"display_name":"Professor"},"down_vote_count":1,"up_vote_count":73,"is_accepted":false,"score":72,"last_activity_date":1653337435,"creation_date":1567636505,"answer_id":57796364,"question_id":22381202,"body_markdown":"I have been having this problem for a while, but now I have figured it out.\r\n\r\nIt turns out that Java JDK 12 has both the JRE and the JDK inside the *bin* folder of the Java 12 JDK. (I have always believed that JRE and JDK are different application, but it turns out things have changed.)\r\n\r\nMy problem was that I had Java JDK 12 installed on my computer. At the same time, I had Java 8 (JRE) Installed on my computer. So my computer was getting confused.\r\n\r\nWith my command prompt environment set up to run Java and Javac commands:\r\n\r\nI typed the follow commands:\r\n\r\n```\r\njava -version\r\n```\r\n\r\nThis gave me Java 8.\r\n\r\nAfter that, I typed:\r\n\r\n```\r\njavac -version\r\n```\r\n\r\nThis gave me Java 12.\r\n\r\nIn other words, my program is getting compiled with Java 12 and I am trying to run with Java 8.\r\n\r\nTo solve the problem, I uninstalled Java 8 JRE from my computer.\r\n\r\nI went back to command prompt to check if &quot;java -version&quot; and &quot;javac -version&quot; was returning the same version number, and yes, it was returning Java 12.\r\n\r\nI tried recompiling my program again, and running it. It worked!!\r\n\r\n\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>I have been having this problem for a while, but now I have figured it out.</p>\n<p>It turns out that Java JDK 12 has both the JRE and the JDK inside the <em>bin</em> folder of the Java 12 JDK. (I have always believed that JRE and JDK are different application, but it turns out things have changed.)</p>\n<p>My problem was that I had Java JDK 12 installed on my computer. At the same time, I had Java 8 (JRE) Installed on my computer. So my computer was getting confused.</p>\n<p>With my command prompt environment set up to run Java and Javac commands:</p>\n<p>I typed the follow commands:</p>\n<pre><code>java -version\n</code></pre>\n<p>This gave me Java 8.</p>\n<p>After that, I typed:</p>\n<pre><code>javac -version\n</code></pre>\n<p>This gave me Java 12.</p>\n<p>In other words, my program is getting compiled with Java 12 and I am trying to run with Java 8.</p>\n<p>To solve the problem, I uninstalled Java 8 JRE from my computer.</p>\n<p>I went back to command prompt to check if &quot;java -version&quot; and &quot;javac -version&quot; was returning the same version number, and yes, it was returning Java 12.</p>\n<p>I tried recompiling my program again, and running it. It worked!!</p>\n"},{"tags":[],"owner":{"account_id":8687130,"reputation":3464,"user_id":6501190,"accept_rate":83,"display_name":"java-addict301"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653337578,"creation_date":1569847063,"answer_id":58168076,"question_id":22381202,"body_markdown":"Using [Gradle][1], the following also worked for me:\r\n\r\n*Package Explorer* &amp;rarr; right-click project &amp;rarr; *Gradle* &amp;rarr; *Refresh Gradle Project*.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Gradle\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>Using <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a>, the following also worked for me:</p>\n<p><em>Package Explorer</em> → right-click project → <em>Gradle</em> → <em>Refresh Gradle Project</em>.</p>\n"},{"tags":[],"owner":{"account_id":2496474,"reputation":31,"user_id":2172708,"display_name":"Chiranjib Patra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653337760,"creation_date":1603244578,"answer_id":64455499,"question_id":22381202,"body_markdown":"When we get this error while running our Java application, check if we have some class name or package names starting with ”java.”. If so, change the package name.\r\n\r\nThis is happening because your package name is colliding with Java system file names.\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>When we get this error while running our Java application, check if we have some class name or package names starting with ”java.”. If so, change the package name.</p>\n<p>This is happening because your package name is colliding with Java system file names.</p>\n"},{"tags":[],"owner":{"account_id":3931957,"reputation":10912,"user_id":3250087,"accept_rate":88,"display_name":"spiderman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653339890,"creation_date":1612091836,"answer_id":65978457,"question_id":22381202,"body_markdown":"**Error/Issue:**\r\n\r\nWhile trying to run my application as a Java application or as a [Spring Boot][1] application, I am getting below error\r\n\r\n&gt; A JNI error has occurred, please check your installation and try again.\r\nA Java exception has occurred.\r\n\r\nAs well as getting this error in the console:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/example/demo/IocApplication has been compiled by a more recent version of the Java Runtime (class file version 55.0). This version of the Java Runtime only recognizes class file versions up to 52.0`\r\n\r\n**What is the root cause?**\r\n\r\nThe reason for this error is that\r\n\r\n- the code is getting compiled on a higher version. In my case, it is version 11... and\r\n- the code is getting executed on a lower version. In my case it is version 8.\r\n- I.e., Java (JDK) compiled code on 11, whereas the JRE version is 8.\r\n\r\n**Where did I configure JDK 11 and JRE 8?**\r\n\r\n- I am using SpringToolSuite (STS). When I created the project, the JRE System library was in the build path, which got added as the default JRE library version of 8 (1.8).\r\nBut when I go to the project &amp;rarr; *Properties* &amp;rarr; *Java Compiler* &amp;rarr; *Compiler Compliance Level*, it is by default having a selected version of 11\r\n\r\n**Solution:**\r\n\r\nThe project &amp;rarr; *Properties* &amp;rarr; *Java Compiler* &amp;rarr; *Compiler Compliance Level*\r\n- Set the *Compiler Compliance Level* to 1.8\r\nThat&#39;s it.\r\nNow you are compiling your code in 1.8 and executing the compiled code with a JRE 1.8.\r\n\r\n&lt;sub&gt;The accepted answer did not resolve the issue, hence I am posting what worked for me.&lt;/sub&gt;\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p><strong>Error/Issue:</strong></p>\n<p>While trying to run my application as a Java application or as a <a href=\"https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\" rel=\"nofollow noreferrer\">Spring Boot</a> application, I am getting below error</p>\n<blockquote>\n<p>A JNI error has occurred, please check your installation and try again.\nA Java exception has occurred.</p>\n</blockquote>\n<p>As well as getting this error in the console:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/example/demo/IocApplication has been compiled by a more recent version of the Java Runtime (class file version 55.0). This version of the Java Runtime only recognizes class file versions up to 52.0`</p>\n</blockquote>\n<p><strong>What is the root cause?</strong></p>\n<p>The reason for this error is that</p>\n<ul>\n<li>the code is getting compiled on a higher version. In my case, it is version 11... and</li>\n<li>the code is getting executed on a lower version. In my case it is version 8.</li>\n<li>I.e., Java (JDK) compiled code on 11, whereas the JRE version is 8.</li>\n</ul>\n<p><strong>Where did I configure JDK 11 and JRE 8?</strong></p>\n<ul>\n<li>I am using SpringToolSuite (STS). When I created the project, the JRE System library was in the build path, which got added as the default JRE library version of 8 (1.8).\nBut when I go to the project → <em>Properties</em> → <em>Java Compiler</em> → <em>Compiler Compliance Level</em>, it is by default having a selected version of 11</li>\n</ul>\n<p><strong>Solution:</strong></p>\n<p>The project → <em>Properties</em> → <em>Java Compiler</em> → <em>Compiler Compliance Level</em></p>\n<ul>\n<li>Set the <em>Compiler Compliance Level</em> to 1.8\nThat's it.\nNow you are compiling your code in 1.8 and executing the compiled code with a JRE 1.8.</li>\n</ul>\n<p><sub>The accepted answer did not resolve the issue, hence I am posting what worked for me.</sub></p>\n"},{"tags":[],"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653340026,"creation_date":1613807229,"answer_id":66289223,"question_id":22381202,"body_markdown":"I was facing the same issue and in my case the compiler compliance level was selected as 14 in my Eclipse settings. In order to fix it, I changed it to the version of JDK on my machine i.e 1.8 and recompiled the project.\r\n\r\n[![Enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/7cYsx.png\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>I was facing the same issue and in my case the compiler compliance level was selected as 14 in my Eclipse settings. In order to fix it, I changed it to the version of JDK on my machine i.e 1.8 and recompiled the project.</p>\n<p><a href=\"https://i.stack.imgur.com/7cYsx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7cYsx.png\" alt=\"Enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11543913,"reputation":313,"user_id":8458652,"display_name":"Chandan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653340160,"creation_date":1615044716,"answer_id":66507386,"question_id":22381202,"body_markdown":"This is a core problem. Try `javac --version` and `java --version`. You will see a mismatch or inconsistency. Try to set path variables correctly and you will not see any errors.\r\n\r\nFor Eclipse, right-click on the project &amp;rarr; *Properties*. Then go to project *facets* and set the JDK to the desired version. Then go to run-times and set JRE to the same version. You should be good.\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>This is a core problem. Try <code>javac --version</code> and <code>java --version</code>. You will see a mismatch or inconsistency. Try to set path variables correctly and you will not see any errors.</p>\n<p>For Eclipse, right-click on the project → <em>Properties</em>. Then go to project <em>facets</em> and set the JDK to the desired version. Then go to run-times and set JRE to the same version. You should be good.</p>\n"},{"tags":[],"owner":{"account_id":9786723,"reputation":56,"user_id":7252819,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653340343,"creation_date":1615126240,"answer_id":66517414,"question_id":22381202,"body_markdown":"I&#39;m was trying to run my JAR file (without external JAR files) adding libraries at runtime `java -cp &quot;...&quot; -jar myCode.jar`, but when you specify `-jar` then the `-cp` parameter **will be ignored**.\r\n\r\nSo you can include your JAR file in the classpath and then call your main class:\r\n\r\n`java -cp &quot;myCode.jar:/path/to/jars/*&quot; foo.bar.MyMainClass`\r\n\r\n*https://stackoverflow.com/questions/18413014/run-a-jar-file-from-the-command-line-and-specify-classpath/18413058#18413058*\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>I'm was trying to run my JAR file (without external JAR files) adding libraries at runtime <code>java -cp &quot;...&quot; -jar myCode.jar</code>, but when you specify <code>-jar</code> then the <code>-cp</code> parameter <strong>will be ignored</strong>.</p>\n<p>So you can include your JAR file in the classpath and then call your main class:</p>\n<p><code>java -cp &quot;myCode.jar:/path/to/jars/*&quot; foo.bar.MyMainClass</code></p>\n<p><em><a href=\"https://stackoverflow.com/questions/18413014/run-a-jar-file-from-the-command-line-and-specify-classpath/18413058#18413058\">Run a JAR file from the command line and specify classpath</a></em></p>\n"},{"tags":[],"owner":{"account_id":7591312,"reputation":77,"user_id":5758892,"display_name":"Siddu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653340949,"creation_date":1622995299,"answer_id":67861104,"question_id":22381202,"body_markdown":"While running Java and [JavaFX][1] applications in Eclipse, I have faced the same problem. But I got a simple solution. I have removed JDK 1.8 from the build path and added the same JDK 1.8 to the build path. It works now.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JavaFX\r\n\r\n\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>While running Java and <a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\">JavaFX</a> applications in Eclipse, I have faced the same problem. But I got a simple solution. I have removed JDK 1.8 from the build path and added the same JDK 1.8 to the build path. It works now.</p>\n"},{"tags":[],"owner":{"account_id":15692743,"reputation":476,"user_id":11323252,"display_name":"Rohit Chaurasiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653341076,"creation_date":1633235286,"answer_id":69422079,"question_id":22381202,"body_markdown":"Just check small step...\r\n\r\n```lang-none\r\njavac -version\r\n\r\njavac 17\r\n\r\njava -version\r\n\r\njava version &quot;17&quot; 2021-09-14 LTS\r\n```\r\n\r\nBoth *javac* and *java* versions are the same. If different, you will get this error.\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>Just check small step...</p>\n<pre class=\"lang-none prettyprint-override\"><code>javac -version\n\njavac 17\n\njava -version\n\njava version &quot;17&quot; 2021-09-14 LTS\n</code></pre>\n<p>Both <em>javac</em> and <em>java</em> versions are the same. If different, you will get this error.</p>\n"},{"tags":[],"owner":{"display_name":"user13986674"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653341290,"creation_date":1643474484,"answer_id":70907566,"question_id":22381202,"body_markdown":"I faced the same problem when I checked-out a project from a Git repository.\r\n\r\nTo resolve this, I added these properties in the *pom.xml* file to tell which Java version to use (we are using Java 1.8, but you can use any version number as per your requirement).\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>I faced the same problem when I checked-out a project from a Git repository.</p>\n<p>To resolve this, I added these properties in the <em>pom.xml</em> file to tell which Java version to use (we are using Java 1.8, but you can use any version number as per your requirement).</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5717094,"reputation":61,"user_id":4516893,"display_name":"Palmeta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653341385,"creation_date":1648390489,"answer_id":71637094,"question_id":22381202,"body_markdown":"This problem probably occurs because the JDK versions are inconsistent, and the JAR package will have signature files, which do not affect the logic of the program, but they will cause the test demo to fail. Therefore, you need to delete the signature related files in the JAR package.\r\n\r\nDelete the .DSA and .SF files under meta-inf in the generated JAR file.\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>This problem probably occurs because the JDK versions are inconsistent, and the JAR package will have signature files, which do not affect the logic of the program, but they will cause the test demo to fail. Therefore, you need to delete the signature related files in the JAR package.</p>\n<p>Delete the .DSA and .SF files under meta-inf in the generated JAR file.</p>\n"},{"tags":[],"owner":{"account_id":13080606,"reputation":41,"user_id":9451300,"display_name":"Kossei Necira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680774287,"creation_date":1680773475,"answer_id":75947941,"question_id":22381202,"body_markdown":"I run into a similar issue but in the Android SDK command line tool:\r\n\r\n**Error:** A JNI error has occurred, please check your installation and try again in SDK Manager.\r\n\r\n**Solution:** Cheak your JDK version, SDK manager needs JDK 11 at least to work properly.\r\n\r\n***PS:** Remember to update the system variable&#39;s path to the new location. If it wasn&#39;t there, it would be better if you add it, so you can run SDKManger and other tools directly from the command line.*","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>I run into a similar issue but in the Android SDK command line tool:</p>\n<p><strong>Error:</strong> A JNI error has occurred, please check your installation and try again in SDK Manager.</p>\n<p><strong>Solution:</strong> Cheak your JDK version, SDK manager needs JDK 11 at least to work properly.</p>\n<p><em><strong>PS:</strong> Remember to update the system variable's path to the new location. If it wasn't there, it would be better if you add it, so you can run SDKManger and other tools directly from the command line.</em></p>\n"}],"owner":{"account_id":3691794,"reputation":1117,"user_id":3074217,"accept_rate":62,"display_name":"Jash Parekh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1168544,"favorite_count":0,"down_vote_count":0,"up_vote_count":94,"accepted_answer_id":31523756,"answer_count":42,"score":94,"last_activity_date":1680774287,"creation_date":1394719787,"question_id":22381202,"body_markdown":"Consider:\r\n\r\n```\r\npublic class LoginCumReg implements ActionListener, KeyListener {\r\n\r\n    private JFrame form;\r\n    private JTextField txtunm;\r\n    private JTextField txtnm;\r\n    private JTextField txteml;\r\n    private JButton cmdcreate;\r\n    private JPasswordField txtpass;\r\n    private JPasswordField txtpassreg;\r\n    private JButton cmdok;\r\n    private JLabel lblunm;\r\n    private JLabel lblpass;\r\n    private JLabel lbleml;\r\n    private JLabel lblpassreg;\r\n    private JLabel lblnm;\r\n    private JPanel panel_1;\r\n\r\n    public LoginCumReg() {\r\n        // Construct components\r\n        form = new JFrame(&quot;Sign Up&quot;);\r\n        form.getContentPane().setFont(\r\n                new Font(&quot;Plantagenet Cherokee&quot;, Font.BOLD, 18));\r\n        txtunm = new JTextField(5);\r\n        txtunm.addKeyListener(this);\r\n        txtunm.setBounds(637, 55, 100, 25);\r\n        txtnm = new JTextField(5);\r\n        txtnm.setBounds(637, 228, 100, 25);\r\n        txteml = new JTextField(5);\r\n        txteml.setBounds(637, 264, 100, 25);\r\n        cmdcreate = new JButton(&quot;Create Account&quot;);\r\n        cmdcreate.setBounds(527, 350, 188, 25);\r\n        txtpass = new JPasswordField(5);\r\n        txtpass.setBounds(637, 91, 100, 25);\r\n        txtpassreg = new JPasswordField(5);\r\n        txtpassreg.setBounds(637, 300, 100, 25);\r\n        cmdok = new JButton(&quot;OK&quot;);\r\n        cmdok.setBounds(527, 139, 100, 25);\r\n        lblunm = new JLabel(&quot;UserName&quot;);\r\n        lblunm.setBounds(527, 55, 73, 25);\r\n        lblpass = new JLabel(&quot;Password&quot;);\r\n        lblpass.setBounds(527, 91, 100, 25);\r\n        lbleml = new JLabel(&quot;Email ID&quot;);\r\n        lbleml.setBounds(527, 264, 100, 25);\r\n        lblpassreg = new JLabel(&quot;Password&quot;);\r\n        lblpassreg.setBounds(527, 300, 100, 25);\r\n        lblnm = new JLabel(&quot;Full Name&quot;);\r\n        lblnm.setBounds(527, 228, 100, 25);\r\n\r\n        // form.setResizable(false);\r\n\r\n        // Adjust size and set layout\r\n        form.setPreferredSize(new Dimension(800, 450));\r\n\r\n        form.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        form.getContentPane().setLayout(null);\r\n\r\n        // Add components\r\n        form.getContentPane().add(txtunm);\r\n        form.getContentPane().add(txtnm);\r\n        form.getContentPane().add(txteml);\r\n        form.getContentPane().add(cmdcreate);\r\n        form.getContentPane().add(txtpass);\r\n        form.getContentPane().add(txtpassreg);\r\n        form.getContentPane().add(cmdok);\r\n        form.getContentPane().add(lblunm);\r\n        form.getContentPane().add(lblpass);\r\n        form.getContentPane().add(lbleml);\r\n        form.getContentPane().add(lblpassreg);\r\n        form.getContentPane().add(lblnm);\r\n\r\n        cmdcreate.setActionCommand(&quot;Create Account&quot;);\r\n        cmdcreate.addActionListener(this);\r\n        cmdok.setActionCommand(&quot;Login&quot;);\r\n\r\n        JPanel panel = new JPanel();\r\n        panel.setBounds(502, 29, 254, 154);\r\n        panel.setFont(new Font(&quot;Palatino Linotype&quot;, Font.PLAIN, 14));\r\n        panel.setBorder(new TitledBorder(new EtchedBorder(EtchedBorder.RAISED,\r\n                null, null), &quot;LOGIN&quot;, TitledBorder.LEADING, TitledBorder.TOP,\r\n                null, null));\r\n        panel.setBackground(SystemColor.controlHighlight);\r\n        form.getContentPane().add(panel);\r\n\r\n        panel_1 = new JPanel();\r\n        panel_1.setBounds(500, 204, 254, 186);\r\n        panel_1.setFont(new Font(&quot;Palatino Linotype&quot;, Font.PLAIN, 14));\r\n        panel_1.setBorder(new TitledBorder(new EtchedBorder(\r\n                EtchedBorder.RAISED, null, null), &quot;SIGN UP&quot;,\r\n                TitledBorder.LEADING, TitledBorder.TOP, null, null));\r\n        panel_1.setBackground(SystemColor.controlHighlight);\r\n        form.getContentPane().add(panel_1);\r\n\r\n        JLabel lblNewLabel = new JLabel(&quot;New label&quot;);\r\n        lblNewLabel.setBounds(91, 139, 286, 101);\r\n        lblNewLabel.setIcon(new ImageIcon(\r\n                &quot;C:\\\\Users\\\\JAsh\\\\Desktop\\\\Projects\\\\JAsh.png&quot;));\r\n        form.getContentPane().add(lblNewLabel);\r\n\r\n        JPanel panel_2 = new JPanel();\r\n        panel_2.setBounds(77, 118, 315, 145);\r\n        panel_2.setBorder(new EtchedBorder(EtchedBorder.RAISED,\r\n                SystemColor.activeCaptionBorder, SystemColor.menu));\r\n        panel_2.setBackground(SystemColor.controlHighlight);\r\n        form.getContentPane().add(panel_2);\r\n        cmdok.addActionListener(this);\r\n\r\n        form.setResizable(false);\r\n        form.pack();\r\n        form.setVisible(true);\r\n        System.out.println(&quot;const..&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new LoginCumReg();\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent ae) {\r\n        // TODO Auto-generated method stub\r\n\r\n        if (ae.getActionCommand().equals(&quot;Create Account&quot;)) {\r\n            new Registration(txtnm.getText(), txteml.getText(), new String(\r\n                    txtpassreg.getPassword()));\r\n            form.setVisible(false);\r\n        }\r\n\r\n        if (ae.getActionCommand().equals(&quot;Login&quot;)) {\r\n            try {\r\n                if (txtunm.getText().equalsIgnoreCase(&quot;admin&quot;)\r\n                        &amp;&amp; new String(txtpass.getPassword()).equals(&quot;admin&quot;)) {\r\n                    form.setVisible(false);\r\n                    new Admin();\r\n                } else {\r\n                    DataBase db = new DataBase();\r\n                    db.connect();\r\n                    String sql = &quot;SELECT * FROM LOGIN WHERE USERNAME=&#39;&quot;\r\n                            + txtunm.getText() + &quot;&#39;&quot;;\r\n                    ResultSet rs = db.getDDL(sql);\r\n                    boolean found = false;\r\n                    while (rs.next()) {\r\n                        if (rs.getString(&quot;Password&quot;).equals(\r\n                                new String(txtpass.getPassword()))) {\r\n                            found = true;\r\n                            form.setVisible(false);\r\n                            String name = rs.getString(&quot;FullName&quot;);\r\n                            Session.startSession(txtunm.getText(), name);\r\n                            new FacultyWelcome();\r\n                        }\r\n                    }\r\n                    if (!found)\r\n                        JOptionPane.showMessageDialog(new JFrame(),\r\n                                &quot;Invalid Credentials&quot;);\r\n                    db.close();\r\n                }\r\n            }\r\n            catch (Exception e) {\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent arg0) {\r\n        // TODO Auto-generated method stub\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent arg0) {\r\n        // TODO Auto-generated method stub\r\n    }\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent arg0) {\r\n\r\n        // TODO Auto-generated method stub\r\n        // JOptionPane.showMessageDialog(new JFrame(), arg0.getKeyChar() + &quot;-&quot; + arg0.getKeyCode());\r\n    }\r\n}\r\n```\r\n\r\nThe above code works perfectly on my friend&#39;s laptop and throws this error on my laptop. I have running the code on [Eclipse&amp;nbsp;v4.2][1] (Juno) using Java 7.\r\n\r\nI have also tested and run a lot of Java programs on my laptop all works well. This is the only program which gives such an error.\r\n\r\nHow can I fix this problem?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Eclipse_%28software%29#Releases\r\n\r\n\r\n\r\n","title":"Error &quot;A JNI error has occurred. Please check your installation and try again in Eclipse x86 Windows 8.1&quot;","body":"<p>Consider:</p>\n<pre><code>public class LoginCumReg implements ActionListener, KeyListener {\n\n    private JFrame form;\n    private JTextField txtunm;\n    private JTextField txtnm;\n    private JTextField txteml;\n    private JButton cmdcreate;\n    private JPasswordField txtpass;\n    private JPasswordField txtpassreg;\n    private JButton cmdok;\n    private JLabel lblunm;\n    private JLabel lblpass;\n    private JLabel lbleml;\n    private JLabel lblpassreg;\n    private JLabel lblnm;\n    private JPanel panel_1;\n\n    public LoginCumReg() {\n        // Construct components\n        form = new JFrame(&quot;Sign Up&quot;);\n        form.getContentPane().setFont(\n                new Font(&quot;Plantagenet Cherokee&quot;, Font.BOLD, 18));\n        txtunm = new JTextField(5);\n        txtunm.addKeyListener(this);\n        txtunm.setBounds(637, 55, 100, 25);\n        txtnm = new JTextField(5);\n        txtnm.setBounds(637, 228, 100, 25);\n        txteml = new JTextField(5);\n        txteml.setBounds(637, 264, 100, 25);\n        cmdcreate = new JButton(&quot;Create Account&quot;);\n        cmdcreate.setBounds(527, 350, 188, 25);\n        txtpass = new JPasswordField(5);\n        txtpass.setBounds(637, 91, 100, 25);\n        txtpassreg = new JPasswordField(5);\n        txtpassreg.setBounds(637, 300, 100, 25);\n        cmdok = new JButton(&quot;OK&quot;);\n        cmdok.setBounds(527, 139, 100, 25);\n        lblunm = new JLabel(&quot;UserName&quot;);\n        lblunm.setBounds(527, 55, 73, 25);\n        lblpass = new JLabel(&quot;Password&quot;);\n        lblpass.setBounds(527, 91, 100, 25);\n        lbleml = new JLabel(&quot;Email ID&quot;);\n        lbleml.setBounds(527, 264, 100, 25);\n        lblpassreg = new JLabel(&quot;Password&quot;);\n        lblpassreg.setBounds(527, 300, 100, 25);\n        lblnm = new JLabel(&quot;Full Name&quot;);\n        lblnm.setBounds(527, 228, 100, 25);\n\n        // form.setResizable(false);\n\n        // Adjust size and set layout\n        form.setPreferredSize(new Dimension(800, 450));\n\n        form.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        form.getContentPane().setLayout(null);\n\n        // Add components\n        form.getContentPane().add(txtunm);\n        form.getContentPane().add(txtnm);\n        form.getContentPane().add(txteml);\n        form.getContentPane().add(cmdcreate);\n        form.getContentPane().add(txtpass);\n        form.getContentPane().add(txtpassreg);\n        form.getContentPane().add(cmdok);\n        form.getContentPane().add(lblunm);\n        form.getContentPane().add(lblpass);\n        form.getContentPane().add(lbleml);\n        form.getContentPane().add(lblpassreg);\n        form.getContentPane().add(lblnm);\n\n        cmdcreate.setActionCommand(&quot;Create Account&quot;);\n        cmdcreate.addActionListener(this);\n        cmdok.setActionCommand(&quot;Login&quot;);\n\n        JPanel panel = new JPanel();\n        panel.setBounds(502, 29, 254, 154);\n        panel.setFont(new Font(&quot;Palatino Linotype&quot;, Font.PLAIN, 14));\n        panel.setBorder(new TitledBorder(new EtchedBorder(EtchedBorder.RAISED,\n                null, null), &quot;LOGIN&quot;, TitledBorder.LEADING, TitledBorder.TOP,\n                null, null));\n        panel.setBackground(SystemColor.controlHighlight);\n        form.getContentPane().add(panel);\n\n        panel_1 = new JPanel();\n        panel_1.setBounds(500, 204, 254, 186);\n        panel_1.setFont(new Font(&quot;Palatino Linotype&quot;, Font.PLAIN, 14));\n        panel_1.setBorder(new TitledBorder(new EtchedBorder(\n                EtchedBorder.RAISED, null, null), &quot;SIGN UP&quot;,\n                TitledBorder.LEADING, TitledBorder.TOP, null, null));\n        panel_1.setBackground(SystemColor.controlHighlight);\n        form.getContentPane().add(panel_1);\n\n        JLabel lblNewLabel = new JLabel(&quot;New label&quot;);\n        lblNewLabel.setBounds(91, 139, 286, 101);\n        lblNewLabel.setIcon(new ImageIcon(\n                &quot;C:\\\\Users\\\\JAsh\\\\Desktop\\\\Projects\\\\JAsh.png&quot;));\n        form.getContentPane().add(lblNewLabel);\n\n        JPanel panel_2 = new JPanel();\n        panel_2.setBounds(77, 118, 315, 145);\n        panel_2.setBorder(new EtchedBorder(EtchedBorder.RAISED,\n                SystemColor.activeCaptionBorder, SystemColor.menu));\n        panel_2.setBackground(SystemColor.controlHighlight);\n        form.getContentPane().add(panel_2);\n        cmdok.addActionListener(this);\n\n        form.setResizable(false);\n        form.pack();\n        form.setVisible(true);\n        System.out.println(&quot;const..&quot;);\n    }\n\n    public static void main(String[] args) {\n        new LoginCumReg();\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent ae) {\n        // TODO Auto-generated method stub\n\n        if (ae.getActionCommand().equals(&quot;Create Account&quot;)) {\n            new Registration(txtnm.getText(), txteml.getText(), new String(\n                    txtpassreg.getPassword()));\n            form.setVisible(false);\n        }\n\n        if (ae.getActionCommand().equals(&quot;Login&quot;)) {\n            try {\n                if (txtunm.getText().equalsIgnoreCase(&quot;admin&quot;)\n                        &amp;&amp; new String(txtpass.getPassword()).equals(&quot;admin&quot;)) {\n                    form.setVisible(false);\n                    new Admin();\n                } else {\n                    DataBase db = new DataBase();\n                    db.connect();\n                    String sql = &quot;SELECT * FROM LOGIN WHERE USERNAME='&quot;\n                            + txtunm.getText() + &quot;'&quot;;\n                    ResultSet rs = db.getDDL(sql);\n                    boolean found = false;\n                    while (rs.next()) {\n                        if (rs.getString(&quot;Password&quot;).equals(\n                                new String(txtpass.getPassword()))) {\n                            found = true;\n                            form.setVisible(false);\n                            String name = rs.getString(&quot;FullName&quot;);\n                            Session.startSession(txtunm.getText(), name);\n                            new FacultyWelcome();\n                        }\n                    }\n                    if (!found)\n                        JOptionPane.showMessageDialog(new JFrame(),\n                                &quot;Invalid Credentials&quot;);\n                    db.close();\n                }\n            }\n            catch (Exception e) {\n            }\n        }\n    }\n\n    @Override\n    public void keyPressed(KeyEvent arg0) {\n        // TODO Auto-generated method stub\n    }\n\n    @Override\n    public void keyReleased(KeyEvent arg0) {\n        // TODO Auto-generated method stub\n    }\n\n    @Override\n    public void keyTyped(KeyEvent arg0) {\n\n        // TODO Auto-generated method stub\n        // JOptionPane.showMessageDialog(new JFrame(), arg0.getKeyChar() + &quot;-&quot; + arg0.getKeyCode());\n    }\n}\n</code></pre>\n<p>The above code works perfectly on my friend's laptop and throws this error on my laptop. I have running the code on <a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29#Releases\" rel=\"noreferrer\">Eclipse v4.2</a> (Juno) using Java 7.</p>\n<p>I have also tested and run a lot of Java programs on my laptop all works well. This is the only program which gives such an error.</p>\n<p>How can I fix this problem?</p>\n"},{"tags":["java","android","kotlin","shimmer"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1680774318,"post_id":75948050,"comment_id":133956246,"body_markdown":"Raise an issue on his repo. Go to his profile, try to obtain his email id or some other id, and mail him.","body":"Raise an issue on his repo. Go to his profile, try to obtain his email id or some other id, and mail him."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680779733,"post_id":75948050,"comment_id":133957468,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26846163,"reputation":1,"user_id":20431875,"display_name":"Diphenylamyn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680774138,"creation_date":1680774107,"question_id":75948050,"body_markdown":"I&#39;ve tried to use [KaustubhPatange&#39;s ImageLoaderView](https://github.com/KaustubhPatange/ImageLoaderView) but faced with a impossibility to change colors. Yes, there aren&#39;t any instructions and explanations. \r\n\r\nI&#39;ve set various overlay parameters but there was not any changes. ","title":"KaustubhPatange&#39;s ImageLoaderView is always dark grey. How to change it background and shimmer color?","body":"<p>I've tried to use <a href=\"https://github.com/KaustubhPatange/ImageLoaderView\" rel=\"nofollow noreferrer\">KaustubhPatange's ImageLoaderView</a> but faced with a impossibility to change colors. Yes, there aren't any instructions and explanations.</p>\n<p>I've set various overlay parameters but there was not any changes.</p>\n"},{"tags":["java","javafx","jaxb","javafx-8"],"comments":[{"owner":{"account_id":2932591,"reputation":4163,"user_id":2512399,"display_name":"Michael Markidis"},"score":0,"creation_date":1463610473,"post_id":37310969,"comment_id":62143181,"body_markdown":"Have you tried FXCollections.observableArrayList(); It Creates a new empty observable list that is backed by an arraylist.","body":"Have you tried FXCollections.observableArrayList(); It Creates a new empty observable list that is backed by an arraylist."},{"owner":{"account_id":930090,"reputation":4490,"user_id":960115,"accept_rate":92,"display_name":"Jeff G"},"score":0,"creation_date":1463612969,"post_id":37310969,"comment_id":62143884,"body_markdown":"The problem is that I&#39;m not writing the code... it is generated by JAXB.  I can only tell the code the type to instantiate, and that type must provide a default constructor.","body":"The problem is that I&#39;m not writing the code... it is generated by JAXB.  I can only tell the code the type to instantiate, and that type must provide a default constructor."},{"owner":{"account_id":6960007,"reputation":1313,"user_id":5339807,"display_name":"mascoj"},"score":0,"creation_date":1463615394,"post_id":37310969,"comment_id":62144446,"body_markdown":"Can you make your own? Extend one of the existing ones you found and provide a default constructor in your new class.","body":"Can you make your own? Extend one of the existing ones you found and provide a default constructor in your new class."}],"answers":[{"tags":[],"owner":{"account_id":930090,"reputation":4490,"user_id":960115,"accept_rate":92,"display_name":"Jeff G"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1463675901,"creation_date":1463675901,"answer_id":37329285,"question_id":37310969,"body_markdown":"Alright, there are two ways to go about doing this.  The first is to implement your own `javafx.utils.ObservableList`.  The following implementation is provided in the documentation for [ModifiableObservableListBase](https://docs.oracle.com/javase/8/javafx/api/javafx/collections/ModifiableObservableListBase.html) (slightly modified):\r\n\r\n    public class ObservableArrayList&lt;T&gt; extends ModifiableObservableListBase&lt;T&gt; {\r\n        private final List&lt;E&gt; delegate = new ArrayList&lt;&gt;();\r\n\r\n        @Override\r\n        public E get(final int index) {\r\n            return delegate.get(index);\r\n        }\r\n\r\n        @Override\r\n        public int size() {\r\n            return delegate.size();\r\n        }\r\n\r\n        @Override\r\n        protected void doAdd(final int index, final E element) {\r\n            delegate.add(index, element);\r\n        }\r\n\r\n        @Override\r\n        protected E doSet(final int index, final E element) {\r\n            return delegate.set(index, element);\r\n        }\r\n\r\n        @Override\r\n        protected E doRemove(final int index) {\r\n            return delegate.remove(index);\r\n        }\r\n    }\r\n\r\nJAXB can then use this class as the implementing list type, by adding the following to the bindings file:\r\n\r\n    &lt;bindings node=&quot;//xsd:element[@name=&#39;Item&#39;]&quot;&gt;\r\n      &lt;property name=&quot;Items&quot; collectionType=&quot;myNamespace.ObservableArrayList&quot;&gt;\r\n        &lt;baseType name=&quot;myNamespace.Item&quot; /&gt;\r\n      &lt;/property&gt;\r\n    &lt;/bindings&gt;\r\n\r\nThe second option, and the one I decided to use, is to configure the JAXB marshaller/unmarshaller to use custom implementation classes that inherit from the generated classes.  Lets say that the XSD defines a complex type with the name &quot;ItemCollectionType&quot;, that contains an element definition with the name &quot;Item&quot; and with unbounded `maxOccurs`.  Then I simply add the following to the JAXB bindings file:\r\n\r\n    &lt;bindings node=&quot;./xsd:complexType[@name=&#39;ItemCollectionType&#39;]&quot;&gt;\r\n      &lt;class implClass=&quot;myNamespace.ItemCollection&quot; /&gt;\r\n    &lt;/bindings&gt;\r\n\r\n    &lt;bindings node=&quot;//xsd:element[@name=&#39;Item&#39;]&quot;&gt;\r\n      &lt;property name=&quot;Items&quot;&gt;\r\n        &lt;baseType name=&quot;myNamespace.Item&quot; /&gt;\r\n      &lt;/property&gt;\r\n    &lt;/bindings&gt;\r\n\r\nThe above forces every occurance of `ItemCollectionType` in the generated code to be replace with type `myNamespace.ItemCollection`.  Then, the generated implementation of `ItemCollectionType` includes the following code:\r\n\r\n    @XmlElement(name = &quot;Item&quot;, required = true, type = myNamespace.Item.class)\r\n    protected List&lt;myNamespace.Item&gt; items;\r\n\r\n    public List&lt;myNamespace.Item&gt; getItems() {\r\n        if (items == null) {\r\n            items = new ArrayList&lt;myNamespace.Item&gt;();\r\n        }\r\n        return this.items;\r\n    }\r\n\r\nThen, I override this method in `myNamespace.ItemCollection`:\r\n\r\n    @Override\r\n    public ObservableList&lt;Item&gt; getItems() {\r\n        if (!(super.getItems() instanceof ObservableList)) {\r\n            items = FXCollections.observableList(items);\r\n        }\r\n        return (ObservableList&lt;Item&gt;)items;\r\n    }\r\n\r\nOf course, these two options are NOT mutually exclusive.  I could easily implement them both, which would simplify the implementation of `myNamespace.ItemCollection.getItems` to a simple cast.","title":"JavaFX ObservableList Concrete Implementation","body":"<p>Alright, there are two ways to go about doing this.  The first is to implement your own <code>javafx.utils.ObservableList</code>.  The following implementation is provided in the documentation for <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/collections/ModifiableObservableListBase.html\" rel=\"nofollow\">ModifiableObservableListBase</a> (slightly modified):</p>\n\n<pre><code>public class ObservableArrayList&lt;T&gt; extends ModifiableObservableListBase&lt;T&gt; {\n    private final List&lt;E&gt; delegate = new ArrayList&lt;&gt;();\n\n    @Override\n    public E get(final int index) {\n        return delegate.get(index);\n    }\n\n    @Override\n    public int size() {\n        return delegate.size();\n    }\n\n    @Override\n    protected void doAdd(final int index, final E element) {\n        delegate.add(index, element);\n    }\n\n    @Override\n    protected E doSet(final int index, final E element) {\n        return delegate.set(index, element);\n    }\n\n    @Override\n    protected E doRemove(final int index) {\n        return delegate.remove(index);\n    }\n}\n</code></pre>\n\n<p>JAXB can then use this class as the implementing list type, by adding the following to the bindings file:</p>\n\n<pre><code>&lt;bindings node=\"//xsd:element[@name='Item']\"&gt;\n  &lt;property name=\"Items\" collectionType=\"myNamespace.ObservableArrayList\"&gt;\n    &lt;baseType name=\"myNamespace.Item\" /&gt;\n  &lt;/property&gt;\n&lt;/bindings&gt;\n</code></pre>\n\n<p>The second option, and the one I decided to use, is to configure the JAXB marshaller/unmarshaller to use custom implementation classes that inherit from the generated classes.  Lets say that the XSD defines a complex type with the name \"ItemCollectionType\", that contains an element definition with the name \"Item\" and with unbounded <code>maxOccurs</code>.  Then I simply add the following to the JAXB bindings file:</p>\n\n<pre><code>&lt;bindings node=\"./xsd:complexType[@name='ItemCollectionType']\"&gt;\n  &lt;class implClass=\"myNamespace.ItemCollection\" /&gt;\n&lt;/bindings&gt;\n\n&lt;bindings node=\"//xsd:element[@name='Item']\"&gt;\n  &lt;property name=\"Items\"&gt;\n    &lt;baseType name=\"myNamespace.Item\" /&gt;\n  &lt;/property&gt;\n&lt;/bindings&gt;\n</code></pre>\n\n<p>The above forces every occurance of <code>ItemCollectionType</code> in the generated code to be replace with type <code>myNamespace.ItemCollection</code>.  Then, the generated implementation of <code>ItemCollectionType</code> includes the following code:</p>\n\n<pre><code>@XmlElement(name = \"Item\", required = true, type = myNamespace.Item.class)\nprotected List&lt;myNamespace.Item&gt; items;\n\npublic List&lt;myNamespace.Item&gt; getItems() {\n    if (items == null) {\n        items = new ArrayList&lt;myNamespace.Item&gt;();\n    }\n    return this.items;\n}\n</code></pre>\n\n<p>Then, I override this method in <code>myNamespace.ItemCollection</code>:</p>\n\n<pre><code>@Override\npublic ObservableList&lt;Item&gt; getItems() {\n    if (!(super.getItems() instanceof ObservableList)) {\n        items = FXCollections.observableList(items);\n    }\n    return (ObservableList&lt;Item&gt;)items;\n}\n</code></pre>\n\n<p>Of course, these two options are NOT mutually exclusive.  I could easily implement them both, which would simplify the implementation of <code>myNamespace.ItemCollection.getItems</code> to a simple cast.</p>\n"},{"tags":[],"owner":{"account_id":8897565,"reputation":21,"user_id":6642056,"display_name":"EricJohnPederson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680773936,"creation_date":1619880037,"answer_id":67347435,"question_id":37310969,"body_markdown":"This static function will get you a concrete implementation of `ObservableList`:\r\n```\r\nFXCollections.observableArrayList();\r\n```","title":"JavaFX ObservableList Concrete Implementation","body":"<p>This static function will get you a concrete implementation of <code>ObservableList</code>:</p>\n<pre><code>FXCollections.observableArrayList();\n</code></pre>\n"}],"owner":{"account_id":930090,"reputation":4490,"user_id":960115,"accept_rate":92,"display_name":"Jeff G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":37329285,"answer_count":2,"score":0,"last_activity_date":1680773936,"creation_date":1463609661,"question_id":37310969,"body_markdown":"I have classes that are generated from an XSD using JAXB.  One of the options with JAXB custom bindings is to specify the `java.util.List` implementing class.  For example, I can specify JAXB uses the class `java.util.LinkedList`, and the generated code would include the following:\r\n\r\n    if (myList == null)\r\n        myList = new java.util.LinkedList();\r\n\r\nI would like the implementation to return a `javafx.collections.ObservableList`, but can&#39;t find any concrete classes that implement that interface and have a default constructor.  Does anyone know of a concrete implementation of `javafx.collections.ObservableList` with a default constructor?","title":"JavaFX ObservableList Concrete Implementation","body":"<p>I have classes that are generated from an XSD using JAXB.  One of the options with JAXB custom bindings is to specify the <code>java.util.List</code> implementing class.  For example, I can specify JAXB uses the class <code>java.util.LinkedList</code>, and the generated code would include the following:</p>\n\n<pre><code>if (myList == null)\n    myList = new java.util.LinkedList();\n</code></pre>\n\n<p>I would like the implementation to return a <code>javafx.collections.ObservableList</code>, but can't find any concrete classes that implement that interface and have a default constructor.  Does anyone know of a concrete implementation of <code>javafx.collections.ObservableList</code> with a default constructor?</p>\n"},{"tags":["java","maven","inheritance","aggregation"],"answers":[{"tags":[],"owner":{"account_id":1320828,"reputation":2721,"user_id":1266705,"accept_rate":93,"display_name":"xoned"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1680773766,"creation_date":1356034556,"answer_id":13979780,"question_id":13979316,"body_markdown":"It&#39;s not redundant. They both do different things.\r\n\r\nIf you use aggregation (define `&lt;modules&gt;`), you just say which projects have to be built, and its package type is `pom`.\r\n\r\nIf you inherit (define `&lt;parent&gt;`), you&#39;ll inherit the parent pom&#39;s preferences.\r\n\r\nSee: \r\n\r\n&gt; Inheritance and aggregation create a nice dynamic to control builds through a single, high-level POM. You will often see projects that are both parents and aggregators. For example, the entire maven core runs through a single base POM org.apache.maven:maven, so building the Maven project can be executed by a single command: mvn compile. However, although both POM projects, an aggregator project and a parent project are not one and the same and should not be confused. A POM project may be inherited from - but does not necessarily have - any modules that it aggregates. Conversely, a POM project may aggregate projects that do not inherit from it.\r\n\r\nMore infos [here][1].\r\n\r\n\r\n  [1]: https://maven.apache.org/pom.html#Inheritance","title":"Maven inheritance and aggregation","body":"<p>It's not redundant. They both do different things.</p>\n<p>If you use aggregation (define <code>&lt;modules&gt;</code>), you just say which projects have to be built, and its package type is <code>pom</code>.</p>\n<p>If you inherit (define <code>&lt;parent&gt;</code>), you'll inherit the parent pom's preferences.</p>\n<p>See:</p>\n<blockquote>\n<p>Inheritance and aggregation create a nice dynamic to control builds through a single, high-level POM. You will often see projects that are both parents and aggregators. For example, the entire maven core runs through a single base POM org.apache.maven:maven, so building the Maven project can be executed by a single command: mvn compile. However, although both POM projects, an aggregator project and a parent project are not one and the same and should not be confused. A POM project may be inherited from - but does not necessarily have - any modules that it aggregates. Conversely, a POM project may aggregate projects that do not inherit from it.</p>\n</blockquote>\n<p>More infos <a href=\"https://maven.apache.org/pom.html#Inheritance\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":1124951,"reputation":660,"user_id":1112465,"accept_rate":55,"display_name":"Andrei G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1794,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":13979780,"answer_count":1,"score":2,"last_activity_date":1680773766,"creation_date":1356032515,"question_id":13979316,"body_markdown":"I&#39;m just curious, what happens if there are used both inheritance and aggregation in the same maven application?\r\nThis is the application structure:\r\n\r\n&gt; my-project-app\r\n\r\n - my-project-jar\r\n - my-project-war\r\n\r\nNow, in app&#39;s pom.xml, I declare jar and war projects as modules, and in the same time the the poms from both modules declare the app pom as their parent. It is create some kind of redundancy here, isn&#39;t it? \r\n\r\nWhat is the best solution for this case?\r\n\r\n\r\n\r\n","title":"Maven inheritance and aggregation","body":"<p>I'm just curious, what happens if there are used both inheritance and aggregation in the same maven application?\nThis is the application structure:</p>\n\n<blockquote>\n  <p>my-project-app</p>\n</blockquote>\n\n<ul>\n<li>my-project-jar</li>\n<li>my-project-war</li>\n</ul>\n\n<p>Now, in app's pom.xml, I declare jar and war projects as modules, and in the same time the the poms from both modules declare the app pom as their parent. It is create some kind of redundancy here, isn't it? </p>\n\n<p>What is the best solution for this case?</p>\n"},{"tags":["java","hashmap","file-handling"],"owner":{"account_id":27663288,"reputation":23,"user_id":21115611,"display_name":"Siddhiraj Ranaware"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680773660,"creation_date":1680773660,"question_id":75947978,"body_markdown":"I have to write user input data in txt file by file handling and this data is fullnames\r\n for example name- jhon , city- Mumbai, Phone.no- 1234\r\n the data should write by hashmap where first name should key and last name should value and \r\nthis iteration must on untill i write close in first name like if i write values in name, city and phone.no \r\nagian it should ask me for next user input and it stops when i write &#39;close&#39; in name key but this all data should \r\ngo as hashmap key value and all should be write in txt file line by line, please help\r\n\r\nI tried this tell me my mistake and what i should write, my problem is - only last data is written in text file \r\n\r\n\r\n    package javap;\r\n    \r\n    import java.util.*;\r\n    import java.io.*;\r\n    \r\n    public class Hashmapprac {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\t\r\n    \t\t  HashMap&lt;String, String&gt; hm = new HashMap&lt;String,String&gt;();\r\n    \r\n                   Scanner sc = new Scanner(System.in);\r\n                   String name =  sc.nextLine();\r\n                   \r\n                   String termination = &quot;close&quot;;\r\n                   while(!name.equals(termination) ) {\r\n                   System.out.println(&quot;enter name&quot;);\r\n                     name =  sc.nextLine();\r\n                   \r\n                  System.out.println(&quot;enter city&quot;);\r\n                  String city = sc.nextLine();\r\n                  \r\n                  System.out.println(&quot;enter Phone no.&quot;);\r\n                  String phone = sc.nextLine();\r\n                  \r\n                  hm.put(&quot;Name~&quot;, name );\r\n                  hm.put(&quot;City~&quot;, city );\r\n                  hm.put(&quot;Phone.Number~&quot;, phone );\r\n                   \r\n                  BufferedWriter bw = new BufferedWriter(new FileWriter(&quot;E:\\\\Data.txt&quot;));\r\n    \r\n                  String j=null;\r\n                  for(String i: hm.keySet()) {\r\n                \t  System.out.println(i+ hm.get(i));\r\n                \t  j=(i+hm.get(i));\r\n                  \r\n            \t  bw.write(j);\r\n                  }\r\n                  bw.close();\r\n                   }    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Write Multiple data which is user input in txt file through hashmap key and value","body":"<p>I have to write user input data in txt file by file handling and this data is fullnames\nfor example name- jhon , city- Mumbai, Phone.no- 1234\nthe data should write by hashmap where first name should key and last name should value and\nthis iteration must on untill i write close in first name like if i write values in name, city and phone.no\nagian it should ask me for next user input and it stops when i write 'close' in name key but this all data should\ngo as hashmap key value and all should be write in txt file line by line, please help</p>\n<p>I tried this tell me my mistake and what i should write, my problem is - only last data is written in text file</p>\n<pre><code>package javap;\n\nimport java.util.*;\nimport java.io.*;\n\npublic class Hashmapprac {\n\n    public static void main(String[] args) throws IOException {\n        \n          HashMap&lt;String, String&gt; hm = new HashMap&lt;String,String&gt;();\n\n               Scanner sc = new Scanner(System.in);\n               String name =  sc.nextLine();\n               \n               String termination = &quot;close&quot;;\n               while(!name.equals(termination) ) {\n               System.out.println(&quot;enter name&quot;);\n                 name =  sc.nextLine();\n               \n              System.out.println(&quot;enter city&quot;);\n              String city = sc.nextLine();\n              \n              System.out.println(&quot;enter Phone no.&quot;);\n              String phone = sc.nextLine();\n              \n              hm.put(&quot;Name~&quot;, name );\n              hm.put(&quot;City~&quot;, city );\n              hm.put(&quot;Phone.Number~&quot;, phone );\n               \n              BufferedWriter bw = new BufferedWriter(new FileWriter(&quot;E:\\\\Data.txt&quot;));\n\n              String j=null;\n              for(String i: hm.keySet()) {\n                  System.out.println(i+ hm.get(i));\n                  j=(i+hm.get(i));\n              \n              bw.write(j);\n              }\n              bw.close();\n               }    \n    }\n\n}\n</code></pre>\n"},{"tags":["java","static-analysis","soot"],"answers":[{"tags":[],"owner":{"account_id":294509,"reputation":1353,"user_id":598445,"accept_rate":56,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680773313,"creation_date":1680773313,"answer_id":75947916,"question_id":75856360,"body_markdown":"You are using Soot incorrectly. Where did you get your code from?\r\nYou are supposed to call soot.Main.main(..) after you have registered your transformer with Soot.","title":"Why SOOT Cannot find the method calls from a dynamic loaded class?","body":"<p>You are using Soot incorrectly. Where did you get your code from?\nYou are supposed to call soot.Main.main(..) after you have registered your transformer with Soot.</p>\n"}],"owner":{"account_id":25933279,"reputation":1,"user_id":19654007,"display_name":"Chenyang Zhu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680773313,"creation_date":1679923769,"question_id":75856360,"body_markdown":"I am a beginner in learning soot and I was tormented by this strange problem: I create a instance of a class and I cannot find its methodcalls.\r\n\r\nHere is the source code that I want to analyze:\r\n\r\n```\r\npackage com.example.hello;\r\n\r\npublic class TestInputMain {\r\n    public static void main(String[] args) {\r\n\r\n        Calculator calc = new Calculator();  // another class in same package, written by me. \r\n\r\n        int result = calc.add(10, 20); // I CANNOT FIND IT!!!\r\n\r\n        System.out.println(&quot;The result of adding 10 and 20 is &quot; + result);\r\n    }\r\n}\r\n```\r\n\r\nHere is part of soot codes that I use:\r\n\r\n```\r\n……\r\n//SET UP CALL GRAPH\r\n        String[] sootArgs = {\r\n            &quot;-pp&quot;,\r\n            &quot;-process-dir&quot;, jarFilePath, //I put them in a jar. The result is same without a jar\r\n            &quot;-allow-phantom-refs&quot;,\r\n            &quot;-no-bodies-for-excluded&quot;, \r\n            &quot;-whole-program&quot;,\r\n            &quot;-verbose&quot;,\r\n            &quot;-p&quot;, &quot;cg.cha&quot;, &quot;enabled:true&quot;,\r\n            &quot;-dynamic-dir&quot;, jarFilePath,\r\n        };\r\n        Options.v().parse(sootArgs);\r\n\r\n        String sootClassPath = jarFilePath;\r\n        Options.v().set_soot_classpath(sootClassPath);\r\n\r\n        Scene.v().loadNecessaryClasses();\r\n\r\n        PackManager.v().getPack(&quot;wjtp&quot;).add(new Transform(&quot;wjtp.myTransform&quot;, new SceneTransformer() {\r\n            @Override\r\n            protected void internalTransform(String phaseName, Map&lt;String, String&gt; options) {\r\n                CallGraph cg = Scene.v().getCallGraph();\r\n……\r\n//PRINT EVERY EDGE IN CALLGRAPH\r\n                CallGraph callgraph = Scene.v().getCallGraph();\r\n                Iterator&lt;Edge&gt; edgesdebug = callgraph.iterator();\r\n                while (edgesdebug.hasNext()) {\r\n                    Edge it = edgesdebug.next();\r\n                    System.out.println(&quot;??????&quot; + it.src() + &quot; =&gt;&gt; &quot; + it.tgt());\r\n                }\r\n```\r\n\r\n\r\nThe situation is, even if I print every edge in callgraph， including all kinds of lib functions, I still cannot find &quot;add&quot;. I am crazy. I am dying.","title":"Why SOOT Cannot find the method calls from a dynamic loaded class?","body":"<p>I am a beginner in learning soot and I was tormented by this strange problem: I create a instance of a class and I cannot find its methodcalls.</p>\n<p>Here is the source code that I want to analyze:</p>\n<pre><code>package com.example.hello;\n\npublic class TestInputMain {\n    public static void main(String[] args) {\n\n        Calculator calc = new Calculator();  // another class in same package, written by me. \n\n        int result = calc.add(10, 20); // I CANNOT FIND IT!!!\n\n        System.out.println(&quot;The result of adding 10 and 20 is &quot; + result);\n    }\n}\n</code></pre>\n<p>Here is part of soot codes that I use:</p>\n<pre><code>……\n//SET UP CALL GRAPH\n        String[] sootArgs = {\n            &quot;-pp&quot;,\n            &quot;-process-dir&quot;, jarFilePath, //I put them in a jar. The result is same without a jar\n            &quot;-allow-phantom-refs&quot;,\n            &quot;-no-bodies-for-excluded&quot;, \n            &quot;-whole-program&quot;,\n            &quot;-verbose&quot;,\n            &quot;-p&quot;, &quot;cg.cha&quot;, &quot;enabled:true&quot;,\n            &quot;-dynamic-dir&quot;, jarFilePath,\n        };\n        Options.v().parse(sootArgs);\n\n        String sootClassPath = jarFilePath;\n        Options.v().set_soot_classpath(sootClassPath);\n\n        Scene.v().loadNecessaryClasses();\n\n        PackManager.v().getPack(&quot;wjtp&quot;).add(new Transform(&quot;wjtp.myTransform&quot;, new SceneTransformer() {\n            @Override\n            protected void internalTransform(String phaseName, Map&lt;String, String&gt; options) {\n                CallGraph cg = Scene.v().getCallGraph();\n……\n//PRINT EVERY EDGE IN CALLGRAPH\n                CallGraph callgraph = Scene.v().getCallGraph();\n                Iterator&lt;Edge&gt; edgesdebug = callgraph.iterator();\n                while (edgesdebug.hasNext()) {\n                    Edge it = edgesdebug.next();\n                    System.out.println(&quot;??????&quot; + it.src() + &quot; =&gt;&gt; &quot; + it.tgt());\n                }\n</code></pre>\n<p>The situation is, even if I print every edge in callgraph， including all kinds of lib functions, I still cannot find &quot;add&quot;. I am crazy. I am dying.</p>\n"},{"tags":["java","android","android-layout","layout","height"],"comments":[{"owner":{"account_id":23340559,"reputation":366,"user_id":17415517,"display_name":"Khush Parmar"},"score":0,"creation_date":1680850398,"post_id":75947898,"comment_id":133969460,"body_markdown":"As per my understanding from your question you can do count it by :-  resources.displayMetrics.heightPixels * 0.6","body":"As per my understanding from your question you can do count it by :-  resources.displayMetrics.heightPixels * 0.6"},{"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"score":0,"creation_date":1680868387,"post_id":75947898,"comment_id":133972522,"body_markdown":"@KhushParmar it should be something like that, I have used configuration to get the height as configuration gives usable screen. The problem I have is that when the height of the screen in px has decimals the calculated height is 1 pixel different thatn the orginial height...","body":"@KhushParmar it should be something like that, I have used configuration to get the height as configuration gives usable screen. The problem I have is that when the height of the screen in px has decimals the calculated height is 1 pixel different thatn the orginial height..."}],"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680773185,"creation_date":1680773185,"question_id":75947898,"body_markdown":"I have a ConstraintLayout with one element that is constrained only to a horizontal guideline:\r\n```\r\n    android:id=&quot;@+id/element&quot;\r\n    app:layout_constraintTop_toBottomOf=&quot;@id/guideline&quot;\r\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n```\r\n\r\nThese are the horizontal guideline attributes:\r\n```\r\n&lt;androidx.constraintlayout.widget.Guideline\r\n    android:id=&quot;@+id/guideline&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    app:layout_constraintGuide_percent=&quot;0.4&quot; /&gt;\r\n```\r\n\r\n\r\nThen, I can conclude that the height of the element would be the height of the usable screen * 0.6 as the element will occupy 60% of the screen.\r\n\r\nMy question is, could I calculate the exact height of that element with something like:\r\n```\r\n        double elementsheight = usablescreenheight * 0.6 ;\r\n\r\n```\r\n\r\nI have tried what I have said before but the calculated height was one pixel lower that the original height, but I think that there should be a way to calculate the exact height of the element before the drawing phase.","title":"Is it possible to calculate the height of an element that is constrained to a guideline?","body":"<p>I have a ConstraintLayout with one element that is constrained only to a horizontal guideline:</p>\n<pre><code>    android:id=&quot;@+id/element&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/guideline&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n</code></pre>\n<p>These are the horizontal guideline attributes:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.Guideline\n    android:id=&quot;@+id/guideline&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    app:layout_constraintGuide_percent=&quot;0.4&quot; /&gt;\n</code></pre>\n<p>Then, I can conclude that the height of the element would be the height of the usable screen * 0.6 as the element will occupy 60% of the screen.</p>\n<p>My question is, could I calculate the exact height of that element with something like:</p>\n<pre><code>        double elementsheight = usablescreenheight * 0.6 ;\n\n</code></pre>\n<p>I have tried what I have said before but the calculated height was one pixel lower that the original height, but I think that there should be a way to calculate the exact height of the element before the drawing phase.</p>\n"},{"tags":["java","pdf","apache-poi","docx","xdocreport"],"answers":[{"tags":[],"owner":{"account_id":21385372,"reputation":51,"user_id":15750534,"display_name":"Яков Клюев"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680773124,"creation_date":1680773124,"answer_id":75947889,"question_id":75947587,"body_markdown":"Answer:\r\nuse external cyrillic fonts\r\n\r\n    InputStream fontStream = Application.class.getResourceAsStream(&quot;Arial.ttf&quot;);\r\n    BaseFont baseFont = BaseFont.createFont(&quot;Arial.ttf&quot;, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\r\n        \r\n    PdfOptions pdfOptions = PdfOptions.create()\r\n      .fontEncoding(&quot;windows-1251&quot;)\r\n      .fontProvider((s, s1, v, i, color) -&gt; FontFactory.getFont(&quot;Arial.ttf&quot;, &quot;windows-1251&quot;, v, i, color));","title":"Incorrect character spacing and breaks in xdocreport reports with cyrillic symbols","body":"<p>Answer:\nuse external cyrillic fonts</p>\n<pre><code>InputStream fontStream = Application.class.getResourceAsStream(&quot;Arial.ttf&quot;);\nBaseFont baseFont = BaseFont.createFont(&quot;Arial.ttf&quot;, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\n    \nPdfOptions pdfOptions = PdfOptions.create()\n  .fontEncoding(&quot;windows-1251&quot;)\n  .fontProvider((s, s1, v, i, color) -&gt; FontFactory.getFont(&quot;Arial.ttf&quot;, &quot;windows-1251&quot;, v, i, color));\n</code></pre>\n"}],"owner":{"account_id":21385372,"reputation":51,"user_id":15750534,"display_name":"Яков Клюев"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680773124,"creation_date":1680771222,"question_id":75947587,"body_markdown":"I would like to convert a docx template to pdf with the insertion of variable values, everything works correctly with English characters, despite this, Cyrillic characters are stuck together in one line, as an incorrect value for the character spacing will be set in them, I tried to change it through pdfWriter.setSpaceCharRatio, expected gave no result.\r\n\r\nIn docx formatting is correct:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nMethod in service:\r\n\r\n        public static void generateReport(InputStream docxInputStream, OutputStream pdfOutputStream) throws Exception {\r\n            IXDocReport report = XDocReportRegistry.getRegistry().loadReport(docxInputStream, TemplateEngineKind.Freemarker);\r\n            IContext context = report.createContext();\r\n    \r\n            Options options = Options.getFrom(DocumentKind.DOCX).via(ConverterTypeVia.XWPF).to(ConverterTypeTo.PDF);\r\n    \r\n            PdfOptions pdfOptions = PdfOptions.create()\r\n                    .fontEncoding(&quot;windows-1251&quot;)\r\n                    .fontProvider((s, s1, v, i, color) -&gt; FontFactory.getFont(FontFactory.TIMES_ROMAN, &quot;windows-1251&quot;, v, i, color));\r\n    \r\n            options.subOptions(pdfOptions);\r\n            report.convert(context, options, pdfOutputStream);\r\n        }\r\n\r\nInvoke: \r\n\r\n     FileInputStream docxInputStream = new FileInputStream(&quot;/abspath/resources/template.docx&quot;);\r\n     FileOutputStream pdfOutputStream = new FileOutputStream(&quot;/abspath/resources/output.pdf&quot;);\r\n     ReportGenerator.generateReport(docxInputStream, pdfOutputStream);\r\n     docxInputStream.close();\r\n     pdfOutputStream.close();\r\n\r\nPom deps: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n        &lt;artifactId&gt;xdocreport&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n        &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.32&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n        &lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n        &lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.pdf&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nGot incorrect formatting result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow can I fix it?\r\n\r\n  [1]: https://i.stack.imgur.com/Up7V0.png\r\n  [2]: https://i.stack.imgur.com/wgOdN.png","title":"Incorrect character spacing and breaks in xdocreport reports with cyrillic symbols","body":"<p>I would like to convert a docx template to pdf with the insertion of variable values, everything works correctly with English characters, despite this, Cyrillic characters are stuck together in one line, as an incorrect value for the character spacing will be set in them, I tried to change it through pdfWriter.setSpaceCharRatio, expected gave no result.</p>\n<p>In docx formatting is correct:</p>\n<p><a href=\"https://i.stack.imgur.com/wgOdN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wgOdN.png\" alt=\"enter image description here\" /></a></p>\n<p>Method in service:</p>\n<pre><code>    public static void generateReport(InputStream docxInputStream, OutputStream pdfOutputStream) throws Exception {\n        IXDocReport report = XDocReportRegistry.getRegistry().loadReport(docxInputStream, TemplateEngineKind.Freemarker);\n        IContext context = report.createContext();\n\n        Options options = Options.getFrom(DocumentKind.DOCX).via(ConverterTypeVia.XWPF).to(ConverterTypeTo.PDF);\n\n        PdfOptions pdfOptions = PdfOptions.create()\n                .fontEncoding(&quot;windows-1251&quot;)\n                .fontProvider((s, s1, v, i, color) -&gt; FontFactory.getFont(FontFactory.TIMES_ROMAN, &quot;windows-1251&quot;, v, i, color));\n\n        options.subOptions(pdfOptions);\n        report.convert(context, options, pdfOutputStream);\n    }\n</code></pre>\n<p>Invoke:</p>\n<pre><code> FileInputStream docxInputStream = new FileInputStream(&quot;/abspath/resources/template.docx&quot;);\n FileOutputStream pdfOutputStream = new FileOutputStream(&quot;/abspath/resources/output.pdf&quot;);\n ReportGenerator.generateReport(docxInputStream, pdfOutputStream);\n docxInputStream.close();\n pdfOutputStream.close();\n</code></pre>\n<p>Pom deps:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n    &lt;artifactId&gt;xdocreport&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n    &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n    &lt;version&gt;2.3.32&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n    &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n    &lt;version&gt;1.7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n    &lt;artifactId&gt;itext&lt;/artifactId&gt;\n    &lt;version&gt;2.1.7&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n    &lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.pdf&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Got incorrect formatting result:</p>\n<p><a href=\"https://i.stack.imgur.com/Up7V0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Up7V0.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I fix it?</p>\n"},{"tags":["java","spring-boot","hashicorp-vault","spring-vault"],"answers":[{"tags":[],"owner":{"account_id":25850685,"reputation":51,"user_id":19584720,"display_name":"xX_Xeno_Blade_Xx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675628292,"creation_date":1675628292,"answer_id":75355245,"question_id":75355038,"body_markdown":"\r\nAfter digging through the code, I figured out. So what I have to do is to call the method **::opsForKeyValue**, it returns the operations for managing key-value including **patch** command. So with patch command I&#39;m be able to update key-vaule without overriding the previous one.\r\n\r\n    @Autowired\r\n    VaultTemplate template;\r\n    \r\n    public void updateSecrets() {\r\n    \tvar ops = template.opsForKeyValue(&quot;test&quot;, VaultKeyValueOperationsSupport.KeyValueBackend.KV_2);\r\n    \tops.patch(&quot;application&quot;, Map.of(&quot;k3&quot;, &quot;v3&quot;));\r\n    }\r\n\r\n** Note that it only supports KV version 2.","title":"Vault server, how to programmatically put key/value to vault server using Java or Spring framework","body":"<p>After digging through the code, I figured out. So what I have to do is to call the method <strong>::opsForKeyValue</strong>, it returns the operations for managing key-value including <strong>patch</strong> command. So with patch command I'm be able to update key-vaule without overriding the previous one.</p>\n<pre><code>@Autowired\nVaultTemplate template;\n\npublic void updateSecrets() {\n    var ops = template.opsForKeyValue(&quot;test&quot;, VaultKeyValueOperationsSupport.KeyValueBackend.KV_2);\n    ops.patch(&quot;application&quot;, Map.of(&quot;k3&quot;, &quot;v3&quot;));\n}\n</code></pre>\n<p>** Note that it only supports KV version 2.</p>\n"},{"tags":[],"owner":{"account_id":18966797,"reputation":25,"user_id":13841135,"display_name":"Lahaye Lucas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680772934,"creation_date":1680772934,"answer_id":75947857,"question_id":75355038,"body_markdown":"For my part, I use the &quot;Vault Java Driver&quot; library from Bettercloud, available here: [https://bettercloud.github.io/vault-java-driver/][1].\r\n\r\nIt uses the API to communicate with the vault server, so you don&#39;t need to write your own requests.  It is very easy to use.\r\n\r\nHopefully I could help you.\r\n\r\n\r\n  [1]: https://bettercloud.github.io/vault-java-driver/","title":"Vault server, how to programmatically put key/value to vault server using Java or Spring framework","body":"<p>For my part, I use the &quot;Vault Java Driver&quot; library from Bettercloud, available here: <a href=\"https://bettercloud.github.io/vault-java-driver/\" rel=\"nofollow noreferrer\">https://bettercloud.github.io/vault-java-driver/</a>.</p>\n<p>It uses the API to communicate with the vault server, so you don't need to write your own requests.  It is very easy to use.</p>\n<p>Hopefully I could help you.</p>\n"}],"owner":{"account_id":25850685,"reputation":51,"user_id":19584720,"display_name":"xX_Xeno_Blade_Xx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":581,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680772934,"creation_date":1675626298,"question_id":75355038,"body_markdown":"I want to store some secrets/credentials during runtime in my application, similar to the following command.\r\n\r\n    vault kv put -path=secret/application key1=val1\r\n\r\nI have reviewed the HashiCorp SDK, but it only provides a write command that overrides previous keys/values in my secrets. I want to **update** key-value instead of **override**, how can I do that **programmatically**.\r\n\r\n\r\n\r\n","title":"Vault server, how to programmatically put key/value to vault server using Java or Spring framework","body":"<p>I want to store some secrets/credentials during runtime in my application, similar to the following command.</p>\n<pre><code>vault kv put -path=secret/application key1=val1\n</code></pre>\n<p>I have reviewed the HashiCorp SDK, but it only provides a write command that overrides previous keys/values in my secrets. I want to <strong>update</strong> key-value instead of <strong>override</strong>, how can I do that <strong>programmatically</strong>.</p>\n"},{"tags":["java","if-statement","ternary-operator"],"comments":[{"owner":{"account_id":198018,"reputation":8276,"user_id":442451,"accept_rate":100,"display_name":"GriffeyDog"},"score":21,"creation_date":1384793703,"post_id":20053257,"comment_id":29868058,"body_markdown":"The ternary operator is not equivalent to if/else. It&#39;s actually an expression that has to have a value.","body":"The ternary operator is not equivalent to if/else. It&#39;s actually an expression that has to have a value."},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":1,"creation_date":1538385263,"post_id":20053257,"comment_id":92110748,"body_markdown":"You cannot use ternary without else, but you can use Java 8 `Optional` class: `Optional.ofNullable(pstmt).ifPresent(pstmt::close)`. See my answer below.","body":"You cannot use ternary without else, but you can use Java 8 <code>Optional</code> class: <code>Optional.ofNullable(pstmt).ifPresent(pstmt::close)</code>. See my answer below."},{"owner":{"account_id":2295225,"reputation":1,"user_id":2016831,"accept_rate":17,"display_name":"B&#39;&#39;H Bi&#39;ezras -- Boruch Hashem"},"score":0,"creation_date":1551948393,"post_id":20053257,"comment_id":96829957,"body_markdown":"in place of your &lt;do nothing&gt; just put a variable with a value, like the number 0 or a string, it shouldn&#39;t do anything, although it does return a type, or even undefined or a null or void type MIGHT workm but also might cause an error in java","body":"in place of your &lt;do nothing&gt; just put a variable with a value, like the number 0 or a string, it shouldn&#39;t do anything, although it does return a type, or even undefined or a null or void type MIGHT workm but also might cause an error in java"}],"answers":[{"tags":[],"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1384793669,"creation_date":1384793669,"answer_id":20053295,"question_id":20053257,"body_markdown":"Just write it out?\r\n\r\n    if(pstmt != null) pstmt.close();\r\n\r\nIt&#39;s the exact same length.","title":"If without else ternary operator","body":"<p>Just write it out?</p>\n\n<pre><code>if(pstmt != null) pstmt.close();\n</code></pre>\n\n<p>It's the exact same length.</p>\n"},{"tags":[],"owner":{"account_id":3034739,"reputation":1690,"user_id":2573093,"display_name":"frankie liuzzi"},"down_vote_count":0,"up_vote_count":94,"is_accepted":true,"score":94,"last_activity_date":1510669082,"creation_date":1384793688,"answer_id":20053299,"question_id":20053257,"body_markdown":"[No, you cannot do that.][1]\r\nInstead try this:\r\n\r\n    if(bool1 &amp;&amp; bool2) voidFunc1();\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.25","title":"If without else ternary operator","body":"<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.25\" rel=\"noreferrer\">No, you cannot do that.</a>\nInstead try this:</p>\n\n<pre><code>if(bool1 &amp;&amp; bool2) voidFunc1();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3007337,"reputation":703,"user_id":2551580,"display_name":"cigno5.5"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1384793805,"creation_date":1384793805,"answer_id":20053351,"question_id":20053257,"body_markdown":"Why using ternary operator when you have only one choice?\r\n\r\n    if (pstmt != null) pstmt.close(); \r\nis enough!","title":"If without else ternary operator","body":"<p>Why using ternary operator when you have only one choice?</p>\n\n<pre><code>if (pstmt != null) pstmt.close(); \n</code></pre>\n\n<p>is enough!</p>\n"},{"tags":[],"owner":{"account_id":1054452,"reputation":882,"user_id":1057474,"accept_rate":90,"display_name":"Yegoshin Maxim"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1384794596,"creation_date":1384794596,"answer_id":20053619,"question_id":20053257,"body_markdown":"Ternary `if` operator is the particular *ternary operator*. One of a kind.\r\n\r\n\r\n\r\nFrom [Wiki:][1]\r\n&gt; In mathematics, a ternary operation is an n-ary operation with n = 3.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Ternary_operation\r\n\r\nIt means all 3 operands are required for you.","title":"If without else ternary operator","body":"<p>Ternary <code>if</code> operator is the particular <em>ternary operator</em>. One of a kind.</p>\n\n<p>From <a href=\"http://en.wikipedia.org/wiki/Ternary_operation\">Wiki:</a></p>\n\n<blockquote>\n  <p>In mathematics, a ternary operation is an n-ary operation with n = 3.</p>\n</blockquote>\n\n<p>It means all 3 operands are required for you.</p>\n"},{"tags":[],"owner":{"account_id":221263,"reputation":7560,"user_id":479137,"accept_rate":100,"display_name":"David M&#229;rtensson"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1392294504,"creation_date":1392294504,"answer_id":21754264,"question_id":20053257,"body_markdown":"A ternary operation is called ternary beacause it takes 3 arguments, if it takes 2 it is a binary operation.\r\n\r\nAnd as noted above, it is an **expression** returning a value.\r\n\r\nIf you omit the else you would have an undefined situation where the expression would not return a value.\r\n\r\nSo as also noted in other answer, you should use an if **statement**.","title":"If without else ternary operator","body":"<p>A ternary operation is called ternary beacause it takes 3 arguments, if it takes 2 it is a binary operation.</p>\n\n<p>And as noted above, it is an <strong>expression</strong> returning a value.</p>\n\n<p>If you omit the else you would have an undefined situation where the expression would not return a value.</p>\n\n<p>So as also noted in other answer, you should use an if <strong>statement</strong>.</p>\n"},{"tags":[],"owner":{"account_id":444416,"reputation":15934,"user_id":836214,"accept_rate":86,"display_name":"Krease"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1467664386,"creation_date":1467664386,"answer_id":38191879,"question_id":20053257,"body_markdown":"As mentioned in the other answers, you can&#39;t use a ternary operator to do this. \r\n\r\nHowever, if the need strikes you, you can use Java 8 [Optional](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html) and lambdas to put this kind of logic into a single statement:\r\n\r\n    Optional.of(pstmt).ifPresent((p) -&gt; p.close())\r\n\r\n","title":"If without else ternary operator","body":"<p>As mentioned in the other answers, you can't use a ternary operator to do this. </p>\n\n<p>However, if the need strikes you, you can use Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"noreferrer\">Optional</a> and lambdas to put this kind of logic into a single statement:</p>\n\n<pre><code>Optional.of(pstmt).ifPresent((p) -&gt; p.close())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539011864,"creation_date":1538385394,"answer_id":52587913,"question_id":20053257,"body_markdown":"You cannot use ternary without else, but to do a &quot;if-without-else&quot; in one line, you can use Java 8 `Optional` class.\r\n\r\n    PreparedStatement pstmt;\r\n\r\n    //.... \r\n\r\n    Optional.ofNullable(pstmt).ifPresent(pstmt::close); // &lt;- but IOException will still happen here. Handle it.","title":"If without else ternary operator","body":"<p>You cannot use ternary without else, but to do a \"if-without-else\" in one line, you can use Java 8 <code>Optional</code> class.</p>\n\n<pre><code>PreparedStatement pstmt;\n\n//.... \n\nOptional.ofNullable(pstmt).ifPresent(pstmt::close); // &lt;- but IOException will still happen here. Handle it.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2295225,"reputation":1,"user_id":2016831,"accept_rate":17,"display_name":"B&#39;&#39;H Bi&#39;ezras -- Boruch Hashem"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1611775865,"creation_date":1551947289,"answer_id":55039189,"question_id":20053257,"body_markdown":"Well in JavaScript you can simply do:\r\n\r\n    expression ? doAction() : undefined\r\n\r\nsince that&#39;s what&#39;s literally actually happening in a real if statement, the else clause is simply undefined. I image you can do pretty much the same thing in (almost?) any programming language, for the else clause just put a null-type variable that doesn&#39;t return a value, it shouldn&#39;t cause any compile errors.\r\n\r\nor just make a function to return if all else fails\r\n\r\n```\r\nfunction oy(x1,x2){if(x1) return x2();}\r\n\r\noy(etzem==6, ()=&gt;yichoyliss=8);\r\n\r\n","title":"If without else ternary operator","body":"<p>Well in JavaScript you can simply do:</p>\n<pre><code>expression ? doAction() : undefined\n</code></pre>\n<p>since that's what's literally actually happening in a real if statement, the else clause is simply undefined. I image you can do pretty much the same thing in (almost?) any programming language, for the else clause just put a null-type variable that doesn't return a value, it shouldn't cause any compile errors.</p>\n<p>or just make a function to return if all else fails</p>\n<pre><code>function oy(x1,x2){if(x1) return x2();}\n\noy(etzem==6, ()=&gt;yichoyliss=8);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19737186,"reputation":1,"user_id":14451400,"display_name":"imbenrabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602702957,"creation_date":1602702957,"answer_id":64360115,"question_id":20053257,"body_markdown":"`pstmt != null &amp;&amp; pstmt.close;`\r\n\r\nThe line of code above translates to When the left side of the expression &quot;translates&quot; to true -&gt; execute the right side.","title":"If without else ternary operator","body":"<p><code>pstmt != null &amp;&amp; pstmt.close;</code></p>\n<p>The line of code above translates to When the left side of the expression &quot;translates&quot; to true -&gt; execute the right side.</p>\n"},{"tags":[],"owner":{"account_id":22906492,"reputation":21,"user_id":17044484,"display_name":"Skuld Sl&#235;r"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1633013063,"creation_date":1633013063,"answer_id":69394279,"question_id":20053257,"body_markdown":"use:\r\n\r\n    &lt;logic Expression&gt; ? &lt;method&gt; : null;\r\nExample:\r\n\r\n    (pstmt!=null) ? pstmt.close : null;\r\n\r\nis dirty solution but works...","title":"If without else ternary operator","body":"<p>use:</p>\n<pre><code>&lt;logic Expression&gt; ? &lt;method&gt; : null;\n</code></pre>\n<p>Example:</p>\n<pre><code>(pstmt!=null) ? pstmt.close : null;\n</code></pre>\n<p>is dirty solution but works...</p>\n"}],"owner":{"account_id":1602494,"reputation":1451,"user_id":1483282,"accept_rate":80,"display_name":"Z.V"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119729,"favorite_count":0,"down_vote_count":1,"up_vote_count":93,"accepted_answer_id":20053299,"answer_count":10,"score":92,"last_activity_date":1680772732,"creation_date":1384793577,"question_id":20053257,"body_markdown":"So far from I have been searching through the net, the statement always have if and else condition such as `a ? b : c`. I would like to know whether the `if` ternary statement can be used without `else`. \r\nAssuming i have the following code, i wish to close the `PreparedStatement` if it is not null\r\n\r\n(I am using Java programming language.)\r\n\r\n    PreparedStatement pstmt;\r\n \r\n    //.... \r\n\r\n    (pstmt!=null) ? pstmt.close : &lt;do nothing&gt;;","title":"If without else ternary operator","body":"<p>So far from I have been searching through the net, the statement always have if and else condition such as <code>a ? b : c</code>. I would like to know whether the <code>if</code> ternary statement can be used without <code>else</code>. \nAssuming i have the following code, i wish to close the <code>PreparedStatement</code> if it is not null</p>\n\n<p>(I am using Java programming language.)</p>\n\n<pre><code>PreparedStatement pstmt;\n\n//.... \n\n(pstmt!=null) ? pstmt.close : &lt;do nothing&gt;;\n</code></pre>\n"},{"tags":["java","multithreading","synchronized"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680754645,"post_id":75945707,"comment_id":133952684,"body_markdown":"Must it be a `List`?","body":"Must it be a <code>List</code>?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680756854,"post_id":75945707,"comment_id":133952939,"body_markdown":"Does tho `process` method delete the element from the list? Or is it that you *only* call `process` from within `removeAllAndProcess`, and never call `process` outside that method?","body":"Does tho <code>process</code> method delete the element from the list? Or is it that you <i>only</i> call <code>process</code> from within <code>removeAllAndProcess</code>, and never call <code>process</code> outside that method?"},{"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"score":0,"creation_date":1680757703,"post_id":75945707,"comment_id":133953032,"body_markdown":"```process``` is being called by another thread as well. (in conclusion its maybe called by 2 threads at the same time but since the List is synchronized the add operation should be thread safe). ```process``` does not remove anything from the list but if the processing for an element is unsuccessful then it will add to ```myList```. My main concern is with ```toArray()```, and if a call to this function needs to be synchronized.","body":"<code>process</code> is being called by another thread as well. (in conclusion its maybe called by 2 threads at the same time but since the List is synchronized the add operation should be thread safe). <code>process</code> does not remove anything from the list but if the processing for an element is unsuccessful then it will add to <code>myList</code>. My main concern is with <code>toArray()</code>, and if a call to this function needs to be synchronized."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680758596,"post_id":75945707,"comment_id":133953147,"body_markdown":"Well that lacking detail ruins my Answer. You should make such points clear *before* posting.","body":"Well that lacking detail ruins my Answer. You should make such points clear <i>before</i> posting."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680758817,"post_id":75945707,"comment_id":133953174,"body_markdown":"Perhaps your Question would have been better asked without any example code. The simple question &quot;Is `List#toArray` on a `Collections.synchronizedList(new ArrayList&lt;&gt;())` object thread-safe?&quot; is indeed an interesting one. I could not decipher the Javadoc nor the source code to directly answer that.","body":"Perhaps your Question would have been better asked without any example code. The simple question &quot;Is <code>List#toArray</code> on a <code>Collections.synchronizedList(new ArrayList&lt;&gt;())</code> object thread-safe?&quot; is indeed an interesting one. I could not decipher the Javadoc nor the source code to directly answer that."},{"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"score":0,"creation_date":1680758942,"post_id":75945707,"comment_id":133953187,"body_markdown":"Hi, apologies for the inconvenience. I did try to mention that multiple threads will access/modify the list. The main objective of my question was to see if ```toArray``` is thread safe. I did look into the code myself and when I saw ```System.arrayCopy``` I stopped. I was hoping to run into an ```iterator``` or ```spliterator``` cause then I would know that I definitely have to manually synchronize it.","body":"Hi, apologies for the inconvenience. I did try to mention that multiple threads will access/modify the list. The main objective of my question was to see if <code>toArray</code> is thread safe. I did look into the code myself and when I saw <code>System.arrayCopy</code> I stopped. I was hoping to run into an <code>iterator</code> or <code>spliterator</code> cause then I would know that I definitely have to manually synchronize it."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1680759312,"post_id":75945707,"comment_id":133953241,"body_markdown":"Rather than a `List`, why not use a concurrent [`BlockingQueue`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/BlockingQueue.html) with its `drainTo` method?","body":"Rather than a <code>List</code>, why not use a concurrent <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow noreferrer\"><code>BlockingQueue</code></a> with its <code>drainTo</code> method?"},{"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"score":0,"creation_date":1680759408,"post_id":75945707,"comment_id":133953254,"body_markdown":"I dont want the thread to be blocked if the queue is empty when ```removeAllAndProcess``` is called. I am considering ```ConcurrentLinkedQueue``` as well","body":"I dont want the thread to be blocked if the queue is empty when <code>removeAllAndProcess</code> is called. I am considering <code>ConcurrentLinkedQueue</code> as well"},{"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"score":0,"creation_date":1680759975,"post_id":75945707,"comment_id":133953336,"body_markdown":"I see that ```drainTo``` is not a blocking call. I think I can use that then","body":"I see that <code>drainTo</code> is not a blocking call. I think I can use that then"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680758448,"creation_date":1680757757,"answer_id":75946005,"question_id":75945707,"body_markdown":"The Javadoc for `Collections.synchronizedList` says:\r\n\r\n&gt;It is imperative that the user manually synchronize on the returned list when traversing it via Iterator, Spliterator or Stream\r\n\r\nI do not know if we should consider that prescription to apply to `List#toArray`. I would have assumed so, but apparently not.\r\n\r\nI went to look at the source code at OpenJDK for `ArrayList` [here][1]. Apparently `ArrayList#toArray` implementation is:\r\n\r\n    public Object[] toArray() {\r\n        return Arrays.copyOf(elementData, size);\r\n    }\r\n\r\nThe source code of `Arrays.copyOf` ends up calling `System.arrayCopy`. \r\n\r\nSo we have a pile of code. And none of it explicitly promises thread-safety. So while I cannot directly answer your Question, I can offer a simple alternative solution.\r\n\r\n# `AtomicReference` \r\n\r\nI would suggest this simple solution as an alternative: Rather than drain the list of elements, replace the entire list, while providing thread-safety with an [`AtomicReference`][2]. \r\n\r\nHowever, we need to synchronize on the `addElement` method with this approach. It would be possible for one thread to get a reference to the list, a second thread to replace the list with a new one and begin iteration on the old list, while the first thread modifies the old list to which it still has a reference. \r\n\r\nWhile we must add synchronization to the `addElement` method, we can remove synchronization from the list itself. Under this approach we are no longer deleting from the list. The only modification we make to the list is adding through the now synchronized `addElement` method. So no need to call `Collections.synchronizedList`. \r\n\r\nBy the way, I changed the plural `addElements` to the singular `addElement`. \r\n\r\n```java\r\nAtomicReference &lt; List &lt; String &gt; &gt; myListRef = new AtomicReference( new ArrayList&lt;&gt;() ) ;\r\n\r\n// adding to array\r\npublic synchronized void addElement( String s ) {\r\n    myListRef.get().add( s ) ;\r\n}\r\n\r\npublic void removeAllAndProcess() {\r\n    List &lt; String &gt; newList = new ArrayList&lt;&gt;() ;\r\n    List &lt; String &gt; oldList = myListRef.getAndSet( newList ) ;\r\n    oldList.forEach( ( String s ) -&gt; {\r\n            myList.remove( s ) ;\r\n            process( s );\r\n        }\r\n    );\r\n}\r\n\r\n// Some processing\r\npublic void process(String s) {\r\n  boolean processedSuccessfully = … ;\r\n  if( ! processedSuccessfully ) { \r\n    myListRef.get().add( s ) ;\r\n  }\r\n}\r\n```\r\n\r\nNote: My presumption here is that your `process` method is *only* ever called from within your `removeAllAndProcess` method.\r\n\r\n----------\r\n\r\nI am not happy about the arrangement of your code. But I am ignoring such issues, to focus on your Question as asked.\r\n\r\nI suspect another data structure such as a `Queue` would better suit your purposes. But, again, I am ignoring that to focus on your Question as asked.\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html","title":"Calling toArray() on a synchronized array list a thread safe operation?","body":"<p>The Javadoc for <code>Collections.synchronizedList</code> says:</p>\n<blockquote>\n<p>It is imperative that the user manually synchronize on the returned list when traversing it via Iterator, Spliterator or Stream</p>\n</blockquote>\n<p>I do not know if we should consider that prescription to apply to <code>List#toArray</code>. I would have assumed so, but apparently not.</p>\n<p>I went to look at the source code at OpenJDK for <code>ArrayList</code> <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java\" rel=\"nofollow noreferrer\">here</a>. Apparently <code>ArrayList#toArray</code> implementation is:</p>\n<pre><code>public Object[] toArray() {\n    return Arrays.copyOf(elementData, size);\n}\n</code></pre>\n<p>The source code of <code>Arrays.copyOf</code> ends up calling <code>System.arrayCopy</code>.</p>\n<p>So we have a pile of code. And none of it explicitly promises thread-safety. So while I cannot directly answer your Question, I can offer a simple alternative solution.</p>\n<h1><code>AtomicReference</code></h1>\n<p>I would suggest this simple solution as an alternative: Rather than drain the list of elements, replace the entire list, while providing thread-safety with an <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\" rel=\"nofollow noreferrer\"><code>AtomicReference</code></a>.</p>\n<p>However, we need to synchronize on the <code>addElement</code> method with this approach. It would be possible for one thread to get a reference to the list, a second thread to replace the list with a new one and begin iteration on the old list, while the first thread modifies the old list to which it still has a reference.</p>\n<p>While we must add synchronization to the <code>addElement</code> method, we can remove synchronization from the list itself. Under this approach we are no longer deleting from the list. The only modification we make to the list is adding through the now synchronized <code>addElement</code> method. So no need to call <code>Collections.synchronizedList</code>.</p>\n<p>By the way, I changed the plural <code>addElements</code> to the singular <code>addElement</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>AtomicReference &lt; List &lt; String &gt; &gt; myListRef = new AtomicReference( new ArrayList&lt;&gt;() ) ;\n\n// adding to array\npublic synchronized void addElement( String s ) {\n    myListRef.get().add( s ) ;\n}\n\npublic void removeAllAndProcess() {\n    List &lt; String &gt; newList = new ArrayList&lt;&gt;() ;\n    List &lt; String &gt; oldList = myListRef.getAndSet( newList ) ;\n    oldList.forEach( ( String s ) -&gt; {\n            myList.remove( s ) ;\n            process( s );\n        }\n    );\n}\n\n// Some processing\npublic void process(String s) {\n  boolean processedSuccessfully = … ;\n  if( ! processedSuccessfully ) { \n    myListRef.get().add( s ) ;\n  }\n}\n</code></pre>\n<p>Note: My presumption here is that your <code>process</code> method is <em>only</em> ever called from within your <code>removeAllAndProcess</code> method.</p>\n<hr />\n<p>I am not happy about the arrangement of your code. But I am ignoring such issues, to focus on your Question as asked.</p>\n<p>I suspect another data structure such as a <code>Queue</code> would better suit your purposes. But, again, I am ignoring that to focus on your Question as asked.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680772474,"creation_date":1680771973,"answer_id":75947727,"question_id":75945707,"body_markdown":"No additional synchronisation is needed as `Collections.synchronizedList(xyz)` wraps all access to underlying `xyz` safely.\r\n\r\nYou could double check your JDK implementation by following the source code in a good IDE. In OpenJDK20 you will see that `Collections.synchronizedList` returns a `SynchronizedList`\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; synchronizedList(List&lt;T&gt; list) {\r\n        return (list instanceof RandomAccess ?\r\n                new SynchronizedRandomAccessList&lt;&gt;(list) :\r\n                new SynchronizedList&lt;&gt;(list));\r\n    }\r\n\r\n`SynchronizedList` extends `SynchronizedCollection` which implements `toArray()` with object synchronisation to ensure that you have thread-safe operation:\r\n\r\n    public Object[] toArray() {\r\n        synchronized (mutex) {return c.toArray();}\r\n    }\r\n","title":"Calling toArray() on a synchronized array list a thread safe operation?","body":"<p>No additional synchronisation is needed as <code>Collections.synchronizedList(xyz)</code> wraps all access to underlying <code>xyz</code> safely.</p>\n<p>You could double check your JDK implementation by following the source code in a good IDE. In OpenJDK20 you will see that <code>Collections.synchronizedList</code> returns a <code>SynchronizedList</code></p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; synchronizedList(List&lt;T&gt; list) {\n    return (list instanceof RandomAccess ?\n            new SynchronizedRandomAccessList&lt;&gt;(list) :\n            new SynchronizedList&lt;&gt;(list));\n}\n</code></pre>\n<p><code>SynchronizedList</code> extends <code>SynchronizedCollection</code> which implements <code>toArray()</code> with object synchronisation to ensure that you have thread-safe operation:</p>\n<pre><code>public Object[] toArray() {\n    synchronized (mutex) {return c.toArray();}\n}\n</code></pre>\n"}],"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75947727,"answer_count":2,"score":0,"last_activity_date":1680772474,"creation_date":1680753741,"question_id":75945707,"body_markdown":"I am creating and using a synchronized array list which is being accessed/modified by multiple threads. In a certain operation I want to remove all elements of this synchronized list and process them. \r\n```\r\nList&lt;String&gt; myList = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n\r\n// adding to array\r\npublic void addElements(String s) {\r\n   myList.add(s)\r\n}\r\n\r\npublic void removeAllAndProcess() {\r\n  Arrays.stream(myList.toArray()).forEach(s -&gt; {\r\n            myList.remove(s);\r\n            process(s.toString());\r\n        });\r\n}\r\n\r\n// Some processing\r\npublic void process(String s) {\r\n  // if processing unsuccessful then again add to list : myList.add(s)\r\n}\r\n```\r\n\r\nI am wondering if ```toArray()``` needs to be within a synchronized block ? Will a concurrent addition to the list while ```toArray``` is being called will affect the returned array ?","title":"Calling toArray() on a synchronized array list a thread safe operation?","body":"<p>I am creating and using a synchronized array list which is being accessed/modified by multiple threads. In a certain operation I want to remove all elements of this synchronized list and process them.</p>\n<pre><code>List&lt;String&gt; myList = Collections.synchronizedList(new ArrayList&lt;&gt;());\n\n// adding to array\npublic void addElements(String s) {\n   myList.add(s)\n}\n\npublic void removeAllAndProcess() {\n  Arrays.stream(myList.toArray()).forEach(s -&gt; {\n            myList.remove(s);\n            process(s.toString());\n        });\n}\n\n// Some processing\npublic void process(String s) {\n  // if processing unsuccessful then again add to list : myList.add(s)\n}\n</code></pre>\n<p>I am wondering if <code>toArray()</code> needs to be within a synchronized block ? Will a concurrent addition to the list while <code>toArray</code> is being called will affect the returned array ?</p>\n"},{"tags":["java","eclipse","appium","appium-android"],"answers":[{"tags":[],"owner":{"account_id":12218669,"reputation":2466,"user_id":8918302,"display_name":"Suban Dhyako"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680772302,"creation_date":1680772302,"answer_id":75947773,"question_id":75942098,"body_markdown":"In your test case add &quot;**newCommandTimeout**&quot; in your desired capability\r\n\r\n    DesiredCapabilities capabilities = new DesiredCapabilities();\r\n    capabilities.SetCapability(&quot;newCommandTimeout&quot;, 300);\r\n\r\n&gt; newCommandTimeout : How long (in seconds) Appium will wait for a new\r\n&gt; command from the client before assuming the client quit and ending the\r\n&gt; session","title":"Android Appium: org.openqa.selenium.NoSuchSessionException: A session is either terminated or not started","body":"<p>In your test case add &quot;<strong>newCommandTimeout</strong>&quot; in your desired capability</p>\n<pre><code>DesiredCapabilities capabilities = new DesiredCapabilities();\ncapabilities.SetCapability(&quot;newCommandTimeout&quot;, 300);\n</code></pre>\n<blockquote>\n<p>newCommandTimeout : How long (in seconds) Appium will wait for a new\ncommand from the client before assuming the client quit and ending the\nsession</p>\n</blockquote>\n"}],"owner":{"account_id":28224827,"reputation":11,"user_id":21575019,"display_name":"Filipe Alves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680772302,"creation_date":1680713446,"question_id":75942098,"body_markdown":"I am testing an app using Eclipse + Appium + UiAutomator2 + AndroidDriver + Testng.\r\n\r\nWhen I run this specific test I get this error: \r\n\r\norg.openqa.selenium.NoSuchSessionException: A session is either terminated or not started\r\n\r\nThis only happens when I give a Thread.Sleep about 120 seconds.\r\n\r\nI have to do that, I have to stay in that screen for about 120 whithout any interaction.\r\n\r\nIf I comment the step before the thread.sleep (including the thread.sleep), the test runs normally.\r\n\r\nI want to run this test case successfully.","title":"Android Appium: org.openqa.selenium.NoSuchSessionException: A session is either terminated or not started","body":"<p>I am testing an app using Eclipse + Appium + UiAutomator2 + AndroidDriver + Testng.</p>\n<p>When I run this specific test I get this error:</p>\n<p>org.openqa.selenium.NoSuchSessionException: A session is either terminated or not started</p>\n<p>This only happens when I give a Thread.Sleep about 120 seconds.</p>\n<p>I have to do that, I have to stay in that screen for about 120 whithout any interaction.</p>\n<p>If I comment the step before the thread.sleep (including the thread.sleep), the test runs normally.</p>\n<p>I want to run this test case successfully.</p>\n"},{"tags":["java","spring","aop","aspectj","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1618019647,"creation_date":1617889590,"answer_id":67005346,"question_id":66996130,"body_markdown":"You are currently doing something similar to what I explained in [this answer](https://stackoverflow.com/a/48543096/1082681), i.e. matching (meta) annotations on classes.\r\n\r\nNow you are wondering why it does not match methods. I explained that [here](https://stackoverflow.com/a/57385491/1082681). Basically, `@within()` matches anything in annotated classes while `@annotation()` matches annotated methods. The problem is, `@annotation()` needs an exact type name.\r\n\r\nBut there is another way to express an annotated method directly inside an `execution()` signature. Here you also have the option to specify meta annotations in a similar way as you are using it for annotated classes. Let us compare the two:\r\n\r\n```java\r\npackage de.scrum_master.aspect;\r\n\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\n\r\n@Aspect\r\npublic class MetaAnnotationInterceptor {\r\n  @Before(\r\n    &quot;execution(* *(..)) &amp;&amp; (&quot; +\r\n      &quot;within(@de.scrum_master.app.MetaAnnotation *) || &quot; +\r\n      &quot;within(@(@de.scrum_master.app.MetaAnnotation *) *) || &quot; +\r\n      &quot;within(@(@(@de.scrum_master.app.MetaAnnotation *) *) *)&quot; +\r\n    &quot;)&quot;\r\n  )\r\n  public void annotatedClasses(JoinPoint thisJoinPoint){\r\n    System.out.println(thisJoinPoint);\r\n  }\r\n\r\n  @Before(\r\n    &quot;execution(@de.scrum_master.app.MetaAnnotation * *(..)) || &quot; +\r\n    &quot;execution(@(@de.scrum_master.app.MetaAnnotation *) * *(..)) || &quot; +\r\n    &quot;execution(@(@(@de.scrum_master.app.MetaAnnotation *) *) * *(..)) &quot;\r\n  )\r\n  public void annotatedMethods(JoinPoint thisJoinPoint){\r\n    System.out.println(thisJoinPoint);\r\n  }\r\n}\r\n```\r\n\r\nThe latter is what you are looking for. Just replace `de.scrum_master.app.MetaAnnotation` by `org.springframework.transaction.annotation.Transactional`, and it should work for your use case. Make sure not to mess up the number and nesting order of `()`, `@` and `*`, otherwise you quickly end up with pointcut syntax errors.\r\n\r\nIf you prefer to have one advice method instead or two, you can either create a big messy string containing both pointcuts or you define two separate `@Pointcut`s and combine them in the advice, chaining them with `||`.","title":"How to intercept meta annotations on types or methods","body":"<p>You are currently doing something similar to what I explained in <a href=\"https://stackoverflow.com/a/48543096/1082681\">this answer</a>, i.e. matching (meta) annotations on classes.</p>\n<p>Now you are wondering why it does not match methods. I explained that <a href=\"https://stackoverflow.com/a/57385491/1082681\">here</a>. Basically, <code>@within()</code> matches anything in annotated classes while <code>@annotation()</code> matches annotated methods. The problem is, <code>@annotation()</code> needs an exact type name.</p>\n<p>But there is another way to express an annotated method directly inside an <code>execution()</code> signature. Here you also have the option to specify meta annotations in a similar way as you are using it for annotated classes. Let us compare the two:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\n\n@Aspect\npublic class MetaAnnotationInterceptor {\n  @Before(\n    &quot;execution(* *(..)) &amp;&amp; (&quot; +\n      &quot;within(@de.scrum_master.app.MetaAnnotation *) || &quot; +\n      &quot;within(@(@de.scrum_master.app.MetaAnnotation *) *) || &quot; +\n      &quot;within(@(@(@de.scrum_master.app.MetaAnnotation *) *) *)&quot; +\n    &quot;)&quot;\n  )\n  public void annotatedClasses(JoinPoint thisJoinPoint){\n    System.out.println(thisJoinPoint);\n  }\n\n  @Before(\n    &quot;execution(@de.scrum_master.app.MetaAnnotation * *(..)) || &quot; +\n    &quot;execution(@(@de.scrum_master.app.MetaAnnotation *) * *(..)) || &quot; +\n    &quot;execution(@(@(@de.scrum_master.app.MetaAnnotation *) *) * *(..)) &quot;\n  )\n  public void annotatedMethods(JoinPoint thisJoinPoint){\n    System.out.println(thisJoinPoint);\n  }\n}\n</code></pre>\n<p>The latter is what you are looking for. Just replace <code>de.scrum_master.app.MetaAnnotation</code> by <code>org.springframework.transaction.annotation.Transactional</code>, and it should work for your use case. Make sure not to mess up the number and nesting order of <code>()</code>, <code>@</code> and <code>*</code>, otherwise you quickly end up with pointcut syntax errors.</p>\n<p>If you prefer to have one advice method instead or two, you can either create a big messy string containing both pointcuts or you define two separate <code>@Pointcut</code>s and combine them in the advice, chaining them with <code>||</code>.</p>\n"}],"owner":{"account_id":4171617,"reputation":33,"user_id":3419244,"display_name":"user3419244"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":777,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":67005346,"answer_count":1,"score":2,"last_activity_date":1680772294,"creation_date":1617844923,"question_id":66996130,"body_markdown":"Below is my custom annotation.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Target({ ElementType.METHOD, ElementType.TYPE })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Transactional(value = TransactionalCode.MANAGER, readOnly = true)\r\n    public @interface FinanceReadTx {}\r\n\r\nI want to do something with the &quot;MyAnnotation&quot; so I declared `@Around` and method like below.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Aspect\r\n    @Component\r\n    public class TransactionalInterceptor implements Ordered {\r\n    \t@Around(&quot;within(@org.springframework.transaction.annotation.Transactional *) || &quot; +\r\n    \t\t\t&quot;within(@(@org.springframework.transaction.annotation.Transactional *) *)&quot;)\r\n    \tpublic Object proceed(ProceedingJoinPoint pjp) throws Throwable {\r\n    \t\ttry {\r\n    \t\t\tsetDbType(pjp);\r\n    \t\t\tObject result = pjp.proceed();\r\n    \t\t\tDataSourceContextHolder.clearDataSourceType();\r\n    \t\t\treturn result;\r\n    \t\t} finally {\r\n    \t\t\t// restore state\r\n    \t\t\tDataSourceContextHolder.clearDataSourceType();\r\n    \t\t}\r\n    \t}\r\n        // ...\r\n    }\r\n\r\nThe below service is &quot;Autowired&quot; by other classes. so I think it is not the problem related to AOP proxy. \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Service\r\n    public class UnconfirmedReportService {\r\n    \tprivate static final int PREVIEW_SIZE = 8;\r\n    \t@Autowired\r\n    \tprivate UnconfirmedReportRepository unconfirmedReportRepository;\r\n        // ...\r\n    \t@FinanceHikariReadTx\r\n    \tpublic List&lt;UnconfirmedExcelDownloadView&gt; getExcelData(UnconfirmedSearchCondition condition) {\r\n    \t\tList&lt;UnconfirmedExcelDownloadView&gt; excelData = newArrayList();\r\n    \t\texcelData.addAll(newArrayList(getPurchaseReportDetailExcel(condition)));\r\n    \t\treturn excelData;\r\n    \t}\r\n        // ...\r\n    }\r\n\r\nThe below code calls the above service\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class UnconfirmedDashboardDetailExcelReader extends SellerExcelReaderTemplate&lt;UnconfirmedExcelDownloadView, UnconfirmedSearchCondition&gt; {\r\n    \t@Autowired\r\n    \tprivate UnconfirmedReportService unconfirmedReportservice;\r\n    \r\n    \t@Override public List&lt;UnconfirmedExcelDownloadView&gt; read(String conditionJson) {\r\n    \t\tUnconfirmedSearchCondition condition = transformCondition(conditionJson);\r\n    \t\tList&lt;UnconfirmedExcelDownloadView&gt; viewList = unconfirmedReportservice.getExcelData(condition);\r\n    \t\treturn viewList;\r\n    \t}\r\n        // ...\r\n    }\r\n\r\nIf the `@MyAnnotation` is annotated to a class, the proceed() is called but If a method is with the annotation like above code, it doesn&#39;t work. I want it to work with only methods.\r\n\r\nWhat I try to solve this?\r\n","title":"How to intercept meta annotations on types or methods","body":"<p>Below is my custom annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ ElementType.METHOD, ElementType.TYPE })\n@Retention(RetentionPolicy.RUNTIME)\n@Transactional(value = TransactionalCode.MANAGER, readOnly = true)\npublic @interface FinanceReadTx {}\n</code></pre>\n<p>I want to do something with the &quot;MyAnnotation&quot; so I declared <code>@Around</code> and method like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\npublic class TransactionalInterceptor implements Ordered {\n    @Around(&quot;within(@org.springframework.transaction.annotation.Transactional *) || &quot; +\n            &quot;within(@(@org.springframework.transaction.annotation.Transactional *) *)&quot;)\n    public Object proceed(ProceedingJoinPoint pjp) throws Throwable {\n        try {\n            setDbType(pjp);\n            Object result = pjp.proceed();\n            DataSourceContextHolder.clearDataSourceType();\n            return result;\n        } finally {\n            // restore state\n            DataSourceContextHolder.clearDataSourceType();\n        }\n    }\n    // ...\n}\n</code></pre>\n<p>The below service is &quot;Autowired&quot; by other classes. so I think it is not the problem related to AOP proxy.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UnconfirmedReportService {\n    private static final int PREVIEW_SIZE = 8;\n    @Autowired\n    private UnconfirmedReportRepository unconfirmedReportRepository;\n    // ...\n    @FinanceHikariReadTx\n    public List&lt;UnconfirmedExcelDownloadView&gt; getExcelData(UnconfirmedSearchCondition condition) {\n        List&lt;UnconfirmedExcelDownloadView&gt; excelData = newArrayList();\n        excelData.addAll(newArrayList(getPurchaseReportDetailExcel(condition)));\n        return excelData;\n    }\n    // ...\n}\n</code></pre>\n<p>The below code calls the above service</p>\n<pre><code>@Slf4j\n@Component\npublic class UnconfirmedDashboardDetailExcelReader extends SellerExcelReaderTemplate&lt;UnconfirmedExcelDownloadView, UnconfirmedSearchCondition&gt; {\n    @Autowired\n    private UnconfirmedReportService unconfirmedReportservice;\n\n    @Override public List&lt;UnconfirmedExcelDownloadView&gt; read(String conditionJson) {\n        UnconfirmedSearchCondition condition = transformCondition(conditionJson);\n        List&lt;UnconfirmedExcelDownloadView&gt; viewList = unconfirmedReportservice.getExcelData(condition);\n        return viewList;\n    }\n    // ...\n}\n</code></pre>\n<p>If the <code>@MyAnnotation</code> is annotated to a class, the proceed() is called but If a method is with the annotation like above code, it doesn't work. I want it to work with only methods.</p>\n<p>What I try to solve this?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1680766915,"post_id":75946981,"comment_id":133954611,"body_markdown":"I m assuming the orderList can have any amount of orders, and can also have orders that are not corresponding to indexes? ie order1 is idx 0 and apple in productList is also idx0","body":"I m assuming the orderList can have any amount of orders, and can also have orders that are not corresponding to indexes? ie order1 is idx 0 and apple in productList is also idx0"},{"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"score":0,"creation_date":1680767410,"post_id":75946981,"comment_id":133954716,"body_markdown":"The List&lt;Order&gt; contains all the products. Indexes may not match List&lt;Product&gt;","body":"The List&lt;Order&gt; contains all the products. Indexes may not match List&lt;Product&gt;"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680767475,"creation_date":1680767475,"answer_id":75947067,"question_id":75946981,"body_markdown":"You can first create a `Map` that contains the amount of each product with `Collectors.groupingBy`. Then, iterate over all the orders and compare the amounts.\r\n\r\n```java\r\nMap&lt;String, Integer&gt; freq = productList.stream().collect(\r\n    Collectors.groupingBy(Product::getName, Collectors.summingInt(Product::getAmount)));\r\norderList.stream().forEach(order -&gt; {\r\n\tboolean works = freq.getOrDefault(order.getName(), 0) &gt;= order.getAmount();\r\n\tSystem.out.println(works); // or do anything else\r\n});\r\n```\r\n\r\nAlternatively, if each `Product` in the `productList` has a unique name, then it is simpler to use `Collectors.toMap`.\r\n\r\n```java\r\nMap&lt;String, Integer&gt; freq = productList.stream().collect(\r\n          Collectors.toMap(Product::getName, Product::getAmount));\r\n```","title":"Сompare List&lt;Order&gt; with List&lt;Product&gt; using StreamAPI","body":"<p>You can first create a <code>Map</code> that contains the amount of each product with <code>Collectors.groupingBy</code>. Then, iterate over all the orders and compare the amounts.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; freq = productList.stream().collect(\n    Collectors.groupingBy(Product::getName, Collectors.summingInt(Product::getAmount)));\norderList.stream().forEach(order -&gt; {\n    boolean works = freq.getOrDefault(order.getName(), 0) &gt;= order.getAmount();\n    System.out.println(works); // or do anything else\n});\n</code></pre>\n<p>Alternatively, if each <code>Product</code> in the <code>productList</code> has a unique name, then it is simpler to use <code>Collectors.toMap</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; freq = productList.stream().collect(\n          Collectors.toMap(Product::getName, Product::getAmount));\n</code></pre>\n"}],"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680772035,"creation_date":1680766761,"question_id":75946981,"body_markdown":"it is necessary to determine whether this order can be fulfilled: is there enough of each product in stock.I can&#39;t figure out how to compare lists using stream \r\n\r\n\r\n\r\n\r\n```\r\nclass Product {\r\n    private String name;\r\n    private int amount;\r\n\r\n    public Product(String name, int amount) {\r\n        this.name = name;\r\n        this.amount = amount;\r\n    }\r\n}\r\nclass Order {\r\n    private String name;\r\n    private int amount;\r\n\r\n    public Order(String name, int amount) {\r\n        this.name = name;\r\n        this.amount = amount;\r\n    }\r\n}\r\nclass TestWarehouse {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Product apple = new Product(&quot;apple&quot;, 3);\r\n        Product juice = new Product(&quot;juice&quot;, 2);\r\n        Product milk = new Product(&quot;milk&quot;, 4);\r\n\r\n        Order order1 = new Order(&quot;apple&quot;, 3);\r\n        Order order2 = new Order(&quot;juice&quot;, 3);\r\n        Order order3 = new Order(&quot;milk&quot;, 5);\r\n\r\n        List&lt;Order&gt; orderList = new ArrayList&lt;&gt;(List.of(order1, order2, order3));\r\n        List&lt;Product&gt; productList = new ArrayList&lt;&gt;(List.of(apple, juice, milk));\r\n//        orderList.stream()\r\n//                .filter()\r\n//                .anyMatch()\r\n    }\r\n}\r\n```\r\n","title":"Сompare List&lt;Order&gt; with List&lt;Product&gt; using StreamAPI","body":"<p>it is necessary to determine whether this order can be fulfilled: is there enough of each product in stock.I can't figure out how to compare lists using stream</p>\n<pre><code>class Product {\n    private String name;\n    private int amount;\n\n    public Product(String name, int amount) {\n        this.name = name;\n        this.amount = amount;\n    }\n}\nclass Order {\n    private String name;\n    private int amount;\n\n    public Order(String name, int amount) {\n        this.name = name;\n        this.amount = amount;\n    }\n}\nclass TestWarehouse {\n\n    public static void main(String[] args) {\n\n        Product apple = new Product(&quot;apple&quot;, 3);\n        Product juice = new Product(&quot;juice&quot;, 2);\n        Product milk = new Product(&quot;milk&quot;, 4);\n\n        Order order1 = new Order(&quot;apple&quot;, 3);\n        Order order2 = new Order(&quot;juice&quot;, 3);\n        Order order3 = new Order(&quot;milk&quot;, 5);\n\n        List&lt;Order&gt; orderList = new ArrayList&lt;&gt;(List.of(order1, order2, order3));\n        List&lt;Product&gt; productList = new ArrayList&lt;&gt;(List.of(apple, juice, milk));\n//        orderList.stream()\n//                .filter()\n//                .anyMatch()\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"score":0,"creation_date":1639002980,"post_id":59092672,"comment_id":124240598,"body_markdown":"We use Spring Cloud Common (bootstrap context) for this use-case, if you do not care that your starter brings an additional dependency: https://spring.io/projects/spring-cloud-commons\nActually we enable a few profiles by default enabling our configs, so the teams do not have to care about e.g. oauth settings.","body":"We use Spring Cloud Common (bootstrap context) for this use-case, if you do not care that your starter brings an additional dependency: <a href=\"https://spring.io/projects/spring-cloud-commons\" rel=\"nofollow noreferrer\">spring.io/projects/spring-cloud-commons</a> Actually we enable a few profiles by default enabling our configs, so the teams do not have to care about e.g. oauth settings."}],"answers":[{"tags":[],"owner":{"account_id":966321,"reputation":803,"user_id":4573580,"display_name":"Dmitry Ionash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574959861,"creation_date":1574959861,"answer_id":59093394,"question_id":59092672,"body_markdown":"If I understood properly your issue, I have faced such problem just last week ...\r\nI was inspecting this issue and I have some findings (they are not supported by official documentation): if you add dependency and want to use its resources, you have a situation when both application.yml files have the same location - `classpath:application.yml`, and or they cannot be loaded together, or one of them is overridden by other. In any case, in my application, it did not work.\r\n\r\nThe straight and simple solution if you just need to load configuration from dependent config file - rename it and load in a possible way (manual loading from YAML, property source&#39;s initializer, etc.)\r\n\r\nBut if this config file should be used anywhere, we can load properties manually in the context. In a dependency (consumer in your case) create another configuration file, e.g. consumer-application.yml and next bean in @configuration class:\r\n\r\n    @Bean\r\n    public static PropertySourcesPlaceholderConfigurer properties() {\r\n        var propertySourcesPlaceholderConfigurer = new PropertySourcesPlaceholderConfigurer();\r\n        var yamlPropertiesFactoryBean = new YamlPropertiesFactoryBean();\r\n        yamlPropertiesFactoryBean.setResources(new ClassPathResource(&quot;consumer-application.yaml&quot;));\r\n        propertySourcesPlaceholderConfigurer.setProperties(yamlPropertiesFactoryBean.getObject());\r\n        return propertySourcesPlaceholderConfigurer;\r\n    }\r\n\r\nAnd you can use properties from YAML-file in both applications with @Value.\r\n\r\nBut the simplest way - to use properties configs. In that case, you can just set `@PropertySource(&quot;classpath:consumer-application.properties&quot;)` in consumer and `@PropertySource(value = {&quot;classpath:application.properties&quot;, &quot;classpath:consumer-application.properties&quot;})`\r\nIn my case both variants work correctly.","title":"Is it possible to have a default application.yml in a custom Spring boot starter?","body":"<p>If I understood properly your issue, I have faced such problem just last week ...\nI was inspecting this issue and I have some findings (they are not supported by official documentation): if you add dependency and want to use its resources, you have a situation when both application.yml files have the same location - <code>classpath:application.yml</code>, and or they cannot be loaded together, or one of them is overridden by other. In any case, in my application, it did not work.</p>\n\n<p>The straight and simple solution if you just need to load configuration from dependent config file - rename it and load in a possible way (manual loading from YAML, property source's initializer, etc.)</p>\n\n<p>But if this config file should be used anywhere, we can load properties manually in the context. In a dependency (consumer in your case) create another configuration file, e.g. consumer-application.yml and next bean in @configuration class:</p>\n\n<pre><code>@Bean\npublic static PropertySourcesPlaceholderConfigurer properties() {\n    var propertySourcesPlaceholderConfigurer = new PropertySourcesPlaceholderConfigurer();\n    var yamlPropertiesFactoryBean = new YamlPropertiesFactoryBean();\n    yamlPropertiesFactoryBean.setResources(new ClassPathResource(\"consumer-application.yaml\"));\n    propertySourcesPlaceholderConfigurer.setProperties(yamlPropertiesFactoryBean.getObject());\n    return propertySourcesPlaceholderConfigurer;\n}\n</code></pre>\n\n<p>And you can use properties from YAML-file in both applications with @Value.</p>\n\n<p>But the simplest way - to use properties configs. In that case, you can just set <code>@PropertySource(\"classpath:consumer-application.properties\")</code> in consumer and <code>@PropertySource(value = {\"classpath:application.properties\", \"classpath:consumer-application.properties\"})</code>\nIn my case both variants work correctly.</p>\n"},{"tags":[],"owner":{"account_id":15535135,"reputation":143,"user_id":11207493,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574970416,"creation_date":1574967987,"answer_id":59094976,"question_id":59092672,"body_markdown":"You can try initializing the member variables on the starter itself. If consumer wants to override the values they can do it with they&#39;re application configuration.\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;security&quot;)\r\npublic class StarterSecurityConfig {\r\n    private boolean jwtEnabled = true;\r\n    private String[] unsecuredPaths = { &quot;/user/**&quot; };\r\n    private String[] securedPaths = { &quot;/**&quot; };\r\n}\r\n```\r\n\r\nFews more ideas:\r\n\r\nI would make jwtEnabled  as false and would remove the @Configuration and @ConfigurationProperties from the above Class and create an SecurityAutoConfiguration Class with other beans. \r\n\r\n```\r\n@Configuration\r\npublic class SecurityAutoConfiguration{\r\n\r\n   @Bean\r\n   @ConfigurationProperties(prefix = &quot;security&quot;)\r\n   public StarterSecurityConfig starterSecurityConfig(){\r\n     return new StarterSecurityConfig();\r\n   }\r\n\r\n   @Bean\r\n   @ConditionalOnProperty(value=&quot;security.jwtEnabled&quot;, havingValue = &quot;true&quot;)\r\n   public JwtService jwtService(StarterSecurityConfig starterSecurityConfig) {\r\n     return new JwtService(starterSecurityConfig);\r\n   }   \r\n\r\n}\r\n```\r\nthe consumers will be able to enable or disable the security-starter with their application configuration using security.jwtEnabled flag.\r\n\r\n","title":"Is it possible to have a default application.yml in a custom Spring boot starter?","body":"<p>You can try initializing the member variables on the starter itself. If consumer wants to override the values they can do it with they're application configuration.</p>\n\n<pre><code>@Getter\n@Setter\n@Configuration\n@ConfigurationProperties(prefix = \"security\")\npublic class StarterSecurityConfig {\n    private boolean jwtEnabled = true;\n    private String[] unsecuredPaths = { \"/user/**\" };\n    private String[] securedPaths = { \"/**\" };\n}\n</code></pre>\n\n<p>Fews more ideas:</p>\n\n<p>I would make jwtEnabled  as false and would remove the @Configuration and @ConfigurationProperties from the above Class and create an SecurityAutoConfiguration Class with other beans. </p>\n\n<pre><code>@Configuration\npublic class SecurityAutoConfiguration{\n\n   @Bean\n   @ConfigurationProperties(prefix = \"security\")\n   public StarterSecurityConfig starterSecurityConfig(){\n     return new StarterSecurityConfig();\n   }\n\n   @Bean\n   @ConditionalOnProperty(value=\"security.jwtEnabled\", havingValue = \"true\")\n   public JwtService jwtService(StarterSecurityConfig starterSecurityConfig) {\n     return new JwtService(starterSecurityConfig);\n   }   \n\n}\n</code></pre>\n\n<p>the consumers will be able to enable or disable the security-starter with their application configuration using security.jwtEnabled flag.</p>\n"},{"tags":[],"owner":{"account_id":9606953,"reputation":64,"user_id":7132691,"accept_rate":0,"display_name":"Akshay Tyagi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680771985,"creation_date":1680771985,"answer_id":75947730,"question_id":59092672,"body_markdown":"We have 2 options to set properties defined inside the custom starter to make them available in the application(that uses the starter).\r\n                                                                                \r\n\r\n 1. Put all the properties in any custom property file(ex.- custom.properties) and put it in `src/main/resources` folder. Now use `@PropertySource` as a convenient mechanism for adding property sources to the environment.\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tThis `@PropertySource(&quot;classpath:custom.properties&quot;)` has to put on your auto configuration.\r\n&lt;br&gt;**How it works:-** When you add your custom starter in the spring boot application then at the time of startup, your auto configuration will get configured in the spring application context and since we are using `@PropertySource(&quot;classpath:custom.properties&quot;)` on auto configuration so properties defined inside the `custom.properties` will also be available in application context. *If you want to override some of the properties, define those properties in `application.properties|yml` in the application itself.*\r\n**Example:-** \r\n&lt;br&gt;custom.properties\r\n&gt; welcome.message=Hello Akshay\r\n\r\n        @AutoConfiguration\r\n        @PropertySource(&quot;classpath:custom.properties&quot;)\r\n        public class MyAutoConfiguration{\r\n          // spring beans \r\n        }\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \r\n 2. We know, If both .properties|yml in your custom starter and application that included custom starter are named as `application.properties|yml` will cause your properties set in custom starter not working since both properties have same name and in same path. Though we cannot have the same properties with same name and same path But we can have both `application.yml` and `application.properties` at same time in same project. **Read here-** https://stackoverflow.com/questions/25231918/does-spring-boot-support-using-both-properties-and-yml-files-at-the-same-time\r\n&lt;br&gt;**Solution:-** Put all the properties in `application.properties|yml` file inside `src/main/resources` folder. This way you do not have to use `@PropertySource`. But there is only one thing you keep in your mind while using this option **(a)** If your application has resource file name as `application.yml` then In starter, you should have `application.properties` --&gt; In this case you cannot override the properties via `application.yml` of application because first `application.yml` will be loaded, later `application.properties` will be loaded. **(b)** If your application has resource file name as `application.properties` then In starter, you should have `application.yml` --&gt; In this case you can override the properties via `application.properties` of application because as per the above statement, `application.properties` will be loaded after `application.yml`.","title":"Is it possible to have a default application.yml in a custom Spring boot starter?","body":"<p>We have 2 options to set properties defined inside the custom starter to make them available in the application(that uses the starter).</p>\n<ol>\n<li>Put all the properties in any custom property file(ex.- custom.properties) and put it in <code>src/main/resources</code> folder. Now use <code>@PropertySource</code> as a convenient mechanism for adding property sources to the environment.                                                                       This <code>@PropertySource(&quot;classpath:custom.properties&quot;)</code> has to put on your auto configuration.\n<br><strong>How it works:-</strong> When you add your custom starter in the spring boot application then at the time of startup, your auto configuration will get configured in the spring application context and since we are using <code>@PropertySource(&quot;classpath:custom.properties&quot;)</code> on auto configuration so properties defined inside the <code>custom.properties</code> will also be available in application context. <em>If you want to override some of the properties, define those properties in <code>application.properties|yml</code> in the application itself.</em>\n<strong>Example:-</strong>\n<br>custom.properties</li>\n</ol>\n<blockquote>\n<p>welcome.message=Hello Akshay</p>\n</blockquote>\n<pre><code>    @AutoConfiguration\n    @PropertySource(&quot;classpath:custom.properties&quot;)\n    public class MyAutoConfiguration{\n      // spring beans \n    }\n\n                                                                               \n</code></pre>\n<ol start=\"2\">\n<li>We know, If both .properties|yml in your custom starter and application that included custom starter are named as <code>application.properties|yml</code> will cause your properties set in custom starter not working since both properties have same name and in same path. Though we cannot have the same properties with same name and same path But we can have both <code>application.yml</code> and <code>application.properties</code> at same time in same project. <strong>Read here-</strong> <a href=\"https://stackoverflow.com/questions/25231918/does-spring-boot-support-using-both-properties-and-yml-files-at-the-same-time\">Does spring boot support using both properties and yml files at the same time?</a>\n<br><strong>Solution:-</strong> Put all the properties in <code>application.properties|yml</code> file inside <code>src/main/resources</code> folder. This way you do not have to use <code>@PropertySource</code>. But there is only one thing you keep in your mind while using this option <strong>(a)</strong> If your application has resource file name as <code>application.yml</code> then In starter, you should have <code>application.properties</code> --&gt; In this case you cannot override the properties via <code>application.yml</code> of application because first <code>application.yml</code> will be loaded, later <code>application.properties</code> will be loaded. <strong>(b)</strong> If your application has resource file name as <code>application.properties</code> then In starter, you should have <code>application.yml</code> --&gt; In this case you can override the properties via <code>application.properties</code> of application because as per the above statement, <code>application.properties</code> will be loaded after <code>application.yml</code>.</li>\n</ol>\n"}],"owner":{"account_id":2314917,"reputation":1269,"user_id":2032199,"accept_rate":43,"display_name":"mannuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3989,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1680771985,"creation_date":1574957005,"question_id":59092672,"body_markdown":"I am facing an issue with my custom spring boot starter and a spring boot app consumer that uses as a dependency. I have in both an application.yml but it seems that the configuration I am looking for it is only pressent if it is defined in the consumer.\r\n\r\nMy config in the starter is like this:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;security&quot;)\r\n    public class StarterSecurityConfig {\r\n        private boolean jwtEnabled;\r\n        private String[] unsecuredPaths;\r\n        private String[] securedPaths;\r\n    }\r\n\r\nAnd I have this bean defined in the AutoConfiguration class:\r\n\r\n    @Bean\r\n    public StarterSecurityConfig starterSecurityConfig() {\r\n        return new StarterSecurityConfig();\r\n    }\r\n\r\nIt is perfectly retrieved by the consumer which has this application.yml and another variables:\r\n\r\n        security:\r\n      jwt-enabled: true\r\n      secured-paths:\r\n        - /user/**\r\n      unsecured-paths:\r\n        - /**\r\n\r\nBut if I remove that from the consumer and I put it in the application.yml of the starter, the starter beans does not have these properties when creating them.\r\n\r\nMaybe am I missing something?","title":"Is it possible to have a default application.yml in a custom Spring boot starter?","body":"<p>I am facing an issue with my custom spring boot starter and a spring boot app consumer that uses as a dependency. I have in both an application.yml but it seems that the configuration I am looking for it is only pressent if it is defined in the consumer.</p>\n\n<p>My config in the starter is like this:</p>\n\n<pre><code>@Getter\n@Setter\n@Configuration\n@ConfigurationProperties(prefix = \"security\")\npublic class StarterSecurityConfig {\n    private boolean jwtEnabled;\n    private String[] unsecuredPaths;\n    private String[] securedPaths;\n}\n</code></pre>\n\n<p>And I have this bean defined in the AutoConfiguration class:</p>\n\n<pre><code>@Bean\npublic StarterSecurityConfig starterSecurityConfig() {\n    return new StarterSecurityConfig();\n}\n</code></pre>\n\n<p>It is perfectly retrieved by the consumer which has this application.yml and another variables:</p>\n\n<pre><code>    security:\n  jwt-enabled: true\n  secured-paths:\n    - /user/**\n  unsecured-paths:\n    - /**\n</code></pre>\n\n<p>But if I remove that from the consumer and I put it in the application.yml of the starter, the starter beans does not have these properties when creating them.</p>\n\n<p>Maybe am I missing something?</p>\n"},{"tags":["java","android","android-studio","gradle","dependencies"],"comments":[{"owner":{"account_id":2008878,"reputation":15778,"user_id":1797912,"accept_rate":60,"display_name":"Chriki"},"score":3,"creation_date":1680356826,"post_id":75873120,"comment_id":133886560,"body_markdown":"I’m afraid, I don’t understand what the issue is. Do you get any errors or so? Can you maybe elaborate on the differences between your “in testing” scenario and your “implement snapshot version” scenario?","body":"I’m afraid, I don’t understand what the issue is. Do you get any errors or so? Can you maybe elaborate on the differences between your “in testing” scenario and your “implement snapshot version” scenario?"},{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":0,"creation_date":1680492082,"post_id":75873120,"comment_id":133902162,"body_markdown":"Okay, We have snapshot version of our SDK and in this SDK there is feature for video compression and for we use `mp4parser` library as i mention `implementation (&#39;com.googlecode.mp4parser:isoparser:1.0.6&#39;)` this library we use . **Problem statement:**  when we implement our `SNAPSHOT` version to other projects then it `mp4parser`  library not works properly like it drops audio while compression and i know the reason of it because our snapshot version library can&#39;t fetch all classes and methods to other projects because of decoding of code and when i use above syntax as exclude it works fine.","body":"Okay, We have snapshot version of our SDK and in this SDK there is feature for video compression and for we use <code>mp4parser</code> library as i mention <code>implementation (&#39;com.googlecode.mp4parser:isoparser:1.0.6&#39;)</code> this library we use . <b>Problem statement:</b>  when we implement our <code>SNAPSHOT</code> version to other projects then it <code>mp4parser</code>  library not works properly like it drops audio while compression and i know the reason of it because our snapshot version library can&#39;t fetch all classes and methods to other projects because of decoding of code and when i use above syntax as exclude it works fine."},{"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":0,"creation_date":1680734368,"post_id":75873120,"comment_id":133950500,"body_markdown":"Can you provide build `--scan`s of both versions, working and non-working?","body":"Can you provide build <code>--scan</code>s of both versions, working and non-working?"}],"answers":[{"tags":[],"owner":{"account_id":4364692,"reputation":1015,"user_id":3560841,"display_name":"Shift Delete"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680435459,"creation_date":1680304866,"answer_id":75903432,"question_id":75873120,"body_markdown":"Maybe you should keep All your classes related to the `com.googlecode.mp4parser:isoparser:1.0.6` library in your proGuard.\r\n\r\nI think it&#39;s a proGaurd issue and you probably must write a proGaurd or Consumer rule.\r\n\r\nadd this to your library progaurd rule and your app progaurd rule and check again:\r\n\r\n    -keep class com.coremedia.iso.** {*;}\r\n    -keep class com.googlecode.mp4parser.** {*;}\r\n    -keep class com.mp4parser.** {*;}\r\n\r\n    -keep class * implements com.coremedia.iso.boxes.Box { *; }\r\n    -dontwarn com.coremedia.iso.boxes.**\r\n    -dontwarn com.googlecode.mp4parser.authoring.tracks.mjpeg.**\r\n    -dontwarn com.googlecode.mp4parser.authoring.tracks.ttml.**\r\n    \r\n    -dontwarn com.coremedia.**\r\n    -dontwarn com.googlecode.mp4parser.**","title":"Android SDK issue while implementation to other project because of dependency","body":"<p>Maybe you should keep All your classes related to the <code>com.googlecode.mp4parser:isoparser:1.0.6</code> library in your proGuard.</p>\n<p>I think it's a proGaurd issue and you probably must write a proGaurd or Consumer rule.</p>\n<p>add this to your library progaurd rule and your app progaurd rule and check again:</p>\n<pre><code>-keep class com.coremedia.iso.** {*;}\n-keep class com.googlecode.mp4parser.** {*;}\n-keep class com.mp4parser.** {*;}\n\n-keep class * implements com.coremedia.iso.boxes.Box { *; }\n-dontwarn com.coremedia.iso.boxes.**\n-dontwarn com.googlecode.mp4parser.authoring.tracks.mjpeg.**\n-dontwarn com.googlecode.mp4parser.authoring.tracks.ttml.**\n\n-dontwarn com.coremedia.**\n-dontwarn com.googlecode.mp4parser.**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1680762467,"creation_date":1680762467,"answer_id":75946489,"question_id":75873120,"body_markdown":"I solved this issue with not using `isoparser` library in our SDK.\r\n\r\nFor most cases it can solve using keep method in `proguard` but in my case it didn&#39;t help me so i just removed isoparser from my SDK because of that now i don&#39;t have any `Duplication` error in other projects and now it not throw error like `noclassfound`\r\n\r\nWhile using dependecny in SDK it headache for SDK user because of this two errors \r\n\r\n - `Duplication` dependency found duplicate method while compiling that&#39;s conflict sdk\r\n - `no class found` in some case project it&#39;s fails to find some class of dependency that used in my SDK because Android studio not decomile whole SDK\r\n\r\n&gt;Conclusion : Try to not use any famous third party library in SDK ","title":"Android SDK issue while implementation to other project because of dependency","body":"<p>I solved this issue with not using <code>isoparser</code> library in our SDK.</p>\n<p>For most cases it can solve using keep method in <code>proguard</code> but in my case it didn't help me so i just removed isoparser from my SDK because of that now i don't have any <code>Duplication</code> error in other projects and now it not throw error like <code>noclassfound</code></p>\n<p>While using dependecny in SDK it headache for SDK user because of this two errors</p>\n<ul>\n<li><code>Duplication</code> dependency found duplicate method while compiling that's conflict sdk</li>\n<li><code>no class found</code> in some case project it's fails to find some class of dependency that used in my SDK because Android studio not decomile whole SDK</li>\n</ul>\n<blockquote>\n<p>Conclusion : Try to not use any famous third party library in SDK</p>\n</blockquote>\n"}],"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75946489,"answer_count":2,"score":0,"last_activity_date":1680771722,"creation_date":1680063815,"question_id":75873120,"body_markdown":"In SDK we use iso parser library for video compression and few other things. It works fine in a test project, but when I try to use the snapshot version in another project iso parser does not work as it should. That is, while video compression it drops the audio. I don&#39;t know why, but when I configure it like this all works fine:\r\n\r\n```groovy\r\nimplementation(&#39;com.name.lib:Library:1.2.19-SNAPSHOT&#39;) {\r\n    exclude group: &#39;com.googlecode.mp4parser&#39;, module: &#39;isoparser&#39;\r\n}\r\n\r\nimplementation(&#39;com.googlecode.mp4parser:isoparser:1.0.6&#39;) {\r\n    force = true\r\n}\r\n```\r\n\r\nI know it&#39;s not good practice to use this type of snippet for lib dependenies. Is there any solution to this? If you need more details, please let me know.\r\n\r\nSomeone below told me to add this in proguard so.\r\n\r\n```\r\n-keep class com.googlecode.mp4parser.isoparser.** { *; }\r\n```","title":"Android SDK issue while implementation to other project because of dependency","body":"<p>In SDK we use iso parser library for video compression and few other things. It works fine in a test project, but when I try to use the snapshot version in another project iso parser does not work as it should. That is, while video compression it drops the audio. I don't know why, but when I configure it like this all works fine:</p>\n<pre><code>implementation('com.name.lib:Library:1.2.19-SNAPSHOT') {\n    exclude group: 'com.googlecode.mp4parser', module: 'isoparser'\n}\n\nimplementation('com.googlecode.mp4parser:isoparser:1.0.6') {\n    force = true\n}\n</code></pre>\n<p>I know it's not good practice to use this type of snippet for lib dependenies. Is there any solution to this? If you need more details, please let me know.</p>\n<p>Someone below told me to add this in proguard so.</p>\n<pre><code>-keep class com.googlecode.mp4parser.isoparser.** { *; }\n</code></pre>\n"},{"tags":["java","spring","grails","jobs","schedule"],"answers":[{"tags":[],"owner":{"account_id":132529,"reputation":3031,"user_id":333276,"accept_rate":75,"display_name":"David Brown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680771589,"creation_date":1680771589,"answer_id":75947653,"question_id":75942643,"body_markdown":"Generally, you don&#39;t create calculated fields directly in a YAML file. However, if you need to include configuration data that is calculated or references classes in your application, you can add it to a runtime.groovy file.\r\n\r\nThe runtime.groovy file should be placed in the same location as your other configuration files. It is processed after your application classes are loaded, which means that you can include more complex configuration data in this file,  including &#39;groovy&#39; code.\r\n\r\n","title":"Use arithmetic operations in a yaml","body":"<p>Generally, you don't create calculated fields directly in a YAML file. However, if you need to include configuration data that is calculated or references classes in your application, you can add it to a runtime.groovy file.</p>\n<p>The runtime.groovy file should be placed in the same location as your other configuration files. It is processed after your application classes are loaded, which means that you can include more complex configuration data in this file,  including 'groovy' code.</p>\n"}],"owner":{"account_id":14426950,"reputation":3,"user_id":10426962,"display_name":"Jo&#227;o G. Hartmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680771589,"creation_date":1680717302,"question_id":75942643,"body_markdown":"I&#39;m using spring jobs in a Grails 5.2.5 application. This application serves to run X (defined by the `reports.total` configuration) reports at the same time.\r\n\r\nFor correct operation, the `spring.task.scheduling.pool.size` configuration must be equal to or greater than the total number of jobs, to comply with reports.total it would need to be `3+reports.total` (the value is 3 because currently there are 3 jobs that need to run concurrently)\r\n\r\n```yaml\r\nreports:\r\n    total: 1\r\n\r\nspring:\r\n    task:\r\n        scheduling:\r\n            pool:\r\n                size: 3+reports.total\r\n```\r\n\r\nI tried the following values, but without success:\r\n- `${reports.total} + 3`\r\n- `{${reports.total} + 3}`\r\n- `3 + reports.total`\r\n- `${reports.total + 3}`\r\n- `${4+1}`\r\n- `4+1`\r\n- `#{${reports.total} + 3}`\r\n- `$(( ${reports.total} + 3 ))`\r\n\r\nAlways return something like this:\r\n\r\n    Failed to bind properties under &#39;spring.task.scheduling.pool.size&#39; to int:\r\n    \r\n        Property: spring.task.scheduling.pool.size\r\n        Value: ${4+1}\r\n        Origin: &quot;spring.task.scheduling.pool.size&quot; from property source &quot;Config resource &#39;class path resource [application.yml]&#39; via location &#39;optional:classpath:/&#39;&quot;\r\n        Reason: failed to convert java.lang.String to int (caused by java.lang.NumberFormatException: For input string: &quot;${4+1}&quot;)\r\n\r\n\r\nGrails 5.2.5 - JDK 11.0.16","title":"Use arithmetic operations in a yaml","body":"<p>I'm using spring jobs in a Grails 5.2.5 application. This application serves to run X (defined by the <code>reports.total</code> configuration) reports at the same time.</p>\n<p>For correct operation, the <code>spring.task.scheduling.pool.size</code> configuration must be equal to or greater than the total number of jobs, to comply with reports.total it would need to be <code>3+reports.total</code> (the value is 3 because currently there are 3 jobs that need to run concurrently)</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>reports:\n    total: 1\n\nspring:\n    task:\n        scheduling:\n            pool:\n                size: 3+reports.total\n</code></pre>\n<p>I tried the following values, but without success:</p>\n<ul>\n<li><code>${reports.total} + 3</code></li>\n<li><code>{${reports.total} + 3}</code></li>\n<li><code>3 + reports.total</code></li>\n<li><code>${reports.total + 3}</code></li>\n<li><code>${4+1}</code></li>\n<li><code>4+1</code></li>\n<li><code>#{${reports.total} + 3}</code></li>\n<li><code>$(( ${reports.total} + 3 ))</code></li>\n</ul>\n<p>Always return something like this:</p>\n<pre><code>Failed to bind properties under 'spring.task.scheduling.pool.size' to int:\n\n    Property: spring.task.scheduling.pool.size\n    Value: ${4+1}\n    Origin: &quot;spring.task.scheduling.pool.size&quot; from property source &quot;Config resource 'class path resource [application.yml]' via location 'optional:classpath:/'&quot;\n    Reason: failed to convert java.lang.String to int (caused by java.lang.NumberFormatException: For input string: &quot;${4+1}&quot;)\n</code></pre>\n<p>Grails 5.2.5 - JDK 11.0.16</p>\n"},{"tags":["java","compilation","dependencies","aspectj","java-17"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1680721534,"post_id":75942486,"comment_id":133948104,"body_markdown":"Post text rather than images, wherever practical.","body":"Post text rather than images, wherever practical."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1680730297,"post_id":75942486,"comment_id":133949896,"body_markdown":"Update the AspectJ compiler version to one capable of processing Java 17 code. The latest version is 1.9.19.","body":"Update the AspectJ compiler version to one capable of processing Java 17 code. The latest version is 1.9.19."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1680771041,"post_id":75942486,"comment_id":133955555,"body_markdown":"Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1680771310,"creation_date":1680771310,"answer_id":75947599,"question_id":75942486,"body_markdown":"&gt; ```none\r\n&gt; [error] target level should be in &#39;1.1&#39;...&#39;1.8&#39;,&#39;9&#39;...&#39;14&#39;\r\n&gt; ```\r\n\r\nThis compiler error tells me that, according to the [AspectJ Java version compatibility matrix](https://github.com/eclipse/org.aspectj/blob/master/docs/dist/doc/JavaVersionCompatibility.md), your AspectJ compiler is limited to max. Java 14, i.e. probably somewhere in your Gradle build, you have a dependency on `org.aspectj:aspectjtools:1.9.6`, where you would need at least 1.9.8. But like I said in my comment, simply go to the latest version 1.9.19. If I have some sparetime around Easter, maybe I can release 1.9.20 one of these days, but you will be fine with the current release.","title":"After updating to java 17 started to receive [error] target level should be in &#39;1.1&#39;...&#39;1.8&#39;,&#39;9&#39;...&#39;14&#39;: 17","body":"<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>[error] target level should be in '1.1'...'1.8','9'...'14'\n</code></pre>\n</blockquote>\n<p>This compiler error tells me that, according to the <a href=\"https://github.com/eclipse/org.aspectj/blob/master/docs/dist/doc/JavaVersionCompatibility.md\" rel=\"nofollow noreferrer\">AspectJ Java version compatibility matrix</a>, your AspectJ compiler is limited to max. Java 14, i.e. probably somewhere in your Gradle build, you have a dependency on <code>org.aspectj:aspectjtools:1.9.6</code>, where you would need at least 1.9.8. But like I said in my comment, simply go to the latest version 1.9.19. If I have some sparetime around Easter, maybe I can release 1.9.20 one of these days, but you will be fine with the current release.</p>\n"}],"owner":{"account_id":12943230,"reputation":65,"user_id":13063555,"display_name":"captain D"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1036,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75947599,"answer_count":1,"score":3,"last_activity_date":1680771310,"creation_date":1680716190,"question_id":75942486,"body_markdown":"I updating my test framework to use Java 17, using Gradle.\r\n\r\n    java {\r\n        toolchain {\r\n            languageVersion.set(JavaLanguageVersion.of(17))\r\n        }\r\n    }\r\n\r\nAlso upgraded Gradle to &#39;8.0.2&#39; version. Trying to build project received\r\n\r\n&gt; [error] target level should be in &#39;1.1&#39;...&#39;1.8&#39;,&#39;9&#39;...&#39;14&#39;: 17\r\n\r\nWith some tips regarding AspectJ lib, that i dont understand (can be seen on the screenshot 1 attached).\r\n[![Screen 1][1]][1]\r\n\r\nSo i tried also update AspectJ plugin to the latest version\r\n`id &quot;io.freefair.aspectj.post-compile-weaving&quot; version &quot;8.0.1&quot;` in my build.gradle file. As a result AspectJ lib stopped to be seen by IDE(screenshot 2),\r\n[![enter image description here][2]][2] with \r\n\r\n&gt; error: package org.aspectj.lang.annotation does not exist\r\n\r\nCant understand where to start digging and what this problem can be connected to? As a result i need to make my project work with Java 17, currently using 14 and AspectJ.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BQavd.png\r\n  [2]: https://i.stack.imgur.com/QCTz1.png","title":"After updating to java 17 started to receive [error] target level should be in &#39;1.1&#39;...&#39;1.8&#39;,&#39;9&#39;...&#39;14&#39;: 17","body":"<p>I updating my test framework to use Java 17, using Gradle.</p>\n<pre><code>java {\n    toolchain {\n        languageVersion.set(JavaLanguageVersion.of(17))\n    }\n}\n</code></pre>\n<p>Also upgraded Gradle to '8.0.2' version. Trying to build project received</p>\n<blockquote>\n<p>[error] target level should be in '1.1'...'1.8','9'...'14': 17</p>\n</blockquote>\n<p>With some tips regarding AspectJ lib, that i dont understand (can be seen on the screenshot 1 attached).\n<a href=\"https://i.stack.imgur.com/BQavd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BQavd.png\" alt=\"Screen 1\" /></a></p>\n<p>So i tried also update AspectJ plugin to the latest version\n<code>id &quot;io.freefair.aspectj.post-compile-weaving&quot; version &quot;8.0.1&quot;</code> in my build.gradle file. As a result AspectJ lib stopped to be seen by IDE(screenshot 2),\n<a href=\"https://i.stack.imgur.com/QCTz1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QCTz1.png\" alt=\"enter image description here\" /></a> with</p>\n<blockquote>\n<p>error: package org.aspectj.lang.annotation does not exist</p>\n</blockquote>\n<p>Cant understand where to start digging and what this problem can be connected to? As a result i need to make my project work with Java 17, currently using 14 and AspectJ.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9473,"page":519,"page_size":100}
