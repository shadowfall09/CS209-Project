{"items":[{"tags":["java","android","flutter","connection","cross-platform"],"owner":{"account_id":28730362,"reputation":9,"user_id":22002452,"display_name":"Aditya Waskar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1700577836,"creation_date":1700577836,"question_id":77523725,"body_markdown":"[This error is occured!!](https://i.stack.imgur.com/Kr9Ai.png)\r\n\r\n# platform_cahnel.dart\r\n\r\n```\r\nimport &#39;package:flutter/services.dart&#39;;\r\n\r\nclass PlatformChannel {\r\n  static const MethodChannel _channel =\r\n      MethodChannel(&#39;com.javacode1/myChannel&#39;);\r\n\r\n  Future&lt;void&gt; runJavaCode() async {\r\n    try {\r\n      print(&quot;I am in platform_channel.dart file line 9&quot;);\r\n      await _channel.invokeMethod(&#39;runJavaCode&#39;);\r\n      print(&quot;I am in platform_channel.dart file line 11&quot;);\r\n    } catch (e) {\r\n      print(&#39;Error invoking runJavaCode: $e&#39;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n# main.dart\r\n\r\n```\r\nimport &#39;package:flutter/material.dart&#39;;\r\nimport &#39;package:javacode1/platform_chanel.dart&#39;;\r\n\r\nvoid main() {\r\n  runApp(const MyApp());\r\n}\r\n\r\nclass MyApp extends StatelessWidget {\r\n  const MyApp({super.key});\r\n\r\n  // This widget is the root of your application.\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return MaterialApp(\r\n      title: &#39;Flutter Demo&#39;,\r\n      theme: ThemeData(\r\n        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\r\n        useMaterial3: true,\r\n      ),\r\n      home: const MyHomePage(title: &#39;Flutter Demo Home Page&#39;),\r\n    );\r\n  }\r\n}\r\n\r\nclass MyHomePage extends StatefulWidget {\r\n  const MyHomePage({super.key, required this.title});\r\n\r\n  final String title;\r\n\r\n  @override\r\n  State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();\r\n}\r\n\r\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\r\n  int _counter = 0;\r\n\r\n  void _incrementCounter() {\r\n    print(&quot;You just click the button!&quot;);\r\n    PlatformChannel().runJavaCode();\r\n    setState(() {\r\n      _counter--;\r\n    });\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Scaffold(\r\n      appBar: AppBar(\r\n        backgroundColor: Theme.of(context).colorScheme.inversePrimary,\r\n        title: Text(widget.title),\r\n      ),\r\n      body: Center(\r\n        child: Column(\r\n          mainAxisAlignment: MainAxisAlignment.center,\r\n          children: &lt;Widget&gt;[\r\n            const Text(\r\n              &#39;You have pushed the button this many times:&#39;,\r\n            ),\r\n            Text(\r\n              &#39;$_counter&#39;,\r\n              style: Theme.of(context).textTheme.headlineMedium,\r\n            ),\r\n          ],\r\n        ),\r\n      ),\r\n      floatingActionButton: FloatingActionButton(\r\n        onPressed: _incrementCounter,\r\n        tooltip: &#39;Increment&#39;,\r\n        child: const Icon(Icons.add),\r\n      ), // This trailing comma makes auto-formatting nicer for build methods.\r\n    );\r\n  }\r\n}\r\n```\r\n\r\n# myPlatformChannel.java\r\n\r\n```\r\npackage com.example.my_flutter_app;\r\n\r\nimport io.flutter.embedding.engine.FlutterEngine;\r\nimport io.flutter.plugin.common.MethodChannel;\r\n\r\npublic class MyPlatformChannel {\r\n    public static void registerWith(FlutterEngine flutterEngine) {\r\n        final MethodChannel channel = new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), &quot;com.javacode1/myChannel&quot;);\r\n        channel.setMethodCallHandler((call, result) -&gt; {\r\n            if (call.method.equals(&quot;runJavaCode&quot;)) {\r\n                runYourJavaCode();\r\n                result.success(null);\r\n            } else {\r\n                result.notImplemented();\r\n            }\r\n        });\r\n    }\r\n\r\n    private static void runYourJavaCode() {\r\n        // Implement your Java code here\r\n        // This is where you can execute your Java logic\r\n        System.out.println(&quot;Running Java code from Flutter!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nmainActivity.java\r\n\r\n```\r\npackage com.example.my_flutter_app;\r\n\r\nimport io.flutter.embedding.android.FlutterActivity;\r\nimport io.flutter.embedding.engine.FlutterEngine;\r\nimport io.flutter.plugins.GeneratedPluginRegistrant;\r\n\r\npublic class MainActivity extends FlutterActivity {\r\n    @Override\r\n    public void configureFlutterEngine(FlutterEngine flutterEngine) {\r\n        GeneratedPluginRegistrant.registerWith(flutterEngine);\r\n        MyPlatformChannel.registerWith(flutterEngine); // Add this line\r\n    }\r\n}\r\n```\r\n\r\n[file directory](https://i.stack.imgur.com/QSzna.png)\r\n\r\n# Error invoking runJavaCode: MissingPluginException(No implementation found for method runJavaCode on channel com.javacode1/myChannel) plz solve this error.\r\nI want to run the java code in flutter application if anyone have another option other than this one method channel than plz suggest :).","title":"Error invoking runJavaCode: MissingPluginException(No implementation found for method runJavaCode on channel com.javacode1/myChannel)","body":"<p><a href=\"https://i.stack.imgur.com/Kr9Ai.png\" rel=\"nofollow noreferrer\">This error is occured!!</a></p>\n<h1>platform_cahnel.dart</h1>\n<pre><code>import 'package:flutter/services.dart';\n\nclass PlatformChannel {\n  static const MethodChannel _channel =\n      MethodChannel('com.javacode1/myChannel');\n\n  Future&lt;void&gt; runJavaCode() async {\n    try {\n      print(&quot;I am in platform_channel.dart file line 9&quot;);\n      await _channel.invokeMethod('runJavaCode');\n      print(&quot;I am in platform_channel.dart file line 11&quot;);\n    } catch (e) {\n      print('Error invoking runJavaCode: $e');\n    }\n  }\n}\n</code></pre>\n<h1>main.dart</h1>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:javacode1/platform_chanel.dart';\n\nvoid main() {\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n        useMaterial3: true,\n      ),\n      home: const MyHomePage(title: 'Flutter Demo Home Page'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({super.key, required this.title});\n\n  final String title;\n\n  @override\n  State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  int _counter = 0;\n\n  void _incrementCounter() {\n    print(&quot;You just click the button!&quot;);\n    PlatformChannel().runJavaCode();\n    setState(() {\n      _counter--;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        backgroundColor: Theme.of(context).colorScheme.inversePrimary,\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            const Text(\n              'You have pushed the button this many times:',\n            ),\n            Text(\n              '$_counter',\n              style: Theme.of(context).textTheme.headlineMedium,\n            ),\n          ],\n        ),\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: _incrementCounter,\n        tooltip: 'Increment',\n        child: const Icon(Icons.add),\n      ), // This trailing comma makes auto-formatting nicer for build methods.\n    );\n  }\n}\n</code></pre>\n<h1>myPlatformChannel.java</h1>\n<pre><code>package com.example.my_flutter_app;\n\nimport io.flutter.embedding.engine.FlutterEngine;\nimport io.flutter.plugin.common.MethodChannel;\n\npublic class MyPlatformChannel {\n    public static void registerWith(FlutterEngine flutterEngine) {\n        final MethodChannel channel = new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), &quot;com.javacode1/myChannel&quot;);\n        channel.setMethodCallHandler((call, result) -&gt; {\n            if (call.method.equals(&quot;runJavaCode&quot;)) {\n                runYourJavaCode();\n                result.success(null);\n            } else {\n                result.notImplemented();\n            }\n        });\n    }\n\n    private static void runYourJavaCode() {\n        // Implement your Java code here\n        // This is where you can execute your Java logic\n        System.out.println(&quot;Running Java code from Flutter!&quot;);\n    }\n}\n</code></pre>\n<p>mainActivity.java</p>\n<pre><code>package com.example.my_flutter_app;\n\nimport io.flutter.embedding.android.FlutterActivity;\nimport io.flutter.embedding.engine.FlutterEngine;\nimport io.flutter.plugins.GeneratedPluginRegistrant;\n\npublic class MainActivity extends FlutterActivity {\n    @Override\n    public void configureFlutterEngine(FlutterEngine flutterEngine) {\n        GeneratedPluginRegistrant.registerWith(flutterEngine);\n        MyPlatformChannel.registerWith(flutterEngine); // Add this line\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/QSzna.png\" rel=\"nofollow noreferrer\">file directory</a></p>\n<h1>Error invoking runJavaCode: MissingPluginException(No implementation found for method runJavaCode on channel com.javacode1/myChannel) plz solve this error.</h1>\n<p>I want to run the java code in flutter application if anyone have another option other than this one method channel than plz suggest :).</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":417710,"reputation":10050,"user_id":793861,"accept_rate":50,"display_name":"John O&#39;Reilly"},"score":0,"creation_date":1484395680,"post_id":41649731,"comment_id":70498347,"body_markdown":"Would strongly recommend using `gson` library for something like this....removes ton of boilerplate code and less error prone.","body":"Would strongly recommend using <code>gson</code> library for something like this....removes ton of boilerplate code and less error prone."},{"owner":{"account_id":9772337,"reputation":2264,"user_id":7243748,"accept_rate":45,"display_name":"stavros.3p"},"score":1,"creation_date":1484403784,"post_id":41649731,"comment_id":70500674,"body_markdown":"JsonReader is in gson library","body":"JsonReader is in gson library"},{"owner":{"account_id":417710,"reputation":10050,"user_id":793861,"accept_rate":50,"display_name":"John O&#39;Reilly"},"score":0,"creation_date":1484403975,"post_id":41649731,"comment_id":70500736,"body_markdown":"https://github.com/google/gson .....in particular to map your Java POJOs to/from json rather than using custom code.","body":"<a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">github.com/google/gson</a> .....in particular to map your Java POJOs to/from json rather than using custom code."}],"answers":[{"tags":[],"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1484400276,"creation_date":1484400276,"answer_id":41650492,"question_id":41649731,"body_markdown":"Your parser **is** fine. If the code snippet you provided really belongs to the exception stack trace you&#39;re getting, then I believe that the `response` property of the JSON you&#39;re trying to parse has a value other than a string. For example,\r\n\r\n    { &quot;response&quot;: &quot;ok&quot; }\r\n\r\ncan be parsed by your parser just fine. However, the closest exception message you can get with your parser is a JSON similar to the one below:\r\n\r\n    { &quot;response&quot;: {&quot;status&quot;: &quot;ok&quot;} }\r\n\r\nthat should fail with something like\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalStateException: Expected a string but was BEGIN_OBJECT at line 1 column 16 path $.response\r\n\r\nAlso note that Gson reports the problematic location at least in its latest versions (I tested it with Gson 2.5). Just make sure you&#39;re getting the expected input. If you believe the response must be in the format you mentioned, then just try to trace the input stream and find the differences. Tracing an input stream in its simplest but not the most efficient implementation, and you could have a slightly more efficient tracing reader like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tprivate static Reader traceReader(final Reader reader) {\r\n\t\treturn new Reader() {\r\n\t\t\t@Override\r\n\t\t\tpublic int read(final char[] buffer, final int offset, final int length)\r\n\t\t\t\t\tthrows IOException {\r\n\t\t\t\tfinal int read = reader.read(buffer, offset, length);\r\n\t\t\t\tif ( read != -1 ) {\r\n\t\t\t\t\t// or any other appropriate tracing output here\r\n\t\t\t\t\tout.print(new String(buffer, offset, read));\r\n\t\t\t\t\tout.flush();\r\n\t\t\t\t}\r\n\t\t\t\treturn read;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void close()\r\n\t\t\t\t\tthrows IOException {\r\n\t\t\t\treader.close();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\nwith:\r\n\r\n    JsonReader reader = new JsonReader(traceReader(new InputStreamReader(in, &quot;UTF-8&quot;)))\r\n\r\nThen just re-check if you&#39;re really getting `{ &quot;response&quot;: &quot;ok&quot; }`.","title":"Gson: Expected a string but was BEGIN_OBJECT","body":"<p>Your parser <strong>is</strong> fine. If the code snippet you provided really belongs to the exception stack trace you're getting, then I believe that the <code>response</code> property of the JSON you're trying to parse has a value other than a string. For example,</p>\n\n<pre><code>{ \"response\": \"ok\" }\n</code></pre>\n\n<p>can be parsed by your parser just fine. However, the closest exception message you can get with your parser is a JSON similar to the one below:</p>\n\n<pre><code>{ \"response\": {\"status\": \"ok\"} }\n</code></pre>\n\n<p>that should fail with something like</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.IllegalStateException: Expected a string but was BEGIN_OBJECT at line 1 column 16 path $.response</p>\n</blockquote>\n\n<p>Also note that Gson reports the problematic location at least in its latest versions (I tested it with Gson 2.5). Just make sure you're getting the expected input. If you believe the response must be in the format you mentioned, then just try to trace the input stream and find the differences. Tracing an input stream in its simplest but not the most efficient implementation, and you could have a slightly more efficient tracing reader like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static Reader traceReader(final Reader reader) {\n    return new Reader() {\n        @Override\n        public int read(final char[] buffer, final int offset, final int length)\n                throws IOException {\n            final int read = reader.read(buffer, offset, length);\n            if ( read != -1 ) {\n                // or any other appropriate tracing output here\n                out.print(new String(buffer, offset, read));\n                out.flush();\n            }\n            return read;\n        }\n\n        @Override\n        public void close()\n                throws IOException {\n            reader.close();\n        }\n    };\n}\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>JsonReader reader = new JsonReader(traceReader(new InputStreamReader(in, \"UTF-8\")))\n</code></pre>\n\n<p>Then just re-check if you're really getting <code>{ \"response\": \"ok\" }</code>.</p>\n"},{"tags":[],"owner":{"account_id":13721039,"reputation":720,"user_id":9900911,"display_name":"armitus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655080163,"creation_date":1655080163,"answer_id":72596802,"question_id":41649731,"body_markdown":"Just adding this here.\r\nIn my case, I got this error because I attempted to parse an JSON object directly to an ENUM. GSON was expecting a string directly instead of a JSON object.","title":"Gson: Expected a string but was BEGIN_OBJECT","body":"<p>Just adding this here.\nIn my case, I got this error because I attempted to parse an JSON object directly to an ENUM. GSON was expecting a string directly instead of a JSON object.</p>\n"},{"tags":[],"owner":{"account_id":20582968,"reputation":53,"user_id":15108576,"display_name":"thiago-clubedochaveiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657117649,"creation_date":1657117649,"answer_id":72885314,"question_id":41649731,"body_markdown":"In my case I made a mistake modeling the reponse. My error is an object and I modeled it as a String.\r\nTaking a closer look at my API response and modeling fixed it\r\n\r\n","title":"Gson: Expected a string but was BEGIN_OBJECT","body":"<p>In my case I made a mistake modeling the reponse. My error is an object and I modeled it as a String.\nTaking a closer look at my API response and modeling fixed it</p>\n"},{"tags":[],"owner":{"account_id":8629822,"reputation":392,"user_id":6461839,"display_name":"leonidaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700577786,"creation_date":1658841052,"answer_id":73123990,"question_id":41649731,"body_markdown":"The idea for solving this is something like this example: \r\nYour JSON says that `dCharg` is an object, not a `String`:\r\n\r\n```\r\n&quot;dCharg&quot;:{&quot;TEXT&quot;:1000}\r\n```\r\n\r\nIf it was supposed to be a String, it would have looked like:\r\n```\r\n&quot;dCharg&quot;:&quot;1000&quot;\r\n```\r\nMaybe You could design like as follows\r\n```\r\npublic class BaseEmployee{/* stuffs */}\r\n\r\npublic class RegularEmployee extends BaseEmployee{/* stuffs */}\r\n\r\npublic class Contractors extends BaseEmployee{/* stuffs */}\r\n```","title":"Gson: Expected a string but was BEGIN_OBJECT","body":"<p>The idea for solving this is something like this example:\nYour JSON says that <code>dCharg</code> is an object, not a <code>String</code>:</p>\n<pre><code>&quot;dCharg&quot;:{&quot;TEXT&quot;:1000}\n</code></pre>\n<p>If it was supposed to be a String, it would have looked like:</p>\n<pre><code>&quot;dCharg&quot;:&quot;1000&quot;\n</code></pre>\n<p>Maybe You could design like as follows</p>\n<pre><code>public class BaseEmployee{/* stuffs */}\n\npublic class RegularEmployee extends BaseEmployee{/* stuffs */}\n\npublic class Contractors extends BaseEmployee{/* stuffs */}\n</code></pre>\n"}],"owner":{"account_id":9772337,"reputation":2264,"user_id":7243748,"accept_rate":45,"display_name":"stavros.3p"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56960,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":41650492,"answer_count":4,"score":26,"last_activity_date":1700577786,"creation_date":1484395111,"question_id":41649731,"body_markdown":"I am trying to read a simple JSON response: \r\n\r\n    {\r\n      &quot;response&quot;: &quot;ok&quot;\r\n    }\r\n\r\nHere is my code:\r\n\r\n    JsonReader reader = new JsonReader(new InputStreamReader(in, &quot;UTF-8&quot;));\r\n    String response = null;\r\n    boolean success = false;\r\n    reader.beginObject();\r\n    if (reader.hasNext()) {\r\n      String token = reader.nextName();\r\n      if (token.equals(&quot;response&quot;)) {\r\n        response = reader.nextString();\r\n      } else {\r\n        reader.skipValue();\r\n      }\r\n    }\r\n    reader.endObject();\r\n    reader.close();\r\n\r\nBut I am getting this error:\r\n\r\n&gt;  java.lang.IllegalStateException: Expected `STRING` but was `BEGIN_OBJECT`\r\n\r\nI don&#39;t understand what I am doing wrong.","title":"Gson: Expected a string but was BEGIN_OBJECT","body":"<p>I am trying to read a simple JSON response:</p>\n<pre><code>{\n  &quot;response&quot;: &quot;ok&quot;\n}\n</code></pre>\n<p>Here is my code:</p>\n<pre><code>JsonReader reader = new JsonReader(new InputStreamReader(in, &quot;UTF-8&quot;));\nString response = null;\nboolean success = false;\nreader.beginObject();\nif (reader.hasNext()) {\n  String token = reader.nextName();\n  if (token.equals(&quot;response&quot;)) {\n    response = reader.nextString();\n  } else {\n    reader.skipValue();\n  }\n}\nreader.endObject();\nreader.close();\n</code></pre>\n<p>But I am getting this error:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Expected <code>STRING</code> but was <code>BEGIN_OBJECT</code></p>\n</blockquote>\n<p>I don't understand what I am doing wrong.</p>\n"},{"tags":["java","openid-connect","pac4j"],"answers":[{"tags":[],"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700577726,"creation_date":1700577726,"answer_id":77523707,"question_id":77523035,"body_markdown":"The generated state is sent to the authorize endpoint and saved into the web session.\r\n\r\nThe retrieved state on the callback URL is compared to the one retrieved from the web session.\r\n\r\nThe error: &quot;State cannot be determined&quot; is when you are not able to retrieved the saved state from the web session. So you might have an issue with your web session. What do you see for the JSESSIONID cookie on the HTTP requests?\r\n","title":"how to configure correct state transfer in pac4j","body":"<p>The generated state is sent to the authorize endpoint and saved into the web session.</p>\n<p>The retrieved state on the callback URL is compared to the one retrieved from the web session.</p>\n<p>The error: &quot;State cannot be determined&quot; is when you are not able to retrieved the saved state from the web session. So you might have an issue with your web session. What do you see for the JSESSIONID cookie on the HTTP requests?</p>\n"}],"owner":{"account_id":22418943,"reputation":39,"user_id":16626558,"display_name":"Impatient Hippo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77523707,"answer_count":1,"score":0,"last_activity_date":1700577726,"creation_date":1700571663,"question_id":77523035,"body_markdown":"On my quest to implement an OIDC connection with pac4j (on client side)\r\nI have hit another roadblock. It seems that the state transfer via URL is\r\nnot working or propery configured:\r\n\r\nThe auth request:\r\n\r\n```\r\nhttps://authserver.com/mini-sinai/auth?scope=openid profile email&amp;response_type=code&amp;\r\nredirect_uri=https://client.com/jee-pac4j-demo/callback?client_name=MiniSinai&amp;\r\nstate=e8e3b77123&amp;nonce=vvDVEE3hv70GLUvDVG5IyaU30S6EJqsAjGHEyuUg_NA&amp;\r\nclient_id=9d9a41d95b4907ca13ac60b0568aa3\r\n```\r\n\r\nIs returning:\r\n\r\n```\r\n302 https://client.com/jee-pac4j-demo/callback?client_name=MiniSinai&amp;\r\ncode=TrCQCp02fodz071SdKTXisZseJFcNwWJcFs7z3772tw&amp;state=e8e3b77123\r\n```\r\n\r\nBut then the client reports this:\r\n\r\n```\r\norg.pac4j.oidc.exceptions.OidcMissingSessionStateException: State cannot be determined\r\n\torg.pac4j.oidc.credentials.extractor.OidcCredentialsExtractor.lambda$extract$0(OidcCredentialsExtractor.java:118)\r\n\tjava.base/java.util.Optional.orElseThrow(Optional.java:403)\r\n\torg.pac4j.oidc.credentials.extractor.OidcCredentialsExtractor.extract(OidcCredentialsExtractor.java:118)\r\n\torg.pac4j.core.client.BaseClient.getCredentials(BaseClient.java:74)\r\n\torg.pac4j.core.engine.DefaultCallbackLogic.perform(DefaultCallbackLogic.java:83)\r\n\torg.pac4j.demo.jee.DemoConfigFactory$MyCallbackLogic.perform(DemoConfigFactory.java:126)\r\n\torg.pac4j.jee.filter.CallbackFilter.internalFilter(CallbackFilter.java:63)\r\n\torg.pac4j.jee.config.AbstractConfigFilter.doFilter(AbstractConfigFilter.java:92)\r\n```\r\n\r\nWhich irritates me as the state is present in the callback. (Both services on the the host worked just fine, hence I assume that the state comes from the tomcat-session). Do I have to configure pac4j in a special way in order to allow state transfer via URI?\r\n\r\n","title":"how to configure correct state transfer in pac4j","body":"<p>On my quest to implement an OIDC connection with pac4j (on client side)\nI have hit another roadblock. It seems that the state transfer via URL is\nnot working or propery configured:</p>\n<p>The auth request:</p>\n<pre><code>https://authserver.com/mini-sinai/auth?scope=openid profile email&amp;response_type=code&amp;\nredirect_uri=https://client.com/jee-pac4j-demo/callback?client_name=MiniSinai&amp;\nstate=e8e3b77123&amp;nonce=vvDVEE3hv70GLUvDVG5IyaU30S6EJqsAjGHEyuUg_NA&amp;\nclient_id=9d9a41d95b4907ca13ac60b0568aa3\n</code></pre>\n<p>Is returning:</p>\n<pre><code>302 https://client.com/jee-pac4j-demo/callback?client_name=MiniSinai&amp;\ncode=TrCQCp02fodz071SdKTXisZseJFcNwWJcFs7z3772tw&amp;state=e8e3b77123\n</code></pre>\n<p>But then the client reports this:</p>\n<pre><code>org.pac4j.oidc.exceptions.OidcMissingSessionStateException: State cannot be determined\n    org.pac4j.oidc.credentials.extractor.OidcCredentialsExtractor.lambda$extract$0(OidcCredentialsExtractor.java:118)\n    java.base/java.util.Optional.orElseThrow(Optional.java:403)\n    org.pac4j.oidc.credentials.extractor.OidcCredentialsExtractor.extract(OidcCredentialsExtractor.java:118)\n    org.pac4j.core.client.BaseClient.getCredentials(BaseClient.java:74)\n    org.pac4j.core.engine.DefaultCallbackLogic.perform(DefaultCallbackLogic.java:83)\n    org.pac4j.demo.jee.DemoConfigFactory$MyCallbackLogic.perform(DemoConfigFactory.java:126)\n    org.pac4j.jee.filter.CallbackFilter.internalFilter(CallbackFilter.java:63)\n    org.pac4j.jee.config.AbstractConfigFilter.doFilter(AbstractConfigFilter.java:92)\n</code></pre>\n<p>Which irritates me as the state is present in the callback. (Both services on the the host worked just fine, hence I assume that the state comes from the tomcat-session). Do I have to configure pac4j in a special way in order to allow state transfer via URI?</p>\n"},{"tags":["java","xml","soap","schema"],"owner":{"account_id":6253720,"reputation":450,"user_id":4862999,"accept_rate":46,"display_name":"NARTONIC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700577512,"creation_date":1700575975,"question_id":77523513,"body_markdown":"When I try to enter in this URL \r\n`http://schemas.xmlsoap.org/wsdl/`\r\n\r\nI recieve ERR_CONNECTION, but, If I use another computer, I can access, but If I&#39;m try to generate classes with a WSDL service, I recieve Error Parsing Code.\r\n\r\nSo. What&#39;s the problem?\r\n\r\nI&#39;m using Windows 10 with last updates. (In MacOs works fine)\r\n\r\nI need additional drivers?\r\n\r\nI try with a Virtual Machine using Ubuntu, and still failing.\r\n\r\nInstall all updates of Windows.\r\n\r\nUsing\r\n`wget http://schemas.xmlsoap.org/soap/encoding/`\r\n\r\nReturn 200\r\n\r\nAll find the problem, but in Eclipse, I&#39;ve a wsdl file, if I generate sources, I recieve this\r\n\r\nError in generating Java from WSDL:  org.xml.sax.SAXException: Fatal Error: URI=http://schemas.xmlsoap.org/wsdl/ Line=1: Final de archivo prematuro. ","title":"generating classes with WSDL","body":"<p>When I try to enter in this URL\n<code>http://schemas.xmlsoap.org/wsdl/</code></p>\n<p>I recieve ERR_CONNECTION, but, If I use another computer, I can access, but If I'm try to generate classes with a WSDL service, I recieve Error Parsing Code.</p>\n<p>So. What's the problem?</p>\n<p>I'm using Windows 10 with last updates. (In MacOs works fine)</p>\n<p>I need additional drivers?</p>\n<p>I try with a Virtual Machine using Ubuntu, and still failing.</p>\n<p>Install all updates of Windows.</p>\n<p>Using\n<code>wget http://schemas.xmlsoap.org/soap/encoding/</code></p>\n<p>Return 200</p>\n<p>All find the problem, but in Eclipse, I've a wsdl file, if I generate sources, I recieve this</p>\n<p>Error in generating Java from WSDL:  org.xml.sax.SAXException: Fatal Error: URI=http://schemas.xmlsoap.org/wsdl/ Line=1: Final de archivo prematuro.</p>\n"},{"tags":["java","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":5200007,"reputation":195,"user_id":4962891,"display_name":"Erii Asari"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1672307690,"creation_date":1672307690,"answer_id":74949612,"question_id":74949611,"body_markdown":"To solve this issue, you need to add to your `gradle.build` script \r\n`ext[&#39;jakarta-servlet.version&#39;] = &#39;5.0.0&#39;`","title":"NoClassDefFoundError jakarta/servlet/http/HttpSessionContext after upgrade to spring boot 3","body":"<p>To solve this issue, you need to add to your <code>gradle.build</code> script\n<code>ext['jakarta-servlet.version'] = '5.0.0'</code></p>\n"},{"tags":[],"owner":{"account_id":5733229,"reputation":546,"user_id":4528146,"display_name":"Tasos Zervos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680269123,"creation_date":1680269123,"answer_id":75899060,"question_id":74949611,"body_markdown":"I&#39;ve had the same issue, and the previously suggested option was not working for everything. Either the service would start or all the tests (inc mockmvc) would succeed. But not everything. Setting `5.0.0` or `6.0.0` would only make one part to work... :-(\r\n\r\nIn the end, this setup has worked for all:\r\n```\r\n    ext {\r\n        set(&quot;jakarta-servlet.version&quot;, &#39;5.0.0&#39;)\r\n    }\r\n```\r\n\r\nplus:\r\n```\r\n    testImplementation \r\n            &#39;org.eclipse.jetty:jetty-server:11.0.14&#39;,\r\n            &#39;jakarta.servlet:jakarta.servlet-api:6.0.0&#39;,\r\n```","title":"NoClassDefFoundError jakarta/servlet/http/HttpSessionContext after upgrade to spring boot 3","body":"<p>I've had the same issue, and the previously suggested option was not working for everything. Either the service would start or all the tests (inc mockmvc) would succeed. But not everything. Setting <code>5.0.0</code> or <code>6.0.0</code> would only make one part to work... :-(</p>\n<p>In the end, this setup has worked for all:</p>\n<pre><code>    ext {\n        set(&quot;jakarta-servlet.version&quot;, '5.0.0')\n    }\n</code></pre>\n<p>plus:</p>\n<pre><code>    testImplementation \n            'org.eclipse.jetty:jetty-server:11.0.14',\n            'jakarta.servlet:jakarta.servlet-api:6.0.0',\n</code></pre>\n"}],"owner":{"account_id":5200007,"reputation":195,"user_id":4962891,"display_name":"Erii Asari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5507,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74949612,"answer_count":2,"score":4,"last_activity_date":1700576744,"creation_date":1672307690,"question_id":74949611,"body_markdown":"In my gradle base project I&#39;m trying upgrade spring dependency from 2.7.6 to 3.0.1,\r\n\r\nHowever I face issue `NoClassDefFoundError: jakarta/servlet/http/HttpSessionContext`\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpSessionContext\r\n    \tat org.eclipse.jetty.servlet.ServletContextHandler.newSessionHandler(ServletContextHandler.java:339)\r\n    \tat org.eclipse.jetty.servlet.ServletContextHandler.getSessionHandler(ServletContextHandler.java:432)\r\n    \tat org.eclipse.jetty.servlet.ServletContextHandler.relinkHandlers(ServletContextHandler.java:257)\r\n    \tat org.eclipse.jetty.servlet.ServletContextHandler.&lt;init&gt;(ServletContextHandler.java:180)\r\n    \tat org.eclipse.jetty.webapp.WebAppContext.&lt;init&gt;(WebAppContext.java:301)\r\n    \tat org.eclipse.jetty.webapp.WebAppContext.&lt;init&gt;(WebAppContext.java:228)\r\n    \tat org.springframework.boot.web.embedded.jetty.JettyEmbeddedWebAppContext.&lt;init&gt;(JettyEmbeddedWebAppContext.java:28)\r\n    \tat org.springframework.boot.web.embedded.jetty.JettyServletWebServerFactory.getWebServer(JettyServletWebServerFactory.java:158)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161)\r\n    \t... 9 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: jakarta.servlet.http.HttpSessionContext\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 19 common frames omitted\r\n\r\nAs I understand spring boot 3.0 use Servlet Api 6.0 which is not supported by Jetty and it requires downgrade Servlet API to 5.0.0 \r\n(https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#jetty)\r\n\r\n","title":"NoClassDefFoundError jakarta/servlet/http/HttpSessionContext after upgrade to spring boot 3","body":"<p>In my gradle base project I'm trying upgrade spring dependency from 2.7.6 to 3.0.1,</p>\n<p>However I face issue <code>NoClassDefFoundError: jakarta/servlet/http/HttpSessionContext</code></p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpSessionContext\n    at org.eclipse.jetty.servlet.ServletContextHandler.newSessionHandler(ServletContextHandler.java:339)\n    at org.eclipse.jetty.servlet.ServletContextHandler.getSessionHandler(ServletContextHandler.java:432)\n    at org.eclipse.jetty.servlet.ServletContextHandler.relinkHandlers(ServletContextHandler.java:257)\n    at org.eclipse.jetty.servlet.ServletContextHandler.&lt;init&gt;(ServletContextHandler.java:180)\n    at org.eclipse.jetty.webapp.WebAppContext.&lt;init&gt;(WebAppContext.java:301)\n    at org.eclipse.jetty.webapp.WebAppContext.&lt;init&gt;(WebAppContext.java:228)\n    at org.springframework.boot.web.embedded.jetty.JettyEmbeddedWebAppContext.&lt;init&gt;(JettyEmbeddedWebAppContext.java:28)\n    at org.springframework.boot.web.embedded.jetty.JettyServletWebServerFactory.getWebServer(JettyServletWebServerFactory.java:158)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161)\n    ... 9 common frames omitted\nCaused by: java.lang.ClassNotFoundException: jakarta.servlet.http.HttpSessionContext\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 19 common frames omitted\n</code></pre>\n<p>As I understand spring boot 3.0 use Servlet Api 6.0 which is not supported by Jetty and it requires downgrade Servlet API to 5.0.0\n(<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#jetty\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#jetty</a>)</p>\n"},{"tags":["java","unit-testing","junit","junit4"],"comments":[{"owner":{"account_id":45773,"reputation":1615,"user_id":135066,"accept_rate":0,"display_name":"Torandi"},"score":2,"creation_date":1248049379,"post_id":1151237,"comment_id":969858,"body_markdown":"This one is really weird, did some testing myself, and this code runs fine (the test is successfull)...","body":"This one is really weird, did some testing myself, and this code runs fine (the test is successfull)..."},{"owner":{"account_id":26356,"reputation":68584,"user_id":68507,"accept_rate":94,"display_name":"Ben S"},"score":0,"creation_date":1248052653,"post_id":1151237,"comment_id":969971,"body_markdown":"I added a screenshot, just to show... I&#39;d be doubtful too.","body":"I added a screenshot, just to show... I&#39;d be doubtful too."}],"answers":[{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":103,"is_accepted":true,"score":103,"last_activity_date":1700576610,"creation_date":1248052892,"answer_id":1151384,"question_id":1151237,"body_markdown":"The problem is that your `nnounceThreadTest` extends `TestCase`. Because it extends `TestCase`, the JUnit Runner is treating it as a JUnit 3.8 test, and the test is running because it starts with the word test, hiding the fact that the `@Test` annotiation is in fact not being used at all.\r\n\r\nTo fix this, remove the `extends TestCase` from the class definition.","title":"JUnit expected tag not working as expected","body":"<p>The problem is that your <code>nnounceThreadTest</code> extends <code>TestCase</code>. Because it extends <code>TestCase</code>, the JUnit Runner is treating it as a JUnit 3.8 test, and the test is running because it starts with the word test, hiding the fact that the <code>@Test</code> annotiation is in fact not being used at all.</p>\n<p>To fix this, remove the <code>extends TestCase</code> from the class definition.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306133,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1248053170,"creation_date":1248053170,"answer_id":1151392,"question_id":1151237,"body_markdown":"Just ran this in IntelliJ using JUnit 4.4:\r\n\r\n       @Test(expected = IllegalArgumentException.class)\r\n       public void testExpected()\r\n       {\r\n           throw new IllegalArgumentException();\r\n       }\r\n\r\nPasses perfectly.\r\n\r\nRebuild your entire project and try again.  There&#39;s something else that you&#39;re doing wrong.  JUnit 4.4 is working as advertised.\r\n\r\n\r\n","title":"JUnit expected tag not working as expected","body":"<p>Just ran this in IntelliJ using JUnit 4.4:</p>\n\n<pre><code>   @Test(expected = IllegalArgumentException.class)\n   public void testExpected()\n   {\n       throw new IllegalArgumentException();\n   }\n</code></pre>\n\n<p>Passes perfectly.</p>\n\n<p>Rebuild your entire project and try again.  There's something else that you're doing wrong.  JUnit 4.4 is working as advertised.</p>\n"},{"tags":[],"owner":{"account_id":4884732,"reputation":86,"user_id":5450221,"display_name":"HsYoo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1529018385,"creation_date":1529018385,"answer_id":50867198,"question_id":1151237,"body_markdown":"Instead of removing extends TestCase , you can add this to run your test case with Junit4 which supports annotation.\r\n\r\n@RunWith(JUnit4.class)","title":"JUnit expected tag not working as expected","body":"<p>Instead of removing extends TestCase , you can add this to run your test case with Junit4 which supports annotation.</p>\n\n<p>@RunWith(JUnit4.class)</p>\n"}],"owner":{"account_id":26356,"reputation":68584,"user_id":68507,"accept_rate":94,"display_name":"Ben S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25672,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":1151384,"answer_count":3,"score":50,"last_activity_date":1700576610,"creation_date":1248047794,"question_id":1151237,"body_markdown":"I have the following test case in eclipse, using JUnit 4 which is refusing to pass. **What could be wrong?**\r\n\r\n    @Test(expected = IllegalArgumentException.class)\r\n    public void testIAE() {\r\n    \tthrow new IllegalArgumentException();\r\n    }\r\n\r\nThis exact testcase came about when trying to test my own code with the expected tag didn&#39;t work. I wanted to see if JUnit would pass the most basic test. It didn&#39;t.\r\n\r\nI&#39;ve also tested with custom exceptions as expected without luck.\r\n\r\n**Screenshot:**\r\n[![Screenshot][1]][1]\n&lt;!-- source: http://www.freeimagehosting.net/uploads/6a995b0db7.png --&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tVTcA.png","title":"JUnit expected tag not working as expected","body":"<p>I have the following test case in eclipse, using JUnit 4 which is refusing to pass. <strong>What could be wrong?</strong></p>\n\n<pre><code>@Test(expected = IllegalArgumentException.class)\npublic void testIAE() {\n    throw new IllegalArgumentException();\n}\n</code></pre>\n\n<p>This exact testcase came about when trying to test my own code with the expected tag didn't work. I wanted to see if JUnit would pass the most basic test. It didn't.</p>\n\n<p>I've also tested with custom exceptions as expected without luck.</p>\n\n<p><strong>Screenshot:</strong>\n<a href=\"https://i.stack.imgur.com/tVTcA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tVTcA.png\" alt=\"Screenshot\"></a>\n</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":947502,"reputation":4565,"user_id":974442,"accept_rate":61,"display_name":"Panos Bariamis"},"score":1,"creation_date":1700577215,"post_id":77523570,"comment_id":136670026,"body_markdown":"It would help if you post your pom.xml (or build.gradle) and the properties for the jdbc/jpa configuration","body":"It would help if you post your pom.xml (or build.gradle) and the properties for the jdbc/jpa configuration"},{"owner":{"account_id":18239208,"reputation":149,"user_id":13276541,"display_name":"Ahmed Mera"},"score":1,"creation_date":1700577955,"post_id":77523570,"comment_id":136670163,"body_markdown":"can you share the pom.xml + application. properties?","body":"can you share the pom.xml + application. properties?"}],"owner":{"account_id":29958178,"reputation":1,"user_id":22958590,"display_name":"Adrian H"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1700578089,"answer_count":0,"score":-4,"last_activity_date":1700576410,"creation_date":1700576410,"question_id":77523570,"body_markdown":"java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver \r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:467)\r\n        at org.springframework.util.ClassUtils.forName(ClassUtils.java:291)\r\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.driverClassIsLoadable(DataSourceProperties.java:194)\r\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:175)\r\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:125)\r\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48)\r\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:910)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:545)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290)\r\n        at com.example.demo.DemoApplication.main(DemoApplication.java:10)\r\n\r\nI have reinstalled the JDK, updated the mysql-connector-java, and the issue persists.\r\nRemoving the JPA dependency solves this issue. I&#39;ve tried everything, but I can&#39;t find a solution. Can you help me?&quot;","title":"&quot;Hello, I need help. When creating a Spring Boot project and adding Spring Data JPA dependencies, I encounter the following error:","body":"<p>java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:467)\nat org.springframework.util.ClassUtils.forName(ClassUtils.java:291)\nat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.driverClassIsLoadable(DataSourceProperties.java:194)\nat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:175)\nat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:125)\nat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48)\nat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\nat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\nat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:910)\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:545)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1290)\nat com.example.demo.DemoApplication.main(DemoApplication.java:10)</p>\n<p>I have reinstalled the JDK, updated the mysql-connector-java, and the issue persists.\nRemoving the JPA dependency solves this issue. I've tried everything, but I can't find a solution. Can you help me?&quot;</p>\n"},{"tags":["java","maven","javadoc","maven-javadoc-plugin"],"comments":[{"owner":{"account_id":114848,"reputation":134179,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"score":0,"creation_date":1668527902,"post_id":73693330,"comment_id":131424622,"body_markdown":"I don&#39;t think there is a way to do it... or that you should. As it is, you don&#39;t define the meaning of any of those terms (unless we guess based on the name). At the very least, you should provide a summary word or two, and in this case a `@see` that references the spec for each. (I&#39;m also not convinced that an `enum` is the right way to model the concept, as that probably ought to be an open set of concepts and not a closed set. But that&#39;s a whole &#39;nother thing and out of scope for your question.)","body":"I don&#39;t think there is a way to do it... or that you should. As it is, you don&#39;t define the meaning of any of those terms (unless we guess based on the name). At the very least, you should provide a summary word or two, and in this case a <code>@see</code> that references the spec for each. (I&#39;m also not convinced that an <code>enum</code> is the right way to model the concept, as that probably ought to be an open set of concepts and not a closed set. But that&#39;s a whole &#39;nother thing and out of scope for your question.)"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1668528895,"post_id":73693330,"comment_id":131425026,"body_markdown":"&quot;… you don&#39;t define the meaning of any of those terms …&quot; They are defined (or should be defined) in an option specification, [OpenGraph](https://ogp.me/), which I referenced in the question. The source code Javadocs for `PredefinedType` should link to the OpenGraph specification, but I don&#39;t think it would be appropriate to try to duplicate every definition of every vocabulary item. That would cause inconsistencies and ambiguities as to which was authoritative. And OpenGraph might not even have a definition for each. So I don&#39;t think it appropriate to document each one individually here.","body":"&quot;… you don&#39;t define the meaning of any of those terms …&quot; They are defined (or should be defined) in an option specification, <a href=\"https://ogp.me/\" rel=\"nofollow noreferrer\">OpenGraph</a>, which I referenced in the question. The source code Javadocs for <code>PredefinedType</code> should link to the OpenGraph specification, but I don&#39;t think it would be appropriate to try to duplicate every definition of every vocabulary item. That would cause inconsistencies and ambiguities as to which was authoritative. And OpenGraph might not even have a definition for each. So I don&#39;t think it appropriate to document each one individually here."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1668529090,"post_id":73693330,"comment_id":131425101,"body_markdown":"Anyway this is a general question, not specific to OpenGraph. It would apply to the definition of many independent specifications (HTML, CSS, RDF, SVG, MathML … I could go on all day). I don&#39;t see the benefit of going through and adding `/** See the spec. */` for each enum value.","body":"Anyway this is a general question, not specific to OpenGraph. It would apply to the definition of many independent specifications (HTML, CSS, RDF, SVG, MathML … I could go on all day). I don&#39;t see the benefit of going through and adding <code>&#47;** See the spec. *&#47;</code> for each enum value."}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":936,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1700575991,"creation_date":1663005020,"question_id":73693330,"body_markdown":"I&#39;m using Java 17 with [Maven&#39;s Javadoc Plugin][1] `maven-javadoc-plugin:maven-javadoc-plugin:3.4.1` using mostly the default settings. Normally I want to be notified of missing comments (e.g. no `@return`), but particularly for enums this gets out of hand and isn&#39;t very useful.\r\n\r\nTake definitions for the [OpenGraph][2] protocol as an illustration:\r\n\r\n```java\r\npublic enum PredefinedType {\r\n  ACTIVITY, SPORT, BAR, COMPANY, CAFE, HOTEL, RESTAURANT, CAUSE, SPORTS_LEAGUE,\r\n  SPORTS_TEAM, BAND, GOVERNMENT, NON_PROFIT, SCHOOL, UNIVERSITY, ACTOR, ATHLETE,\r\n  AUTHOR, DIRECTOR, MUSICIAN, POLITICIAN, PROFILE, PUBLIC_FIGURE, CITY, COUNTRY,\r\n  LANDMARK, STATE_PROVINCE, ALBUM, BOOK, DRINK, FOOD, GAME, MOVIE, PRODUCT, SONG,\r\n  TV_SHOW, ARTICLE, BLOG, WEBSITE\r\n}\r\n```\r\n\r\nJavadoc via the Maven Javadoc Plugin spits out lines and lines like this:\r\n\r\n```\r\n[WARNING] …\\OpenGraph.java:…: warning: no comment\r\n[WARNING] ACTIVITY, SPORT, BAR, COMPANY, CAFE, HOTEL …\r\n[WARNING] ^\r\n```\r\n\r\nI am loathe to go through and add a useless comment to each of those. But I want to know if most other types of comments are missing.\r\n\r\nHow can I configure the Maven Javadoc Plugin doclint settings to ignore missing comments just for enum values? Or is there a way that I can indicate in code comments that the warning for a particular enum should be suppressed (as is [possible for Checkstyle][3], for example)?\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-javadoc-plugin/\r\n  [2]: http://ogp.me/\r\n  [3]: https://stackoverflow.com/q/4023185","title":"Turn off Java 17 doclint missing comment warning only for enums in Maven Javadoc Plugin","body":"<p>I'm using Java 17 with <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/\" rel=\"nofollow noreferrer\">Maven's Javadoc Plugin</a> <code>maven-javadoc-plugin:maven-javadoc-plugin:3.4.1</code> using mostly the default settings. Normally I want to be notified of missing comments (e.g. no <code>@return</code>), but particularly for enums this gets out of hand and isn't very useful.</p>\n<p>Take definitions for the <a href=\"http://ogp.me/\" rel=\"nofollow noreferrer\">OpenGraph</a> protocol as an illustration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum PredefinedType {\n  ACTIVITY, SPORT, BAR, COMPANY, CAFE, HOTEL, RESTAURANT, CAUSE, SPORTS_LEAGUE,\n  SPORTS_TEAM, BAND, GOVERNMENT, NON_PROFIT, SCHOOL, UNIVERSITY, ACTOR, ATHLETE,\n  AUTHOR, DIRECTOR, MUSICIAN, POLITICIAN, PROFILE, PUBLIC_FIGURE, CITY, COUNTRY,\n  LANDMARK, STATE_PROVINCE, ALBUM, BOOK, DRINK, FOOD, GAME, MOVIE, PRODUCT, SONG,\n  TV_SHOW, ARTICLE, BLOG, WEBSITE\n}\n</code></pre>\n<p>Javadoc via the Maven Javadoc Plugin spits out lines and lines like this:</p>\n<pre><code>[WARNING] …\\OpenGraph.java:…: warning: no comment\n[WARNING] ACTIVITY, SPORT, BAR, COMPANY, CAFE, HOTEL …\n[WARNING] ^\n</code></pre>\n<p>I am loathe to go through and add a useless comment to each of those. But I want to know if most other types of comments are missing.</p>\n<p>How can I configure the Maven Javadoc Plugin doclint settings to ignore missing comments just for enum values? Or is there a way that I can indicate in code comments that the warning for a particular enum should be suppressed (as is <a href=\"https://stackoverflow.com/q/4023185\">possible for Checkstyle</a>, for example)?</p>\n"},{"tags":["java","spring","spring-boot","model-view-controller","graphql"],"comments":[{"owner":{"account_id":8277734,"reputation":1488,"user_id":8636565,"display_name":"Daniel Jacob"},"score":0,"creation_date":1644355707,"post_id":71039670,"comment_id":125584353,"body_markdown":"do you have a .graphqlconfig?","body":"do you have a .graphqlconfig?"},{"owner":{"account_id":6467780,"reputation":87,"user_id":5838853,"display_name":"Alexander"},"score":0,"creation_date":1644364356,"post_id":71039670,"comment_id":125586590,"body_markdown":"it seems like you have missing dependency. try to diagnose dependencies and running spring boot in debug mode. that might help to understand differences between test project and the failing one","body":"it seems like you have missing dependency. try to diagnose dependencies and running spring boot in debug mode. that might help to understand differences between test project and the failing one"},{"owner":{"account_id":21061130,"reputation":103,"user_id":15479495,"display_name":"Linus"},"score":0,"creation_date":1644400223,"post_id":71039670,"comment_id":125594507,"body_markdown":"@DanielJacob, Hey Daniel! No I don&#39;t have a config in none of the projects. Maybe I should look that up too.","body":"@DanielJacob, Hey Daniel! No I don&#39;t have a config in none of the projects. Maybe I should look that up too."},{"owner":{"account_id":21061130,"reputation":103,"user_id":15479495,"display_name":"Linus"},"score":0,"creation_date":1644400865,"post_id":71039670,"comment_id":125594794,"body_markdown":"@Alexander, Hej Alexander! Alright, I&#39;ll give it a try. I litteraly copy the implementation dependencies AND now when I checked.. i didn&#39;t have the same Spring Boot version plugin in the top.. In my main i had 2.7.0 and in the test 2.6.3. I doesn&#39;t compile with 2.7.0 for some reason.. gonna run it on 2.6.3. But curious on why it doesn&#39;t run on 2.7.0.","body":"@Alexander, Hej Alexander! Alright, I&#39;ll give it a try. I litteraly copy the implementation dependencies AND now when I checked.. i didn&#39;t have the same Spring Boot version plugin in the top.. In my main i had 2.7.0 and in the test 2.6.3. I doesn&#39;t compile with 2.7.0 for some reason.. gonna run it on 2.6.3. But curious on why it doesn&#39;t run on 2.7.0."},{"owner":{"account_id":6467780,"reputation":87,"user_id":5838853,"display_name":"Alexander"},"score":0,"creation_date":1644464085,"post_id":71039670,"comment_id":125615938,"body_markdown":"@Linus you in most cases would want to use bom (dependency management) instead of manually specifying versions, that would help to avoid dependency hell; try it out, probably it&#39;ll solve your issue","body":"@Linus you in most cases would want to use bom (dependency management) instead of manually specifying versions, that would help to avoid dependency hell; try it out, probably it&#39;ll solve your issue"},{"owner":{"account_id":21061130,"reputation":103,"user_id":15479495,"display_name":"Linus"},"score":0,"creation_date":1644593623,"post_id":71039670,"comment_id":125655242,"body_markdown":"@Alexander, thank you for your tip! I&#39;ll take that with me.","body":"@Alexander, thank you for your tip! I&#39;ll take that with me."}],"answers":[{"tags":[],"owner":{"account_id":21061130,"reputation":103,"user_id":15479495,"display_name":"Linus"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1644401517,"creation_date":1644401517,"answer_id":71047659,"question_id":71039670,"body_markdown":"**-- Solved --**\r\n\r\nSo I ran my default project on Spring Boot 2.7.0 and 2.6.3 on my test project. When I changed to 2.6.3 on default, it ran. So it seems like the latest GrahpQL isn&#39;t fully compatible with Spring Boot 2.7.0 yet. Which might be obvious because it was released in the last month.\r\n\r\n","title":"Spring Boot GraphQLQueryResolver won&#39;t run, runs on test project","body":"<p><strong>-- Solved --</strong></p>\n<p>So I ran my default project on Spring Boot 2.7.0 and 2.6.3 on my test project. When I changed to 2.6.3 on default, it ran. So it seems like the latest GrahpQL isn't fully compatible with Spring Boot 2.7.0 yet. Which might be obvious because it was released in the last month.</p>\n"},{"tags":[],"owner":{"account_id":1866186,"reputation":4221,"user_id":1689695,"accept_rate":100,"display_name":"CocoNess"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700575844,"creation_date":1700575844,"answer_id":77523492,"question_id":71039670,"body_markdown":"Try using GraphQL Java Kickstart instead of downgrading the version of Spring Boot.\r\n\r\n \r\n\r\n    \r\n\r\n  \r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;13.0.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;graphiql-spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;13.0.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;13.0.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n","title":"Spring Boot GraphQLQueryResolver won&#39;t run, runs on test project","body":"<p>Try using GraphQL Java Kickstart instead of downgrading the version of Spring Boot.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;13.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n            &lt;artifactId&gt;graphiql-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;13.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\n            &lt;version&gt;13.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":21061130,"reputation":103,"user_id":15479495,"display_name":"Linus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10812,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71047659,"answer_count":2,"score":1,"last_activity_date":1700575844,"creation_date":1644347925,"question_id":71039670,"body_markdown":"So I&#39;m new into GraphQL and i got stuff running by manually setup a schemaparser and datafetchers. But I want to refactor and try out by implementing GraphQLQueryResolver to a class and controll my queries from there.\r\n\r\nI get it to work by making a new project, but with the same dependencies and should be same implementation, It doesn&#39;t run. When I delete the query-methods which reflects the schema, I&#39;ll get the error that I need to add methods based on the Queries in the schema, so **I get the confirmation it reaches the class-file** with the implementation of the GraphQLQueryResolver. But I still get this error when i add the rights methods:\r\n\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLServletRegistrationBean&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLServletRegistrationBean&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLHttpServlet&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLHttpServlet&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;invocationInputFactory&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;invocationInputFactory&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchemaProvider&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchemaProvider&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: graphql/execution/batched/Batched\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\r\n\r\n----------\r\n\r\n\r\n \r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLHttpServlet&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLHttpServlet&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;invocationInputFactory&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;invocationInputFactory&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchemaProvider&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchemaProvider&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: graphql/execution/batched/Batched\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\t... 53 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;invocationInputFactory&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;invocationInputFactory&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchemaProvider&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchemaProvider&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: graphql/execution/batched/Batched\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\t... 67 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchemaProvider&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchemaProvider&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: graphql/execution/batched/Batched\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\t... 81 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: graphql/execution/batched/Batched\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\t... 95 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: graphql/execution/batched/Batched\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\t... 109 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: graphql/execution/batched/Batched\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\t... 123 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: graphql/execution/batched/Batched\r\n\tat com.coxautodev.graphql.tools.MethodFieldResolver$Companion.isBatched(MethodFieldResolver.kt:24) ~[graphql-java-tools-5.2.4.jar:na]\r\n\tat com.coxautodev.graphql.tools.MethodFieldResolver.scanForMatches(MethodFieldResolver.kt:103) ~[graphql-java-tools-5.2.4.jar:na]\r\n\tat com.coxautodev.graphql.tools.SchemaClassScanner.scanResolverInfoForPotentialMatches(SchemaClassScanner.kt:230) ~[graphql-java-tools-5.2.4.jar:na]\r\n\tat com.coxautodev.graphql.tools.SchemaClassScanner.handleRootType(SchemaClassScanner.kt:122) ~[graphql-java-tools-5.2.4.jar:na]\r\n\tat com.coxautodev.graphql.tools.SchemaClassScanner.scanForClasses(SchemaClassScanner.kt:80) ~[graphql-java-tools-5.2.4.jar:na]\r\n\tat com.coxautodev.graphql.tools.SchemaParserBuilder.scan(SchemaParserBuilder.kt:151) ~[graphql-java-tools-5.2.4.jar:na]\r\n\tat com.coxautodev.graphql.tools.SchemaParserBuilder.build(SchemaParserBuilder.kt:157) ~[graphql-java-tools-5.2.4.jar:na]\r\n\tat com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration.schemaParser(GraphQLJavaToolsAutoConfiguration.java:57) ~[graphql-spring-boot-autoconfigure-5.0.2.jar:na]\r\n\tat com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration$$EnhancerBySpringCGLIB$$42e8bae4.CGLIB$schemaParser$1(&lt;generated&gt;) ~[graphql-spring-boot-autoconfigure-5.0.2.jar:na]\r\n\tat com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration$$EnhancerBySpringCGLIB$$42e8bae4$$FastClassBySpringCGLIB$$760fcbb7.invoke(&lt;generated&gt;) ~[graphql-spring-boot-autoconfigure-5.0.2.jar:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration$$EnhancerBySpringCGLIB$$42e8bae4.schemaParser(&lt;generated&gt;) ~[graphql-spring-boot-autoconfigure-5.0.2.jar:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\t... 124 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: graphql.execution.batched.Batched\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519) ~[na:na]\r\n\t... 142 common frames omitted\r\n```\r\n\r\nDependencies:\r\n```\r\n\timplementation &#39;com.graphql-java:graphql-spring-boot-starter:5.0.2&#39;\r\n\timplementation &#39;com.graphql-java:graphql-java-tools:5.2.4&#39;\r\n\timplementation &#39;com.graphql-java:graphiql-spring-boot-starter:5.0.2&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok:1.18.22&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.6.3&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web:2.6.3&#39;\r\n\timplementation &#39;org.projectlombok:lombok:1.18.22&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-security:2.6.3&#39;\r\n\timplementation &#39;com.auth0:java-jwt:3.18.3&#39;\r\n\timplementation &#39;com.microsoft.sqlserver:mssql-jdbc&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test:2.6.3&#39;\r\n\ttestImplementation &#39;org.springframework.security:spring-security-test:5.5.1&#39;\r\n\ttestImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n```\r\n\r\nMy Entity class, same as in test-project:\r\n```\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\n\r\n@Entity\r\n@NoArgsConstructor @AllArgsConstructor\r\n@Table(name=&quot;Users&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name= &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;firstname&quot;)\r\n    private String firstname;\r\n\r\n    @Column(name = &quot;lastname&quot;)\r\n    private String lastname;\r\n\r\n    @Column(name= &quot;username&quot;, unique = true)\r\n    private String username;\r\n\r\n    @Column(name= &quot;password&quot;)\r\n    private String password;\r\n```\r\n\r\nQuery-class: \r\n```\r\npackage com.WineOutBE.resolver;\r\n\r\nimport com.WineOutBE.Entity.User;\r\nimport com.WineOutBE.Repo.UserRepository;\r\nimport com.coxautodev.graphql.tools.GraphQLQueryResolver;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.NoArgsConstructor;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.List;\r\n\r\n@Component\r\n@AllArgsConstructor\r\npublic class Query implements GraphQLQueryResolver {\r\n\r\n    private UserRepository userRepository;\r\n\r\n    public List&lt;User&gt; AllUsers() {\r\n\r\n        return userRepository.findAll();}\r\n    }\r\n\r\n```\r\n\r\nSchema &quot;user.graphqls&quot;, lays in resources -&gt; graphql: \r\n```\r\ntype Query {\r\n    AllUsers: [User]\r\n}\r\n\r\ntype User {\r\n    id: Long\r\n    username: String\r\n    firstname: String\r\n    lastname: String\r\n}\r\n```\r\n\r\nApplication properties for the graphql\r\n```\r\ngraphql.servlet.mapping=/graphql\r\ngraphql.servlet.enabled=true\r\n\r\ngraphiql.enabled=true\r\ngraphiql.endpoint=/graphql\r\ngraphiql.mapping=graphiql\r\n```\r\n\r\nIt runs with the same Entity, Repository, Dependencies, application.properties on a new basic project just for testing the GraphQL.\r\nDoes anybody see the problem?\r\n\r\nThanks in advance.","title":"Spring Boot GraphQLQueryResolver won&#39;t run, runs on test project","body":"<p>So I'm new into GraphQL and i got stuff running by manually setup a schemaparser and datafetchers. But I want to refactor and try out by implementing GraphQLQueryResolver to a class and controll my queries from there.</p>\n<p>I get it to work by making a new project, but with the same dependencies and should be same implementation, It doesn't run. When I delete the query-methods which reflects the schema, I'll get the error that I need to add methods based on the Queries in the schema, so <strong>I get the confirmation it reaches the class-file</strong> with the implementation of the GraphQLQueryResolver. But I still get this error when i add the rights methods:</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLServletRegistrationBean' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLServletRegistrationBean' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLHttpServlet' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLHttpServlet' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'invocationInputFactory' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'invocationInputFactory' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchemaProvider' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchemaProvider' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoClassDefFoundError: graphql/execution/batched/Batched\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\n\n\n----------\n\n\n \nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLHttpServlet' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLHttpServlet' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'invocationInputFactory' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'invocationInputFactory' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchemaProvider' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchemaProvider' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoClassDefFoundError: graphql/execution/batched/Batched\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 53 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'invocationInputFactory' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'invocationInputFactory' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchemaProvider' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchemaProvider' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoClassDefFoundError: graphql/execution/batched/Batched\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 67 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchemaProvider' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchemaProvider' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoClassDefFoundError: graphql/execution/batched/Batched\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 81 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoClassDefFoundError: graphql/execution/batched/Batched\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 95 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoClassDefFoundError: graphql/execution/batched/Batched\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 109 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoClassDefFoundError: graphql/execution/batched/Batched\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 123 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: graphql/execution/batched/Batched\n    at com.coxautodev.graphql.tools.MethodFieldResolver$Companion.isBatched(MethodFieldResolver.kt:24) ~[graphql-java-tools-5.2.4.jar:na]\n    at com.coxautodev.graphql.tools.MethodFieldResolver.scanForMatches(MethodFieldResolver.kt:103) ~[graphql-java-tools-5.2.4.jar:na]\n    at com.coxautodev.graphql.tools.SchemaClassScanner.scanResolverInfoForPotentialMatches(SchemaClassScanner.kt:230) ~[graphql-java-tools-5.2.4.jar:na]\n    at com.coxautodev.graphql.tools.SchemaClassScanner.handleRootType(SchemaClassScanner.kt:122) ~[graphql-java-tools-5.2.4.jar:na]\n    at com.coxautodev.graphql.tools.SchemaClassScanner.scanForClasses(SchemaClassScanner.kt:80) ~[graphql-java-tools-5.2.4.jar:na]\n    at com.coxautodev.graphql.tools.SchemaParserBuilder.scan(SchemaParserBuilder.kt:151) ~[graphql-java-tools-5.2.4.jar:na]\n    at com.coxautodev.graphql.tools.SchemaParserBuilder.build(SchemaParserBuilder.kt:157) ~[graphql-java-tools-5.2.4.jar:na]\n    at com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration.schemaParser(GraphQLJavaToolsAutoConfiguration.java:57) ~[graphql-spring-boot-autoconfigure-5.0.2.jar:na]\n    at com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration$$EnhancerBySpringCGLIB$$42e8bae4.CGLIB$schemaParser$1(&lt;generated&gt;) ~[graphql-spring-boot-autoconfigure-5.0.2.jar:na]\n    at com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration$$EnhancerBySpringCGLIB$$42e8bae4$$FastClassBySpringCGLIB$$760fcbb7.invoke(&lt;generated&gt;) ~[graphql-spring-boot-autoconfigure-5.0.2.jar:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.15.jar:5.3.15]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.15.jar:5.3.15]\n    at com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration$$EnhancerBySpringCGLIB$$42e8bae4.schemaParser(&lt;generated&gt;) ~[graphql-spring-boot-autoconfigure-5.0.2.jar:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 124 common frames omitted\nCaused by: java.lang.ClassNotFoundException: graphql.execution.batched.Batched\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519) ~[na:na]\n    ... 142 common frames omitted\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>    implementation 'com.graphql-java:graphql-spring-boot-starter:5.0.2'\n    implementation 'com.graphql-java:graphql-java-tools:5.2.4'\n    implementation 'com.graphql-java:graphiql-spring-boot-starter:5.0.2'\n    compileOnly 'org.projectlombok:lombok:1.18.22'\n    annotationProcessor 'org.projectlombok:lombok:1.18.22'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa:2.6.3'\n    implementation 'org.springframework.boot:spring-boot-starter-web:2.6.3'\n    implementation 'org.projectlombok:lombok:1.18.22'\n    implementation 'org.springframework.boot:spring-boot-starter-security:2.6.3'\n    implementation 'com.auth0:java-jwt:3.18.3'\n    implementation 'com.microsoft.sqlserver:mssql-jdbc'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test:2.6.3'\n    testImplementation 'org.springframework.security:spring-security-test:5.5.1'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n</code></pre>\n<p>My Entity class, same as in test-project:</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\nimport java.util.ArrayList;\nimport java.util.Collection;\n\n@Entity\n@NoArgsConstructor @AllArgsConstructor\n@Table(name=&quot;Users&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name= &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;firstname&quot;)\n    private String firstname;\n\n    @Column(name = &quot;lastname&quot;)\n    private String lastname;\n\n    @Column(name= &quot;username&quot;, unique = true)\n    private String username;\n\n    @Column(name= &quot;password&quot;)\n    private String password;\n</code></pre>\n<p>Query-class:</p>\n<pre><code>package com.WineOutBE.resolver;\n\nimport com.WineOutBE.Entity.User;\nimport com.WineOutBE.Repo.UserRepository;\nimport com.coxautodev.graphql.tools.GraphQLQueryResolver;\nimport lombok.AllArgsConstructor;\nimport lombok.NoArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\nimport java.util.List;\n\n@Component\n@AllArgsConstructor\npublic class Query implements GraphQLQueryResolver {\n\n    private UserRepository userRepository;\n\n    public List&lt;User&gt; AllUsers() {\n\n        return userRepository.findAll();}\n    }\n\n</code></pre>\n<p>Schema &quot;user.graphqls&quot;, lays in resources -&gt; graphql:</p>\n<pre><code>type Query {\n    AllUsers: [User]\n}\n\ntype User {\n    id: Long\n    username: String\n    firstname: String\n    lastname: String\n}\n</code></pre>\n<p>Application properties for the graphql</p>\n<pre><code>graphql.servlet.mapping=/graphql\ngraphql.servlet.enabled=true\n\ngraphiql.enabled=true\ngraphiql.endpoint=/graphql\ngraphiql.mapping=graphiql\n</code></pre>\n<p>It runs with the same Entity, Repository, Dependencies, application.properties on a new basic project just for testing the GraphQL.\nDoes anybody see the problem?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","reflection","java-synthetic-methods"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1512383714,"post_id":47630572,"comment_id":82220450,"body_markdown":"These methods are just returning the value of the corresponding modifier; the class is probably just a data holder. Crucial is the logic of how the modifiers are set.","body":"These methods are just returning the value of the corresponding modifier; the class is probably just a data holder. Crucial is the logic of how the modifiers are set."},{"owner":{"account_id":10199974,"reputation":1149,"user_id":7530589,"display_name":"G&#246;rkem M&#252;layim"},"score":0,"creation_date":1512387780,"post_id":47630572,"comment_id":82222766,"body_markdown":"I was thinking the same. The modifiers are set through constructor. But I can not find a usage for it.","body":"I was thinking the same. The modifiers are set through constructor. But I can not find a usage for it."},{"owner":{"account_id":2805226,"reputation":777,"user_id":2412606,"display_name":"Happy"},"score":0,"creation_date":1571807736,"post_id":47630572,"comment_id":103358218,"body_markdown":"Related question for reference: https://stackoverflow.com/questions/6557586/java-generics-bridge-method","body":"Related question for reference: <a href=\"https://stackoverflow.com/questions/6557586/java-generics-bridge-method\" title=\"java generics bridge method\">stackoverflow.com/questions/6557586/java-generics-bridge-met&zwnj;&#8203;hod</a>"}],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512381563,"creation_date":1512381563,"answer_id":47630709,"question_id":47630572,"body_markdown":"Bridge is synthetic but synthetic is not necessarily bridge. Example:\r\n\r\n    public class Test {\r\n    \t\r\n    \tpublic Test clone() {\r\n    \t\treturn null;\r\n    \t}\r\n\r\nbytecode outline:\r\n\r\n      // access flags 0x1041\r\n      public synthetic bridge clone()Ljava/lang/Object; throws java/lang/CloneNotSupportedException \r\n       L0\r\n    ...\r\n\r\n\r\n","title":"Java synthetic method and bridge method confusion","body":"<p>Bridge is synthetic but synthetic is not necessarily bridge. Example:</p>\n\n<pre><code>public class Test {\n\n    public Test clone() {\n        return null;\n    }\n</code></pre>\n\n<p>bytecode outline:</p>\n\n<pre><code>  // access flags 0x1041\n  public synthetic bridge clone()Ljava/lang/Object; throws java/lang/CloneNotSupportedException \n   L0\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1512395311,"creation_date":1512395311,"answer_id":47634858,"question_id":47630572,"body_markdown":"If you are simply looking for an example of such:\r\n\r\n\r\n    Function&lt;String, Integer&gt; func = s -&gt; s.length();\r\n\r\n    Arrays.stream(DeleteMe.class.getDeclaredMethods())\r\n         .peek(m -&gt; System.out.println(m.getName() + &quot; isSynth : &quot; + m.isSynthetic() + &quot; isBridge : &quot; + m.isBridge()))\r\n         .forEach(System.out::println);\r\n\r\nThere will be entries like:\r\n\r\n\r\n    lambda$0 isSynth : true isBridge : false\r\n    lambda$1 isSynth : true isBridge : false","title":"Java synthetic method and bridge method confusion","body":"<p>If you are simply looking for an example of such:</p>\n\n<pre><code>Function&lt;String, Integer&gt; func = s -&gt; s.length();\n\nArrays.stream(DeleteMe.class.getDeclaredMethods())\n     .peek(m -&gt; System.out.println(m.getName() + \" isSynth : \" + m.isSynthetic() + \" isBridge : \" + m.isBridge()))\n     .forEach(System.out::println);\n</code></pre>\n\n<p>There will be entries like:</p>\n\n<pre><code>lambda$0 isSynth : true isBridge : false\nlambda$1 isSynth : true isBridge : false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2805226,"reputation":777,"user_id":2412606,"display_name":"Happy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700575755,"creation_date":1571807311,"answer_id":58515834,"question_id":47630572,"body_markdown":"&gt; is it possible that invocation of `isSynthetic` method returns true but `isBridge` method returns false for a Method object\r\n\r\nYes, it is possible. \r\n\r\nFor example, the method [AbstractPipeline][1].[lambda$spliterator$0()][2] is `synthetic` but is it **NOT** `bridge`.\r\n\r\nAccording to the [JVM Spec][3]:\r\n\r\n - The `ACC_SYNTHETIC` flag indicates that this method was generated by a compiler and does not appear in source code\r\n - The `ACC_BRIDGE` flag is used to indicate a bridge method generated by a compiler for the Java programming language. \r\n\r\nSo, \r\n\r\n - A `bridge` method is 100% sure it is `synthetic`\r\n - A `synthetic` method is not necessary `bridge`\r\n\r\n## More on `bridge` method\r\n\r\nBased on [What is Java Bridge Method (ACC_BRIDGE)][4] the `bridge` method is generated by Java Compiler for [type erasure][5] purpose of Java Generics.\r\n\r\n\r\n\r\n  [1]: https://openjdk.binarydoc.org/net.java/openjdk/13.0/classfile?classfilelocation=java.util.stream.abstractpipeline\r\n  [2]: https://openjdk.binarydoc.org/net.java/openjdk/13.0/method?classfilelocation=java.util.stream.abstractpipeline&amp;seq=37&amp;methodname=lambda%24spliterator%240\r\n  [3]: https://docs.oracle.com/javase/specs/jvms/se13/html/jvms-4.html\r\n  [4]: https://binarydoc.blogspot.com/2019/10/what-is-java-bridge-method-accbridge.html\r\n  [5]: https://en.wikipedia.org/wiki/Type_erasure","title":"Java synthetic method and bridge method confusion","body":"<blockquote>\n<p>is it possible that invocation of <code>isSynthetic</code> method returns true but <code>isBridge</code> method returns false for a Method object</p>\n</blockquote>\n<p>Yes, it is possible.</p>\n<p>For example, the method <a href=\"https://openjdk.binarydoc.org/net.java/openjdk/13.0/classfile?classfilelocation=java.util.stream.abstractpipeline\" rel=\"nofollow noreferrer\">AbstractPipeline</a>.<a href=\"https://openjdk.binarydoc.org/net.java/openjdk/13.0/method?classfilelocation=java.util.stream.abstractpipeline&amp;seq=37&amp;methodname=lambda%24spliterator%240\" rel=\"nofollow noreferrer\">lambda$spliterator$0()</a> is <code>synthetic</code> but is it <strong>NOT</strong> <code>bridge</code>.</p>\n<p>According to the <a href=\"https://docs.oracle.com/javase/specs/jvms/se13/html/jvms-4.html\" rel=\"nofollow noreferrer\">JVM Spec</a>:</p>\n<ul>\n<li>The <code>ACC_SYNTHETIC</code> flag indicates that this method was generated by a compiler and does not appear in source code</li>\n<li>The <code>ACC_BRIDGE</code> flag is used to indicate a bridge method generated by a compiler for the Java programming language.</li>\n</ul>\n<p>So,</p>\n<ul>\n<li>A <code>bridge</code> method is 100% sure it is <code>synthetic</code></li>\n<li>A <code>synthetic</code> method is not necessary <code>bridge</code></li>\n</ul>\n<h2>More on <code>bridge</code> method</h2>\n<p>Based on <a href=\"https://binarydoc.blogspot.com/2019/10/what-is-java-bridge-method-accbridge.html\" rel=\"nofollow noreferrer\">What is Java Bridge Method (ACC_BRIDGE)</a> the <code>bridge</code> method is generated by Java Compiler for <a href=\"https://en.wikipedia.org/wiki/Type_erasure\" rel=\"nofollow noreferrer\">type erasure</a> purpose of Java Generics.</p>\n"}],"owner":{"account_id":10199974,"reputation":1149,"user_id":7530589,"display_name":"G&#246;rkem M&#252;layim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":999,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47634858,"answer_count":3,"score":2,"last_activity_date":1700575755,"creation_date":1512381056,"question_id":47630572,"body_markdown":"As stated in [Effects of Type Erasure and Bridge Methods][1] a bridge method implies that it is also a synthetic method. The question is, is it possible that invocation of `isSynthetic` method returns true but `isBridge` method returns false for a `Method` object, i.e., if a method is synthetic does it imply that it is also a bridge method?\r\n\r\n&lt;b&gt;It&#39;s not exactly the same but the source code for `isSynthetic` and `isBridge` methods looks like below:&lt;/b&gt;\r\n\r\n    static final int SYNTHETIC = 0x00001000;\r\n    public boolean isSynthetic() {\r\n        return (getModifiers() &amp; SYNTHETIC) != 0;\r\n    }\r\n\r\n    static final int BRIDGE = 0x00000040;\r\n    public boolean isBridge() {\r\n        return (getModifiers() &amp; BRIDGE) != 0;\r\n    }\r\n\r\nWhy `isBridge` method body is not like `return isSynthetic();`?\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/bridgeMethods.html#bridgeMethods","title":"Java synthetic method and bridge method confusion","body":"<p>As stated in <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bridgeMethods.html#bridgeMethods\" rel=\"nofollow noreferrer\">Effects of Type Erasure and Bridge Methods</a> a bridge method implies that it is also a synthetic method. The question is, is it possible that invocation of <code>isSynthetic</code> method returns true but <code>isBridge</code> method returns false for a <code>Method</code> object, i.e., if a method is synthetic does it imply that it is also a bridge method?</p>\n<p><b>It's not exactly the same but the source code for <code>isSynthetic</code> and <code>isBridge</code> methods looks like below:</b></p>\n<pre><code>static final int SYNTHETIC = 0x00001000;\npublic boolean isSynthetic() {\n    return (getModifiers() &amp; SYNTHETIC) != 0;\n}\n\nstatic final int BRIDGE = 0x00000040;\npublic boolean isBridge() {\n    return (getModifiers() &amp; BRIDGE) != 0;\n}\n</code></pre>\n<p>Why <code>isBridge</code> method body is not like <code>return isSynthetic();</code>?</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1460410195,"post_id":36559506,"comment_id":60719674,"body_markdown":"If you know the max and min, you can always get the average as `a + b + c - max - min`.","body":"If you know the max and min, you can always get the average as <code>a + b + c - max - min</code>."},{"owner":{"account_id":5872916,"reputation":2522,"user_id":4624683,"display_name":"DBug"},"score":0,"creation_date":1460410345,"post_id":36559506,"comment_id":60719770,"body_markdown":"Assuming you&#39;re trying to print them in order, each `if` is only determining the first value.  For example, if first `if` is true, `a` is first, since `a` is less than both `b` and `c`.  But it does not check whether `b &lt; c` or `b &gt; c`.","body":"Assuming you&#39;re trying to print them in order, each <code>if</code> is only determining the first value.  For example, if first <code>if</code> is true, <code>a</code> is first, since <code>a</code> is less than both <code>b</code> and <code>c</code>.  But it does not check whether <code>b &lt; c</code> or <code>b &gt; c</code>."},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1460410406,"post_id":36559506,"comment_id":60719800,"body_markdown":"`if (a &lt; b &amp; a &lt; c)` This only gets the minimum in the right place, assuming that there is one number smaller than both of the others. You&#39;d want `a &lt;= b &amp;&amp; b &lt;= c` to do it correctly.","body":"<code>if (a &lt; b &amp; a &lt; c)</code> This only gets the minimum in the right place, assuming that there is one number smaller than both of the others. You&#39;d want <code>a &lt;= b &amp;&amp; b &lt;= c</code> to do it correctly."},{"owner":{"account_id":2742869,"reputation":8394,"user_id":2363967,"accept_rate":97,"display_name":"Andrew Williamson"},"score":0,"creation_date":1460410476,"post_id":36559506,"comment_id":60719830,"body_markdown":"The easiest way would be to put these values into a list, and then use Collections.sort","body":"The easiest way would be to put these values into a list, and then use Collections.sort"},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1460411550,"post_id":36559506,"comment_id":60720352,"body_markdown":"Additionally, you&#39;re missing the other cases (there are 6 permutations of 3 numbers).","body":"Additionally, you&#39;re missing the other cases (there are 6 permutations of 3 numbers)."},{"owner":{"account_id":8210751,"reputation":17,"user_id":6178972,"display_name":"Александр Стариченко"},"score":0,"creation_date":1460412027,"post_id":36559506,"comment_id":60720595,"body_markdown":"But if I add more lines of &quot;if&quot; it appears the new line in the console","body":"But if I add more lines of &quot;if&quot; it appears the new line in the console"}],"answers":[{"tags":[],"owner":{"account_id":8212680,"reputation":164,"user_id":6180178,"display_name":"Geeth Lochana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460415630,"creation_date":1460411939,"answer_id":36560042,"question_id":36559506,"body_markdown":"This is not a right way to do this, but if you replace &amp; with &amp;&amp; you can get a partially correct code, since you have to check 6 \tpermutation for 3 elements (nPr). Use Array and apply sorting method.\r\n\r\n   \r\n\r\n     public static void main(String[] args) {\r\n        \r\n            int a = 89;\r\n            int b = 96;\r\n            int c = 88;\r\n        \r\n            if (a &lt; b &amp;&amp; b &lt; c)\r\n    \t\t\tSystem.out.println(a + &quot; &quot; + b + &quot; &quot; + c);\r\n    \t\telse if (a &lt; c &amp;&amp; c &lt; b)\r\n    \t\t\tSystem.out.println(a + &quot; &quot; + c + &quot; &quot; + b);\r\n    \t\telse if (b &lt; a &amp;&amp; a &lt; c)\r\n    \t\t\tSystem.out.println(b + &quot; &quot; + a + &quot; &quot; + c);\r\n    \t\telse if (b &lt; c &amp;&amp; c &lt; a)\r\n    \t\t\tSystem.out.println(b + &quot; &quot; + c + &quot; &quot; + a);\r\n    \t\telse if (c &lt; a &amp;&amp; a &lt; b)\r\n    \t\t\tSystem.out.println(c + &quot; &quot; + a + &quot; &quot; + b);\r\n    \t\telse if (c &lt; b &amp;&amp; b &lt; a)\r\n    \t\t\tSystem.out.println(c + &quot; &quot; + b + &quot; &quot; + a);\r\n        \r\n            }\r\n\r\n ","title":"Output numbers in ascending order (if - else) java","body":"<p>This is not a right way to do this, but if you replace &amp; with &amp;&amp; you can get a partially correct code, since you have to check 6    permutation for 3 elements (nPr). Use Array and apply sorting method.</p>\n\n<pre><code> public static void main(String[] args) {\n\n        int a = 89;\n        int b = 96;\n        int c = 88;\n\n        if (a &lt; b &amp;&amp; b &lt; c)\n            System.out.println(a + \" \" + b + \" \" + c);\n        else if (a &lt; c &amp;&amp; c &lt; b)\n            System.out.println(a + \" \" + c + \" \" + b);\n        else if (b &lt; a &amp;&amp; a &lt; c)\n            System.out.println(b + \" \" + a + \" \" + c);\n        else if (b &lt; c &amp;&amp; c &lt; a)\n            System.out.println(b + \" \" + c + \" \" + a);\n        else if (c &lt; a &amp;&amp; a &lt; b)\n            System.out.println(c + \" \" + a + \" \" + b);\n        else if (c &lt; b &amp;&amp; b &lt; a)\n            System.out.println(c + \" \" + b + \" \" + a);\n\n        }\n</code></pre>\n"}],"owner":{"account_id":8210751,"reputation":17,"user_id":6178972,"display_name":"Александр Стариченко"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700575270,"creation_date":1460409839,"question_id":36559506,"body_markdown":"Tell me what is missing? Two values are sorted correctly, but the average is not :(\r\n\r\n    package com.Star;\r\n \r\n    public class Main {\r\n \r\n        public static void main(String[] args) {\r\n \r\n            int a = 89;\r\n            int b = 96;\r\n            int c = 88;\r\n \r\n            if (a &lt; b &amp; a &lt; c)\r\n                System.out.println(a + &quot; &quot; + b + &quot; &quot; + c);\r\n \r\n            if (b &lt; c &amp; b &lt; a)\r\n                System.out.println(b + &quot; &quot; + c + &quot; &quot; + a);\r\n\r\n            if (c &lt; a &amp; c &lt; b)\r\n                System.out.println(c + &quot; &quot; + b + &quot; &quot; + a);\r\n\r\n        }\r\n    }","title":"Output numbers in ascending order (if - else) java","body":"<p>Tell me what is missing? Two values are sorted correctly, but the average is not :(</p>\n\n<pre><code>package com.Star;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        int a = 89;\n        int b = 96;\n        int c = 88;\n\n        if (a &lt; b &amp; a &lt; c)\n            System.out.println(a + \" \" + b + \" \" + c);\n\n        if (b &lt; c &amp; b &lt; a)\n            System.out.println(b + \" \" + c + \" \" + a);\n\n        if (c &lt; a &amp; c &lt; b)\n            System.out.println(c + \" \" + b + \" \" + a);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","mocking","mockito"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700575224,"post_id":77523383,"comment_id":136669596,"body_markdown":"It sounds like you have a dependency which is pulling in the wrong version of ASM, or you need to explicitly pull in a newer version of ASM.","body":"It sounds like you have a dependency which is pulling in the wrong version of ASM, or you need to explicitly pull in a newer version of ASM."},{"owner":{"account_id":24068880,"reputation":1,"user_id":20652402,"display_name":"bb-bb-1"},"score":0,"creation_date":1700631859,"post_id":77523383,"comment_id":136677016,"body_markdown":"When I try to use latest ASM dependency version(9.6), I face this issue -&gt; ```java.lang.UnsupportedOperationException: NestMember requires ASM7\n\n\tat org.objectweb.asm.ClassVisitor.visitNestMember(ClassVisitor.java:265)\n\tat org.objectweb.asm.ClassReader.accept(ClassReader.java:697)```  Any Help Please?","body":"When I try to use latest ASM dependency version(9.6), I face this issue -&gt; <code>java.lang.UnsupportedOperationException: NestMember requires ASM7  \tat org.objectweb.asm.ClassVisitor.visitNestMember(ClassVisitor.&zwnj;&#8203;java:265) \tat org.objectweb.asm.ClassReader.accept(ClassReader.java:697)</code>  Any Help Please?"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700642888,"post_id":77523383,"comment_id":136678543,"body_markdown":"That suggest you still have the wrong version, or a wrong combination of dependencies.","body":"That suggest you still have the wrong version, or a wrong combination of dependencies."}],"owner":{"account_id":24068880,"reputation":1,"user_id":20652402,"display_name":"bb-bb-1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700574896,"creation_date":1700574896,"question_id":77523383,"body_markdown":"I am trying to convert Spring Boot Maven App from Java8 to Java11.\r\nI have 3.6.3 maven version.\r\nspring boot version: 2.3.4.RELEASE\r\n\r\nIn My test suite I have this:\r\n\r\n```\r\nimport org.jmock.Expectations;\r\nimport org.jmock.Mockery;\r\nimport org.jmock.lib.legacy.ClassImposteriser;\r\nimport org.joda.time.LocalDate;\r\nimport org.junit.Assert;\r\nimport org.junit.Ignore;\r\nimport org.junit.Test;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.io.Writer;\r\n\r\npublic class MyTest\r\n{\r\n  private final Mockery mockery = new Mockery()\r\n    {\r\n        {\r\n            setImposteriser(ClassImposteriser.INSTANCE);\r\n        }\r\n    };\r\n\r\n    \r\n    Writer writer = mockery.mock(Writer.class); -&gt; issue is pointing on this line #33 here **mockery.mock**\r\n\r\n    @Test\r\n    public void test_write_header() throws IOException\r\n    {\r\n        mockery.checking(new Expectations()\r\n        {{\r\n            exactly(1).of(writer).write(&quot;myid&quot;);\r\n            exactly(1).of(writer).write(&quot;,&quot;);\r\n            exactly(1).of(writer).write(&quot;a&quot;);\r\n            exactly(1).of(writer).write(&quot;,&quot;);\r\n            exactly(1).of(writer).write(&quot;b&quot;);\r\n            exactly(1).of(writer).write(&quot;\\n&quot;);\r\n        }});\r\n        MyTest mytest= new MyTest(&quot;right&quot;);\r\n        mytest.writeHeader(writer, &quot;myid&quot;, new TreeSet&lt;&gt;(Arrays.asList(&quot;b&quot;, &quot;a&quot;)));\r\n        mockery.assertIsSatisfied();\r\n    }\r\n}\r\n```\r\n\r\nI am getting below **error** while running the test case:\r\n\r\n```\r\n\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.jmock.lib.legacy.ClassImposteriser (file:/H:/maven/org/jmock/jmock-legacy/2.12.0/jmock-legacy-2.12.0.jar) to constructor java.io.Writer(java.lang.Object)\r\nWARNING: Please consider reporting this to the maintainers of org.jmock.lib.legacy.ClassImposteriser\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n\r\n**java.lang.UnsupportedOperationException: This feature requires ASM7**\r\n\tat org.objectweb.asm.ClassVisitor.visitNestMember(ClassVisitor.java:236)\r\n\tat org.objectweb.asm.ClassReader.accept(ClassReader.java:660)\r\n\tat org.objectweb.asm.ClassReader.accept(ClassReader.java:400)\r\n\tat net.sf.cglib.core.DuplicatesPredicate.&lt;init&gt;(DuplicatesPredicate.java:93)\r\n\tat net.sf.cglib.proxy.Enhancer.getMethods(Enhancer.java:557)\r\n\tat net.sf.cglib.proxy.Enhancer.generateClass(Enhancer.java:575)\r\n\tat net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n\tat net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329)\r\n\tat net.sf.cglib.proxy.Enhancer.generate(Enhancer.java:492)\r\n\tat net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93)\r\n\tat net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91)\r\n\tat net.sf.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat net.sf.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n\tat net.sf.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n\tat net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116)\r\n\tat net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291)\r\n\tat net.sf.cglib.proxy.Enhancer.createHelper(Enhancer.java:480)\r\n\tat net.sf.cglib.proxy.Enhancer.createClass(Enhancer.java:337)\r\n\tat org.jmock.lib.legacy.ClassImposteriser.proxyClass(ClassImposteriser.java:124)\r\n\tat org.jmock.lib.legacy.ClassImposteriser.imposterise(ClassImposteriser.java:69)\r\n\tat org.jmock.Mockery.mock(Mockery.java:167)\r\n\tat org.jmock.Mockery.mock(Mockery.java:143)\r\n        at com.abc.MyTest.&lt;init&gt;(MyTest.java:33)\r\n```\r\n\r\nmy maven dependencies are:\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;org.jmock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jmock-legacy&lt;/artifactId&gt;\r\n        &lt;version&gt;2.12.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;org.jmock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jmock&lt;/artifactId&gt;\r\n        &lt;version&gt;2.12.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;version&gt;4.13.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nI have tried downgrading maven dependency as shown below:\r\n\r\n```\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;org.jmock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jmock&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;org.jmock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jmock-legacy&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n But none of the approach worked for me, any help would be highly appreciated. please help!","title":"Error: java.lang.UnsupportedOperationException: This feature requires ASM7","body":"<p>I am trying to convert Spring Boot Maven App from Java8 to Java11.\nI have 3.6.3 maven version.\nspring boot version: 2.3.4.RELEASE</p>\n<p>In My test suite I have this:</p>\n<pre><code>import org.jmock.Expectations;\nimport org.jmock.Mockery;\nimport org.jmock.lib.legacy.ClassImposteriser;\nimport org.joda.time.LocalDate;\nimport org.junit.Assert;\nimport org.junit.Ignore;\nimport org.junit.Test;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.Writer;\n\npublic class MyTest\n{\n  private final Mockery mockery = new Mockery()\n    {\n        {\n            setImposteriser(ClassImposteriser.INSTANCE);\n        }\n    };\n\n    \n    Writer writer = mockery.mock(Writer.class); -&gt; issue is pointing on this line #33 here **mockery.mock**\n\n    @Test\n    public void test_write_header() throws IOException\n    {\n        mockery.checking(new Expectations()\n        {{\n            exactly(1).of(writer).write(&quot;myid&quot;);\n            exactly(1).of(writer).write(&quot;,&quot;);\n            exactly(1).of(writer).write(&quot;a&quot;);\n            exactly(1).of(writer).write(&quot;,&quot;);\n            exactly(1).of(writer).write(&quot;b&quot;);\n            exactly(1).of(writer).write(&quot;\\n&quot;);\n        }});\n        MyTest mytest= new MyTest(&quot;right&quot;);\n        mytest.writeHeader(writer, &quot;myid&quot;, new TreeSet&lt;&gt;(Arrays.asList(&quot;b&quot;, &quot;a&quot;)));\n        mockery.assertIsSatisfied();\n    }\n}\n</code></pre>\n<p>I am getting below <strong>error</strong> while running the test case:</p>\n<pre><code>\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.jmock.lib.legacy.ClassImposteriser (file:/H:/maven/org/jmock/jmock-legacy/2.12.0/jmock-legacy-2.12.0.jar) to constructor java.io.Writer(java.lang.Object)\nWARNING: Please consider reporting this to the maintainers of org.jmock.lib.legacy.ClassImposteriser\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n\n**java.lang.UnsupportedOperationException: This feature requires ASM7**\n    at org.objectweb.asm.ClassVisitor.visitNestMember(ClassVisitor.java:236)\n    at org.objectweb.asm.ClassReader.accept(ClassReader.java:660)\n    at org.objectweb.asm.ClassReader.accept(ClassReader.java:400)\n    at net.sf.cglib.core.DuplicatesPredicate.&lt;init&gt;(DuplicatesPredicate.java:93)\n    at net.sf.cglib.proxy.Enhancer.getMethods(Enhancer.java:557)\n    at net.sf.cglib.proxy.Enhancer.generateClass(Enhancer.java:575)\n    at net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329)\n    at net.sf.cglib.proxy.Enhancer.generate(Enhancer.java:492)\n    at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93)\n    at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91)\n    at net.sf.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at net.sf.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n    at net.sf.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n    at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116)\n    at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291)\n    at net.sf.cglib.proxy.Enhancer.createHelper(Enhancer.java:480)\n    at net.sf.cglib.proxy.Enhancer.createClass(Enhancer.java:337)\n    at org.jmock.lib.legacy.ClassImposteriser.proxyClass(ClassImposteriser.java:124)\n    at org.jmock.lib.legacy.ClassImposteriser.imposterise(ClassImposteriser.java:69)\n    at org.jmock.Mockery.mock(Mockery.java:167)\n    at org.jmock.Mockery.mock(Mockery.java:143)\n        at com.abc.MyTest.&lt;init&gt;(MyTest.java:33)\n</code></pre>\n<p>my maven dependencies are:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;org.jmock&lt;/groupId&gt;\n        &lt;artifactId&gt;jmock-legacy&lt;/artifactId&gt;\n        &lt;version&gt;2.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;org.jmock&lt;/groupId&gt;\n        &lt;artifactId&gt;jmock&lt;/artifactId&gt;\n        &lt;version&gt;2.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have tried downgrading maven dependency as shown below:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.jmock&lt;/groupId&gt;\n        &lt;artifactId&gt;jmock&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;org.jmock&lt;/groupId&gt;\n        &lt;artifactId&gt;jmock-legacy&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But none of the approach worked for me, any help would be highly appreciated. please help!</p>\n"},{"tags":["java","spring","maven","tomcat","spring-boot"],"comments":[{"owner":{"account_id":1479351,"reputation":337,"user_id":1389063,"accept_rate":67,"display_name":"dasAnderl ausMinga"},"score":0,"creation_date":1410792027,"post_id":23432651,"comment_id":40447308,"body_markdown":"see my answer [here][1] \n\n\n  [1]: http://stackoverflow.com/questions/23553018/spring-boot-tomcat-termination/25850563#25850563","body":"see my answer [here][1]      [1]: <a href=\"http://stackoverflow.com/questions/23553018/spring-boot-tomcat-termination/25850563#25850563\" title=\"spring boot tomcat termination\">stackoverflow.com/questions/23553018/&hellip;</a>"},{"owner":{"account_id":170337,"reputation":1872,"user_id":1792216,"accept_rate":82,"display_name":"Emiliano Schiano"},"score":0,"creation_date":1587579338,"post_id":23432651,"comment_id":108570039,"body_markdown":"Just simply run your project as a Java Application. Spring boot makes your jar an executable one. In Eclipse: Run As &gt; Java Application","body":"Just simply run your project as a Java Application. Spring boot makes your jar an executable one. In Eclipse: Run As &gt; Java Application"},{"owner":{"account_id":18730483,"reputation":191,"user_id":13655996,"display_name":"xaiweiyi"},"score":0,"creation_date":1690412986,"post_id":23432651,"comment_id":135351961,"body_markdown":"Because it can&#39;t. \n\nStop a spring application that has been started by the &quot;start&quot; goal. \n\nsee here https://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/maven-plugin/stop-mojo.html","body":"Because it can&#39;t.   Stop a spring application that has been started by the &quot;start&quot; goal.   see here <a href=\"https://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/maven-plugin/stop-mojo.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.4.1.RELEASE/maven-plugin/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1399065674,"creation_date":1399047880,"answer_id":23432746,"question_id":23432651,"body_markdown":"That only happens in Windows. https://github.com/spring-projects/spring-boot/issues/773\r\n\r\nUpdate: should be fixed now.","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>That only happens in Windows. <a href=\"https://github.com/spring-projects/spring-boot/issues/773\" rel=\"nofollow\">https://github.com/spring-projects/spring-boot/issues/773</a></p>\n\n<p>Update: should be fixed now.</p>\n"},{"tags":[],"owner":{"account_id":1783732,"reputation":11618,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"down_vote_count":0,"up_vote_count":99,"is_accepted":false,"score":99,"last_activity_date":1562686628,"creation_date":1418277825,"answer_id":27416379,"question_id":23432651,"body_markdown":"It still happens to me on version 1.1.9 running on windows 7.\r\n\r\nSo after hitting Ctrl C. \r\nThe fastest way to kill the background java will be . \r\n\r\nFind the java PID\r\n\r\n         c:\\&gt;netstat -ano | find &quot;8080&quot;\r\n         TCP    0.0.0.0:8080           0.0.0.0:0              LISTENING       1196\r\n         TCP    [::]:8080              [::]:0                 LISTENING       1196\r\n         c:\\&gt;taskkill /F /PID 1196\r\n         SUCCESS: The process with PID 1196 has been terminated.\r\n\r\nI am  assuming in the example above that you are running on http port 8080\r\n\r\nFor Mac Users:\r\n\r\n         $lsof -i :8080\r\n         COMMAND   PID   USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME\r\n         java    SOME_PID user  417u  IPv6 0xa4b3be242c249a27      0t0  TCP *:name (LISTEN)\r\n         kill -9 SOME_PID","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>It still happens to me on version 1.1.9 running on windows 7.</p>\n\n<p>So after hitting Ctrl C. \nThe fastest way to kill the background java will be . </p>\n\n<p>Find the java PID</p>\n\n<pre><code>     c:\\&gt;netstat -ano | find \"8080\"\n     TCP    0.0.0.0:8080           0.0.0.0:0              LISTENING       1196\n     TCP    [::]:8080              [::]:0                 LISTENING       1196\n     c:\\&gt;taskkill /F /PID 1196\n     SUCCESS: The process with PID 1196 has been terminated.\n</code></pre>\n\n<p>I am  assuming in the example above that you are running on http port 8080</p>\n\n<p>For Mac Users:</p>\n\n<pre><code>     $lsof -i :8080\n     COMMAND   PID   USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME\n     java    SOME_PID user  417u  IPv6 0xa4b3be242c249a27      0t0  TCP *:name (LISTEN)\n     kill -9 SOME_PID\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1739214,"reputation":554,"user_id":1591099,"accept_rate":30,"display_name":"max_dev"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1422778812,"creation_date":1422778812,"answer_id":28260806,"question_id":23432651,"body_markdown":"In IDEA you have to **Stop process** before **Run** it again. That command will shut down embedded Tomcat.  ","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>In IDEA you have to <strong>Stop process</strong> before <strong>Run</strong> it again. That command will shut down embedded Tomcat.  </p>\n"},{"tags":[],"owner":{"account_id":1574642,"reputation":133,"user_id":1461443,"display_name":"yasha02"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1495658392,"creation_date":1425711658,"answer_id":28912333,"question_id":23432651,"body_markdown":"Type the following commands in order.\r\n\r\n    $ ps -ef | grep -i java\r\n    $ kill -9 3361","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>Type the following commands in order.</p>\n\n<pre><code>$ ps -ef | grep -i java\n$ kill -9 3361\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3156367,"reputation":520,"user_id":2668689,"accept_rate":67,"display_name":"Digao"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1439835898,"creation_date":1439832537,"answer_id":32056350,"question_id":23432651,"body_markdown":"Edit:\r\nin ubuntu, use the command: \r\n\r\n    fuser -k 8080/tcp\r\n\r\nto kill the process. I&#39;m using spring-boot 1.3.0-Build-snapshot and the problem still persist. My SO is Ubuntu and the problem occurs either running from Eclipse or from the console. The discussion about this issue is [here][1]. This seems to be an issue with spring-boot libraries, at least concerning tomcat libraries. I&#39;m also in the line for the this fix. Unfortunately this is the price we pay for trying to use cutting edge technologies until they get matured. \r\n    \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/773","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>Edit:\nin ubuntu, use the command: </p>\n\n<pre><code>fuser -k 8080/tcp\n</code></pre>\n\n<p>to kill the process. I'm using spring-boot 1.3.0-Build-snapshot and the problem still persist. My SO is Ubuntu and the problem occurs either running from Eclipse or from the console. The discussion about this issue is <a href=\"https://github.com/spring-projects/spring-boot/issues/773\" rel=\"noreferrer\">here</a>. This seems to be an issue with spring-boot libraries, at least concerning tomcat libraries. I'm also in the line for the this fix. Unfortunately this is the price we pay for trying to use cutting edge technologies until they get matured. </p>\n"},{"tags":[],"owner":{"account_id":224815,"reputation":4029,"user_id":484894,"accept_rate":84,"display_name":"Nailgun"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1443301194,"creation_date":1443301194,"answer_id":32801969,"question_id":23432651,"body_markdown":"Here is what I do on Mac:\r\n\r\n    kill `lsof -i -n -P | grep TCP | grep 8080 | tr -s &quot; &quot; &quot;\\n&quot; | sed -n 2p`\r\n\r\nIt finds the PID using 8080 and kills it.","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>Here is what I do on Mac:</p>\n\n<pre><code>kill `lsof -i -n -P | grep TCP | grep 8080 | tr -s \" \" \"\\n\" | sed -n 2p`\n</code></pre>\n\n<p>It finds the PID using 8080 and kills it.</p>\n"},{"tags":[],"owner":{"account_id":5610323,"reputation":35021,"user_id":4443323,"accept_rate":74,"display_name":"Tomasz Mularczyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465591430,"creation_date":1463422645,"answer_id":37260567,"question_id":23432651,"body_markdown":"I&#39;ve had this problem when running spring boot app from netbeans 8.1 on Mac. The java process was not terminated when I hit red square button in netbeans so when I relaunched the app I always get &quot;bind exception, adress already in use&quot; thing. This is known bug.\r\n\r\nThe solution was to\r\n[add spring-boot:run][1] command to run goals of project...\r\n\r\n...and also if you get &quot;*No plugin found for prefix &#39;spring-boot&#39; in the current project and in the plugin groups*&quot; you might need to add this to dependencies:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.5.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-releases&lt;/id&gt;\r\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;spring-releases&lt;/id&gt;\r\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n\r\n  [1]: https://bugzilla-attachments-241321.netbeans.org/bugzilla/attachment.cgi?id=151222","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>I've had this problem when running spring boot app from netbeans 8.1 on Mac. The java process was not terminated when I hit red square button in netbeans so when I relaunched the app I always get \"bind exception, adress already in use\" thing. This is known bug.</p>\n\n<p>The solution was to\n<a href=\"https://bugzilla-attachments-241321.netbeans.org/bugzilla/attachment.cgi?id=151222\" rel=\"nofollow\">add spring-boot:run</a> command to run goals of project...</p>\n\n<p>...and also if you get \"<em>No plugin found for prefix 'spring-boot' in the current project and in the plugin groups</em>\" you might need to add this to dependencies:</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.3.5.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7333746,"reputation":91,"user_id":5585822,"display_name":"K_Bist"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494675093,"creation_date":1494675093,"answer_id":43952621,"question_id":23432651,"body_markdown":"I know i am too late to answer but may be some one get help with this. STS users can use the &lt;code&gt;Relaunch&lt;/code&gt; button rather than &lt;code&gt;Run&lt;/code&gt; to ensure that any existing instance is closed.&lt;br&gt;\r\nFor Reference : &lt;br/&gt;\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-running-your-application.html","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>I know i am too late to answer but may be some one get help with this. STS users can use the <code>Relaunch</code> button rather than <code>Run</code> to ensure that any existing instance is closed.<br>\nFor Reference : <br/>\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-running-your-application.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-running-your-application.html</a></p>\n"},{"tags":[],"owner":{"account_id":11455443,"reputation":59,"user_id":8396598,"display_name":"Ramz_the_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507235160,"creation_date":1507235160,"answer_id":46594258,"question_id":23432651,"body_markdown":"I encountered same problem running SpringBoot application in eclipse on Mac. I manually had to find all the PID&#39;s using 8080 and kill them. But, fortunately, I realized that we can kill that tomcat instance right from the eclipse &quot;console&quot; view, by hitting the stop(Red square icon) button and run the spring boot application again.","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>I encountered same problem running SpringBoot application in eclipse on Mac. I manually had to find all the PID's using 8080 and kill them. But, fortunately, I realized that we can kill that tomcat instance right from the eclipse \"console\" view, by hitting the stop(Red square icon) button and run the spring boot application again.</p>\n"},{"tags":[],"owner":{"account_id":23450,"reputation":2408,"user_id":58794,"accept_rate":50,"display_name":"Jason Pyeron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513930249,"creation_date":1513930249,"answer_id":47937956,"question_id":23432651,"body_markdown":"You cause a shutdown by calling \r\n`curl -v -X POST http://127.0.0.1:8091/shutdown` provided you configured spring-boot properly.\r\n\r\nTo support this you will have to update your application properties. This is partially described in https://stackoverflow.com/a/26563344/58794 . \r\n\r\nupdating application.yml by adding:\r\n\r\n    management:\r\n      security:\r\n        enabled: false\r\n    endpoints:\r\n      shutdown:\r\n        enabled: true\r\n\r\nor updating application.properties by adding:\r\n\r\n    management.security.enabled=false\r\n    endpoints.shutdown.enabled=true\r\n\r\n\r\n\r\nOnce called \r\n\r\n    $ curl -v -X POST http://127.0.0.1:8091/shutdown\r\n    * STATE: INIT =&gt; CONNECT handle 0x600057990; line 1423 (connection #-5000)\r\n    * Added connection 0. The cache now contains 1 members\r\n    *   Trying 127.0.0.1...\r\n    * TCP_NODELAY set\r\n    * STATE: CONNECT =&gt; WAITCONNECT handle 0x600057990; line 1475 (connection #0)\r\n    * Connected to 127.0.0.1 (127.0.0.1) port 8091 (#0)\r\n    * STATE: WAITCONNECT =&gt; SENDPROTOCONNECT handle 0x600057990; line 1592 (connection #0)\r\n    * Marked for [keep alive]: HTTP default\r\n    * STATE: SENDPROTOCONNECT =&gt; DO handle 0x600057990; line 1610 (connection #0)\r\n    &gt; POST /shutdown HTTP/1.1\r\n    &gt; Host: 127.0.0.1:8091\r\n    &gt; User-Agent: curl/7.56.1\r\n    &gt; Accept: */*\r\n    &gt;\r\n    * STATE: DO =&gt; DO_DONE handle 0x600057990; line 1689 (connection #0)\r\n    * STATE: DO_DONE =&gt; WAITPERFORM handle 0x600057990; line 1814 (connection #0)\r\n    * STATE: WAITPERFORM =&gt; PERFORM handle 0x600057990; line 1824 (connection #0)\r\n    * HTTP 1.1 or later with persistent connection, pipelining supported\r\n    &lt; HTTP/1.1 200\r\n    &lt; X-Application-Context: application:h2:8091\r\n    &lt; Content-Type: application/vnd.spring-boot.actuator.v1+json;charset=UTF-8\r\n    &lt; Transfer-Encoding: chunked\r\n    &lt; Date: Fri, 22 Dec 2017 07:01:04 GMT\r\n    &lt;\r\n    * STATE: PERFORM =&gt; DONE handle 0x600057990; line 1993 (connection #0)\r\n    * multi_done\r\n    * Connection #0 to host 127.0.0.1 left intact\r\n    * Expire cleared\r\n    {&quot;message&quot;:&quot;Shutting down, bye...&quot;}\r\n\r\nthe container will shutdown\r\n\r\n    o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0\r\n    o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\r\n    j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n\r\nbut if you launched from `mvn spring-boot:run` you will likely get a:\r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 35.613 s\r\n    [INFO] Finished at: 2017-12-22T02:01:05-05:00\r\n    [INFO] Final Memory: 25M/577M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:1.5.7.RELEASE:run (default-cli) on project PROJECTNAME: Could not exec java: Application finished with exit code: 1 -&gt; [Help 1]\r\n\r\nIf you do not have `management.security.enabled=false` you may be presented with the following error:\r\n\r\n    $ curl -v -X POST http://127.0.0.1:8091/shutdown\r\n    &gt; POST /shutdown HTTP/1.1\r\n    &gt; Host: 127.0.0.1:8091\r\n    &gt; User-Agent: curl/7.56.1\r\n    &gt; Accept: */*\r\n    &gt;\r\n    &lt; HTTP/1.1 401\r\n    &lt; X-Application-Context: application:h2:8091\r\n    &lt; Content-Type: application/vnd.spring-boot.actuator.v1+json;charset=UTF-8\r\n    &lt; Transfer-Encoding: chunked\r\n    &lt; Date: Fri, 22 Dec 2017 06:56:19 GMT\r\n    &lt;\r\n    {&quot;timestamp&quot;:1513925779265,&quot;status&quot;:401,&quot;error&quot;:&quot;Unauthorized&quot;,&quot;message&quot;:&quot;Full authentication is required to access this resource.&quot;,&quot;path&quot;:&quot;/shutdown&quot;}\r\n\r\nIf you do not have `endpoints.shutdown.enabled=true` you will see:\r\n\r\n    $ curl -v -X POST http://127.0.0.1:8091/shutdown\r\n    &gt; POST /shutdown HTTP/1.1\r\n    &gt; Host: 127.0.0.1:8091\r\n    &gt; User-Agent: curl/7.56.1\r\n    &gt; Accept: */*\r\n    &gt;\r\n    &lt; HTTP/1.1 404\r\n    &lt; X-Application-Context: application:h2:8091\r\n    &lt; Content-Type: application/json;charset=UTF-8\r\n    &lt; Transfer-Encoding: chunked\r\n    &lt; Date: Fri, 22 Dec 2017 06:58:52 GMT\r\n    &lt;\r\n    {&quot;timestamp&quot;:1513925932345,&quot;status&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;message&quot;:&quot;No message available&quot;,&quot;path&quot;:&quot;/shutdown&quot;}\r\n\r\nIf you try a GET instead of POST this error will be presented:\r\n\r\n    $ curl -v http://127.0.0.1:8091/shutdown\r\n    &gt; GET /shutdown HTTP/1.1\r\n    &gt; Host: 127.0.0.1:8091\r\n    &gt; User-Agent: curl/7.56.1\r\n    &gt; Accept: */*\r\n    &gt;\r\n    &lt; HTTP/1.1 405\r\n    &lt; X-Application-Context: application:h2:8091\r\n    &lt; Allow: POST\r\n    &lt; Content-Type: application/json;charset=UTF-8\r\n    &lt; Transfer-Encoding: chunked\r\n    &lt; Date: Fri, 22 Dec 2017 06:54:12 GMT\r\n    &lt;\r\n    {&quot;timestamp&quot;:1513925652827,&quot;status&quot;:405,&quot;error&quot;:&quot;Method Not Allowed&quot;,&quot;exception&quot;:&quot;org.springframework.web.HttpRequestMethodNotSupportedException&quot;,&quot;message&quot;:&quot;Request method &#39;GET&#39; not supported&quot;,&quot;path&quot;:&quot;/shutdown&quot;}\r\n\r\n\r\n","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>You cause a shutdown by calling \n<code>curl -v -X POST http://127.0.0.1:8091/shutdown</code> provided you configured spring-boot properly.</p>\n\n<p>To support this you will have to update your application properties. This is partially described in <a href=\"https://stackoverflow.com/a/26563344/58794\">https://stackoverflow.com/a/26563344/58794</a> . </p>\n\n<p>updating application.yml by adding:</p>\n\n<pre><code>management:\n  security:\n    enabled: false\nendpoints:\n  shutdown:\n    enabled: true\n</code></pre>\n\n<p>or updating application.properties by adding:</p>\n\n<pre><code>management.security.enabled=false\nendpoints.shutdown.enabled=true\n</code></pre>\n\n<p>Once called </p>\n\n<pre><code>$ curl -v -X POST http://127.0.0.1:8091/shutdown\n* STATE: INIT =&gt; CONNECT handle 0x600057990; line 1423 (connection #-5000)\n* Added connection 0. The cache now contains 1 members\n*   Trying 127.0.0.1...\n* TCP_NODELAY set\n* STATE: CONNECT =&gt; WAITCONNECT handle 0x600057990; line 1475 (connection #0)\n* Connected to 127.0.0.1 (127.0.0.1) port 8091 (#0)\n* STATE: WAITCONNECT =&gt; SENDPROTOCONNECT handle 0x600057990; line 1592 (connection #0)\n* Marked for [keep alive]: HTTP default\n* STATE: SENDPROTOCONNECT =&gt; DO handle 0x600057990; line 1610 (connection #0)\n&gt; POST /shutdown HTTP/1.1\n&gt; Host: 127.0.0.1:8091\n&gt; User-Agent: curl/7.56.1\n&gt; Accept: */*\n&gt;\n* STATE: DO =&gt; DO_DONE handle 0x600057990; line 1689 (connection #0)\n* STATE: DO_DONE =&gt; WAITPERFORM handle 0x600057990; line 1814 (connection #0)\n* STATE: WAITPERFORM =&gt; PERFORM handle 0x600057990; line 1824 (connection #0)\n* HTTP 1.1 or later with persistent connection, pipelining supported\n&lt; HTTP/1.1 200\n&lt; X-Application-Context: application:h2:8091\n&lt; Content-Type: application/vnd.spring-boot.actuator.v1+json;charset=UTF-8\n&lt; Transfer-Encoding: chunked\n&lt; Date: Fri, 22 Dec 2017 07:01:04 GMT\n&lt;\n* STATE: PERFORM =&gt; DONE handle 0x600057990; line 1993 (connection #0)\n* multi_done\n* Connection #0 to host 127.0.0.1 left intact\n* Expire cleared\n{\"message\":\"Shutting down, bye...\"}\n</code></pre>\n\n<p>the container will shutdown</p>\n\n<pre><code>o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 0\no.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\nj.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n</code></pre>\n\n<p>but if you launched from <code>mvn spring-boot:run</code> you will likely get a:</p>\n\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 35.613 s\n[INFO] Finished at: 2017-12-22T02:01:05-05:00\n[INFO] Final Memory: 25M/577M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:1.5.7.RELEASE:run (default-cli) on project PROJECTNAME: Could not exec java: Application finished with exit code: 1 -&gt; [Help 1]\n</code></pre>\n\n<p>If you do not have <code>management.security.enabled=false</code> you may be presented with the following error:</p>\n\n<pre><code>$ curl -v -X POST http://127.0.0.1:8091/shutdown\n&gt; POST /shutdown HTTP/1.1\n&gt; Host: 127.0.0.1:8091\n&gt; User-Agent: curl/7.56.1\n&gt; Accept: */*\n&gt;\n&lt; HTTP/1.1 401\n&lt; X-Application-Context: application:h2:8091\n&lt; Content-Type: application/vnd.spring-boot.actuator.v1+json;charset=UTF-8\n&lt; Transfer-Encoding: chunked\n&lt; Date: Fri, 22 Dec 2017 06:56:19 GMT\n&lt;\n{\"timestamp\":1513925779265,\"status\":401,\"error\":\"Unauthorized\",\"message\":\"Full authentication is required to access this resource.\",\"path\":\"/shutdown\"}\n</code></pre>\n\n<p>If you do not have <code>endpoints.shutdown.enabled=true</code> you will see:</p>\n\n<pre><code>$ curl -v -X POST http://127.0.0.1:8091/shutdown\n&gt; POST /shutdown HTTP/1.1\n&gt; Host: 127.0.0.1:8091\n&gt; User-Agent: curl/7.56.1\n&gt; Accept: */*\n&gt;\n&lt; HTTP/1.1 404\n&lt; X-Application-Context: application:h2:8091\n&lt; Content-Type: application/json;charset=UTF-8\n&lt; Transfer-Encoding: chunked\n&lt; Date: Fri, 22 Dec 2017 06:58:52 GMT\n&lt;\n{\"timestamp\":1513925932345,\"status\":404,\"error\":\"Not Found\",\"message\":\"No message available\",\"path\":\"/shutdown\"}\n</code></pre>\n\n<p>If you try a GET instead of POST this error will be presented:</p>\n\n<pre><code>$ curl -v http://127.0.0.1:8091/shutdown\n&gt; GET /shutdown HTTP/1.1\n&gt; Host: 127.0.0.1:8091\n&gt; User-Agent: curl/7.56.1\n&gt; Accept: */*\n&gt;\n&lt; HTTP/1.1 405\n&lt; X-Application-Context: application:h2:8091\n&lt; Allow: POST\n&lt; Content-Type: application/json;charset=UTF-8\n&lt; Transfer-Encoding: chunked\n&lt; Date: Fri, 22 Dec 2017 06:54:12 GMT\n&lt;\n{\"timestamp\":1513925652827,\"status\":405,\"error\":\"Method Not Allowed\",\"exception\":\"org.springframework.web.HttpRequestMethodNotSupportedException\",\"message\":\"Request method 'GET' not supported\",\"path\":\"/shutdown\"}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2533709,"reputation":1497,"user_id":2201382,"accept_rate":93,"display_name":"Abu Sulaiman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1514327118,"creation_date":1514327118,"answer_id":47984346,"question_id":23432651,"body_markdown":"For those using Eclipse, this is by far the best answer:\r\n\r\nOpen &quot;run configurations&quot;, edit the maven launch you defined for your project, and under the &quot;JRE&quot; tab, add **-Dfork=false** to the VM arguments text area.\r\n\r\n*Then when you hit the red stop button, the tomcat server will stop and your ports will be released.*\r\n\r\n [Answer comes from a post here on Github by jordihs][1] \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/1239","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>For those using Eclipse, this is by far the best answer:</p>\n\n<p>Open \"run configurations\", edit the maven launch you defined for your project, and under the \"JRE\" tab, add <strong>-Dfork=false</strong> to the VM arguments text area.</p>\n\n<p><em>Then when you hit the red stop button, the tomcat server will stop and your ports will be released.</em></p>\n\n<p><a href=\"https://github.com/spring-projects/spring-boot/issues/1239\" rel=\"noreferrer\">Answer comes from a post here on Github by jordihs</a> </p>\n"},{"tags":[],"owner":{"account_id":53428,"reputation":8315,"user_id":159679,"accept_rate":64,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527449004,"creation_date":1527449004,"answer_id":50555721,"question_id":23432651,"body_markdown":"This solution worked for me with Spring Boot v1.x und works now, with v2.x:\r\n\r\n    hangingJavaProcessToStop=`jps | grep Application | awk &#39;{print $1}&#39;`\r\n    echo &quot;hangingJavaProcessToStop: $hangingJavaProcessToStop&quot;\r\n    kill -9 $hangingJavaProcessToStop\r\n\r\nThis way you can kill specifically Spring Boot&#39;s `Application` Java process instead of killing all Java processes at once. I assume if your Spring Boot &quot;Application&quot; (`main` method containing class) is called differently, you must use its name instead of `Application`.\r\n\r\nI am running the snippet above, on my **Windows** machine using **WSL/Debian**. I am not using PowerShell or Windows&#39;command line. ","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>This solution worked for me with Spring Boot v1.x und works now, with v2.x:</p>\n\n<pre><code>hangingJavaProcessToStop=`jps | grep Application | awk '{print $1}'`\necho \"hangingJavaProcessToStop: $hangingJavaProcessToStop\"\nkill -9 $hangingJavaProcessToStop\n</code></pre>\n\n<p>This way you can kill specifically Spring Boot's <code>Application</code> Java process instead of killing all Java processes at once. I assume if your Spring Boot \"Application\" (<code>main</code> method containing class) is called differently, you must use its name instead of <code>Application</code>.</p>\n\n<p>I am running the snippet above, on my <strong>Windows</strong> machine using <strong>WSL/Debian</strong>. I am not using PowerShell or Windows'command line. </p>\n"},{"tags":[],"owner":{"account_id":10380353,"reputation":1715,"user_id":7655355,"display_name":"Tanver Hasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534454763,"creation_date":1534454763,"answer_id":51885549,"question_id":23432651,"body_markdown":"If you are using NetBeans you can stop the server or process by clicking on the cross icon in the bottom right corner where it says Run (Project name).\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8s1sW.png","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>If you are using NetBeans you can stop the server or process by clicking on the cross icon in the bottom right corner where it says Run (Project name).\n<a href=\"https://i.stack.imgur.com/8s1sW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8s1sW.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":11913918,"reputation":183,"user_id":8718319,"display_name":"Rajiv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560863687,"creation_date":1560863687,"answer_id":56650041,"question_id":23432651,"body_markdown":"Yes this is correct that when you do a maven install with spring-boot-run and after the application is stopped, tomcat port still listens.\r\n\r\nI am attaching a screenshot for those who faced this problem port/address already in use.\r\nWhat you have to do is before running the spring boot application again,just go to your windows Task  manager and end the Process named &quot;Java(TM) Platform SE binary&quot; and run your boot application your port would be free of the process and you wont get the issue again.(You don&#39;t have to do this after you run your application for the [![enter image description here][1]][1]first time )\r\nIt worked miracle for me. Hope it helps Good day \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PSSga.jpg","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>Yes this is correct that when you do a maven install with spring-boot-run and after the application is stopped, tomcat port still listens.</p>\n\n<p>I am attaching a screenshot for those who faced this problem port/address already in use.\nWhat you have to do is before running the spring boot application again,just go to your windows Task  manager and end the Process named \"Java(TM) Platform SE binary\" and run your boot application your port would be free of the process and you wont get the issue again.(You don't have to do this after you run your application for the <a href=\"https://i.stack.imgur.com/PSSga.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PSSga.jpg\" alt=\"enter image description here\"></a>first time )\nIt worked miracle for me. Hope it helps Good day </p>\n"},{"tags":[],"owner":{"account_id":3373041,"reputation":195,"user_id":2831843,"display_name":"Geoffrey Ritchey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580228408,"creation_date":1580228408,"answer_id":59952967,"question_id":23432651,"body_markdown":"For Powershell, put the following code in a file ending with &#39;.ps1&#39;\r\n`\r\n$processes = (get-NetTCPConnection| ? {$_.LocalPort -eq &quot;8080&quot;}).OwningProcess\r\nforeach ($process in $processes) {Get-Process -PID $process | Stop-Process -Force}\r\n`","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>For Powershell, put the following code in a file ending with '.ps1'\n<code>\n$processes = (get-NetTCPConnection| ? {$_.LocalPort -eq \"8080\"}).OwningProcess\nforeach ($process in $processes) {Get-Process -PID $process | Stop-Process -Force}\n</code></p>\n"},{"tags":[],"owner":{"account_id":8518448,"reputation":11,"user_id":6386174,"display_name":"satish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580908566,"creation_date":1580907062,"answer_id":60076261,"question_id":23432651,"body_markdown":"We can kill that tomcat instance right from the eclipse `console` view, by hitting the stop (Red square icon) button and Red button beside the run icon, run the spring boot application again.","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>We can kill that tomcat instance right from the eclipse <code>console</code> view, by hitting the stop (Red square icon) button and Red button beside the run icon, run the spring boot application again.</p>\n"},{"tags":[],"owner":{"account_id":170337,"reputation":1872,"user_id":1792216,"accept_rate":82,"display_name":"Emiliano Schiano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589928005,"creation_date":1587579165,"answer_id":61372195,"question_id":23432651,"body_markdown":"I fall in the same issue, but there is a much better and simple way to run your Spring boot app that does not have this problem.\r\n\r\nRun As -&gt; Java Application\r\n\r\nUpdate: \r\nFurthermore, if you use Spring STS (available for VS Code, IntelliJ, Eclipse...) you have the chance to manage your application from the Boot Dashboard. It&#39;s really useful.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/csmuW.png","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>I fall in the same issue, but there is a much better and simple way to run your Spring boot app that does not have this problem.</p>\n\n<p>Run As -> Java Application</p>\n\n<p>Update: \nFurthermore, if you use Spring STS (available for VS Code, IntelliJ, Eclipse...) you have the chance to manage your application from the Boot Dashboard. It's really useful.</p>\n\n<p><a href=\"https://i.stack.imgur.com/csmuW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/csmuW.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":19432864,"reputation":1,"user_id":14212894,"display_name":"ralfspoerer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599118613,"creation_date":1599118613,"answer_id":63718932,"question_id":23432651,"body_markdown":"I had the same issue in Windows 10, wenn I was running `mvn spring-boot:run` in a Cygwin Terminal. I wasn&#39;t even able to find the Tomcat process in Cygwin using `ps -ef`; I had to search for the process in PowerShell using `netstat -ao`.\r\n\r\nUsing `mvn spring-boot:run` in PowerShell is working fine for me.","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>I had the same issue in Windows 10, wenn I was running <code>mvn spring-boot:run</code> in a Cygwin Terminal. I wasn't even able to find the Tomcat process in Cygwin using <code>ps -ef</code>; I had to search for the process in PowerShell using <code>netstat -ao</code>.</p>\n<p>Using <code>mvn spring-boot:run</code> in PowerShell is working fine for me.</p>\n"},{"tags":[],"owner":{"account_id":14062814,"reputation":1724,"user_id":10158398,"display_name":"Zhou Haibo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642042867,"creation_date":1642042867,"answer_id":70690926,"question_id":23432651,"body_markdown":"I have the same issue on Mac OS recently, it seems this happened after upgrade my Mac OS version.\r\n\r\nUse IntelliJ IDEA as IDE and install a spring boot, running process cannot be stopped as the port is still opened. I must use `lsof -i:&lt;running port&gt;` and `kill -9 &lt;PID&gt;` to kill the process manually every time, annoying!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KtB33.png","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>I have the same issue on Mac OS recently, it seems this happened after upgrade my Mac OS version.</p>\n<p>Use IntelliJ IDEA as IDE and install a spring boot, running process cannot be stopped as the port is still opened. I must use <code>lsof -i:&lt;running port&gt;</code> and <code>kill -9 &lt;PID&gt;</code> to kill the process manually every time, annoying!</p>\n<p><a href=\"https://i.stack.imgur.com/KtB33.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KtB33.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11232564,"reputation":5,"user_id":8240040,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643894668,"creation_date":1643894668,"answer_id":70972082,"question_id":23432651,"body_markdown":"In the case of eclipse::\r\nIf getting this error, You con stop it on eclipse, no need to kiling from Task Manager, Please refer SS, Here all running survices present, select one and stop them.\r\n[SS for error on eclipse][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Muggj.png","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>In the case of eclipse::\nIf getting this error, You con stop it on eclipse, no need to kiling from Task Manager, Please refer SS, Here all running survices present, select one and stop them.\n<a href=\"https://i.stack.imgur.com/Muggj.png\" rel=\"nofollow noreferrer\">SS for error on eclipse</a></p>\n"},{"tags":[],"owner":{"account_id":1429360,"reputation":4094,"user_id":1352127,"accept_rate":45,"display_name":"Shailesh Pratapwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667735863,"creation_date":1667735863,"answer_id":74335671,"question_id":23432651,"body_markdown":"The issue is resolved in Spring boot 3.0.0 (To be released on 24th Nov 2022).\r\n\r\nIssue link : [Bug][1]\r\nRelease notes : [Release notes][2]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/32607\r\n  [2]: https://github.com/spring-projects/spring-boot/releases/tag/v3.0.0-RC1","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>The issue is resolved in Spring boot 3.0.0 (To be released on 24th Nov 2022).</p>\n<p>Issue link : <a href=\"https://github.com/spring-projects/spring-boot/issues/32607\" rel=\"nofollow noreferrer\">Bug</a>\nRelease notes : <a href=\"https://github.com/spring-projects/spring-boot/releases/tag/v3.0.0-RC1\" rel=\"nofollow noreferrer\">Release notes</a></p>\n"},{"tags":[],"owner":{"account_id":2760668,"reputation":2685,"user_id":2377639,"display_name":"Will Humphreys"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700574888,"creation_date":1700574888,"answer_id":77523382,"question_id":23432651,"body_markdown":"I&#39;m using Maven and this killed the SpringApplication process for me.\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;run&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;target&gt;\r\n                                &lt;exec executable=&quot;bash&quot;&gt;\r\n                                    &lt;arg value=&quot;-c&quot;/&gt;\r\n                                    &lt;arg value=&quot;ps ax | awk &#39;/[s]pring/ { print $1 }&#39; | xargs kill&quot;/&gt;\r\n                                &lt;/exec&gt;\r\n                            &lt;/target&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>I'm using Maven and this killed the SpringApplication process for me.</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;run&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;target&gt;\n                            &lt;exec executable=&quot;bash&quot;&gt;\n                                &lt;arg value=&quot;-c&quot;/&gt;\n                                &lt;arg value=&quot;ps ax | awk '/[s]pring/ { print $1 }' | xargs kill&quot;/&gt;\n                            &lt;/exec&gt;\n                        &lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":2053900,"reputation":2505,"user_id":1832206,"accept_rate":52,"display_name":"szxnyc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102049,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"answer_count":22,"score":54,"last_activity_date":1700574888,"creation_date":1399047580,"question_id":23432651,"body_markdown":"I can successfully start spring-boot with `mvn spring-boot`, the [documentation][1] mentions to gracefully exit the application hit `ctrl-c`. \r\n\r\n    Terminate batch job (Y/N)? Y\r\n\r\nThe maven process does terminate but Tomcat is still running and I can still hit the web-page. When I try to start spring-boot again it fails to start Tomcat because the port is in use.\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::  (v1.1.0.BUILD-SNAPSHOT)\r\n    \r\n    2014-05-02 12:13:57.666  INFO 6568 --- [           main] Example                                  : Starting Example on challenger with PID 6568 (E:\\workspace\\SpringBoot\\target\\cla\r\n    sses started by steven in E:\\workspace\\SpringBoot)\r\n    2014-05-02 12:13:57.707  INFO 6568 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWeb\r\n    ApplicationContext@11ecab7c: startup date [Fri May 02 12:13:57 EDT 2014]; root of context hierarchy\r\n    2014-05-02 12:13:58.097  INFO 6568 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean &#39;beanNameViewResolver&#39;: replacing [Root bean\r\n    : class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfi\r\n    gure.web.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class pat\r\n    h resource [org/springframework/boot/autoconfigure/web/ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; laz\r\n    yInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAuto\r\n    ConfigurationAdapter; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfig\r\n    ure/web/WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.class]]\r\n    2014-05-02 12:13:58.682  INFO 6568 --- [           main] .t.TomcatEmbeddedServletContainerFactory : Server initialized with port: 8080\r\n    2014-05-02 12:13:58.892  INFO 6568 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\r\n    2014-05-02 12:13:58.892  INFO 6568 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/7.0.53\r\n    2014-05-02 12:13:58.981  INFO 6568 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2014-05-02 12:13:58.981  INFO 6568 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1277 ms\r\n    2014-05-02 12:13:59.453  INFO 6568 --- [ost-startStop-1] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: &#39;dispatcherServlet&#39; to [/]\r\n    2014-05-02 12:13:59.455  INFO 6568 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]\r\n    2014-05-02 12:13:59.570 ERROR 6568 --- [           main] o.a.coyote.http11.Http11NioProtocol      : Failed to start end point associated with ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    \r\n    java.net.BindException: Address already in use: bind\r\n            at sun.nio.ch.Net.bind0(Native Method)\r\n            at sun.nio.ch.Net.bind(Net.java:344)\r\n            at sun.nio.ch.Net.bind(Net.java:336)\r\n            at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:199)\r\n            at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)\r\n            at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:473)\r\n            at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:647)\r\n            at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:449)\r\n            at org.apache.catalina.connector.Connector.startInternal(Connector.java:1007)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n            at org.apache.catalina.core.StandardService.startInternal(StandardService.java:459)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n            at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:731)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n            at org.apache.catalina.startup.Tomcat.start(Tomcat.java:341)\r\n            at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:79)\r\n            at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:69)\r\n            at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:270)\r\n            at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:145)\r\n            at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:159)\r\n            at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:132)\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:476)\r\n            at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:120)\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:680)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:313)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:941)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:930)\r\n            at Example.main(Example.java:16)\r\n    \r\n    2014-05-02 12:13:59.571 ERROR 6568 --- [           main] o.apache.catalina.core.StandardService   : Failed to start connector [Connector[org.apache.coyote.http11.Http11NioProtocol-\r\n    8080]]\r\n    \r\n    org.apache.catalina.LifecycleException: Failed to start component [Connector[org.apache.coyote.http11.Http11NioProtocol-8080]]\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n            at org.apache.catalina.core.StandardService.startInternal(StandardService.java:459)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n            at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:731)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n            at org.apache.catalina.startup.Tomcat.start(Tomcat.java:341)\r\n            at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:79)\r\n            at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:69)\r\n            at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:270)\r\n            at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:145)\r\n            at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:159)\r\n            at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:132)\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:476)\r\n            at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:120)\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:680)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:313)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:941)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:930)\r\n            at Example.main(Example.java:16)\r\n    Caused by: org.apache.catalina.LifecycleException: service.getName(): &quot;Tomcat&quot;;  Protocol handler start failed\r\n            at org.apache.catalina.connector.Connector.startInternal(Connector.java:1014)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n            ... 18 common frames omitted\r\n    Caused by: java.net.BindException: Address already in use: bind\r\n            at sun.nio.ch.Net.bind0(Native Method)\r\n            at sun.nio.ch.Net.bind(Net.java:344)\r\n            at sun.nio.ch.Net.bind(Net.java:336)\r\n            at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:199)\r\n            at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)\r\n            at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:473)\r\n            at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:647)\r\n            at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:449)\r\n            at org.apache.catalina.connector.Connector.startInternal(Connector.java:1007)\r\n            ... 19 common frames omitted\r\n    \r\n    2014-05-02 12:13:59.572  INFO 6568 --- [           main] o.apache.catalina.core.StandardService   : Stopping service Tomcat\r\n    2014-05-02 12:13:59.580  INFO 6568 --- [           main] .b.l.ClasspathLoggingApplicationListener : Application failed to start with classpath: [file:/E:/workspace/SpringBoot/src/m\r\n    ain/resources, file:/E:/workspace/SpringBoot/src/main/resources, file:/E:/workspace/SpringBoot/target/classes/, file:/C:/Users/steven/.m2/repository/org/springframework/boot/spring\r\n    -boot-starter-web/1.1.0.BUILD-SNAPSHOT/spring-boot-starter-web-1.1.0.BUILD-SNAPSHOT.jar, file:/C:/Users/steven/.m2/repository/org/springframework/boot/spring-boot-starter/1.1.0.BUI\r\n    LD-SNAPSHOT/spring-boot-starter-1.1.0.BUILD-SNAPSHOT.jar, file:/C:/Users/steven/.m2/repository/org/springframework/boot/spring-boot/1.1.0.BUILD-SNAPSHOT/spring-boot-1.1.0.BUILD-SNA\r\n    PSHOT.jar, file:/C:/Users/steven/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/1.1.0.BUILD-SNAPSHOT/spring-boot-autoconfigure-1.1.0.BUILD-SNAPSHOT.jar, file:/C:\r\n    /Users/steven/.m2/repository/org/springframework/boot/spring-boot-starter-logging/1.1.0.BUILD-SNAPSHOT/spring-boot-starter-logging-1.1.0.BUILD-SNAPSHOT.jar, file:/C:/Users/steven/.\r\n    m2/repository/org/slf4j/jcl-over-slf4j/1.7.7/jcl-over-slf4j-1.7.7.jar, file:/C:/Users/steven/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar, file:/C:/Users/steven/.m2\r\n    /repository/org/slf4j/jul-to-slf4j/1.7.7/jul-to-slf4j-1.7.7.jar, file:/C:/Users/steven/.m2/repository/org/slf4j/log4j-over-slf4j/1.7.7/log4j-over-slf4j-1.7.7.jar, file:/C:/Users/st\r\n    even/.m2/repository/ch/qos/logback/logback-classic/1.1.2/logback-classic-1.1.2.jar, file:/C:/Users/steven/.m2/repository/ch/qos/logback/logback-core/1.1.2/logback-core-1.1.2.jar, f\r\n    ile:/C:/Users/steven/.m2/repository/org/yaml/snakeyaml/1.13/snakeyaml-1.13.jar, file:/C:/Users/steven/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/1.1.0.BUILD\r\n    -SNAPSHOT/spring-boot-starter-tomcat-1.1.0.BUILD-SNAPSHOT.jar, file:/C:/Users/steven/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/7.0.53/tomcat-embed-core-7.0.53.jar, f\r\n    ile:/C:/Users/steven/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/7.0.53/tomcat-embed-el-7.0.53.jar, file:/C:/Users/steven/.m2/repository/org/apache/tomcat/embed/tomcat-e\r\n    mbed-logging-juli/7.0.53/tomcat-embed-logging-juli-7.0.53.jar, file:/C:/Users/steven/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.3.3/jackson-databind-2.3.3.jar, fi\r\n    le:/C:/Users/steven/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.3.0/jackson-annotations-2.3.0.jar, file:/C:/Users/steven/.m2/repository/com/fasterxml/jackson/co\r\n    re/jackson-core/2.3.3/jackson-core-2.3.3.jar, file:/C:/Users/steven/.m2/repository/org/springframework/spring-web/4.0.3.RELEASE/spring-web-4.0.3.RELEASE.jar, file:/C:/Users/steven/\r\n    .m2/repository/org/springframework/spring-aop/4.0.3.RELEASE/spring-aop-4.0.3.RELEASE.jar, file:/C:/Users/steven/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar, file\r\n    :/C:/Users/steven/.m2/repository/org/springframework/spring-beans/4.0.3.RELEASE/spring-beans-4.0.3.RELEASE.jar, file:/C:/Users/steven/.m2/repository/org/springframework/spring-cont\r\n    ext/4.0.3.RELEASE/spring-context-4.0.3.RELEASE.jar, file:/C:/Users/steven/.m2/repository/org/springframework/spring-core/4.0.3.RELEASE/spring-core-4.0.3.RELEASE.jar, file:/C:/Users\r\n    /steven/.m2/repository/org/springframework/spring-webmvc/4.0.3.RELEASE/spring-webmvc-4.0.3.RELEASE.jar, file:/C:/Users/steven/.m2/repository/org/springframework/spring-expression/4\r\n    .0.3.RELEASE/spring-expression-4.0.3.RELEASE.jar]\r\n    Exception in thread &quot;main&quot; org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedde\r\n    d.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n            at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:135)\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:476)\r\n    [INFO] ------------------------------------------------------------------------\r\n            at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:120)\r\n    [INFO] BUILD SUCCESS\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:680)\r\n    [INFO] ------------------------------------------------------------------------\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:313)\r\n    [INFO] Total time: 4.653 s\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:941)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:930)\r\n            at Example.main(Example.java:16)\r\n    Caused by: org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n    [INFO] Finished at: 2014-05-02T12:13:59-05:00\r\n            at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:106)\r\n    [INFO] Final Memory: 16M/232M\r\n    [INFO] ------------------------------------------------------------------------\r\n            at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:69)\r\n            at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:270)\r\n            at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:145)\r\n            at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:159)\r\n            at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:132)\r\n            ... 7 more\r\n    Caused by: java.lang.IllegalStateException: Tomcat connector in failed state\r\n            at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:102)\r\n            ... 12 more\r\n\r\nTo proceed I have to manually terminate the running process. Is this a bug or am I missing something?\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#getting-started-manual-cli-installation","title":"Terminating mvn spring-boot:run doesn&#39;t stop tomcat","body":"<p>I can successfully start spring-boot with <code>mvn spring-boot</code>, the <a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#getting-started-manual-cli-installation\" rel=\"noreferrer\">documentation</a> mentions to gracefully exit the application hit <code>ctrl-c</code>. </p>\n\n<pre><code>Terminate batch job (Y/N)? Y\n</code></pre>\n\n<p>The maven process does terminate but Tomcat is still running and I can still hit the web-page. When I try to start spring-boot again it fails to start Tomcat because the port is in use.</p>\n\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::  (v1.1.0.BUILD-SNAPSHOT)\n\n2014-05-02 12:13:57.666  INFO 6568 --- [           main] Example                                  : Starting Example on challenger with PID 6568 (E:\\workspace\\SpringBoot\\target\\cla\nsses started by steven in E:\\workspace\\SpringBoot)\n2014-05-02 12:13:57.707  INFO 6568 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWeb\nApplicationContext@11ecab7c: startup date [Fri May 02 12:13:57 EDT 2014]; root of context hierarchy\n2014-05-02 12:13:58.097  INFO 6568 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'beanNameViewResolver': replacing [Root bean\n: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfi\ngure.web.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class pat\nh resource [org/springframework/boot/autoconfigure/web/ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; laz\nyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAuto\nConfigurationAdapter; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfig\nure/web/WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.class]]\n2014-05-02 12:13:58.682  INFO 6568 --- [           main] .t.TomcatEmbeddedServletContainerFactory : Server initialized with port: 8080\n2014-05-02 12:13:58.892  INFO 6568 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\n2014-05-02 12:13:58.892  INFO 6568 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/7.0.53\n2014-05-02 12:13:58.981  INFO 6568 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2014-05-02 12:13:58.981  INFO 6568 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1277 ms\n2014-05-02 12:13:59.453  INFO 6568 --- [ost-startStop-1] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: 'dispatcherServlet' to [/]\n2014-05-02 12:13:59.455  INFO 6568 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n2014-05-02 12:13:59.570 ERROR 6568 --- [           main] o.a.coyote.http11.Http11NioProtocol      : Failed to start end point associated with ProtocolHandler [\"http-nio-8080\"]\n\njava.net.BindException: Address already in use: bind\n        at sun.nio.ch.Net.bind0(Native Method)\n        at sun.nio.ch.Net.bind(Net.java:344)\n        at sun.nio.ch.Net.bind(Net.java:336)\n        at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:199)\n        at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)\n        at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:473)\n        at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:647)\n        at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:449)\n        at org.apache.catalina.connector.Connector.startInternal(Connector.java:1007)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:459)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:731)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n        at org.apache.catalina.startup.Tomcat.start(Tomcat.java:341)\n        at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:79)\n        at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:69)\n        at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:270)\n        at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:145)\n        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:159)\n        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:132)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:476)\n        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:120)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:680)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:313)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:941)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:930)\n        at Example.main(Example.java:16)\n\n2014-05-02 12:13:59.571 ERROR 6568 --- [           main] o.apache.catalina.core.StandardService   : Failed to start connector [Connector[org.apache.coyote.http11.Http11NioProtocol-\n8080]]\n\norg.apache.catalina.LifecycleException: Failed to start component [Connector[org.apache.coyote.http11.Http11NioProtocol-8080]]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:459)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:731)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n        at org.apache.catalina.startup.Tomcat.start(Tomcat.java:341)\n        at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:79)\n        at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:69)\n        at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:270)\n        at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:145)\n        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:159)\n        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:132)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:476)\n        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:120)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:680)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:313)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:941)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:930)\n        at Example.main(Example.java:16)\nCaused by: org.apache.catalina.LifecycleException: service.getName(): \"Tomcat\";  Protocol handler start failed\n        at org.apache.catalina.connector.Connector.startInternal(Connector.java:1014)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n        ... 18 common frames omitted\nCaused by: java.net.BindException: Address already in use: bind\n        at sun.nio.ch.Net.bind0(Native Method)\n        at sun.nio.ch.Net.bind(Net.java:344)\n        at sun.nio.ch.Net.bind(Net.java:336)\n        at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:199)\n        at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)\n        at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:473)\n        at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:647)\n        at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:449)\n        at org.apache.catalina.connector.Connector.startInternal(Connector.java:1007)\n        ... 19 common frames omitted\n\n2014-05-02 12:13:59.572  INFO 6568 --- [           main] o.apache.catalina.core.StandardService   : Stopping service Tomcat\n2014-05-02 12:13:59.580  INFO 6568 --- [           main] .b.l.ClasspathLoggingApplicationListener : Application failed to start with classpath: [file:/E:/workspace/SpringBoot/src/m\nain/resources, file:/E:/workspace/SpringBoot/src/main/resources, file:/E:/workspace/SpringBoot/target/classes/, file:/C:/Users/steven/.m2/repository/org/springframework/boot/spring\n-boot-starter-web/1.1.0.BUILD-SNAPSHOT/spring-boot-starter-web-1.1.0.BUILD-SNAPSHOT.jar, file:/C:/Users/steven/.m2/repository/org/springframework/boot/spring-boot-starter/1.1.0.BUI\nLD-SNAPSHOT/spring-boot-starter-1.1.0.BUILD-SNAPSHOT.jar, file:/C:/Users/steven/.m2/repository/org/springframework/boot/spring-boot/1.1.0.BUILD-SNAPSHOT/spring-boot-1.1.0.BUILD-SNA\nPSHOT.jar, file:/C:/Users/steven/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/1.1.0.BUILD-SNAPSHOT/spring-boot-autoconfigure-1.1.0.BUILD-SNAPSHOT.jar, file:/C:\n/Users/steven/.m2/repository/org/springframework/boot/spring-boot-starter-logging/1.1.0.BUILD-SNAPSHOT/spring-boot-starter-logging-1.1.0.BUILD-SNAPSHOT.jar, file:/C:/Users/steven/.\nm2/repository/org/slf4j/jcl-over-slf4j/1.7.7/jcl-over-slf4j-1.7.7.jar, file:/C:/Users/steven/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar, file:/C:/Users/steven/.m2\n/repository/org/slf4j/jul-to-slf4j/1.7.7/jul-to-slf4j-1.7.7.jar, file:/C:/Users/steven/.m2/repository/org/slf4j/log4j-over-slf4j/1.7.7/log4j-over-slf4j-1.7.7.jar, file:/C:/Users/st\neven/.m2/repository/ch/qos/logback/logback-classic/1.1.2/logback-classic-1.1.2.jar, file:/C:/Users/steven/.m2/repository/ch/qos/logback/logback-core/1.1.2/logback-core-1.1.2.jar, f\nile:/C:/Users/steven/.m2/repository/org/yaml/snakeyaml/1.13/snakeyaml-1.13.jar, file:/C:/Users/steven/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/1.1.0.BUILD\n-SNAPSHOT/spring-boot-starter-tomcat-1.1.0.BUILD-SNAPSHOT.jar, file:/C:/Users/steven/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/7.0.53/tomcat-embed-core-7.0.53.jar, f\nile:/C:/Users/steven/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/7.0.53/tomcat-embed-el-7.0.53.jar, file:/C:/Users/steven/.m2/repository/org/apache/tomcat/embed/tomcat-e\nmbed-logging-juli/7.0.53/tomcat-embed-logging-juli-7.0.53.jar, file:/C:/Users/steven/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.3.3/jackson-databind-2.3.3.jar, fi\nle:/C:/Users/steven/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.3.0/jackson-annotations-2.3.0.jar, file:/C:/Users/steven/.m2/repository/com/fasterxml/jackson/co\nre/jackson-core/2.3.3/jackson-core-2.3.3.jar, file:/C:/Users/steven/.m2/repository/org/springframework/spring-web/4.0.3.RELEASE/spring-web-4.0.3.RELEASE.jar, file:/C:/Users/steven/\n.m2/repository/org/springframework/spring-aop/4.0.3.RELEASE/spring-aop-4.0.3.RELEASE.jar, file:/C:/Users/steven/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar, file\n:/C:/Users/steven/.m2/repository/org/springframework/spring-beans/4.0.3.RELEASE/spring-beans-4.0.3.RELEASE.jar, file:/C:/Users/steven/.m2/repository/org/springframework/spring-cont\next/4.0.3.RELEASE/spring-context-4.0.3.RELEASE.jar, file:/C:/Users/steven/.m2/repository/org/springframework/spring-core/4.0.3.RELEASE/spring-core-4.0.3.RELEASE.jar, file:/C:/Users\n/steven/.m2/repository/org/springframework/spring-webmvc/4.0.3.RELEASE/spring-webmvc-4.0.3.RELEASE.jar, file:/C:/Users/steven/.m2/repository/org/springframework/spring-expression/4\n.0.3.RELEASE/spring-expression-4.0.3.RELEASE.jar]\nException in thread \"main\" org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedde\nd.EmbeddedServletContainerException: Unable to start embedded Tomcat\n        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:135)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:476)\n[INFO] ------------------------------------------------------------------------\n        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:120)\n[INFO] BUILD SUCCESS\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:680)\n[INFO] ------------------------------------------------------------------------\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:313)\n[INFO] Total time: 4.653 s\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:941)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:930)\n        at Example.main(Example.java:16)\nCaused by: org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\n[INFO] Finished at: 2014-05-02T12:13:59-05:00\n        at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:106)\n[INFO] Final Memory: 16M/232M\n[INFO] ------------------------------------------------------------------------\n        at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:69)\n        at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:270)\n        at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:145)\n        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:159)\n        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:132)\n        ... 7 more\nCaused by: java.lang.IllegalStateException: Tomcat connector in failed state\n        at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:102)\n        ... 12 more\n</code></pre>\n\n<p>To proceed I have to manually terminate the running process. Is this a bug or am I missing something?</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700574704,"creation_date":1700574228,"answer_id":77523305,"question_id":77523016,"body_markdown":"The reason your attempt doesn&#39;t compile is due to the fact that generic types in Java are not covariant. In other words, `Callable&lt;Mono&lt;Integer&gt;&gt;` and `Callable&lt;Mono&lt;String&gt;&gt;` are not considered subtypes of `Callable&lt;Mono&lt;?&gt;&gt;`, even though `Mono&lt;Integer&gt;` and `Mono&lt;String&gt;` are subtypes of `Mono&lt;?&gt;`.\r\n\r\nSo, first option to fix it:\r\n\r\n    void yourMethod1() {\r\n        Callable&lt;Mono&lt;?&gt;&gt; callableInt = () -&gt; Mono.just(1); // change type to Callable&lt;Mono&lt;?&gt;&gt;\r\n        Callable&lt;Mono&lt;?&gt;&gt; callableStr = () -&gt; Mono.just(&quot;Hello&quot;); // change type to Callable&lt;Mono&lt;?&gt;&gt;\r\n\r\n        List&lt;Callable&lt;Mono&lt;?&gt;&gt;&gt; callableList = Arrays.asList(callableInt, callableStr);\r\n\r\n        mymethod(callableList);\r\n    }\r\n\r\n    void mymethod(List&lt;Callable&lt;Mono&lt;?&gt;&gt;&gt; monoList) {\r\n    }\r\n\r\nAgain, since `Mono&lt;Integer&gt;` and `Mono&lt;String&gt;` are subtypes of `Mono&lt;?&gt;`, the second option is to change `mymethod` argument to `List&lt;Callable&lt;? extends Mono&lt;?&gt;&gt;&gt;`:\r\n\r\n    void yourMethod1() {\r\n        Callable&lt;Mono&lt;Integer&gt;&gt; callableInt = () -&gt; Mono.just(1);\r\n        Callable&lt;Mono&lt;String&gt;&gt; callableStr = () -&gt; Mono.just(&quot;Hello&quot;);\r\n    \r\n        List&lt;Callable&lt;? extends Mono&lt;?&gt;&gt;&gt; callableList = Arrays.asList(callableInt, callableStr);\r\n    \r\n        mymethod(callableList);\r\n    }\r\n    \r\n    void mymethod(List&lt;Callable&lt;? extends Mono&lt;?&gt;&gt;&gt; monoList) { // change type of argument\r\n        // Your implementation here\r\n    }","title":"Create list of Callables of Monos of different types","body":"<p>The reason your attempt doesn't compile is due to the fact that generic types in Java are not covariant. In other words, <code>Callable&lt;Mono&lt;Integer&gt;&gt;</code> and <code>Callable&lt;Mono&lt;String&gt;&gt;</code> are not considered subtypes of <code>Callable&lt;Mono&lt;?&gt;&gt;</code>, even though <code>Mono&lt;Integer&gt;</code> and <code>Mono&lt;String&gt;</code> are subtypes of <code>Mono&lt;?&gt;</code>.</p>\n<p>So, first option to fix it:</p>\n<pre><code>void yourMethod1() {\n    Callable&lt;Mono&lt;?&gt;&gt; callableInt = () -&gt; Mono.just(1); // change type to Callable&lt;Mono&lt;?&gt;&gt;\n    Callable&lt;Mono&lt;?&gt;&gt; callableStr = () -&gt; Mono.just(&quot;Hello&quot;); // change type to Callable&lt;Mono&lt;?&gt;&gt;\n\n    List&lt;Callable&lt;Mono&lt;?&gt;&gt;&gt; callableList = Arrays.asList(callableInt, callableStr);\n\n    mymethod(callableList);\n}\n\nvoid mymethod(List&lt;Callable&lt;Mono&lt;?&gt;&gt;&gt; monoList) {\n}\n</code></pre>\n<p>Again, since <code>Mono&lt;Integer&gt;</code> and <code>Mono&lt;String&gt;</code> are subtypes of <code>Mono&lt;?&gt;</code>, the second option is to change <code>mymethod</code> argument to <code>List&lt;Callable&lt;? extends Mono&lt;?&gt;&gt;&gt;</code>:</p>\n<pre><code>void yourMethod1() {\n    Callable&lt;Mono&lt;Integer&gt;&gt; callableInt = () -&gt; Mono.just(1);\n    Callable&lt;Mono&lt;String&gt;&gt; callableStr = () -&gt; Mono.just(&quot;Hello&quot;);\n\n    List&lt;Callable&lt;? extends Mono&lt;?&gt;&gt;&gt; callableList = Arrays.asList(callableInt, callableStr);\n\n    mymethod(callableList);\n}\n\nvoid mymethod(List&lt;Callable&lt;? extends Mono&lt;?&gt;&gt;&gt; monoList) { // change type of argument\n    // Your implementation here\n}\n</code></pre>\n"}],"owner":{"account_id":10728,"reputation":4304,"user_id":20391,"accept_rate":70,"display_name":"Pavel Bernshtam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1700575030,"accepted_answer_id":77523305,"answer_count":1,"score":1,"last_activity_date":1700574704,"creation_date":1700571546,"question_id":77523016,"body_markdown":"I have a method, which works with a list of `Callable` of `Mono` of different types.\r\n\r\nHow do I call it with `Callable&lt;Mono&lt;Integer&gt;&gt;` and `Callable&lt;Mono&lt;String&gt;&gt;` ?\r\n\r\nI tried\r\n\r\n    void mymethod(List&lt;Callable&lt;Mono&lt;?&gt;&gt;&gt; monoList){\r\n\r\n    }\r\n\r\n    void yourMethod1() {\r\n        Callable&lt;Mono&lt;Integer&gt;&gt; callableInt = () -&gt; Mono.just(1);\r\n        Callable&lt;Mono&lt;String&gt;&gt; callableStr = () -&gt; Mono.just(&quot;Hello&quot;);\r\n\r\n        List&lt;Callable&lt;Mono&lt;?&gt;&gt;&gt; callableList = Arrays.asList(callableInt,callableStr);\r\n\r\n        mymethod(callableList);\r\n    }\r\n\r\nbut this does not compile with error `no instance(s) of type variable(s) exist so that Callable&lt;Mono&lt;Integer&gt;&gt; conforms to Callable&lt;Mono&lt;?&gt;&gt; inference variable T has incompatible bounds: equality constraints: Callable&lt;Mono&lt;?&gt;&gt; lower bounds: Callable&lt;Mono&lt;Integer&gt;&gt;, Callable&lt;Mono&lt;String&gt;&gt;`\r\n\r\nHow can I change `mymethod` or `yourMethod1` to get those objects in a list of `Mono` in `mymethod` ?","title":"Create list of Callables of Monos of different types","body":"<p>I have a method, which works with a list of <code>Callable</code> of <code>Mono</code> of different types.</p>\n<p>How do I call it with <code>Callable&lt;Mono&lt;Integer&gt;&gt;</code> and <code>Callable&lt;Mono&lt;String&gt;&gt;</code> ?</p>\n<p>I tried</p>\n<pre><code>void mymethod(List&lt;Callable&lt;Mono&lt;?&gt;&gt;&gt; monoList){\n\n}\n\nvoid yourMethod1() {\n    Callable&lt;Mono&lt;Integer&gt;&gt; callableInt = () -&gt; Mono.just(1);\n    Callable&lt;Mono&lt;String&gt;&gt; callableStr = () -&gt; Mono.just(&quot;Hello&quot;);\n\n    List&lt;Callable&lt;Mono&lt;?&gt;&gt;&gt; callableList = Arrays.asList(callableInt,callableStr);\n\n    mymethod(callableList);\n}\n</code></pre>\n<p>but this does not compile with error <code>no instance(s) of type variable(s) exist so that Callable&lt;Mono&lt;Integer&gt;&gt; conforms to Callable&lt;Mono&lt;?&gt;&gt; inference variable T has incompatible bounds: equality constraints: Callable&lt;Mono&lt;?&gt;&gt; lower bounds: Callable&lt;Mono&lt;Integer&gt;&gt;, Callable&lt;Mono&lt;String&gt;&gt;</code></p>\n<p>How can I change <code>mymethod</code> or <code>yourMethod1</code> to get those objects in a list of <code>Mono</code> in <code>mymethod</code> ?</p>\n"},{"tags":["java","jax-ws","java-11","wsimport"],"owner":{"account_id":29126415,"reputation":1,"user_id":22312621,"display_name":"Akshay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700573824,"answer_count":0,"score":0,"last_activity_date":1700574292,"creation_date":1700571535,"question_id":77523012,"body_markdown":"I have use wsimport in Ant with Java 8. There it is working, but after migrating to Java 11, I am getting errors.\r\n\r\nI am using below configuration:\r\n\r\n```xml\r\n&lt;exec executable=&quot;${java6.home}/../bin/wsimport&quot;&gt;\r\n  &lt;arg line=&quot;-s ${src.java.dir} -p com.emc.srm.easyconfig.wsclient.wsapi -Xnocompile ${ws.db.wsdl}&quot; /&gt;\r\n&lt;/exec&gt;\r\n```\r\n\r\nI getting below error in Java 11\r\n\r\n```none\r\nBUILD FAILED\r\n/home/patana1/workspace/Java-11-Goldfinger-SRM/APGv-java-11-Goldfinger-branch/installer/product/device-config-wizard/build.xml:95: Execute failed: java.io.IOException: Cannot run program &quot;${java6.home}/../bin/wsimport&quot;: error=2, No such file or directory\r\n```\r\n\r\nWhat is the alternative for this in Ant with Java 11?\r\n","title":"What is the alternative wsimport in Java 11?","body":"<p>I have use wsimport in Ant with Java 8. There it is working, but after migrating to Java 11, I am getting errors.</p>\n<p>I am using below configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;exec executable=&quot;${java6.home}/../bin/wsimport&quot;&gt;\n  &lt;arg line=&quot;-s ${src.java.dir} -p com.emc.srm.easyconfig.wsclient.wsapi -Xnocompile ${ws.db.wsdl}&quot; /&gt;\n&lt;/exec&gt;\n</code></pre>\n<p>I getting below error in Java 11</p>\n<pre class=\"lang-none prettyprint-override\"><code>BUILD FAILED\n/home/patana1/workspace/Java-11-Goldfinger-SRM/APGv-java-11-Goldfinger-branch/installer/product/device-config-wizard/build.xml:95: Execute failed: java.io.IOException: Cannot run program &quot;${java6.home}/../bin/wsimport&quot;: error=2, No such file or directory\n</code></pre>\n<p>What is the alternative for this in Ant with Java 11?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":44652,"reputation":3473,"user_id":131160,"display_name":"jcsahnwaldt Reinstate Monica"},"score":0,"creation_date":1677901766,"post_id":54129834,"comment_id":133433923,"body_markdown":"The `ReflectiveOperationException` problem goes away if you convert the multi-catch clause to three uni-catch clauses. The inferred type of `e` is the common ancestor of the three exception types, which is `ReflectiveOperationException` in Java 7, and thus the compiler generates a call to  `ReflectiveOperationException.printStackTrace()` for the line `e.printStackTrace()`. See [&#167;14.20 in JLS 7](https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20).","body":"The <code>ReflectiveOperationException</code> problem goes away if you convert the multi-catch clause to three uni-catch clauses. The inferred type of <code>e</code> is the common ancestor of the three exception types, which is <code>ReflectiveOperationException</code> in Java 7, and thus the compiler generates a call to  <code>ReflectiveOperationException.printStackTrace()</code> for the line <code>e.printStackTrace()</code>. See <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20\" rel=\"nofollow noreferrer\">&#167;14.20 in JLS 7</a>."},{"owner":{"account_id":44652,"reputation":3473,"user_id":131160,"display_name":"jcsahnwaldt Reinstate Monica"},"score":0,"creation_date":1677905132,"post_id":54129834,"comment_id":133434167,"body_markdown":"...or you could add a completely unrelated exception type to the multi-catch to make the compiler infer a common ancestor that exists in pre-7 Java. For example, if you replace `catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException e)` by `catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException | ArithmeticException e)` the inferred type of `e` will be `Exception`, and the `ReflectiveOperationException` problem disappears... :-)","body":"...or you could add a completely unrelated exception type to the multi-catch to make the compiler infer a common ancestor that exists in pre-7 Java. For example, if you replace <code>catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException e)</code> by <code>catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException | ArithmeticException e)</code> the inferred type of <code>e</code> will be <code>Exception</code>, and the <code>ReflectiveOperationException</code> problem disappears... :-)"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991113,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":1,"up_vote_count":32,"is_accepted":true,"score":31,"last_activity_date":1547127797,"creation_date":1547127797,"answer_id":54130025,"question_id":54129834,"body_markdown":"&gt; and so, apparently, Android 4.0 does not support Java 7.\r\n\r\nBy your definition, Android does not support any version of Java. The `java` and `javax` classes in the Android SDK do not exactly match any version of Java, whether a numerical version (e.g., 6, 7, 8) or whatever you want to consider Java SE/EE/ME to be.\r\n\r\n&gt; Is there an overview which clearly shows which Android versions come with which Java version\r\n\r\nIn terms of language features (e.g., lambda expressions), quoting [the documentation](https://developer.android.com/studio/write/java8-support):\r\n\r\n&gt; Android Studio 3.0 and later supports all Java 7 language features and a subset of Java 8 language features that vary by platform version\r\n\r\nHere, &quot;Android Studio&quot; is really referring to the build tools that compile your source code and create the Dalvik bytecode. Current tools can support all Java 7 and a few Java 8 features on all versions of Android. Additional Java 8 features are only available on API Level 24+, usually because they rely upon certain classes that were only added to the Android SDK at that point.\r\n\r\nBut your concern seems to be with classes and methods, in which case there is no simple mapping of any Java version to any Android version.\r\n\r\nMoreover, you are using reflection to hack into framework classes, which means your results will not only vary by Android version but by *device model*, as device manufacturers can and do change the implementation of framework classes.\r\n","title":"Which Android versions run which Java versions?","body":"<blockquote>\n  <p>and so, apparently, Android 4.0 does not support Java 7.</p>\n</blockquote>\n\n<p>By your definition, Android does not support any version of Java. The <code>java</code> and <code>javax</code> classes in the Android SDK do not exactly match any version of Java, whether a numerical version (e.g., 6, 7, 8) or whatever you want to consider Java SE/EE/ME to be.</p>\n\n<blockquote>\n  <p>Is there an overview which clearly shows which Android versions come with which Java version</p>\n</blockquote>\n\n<p>In terms of language features (e.g., lambda expressions), quoting <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"noreferrer\">the documentation</a>:</p>\n\n<blockquote>\n  <p>Android Studio 3.0 and later supports all Java 7 language features and a subset of Java 8 language features that vary by platform version</p>\n</blockquote>\n\n<p>Here, \"Android Studio\" is really referring to the build tools that compile your source code and create the Dalvik bytecode. Current tools can support all Java 7 and a few Java 8 features on all versions of Android. Additional Java 8 features are only available on API Level 24+, usually because they rely upon certain classes that were only added to the Android SDK at that point.</p>\n\n<p>But your concern seems to be with classes and methods, in which case there is no simple mapping of any Java version to any Android version.</p>\n\n<p>Moreover, you are using reflection to hack into framework classes, which means your results will not only vary by Android version but by <em>device model</em>, as device manufacturers can and do change the implementation of framework classes.</p>\n"},{"tags":[],"owner":{"account_id":19004627,"reputation":343,"user_id":13871578,"display_name":"claypooj"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1645667457,"creation_date":1645667457,"answer_id":71246138,"question_id":54129834,"body_markdown":"From the &quot;Supporting Older Versions&quot; AOSP documentation found at https://source.android.com/setup/build/older-versions#jdk:\r\n\r\n&gt; &lt;h2&gt;Supported versions&lt;/h2&gt;\r\n&gt; &lt;h3&gt;Android 7.0 (Nougat) – Android 8.0 (Oreo):&lt;/h3&gt;\r\n&gt; &lt;p&gt;Ubuntu: OpenJDK 8&lt;/p&gt;\r\n&gt; &lt;p&gt;Mac OS X: JDK 8u45 or higher&lt;/p&gt;\r\n&gt; &lt;h3&gt;Android 5.x (Lollipop) – Android 6.0 (Marshmallow):&lt;/h3&gt;\r\n&gt; &lt;p&gt;Ubuntu: OpenJDK 7&lt;/p&gt;\r\n&gt; &lt;p&gt;Mac OS X: jdk-7u71-macosx-x64.dmg&lt;/p&gt;\r\n&gt; &lt;h3&gt;Android 2.3.x (Gingerbread) – Android 4.4.x (KitKat):&lt;/h3&gt;\r\n&gt; &lt;p&gt;Ubuntu: Java JDK 6&lt;/p&gt;\r\n&gt; &lt;p&gt;Mac OS X: Java JDK 6&lt;/p&gt;\r\n&gt; &lt;h3&gt;Android 1.5 (Cupcake) – Android 2.2.x (Froyo):&lt;/h3&gt;\r\n&gt; &lt;p&gt;Ubuntu: Java JDK 5&lt;/p&gt;\r\n\r\nThe documentation does not presently (Feb 2022) make any correlation between Android &gt;=9.0 and JDK (that I could find); I suspect this has been overlooked since it does not appear that the setup documentation has been thoroughly updated since sometime prior to the Ubuntu 20.04 LTS release. It *does* mention that the latest master branch (Android 12.0.0_r32) comes with a prebuilts folder that has the necessary JDK in it.","title":"Which Android versions run which Java versions?","body":"<p>From the &quot;Supporting Older Versions&quot; AOSP documentation found at <a href=\"https://source.android.com/setup/build/older-versions#jdk\" rel=\"noreferrer\">https://source.android.com/setup/build/older-versions#jdk</a>:</p>\n<blockquote>\n<h2>Supported versions</h2>\n<h3>Android 7.0 (Nougat) – Android 8.0 (Oreo):</h3>\n<p>Ubuntu: OpenJDK 8</p>\n<p>Mac OS X: JDK 8u45 or higher</p>\n<h3>Android 5.x (Lollipop) – Android 6.0 (Marshmallow):</h3>\n<p>Ubuntu: OpenJDK 7</p>\n<p>Mac OS X: jdk-7u71-macosx-x64.dmg</p>\n<h3>Android 2.3.x (Gingerbread) – Android 4.4.x (KitKat):</h3>\n<p>Ubuntu: Java JDK 6</p>\n<p>Mac OS X: Java JDK 6</p>\n<h3>Android 1.5 (Cupcake) – Android 2.2.x (Froyo):</h3>\n<p>Ubuntu: Java JDK 5</p>\n</blockquote>\n<p>The documentation does not presently (Feb 2022) make any correlation between Android &gt;=9.0 and JDK (that I could find); I suspect this has been overlooked since it does not appear that the setup documentation has been thoroughly updated since sometime prior to the Ubuntu 20.04 LTS release. It <em>does</em> mention that the latest master branch (Android 12.0.0_r32) comes with a prebuilts folder that has the necessary JDK in it.</p>\n"},{"tags":[],"owner":{"account_id":8533445,"reputation":2476,"user_id":6396174,"display_name":"bmdelacruz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1700574252,"creation_date":1688570871,"answer_id":76621845,"question_id":54129834,"body_markdown":"This is just a guess but I think we can tell which Java version an Android OS version has based on the branches of the `/platform/prebuilts/jdk/jdk*` Git repositories which can be seen at https://android.googlesource.com/:\r\n\r\n- `/platform/prebuilts/jdk/jdk8` git repository has branches for: oreo (8), pie (9), 10, 11, 12, 13, 14\r\n- `/platform/prebuilts/jdk/jdk9` git repository has branches for: pie (9), 10, 11, 12, 13, 14\r\n- `/platform/prebuilts/jdk/jdk11` git repository has branches for: 11, 12, 13, 14\r\n- `/platform/prebuilts/jdk/jdk17` git repository has branches for: 13, 14\r\n- `/platform/prebuilts/jdk/jdk21` git repository exists but it has no branches yet for any Android OS version\r\n\r\nWith the information above, I think we can assume that...\r\n- __Android 13 and 14__ has access to __Java 8, 9, 11, and 17__\r\n- __Android 11 and 12__ has access to __Java 8, 9, and 11__\r\n- __Android Pie (9) and 10__ has access to __Java 8 and 9__\r\n- __Android Oreo (8)__ has access to __Java 8__\r\n\r\nI didn&#39;t see any branches regarding any version older than Oreo so I don&#39;t know what and where to look, but I think @claypooj&#39;s answer covered that:\r\n- __Android Nougat (7)__ has access to __Java 8__\r\n- __Android Lollipop (5) and Marshmallow (6)__ has access to __Java 7__\r\n- __Android Gingerbread (2.3), Honeycomb (3), Ice Cream Sandwich (4), Jelly Bean (4.1), and KitKat (4.4)__ has access to __Java 6__\r\n- __Android Cupcake (1.5), Donut (1.6), Eclair (2), and Froyo (2.2)__ has access to __Java 5__","title":"Which Android versions run which Java versions?","body":"<p>This is just a guess but I think we can tell which Java version an Android OS version has based on the branches of the <code>/platform/prebuilts/jdk/jdk*</code> Git repositories which can be seen at <a href=\"https://android.googlesource.com/\" rel=\"nofollow noreferrer\">https://android.googlesource.com/</a>:</p>\n<ul>\n<li><code>/platform/prebuilts/jdk/jdk8</code> git repository has branches for: oreo (8), pie (9), 10, 11, 12, 13, 14</li>\n<li><code>/platform/prebuilts/jdk/jdk9</code> git repository has branches for: pie (9), 10, 11, 12, 13, 14</li>\n<li><code>/platform/prebuilts/jdk/jdk11</code> git repository has branches for: 11, 12, 13, 14</li>\n<li><code>/platform/prebuilts/jdk/jdk17</code> git repository has branches for: 13, 14</li>\n<li><code>/platform/prebuilts/jdk/jdk21</code> git repository exists but it has no branches yet for any Android OS version</li>\n</ul>\n<p>With the information above, I think we can assume that...</p>\n<ul>\n<li><strong>Android 13 and 14</strong> has access to <strong>Java 8, 9, 11, and 17</strong></li>\n<li><strong>Android 11 and 12</strong> has access to <strong>Java 8, 9, and 11</strong></li>\n<li><strong>Android Pie (9) and 10</strong> has access to <strong>Java 8 and 9</strong></li>\n<li><strong>Android Oreo (8)</strong> has access to <strong>Java 8</strong></li>\n</ul>\n<p>I didn't see any branches regarding any version older than Oreo so I don't know what and where to look, but I think @claypooj's answer covered that:</p>\n<ul>\n<li><strong>Android Nougat (7)</strong> has access to <strong>Java 8</strong></li>\n<li><strong>Android Lollipop (5) and Marshmallow (6)</strong> has access to <strong>Java 7</strong></li>\n<li><strong>Android Gingerbread (2.3), Honeycomb (3), Ice Cream Sandwich (4), Jelly Bean (4.1), and KitKat (4.4)</strong> has access to <strong>Java 6</strong></li>\n<li><strong>Android Cupcake (1.5), Donut (1.6), Eclair (2), and Froyo (2.2)</strong> has access to <strong>Java 5</strong></li>\n</ul>\n"}],"owner":{"account_id":1233653,"reputation":9407,"user_id":1197719,"accept_rate":81,"display_name":"Andreas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46516,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":54130025,"answer_count":3,"score":44,"last_activity_date":1700574252,"creation_date":1547127095,"question_id":54129834,"body_markdown":"I&#39;ve just tried to run my app compiled using Java 8 on an Android 4.0 device. While I&#39;m used to taking great care to look at the Android API levels in the Android documentation to make sure I&#39;m only using APIs that are available on Android 4.0, I&#39;m not so used to making sure I&#39;m not using any features in Java itself that aren&#39;t available on Android 4.0.\r\n\r\nConsider the following code, it tries to import the `initializeScrollbars()` API from `View` class because, for whatever reason, it has been [removed][1] from the official SDK:\r\n\r\n   \ttry {\r\n   \t\tfinal Method initializeScrollbars = android.view.View.class.getDeclaredMethod(&quot;initializeScrollbars&quot;, TypedArray.class);\r\n        initializeScrollbars.invoke(this, a);\r\n    } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException e) {   \t\t\r\n   \t\te.printStackTrace();\r\n    }\r\n\r\nWhile this code works fine on my Android 8.0 test system, it doesn&#39;t work on Android 4.0. The error is:\r\n\r\n    Could not find method java.lang.ReflectiveOperationException.printStackTrace\r\n\r\nAfter some research I found out that `ReflectiveOperationException` is not available before Java 7 and so, apparently, Android 4.0 does not support Java 7.\r\n\r\nThis makes me wonder: Is there an overview which clearly shows which Android versions come with which Java version? e.g. how can I find out the first Android version that supports Java 7? And how can I find out the first Android version that supports Java 8? \r\n\r\nThis really must be easy to find but I&#39;m just failing to see it. Googling always leads to results in which people are asking about the Java versions supported by Android Studio, not by Android itself. \r\n\r\nSo, can anybody please shed some light onto this? I know it must be somewhere really obvious, but I don&#39;t seem to find it... \r\n\r\n  [1]: https://stackoverflow.com/questions/52916047/is-there-really-no-clean-way-to-programmatically-add-scrollbars-to-a-custom-view","title":"Which Android versions run which Java versions?","body":"<p>I've just tried to run my app compiled using Java 8 on an Android 4.0 device. While I'm used to taking great care to look at the Android API levels in the Android documentation to make sure I'm only using APIs that are available on Android 4.0, I'm not so used to making sure I'm not using any features in Java itself that aren't available on Android 4.0.</p>\n\n<p>Consider the following code, it tries to import the <code>initializeScrollbars()</code> API from <code>View</code> class because, for whatever reason, it has been <a href=\"https://stackoverflow.com/questions/52916047/is-there-really-no-clean-way-to-programmatically-add-scrollbars-to-a-custom-view\">removed</a> from the official SDK:</p>\n\n<pre><code>try {\n    final Method initializeScrollbars = android.view.View.class.getDeclaredMethod(\"initializeScrollbars\", TypedArray.class);\n    initializeScrollbars.invoke(this, a);\n} catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException e) {        \n    e.printStackTrace();\n}\n</code></pre>\n\n<p>While this code works fine on my Android 8.0 test system, it doesn't work on Android 4.0. The error is:</p>\n\n<pre><code>Could not find method java.lang.ReflectiveOperationException.printStackTrace\n</code></pre>\n\n<p>After some research I found out that <code>ReflectiveOperationException</code> is not available before Java 7 and so, apparently, Android 4.0 does not support Java 7.</p>\n\n<p>This makes me wonder: Is there an overview which clearly shows which Android versions come with which Java version? e.g. how can I find out the first Android version that supports Java 7? And how can I find out the first Android version that supports Java 8? </p>\n\n<p>This really must be easy to find but I'm just failing to see it. Googling always leads to results in which people are asking about the Java versions supported by Android Studio, not by Android itself. </p>\n\n<p>So, can anybody please shed some light onto this? I know it must be somewhere really obvious, but I don't seem to find it... </p>\n"},{"tags":["java","asynchronous"],"owner":{"account_id":5318975,"reputation":1980,"user_id":4242934,"accept_rate":27,"display_name":"Borgy Manotoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700574016,"creation_date":1700469708,"question_id":77514458,"body_markdown":"I use `CompletableFutre.runAsync()` to run the sending of mail notifications asynchronously, but instead of the sending of mails work, it is getting an error `There is no application attached to current thread ForkJoinPool.commonPool-worker-1`.\r\n\r\n \r\n\r\n            // Process Service Request here\r\n            ...\r\n\r\n            // Run sending of mail notification asynchronously\r\n            CompletableFuture.runAsync(() -&gt; {\r\n                try {\r\n                    sendMailNotification(customer.getId(), serviceRequest.getRequestNumber());\r\n                } catch (Exception e) {\r\n                    _LOG.error(&quot;send notification failed : {}&quot;, e.getMessage());\r\n                }\r\n            });\r\n\r\n            ...\r\n\r\n            // Set UI changes after processing here\r\n\r\nIt is weird since there are similar calls that does not get an error and some did. Seems I only get this error when the sending of mail notification call takes longer (like many recipients, etc). For those sending mails which only have few recipients, it does not encounter this error.\r\n\r\nRemoving CompletableFuture.runAsync(), will send the mail notification and does not get this error... but it does not process it asynchronously.\r\n\r\nI would like to run this async without getting errors, for now, I am thinking of hitting the default timeout thus I am getting this error.\r\n\r\nIs there a default timeout for completable future runasync? If yes, how can I increase this timeout?\r\n\r\nBy the way, I am using JDK8 and upgrading the JDK is not an option.\r\n","title":"CompletableFuture runAsync gets error : There is no application attached to current thread ForkJoinPool.commonPool-worker-1","body":"<p>I use <code>CompletableFutre.runAsync()</code> to run the sending of mail notifications asynchronously, but instead of the sending of mails work, it is getting an error <code>There is no application attached to current thread ForkJoinPool.commonPool-worker-1</code>.</p>\n<pre><code>        // Process Service Request here\n        ...\n\n        // Run sending of mail notification asynchronously\n        CompletableFuture.runAsync(() -&gt; {\n            try {\n                sendMailNotification(customer.getId(), serviceRequest.getRequestNumber());\n            } catch (Exception e) {\n                _LOG.error(&quot;send notification failed : {}&quot;, e.getMessage());\n            }\n        });\n\n        ...\n\n        // Set UI changes after processing here\n</code></pre>\n<p>It is weird since there are similar calls that does not get an error and some did. Seems I only get this error when the sending of mail notification call takes longer (like many recipients, etc). For those sending mails which only have few recipients, it does not encounter this error.</p>\n<p>Removing CompletableFuture.runAsync(), will send the mail notification and does not get this error... but it does not process it asynchronously.</p>\n<p>I would like to run this async without getting errors, for now, I am thinking of hitting the default timeout thus I am getting this error.</p>\n<p>Is there a default timeout for completable future runasync? If yes, how can I increase this timeout?</p>\n<p>By the way, I am using JDK8 and upgrading the JDK is not an option.</p>\n"},{"tags":["java","javascript","encryption","md5"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1428420594,"post_id":29495049,"comment_id":47149523,"body_markdown":"You can&#39;t. MD5 is a _hash_ function, and hashes are one-way. (MD == Message Digest; not related to the fact that hash function implementations in Java implement `MessageDigest`: SHA1 is a hash too, and so are SHA256, SHA512, Blowfish etc)","body":"You can&#39;t. MD5 is a <i>hash</i> function, and hashes are one-way. (MD == Message Digest; not related to the fact that hash function implementations in Java implement <code>MessageDigest</code>: SHA1 is a hash too, and so are SHA256, SHA512, Blowfish etc)"},{"owner":{"account_id":1504382,"reputation":8300,"user_id":1408143,"display_name":"copeg"},"score":1,"creation_date":1428421062,"post_id":29495049,"comment_id":47149873,"body_markdown":"Are you using the MD5 hash as a cipher?","body":"Are you using the MD5 hash as a cipher?"}],"answers":[{"tags":[],"owner":{"account_id":2354988,"reputation":2177,"user_id":2063026,"accept_rate":100,"display_name":"vsnyc"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1428432624,"creation_date":1428420571,"answer_id":29495324,"question_id":29495049,"body_markdown":"MD5 is a *hash* (i.e. one-way transformation), so you can&#39;t decrypt it. You can compare a known hash with hash computed from a cleartext to verify validity of input. Java has inbuilt library for this. I have used this code below, adapt as necessary, also verify that your hashes generated in javascript have the same encoding.\r\n\r\n    import java.security.MessageDigest;    \r\n    import sun.misc.BASE64Encoder;\r\n    \r\n    public class MD5Sample {\r\n      /**\r\n       * Cipher for encode\r\n       */\r\n      private final MessageDigest md;\r\n    \r\n      public MD5Sample() throws SecurityException {\r\n        try {\r\n          md = MessageDigest.getInstance(&quot;MD5&quot;, &quot;SUN&quot;);\r\n        }catch(Exception se) {\r\n          throw new SecurityException(&quot;In MD5 constructor &quot; + se);\r\n        }\r\n      }\r\n    \r\n      public String encode(String in) throws Exception {\r\n        if (in == null) {\r\n          return null;\r\n        }\r\n        try {\r\n          byte[] raw = null;\r\n          byte[] stringBytes = null;\r\n          stringBytes = in.getBytes(&quot;UTF8&quot;);\r\n          synchronized(md) {\r\n            raw = md.digest(stringBytes);\r\n          }\r\n          BASE64Encoder encoder = new BASE64Encoder();\r\n          return encoder.encode(raw);\r\n        } catch (Exception se) {\r\n          throw new Exception(&quot;Exception while encoding &quot; + se);\r\n        }\r\n    \r\n      }\r\n    \r\n      public String decode(String in) {\r\n        throw new RuntimeException(&quot;NOT SUPPORTED&quot;);\r\n      }\r\n    \r\n      /**\r\n       * Test harness\r\n       * @param args\r\n       */\r\n      public static void main(String[] args) {\r\n         String clearText = &quot;apple&quot;;\r\n        try {\r\n          MD5Sample app = new MD5Sample();\r\n          String encryptedHash = app.encode(clearText);\r\n          System.out.println(encryptedHash);\r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n    \r\n      }\r\n    }\r\n","title":"How to decode/decrypt MD5 encryption using Java","body":"<p>MD5 is a <em>hash</em> (i.e. one-way transformation), so you can't decrypt it. You can compare a known hash with hash computed from a cleartext to verify validity of input. Java has inbuilt library for this. I have used this code below, adapt as necessary, also verify that your hashes generated in javascript have the same encoding.</p>\n\n<pre><code>import java.security.MessageDigest;    \nimport sun.misc.BASE64Encoder;\n\npublic class MD5Sample {\n  /**\n   * Cipher for encode\n   */\n  private final MessageDigest md;\n\n  public MD5Sample() throws SecurityException {\n    try {\n      md = MessageDigest.getInstance(\"MD5\", \"SUN\");\n    }catch(Exception se) {\n      throw new SecurityException(\"In MD5 constructor \" + se);\n    }\n  }\n\n  public String encode(String in) throws Exception {\n    if (in == null) {\n      return null;\n    }\n    try {\n      byte[] raw = null;\n      byte[] stringBytes = null;\n      stringBytes = in.getBytes(\"UTF8\");\n      synchronized(md) {\n        raw = md.digest(stringBytes);\n      }\n      BASE64Encoder encoder = new BASE64Encoder();\n      return encoder.encode(raw);\n    } catch (Exception se) {\n      throw new Exception(\"Exception while encoding \" + se);\n    }\n\n  }\n\n  public String decode(String in) {\n    throw new RuntimeException(\"NOT SUPPORTED\");\n  }\n\n  /**\n   * Test harness\n   * @param args\n   */\n  public static void main(String[] args) {\n     String clearText = \"apple\";\n    try {\n      MD5Sample app = new MD5Sample();\n      String encryptedHash = app.encode(clearText);\n      System.out.println(encryptedHash);\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29847542,"reputation":1,"user_id":22874255,"display_name":"Kamaleshwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700573890,"creation_date":1700573890,"answer_id":77523273,"question_id":29495049,"body_markdown":"    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.util.Base64;\r\n    \r\n    public class MD5Example {\r\n        public static void main(String[] args) {\r\n            String originalString = &quot;Hello, World!&quot;;\r\n    \r\n            try {\r\n                // Create MessageDigest instance for MD5\r\n                MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n    \r\n                // Add original string to the digest\r\n                md.update(originalString.getBytes());\r\n    \r\n                // Get the hash bytes\r\n                byte[] bytes = md.digest();\r\n    \r\n                // Convert it to hexadecimal format\r\n                StringBuilder sb = new StringBuilder();\r\n                for (int i = 0; i &lt; bytes.length; i++) {\r\n                    sb.append(Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\r\n                }\r\n    \r\n                // Get complete hash as a string\r\n                String generatedHash = sb.toString();\r\n    \r\n                // Convert hash to bytes\r\n                byte[] hashBytes = md.digest(generatedHash.getBytes());\r\n    \r\n                // Convert bytes to base64 encoded string\r\n                String base64EncodedHash = Base64.getEncoder().encodeToString(hashBytes);\r\n    \r\n                System.out.println(&quot;Original String: &quot; + originalString);\r\n                System.out.println(&quot;Generated Hash: &quot; + generatedHash);\r\n                System.out.println(&quot;Base64 Encoded Hash: &quot; + base64EncodedHash);\r\n    \r\n            } catch (NoSuchAlgorithmException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        \r\n\r\n","title":"How to decode/decrypt MD5 encryption using Java","body":"<pre><code>import java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Base64;\n\npublic class MD5Example {\n    public static void main(String[] args) {\n        String originalString = &quot;Hello, World!&quot;;\n\n        try {\n            // Create MessageDigest instance for MD5\n            MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);\n\n            // Add original string to the digest\n            md.update(originalString.getBytes());\n\n            // Get the hash bytes\n            byte[] bytes = md.digest();\n\n            // Convert it to hexadecimal format\n            StringBuilder sb = new StringBuilder();\n            for (int i = 0; i &lt; bytes.length; i++) {\n                sb.append(Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\n            }\n\n            // Get complete hash as a string\n            String generatedHash = sb.toString();\n\n            // Convert hash to bytes\n            byte[] hashBytes = md.digest(generatedHash.getBytes());\n\n            // Convert bytes to base64 encoded string\n            String base64EncodedHash = Base64.getEncoder().encodeToString(hashBytes);\n\n            System.out.println(&quot;Original String: &quot; + originalString);\n            System.out.println(&quot;Generated Hash: &quot; + generatedHash);\n            System.out.println(&quot;Base64 Encoded Hash: &quot; + base64EncodedHash);\n\n        } catch (NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        }\n    }\n    \n</code></pre>\n"}],"owner":{"account_id":5279747,"reputation":1029,"user_id":4215507,"accept_rate":78,"display_name":"error123456789"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53565,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29495324,"answer_count":2,"score":2,"last_activity_date":1700573890,"creation_date":1428419664,"question_id":29495049,"body_markdown":"I am using the ExtJS framework. I have a MD5 function in ***JavaScript*** to encrypt some JSON. My backend uses Java so I wanted to know how to decrypt an MD5 Javascript encryption using ***Java***?\r\n\r\nHere is the JS equiv of MD5 function that I am using:\r\n\r\n    Ext.util.MD5 = function(s,raw,hexcase,chrsz) {\r\n            raw = raw || false;     \r\n            hexcase = hexcase || false;\r\n            chrsz = chrsz || 8;\r\n    \r\n            function safe_add(x, y){\r\n                    var lsw = (x &amp; 0xFFFF) + (y &amp; 0xFFFF);\r\n                    var msw = (x &gt;&gt; 16) + (y &gt;&gt; 16) + (lsw &gt;&gt; 16);\r\n                    return (msw &lt;&lt; 16) | (lsw &amp; 0xFFFF);\r\n            }\r\n            function bit_rol(num, cnt){\r\n                    return (num &lt;&lt; cnt) | (num &gt;&gt;&gt; (32 - cnt));\r\n            }\r\n            function md5_cmn(q, a, b, x, s, t){\r\n                    return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s),b);\r\n            }\r\n            function md5_ff(a, b, c, d, x, s, t){\r\n                    return md5_cmn((b &amp; c) | ((~b) &amp; d), a, b, x, s, t);\r\n            }\r\n            function md5_gg(a, b, c, d, x, s, t){\r\n                    return md5_cmn((b &amp; d) | (c &amp; (~d)), a, b, x, s, t);\r\n            }\r\n            function md5_hh(a, b, c, d, x, s, t){\r\n                    return md5_cmn(b ^ c ^ d, a, b, x, s, t);\r\n            }\r\n            function md5_ii(a, b, c, d, x, s, t){\r\n                    return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);\r\n            }\r\n    \r\n            function core_md5(x, len){\r\n                    x[len &gt;&gt; 5] |= 0x80 &lt;&lt; ((len) % 32);\r\n                    x[(((len + 64) &gt;&gt;&gt; 9) &lt;&lt; 4) + 14] = len;\r\n                    var a =  1732584193;\r\n                    var b = -271733879;\r\n                    var c = -1732584194;\r\n                    var d =  271733878;\r\n                    for(var i = 0; i &lt; x.length; i += 16){\r\n                            var olda = a;\r\n                            var oldb = b;\r\n                            var oldc = c;\r\n                            var oldd = d;\r\n                            a = md5_ff(a, b, c, d, x[i+ 0], 7 , -680876936);\r\n                            d = md5_ff(d, a, b, c, x[i+ 1], 12, -389564586);\r\n                            c = md5_ff(c, d, a, b, x[i+ 2], 17,  606105819);\r\n                            b = md5_ff(b, c, d, a, x[i+ 3], 22, -1044525330);\r\n                            a = md5_ff(a, b, c, d, x[i+ 4], 7 , -176418897);\r\n                            d = md5_ff(d, a, b, c, x[i+ 5], 12,  1200080426);\r\n                            c = md5_ff(c, d, a, b, x[i+ 6], 17, -1473231341);\r\n                            b = md5_ff(b, c, d, a, x[i+ 7], 22, -45705983);\r\n                            a = md5_ff(a, b, c, d, x[i+ 8], 7 ,  1770035416);\r\n                            d = md5_ff(d, a, b, c, x[i+ 9], 12, -1958414417);\r\n                            c = md5_ff(c, d, a, b, x[i+10], 17, -42063);\r\n                            b = md5_ff(b, c, d, a, x[i+11], 22, -1990404162);\r\n                            a = md5_ff(a, b, c, d, x[i+12], 7 ,  1804603682);\r\n                            d = md5_ff(d, a, b, c, x[i+13], 12, -40341101);\r\n                            c = md5_ff(c, d, a, b, x[i+14], 17, -1502002290);\r\n                            b = md5_ff(b, c, d, a, x[i+15], 22,  1236535329);\r\n                            a = md5_gg(a, b, c, d, x[i+ 1], 5 , -165796510);\r\n                            d = md5_gg(d, a, b, c, x[i+ 6], 9 , -1069501632);\r\n                            c = md5_gg(c, d, a, b, x[i+11], 14,  643717713);\r\n                            b = md5_gg(b, c, d, a, x[i+ 0], 20, -373897302);\r\n                            a = md5_gg(a, b, c, d, x[i+ 5], 5 , -701558691);\r\n                            d = md5_gg(d, a, b, c, x[i+10], 9 ,  38016083);\r\n                            c = md5_gg(c, d, a, b, x[i+15], 14, -660478335);\r\n                            b = md5_gg(b, c, d, a, x[i+ 4], 20, -405537848);\r\n                            a = md5_gg(a, b, c, d, x[i+ 9], 5 ,  568446438);\r\n                            d = md5_gg(d, a, b, c, x[i+14], 9 , -1019803690);\r\n                            c = md5_gg(c, d, a, b, x[i+ 3], 14, -187363961);\r\n                            b = md5_gg(b, c, d, a, x[i+ 8], 20,  1163531501);\r\n                            a = md5_gg(a, b, c, d, x[i+13], 5 , -1444681467);\r\n                            d = md5_gg(d, a, b, c, x[i+ 2], 9 , -51403784);\r\n                            c = md5_gg(c, d, a, b, x[i+ 7], 14,  1735328473);\r\n                            b = md5_gg(b, c, d, a, x[i+12], 20, -1926607734);\r\n                            a = md5_hh(a, b, c, d, x[i+ 5], 4 , -378558);\r\n                            d = md5_hh(d, a, b, c, x[i+ 8], 11, -2022574463);\r\n                            c = md5_hh(c, d, a, b, x[i+11], 16,  1839030562);\r\n                            b = md5_hh(b, c, d, a, x[i+14], 23, -35309556);\r\n                            a = md5_hh(a, b, c, d, x[i+ 1], 4 , -1530992060);\r\n                            d = md5_hh(d, a, b, c, x[i+ 4], 11,  1272893353);\r\n                            c = md5_hh(c, d, a, b, x[i+ 7], 16, -155497632);\r\n                            b = md5_hh(b, c, d, a, x[i+10], 23, -1094730640);\r\n                            a = md5_hh(a, b, c, d, x[i+13], 4 ,  681279174);\r\n                            d = md5_hh(d, a, b, c, x[i+ 0], 11, -358537222);\r\n                            c = md5_hh(c, d, a, b, x[i+ 3], 16, -722521979);\r\n                            b = md5_hh(b, c, d, a, x[i+ 6], 23,  76029189);\r\n                            a = md5_hh(a, b, c, d, x[i+ 9], 4 , -640364487);\r\n                            d = md5_hh(d, a, b, c, x[i+12], 11, -421815835);\r\n                            c = md5_hh(c, d, a, b, x[i+15], 16,  530742520);\r\n                            b = md5_hh(b, c, d, a, x[i+ 2], 23, -995338651);\r\n                            a = md5_ii(a, b, c, d, x[i+ 0], 6 , -198630844);\r\n                            d = md5_ii(d, a, b, c, x[i+ 7], 10,  1126891415);\r\n                            c = md5_ii(c, d, a, b, x[i+14], 15, -1416354905);\r\n                            b = md5_ii(b, c, d, a, x[i+ 5], 21, -57434055);\r\n                            a = md5_ii(a, b, c, d, x[i+12], 6 ,  1700485571);\r\n                            d = md5_ii(d, a, b, c, x[i+ 3], 10, -1894986606);\r\n                            c = md5_ii(c, d, a, b, x[i+10], 15, -1051523);\r\n                            b = md5_ii(b, c, d, a, x[i+ 1], 21, -2054922799);\r\n                            a = md5_ii(a, b, c, d, x[i+ 8], 6 ,  1873313359);\r\n                            d = md5_ii(d, a, b, c, x[i+15], 10, -30611744);\r\n                            c = md5_ii(c, d, a, b, x[i+ 6], 15, -1560198380);\r\n                            b = md5_ii(b, c, d, a, x[i+13], 21,  1309151649);\r\n                            a = md5_ii(a, b, c, d, x[i+ 4], 6 , -145523070);\r\n                            d = md5_ii(d, a, b, c, x[i+11], 10, -1120210379);\r\n                            c = md5_ii(c, d, a, b, x[i+ 2], 15,  718787259);\r\n                            b = md5_ii(b, c, d, a, x[i+ 9], 21, -343485551);\r\n                            a = safe_add(a, olda);\r\n                            b = safe_add(b, oldb);\r\n                            c = safe_add(c, oldc);\r\n                            d = safe_add(d, oldd);\r\n                    }\r\n                    return [a, b, c, d];\r\n            }\r\n            function str2binl(str){\r\n                    var bin = [];\r\n                    var mask = (1 &lt;&lt; chrsz) - 1;\r\n                    for(var i = 0; i &lt; str.length * chrsz; i += chrsz) {\r\n                            bin[i&gt;&gt;5] |= (str.charCodeAt(i / chrsz) &amp; mask) &lt;&lt; (i%32);\r\n                    }\r\n                    return bin;\r\n            }\r\n            function binl2str(bin){\r\n                    var str = &quot;&quot;;\r\n                    var mask = (1 &lt;&lt; chrsz) - 1;\r\n                    for(var i = 0; i &lt; bin.length * 32; i += chrsz) {\r\n                            str += String.fromCharCode((bin[i&gt;&gt;5] &gt;&gt;&gt; (i % 32)) &amp; mask);\r\n                    }\r\n                    return str;\r\n            }\r\n            \r\n            function binl2hex(binarray){\r\n                    var hex_tab = hexcase ? &quot;0123456789ABCDEF&quot; : &quot;0123456789abcdef&quot;;\r\n                    var str = &quot;&quot;;\r\n                    for(var i = 0; i &lt; binarray.length * 4; i++) {\r\n                            str += hex_tab.charAt((binarray[i&gt;&gt;2] &gt;&gt; ((i%4)*8+4)) &amp; 0xF) + hex_tab.charAt((binarray[i&gt;&gt;2] &gt;&gt; ((i%4)*8  )) &amp; 0xF);\r\n                    }\r\n                    return str;\r\n            }\r\n            return (raw ? binl2str(core_md5(str2binl(s), s.length * chrsz)) : binl2hex(core_md5(str2binl(s), s.length * chrsz))     );\r\n    };\r\n","title":"How to decode/decrypt MD5 encryption using Java","body":"<p>I am using the ExtJS framework. I have a MD5 function in <strong><em>JavaScript</em></strong> to encrypt some JSON. My backend uses Java so I wanted to know how to decrypt an MD5 Javascript encryption using <strong><em>Java</em></strong>?</p>\n\n<p>Here is the JS equiv of MD5 function that I am using:</p>\n\n<pre><code>Ext.util.MD5 = function(s,raw,hexcase,chrsz) {\n        raw = raw || false;     \n        hexcase = hexcase || false;\n        chrsz = chrsz || 8;\n\n        function safe_add(x, y){\n                var lsw = (x &amp; 0xFFFF) + (y &amp; 0xFFFF);\n                var msw = (x &gt;&gt; 16) + (y &gt;&gt; 16) + (lsw &gt;&gt; 16);\n                return (msw &lt;&lt; 16) | (lsw &amp; 0xFFFF);\n        }\n        function bit_rol(num, cnt){\n                return (num &lt;&lt; cnt) | (num &gt;&gt;&gt; (32 - cnt));\n        }\n        function md5_cmn(q, a, b, x, s, t){\n                return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s),b);\n        }\n        function md5_ff(a, b, c, d, x, s, t){\n                return md5_cmn((b &amp; c) | ((~b) &amp; d), a, b, x, s, t);\n        }\n        function md5_gg(a, b, c, d, x, s, t){\n                return md5_cmn((b &amp; d) | (c &amp; (~d)), a, b, x, s, t);\n        }\n        function md5_hh(a, b, c, d, x, s, t){\n                return md5_cmn(b ^ c ^ d, a, b, x, s, t);\n        }\n        function md5_ii(a, b, c, d, x, s, t){\n                return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);\n        }\n\n        function core_md5(x, len){\n                x[len &gt;&gt; 5] |= 0x80 &lt;&lt; ((len) % 32);\n                x[(((len + 64) &gt;&gt;&gt; 9) &lt;&lt; 4) + 14] = len;\n                var a =  1732584193;\n                var b = -271733879;\n                var c = -1732584194;\n                var d =  271733878;\n                for(var i = 0; i &lt; x.length; i += 16){\n                        var olda = a;\n                        var oldb = b;\n                        var oldc = c;\n                        var oldd = d;\n                        a = md5_ff(a, b, c, d, x[i+ 0], 7 , -680876936);\n                        d = md5_ff(d, a, b, c, x[i+ 1], 12, -389564586);\n                        c = md5_ff(c, d, a, b, x[i+ 2], 17,  606105819);\n                        b = md5_ff(b, c, d, a, x[i+ 3], 22, -1044525330);\n                        a = md5_ff(a, b, c, d, x[i+ 4], 7 , -176418897);\n                        d = md5_ff(d, a, b, c, x[i+ 5], 12,  1200080426);\n                        c = md5_ff(c, d, a, b, x[i+ 6], 17, -1473231341);\n                        b = md5_ff(b, c, d, a, x[i+ 7], 22, -45705983);\n                        a = md5_ff(a, b, c, d, x[i+ 8], 7 ,  1770035416);\n                        d = md5_ff(d, a, b, c, x[i+ 9], 12, -1958414417);\n                        c = md5_ff(c, d, a, b, x[i+10], 17, -42063);\n                        b = md5_ff(b, c, d, a, x[i+11], 22, -1990404162);\n                        a = md5_ff(a, b, c, d, x[i+12], 7 ,  1804603682);\n                        d = md5_ff(d, a, b, c, x[i+13], 12, -40341101);\n                        c = md5_ff(c, d, a, b, x[i+14], 17, -1502002290);\n                        b = md5_ff(b, c, d, a, x[i+15], 22,  1236535329);\n                        a = md5_gg(a, b, c, d, x[i+ 1], 5 , -165796510);\n                        d = md5_gg(d, a, b, c, x[i+ 6], 9 , -1069501632);\n                        c = md5_gg(c, d, a, b, x[i+11], 14,  643717713);\n                        b = md5_gg(b, c, d, a, x[i+ 0], 20, -373897302);\n                        a = md5_gg(a, b, c, d, x[i+ 5], 5 , -701558691);\n                        d = md5_gg(d, a, b, c, x[i+10], 9 ,  38016083);\n                        c = md5_gg(c, d, a, b, x[i+15], 14, -660478335);\n                        b = md5_gg(b, c, d, a, x[i+ 4], 20, -405537848);\n                        a = md5_gg(a, b, c, d, x[i+ 9], 5 ,  568446438);\n                        d = md5_gg(d, a, b, c, x[i+14], 9 , -1019803690);\n                        c = md5_gg(c, d, a, b, x[i+ 3], 14, -187363961);\n                        b = md5_gg(b, c, d, a, x[i+ 8], 20,  1163531501);\n                        a = md5_gg(a, b, c, d, x[i+13], 5 , -1444681467);\n                        d = md5_gg(d, a, b, c, x[i+ 2], 9 , -51403784);\n                        c = md5_gg(c, d, a, b, x[i+ 7], 14,  1735328473);\n                        b = md5_gg(b, c, d, a, x[i+12], 20, -1926607734);\n                        a = md5_hh(a, b, c, d, x[i+ 5], 4 , -378558);\n                        d = md5_hh(d, a, b, c, x[i+ 8], 11, -2022574463);\n                        c = md5_hh(c, d, a, b, x[i+11], 16,  1839030562);\n                        b = md5_hh(b, c, d, a, x[i+14], 23, -35309556);\n                        a = md5_hh(a, b, c, d, x[i+ 1], 4 , -1530992060);\n                        d = md5_hh(d, a, b, c, x[i+ 4], 11,  1272893353);\n                        c = md5_hh(c, d, a, b, x[i+ 7], 16, -155497632);\n                        b = md5_hh(b, c, d, a, x[i+10], 23, -1094730640);\n                        a = md5_hh(a, b, c, d, x[i+13], 4 ,  681279174);\n                        d = md5_hh(d, a, b, c, x[i+ 0], 11, -358537222);\n                        c = md5_hh(c, d, a, b, x[i+ 3], 16, -722521979);\n                        b = md5_hh(b, c, d, a, x[i+ 6], 23,  76029189);\n                        a = md5_hh(a, b, c, d, x[i+ 9], 4 , -640364487);\n                        d = md5_hh(d, a, b, c, x[i+12], 11, -421815835);\n                        c = md5_hh(c, d, a, b, x[i+15], 16,  530742520);\n                        b = md5_hh(b, c, d, a, x[i+ 2], 23, -995338651);\n                        a = md5_ii(a, b, c, d, x[i+ 0], 6 , -198630844);\n                        d = md5_ii(d, a, b, c, x[i+ 7], 10,  1126891415);\n                        c = md5_ii(c, d, a, b, x[i+14], 15, -1416354905);\n                        b = md5_ii(b, c, d, a, x[i+ 5], 21, -57434055);\n                        a = md5_ii(a, b, c, d, x[i+12], 6 ,  1700485571);\n                        d = md5_ii(d, a, b, c, x[i+ 3], 10, -1894986606);\n                        c = md5_ii(c, d, a, b, x[i+10], 15, -1051523);\n                        b = md5_ii(b, c, d, a, x[i+ 1], 21, -2054922799);\n                        a = md5_ii(a, b, c, d, x[i+ 8], 6 ,  1873313359);\n                        d = md5_ii(d, a, b, c, x[i+15], 10, -30611744);\n                        c = md5_ii(c, d, a, b, x[i+ 6], 15, -1560198380);\n                        b = md5_ii(b, c, d, a, x[i+13], 21,  1309151649);\n                        a = md5_ii(a, b, c, d, x[i+ 4], 6 , -145523070);\n                        d = md5_ii(d, a, b, c, x[i+11], 10, -1120210379);\n                        c = md5_ii(c, d, a, b, x[i+ 2], 15,  718787259);\n                        b = md5_ii(b, c, d, a, x[i+ 9], 21, -343485551);\n                        a = safe_add(a, olda);\n                        b = safe_add(b, oldb);\n                        c = safe_add(c, oldc);\n                        d = safe_add(d, oldd);\n                }\n                return [a, b, c, d];\n        }\n        function str2binl(str){\n                var bin = [];\n                var mask = (1 &lt;&lt; chrsz) - 1;\n                for(var i = 0; i &lt; str.length * chrsz; i += chrsz) {\n                        bin[i&gt;&gt;5] |= (str.charCodeAt(i / chrsz) &amp; mask) &lt;&lt; (i%32);\n                }\n                return bin;\n        }\n        function binl2str(bin){\n                var str = \"\";\n                var mask = (1 &lt;&lt; chrsz) - 1;\n                for(var i = 0; i &lt; bin.length * 32; i += chrsz) {\n                        str += String.fromCharCode((bin[i&gt;&gt;5] &gt;&gt;&gt; (i % 32)) &amp; mask);\n                }\n                return str;\n        }\n\n        function binl2hex(binarray){\n                var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\n                var str = \"\";\n                for(var i = 0; i &lt; binarray.length * 4; i++) {\n                        str += hex_tab.charAt((binarray[i&gt;&gt;2] &gt;&gt; ((i%4)*8+4)) &amp; 0xF) + hex_tab.charAt((binarray[i&gt;&gt;2] &gt;&gt; ((i%4)*8  )) &amp; 0xF);\n                }\n                return str;\n        }\n        return (raw ? binl2str(core_md5(str2binl(s), s.length * chrsz)) : binl2hex(core_md5(str2binl(s), s.length * chrsz))     );\n};\n</code></pre>\n"},{"tags":["java","spring-boot","rest","exception","controller-advice"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1700402756,"post_id":77510970,"comment_id":136647473,"body_markdown":"The question is not spelled correctly.","body":"The question is not spelled correctly."},{"owner":{"account_id":6932559,"reputation":9427,"user_id":5321614,"accept_rate":89,"display_name":"Prafulla Kumar Sahu"},"score":1,"creation_date":1700479502,"post_id":77510970,"comment_id":136655518,"body_markdown":"If it is a controller level exception and not from filters, you can handle it in controller advice, if you are getting any error on doing it, can you please specify it?","body":"If it is a controller level exception and not from filters, you can handle it in controller advice, if you are getting any error on doing it, can you please specify it?"},{"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1700566952,"post_id":77510970,"comment_id":136667995,"body_markdown":"@PrafullaKumarSahu I want to handle the case when the URL is not spelled correctly, for example the endpoint should be /website, and the client app make a request to /websit","body":"@PrafullaKumarSahu I want to handle the case when the URL is not spelled correctly, for example the endpoint should be /website, and the client app make a request to /websit"},{"owner":{"account_id":6932559,"reputation":9427,"user_id":5321614,"accept_rate":89,"display_name":"Prafulla Kumar Sahu"},"score":1,"creation_date":1700567305,"post_id":77510970,"comment_id":136668057,"body_markdown":"@elvis I think it redirects to /error page and their you can override the response. https://www.baeldung.com/spring-boot-custom-error-page","body":"@elvis I think it redirects to /error page and their you can override the response. <a href=\"https://www.baeldung.com/spring-boot-custom-error-page\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-custom-error-page</a>"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700573736,"creation_date":1700568174,"answer_id":77522656,"question_id":77510970,"body_markdown":"ControllerAdvice handles only exceptions that originate from within some end-point method and are not cought. If your URL is misspelled, than obviously your code did not yet enter any of the end-points and thus the exception will not be handled by ControllerAdvice. ","title":"How to catch NotFoundException with ControllerAdvice in Spring Boot?","body":"<p>ControllerAdvice handles only exceptions that originate from within some end-point method and are not cought. If your URL is misspelled, than obviously your code did not yet enter any of the end-points and thus the exception will not be handled by ControllerAdvice.</p>\n"}],"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77522656,"answer_count":1,"score":-1,"last_activity_date":1700573736,"creation_date":1700401323,"question_id":77510970,"body_markdown":"I&#39;m working at a Spring Boot project and I want to handle the exceptions for the REST API using `@ControllerAdvice`. And I want to handle the case when the endpoint is not spelled correctly. For example the endpoint should be `http://localhost:8080/website` and the client app makes a mistake and call the endpoint `http://localhost:8080/websit` and right now I get that response in the browser: \r\n\r\nHere is the response that I get now:\r\n\r\n    Whitelabel Error Page\r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n    \r\n    Sun Nov 19 15:31:33 EET 2023\r\n    There was an unexpected error (type=Not Found, status=404).\r\n\r\nI want to know if I can handle it with `@ControllerAdvice` and I don&#39;t know what kind of `NotFoundException` to catch in the `ControllerAdvice` class.\r\n\r\nControllerAdvice class:\r\n\r\n    import com.ds.ecommerce.exception.PriceNotFoundException;\r\n    import javassist.NotFoundException;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    \r\n    import javax.xml.bind.ValidationException;\r\n    \r\n    @Slf4j\r\n    @ControllerAdvice\r\n    public class PricesGlobalExceptionHandler {\r\n        @ResponseBody\r\n        @ExceptionHandler\r\n        @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n        public ErrorDTO handleException(Exception exception) {\r\n            log.error(exception.getMessage(), exception);\r\n            return ErrorDTO.builder()\r\n                    .code(HttpStatus.INTERNAL_SERVER_ERROR.getReasonPhrase())\r\n                    .message(&quot;Unexpected error!&quot;)\r\n                    .build();\r\n        }\r\n    \r\n        @ResponseBody\r\n        @ExceptionHandler(value = {ValidationException.class})\r\n        @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n        public ErrorDTO handleException(ValidationException validationException) {\r\n            String exceptionMessage = validationException.getMessage();\r\n            log.error(exceptionMessage, validationException);\r\n            return ErrorDTO.builder()\r\n                    .code(HttpStatus.BAD_REQUEST.getReasonPhrase())\r\n                    .message(exceptionMessage)\r\n                    .build();\r\n        }\r\n    \r\n        @ResponseBody\r\n        @ExceptionHandler(value = {PriceNotFoundException.class})\r\n        @ResponseStatus(HttpStatus.NOT_FOUND)\r\n        public ErrorDTO handleException(PriceNotFoundException priceNotFoundException) {\r\n            String exceptionMessage = priceNotFoundException.getMessage();\r\n            log.error(exceptionMessage, priceNotFoundException);\r\n            return ErrorDTO.builder()\r\n                    .code(HttpStatus.NOT_FOUND.getReasonPhrase())\r\n                    .message(exceptionMessage)\r\n                    .build();\r\n        }\r\n    \r\n        @ResponseBody\r\n        @ExceptionHandler(value = {NotFoundException.class})\r\n        @ResponseStatus(HttpStatus.NOT_FOUND)\r\n        public ErrorDTO handleException(NotFoundException notFoundException) {\r\n            String exceptionMessage = notFoundException.getMessage();\r\n            log.error(exceptionMessage, notFoundException);\r\n            return ErrorDTO.builder()\r\n                    .code(HttpStatus.NOT_FOUND.getReasonPhrase())\r\n                    .message(exceptionMessage)\r\n                    .build();\r\n        }\r\n    }\r\n\r\nI think I&#39;m not using the correct `NotFoundException` class to catch it. \r\nThank you!","title":"How to catch NotFoundException with ControllerAdvice in Spring Boot?","body":"<p>I'm working at a Spring Boot project and I want to handle the exceptions for the REST API using <code>@ControllerAdvice</code>. And I want to handle the case when the endpoint is not spelled correctly. For example the endpoint should be <code>http://localhost:8080/website</code> and the client app makes a mistake and call the endpoint <code>http://localhost:8080/websit</code> and right now I get that response in the browser:</p>\n<p>Here is the response that I get now:</p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nSun Nov 19 15:31:33 EET 2023\nThere was an unexpected error (type=Not Found, status=404).\n</code></pre>\n<p>I want to know if I can handle it with <code>@ControllerAdvice</code> and I don't know what kind of <code>NotFoundException</code> to catch in the <code>ControllerAdvice</code> class.</p>\n<p>ControllerAdvice class:</p>\n<pre><code>import com.ds.ecommerce.exception.PriceNotFoundException;\nimport javassist.NotFoundException;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\nimport javax.xml.bind.ValidationException;\n\n@Slf4j\n@ControllerAdvice\npublic class PricesGlobalExceptionHandler {\n    @ResponseBody\n    @ExceptionHandler\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    public ErrorDTO handleException(Exception exception) {\n        log.error(exception.getMessage(), exception);\n        return ErrorDTO.builder()\n                .code(HttpStatus.INTERNAL_SERVER_ERROR.getReasonPhrase())\n                .message(&quot;Unexpected error!&quot;)\n                .build();\n    }\n\n    @ResponseBody\n    @ExceptionHandler(value = {ValidationException.class})\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public ErrorDTO handleException(ValidationException validationException) {\n        String exceptionMessage = validationException.getMessage();\n        log.error(exceptionMessage, validationException);\n        return ErrorDTO.builder()\n                .code(HttpStatus.BAD_REQUEST.getReasonPhrase())\n                .message(exceptionMessage)\n                .build();\n    }\n\n    @ResponseBody\n    @ExceptionHandler(value = {PriceNotFoundException.class})\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    public ErrorDTO handleException(PriceNotFoundException priceNotFoundException) {\n        String exceptionMessage = priceNotFoundException.getMessage();\n        log.error(exceptionMessage, priceNotFoundException);\n        return ErrorDTO.builder()\n                .code(HttpStatus.NOT_FOUND.getReasonPhrase())\n                .message(exceptionMessage)\n                .build();\n    }\n\n    @ResponseBody\n    @ExceptionHandler(value = {NotFoundException.class})\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    public ErrorDTO handleException(NotFoundException notFoundException) {\n        String exceptionMessage = notFoundException.getMessage();\n        log.error(exceptionMessage, notFoundException);\n        return ErrorDTO.builder()\n                .code(HttpStatus.NOT_FOUND.getReasonPhrase())\n                .message(exceptionMessage)\n                .build();\n    }\n}\n</code></pre>\n<p>I think I'm not using the correct <code>NotFoundException</code> class to catch it.\nThank you!</p>\n"},{"tags":["java","refactoring"],"comments":[{"owner":{"account_id":20847162,"reputation":894,"user_id":15312420,"display_name":"Mehdi Charife"},"score":1,"creation_date":1700517446,"post_id":77519122,"comment_id":136662236,"body_markdown":"You might want to &quot;refactor&quot; the `bool[A/B/C]` first.","body":"You might want to &quot;refactor&quot; the <code>bool[A&#47;B&#47;C]</code> first."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1700524794,"post_id":77519122,"comment_id":136663057,"body_markdown":"Provide some more information about the abstraction.  What are the values, and how do they pertain to the execution of this function?  Paraphrasing might impede this.","body":"Provide some more information about the abstraction.  What are the values, and how do they pertain to the execution of this function?  Paraphrasing might impede this."}],"answers":[{"tags":[],"owner":{"account_id":20847162,"reputation":894,"user_id":15312420,"display_name":"Mehdi Charife"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700521010,"creation_date":1700520672,"answer_id":77519352,"question_id":77519122,"body_markdown":"It seems that you want to know whether a list of items satisfies a certain condition, and perhaps base what you would do next based on the outcome. I don&#39;t know how your list is being created, but if it is possible, you could have your own class that represents a list of items, for instance `ItemsList`. This could be a wrapper for a `List&lt;Item&gt;` with constraints on the kind and the distribution of `Item`s that you could append. One possibility is to have a method inside the `ItemsList` that does what you would like to do when the condition you want to check for isn&#39;t satisfied, and then create a sub-class that corresponds to a list of items that satisfies the same condition and override the method in question by doing what you would like to do when the condition is satisfied.","title":"Refactoring Java Code: Eliminating or Streamlining a Boolean Variable Outside a For Loop","body":"<p>It seems that you want to know whether a list of items satisfies a certain condition, and perhaps base what you would do next based on the outcome. I don't know how your list is being created, but if it is possible, you could have your own class that represents a list of items, for instance <code>ItemsList</code>. This could be a wrapper for a <code>List&lt;Item&gt;</code> with constraints on the kind and the distribution of <code>Item</code>s that you could append. One possibility is to have a method inside the <code>ItemsList</code> that does what you would like to do when the condition you want to check for isn't satisfied, and then create a sub-class that corresponds to a list of items that satisfies the same condition and override the method in question by doing what you would like to do when the condition is satisfied.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700522639,"creation_date":1700522639,"answer_id":77519483,"question_id":77519122,"body_markdown":"This refactoring, which is equivalent to your code, achieves the &quot;more concise&quot; goal:\r\n\r\n```\r\nboolean target = false;\r\nfor (Item item : list) {\r\n    if (item.boolA || target) {\r\n        target = !item.boolB &amp;&amp; item.boolC;\r\n    }\r\n}\r\n```\r\n","title":"Refactoring Java Code: Eliminating or Streamlining a Boolean Variable Outside a For Loop","body":"<p>This refactoring, which is equivalent to your code, achieves the &quot;more concise&quot; goal:</p>\n<pre><code>boolean target = false;\nfor (Item item : list) {\n    if (item.boolA || target) {\n        target = !item.boolB &amp;&amp; item.boolC;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700528052,"creation_date":1700528052,"answer_id":77519737,"question_id":77519122,"body_markdown":"**Solution 1: Fast Succeeding Method**\r\n \r\nYou can bail out of the loop once a `true` state is found:\r\n\r\n```\r\n    boolean target = fastSucceedTest(list);\r\n\r\n    private boolean fastSucceedTest(List&lt;Item&gt; list) {\r\n        for (Item item : list) {\r\n            if (item.boolA &amp;&amp; !item.boolB &amp;&amp; item.boolC) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n```","title":"Refactoring Java Code: Eliminating or Streamlining a Boolean Variable Outside a For Loop","body":"<p><strong>Solution 1: Fast Succeeding Method</strong></p>\n<p>You can bail out of the loop once a <code>true</code> state is found:</p>\n<pre><code>    boolean target = fastSucceedTest(list);\n\n    private boolean fastSucceedTest(List&lt;Item&gt; list) {\n        for (Item item : list) {\n            if (item.boolA &amp;&amp; !item.boolB &amp;&amp; item.boolC) {\n                return true;\n            }\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700528158,"creation_date":1700528158,"answer_id":77519742,"question_id":77519122,"body_markdown":"**Solution 2: Stream filtering**\r\n \r\nFilter all the elements find only the ones matching the boolean expression, if you find any, then the target is `true`.\r\n\r\n```\r\nboolean target = list.stream()\r\n     .filter(item -&gt; item.boolA &amp;&amp; !item.boolB &amp;&amp; item.boolC)\r\n     .count() &gt; 0;\r\n```","title":"Refactoring Java Code: Eliminating or Streamlining a Boolean Variable Outside a For Loop","body":"<p><strong>Solution 2: Stream filtering</strong></p>\n<p>Filter all the elements find only the ones matching the boolean expression, if you find any, then the target is <code>true</code>.</p>\n<pre><code>boolean target = list.stream()\n     .filter(item -&gt; item.boolA &amp;&amp; !item.boolB &amp;&amp; item.boolC)\n     .count() &gt; 0;\n</code></pre>\n"}],"owner":{"account_id":29952315,"reputation":13,"user_id":22954068,"display_name":"devdevdev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77519352,"answer_count":4,"score":0,"last_activity_date":1700573667,"creation_date":1700516988,"question_id":77519122,"body_markdown":"I am struggling with the following problem in my code:\r\n\r\n\r\n```\r\nboolean target = false;\r\nfor (Item item : list) {\r\n  if (item.boolA || target == true) {\r\n    if (item.boolB) {\r\n      target = false;\r\n    } else if (item.boolC) {\r\n      target = true;\r\n    } else {\r\n      target = false;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI want to eliminate or refactor the &#39;target&#39; variable outside the for loop, possibly by moving it into a method to make the code more concise. Am I stuck on a problem that has no solution?\r\n\r\nI finally tried asking ChatGPT for assistance, but it didn&#39;t yield the results I was expecting.","title":"Refactoring Java Code: Eliminating or Streamlining a Boolean Variable Outside a For Loop","body":"<p>I am struggling with the following problem in my code:</p>\n<pre><code>boolean target = false;\nfor (Item item : list) {\n  if (item.boolA || target == true) {\n    if (item.boolB) {\n      target = false;\n    } else if (item.boolC) {\n      target = true;\n    } else {\n      target = false;\n    }\n  }\n}\n</code></pre>\n<p>I want to eliminate or refactor the 'target' variable outside the for loop, possibly by moving it into a method to make the code more concise. Am I stuck on a problem that has no solution?</p>\n<p>I finally tried asking ChatGPT for assistance, but it didn't yield the results I was expecting.</p>\n"},{"tags":["java","hibernate","maven","jpa","liquibase"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":1,"creation_date":1694713039,"post_id":77106594,"comment_id":135930937,"body_markdown":"&#39;Can you help me understand what dependencies the plugin needs?&#39; It&#39;s super easy to do it yourself. Have a look at the &#39;dependencies&#39; section of the mvnrepository.com website entry for the plugin. However, seeing the error message, it is quite likely that the appropriate version of Hibernate Validator is what it needs","body":"&#39;Can you help me understand what dependencies the plugin needs?&#39; It&#39;s super easy to do it yourself. Have a look at the &#39;dependencies&#39; section of the mvnrepository.com website entry for the plugin. However, seeing the error message, it is quite likely that the appropriate version of Hibernate Validator is what it needs"},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694714464,"post_id":77106594,"comment_id":135931223,"body_markdown":"Are there any reasons why you define the version of hibernate-validator yourself? because it&#39;s already defined via the parent (yes the version for sb 3.1.1 ) is not the one you have defined that&#39;s exactly why I&#39;m asking? It might better to go with the versions of SB itself instead manually defining versions.. Also I would recommend to use the latest version of liquibase ...","body":"Are there any reasons why you define the version of hibernate-validator yourself? because it&#39;s already defined via the parent (yes the version for sb 3.1.1 ) is not the one you have defined that&#39;s exactly why I&#39;m asking? It might better to go with the versions of SB itself instead manually defining versions.. Also I would recommend to use the latest version of liquibase ..."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694714699,"post_id":77106594,"comment_id":135931277,"body_markdown":"BTW: Spring Boot 3.2.0-M2 is using hibernate-validator version 8.0.1.Final .. so maybe it would be better to upgrade to SB 3.2.0-M2...","body":"BTW: Spring Boot 3.2.0-M2 is using hibernate-validator version 8.0.1.Final .. so maybe it would be better to upgrade to SB 3.2.0-M2..."}],"answers":[{"tags":[],"owner":{"account_id":29483397,"reputation":1,"user_id":22593837,"display_name":"Andrey Alexeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700573034,"creation_date":1700573014,"answer_id":77523180,"question_id":77106594,"body_markdown":"I faced literally same scenario, except I didn&#39;t use `mvn liquibase:update` nor `mvn liquibase:dropAll`. \r\n\r\nFor me it finds out that `liquibase-maven-plugin` has its own dependencies and `ValidationFactory` from `jakarta.persistence-api` was missing. I fixed the issue by adding dependency to `jakarta.persistence-api` explicitly to Liquibase plugin:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n        &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${liquibase.version}&lt;/version&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${jakarta.validation.api.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;","title":"liquibase-maven-plugin error jakarta/validation/ValidatorFactory when I use liquibase:diff","body":"<p>I faced literally same scenario, except I didn't use <code>mvn liquibase:update</code> nor <code>mvn liquibase:dropAll</code>.</p>\n<p>For me it finds out that <code>liquibase-maven-plugin</code> has its own dependencies and <code>ValidationFactory</code> from <code>jakarta.persistence-api</code> was missing. I fixed the issue by adding dependency to <code>jakarta.persistence-api</code> explicitly to Liquibase plugin:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n    &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${liquibase.version}&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;${jakarta.validation.api.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":21406109,"reputation":47,"user_id":15767286,"display_name":"dnlnfr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700573034,"creation_date":1694706932,"question_id":77106594,"body_markdown":"I&#39;m integrating liquibase-maven-plugin into my spring boot project.\r\n\r\nI can use the plugin for `mvn liquibase:update` and `mvn liquibase:dropAll` work correctly.\r\n\r\nBut when I try to use the `mvn liquibase:diff` to generate the new changelog files, I get this error that I&#39;m unable to resolve.\r\n\r\n`[ERROR] Failed to execute goal org.liquibase:liquibase-maven-plugin:4.23.2:diff (default-cli) on project work-with-liquibase: Execution default-cli of goal org.liquibase:liquibase-maven-plugin:4.23.2:diff failed: A required class was missing while executing org.liquibase:liquibase-maven-plugin:4.23.2:diff: jakarta/validation/ValidatorFactory`\r\n\r\n\r\nCan you help me understand what dependencies the plugin needs? Are there perhaps errors of incompatible versions? The documentation is not very clear about this.\r\nThanks in advance to anyone who will try to help me.\r\n\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.1&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n&lt;/parent&gt;\r\n\r\n\r\n&lt;properties&gt;\r\n        &lt;spring.boot.version&gt;${project.parent.version}&lt;/spring.boot.version&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;liquibase.maven&gt;4.23.2&lt;/liquibase.maven&gt;\r\n&lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.6.0&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${liquibase.maven}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${liquibase.maven}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;propertyFile&gt;src/main/resources/liquibase/liquibase-local.properties&lt;/propertyFile&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                        &lt;version&gt;42.6.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n                        &lt;version&gt;${liquibase.maven}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;liquibase-hibernate6&lt;/artifactId&gt;\r\n                        &lt;version&gt;${liquibase.maven}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\n**liquibase-local.properties**\r\n\r\n```\r\ndriver: org.postgresql.Driver\r\nurl=jdbc:postgresql://localhost:5432/my-db\r\nusername=username\r\npassword=password\r\n\r\nchangeLogFile=src/main/resources/liquibase/changelog/db.changelog-master.xml\r\noutputChangeLogFile=src/main/resources/liquibase/changelog/db.changelog-master.xml\r\ndiffChangeLogFile=src/main/resources/liquibase/changelog/db.changelog_new.sql\r\n\r\ndatabaseChangeLogTableName=myproject_databasechangelog\r\ndatabaseChangeLogLockTableName=myproject_databasechangeloglock\r\n\r\nreferenceUrl=hibernate:spring:com.myproject.entities?dialect=org.hibernate.dialect.PostgreSQLDialect&amp;hibernate.physical_naming_strategy=org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy\r\n\r\n#referenceUrl=hibernate:spring:com.myproject.entities?dialect=org.hibernate.dialect.PostgreSQLDialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\r\n```\r\n\r\n**db.changelog-master.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n\r\n&lt;databaseChangeLog\r\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\r\n        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd&quot;&gt;\r\n\r\n    &lt;include file=&quot;liquibase/changelog/db.changelog_v1.sql&quot; relativeToChangelogFile=&quot;false&quot;/&gt;\r\n    &lt;include file=&quot;liquibase/changelog/db.changelog_v2.sql&quot; relativeToChangelogFile=&quot;false&quot;/&gt;\r\n\r\n&lt;/databaseChangeLog&gt;\r\n```\r\n\r\n\r\n\r\n","title":"liquibase-maven-plugin error jakarta/validation/ValidatorFactory when I use liquibase:diff","body":"<p>I'm integrating liquibase-maven-plugin into my spring boot project.</p>\n<p>I can use the plugin for <code>mvn liquibase:update</code> and <code>mvn liquibase:dropAll</code> work correctly.</p>\n<p>But when I try to use the <code>mvn liquibase:diff</code> to generate the new changelog files, I get this error that I'm unable to resolve.</p>\n<p><code>[ERROR] Failed to execute goal org.liquibase:liquibase-maven-plugin:4.23.2:diff (default-cli) on project work-with-liquibase: Execution default-cli of goal org.liquibase:liquibase-maven-plugin:4.23.2:diff failed: A required class was missing while executing org.liquibase:liquibase-maven-plugin:4.23.2:diff: jakarta/validation/ValidatorFactory</code></p>\n<p>Can you help me understand what dependencies the plugin needs? Are there perhaps errors of incompatible versions? The documentation is not very clear about this.\nThanks in advance to anyone who will try to help me.</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt;\n&lt;/parent&gt;\n\n\n&lt;properties&gt;\n        &lt;spring.boot.version&gt;${project.parent.version}&lt;/spring.boot.version&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;liquibase.maven&gt;4.23.2&lt;/liquibase.maven&gt;\n&lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.6.0&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;8.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n            &lt;version&gt;${liquibase.maven}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n           &lt;plugin&gt;\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${liquibase.maven}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;propertyFile&gt;src/main/resources/liquibase/liquibase-local.properties&lt;/propertyFile&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n                        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n                        &lt;version&gt;42.6.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                        &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n                        &lt;version&gt;${liquibase.maven}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\n                        &lt;artifactId&gt;liquibase-hibernate6&lt;/artifactId&gt;\n                        &lt;version&gt;${liquibase.maven}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n                        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p><strong>liquibase-local.properties</strong></p>\n<pre><code>driver: org.postgresql.Driver\nurl=jdbc:postgresql://localhost:5432/my-db\nusername=username\npassword=password\n\nchangeLogFile=src/main/resources/liquibase/changelog/db.changelog-master.xml\noutputChangeLogFile=src/main/resources/liquibase/changelog/db.changelog-master.xml\ndiffChangeLogFile=src/main/resources/liquibase/changelog/db.changelog_new.sql\n\ndatabaseChangeLogTableName=myproject_databasechangelog\ndatabaseChangeLogLockTableName=myproject_databasechangeloglock\n\nreferenceUrl=hibernate:spring:com.myproject.entities?dialect=org.hibernate.dialect.PostgreSQLDialect&amp;hibernate.physical_naming_strategy=org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy\n\n#referenceUrl=hibernate:spring:com.myproject.entities?dialect=org.hibernate.dialect.PostgreSQLDialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\n</code></pre>\n<p><strong>db.changelog-master.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n\n&lt;databaseChangeLog\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\n        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd&quot;&gt;\n\n    &lt;include file=&quot;liquibase/changelog/db.changelog_v1.sql&quot; relativeToChangelogFile=&quot;false&quot;/&gt;\n    &lt;include file=&quot;liquibase/changelog/db.changelog_v2.sql&quot; relativeToChangelogFile=&quot;false&quot;/&gt;\n\n&lt;/databaseChangeLog&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","multithreading","rabbitmq","message-queue"],"owner":{"account_id":14873785,"reputation":5,"user_id":10740546,"display_name":"IphoneVore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700572984,"creation_date":1700560704,"question_id":77521868,"body_markdown":"I&#39;m trying to work with RabbitMQ, my idea was to use an app with all the strate Controller Service +impl as a message producer and create a service to consume messages from my queue made with RbMQ, but unfortunately it&#39;s not working as it expected. The strange thing is that my message can be read by my consumer if i send it from the client when the trigger is almost ready to get the message, when im using my api from swagger also, but if i send a message it look like my queue don&#39;t receive anything at the client interface. Im lost can you help me please ?\r\n\r\nKind regards\r\n\r\n\r\nhere is my controller \r\n```\r\npackage com.example.pattern.DataBroker.Api.Controller;\r\n\r\nimport com.example.pattern.DataBroker.Service.ServiceRB;\r\nimport com.example.pattern.DataBroker.Api.Dto.SupportDto;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.io.IOException;\r\nimport java.util.concurrent.TimeoutException;\r\n\r\n@RestController(&quot;Producer&quot;)\r\npublic class RabbitMqController {\r\n    private ServiceRB serviceRB;\r\n\r\n    public RabbitMqController(ServiceRB serviceRB) {\r\n        this.serviceRB = serviceRB;\r\n    }\r\n    @PostMapping(&quot;Message&quot;)\r\n    public ResponseEntity fillRabbitMQQueue(@RequestBody @Valid SupportDto dto) throws IOException, TimeoutException {\r\n        serviceRB.publishMessage(dto.getMessages());\r\n        return ResponseEntity.ok().build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nmy serviceImpl producer\r\n\r\n```\r\npackage com.example.pattern.DataBroker.Service.Impl;\r\n\r\n\r\nimport com.example.pattern.DataBroker.Service.ServiceRB;\r\nimport com.rabbitmq.client.Channel;\r\nimport com.rabbitmq.client.ConnectionFactory;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.io.IOException;\r\nimport java.util.List;\r\nimport java.util.concurrent.TimeoutException;\r\n\r\n@Service\r\npublic class ServiceRBImpl implements ServiceRB {\r\n    private final ConnectionFactory connectionFactory = new ConnectionFactory();\r\n    private static final String QUEUE_NAME = &quot;QueueTest&quot;;\r\n    private final static String EXCHANGE_NAME = &quot;ProducerToQueue&quot;;\r\n    private final ConsumeQueueImpl consumeQueue = new ConsumeQueueImpl();\r\n\r\n    public ServiceRBImpl() {\r\n    }\r\n\r\n    public Channel createChannel() throws IOException, TimeoutException {\r\n        final var host = &quot;localhost&quot;;\r\n        connectionFactory.setHost(host);\r\n       return connectionFactory.newConnection().createChannel();\r\n    }\r\n\r\n    public void publishMessage(List&lt;String&gt; messages) throws IOException, TimeoutException {\r\n        Channel channel = null;\r\n        try {\r\n            channel = createChannel();\r\n            Channel finalChannel = channel;\r\n            messages.stream().map(String::getBytes).forEach(messageBytes -&gt; {\r\n                try {\r\n                    finalChannel.basicPublish(EXCHANGE_NAME, QUEUE_NAME, null, messageBytes);\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n            // Compte des messages...\r\n        } finally {\r\n            if (channel != null &amp;&amp; channel.isOpen()) {\r\n                try {\r\n                    channel.close();\r\n                } catch (IOException | TimeoutException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nhere my consumer \r\n\r\n```\r\npackage com.example.pattern.DataBroker.Service.Impl;\r\n\r\nimport com.example.pattern.DataBroker.Service.ConsumerQueue;\r\nimport com.rabbitmq.client.Channel;\r\nimport com.rabbitmq.client.Connection;\r\nimport com.rabbitmq.client.ConnectionFactory;\r\nimport com.rabbitmq.client.DeliverCallback;\r\nimport java.io.IOException;\r\nimport java.util.concurrent.TimeoutException;\r\n\r\npublic class ConsumeQueueImpl implements ConsumerQueue {\r\n    private static final String QUEUE_NAME = &quot;QueueTest&quot;;\r\n    private final static String EXCHANGE_NAME = &quot;ProducerToQueue&quot;;\r\n\r\n    @Override\r\n    public void consumeMessages() throws IOException, TimeoutException {\r\n        ConnectionFactory factory = new ConnectionFactory();\r\n        factory.setHost(&quot;localhost&quot;);\r\n\r\n        try (Connection connection = factory.newConnection();\r\n             Channel channel = connection.createChannel()) {\r\n            channel.queueDeclare(QUEUE_NAME, true, false, false, null); // D&#233;claration de la file d&#39;attente\r\n            channel.exchangeDeclare(EXCHANGE_NAME, &quot;direct&quot;, true); // D&#233;clare l&#39;&#233;change avec la durabilit&#233;\r\n            channel.queueBind(QUEUE_NAME, EXCHANGE_NAME, &quot;&quot;);\r\n\r\n            System.out.println(&quot;En attente de messages...&quot;);\r\n\r\n            DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\r\n                String message = new String(delivery.getBody(), &quot;UTF-8&quot;);\r\n                System.out.println(&quot;Message re&#231;u : &#39;&quot; + message + &quot;&#39;&quot;);\r\n            };\r\n            channel.basicConsume(QUEUE_NAME, true, deliverCallback, consumerTag -&gt; {\r\n            });\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nand my trigger \r\n\r\n```\r\npackage com.example.pattern;\r\n\r\nimport com.example.pattern.DataBroker.Service.Impl.ConsumeQueueImpl;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\nimport javax.annotation.PostConstruct;\r\nimport java.io.IOException;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.TimeoutException;\r\n\r\n@SpringBootApplication\r\npublic class PatternApplication {\r\n\r\n    private final ConsumeQueueImpl consumeQueue = new ConsumeQueueImpl();\r\n\r\n    public static void main(String[] args) throws IOException, TimeoutException {\r\n        SpringApplication.run(PatternApplication.class, args);\r\n    }\r\n        @PostConstruct\r\n        public void scheduleMessageConsumption() {\r\n            ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\r\n            executorService.scheduleAtFixedRate(() -&gt; {\r\n                try {\r\n                    consumeQueue.consumeMessages();\r\n                } catch (IOException | TimeoutException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }, 0, 30, TimeUnit.SECONDS);\r\n        }\r\n    }\r\n\r\n\r\n\r\n```\r\n","title":"Publish message in queue RabbitMq not working , consumer read message randomnly","body":"<p>I'm trying to work with RabbitMQ, my idea was to use an app with all the strate Controller Service +impl as a message producer and create a service to consume messages from my queue made with RbMQ, but unfortunately it's not working as it expected. The strange thing is that my message can be read by my consumer if i send it from the client when the trigger is almost ready to get the message, when im using my api from swagger also, but if i send a message it look like my queue don't receive anything at the client interface. Im lost can you help me please ?</p>\n<p>Kind regards</p>\n<p>here is my controller</p>\n<pre><code>package com.example.pattern.DataBroker.Api.Controller;\n\nimport com.example.pattern.DataBroker.Service.ServiceRB;\nimport com.example.pattern.DataBroker.Api.Dto.SupportDto;\nimport jakarta.validation.Valid;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.io.IOException;\nimport java.util.concurrent.TimeoutException;\n\n@RestController(&quot;Producer&quot;)\npublic class RabbitMqController {\n    private ServiceRB serviceRB;\n\n    public RabbitMqController(ServiceRB serviceRB) {\n        this.serviceRB = serviceRB;\n    }\n    @PostMapping(&quot;Message&quot;)\n    public ResponseEntity fillRabbitMQQueue(@RequestBody @Valid SupportDto dto) throws IOException, TimeoutException {\n        serviceRB.publishMessage(dto.getMessages());\n        return ResponseEntity.ok().build();\n    }\n\n}\n</code></pre>\n<p>my serviceImpl producer</p>\n<pre><code>package com.example.pattern.DataBroker.Service.Impl;\n\n\nimport com.example.pattern.DataBroker.Service.ServiceRB;\nimport com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.ConnectionFactory;\nimport org.springframework.stereotype.Service;\n\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.concurrent.TimeoutException;\n\n@Service\npublic class ServiceRBImpl implements ServiceRB {\n    private final ConnectionFactory connectionFactory = new ConnectionFactory();\n    private static final String QUEUE_NAME = &quot;QueueTest&quot;;\n    private final static String EXCHANGE_NAME = &quot;ProducerToQueue&quot;;\n    private final ConsumeQueueImpl consumeQueue = new ConsumeQueueImpl();\n\n    public ServiceRBImpl() {\n    }\n\n    public Channel createChannel() throws IOException, TimeoutException {\n        final var host = &quot;localhost&quot;;\n        connectionFactory.setHost(host);\n       return connectionFactory.newConnection().createChannel();\n    }\n\n    public void publishMessage(List&lt;String&gt; messages) throws IOException, TimeoutException {\n        Channel channel = null;\n        try {\n            channel = createChannel();\n            Channel finalChannel = channel;\n            messages.stream().map(String::getBytes).forEach(messageBytes -&gt; {\n                try {\n                    finalChannel.basicPublish(EXCHANGE_NAME, QUEUE_NAME, null, messageBytes);\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            });\n            // Compte des messages...\n        } finally {\n            if (channel != null &amp;&amp; channel.isOpen()) {\n                try {\n                    channel.close();\n                } catch (IOException | TimeoutException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n\n}\n\n\n</code></pre>\n<p>here my consumer</p>\n<pre><code>package com.example.pattern.DataBroker.Service.Impl;\n\nimport com.example.pattern.DataBroker.Service.ConsumerQueue;\nimport com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.Connection;\nimport com.rabbitmq.client.ConnectionFactory;\nimport com.rabbitmq.client.DeliverCallback;\nimport java.io.IOException;\nimport java.util.concurrent.TimeoutException;\n\npublic class ConsumeQueueImpl implements ConsumerQueue {\n    private static final String QUEUE_NAME = &quot;QueueTest&quot;;\n    private final static String EXCHANGE_NAME = &quot;ProducerToQueue&quot;;\n\n    @Override\n    public void consumeMessages() throws IOException, TimeoutException {\n        ConnectionFactory factory = new ConnectionFactory();\n        factory.setHost(&quot;localhost&quot;);\n\n        try (Connection connection = factory.newConnection();\n             Channel channel = connection.createChannel()) {\n            channel.queueDeclare(QUEUE_NAME, true, false, false, null); // Déclaration de la file d'attente\n            channel.exchangeDeclare(EXCHANGE_NAME, &quot;direct&quot;, true); // Déclare l'échange avec la durabilité\n            channel.queueBind(QUEUE_NAME, EXCHANGE_NAME, &quot;&quot;);\n\n            System.out.println(&quot;En attente de messages...&quot;);\n\n            DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\n                String message = new String(delivery.getBody(), &quot;UTF-8&quot;);\n                System.out.println(&quot;Message reçu : '&quot; + message + &quot;'&quot;);\n            };\n            channel.basicConsume(QUEUE_NAME, true, deliverCallback, consumerTag -&gt; {\n            });\n        }\n    }\n\n}\n\n</code></pre>\n<p>and my trigger</p>\n<pre><code>package com.example.pattern;\n\nimport com.example.pattern.DataBroker.Service.Impl.ConsumeQueueImpl;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport javax.annotation.PostConstruct;\nimport java.io.IOException;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\n@SpringBootApplication\npublic class PatternApplication {\n\n    private final ConsumeQueueImpl consumeQueue = new ConsumeQueueImpl();\n\n    public static void main(String[] args) throws IOException, TimeoutException {\n        SpringApplication.run(PatternApplication.class, args);\n    }\n        @PostConstruct\n        public void scheduleMessageConsumption() {\n            ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\n            executorService.scheduleAtFixedRate(() -&gt; {\n                try {\n                    consumeQueue.consumeMessages();\n                } catch (IOException | TimeoutException e) {\n                    e.printStackTrace();\n                }\n            }, 0, 30, TimeUnit.SECONDS);\n        }\n    }\n\n\n\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":23356236,"reputation":86,"user_id":19386155,"display_name":"Thatta Systems"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700572945,"creation_date":1700572333,"answer_id":77523110,"question_id":77522970,"body_markdown":"KOTLIN (first):\r\n\r\n    //Activities\r\n    moveTaskToBack(true)\r\n    //Fragments\r\n    requireActivity().moveTaskToBack(true)\r\n\r\nJava:\r\n\r\n    //Activities\r\n    moveTaskToBack(true);\r\n    //Fragments\r\n    getActivity().moveTaskToBack(true);\r\n\r\nThis will result in your application moving backwards","title":"Android app: Go back to shared-from app without closing app","body":"<p>KOTLIN (first):</p>\n<pre><code>//Activities\nmoveTaskToBack(true)\n//Fragments\nrequireActivity().moveTaskToBack(true)\n</code></pre>\n<p>Java:</p>\n<pre><code>//Activities\nmoveTaskToBack(true);\n//Fragments\ngetActivity().moveTaskToBack(true);\n</code></pre>\n<p>This will result in your application moving backwards</p>\n"}],"owner":{"account_id":959283,"reputation":28482,"user_id":984003,"accept_rate":68,"display_name":"user984003"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77523110,"answer_count":1,"score":0,"last_activity_date":1700572945,"creation_date":1700571154,"question_id":77522970,"body_markdown":"My app has a share intent that allows users to share text from another app to my app. When they do this, the app opens/shows and does something. I now want the back button to take users back to the app that they came from.\r\n\r\nI know I can do this by adding finish() to onBackPressed(), but I don&#39;t want my app to close. If a user later taps to open the app, it should be where it left off.\r\n\r\nAs an example of this working, if you click a URL in Google Keep and choose &quot;open&quot; it opens Chrome. If you then use the Back Button, it takes you back to the Keep app. Chrome doesn&#39;t close, just the one opened tab closes.","title":"Android app: Go back to shared-from app without closing app","body":"<p>My app has a share intent that allows users to share text from another app to my app. When they do this, the app opens/shows and does something. I now want the back button to take users back to the app that they came from.</p>\n<p>I know I can do this by adding finish() to onBackPressed(), but I don't want my app to close. If a user later taps to open the app, it should be where it left off.</p>\n<p>As an example of this working, if you click a URL in Google Keep and choose &quot;open&quot; it opens Chrome. If you then use the Back Button, it takes you back to the Keep app. Chrome doesn't close, just the one opened tab closes.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"owner":{"account_id":3304962,"reputation":41,"user_id":2780066,"display_name":"Agustin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700572670,"creation_date":1700059785,"question_id":77488721,"body_markdown":"I’m working in a project that uses kafka for communication. There is a business communication associated with a payment, so I configured kafka-client with exactly-once semantic in that topic.  \r\nWhile testing my application, I notice that if kafka broker is down or the topic is deleted, a timeout is thrown, and the client fails to deliver the message, but when the kafka broker is up again,  \r\nthe client doesn’t recover automatically, and begin a loop of error message. I can’t commit the transaction neither abort the transaction.\r\n\r\nI&#39;m using the latest version of Kafka server and kafka-client 3.5.1\r\n\r\n**In previous version 2.8.2, the client reconnect automatically**\r\n\r\nI reproduce the error with this code:\r\n\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n\r\n        KafkaProducer&lt;String, String&gt; producer = createKafkaProducer();\r\n\r\n        producer.initTransactions();\r\n\r\n        String topicName = &quot;topico-de-prueba&quot;;\r\n\r\n        int i = 0;\r\n        while(true) {\r\n            sendMsg(producer, topicName, &quot;msj-&quot;+i);\r\n            Thread.sleep(Duration.ofSeconds(1));\r\n            i++;\r\n        }\r\n    }\r\n\r\n    private static void sendMsg(KafkaProducer&lt;String, String&gt; producer, String topic, String msj ) {\r\n\r\n        try {\r\n            System.out.println(&quot;Begin transaction&quot;);\r\n            producer.beginTransaction();\r\n            System.out.println(&quot;Send message: &quot;+msg);\r\n            producer.send(new ProducerRecord&lt;String, String&gt;(topic, null, msg));\r\n            System.out.println(&quot;Commit transaction&quot;);\r\n            producer.commitTransaction();\r\n        }catch(Exception e) {\r\n            System.out.println(&quot;ERROR1: can&#39;t send the message &quot;+e.getClass().getName());\r\n            e.printStackTrace();\r\n            System.out.println(e.getMessage());\r\n            System.out.println(&quot;*********************************************************************************&quot;);\r\n            try {\r\n                producer.abortTransaction();\r\n            }catch(Exception e2) {\r\n                System.out.println(&quot;ERROR2: can&#39;t abort&quot;);\r\n                e2.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nWhile the app is sending messages, I down the kafka server. The output:\r\n\r\n```\r\nSend message: msg-33\r\nCommit transaction\r\nERROR1: can&#39;t send the message org.apache.kafka.common.errors.TimeoutException\r\nTimeout expired after 60000ms while awaiting EndTxn(true)\r\n*********************************************************************************\r\nERROR2: can&#39;t abort\r\norg.apache.kafka.common.errors.TimeoutException: Timeout expired after 60000ms while awaiting EndTxn(true)\r\njava.lang.IllegalStateException: Cannot attempt operation `abortTransaction` because the previous call to `commitTransaction` timed out and must be retried\r\n\tat org.apache.kafka.clients.producer.internals.TransactionManager.handleCachedTransactionRequestResult(TransactionManager.java:1109)\r\n\tat org.apache.kafka.clients.producer.internals.TransactionManager.beginAbort(TransactionManager.java:266)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.abortTransaction(KafkaProducer.java:835)\r\n\tat coop.tecso.kafka.TransactionalMessageProducer.sendMsg(TransactionalMessageProducer.java:54)\r\n\tat coop.tecso.kafka.TransactionalMessageProducer.main(TransactionalMessageProducer.java:33)\r\nBegin transaction\r\nERROR1: can&#39;t send the message java.lang.IllegalStateException\r\nCannot attempt operation `beginTransaction` because the previous call to `commitTransaction` timed out and must be retried\r\n*********************************************************************************\r\nERROR2: can&#39;t abort\r\njava.lang.IllegalStateException: Cannot attempt operation `beginTransaction` because the previous call to `commitTransaction` timed out and must be retried\r\n\tat org.apache.kafka.clients.producer.internals.TransactionManager.throwIfPendingState(TransactionManager.java:1091)\r\n\tat org.apache.kafka.clients.producer.internals.TransactionManager.beginTransaction(TransactionManager.java:252)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.beginTransaction(KafkaProducer.java:658)\r\n\tat coop.tecso.kafka.TransactionalMessageProducer.sendMsg(TransactionalMessageProducer.java:43)\r\n\tat coop.tecso.kafka.TransactionalMessageProducer.main(TransactionalMessageProducer.java:33)\r\njava.lang.IllegalStateException: Cannot attempt operation `abortTransaction` because the previous call to `commitTransaction` timed out and must be retried\r\n\tat org.apache.kafka.clients.producer.internals.TransactionManager.handleCachedTransactionRequestResult(TransactionManager.java:1109)\r\n\tat org.apache.kafka.clients.producer.internals.TransactionManager.beginAbort(TransactionManager.java:266)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.abortTransaction(KafkaProducer.java:835)\r\n\tat coop.tecso.kafka.TransactionalMessageProducer.sendMsg(TransactionalMessageProducer.java:54)\r\n\tat coop.tecso.kafka.TransactionalMessageProducer.main(TransactionalMessageProducer.java:33)\r\n```\r\n\r\n**&#191;What is the best strategy for handle this kind of error?**\r\n\r\n**&#191;How can I recover from timeout?**","title":"Java Kafka-client doesn’t recover automatically after timeout","body":"<p>I’m working in a project that uses kafka for communication. There is a business communication associated with a payment, so I configured kafka-client with exactly-once semantic in that topic.<br />\nWhile testing my application, I notice that if kafka broker is down or the topic is deleted, a timeout is thrown, and the client fails to deliver the message, but when the kafka broker is up again,<br />\nthe client doesn’t recover automatically, and begin a loop of error message. I can’t commit the transaction neither abort the transaction.</p>\n<p>I'm using the latest version of Kafka server and kafka-client 3.5.1</p>\n<p><strong>In previous version 2.8.2, the client reconnect automatically</strong></p>\n<p>I reproduce the error with this code:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n        KafkaProducer&lt;String, String&gt; producer = createKafkaProducer();\n\n        producer.initTransactions();\n\n        String topicName = &quot;topico-de-prueba&quot;;\n\n        int i = 0;\n        while(true) {\n            sendMsg(producer, topicName, &quot;msj-&quot;+i);\n            Thread.sleep(Duration.ofSeconds(1));\n            i++;\n        }\n    }\n\n    private static void sendMsg(KafkaProducer&lt;String, String&gt; producer, String topic, String msj ) {\n\n        try {\n            System.out.println(&quot;Begin transaction&quot;);\n            producer.beginTransaction();\n            System.out.println(&quot;Send message: &quot;+msg);\n            producer.send(new ProducerRecord&lt;String, String&gt;(topic, null, msg));\n            System.out.println(&quot;Commit transaction&quot;);\n            producer.commitTransaction();\n        }catch(Exception e) {\n            System.out.println(&quot;ERROR1: can't send the message &quot;+e.getClass().getName());\n            e.printStackTrace();\n            System.out.println(e.getMessage());\n            System.out.println(&quot;*********************************************************************************&quot;);\n            try {\n                producer.abortTransaction();\n            }catch(Exception e2) {\n                System.out.println(&quot;ERROR2: can't abort&quot;);\n                e2.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>While the app is sending messages, I down the kafka server. The output:</p>\n<pre><code>Send message: msg-33\nCommit transaction\nERROR1: can't send the message org.apache.kafka.common.errors.TimeoutException\nTimeout expired after 60000ms while awaiting EndTxn(true)\n*********************************************************************************\nERROR2: can't abort\norg.apache.kafka.common.errors.TimeoutException: Timeout expired after 60000ms while awaiting EndTxn(true)\njava.lang.IllegalStateException: Cannot attempt operation `abortTransaction` because the previous call to `commitTransaction` timed out and must be retried\n    at org.apache.kafka.clients.producer.internals.TransactionManager.handleCachedTransactionRequestResult(TransactionManager.java:1109)\n    at org.apache.kafka.clients.producer.internals.TransactionManager.beginAbort(TransactionManager.java:266)\n    at org.apache.kafka.clients.producer.KafkaProducer.abortTransaction(KafkaProducer.java:835)\n    at coop.tecso.kafka.TransactionalMessageProducer.sendMsg(TransactionalMessageProducer.java:54)\n    at coop.tecso.kafka.TransactionalMessageProducer.main(TransactionalMessageProducer.java:33)\nBegin transaction\nERROR1: can't send the message java.lang.IllegalStateException\nCannot attempt operation `beginTransaction` because the previous call to `commitTransaction` timed out and must be retried\n*********************************************************************************\nERROR2: can't abort\njava.lang.IllegalStateException: Cannot attempt operation `beginTransaction` because the previous call to `commitTransaction` timed out and must be retried\n    at org.apache.kafka.clients.producer.internals.TransactionManager.throwIfPendingState(TransactionManager.java:1091)\n    at org.apache.kafka.clients.producer.internals.TransactionManager.beginTransaction(TransactionManager.java:252)\n    at org.apache.kafka.clients.producer.KafkaProducer.beginTransaction(KafkaProducer.java:658)\n    at coop.tecso.kafka.TransactionalMessageProducer.sendMsg(TransactionalMessageProducer.java:43)\n    at coop.tecso.kafka.TransactionalMessageProducer.main(TransactionalMessageProducer.java:33)\njava.lang.IllegalStateException: Cannot attempt operation `abortTransaction` because the previous call to `commitTransaction` timed out and must be retried\n    at org.apache.kafka.clients.producer.internals.TransactionManager.handleCachedTransactionRequestResult(TransactionManager.java:1109)\n    at org.apache.kafka.clients.producer.internals.TransactionManager.beginAbort(TransactionManager.java:266)\n    at org.apache.kafka.clients.producer.KafkaProducer.abortTransaction(KafkaProducer.java:835)\n    at coop.tecso.kafka.TransactionalMessageProducer.sendMsg(TransactionalMessageProducer.java:54)\n    at coop.tecso.kafka.TransactionalMessageProducer.main(TransactionalMessageProducer.java:33)\n</code></pre>\n<p><strong>¿What is the best strategy for handle this kind of error?</strong></p>\n<p><strong>¿How can I recover from timeout?</strong></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":124616,"reputation":3792,"user_id":1331935,"display_name":"Jeff"},"score":0,"creation_date":1455385972,"post_id":35378352,"comment_id":58471108,"body_markdown":"Are you using an ide? If so, which one?","body":"Are you using an ide? If so, which one?"},{"owner":{"account_id":3044863,"reputation":958,"user_id":2580829,"display_name":"David Barda"},"score":1,"creation_date":1564250659,"post_id":35378352,"comment_id":100971921,"body_markdown":"spring-boot-starter-validation is part of spring-boot-starter-web, you don&#39;t need them both","body":"spring-boot-starter-validation is part of spring-boot-starter-web, you don&#39;t need them both"},{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":0,"creation_date":1592789874,"post_id":35378352,"comment_id":110541159,"body_markdown":"`spring-boot-starter-validation` is not part of `spring-boot-starter-web` anymore. They have removed it as from v2.3.0.RELEASE as per the [release notes](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes)","body":"<code>spring-boot-starter-validation</code> is not part of <code>spring-boot-starter-web</code> anymore. They have removed it as from v2.3.0.RELEASE as per the <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes\" rel=\"nofollow noreferrer\">release notes</a>"}],"answers":[{"tags":[],"owner":{"account_id":351196,"reputation":2555,"user_id":687515,"display_name":"daniel.eichten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455566160,"creation_date":1455566160,"answer_id":35417931,"question_id":35378352,"body_markdown":"You also have to add lombok aus an agent to your IDE. See https://projectlombok.org/download.html for details.","title":"How to use lombok.Data annotation in a Spring Boot application?","body":"<p>You also have to add lombok aus an agent to your IDE. See <a href=\"https://projectlombok.org/download.html\" rel=\"nofollow\">https://projectlombok.org/download.html</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":8280868,"reputation":111,"user_id":6225621,"display_name":"Babu"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1565354748,"creation_date":1488867538,"answer_id":42641495,"question_id":35378352,"body_markdown":"For Maven:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nFor Gradle:\r\n\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;","title":"How to use lombok.Data annotation in a Spring Boot application?","body":"<p>For Maven:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>For Gradle:</p>\n\n<pre><code>developmentOnly 'org.springframework.boot:spring-boot-devtools'\ncompileOnly 'org.projectlombok:lombok'\nannotationProcessor 'org.projectlombok:lombok'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9320876,"reputation":21,"user_id":6919640,"display_name":"V123"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1581260009,"creation_date":1491803902,"answer_id":43315901,"question_id":35378352,"body_markdown":"You need to add `@Setter` &amp; `@Getter` annotations to the class, when using Lombok  within your `pom.xml` alternatively use `@Data` which includes both","title":"How to use lombok.Data annotation in a Spring Boot application?","body":"<p>You need to add <code>@Setter</code> &amp; <code>@Getter</code> annotations to the class, when using Lombok  within your <code>pom.xml</code> alternatively use <code>@Data</code> which includes both</p>\n"},{"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491809547,"creation_date":1491809547,"answer_id":43317252,"question_id":35378352,"body_markdown":"Firstly, you don&#39;t need to add @Setter and @Getter. @Data includes these two.   \r\n  Secondly, you need to add lombok plugin to your IDE.(search for lombok plugin for STS or Enabling Annotation processor for STS). When you do so, you don&#39;t really see getters and setters generated in your IDE. This will help in you getting through with compile time errors in your IDE.  thats all.","title":"How to use lombok.Data annotation in a Spring Boot application?","body":"<p>Firstly, you don't need to add @Setter and @Getter. @Data includes these two.<br>\n  Secondly, you need to add lombok plugin to your IDE.(search for lombok plugin for STS or Enabling Annotation processor for STS). When you do so, you don't really see getters and setters generated in your IDE. This will help in you getting through with compile time errors in your IDE.  thats all.</p>\n"},{"tags":[],"owner":{"account_id":6931589,"reputation":11,"user_id":5320925,"display_name":"Raul Villalba"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1491839364,"creation_date":1491839364,"answer_id":43327703,"question_id":35378352,"body_markdown":"Study this sample project with Springboot + Lombok. This class use @Data:\r\nhttps://github.com/raulvillalbamedina/exampleApiHateoas/blob/master/src/main/java/com/rvillalba/exampleApiHateoas/entity/Example.java\r\n\r\nIf your IDE has errors, you need a plugin:\r\n&quot;Eclipse and variants \tRun lombok.jar as a java app (i.e. doubleclick it, usually) to install. Also add lombok.jar to your project. Supported variants: Springsource Tool Suite, JBoss Developer Studio\r\nIDEA IntelliJ \tA plugin developed by Michael Plushnikov adds support for most features.&quot;","title":"How to use lombok.Data annotation in a Spring Boot application?","body":"<p>Study this sample project with Springboot + Lombok. This class use @Data:\n<a href=\"https://github.com/raulvillalbamedina/exampleApiHateoas/blob/master/src/main/java/com/rvillalba/exampleApiHateoas/entity/Example.java\" rel=\"nofollow noreferrer\">https://github.com/raulvillalbamedina/exampleApiHateoas/blob/master/src/main/java/com/rvillalba/exampleApiHateoas/entity/Example.java</a></p>\n\n<p>If your IDE has errors, you need a plugin:\n\"Eclipse and variants   Run lombok.jar as a java app (i.e. doubleclick it, usually) to install. Also add lombok.jar to your project. Supported variants: Springsource Tool Suite, JBoss Developer Studio\nIDEA IntelliJ   A plugin developed by Michael Plushnikov adds support for most features.\"</p>\n"},{"tags":[],"owner":{"account_id":455372,"reputation":47,"user_id":853506,"display_name":"PiroXXI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493138573,"creation_date":1493138573,"answer_id":43616490,"question_id":35378352,"body_markdown":"The Spring Tool Suite IDE is based on eclipse. \r\n\r\nFrom the official Lombok documentation :\r\nhttps://projectlombok.org/download.html\r\n&gt; Eclipse and variants — Run lombok.jar as a java app (i.e. doubleclick it, usually) to install. Also add lombok.jar to your project. Supported variants: Springsource Tool Suite, JBoss Developer Studio\r\n\r\nIf it still does not work, this Stack Overflow discussion might help you :\r\n\r\nhttps://stackoverflow.com/questions/22310414/how-to-configure-lombok-in-eclipse-luna\r\n\r\n","title":"How to use lombok.Data annotation in a Spring Boot application?","body":"<p>The Spring Tool Suite IDE is based on eclipse. </p>\n\n<p>From the official Lombok documentation :\n<a href=\"https://projectlombok.org/download.html\" rel=\"nofollow noreferrer\">https://projectlombok.org/download.html</a></p>\n\n<blockquote>\n  <p>Eclipse and variants — Run lombok.jar as a java app (i.e. doubleclick it, usually) to install. Also add lombok.jar to your project. Supported variants: Springsource Tool Suite, JBoss Developer Studio</p>\n</blockquote>\n\n<p>If it still does not work, this Stack Overflow discussion might help you :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/22310414/how-to-configure-lombok-in-eclipse-luna\">how to configure lombok in eclipse luna</a></p>\n"},{"tags":[],"owner":{"account_id":9337303,"reputation":9995,"user_id":6931119,"accept_rate":89,"display_name":"Witold Kaczurba"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1508480950,"creation_date":1508480229,"answer_id":46843321,"question_id":35378352,"body_markdown":"The problem here is likely related to your ability to check if getters/setters were actually generated.\r\n\r\n1. If your IDE tells you getters/setters not generated - the IDE might be wrong. It may not pick that getters/setters were generated; For your IDE - make sure you have relevant plugins for that. This is most likely your issue as you are mentioning STS.\r\nTry one of links relevant to your case:\r\n- https://projectlombok.org/setup/eclipse\r\n- https://projectlombok.org/setup/intellij\r\n\r\n2. Use IDE-independent Maven build to make sure that Lombok generates what it is supposed to.\r\n\r\n\r\n","title":"How to use lombok.Data annotation in a Spring Boot application?","body":"<p>The problem here is likely related to your ability to check if getters/setters were actually generated.</p>\n\n<ol>\n<li><p>If your IDE tells you getters/setters not generated - the IDE might be wrong. It may not pick that getters/setters were generated; For your IDE - make sure you have relevant plugins for that. This is most likely your issue as you are mentioning STS.\nTry one of links relevant to your case:</p>\n\n<ul>\n<li><a href=\"https://projectlombok.org/setup/eclipse\" rel=\"noreferrer\">https://projectlombok.org/setup/eclipse</a></li>\n<li><a href=\"https://projectlombok.org/setup/intellij\" rel=\"noreferrer\">https://projectlombok.org/setup/intellij</a></li>\n</ul></li>\n<li><p>Use IDE-independent Maven build to make sure that Lombok generates what it is supposed to.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":93940,"reputation":5106,"user_id":256770,"accept_rate":31,"display_name":"Farrukh Najmi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528122974,"creation_date":1528122974,"answer_id":50683041,"question_id":35378352,"body_markdown":"In my case the generated class had lombok generated getters / setters on my entity class. But I was still getting null values being bound for all fields in my entity except for @Id field. I am using gradle not maven.\r\n\r\nWhat fixed the problem for me was to install the Lombok plugin in IntelliJ CE IDE and also to enable the annotation processing for the IDE / project.\r\n\r\nAfter that I am able to persist my entity just fine! ","title":"How to use lombok.Data annotation in a Spring Boot application?","body":"<p>In my case the generated class had lombok generated getters / setters on my entity class. But I was still getting null values being bound for all fields in my entity except for @Id field. I am using gradle not maven.</p>\n\n<p>What fixed the problem for me was to install the Lombok plugin in IntelliJ CE IDE and also to enable the annotation processing for the IDE / project.</p>\n\n<p>After that I am able to persist my entity just fine! </p>\n"},{"tags":[],"owner":{"account_id":5527790,"reputation":11911,"user_id":4388776,"display_name":"Keet Sugathadasa"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1544698569,"creation_date":1544698569,"answer_id":53760273,"question_id":35378352,"body_markdown":"**Lombok** is an annotation processor - it has full access to the generated source tree. While annotation processors usually generate new source files, Lombok modifies existing ones by adding new fields or methods.\r\n\r\nThere are a lot of annotations provided by Lombok. (See [full List][1])\r\n\r\nTo answer the question: Lombok annotations do not generate the code in development time. It happens only when the Java compiler generates an Abstract Source Tree. So don&#39;t expect the code to magically change whenever you add an annotation.\r\n\r\nBut,you need to get them resolved in your specific IDE so that all dependencies and imports are correctly added. Given below are the ways to resolve Lombok annotations in your preferred IDE. You can also go for a Maven project and resolve these as well ([Project Lombok Maven repository][2]).\r\n\r\n**IntelliJ Idea**\r\n\r\n1) Enable Annotation Processing\r\n\r\n&gt; File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt;\r\n&gt; Annotation Processors -&gt; (Tick the checkbox as per the image given\r\n&gt; below)\r\n\r\n[![Enable Annotation Processor][3]][3]\r\n\r\n2) Install/Update Lombok Plugin ([see this][4])\r\n\r\n&gt; File -&gt; Settings -&gt; Plugins -&gt; Search for Lombok Plugin -&gt; Update or\r\n&gt; Install\r\n\r\n**Eclipse**\r\n\r\nFollow these steps in [this link][5].\r\n\r\n\r\n  [1]: https://projectlombok.org/features/all\r\n  [2]: https://mvnrepository.com/artifact/org.projectlombok\r\n  [3]: https://i.stack.imgur.com/rc2nq.png\r\n  [4]: https://projectlombok.org/setup/intellij\r\n  [5]: https://projectlombok.org/setup/eclipse","title":"How to use lombok.Data annotation in a Spring Boot application?","body":"<p><strong>Lombok</strong> is an annotation processor - it has full access to the generated source tree. While annotation processors usually generate new source files, Lombok modifies existing ones by adding new fields or methods.</p>\n\n<p>There are a lot of annotations provided by Lombok. (See <a href=\"https://projectlombok.org/features/all\" rel=\"noreferrer\">full List</a>)</p>\n\n<p>To answer the question: Lombok annotations do not generate the code in development time. It happens only when the Java compiler generates an Abstract Source Tree. So don't expect the code to magically change whenever you add an annotation.</p>\n\n<p>But,you need to get them resolved in your specific IDE so that all dependencies and imports are correctly added. Given below are the ways to resolve Lombok annotations in your preferred IDE. You can also go for a Maven project and resolve these as well (<a href=\"https://mvnrepository.com/artifact/org.projectlombok\" rel=\"noreferrer\">Project Lombok Maven repository</a>).</p>\n\n<p><strong>IntelliJ Idea</strong></p>\n\n<p>1) Enable Annotation Processing</p>\n\n<blockquote>\n  <p>File -> Settings -> Build, Execution, Deployment -> Compiler ->\n  Annotation Processors -> (Tick the checkbox as per the image given\n  below)</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/rc2nq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rc2nq.png\" alt=\"Enable Annotation Processor\"></a></p>\n\n<p>2) Install/Update Lombok Plugin (<a href=\"https://projectlombok.org/setup/intellij\" rel=\"noreferrer\">see this</a>)</p>\n\n<blockquote>\n  <p>File -> Settings -> Plugins -> Search for Lombok Plugin -> Update or\n  Install</p>\n</blockquote>\n\n<p><strong>Eclipse</strong></p>\n\n<p>Follow these steps in <a href=\"https://projectlombok.org/setup/eclipse\" rel=\"noreferrer\">this link</a>.</p>\n"},{"tags":[],"owner":{"account_id":14728767,"reputation":295,"user_id":10636790,"display_name":"Tapan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1564668436,"creation_date":1564667801,"answer_id":57310734,"question_id":35378352,"body_markdown":" - Lombok is a very handy tool for minimizing the boilerplate code as well as providing lots of other features such as lazy loading,thread-safety or immutability. This is the reason it becoming very popular among the developer community.\r\n - If Lombok is in the classpath, it can easily get rid of all the getters &amp; setters methods, class constructors, hashcode and equals methods and many more by just adding a couple of annotations the class.\r\n - To use Lombok you need to install Lombok in your IDE. Here I am explaining how to do with Eclipse.\r\n**Install Lombok in Eclipse**\r\n\r\n**1.Download Lombok Jar File**\r\n        \r\n - Add below dependency in your maven project so that it got downloaded first in your local repository.\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.18&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    Now do a **mvn clean install** command on the newly created project to get this jar downloaded in the local repository.\r\n\r\n**2.Start Lombok Installation**\r\n\r\n - Once the jar downloaded in Local repository, goto the jar location from command prompt and run the following command java -jar lombok-1.16.18.jar and we should be greeted by Lombok installation window provided by lombok.\r\n\r\n - Now click on the “Specify Location” button and locate the eclipse.exe path under eclipse installation folder like this.\r\n\r\n - Now click the “Install/Update” button and we should finish installing Lombok in eclipse.\r\n\r\n - After all the setup done properly you can use all the provide jar of Lombok.\r\n    \r\n\r\nLike:\r\n\r\n - @Data\r\n - @Getter\r\n - @Setter\r\n - @NoArgsConstructor\r\n - @RequiredArgsConstructor\r\n - @ToString\r\n - @EqualsAndHashCode\r\n - @Delegate\r\n - @Synchronized\r\n - @Slf4j\r\n - @Cleanup \r\n\r\nFor more details : \r\n\r\n - https://projectlombok.org/features/all\r\n - https://projectlombok.org/setup/eclipse\r\n - https://projectlombok.org/download\r\n\r\n","title":"How to use lombok.Data annotation in a Spring Boot application?","body":"<ul>\n<li>Lombok is a very handy tool for minimizing the boilerplate code as well as providing lots of other features such as lazy loading,thread-safety or immutability. This is the reason it becoming very popular among the developer community.</li>\n<li>If Lombok is in the classpath, it can easily get rid of all the getters &amp; setters methods, class constructors, hashcode and equals methods and many more by just adding a couple of annotations the class.</li>\n<li>To use Lombok you need to install Lombok in your IDE. Here I am explaining how to do with Eclipse.\n<strong>Install Lombok in Eclipse</strong></li>\n</ul>\n\n<p><strong>1.Download Lombok Jar File</strong></p>\n\n<ul>\n<li><p>Add below dependency in your maven project so that it got downloaded first in your local repository.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.16.18&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Now do a <strong>mvn clean install</strong> command on the newly created project to get this jar downloaded in the local repository.</p></li>\n</ul>\n\n<p><strong>2.Start Lombok Installation</strong></p>\n\n<ul>\n<li><p>Once the jar downloaded in Local repository, goto the jar location from command prompt and run the following command java -jar lombok-1.16.18.jar and we should be greeted by Lombok installation window provided by lombok.</p></li>\n<li><p>Now click on the “Specify Location” button and locate the eclipse.exe path under eclipse installation folder like this.</p></li>\n<li><p>Now click the “Install/Update” button and we should finish installing Lombok in eclipse.</p></li>\n<li><p>After all the setup done properly you can use all the provide jar of Lombok.</p></li>\n</ul>\n\n<p>Like:</p>\n\n<ul>\n<li>@Data</li>\n<li>@Getter</li>\n<li>@Setter</li>\n<li>@NoArgsConstructor</li>\n<li>@RequiredArgsConstructor</li>\n<li>@ToString</li>\n<li>@EqualsAndHashCode</li>\n<li>@Delegate</li>\n<li>@Synchronized</li>\n<li>@Slf4j</li>\n<li>@Cleanup </li>\n</ul>\n\n<p>For more details : </p>\n\n<ul>\n<li><a href=\"https://projectlombok.org/features/all\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/all</a></li>\n<li><a href=\"https://projectlombok.org/setup/eclipse\" rel=\"nofollow noreferrer\">https://projectlombok.org/setup/eclipse</a></li>\n<li><a href=\"https://projectlombok.org/download\" rel=\"nofollow noreferrer\">https://projectlombok.org/download</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8102743,"reputation":11,"user_id":6105303,"display_name":"L&#233;on Didier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577318466,"creation_date":1577318466,"answer_id":59482678,"question_id":35378352,"body_markdown":"As you are using spring boot, you can omit the version of lombok (which will then be inherited from the Spring Boot parent POM). Also check that your your IDE is well configured !\r\n\r\n[1. Spring Boot with Lombok](https://springframework.guru/spring-boot-with-lombok-part-1/)\r\n\r\n[2. Setting up Lombok with Eclipse and Intellij](https://www.baeldung.com/lombok-ide)\r\n\r\n[3. Using lombok](https://projectlombok.org/setup/overview)","title":"How to use lombok.Data annotation in a Spring Boot application?","body":"<p>As you are using spring boot, you can omit the version of lombok (which will then be inherited from the Spring Boot parent POM). Also check that your your IDE is well configured !</p>\n\n<p><a href=\"https://springframework.guru/spring-boot-with-lombok-part-1/\" rel=\"nofollow noreferrer\">1. Spring Boot with Lombok</a></p>\n\n<p><a href=\"https://www.baeldung.com/lombok-ide\" rel=\"nofollow noreferrer\">2. Setting up Lombok with Eclipse and Intellij</a></p>\n\n<p><a href=\"https://projectlombok.org/setup/overview\" rel=\"nofollow noreferrer\">3. Using lombok</a></p>\n"},{"tags":[],"owner":{"account_id":13181922,"reputation":51,"user_id":9521031,"display_name":"Mayantha Fernando"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589550902,"creation_date":1589443627,"answer_id":61792318,"question_id":35378352,"body_markdown":"\r\nFollow these steps: (100% working)\r\n\r\n1. Download lombok.jar file \r\n Link: [`[https://projectlombok.org/download][1]`]\r\n2. Double click on that jar file in your local machine.\r\n(It will automatically find IDE&#39;s .exe files and display)\r\n3. Use the checkboxes to select IDE that you want to use Lombok.\r\n4. Click the &quot;Install/Update&quot; button(get few seconds for install). After install click Quit.\r\n5. Restart your IDE and go to the &quot;Help&quot; tab. Then click on &quot;About (IDE_Name)&quot;\r\nIs it show about Lombok on that display, you did it.\r\n6. Then use @Data annotation in your code. It will work.\r\n\r\nEg:\r\n\r\n    import lombok.Data;\r\n    import lombok.NonNull;\r\n    \r\n    public @Data class Project {\r\n    \t\r\n\t@Id\r\n\tprivate @NonNull String id;\r\n\tprivate @NonNull String name; \r\n\tprivate @NonNull String description;\r\n    \t\r\n    }\r\n\r\n\r\n  [1]: https://projectlombok.org/download","title":"How to use lombok.Data annotation in a Spring Boot application?","body":"<p>Follow these steps: (100% working)</p>\n\n<ol>\n<li>Download lombok.jar file \nLink: [<code>[https://projectlombok.org/download][1]</code>]</li>\n<li>Double click on that jar file in your local machine.\n(It will automatically find IDE's .exe files and display)</li>\n<li>Use the checkboxes to select IDE that you want to use Lombok.</li>\n<li>Click the \"Install/Update\" button(get few seconds for install). After install click Quit.</li>\n<li>Restart your IDE and go to the \"Help\" tab. Then click on \"About (IDE_Name)\"\nIs it show about Lombok on that display, you did it.</li>\n<li>Then use @Data annotation in your code. It will work.</li>\n</ol>\n\n<p>Eg:</p>\n\n<pre><code>import lombok.Data;\nimport lombok.NonNull;\n\npublic @Data class Project {\n\n@Id\nprivate @NonNull String id;\nprivate @NonNull String name; \nprivate @NonNull String description;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18987482,"reputation":31,"user_id":13857436,"display_name":"Pranavi Chaturvedula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625990430,"creation_date":1625990430,"answer_id":68334317,"question_id":35378352,"body_markdown":"You need to install a lombok jar and add it to build path for eclipse user.\r\n\r\nhttps://howtodoinjava.com/automation/lombok-eclipse-installation-examples/#lombok-eclipse\r\n\r\nAlternatively, you can generate getters and setters from source in eclipse and ditch the @Data annotation\r\n","title":"How to use lombok.Data annotation in a Spring Boot application?","body":"<p>You need to install a lombok jar and add it to build path for eclipse user.</p>\n<p><a href=\"https://howtodoinjava.com/automation/lombok-eclipse-installation-examples/#lombok-eclipse\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/automation/lombok-eclipse-installation-examples/#lombok-eclipse</a></p>\n<p>Alternatively, you can generate getters and setters from source in eclipse and ditch the @Data annotation</p>\n"},{"tags":[],"owner":{"account_id":23969819,"reputation":36,"user_id":17958688,"display_name":"Samuel Abatneh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642702163,"creation_date":1642702163,"answer_id":70791321,"question_id":35378352,"body_markdown":"It is obvious that the problem is project Lombok not working properly. I have the same issue. It perfectly works on IntelliJ, and my instructor told me that IntelliJ has additional plugins that will automatically be installed but vs code and like don&#39;t have that feature, so you need manually install project Lombok.so, try by installing the vs code extension related to Lombok.","title":"How to use lombok.Data annotation in a Spring Boot application?","body":"<p>It is obvious that the problem is project Lombok not working properly. I have the same issue. It perfectly works on IntelliJ, and my instructor told me that IntelliJ has additional plugins that will automatically be installed but vs code and like don't have that feature, so you need manually install project Lombok.so, try by installing the vs code extension related to Lombok.</p>\n"},{"tags":[],"owner":{"account_id":7502275,"reputation":1,"user_id":5700146,"display_name":"Shuvam pargal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676737114,"creation_date":1676191055,"answer_id":75425773,"question_id":35378352,"body_markdown":"To install Lombok in Eclipse and its variants (like Spring Tool Suite) via the Eclipse plugin installer, you can follow these steps:\r\n\r\nOpen your IDE and navigate to `Help` &gt; `Install New Software...`\r\n\r\n[![x][1]][1]\r\n\r\nIn the &quot;Work with&quot; field, enter https://projectlombok.org/p2 and check the box next to &quot;Lombok&quot;:\r\n\r\n[![f][2]][2]\r\n\r\nComplete the installation process and then quit your IDE and start it again (a regular restart may not be sufficient).\r\n\r\n  [1]: https://i.stack.imgur.com/DqFA9m.png\r\n  [2]: https://i.stack.imgur.com/aEACyl.png","title":"How to use lombok.Data annotation in a Spring Boot application?","body":"<p>To install Lombok in Eclipse and its variants (like Spring Tool Suite) via the Eclipse plugin installer, you can follow these steps:</p>\n<p>Open your IDE and navigate to <code>Help</code> &gt; <code>Install New Software...</code></p>\n<p><a href=\"https://i.stack.imgur.com/DqFA9m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DqFA9m.png\" alt=\"x\" /></a></p>\n<p>In the &quot;Work with&quot; field, enter <a href=\"https://projectlombok.org/p2\" rel=\"nofollow noreferrer\">https://projectlombok.org/p2</a> and check the box next to &quot;Lombok&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/aEACyl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aEACyl.png\" alt=\"f\" /></a></p>\n<p>Complete the installation process and then quit your IDE and start it again (a regular restart may not be sufficient).</p>\n"},{"tags":[],"owner":{"account_id":7961240,"reputation":1,"user_id":6009014,"display_name":"Murad Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700571987,"creation_date":1700571987,"answer_id":77523066,"question_id":35378352,"body_markdown":"Lombok used to generate getter setter and constructor automatically for you ,Well described here. https://www.youtube.com/watch?v=PfokdlpwyjQ","title":"How to use lombok.Data annotation in a Spring Boot application?","body":"<p>Lombok used to generate getter setter and constructor automatically for you ,Well described here. <a href=\"https://www.youtube.com/watch?v=PfokdlpwyjQ\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=PfokdlpwyjQ</a></p>\n"}],"owner":{"account_id":7177208,"reputation":291,"user_id":5482665,"display_name":"Deepanshu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96460,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":16,"score":23,"last_activity_date":1700571987,"creation_date":1455356757,"question_id":35378352,"body_markdown":"I have used `@Data` annotation in my POJO Class but the getters and setters are not generated.\r\nIDE which I am using is sts(Spring Tool Suite)\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    //User POJO Class\r\n    import lombok.Data;\r\n\r\n    @Data\r\n    public class UserVo {\r\n    \t\r\n    \tprivate String name;\r\n    \tprivate String userName;\r\n    \tprivate String email;\r\n    \tprivate String mobile;\r\n    \tprivate String password;\r\n    }\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;!-- pom.xml --&gt;\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.aptitest&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;wt-online-test-backend&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;wt-online-test-backend&lt;/name&gt;\r\n    \t&lt;description&gt;Online Aptitude Test&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.3.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n            \t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            \t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n            \t&lt;version&gt;1.9.2.RELEASE&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.16.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-session&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t\r\n    \r\n    &lt;/project&gt;\r\n","title":"How to use lombok.Data annotation in a Spring Boot application?","body":"<p>I have used <code>@Data</code> annotation in my POJO Class but the getters and setters are not generated.\nIDE which I am using is sts(Spring Tool Suite)</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>//User POJO Class\nimport lombok.Data;\n\n@Data\npublic class UserVo {\n\n    private String name;\n    private String userName;\n    private String email;\n    private String mobile;\n    private String password;\n}\n</code></pre>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- pom.xml --&gt;\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.aptitest&lt;/groupId&gt;\n    &lt;artifactId&gt;wt-online-test-backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;wt-online-test-backend&lt;/name&gt;\n    &lt;description&gt;Online Aptitude Test&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;1.9.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.16.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","xml","maven","installation"],"answers":[{"tags":[],"owner":{"account_id":1669106,"reputation":1427,"user_id":1535917,"display_name":"jeraldfdo"},"down_vote_count":1,"up_vote_count":101,"is_accepted":true,"score":100,"last_activity_date":1493688325,"creation_date":1411585848,"answer_id":26024633,"question_id":26024582,"body_markdown":"I just wanted to document this error on the internet. There was no much help or I didn&#39;t search properly. \r\n\r\n**Answer** : \r\n\r\nGo to the the path where the `maven-metadata-local.xml` is. Delete the project folder along with the `xml` and build the project. \r\n\r\nIt worked for me!","title":"maven : Failed to install metadata project Could not parse metadata maven-metadata-local.xml: only whitespace content allowed before start tag","body":"<p>I just wanted to document this error on the internet. There was no much help or I didn't search properly. </p>\n\n<p><strong>Answer</strong> : </p>\n\n<p>Go to the the path where the <code>maven-metadata-local.xml</code> is. Delete the project folder along with the <code>xml</code> and build the project. </p>\n\n<p>It worked for me!</p>\n"},{"tags":[],"owner":{"account_id":12613823,"reputation":156,"user_id":9171964,"display_name":"Amine Aouffen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1535355830,"creation_date":1535355830,"answer_id":52034772,"question_id":26024582,"body_markdown":"We got the same problem in a project right after modifying the `pom.xml` to add some plugins and configurations. \r\nDeleting the project folders from maven local repository cache solved it. ","title":"maven : Failed to install metadata project Could not parse metadata maven-metadata-local.xml: only whitespace content allowed before start tag","body":"<p>We got the same problem in a project right after modifying the <code>pom.xml</code> to add some plugins and configurations. \nDeleting the project folders from maven local repository cache solved it. </p>\n"},{"tags":[],"owner":{"account_id":3355845,"reputation":736,"user_id":2818782,"accept_rate":57,"display_name":"user2818782"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1565852866,"creation_date":1565852866,"answer_id":57505999,"question_id":26024582,"body_markdown":"By adding the \r\n\r\n***&quot; -Dmaven.repo.local=$WORKSPACE/.repository&quot;*** \r\n\r\nargument to your mvn install command it forces Maven to use a local private repository, instead of the central one (~/.m2/repository).\r\n\r\nEvery Maven build will start with a fresh repository, thus avoiding such conflicts. This trick does however come with the caveat that it now needs to download EvERYTHING. So expect dramatically increased network traffic (not a problem if you use a local Nexus as a mirror), and slightly longer build times.","title":"maven : Failed to install metadata project Could not parse metadata maven-metadata-local.xml: only whitespace content allowed before start tag","body":"<p>By adding the </p>\n\n<p><strong><em>\" -Dmaven.repo.local=$WORKSPACE/.repository\"</em></strong> </p>\n\n<p>argument to your mvn install command it forces Maven to use a local private repository, instead of the central one (~/.m2/repository).</p>\n\n<p>Every Maven build will start with a fresh repository, thus avoiding such conflicts. This trick does however come with the caveat that it now needs to download EvERYTHING. So expect dramatically increased network traffic (not a problem if you use a local Nexus as a mirror), and slightly longer build times.</p>\n"},{"tags":[],"owner":{"account_id":1027481,"reputation":105,"user_id":2902110,"display_name":"ETN"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1574158516,"creation_date":1574153419,"answer_id":58929931,"question_id":26024582,"body_markdown":"Deleting the project folder and the maven-metadata-local.xml in the local repository solves the problem as stated by eugene-s&#39;s [answer](https://stackoverflow.com/questions/26024582/maven-failed-to-install-metadata-project-could-not-parse-metadata-maven-metada/26024633#26024633).\r\n\r\nEven though the problem in the question does not seem to be caused by concurrent usage of the local maven repository, this problem often occurs in a CI environment when the various jobs use the same maven local repository system.\r\n\r\nYou can either go with the solution (by user2818782) to always user a fresh repository, or you can start using https://github.com/takari/takari-local-repository which is a replacement to the local maven repository that is safe for concurrent access.","title":"maven : Failed to install metadata project Could not parse metadata maven-metadata-local.xml: only whitespace content allowed before start tag","body":"<p>Deleting the project folder and the maven-metadata-local.xml in the local repository solves the problem as stated by eugene-s's <a href=\"https://stackoverflow.com/questions/26024582/maven-failed-to-install-metadata-project-could-not-parse-metadata-maven-metada/26024633#26024633\">answer</a>.</p>\n\n<p>Even though the problem in the question does not seem to be caused by concurrent usage of the local maven repository, this problem often occurs in a CI environment when the various jobs use the same maven local repository system.</p>\n\n<p>You can either go with the solution (by user2818782) to always user a fresh repository, or you can start using <a href=\"https://github.com/takari/takari-local-repository\" rel=\"noreferrer\">https://github.com/takari/takari-local-repository</a> which is a replacement to the local maven repository that is safe for concurrent access.</p>\n"},{"tags":[],"owner":{"account_id":8503094,"reputation":686,"user_id":6375501,"accept_rate":25,"display_name":"Ridae HAMDANI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700571963,"creation_date":1700571963,"answer_id":77523062,"question_id":26024582,"body_markdown":"# 2023 update\r\nIt seems this occure when concurrent maven build writes to the same dependency file, resulting in an additional XML tag being appended to the file. \r\n\r\nI fixed it by editing the file directly , the file has an extra xml tag at the end of it . \r\n\r\n**This problem has been addressed in recent Maven versions**, particularly in resolver versions greater than 1.7.x (likely Maven versions later than 3.8.x).\r\n\r\nYou can find information regarding this improvement in Maven&#39;s documentation on shared access to the local repository [here][1]. Despite this improvement, the issue persists in our shared cache of CI environment, possibly because some projects are still using older versions of Maven to build theirs projects.\r\n\r\n\r\n  [1]: https://maven.apache.org/resolver/local-repository.html#shared-access-to-local-repository","title":"maven : Failed to install metadata project Could not parse metadata maven-metadata-local.xml: only whitespace content allowed before start tag","body":"<h1>2023 update</h1>\n<p>It seems this occure when concurrent maven build writes to the same dependency file, resulting in an additional XML tag being appended to the file.</p>\n<p>I fixed it by editing the file directly , the file has an extra xml tag at the end of it .</p>\n<p><strong>This problem has been addressed in recent Maven versions</strong>, particularly in resolver versions greater than 1.7.x (likely Maven versions later than 3.8.x).</p>\n<p>You can find information regarding this improvement in Maven's documentation on shared access to the local repository <a href=\"https://maven.apache.org/resolver/local-repository.html#shared-access-to-local-repository\" rel=\"nofollow noreferrer\">here</a>. Despite this improvement, the issue persists in our shared cache of CI environment, possibly because some projects are still using older versions of Maven to build theirs projects.</p>\n"}],"owner":{"account_id":1669106,"reputation":1427,"user_id":1535917,"display_name":"jeraldfdo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52429,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":26024633,"answer_count":5,"score":41,"last_activity_date":1700571963,"creation_date":1411585639,"question_id":26024582,"body_markdown":"Got this error when I was trying to build a project which I just downloaded from SVN.\r\n\r\n&gt; Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-install-plugin:2.4:install\r\n&gt; (default-install) on project : Failed to install metadata\r\n&gt; project:1.0-SNAPSHOT/maven-metadata.xml: Could not parse metadata\r\n&gt; C:\\Users\\.m2\\project\\1.0-SNAPSHOT\\maven-metadata-local.xml: only\r\n&gt; whitespace content allowed before start tag and not \\u0 (position:\r\n&gt; START_DOCUMENT seen \\u0... @1:1) -&gt; [Help 1]\r\n\r\n\r\n\r\n\r\n\r\n","title":"maven : Failed to install metadata project Could not parse metadata maven-metadata-local.xml: only whitespace content allowed before start tag","body":"<p>Got this error when I was trying to build a project which I just downloaded from SVN.</p>\n\n<blockquote>\n  <p>Failed to execute goal\n  org.apache.maven.plugins:maven-install-plugin:2.4:install\n  (default-install) on project : Failed to install metadata\n  project:1.0-SNAPSHOT/maven-metadata.xml: Could not parse metadata\n  C:\\Users.m2\\project\\1.0-SNAPSHOT\\maven-metadata-local.xml: only\n  whitespace content allowed before start tag and not \\u0 (position:\n  START_DOCUMENT seen \\u0... @1:1) -> [Help 1]</p>\n</blockquote>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":4915912,"reputation":1233,"user_id":3959856,"accept_rate":100,"display_name":"Jack Flamp"},"score":0,"creation_date":1507476018,"post_id":46630900,"comment_id":80214647,"body_markdown":"does this help? https://stackoverflow.com/questions/14895728/cant-autowire-servletcontext","body":"does this help? <a href=\"https://stackoverflow.com/questions/14895728/cant-autowire-servletcontext\" title=\"cant autowire servletcontext\">stackoverflow.com/questions/14895728/&hellip;</a>"},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507497955,"post_id":46630900,"comment_id":80221567,"body_markdown":"Coud you share myService class ?","body":"Coud you share myService class ?"},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507524582,"post_id":46630900,"comment_id":80227070,"body_markdown":"@MoatezBouhdid, updated with myService class","body":"@MoatezBouhdid, updated with myService class"},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507525499,"post_id":46630900,"comment_id":80227379,"body_markdown":"@JackFlamp, I have added ServletContext and a setter method in my MyServiceImpl and added implements ServletContextAware, but still the error is same","body":"@JackFlamp, I have added ServletContext and a setter method in my MyServiceImpl and added implements ServletContextAware, but still the error is same"},{"owner":{"account_id":4915912,"reputation":1233,"user_id":3959856,"accept_rate":100,"display_name":"Jack Flamp"},"score":0,"creation_date":1507527815,"post_id":46630900,"comment_id":80228084,"body_markdown":"He means the implementing MyServiceImpl. Add the code for that class","body":"He means the implementing MyServiceImpl. Add the code for that class"},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507528123,"post_id":46630900,"comment_id":80228199,"body_markdown":"@JackFlamp Updated with MyServiceImpl","body":"@JackFlamp Updated with MyServiceImpl"},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507528134,"post_id":46630900,"comment_id":80228203,"body_markdown":"@MoatezBouhdid Updated with MyServiceImpl","body":"@MoatezBouhdid Updated with MyServiceImpl"},{"owner":{"account_id":4915912,"reputation":1233,"user_id":3959856,"accept_rate":100,"display_name":"Jack Flamp"},"score":0,"creation_date":1507533290,"post_id":46630900,"comment_id":80230631,"body_markdown":"@Yakhoob have you tried to autowire ServletContext like `@Autowired\nServletContext servletContext;`? In the examples I have seen they do it in the Controller class","body":"@Yakhoob have you tried to autowire ServletContext like <code>@Autowired ServletContext servletContext;</code>? In the examples I have seen they do it in the Controller class"},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507533444,"post_id":46630900,"comment_id":80230725,"body_markdown":"Yes Jack. I have tried that also. Still the same","body":"Yes Jack. I have tried that also. Still the same"},{"owner":{"account_id":4947636,"reputation":1073,"user_id":3982592,"display_name":"Shyam Baitmangalkar"},"score":0,"creation_date":1507535964,"post_id":46630900,"comment_id":80232043,"body_markdown":"As you are implementing `ServletContextAware`, Spring will inject `ServletContext` for you. Remove `@Autowired` from `ServletContext`.","body":"As you are implementing <code>ServletContextAware</code>, Spring will inject <code>ServletContext</code> for you. Remove <code>@Autowired</code> from <code>ServletContext</code>."},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507536130,"post_id":46630900,"comment_id":80232141,"body_markdown":"@ShyamBaitmangalkar, followed your answer, but still this is the error Exception in thread &quot;main&quot; org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;confirmPurchaseController&#39;: Unsatisfied dependency expressed through field &#39;servletContext&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;javax.servlet.ServletContext&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=tru","body":"@ShyamBaitmangalkar, followed your answer, but still this is the error Exception in thread &quot;main&quot; org.springframework.beans.factory.UnsatisfiedDependencyExcep&zwnj;&#8203;tion: Error creating bean with name &#39;confirmPurchaseController&#39;: Unsatisfied dependency expressed through field &#39;servletContext&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionExcept&zwnj;&#8203;ion: No qualifying bean of type &#39;javax.servlet.ServletContext&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(req&zwnj;&#8203;uired=tru"},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507536212,"post_id":46630900,"comment_id":80232183,"body_markdown":"Why is it pointing to ConfirmPurchaseController?","body":"Why is it pointing to ConfirmPurchaseController?"},{"owner":{"account_id":4947636,"reputation":1073,"user_id":3982592,"display_name":"Shyam Baitmangalkar"},"score":0,"creation_date":1507536431,"post_id":46630900,"comment_id":80232312,"body_markdown":"Because your controller has a service layer object `MyService` and creation of this service layer object is failing, due to which, the creation of controller object is failing.","body":"Because your controller has a service layer object <code>MyService</code> and creation of this service layer object is failing, due to which, the creation of controller object is failing."},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507536753,"post_id":46630900,"comment_id":80232480,"body_markdown":"Okay. But how to fix this one? :(","body":"Okay. But how to fix this one? :("},{"owner":{"account_id":4947636,"reputation":1073,"user_id":3982592,"display_name":"Shyam Baitmangalkar"},"score":0,"creation_date":1507536812,"post_id":46630900,"comment_id":80232511,"body_markdown":"I observe, you have a  method called `setContext()` which takes a `ServletContext`. This method should have `@Autowired` rather than the direct field. And the method name should be `setServletContext()`, since you are trying to auto bind with the fields.","body":"I observe, you have a  method called <code>setContext()</code> which takes a <code>ServletContext</code>. This method should have <code>@Autowired</code> rather than the direct field. And the method name should be <code>setServletContext()</code>, since you are trying to auto bind with the fields."},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507537035,"post_id":46630900,"comment_id":80232616,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/156250/discussion-between-yakhoob-and-shyam-baitmangalkar).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/156250/discussion-between-yakhoob-and-shyam-baitmangalkar\">continue this discussion in chat</a>."},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507537107,"post_id":46630900,"comment_id":80232648,"body_markdown":"I don&#39;t know but I don&#39;t like `@Component` and `@Service` in `MyService` and `MyServiceImpl`. Just keep `@Service` and remove the other one and add do it like this `@Service(&#39;MyService&#39;)`","body":"I don&#39;t know but I don&#39;t like <code>@Component</code> and <code>@Service</code> in <code>MyService</code> and <code>MyServiceImpl</code>. Just keep <code>@Service</code> and remove the other one and add do it like this <code>@Service(&#39;MyService&#39;)</code>"},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507539103,"post_id":46630900,"comment_id":80233774,"body_markdown":"@MoatezBouhdid tried even that.. Same issue","body":"@MoatezBouhdid tried even that.. Same issue"}],"answers":[{"tags":[],"owner":{"account_id":10199714,"reputation":822,"user_id":7530402,"display_name":"staszko032"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507534430,"creation_date":1507534430,"answer_id":46640989,"question_id":46630900,"body_markdown":"It is not an answer, however I cannot add a comment yet. \r\n\r\nDid you try to autowire a ServletContext via setter method?\r\n- remove @Autowired from property\r\n- remove one of your setters for context (unnecessary duplication)\r\n- mark a setter as @Autowired\r\n\r\nMoreover remove @Component annotation from MyService, it is unnecessary if you are using @Service annotation in its implementation.","title":"Unsatisfied Dependency Exception in creating beans using Spring","body":"<p>It is not an answer, however I cannot add a comment yet. </p>\n\n<p>Did you try to autowire a ServletContext via setter method?\n- remove @Autowired from property\n- remove one of your setters for context (unnecessary duplication)\n- mark a setter as @Autowired</p>\n\n<p>Moreover remove @Component annotation from MyService, it is unnecessary if you are using @Service annotation in its implementation.</p>\n"},{"tags":[],"owner":{"account_id":4947636,"reputation":1073,"user_id":3982592,"display_name":"Shyam Baitmangalkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507542785,"creation_date":1507542785,"answer_id":46643575,"question_id":46630900,"body_markdown":"As per Apache Tomcat documentation, a `ServletContext` \r\n\r\n&gt; Defines a set of methods that a servlet uses to communicate with its\r\n&gt; servlet container. \r\n&gt; \r\n&gt; There is one context per &quot;web application&quot; per Java Virtual Machine.\r\n&gt; (A &quot;web application&quot; is a collection of servlets and content installed\r\n&gt; under a specific subset of the server&#39;s URL namespace such as /catalog\r\n&gt; and possibly installed via a .war file.)\r\n\r\nWhich means that a ServletContext is only valid within a Servlet Container like Apache Tomcat. But as I can see, you are trying to run a normal Java application by creating beans in a main method, which makes the existence of `ServletContext` invalid.\r\n\r\nSo what you have to do is:\r\n\r\nSTEP 1: Build your AppConfig and override required methods.\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(basePackages = {&quot;net.bb.spring&quot;})\r\n    public class AppConfig extends WebMvcConfigurerAdapter {\r\n        \r\n        \t@Override\r\n        \tpublic void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\r\n        \t\tconfigurer.enable();\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        \t\tregistry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/WEB-INF/&quot;);\r\n        \t}\r\n            //....\r\n        }\r\n\r\n\r\nSTEP 2: Create WebInitializer to initialize Dispatcher Servlet\r\n\r\n    public class WebInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n    \r\n    \t@Override\r\n    \tprotected Class&lt;?&gt;[] getRootConfigClasses() {\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected Class&lt;?&gt;[] getServletConfigClasses() {\r\n    \t\treturn new Class&lt;?&gt;[] {AppConfig.class};\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected String[] getServletMappings() {\r\n    \t\treturn new String[] {&quot;/&quot;};\r\n    \t}\r\n    \r\n    }\r\n\r\nSTEP 3: Create your Service layer to autowire ServletContext\r\n\r\n    @Service\r\n    public class MyServiceImpl implements MyService {\r\n    \tprivate ServletContext servletContext;\r\n    \r\n    \t@Autowire\r\n    \tpublic MyServiceImpl(ServletContext servletContext) {\r\n    \t\tthis.servletContext = servletContext;\r\n    \t}\r\n    \r\n    \tpublic ServletContext getServletContext() {\r\n    \t\treturn servletContext;\r\n    \t}\r\n    \r\n    \t//...\r\n    }\r\n\r\nSTEP 4: Build your application to a WAR file\r\n\r\nSTEP 5: Deploy your WAR file to webapp folder of Tomcat (If you are using Tomcat)\r\n\r\nSTEP 6: Start Tomcat","title":"Unsatisfied Dependency Exception in creating beans using Spring","body":"<p>As per Apache Tomcat documentation, a <code>ServletContext</code> </p>\n\n<blockquote>\n  <p>Defines a set of methods that a servlet uses to communicate with its\n  servlet container. </p>\n  \n  <p>There is one context per \"web application\" per Java Virtual Machine.\n  (A \"web application\" is a collection of servlets and content installed\n  under a specific subset of the server's URL namespace such as /catalog\n  and possibly installed via a .war file.)</p>\n</blockquote>\n\n<p>Which means that a ServletContext is only valid within a Servlet Container like Apache Tomcat. But as I can see, you are trying to run a normal Java application by creating beans in a main method, which makes the existence of <code>ServletContext</code> invalid.</p>\n\n<p>So what you have to do is:</p>\n\n<p>STEP 1: Build your AppConfig and override required methods.</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages = {\"net.bb.spring\"})\npublic class AppConfig extends WebMvcConfigurerAdapter {\n\n        @Override\n        public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\n            configurer.enable();\n        }\n\n        @Override\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\n            registry.addResourceHandler(\"/resources/**\").addResourceLocations(\"/WEB-INF/\");\n        }\n        //....\n    }\n</code></pre>\n\n<p>STEP 2: Create WebInitializer to initialize Dispatcher Servlet</p>\n\n<pre><code>public class WebInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return null;\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class&lt;?&gt;[] {AppConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[] {\"/\"};\n    }\n\n}\n</code></pre>\n\n<p>STEP 3: Create your Service layer to autowire ServletContext</p>\n\n<pre><code>@Service\npublic class MyServiceImpl implements MyService {\n    private ServletContext servletContext;\n\n    @Autowire\n    public MyServiceImpl(ServletContext servletContext) {\n        this.servletContext = servletContext;\n    }\n\n    public ServletContext getServletContext() {\n        return servletContext;\n    }\n\n    //...\n}\n</code></pre>\n\n<p>STEP 4: Build your application to a WAR file</p>\n\n<p>STEP 5: Deploy your WAR file to webapp folder of Tomcat (If you are using Tomcat)</p>\n\n<p>STEP 6: Start Tomcat</p>\n"},{"tags":[],"owner":{"account_id":4600901,"reputation":1105,"user_id":3731684,"accept_rate":67,"display_name":"Ahmed Lotfy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561325625,"creation_date":1561325625,"answer_id":56727895,"question_id":46630900,"body_markdown":"Here is what you need to change:\r\n\r\n1) You don&#39;t need to annotate the interface with `@Component`, annotation is required only on the implementation class\r\n\r\n**MyService**\r\n\r\n    public interface MyService {\r\n        // Methods defined\r\n    }\r\n\r\n2) Use constructor injection to obtain an instance of `ServeletContext`.\r\n\r\n    @Service\r\n    public class MyServiceImpl implements MyService, ServletContextAware {\r\n        private ServletContext servletContext;\r\n    \r\n        @Autowire\r\n        public MyServiceImpl(ServletContext servletContext) {\r\n            this.servletContext = servletContext;\r\n        }\r\n    \r\n   \r\n    \r\n        //TODO: other methods goes here...\r\n    }\r\n\r\npay attention that `ServletContext` is not a Spring bean and it can, therefore, not be injected unless you implement `ServletContextAware`. keep your implementation class `implements` `ServletContextAware`\r\n","title":"Unsatisfied Dependency Exception in creating beans using Spring","body":"<p>Here is what you need to change:</p>\n\n<p>1) You don't need to annotate the interface with <code>@Component</code>, annotation is required only on the implementation class</p>\n\n<p><strong>MyService</strong></p>\n\n<pre><code>public interface MyService {\n    // Methods defined\n}\n</code></pre>\n\n<p>2) Use constructor injection to obtain an instance of <code>ServeletContext</code>.</p>\n\n<pre><code>@Service\npublic class MyServiceImpl implements MyService, ServletContextAware {\n    private ServletContext servletContext;\n\n    @Autowire\n    public MyServiceImpl(ServletContext servletContext) {\n        this.servletContext = servletContext;\n    }\n\n\n\n    //TODO: other methods goes here...\n}\n</code></pre>\n\n<p>pay attention that <code>ServletContext</code> is not a Spring bean and it can, therefore, not be injected unless you implement <code>ServletContextAware</code>. keep your implementation class <code>implements</code> <code>ServletContextAware</code></p>\n"}],"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11928,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1700571820,"creation_date":1507464230,"question_id":46630900,"body_markdown":"I&#39;m trying to use JPA for my spring application. I have integrated the JPATransactionManager &amp; LocalEntityManagerFactoryBean into AppConfig class. Now, when I try to call one of the method which is in DaoImpl, the AppConfig is not able to Autowire the classes. Here is my code \r\n\r\n    Test Class\r\n\r\n    public class Test {\r\n\tpublic static void main(String[] args) {\r\n\t      AnnotationConfigApplicationContext context = \r\n\t            new AnnotationConfigApplicationContext(AppConfig.class);\r\n\r\n\t      BbDao personService = context.getBean(BbDao.class);\r\n\t      personService.getDealByDealId(&quot;0194541605021NJMAPFU&quot;);\r\n\t      context.close();\r\n\t   }\r\n    }\r\n\r\nAppConfig\r\n-\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @EnableTransactionManagement\r\n    @ComponentScan(basePackages = &quot;net.bb.spring&quot;)\r\n    public class AppConfig{\r\n\t\r\n\t @Bean\r\n\t   public LocalEntityManagerFactoryBean getEntityManagerFactoryBean() {\r\n\t      LocalEntityManagerFactoryBean factoryBean = new LocalEntityManagerFactoryBean();\r\n\t      factoryBean.setPersistenceUnitName(&quot;MyPersistence&quot;);\r\n\t      return factoryBean;\r\n\t   }\r\n\r\n\t   @Bean\r\n\t   public JpaTransactionManager geJpaTransactionManager() {\r\n\t      JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n\t      transactionManager.setEntityManagerFactory(getEntityManagerFactoryBean().getObject());\r\n\t      return transactionManager;\r\n\t   }\r\n\t\r\n    }\r\n\r\nConfirmPurchaseController\r\n--\r\n\r\n    @RestController\r\n    public class ConfirmPurchaseController {\r\n\t\r\n\tprivate Logger logger = Logger.getLogger(ConfirmPurchaseController.class);\r\n\t\r\n\t@Autowired\r\n\tprivate MyService myService;\r\n\t\r\n\t@GetMapping(&quot;/purchase&quot;)\r\n\tpublic ResultDto confirmpurchase(HttpServletResponse response) throws ClassNotFoundException, IOException {\r\n\t\t// Business Logic\t \r\n\t}\r\n    }\r\n\r\nMyService\r\n-\r\n\r\n    @Component\r\n    public interface MyService {\r\n        // Methods defined\r\n    }\r\n\r\nMyServiceImpl\r\n-\r\n\r\n    @Service\r\n    public class MyServiceImpl implements MyService, ServletContextAware {\r\n\t\r\n    private ServletContext servletContext;\r\n\r\n\tpublic void setServletContext(ServletContext servletContext) {\r\n\t\tthis.servletContext = servletContext;\r\n\t}\r\n\r\n\tpublic ServletContext getServletContext() {\r\n\t\treturn servletContext;\r\n\t}\r\n\r\n\t\r\n    // Added the implemented methods of the MyService Interface\r\n    } \r\n\r\nThe exception it throws is \r\n\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;servletContext&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;javax.servlet.ServletContext&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\r\nand the error log is \r\n\r\n    Exception in thread &quot;main&quot; org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;confirmPurchaseController&#39;: Unsatisfied dependency expressed through field &#39;myService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;servletContext&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;javax.servlet.ServletContext&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n\tat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:84)\r\n\tat net.bb.spring.controller.Test.main(Test.java:14)\r\n\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;servletContext&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;javax.servlet.ServletContext&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)\r\n\t... 14 more\r\n\r\n     Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;javax.servlet.ServletContext&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1493)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1104)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)\r\n\t... 27 more\r\n\r\nAny ideas would be very helpful for me.\r\n\r\nP.S : Im using configuration as annotations, no XML ","title":"Unsatisfied Dependency Exception in creating beans using Spring","body":"<p>I'm trying to use JPA for my spring application. I have integrated the JPATransactionManager &amp; LocalEntityManagerFactoryBean into AppConfig class. Now, when I try to call one of the method which is in DaoImpl, the AppConfig is not able to Autowire the classes. Here is my code </p>\n\n<pre><code>Test Class\n\npublic class Test {\npublic static void main(String[] args) {\n      AnnotationConfigApplicationContext context = \n            new AnnotationConfigApplicationContext(AppConfig.class);\n\n      BbDao personService = context.getBean(BbDao.class);\n      personService.getDealByDealId(\"0194541605021NJMAPFU\");\n      context.close();\n   }\n}\n</code></pre>\n\n<h2>AppConfig</h2>\n\n<pre><code>@Configuration\n@EnableWebMvc\n@EnableTransactionManagement\n@ComponentScan(basePackages = \"net.bb.spring\")\npublic class AppConfig{\n\n @Bean\n   public LocalEntityManagerFactoryBean getEntityManagerFactoryBean() {\n      LocalEntityManagerFactoryBean factoryBean = new LocalEntityManagerFactoryBean();\n      factoryBean.setPersistenceUnitName(\"MyPersistence\");\n      return factoryBean;\n   }\n\n   @Bean\n   public JpaTransactionManager geJpaTransactionManager() {\n      JpaTransactionManager transactionManager = new JpaTransactionManager();\n      transactionManager.setEntityManagerFactory(getEntityManagerFactoryBean().getObject());\n      return transactionManager;\n   }\n\n}\n</code></pre>\n\n<h2>ConfirmPurchaseController</h2>\n\n<pre><code>@RestController\npublic class ConfirmPurchaseController {\n\nprivate Logger logger = Logger.getLogger(ConfirmPurchaseController.class);\n\n@Autowired\nprivate MyService myService;\n\n@GetMapping(\"/purchase\")\npublic ResultDto confirmpurchase(HttpServletResponse response) throws ClassNotFoundException, IOException {\n    // Business Logic    \n}\n}\n</code></pre>\n\n<h2>MyService</h2>\n\n<pre><code>@Component\npublic interface MyService {\n    // Methods defined\n}\n</code></pre>\n\n<h2>MyServiceImpl</h2>\n\n<pre><code>@Service\npublic class MyServiceImpl implements MyService, ServletContextAware {\n\nprivate ServletContext servletContext;\n\npublic void setServletContext(ServletContext servletContext) {\n    this.servletContext = servletContext;\n}\n\npublic ServletContext getServletContext() {\n    return servletContext;\n}\n\n\n// Added the implemented methods of the MyService Interface\n} \n</code></pre>\n\n<p>The exception it throws is </p>\n\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myServiceImpl': Unsatisfied dependency expressed through field 'servletContext'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'javax.servlet.ServletContext' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n\n<p>and the error log is </p>\n\n<pre><code>Exception in thread \"main\" org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'confirmPurchaseController': Unsatisfied dependency expressed through field 'myService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myServiceImpl': Unsatisfied dependency expressed through field 'servletContext'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'javax.servlet.ServletContext' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)\nat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\nat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:84)\nat net.bb.spring.controller.Test.main(Test.java:14)\n\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myServiceImpl': Unsatisfied dependency expressed through field 'servletContext'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'javax.servlet.ServletContext' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)\nat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\nat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)\n... 14 more\n\n Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'javax.servlet.ServletContext' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1493)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1104)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)\n... 27 more\n</code></pre>\n\n<p>Any ideas would be very helpful for me.</p>\n\n<p>P.S : Im using configuration as annotations, no XML </p>\n"},{"tags":["java","junit","testng"],"comments":[{"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"score":0,"creation_date":1378708386,"post_id":18680360,"comment_id":27536897,"body_markdown":"What does your code look like.  Seems one of your beforeXXX method is failing, since the log shows as configuration failures as failure.  Also, how does your suite xml look like?","body":"What does your code look like.  Seems one of your beforeXXX method is failing, since the log shows as configuration failures as failure.  Also, how does your suite xml look like?"},{"owner":{"account_id":897936,"reputation":2966,"user_id":934796,"accept_rate":71,"display_name":"instanceOfObject"},"score":0,"creation_date":1378712852,"post_id":18680360,"comment_id":27538492,"body_markdown":"@niharika_neo added these details. I just have single test and yes, it seems to be failing for beforeXXX but not sure how it works from eclipse.","body":"@niharika_neo added these details. I just have single test and yes, it seems to be failing for beforeXXX but not sure how it works from eclipse."},{"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"score":0,"creation_date":1525277580,"post_id":18680360,"comment_id":87296540,"body_markdown":"Will you share exception details or log about failure? one of the possible reason is not finding `file:spring-configuration/mydb-integration-testing.xml` while running through command line but found while running from eclipse. In that case you need to set base dir while running from command line.","body":"Will you share exception details or log about failure? one of the possible reason is not finding <code>file:spring-configuration&#47;mydb-integration-testing.xml</code> while running through command line but found while running from eclipse. In that case you need to set base dir while running from command line."}],"answers":[{"tags":[],"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572359920,"creation_date":1572359920,"answer_id":58609659,"question_id":18680360,"body_markdown":"Did you assign test listeners to your test?\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Group D - Using variables&quot; parallel=&quot;false&quot; preserve-order=&quot;true&quot;&gt;\r\n      &lt;listeners&gt;    \r\n        &lt;listener class-name=&quot;com.reportng.JUnitXMLReporter&quot;/&gt;\r\n      &lt;/listeners&gt;\r\n\r\nThe test listener is catching all the failures and skipped steps / tests.","title":"Configuration failures resulting into Test skip in TestNG with no information in XMLs","body":"<p>Did you assign test listeners to your test?</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n&lt;suite name=\"Group D - Using variables\" parallel=\"false\" preserve-order=\"true\"&gt;\n  &lt;listeners&gt;    \n    &lt;listener class-name=\"com.reportng.JUnitXMLReporter\"/&gt;\n  &lt;/listeners&gt;\n</code></pre>\n\n<p>The test listener is catching all the failures and skipped steps / tests.</p>\n"}],"owner":{"account_id":897936,"reputation":2966,"user_id":934796,"accept_rate":71,"display_name":"instanceOfObject"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9942,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1700571820,"creation_date":1378613771,"question_id":18680360,"body_markdown":"I am experimenting with TestNG and it is working from eclipse. I created a test suite and trying to run it from command line.\r\n\r\nBuild fails with error saying \r\n\r\n\r\nFinal output during build says:\r\n\r\n      [testng] ===============================================\r\n       [testng] Suite\r\n       [testng] Total tests run: 1, Failures: 0, Skips: 1\r\n       [testng] Configuration Failures: 1, Skips: 2\r\n       [testng] ===============================================\r\n       [testng] \r\n       [testng] The tests failed.\r\n\r\n\r\ntestng-results.xml and index.html don&#39;t have any failures reported.\r\n\r\ntestng-failed.xml is like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Failed suite [Default suite]&quot;&gt;\r\n      &lt;test name=&quot;Default test(failed)&quot;&gt;\r\n        &lt;classes&gt;\r\n          &lt;class name=&quot;ABC.test.integration.PersistUrlTests&quot;&gt;\r\n            &lt;methods&gt;\r\n              &lt;include name=&quot;springTestContextAfterTestClass&quot;/&gt;\r\n              &lt;include name=&quot;springTestContextBeforeTestClass&quot;/&gt;\r\n              &lt;include name=&quot;springTestContextPrepareTestInstance&quot;/&gt;\r\n              &lt;include name=&quot;springTestContextAfterTestMethod&quot;/&gt;\r\n              &lt;include name=&quot;checkTest&quot;/&gt;\r\n            &lt;/methods&gt;\r\n          &lt;/class&gt; &lt;!-- ABC.test.integration.PersistUrlTests --&gt;\r\n        &lt;/classes&gt;\r\n      &lt;/test&gt; &lt;!-- Default test(failed) --&gt;\r\n    &lt;/suite&gt; &lt;!-- Failed suite [Default suite] --&gt;\r\n\r\n\r\nTest looks as follows:\r\n\r\n    @Test\r\n    @ContextConfiguration(locations = { &quot;file:spring-configuration/mydb-integration-testing.xml&quot; })\r\n    public class PersistUrlTests extends AbstractTestNGSpringContextTests {\r\n    \t\r\n    \t\t@Autowired\r\n    \t\tprotected MobiusDatabaseServiceClient mobiusDatabaseServiceClient;\r\n    \r\n    \t    @Autowired\r\n    \t    UrlDAO urlDAO;\r\n    \r\n    \t    @Autowired\r\n    \t    ScraperUrlDAO scraperUrlDAO;\r\n    \t    \r\n    \t    @BeforeClass\r\n    \t    public void init() throws Exception {\r\n    \t    \t\r\n    \t    }\r\n    \t    \r\n    \t    \r\n    \t    @Test\r\n    \t    public void checkTest() {\r\n    \t    \tGetActiveCategoriesResponse response = mobiusDatabaseServiceClient.newGetActiveCategoriesCall().call();\r\n    \t    \tSystem.out.println(response.getCategoryList());\r\n    \t    \tAssert.assertTrue(true);\r\n    \t    }\r\n    }\r\n\r\nSuite looks as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Suite&quot; parallel=&quot;none&quot;&gt;\r\n      &lt;test name=&quot;Test&quot;&gt;\r\n        &lt;classes&gt;\r\n          &lt;class name=&quot;ABC.mydatabase.test.integration.PersistUrlTests&quot;/&gt;\r\n        &lt;/classes&gt;\r\n      &lt;/test&gt; &lt;!-- Test --&gt;\r\n    &lt;/suite&gt; &lt;!-- Suite --&gt;\r\n\r\nBut on the other hand, last updated time for this file is in past. I am not sure if it is getting updated or not.\r\n\r\nI am not sure how to debug these XML files generated by testNG as they appear to be out of sync to each other.\r\n\r\nWhich file should exactly be looked at? And why are they not supporting to what &quot;configuration&quot; failed?\r\n\r\n\r\n\r\n","title":"Configuration failures resulting into Test skip in TestNG with no information in XMLs","body":"<p>I am experimenting with TestNG and it is working from eclipse. I created a test suite and trying to run it from command line.</p>\n\n<p>Build fails with error saying </p>\n\n<p>Final output during build says:</p>\n\n<pre><code>  [testng] ===============================================\n   [testng] Suite\n   [testng] Total tests run: 1, Failures: 0, Skips: 1\n   [testng] Configuration Failures: 1, Skips: 2\n   [testng] ===============================================\n   [testng] \n   [testng] The tests failed.\n</code></pre>\n\n<p>testng-results.xml and index.html don't have any failures reported.</p>\n\n<p>testng-failed.xml is like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n&lt;suite name=\"Failed suite [Default suite]\"&gt;\n  &lt;test name=\"Default test(failed)\"&gt;\n    &lt;classes&gt;\n      &lt;class name=\"ABC.test.integration.PersistUrlTests\"&gt;\n        &lt;methods&gt;\n          &lt;include name=\"springTestContextAfterTestClass\"/&gt;\n          &lt;include name=\"springTestContextBeforeTestClass\"/&gt;\n          &lt;include name=\"springTestContextPrepareTestInstance\"/&gt;\n          &lt;include name=\"springTestContextAfterTestMethod\"/&gt;\n          &lt;include name=\"checkTest\"/&gt;\n        &lt;/methods&gt;\n      &lt;/class&gt; &lt;!-- ABC.test.integration.PersistUrlTests --&gt;\n    &lt;/classes&gt;\n  &lt;/test&gt; &lt;!-- Default test(failed) --&gt;\n&lt;/suite&gt; &lt;!-- Failed suite [Default suite] --&gt;\n</code></pre>\n\n<p>Test looks as follows:</p>\n\n<pre><code>@Test\n@ContextConfiguration(locations = { \"file:spring-configuration/mydb-integration-testing.xml\" })\npublic class PersistUrlTests extends AbstractTestNGSpringContextTests {\n\n        @Autowired\n        protected MobiusDatabaseServiceClient mobiusDatabaseServiceClient;\n\n        @Autowired\n        UrlDAO urlDAO;\n\n        @Autowired\n        ScraperUrlDAO scraperUrlDAO;\n\n        @BeforeClass\n        public void init() throws Exception {\n\n        }\n\n\n        @Test\n        public void checkTest() {\n            GetActiveCategoriesResponse response = mobiusDatabaseServiceClient.newGetActiveCategoriesCall().call();\n            System.out.println(response.getCategoryList());\n            Assert.assertTrue(true);\n        }\n}\n</code></pre>\n\n<p>Suite looks as follows:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n&lt;suite name=\"Suite\" parallel=\"none\"&gt;\n  &lt;test name=\"Test\"&gt;\n    &lt;classes&gt;\n      &lt;class name=\"ABC.mydatabase.test.integration.PersistUrlTests\"/&gt;\n    &lt;/classes&gt;\n  &lt;/test&gt; &lt;!-- Test --&gt;\n&lt;/suite&gt; &lt;!-- Suite --&gt;\n</code></pre>\n\n<p>But on the other hand, last updated time for this file is in past. I am not sure if it is getting updated or not.</p>\n\n<p>I am not sure how to debug these XML files generated by testNG as they appear to be out of sync to each other.</p>\n\n<p>Which file should exactly be looked at? And why are they not supporting to what \"configuration\" failed?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1964374,"reputation":543,"user_id":1767688,"accept_rate":75,"display_name":"SpaceCowboy"},"score":0,"creation_date":1625213852,"post_id":68221781,"comment_id":120573035,"body_markdown":"hmmm this might be helpful or at least worth a read -&gt; https://stackoverflow.com/questions/41265266/how-to-solve-inaccessibleobjectexception-unable-to-make-member-accessible-m","body":"hmmm this might be helpful or at least worth a read -&gt; <a href=\"https://stackoverflow.com/questions/41265266/how-to-solve-inaccessibleobjectexception-unable-to-make-member-accessible-m\" title=\"how to solve inaccessibleobjectexception unable to make member accessible m\">stackoverflow.com/questions/41265266/&hellip;</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1625215147,"post_id":68221781,"comment_id":120573607,"body_markdown":"For now, you can probably work around the error with `--illegal-access=permit`. But whatever code that is trying to access that method should be fixed (see https://stackoverflow.com/questions/50471466/what-to-use-instead-of-defineclass-in-java10)","body":"For now, you can probably work around the error with <code>--illegal-access=permit</code>. But whatever code that is trying to access that method should be fixed (see <a href=\"https://stackoverflow.com/questions/50471466/what-to-use-instead-of-defineclass-in-java10\" title=\"what to use instead of defineclass in java10\">stackoverflow.com/questions/50471466/&hellip;</a>)"},{"owner":{"account_id":357760,"reputation":1492,"user_id":2304483,"display_name":"user2304483"},"score":0,"creation_date":1625216445,"post_id":68221781,"comment_id":120574065,"body_markdown":"I prefer to fix it cause I&#39;m starting new project, do you know what I should change in the code, I have simple pojo","body":"I prefer to fix it cause I&#39;m starting new project, do you know what I should change in the code, I have simple pojo"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1625219304,"post_id":68221781,"comment_id":120575179,"body_markdown":"Are you using any libraries/frameworks?","body":"Are you using any libraries/frameworks?"},{"owner":{"account_id":357760,"reputation":1492,"user_id":2304483,"display_name":"user2304483"},"score":0,"creation_date":1625228905,"post_id":68221781,"comment_id":120578747,"body_markdown":"Of course, springboot","body":"Of course, springboot"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1625270219,"post_id":68221781,"comment_id":120591566,"body_markdown":"Then it is the responsibility of Spring to fix the problem. Frameworks like that often define classes at run-time and ideally would have switched from `ClassLoader#defineClass(...)` to `Lookup#defineClass(....)` by now. Are you using the latest version of Spring Boot?","body":"Then it is the responsibility of Spring to fix the problem. Frameworks like that often define classes at run-time and ideally would have switched from <code>ClassLoader#defineClass(...)</code> to <code>Lookup#defineClass(....)</code> by now. Are you using the latest version of Spring Boot?"},{"owner":{"account_id":357760,"reputation":1492,"user_id":2304483,"display_name":"user2304483"},"score":0,"creation_date":1625295088,"post_id":68221781,"comment_id":120594390,"body_markdown":"the parent in the pom file is 2.5.2","body":"the parent in the pom file is 2.5.2"}],"answers":[{"tags":[],"owner":{"account_id":19859055,"reputation":9,"user_id":14547776,"display_name":"Youness Hourri"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1644498441,"creation_date":1644498441,"answer_id":71065668,"question_id":68221781,"body_markdown":"You can just define the JRE system library by precising the path following the next steps: Project Folder -&gt; Properties -&gt; Java build path -&gt; double clicks on JRE system library and choose your installed JRE, it works for me.\r\nAnd sorry for my bad English","title":"How to fix &quot;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass?","body":"<p>You can just define the JRE system library by precising the path following the next steps: Project Folder -&gt; Properties -&gt; Java build path -&gt; double clicks on JRE system library and choose your installed JRE, it works for me.\nAnd sorry for my bad English</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1700571350,"creation_date":1661581522,"answer_id":73508820,"question_id":68221781,"body_markdown":"You are using old versions of Spring / Spring Boot that are incompatible with, and do not support Java 16.  \r\n\r\nAccording to the [Spring Compatibility Matrix][1], you will need to use Spring 5.3.x or later for Java 16 compatibility. \r\n\r\nFor Spring-Boot, you need 2.7.1 or later for Java 17 compatibility ... according to this [Spring And Spring Boot Versions][2] page.\r\n\r\nAlso note that Java 16 is end-of-life as well.  You probably should be using one of the LTS versions of Java; i.e. Java 8, 11, 17, 21 ...\r\n\r\n&lt;sup&gt;(Winding back to an earlier Java LTS would &quot;fix&quot; the Spring compatibility issue, but IMO rolling Spring and Java forward is better.  You don&#39;t want to be developing a new project on top of a base that is *already* outdated.)&lt;/sup&gt;\r\n\r\n---------------------\r\n\r\nThe actual problem you are seeing is due to something (probably a Spring Boot custom classloader) accessing an &quot;internal&quot; API.  This leads to warning messages since Java 9 and is blocked in Java 14 and later.  This Q&amp;A gives some background:\r\n\r\n  - https://stackoverflow.com/questions/41265266\r\n\r\nThe simple and best solution is to use only &quot;supported&quot; versions of Java for your selected versions of Spring and Spring Boot. \r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-Versions\r\n  [2]: https://www.marcobehler.com/guides/spring-and-spring-boot-versions","title":"How to fix &quot;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass?","body":"<p>You are using old versions of Spring / Spring Boot that are incompatible with, and do not support Java 16.</p>\n<p>According to the <a href=\"https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-Versions\" rel=\"nofollow noreferrer\">Spring Compatibility Matrix</a>, you will need to use Spring 5.3.x or later for Java 16 compatibility.</p>\n<p>For Spring-Boot, you need 2.7.1 or later for Java 17 compatibility ... according to this <a href=\"https://www.marcobehler.com/guides/spring-and-spring-boot-versions\" rel=\"nofollow noreferrer\">Spring And Spring Boot Versions</a> page.</p>\n<p>Also note that Java 16 is end-of-life as well.  You probably should be using one of the LTS versions of Java; i.e. Java 8, 11, 17, 21 ...</p>\n<p><sup>(Winding back to an earlier Java LTS would &quot;fix&quot; the Spring compatibility issue, but IMO rolling Spring and Java forward is better.  You don't want to be developing a new project on top of a base that is <em>already</em> outdated.)</sup></p>\n<hr />\n<p>The actual problem you are seeing is due to something (probably a Spring Boot custom classloader) accessing an &quot;internal&quot; API.  This leads to warning messages since Java 9 and is blocked in Java 14 and later.  This Q&amp;A gives some background:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/41265266\">How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?</a></li>\n</ul>\n<p>The simple and best solution is to use only &quot;supported&quot; versions of Java for your selected versions of Spring and Spring Boot.</p>\n"}],"owner":{"account_id":357760,"reputation":1492,"user_id":2304483,"display_name":"user2304483"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40003,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":2,"score":12,"last_activity_date":1700571350,"creation_date":1625213504,"question_id":68221781,"body_markdown":"I&#39;ve started a project using java 16 and I&#39;m getting errors in the project all over the place:\r\n\r\n    An error has occurred. See error log for more details.\r\n    Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @6dfcffb5\r\n\r\nIt looks like the code I have from different version of java is not working in this particular\r\nversion. Any idea what I need to change maybe in the pojo class.\r\nI have only 1 pojo in the application cause it is micro service.\r\n\r\nThanks.","title":"How to fix &quot;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass?","body":"<p>I've started a project using java 16 and I'm getting errors in the project all over the place:</p>\n<pre><code>An error has occurred. See error log for more details.\nUnable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @6dfcffb5\n</code></pre>\n<p>It looks like the code I have from different version of java is not working in this particular\nversion. Any idea what I need to change maybe in the pojo class.\nI have only 1 pojo in the application cause it is micro service.</p>\n<p>Thanks.</p>\n"},{"tags":["java","google-home","google-smart-home","google-http-client"],"owner":{"account_id":12119765,"reputation":111,"user_id":8851815,"display_name":"Dafik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700571330,"creation_date":1700571330,"question_id":77522991,"body_markdown":"I wonder if google provides any extended documentation for Google Home? The [current][1] one is **totally unreadable and lacks basic information**. \r\n\r\nI managed to create a server from fullfilment API. However, I&#39;m missing information about the **max length of transmitted arguments**, e.g. roomHint, name etc. - it just says &quot;STRING&quot; but eg. in mobile application name has max length 20 chars, but in this documentation there is no such information !!!\r\n\r\nIs this better described somewhere?\r\n\r\n\r\n  [1]: https://developers.home.google.com/reference/home-graph/rest/v1/devices/sync","title":"Max length of arguments in Google Home query","body":"<p>I wonder if google provides any extended documentation for Google Home? The <a href=\"https://developers.home.google.com/reference/home-graph/rest/v1/devices/sync\" rel=\"nofollow noreferrer\">current</a> one is <strong>totally unreadable and lacks basic information</strong>.</p>\n<p>I managed to create a server from fullfilment API. However, I'm missing information about the <strong>max length of transmitted arguments</strong>, e.g. roomHint, name etc. - it just says &quot;STRING&quot; but eg. in mobile application name has max length 20 chars, but in this documentation there is no such information !!!</p>\n<p>Is this better described somewhere?</p>\n"},{"tags":["java","spring-security","userdetailsservice"],"answers":[{"tags":[],"owner":{"account_id":16029896,"reputation":160,"user_id":11569124,"display_name":"Ghulam Murtaza"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1564225232,"creation_date":1564223672,"answer_id":57231284,"question_id":57231145,"body_markdown":"You should use this class to create the UserDetails Bean\r\n\r\n    @Service(&quot;customUserDetailsService&quot;)\r\n    public class CustomUserDetailsService implements UserDetailsService{\r\n\r\n\tstatic final Logger logger = LoggerFactory.getLogger(CustomUserDetailsService.class);\r\n\t\r\n\t@Autowired\r\n\tprivate com.fortsolution.schedmate.data.services.UserService userService;\r\n\t\r\n\t@Transactional(readOnly=true)\r\n\tpublic UserDetails loadUserByUsername(String ssoId)\r\n\t\t\tthrows UsernameNotFoundException {\r\n\t\tSystem.out.println(&quot;fine here murtaza&quot;);\r\n\t\tint id = Integer.parseInt(ssoId);\r\n\t\tUser user = userService.findById(id);\r\n\t\tlogger.info(&quot;User : {}&quot;, user);\r\n\t\tif(user==null){\r\n\t\t\tlogger.info(&quot;User not found&quot;);\r\n\t\t\tthrow new UsernameNotFoundException(&quot;Username not found&quot;);\r\n\t\t}\r\n\t\treturn new org.springframework.security.core.userdetails.User(&quot;&quot;+user.getId(), user.getPassword(), \r\n\t\t\t\t true, true, true, true, getGrantedAuthorities(user));\r\n\t}\r\n\r\n\t\r\n\tprivate List&lt;GrantedAuthority&gt; getGrantedAuthorities(User user){\r\n\t\tList&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;GrantedAuthority&gt;();\r\n\t\t\r\n\t\tfor(UserProfile userProfile : user.getUserProfiles()){\r\n\t\t\tlogger.info(&quot;UserProfile : {}&quot;, userProfile);\r\n\t\t\tauthorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot;+userProfile.getType()));\r\n\t\r\n\t\t}\r\n\t\t\r\n\t\treturn authorities;\r\n\t}\r\n\t\r\n}\r\n\r\nafter creating this class you will add these two method in your\r\n\r\n    @Autowired\r\n\t@Qualifier(&quot;customUserDetailsService&quot;)\r\n\tUserDetailsService userDetailsService;\r\n\t\r\n    @Override\r\n    @Autowired // &lt;-- This is crucial otherwise Spring Boot creates its own\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n       \r\n    \tauth.userDetailsService(userDetailsService);\r\n\t\tauth.authenticationProvider(authenticationProvider());\r\n\r\n    }\r\n\r\nand\r\n\r\n    @Bean\r\n\tpublic DaoAuthenticationProvider authenticationProvider() {\r\n\t\tDaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n\t\tauthenticationProvider.setUserDetailsService(userDetailsService);\r\n\t\tauthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n\t\treturn authenticationProvider;\r\n\t}","title":"How to add PasswordEncoder into JdbcUserDetailsManager in Spring Security?","body":"<p>You should use this class to create the UserDetails Bean</p>\n\n<pre><code>@Service(\"customUserDetailsService\")\npublic class CustomUserDetailsService implements UserDetailsService{\n\nstatic final Logger logger = LoggerFactory.getLogger(CustomUserDetailsService.class);\n\n@Autowired\nprivate com.fortsolution.schedmate.data.services.UserService userService;\n\n@Transactional(readOnly=true)\npublic UserDetails loadUserByUsername(String ssoId)\n        throws UsernameNotFoundException {\n    System.out.println(\"fine here murtaza\");\n    int id = Integer.parseInt(ssoId);\n    User user = userService.findById(id);\n    logger.info(\"User : {}\", user);\n    if(user==null){\n        logger.info(\"User not found\");\n        throw new UsernameNotFoundException(\"Username not found\");\n    }\n    return new org.springframework.security.core.userdetails.User(\"\"+user.getId(), user.getPassword(), \n             true, true, true, true, getGrantedAuthorities(user));\n}\n\n\nprivate List&lt;GrantedAuthority&gt; getGrantedAuthorities(User user){\n    List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;GrantedAuthority&gt;();\n\n    for(UserProfile userProfile : user.getUserProfiles()){\n        logger.info(\"UserProfile : {}\", userProfile);\n        authorities.add(new SimpleGrantedAuthority(\"ROLE_\"+userProfile.getType()));\n\n    }\n\n    return authorities;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>after creating this class you will add these two method in your</p>\n\n<pre><code>@Autowired\n@Qualifier(\"customUserDetailsService\")\nUserDetailsService userDetailsService;\n\n@Override\n@Autowired // &lt;-- This is crucial otherwise Spring Boot creates its own\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n\n    auth.userDetailsService(userDetailsService);\n    auth.authenticationProvider(authenticationProvider());\n\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Bean\npublic DaoAuthenticationProvider authenticationProvider() {\n    DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n    authenticationProvider.setUserDetailsService(userDetailsService);\n    authenticationProvider.setPasswordEncoder(passwordEncoder());\n    return authenticationProvider;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1623444,"reputation":227,"user_id":1499546,"display_name":"khaemuaset"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700571266,"creation_date":1700571266,"answer_id":77522980,"question_id":57231145,"body_markdown":" *I want to add the BCryptPasswordEncoder at the JdbcUserDetailsManager.*\r\n\r\nWell, basically, you don&#39;t do it directly. The password encoder belongs in the `DaoAuthenticationProvider`, **not in the `UserDetailsService`.** When you set the password of a new user using `JdbcUserDetailsManager`, the password you give to the `JdbcUserDetailsManager` should be *already encrypted*.\r\n\r\nSo : \r\n\r\n- you can simply declare your encoder as a bean (I&#39;d suggest using `PasswordEncoderFactories.createDelegatingPasswordEncoder()`) ;\r\n- it will be automatically used when authenticating users --- you simply need to configure your `UserDetailService` \r\n- when creating new users, **you** need to manually encode the password before saving the user. So you can do it in the service class you use for this, where you inject your encoder.\r\n\r\n\r\nYou usually don&#39;t need to configure the `DaoAuthenticationProvider`, but if you want to, the following code would do :\r\n\r\n~~~java\r\n@Bean\r\npublic AuthenticationManager authenticationManager (\r\nUserDetailsService userDetailsService ,\r\nPasswordEncoder encoder ) throws Exception {\r\n  DaoAuthenticationProvider provider = new DaoAuthenticationProvider ();\r\n  provider.setUserDetailsService(userDetailsService);\r\n  provider.setPasswordEncoder(encoder);\r\n  return new ProviderManager(provider);\r\n}\r\n~~~\r\n\r\n\r\n","title":"How to add PasswordEncoder into JdbcUserDetailsManager in Spring Security?","body":"<p><em>I want to add the BCryptPasswordEncoder at the JdbcUserDetailsManager.</em></p>\n<p>Well, basically, you don't do it directly. The password encoder belongs in the <code>DaoAuthenticationProvider</code>, <strong>not in the <code>UserDetailsService</code>.</strong> When you set the password of a new user using <code>JdbcUserDetailsManager</code>, the password you give to the <code>JdbcUserDetailsManager</code> should be <em>already encrypted</em>.</p>\n<p>So :</p>\n<ul>\n<li>you can simply declare your encoder as a bean (I'd suggest using <code>PasswordEncoderFactories.createDelegatingPasswordEncoder()</code>) ;</li>\n<li>it will be automatically used when authenticating users --- you simply need to configure your <code>UserDetailService</code></li>\n<li>when creating new users, <strong>you</strong> need to manually encode the password before saving the user. So you can do it in the service class you use for this, where you inject your encoder.</li>\n</ul>\n<p>You usually don't need to configure the <code>DaoAuthenticationProvider</code>, but if you want to, the following code would do :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AuthenticationManager authenticationManager (\nUserDetailsService userDetailsService ,\nPasswordEncoder encoder ) throws Exception {\n  DaoAuthenticationProvider provider = new DaoAuthenticationProvider ();\n  provider.setUserDetailsService(userDetailsService);\n  provider.setPasswordEncoder(encoder);\n  return new ProviderManager(provider);\n}\n</code></pre>\n"}],"owner":{"display_name":"user9608350"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700571266,"creation_date":1564222504,"question_id":57231145,"body_markdown":"I&#39;m learning about Spring Security and I want to add the BCryptPasswordEncoder at the JdbcUserDetailsManager.\r\n\r\nThis is the code:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class DemoSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \t    \t\r\n    \t@Bean\r\n    \tpublic PasswordEncoder passwordEncoder() {\r\n    \t\t\r\n    \t\treturn new BCryptPasswordEncoder();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \t@Autowired\r\n    \tpublic UserDetailsManager userDetailsManager(DataSource securityDataSource) {\r\n    \t\t\r\n    \t\tJdbcUserDetailsManager jdbcUserDetailsManager = new JdbcUserDetailsManager();\r\n    \t\t\r\n    \t\tjdbcUserDetailsManager.setDataSource(securityDataSource);\r\n    \t\t\r\n    \t\treturn jdbcUserDetailsManager; \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\t\r\n    \t\thttp.authorizeRequests()   \r\n    \t\t\t\t.antMatchers(&quot;/&quot;).hasRole(&quot;EMPLOYEE&quot;)\r\n    \t\t\t\t.antMatchers(&quot;/leaders/**&quot;).hasRole(&quot;MANAGER&quot;)\r\n    \t\t\t\t.antMatchers(&quot;/systems/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n    \t\t\t.and()\r\n    \t\t\t.formLogin() \r\n    \t\t\t\t.loginPage(&quot;/showMyLoginPage&quot;)  \r\n    \t\t\t\t.loginProcessingUrl(&quot;/authenticateTheUser&quot;)  \r\n    \t\t\t\t.permitAll()  \r\n    \t\t\t.and()\r\n    \t\t\t.logout().permitAll()  \r\n    \t\t\t.and()\r\n    \t\t\t.exceptionHandling().accessDeniedPage(&quot;/access-denied&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nI need the UserDetailsManager bean to inject in other class. Thank you!","title":"How to add PasswordEncoder into JdbcUserDetailsManager in Spring Security?","body":"<p>I'm learning about Spring Security and I want to add the BCryptPasswordEncoder at the JdbcUserDetailsManager.</p>\n\n<p>This is the code:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class DemoSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    @Autowired\n    public UserDetailsManager userDetailsManager(DataSource securityDataSource) {\n\n        JdbcUserDetailsManager jdbcUserDetailsManager = new JdbcUserDetailsManager();\n\n        jdbcUserDetailsManager.setDataSource(securityDataSource);\n\n        return jdbcUserDetailsManager; \n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.authorizeRequests()   \n                .antMatchers(\"/\").hasRole(\"EMPLOYEE\")\n                .antMatchers(\"/leaders/**\").hasRole(\"MANAGER\")\n                .antMatchers(\"/systems/**\").hasRole(\"ADMIN\")\n            .and()\n            .formLogin() \n                .loginPage(\"/showMyLoginPage\")  \n                .loginProcessingUrl(\"/authenticateTheUser\")  \n                .permitAll()  \n            .and()\n            .logout().permitAll()  \n            .and()\n            .exceptionHandling().accessDeniedPage(\"/access-denied\");\n    }\n\n}\n</code></pre>\n\n<p>I need the UserDetailsManager bean to inject in other class. Thank you!</p>\n"},{"tags":["java","reactjs","json","spring","spring-security"],"comments":[{"owner":{"account_id":21093130,"reputation":1,"user_id":15504641,"display_name":"Davesson"},"score":0,"creation_date":1700570832,"post_id":77522933,"comment_id":136668707,"body_markdown":"My submenu: https://pastecode.dev/s/0HYvgKRv\nTutorial submenu: https://pastecode.dev/s/zNQoyUCM\nThe tutorial: https://github.com/bezkoder/react-jwt-auth/tree/master","body":"My submenu: <a href=\"https://pastecode.dev/s/0HYvgKRv\" rel=\"nofollow noreferrer\">pastecode.dev/s/0HYvgKRv</a> Tutorial submenu: <a href=\"https://pastecode.dev/s/zNQoyUCM\" rel=\"nofollow noreferrer\">pastecode.dev/s/zNQoyUCM</a> The tutorial: <a href=\"https://github.com/bezkoder/react-jwt-auth/tree/master\" rel=\"nofollow noreferrer\">github.com/bezkoder/react-jwt-auth/tree/master</a>"}],"owner":{"account_id":21093130,"reputation":1,"user_id":15504641,"display_name":"Davesson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700571027,"creation_date":1700570769,"question_id":77522933,"body_markdown":"I started a project in which the frontend is React, in which I have already written the menus, but I have only just written the authentication based on a tutorial. The authentication works perfectly, but I wrote the submenus completely differently than in the tutorial and I cannot implement my code in the tutorial&#39;s code. Can you help me how to use my submenu? The way I tried it didn&#39;t work because I get this error message: `&quot;Objects are not valid as a React child (found: object with keys {name, zip, state, city, id}). If you meant to render a collection of children, use an array instead.&quot;`. I think it&#39;s because my API call give an JSON in that form: \r\n\r\n    {\r\n        &quot;name&quot;: &quot;Vendor 1&quot;,\r\n        &quot;zip&quot;: &quot;1001&quot;,\r\n        &quot;state&quot;: &quot;NY&quot;,\r\n        &quot;city&quot;: &quot;New York&quot;,\r\n        &quot;id&quot;: 1\r\n    },\r\n\r\nAll code is in comment.\r\n\r\n\r\n","title":"React submenu with authorization","body":"<p>I started a project in which the frontend is React, in which I have already written the menus, but I have only just written the authentication based on a tutorial. The authentication works perfectly, but I wrote the submenus completely differently than in the tutorial and I cannot implement my code in the tutorial's code. Can you help me how to use my submenu? The way I tried it didn't work because I get this error message: <code>&quot;Objects are not valid as a React child (found: object with keys {name, zip, state, city, id}). If you meant to render a collection of children, use an array instead.&quot;</code>. I think it's because my API call give an JSON in that form:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;Vendor 1&quot;,\n    &quot;zip&quot;: &quot;1001&quot;,\n    &quot;state&quot;: &quot;NY&quot;,\n    &quot;city&quot;: &quot;New York&quot;,\n    &quot;id&quot;: 1\n},\n</code></pre>\n<p>All code is in comment.</p>\n"},{"tags":["java","batch-file"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700572359,"post_id":77522511,"comment_id":136668973,"body_markdown":"The first thing I&#39;d do is get rid of all that quoting. It&#39;s not necessary if you put each token into your command array, so start by doing that","body":"The first thing I&#39;d do is get rid of all that quoting. It&#39;s not necessary if you put each token into your command array, so start by doing that"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700602425,"post_id":77522511,"comment_id":136674450,"body_markdown":"You can probably both simplify your code and make it superior by calling `ProcessBuilder::inheritIO` rather than explicitly getting the input stream. Plus that way you will see any errors which you might well have.","body":"You can probably both simplify your code and make it superior by calling <code>ProcessBuilder::inheritIO</code> rather than explicitly getting the input stream. Plus that way you will see any errors which you might well have."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700603101,"post_id":77522511,"comment_id":136674519,"body_markdown":"You should  make sure stderr is always processed","body":"You should  make sure stderr is always processed"}],"owner":{"account_id":29956757,"reputation":11,"user_id":22957481,"display_name":"G. B."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1700570962,"creation_date":1700566777,"question_id":77522511,"body_markdown":"I found some interesting behaviour using java 1.8.0_202, but it&#39;s the same with actual version.\r\n\r\nThis behaviour happens when calling a windows batch script using &quot;cmd /c&quot; with input redirection, so.. when I put the batch script **and** the input file into double quotes, the batch script won&#39;t get invoked.\r\n\r\nWhen I quote just one of them, it works.\r\n\r\nWhen I copy the statement to a windows shell, it works independently from quotes, so.. also with quotes around batch script and input file.\r\n\r\nHere&#39;s example:\r\n\r\nInput file &quot;input.txt&quot; just has &quot;INPUTINPUTINPUT&quot; inside.. that&#39;s not important.\r\n\r\nbatch script &quot;batchwithird.bat&quot; (=batch with input redirection):\r\n\r\n```\r\n@echo off\r\nset /p &quot;ln=&quot;\r\necho %DATE% %TIME% input=%ln% parameters: %1 %2 %3 %4 %5 %6 &gt;&gt; batwithirdlog.txt\r\necho output %DATE% %TIME%\r\n```\r\n\r\nJava code bwird.java: there are 3 versions (1 active, 2 others remarked with //), the active one does not work. If you change remarks e.g. to activate seconds version, it works (batch script gets invoked properly):\r\n```\r\nimport java.io.*;\r\n\r\npublic class bwird {\r\n   public static void main(String[] args) {\r\n   try {\r\n      String sScript = &quot;batwithird.bat&quot;;\r\n      String sPar1 = &quot;parameter1&quot;;\r\n      String sPar2 = &quot;parameter2&quot;;\r\n      String sStatement = &quot;&quot;;\r\n      \r\n      File fInputRedir = new File(&quot;input.txt&quot;);\r\n\r\n      //version with bat+input redir quote - does NOT work\r\n      sStatement = &quot;\\&quot;&quot; + sScript + &quot;\\&quot; \\&quot;&quot; + sPar1 + &quot;\\&quot; &quot; + sPar2 + &quot; &lt; \\&quot;&quot; + fInputRedir + &quot;\\&quot;&quot;;\r\n\r\n      //version with input redir quote - this works\r\n      //sStatement = sScript + &quot; \\&quot;&quot; + sPar1 + &quot;\\&quot; &quot; + sPar2 + &quot; &lt; \\&quot;&quot; + fInputRedir + &quot;\\&quot;&quot;;\r\n      \r\n      //version with bat quote - this works\r\n      //sStatement = &quot;\\&quot;&quot; + sScript + &quot;\\&quot; \\&quot;&quot; + sPar1 + &quot;\\&quot; &quot; + sPar2 + &quot; &lt; &quot; + fInputRedir;\r\n\r\n\r\n      System.out.printf(&quot;%s\\n&quot;, &quot;cmd /c \\&quot;&quot; + sStatement + &quot;\\&quot;&quot;);\r\n\r\n      String[] cmds = null;\r\n      cmds = new String[]{&quot;cmd&quot;, &quot;/C&quot;, sStatement};\r\n      for (int i = 0; i &lt; cmds.length; i++){\r\n       System.out.printf(&quot;cmds[%d]: &lt;%s&gt;\\n&quot;,i,cmds[i]);\r\n      }\r\n\r\n      ProcessBuilder builder = new ProcessBuilder(cmds);\r\n\r\n      final Process process = builder.start();\r\n      InputStream is = process.getInputStream();\r\n      InputStreamReader isr = new InputStreamReader(is);\r\n      BufferedReader br = new BufferedReader(isr);\r\n      String line;\r\n      while ((line = br.readLine()) != null) {\r\n        System.out.println(line);\r\n      }\r\n      System.out.println(&quot;Program end&quot;);\r\n    } catch (Exception e) {\r\n     System.out.printf(&quot;error\\n&quot;);\r\n    }\r\n\t}\r\n}\r\n\r\n```\r\n\r\nI set JAVA_HOME\r\n\r\n`set JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk1.8.0_202&quot;`\r\n\r\nand compiled using\r\n\r\n`%JAVA_HOME%\\bin\\javac bwird.java`\r\n\r\nthen run\r\n\r\n`java bwird`\r\n\r\nOutput shows in first line the statement that is run.\r\n\r\nSo:\r\nTHIS version does not work:\r\n`cmd /c &quot;&quot;batwithird.bat&quot; &quot;parameter1&quot; parameter2 &lt; &quot;input.txt&quot;&quot;`\r\n\r\nwhile those two versions do:\r\n`cmd /c &quot;&quot;batwithird.bat&quot; &quot;parameter1&quot; parameter2 &lt; input.txt&quot;`\r\n`cmd /c &quot;batwithird.bat &quot;parameter1&quot; parameter2 &lt; &quot;input.txt&quot;&quot;`\r\n\r\n**So the final question is:**\r\nIs there an explanation why running those statement via Java/Processbuilder shows a different behaviour from running it directly from cmd.exe?\r\nIs there a way to fix it?\r\n\r\n\r\nThank you for your help!\r\n\r\nG.\r\n\r\n\r\n\r\nI would expect all three versions would work.. like when copied to cmd.exe","title":"Java behaviour when windows batch script with input redirection is invoked","body":"<p>I found some interesting behaviour using java 1.8.0_202, but it's the same with actual version.</p>\n<p>This behaviour happens when calling a windows batch script using &quot;cmd /c&quot; with input redirection, so.. when I put the batch script <strong>and</strong> the input file into double quotes, the batch script won't get invoked.</p>\n<p>When I quote just one of them, it works.</p>\n<p>When I copy the statement to a windows shell, it works independently from quotes, so.. also with quotes around batch script and input file.</p>\n<p>Here's example:</p>\n<p>Input file &quot;input.txt&quot; just has &quot;INPUTINPUTINPUT&quot; inside.. that's not important.</p>\n<p>batch script &quot;batchwithird.bat&quot; (=batch with input redirection):</p>\n<pre><code>@echo off\nset /p &quot;ln=&quot;\necho %DATE% %TIME% input=%ln% parameters: %1 %2 %3 %4 %5 %6 &gt;&gt; batwithirdlog.txt\necho output %DATE% %TIME%\n</code></pre>\n<p>Java code bwird.java: there are 3 versions (1 active, 2 others remarked with //), the active one does not work. If you change remarks e.g. to activate seconds version, it works (batch script gets invoked properly):</p>\n<pre><code>import java.io.*;\n\npublic class bwird {\n   public static void main(String[] args) {\n   try {\n      String sScript = &quot;batwithird.bat&quot;;\n      String sPar1 = &quot;parameter1&quot;;\n      String sPar2 = &quot;parameter2&quot;;\n      String sStatement = &quot;&quot;;\n      \n      File fInputRedir = new File(&quot;input.txt&quot;);\n\n      //version with bat+input redir quote - does NOT work\n      sStatement = &quot;\\&quot;&quot; + sScript + &quot;\\&quot; \\&quot;&quot; + sPar1 + &quot;\\&quot; &quot; + sPar2 + &quot; &lt; \\&quot;&quot; + fInputRedir + &quot;\\&quot;&quot;;\n\n      //version with input redir quote - this works\n      //sStatement = sScript + &quot; \\&quot;&quot; + sPar1 + &quot;\\&quot; &quot; + sPar2 + &quot; &lt; \\&quot;&quot; + fInputRedir + &quot;\\&quot;&quot;;\n      \n      //version with bat quote - this works\n      //sStatement = &quot;\\&quot;&quot; + sScript + &quot;\\&quot; \\&quot;&quot; + sPar1 + &quot;\\&quot; &quot; + sPar2 + &quot; &lt; &quot; + fInputRedir;\n\n\n      System.out.printf(&quot;%s\\n&quot;, &quot;cmd /c \\&quot;&quot; + sStatement + &quot;\\&quot;&quot;);\n\n      String[] cmds = null;\n      cmds = new String[]{&quot;cmd&quot;, &quot;/C&quot;, sStatement};\n      for (int i = 0; i &lt; cmds.length; i++){\n       System.out.printf(&quot;cmds[%d]: &lt;%s&gt;\\n&quot;,i,cmds[i]);\n      }\n\n      ProcessBuilder builder = new ProcessBuilder(cmds);\n\n      final Process process = builder.start();\n      InputStream is = process.getInputStream();\n      InputStreamReader isr = new InputStreamReader(is);\n      BufferedReader br = new BufferedReader(isr);\n      String line;\n      while ((line = br.readLine()) != null) {\n        System.out.println(line);\n      }\n      System.out.println(&quot;Program end&quot;);\n    } catch (Exception e) {\n     System.out.printf(&quot;error\\n&quot;);\n    }\n    }\n}\n\n</code></pre>\n<p>I set JAVA_HOME</p>\n<p><code>set JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk1.8.0_202&quot;</code></p>\n<p>and compiled using</p>\n<p><code>%JAVA_HOME%\\bin\\javac bwird.java</code></p>\n<p>then run</p>\n<p><code>java bwird</code></p>\n<p>Output shows in first line the statement that is run.</p>\n<p>So:\nTHIS version does not work:\n<code>cmd /c &quot;&quot;batwithird.bat&quot; &quot;parameter1&quot; parameter2 &lt; &quot;input.txt&quot;&quot;</code></p>\n<p>while those two versions do:\n<code>cmd /c &quot;&quot;batwithird.bat&quot; &quot;parameter1&quot; parameter2 &lt; input.txt&quot;</code>\n<code>cmd /c &quot;batwithird.bat &quot;parameter1&quot; parameter2 &lt; &quot;input.txt&quot;&quot;</code></p>\n<p><strong>So the final question is:</strong>\nIs there an explanation why running those statement via Java/Processbuilder shows a different behaviour from running it directly from cmd.exe?\nIs there a way to fix it?</p>\n<p>Thank you for your help!</p>\n<p>G.</p>\n<p>I would expect all three versions would work.. like when copied to cmd.exe</p>\n"},{"tags":["java","android","kotlin","gradle","generated-code"],"comments":[{"owner":{"account_id":7679118,"reputation":6230,"user_id":5818889,"accept_rate":83,"display_name":"glee8e"},"score":0,"creation_date":1504228855,"post_id":45991874,"comment_id":78944282,"body_markdown":"AFAIK there is none, you just need to add that generated file to the sourceset and it *should* be fine, if compileKotlin hasn&#39;t been executed yet.","body":"AFAIK there is none, you just need to add that generated file to the sourceset and it <i>should</i> be fine, if compileKotlin hasn&#39;t been executed yet."}],"answers":[{"tags":[],"owner":{"account_id":5929686,"reputation":6955,"user_id":4664558,"accept_rate":86,"display_name":"LazerBanana"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1504259203,"creation_date":1504259203,"answer_id":45997471,"question_id":45991874,"body_markdown":"`buildSrc` it&#39;s a place for custom plugins, and it&#39;s a special Gradle folder as well that is read before the build. \r\n\r\nAs for generated sources, you can just define a source set for it.\r\n\r\n    sourceSets {\r\n      main {\r\n        java {\r\n          srcDirs = [\r\n            &quot;$projectDir/src/main/java&quot;,\r\n            &quot;$projectDir/src/main/generated&quot;,\r\n          ]\r\n          include &#39;**/*.java&#39;\r\n        }\r\n      }\r\n    }","title":"Where to put generated java or kotlin source when creating a gradle plugin?","body":"<p><code>buildSrc</code> it's a place for custom plugins, and it's a special Gradle folder as well that is read before the build. </p>\n\n<p>As for generated sources, you can just define a source set for it.</p>\n\n<pre><code>sourceSets {\n  main {\n    java {\n      srcDirs = [\n        \"$projectDir/src/main/java\",\n        \"$projectDir/src/main/generated\",\n      ]\n      include '**/*.java'\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700570678,"creation_date":1700570678,"answer_id":77522922,"question_id":45991874,"body_markdown":"Configuring a hard-code path manually like @LazerBanana suggests halfway works if you are lucky, but is pretty bad practice.\r\n\r\nIf you have a task `generateMyKotlinFile` that properly declares its outputs, just configure that task as `srcDir`, then you get necessary task dependencies automatically for any task that needs source files like `compileKotlin`, `sourcesJar`, ...\r\n\r\n```kts\r\nkotlin {\r\n    sourceSets {\r\n        main {\r\n            kotlin.srcDir(generateMyKotlinFile)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nRegarding where to generate the file to, there is no defined standard location. But make sure you do not have overlapping outputs in tasks. Each task should have its dedicated output directory where no other task intervenes. So just configure a unique output direcotry for your `generateMyKotlinFile` task.","title":"Where to put generated java or kotlin source when creating a gradle plugin?","body":"<p>Configuring a hard-code path manually like @LazerBanana suggests halfway works if you are lucky, but is pretty bad practice.</p>\n<p>If you have a task <code>generateMyKotlinFile</code> that properly declares its outputs, just configure that task as <code>srcDir</code>, then you get necessary task dependencies automatically for any task that needs source files like <code>compileKotlin</code>, <code>sourcesJar</code>, ...</p>\n<pre><code>kotlin {\n    sourceSets {\n        main {\n            kotlin.srcDir(generateMyKotlinFile)\n        }\n    }\n}\n</code></pre>\n<p>Regarding where to generate the file to, there is no defined standard location. But make sure you do not have overlapping outputs in tasks. Each task should have its dedicated output directory where no other task intervenes. So just configure a unique output direcotry for your <code>generateMyKotlinFile</code> task.</p>\n"}],"owner":{"account_id":4990636,"reputation":1185,"user_id":4012979,"accept_rate":75,"display_name":"Preston Garno"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700570678,"creation_date":1504226232,"question_id":45991874,"body_markdown":"I&#39;m not quite sure about this - there&#39;s usually a directory under `/build/generated`, but I&#39;m wondering if there is a standard location that&#39;s safe to write source files to which also will be included in the compilation? Environment variables? I couldn&#39;t find anything in the docs.\r\n\r\nIf it matters, this use case is a single kotlin file which I generate as a separate task based off of configs and want to include in java/kotlin compilation.","title":"Where to put generated java or kotlin source when creating a gradle plugin?","body":"<p>I'm not quite sure about this - there's usually a directory under <code>/build/generated</code>, but I'm wondering if there is a standard location that's safe to write source files to which also will be included in the compilation? Environment variables? I couldn't find anything in the docs.</p>\n\n<p>If it matters, this use case is a single kotlin file which I generate as a separate task based off of configs and want to include in java/kotlin compilation.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1700570587,"post_id":75600659,"comment_id":136668659,"body_markdown":"This post is lacking a [mcve] because it does not show the actual error that was happening.","body":"This post is lacking a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> because it does not show the actual error that was happening."}],"answers":[{"tags":[],"owner":{"account_id":13524682,"reputation":38,"user_id":9756820,"display_name":"Moone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677657733,"creation_date":1677657733,"answer_id":75600929,"question_id":75600659,"body_markdown":"Because that is not the error, you have to look into the server log as it is said in the error message. As far as I know net beans comes with GlasFish Server in general the logs are in /YOUR_GLASSFISH_INSTALL/glassfish/domains/domain1/logs/\r\n\r\nIf you need further help we need the serverlog.","title":"FAIL - Failed to deploy application at context path build-impl.xml:1062","body":"<p>Because that is not the error, you have to look into the server log as it is said in the error message. As far as I know net beans comes with GlasFish Server in general the logs are in /YOUR_GLASSFISH_INSTALL/glassfish/domains/domain1/logs/</p>\n<p>If you need further help we need the serverlog.</p>\n"}],"owner":{"account_id":26476647,"reputation":1,"user_id":20116438,"display_name":"user20116438"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700570552,"creation_date":1677655740,"question_id":75600659,"body_markdown":"![1](https://i.stack.imgur.com/q3tm4.png)\r\n\r\nI use NetBeans version 13 but it can&#39;t deploy the project. How can I fix `build-impl.xml:1062`?\r\n\r\nI tried searching for build-impl.xml:1062 error but couldn&#39;t find it at all.","title":"FAIL - Failed to deploy application at context path build-impl.xml:1062","body":"<p><img src=\"https://i.stack.imgur.com/q3tm4.png\" alt=\"1\" /></p>\n<p>I use NetBeans version 13 but it can't deploy the project. How can I fix <code>build-impl.xml:1062</code>?</p>\n<p>I tried searching for build-impl.xml:1062 error but couldn't find it at all.</p>\n"},{"tags":["java","windows","jpackage"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1700410762,"post_id":77511135,"comment_id":136648282,"body_markdown":"It might be time to add some debugging code.  I would print out `System.getProperty(&quot;jdk.module.path&quot;)` and `Main.class.getModule().getLayer().configuration().modules()`.","body":"It might be time to add some debugging code.  I would print out <code>System.getProperty(&quot;jdk.module.path&quot;)</code> and <code>Main.class.getModule().getLayer().configuration().modules()</code>."},{"owner":{"account_id":1075966,"reputation":478,"user_id":1074117,"accept_rate":41,"display_name":"nyholku"},"score":2,"creation_date":1700413673,"post_id":77511135,"comment_id":136648633,"body_markdown":"I don&#39;t think my main gets executed at all unless strip every reference to the classes in the jars it depends on ... which would not be a fun thing to do.","body":"I don&#39;t think my main gets executed at all unless strip every reference to the classes in the jars it depends on ... which would not be a fun thing to do."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1700429016,"post_id":77511135,"comment_id":136650262,"body_markdown":"Ah, good point.  In that case, does `java -p app/ --add-modules ALL-MODULE-PATH eazycnc.Main` work?","body":"Ah, good point.  In that case, does <code>java -p app&#47; --add-modules ALL-MODULE-PATH eazycnc.Main</code> work?"},{"owner":{"account_id":1075966,"reputation":478,"user_id":1074117,"accept_rate":41,"display_name":"nyholku"},"score":0,"creation_date":1700570057,"post_id":77511135,"comment_id":136668567,"body_markdown":"I realised that if I just create an other class in the project with  main function that does not reference any of the missing classes then I can get that to run and thus do some more debugging as @VGR sugested.","body":"I realised that if I just create an other class in the project with  main function that does not reference any of the missing classes then I can get that to run and thus do some more debugging as @VGR sugested."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1701726107,"post_id":77511135,"comment_id":136809355,"body_markdown":"You are building an appimage, but that is only one of two parts. Where is the command line that finishes your installer (.exe or .msi)? Without having run the installer and the executable stub I guess the APPDIR environment variable is not set.","body":"You are building an appimage, but that is only one of two parts. Where is the command line that finishes your installer (.exe or .msi)? Without having run the installer and the executable stub I guess the APPDIR environment variable is not set."},{"owner":{"account_id":1075966,"reputation":478,"user_id":1074117,"accept_rate":41,"display_name":"nyholku"},"score":0,"creation_date":1701766717,"post_id":77511135,"comment_id":136813314,"body_markdown":"@queeg You maybe on the right track with APPDIR not being set. But whose responsibility it is to set that and how should I fix this if all I want is .exe file that just works and don&#39;t want an installer.","body":"@queeg You maybe on the right track with APPDIR not being set. But whose responsibility it is to set that and how should I fix this if all I want is .exe file that just works and don&#39;t want an installer."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1701772474,"post_id":77511135,"comment_id":136814310,"body_markdown":"It is the exe&#39;s job to set the directory. However I do not know how it works internally. Is it possible that the installer adds information where the executable is installed so it can set the APPDIR?","body":"It is the exe&#39;s job to set the directory. However I do not know how it works internally. Is it possible that the installer adds information where the executable is installed so it can set the APPDIR?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1701772563,"post_id":77511135,"comment_id":136814335,"body_markdown":"Maybe first confirm it works as intended (with installer). Only then check if you can (ab)use the appdir.","body":"Maybe first confirm it works as intended (with installer). Only then check if you can (ab)use the appdir."},{"owner":{"account_id":1075966,"reputation":478,"user_id":1074117,"accept_rate":41,"display_name":"nyholku"},"score":0,"creation_date":1701777166,"post_id":77511135,"comment_id":136814979,"body_markdown":"@queeg As explained in my own answer (below) it works it the --type is msi","body":"@queeg As explained in my own answer (below) it works it the --type is msi"}],"answers":[{"tags":[],"owner":{"account_id":1075966,"reputation":478,"user_id":1074117,"accept_rate":41,"display_name":"nyholku"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700570195,"creation_date":1700570195,"answer_id":77522873,"question_id":77511135,"body_markdown":"Turns out that \r\n```\r\njpackage --type exe \r\n```\r\njust does not work for me. The resulting exe works but no classpaths apart from the main .jar seem to be set.\r\n\r\nHowever \r\n\r\n```\r\njpackage --type msi \r\n```\r\n\r\ndoes work.","title":"jpackage&#39;d Java application on Windows does not find classes in the included jar files","body":"<p>Turns out that</p>\n<pre><code>jpackage --type exe \n</code></pre>\n<p>just does not work for me. The resulting exe works but no classpaths apart from the main .jar seem to be set.</p>\n<p>However</p>\n<pre><code>jpackage --type msi \n</code></pre>\n<p>does work.</p>\n"}],"owner":{"account_id":1075966,"reputation":478,"user_id":1074117,"accept_rate":41,"display_name":"nyholku"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700570195,"creation_date":1700403996,"question_id":77511135,"body_markdown":"I package my application with jpackage and the resulting directory structure and config file looks correct.\r\n\r\n```\r\n19.11.2023  15.49    &lt;DIR&gt;          app\r\n19.11.2023  15.49           562 688 EazyCNC.exe\r\n19.11.2023  15.49    &lt;DIR&gt;          runtime\r\n               1 File(s)        562 688 bytes\r\n               4 Dir(s)  417 389 883 392 bytes free\r\n```\r\n\r\n```\r\nDirectory of C:\\Users\\nyholku\\eazycnc-build\\bundle\\EazyCNC\\app\r\n \r\n19.11.2023  15.49    &lt;DIR&gt;          .\r\n19.11.2023  15.49    &lt;DIR&gt;          ..\r\n19.11.2023  15.49               262 .jpackage.xml\r\n19.11.2023  15.49           385 091 commons-lang3-3.2.1.jar\r\n19.11.2023  15.49               653 EazyCNC.cfg\r\n19.11.2023  15.49         3 421 155 EazyCNC.jar\r\n19.11.2023  15.49             4 928 humble-video-all-0.3.0.jar\r\n19.11.2023  15.49         1 509 440 jna-5.6.0.jar\r\n19.11.2023  15.49         2 735 878 jna-platform-5.6.0.jar\r\n19.11.2023  15.49        11 712 967 jogamp-fat.jar\r\n19.11.2023  15.49            65 966 json-20200518.jar\r\n19.11.2023  15.49           195 713 miglayout-3.7.jar\r\n19.11.2023  15.49           199 631 purejavacomm-1.0.1.x.jar\r\n19.11.2023  15.49           118 138 purejavahidapi-0.0.13.jar\r\n19.11.2023  15.49           127 628 vecmath.jar\r\n              13 File(s)     20 477 450 bytes\r\n               2 Dir(s)  417 401 921 536 bytes free\r\n```\r\n\r\nThe app/EazyCNC.cfg looks like\r\n\r\n```\r\n[Application]\r\napp.mainjar=$APPDIR\\EazyCNC.jar\r\napp.classpath=$APPDIR\\commons-lang3-3.2.1.jar\r\napp.classpath=$APPDIR\\humble-video-all-0.3.0.jar\r\napp.classpath=$APPDIR\\jna-5.6.0.jar\r\napp.classpath=$APPDIR\\jna-platform-5.6.0.jar\r\napp.classpath=$APPDIR\\jogamp-fat.jar\r\napp.classpath=$APPDIR\\json-20200518.jar\r\napp.classpath=$APPDIR\\miglayout-3.7.jar\r\napp.classpath=$APPDIR\\purejavacomm-1.0.1.x.jar\r\napp.classpath=$APPDIR\\purejavahidapi-0.0.13.jar\r\napp.classpath=$APPDIR\\vecmath.jar\r\n \r\n[JavaOptions]\r\njava-options=-Djpackage.app-version=1.0\r\njava-options=-Xmx1024m\r\njava-options=-XX:+UseG1GC\r\njava-options=-XX:MaxGCPauseMillis=50\r\njava-options=-XX:+PrintGC\r\n```\r\n\r\n\r\nBut when I try to launch it I get:\r\n\r\n\r\n```\r\nC:\\Users\\nyholku&gt;eazycnc-build\\bundle\\EazyCNC\\EazyCNC.exe\r\n[0.004s][warning][gc] -XX:+PrintGC is deprecated. Will use -Xlog:gc instead.\r\n[0.017s][info   ][gc] Using G1\r\nError: Unable to initialize main class eazycnc.Main\r\nCaused by: java.lang.NoClassDefFoundError: purejavahidapi/InputReportListener\r\n```\r\n\r\n\r\nBut when I use javajvm directly I like this:\r\n\r\n```\r\nC:\\Users\\nyholku\\eazycnc-build\\bundle\\EazyCNC&gt;java -cp app/* eazycnc.Main\r\n```\r\nit works.\r\n\r\nI build the app using ant as follows (I&#39;ve included only the relevant bits):\r\n\r\n```\r\n&lt;target name=&quot;jpackage-windows&quot; if=&quot;is_windows&quot; depends=&quot;init&quot;&gt;\r\n\t&lt;exec executable=&quot;${jpackage}&quot; dir=&quot;.&quot;&gt;\r\n\t\t&lt;arg value=&quot;--win-console&quot; /&gt;\r\n\t\t&lt;arg value=&quot;--type&quot; /&gt;\r\n\t\t&lt;arg value=&quot;app-image&quot; /&gt;\r\n\t\t&lt;arg value=&quot;--verbose&quot; /&gt;\r\n\t\t&lt;arg value=&quot;--dest&quot; /&gt;\r\n\t\t&lt;arg value=&quot;${bundle-dir}/&quot; /&gt;\r\n\t\t&lt;arg value=&quot;--name&quot; /&gt;\r\n\t\t&lt;arg value=&quot;EazyCNC&quot; /&gt;\r\n\t\t&lt;arg value=&quot;--main-jar&quot; /&gt;\r\n\t\t&lt;arg value=&quot;EazyCNC.jar&quot; /&gt;\r\n\t\t&lt;arg value=&quot;--java-options&quot; /&gt;\r\n\t\t&lt;arg value=&quot;-Xmx1024m -XX:+UseG1GC -XX:MaxGCPauseMillis=50 -XX:+PrintGC&quot; /&gt;\r\n\t\t&lt;arg value=&quot;--resource-dir&quot; /&gt;\r\n\t\t&lt;arg value=&quot;${resource-dir}&quot; /&gt;\r\n\t\t&lt;arg value=&quot;--input&quot; /&gt;\r\n\t\t&lt;arg value=&quot;${jpackage-input-dir}&quot; /&gt;\r\n\t\t&lt;arg value=&quot;--runtime-image&quot; /&gt;\r\n\t\t&lt;arg value=&quot;${java-runtime-dir}&quot; /&gt;\r\n\t\t&lt;arg value=&quot;--temp&quot; /&gt;\r\n\t\t&lt;arg value=&quot;${build-dir}/wix-tempfiles&quot; /&gt;\r\n\t&lt;/exec&gt;\r\n ```\r\n\r\nSome of the build variables are set like this:\r\n\r\n```\r\n\t&lt;property name=&quot;app-image-type&quot; value=&quot;exe&quot; /&gt;\r\n\t&lt;property name=&quot;jdk-loc&quot; value=&quot;C:\\Program Files\\Java\\jdk-11&quot; /&gt;\r\n\t&lt;property name=&quot;jpackage&quot; value=&quot;C:\\Program Files\\Java\\jdk-21\\bin\\jpackage.exe&quot; /&gt;\r\n\t&lt;property name=&quot;jlink&quot; value=&quot;C:\\Program Files\\Java\\jdk-11\\bin\\jlink.exe&quot; /&gt;\r\n\t&lt;property name=&quot;targetos&quot; value=&quot;windows&quot; /&gt;\r\n\t&lt;property name=&quot;pathsep&quot; value=&quot;;&quot; /&gt;\r\n\t&lt;property name=&quot;resource-dir&quot; value=&quot;package-resources/windows&quot; /&gt;\r\n```\r\n\r\nand some other vars have these values (from my ant output):\r\n\r\n```\r\n     [echo] os.name           : Windows 10\r\n     [echo] jdk-loc           : C:\\Program Files\\Java\\jdk-11\r\n     [echo] fxant-loc         : ${fxant-loc}\r\n     [echo] basedir           : C:\\Users\\nyholku\\eazycnc-project\r\n     [echo] build-dir         : C:\\Users\\nyholku/eazycnc-build\r\n     [echo] lib-dir           : ./lib\r\n     [echo] src-dir           : ./src\r\n     [echo] dist-dir          : ./downloads\r\n     [echo] temp-dir          : C:\\Users\\nyholku/eazycnc-build/temp-dir\r\n     [echo] classes-dir       : C:\\Users\\nyholku/eazycnc-build/classes\r\n     [echo] eazycnc_version   : 2.0.39\r\n     [echo] jpackage-input-dir: C:\\Users\\nyholku/eazycnc-build/jlink-input\r\n```\r\n\r\nI&#39;m using the jpackage from jdk21 as jdk11 does not have it, but I would not think that is a problem.\r\n\r\nI&#39;ve been stuck at this for a day now, what am I missing?\r\n\r\n","title":"jpackage&#39;d Java application on Windows does not find classes in the included jar files","body":"<p>I package my application with jpackage and the resulting directory structure and config file looks correct.</p>\n<pre><code>19.11.2023  15.49    &lt;DIR&gt;          app\n19.11.2023  15.49           562 688 EazyCNC.exe\n19.11.2023  15.49    &lt;DIR&gt;          runtime\n               1 File(s)        562 688 bytes\n               4 Dir(s)  417 389 883 392 bytes free\n</code></pre>\n<pre><code>Directory of C:\\Users\\nyholku\\eazycnc-build\\bundle\\EazyCNC\\app\n \n19.11.2023  15.49    &lt;DIR&gt;          .\n19.11.2023  15.49    &lt;DIR&gt;          ..\n19.11.2023  15.49               262 .jpackage.xml\n19.11.2023  15.49           385 091 commons-lang3-3.2.1.jar\n19.11.2023  15.49               653 EazyCNC.cfg\n19.11.2023  15.49         3 421 155 EazyCNC.jar\n19.11.2023  15.49             4 928 humble-video-all-0.3.0.jar\n19.11.2023  15.49         1 509 440 jna-5.6.0.jar\n19.11.2023  15.49         2 735 878 jna-platform-5.6.0.jar\n19.11.2023  15.49        11 712 967 jogamp-fat.jar\n19.11.2023  15.49            65 966 json-20200518.jar\n19.11.2023  15.49           195 713 miglayout-3.7.jar\n19.11.2023  15.49           199 631 purejavacomm-1.0.1.x.jar\n19.11.2023  15.49           118 138 purejavahidapi-0.0.13.jar\n19.11.2023  15.49           127 628 vecmath.jar\n              13 File(s)     20 477 450 bytes\n               2 Dir(s)  417 401 921 536 bytes free\n</code></pre>\n<p>The app/EazyCNC.cfg looks like</p>\n<pre><code>[Application]\napp.mainjar=$APPDIR\\EazyCNC.jar\napp.classpath=$APPDIR\\commons-lang3-3.2.1.jar\napp.classpath=$APPDIR\\humble-video-all-0.3.0.jar\napp.classpath=$APPDIR\\jna-5.6.0.jar\napp.classpath=$APPDIR\\jna-platform-5.6.0.jar\napp.classpath=$APPDIR\\jogamp-fat.jar\napp.classpath=$APPDIR\\json-20200518.jar\napp.classpath=$APPDIR\\miglayout-3.7.jar\napp.classpath=$APPDIR\\purejavacomm-1.0.1.x.jar\napp.classpath=$APPDIR\\purejavahidapi-0.0.13.jar\napp.classpath=$APPDIR\\vecmath.jar\n \n[JavaOptions]\njava-options=-Djpackage.app-version=1.0\njava-options=-Xmx1024m\njava-options=-XX:+UseG1GC\njava-options=-XX:MaxGCPauseMillis=50\njava-options=-XX:+PrintGC\n</code></pre>\n<p>But when I try to launch it I get:</p>\n<pre><code>C:\\Users\\nyholku&gt;eazycnc-build\\bundle\\EazyCNC\\EazyCNC.exe\n[0.004s][warning][gc] -XX:+PrintGC is deprecated. Will use -Xlog:gc instead.\n[0.017s][info   ][gc] Using G1\nError: Unable to initialize main class eazycnc.Main\nCaused by: java.lang.NoClassDefFoundError: purejavahidapi/InputReportListener\n</code></pre>\n<p>But when I use javajvm directly I like this:</p>\n<pre><code>C:\\Users\\nyholku\\eazycnc-build\\bundle\\EazyCNC&gt;java -cp app/* eazycnc.Main\n</code></pre>\n<p>it works.</p>\n<p>I build the app using ant as follows (I've included only the relevant bits):</p>\n<pre><code>&lt;target name=&quot;jpackage-windows&quot; if=&quot;is_windows&quot; depends=&quot;init&quot;&gt;\n    &lt;exec executable=&quot;${jpackage}&quot; dir=&quot;.&quot;&gt;\n        &lt;arg value=&quot;--win-console&quot; /&gt;\n        &lt;arg value=&quot;--type&quot; /&gt;\n        &lt;arg value=&quot;app-image&quot; /&gt;\n        &lt;arg value=&quot;--verbose&quot; /&gt;\n        &lt;arg value=&quot;--dest&quot; /&gt;\n        &lt;arg value=&quot;${bundle-dir}/&quot; /&gt;\n        &lt;arg value=&quot;--name&quot; /&gt;\n        &lt;arg value=&quot;EazyCNC&quot; /&gt;\n        &lt;arg value=&quot;--main-jar&quot; /&gt;\n        &lt;arg value=&quot;EazyCNC.jar&quot; /&gt;\n        &lt;arg value=&quot;--java-options&quot; /&gt;\n        &lt;arg value=&quot;-Xmx1024m -XX:+UseG1GC -XX:MaxGCPauseMillis=50 -XX:+PrintGC&quot; /&gt;\n        &lt;arg value=&quot;--resource-dir&quot; /&gt;\n        &lt;arg value=&quot;${resource-dir}&quot; /&gt;\n        &lt;arg value=&quot;--input&quot; /&gt;\n        &lt;arg value=&quot;${jpackage-input-dir}&quot; /&gt;\n        &lt;arg value=&quot;--runtime-image&quot; /&gt;\n        &lt;arg value=&quot;${java-runtime-dir}&quot; /&gt;\n        &lt;arg value=&quot;--temp&quot; /&gt;\n        &lt;arg value=&quot;${build-dir}/wix-tempfiles&quot; /&gt;\n    &lt;/exec&gt;\n</code></pre>\n<p>Some of the build variables are set like this:</p>\n<pre><code>    &lt;property name=&quot;app-image-type&quot; value=&quot;exe&quot; /&gt;\n    &lt;property name=&quot;jdk-loc&quot; value=&quot;C:\\Program Files\\Java\\jdk-11&quot; /&gt;\n    &lt;property name=&quot;jpackage&quot; value=&quot;C:\\Program Files\\Java\\jdk-21\\bin\\jpackage.exe&quot; /&gt;\n    &lt;property name=&quot;jlink&quot; value=&quot;C:\\Program Files\\Java\\jdk-11\\bin\\jlink.exe&quot; /&gt;\n    &lt;property name=&quot;targetos&quot; value=&quot;windows&quot; /&gt;\n    &lt;property name=&quot;pathsep&quot; value=&quot;;&quot; /&gt;\n    &lt;property name=&quot;resource-dir&quot; value=&quot;package-resources/windows&quot; /&gt;\n</code></pre>\n<p>and some other vars have these values (from my ant output):</p>\n<pre><code>     [echo] os.name           : Windows 10\n     [echo] jdk-loc           : C:\\Program Files\\Java\\jdk-11\n     [echo] fxant-loc         : ${fxant-loc}\n     [echo] basedir           : C:\\Users\\nyholku\\eazycnc-project\n     [echo] build-dir         : C:\\Users\\nyholku/eazycnc-build\n     [echo] lib-dir           : ./lib\n     [echo] src-dir           : ./src\n     [echo] dist-dir          : ./downloads\n     [echo] temp-dir          : C:\\Users\\nyholku/eazycnc-build/temp-dir\n     [echo] classes-dir       : C:\\Users\\nyholku/eazycnc-build/classes\n     [echo] eazycnc_version   : 2.0.39\n     [echo] jpackage-input-dir: C:\\Users\\nyholku/eazycnc-build/jlink-input\n</code></pre>\n<p>I'm using the jpackage from jdk21 as jdk11 does not have it, but I would not think that is a problem.</p>\n<p>I've been stuck at this for a day now, what am I missing?</p>\n"},{"tags":["java","logging","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700470991,"creation_date":1700470991,"answer_id":77514577,"question_id":77512446,"body_markdown":"The rolling file appender uses the timezone in your `%d{...}` pattern to determine, when the day ends. The general form of the date pattern is:\r\n```\r\n%d{format specifiers}{timezone}\r\n```\r\n\r\nIf the `timezone` parameter is missing, it defaults to the system timezone.\r\n\r\nIf you want to rotate base on UTC, just change:\r\n```lang-xml\r\n&lt;RollingFile name=&quot;rollingFile&quot;\r\n             fileName=&quot;${log_path}/solr_data_uploader.log&quot;\r\n             filePattern=&quot;${log_path}/solr_data_uploader-%d{yyyy-MM-dd}.log.gz&quot;&gt;\r\n```\r\nto\r\n```lang-xml\r\n&lt;RollingFile name=&quot;rollingFile&quot;\r\n             fileName=&quot;${log_path}/solr_data_uploader.log&quot;\r\n             filePattern=&quot;${log_path}/solr_data_uploader-%d{yyyy-MM-dd}{UTC}.log.gz&quot;&gt;\r\n```","title":"Logs not rolling at desired time(Log4j2)","body":"<p>The rolling file appender uses the timezone in your <code>%d{...}</code> pattern to determine, when the day ends. The general form of the date pattern is:</p>\n<pre><code>%d{format specifiers}{timezone}\n</code></pre>\n<p>If the <code>timezone</code> parameter is missing, it defaults to the system timezone.</p>\n<p>If you want to rotate base on UTC, just change:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;RollingFile name=&quot;rollingFile&quot;\n             fileName=&quot;${log_path}/solr_data_uploader.log&quot;\n             filePattern=&quot;${log_path}/solr_data_uploader-%d{yyyy-MM-dd}.log.gz&quot;&gt;\n</code></pre>\n<p>to</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;RollingFile name=&quot;rollingFile&quot;\n             fileName=&quot;${log_path}/solr_data_uploader.log&quot;\n             filePattern=&quot;${log_path}/solr_data_uploader-%d{yyyy-MM-dd}{UTC}.log.gz&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":16327123,"reputation":1,"user_id":11791417,"display_name":"Shrottam Nayan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700568912,"creation_date":1700426889,"question_id":77512446,"body_markdown":"**I want my solr-indexer logs to get rolled over every day at 12AM UTC, meaning that the .gz file should be created every day at 00:00:00UTC and it should contain all the logs of the previous day starting from 00:00:00UTC and ending somewhere at 23:59:59UTC.**\r\n\r\nFor example, the log(.gz)file created at 00:00:00UTC on 21st November should contain all the 24hr logs of 20th November. \r\n\r\nThis is how my log4j2 xml file looks like:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;INFO&quot; packages=&quot;com.fidelis.k2.logging.filter&quot;&gt;\r\n\t&lt;Properties&gt;\r\n\t\t&lt;Property name=&quot;log_path&quot;&gt;/opt/k2/logs&lt;/Property&gt;\r\n\t\t&lt;Property name=&quot;log_pattern&quot;&gt;%t - %d{yyyy-MM-dd HH:mm:ss} %-5p %c:%L - %m%n&lt;/Property&gt;\r\n\t&lt;/Properties&gt;\r\n\t&lt;Appenders&gt;\r\n\t\t&lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n\t\t\t&lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n\t\t&lt;/Console&gt;\r\n\t\t&lt;RollingFile name=&quot;rollingFile&quot; fileName=&quot;${log_path}/solr_data_uploader.log&quot;\r\n                     filePattern=&quot;${log_path}/solr_data_uploader-%d{yyyy-MM-dd}.log.gz&quot;&gt;\r\n\t\t\t&lt;PatternLayout&gt;\r\n\t\t\t\t&lt;pattern&gt;${log_pattern}&lt;/pattern&gt;\r\n\t\t\t&lt;/PatternLayout&gt;\r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;false&quot; timeUnit=&quot;days&quot;/&gt;\r\n\t\t\t&lt;/Policies&gt;\r\n\t\t\t&lt;DefaultRolloverStrategy max=&quot;15&quot;/&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\t&lt;/Appenders&gt;\r\n\t&lt;Loggers&gt;\r\n\t\t&lt;Logger name=&quot;com.fidelis.k2&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;rollingFile&quot;/&gt;\r\n\t\t&lt;/Logger&gt;\r\n\t\t&lt;Root level=&quot;info&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;console&quot;/&gt;\r\n\t\t&lt;/Root&gt;\r\n\t&lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\n\r\nI tried with modulate=&quot;true&quot; as well, but it was not showing the logs for the whole day in the zip file.\r\nCurrently the log files(for some unknown reason) are getting created at 06:10UTC every day and it does not contain logs for the whole day.","title":"Logs not rolling at desired time(Log4j2)","body":"<p><strong>I want my solr-indexer logs to get rolled over every day at 12AM UTC, meaning that the .gz file should be created every day at 00:00:00UTC and it should contain all the logs of the previous day starting from 00:00:00UTC and ending somewhere at 23:59:59UTC.</strong></p>\n<p>For example, the log(.gz)file created at 00:00:00UTC on 21st November should contain all the 24hr logs of 20th November.</p>\n<p>This is how my log4j2 xml file looks like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;INFO&quot; packages=&quot;com.fidelis.k2.logging.filter&quot;&gt;\n    &lt;Properties&gt;\n        &lt;Property name=&quot;log_path&quot;&gt;/opt/k2/logs&lt;/Property&gt;\n        &lt;Property name=&quot;log_pattern&quot;&gt;%t - %d{yyyy-MM-dd HH:mm:ss} %-5p %c:%L - %m%n&lt;/Property&gt;\n    &lt;/Properties&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=&quot;rollingFile&quot; fileName=&quot;${log_path}/solr_data_uploader.log&quot;\n                     filePattern=&quot;${log_path}/solr_data_uploader-%d{yyyy-MM-dd}.log.gz&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;${log_pattern}&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;false&quot; timeUnit=&quot;days&quot;/&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;15&quot;/&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;com.fidelis.k2&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;rollingFile&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;console&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>I tried with modulate=&quot;true&quot; as well, but it was not showing the logs for the whole day in the zip file.\nCurrently the log files(for some unknown reason) are getting created at 06:10UTC every day and it does not contain logs for the whole day.</p>\n"},{"tags":["java","maven","junit","maven-surefire-plugin","junit5"],"comments":[{"owner":{"account_id":936963,"reputation":5575,"user_id":965730,"accept_rate":82,"display_name":"Hendrik Jander"},"score":1,"creation_date":1462127783,"post_id":36970384,"comment_id":61496435,"body_markdown":"Right now you have to use a special implementation of the surefire-plugin. Check the examples of the junit team [here](https://github.com/junit-team/junit5-samples/blob/master/junit5-maven-consumer/pom.xml)","body":"Right now you have to use a special implementation of the surefire-plugin. Check the examples of the junit team <a href=\"https://github.com/junit-team/junit5-samples/blob/master/junit5-maven-consumer/pom.xml\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":2973802,"reputation":48678,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":1,"creation_date":1482219974,"post_id":36970384,"comment_id":69674011,"body_markdown":"The question is based on an outdated version but [this answer](http://stackoverflow.com/a/36970518/2525313) is based on the current one (as of December 2016).","body":"The question is based on an outdated version but <a href=\"http://stackoverflow.com/a/36970518/2525313\">this answer</a> is based on the current one (as of December 2016)."},{"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"score":0,"creation_date":1482256116,"post_id":36970384,"comment_id":69696757,"body_markdown":"@Nicolai Thanks for updating the answer. Anyway I would appreciate your edit on question, if you have the time.","body":"@Nicolai Thanks for updating the answer. Anyway I would appreciate your edit on question, if you have the time."},{"owner":{"account_id":2973802,"reputation":48678,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":1,"creation_date":1482268370,"post_id":36970384,"comment_id":69703185,"body_markdown":"This error does not occur like that anymore. The most likely case for a lack of test execution is covered by [this question](http://stackoverflow.com/q/38993446/2525313).","body":"This error does not occur like that anymore. The most likely case for a lack of test execution is covered by <a href=\"http://stackoverflow.com/q/38993446/2525313\">this question</a>."},{"owner":{"account_id":485331,"reputation":3633,"user_id":901597,"display_name":"Joe Bowbeer"},"score":0,"creation_date":1571966228,"post_id":36970384,"comment_id":103422687,"body_markdown":"Make sure the test files are in the right place. By default test should be a sibling of main under the src folder.","body":"Make sure the test files are in the right place. By default test should be a sibling of main under the src folder."},{"owner":{"account_id":14983151,"reputation":570,"user_id":10816587,"display_name":"MichaelCkr"},"score":0,"creation_date":1602755306,"post_id":36970384,"comment_id":113822720,"body_markdown":"Please see [this answer below](https://stackoverflow.com/a/51838295/10816587) for current versions (2.22.x) of the surefire-plugin. Adding _&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;_ oder _&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;_ as a dependency (not in the plugin) may help.","body":"Please see <a href=\"https://stackoverflow.com/a/51838295/10816587\">this answer below</a> for current versions (2.22.x) of the surefire-plugin. Adding <i>&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;</i> oder <i>&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;</i> as a dependency (not in the plugin) may help."}],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":3,"up_vote_count":141,"is_accepted":true,"score":138,"last_activity_date":1517484278,"creation_date":1462128174,"answer_id":36970518,"question_id":36970384,"body_markdown":"The `maven-surefire-plugin`, as of today, does [not have full support of JUnit 5](https://maven.apache.org/surefire/maven-surefire-plugin/featurematrix.html). There is an open issue about adding this support in [SUREFIRE-1206](https://issues.apache.org/jira/browse/SUREFIRE-1206).\r\n\r\nAs such, you need to use a [custom provider](https://maven.apache.org/surefire/maven-surefire-plugin/examples/providers.html). One has already been developed by the JUnit team; from the [user guide](http://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven), you need to add the `junit-platform-surefire-provider` provider and the `TestEngine` implementation for the new API:\r\n\r\n\t&lt;build&gt;\r\n\t  &lt;plugins&gt;        \r\n\t    &lt;plugin&gt;\r\n\t      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;!-- latest version (2.20.1) does not work well with JUnit5 --&gt;\r\n\t      &lt;version&gt;2.19.1&lt;/version&gt;\r\n\t      &lt;dependencies&gt;\r\n\t        &lt;dependency&gt;\r\n\t          &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n\t          &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n\t          &lt;version&gt;1.0.3&lt;/version&gt;\r\n\t        &lt;/dependency&gt;\r\n\t        &lt;dependency&gt;\r\n\t          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t          &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t          &lt;version&gt;5.0.3&lt;/version&gt;\r\n\t        &lt;/dependency&gt;\r\n\t      &lt;/dependencies&gt;\r\n\t    &lt;/plugin&gt;\r\n\t  &lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nAlso, be sure to declare the `junit-jupiter-api` dependency with a scope of `test`:\r\n\r\n\t&lt;dependencies&gt;\r\n\t  &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t    &lt;version&gt;5.0.3&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n\t  &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;","title":"Surefire is not picking up Junit 5 tests","body":"<p>The <code>maven-surefire-plugin</code>, as of today, does <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/featurematrix.html\" rel=\"noreferrer\">not have full support of JUnit 5</a>. There is an open issue about adding this support in <a href=\"https://issues.apache.org/jira/browse/SUREFIRE-1206\" rel=\"noreferrer\">SUREFIRE-1206</a>.</p>\n\n<p>As such, you need to use a <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/providers.html\" rel=\"noreferrer\">custom provider</a>. One has already been developed by the JUnit team; from the <a href=\"http://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven\" rel=\"noreferrer\">user guide</a>, you need to add the <code>junit-platform-surefire-provider</code> provider and the <code>TestEngine</code> implementation for the new API:</p>\n\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;        \n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;!-- latest version (2.20.1) does not work well with JUnit5 --&gt;\n      &lt;version&gt;2.19.1&lt;/version&gt;\n      &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n          &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n          &lt;version&gt;1.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n          &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n          &lt;version&gt;5.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n      &lt;/dependencies&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Also, be sure to declare the <code>junit-jupiter-api</code> dependency with a scope of <code>test</code>:</p>\n\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n    &lt;version&gt;5.0.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5929686,"reputation":6955,"user_id":4664558,"accept_rate":86,"display_name":"LazerBanana"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1504281119,"creation_date":1501835472,"answer_id":45501900,"question_id":36970384,"body_markdown":"Updating to `maven-surefire-plugin:2.20` runs the Junit5 tests with no problem.\r\n\r\nBut I am using the `M6` version on Junit5.","title":"Surefire is not picking up Junit 5 tests","body":"<p>Updating to <code>maven-surefire-plugin:2.20</code> runs the Junit5 tests with no problem.</p>\n\n<p>But I am using the <code>M6</code> version on Junit5.</p>\n"},{"tags":[],"owner":{"account_id":233472,"reputation":979,"user_id":498976,"accept_rate":55,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516834934,"creation_date":1516834934,"answer_id":48433138,"question_id":36970384,"body_markdown":"[There is open issue for surefire 2.20][1]\r\n\r\nIt is working for me with surfire 2.19 + junit-platform-* 1.0.3\r\n\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit5/issues/809","title":"Surefire is not picking up Junit 5 tests","body":"<p><a href=\"https://github.com/junit-team/junit5/issues/809\" rel=\"nofollow noreferrer\">There is open issue for surefire 2.20</a></p>\n\n<p>It is working for me with surfire 2.19 + junit-platform-* 1.0.3</p>\n"},{"tags":[],"owner":{"account_id":4312932,"reputation":23962,"user_id":3523579,"accept_rate":90,"display_name":"Mikhail Kholodkov"},"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1529321662,"creation_date":1519772945,"answer_id":49019437,"question_id":36970384,"body_markdown":"**Update 2**\r\n----------\r\n\r\n[Issue][1] has been fixed in Maven Surefire Plugin v2.22.0 \r\n\r\n[New version][2] is available at Maven Central Repository.\r\n\r\n**Maven**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.22.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Gradle**\r\n\r\n    compile group: &#39;org.apache.maven.plugins&#39;, name: &#39;maven-surefire-plugin&#39;, version: &#39;2.22.0&#39;\r\n\r\n---------\r\n**Update**\r\n----------\r\n\r\nAs [Marian][3] pointed out, the latest version of **JUnit 5 Platform Surefire Provider (1.2.0)** supports latest version of **Maven Surefire Plugin (2.21.0)**:\r\n\r\n       \r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.21.0&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.2.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n\r\n&lt;br&gt;\r\n\r\n\r\n----------\r\n\r\n\r\n**Example**\r\n\r\n**pom.xml**\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.21.0&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.2.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n**TestScenario.java**\r\n\r\n    package test;\r\n    \r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.DisplayName;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    public class TestScenario {\r\n    \r\n        @Test\r\n        @DisplayName(&quot;Test 2 + 2 = 4&quot;)\r\n        public void test() {\r\n            Assertions.assertEquals(4, 2 + 2);\r\n        }\r\n    }\r\n\r\n**Output (mvn clean install)**\r\n&gt; ... &lt;br&gt;\r\n&gt; [INFO] --- **maven-surefire-plugin:2.21.0**:test (default-test) @ test ---\r\n&gt; [INFO] &lt;br&gt; [INFO]\r\n&gt; ------------------------------------------------------- &lt;br&gt; [INFO]  T E S T S &lt;br&gt; [INFO]\r\n&gt; ------------------------------------------------------- &lt;br&gt; [INFO] Running test.TestScenario &lt;br&gt; [INFO] Tests run: 1, Failures: 0,\r\n&gt; Errors: 0, Skipped: 0, Time elapsed: 0.005 s - in test.TestScenario\r\n&gt; &lt;br&gt; [INFO] &lt;br&gt; [INFO] Results: &lt;br&gt; [INFO] &lt;br&gt; [INFO] **Tests run: 1**,\r\n&gt; Failures: 0, Errors: 0, Skipped: 0 &lt;br&gt;\r\n&gt; ...\r\n\r\n----------\r\nSimplest way till today:\r\n\r\n    \r\n\r\n        &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.1&lt;/version&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.1.0&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/SUREFIRE-1330\r\n  [2]: https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-surefire-plugin/2.22.0\r\n  [3]: https://stackoverflow.com/users/8471555/marian &quot;Marian&quot;\r\n","title":"Surefire is not picking up Junit 5 tests","body":"<h2><strong>Update 2</strong></h2>\n\n<p><a href=\"https://issues.apache.org/jira/browse/SUREFIRE-1330\" rel=\"noreferrer\">Issue</a> has been fixed in Maven Surefire Plugin v2.22.0 </p>\n\n<p><a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-surefire-plugin/2.22.0\" rel=\"noreferrer\">New version</a> is available at Maven Central Repository.</p>\n\n<p><strong>Maven</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.22.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Gradle</strong></p>\n\n<pre><code>compile group: 'org.apache.maven.plugins', name: 'maven-surefire-plugin', version: '2.22.0'\n</code></pre>\n\n<hr>\n\n<h2><strong>Update</strong></h2>\n\n<p>As <a href=\"https://stackoverflow.com/users/8471555/marian\" title=\"Marian\">Marian</a> pointed out, the latest version of <strong>JUnit 5 Platform Surefire Provider (1.2.0)</strong> supports latest version of <strong>Maven Surefire Plugin (2.21.0)</strong>:</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.21.0&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n                    &lt;version&gt;1.2.0&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p><br></p>\n\n<hr>\n\n<p><strong>Example</strong></p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.2.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.21.0&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n                    &lt;version&gt;1.2.0&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p><strong>TestScenario.java</strong></p>\n\n<pre><code>package test;\n\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\n\npublic class TestScenario {\n\n    @Test\n    @DisplayName(\"Test 2 + 2 = 4\")\n    public void test() {\n        Assertions.assertEquals(4, 2 + 2);\n    }\n}\n</code></pre>\n\n<p><strong>Output (mvn clean install)</strong></p>\n\n<blockquote>\n  <p>... <br>\n  [INFO] --- <strong>maven-surefire-plugin:2.21.0</strong>:test (default-test) @ test ---\n  [INFO] <br> [INFO]\n  ------------------------------------------------------- <br> [INFO]  T E S T S <br> [INFO]\n  ------------------------------------------------------- <br> [INFO] Running test.TestScenario <br> [INFO] Tests run: 1, Failures: 0,\n  Errors: 0, Skipped: 0, Time elapsed: 0.005 s - in test.TestScenario\n  <br> [INFO] <br> [INFO] Results: <br> [INFO] <br> [INFO] <strong>Tests run: 1</strong>,\n  Failures: 0, Errors: 0, Skipped: 0 <br>\n  ...</p>\n</blockquote>\n\n<hr>\n\n<p>Simplest way till today:</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.19.1&lt;/version&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n                &lt;version&gt;1.1.0&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":55217,"reputation":8498,"user_id":165292,"display_name":"avandeursen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522847862,"creation_date":1522064762,"answer_id":49490694,"question_id":36970384,"body_markdown":"I had a similar problem also causing Surefire to recognize zero tests.\r\n\r\nMy problem turned out to be related to the following (from the [JUnit 5.1.0 / maven](https://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven) documentation):\r\n\r\n&gt; Due to a memory leak in Surefire 2.20 and issues running on Java 9, the junit-platform-surefire-provider currently only works with Surefire 2.19.1.\r\n\r\nI was trying to use the latest versions of Surefire (2.21.0) and junit-platform-surefire-provider (1.1.0), and it did not work (in neither Java 8 or 9)\r\n\r\nSwitching back to Surefire 2.19.1 solved my problem.\r\n\r\nAccording to [this issue](https://github.com/junit-team/junit5/issues/1341) a fix will be included in version 1.2.0 of the junit-platform-surefire-provider (currently available as SNAPSHOT only).","title":"Surefire is not picking up Junit 5 tests","body":"<p>I had a similar problem also causing Surefire to recognize zero tests.</p>\n\n<p>My problem turned out to be related to the following (from the <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven\" rel=\"nofollow noreferrer\">JUnit 5.1.0 / maven</a> documentation):</p>\n\n<blockquote>\n  <p>Due to a memory leak in Surefire 2.20 and issues running on Java 9, the junit-platform-surefire-provider currently only works with Surefire 2.19.1.</p>\n</blockquote>\n\n<p>I was trying to use the latest versions of Surefire (2.21.0) and junit-platform-surefire-provider (1.1.0), and it did not work (in neither Java 8 or 9)</p>\n\n<p>Switching back to Surefire 2.19.1 solved my problem.</p>\n\n<p>According to <a href=\"https://github.com/junit-team/junit5/issues/1341\" rel=\"nofollow noreferrer\">this issue</a> a fix will be included in version 1.2.0 of the junit-platform-surefire-provider (currently available as SNAPSHOT only).</p>\n"},{"tags":[],"owner":{"account_id":494694,"reputation":181,"user_id":6693204,"display_name":"Fabien M"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1527243120,"creation_date":1527242790,"answer_id":50526661,"question_id":36970384,"body_markdown":"I ran into this issue with JUnit5 and Maven but also noticed that, even if **only** junit-jupiter-engine was added as a dependency, **tests would run on some projects, not on others**. And I kind of see the same pattern in the comments here: In @Alex comment above you can see he doesn&#39;t have any issue, even with earlier versions of surefire/junit/platform.\r\n\r\nAfter scratching my head for some time I realized that those projects where the tests wouldn&#39;t run were those where the tests **method** names dit **not** contain the word &quot;test&quot;. Though this isn&#39;t mandated by http://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html\r\n\r\n\r\nIn other words:\r\njust with\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nthis\r\n\r\n    @Test\r\n    public void something() {\r\n        assertTrue(true);\r\n    }\r\n\r\n\r\nwill NOT be run, whereas\r\n\r\n    @Test\r\n    public void testSomething() {\r\n        assertTrue(true);\r\n    }\r\nWILL be run !\r\n\r\nThis issue unfolds as a russian doll...\r\n\r\nAnyway, +1 for @Mikhail Kholodkov whose updated answer fixes all the issues at once!","title":"Surefire is not picking up Junit 5 tests","body":"<p>I ran into this issue with JUnit5 and Maven but also noticed that, even if <strong>only</strong> junit-jupiter-engine was added as a dependency, <strong>tests would run on some projects, not on others</strong>. And I kind of see the same pattern in the comments here: In @Alex comment above you can see he doesn't have any issue, even with earlier versions of surefire/junit/platform.</p>\n\n<p>After scratching my head for some time I realized that those projects where the tests wouldn't run were those where the tests <strong>method</strong> names dit <strong>not</strong> contain the word \"test\". Though this isn't mandated by <a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html\" rel=\"noreferrer\">http://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html</a></p>\n\n<p>In other words:\njust with</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.2.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>this</p>\n\n<pre><code>@Test\npublic void something() {\n    assertTrue(true);\n}\n</code></pre>\n\n<p>will NOT be run, whereas</p>\n\n<pre><code>@Test\npublic void testSomething() {\n    assertTrue(true);\n}\n</code></pre>\n\n<p>WILL be run !</p>\n\n<p>This issue unfolds as a russian doll...</p>\n\n<p>Anyway, +1 for @Mikhail Kholodkov whose updated answer fixes all the issues at once!</p>\n"},{"tags":[],"owner":{"account_id":3675511,"reputation":290,"user_id":3061706,"display_name":"schnell18"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1533961985,"creation_date":1533961985,"answer_id":51796487,"question_id":36970384,"body_markdown":"Just to complement, surefire 2.22.0 + junit 5.2.0 + platform 1.2.0 also works. Attached is a working pom for your referecne:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;org.jjhome.junit5&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit5-hone&lt;/artifactId&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;junit5-home&lt;/name&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;1.6&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;junit5.version&gt;5.2.0&lt;/junit5.version&gt;\r\n            &lt;platform.version&gt;1.2.0&lt;/platform.version&gt;\r\n            &lt;surefire.version&gt;2.22.0&lt;/surefire.version&gt;\r\n        &lt;/properties&gt;\r\n\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit5.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit5.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit5.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit5.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n                &lt;version&gt;${platform.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\r\n                &lt;version&gt;${platform.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${surefire.version}&lt;/version&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n                            &lt;version&gt;${platform.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                            &lt;version&gt;${junit5.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Surefire is not picking up Junit 5 tests","body":"<p>Just to complement, surefire 2.22.0 + junit 5.2.0 + platform 1.2.0 also works. Attached is a working pom for your referecne:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.jjhome.junit5&lt;/groupId&gt;\n    &lt;artifactId&gt;junit5-hone&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;junit5-home&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.6&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;junit5.version&gt;5.2.0&lt;/junit5.version&gt;\n        &lt;platform.version&gt;1.2.0&lt;/platform.version&gt;\n        &lt;surefire.version&gt;2.22.0&lt;/surefire.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n            &lt;version&gt;${platform.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n            &lt;version&gt;${platform.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${surefire.version}&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                        &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n                        &lt;version&gt;${platform.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                        &lt;version&gt;${junit5.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1534342147,"creation_date":1534239323,"answer_id":51838295,"question_id":36970384,"body_markdown":"From the [JUnit 5 documentation][1] :\r\n\r\n&gt; Starting with version `2.22.0`, Maven Surefire provides native support\r\n&gt; for executing tests on the JUnit Platform.\r\n\r\nAdditionally you can  read in the [`maven-surefire-plugin` documentation][2] :\r\n\r\n&gt; **Using JUnit 5 Platform**\r\n&gt; \r\n&gt; To get started with JUnit Platform, you need to add at least a single\r\n&gt; `TestEngine` implementation to your project. For example, if you want to\r\n&gt; write tests with Jupiter, add the test artifact `junit-jupiter-engine`\r\n&gt; to the dependencies in POM\r\n&gt; \r\n\r\nSo just that is enough to make run JUnit 5 tests :\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;davidxxx&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;minimal-pom-junit5&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;junit-jupiter.version&gt;5.2.0&lt;/junit-jupiter.version&gt; \r\n            &lt;!--optional below but good practice to specify our java version--&gt;\r\n   \t\t    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n \t\t    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n            &lt;!--optional below --&gt;\r\n    \t\t&lt;!-- add any JUnit extension you need such as --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nOn my GitHub space I added a working sample maven project that you can browse/clone.   \r\nURL: [https://github.com/ebundy/junit5-minimal-maven-project][3]\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/snapshot/user-guide/#running-tests-build-maven   \r\n  [2]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html    \r\n  [3]: https://github.com/ebundy/junit5-minimal-maven-project","title":"Surefire is not picking up Junit 5 tests","body":"<p>From the <a href=\"https://junit.org/junit5/docs/snapshot/user-guide/#running-tests-build-maven\" rel=\"noreferrer\">JUnit 5 documentation</a> :</p>\n\n<blockquote>\n  <p>Starting with version <code>2.22.0</code>, Maven Surefire provides native support\n  for executing tests on the JUnit Platform.</p>\n</blockquote>\n\n<p>Additionally you can  read in the <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\" rel=\"noreferrer\"><code>maven-surefire-plugin</code> documentation</a> :</p>\n\n<blockquote>\n  <p><strong>Using JUnit 5 Platform</strong></p>\n  \n  <p>To get started with JUnit Platform, you need to add at least a single\n  <code>TestEngine</code> implementation to your project. For example, if you want to\n  write tests with Jupiter, add the test artifact <code>junit-jupiter-engine</code>\n  to the dependencies in POM</p>\n</blockquote>\n\n<p>So just that is enough to make run JUnit 5 tests :</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;davidxxx&lt;/groupId&gt;\n    &lt;artifactId&gt;minimal-pom-junit5&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;junit-jupiter.version&gt;5.2.0&lt;/junit-jupiter.version&gt; \n        &lt;!--optional below but good practice to specify our java version--&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--optional below --&gt;\n        &lt;!-- add any JUnit extension you need such as --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>On my GitHub space I added a working sample maven project that you can browse/clone.<br>\nURL: <a href=\"https://github.com/ebundy/junit5-minimal-maven-project\" rel=\"noreferrer\">https://github.com/ebundy/junit5-minimal-maven-project</a></p>\n"},{"tags":[],"owner":{"account_id":111484,"reputation":193,"user_id":294484,"display_name":"jkilgrow"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1546151820,"creation_date":1546151820,"answer_id":53975734,"question_id":36970384,"body_markdown":"One thing I noticed that I was able to get it working:\r\n\r\n - Naming my test class `ClinicCalendarShould` does not get picked up by maven\r\n - Naming my test class `ClinicCalendarTest` DOES get picked up by maven\r\n\r\nSo, unless I am missing some sort of configuration or parameter or whatever in the surefire plugin, by default, you need to name your test classes XXXTest.","title":"Surefire is not picking up Junit 5 tests","body":"<p>One thing I noticed that I was able to get it working:</p>\n\n<ul>\n<li>Naming my test class <code>ClinicCalendarShould</code> does not get picked up by maven</li>\n<li>Naming my test class <code>ClinicCalendarTest</code> DOES get picked up by maven</li>\n</ul>\n\n<p>So, unless I am missing some sort of configuration or parameter or whatever in the surefire plugin, by default, you need to name your test classes XXXTest.</p>\n"},{"tags":[],"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1553178148,"creation_date":1553178148,"answer_id":55282597,"question_id":36970384,"body_markdown":"In my case this was because of the TestNG in the classpath ([SUREFIRE-1527][1]). Groovy 2.5.5 POM have brought it with the `groovy-testng` module.\r\n\r\nManually specified test-framework provider (as it&#39;s described at the https://maven.apache.org/surefire/maven-surefire-plugin/examples/providers.html) solved the problem:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.22.1&lt;/version&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n            &lt;artifactId&gt;surefire-junit-platform&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/SUREFIRE-1527","title":"Surefire is not picking up Junit 5 tests","body":"<p>In my case this was because of the TestNG in the classpath (<a href=\"https://issues.apache.org/jira/browse/SUREFIRE-1527\" rel=\"noreferrer\">SUREFIRE-1527</a>). Groovy 2.5.5 POM have brought it with the <code>groovy-testng</code> module.</p>\n\n<p>Manually specified test-framework provider (as it's described at the <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/providers.html\" rel=\"noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/providers.html</a>) solved the problem:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.22.1&lt;/version&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n        &lt;artifactId&gt;surefire-junit-platform&lt;/artifactId&gt;\n        &lt;version&gt;2.22.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4886717,"reputation":2493,"user_id":3938965,"accept_rate":40,"display_name":"workerjoe"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1565870918,"creation_date":1565870918,"answer_id":57509421,"question_id":36970384,"body_markdown":"I encountered the same problem in August 2019 which I asked about here: https://stackoverflow.com/questions/57478539/maven-silently-fails-to-find-junit-tests-to-run.  These answers led me in the right direction, but I found that you can solve the problem even more concisely.  I copied my solution from the [JUnit5 sample Maven project](https://github.com/junit-team/junit5-samples/tree/r5.5.1/junit5-jupiter-starter-maven). \r\n\r\nAs of JUnit 5.5.1 and `maven-surefire-plugin` 2.22.2, you do not need to add the `junit-platform-surefire-provider` dependency.  It is enough to have this one dependency and one plugin specified in your `pom.xml`:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n","title":"Surefire is not picking up Junit 5 tests","body":"<p>I encountered the same problem in August 2019 which I asked about here: <a href=\"https://stackoverflow.com/questions/57478539/maven-silently-fails-to-find-junit-tests-to-run\">Maven silently fails to find JUnit tests to run</a>.  These answers led me in the right direction, but I found that you can solve the problem even more concisely.  I copied my solution from the <a href=\"https://github.com/junit-team/junit5-samples/tree/r5.5.1/junit5-jupiter-starter-maven\" rel=\"noreferrer\">JUnit5 sample Maven project</a>. </p>\n\n<p>As of JUnit 5.5.1 and <code>maven-surefire-plugin</code> 2.22.2, you do not need to add the <code>junit-platform-surefire-provider</code> dependency.  It is enough to have this one dependency and one plugin specified in your <code>pom.xml</code>:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;5.5.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.2&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2229975,"reputation":1104,"user_id":1967841,"accept_rate":62,"display_name":"Dirk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571825057,"creation_date":1571824472,"answer_id":58520160,"question_id":36970384,"body_markdown":"In my case, the surefire plugin didn&#39;t get the correct version auf the jupiter-engine/api. And that was even if running Maven 3.6.1 und surefireplugin Version 2.22.2!\r\n\r\nNow my surefire-plugin configuration looks like:\r\n\r\n\t&lt;pluginManagement&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.22.2&lt;/version&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;5.5.2&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n            ...\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/pluginManagement&gt;\r\n\r\nFurther more, I had to force these Versions:\r\n\r\n    &lt;dependencyManagement&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;5.5.2&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;5.5.2&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;junit-platform-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.5.2&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.5.2&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\nLooks like 5.5.2 was linked to the wrong platform version 1.3.2 instead of 1.5.2 in my case.\r\n\r\nAll JUnit5 Tests gets picked up now. Even with 2.22.0 of the surefire plugin this wasn&#39;t the case for me!\r\n\r\nHope that helps...\r\n","title":"Surefire is not picking up Junit 5 tests","body":"<p>In my case, the surefire plugin didn't get the correct version auf the jupiter-engine/api. And that was even if running Maven 3.6.1 und surefireplugin Version 2.22.2!</p>\n\n<p>Now my surefire-plugin configuration looks like:</p>\n\n<pre><code>&lt;pluginManagement&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                    &lt;version&gt;5.5.2&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n\n        ...\n    &lt;/plugins&gt;\n&lt;/pluginManagement&gt;\n</code></pre>\n\n<p>Further more, I had to force these Versions:</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-engine&lt;/artifactId&gt;\n            &lt;version&gt;1.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;\n            &lt;version&gt;1.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<p>Looks like 5.5.2 was linked to the wrong platform version 1.3.2 instead of 1.5.2 in my case.</p>\n\n<p>All JUnit5 Tests gets picked up now. Even with 2.22.0 of the surefire plugin this wasn't the case for me!</p>\n\n<p>Hope that helps...</p>\n"},{"tags":[],"owner":{"account_id":3796499,"reputation":5874,"user_id":3151415,"accept_rate":65,"display_name":"garg10may"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1585500795,"creation_date":1585500795,"answer_id":60917641,"question_id":36970384,"body_markdown":"I was facing the same issue both `junit5` and `maven-surefire` tests were failing. However `junit4` was running fine. Below combination worked for me, I don&#39;t add the versioning. Use `junit-bom` for dependency management. Using `spring-boot` `2.1.4`\r\n\r\n       &lt;dependencyManagement&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;5.6.1&lt;/version&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nMake sure to upgrade to the latest version of eclipse","title":"Surefire is not picking up Junit 5 tests","body":"<p>I was facing the same issue both <code>junit5</code> and <code>maven-surefire</code> tests were failing. However <code>junit4</code> was running fine. Below combination worked for me, I don't add the versioning. Use <code>junit-bom</code> for dependency management. Using <code>spring-boot</code> <code>2.1.4</code></p>\n\n<pre><code>   &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n                &lt;version&gt;5.6.1&lt;/version&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Make sure to upgrade to the latest version of eclipse</p>\n"},{"tags":[],"owner":{"account_id":557950,"reputation":1088,"user_id":920554,"accept_rate":100,"display_name":"Mingtao Sun"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1607491272,"creation_date":1607491272,"answer_id":65211103,"question_id":36970384,"body_markdown":"For me the solution is adding the annotation below on top of the class. \r\n\r\n    @RunWith(JUnitPlatform.class)\r\n    public class MyTest {\r\n     ....\r\n    }\r\n\r\nThen even the surefire plugin is not required. ","title":"Surefire is not picking up Junit 5 tests","body":"<p>For me the solution is adding the annotation below on top of the class.</p>\n<pre><code>@RunWith(JUnitPlatform.class)\npublic class MyTest {\n ....\n}\n</code></pre>\n<p>Then even the surefire plugin is not required.</p>\n"},{"tags":[],"owner":{"account_id":1983565,"reputation":4164,"user_id":1779504,"accept_rate":69,"display_name":"csharpfolk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622573595,"creation_date":1622573595,"answer_id":67794534,"question_id":36970384,"body_markdown":"Be careful with nested tests. I had a test class like this:\r\n\r\n```java\r\nclass AcrTerminalTest {\r\n    @Nested\r\n    class card_is_absent {\r\n        AcrTerminal acrTerminal = new AcrTerminal(new CardAbsentFakeCardTerminal());\r\n\r\n        @Test\r\n        void isCardPresent_returns_false() {\r\n            assertThat(acrTerminal.isCardPresent())\r\n                    .isFalse();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nRunning just `./mvnw test -Dtest=AcrTerminalTest` failed, I needed to add `*` after test class name like this `./mvnw test -Dtest=AcrTerminalTest\\*` (see the asterisk).\r\n","title":"Surefire is not picking up Junit 5 tests","body":"<p>Be careful with nested tests. I had a test class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class AcrTerminalTest {\n    @Nested\n    class card_is_absent {\n        AcrTerminal acrTerminal = new AcrTerminal(new CardAbsentFakeCardTerminal());\n\n        @Test\n        void isCardPresent_returns_false() {\n            assertThat(acrTerminal.isCardPresent())\n                    .isFalse();\n        }\n    }\n}\n</code></pre>\n<p>Running just <code>./mvnw test -Dtest=AcrTerminalTest</code> failed, I needed to add <code>*</code> after test class name like this <code>./mvnw test -Dtest=AcrTerminalTest\\*</code> (see the asterisk).</p>\n"},{"tags":[],"owner":{"account_id":1775657,"reputation":166,"user_id":1619489,"display_name":"raulsaeztapia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638300707,"creation_date":1638300707,"answer_id":70175024,"question_id":36970384,"body_markdown":"This was commented by **schnell18** some lines above https://stackoverflow.com/a/51796487/1619489\r\n\r\nFor me was such easy as:\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.5&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;finalName&gt;app-console-services&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n... And this dependency...\r\n\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;","title":"Surefire is not picking up Junit 5 tests","body":"<p>This was commented by <strong>schnell18</strong> some lines above <a href=\"https://stackoverflow.com/a/51796487/1619489\">https://stackoverflow.com/a/51796487/1619489</a></p>\n<p>For me was such easy as:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.5&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;app-console-services&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>... And this dependency...</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":481006,"reputation":31206,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641567250,"creation_date":1641567250,"answer_id":70623049,"question_id":36970384,"body_markdown":"**Update 2022**\r\n\r\nThe following now works:\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n\r\nAnd of-course the dependency added:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThe tests are now detected.","title":"Surefire is not picking up Junit 5 tests","body":"<p><strong>Update 2022</strong></p>\n<p>The following now works:</p>\n<pre><code>    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.2&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n</code></pre>\n<p>And of-course the dependency added:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;5.8.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The tests are now detected.</p>\n"},{"tags":[],"owner":{"account_id":18513662,"reputation":1,"user_id":13488264,"display_name":"kmursk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643072506,"creation_date":1643072506,"answer_id":70842283,"question_id":36970384,"body_markdown":"Based on my case experience there **should be no dependency** on library *junit-jupiter-engine* in pom.xml. Then one can use plugin maven-surefire-plugin and dependency on *junit-jupiter* of the newest version","title":"Surefire is not picking up Junit 5 tests","body":"<p>Based on my case experience there <strong>should be no dependency</strong> on library <em>junit-jupiter-engine</em> in pom.xml. Then one can use plugin maven-surefire-plugin and dependency on <em>junit-jupiter</em> of the newest version</p>\n"},{"tags":[],"owner":{"account_id":7129648,"reputation":21,"user_id":5451391,"display_name":"Skippy Pants"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655298575,"creation_date":1655298575,"answer_id":72632031,"question_id":36970384,"body_markdown":"I ran into a similar problem when upgrading from junit 4 to 5.\r\n\r\nfrom \r\n\r\n    &lt;dependency&gt;\r\n\t\t   &lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t   &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t   &lt;version&gt;4.12&lt;/version&gt;\r\n\t\t   &lt;type&gt;jar&lt;/type&gt;\r\n\t\t   &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t   &lt;optional&gt;true&lt;/optional&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nto \r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.4.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nI used an Eclipse feature to create the unit test class.  Right click the class file to test --&gt; New --&gt; Other --&gt; Junit Test Case --&gt; New JUnit Jupiter test.  This will nicely create a stubbed out Unit Test class.  Beware however as the stubbed out Unit Test class will NOT have the **public** class identifier nor will the corresponding annotated test method(s) be **public**.  \r\n\r\nThe unit test will run fine in Eclipse but when run from bash, &#39;mvn test&#39;, the corresponding test will not be detected (no warning either).  \r\n\r\n    Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n\r\nIf you revert to junit 4, &#39;mvn test&#39; will warn you.  \r\n\r\n    Tests in error:\r\n    initializationError(com.mycompany.operations.ConvertExcelTest): The class com.mycompany.operations.ConvertExcelTest is not public.\r\n      initializationError(com.mycompany.operations.ConvertExcelTest): Test class should have exactly one public constructor\r\n      initializationError(com.mycompany.operations.ConvertExcelTest): Method testExecute_excel97File() should be public\r\n    Tests run: 3, Failures: 0, Errors: 3, Skipped: 0\r\n\r\nThe solution for me was to make the corresponding test class public and to make the test method public too.  \r\n\r\n    public class ConvertExcelTest {\r\n\r\n    @Test\r\n\tpublic void testExecute_excel97File() {\r\n\r\n ","title":"Surefire is not picking up Junit 5 tests","body":"<p>I ran into a similar problem when upgrading from junit 4 to 5.</p>\n<p>from</p>\n<pre><code>&lt;dependency&gt;\n       &lt;groupId&gt;junit&lt;/groupId&gt;\n       &lt;artifactId&gt;junit&lt;/artifactId&gt;\n       &lt;version&gt;4.12&lt;/version&gt;\n       &lt;type&gt;jar&lt;/type&gt;\n       &lt;scope&gt;test&lt;/scope&gt;\n       &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.4.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I used an Eclipse feature to create the unit test class.  Right click the class file to test --&gt; New --&gt; Other --&gt; Junit Test Case --&gt; New JUnit Jupiter test.  This will nicely create a stubbed out Unit Test class.  Beware however as the stubbed out Unit Test class will NOT have the <strong>public</strong> class identifier nor will the corresponding annotated test method(s) be <strong>public</strong>.</p>\n<p>The unit test will run fine in Eclipse but when run from bash, 'mvn test', the corresponding test will not be detected (no warning either).</p>\n<pre><code>Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n<p>If you revert to junit 4, 'mvn test' will warn you.</p>\n<pre><code>Tests in error:\ninitializationError(com.mycompany.operations.ConvertExcelTest): The class com.mycompany.operations.ConvertExcelTest is not public.\n  initializationError(com.mycompany.operations.ConvertExcelTest): Test class should have exactly one public constructor\n  initializationError(com.mycompany.operations.ConvertExcelTest): Method testExecute_excel97File() should be public\nTests run: 3, Failures: 0, Errors: 3, Skipped: 0\n</code></pre>\n<p>The solution for me was to make the corresponding test class public and to make the test method public too.</p>\n<pre><code>public class ConvertExcelTest {\n\n@Test\npublic void testExecute_excel97File() {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1336332,"reputation":3448,"user_id":1279002,"accept_rate":44,"display_name":"theINtoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700568853,"creation_date":1700568853,"answer_id":77522728,"question_id":36970384,"body_markdown":"I had a similar issue, which is why I ended up here. For me, I had jupiter on the classpath and surefire was at 3.2.2 and was running with the `@SpringBootTest` annotation so most of the advice here was/is out of date. \r\n\r\nThe key thing for me from running the tests was:\r\n\r\n```\r\n...\r\n[INFO] --- surefire:3.2.2:test (default-test) @ my-tests ---\r\n[INFO] Using auto detected provider org.apache.maven.surefire.junit.JUnit3Provider\r\n...\r\n```\r\nThe [surefire website provides][1] instructions on how to select a provider.\r\n\r\nEssentially, for me this fixed it against junit5:\r\n\r\n```xml\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.2&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;surefire-junit-platform&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.2.2&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;-Dspring.profiles.active=${spring.profiles.active} ${args}&lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n```\r\n\r\nAt the time of posting surefire have these providers:\r\n\r\n`The providers supplied with Surefire are surefire-junit3, surefire-junit4, surefire-junit47, surefire-junit-platform and surefire-testng.`\r\n\r\n  [1]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/providers.html","title":"Surefire is not picking up Junit 5 tests","body":"<p>I had a similar issue, which is why I ended up here. For me, I had jupiter on the classpath and surefire was at 3.2.2 and was running with the <code>@SpringBootTest</code> annotation so most of the advice here was/is out of date.</p>\n<p>The key thing for me from running the tests was:</p>\n<pre><code>...\n[INFO] --- surefire:3.2.2:test (default-test) @ my-tests ---\n[INFO] Using auto detected provider org.apache.maven.surefire.junit.JUnit3Provider\n...\n</code></pre>\n<p>The <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/providers.html\" rel=\"nofollow noreferrer\">surefire website provides</a> instructions on how to select a provider.</p>\n<p>Essentially, for me this fixed it against junit5:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.2&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                        &lt;artifactId&gt;surefire-junit-platform&lt;/artifactId&gt;\n                        &lt;version&gt;3.2.2&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;-Dspring.profiles.active=${spring.profiles.active} ${args}&lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n</code></pre>\n<p>At the time of posting surefire have these providers:</p>\n<p><code>The providers supplied with Surefire are surefire-junit3, surefire-junit4, surefire-junit47, surefire-junit-platform and surefire-testng.</code></p>\n"}],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99617,"favorite_count":0,"down_vote_count":0,"up_vote_count":158,"accepted_answer_id":36970518,"answer_count":20,"score":158,"last_activity_date":1700568853,"creation_date":1462127535,"question_id":36970384,"body_markdown":"I wrote a simple test method with JUnit 5:\r\n\r\n    public class SimlpeTest {\r\n        @Test\r\n        @DisplayName(&quot;Some description&quot;)\r\n        void methodName() {\r\n            // Testing logic for subject under test\r\n        }\r\n    }\r\nBut when I run `mvn test`, I got:\r\n\r\n    -------------------------------------------------------\r\n     T E S T S\r\n    -------------------------------------------------------\r\n    Running SimlpeTest\r\n    Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec\r\n    \r\n    Results :\r\n    \r\n    Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\nSomehow, surefire didn&#39;t recognize that test class. My `pom.xml` looks like:\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;junit.version&gt;5.0.0-SNAPSHOT&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit5-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;snapshots-repo&lt;/id&gt;\r\n            &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;\r\n            &lt;releases&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/releases&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n           \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\nAny idea how to make this work?\r\n       ","title":"Surefire is not picking up Junit 5 tests","body":"<p>I wrote a simple test method with JUnit 5:</p>\n\n<pre><code>public class SimlpeTest {\n    @Test\n    @DisplayName(\"Some description\")\n    void methodName() {\n        // Testing logic for subject under test\n    }\n}\n</code></pre>\n\n<p>But when I run <code>mvn test</code>, I got:</p>\n\n<pre><code>-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning SimlpeTest\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec\n\nResults :\n\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n\n<p>Somehow, surefire didn't recognize that test class. My <code>pom.xml</code> looks like:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;junit.version&gt;5.0.0-SNAPSHOT&lt;/junit.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit5-api&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;snapshots-repo&lt;/id&gt;\n        &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/releases&gt;\n        &lt;snapshots&gt;\n            &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Any idea how to make this work?</p>\n"},{"tags":["java","oop","stddraw"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1700563939,"post_id":77522015,"comment_id":136667468,"body_markdown":"What&#39;s `StdDraw`? Is this a utility library from your instructor?","body":"What&#39;s <code>StdDraw</code>? Is this a utility library from your instructor?"},{"owner":{"account_id":19484108,"reputation":33,"user_id":14253819,"display_name":"refik"},"score":0,"creation_date":1700564557,"post_id":77522015,"comment_id":136667575,"body_markdown":"It&#39;s a drawing library for Java: https://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html. \nAlso I&#39;m doing this for fun, it&#39;s not my homework. I think it&#39;s a bit complicated to be a homework.","body":"It&#39;s a drawing library for Java: <a href=\"https://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html\" rel=\"nofollow noreferrer\">introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html</a>.  Also I&#39;m doing this for fun, it&#39;s not my homework. I think it&#39;s a bit complicated to be a homework."}],"owner":{"account_id":19484108,"reputation":33,"user_id":14253819,"display_name":"refik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700568814,"creation_date":1700562025,"question_id":77522015,"body_markdown":"I am trying to write a program that randomly generates 100 colored moving balls and a black ball that is faster and bigger than them. The black ball should swallow every ball it passes completely over, and when it does, its radius should increase and its speed should decrease. The ball it swallows should disappear. Also, every time a colored ball hits the edges of the region, a new colored ball should be formed. If black ball can swallow every colorful ball, the program should stop.\r\nI wrote a code, but I couldn&#39;t get the program I wanted. I&#39;m very very far away from that. Obviously I couldn&#39;t figure out the mechanics of swallowing and erasing the balls. But I structured the skeleton of objects. Also there seems to be a problem when drawing the balls, for some reason the color of the bigger and faster ball is not black.\r\nCan anyone help?\r\n\r\n(I already imported the StdDraw library, so it isn&#39;t the problem)\r\n\r\n```\r\nimport java.util.Random;\r\n\r\nimport java.awt.Color;\r\n\r\npublic class BallEating {\r\n\r\n\tprivate double x, y, vx, vy, r;\r\n\tprivate Color c;\r\n\tprivate static Color[] ballColors;\r\n\tprivate static BallEating[] balls;\r\n\tprivate static int number;\r\n\tprivate static BallEating eatingBall;\r\n\t\r\n\tpublic BallEating(double x, double y, double vx, double vy, double r, Color c) {\r\n\t\t\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.vx = vx;\r\n\t\tthis.vy = vy;\r\n\t\tthis.r = r;\r\n\t\tthis.c = c;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void move() {\r\n\t\t\r\n\t\tx = x + vx;\r\n\t\ty = y + vy;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void draw() {\r\n\t\t\r\n\t\tStdDraw.filledCircle(getX(), getY(), getR());\r\n\t\tStdDraw.setPenColor(getC());\r\n\r\n        /*\r\n        try {\r\n\t\t\tThread.sleep(1000);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t*/\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void drawBlackOne() {\r\n\t\t\r\n\t\tStdDraw.filledCircle(eatingBall.getX(), eatingBall.getY(), eatingBall.getR());\r\n\t\tStdDraw.setPenColor(eatingBall.getC());\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic double getX() {\r\n        return x;\r\n    }\r\n\r\n    public double getY() {\r\n        return y;\r\n    }\r\n\r\n    public double getVy() {\r\n        return vy;\r\n    }\r\n\r\n    public double getVx() {\r\n        return vx;\r\n    }\r\n\r\n    public double getR() {\r\n        return r;\r\n    }\r\n    \r\n    public Color getC() {\r\n    \treturn c;\r\n    }\r\n    \r\n    public void setC(Color c) {\r\n    \tthis.c = c;\r\n    }\r\n\r\n    public void setX(double x) {\r\n        this.x = x;\r\n    }\r\n\r\n    public void setY(double newY) {\r\n        y = newY;\r\n    }\r\n\r\n    public void setVx(double newVx) {\r\n        vx = newVx;\r\n    }\r\n\r\n    public void setVy(double newVy) {\r\n        vy = newVy;\r\n    }\r\n\r\n    public void setR(double newR) {\r\n        r = newR;\r\n    }\r\n    \r\n    static {\r\n        ballColors = new Color[]{StdDraw.GREEN, StdDraw.RED, StdDraw.BLUE};\r\n        eatingBall = new BallEating(0.5, 0.5, 0.02, 0.05, 0.2, StdDraw.BLACK);\r\n        \r\n    }\r\n    \r\n    public static void setImage() {\r\n        StdDraw.enableDoubleBuffering();\r\n        StdDraw.setCanvasSize(500, 500);\r\n        StdDraw.setXscale(-1.0, 1.0);\r\n        StdDraw.setYscale(-1.0, 1.0);\r\n    }\r\n    \r\n    private static void initialize() {\r\n        setImage();\r\n        \r\n        number = 100;\r\n        balls = new BallEating[number];\r\n\r\n        Random random = new Random();\r\n        for (int i = 0; i &lt; number; i++) {\r\n        \tballs[i] = new BallEating(0, 0, 0, 0, 0, StdDraw.WHITE);\r\n        \t\r\n        \tballs[i].setVx(random.nextDouble() * 0.04 - 0.02);\r\n        \tballs[i].setVy(random.nextDouble() * 0.04 - 0.02);\r\n        \tballs[i].setR(random.nextDouble() * 0.08 + 0.02);\r\n        \tballs[i].setC(ballColors[(random.nextInt(3))]);\r\n\r\n            do {\r\n                balls[i].setX(random.nextDouble() * 2 - 1);\r\n            } while (Math.abs(balls[i].getX()) &gt; (1 - balls[i].getR()));\r\n            do {\r\n            \tballs[i].setY(random.nextDouble() * 2 - 1);\r\n            } while (Math.abs(balls[i].getY()) &gt; (1 - balls[i].getR()));\r\n\r\n            \r\n        }\r\n\r\n    }\r\n    \r\n    private static void loop() {\r\n        StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);\r\n\r\n      //eatingBall = new BallEating(0.5, 0.5, 0.05, 0.05, 0.2, StdDraw.BLACK);\r\n        eatingBall.move();\r\n        \r\n    \tif (Math.abs(eatingBall.getX() + eatingBall.getVx()) &gt; (1.0 - eatingBall.getR())) {\r\n    \t\teatingBall.setVx((-1)*eatingBall.getVx());\r\n        }\r\n\r\n        if (Math.abs(eatingBall.getY() + eatingBall.getVy()) &gt; (1.0 - eatingBall.getR())) {\r\n        \teatingBall.setVy((-1)*eatingBall.getVy());\r\n        }\r\n        \r\n        eatingBall.drawBlackOne();\r\n        \r\n        \r\n        \r\n        for (int i = 0; i &lt; number; i++) {\r\n            BallEating ball = balls[i];\r\n\r\n            ball.move();\r\n\r\n            if (Math.abs(ball.getX() + ball.getVx()) &gt; (1.0 - ball.getR())) {\r\n                ball.setVx((-1)*ball.getVx());\r\n            }\r\n\r\n            if (Math.abs(ball.getY() + ball.getVy()) &gt; (1.0 - ball.getR())) {\r\n                ball.setVy((-1)*ball.getVy());\r\n            }\r\n            \r\n            \r\n        }\r\n        \r\n        for (int i = 0; i &lt; number; i++) {\r\n\r\n        \tballs[i].draw();\r\n        \t\r\n        }\r\n\r\n        StdDraw.show();\r\n        StdDraw.pause(20);\r\n    }\r\n    \r\n    public static void blackEatingBall() {\r\n    \t\r\n    \t//eatingBall = new BallEating(0.5, 0.5, 0.05, 0.05, 0.2, StdDraw.BLACK);\r\n    \t\r\n    \tfor(int i = 0; i &lt; number; i++) {\r\n        \t\tBallEating ball = balls[i];\r\n        \t\t\r\n        \t\tboolean a = true;\r\n        \t\tif(eatingBall.getX() == ball.getX() &amp;&amp;  eatingBall.getY() == ball.getY() &amp;&amp; eatingBall.getR() &gt; ball.getR()) {\r\n            \t\t\r\n        \t\t\teatingBall.setR(ball.getR() / 2 + eatingBall.getR());\r\n        \t\t\teatingBall.setVx(eatingBall.getVx() / 1.2);\r\n        \t\t\teatingBall.setVy(eatingBall.getVy() / 1.2);\r\n        \t\t\tballs[i] = null;\r\n        \t\t\tnumber--;\r\n            \t}\r\n        \t\t\r\n        \t\t\r\n        \t}\r\n    \t\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n    \t\r\n    \t\r\n    \tinitialize();\r\n    \t\r\n        while (true) {\r\n        \tblackEatingBall();\r\n            loop();\r\n        }\r\n    }\r\n    \r\n    \r\n}\r\n\r\n```","title":"Black Ball That Eats Moving Colorful Balls","body":"<p>I am trying to write a program that randomly generates 100 colored moving balls and a black ball that is faster and bigger than them. The black ball should swallow every ball it passes completely over, and when it does, its radius should increase and its speed should decrease. The ball it swallows should disappear. Also, every time a colored ball hits the edges of the region, a new colored ball should be formed. If black ball can swallow every colorful ball, the program should stop.\nI wrote a code, but I couldn't get the program I wanted. I'm very very far away from that. Obviously I couldn't figure out the mechanics of swallowing and erasing the balls. But I structured the skeleton of objects. Also there seems to be a problem when drawing the balls, for some reason the color of the bigger and faster ball is not black.\nCan anyone help?</p>\n<p>(I already imported the StdDraw library, so it isn't the problem)</p>\n<pre><code>import java.util.Random;\n\nimport java.awt.Color;\n\npublic class BallEating {\n\n    private double x, y, vx, vy, r;\n    private Color c;\n    private static Color[] ballColors;\n    private static BallEating[] balls;\n    private static int number;\n    private static BallEating eatingBall;\n    \n    public BallEating(double x, double y, double vx, double vy, double r, Color c) {\n        \n        this.x = x;\n        this.y = y;\n        this.vx = vx;\n        this.vy = vy;\n        this.r = r;\n        this.c = c;\n        \n    }\n    \n    public void move() {\n        \n        x = x + vx;\n        y = y + vy;\n        \n    }\n    \n    public void draw() {\n        \n        StdDraw.filledCircle(getX(), getY(), getR());\n        StdDraw.setPenColor(getC());\n\n        /*\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        */\n        \n    }\n    \n    public void drawBlackOne() {\n        \n        StdDraw.filledCircle(eatingBall.getX(), eatingBall.getY(), eatingBall.getR());\n        StdDraw.setPenColor(eatingBall.getC());\n        \n    }\n    \n    public double getX() {\n        return x;\n    }\n\n    public double getY() {\n        return y;\n    }\n\n    public double getVy() {\n        return vy;\n    }\n\n    public double getVx() {\n        return vx;\n    }\n\n    public double getR() {\n        return r;\n    }\n    \n    public Color getC() {\n        return c;\n    }\n    \n    public void setC(Color c) {\n        this.c = c;\n    }\n\n    public void setX(double x) {\n        this.x = x;\n    }\n\n    public void setY(double newY) {\n        y = newY;\n    }\n\n    public void setVx(double newVx) {\n        vx = newVx;\n    }\n\n    public void setVy(double newVy) {\n        vy = newVy;\n    }\n\n    public void setR(double newR) {\n        r = newR;\n    }\n    \n    static {\n        ballColors = new Color[]{StdDraw.GREEN, StdDraw.RED, StdDraw.BLUE};\n        eatingBall = new BallEating(0.5, 0.5, 0.02, 0.05, 0.2, StdDraw.BLACK);\n        \n    }\n    \n    public static void setImage() {\n        StdDraw.enableDoubleBuffering();\n        StdDraw.setCanvasSize(500, 500);\n        StdDraw.setXscale(-1.0, 1.0);\n        StdDraw.setYscale(-1.0, 1.0);\n    }\n    \n    private static void initialize() {\n        setImage();\n        \n        number = 100;\n        balls = new BallEating[number];\n\n        Random random = new Random();\n        for (int i = 0; i &lt; number; i++) {\n            balls[i] = new BallEating(0, 0, 0, 0, 0, StdDraw.WHITE);\n            \n            balls[i].setVx(random.nextDouble() * 0.04 - 0.02);\n            balls[i].setVy(random.nextDouble() * 0.04 - 0.02);\n            balls[i].setR(random.nextDouble() * 0.08 + 0.02);\n            balls[i].setC(ballColors[(random.nextInt(3))]);\n\n            do {\n                balls[i].setX(random.nextDouble() * 2 - 1);\n            } while (Math.abs(balls[i].getX()) &gt; (1 - balls[i].getR()));\n            do {\n                balls[i].setY(random.nextDouble() * 2 - 1);\n            } while (Math.abs(balls[i].getY()) &gt; (1 - balls[i].getR()));\n\n            \n        }\n\n    }\n    \n    private static void loop() {\n        StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);\n\n      //eatingBall = new BallEating(0.5, 0.5, 0.05, 0.05, 0.2, StdDraw.BLACK);\n        eatingBall.move();\n        \n        if (Math.abs(eatingBall.getX() + eatingBall.getVx()) &gt; (1.0 - eatingBall.getR())) {\n            eatingBall.setVx((-1)*eatingBall.getVx());\n        }\n\n        if (Math.abs(eatingBall.getY() + eatingBall.getVy()) &gt; (1.0 - eatingBall.getR())) {\n            eatingBall.setVy((-1)*eatingBall.getVy());\n        }\n        \n        eatingBall.drawBlackOne();\n        \n        \n        \n        for (int i = 0; i &lt; number; i++) {\n            BallEating ball = balls[i];\n\n            ball.move();\n\n            if (Math.abs(ball.getX() + ball.getVx()) &gt; (1.0 - ball.getR())) {\n                ball.setVx((-1)*ball.getVx());\n            }\n\n            if (Math.abs(ball.getY() + ball.getVy()) &gt; (1.0 - ball.getR())) {\n                ball.setVy((-1)*ball.getVy());\n            }\n            \n            \n        }\n        \n        for (int i = 0; i &lt; number; i++) {\n\n            balls[i].draw();\n            \n        }\n\n        StdDraw.show();\n        StdDraw.pause(20);\n    }\n    \n    public static void blackEatingBall() {\n        \n        //eatingBall = new BallEating(0.5, 0.5, 0.05, 0.05, 0.2, StdDraw.BLACK);\n        \n        for(int i = 0; i &lt; number; i++) {\n                BallEating ball = balls[i];\n                \n                boolean a = true;\n                if(eatingBall.getX() == ball.getX() &amp;&amp;  eatingBall.getY() == ball.getY() &amp;&amp; eatingBall.getR() &gt; ball.getR()) {\n                    \n                    eatingBall.setR(ball.getR() / 2 + eatingBall.getR());\n                    eatingBall.setVx(eatingBall.getVx() / 1.2);\n                    eatingBall.setVy(eatingBall.getVy() / 1.2);\n                    balls[i] = null;\n                    number--;\n                }\n                \n                \n            }\n        \n    }\n    \n    public static void main(String[] args) {\n        \n        \n        initialize();\n        \n        while (true) {\n            blackEatingBall();\n            loop();\n        }\n    }\n    \n    \n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700568040,"post_id":77522245,"comment_id":136668168,"body_markdown":"WIthout knowing if that call is mandatory for the commit or the data at hand this is impossible to answer.","body":"WIthout knowing if that call is mandatory for the commit or the data at hand this is impossible to answer."}],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700568652,"creation_date":1700568307,"answer_id":77522675,"question_id":77522245,"body_markdown":"It would be *easiest* if you just kept the DB connection open while performing REST call. If it&#39;s a simple `SELECT`, then it doesn&#39;t consume much resources:\r\n\r\n    @Transactional\r\n    public void m1() {\r\n        SomeClass o = repository.findSomething(...);\r\n        externalService.call(o);\r\n    }\r\n\r\nBut if you don&#39;t want to keep the connection open (which is *better*), then simply redesign it like this:\r\n\r\n    public void m1() {\r\n        SomeClass o = otherService.transactionalMethod();\r\n        externalService.call(o);\r\n    }\r\n\r\nSo your `m1()` method isn&#39;t `@Transactional` anymore, while the TX is now started and finished in the first line. Alternatively, you can do programmatic tx management and not bother moving the tx-related logic into a separate service.\r\n\r\nPS: while not a good practice, you can also mark your Repository methods `@Transactional` - so you won&#39;t have to delegate the TX call to another service. Spring Data for example does just that. Depending on the expectations on the quality of the code this may be acceptable.","title":"where to place @Transactional annotation when service layer contains call to external resources?","body":"<p>It would be <em>easiest</em> if you just kept the DB connection open while performing REST call. If it's a simple <code>SELECT</code>, then it doesn't consume much resources:</p>\n<pre><code>@Transactional\npublic void m1() {\n    SomeClass o = repository.findSomething(...);\n    externalService.call(o);\n}\n</code></pre>\n<p>But if you don't want to keep the connection open (which is <em>better</em>), then simply redesign it like this:</p>\n<pre><code>public void m1() {\n    SomeClass o = otherService.transactionalMethod();\n    externalService.call(o);\n}\n</code></pre>\n<p>So your <code>m1()</code> method isn't <code>@Transactional</code> anymore, while the TX is now started and finished in the first line. Alternatively, you can do programmatic tx management and not bother moving the tx-related logic into a separate service.</p>\n<p>PS: while not a good practice, you can also mark your Repository methods <code>@Transactional</code> - so you won't have to delegate the TX call to another service. Spring Data for example does just that. Depending on the expectations on the quality of the code this may be acceptable.</p>\n"}],"owner":{"account_id":11433301,"reputation":380,"user_id":8381420,"display_name":"saba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700568652,"creation_date":1700564383,"question_id":77522245,"body_markdown":"here is the situation \r\n have a method in service layer that calls another third-party service, meanwhile it does \r\nquery using JPA repository, and it cause org.springframework.dao.DataAccessResourceFailureException: \r\n\r\n    Unable to acquire JDBC Connection; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n    \tat ....\r\n\r\nhow do you think I can handle this rather than using a circuit breaker on a third party calling part?\r\nfor whatever reason that method may took some time to execute, but I don&#39;t want to keep the connection to the databse. is there any way I can handle this?\r\n\r\n\r\n","title":"where to place @Transactional annotation when service layer contains call to external resources?","body":"<p>here is the situation\nhave a method in service layer that calls another third-party service, meanwhile it does\nquery using JPA repository, and it cause org.springframework.dao.DataAccessResourceFailureException:</p>\n<pre><code>Unable to acquire JDBC Connection; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\n    at ....\n</code></pre>\n<p>how do you think I can handle this rather than using a circuit breaker on a third party calling part?\nfor whatever reason that method may took some time to execute, but I don't want to keep the connection to the databse. is there any way I can handle this?</p>\n"},{"tags":["java","eclipse","spring-tool-suite"],"comments":[{"owner":{"account_id":1471892,"reputation":9718,"user_id":1383240,"accept_rate":38,"display_name":"NiVeR"},"score":0,"creation_date":1522394060,"post_id":49569942,"comment_id":86147824,"body_markdown":"I think that the `JRE name` should be again the `jdk..`.","body":"I think that the <code>JRE name</code> should be again the <code>jdk..</code>."},{"owner":{"account_id":3549040,"reputation":808,"user_id":4617310,"accept_rate":37,"display_name":"Shamim Ahmad"},"score":0,"creation_date":1522394770,"post_id":49569942,"comment_id":86148124,"body_markdown":"I changed it to jdk, no luck !","body":"I changed it to jdk, no luck !"},{"owner":{"account_id":6728948,"reputation":480,"user_id":5185998,"accept_rate":56,"display_name":"Anoop saju"},"score":0,"creation_date":1522395065,"post_id":49569942,"comment_id":86148245,"body_markdown":"I think there is an File Not Found Exception.Could give a code snippet of where it occurs and where it is handled","body":"I think there is an File Not Found Exception.Could give a code snippet of where it occurs and where it is handled"},{"owner":{"account_id":6728948,"reputation":480,"user_id":5185998,"accept_rate":56,"display_name":"Anoop saju"},"score":0,"creation_date":1522395100,"post_id":49569942,"comment_id":86148260,"body_markdown":"It is handled so it might work fine under normal execution","body":"It is handled so it might work fine under normal execution"},{"owner":{"account_id":3549040,"reputation":808,"user_id":4617310,"accept_rate":37,"display_name":"Shamim Ahmad"},"score":0,"creation_date":1522401741,"post_id":49569942,"comment_id":86150908,"body_markdown":"There is no place where it is breaking, its just that it is breaking for some eclipse configuration problem.","body":"There is no place where it is breaking, its just that it is breaking for some eclipse configuration problem."}],"answers":[{"tags":[],"owner":{"account_id":6614344,"reputation":77,"user_id":5108186,"display_name":"sahil0021"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522395289,"creation_date":1522395289,"answer_id":49570331,"question_id":49569942,"body_markdown":"You have to edit your source lookup path. here is a steps to add path [Check this link](http://h22208.www2.hpe.com/eginfolib/networking/docs/sdn/sdnc2_6/5998-8475prog/content/s_sdnc-eclipse-AttachingSource.html)\r\n","title":"Spring Tool Suite - IDE is not running in debug mode","body":"<p>You have to edit your source lookup path. here is a steps to add path <a href=\"http://h22208.www2.hpe.com/eginfolib/networking/docs/sdn/sdnc2_6/5998-8475prog/content/s_sdnc-eclipse-AttachingSource.html\" rel=\"nofollow noreferrer\">Check this link</a></p>\n"},{"tags":[],"owner":{"account_id":3549040,"reputation":808,"user_id":4617310,"accept_rate":37,"display_name":"Shamim Ahmad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522405525,"creation_date":1522405525,"answer_id":49572707,"question_id":49569942,"body_markdown":"**This solved my problem:**\r\n\r\n&quot;window-&gt;Preferences-&gt;Java-&gt;Debug&quot; and disable the &quot;suspend execution of uncaught exceptions&quot;","title":"Spring Tool Suite - IDE is not running in debug mode","body":"<p><strong>This solved my problem:</strong></p>\n\n<p>\"window->Preferences->Java->Debug\" and disable the \"suspend execution of uncaught exceptions\"</p>\n"},{"tags":[],"owner":{"account_id":18343629,"reputation":1,"user_id":13359262,"display_name":"saleem saleem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587361479,"creation_date":1587361479,"answer_id":61315831,"question_id":49569942,"body_markdown":"workspace might be corrupted, Change the workspace.\r\nFile-&gt; switch workspace -&gt; other, select a new workspace.\r\nAnd then import your project from the old workspace.","title":"Spring Tool Suite - IDE is not running in debug mode","body":"<p>workspace might be corrupted, Change the workspace.\nFile-> switch workspace -> other, select a new workspace.\nAnd then import your project from the old workspace.</p>\n"},{"tags":[],"owner":{"account_id":10885121,"reputation":61,"user_id":8002885,"display_name":"nandha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677145895,"creation_date":1677145895,"answer_id":75543123,"question_id":49569942,"body_markdown":"Just try a maven clean install and run again - it might work","title":"Spring Tool Suite - IDE is not running in debug mode","body":"<p>Just try a maven clean install and run again - it might work</p>\n"}],"owner":{"account_id":3549040,"reputation":808,"user_id":4617310,"accept_rate":37,"display_name":"Shamim Ahmad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12043,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1700568380,"creation_date":1522393481,"question_id":49569942,"body_markdown":"I am trying to run my code in STS-IDE in debug mode, although it is running fine in normal mode but in debug mode I am facing this problem, please have a look :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI have already set this path to JDK,\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oOAnO.png\r\n  [2]: https://i.stack.imgur.com/y0pak.png","title":"Spring Tool Suite - IDE is not running in debug mode","body":"<p>I am trying to run my code in STS-IDE in debug mode, although it is running fine in normal mode but in debug mode I am facing this problem, please have a look :</p>\n\n<p><a href=\"https://i.stack.imgur.com/oOAnO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oOAnO.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have already set this path to JDK,</p>\n\n<p><a href=\"https://i.stack.imgur.com/y0pak.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y0pak.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","apache-axis"],"owner":{"account_id":29182129,"reputation":1,"user_id":22356027,"display_name":"syk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700568181,"creation_date":1700557152,"question_id":77521504,"body_markdown":"When I call the other party&#39;s webService interface, the resulting XML data format is as follows:\r\n\r\n```\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n   &lt;soapenv:Body&gt;\r\n      &lt;response&gt;\r\n         &lt;traceId&gt;abf95b6d1d704aa9977a8887159ff3ce&lt;/traceId&gt;\r\n         &lt;code&gt;E00000&lt;/code&gt;\r\n         &lt;message&gt;请求成功！&lt;/message&gt;\r\n         &lt;data&gt;\r\n            &lt;item&gt;\r\n               &lt;BAH&gt;282444&lt;/BAH&gt;\r\n               &lt;ZYID&gt;2824447&lt;/ZYID&gt;\r\n               &lt;SBM_EMR&gt;179968&lt;/SBM_EMR&gt;\r\n               &lt;ZYCS&gt;7&lt;/ZYCS&gt;\r\n               &lt;ZDMC&gt;恶性胸腔积液&lt;/ZDMC&gt;\r\n               &lt;ZDICD&gt;C78.201&lt;/ZDICD&gt;\r\n               &lt;RYBQ/&gt;\r\n               &lt;ZDLB&gt;cy&lt;/ZDLB&gt;\r\n               &lt;XH&gt;0&lt;/XH&gt;\r\n            &lt;/item&gt;\r\n            &lt;item&gt;\r\n               &lt;BAH&gt;282444&lt;/BAH&gt;\r\n               &lt;ZYID&gt;2824447&lt;/ZYID&gt;\r\n               &lt;SBM_EMR&gt;179968&lt;/SBM_EMR&gt;\r\n               &lt;ZYCS&gt;7&lt;/ZYCS&gt;\r\n               &lt;ZDMC&gt;肺恶性肿瘤（Iv期）&lt;/ZDMC&gt;\r\n               &lt;ZDICD&gt;C34.900x001&lt;/ZDICD&gt;\r\n               &lt;RYBQ/&gt;\r\n               &lt;ZDLB&gt;zy&lt;/ZDLB&gt;\r\n               &lt;XH&gt;0&lt;/XH&gt;\r\n            &lt;/item&gt;\r\n   &lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n```\r\n\r\nMay I know the specific type I should use to accept it? It keeps reporting errors similar to serialization to me\r\n\r\nI have tried using String type acceptance, but it is not very feasible\r\n\r\n```\r\ncall.setReturnType(XMLType.XSD_STRING);\r\nresult = (String) call.invoke(new Object[]{headerTemp.toString(),contentTemp.toString()});\r\n```","title":"WebServcie data return XML format issue","body":"<p>When I call the other party's webService interface, the resulting XML data format is as follows:</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n   &lt;soapenv:Body&gt;\n      &lt;response&gt;\n         &lt;traceId&gt;abf95b6d1d704aa9977a8887159ff3ce&lt;/traceId&gt;\n         &lt;code&gt;E00000&lt;/code&gt;\n         &lt;message&gt;请求成功！&lt;/message&gt;\n         &lt;data&gt;\n            &lt;item&gt;\n               &lt;BAH&gt;282444&lt;/BAH&gt;\n               &lt;ZYID&gt;2824447&lt;/ZYID&gt;\n               &lt;SBM_EMR&gt;179968&lt;/SBM_EMR&gt;\n               &lt;ZYCS&gt;7&lt;/ZYCS&gt;\n               &lt;ZDMC&gt;恶性胸腔积液&lt;/ZDMC&gt;\n               &lt;ZDICD&gt;C78.201&lt;/ZDICD&gt;\n               &lt;RYBQ/&gt;\n               &lt;ZDLB&gt;cy&lt;/ZDLB&gt;\n               &lt;XH&gt;0&lt;/XH&gt;\n            &lt;/item&gt;\n            &lt;item&gt;\n               &lt;BAH&gt;282444&lt;/BAH&gt;\n               &lt;ZYID&gt;2824447&lt;/ZYID&gt;\n               &lt;SBM_EMR&gt;179968&lt;/SBM_EMR&gt;\n               &lt;ZYCS&gt;7&lt;/ZYCS&gt;\n               &lt;ZDMC&gt;肺恶性肿瘤（Iv期）&lt;/ZDMC&gt;\n               &lt;ZDICD&gt;C34.900x001&lt;/ZDICD&gt;\n               &lt;RYBQ/&gt;\n               &lt;ZDLB&gt;zy&lt;/ZDLB&gt;\n               &lt;XH&gt;0&lt;/XH&gt;\n            &lt;/item&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>May I know the specific type I should use to accept it? It keeps reporting errors similar to serialization to me</p>\n<p>I have tried using String type acceptance, but it is not very feasible</p>\n<pre><code>call.setReturnType(XMLType.XSD_STRING);\nresult = (String) call.invoke(new Object[]{headerTemp.toString(),contentTemp.toString()});\n</code></pre>\n"},{"tags":["java","json","jackson","type-deduction"],"comments":[{"owner":{"account_id":8319360,"reputation":1,"user_id":7120477,"display_name":"Jyri Ahia"},"score":0,"creation_date":1700573681,"post_id":77516747,"comment_id":136669245,"body_markdown":"Thank you for the formatting! Will use it from now on.","body":"Thank you for the formatting! Will use it from now on."}],"owner":{"account_id":8319360,"reputation":1,"user_id":7120477,"display_name":"Jyri Ahia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700568066,"creation_date":1700491388,"question_id":77516747,"body_markdown":"I have an parent class `EdgeEntity` and a child class `MigrationEdgeEntity extends EdgeEntity`. \r\n\r\nChild does not have any new parameters. It&#39;s used for migration when some logic is altered/different then in the normal use of `EdgeEntity`. \r\n\r\n`MigrationEdgeEntity` in the end saved as `EdgeEntity` in the database. \r\n\r\nI can use jackson annotations to make the API endpoint for migration to work. But then when I try to get `EdgeEntitys` from the database it fails. If I don&#39;t use the annotations the API migration end point fails. \r\n\r\n```java\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION, defaultImpl = EdgeEntity.class)\r\n@JsonSubTypes({@JsonSubTypes.Type(value = MigrationEdgeEntity.class, name = &quot;migrationEdgeEntity&quot;)})\r\n```\r\n\r\nfor EdgeEntity\r\n\r\n\r\nAnd for MigrationEdgeEntity I have:\r\n\r\n```\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION, property = &quot;type&quot;)\r\n@JsonTypeName(&quot;migrationEdgeEntity&quot;)\r\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\n```\r\n\r\nI don&#39;t understand much about jackson. So those might be the problem but somehow they work for the API\r\n\r\nNot sure what to try next. \r\n\r\n\r\nI am trying to migrate an `EdgeEntity` to a system but there needs to be inherited and overloaded behavior. Kinda much of that actually.","title":"Spring boot jackson inheritance polymorphism with child class that has same parameters - how to tell jackson what class to use","body":"<p>I have an parent class <code>EdgeEntity</code> and a child class <code>MigrationEdgeEntity extends EdgeEntity</code>.</p>\n<p>Child does not have any new parameters. It's used for migration when some logic is altered/different then in the normal use of <code>EdgeEntity</code>.</p>\n<p><code>MigrationEdgeEntity</code> in the end saved as <code>EdgeEntity</code> in the database.</p>\n<p>I can use jackson annotations to make the API endpoint for migration to work. But then when I try to get <code>EdgeEntitys</code> from the database it fails. If I don't use the annotations the API migration end point fails.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION, defaultImpl = EdgeEntity.class)\n@JsonSubTypes({@JsonSubTypes.Type(value = MigrationEdgeEntity.class, name = &quot;migrationEdgeEntity&quot;)})\n</code></pre>\n<p>for EdgeEntity</p>\n<p>And for MigrationEdgeEntity I have:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION, property = &quot;type&quot;)\n@JsonTypeName(&quot;migrationEdgeEntity&quot;)\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\n</code></pre>\n<p>I don't understand much about jackson. So those might be the problem but somehow they work for the API</p>\n<p>Not sure what to try next.</p>\n<p>I am trying to migrate an <code>EdgeEntity</code> to a system but there needs to be inherited and overloaded behavior. Kinda much of that actually.</p>\n"},{"tags":["java","apache-kafka","spring-kafka","kafka-producer-api"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700500505,"creation_date":1700500505,"answer_id":77517766,"question_id":77510784,"body_markdown":"`maxAge` does not refresh the metadata. When a transactional producer is retrieved from the cache, if the `maxAge` has been exceeded, the producer is closed and we examine the next one in the cache. This continues until a young producer is found or the cache is empty. If all the producers in the cache are too old, a new producer is created.\r\n\r\nSee `createTransactionalProducer()` and `expire()`.","title":"How work maxAge in Spring Kafka Factory Producer?","body":"<p><code>maxAge</code> does not refresh the metadata. When a transactional producer is retrieved from the cache, if the <code>maxAge</code> has been exceeded, the producer is closed and we examine the next one in the cache. This continues until a young producer is found or the cache is empty. If all the producers in the cache are too old, a new producer is created.</p>\n<p>See <code>createTransactionalProducer()</code> and <code>expire()</code>.</p>\n"}],"owner":{"account_id":3033089,"reputation":199,"user_id":2571718,"display_name":"Fonexn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700567825,"creation_date":1700397481,"question_id":77510784,"body_markdown":"We are using transactional producers and sometimes we find ourselves in the situation where there is no traffic for more than 7 days, which leads to the loss of transactional id metadata. The next write after this time always causes an error:\r\n\r\n    org.apache.kafka.common.errors.InvalidPidMappingException: The producer attempted to use a producer id which is not currently assigned to its transactional id.\r\n\r\nworkaround for now is to restart all instances in Kubernetes. \r\n\r\nReviewing the documentation, I see that in version 2.5.8 a new property &#39;maxAge&#39; has been added, which must be less than 7 days to be able to refresh the metadata on the broker side. I was testing and there is no way to make it work as expected.\r\n\r\nI have set up a demo project to simulate the behavior, except for some error on my part, maxAge does not refresh metadata before the time of:\r\n\r\n    transactional.id.expiration.ms\r\n\r\nVersions used:\r\n\r\n1) confluentinc/cp-kafka:latest - Kafka 3.4\r\n2) Spring Boot 3.1.5 JDK 17\r\n3) Kafka Clients 3.4.1\r\n4) Spring Kafka 3.0.12\r\n5) Spring Stream Binder Kafka 4.0.4\r\n\r\nThe transaction metada is forced to expire in 10 seconds.\r\n\r\n      KAFKA_TRANSACTIONAL_ID_EXPIRATION_MS: 10000\r\n      KAFKA_PRODUCER_ID_EXPIRATION_CHECK_INTERVAL_MS: 100\r\n      KAFKA_PRODUCER_ID_EXPIRATION_MS: 10000\r\n      KAFKA_TRANSACTION_ABORT_TIMED_OUT_TRANSACTION_CLEANUP_INTERVAL_MS: 10000\r\n      KAFKA_TRANSACTION_REMOVE_EXPIRED_TRANSACTION_CLEANUP_INTERVAL_MS: 10000\r\n\r\nSet the maxAge to 7 seconds, with the expectation that it will refresh before 10 seconds to gain an additional 10 seconds:\r\n\r\n    @Configuration\r\n    @Slf4j\r\n    public class KafkaConfig {\r\n    \r\n        @Bean\r\n        public DefaultKafkaProducerFactoryCustomizer producerFactoryCustomizer() {\r\n            return producerFactory -&gt; producerFactory.setMaxAge(Duration.ofSeconds(7));\r\n        }\r\n    \r\n    }\r\n\r\nTest Controller to producer message on demand\r\n\r\n    @RestController\r\n    public class TestController {\r\n    \r\n        private AtomicInteger semaphore = new AtomicInteger(0);\r\n    \r\n        @Autowired\r\n        private StreamBridge streamBridge;\r\n    \r\n        @GetMapping(value = &quot;/test&quot;)\r\n        public void sequentialSimple() {\r\n                streamBridge.send(&quot;sendTestData-out-0&quot;, &quot;testMessage_&quot; + semaphore.getAndIncrement());\r\n        }\r\n    \r\n    }\r\n\r\nI expect to never encounter the InvalidPidMappingException, but I always see it.\r\n\r\n    2023-11-19T13:22:57.234+01:00 DEBUG 28648 --- [fix_localhost-0] o.a.k.c.p.internals.TransactionManager   : [Producer clientId=producer-transactionTestPrefix_localhost-0, transactionalId=transactionTestPrefix_localhost-0] Transition from state COMMITTING_TRANSACTION to error state ABORTABLE_ERROR\r\n    \r\n    org.apache.kafka.common.errors.InvalidPidMappingException: The producer attempted to use a producer id which is not currently assigned to its transactional id.\r\n\r\n\r\nIf I don&#39;t handle the ABORTABLE_ERROR (AfterRollbackProcessor) or DLQ, I also lose messages. What am I doing wrong?\r\n\r\nGithub Demo Project: https://github.com/Fonexn/kafkaMaxAgeTesting\r\n\r\nThanks\r\n\r\n**SOLUTION**\r\n\r\nSet `maxAge` to each binder in this way, example:\r\n\r\n    @Bean\r\n    KafkaTransactionManager customKafkaTransactionManager() {\r\n        KafkaMessageChannelBinder kafka = (KafkaMessageChannelBinder)this.binderFactory.getBinder(&quot;kafka1&quot;, MessageChannel.class);\r\n        DefaultKafkaProducerFactory&lt;byte[], byte[]&gt; producerFactory = (DefaultKafkaProducerFactory&lt;byte[], byte[]&gt;) kafka.getTransactionalProducerFactory();\r\n    \r\n        producerFactory.setMaxAge(Duration.ofSeconds(60));\r\n    \r\n        return new KafkaTransactionManager(producerFactory);\r\n    }","title":"How work maxAge in Spring Kafka Factory Producer?","body":"<p>We are using transactional producers and sometimes we find ourselves in the situation where there is no traffic for more than 7 days, which leads to the loss of transactional id metadata. The next write after this time always causes an error:</p>\n<pre><code>org.apache.kafka.common.errors.InvalidPidMappingException: The producer attempted to use a producer id which is not currently assigned to its transactional id.\n</code></pre>\n<p>workaround for now is to restart all instances in Kubernetes.</p>\n<p>Reviewing the documentation, I see that in version 2.5.8 a new property 'maxAge' has been added, which must be less than 7 days to be able to refresh the metadata on the broker side. I was testing and there is no way to make it work as expected.</p>\n<p>I have set up a demo project to simulate the behavior, except for some error on my part, maxAge does not refresh metadata before the time of:</p>\n<pre><code>transactional.id.expiration.ms\n</code></pre>\n<p>Versions used:</p>\n<ol>\n<li>confluentinc/cp-kafka:latest - Kafka 3.4</li>\n<li>Spring Boot 3.1.5 JDK 17</li>\n<li>Kafka Clients 3.4.1</li>\n<li>Spring Kafka 3.0.12</li>\n<li>Spring Stream Binder Kafka 4.0.4</li>\n</ol>\n<p>The transaction metada is forced to expire in 10 seconds.</p>\n<pre><code>  KAFKA_TRANSACTIONAL_ID_EXPIRATION_MS: 10000\n  KAFKA_PRODUCER_ID_EXPIRATION_CHECK_INTERVAL_MS: 100\n  KAFKA_PRODUCER_ID_EXPIRATION_MS: 10000\n  KAFKA_TRANSACTION_ABORT_TIMED_OUT_TRANSACTION_CLEANUP_INTERVAL_MS: 10000\n  KAFKA_TRANSACTION_REMOVE_EXPIRED_TRANSACTION_CLEANUP_INTERVAL_MS: 10000\n</code></pre>\n<p>Set the maxAge to 7 seconds, with the expectation that it will refresh before 10 seconds to gain an additional 10 seconds:</p>\n<pre><code>@Configuration\n@Slf4j\npublic class KafkaConfig {\n\n    @Bean\n    public DefaultKafkaProducerFactoryCustomizer producerFactoryCustomizer() {\n        return producerFactory -&gt; producerFactory.setMaxAge(Duration.ofSeconds(7));\n    }\n\n}\n</code></pre>\n<p>Test Controller to producer message on demand</p>\n<pre><code>@RestController\npublic class TestController {\n\n    private AtomicInteger semaphore = new AtomicInteger(0);\n\n    @Autowired\n    private StreamBridge streamBridge;\n\n    @GetMapping(value = &quot;/test&quot;)\n    public void sequentialSimple() {\n            streamBridge.send(&quot;sendTestData-out-0&quot;, &quot;testMessage_&quot; + semaphore.getAndIncrement());\n    }\n\n}\n</code></pre>\n<p>I expect to never encounter the InvalidPidMappingException, but I always see it.</p>\n<pre><code>2023-11-19T13:22:57.234+01:00 DEBUG 28648 --- [fix_localhost-0] o.a.k.c.p.internals.TransactionManager   : [Producer clientId=producer-transactionTestPrefix_localhost-0, transactionalId=transactionTestPrefix_localhost-0] Transition from state COMMITTING_TRANSACTION to error state ABORTABLE_ERROR\n\norg.apache.kafka.common.errors.InvalidPidMappingException: The producer attempted to use a producer id which is not currently assigned to its transactional id.\n</code></pre>\n<p>If I don't handle the ABORTABLE_ERROR (AfterRollbackProcessor) or DLQ, I also lose messages. What am I doing wrong?</p>\n<p>Github Demo Project: <a href=\"https://github.com/Fonexn/kafkaMaxAgeTesting\" rel=\"nofollow noreferrer\">https://github.com/Fonexn/kafkaMaxAgeTesting</a></p>\n<p>Thanks</p>\n<p><strong>SOLUTION</strong></p>\n<p>Set <code>maxAge</code> to each binder in this way, example:</p>\n<pre><code>@Bean\nKafkaTransactionManager customKafkaTransactionManager() {\n    KafkaMessageChannelBinder kafka = (KafkaMessageChannelBinder)this.binderFactory.getBinder(&quot;kafka1&quot;, MessageChannel.class);\n    DefaultKafkaProducerFactory&lt;byte[], byte[]&gt; producerFactory = (DefaultKafkaProducerFactory&lt;byte[], byte[]&gt;) kafka.getTransactionalProducerFactory();\n\n    producerFactory.setMaxAge(Duration.ofSeconds(60));\n\n    return new KafkaTransactionManager(producerFactory);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","amazon-ec2","spring-scheduled"],"comments":[{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":0,"creation_date":1700570069,"post_id":77522621,"comment_id":136668569,"body_markdown":"how do you know it is executing twice? and at what time it is being executed?","body":"how do you know it is executing twice? and at what time it is being executed?"},{"owner":{"account_id":29956778,"reputation":24,"user_id":22957496,"display_name":"Harshavardhan"},"score":0,"creation_date":1700576186,"post_id":77522621,"comment_id":136669812,"body_markdown":"I am storing a value into database when the schedule task runs and it storing the value twice. Coming to the time, it is executing the scheduled task twice in production server at the same time (i.e., 5 AM).","body":"I am storing a value into database when the schedule task runs and it storing the value twice. Coming to the time, it is executing the scheduled task twice in production server at the same time (i.e., 5 AM)."},{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":0,"creation_date":1700577428,"post_id":77522621,"comment_id":136670057,"body_markdown":"do you have multiple instances of the application running in prod? if not, then it looks the bean where the `@Scheduled` method is found, is being created twice and triggered at the time configured.","body":"do you have multiple instances of the application running in prod? if not, then it looks the bean where the <code>@Scheduled</code> method is found, is being created twice and triggered at the time configured."},{"owner":{"account_id":29956778,"reputation":24,"user_id":22957496,"display_name":"Harshavardhan"},"score":0,"creation_date":1700578344,"post_id":77522621,"comment_id":136670247,"body_markdown":"Can you be more precise, so that i can understand better.","body":"Can you be more precise, so that i can understand better."},{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":1,"creation_date":1700661725,"post_id":77522621,"comment_id":136681977,"body_markdown":"If there are more than one instance of your application running in production, then in each one, the `@Scheduled` method will be triggered when the time is right.\n\nOr it might also happen your bean is being registered 2 times in the spring context.","body":"If there are more than one instance of your application running in production, then in each one, the <code>@Scheduled</code> method will be triggered when the time is right.  Or it might also happen your bean is being registered 2 times in the spring context."},{"owner":{"account_id":29956778,"reputation":24,"user_id":22957496,"display_name":"Harshavardhan"},"score":0,"creation_date":1701082571,"post_id":77522621,"comment_id":136726659,"body_markdown":"None of my beans are registered 2 times in the spring context. And it&#39;s sure that the application is running in only one instance of EC2 server. But still the @Scheduled method is executing twice. And also &quot;@ComponentScan&quot; annotation which scans the packages is declared only once in the configuration file. I defined &quot;@Schedule&quot; Method in &quot;@Controller&quot; class, will it affect the above case. And if yes, do i need to define it in &quot;@Component&quot; class.","body":"None of my beans are registered 2 times in the spring context. And it&#39;s sure that the application is running in only one instance of EC2 server. But still the @Scheduled method is executing twice. And also &quot;@ComponentScan&quot; annotation which scans the packages is declared only once in the configuration file. I defined &quot;@Schedule&quot; Method in &quot;@Controller&quot; class, will it affect the above case. And if yes, do i need to define it in &quot;@Component&quot; class."}],"owner":{"account_id":29956778,"reputation":24,"user_id":22957496,"display_name":"Harshavardhan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700567782,"creation_date":1700567716,"question_id":77522621,"body_markdown":"I wrote a @Scheduled task to run every day at 5 AM.\r\n\r\n`@Scheduled(cron = &quot;0 0 5 * * ?&quot;)`\r\n\r\n\r\nIt is executing only once in my localhost server. But it is executing twice in production server.\r\n\r\n\r\nHere, I deployed my java spring MVC webapp project in AWS EC2 server(in only one EC2 instance). But the @Schedule task is executing twice. It&#39;s the only schedule method i wrote in my project.\r\n","title":"@Schedule task in Java Spring MVC project executing twice in AWS EC2 server","body":"<p>I wrote a @Scheduled task to run every day at 5 AM.</p>\n<p><code>@Scheduled(cron = &quot;0 0 5 * * ?&quot;)</code></p>\n<p>It is executing only once in my localhost server. But it is executing twice in production server.</p>\n<p>Here, I deployed my java spring MVC webapp project in AWS EC2 server(in only one EC2 instance). But the @Schedule task is executing twice. It's the only schedule method i wrote in my project.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"score":0,"creation_date":1700562480,"post_id":77521984,"comment_id":136667193,"body_markdown":"Hi RZF, A Trace ID is considered unique, so storing and replacing it will no longer be a Trace ID. What you are describing, however, is a session ID. You can also add that to your tracing. See https://stackoverflow.com/questions/61934834/add-trace-id-and-transaction-id-springboot","body":"Hi RZF, A Trace ID is considered unique, so storing and replacing it will no longer be a Trace ID. What you are describing, however, is a session ID. You can also add that to your tracing. See <a href=\"https://stackoverflow.com/questions/61934834/add-trace-id-and-transaction-id-springboot\" title=\"add trace id and transaction id springboot\">stackoverflow.com/questions/61934834/&hellip;</a>"},{"owner":{"account_id":20316252,"reputation":7,"user_id":14902085,"display_name":"RZF"},"score":0,"creation_date":1700563006,"post_id":77521984,"comment_id":136667297,"body_markdown":"@Reg can I add my own field and put the value there and pass it on?","body":"@Reg can I add my own field and put the value there and pass it on?"},{"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"score":0,"creation_date":1700569145,"post_id":77521984,"comment_id":136668385,"body_markdown":"Yes - you can; this is known as &quot;Baggage&quot; if you want to google it. Are you using Spring&#39;s Sleuth implementation or Micrometer? Maybe add it to the tags, this will help","body":"Yes - you can; this is known as &quot;Baggage&quot; if you want to google it. Are you using Spring&#39;s Sleuth implementation or Micrometer? Maybe add it to the tags, this will help"},{"owner":{"account_id":20316252,"reputation":7,"user_id":14902085,"display_name":"RZF"},"score":0,"creation_date":1700570852,"post_id":77521984,"comment_id":136668710,"body_markdown":"I am using Spring Sleuth","body":"I am using Spring Sleuth"},{"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"score":0,"creation_date":1700571174,"post_id":77521984,"comment_id":136668767,"body_markdown":"The first SO question I posted shows you how to add values. It is two steps, one add it to the MDC and second adjust your logging to display it. That should do the trick","body":"The first SO question I posted shows you how to add values. It is two steps, one add it to the MDC and second adjust your logging to display it. That should do the trick"}],"owner":{"account_id":20316252,"reputation":7,"user_id":14902085,"display_name":"RZF"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700567777,"creation_date":1700561760,"question_id":77521984,"body_markdown":"When users resend the application, a new traceId is generated after each attempt to send it. I want to save the first traceId and on repeated attempts enter the saved traceId instead of the new one. So far I can&#39;t substitute. Is it even possible to implement such a thing?\r\n\r\nCode in application:\r\n\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class TraceRequest {\r\n\tprivate final Tracer tracer;\r\n\r\n\tpublic String getTraceId() {\r\n\t\treturn tracer.currentSpan().context().traceId();\r\n\t}\r\n\r\n\tpublic void replaceTraceId(String traceId) {\r\n\tTraceContext customTraceId = tracer.traceContextBuilder()\r\n\t\t\t\t.traceId(traceId)\r\n\t\t\t\t.spanId(EncodingUtils.fromLong(RandomUtils.nextLong()))\r\n\t\t\t\t.sampled(true)\r\n\t\t\t\t.build();\r\n\t}\r\n}\r\n```","title":"Replace traceId to another spring","body":"<p>When users resend the application, a new traceId is generated after each attempt to send it. I want to save the first traceId and on repeated attempts enter the saved traceId instead of the new one. So far I can't substitute. Is it even possible to implement such a thing?</p>\n<p>Code in application:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class TraceRequest {\n    private final Tracer tracer;\n\n    public String getTraceId() {\n        return tracer.currentSpan().context().traceId();\n    }\n\n    public void replaceTraceId(String traceId) {\n    TraceContext customTraceId = tracer.traceContextBuilder()\n                .traceId(traceId)\n                .spanId(EncodingUtils.fromLong(RandomUtils.nextLong()))\n                .sampled(true)\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","multipartform-data","servlet-filters"],"comments":[{"owner":{"account_id":19610869,"reputation":39,"user_id":14353401,"display_name":"kunal"},"score":0,"creation_date":1700564358,"post_id":77522017,"comment_id":136667541,"body_markdown":"@BalusC I&#39;m definitely trying on my own but I come to stack over only when I find some difficulties and I&#39;ve already gone through the solution you&#39;ve shared and it&#39;s useless to me, I&#39;m not here to pass the time. I only use stack overflow when I&#39;m really stuck.","body":"@BalusC I&#39;m definitely trying on my own but I come to stack over only when I find some difficulties and I&#39;ve already gone through the solution you&#39;ve shared and it&#39;s useless to me, I&#39;m not here to pass the time. I only use stack overflow when I&#39;m really stuck."}],"answers":[{"tags":[],"owner":{"account_id":8333120,"reputation":832,"user_id":12868186,"display_name":"wpnpeiris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700567685,"creation_date":1700566721,"answer_id":77522505,"question_id":77522017,"body_markdown":"You can extend the functionality within `XSSRequestWrapper` by checking content type header value from `HttpServletRequest` and apply the logic for `multipart/form-data`  and `application/json` separately.\r\n\r\n ```\r\nif (MULTIPART_FORM_DATA_VALUE.equals(httpServletRequest.getContentType())) {\r\n     MultipartHttpServletRequest multipartHttpServletRequest = (MultipartHttpServletRequest) httpServletRequest;\r\n     Map&lt;String, MultipartFile&gt; multiParts =  multipartHttpServletRequest.getFileMap();\r\n\r\n } else if (APPLICATION_JSON_VALUE.equals(httpServletRequest.getContentType())) {\r\n\r\n}\r\n```","title":"Spring boot Filter implementation for content type &quot;multipart/form-data&quot;","body":"<p>You can extend the functionality within <code>XSSRequestWrapper</code> by checking content type header value from <code>HttpServletRequest</code> and apply the logic for <code>multipart/form-data</code>  and <code>application/json</code> separately.</p>\n<pre><code>if (MULTIPART_FORM_DATA_VALUE.equals(httpServletRequest.getContentType())) {\n    MultipartHttpServletRequest multipartHttpServletRequest = (MultipartHttpServletRequest) httpServletRequest;\n    Map&lt;String, MultipartFile&gt; multiParts =  multipartHttpServletRequest.getFileMap();\n\n} else if (APPLICATION_JSON_VALUE.equals(httpServletRequest.getContentType())) {\n\n}\n</code></pre>\n"}],"owner":{"account_id":19610869,"reputation":39,"user_id":14353401,"display_name":"kunal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700567685,"creation_date":1700562057,"question_id":77522017,"body_markdown":"How to implement the filter for multipart/form-data content type, I did it for application/json and it&#39;s working fine but struglinging with implementing it for multipart/form-data type of requests, below is the code for application/json. Do I have to write a different filter for it or I can manage it in the same filter, I appreciate it if someone would tell me how to do it in a proper way.\r\n\r\n    import java.io.IOException;\r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class XSSFilter implements Filter {\r\n    \r\n      @Override\r\n      public void doFilter(\r\n          ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\r\n          throws IOException, ServletException {\r\n        filterChain.doFilter(\r\n            new XSSRequestWrapper((HttpServletRequest) servletRequest), servletResponse);\r\n      }\r\n    }\r\n\r\n----------------------------------------\r\n\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.*;\r\n    import javax.servlet.ServletInputStream;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletRequestWrapper;\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.safety.Safelist;\r\n    \r\n    public class XSSRequestWrapper extends HttpServletRequestWrapper {\r\n      private final String requestJsonString;\r\n      BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\r\n    \r\n      public XSSRequestWrapper(HttpServletRequest httpServletRequest) {\r\n        super(httpServletRequest);\r\n    \r\n        try {\r\n          StringBuilder stringBuilder = new StringBuilder();\r\n          bufferedReader = httpServletRequest.getReader();\r\n          char[] charBuffer = new char[128];\r\n          int bytesRead;\r\n          while ((bytesRead = bufferedReader.read(charBuffer)) != -1) {\r\n            stringBuilder.append(charBuffer, 0, bytesRead);\r\n          }\r\n          requestJsonString = stringBuilder.toString();\r\n          JsonNode jsonNode = new ObjectMapper().readTree(requestJsonString);\r\n          processJsonNode(jsonNode);\r\n        } catch (IOException e) {\r\n          throw new RuntimeException(e);\r\n        } finally {\r\n          try {\r\n            bufferedReader.close();\r\n          } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n          }\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public ServletInputStream getInputStream() {\r\n        return new ServletInputStreamWrapper(requestJsonString.getBytes());\r\n      }\r\n    \r\n      @Override\r\n      public BufferedReader getReader() {\r\n        return new BufferedReader(new InputStreamReader(this.getInputStream()));\r\n      }\r\n    \r\n      private void processJsonNode(JsonNode jsonNode) {\r\n        if (jsonNode.isObject()) {\r\n          jsonNode.fields().forEachRemaining(entry -&gt; processJsonNode(entry.getValue()));\r\n        } else if (jsonNode.isArray()) {\r\n          jsonNode.elements().forEachRemaining(this::processJsonNode);\r\n        } else {\r\n          sanitize(&quot;key&quot;, jsonNode.asText());\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public Enumeration&lt;String&gt; getHeaderNames() {\r\n        Enumeration&lt;String&gt; headerNames = super.getHeaderNames();\r\n        Collections.list(headerNames)\r\n            .forEach(headerName -&gt; sanitize(headerName, getHeader(headerName)));\r\n        return headerNames;\r\n      }\r\n    \r\n      @Override\r\n      public String[] getParameterValues(String parameter) {\r\n        String[] parameterValues = super.getParameterValues(parameter);\r\n        Arrays.stream(parameterValues).forEach(value -&gt; sanitize(parameter, value));\r\n        return parameterValues;\r\n      }\r\n    \r\n      public void sanitize(String key, String value) {\r\n        Safelist safelist = Safelist.none();\r\n        Document.OutputSettings outputSettings = new Document.OutputSettings().prettyPrint(false);\r\n        if (!value.equalsIgnoreCase(Jsoup.clean(value, &quot;&quot;, safelist, outputSettings))) {\r\n          throw new SecurityException(\r\n              &quot;XSS attack error, by the key &#39;&quot; + key + &quot;&#39; and the value is &#39;&quot; + value + &quot;&#39;&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\n--------------------------\r\n   \r\n\r\n     import javax.servlet.ReadListener;\r\n        import javax.servlet.ServletInputStream;\r\n        import java.io.IOException;\r\n        \r\n        public class ServletInputStreamWrapper extends ServletInputStream {\r\n        \r\n          private final byte[] data;\r\n          private int idx = 0;\r\n        \r\n          public ServletInputStreamWrapper(byte[] data) {\r\n            this.data = data;\r\n          }\r\n        \r\n          @Override\r\n          public int read() throws IOException {\r\n            if (idx &gt;= data.length) {\r\n              return -1;\r\n            }\r\n            return data[idx++];\r\n          }\r\n        \r\n          @Override\r\n          public boolean isFinished() {\r\n            return false;\r\n          }\r\n        \r\n          @Override\r\n          public boolean isReady() {\r\n            return false;\r\n          }\r\n        \r\n          @Override\r\n          public void setReadListener(ReadListener readListener) {}\r\n        }","title":"Spring boot Filter implementation for content type &quot;multipart/form-data&quot;","body":"<p>How to implement the filter for multipart/form-data content type, I did it for application/json and it's working fine but struglinging with implementing it for multipart/form-data type of requests, below is the code for application/json. Do I have to write a different filter for it or I can manage it in the same filter, I appreciate it if someone would tell me how to do it in a proper way.</p>\n<pre><code>import java.io.IOException;\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletRequest;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class XSSFilter implements Filter {\n\n  @Override\n  public void doFilter(\n      ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\n      throws IOException, ServletException {\n    filterChain.doFilter(\n        new XSSRequestWrapper((HttpServletRequest) servletRequest), servletResponse);\n  }\n}\n</code></pre>\n<hr />\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.*;\nimport javax.servlet.ServletInputStream;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.safety.Safelist;\n\npublic class XSSRequestWrapper extends HttpServletRequestWrapper {\n  private final String requestJsonString;\n  BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\n\n  public XSSRequestWrapper(HttpServletRequest httpServletRequest) {\n    super(httpServletRequest);\n\n    try {\n      StringBuilder stringBuilder = new StringBuilder();\n      bufferedReader = httpServletRequest.getReader();\n      char[] charBuffer = new char[128];\n      int bytesRead;\n      while ((bytesRead = bufferedReader.read(charBuffer)) != -1) {\n        stringBuilder.append(charBuffer, 0, bytesRead);\n      }\n      requestJsonString = stringBuilder.toString();\n      JsonNode jsonNode = new ObjectMapper().readTree(requestJsonString);\n      processJsonNode(jsonNode);\n    } catch (IOException e) {\n      throw new RuntimeException(e);\n    } finally {\n      try {\n        bufferedReader.close();\n      } catch (IOException e) {\n        throw new RuntimeException(e);\n      }\n    }\n  }\n\n  @Override\n  public ServletInputStream getInputStream() {\n    return new ServletInputStreamWrapper(requestJsonString.getBytes());\n  }\n\n  @Override\n  public BufferedReader getReader() {\n    return new BufferedReader(new InputStreamReader(this.getInputStream()));\n  }\n\n  private void processJsonNode(JsonNode jsonNode) {\n    if (jsonNode.isObject()) {\n      jsonNode.fields().forEachRemaining(entry -&gt; processJsonNode(entry.getValue()));\n    } else if (jsonNode.isArray()) {\n      jsonNode.elements().forEachRemaining(this::processJsonNode);\n    } else {\n      sanitize(&quot;key&quot;, jsonNode.asText());\n    }\n  }\n\n  @Override\n  public Enumeration&lt;String&gt; getHeaderNames() {\n    Enumeration&lt;String&gt; headerNames = super.getHeaderNames();\n    Collections.list(headerNames)\n        .forEach(headerName -&gt; sanitize(headerName, getHeader(headerName)));\n    return headerNames;\n  }\n\n  @Override\n  public String[] getParameterValues(String parameter) {\n    String[] parameterValues = super.getParameterValues(parameter);\n    Arrays.stream(parameterValues).forEach(value -&gt; sanitize(parameter, value));\n    return parameterValues;\n  }\n\n  public void sanitize(String key, String value) {\n    Safelist safelist = Safelist.none();\n    Document.OutputSettings outputSettings = new Document.OutputSettings().prettyPrint(false);\n    if (!value.equalsIgnoreCase(Jsoup.clean(value, &quot;&quot;, safelist, outputSettings))) {\n      throw new SecurityException(\n          &quot;XSS attack error, by the key '&quot; + key + &quot;' and the value is '&quot; + value + &quot;'&quot;);\n    }\n  }\n}\n</code></pre>\n<hr />\n<pre><code> import javax.servlet.ReadListener;\n    import javax.servlet.ServletInputStream;\n    import java.io.IOException;\n    \n    public class ServletInputStreamWrapper extends ServletInputStream {\n    \n      private final byte[] data;\n      private int idx = 0;\n    \n      public ServletInputStreamWrapper(byte[] data) {\n        this.data = data;\n      }\n    \n      @Override\n      public int read() throws IOException {\n        if (idx &gt;= data.length) {\n          return -1;\n        }\n        return data[idx++];\n      }\n    \n      @Override\n      public boolean isFinished() {\n        return false;\n      }\n    \n      @Override\n      public boolean isReady() {\n        return false;\n      }\n    \n      @Override\n      public void setReadListener(ReadListener readListener) {}\n    }\n</code></pre>\n"},{"tags":["java","filter","servlet-3.0"],"answers":[{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700566976,"creation_date":1700138623,"answer_id":77494906,"question_id":53459184,"body_markdown":"I encountered a similar issue with `commons-text-1.11.0.java`. Despite having `org.apache.commons.text.StringEscapeUtils` present in `commons-text-1.11.0.jar`, I received the following exception:\r\n```java\r\njava.lang.NoClassDefFoundError: Could not initialize class org.apache.commons.text.StringEscapeUtils\r\n```\r\nThe problem doesn&#39;t stem from the absence of `StringEscapeUtils` but rather from its initialization. In fact, `StringEscapeUtils` has multiple static initialization blocks that run when the ClassLoader loads it for the first time. If these static blocks encounter issues during the initial loading, it results in the `java.lang.NoClassDefFoundError` exception.\r\n\r\n### Fix\r\n\r\n`commons-text` relies on other libraries, notably `commons-lang3`. Inconsistencies in their versions can lead to the exception, as it was in my case:\r\n\r\n`commons-text-1.11.0` with `commons-lang3:3.12.0` -&gt; FAIL\r\n\r\nHowever, upgrading `commons-lang3` to `3.13.0` resolved the issue:\r\n\r\n`commons-text-1.11.0` with `commons-lang3:3.13.0` -&gt; SUCCESSFUL\r\n\r\nWhile your situation may involve different versions or dependencies, the underlying cause might be the same.","title":"java.lang.NoClassDefFoundError: Could not initialize class org.apache.commons.text.StringEscapeUtils","body":"<p>I encountered a similar issue with <code>commons-text-1.11.0.java</code>. Despite having <code>org.apache.commons.text.StringEscapeUtils</code> present in <code>commons-text-1.11.0.jar</code>, I received the following exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.NoClassDefFoundError: Could not initialize class org.apache.commons.text.StringEscapeUtils\n</code></pre>\n<p>The problem doesn't stem from the absence of <code>StringEscapeUtils</code> but rather from its initialization. In fact, <code>StringEscapeUtils</code> has multiple static initialization blocks that run when the ClassLoader loads it for the first time. If these static blocks encounter issues during the initial loading, it results in the <code>java.lang.NoClassDefFoundError</code> exception.</p>\n<h3>Fix</h3>\n<p><code>commons-text</code> relies on other libraries, notably <code>commons-lang3</code>. Inconsistencies in their versions can lead to the exception, as it was in my case:</p>\n<p><code>commons-text-1.11.0</code> with <code>commons-lang3:3.12.0</code> -&gt; FAIL</p>\n<p>However, upgrading <code>commons-lang3</code> to <code>3.13.0</code> resolved the issue:</p>\n<p><code>commons-text-1.11.0</code> with <code>commons-lang3:3.13.0</code> -&gt; SUCCESSFUL</p>\n<p>While your situation may involve different versions or dependencies, the underlying cause might be the same.</p>\n"}],"owner":{"account_id":11326627,"reputation":21,"user_id":8305321,"display_name":"Changli Zhu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7332,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700566976,"creation_date":1543069829,"question_id":53459184,"body_markdown":"I am writing a character filter function, using `commons-text-1.6.jar`.  \r\nThe log function is okay, but then this error shows up:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    java.lang.NoClassDefFoundError: Could not initialize class org.apache.commons.text.StringEscapeUtils\r\n    \tcc.openhome.web.EscapeWrapper.getParameter(EscapeWrapper.java:15)\r\n    \tcc.openhome.controller.Login.doPost(Login.java:30)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tcc.openhome.web.EscapeFilter.doFilter(EscapeFilter.java:16)\r\n       \r\n\r\n\r\nCode:\r\n\r\n    package cc.openhome.web;\r\n    \r\n    import org.apache.commons.text.StringEscapeUtils;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletRequestWrappe\r\n    \r\n    public class EscapeWrapper extends HttpServletRequestWrapper {\r\n        public EscapeWrapper(HttpServletRequest req){enter code here\r\n            super(req);\r\n        }\r\n    \r\n        public String getParameter(String name){\r\n            String value = getRequest().getParameter(name);\r\n            return StringEscapeUtils.escapeHtml4(value);\r\n        }\r\n    }","title":"java.lang.NoClassDefFoundError: Could not initialize class org.apache.commons.text.StringEscapeUtils","body":"<p>I am writing a character filter function, using <code>commons-text-1.6.jar</code>.<br>\nThe log function is okay, but then this error shows up:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.NoClassDefFoundError: Could not initialize class org.apache.commons.text.StringEscapeUtils\n    cc.openhome.web.EscapeWrapper.getParameter(EscapeWrapper.java:15)\n    cc.openhome.controller.Login.doPost(Login.java:30)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    cc.openhome.web.EscapeFilter.doFilter(EscapeFilter.java:16)\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>package cc.openhome.web;\n\nimport org.apache.commons.text.StringEscapeUtils;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrappe\n\npublic class EscapeWrapper extends HttpServletRequestWrapper {\n    public EscapeWrapper(HttpServletRequest req){enter code here\n        super(req);\n    }\n\n    public String getParameter(String name){\n        String value = getRequest().getParameter(name);\n        return StringEscapeUtils.escapeHtml4(value);\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot","kubectl"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1700566623,"post_id":77522483,"comment_id":136667929,"body_markdown":"What&#39;s the exact error you are getting? The questions are very hard to understand, could you please explain a little bit further?","body":"What&#39;s the exact error you are getting? The questions are very hard to understand, could you please explain a little bit further?"},{"owner":{"account_id":8898764,"reputation":19,"user_id":6642836,"display_name":"Satheeshkumar Govindaraj"},"score":0,"creation_date":1700566844,"post_id":77522483,"comment_id":136667972,"body_markdown":"I am getting connection pool error","body":"I am getting connection pool error"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700567492,"post_id":77522483,"comment_id":136668088,"body_markdown":"Generally those errors come from in proper tx managmeent and/or messing around with connections (or JPA entitymanagers) yourself instead of letting spring manage those. Leading to connection leaks. Without seeing stacktraces and what you are doing in your code this question is impossible to answer.","body":"Generally those errors come from in proper tx managmeent and/or messing around with connections (or JPA entitymanagers) yourself instead of letting spring manage those. Leading to connection leaks. Without seeing stacktraces and what you are doing in your code this question is impossible to answer."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1700577034,"post_id":77522483,"comment_id":136669992,"body_markdown":"The connection pool error impossible to fix, rather than if you have a communication exception you should post a log.","body":"The connection pool error impossible to fix, rather than if you have a communication exception you should post a log."}],"owner":{"account_id":8898764,"reputation":19,"user_id":6642836,"display_name":"Satheeshkumar Govindaraj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700566903,"creation_date":1700566396,"question_id":77522483,"body_markdown":"I am using Spring Boot application to connected MYSQL DB using application.properties based configurations,\r\n\r\nI am having a connection issue every 30 sec, \r\n\r\nwhen I do load testing time getting connection pool issue. \r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/db_example\r\n    spring.datasource.username=springuser\r\n    spring.datasource.password=ThePassword\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.hikari.maximum-pool-size=300\r\n    \r\n\r\nI have configure the maximum size is 300 of connections by setting the  property. By default, this is set to 10. I have increased this, it&#39;s recommended way ? \r\n\r\nI am using kubectl using cluster based application is running, when second pod running it is same replica of this application. I am getting 600 connections, AWS RDS maximum limit is 1000 connections only. \r\n\r\nI appreciate your help! \r\n\r\n\r\n","title":"When more load in the spring boot application using Mysql Connection pool Timeout","body":"<p>I am using Spring Boot application to connected MYSQL DB using application.properties based configurations,</p>\n<p>I am having a connection issue every 30 sec,</p>\n<p>when I do load testing time getting connection pool issue.</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/db_example\nspring.datasource.username=springuser\nspring.datasource.password=ThePassword\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.hikari.maximum-pool-size=300\n</code></pre>\n<p>I have configure the maximum size is 300 of connections by setting the  property. By default, this is set to 10. I have increased this, it's recommended way ?</p>\n<p>I am using kubectl using cluster based application is running, when second pod running it is same replica of this application. I am getting 600 connections, AWS RDS maximum limit is 1000 connections only.</p>\n<p>I appreciate your help!</p>\n"},{"tags":["java","numbers","compare","decimal","equals"],"comments":[{"owner":{"account_id":12401383,"reputation":3636,"user_id":9038475,"display_name":"Geshode"},"score":0,"creation_date":1700558009,"post_id":77521549,"comment_id":136666330,"body_markdown":"So, you want to check, if the two numbers are equal? Why can you not just check for `firstNumber == secondNumber`?","body":"So, you want to check, if the two numbers are equal? Why can you not just check for <code>firstNumber == secondNumber</code>?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1700558834,"post_id":77521549,"comment_id":136666476,"body_markdown":"It seems your comparison missed the mark by `3.175-3.174-0.001` → `-1e-16`. Time to bust out the old [Is floating point math broken?](https://stackoverflow.com/questions/588004/is-floating-point-math-broken)","body":"It seems your comparison missed the mark by <code>3.175-3.174-0.001</code> → <code>-1e-16</code>. Time to bust out the old <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a>"},{"owner":{"account_id":17444389,"reputation":1,"user_id":12645716,"display_name":"Sinan Burak Filiz"},"score":0,"creation_date":1700559260,"post_id":77521549,"comment_id":136666552,"body_markdown":"@Geshode I am checking if the numbers are equal by three decimal places like 3.1112 and 3.1113 should be equal but 3.22 and 3.221 should not be equal.","body":"@Geshode I am checking if the numbers are equal by three decimal places like 3.1112 and 3.1113 should be equal but 3.22 and 3.221 should not be equal."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1700561815,"post_id":77521549,"comment_id":136667070,"body_markdown":"What you have done is equivalent to comparing floats for exact equality. Which, as you may have noticed, doesn&#39;t work right. You have to add a bit of fuzz, e.g. as suggested here https://stackoverflow.com/questions/1088216/whats-wrong-with-using-to-compare-floats-in-java","body":"What you have done is equivalent to comparing floats for exact equality. Which, as you may have noticed, doesn&#39;t work right. You have to add a bit of fuzz, e.g. as suggested here <a href=\"https://stackoverflow.com/questions/1088216/whats-wrong-with-using-to-compare-floats-in-java\" title=\"whats wrong with using to compare floats in java\">stackoverflow.com/questions/1088216/&hellip;</a>"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700570400,"post_id":77521549,"comment_id":136668630,"body_markdown":"BTW such expression like `(test) ? true : false` is like saying if test is `true` it is `true`, otherwise, if it is `false` it is `false` - just use plain `test` (and `Math.abs(firstNumber - secondNumber) &lt; 0.001` would be an alternative, but still show same error due to floating points accuracy) || [@teapot418 somehow I have the impression that OP is already trying to add a *bit of fuzz* with `0.001`]","body":"BTW such expression like <code>(test) ? true : false</code> is like saying if test is <code>true</code> it is <code>true</code>, otherwise, if it is <code>false</code> it is <code>false</code> - just use plain <code>test</code> (and <code>Math.abs(firstNumber - secondNumber) &lt; 0.001</code> would be an alternative, but still show same error due to floating points accuracy) || [@teapot418 somehow I have the impression that OP is already trying to add a <i>bit of fuzz</i> with <code>0.001</code>]"},{"owner":{"account_id":17444389,"reputation":1,"user_id":12645716,"display_name":"Sinan Burak Filiz"},"score":0,"creation_date":1700573559,"post_id":77521549,"comment_id":136669212,"body_markdown":"@user85421 Thank you, your recommendations made it look nicer.","body":"@user85421 Thank you, your recommendations made it look nicer."},{"owner":{"account_id":17444389,"reputation":1,"user_id":12645716,"display_name":"Sinan Burak Filiz"},"score":0,"creation_date":1700573724,"post_id":77521549,"comment_id":136669258,"body_markdown":"@teapot418 I am sorry to be asking alot but is there a way to return (Math.abs(firstNumber - secondNumber) &lt; 0.001); make this work. I looked at the link you sent and there is an epsilon way. But that also failed. BTW I understand now that it is a problem about precision maybe. What&#39;s the workaround for problems such as mine?","body":"@teapot418 I am sorry to be asking alot but is there a way to return (Math.abs(firstNumber - secondNumber) &lt; 0.001); make this work. I looked at the link you sent and there is an epsilon way. But that also failed. BTW I understand now that it is a problem about precision maybe. What&#39;s the workaround for problems such as mine?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1700574197,"post_id":77521549,"comment_id":136669368,"body_markdown":"According to java&#39;s floating point math the difference between 3.174 and 3.175 is 1e-16 less than 0.001. So checking for exactly 0.001 will give you the unwanted &#39;equal&#39; result. You have to make the threshold very slightly less than 0.001.","body":"According to java&#39;s floating point math the difference between 3.174 and 3.175 is 1e-16 less than 0.001. So checking for exactly 0.001 will give you the unwanted &#39;equal&#39; result. You have to make the threshold very slightly less than 0.001."},{"owner":{"account_id":17444389,"reputation":1,"user_id":12645716,"display_name":"Sinan Burak Filiz"},"score":0,"creation_date":1700574889,"post_id":77521549,"comment_id":136669523,"body_markdown":"@teapot418 you are a genius. return (Math.abs(firstNumber - secondNumber) &lt; 0.0009999999999998); is the maximum value that I can use. Now I have passed all the tests. How can I select your answer as the right one. I am kinda new, it&#39;s my first day.","body":"@teapot418 you are a genius. return (Math.abs(firstNumber - secondNumber) &lt; 0.0009999999999998); is the maximum value that I can use. Now I have passed all the tests. How can I select your answer as the right one. I am kinda new, it&#39;s my first day."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1700575816,"post_id":77521549,"comment_id":136669737,"body_markdown":"Happy to help. This question is closed, there&#39;s nothing to accept, we&#39;re done here.","body":"Happy to help. This question is closed, there&#39;s nothing to accept, we&#39;re done here."}],"owner":{"account_id":17444389,"reputation":1,"user_id":12645716,"display_name":"Sinan Burak Filiz"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700559424,"answer_count":0,"score":0,"last_activity_date":1700565907,"creation_date":1700557663,"question_id":77521549,"body_markdown":"```\r\npublic class DecimalComparator {\r\n    public static void main(String[] args) {\r\n        System.out.println(areEqualByThreeDecimalPlaces(3.174 , 3.175));\r\n        System.out.println(areEqualByThreeDecimalPlaces(3.175 , 3.176));\r\n    }\r\n    public static boolean areEqualByThreeDecimalPlaces(double firstNumber, double secondNumber){\r\n        return (firstNumber &gt;= secondNumber) &amp;&amp; ((firstNumber - secondNumber) &lt; 0.001) ? true : (firstNumber &lt; secondNumber) &amp;&amp; ((secondNumber - firstNumber) &lt; 0.001) ? true : false;\r\n    }\r\n}\r\n```\r\n\r\nI was expecting false on both numbers but got true, false instead. This was the only test which my method didn&#39;t pass.\r\n\r\nAs I said before my test passed 19 other values and couldn&#39;t pass this one. Even the examples that I gave are really close.","title":"Comparing numbers by three decimal points","body":"<pre><code>public class DecimalComparator {\n    public static void main(String[] args) {\n        System.out.println(areEqualByThreeDecimalPlaces(3.174 , 3.175));\n        System.out.println(areEqualByThreeDecimalPlaces(3.175 , 3.176));\n    }\n    public static boolean areEqualByThreeDecimalPlaces(double firstNumber, double secondNumber){\n        return (firstNumber &gt;= secondNumber) &amp;&amp; ((firstNumber - secondNumber) &lt; 0.001) ? true : (firstNumber &lt; secondNumber) &amp;&amp; ((secondNumber - firstNumber) &lt; 0.001) ? true : false;\n    }\n}\n</code></pre>\n<p>I was expecting false on both numbers but got true, false instead. This was the only test which my method didn't pass.</p>\n<p>As I said before my test passed 19 other values and couldn't pass this one. Even the examples that I gave are really close.</p>\n"},{"tags":["java","hsqldb"],"owner":{"account_id":4471201,"reputation":382,"user_id":4045924,"accept_rate":92,"display_name":"DailyFrankPeter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700565739,"creation_date":1700560334,"question_id":77521814,"body_markdown":"I just wanted to verify if my expectations are right regarding this. I want to use HSQLDB 2.7.2 in unit tests, but it seems expressions like this: \r\n\r\n    to_timestamp(&#39;24-04-2019 08:46:43.082893000&#39;, &#39;dd-mm-yyyy hh24:mi:ss.FF&#39;)\r\n\r\nget parsed to timestamps like this (zero in first decimal place omitted)\r\n\r\n    2019-04-24 08:46:43.82893\r\n\r\nresulting, for example, in rows getting lost between paginated queries (last page ends with T+0.082893s, but if I plug this timestamp value back to next query, the next page will start from T+0.82893s)\r\n\r\n\r\nThe documentation (https://hsqldb.org/doc/2.0/guide/builtinfunctions-chapt.html#N127C5) says this about the formatting:\r\n`FF\t- Fractional seconds. Use without repetition.`, suggesting that HSQL should not expect ms/μs/ns, or any fixed time unit here, but an arbitrary precision decimal.","title":"HSQLDB timestamp fractional second parsing bug?","body":"<p>I just wanted to verify if my expectations are right regarding this. I want to use HSQLDB 2.7.2 in unit tests, but it seems expressions like this:</p>\n<pre><code>to_timestamp('24-04-2019 08:46:43.082893000', 'dd-mm-yyyy hh24:mi:ss.FF')\n</code></pre>\n<p>get parsed to timestamps like this (zero in first decimal place omitted)</p>\n<pre><code>2019-04-24 08:46:43.82893\n</code></pre>\n<p>resulting, for example, in rows getting lost between paginated queries (last page ends with T+0.082893s, but if I plug this timestamp value back to next query, the next page will start from T+0.82893s)</p>\n<p>The documentation (<a href=\"https://hsqldb.org/doc/2.0/guide/builtinfunctions-chapt.html#N127C5\" rel=\"nofollow noreferrer\">https://hsqldb.org/doc/2.0/guide/builtinfunctions-chapt.html#N127C5</a>) says this about the formatting:\n<code>FF - Fractional seconds. Use without repetition.</code>, suggesting that HSQL should not expect ms/μs/ns, or any fixed time unit here, but an arbitrary precision decimal.</p>\n"},{"tags":["java","json","gson","appium"],"comments":[{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700563284,"post_id":77522120,"comment_id":136667356,"body_markdown":"what is the issue? Please put the stacktrace","body":"what is the issue? Please put the stacktrace"},{"owner":{"account_id":5985170,"reputation":11,"user_id":4702939,"display_name":"Yasmine Dudekula"},"score":0,"creation_date":1700563492,"post_id":77522120,"comment_id":136667398,"body_markdown":"I get an error at the import statement.\nimport com.google.gson.Gson;\nI am unable to use Gson in the below line.\nString inputForLambda = new Gson().toJson(trip.getCreateTripRequest().toString());","body":"I get an error at the import statement. import com.google.gson.Gson; I am unable to use Gson in the below line. String inputForLambda = new Gson().toJson(trip.getCreateTripRequest().toString());"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700563600,"post_id":77522120,"comment_id":136667416,"body_markdown":"Either use Gson or Jackson. Decide which one you want to use for your project.","body":"Either use Gson or Jackson. Decide which one you want to use for your project."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700563804,"post_id":77522120,"comment_id":136667446,"body_markdown":"Just use only `com.google.code.gson:Gson:2.10.1`.That&#39;s more than enough. No need to add other dependencies.","body":"Just use only <code>com.google.code.gson:Gson:2.10.1</code>.That&#39;s more than enough. No need to add other dependencies."},{"owner":{"account_id":5985170,"reputation":11,"user_id":4702939,"display_name":"Yasmine Dudekula"},"score":0,"creation_date":1700564156,"post_id":77522120,"comment_id":136667509,"body_markdown":"I have used the below maven dependency.\n&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;Gson&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;2.10.1&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"I have used the below maven dependency. &lt;dependency&gt; \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;Gson&lt;/artifactId&gt; \t\t\t&lt;version&gt;2.10.1&lt;/version&gt; \t\t&lt;/dependency&gt;"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700564211,"post_id":77522120,"comment_id":136667515,"body_markdown":"Can you run the command `mvn clean install` ?","body":"Can you run the command <code>mvn clean install</code> ?"},{"owner":{"account_id":5985170,"reputation":11,"user_id":4702939,"display_name":"Yasmine Dudekula"},"score":0,"creation_date":1700564900,"post_id":77522120,"comment_id":136667633,"body_markdown":"Yes, i have run the command. Yet i receive the same error.","body":"Yes, i have run the command. Yet i receive the same error."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700566589,"post_id":77522120,"comment_id":136667922,"body_markdown":"I have added my answer. Please have a look.","body":"I have added my answer. Please have a look."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1700691861,"post_id":77522120,"comment_id":136687236,"body_markdown":"Are you using a `module-info.java` file? In that case you have to add `requires com.google.gson` to it.","body":"Are you using a <code>module-info.java</code> file? In that case you have to add <code>requires com.google.gson</code> to it."}],"owner":{"account_id":5985170,"reputation":11,"user_id":4702939,"display_name":"Yasmine Dudekula"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700565649,"creation_date":1700563118,"question_id":77522120,"body_markdown":"I am developing an app to trigger the AWS Lambda in Java. \r\n\r\n**Note:** My app uses Maven as the build tool. \r\n\r\n\r\nTo trigger the Lambda, I need to send the JSON object in the request. I&#39;m trying to use Gson Library. But it&#39;s not working. \r\n\r\nI&#39;m getting issue with import statement when adding this line of code.\r\n\r\n    String inputForLambda = new Gson().toJson(trip.getCreateTripRequest().toString());\r\n\r\nI have added the following maven dependencies in the **pom.xml**: \r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.13&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.16.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.10.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nKindly help me in solving the issue. I have tried in all possible ways. Yet I&#39;m unable to figure out where is the issue.","title":"Gson is not working with Java based app using AWS Lambda","body":"<p>I am developing an app to trigger the AWS Lambda in Java.</p>\n<p><strong>Note:</strong> My app uses Maven as the build tool.</p>\n<p>To trigger the Lambda, I need to send the JSON object in the request. I'm trying to use Gson Library. But it's not working.</p>\n<p>I'm getting issue with import statement when adding this line of code.</p>\n<pre><code>String inputForLambda = new Gson().toJson(trip.getCreateTripRequest().toString());\n</code></pre>\n<p>I have added the following maven dependencies in the <strong>pom.xml</strong>:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.9.13&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.10.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Kindly help me in solving the issue. I have tried in all possible ways. Yet I'm unable to figure out where is the issue.</p>\n"},{"tags":["java","jdbc","informix"],"answers":[{"tags":[],"owner":{"account_id":5085640,"reputation":230,"user_id":4080448,"display_name":"Alexandre Marini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1411668702,"creation_date":1411667407,"answer_id":26044979,"question_id":25982045,"body_markdown":"Unfortunately, Informix 9 is a very very old engine. I think you should upgrade (or tell your clients to upgrade) to a newer - and supported - version. A simple upgrade should give them lots of new features, better performance (at least 40% more), and of course, a more stable engine.\r\n\r\nActually it really does not support version 9. On the product Release Notes page, you will see that:\r\n\r\n&quot;To use IBM Informix JDBC Driver to connect to an IBM Informix database, you must use one of the following IBM Informix database servers:\r\n\r\n    Version 11.50, 11.70, or 12.10\r\n    IBM Informix Extended Parallel Server, Version 8.3 or later\r\n&quot;","title":"Routine (get_data_type) can not be resolved","body":"<p>Unfortunately, Informix 9 is a very very old engine. I think you should upgrade (or tell your clients to upgrade) to a newer - and supported - version. A simple upgrade should give them lots of new features, better performance (at least 40% more), and of course, a more stable engine.</p>\n\n<p>Actually it really does not support version 9. On the product Release Notes page, you will see that:</p>\n\n<p>\"To use IBM Informix JDBC Driver to connect to an IBM Informix database, you must use one of the following IBM Informix database servers:</p>\n\n<pre><code>Version 11.50, 11.70, or 12.10\nIBM Informix Extended Parallel Server, Version 8.3 or later\n</code></pre>\n\n<p>\"</p>\n"},{"tags":[],"owner":{"account_id":23925388,"reputation":1,"user_id":17920552,"display_name":"Devin Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700565455,"creation_date":1700548137,"answer_id":77520738,"question_id":25982045,"body_markdown":"I came across this issue when trying to make the procedure call return an Object for testing\r\n\r\nInstead, create a projection interface for the output and have the function return that.\r\n\r\nJpa interface projection: https://www.baeldung.com/spring-data-jpa-projections#1-closed-projections\r\n\r\nDoesn&#39;t work:\r\n```java\r\npublic interface AnyInterface extends JpaRepository&lt;Entity,Pk&gt; {\r\n  @Procedure(&quot;procedure_name&quot;)\r\n  Object doProcedure(@Param(&quot;param1&quot;) String name);\r\n}\r\n```\r\n\r\nWorked:\r\n```java\r\npublic interface AnyInterface extends JpaRepository&lt;Entity,Pk&gt; {\r\n  @Procedure(&quot;procedure_name&quot;)\r\n  ProjectionOutput doProcedure(@Param(&quot;param1&quot;) String name);\r\n}\r\n\r\n```\r\nand in the controller, annotate the function calling `repo.doProcedure(string)` with\r\n`@Transactional(readOnly = true)`\r\nfrom `org.springframework.transaction.annotation`\r\nto deal with this error: \r\n\r\n&gt; You&#39;re trying to execute a @Procedure method without a surrounding transaction that keeps the connection open so that the ResultSet can actually be consumed. Make sure the consumer code uses @Transactional or any other way of declaring a (read-only) transaction.\r\n","title":"Routine (get_data_type) can not be resolved","body":"<p>I came across this issue when trying to make the procedure call return an Object for testing</p>\n<p>Instead, create a projection interface for the output and have the function return that.</p>\n<p>Jpa interface projection: <a href=\"https://www.baeldung.com/spring-data-jpa-projections#1-closed-projections\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-projections#1-closed-projections</a></p>\n<p>Doesn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface AnyInterface extends JpaRepository&lt;Entity,Pk&gt; {\n  @Procedure(&quot;procedure_name&quot;)\n  Object doProcedure(@Param(&quot;param1&quot;) String name);\n}\n</code></pre>\n<p>Worked:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface AnyInterface extends JpaRepository&lt;Entity,Pk&gt; {\n  @Procedure(&quot;procedure_name&quot;)\n  ProjectionOutput doProcedure(@Param(&quot;param1&quot;) String name);\n}\n\n</code></pre>\n<p>and in the controller, annotate the function calling <code>repo.doProcedure(string)</code> with\n<code>@Transactional(readOnly = true)</code>\nfrom <code>org.springframework.transaction.annotation</code>\nto deal with this error:</p>\n<blockquote>\n<p>You're trying to execute a @Procedure method without a surrounding transaction that keeps the connection open so that the ResultSet can actually be consumed. Make sure the consumer code uses @Transactional or any other way of declaring a (read-only) transaction.</p>\n</blockquote>\n"}],"owner":{"account_id":3821263,"reputation":40,"user_id":3169313,"display_name":"Lucas Licursi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2828,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":26044979,"answer_count":2,"score":0,"last_activity_date":1700565455,"creation_date":1411415268,"question_id":25982045,"body_markdown":"I&#39;ve just updated the informix jdbc driver on my application (from 3.0 to V4.10.JC4DE) and the following error occurred, when trying to connect with informix 9.\r\n\r\n    java.sql.SQLException: Routine (get_data_type) can not be resolved.\r\n    \tat com.informix.jdbc.IfxSqli.a(IfxSqli.java:3130)\r\n    \tat com.informix.jdbc.IfxSqli.D(IfxSqli.java:3412)\r\n    \tat com.informix.jdbc.IfxSqli.dispatchMsg(IfxSqli.java:2325)\r\n    \tat com.informix.jdbc.IfxSqli.receiveMessage(IfxSqli.java:2250)\r\n    \tat com.informix.jdbc.IfxSqli.executeStatementQuery(IfxSqli.java:1485)\r\n    \tat com.informix.jdbc.IfxSqli.executeStatementQuery(IfxSqli.java:1465)\r\n    \tat com.informix.jdbc.IfxResultSet.a(IfxResultSet.java:211)\r\n    \tat com.informix.jdbc.IfxStatement.executeQueryImpl(IfxStatement.java:1064)\r\n    \tat com.informix.jdbc.IfxStatement.executeQuery(IfxStatement.java:236)\r\n    \tat com.informix.jdbc.IfxDatabaseMetaData.getColumns(IfxDatabaseMetaData.java:3549)\r\n    \tat com.mchange.v2.c3p0.impl.NewProxyDatabaseMetaData.getColumns(NewProxyDatabaseMetaData.java:3968)\r\n    \tat org.hibernate.tool.hbm2ddl.TableMetadata.initColumns(TableMetadata.java:197)\r\n    \tat org.hibernate.tool.hbm2ddl.TableMetadata.&lt;init&gt;(TableMetadata.java:58)\r\n    \tat org.hibernate.tool.hbm2ddl.DatabaseMetadata.getTableMetadata(DatabaseMetadata.java:113)\r\n    \t... 54 more\r\n\r\nThe new driver works fine with Informix 11. Unfortunately, I have to support connection with Informix 9.","title":"Routine (get_data_type) can not be resolved","body":"<p>I've just updated the informix jdbc driver on my application (from 3.0 to V4.10.JC4DE) and the following error occurred, when trying to connect with informix 9.</p>\n\n<pre><code>java.sql.SQLException: Routine (get_data_type) can not be resolved.\n    at com.informix.jdbc.IfxSqli.a(IfxSqli.java:3130)\n    at com.informix.jdbc.IfxSqli.D(IfxSqli.java:3412)\n    at com.informix.jdbc.IfxSqli.dispatchMsg(IfxSqli.java:2325)\n    at com.informix.jdbc.IfxSqli.receiveMessage(IfxSqli.java:2250)\n    at com.informix.jdbc.IfxSqli.executeStatementQuery(IfxSqli.java:1485)\n    at com.informix.jdbc.IfxSqli.executeStatementQuery(IfxSqli.java:1465)\n    at com.informix.jdbc.IfxResultSet.a(IfxResultSet.java:211)\n    at com.informix.jdbc.IfxStatement.executeQueryImpl(IfxStatement.java:1064)\n    at com.informix.jdbc.IfxStatement.executeQuery(IfxStatement.java:236)\n    at com.informix.jdbc.IfxDatabaseMetaData.getColumns(IfxDatabaseMetaData.java:3549)\n    at com.mchange.v2.c3p0.impl.NewProxyDatabaseMetaData.getColumns(NewProxyDatabaseMetaData.java:3968)\n    at org.hibernate.tool.hbm2ddl.TableMetadata.initColumns(TableMetadata.java:197)\n    at org.hibernate.tool.hbm2ddl.TableMetadata.&lt;init&gt;(TableMetadata.java:58)\n    at org.hibernate.tool.hbm2ddl.DatabaseMetadata.getTableMetadata(DatabaseMetadata.java:113)\n    ... 54 more\n</code></pre>\n\n<p>The new driver works fine with Informix 11. Unfortunately, I have to support connection with Informix 9.</p>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":8633322,"reputation":218333,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1700564430,"post_id":77522215,"comment_id":136667551,"body_markdown":"Use `INSERT ... ON CONFLICT DO NOTHING`.","body":"Use <code>INSERT ... ON CONFLICT DO NOTHING</code>."},{"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1700564470,"post_id":77522215,"comment_id":136667560,"body_markdown":"What is `customerID`?","body":"What is <code>customerID</code>?"}],"answers":[{"tags":[],"owner":{"account_id":29925833,"reputation":11,"user_id":22933891,"display_name":"Nurzamat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700564761,"creation_date":1700564761,"answer_id":77522287,"question_id":77522215,"body_markdown":"Duplicate question\r\nhttps://stackoverflow.com/questions/53733537/java-jdbc-check-if-value-exists-before-inserting-into-table\r\n\r\nTry like in above link. &quot;select count(*) from customers where id=?&quot;\r\n\r\nAlso useful article \r\nhttps://www.baeldung.com/jdbc-check-table-exists","title":"How to check whether user exist in database","body":"<p>Duplicate question\n<a href=\"https://stackoverflow.com/questions/53733537/java-jdbc-check-if-value-exists-before-inserting-into-table\">java jdbc check if value exists before inserting into table</a></p>\n<p>Try like in above link. &quot;select count(*) from customers where id=?&quot;</p>\n<p>Also useful article\n<a href=\"https://www.baeldung.com/jdbc-check-table-exists\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jdbc-check-table-exists</a></p>\n"},{"tags":[],"owner":{"account_id":29739573,"reputation":41,"user_id":22792152,"display_name":"sathsara thanuja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700564895,"creation_date":1700564895,"answer_id":77522305,"question_id":77522215,"body_markdown":"**CheckIF Exist method** \r\n\r\n - The purpose of this method is to check if a customer with a given ID already exist in the databse.\r\n \r\n - It uses a SQL query to select records from the &quot;customers&quot; table where the ID matches the provided ID.\r\n \r\n - The &quot;executequery&quot; method returns a &quot;resultset&quot; that represent the data retrieved from the database.\r\n \r\n - Instead of checking if the &quot;resultset&quot; is not null ,it uses &quot;rs.next()&quot; to check if there is at least one row in the result set.\r\n \r\n - If &quot;rs.next()&quot; returns &quot;true&quot; it means there is at least one matching customer, and the method returns &quot;true&quot;. Otherwise, it returns &quot;false&quot;.\r\n\r\n\r\n**insert method**\r\n\r\n - This method is responsible for inserting a new customer into the database.\r\n \r\n - It first checks if a customer with the same ID already exists by calling the checkIfExist method.\r\n \r\n - If checkIfExist returns false, it proceeds to execute an SQL INSERT statement to add the new customer to the database.\r\n \r\n - If checkIfExist returns true, it skips the insertion step, avoiding duplicate entries in the database.\r\n\r\n","title":"How to check whether user exist in database","body":"<p><strong>CheckIF Exist method</strong></p>\n<ul>\n<li><p>The purpose of this method is to check if a customer with a given ID already exist in the databse.</p>\n</li>\n<li><p>It uses a SQL query to select records from the &quot;customers&quot; table where the ID matches the provided ID.</p>\n</li>\n<li><p>The &quot;executequery&quot; method returns a &quot;resultset&quot; that represent the data retrieved from the database.</p>\n</li>\n<li><p>Instead of checking if the &quot;resultset&quot; is not null ,it uses &quot;rs.next()&quot; to check if there is at least one row in the result set.</p>\n</li>\n<li><p>If &quot;rs.next()&quot; returns &quot;true&quot; it means there is at least one matching customer, and the method returns &quot;true&quot;. Otherwise, it returns &quot;false&quot;.</p>\n</li>\n</ul>\n<p><strong>insert method</strong></p>\n<ul>\n<li><p>This method is responsible for inserting a new customer into the database.</p>\n</li>\n<li><p>It first checks if a customer with the same ID already exists by calling the checkIfExist method.</p>\n</li>\n<li><p>If checkIfExist returns false, it proceeds to execute an SQL INSERT statement to add the new customer to the database.</p>\n</li>\n<li><p>If checkIfExist returns true, it skips the insertion step, avoiding duplicate entries in the database.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":28828564,"reputation":5,"user_id":22079562,"display_name":"Kostadin Samardjiev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77522305,"answer_count":2,"score":0,"last_activity_date":1700564895,"creation_date":1700564025,"question_id":77522215,"body_markdown":"friends. I&#39;m creating a mini bank application that user makes input with his name and id and then have several options. My problem is that i want to check if the user exists inside the insert() method to avoid duplicate and to have a opportunity to update the same user&#39;s balance while deposit and withdraw.\r\n\r\nWhat i try with is this piece of code :\r\n\r\n```\r\npublic boolean checkIfExist(Long id) throws SQLException { \r\n     \r\n        Connection conn = null;  \r\n        PreparedStatement ps = null;  \r\n        ResultSet rs = null;  \r\n                  \r\n        try {             \r\n            conn = connect();  \r\n            ps=conn.prepareStatement(&quot;select * from customers where id=?&quot;);  \r\n            ps.setLong(1, customerID);  \r\n            rs=ps.executeQuery();\r\n            if(rs != null) {\r\n                return true;\r\n            }\r\n        } catch (Exception e) { \r\n            System.out.println(e);\r\n        } finally {  \r\n            if (rs!=null) {  \r\n                rs.close();  \r\n            }\r\n            if (ps!=null) {  \r\n                ps.close();  \r\n            }\r\n            if (conn!=null) {  \r\n                conn.close();  \r\n            }   \r\n        }  \r\n        return false;\r\n    }  \r\n```\r\n\r\n\r\nand use it this way :\r\n\r\n\r\n\r\n```\r\npublic void insert() throws SQLException {\r\n        String sql = &quot;INSERT INTO customers(id, name)&quot; +\r\n                     &quot;VALUES(?, ?)&quot;;\r\n\r\n        Connection conn = null;\r\n        PreparedStatement ps = null;\r\n\r\n        boolean ifExist = checkIfExist(customerID);\r\n\r\n        if(!ifExist) { \r\n            try {\r\n                conn = connect();\r\n                ps = conn.prepareStatement(sql);\r\n                ps.setLong(1, customerID);\r\n                ps.setString(2, customerName);\r\n                ps.executeUpdate();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if (ps != null) {\r\n                    ps.close();\r\n                }\r\n                if (conn != null) {\r\n                    conn.close();\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nBut i get &quot;true&quot; everytime when execute it and cant insert a new customer. I guess the problem is in &quot;if(rs != null)&quot; but i dont know how to do it right.\r\n\r\n\r\n\r\n","title":"How to check whether user exist in database","body":"<p>friends. I'm creating a mini bank application that user makes input with his name and id and then have several options. My problem is that i want to check if the user exists inside the insert() method to avoid duplicate and to have a opportunity to update the same user's balance while deposit and withdraw.</p>\n<p>What i try with is this piece of code :</p>\n<pre><code>public boolean checkIfExist(Long id) throws SQLException { \n     \n        Connection conn = null;  \n        PreparedStatement ps = null;  \n        ResultSet rs = null;  \n                  \n        try {             \n            conn = connect();  \n            ps=conn.prepareStatement(&quot;select * from customers where id=?&quot;);  \n            ps.setLong(1, customerID);  \n            rs=ps.executeQuery();\n            if(rs != null) {\n                return true;\n            }\n        } catch (Exception e) { \n            System.out.println(e);\n        } finally {  \n            if (rs!=null) {  \n                rs.close();  \n            }\n            if (ps!=null) {  \n                ps.close();  \n            }\n            if (conn!=null) {  \n                conn.close();  \n            }   \n        }  \n        return false;\n    }  \n</code></pre>\n<p>and use it this way :</p>\n<pre><code>public void insert() throws SQLException {\n        String sql = &quot;INSERT INTO customers(id, name)&quot; +\n                     &quot;VALUES(?, ?)&quot;;\n\n        Connection conn = null;\n        PreparedStatement ps = null;\n\n        boolean ifExist = checkIfExist(customerID);\n\n        if(!ifExist) { \n            try {\n                conn = connect();\n                ps = conn.prepareStatement(sql);\n                ps.setLong(1, customerID);\n                ps.setString(2, customerName);\n                ps.executeUpdate();\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                if (ps != null) {\n                    ps.close();\n                }\n                if (conn != null) {\n                    conn.close();\n                }\n            }\n        }\n    }\n</code></pre>\n<p>But i get &quot;true&quot; everytime when execute it and cant insert a new customer. I guess the problem is in &quot;if(rs != null)&quot; but i dont know how to do it right.</p>\n"},{"tags":["java","consumer","functional-interface","unary-operator"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":3,"creation_date":1612386654,"post_id":66035713,"comment_id":116754583,"body_markdown":"what does `Consumer` returns? what does `UnaryOperator` returns?","body":"what does <code>Consumer</code> returns? what does <code>UnaryOperator</code> returns?"}],"answers":[{"tags":[],"owner":{"account_id":16682690,"reputation":568,"user_id":12057371,"display_name":"vincendep"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700564835,"creation_date":1612386941,"answer_id":66035782,"question_id":66035713,"body_markdown":"A `Consumer` is a method that take a parameter of a generic type T and has no return value (void).&lt;br&gt;\r\nA `UnaryOperator` is a method that take a parameter of a generic type T and return a value of the same type (T).\r\n\r\nExample:\r\n\r\n    //Traditionally\r\n    public void convertToLowerCase(String str) {\r\n      System.out.println(str.toLowerCase());\r\n    }\r\n    \r\n    List&lt;String&gt; strings = Arrays.asList(&quot;YO&quot;, &quot;SHIMON&quot;);\r\n    for (String str : strings) {\r\n      convertToLowerCase(str);\r\n    }\r\n    \r\n    //With Consumer\r\n    Consumer&lt;String&gt; consumer = str -&gt; System.out.println(str.toLowerCase());\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;YO&quot;, &quot;SHIMON&quot;);\r\n    strings.forEach(consumer);\r\n\r\n    **\r\n\r\n    //Traditionally:\r\n    public List&lt;Integer&gt; double(List&lt;Integer&gt; numbers) {\r\n        List&lt;Integer&gt; doubleNumbers = new ArrayList&lt;&gt;();\r\n        for (Integer number : numbers) {\r\n            doubleNumbers.add(number * 2);\r\n        }\r\n        return doubleNumbers;\r\n    }\r\n    \r\n    //With UnaryOperator:\r\n    UnaryOperator&lt;Integer&gt; double = n -&gt; n * 2;\r\n    List&lt;Integer&gt; doubleNumbers = numbers.stream()\r\n        .map(double)\r\n        .collect(Collectors.toList());","title":"What is the difference between Unary-Operator functional-interface to Consumer functional-interface?","body":"<p>A <code>Consumer</code> is a method that take a parameter of a generic type T and has no return value (void).<br>\nA <code>UnaryOperator</code> is a method that take a parameter of a generic type T and return a value of the same type (T).</p>\n<p>Example:</p>\n<pre><code>//Traditionally\npublic void convertToLowerCase(String str) {\n  System.out.println(str.toLowerCase());\n}\n\nList&lt;String&gt; strings = Arrays.asList(&quot;YO&quot;, &quot;SHIMON&quot;);\nfor (String str : strings) {\n  convertToLowerCase(str);\n}\n\n//With Consumer\nConsumer&lt;String&gt; consumer = str -&gt; System.out.println(str.toLowerCase());\nList&lt;String&gt; strings = Arrays.asList(&quot;YO&quot;, &quot;SHIMON&quot;);\nstrings.forEach(consumer);\n\n**\n\n//Traditionally:\npublic List&lt;Integer&gt; double(List&lt;Integer&gt; numbers) {\n    List&lt;Integer&gt; doubleNumbers = new ArrayList&lt;&gt;();\n    for (Integer number : numbers) {\n        doubleNumbers.add(number * 2);\n    }\n    return doubleNumbers;\n}\n\n//With UnaryOperator:\nUnaryOperator&lt;Integer&gt; double = n -&gt; n * 2;\nList&lt;Integer&gt; doubleNumbers = numbers.stream()\n    .map(double)\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20620182,"reputation":54,"user_id":15137384,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612387242,"creation_date":1612387242,"answer_id":66035853,"question_id":66035713,"body_markdown":"Unary-Operator functional interface returns some result but\r\nConsumer functional interface doesn&#39;t\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/function/UnaryOperator.html\r\n","title":"What is the difference between Unary-Operator functional-interface to Consumer functional-interface?","body":"<p>Unary-Operator functional interface returns some result but\nConsumer functional interface doesn't\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html</a>\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/UnaryOperator.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/function/UnaryOperator.html</a></p>\n"}],"owner":{"account_id":17296984,"reputation":95,"user_id":12527432,"display_name":"Shimon Cohen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":639,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1612436044,"accepted_answer_id":66035782,"answer_count":2,"score":-1,"last_activity_date":1700564835,"creation_date":1612386587,"question_id":66035713,"body_markdown":"I was wondering what is the difference between Unary-Operator and Consumer functional interfaces?\r\n\r\nEventually, both of them get a function and apply it to a generic T.\r\n\r\nThank you in advance!","title":"What is the difference between Unary-Operator functional-interface to Consumer functional-interface?","body":"<p>I was wondering what is the difference between Unary-Operator and Consumer functional interfaces?</p>\n<p>Eventually, both of them get a function and apply it to a generic T.</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","jsoup"],"comments":[{"owner":{"account_id":16773423,"reputation":576,"user_id":12125351,"display_name":"wannaBeDev"},"score":1,"creation_date":1699904240,"post_id":77476370,"comment_id":136586867,"body_markdown":"How do you parse the fragment? How do you use the selector syntax to get the elements of interest? Please complete your question with a minimal reproducible yet complete code.","body":"How do you parse the fragment? How do you use the selector syntax to get the elements of interest? Please complete your question with a minimal reproducible yet complete code."},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1699907085,"post_id":77476370,"comment_id":136587358,"body_markdown":"Your post can be boiled down to: JSoup is a buggy mess. Is there a `--do-not-be-stupid` switch. JSoup is not a buggy mess and obviously there is no such switch. You are either using the library wrong, or your input isn&#39;t what you think it is. These things can happen, the problem is, your question does not include the necessary detail to try it out. Best thing to do is a self contained minimal test case: Write that HTML __by hand__ (to avoid weird unicode shenanigans), write a trivial program that parses it. You&#39;ll find your assumptions are incorrect, go from there.","body":"Your post can be boiled down to: JSoup is a buggy mess. Is there a <code>--do-not-be-stupid</code> switch. JSoup is not a buggy mess and obviously there is no such switch. You are either using the library wrong, or your input isn&#39;t what you think it is. These things can happen, the problem is, your question does not include the necessary detail to try it out. Best thing to do is a self contained minimal test case: Write that HTML <b>by hand</b> (to avoid weird unicode shenanigans), write a trivial program that parses it. You&#39;ll find your assumptions are incorrect, go from there."},{"owner":{"account_id":21851501,"reputation":17,"user_id":18065631,"display_name":"NikMAX"},"score":0,"creation_date":1699907545,"post_id":77476370,"comment_id":136587420,"body_markdown":"You&#39;re right, the original post was poorly worded, so I rewrote it","body":"You&#39;re right, the original post was poorly worded, so I rewrote it"},{"owner":{"account_id":21851501,"reputation":17,"user_id":18065631,"display_name":"NikMAX"},"score":0,"creation_date":1699907935,"post_id":77476370,"comment_id":136587479,"body_markdown":"@rzwitserloot I&#39;ve checked the html dozens of times for last 2 days. Jsoup doesn&#39;t recognize closing &lt;/div&gt; tags for list items and generates them at the end of the document and corrupt DOM","body":"@rzwitserloot I&#39;ve checked the html dozens of times for last 2 days. Jsoup doesn&#39;t recognize closing &lt;/div&gt; tags for list items and generates them at the end of the document and corrupt DOM"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1699911130,"post_id":77476370,"comment_id":136587977,"body_markdown":"In your example, you are not closing the outer `&lt;div&gt;`. If that isn&#39;t the case for your actual input, please create a [mcve] and also test that example.","body":"In your example, you are not closing the outer <code>&lt;div&gt;</code>. If that isn&#39;t the case for your actual input, please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and also test that example."},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1699915712,"post_id":77476370,"comment_id":136588623,"body_markdown":"@NikMAX extraordinary claims demand extraordinary evidence. Show an actual, working example. Given that you&#39;re reporting on a bug that makes the entire (rather popular) library utterly unfit for purpose, trust me - it&#39;s you, not the 10 year old thing with a million users. If you really want to ask questions and have readers take on faith JSoup is utterly broken, then __include a self contained test case__ so that any doubter can __trivially__ run it. You haven&#39;t done so. I shall continue to believe you are just not using the tool correctly / have weird HTML.","body":"@NikMAX extraordinary claims demand extraordinary evidence. Show an actual, working example. Given that you&#39;re reporting on a bug that makes the entire (rather popular) library utterly unfit for purpose, trust me - it&#39;s you, not the 10 year old thing with a million users. If you really want to ask questions and have readers take on faith JSoup is utterly broken, then <b>include a self contained test case</b> so that any doubter can <b>trivially</b> run it. You haven&#39;t done so. I shall continue to believe you are just not using the tool correctly / have weird HTML."}],"answers":[{"tags":[],"owner":{"account_id":16773423,"reputation":576,"user_id":12125351,"display_name":"wannaBeDev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699911673,"creation_date":1699911673,"answer_id":77477042,"question_id":77476370,"body_markdown":"I have no problems parsing that fragment using Jsoup 1.16.1. You should include the relevant part of your code if something is not working for you\r\n\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n\r\n    public class Example {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            String html = &quot; &lt;div style=\\&quot;position: relative;\\&quot;&gt;\\n&quot;\r\n                          + &quot;    &lt;div class=\\&quot;episode-name\\&quot; style=\\&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;\\&quot; data-id=\\&quot;0_0_0_0\\&quot;&gt;1. Some Text&lt;/div&gt;\\n&quot;\r\n                          + &quot;    &lt;div class=\\&quot;episode-name\\&quot; style=\\&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;\\&quot; data-id=\\&quot;0_0_0_0\\&quot;&gt;2. Some Text&lt;/div&gt;\\n&quot;\r\n                          + &quot;    &lt;div class=\\&quot;episode-name\\&quot; style=\\&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;\\&quot;data-id=\\&quot;0_0_0_0\\&quot;&gt;3. Some Text&lt;/div&gt;\\n&quot;\r\n                          + &quot; &lt;/div&gt;&quot;;\r\n\r\n            Document document = Jsoup.parseBodyFragment(html);\r\n\r\n            System.out.println(document.selectFirst(&quot;div.episode-name&quot;).text());\r\n        }\r\n    }","title":"Jsoup doesn&#39;t detect closing &lt;/div&gt; tags in the list","body":"<p>I have no problems parsing that fragment using Jsoup 1.16.1. You should include the relevant part of your code if something is not working for you</p>\n<pre><code>import org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\n\npublic class Example {\n\n    public static void main(String[] args) {\n\n        String html = &quot; &lt;div style=\\&quot;position: relative;\\&quot;&gt;\\n&quot;\n                      + &quot;    &lt;div class=\\&quot;episode-name\\&quot; style=\\&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;\\&quot; data-id=\\&quot;0_0_0_0\\&quot;&gt;1. Some Text&lt;/div&gt;\\n&quot;\n                      + &quot;    &lt;div class=\\&quot;episode-name\\&quot; style=\\&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;\\&quot; data-id=\\&quot;0_0_0_0\\&quot;&gt;2. Some Text&lt;/div&gt;\\n&quot;\n                      + &quot;    &lt;div class=\\&quot;episode-name\\&quot; style=\\&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;\\&quot;data-id=\\&quot;0_0_0_0\\&quot;&gt;3. Some Text&lt;/div&gt;\\n&quot;\n                      + &quot; &lt;/div&gt;&quot;;\n\n        Document document = Jsoup.parseBodyFragment(html);\n\n        System.out.println(document.selectFirst(&quot;div.episode-name&quot;).text());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21851501,"reputation":17,"user_id":18065631,"display_name":"NikMAX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700564105,"creation_date":1699965824,"answer_id":77480698,"question_id":77476370,"body_markdown":"When I tried to compose the string manually and passing it to jsoup I&#39;ve found the root of the problem.  \r\nIn the html string that the network request returns to me, I have a normal opening `&lt;div&gt;` tags, but escaped closing `&lt;/div&gt;` tags in the list items. List items contains `&lt;\\/div&gt;` instead of `&lt;/div&gt;`.  \r\nList items looks like this:  \r\n```html\r\n&lt;div class=\\&quot;episode-name\\&quot; style=\\&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;\\&quot; data-id=\\&quot;0_0_0_0\\&quot;&gt;1. Text&lt;\\/div&gt; &lt;--ESCAPED TAG\r\n```\r\ninstead of this:\r\n```html\r\n&lt;div class=\\&quot;episode-name\\&quot; style=\\&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;\\&quot; data-id=\\&quot;0_0_0_0\\&quot;&gt;1. Text&lt;/div&gt; &lt;-- NORMAL TAG\r\n```\r\nSo Jsoup interprets those escaped closing tags like text and generete incorrect DOM structure.  \r\n\r\n**SOLUTION**:  \r\nAdding a tag escape check before passing html to jsoup and replacing escaped tags with unescaped ones solved the problem. In my example I just use \r\n\r\n```\r\nhtml=html.replaceAll(&quot;&lt;\\\\/div&gt;&quot;, &quot;&lt;/div&gt;&quot;)\r\ndocument = Jsoup.parse(html)\r\n```","title":"Jsoup doesn&#39;t detect closing &lt;/div&gt; tags in the list","body":"<p>When I tried to compose the string manually and passing it to jsoup I've found the root of the problem.<br />\nIn the html string that the network request returns to me, I have a normal opening <code>&lt;div&gt;</code> tags, but escaped closing <code>&lt;/div&gt;</code> tags in the list items. List items contains <code>&lt;\\/div&gt;</code> instead of <code>&lt;/div&gt;</code>.<br />\nList items looks like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\\&quot;episode-name\\&quot; style=\\&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;\\&quot; data-id=\\&quot;0_0_0_0\\&quot;&gt;1. Text&lt;\\/div&gt; &lt;--ESCAPED TAG\n</code></pre>\n<p>instead of this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\\&quot;episode-name\\&quot; style=\\&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;\\&quot; data-id=\\&quot;0_0_0_0\\&quot;&gt;1. Text&lt;/div&gt; &lt;-- NORMAL TAG\n</code></pre>\n<p>So Jsoup interprets those escaped closing tags like text and generete incorrect DOM structure.</p>\n<p><strong>SOLUTION</strong>:<br />\nAdding a tag escape check before passing html to jsoup and replacing escaped tags with unescaped ones solved the problem. In my example I just use</p>\n<pre><code>html=html.replaceAll(&quot;&lt;\\\\/div&gt;&quot;, &quot;&lt;/div&gt;&quot;)\ndocument = Jsoup.parse(html)\n</code></pre>\n"}],"owner":{"account_id":21851501,"reputation":17,"user_id":18065631,"display_name":"NikMAX"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77480698,"answer_count":2,"score":-1,"last_activity_date":1700564105,"creation_date":1699903608,"question_id":77476370,"body_markdown":"I have an HTML string with `&lt;div style=&quot;position: relative;&quot;&gt; &lt;/div&gt;` that contains list of ~200 elements, like this:\r\n\r\n```html\r\n &lt;div style=&quot;position: relative;&quot;&gt;\r\n    &lt;div class=&quot;episode-name&quot; style=&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;&quot; data-id=&quot;0_0_0_0&quot;&gt;1. Some Text&lt;/div&gt;\r\n    &lt;div class=&quot;episode-name&quot; style=&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;&quot; data-id=&quot;0_0_0_0&quot;&gt;2. Some Text&lt;/div&gt;\r\n    &lt;div class=&quot;episode-name&quot; style=&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;&quot;data-id=&quot;0_0_0_0&quot;&gt;3. Some Text&lt;/div&gt;\r\n    ...\r\n    &lt;div class=&quot;episode-name&quot; style=&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;&quot;data-id=&quot;0_0_0_0&quot;&gt;200. Some Text&lt;/div&gt;\r\n &lt;/div&gt;\r\n``` \r\nI do\r\n```\r\nDocument document = Jsoup.parse(html)\r\n```\r\nI expect to get a document with a list, lile this:\r\n\r\n```html\r\n&lt;html&gt;\r\n &lt;head&gt;&lt;/head&gt;\r\n &lt;body&gt;\r\n   &lt;div style=&quot;position: relative;&quot;&gt;\r\n      &lt;div class=&quot;episode-name&quot; style=&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;&quot; data-id=&quot;0_0_0_0&quot;&gt;1. Some Text&lt;/div&gt;\r\n      &lt;div class=&quot;episode-name&quot; style=&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;&quot; data-id=&quot;0_0_0_0&quot;&gt;2. Some Text&lt;/div&gt;\r\n      &lt;div class=&quot;episode-name&quot; style=&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;&quot; data-id=&quot;0_0_0_0&quot;&gt;3. Some Text&lt;/div&gt;\r\n &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nBut Jsoup doesn&#39;t recognize closing &lt;/div&gt; tags of list elements and create document with dozens of nested div`s instead of a list, like this:\r\n\r\n```html\r\n&lt;html&gt;\r\n &lt;head&gt;&lt;/head&gt;\r\n &lt;body&gt;\r\n  &lt;div style=&quot;\\&amp;quot;position:&quot; relative;\\&gt;\r\n   &lt;div class=&quot;\\&amp;quot;episode-name\\&amp;quot;&quot; style=&quot;\\&amp;quot;position:&quot; absolute; top: 5px;left: 10px;font-size: 30px;\\ data-id=&quot;\\&amp;quot;0_0_0_0\\&amp;quot;&quot;&gt;1. Some Unicode&amp;lt;\\/div&amp;gt; &lt;-- ORIGINAL &lt;/div&gt; tag (its recognized like text?)\r\n    &lt;div class=&quot;\\&amp;quot;episode-name\\&amp;quot;&quot; style=&quot;\\&amp;quot;position:&quot; absolute; top: 5px;left: 10px;font-size: 30px;\\ data-id=&quot;\\&amp;quot;0_0_0_0\\&amp;quot;&quot;&gt;2. Some Unicode&amp;lt;\\/div&amp;gt;\r\n     &lt;div class=&quot;\\&amp;quot;episode-name\\&amp;quot;&quot; style=&quot;\\&amp;quot;position:&quot; absolute; top: 5px;left: 10px;font-size: 30px;\\ data-id=&quot;\\&amp;quot;0_0_0_0\\&amp;quot;&quot;&gt;3. Some Unicode&amp;lt;\\/div&amp;gt;\r\n       &lt;/div&gt; &lt;-- the same &lt;/div&gt; generated by Jsoup in the end of document instead of the item`s end\r\n     &lt;/div&gt;\r\n   &lt;/div&gt;\r\n  &lt;/div&gt;\r\n &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nThis messes up the DOM and makes parsing extremely difficult.  \r\n**How can I get jsoup parse this fragment correctly?**","title":"Jsoup doesn&#39;t detect closing &lt;/div&gt; tags in the list","body":"<p>I have an HTML string with <code>&lt;div style=&quot;position: relative;&quot;&gt; &lt;/div&gt;</code> that contains list of ~200 elements, like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code> &lt;div style=&quot;position: relative;&quot;&gt;\n    &lt;div class=&quot;episode-name&quot; style=&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;&quot; data-id=&quot;0_0_0_0&quot;&gt;1. Some Text&lt;/div&gt;\n    &lt;div class=&quot;episode-name&quot; style=&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;&quot; data-id=&quot;0_0_0_0&quot;&gt;2. Some Text&lt;/div&gt;\n    &lt;div class=&quot;episode-name&quot; style=&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;&quot;data-id=&quot;0_0_0_0&quot;&gt;3. Some Text&lt;/div&gt;\n    ...\n    &lt;div class=&quot;episode-name&quot; style=&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;&quot;data-id=&quot;0_0_0_0&quot;&gt;200. Some Text&lt;/div&gt;\n &lt;/div&gt;\n</code></pre>\n<p>I do</p>\n<pre><code>Document document = Jsoup.parse(html)\n</code></pre>\n<p>I expect to get a document with a list, lile this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html&gt;\n &lt;head&gt;&lt;/head&gt;\n &lt;body&gt;\n   &lt;div style=&quot;position: relative;&quot;&gt;\n      &lt;div class=&quot;episode-name&quot; style=&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;&quot; data-id=&quot;0_0_0_0&quot;&gt;1. Some Text&lt;/div&gt;\n      &lt;div class=&quot;episode-name&quot; style=&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;&quot; data-id=&quot;0_0_0_0&quot;&gt;2. Some Text&lt;/div&gt;\n      &lt;div class=&quot;episode-name&quot; style=&quot;position: absolute; top: 5px;left: 10px;font-size: 30px;&quot; data-id=&quot;0_0_0_0&quot;&gt;3. Some Text&lt;/div&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>But Jsoup doesn't recognize closing  tags of list elements and create document with dozens of nested div`s instead of a list, like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html&gt;\n &lt;head&gt;&lt;/head&gt;\n &lt;body&gt;\n  &lt;div style=&quot;\\&amp;quot;position:&quot; relative;\\&gt;\n   &lt;div class=&quot;\\&amp;quot;episode-name\\&amp;quot;&quot; style=&quot;\\&amp;quot;position:&quot; absolute; top: 5px;left: 10px;font-size: 30px;\\ data-id=&quot;\\&amp;quot;0_0_0_0\\&amp;quot;&quot;&gt;1. Some Unicode&amp;lt;\\/div&amp;gt; &lt;-- ORIGINAL &lt;/div&gt; tag (its recognized like text?)\n    &lt;div class=&quot;\\&amp;quot;episode-name\\&amp;quot;&quot; style=&quot;\\&amp;quot;position:&quot; absolute; top: 5px;left: 10px;font-size: 30px;\\ data-id=&quot;\\&amp;quot;0_0_0_0\\&amp;quot;&quot;&gt;2. Some Unicode&amp;lt;\\/div&amp;gt;\n     &lt;div class=&quot;\\&amp;quot;episode-name\\&amp;quot;&quot; style=&quot;\\&amp;quot;position:&quot; absolute; top: 5px;left: 10px;font-size: 30px;\\ data-id=&quot;\\&amp;quot;0_0_0_0\\&amp;quot;&quot;&gt;3. Some Unicode&amp;lt;\\/div&amp;gt;\n       &lt;/div&gt; &lt;-- the same &lt;/div&gt; generated by Jsoup in the end of document instead of the item`s end\n     &lt;/div&gt;\n   &lt;/div&gt;\n  &lt;/div&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>This messes up the DOM and makes parsing extremely difficult.<br />\n<strong>How can I get jsoup parse this fragment correctly?</strong></p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1700563988,"post_id":77521882,"comment_id":136667480,"body_markdown":"Try to use `concatMap` instead of `flatMap` when you want to enforce *sequential* processing of the elements of a Flux.","body":"Try to use <code>concatMap</code> instead of <code>flatMap</code> when you want to enforce <i>sequential</i> processing of the elements of a Flux."},{"owner":{"account_id":13216700,"reputation":31,"user_id":9544972,"display_name":"Techie97"},"score":0,"creation_date":1700571859,"post_id":77521882,"comment_id":136668889,"body_markdown":"could you please explain more about using concatMap? looks like it&#39;s working with concatMap.\n\ndoes using subscribeOn(Schedulers.single()) with flatMap does not work? according to my understanding, this also subscribes to each event one after another. \nor subscribeOn does not affect the flatMap operator?","body":"could you please explain more about using concatMap? looks like it&#39;s working with concatMap.  does using subscribeOn(Schedulers.single()) with flatMap does not work? according to my understanding, this also subscribes to each event one after another.  or subscribeOn does not affect the flatMap operator?"},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1700577825,"post_id":77521882,"comment_id":136670135,"body_markdown":"One of the key aspect of Reactor is to allow multiple concurrent tasks to be started and paused on the same thread. *flatMap* enforces concurrency whatever the scheduler, even if it uses only a single thread. *concatMap* forces signals to be processed one after another.","body":"One of the key aspect of Reactor is to allow multiple concurrent tasks to be started and paused on the same thread. <i>flatMap</i> enforces concurrency whatever the scheduler, even if it uses only a single thread. <i>concatMap</i> forces signals to be processed one after another."}],"owner":{"account_id":13216700,"reputation":31,"user_id":9544972,"display_name":"Techie97"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700563828,"creation_date":1700560798,"question_id":77521882,"body_markdown":"I have a method (enrichData) that retrieves metadata for an ID from different sources (LocalCache, RedisCache, and ApiService) using Project Reactor&#39;s Mono in Java. The goal is to ensure that only one API call is made, and subsequent calls should fetch data from the local cache.\r\n\r\nI&#39;ve tried using subscribeOn(Schedulers.single()) to handle concurrency, but it seems that multiple API calls are still being made concurrently. How can I modify the code to ensure a synchronous execution order, fetching from local cache first and making the API call only when necessary?\r\n\r\nHere&#39;s a simplified version of the code:\r\n\r\n```java\r\npublic class MetadataFetcher {\r\n\r\n    public Mono&lt;Map&lt;String, Object&gt;&gt; enrichData(String id) {\r\n        return Mono.justOrEmpty(localCache.getIfPresent(id))\r\n                .switchIfEmpty(Mono.defer(() -&gt; fetchFromCache(id, cacheService)))\r\n                .switchIfEmpty(Mono.defer(() -&gt; fetchFromApi(id, fallbackService)))\r\n                .defaultIfEmpty(transformationUtil.defaultEmptyMap())\r\n                .subscribeOn(Schedulers.single());\r\n    }\r\n\r\n    private Mono&lt;Map&lt;String, Object&gt;&gt; fetchFromCache(String id, DataService dataService) {\r\n        return dataService.getSymbolMetadata(id, new HashMap&lt;&gt;())\r\n                .flatMap(symbolData -&gt; {\r\n                    if (ObjectUtils.isEmpty(symbolData)) {\r\n                        return Mono.empty();\r\n                    } else {\r\n                        localCache.put(id, symbolData);\r\n                        return Mono.just(symbolData);\r\n                    }\r\n                });\r\n    }\r\n\r\n    private Mono&lt;Map&lt;String, Object&gt;&gt; fetchFromApi(String id, DataService dataService) {\r\n        return dataService.getSymbolMetadata(id, new HashMap&lt;&gt;())\r\n                .flatMap(symbolData -&gt; {\r\n                    if (ObjectUtils.isEmpty(symbolData)) {\r\n                        return Mono.empty();\r\n                    } else {\r\n                        localCache.put(id, symbolData);\r\n                        return Mono.just(symbolData);\r\n                    }\r\n                });\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MetadataFetcher metadataFetcher = new MetadataFetcher(/* pass dependencies */);\r\n\r\n        // Example caller\r\n        String id = &quot;exampleId&quot;;\r\n      kafkaEventsFlux.\r\n    .publishOn(Schedulers.single())\r\n    .flatmap(data -&gt; enrichData(data).subscribeOn(single))\r\n    }\r\n}\r\n```\r\n\r\n","title":"Asynchronous Execution Issue with Reactive Programming in Java","body":"<p>I have a method (enrichData) that retrieves metadata for an ID from different sources (LocalCache, RedisCache, and ApiService) using Project Reactor's Mono in Java. The goal is to ensure that only one API call is made, and subsequent calls should fetch data from the local cache.</p>\n<p>I've tried using subscribeOn(Schedulers.single()) to handle concurrency, but it seems that multiple API calls are still being made concurrently. How can I modify the code to ensure a synchronous execution order, fetching from local cache first and making the API call only when necessary?</p>\n<p>Here's a simplified version of the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MetadataFetcher {\n\n    public Mono&lt;Map&lt;String, Object&gt;&gt; enrichData(String id) {\n        return Mono.justOrEmpty(localCache.getIfPresent(id))\n                .switchIfEmpty(Mono.defer(() -&gt; fetchFromCache(id, cacheService)))\n                .switchIfEmpty(Mono.defer(() -&gt; fetchFromApi(id, fallbackService)))\n                .defaultIfEmpty(transformationUtil.defaultEmptyMap())\n                .subscribeOn(Schedulers.single());\n    }\n\n    private Mono&lt;Map&lt;String, Object&gt;&gt; fetchFromCache(String id, DataService dataService) {\n        return dataService.getSymbolMetadata(id, new HashMap&lt;&gt;())\n                .flatMap(symbolData -&gt; {\n                    if (ObjectUtils.isEmpty(symbolData)) {\n                        return Mono.empty();\n                    } else {\n                        localCache.put(id, symbolData);\n                        return Mono.just(symbolData);\n                    }\n                });\n    }\n\n    private Mono&lt;Map&lt;String, Object&gt;&gt; fetchFromApi(String id, DataService dataService) {\n        return dataService.getSymbolMetadata(id, new HashMap&lt;&gt;())\n                .flatMap(symbolData -&gt; {\n                    if (ObjectUtils.isEmpty(symbolData)) {\n                        return Mono.empty();\n                    } else {\n                        localCache.put(id, symbolData);\n                        return Mono.just(symbolData);\n                    }\n                });\n    }\n\n    public static void main(String[] args) {\n        MetadataFetcher metadataFetcher = new MetadataFetcher(/* pass dependencies */);\n\n        // Example caller\n        String id = &quot;exampleId&quot;;\n      kafkaEventsFlux.\n    .publishOn(Schedulers.single())\n    .flatmap(data -&gt; enrichData(data).subscribeOn(single))\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1700589243,"post_id":77522126,"comment_id":136672338,"body_markdown":"You should use webdriverwaits with explicit conditions: https://www.selenium.dev/documentation/webdriver/waits/","body":"You should use webdriverwaits with explicit conditions: <a href=\"https://www.selenium.dev/documentation/webdriver/waits/\" rel=\"nofollow noreferrer\">selenium.dev/documentation/webdriver/waits</a>"},{"owner":{"account_id":4404973,"reputation":45,"user_id":3589648,"display_name":"Karcel"},"score":0,"creation_date":1700746116,"post_id":77522126,"comment_id":136694027,"body_markdown":"That by itself is not very helpful. It still will give you just explicit option to wait - but my problem is about the object you are waiting for. Most of the times you can wait for some object in DOM structure lets say. Now to requests are not affecting anything in it initially. So I need to have a way how to check if browser requests (e.g. for url endpoint /123) has finished (or has some correct status for cases like SSE calls).","body":"That by itself is not very helpful. It still will give you just explicit option to wait - but my problem is about the object you are waiting for. Most of the times you can wait for some object in DOM structure lets say. Now to requests are not affecting anything in it initially. So I need to have a way how to check if browser requests (e.g. for url endpoint /123) has finished (or has some correct status for cases like SSE calls)."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1701190872,"post_id":77522126,"comment_id":136743596,"body_markdown":"Once a request has finished, a DOM update may occur.  (usually that&#39;s the case...  offhand I can&#39;t think of any time it wouldn&#39;t...)  So waiting for the request to get it&#39;s callback isn&#39;t enough.  You&#39;ll usually want to wait until the DOM has updated.","body":"Once a request has finished, a DOM update may occur.  (usually that&#39;s the case...  offhand I can&#39;t think of any time it wouldn&#39;t...)  So waiting for the request to get it&#39;s callback isn&#39;t enough.  You&#39;ll usually want to wait until the DOM has updated."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1701191239,"post_id":77522126,"comment_id":136743699,"body_markdown":"If you need to react to an event such as a notification which can happen at any time you might consider using a WebDriverListener: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/events/WebDriverListener.html","body":"If you need to react to an event such as a notification which can happen at any time you might consider using a WebDriverListener: <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/events/WebDriverListener.html\" rel=\"nofollow noreferrer\">selenium.dev/selenium/docs/api/java/org/openqa/selenium/supp&zwnj;&#8203;ort/&hellip;</a>"}],"owner":{"account_id":4404973,"reputation":45,"user_id":3589648,"display_name":"Karcel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700563161,"creation_date":1700563161,"question_id":77522126,"body_markdown":"I am using Selenium and I have UI that does calls which have effect once user starts working with it. However I would like to know if there is a way to find out if all requests get responses - for automation purposes to wait properly for that and not to start too quickly/ or to hardcode wait.\r\n\r\nI am thinking of using CDP but dont know if it is capable of this functionality to retrieve something like this based on given urls that were called?","title":"How to find out from Selenium that requests on UI are finished","body":"<p>I am using Selenium and I have UI that does calls which have effect once user starts working with it. However I would like to know if there is a way to find out if all requests get responses - for automation purposes to wait properly for that and not to start too quickly/ or to hardcode wait.</p>\n<p>I am thinking of using CDP but dont know if it is capable of this functionality to retrieve something like this based on given urls that were called?</p>\n"},{"tags":["java","multithreading","bit-manipulation","atomic"],"comments":[{"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1700563911,"post_id":77522049,"comment_id":136667459,"body_markdown":"That answer is about two booleans (so bit flags can be used). It seems like you have 2 ints here? That answer is not applicable.","body":"That answer is about two booleans (so bit flags can be used). It seems like you have 2 ints here? That answer is not applicable."},{"owner":{"account_id":19600152,"reputation":163,"user_id":14345214,"display_name":"thefool"},"score":0,"creation_date":1700564137,"post_id":77522049,"comment_id":136667504,"body_markdown":"It it possible then to make atomic condition (if statement) evaluating 2 conditions? As in my question - I need to check if ((val1 == 1) &amp;&amp; (val2 == 2)) == true atomically. @Sweeper","body":"It it possible then to make atomic condition (if statement) evaluating 2 conditions? As in my question - I need to check if ((val1 == 1) &amp;&amp; (val2 == 2)) == true atomically. @Sweeper"},{"owner":{"account_id":19600152,"reputation":163,"user_id":14345214,"display_name":"thefool"},"score":0,"creation_date":1700564365,"post_id":77522049,"comment_id":136667544,"body_markdown":"Those two variables have very limited set of possible values: 1 and 2 for the first one (val1), and 1, 2 and 3 for the second one (val2)","body":"Those two variables have very limited set of possible values: 1 and 2 for the first one (val1), and 1, 2 and 3 for the second one (val2)"},{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":1,"creation_date":1700565255,"post_id":77522049,"comment_id":136667688,"body_markdown":"You use the first bit for val1 and the next two bits for val2.","body":"You use the first bit for val1 and the next two bits for val2."},{"owner":{"account_id":19600152,"reputation":163,"user_id":14345214,"display_name":"thefool"},"score":0,"creation_date":1700565983,"post_id":77522049,"comment_id":136667825,"body_markdown":"@akuzminykh, ok. Great! I was hoping it was feasible. So I can then make those two conditions work atomic?","body":"@akuzminykh, ok. Great! I was hoping it was feasible. So I can then make those two conditions work atomic?"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1700592760,"post_id":77522049,"comment_id":136672945,"body_markdown":"Yes, you have one atomic integer that&#39;s 32 or 8 bits wide.  You can atomically OR / AND / XOR, or compare_exchange, to change bits.  To check multiple bits, atomically read the whole int into a local temporary, then `tmp &amp; mask == mask` to check that all bits in the mask were set.  Radiodef&#39;s answer shows an example of `if((flags &amp; both) == FLAG0)` to check that FLAG1 was clear and FLAG0 was set.","body":"Yes, you have one atomic integer that&#39;s 32 or 8 bits wide.  You can atomically OR / AND / XOR, or compare_exchange, to change bits.  To check multiple bits, atomically read the whole int into a local temporary, then <code>tmp &amp; mask == mask</code> to check that all bits in the mask were set.  Radiodef&#39;s answer shows an example of <code>if((flags &amp; both) == FLAG0)</code> to check that FLAG1 was clear and FLAG0 was set."},{"owner":{"account_id":19600152,"reputation":163,"user_id":14345214,"display_name":"thefool"},"score":0,"creation_date":1700597007,"post_id":77522049,"comment_id":136673632,"body_markdown":"@PeterCordes ok. Let&#39;s say that I want to operate on Boolians - is it possible to: {atomically change value of val1}, {atomically change val2} and {atomically compare if val1 == true &amp;&amp; val2 == false}? I need those 3 things very much","body":"@PeterCordes ok. Let&#39;s say that I want to operate on Boolians - is it possible to: {atomically change value of val1}, {atomically change val2} and {atomically compare if val1 == true &amp;&amp; val2 == false}? I need those 3 things very much"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1700597368,"post_id":77522049,"comment_id":136673694,"body_markdown":"Weird, Java AtomicInteger doesn&#39;t have `xorAndGet` or other bitwise ops, only `addAndGet`, at least in the Java 8 doc google found (https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html).  But it has CAS as Radiodef&#39;s answer shows, and it has [`accumulateAndGet`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html#accumulateAndGet-int-java.util.function.IntBinaryOperator-) which you can use to apply any integer op you want, like `v.accumulateAndGet( 1&lt;&lt;3, xor_function)` to flip bit #4 (mask=1&lt;&lt;3).","body":"Weird, Java AtomicInteger doesn&#39;t have <code>xorAndGet</code> or other bitwise ops, only <code>addAndGet</code>, at least in the Java 8 doc google found (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/atom&zwnj;&#8203;ic/&hellip;</a>).  But it has CAS as Radiodef&#39;s answer shows, and it has <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html#accumulateAndGet-int-java.util.function.IntBinaryOperator-\" rel=\"nofollow noreferrer\"><code>accumulateAndGet</code></a> which you can use to apply any integer op you want, like <code>v.accumulateAndGet( 1&lt;&lt;3, xor_function)</code> to flip bit #4 (mask=1&lt;&lt;3)."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1700597775,"post_id":77522049,"comment_id":136673759,"body_markdown":"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html seems to be the latest version, Java 21, and it still doesn&#39;t have atomic boolean ops on AtomicInteger, but does still have `accumulateAndGet`.  (Which is presumably just a wrapper for a CAS retry loop, unless it&#39;s smarter when compiling for some targets like x86 and can actually JIT to a `lock xor` or `lock and`.  Or `lock bts` to set a single bit and check the old value, like getAndOr with a 1-bit mask.)","body":"<a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/21/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a> seems to be the latest version, Java 21, and it still doesn&#39;t have atomic boolean ops on AtomicInteger, but does still have <code>accumulateAndGet</code>.  (Which is presumably just a wrapper for a CAS retry loop, unless it&#39;s smarter when compiling for some targets like x86 and can actually JIT to a <code>lock xor</code> or <code>lock and</code>.  Or <code>lock bts</code> to set a single bit and check the old value, like getAndOr with a 1-bit mask.)"}],"owner":{"account_id":19600152,"reputation":163,"user_id":14345214,"display_name":"thefool"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700562353,"creation_date":1700562353,"question_id":77522049,"body_markdown":"I saw that question: [question][1]\r\n\r\nUnfortunatelly I don&#39;t understand how to use AtomicInteger with bit flags to atomically check two values (as mentioned by @Radiodef in his answer) in Java.\r\n\r\nCould somebody show me how to check atomically if for example:\r\n\r\n    ((val1 == 1) &amp;&amp; (val2 == 2)) == true\r\n\r\nwhen val1 can be equal to 1 or 2 and val2 can be equal to 1, 2 or 3?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21925546/how-to-atomically-check-two-atomicbooleans-in-java-in-one-safe-operation-without","title":"How to use AtomicInteger with bit flags to atomically check two values in Java in one safe operation without a synchronized block?","body":"<p>I saw that question: <a href=\"https://stackoverflow.com/questions/21925546/how-to-atomically-check-two-atomicbooleans-in-java-in-one-safe-operation-without\">question</a></p>\n<p>Unfortunatelly I don't understand how to use AtomicInteger with bit flags to atomically check two values (as mentioned by @Radiodef in his answer) in Java.</p>\n<p>Could somebody show me how to check atomically if for example:</p>\n<pre><code>((val1 == 1) &amp;&amp; (val2 == 2)) == true\n</code></pre>\n<p>when val1 can be equal to 1 or 2 and val2 can be equal to 1, 2 or 3?</p>\n"},{"tags":["java","sorting","multidimensional-array"],"comments":[{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":0,"creation_date":1700546265,"post_id":77520205,"comment_id":136664685,"body_markdown":"I think the answer is &quot;the same way as first integer&quot; but without seeing your code, it&#39;s quite difficult to answer","body":"I think the answer is &quot;the same way as first integer&quot; but without seeing your code, it&#39;s quite difficult to answer"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1700552012,"post_id":77520205,"comment_id":136665391,"body_markdown":"Why don&#39;t you show your code, so we can help you complete it?","body":"Why don&#39;t you show your code, so we can help you complete it?"}],"answers":[{"tags":[],"owner":{"account_id":29681914,"reputation":1,"user_id":22748368,"display_name":"Adripoblado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700554028,"creation_date":1700554028,"answer_id":77521197,"question_id":77520205,"body_markdown":"It is difficult to know what your code does without seeing it but I believe what you are doing is using `Arrays.sort()` just as in this [example][1], but to sort the way you want you must take a step further.\r\n\r\nThis worked for me: \r\n\r\n    Arrays.sort(array, Comparator.comparingInt((int[] a) -&gt; a[0]).thenComparingInt(a -&gt; a[1]));\r\n\r\nSo, basically what I&#39;m doing here is sorting by the first dimension of the 2D array and then, once is sorted, sorte it again by the seccond dimension.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39949208/22748368","title":"Sort a 2D Array by Comparing Both the First and Second Integers using Java","body":"<p>It is difficult to know what your code does without seeing it but I believe what you are doing is using <code>Arrays.sort()</code> just as in this <a href=\"https://stackoverflow.com/a/39949208/22748368\">example</a>, but to sort the way you want you must take a step further.</p>\n<p>This worked for me:</p>\n<pre><code>Arrays.sort(array, Comparator.comparingInt((int[] a) -&gt; a[0]).thenComparingInt(a -&gt; a[1]));\n</code></pre>\n<p>So, basically what I'm doing here is sorting by the first dimension of the 2D array and then, once is sorted, sorte it again by the seccond dimension.</p>\n"},{"tags":[],"owner":{"account_id":5941380,"reputation":4114,"user_id":4672460,"accept_rate":100,"display_name":"Selaka Nanayakkara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700555152,"creation_date":1700555152,"answer_id":77521300,"question_id":77520205,"body_markdown":"You can use `Comparator` interface in Java to define a custom sorting logic\r\nRefer the below code below :\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    \r\n    public class TwoDimensionalArraySorting {\r\n        public static void main(String[] args) {\r\n            int[][] array = {{4, 7}, {4, 1}, {14, 11}, {10, 6}, {13, 4}, {4, 10}, {10, 3}, {9, 14}};\r\n            sortIntArray(array);\r\n            for (int[] row : array) {\r\n                System.out.println(Arrays.toString(row));\r\n            }\r\n        }\r\n    \r\n        public static void sortIntArray(int[][] array) {\r\n            Arrays.sort(array, new Comparator&lt;int[]&gt;() {\r\n                @Override\r\n                public int compare(int[] a, int[] b) {\r\n                    int compareFirst = Integer.compare(a[0], b[0]);\r\n                    return (compareFirst == 0) ? Integer.compare(a[1], b[1]) : compareFirst;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n&gt; Refer the working code [here][1]\r\n\r\n\r\n  [1]: https://onlinegdb.com/GmueBMLxfI","title":"Sort a 2D Array by Comparing Both the First and Second Integers using Java","body":"<p>You can use <code>Comparator</code> interface in Java to define a custom sorting logic\nRefer the below code below :</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Comparator;\n\npublic class TwoDimensionalArraySorting {\n    public static void main(String[] args) {\n        int[][] array = {{4, 7}, {4, 1}, {14, 11}, {10, 6}, {13, 4}, {4, 10}, {10, 3}, {9, 14}};\n        sortIntArray(array);\n        for (int[] row : array) {\n            System.out.println(Arrays.toString(row));\n        }\n    }\n\n    public static void sortIntArray(int[][] array) {\n        Arrays.sort(array, new Comparator&lt;int[]&gt;() {\n            @Override\n            public int compare(int[] a, int[] b) {\n                int compareFirst = Integer.compare(a[0], b[0]);\n                return (compareFirst == 0) ? Integer.compare(a[1], b[1]) : compareFirst;\n            }\n        });\n    }\n}\n</code></pre>\n<blockquote>\n<p>Refer the working code <a href=\"https://onlinegdb.com/GmueBMLxfI\" rel=\"nofollow noreferrer\">here</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700562226,"creation_date":1700561352,"answer_id":77521931,"question_id":77520205,"body_markdown":"Using basic coding\r\n\r\n 1. Nested `for-loops`, whenever a sort is done on a collection of data you&#39;ll have to iterate and compare each element across all the others. So, the first loop starts with `i=0` and the inner loop starts with `j=i+1` because you don&#39;t have to compare elements in the same index.\r\n 2. Say that you are sorting in ascending order, so if the element at `i` is greater than `i+1` or if both are the same and the element at the second index is greater you need to swap them. Once an iteration is finished that index can be skipped for the next (that&#39;s why `j=i+1`).\r\n    \t\r\n    \tfor(int i=0; i&lt;array.length; i++) {\r\n    \t\t\r\n    \t\tfor(int j=i+1; j&lt;array.length; j++) {\r\n    \r\n    \t\t\tif(array[j][0] &lt; array[i][0] ||\r\n    \t\t\t\t\t(array[j][0] == array[i][0] &amp;&amp; array[j][1] &lt; array[i][1])) {\r\n    \t\t\t\t\r\n    \t\t\t\tint[] temp = array[j];\r\n    \t\t\t\tarray[j] = array[i];\r\n    \t\t\t\tarray[i] = temp;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tSystem.out.println(Arrays.deepToString(array));","title":"Sort a 2D Array by Comparing Both the First and Second Integers using Java","body":"<p>Using basic coding</p>\n<ol>\n<li><p>Nested <code>for-loops</code>, whenever a sort is done on a collection of data you'll have to iterate and compare each element across all the others. So, the first loop starts with <code>i=0</code> and the inner loop starts with <code>j=i+1</code> because you don't have to compare elements in the same index.</p>\n</li>\n<li><p>Say that you are sorting in ascending order, so if the element at <code>i</code> is greater than <code>i+1</code> or if both are the same and the element at the second index is greater you need to swap them. Once an iteration is finished that index can be skipped for the next (that's why <code>j=i+1</code>).</p>\n<pre><code>for(int i=0; i&lt;array.length; i++) {\n\n    for(int j=i+1; j&lt;array.length; j++) {\n\n        if(array[j][0] &lt; array[i][0] ||\n                (array[j][0] == array[i][0] &amp;&amp; array[j][1] &lt; array[i][1])) {\n\n            int[] temp = array[j];\n            array[j] = array[i];\n            array[i] = temp;\n        }\n    }\n}\n\nSystem.out.println(Arrays.deepToString(array));\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":15679417,"reputation":1,"user_id":11313796,"display_name":"Mr. Zhao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1700562226,"creation_date":1700538598,"question_id":77520205,"body_markdown":"The original 2D array is \r\n\r\n    int[][] array = {{4, 7}, {4, 1}, {14, 11}, {10 6}, {13, 4}, {4, 10}, {10, 3}, {9, 14}}\r\n\r\nThe above array should be sorted to the following:\r\n\r\n    int[][] array = {{4, 1}, {4, 7}, {4, 10}, {9, 14}, {10, 3}, {10 6}, {13, 4}, {14, 11}}\r\n\r\nMy code can sort based on only the first integer. how to do the sorting for the second one as well after the first integer has been sorted.","title":"Sort a 2D Array by Comparing Both the First and Second Integers using Java","body":"<p>The original 2D array is</p>\n<pre><code>int[][] array = {{4, 7}, {4, 1}, {14, 11}, {10 6}, {13, 4}, {4, 10}, {10, 3}, {9, 14}}\n</code></pre>\n<p>The above array should be sorted to the following:</p>\n<pre><code>int[][] array = {{4, 1}, {4, 7}, {4, 10}, {9, 14}, {10, 3}, {10 6}, {13, 4}, {14, 11}}\n</code></pre>\n<p>My code can sort based on only the first integer. how to do the sorting for the second one as well after the first integer has been sorted.</p>\n"},{"tags":["java","selenium-webdriver","automation"],"owner":{"account_id":23461647,"reputation":1,"user_id":17516424,"display_name":"Shivali Guleria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700574366,"answer_count":0,"score":-1,"last_activity_date":1700562125,"creation_date":1700561292,"question_id":77521923,"body_markdown":"Login Page object class:\r\n\r\n\r\n```\r\npackage com.horizon.stage.pages;\r\n\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.support.FindBy;\r\nimport org.openqa.selenium.support.PageFactory;\r\n\r\nimport base.BaseTest;\r\n\r\npublic class LoginPage extends BaseTest {\r\n\r\n\t@FindBy(xpath = &quot;//body/div[1]/div[1]/div[2]/div[2]/div[2]/div[2]/div[1]/div[1]/form[1]/div[1]/input[1]&quot;)\r\n\tWebElement email;\r\n\r\n\t@FindBy(xpath = &quot;//body/div[1]/div[1]/div[2]/div[2]/div[2]/div[2]/div[1]/div[1]/form[1]/div[2]/input[1]&quot;)\r\n\tWebElement password;\r\n\r\n\t@FindBy(xpath = &quot;//body/div[1]/div[1]/div[2]/div[2]/div[2]/div[2]/div[1]/div[1]/form[1]/div[3]/a[1]&quot;)\r\n\tWebElement forgotPassLink;\r\n\r\n\t@FindBy(xpath = &quot;//body/div[1]/div[1]/div[2]/div[2]/div[2]/div[2]/div[1]/div[1]/form[1]/input[3]&quot;)\r\n\tWebElement signInSubmitBtn;\r\n\r\n\t@FindBy(xpath = &quot;//body/div[1]/div[1]/div[2]/div[2]/div[2]/div[2]/div[1]/div[1]/span[1]&quot;)\r\n\tWebElement signInDescriptionText;\r\n\r\n\t// Initializing the page objects.\r\n\r\n\tpublic LoginPage() {\r\n\t\tPageFactory.initElements(driver, this);\r\n\r\n\t}\r\n\r\n    //Actions\r\n\r\n\tpublic String validateLoginPageDescrp() {\r\n\t\treturn signInDescriptionText.getText();\r\n\r\n\t}\r\n\r\n\tpublic String validateForgotPswLink() {\r\n\t\treturn forgotPassLink.getText();\r\n\r\n\t}\r\n\r\n\tpublic GatewayPage login(String un, String pwd) {\r\n\r\n\t\temail.sendKeys(un);\r\n\t\tpassword.sendKeys(pwd);\r\n\t\tsignInSubmitBtn.click();\r\n\r\n\t\treturn new GatewayPage();\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nLogin page Test class:\r\n\r\n\r\n\r\n```\r\npackage testcase;\r\n\r\nimport org.testng.Assert;\r\nimport org.testng.annotations.Test;\r\n\r\nimport com.horizon.stage.pages.GatewayPage;\r\nimport com.horizon.stage.pages.LoginPage;\r\n\r\nimport base.BaseTest;\r\n\r\npublic class LoginPageTC extends BaseTest {\r\n\r\n\tLoginPage loginPage = new LoginPage();\r\n\tGatewayPage gatewayPage;\r\n\r\n\t@Test(priority = 1)\r\n\tpublic void LoginPageDescrpTest() throws InterruptedException {\r\n\r\n\t\t//LoginPage loginPage = new LoginPage();\r\n\r\n\t\tString description = loginPage.validateLoginPageDescrp();\r\n\t\tSystem.out.println(description);\r\n\t\tAssert.assertEquals(description, &quot;Sign in with your email and password&quot;);\r\n\r\n\t}\r\n\r\n\t@Test(priority = 2)\r\n\tpublic void ForgotPswLinkTest() throws InterruptedException {\r\n\t\t\r\n\t\t//LoginPage loginPage = new LoginPage();\r\n\t\t\r\n\t\tString forgotText = loginPage.validateForgotPswLink();\r\n\t\tSystem.out.println(forgotText);\r\n\t\tAssert.assertEquals(forgotText, &quot;Forgot your password?&quot;);\r\n\r\n\t}\r\n\r\n\t@Test(priority = 3)\r\n\tpublic void loginTest() throws InterruptedException {\r\n\t\t\r\n\t\t// LoginPage loginPage = new LoginPage();\r\n\t\t\r\n\t\tgatewayPage = loginPage.login(prop.getProperty(&quot;username&quot;), prop.getProperty(&quot;password&quot;));\r\n\t\tThread.sleep(18000);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nWhen initialize the object globally then I am getting this below error:\r\n````\r\nFAILED: testcase.LoginPageTC.ForgotPswLinkTest\r\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\r\n\tat org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:68)\r\n\tat org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:38)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy11.getText(Unknown Source)\r\n\tat com.horizon.stage.pages.LoginPage.validateForgotPswLink(LoginPage.java:41)\r\n\tat testcase.LoginPageTC.ForgotPswLinkTest(LoginPageTC.java:32)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:664)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\r\n\tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n\tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:848)\r\n\tat org.testng.TestRunner.run(TestRunner.java:621)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:336)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1114)\r\n\tat org.testng.TestNG.run(TestNG.java:1082)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n````","title":"Getting &quot;NullPointerException&quot; when intialize the object at global level. Working fine when initialize locally","body":"<p>Login Page object class:</p>\n<pre><code>package com.horizon.stage.pages;\n\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.FindBy;\nimport org.openqa.selenium.support.PageFactory;\n\nimport base.BaseTest;\n\npublic class LoginPage extends BaseTest {\n\n    @FindBy(xpath = &quot;//body/div[1]/div[1]/div[2]/div[2]/div[2]/div[2]/div[1]/div[1]/form[1]/div[1]/input[1]&quot;)\n    WebElement email;\n\n    @FindBy(xpath = &quot;//body/div[1]/div[1]/div[2]/div[2]/div[2]/div[2]/div[1]/div[1]/form[1]/div[2]/input[1]&quot;)\n    WebElement password;\n\n    @FindBy(xpath = &quot;//body/div[1]/div[1]/div[2]/div[2]/div[2]/div[2]/div[1]/div[1]/form[1]/div[3]/a[1]&quot;)\n    WebElement forgotPassLink;\n\n    @FindBy(xpath = &quot;//body/div[1]/div[1]/div[2]/div[2]/div[2]/div[2]/div[1]/div[1]/form[1]/input[3]&quot;)\n    WebElement signInSubmitBtn;\n\n    @FindBy(xpath = &quot;//body/div[1]/div[1]/div[2]/div[2]/div[2]/div[2]/div[1]/div[1]/span[1]&quot;)\n    WebElement signInDescriptionText;\n\n    // Initializing the page objects.\n\n    public LoginPage() {\n        PageFactory.initElements(driver, this);\n\n    }\n\n    //Actions\n\n    public String validateLoginPageDescrp() {\n        return signInDescriptionText.getText();\n\n    }\n\n    public String validateForgotPswLink() {\n        return forgotPassLink.getText();\n\n    }\n\n    public GatewayPage login(String un, String pwd) {\n\n        email.sendKeys(un);\n        password.sendKeys(pwd);\n        signInSubmitBtn.click();\n\n        return new GatewayPage();\n\n    }\n\n}\n</code></pre>\n<p>Login page Test class:</p>\n<pre><code>package testcase;\n\nimport org.testng.Assert;\nimport org.testng.annotations.Test;\n\nimport com.horizon.stage.pages.GatewayPage;\nimport com.horizon.stage.pages.LoginPage;\n\nimport base.BaseTest;\n\npublic class LoginPageTC extends BaseTest {\n\n    LoginPage loginPage = new LoginPage();\n    GatewayPage gatewayPage;\n\n    @Test(priority = 1)\n    public void LoginPageDescrpTest() throws InterruptedException {\n\n        //LoginPage loginPage = new LoginPage();\n\n        String description = loginPage.validateLoginPageDescrp();\n        System.out.println(description);\n        Assert.assertEquals(description, &quot;Sign in with your email and password&quot;);\n\n    }\n\n    @Test(priority = 2)\n    public void ForgotPswLinkTest() throws InterruptedException {\n        \n        //LoginPage loginPage = new LoginPage();\n        \n        String forgotText = loginPage.validateForgotPswLink();\n        System.out.println(forgotText);\n        Assert.assertEquals(forgotText, &quot;Forgot your password?&quot;);\n\n    }\n\n    @Test(priority = 3)\n    public void loginTest() throws InterruptedException {\n        \n        // LoginPage loginPage = new LoginPage();\n        \n        gatewayPage = loginPage.login(prop.getProperty(&quot;username&quot;), prop.getProperty(&quot;password&quot;));\n        Thread.sleep(18000);\n    }\n\n}\n\n</code></pre>\n<p>When initialize the object globally then I am getting this below error:</p>\n<pre><code>FAILED: testcase.LoginPageTC.ForgotPswLinkTest\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\n    at org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:68)\n    at org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:38)\n    at jdk.proxy2/jdk.proxy2.$Proxy11.getText(Unknown Source)\n    at com.horizon.stage.pages.LoginPage.validateForgotPswLink(LoginPage.java:41)\n    at testcase.LoginPageTC.ForgotPswLinkTest(LoginPageTC.java:32)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:664)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:848)\n    at org.testng.TestRunner.run(TestRunner.java:621)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:336)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\n    at org.testng.TestNG.runSuites(TestNG.java:1114)\n    at org.testng.TestNG.run(TestNG.java:1082)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n</code></pre>\n"},{"tags":["java","methods","instance"],"comments":[{"owner":{"account_id":4150574,"reputation":2455,"user_id":3403161,"display_name":"m4rtin"},"score":0,"creation_date":1410042257,"post_id":25702584,"comment_id":40180532,"body_markdown":"Please see if [my answer here](http://stackoverflow.com/a/25703535/3403161) also answers the question being raised by this thread (in case I suggest we close it as a duplicate).","body":"Please see if <a href=\"http://stackoverflow.com/a/25703535/3403161\">my answer here</a> also answers the question being raised by this thread (in case I suggest we close it as a duplicate)."}],"answers":[{"tags":[],"owner":{"account_id":4878731,"reputation":20470,"user_id":3933089,"accept_rate":67,"display_name":"chiastic-security"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700529176,"creation_date":1410022945,"answer_id":25702632,"question_id":25702584,"body_markdown":"In your functions of this form:\r\n\r\n    public boolean isGreaterThan(Temperature t){\r\n      if (t.get()&gt;t1.get()) {return true;}\r\n      else {return false;}\r\n    }\r\n\r\nYou are comparing `t` with a non-existent `t1`. You want to be comparing the current object (`this`) with `t`, the parameter you&#39;ve been passed. You can also return the result of the comparison directly instead of using an `if` statement.\r\n\r\n    public boolean isGreaterThan(Temperature t){\r\n      return this.get() &gt; t.get();\r\n    }\r\n\r\nNote also that in your constructor that takes two parameters, you&#39;re not setting your object properties at all: you&#39;re creating a new `t1`, setting its properties, and then discarding it. Call `this.set` rather than `t1.set`.","title":"Java- Accesing instances of a class in a method","body":"<p>In your functions of this form:</p>\n<pre><code>public boolean isGreaterThan(Temperature t){\n  if (t.get()&gt;t1.get()) {return true;}\n  else {return false;}\n}\n</code></pre>\n<p>You are comparing <code>t</code> with a non-existent <code>t1</code>. You want to be comparing the current object (<code>this</code>) with <code>t</code>, the parameter you've been passed. You can also return the result of the comparison directly instead of using an <code>if</code> statement.</p>\n<pre><code>public boolean isGreaterThan(Temperature t){\n  return this.get() &gt; t.get();\n}\n</code></pre>\n<p>Note also that in your constructor that takes two parameters, you're not setting your object properties at all: you're creating a new <code>t1</code>, setting its properties, and then discarding it. Call <code>this.set</code> rather than <code>t1.set</code>.</p>\n"},{"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410563104,"creation_date":1410024201,"answer_id":25702859,"question_id":25702584,"body_markdown":"### Make it compile first\r\n\r\nYour code as posted doesn&#39;t compile because you are using unknown variables like `t1` here:\r\n\r\n&gt;     public boolean isGreaterThan(Temperature t){\r\n&gt;          if (t.get()&gt;t1.get()) {return true;}\r\n&gt;          else {return false;}\r\n&gt;      }\r\n\r\nYou want to drop the `t1.` there.\r\n\r\n### Don&#39;t make changes in `get`\r\n\r\nIt&#39;s counter intuitive and a bad practice to have a method named `get` that changes the fields of a class. So instead of this:\r\n\r\n&gt;     public double get(char scale) {\r\n&gt;     \tif (scale == &#39;c&#39; || scale == &#39;C&#39;) {\r\n&gt;     \t\tdegrees = (degrees - 273.15);\r\n&gt;     \t} else if (scale == &#39;r&#39; || scale == &#39;R&#39;) {\r\n&gt;     \t\tdegrees = (degrees * (9 / 5));\r\n&gt;     \t} else if (scale == &#39;f&#39; || scale == &#39;F&#39;) {\r\n&gt;     \t\tdegrees = (degrees * (9 / 5) - 459.67);\r\n&gt;     \t}\r\n&gt;     \treturn (degrees);\r\n&gt;     }\r\n\r\nRewrite like this:\r\n\r\n\tpublic double get(char scale) {\r\n\t\tif (scale == &#39;c&#39; || scale == &#39;C&#39;) {\r\n\t\t\treturn degrees - 273.15;\r\n\t\t} else if (scale == &#39;r&#39; || scale == &#39;R&#39;) {\r\n\t\t\treturn degrees * 9 / 5;\r\n\t\t} else if (scale == &#39;f&#39; || scale == &#39;F&#39;) {\r\n\t\t\treturn degrees * 9 / 5 - 459.67;\r\n\t\t}\r\n\t\treturn degrees;\r\n\t}\r\n\r\nI also removed unnecessary parentheses.\r\n\r\n### Simplify\r\n\r\nAlso, most of your methods could be greatly simplified, for example:\r\n\r\n\tpublic boolean isLessThan(Temperature t) {\r\n\t\treturn get() &lt; t.get();\r\n\t}\r\n\r\n\tpublic boolean isGreaterThan(Temperature t) {\r\n\t\treturn get() &gt; t.get();\r\n\t}\r\n\r\n\tpublic boolean isEqual(Temperature t) {\r\n\t\treturn Math.abs(t.get() - get()) &lt;= 10E-12;\r\n\t}\r\n\r\n\tpublic boolean isGreaterThanOrEqual(Temperature t) {\r\n\t\treturn get() &gt;= t.get();\r\n\t}\r\n\r\n\tpublic boolean isLessThanOrEqual(Temperature t) {\r\n\t\treturn get() &lt;= t.get();\r\n\t}\r\n\r\n### Improve\r\n\r\n*(I know you commend your prof &quot;doesn&#39;t like&quot; `switch` (and he&#39;s wrong), but leaving this anyway for your reference.)*\r\n\r\nI also recommend rewriting `set` like this:\r\n\r\n\tpublic void set(double enteredtemp, char scale) {\r\n\t\tswitch (scale) {\r\n\t\t\tcase &#39;r&#39;:\r\n\t\t\tcase &#39;R&#39;:\r\n\t\t\t\tdegrees = (enteredtemp / (9 / 5));\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;c&#39;:\r\n\t\t\tcase &#39;C&#39;:\r\n\t\t\t\tdegrees = enteredtemp + 273.15;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;f&#39;:\r\n\t\t\tcase &#39;F&#39;:\r\n\t\t\t\tdegrees = ((enteredtemp + 459.67) * 9 / 5);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n","title":"Java- Accesing instances of a class in a method","body":"<h3>Make it compile first</h3>\n\n<p>Your code as posted doesn't compile because you are using unknown variables like <code>t1</code> here:</p>\n\n<blockquote>\n<pre><code>public boolean isGreaterThan(Temperature t){\n     if (t.get()&gt;t1.get()) {return true;}\n     else {return false;}\n }\n</code></pre>\n</blockquote>\n\n<p>You want to drop the <code>t1.</code> there.</p>\n\n<h3>Don't make changes in <code>get</code></h3>\n\n<p>It's counter intuitive and a bad practice to have a method named <code>get</code> that changes the fields of a class. So instead of this:</p>\n\n<blockquote>\n<pre><code>public double get(char scale) {\n  if (scale == 'c' || scale == 'C') {\n      degrees = (degrees - 273.15);\n  } else if (scale == 'r' || scale == 'R') {\n      degrees = (degrees * (9 / 5));\n  } else if (scale == 'f' || scale == 'F') {\n      degrees = (degrees * (9 / 5) - 459.67);\n  }\n  return (degrees);\n}\n</code></pre>\n</blockquote>\n\n<p>Rewrite like this:</p>\n\n<pre><code>public double get(char scale) {\n    if (scale == 'c' || scale == 'C') {\n        return degrees - 273.15;\n    } else if (scale == 'r' || scale == 'R') {\n        return degrees * 9 / 5;\n    } else if (scale == 'f' || scale == 'F') {\n        return degrees * 9 / 5 - 459.67;\n    }\n    return degrees;\n}\n</code></pre>\n\n<p>I also removed unnecessary parentheses.</p>\n\n<h3>Simplify</h3>\n\n<p>Also, most of your methods could be greatly simplified, for example:</p>\n\n<pre><code>public boolean isLessThan(Temperature t) {\n    return get() &lt; t.get();\n}\n\npublic boolean isGreaterThan(Temperature t) {\n    return get() &gt; t.get();\n}\n\npublic boolean isEqual(Temperature t) {\n    return Math.abs(t.get() - get()) &lt;= 10E-12;\n}\n\npublic boolean isGreaterThanOrEqual(Temperature t) {\n    return get() &gt;= t.get();\n}\n\npublic boolean isLessThanOrEqual(Temperature t) {\n    return get() &lt;= t.get();\n}\n</code></pre>\n\n<h3>Improve</h3>\n\n<p><em>(I know you commend your prof \"doesn't like\" <code>switch</code> (and he's wrong), but leaving this anyway for your reference.)</em></p>\n\n<p>I also recommend rewriting <code>set</code> like this:</p>\n\n<pre><code>public void set(double enteredtemp, char scale) {\n    switch (scale) {\n        case 'r':\n        case 'R':\n            degrees = (enteredtemp / (9 / 5));\n            break;\n        case 'c':\n        case 'C':\n            degrees = enteredtemp + 273.15;\n            break;\n        case 'f':\n        case 'F':\n            degrees = ((enteredtemp + 459.67) * 9 / 5);\n            break;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4993551,"reputation":15,"user_id":4014977,"accept_rate":14,"display_name":"tokola"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1700561853,"creation_date":1410022643,"question_id":25702584,"body_markdown":"I have to write a code for class that takes in a temperature value, converts it to kelvin, and then determines if this is greater than, equal to, less than, or whatever to another entered temp. It has to say true or false for each of the boolean possibilities. I can&#39;t get it to compare the temperature that is set as t1, with the temperature t that the boolean methods take as a parameter? Any suggestions?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public class Temperature {\r\n        \r\n       public double degrees;\r\n        public static void main(String[] args) {\r\n    \r\n    }\r\n           \r\n        \r\n        Temperature (){\r\n       degrees=0;\r\n    }\r\n           \r\n    Temperature (double enteredtemp){\r\n        degrees = enteredtemp;\r\n    }\r\n    Temperature (double enteredtemp,char scale ){\r\n       Temperature t1 = new Temperature (enteredtemp, scale);\r\n       t1.set(enteredtemp,scale);\r\n    \r\n        \r\n    }\r\n    public void set (double enteredtemp, char scale){\r\n           if (scale == &#39;r&#39;|| scale == &#39;R&#39;){ degrees = (enteredtemp/(9/5));}\r\n           else if (scale == &#39;c&#39;|| scale == &#39;C&#39;) {degrees = enteredtemp+273.15;}\r\n           else if (scale ==&#39;F&#39;|| scale == &#39;f&#39;){degrees = ((enteredtemp+459.67)*9/5);}\r\n           \r\n        \r\n        \r\n    }\r\n    \r\n    public double get(){\r\n        return degrees;\r\n    }\r\n     public double get(char scale){\r\n        if (scale == &#39;c&#39;|| scale == &#39;C&#39;){degrees = (degrees-273.15);}\r\n        else if (scale == &#39;r&#39;||scale == &#39;R&#39;){degrees = (degrees*(9/5));}\r\n        else if (scale == &#39;f&#39;|| scale == &#39;F&#39;){degrees = (degrees*(9/5)-459.67);}\r\n        return (degrees);\r\n                }\r\n     \r\n     \r\n     public boolean isLessThan(Temperature t){\r\n     \r\n     if (t.get() &lt; t1.get())\r\n     return true;\r\n     else {\r\n     return false;\r\n     }\r\n     \r\n     }\r\n     public boolean isGreaterThan(Temperature t){\r\n         if (t.get() &gt; t1.get()) {\r\n         return true;\r\n         }\r\n         else {\r\n         return false;\r\n         }\r\n     }\r\n     public boolean isEqual(Temperature t){\r\n         if ((Math.abs(t.get() - t1.get()))&lt;=10E-12){\r\n         return true;\r\n         }\r\n         else {\r\n         return false;\r\n         }\r\n         \r\n     }\r\n     \r\n     public boolean isGreaterThanOrEqual(Temperature t){\r\n         if (t.get() &gt;= t1.get()){\r\n         return true;\r\n         }\r\n         else {\r\n         return false;\r\n         }\r\n         \r\n     }\r\n     public boolean isLessThanorEqual(Temperature t){\r\n         if (t.get() &lt;= t1.get()){\r\n         return true;\r\n         }\r\n         else {\r\n         return false;\r\n         }\r\n     } \r\n    }","title":"Java- Accesing instances of a class in a method","body":"<p>I have to write a code for class that takes in a temperature value, converts it to kelvin, and then determines if this is greater than, equal to, less than, or whatever to another entered temp. It has to say true or false for each of the boolean possibilities. I can't get it to compare the temperature that is set as t1, with the temperature t that the boolean methods take as a parameter? Any suggestions?</p>\n<pre><code>public class Temperature {\n    \n   public double degrees;\n    public static void main(String[] args) {\n\n}\n       \n    \n    Temperature (){\n   degrees=0;\n}\n       \nTemperature (double enteredtemp){\n    degrees = enteredtemp;\n}\nTemperature (double enteredtemp,char scale ){\n   Temperature t1 = new Temperature (enteredtemp, scale);\n   t1.set(enteredtemp,scale);\n\n    \n}\npublic void set (double enteredtemp, char scale){\n       if (scale == 'r'|| scale == 'R'){ degrees = (enteredtemp/(9/5));}\n       else if (scale == 'c'|| scale == 'C') {degrees = enteredtemp+273.15;}\n       else if (scale =='F'|| scale == 'f'){degrees = ((enteredtemp+459.67)*9/5);}\n       \n    \n    \n}\n\npublic double get(){\n    return degrees;\n}\n public double get(char scale){\n    if (scale == 'c'|| scale == 'C'){degrees = (degrees-273.15);}\n    else if (scale == 'r'||scale == 'R'){degrees = (degrees*(9/5));}\n    else if (scale == 'f'|| scale == 'F'){degrees = (degrees*(9/5)-459.67);}\n    return (degrees);\n            }\n \n \n public boolean isLessThan(Temperature t){\n \n if (t.get() &lt; t1.get())\n return true;\n else {\n return false;\n }\n \n }\n public boolean isGreaterThan(Temperature t){\n     if (t.get() &gt; t1.get()) {\n     return true;\n     }\n     else {\n     return false;\n     }\n }\n public boolean isEqual(Temperature t){\n     if ((Math.abs(t.get() - t1.get()))&lt;=10E-12){\n     return true;\n     }\n     else {\n     return false;\n     }\n     \n }\n \n public boolean isGreaterThanOrEqual(Temperature t){\n     if (t.get() &gt;= t1.get()){\n     return true;\n     }\n     else {\n     return false;\n     }\n     \n }\n public boolean isLessThanorEqual(Temperature t){\n     if (t.get() &lt;= t1.get()){\n     return true;\n     }\n     else {\n     return false;\n     }\n } \n}\n</code></pre>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1700581340,"post_id":77521971,"comment_id":136670815,"body_markdown":"I don&#39;t understand mixing maven profiles with spring profiles; what does one have to do with the other?  Maven uses inheritance, so if your project extended common (e.g., had the parent of common), it would have access to the profiles defined in common.","body":"I don&#39;t understand mixing maven profiles with spring profiles; what does one have to do with the other?  Maven uses inheritance, so if your project extended common (e.g., had the parent of common), it would have access to the profiles defined in common."}],"owner":{"account_id":4116401,"reputation":1189,"user_id":3377836,"accept_rate":62,"display_name":"frank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700561662,"creation_date":1700561662,"question_id":77521971,"body_markdown":"in a traditional spring project(non spring boot) with maven, I have `projectA` and `projectB`, they are packaged as `war`. There is another `common` which packaged as `jar`. Both `projectA` and `projectB` depends on `common`.\r\n\r\nI want to define profile in `common` and use the profile values in `projectA` and `projectB`, how can I do that?\r\n\r\nthe pom file of `common` looks like as follows:\r\n```\r\n&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;prod&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;env&gt;prod&lt;/env&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;test&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;env&gt;test&lt;/env&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;dev&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;env&gt;dev&lt;/env&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;common&lt;/finalName&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n\t\t\t\t&lt;filtering&gt;false&lt;/filtering&gt;\r\n\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t&lt;exclude&gt;**/*.properties&lt;/exclude&gt;\r\n\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t&lt;/build&gt;\r\n```\r\n\r\nthere are three profile files under `common`: `application-dev.properties`, `application-test.properties` and `application-prod.properties`, then how can I use the key-value of `common` properties file base on profile in `projectA` and `projectB`?","title":"how to get profile value from a jar in spring maven without spring boot","body":"<p>in a traditional spring project(non spring boot) with maven, I have <code>projectA</code> and <code>projectB</code>, they are packaged as <code>war</code>. There is another <code>common</code> which packaged as <code>jar</code>. Both <code>projectA</code> and <code>projectB</code> depends on <code>common</code>.</p>\n<p>I want to define profile in <code>common</code> and use the profile values in <code>projectA</code> and <code>projectB</code>, how can I do that?</p>\n<p>the pom file of <code>common</code> looks like as follows:</p>\n<pre><code>&lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;prod&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;env&gt;prod&lt;/env&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;test&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;env&gt;test&lt;/env&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;dev&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;env&gt;dev&lt;/env&gt;\n            &lt;/properties&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;common&lt;/finalName&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.properties&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.properties&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>there are three profile files under <code>common</code>: <code>application-dev.properties</code>, <code>application-test.properties</code> and <code>application-prod.properties</code>, then how can I use the key-value of <code>common</code> properties file base on profile in <code>projectA</code> and <code>projectB</code>?</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":11354,"reputation":27694,"user_id":21838,"accept_rate":82,"display_name":"Pyrolistical"},"score":2,"creation_date":1270572475,"post_id":2586389,"comment_id":2593921,"body_markdown":"Looking at all previous questions posted by Dan, it seems like he is just posting homework/exam questions word for word.","body":"Looking at all previous questions posted by Dan, it seems like he is just posting homework/exam questions word for word."},{"owner":{"account_id":118831,"reputation":6222,"user_id":310133,"accept_rate":67,"display_name":"Julio"},"score":0,"creation_date":1270572809,"post_id":2586389,"comment_id":2593956,"body_markdown":"surprisingly these are not exam questions or otherwise... only found the site today so thought i&#39;d try and get some things answered whilst still on my mind. Thanks for the replys everyone really helpful in pointing me in the right direction.","body":"surprisingly these are not exam questions or otherwise... only found the site today so thought i&#39;d try and get some things answered whilst still on my mind. Thanks for the replys everyone really helpful in pointing me in the right direction."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1271540589,"post_id":2586389,"comment_id":2677346,"body_markdown":"there has been very, very many questions already.  You&#39;ve found the search box just in case somebody may have asked something similar before?","body":"there has been very, very many questions already.  You&#39;ve found the search box just in case somebody may have asked something similar before?"},{"owner":{"account_id":14974757,"reputation":300,"user_id":10810503,"display_name":"Chryfi"},"score":2,"creation_date":1642549789,"post_id":2586389,"comment_id":125099398,"body_markdown":"Closed for being opinion based? Well, I suppose then I can use interfaces whenever I want to, since it is opinion based and software architecture is also opinion based. Total anarchy here.","body":"Closed for being opinion based? Well, I suppose then I can use interfaces whenever I want to, since it is opinion based and software architecture is also opinion based. Total anarchy here."}],"answers":[{"tags":[],"owner":{"display_name":"user177800"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1270570577,"creation_date":1270570577,"answer_id":2586415,"question_id":2586389,"body_markdown":"Interfaces are used when you need multiple implementations of the same behavior. Here is an example of an interface that objects could implement to show that they all can be serialized to XML.\r\n\r\n    public interface Xmlizable\r\n    {\r\n        public String toXML();\r\n    }\r\n\r\nthen you can just pass around &quot;Xmlizable&quot; interfaces into methods that only care about that one interface.","title":"When should I use an interface in java?","body":"<p>Interfaces are used when you need multiple implementations of the same behavior. Here is an example of an interface that objects could implement to show that they all can be serialized to XML.</p>\n\n<pre><code>public interface Xmlizable\n{\n    public String toXML();\n}\n</code></pre>\n\n<p>then you can just pass around \"Xmlizable\" interfaces into methods that only care about that one interface.</p>\n"},{"tags":[],"owner":{"account_id":72061,"reputation":1386,"user_id":208180,"display_name":"coolest_head"},"down_vote_count":2,"up_vote_count":99,"is_accepted":false,"score":97,"last_activity_date":1270570973,"creation_date":1270570973,"answer_id":2586469,"question_id":2586389,"body_markdown":"A good place to look at would be the collections framework.\r\n\r\n\r\n    java.util.List //interface\r\n    \r\n    java.util.ArrayList //Concrete class\r\n    java.util.LinkedList //Concrete class\r\n\r\nSo you can write code like this:\r\n\r\n    List l = new ArrayList();\r\n    \r\n    l.add(..)\r\n    //do something else.\r\n\r\nIf in future you want to change the implementation with say `LinkedList` or you own `AwesomeList which implements List` interface, all you have to do is change the very first line to:\r\n\r\n    List l = new MyAwesomeList();\r\n    or\r\n    List l = new LinkedList();\r\n\r\nThe rest of the code would follow through.\r\n\r\n\r\n","title":"When should I use an interface in java?","body":"<p>A good place to look at would be the collections framework.</p>\n\n<pre><code>java.util.List //interface\n\njava.util.ArrayList //Concrete class\njava.util.LinkedList //Concrete class\n</code></pre>\n\n<p>So you can write code like this:</p>\n\n<pre><code>List l = new ArrayList();\n\nl.add(..)\n//do something else.\n</code></pre>\n\n<p>If in future you want to change the implementation with say <code>LinkedList</code> or you own <code>AwesomeList which implements List</code> interface, all you have to do is change the very first line to:</p>\n\n<pre><code>List l = new MyAwesomeList();\nor\nList l = new LinkedList();\n</code></pre>\n\n<p>The rest of the code would follow through.</p>\n"},{"tags":[],"owner":{"account_id":19015,"reputation":16919,"user_id":44124,"accept_rate":84,"display_name":"Kannan Ekanath"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1270571086,"creation_date":1270571086,"answer_id":2586493,"question_id":2586389,"body_markdown":"Have a look at JDK collection tutorial at [link text][1]. Think about Collections. What comes to your mind? It could be ordered or it may not be ordered and it may have duplicates or not.\r\n\r\nSo Collection is an interface with List (ordered) and Set (unordered) as sub interfaces. Now there are many questions with Lists, should it be synchronised/or not, should it be a linked list or not etc. Each &quot;behaviour&quot; will have its own interfaces/abstract classes.\r\n\r\nAbstract classes are needed when you want to specify &quot;some&quot; behaviour in collections. For example all collections (sets/lists etc) can have a &quot;toString&quot; representation which is just iterate over the elements (ordered/or not) and stringify them. That behaviour can be present in &quot;AbstractCollection&quot; etc.\r\n\r\nIf you follow the hierarchy of JDK collections, it is an excellent place to learn about interfaces and abstract classes :)\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/collections/","title":"When should I use an interface in java?","body":"<p>Have a look at JDK collection tutorial at <a href=\"http://java.sun.com/docs/books/tutorial/collections/\" rel=\"nofollow noreferrer\">link text</a>. Think about Collections. What comes to your mind? It could be ordered or it may not be ordered and it may have duplicates or not.</p>\n\n<p>So Collection is an interface with List (ordered) and Set (unordered) as sub interfaces. Now there are many questions with Lists, should it be synchronised/or not, should it be a linked list or not etc. Each \"behaviour\" will have its own interfaces/abstract classes.</p>\n\n<p>Abstract classes are needed when you want to specify \"some\" behaviour in collections. For example all collections (sets/lists etc) can have a \"toString\" representation which is just iterate over the elements (ordered/or not) and stringify them. That behaviour can be present in \"AbstractCollection\" etc.</p>\n\n<p>If you follow the hierarchy of JDK collections, it is an excellent place to learn about interfaces and abstract classes :)</p>\n"},{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1270571469,"creation_date":1270571469,"answer_id":2586536,"question_id":2586389,"body_markdown":"Try to understand [Strategy Design Pattern][1]\r\n\r\n\r\n  [1]: http://sourcemaking.com/design_patterns/strategy/java/1","title":"When should I use an interface in java?","body":"<p>Try to understand <a href=\"http://sourcemaking.com/design_patterns/strategy/java/1\" rel=\"nofollow noreferrer\">Strategy Design Pattern</a></p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088960,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1700561460,"creation_date":1270571809,"answer_id":2586560,"question_id":2586389,"body_markdown":"Use interfaces to define an application programming contract (blueprint, interface) which &quot;3rd-party&quot; vendors have to fully adhere and implement. This way the end users can just code against the API contract and easily switch of the concrete implementation &quot;under the hoods&quot; without changing the code.\r\n\r\nThe [JDBC API][1] is an excellent example. It exists of almost only interfaces. The concrete implementations are provided as &quot;JDBC drivers&quot;. This enables you to write all the JDBC code independent of the database (DB) vendor. You can just change the JDBC driver without changing any line of Java code (except of any hard coded DB-specific SQL code) whenever you&#39;d like to switch of DB vendor.\r\n\r\nAnother example is the [Jakarta EE API][2], it also consists of pretty much interfaces and abstract classes. The concrete implementations are provided as &quot;[Jakarta EE application servers][3]&quot; such as WildFly, GlassFish, Liberty, TomEE, etc. This enables you to deploy the web application archive (WAR) to whatever application server you want without changing any line of Java code  (except of any server-specific XML configuration files) whenever you&#39;d like to switch of runtime.\r\n\r\n### See also:\r\n\r\n- https://stackoverflow.com/questions/7550612/in-simplest-terms-what-is-a-factory/7550752#7550752\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/package-summary.html\r\n  [2]: https://jakarta.ee/specifications/platform/10/apidocs/\r\n  [3]: https://jakarta.ee/compatibility/","title":"When should I use an interface in java?","body":"<p>Use interfaces to define an application programming contract (blueprint, interface) which &quot;3rd-party&quot; vendors have to fully adhere and implement. This way the end users can just code against the API contract and easily switch of the concrete implementation &quot;under the hoods&quot; without changing the code.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/package-summary.html\" rel=\"nofollow noreferrer\">JDBC API</a> is an excellent example. It exists of almost only interfaces. The concrete implementations are provided as &quot;JDBC drivers&quot;. This enables you to write all the JDBC code independent of the database (DB) vendor. You can just change the JDBC driver without changing any line of Java code (except of any hard coded DB-specific SQL code) whenever you'd like to switch of DB vendor.</p>\n<p>Another example is the <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/\" rel=\"nofollow noreferrer\">Jakarta EE API</a>, it also consists of pretty much interfaces and abstract classes. The concrete implementations are provided as &quot;<a href=\"https://jakarta.ee/compatibility/\" rel=\"nofollow noreferrer\">Jakarta EE application servers</a>&quot; such as WildFly, GlassFish, Liberty, TomEE, etc. This enables you to deploy the web application archive (WAR) to whatever application server you want without changing any line of Java code  (except of any server-specific XML configuration files) whenever you'd like to switch of runtime.</p>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/7550612/in-simplest-terms-what-is-a-factory/7550752#7550752\">In simplest terms, what is a factory?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1270572821,"creation_date":1270572821,"answer_id":2586669,"question_id":2586389,"body_markdown":"Basically, you can choose between interfaces and abstract classes when you need to &quot;leave out&quot; some implementation details. The interface is usually the better choice, as client classes can implement any amount of interfaces, but they can only one have one superclass (&quot;inheritance is a scarce resource&quot;, as they put it).\r\n\r\nWhy would you want either an abstract class or an interface? Because sometimes, when you write an algorithm you don&#39;t care *how* a specific sub-step of it is done, just *that it is done* according to some kind of contract. An example would be the Collections API, with *List* being an interface - usually, when you use a `List`, you don&#39;t really care if it&#39;s saving stuff in an array, or in a linked list of nodes, or in some other kind of way. As long as it stores the stuff you put in it in the order you put them there, you&#39;re happy.\r\n\r\nThen we have `AbstractList`: An abstract class implementing `List`, which provides implementation of almost everything a fully-fledged `List` needs - to create your own `List` implementation, all you have to do is extend `AbstractList` and fill in a few methods. This is a prime example of when an abstract class is a good choice - when you want to provide an almost-complete implementation of something, which only is lacking a few gaps which needs to be filled in by the client code.\r\n\r\n**Hint:** If you make an abstract class containing only abstract methods, you should probably make an interface of it.","title":"When should I use an interface in java?","body":"<p>Basically, you can choose between interfaces and abstract classes when you need to \"leave out\" some implementation details. The interface is usually the better choice, as client classes can implement any amount of interfaces, but they can only one have one superclass (\"inheritance is a scarce resource\", as they put it).</p>\n\n<p>Why would you want either an abstract class or an interface? Because sometimes, when you write an algorithm you don't care <em>how</em> a specific sub-step of it is done, just <em>that it is done</em> according to some kind of contract. An example would be the Collections API, with <em>List</em> being an interface - usually, when you use a <code>List</code>, you don't really care if it's saving stuff in an array, or in a linked list of nodes, or in some other kind of way. As long as it stores the stuff you put in it in the order you put them there, you're happy.</p>\n\n<p>Then we have <code>AbstractList</code>: An abstract class implementing <code>List</code>, which provides implementation of almost everything a fully-fledged <code>List</code> needs - to create your own <code>List</code> implementation, all you have to do is extend <code>AbstractList</code> and fill in a few methods. This is a prime example of when an abstract class is a good choice - when you want to provide an almost-complete implementation of something, which only is lacking a few gaps which needs to be filled in by the client code.</p>\n\n<p><strong>Hint:</strong> If you make an abstract class containing only abstract methods, you should probably make an interface of it.</p>\n"},{"tags":[],"owner":{"account_id":109351,"reputation":1467,"user_id":289782,"accept_rate":70,"display_name":"Searles"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1270576373,"creation_date":1270576373,"answer_id":2587089,"question_id":2586389,"body_markdown":"Use interfaces whenever you plan to replace an implementation class by another class at some point of development.\r\n\r\n\r\nI also would recommend to use interface backends for all classes in inheritance relationships at least in more serious projects: Unfortunately I don&#39;t have the link anymore but a developer of the language Java once said, that including Class-Inheritance was the biggest mistake in designing the language. \r\n\r\nThe arguments are quite good: Using proper design, it is always possible to replace class inheritance by interface inheritance and you gain a lot concerning code maintainance. It is also easier to preserve natural type relations (like e.g. from geometry (&quot;a square is a rectangle&quot;-stuff) than with class inheritance.","title":"When should I use an interface in java?","body":"<p>Use interfaces whenever you plan to replace an implementation class by another class at some point of development.</p>\n\n<p>I also would recommend to use interface backends for all classes in inheritance relationships at least in more serious projects: Unfortunately I don't have the link anymore but a developer of the language Java once said, that including Class-Inheritance was the biggest mistake in designing the language. </p>\n\n<p>The arguments are quite good: Using proper design, it is always possible to replace class inheritance by interface inheritance and you gain a lot concerning code maintainance. It is also easier to preserve natural type relations (like e.g. from geometry (\"a square is a rectangle\"-stuff) than with class inheritance.</p>\n"},{"tags":[],"owner":{"account_id":39605,"reputation":13788,"user_id":114313,"display_name":"Zolt&#225;n Ujhelyi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1271536339,"creation_date":1271536339,"answer_id":2659950,"question_id":2586389,"body_markdown":"A basic principle of OOP is information hiding: hide the implementation details, and show only a description of the basic services to the caller.\r\n\r\nJava has to constructs for this goal: interfaces and abstract classes. You can define an interface, and write your code, that it only depends on the interface by calling the &quot;available methods&quot; defined in it.\r\n\r\nInformation hiding is usable both for reading external classes (external in a sense that it comes outside the module you are writing) - this way you can define what methods you need, and there is no need to infer its concrete implementation type - , or when defining a data type usable outside your classes - a typical example for this is e.g. the Collection API or J2EE, as other already mentioned.\r\n\r\nBoth interfaces and abstract classes provide these details - but there are two major differences: interfaces support multiple inheritance, while abstract classes can hold a base implementation. To maximize their efficiency, when defining an interface, you should also define an abstract class with a meaningful default implementation. If the user of the interface does not need to extend any other class, it can extend this abstract class, otherwise it needs to implement all methods from the interface. On the other hand make sure not to read this abstract class directly, the interface should be enough as abstraction.","title":"When should I use an interface in java?","body":"<p>A basic principle of OOP is information hiding: hide the implementation details, and show only a description of the basic services to the caller.</p>\n\n<p>Java has to constructs for this goal: interfaces and abstract classes. You can define an interface, and write your code, that it only depends on the interface by calling the \"available methods\" defined in it.</p>\n\n<p>Information hiding is usable both for reading external classes (external in a sense that it comes outside the module you are writing) - this way you can define what methods you need, and there is no need to infer its concrete implementation type - , or when defining a data type usable outside your classes - a typical example for this is e.g. the Collection API or J2EE, as other already mentioned.</p>\n\n<p>Both interfaces and abstract classes provide these details - but there are two major differences: interfaces support multiple inheritance, while abstract classes can hold a base implementation. To maximize their efficiency, when defining an interface, you should also define an abstract class with a meaningful default implementation. If the user of the interface does not need to extend any other class, it can extend this abstract class, otherwise it needs to implement all methods from the interface. On the other hand make sure not to read this abstract class directly, the interface should be enough as abstraction.</p>\n"},{"tags":[],"owner":{"account_id":85644,"reputation":54700,"user_id":238639,"display_name":"bakkal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1271536751,"creation_date":1271536751,"answer_id":2659979,"question_id":2586389,"body_markdown":"**Interfaces in Remote communication:**\r\n\r\nInterfaces can also be used to define an agreed upon &quot;protocol&quot; for communicating between different portions of the system, possibly through remote calls. So the interface only defines what can be called, with what parameters, and what will be returned after the call. The client **uses** the interface and the server **implements** the concrete actual code for example.\r\n\r\n**Side Note:**\r\n\r\nIn Java you can only inherent (extend) from one class, but you can implement more than one interface, so sometimes you will have to use interfaces when you need that sort of multiple inheritance and when you decide not to use composition over inheritance.","title":"When should I use an interface in java?","body":"<p><strong>Interfaces in Remote communication:</strong></p>\n\n<p>Interfaces can also be used to define an agreed upon \"protocol\" for communicating between different portions of the system, possibly through remote calls. So the interface only defines what can be called, with what parameters, and what will be returned after the call. The client <strong>uses</strong> the interface and the server <strong>implements</strong> the concrete actual code for example.</p>\n\n<p><strong>Side Note:</strong></p>\n\n<p>In Java you can only inherent (extend) from one class, but you can implement more than one interface, so sometimes you will have to use interfaces when you need that sort of multiple inheritance and when you decide not to use composition over inheritance.</p>\n"},{"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1271538130,"creation_date":1271538130,"answer_id":2660068,"question_id":2586389,"body_markdown":"**This answer is essentially the same as coolest_head&#39;s, just a bit more explicit in conveying the usefulness.**\r\n\r\nAs coolest_head explains, interfaces are useful when you may want to switch around the possible subcomponents of your program in the future. They also allow you to separate concerns of various parts of your program&#39;s structure more easily since with interfaces you can ensure that certain non-related classes etc. just aren&#39;t visible to other parts of the program.\r\n\r\nAs an example, lets assume that you want to read arbitrary data and print it, like so:\r\n\r\n    SomeReader someReader = new SomeReader();\r\n    String data = someReader.readLine();\r\n    System.out.println(data);\r\n\r\nNothing fancy here, right? But, while this example is simple, it&#39;s already tied to the `SomeReader` class which means that all the changes you make to that class must be *propagated* to the class where you&#39;re using the class - especially if you refactor some inner parts! Instead, you want to do this\r\n\r\n    IMyReader reader = new SomeReader();\r\n    System.out.println(reader.readLine());\r\n\r\nYou&#39;re almost there - now the printing code doesn&#39;t care about the specific implementation anymore, only about the parts which are exposed by the interface. This is usually enough because now you can just switch around that one `new` statement and you get new implementations and whatever which still work as expected (*as long as the interface&#39;s contract is respected among the implementing classes!*). This is especially handy when you end up using that one specific object multiple times - here I&#39;m using it just once but really, if you&#39;re working with for example lists, how many operations you usually do the same list?\r\n\r\nSo, to really blow this example out of proportions, here&#39;s what your code may end up looking like\r\n\r\n    public class RowPrinter {\r\n    \r\n    \tprivate final IMyReader reader;\r\n    \r\n    \tpublic RowPrinter(IMyReader reader) {\r\n    \t\tthis.reader = reader;\r\n    \t}\r\n    \r\n    \tpublic void print() {\r\n    \t\tIMyReader reader = getReader();\r\n    \t\tSystem.out.println(reader.readLine());\r\n    \t}\r\n    \r\n    \tprotected IMyReader getReader() {\r\n    \t\treturn reader;\r\n    \t}\r\n    }\r\n\r\nNotice that part with the constructor? That&#39;s [inversion of control][1] and let me just tell you, that&#39;s a cool piece of software engineering right there. I can speak from experience it helps you with a lot of hassle, whether it&#39;s switching from database product to another or making certain parts of code thread safe. Or maybe you just want to add a layer of logging to some class, easily doable with a wrapping [decorator][2] which happens to implement the same interface as the wrapped class. And this is just the beginning.\r\n\r\nInterfaces bring lots of benefits which usually aren&#39;t that obvious from simple examples although the simple examples do get you going properly. While interfaces in Java are a language construct, they&#39;re actually more of a programming paradigm than just a feature of a single language, in some languages emulating interfaces truly is beneficial if you figure out the correct way to do it.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Inversion_of_control\r\n  [2]: http://www.exciton.cs.rice.edu/javaresources/designpatterns/decoratorpattern.htm","title":"When should I use an interface in java?","body":"<p><strong>This answer is essentially the same as coolest_head's, just a bit more explicit in conveying the usefulness.</strong></p>\n\n<p>As coolest_head explains, interfaces are useful when you may want to switch around the possible subcomponents of your program in the future. They also allow you to separate concerns of various parts of your program's structure more easily since with interfaces you can ensure that certain non-related classes etc. just aren't visible to other parts of the program.</p>\n\n<p>As an example, lets assume that you want to read arbitrary data and print it, like so:</p>\n\n<pre><code>SomeReader someReader = new SomeReader();\nString data = someReader.readLine();\nSystem.out.println(data);\n</code></pre>\n\n<p>Nothing fancy here, right? But, while this example is simple, it's already tied to the <code>SomeReader</code> class which means that all the changes you make to that class must be <em>propagated</em> to the class where you're using the class - especially if you refactor some inner parts! Instead, you want to do this</p>\n\n<pre><code>IMyReader reader = new SomeReader();\nSystem.out.println(reader.readLine());\n</code></pre>\n\n<p>You're almost there - now the printing code doesn't care about the specific implementation anymore, only about the parts which are exposed by the interface. This is usually enough because now you can just switch around that one <code>new</code> statement and you get new implementations and whatever which still work as expected (<em>as long as the interface's contract is respected among the implementing classes!</em>). This is especially handy when you end up using that one specific object multiple times - here I'm using it just once but really, if you're working with for example lists, how many operations you usually do the same list?</p>\n\n<p>So, to really blow this example out of proportions, here's what your code may end up looking like</p>\n\n<pre><code>public class RowPrinter {\n\n    private final IMyReader reader;\n\n    public RowPrinter(IMyReader reader) {\n        this.reader = reader;\n    }\n\n    public void print() {\n        IMyReader reader = getReader();\n        System.out.println(reader.readLine());\n    }\n\n    protected IMyReader getReader() {\n        return reader;\n    }\n}\n</code></pre>\n\n<p>Notice that part with the constructor? That's <a href=\"http://en.wikipedia.org/wiki/Inversion_of_control\" rel=\"nofollow noreferrer\">inversion of control</a> and let me just tell you, that's a cool piece of software engineering right there. I can speak from experience it helps you with a lot of hassle, whether it's switching from database product to another or making certain parts of code thread safe. Or maybe you just want to add a layer of logging to some class, easily doable with a wrapping <a href=\"http://www.exciton.cs.rice.edu/javaresources/designpatterns/decoratorpattern.htm\" rel=\"nofollow noreferrer\">decorator</a> which happens to implement the same interface as the wrapped class. And this is just the beginning.</p>\n\n<p>Interfaces bring lots of benefits which usually aren't that obvious from simple examples although the simple examples do get you going properly. While interfaces in Java are a language construct, they're actually more of a programming paradigm than just a feature of a single language, in some languages emulating interfaces truly is beneficial if you figure out the correct way to do it.</p>\n"},{"tags":[],"owner":{"account_id":14630,"reputation":16827,"user_id":30316,"accept_rate":82,"display_name":"eljenso"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1271540154,"creation_date":1271540154,"answer_id":2660169,"question_id":2586389,"body_markdown":"Interfaces are needed where you expect volatility in your program, points at which you anticipate change, points where your design needs to bend.\r\n\r\nImplementation is fragile in this sense: it breaks quite easily. This is why subclassing isn&#39;t always the best solution, just as long-winded methods that implement some complicated behavior all by themselves are generally a bad idea.\r\n\r\nInterfaces are more flexible and can deal with a lot more stress on the design of your program than implementation.\r\n\r\nBy introducing interfaces into your program, you really introduce points of variation at which you can plug in different implementations for that interface. Interfaces&#39; primary purpose is **abstraction**, decoupling the &quot;what&quot; from the &quot;how&quot;.\r\n\r\nOne important rule to keep in mind for safely doing so is the **Liskov Substitution Principle** [[UncleBob][1], [Wikipedia][2]]. While a compiler in a language like Java will make sure that syntactically everything is in order (right number of parameters, types, ...), LSP deals with the *semantics*. In short, LSP says that every implementation of an interface must (also) behave itself correctly to be truly substitutable as described above.\r\n\r\n\r\n  [1]: http://www.objectmentor.com/resources/articles/lsp.pdf\r\n  [2]: http://en.wikipedia.org/wiki/Liskov_substitution_principle","title":"When should I use an interface in java?","body":"<p>Interfaces are needed where you expect volatility in your program, points at which you anticipate change, points where your design needs to bend.</p>\n\n<p>Implementation is fragile in this sense: it breaks quite easily. This is why subclassing isn't always the best solution, just as long-winded methods that implement some complicated behavior all by themselves are generally a bad idea.</p>\n\n<p>Interfaces are more flexible and can deal with a lot more stress on the design of your program than implementation.</p>\n\n<p>By introducing interfaces into your program, you really introduce points of variation at which you can plug in different implementations for that interface. Interfaces' primary purpose is <strong>abstraction</strong>, decoupling the \"what\" from the \"how\".</p>\n\n<p>One important rule to keep in mind for safely doing so is the <strong>Liskov Substitution Principle</strong> [<a href=\"http://www.objectmentor.com/resources/articles/lsp.pdf\" rel=\"noreferrer\">UncleBob</a>, <a href=\"http://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"noreferrer\">Wikipedia</a>]. While a compiler in a language like Java will make sure that syntactically everything is in order (right number of parameters, types, ...), LSP deals with the <em>semantics</em>. In short, LSP says that every implementation of an interface must (also) behave itself correctly to be truly substitutable as described above.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1682792012,"creation_date":1457879771,"answer_id":35971530,"question_id":2586389,"body_markdown":"\r\nFrom oracle documentation [page][1]\r\n\r\nConsider using interfaces if :\r\n\r\n&gt;1. You expect that unrelated classes would implement your interface. For example,many unrelated objects can implement Serializable interface.\r\n&gt;2. You want to specify the behaviour of a particular data type, but not concerned about who implements its behaviour.\r\n&gt;3. You want to take advantage of multiple inheritance of type.\r\n\r\nHave a look at related SE questions with code examples which have good answers already.\r\n\r\nhttps://stackoverflow.com/questions/504904/how-are-java-interfaces-actually-used/\r\n\r\nhttps://stackoverflow.com/questions/1913098/what-is-the-difference-between-an-interface-and-abstract-class/33957698#33957698\r\n\r\nhttps://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/34978606#34978606\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html","title":"When should I use an interface in java?","body":"<p>From oracle documentation <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow noreferrer\">page</a></p>\n<p>Consider using interfaces if :</p>\n<blockquote>\n<ol>\n<li>You expect that unrelated classes would implement your interface. For example,many unrelated objects can implement Serializable interface.</li>\n<li>You want to specify the behaviour of a particular data type, but not concerned about who implements its behaviour.</li>\n<li>You want to take advantage of multiple inheritance of type.</li>\n</ol>\n</blockquote>\n<p>Have a look at related SE questions with code examples which have good answers already.</p>\n<p><a href=\"https://stackoverflow.com/questions/504904/how-are-java-interfaces-actually-used/\">Is there more to an interface than having the correct methods</a></p>\n<p><a href=\"https://stackoverflow.com/questions/1913098/what-is-the-difference-between-an-interface-and-abstract-class/33957698#33957698\">What is the difference between an interface and abstract class?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/34978606#34978606\">How should I have explained the difference between an Interface and an Abstract class?</a></p>\n"}],"owner":{"account_id":118831,"reputation":6222,"user_id":310133,"accept_rate":67,"display_name":"Julio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87877,"favorite_count":0,"down_vote_count":4,"up_vote_count":75,"closed_date":1489165863,"accepted_answer_id":2586560,"answer_count":12,"score":71,"last_activity_date":1700561460,"creation_date":1270570379,"question_id":2586389,"body_markdown":"A good example of when exactly to use interfaces specifically in Java would be ideal and any specific rulings that apply.","title":"When should I use an interface in java?","body":"<p>A good example of when exactly to use interfaces specifically in Java would be ideal and any specific rulings that apply.</p>\n"},{"tags":["java","spring","properties","configuration"],"answers":[{"tags":[],"owner":{"account_id":29956061,"reputation":1,"user_id":22956925,"display_name":"jjimenezgarcia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700561243,"creation_date":1700561099,"answer_id":77521913,"question_id":77521515,"body_markdown":"You can create a &quot;Properties&quot; class. Something similar to the following:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;ws.remote&quot;) //notice the prefix\r\n    public class Properties {\r\n    \r\n      private String remoteServiceUrl;\r\n      private String wsAction;\r\n      // ...\r\n      // keep going, and keep the literal names of the properties file\r\n\r\n      public void setRemoteServiceUrl(String remoteServiceUrl) {\r\n        this.remoteServiceUrl = remoteServiceUrl;\r\n      }\r\n    \r\n      public String getRemoteServiceUrl() {\r\n        return this.remoteServiceUrl;\r\n      }\r\n    \r\n      // write all setters and getters!! otherwise you won&#39;t be able to work with them\r\n    }\r\n\r\n\r\nThis way you can work dinamically with the parameters you&#39;d like to use. Notice that you can have multiple classes such as WSProperties, MyProperties, NiceProperties... each of them with one specific prefix.\r\n\r\nIt is similar to what you already have, but this should be enough to work dinamically without problems.\r\n\r\nHope this helps.","title":"finding an elegant way to dynamically get config object","body":"<p>You can create a &quot;Properties&quot; class. Something similar to the following:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;ws.remote&quot;) //notice the prefix\npublic class Properties {\n\n  private String remoteServiceUrl;\n  private String wsAction;\n  // ...\n  // keep going, and keep the literal names of the properties file\n\n  public void setRemoteServiceUrl(String remoteServiceUrl) {\n    this.remoteServiceUrl = remoteServiceUrl;\n  }\n\n  public String getRemoteServiceUrl() {\n    return this.remoteServiceUrl;\n  }\n\n  // write all setters and getters!! otherwise you won't be able to work with them\n}\n</code></pre>\n<p>This way you can work dinamically with the parameters you'd like to use. Notice that you can have multiple classes such as WSProperties, MyProperties, NiceProperties... each of them with one specific prefix.</p>\n<p>It is similar to what you already have, but this should be enough to work dinamically without problems.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":29342541,"reputation":3,"user_id":22481632,"display_name":"hachi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700561243,"creation_date":1700557247,"question_id":77521515,"body_markdown":"i want to manage the config of my app by using Spring Configuration Properties(i dont want my app becoming a spring application). I have lots of config classes, i cant make it to dynamically read config.\r\n\r\n### Here is my config class(more Account class may be added after):\r\n\r\n```\r\npackage org.oval.ddi.ws.config;\r\n\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.PropertySource;\r\n\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;ws.remote&quot;, ignoreInvalidFields = true)\r\n@PropertySource(encoding=&quot;UTF-8&quot;, value = &quot;classpath:DDIConfig.properties&quot;, ignoreResourceNotFound = true)\r\npublic class Account {\r\n    private String remoteServiceUrl;\r\n\r\n    private String wsAction;\r\n    private String logAction;\r\n    private String apiId;\r\n    private String type;\r\n    private int outTime;\r\n    private String wsSpaceNameRemote;\r\n    private String query;\r\n\r\n    private String log;\r\n\r\n    public String getLogAction() {\r\n        return logAction;\r\n    }\r\n\r\n    public void setLogAction(String logAction) {\r\n        this.logAction = logAction;\r\n    }\r\n\r\n    public String getApiId() {\r\n        return apiId;\r\n    }\r\n\r\n    public void setApiId(String apiId) {\r\n        this.apiId = apiId;\r\n    }\r\n\r\n    public String getType() {\r\n        return type;\r\n    }\r\n\r\n    public void setType(String type) {\r\n        this.type = type;\r\n    }\r\n\r\n    public int getOutTime() {\r\n        return outTime;\r\n    }\r\n\r\n    public void setOutTime(int outTime) {\r\n        this.outTime = outTime;\r\n    }\r\n\r\n    public String getWsSpaceNameRemote() {\r\n        return wsSpaceNameRemote;\r\n    }\r\n\r\n    public void setWsSpaceNameRemote(String wsSpaceNameRemote) {\r\n        this.wsSpaceNameRemote = wsSpaceNameRemote;\r\n    }\r\n\r\n    public String getQuery() {\r\n        return query;\r\n    }\r\n\r\n    public void setQuery(String query) {\r\n        this.query = query;\r\n    }\r\n\r\n    public String getLog() {\r\n        return log;\r\n    }\r\n\r\n    public void setLog(String log) {\r\n        this.log = log;\r\n    }\r\n\r\n    public String getRemoteServiceUrl() {\r\n        return remoteServiceUrl;\r\n    }\r\n\r\n    public void setRemoteServiceUrl(String remoteServiceUrl) {\r\n        this.remoteServiceUrl = remoteServiceUrl;\r\n    }\r\n\r\n    public String getWsAction() {\r\n        return wsAction;\r\n    }\r\n\r\n    public void setWsAction(String wsAction) {\r\n        this.wsAction = wsAction;\r\n    }\r\n\r\n    @EnableConfigurationProperties(Account.class)\r\n    static class DDIConfiguration {\r\n    }\r\n    public static void main(String[] args) {\r\n        AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext();\r\n        context.register(DDIConfiguration.class);\r\n        context.refresh();\r\n        Account account = context.getBean(Account.class);\r\n        context.close();\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n### Here is my properties file:\r\n\r\n```\r\nws.remote.remoteServiceUrl=saasasasasas\r\nws.remote.wsAction=assasasasas\r\nws.remote.logAction=asasasasa\r\nws.remote.apiId=asasa\r\nws.remote.type=0\r\nws.remote.outTime=80000\r\nws.remote.wsSpaceNameRemote=assasasasas\r\nws.remote.query=asasasasasas\r\nws.remote.log=asasasasasasas\r\n```\r\n\r\n### I create bean instance like this:\r\n\r\n```\r\nimport org.oval.ddi.ws.config.Account;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n\r\npublic class test{\r\n    @EnableConfigurationProperties(Account.class)\r\n    static class AccountConfiguration {\r\n\r\n    }\r\n    public static void main(String[] args) {\r\n        AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext();\r\n        context.register(AccountConfiguration.class);\r\n        context.refresh();\r\n        Account account = context.getBean(Account.class);\r\n\r\n        context.close();\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nan elegant way to read different config class.","title":"finding an elegant way to dynamically get config object","body":"<p>i want to manage the config of my app by using Spring Configuration Properties(i dont want my app becoming a spring application). I have lots of config classes, i cant make it to dynamically read config.</p>\n<h3>Here is my config class(more Account class may be added after):</h3>\n<pre><code>package org.oval.ddi.ws.config;\n\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\n\n@Configuration\n@ConfigurationProperties(prefix = &quot;ws.remote&quot;, ignoreInvalidFields = true)\n@PropertySource(encoding=&quot;UTF-8&quot;, value = &quot;classpath:DDIConfig.properties&quot;, ignoreResourceNotFound = true)\npublic class Account {\n    private String remoteServiceUrl;\n\n    private String wsAction;\n    private String logAction;\n    private String apiId;\n    private String type;\n    private int outTime;\n    private String wsSpaceNameRemote;\n    private String query;\n\n    private String log;\n\n    public String getLogAction() {\n        return logAction;\n    }\n\n    public void setLogAction(String logAction) {\n        this.logAction = logAction;\n    }\n\n    public String getApiId() {\n        return apiId;\n    }\n\n    public void setApiId(String apiId) {\n        this.apiId = apiId;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n\n    public int getOutTime() {\n        return outTime;\n    }\n\n    public void setOutTime(int outTime) {\n        this.outTime = outTime;\n    }\n\n    public String getWsSpaceNameRemote() {\n        return wsSpaceNameRemote;\n    }\n\n    public void setWsSpaceNameRemote(String wsSpaceNameRemote) {\n        this.wsSpaceNameRemote = wsSpaceNameRemote;\n    }\n\n    public String getQuery() {\n        return query;\n    }\n\n    public void setQuery(String query) {\n        this.query = query;\n    }\n\n    public String getLog() {\n        return log;\n    }\n\n    public void setLog(String log) {\n        this.log = log;\n    }\n\n    public String getRemoteServiceUrl() {\n        return remoteServiceUrl;\n    }\n\n    public void setRemoteServiceUrl(String remoteServiceUrl) {\n        this.remoteServiceUrl = remoteServiceUrl;\n    }\n\n    public String getWsAction() {\n        return wsAction;\n    }\n\n    public void setWsAction(String wsAction) {\n        this.wsAction = wsAction;\n    }\n\n    @EnableConfigurationProperties(Account.class)\n    static class DDIConfiguration {\n    }\n    public static void main(String[] args) {\n        AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext();\n        context.register(DDIConfiguration.class);\n        context.refresh();\n        Account account = context.getBean(Account.class);\n        context.close();\n    }\n\n\n}\n</code></pre>\n<h3>Here is my properties file:</h3>\n<pre><code>ws.remote.remoteServiceUrl=saasasasasas\nws.remote.wsAction=assasasasas\nws.remote.logAction=asasasasa\nws.remote.apiId=asasa\nws.remote.type=0\nws.remote.outTime=80000\nws.remote.wsSpaceNameRemote=assasasasas\nws.remote.query=asasasasasas\nws.remote.log=asasasasasasas\n</code></pre>\n<h3>I create bean instance like this:</h3>\n<pre><code>import org.oval.ddi.ws.config.Account;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\npublic class test{\n    @EnableConfigurationProperties(Account.class)\n    static class AccountConfiguration {\n\n    }\n    public static void main(String[] args) {\n        AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext();\n        context.register(AccountConfiguration.class);\n        context.refresh();\n        Account account = context.getBean(Account.class);\n\n        context.close();\n\n\n    }\n}\n</code></pre>\n<p>an elegant way to read different config class.</p>\n"},{"tags":["javascript","java","encode"],"answers":[{"tags":[],"owner":{"account_id":10605935,"reputation":1,"user_id":7811342,"display_name":"Just passing thru"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1491265578,"creation_date":1491263602,"answer_id":43196160,"question_id":27904638,"body_markdown":"Instead of\r\n\r\n        sb.append(new String(bytes,&quot;UTF-8&quot;));\r\n\r\nTry this\r\n\r\n        sb.append(new String(bytes,&quot;Windows-1251&quot;));","title":"org.apache.commons.codec.DecoderException: Odd number of characters","body":"<p>Instead of</p>\n\n<pre><code>    sb.append(new String(bytes,\"UTF-8\"));\n</code></pre>\n\n<p>Try this</p>\n\n<pre><code>    sb.append(new String(bytes,\"Windows-1251\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2145831,"reputation":611,"user_id":1903460,"display_name":"Abhinav Atul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581077944,"creation_date":1581077944,"answer_id":60113385,"question_id":27904638,"body_markdown":"Use Base64 instead \r\n```\r\nval aes = KeyGenerator.getInstance(&quot;AES&quot;)\r\naes.init(128)\r\nval secretKeySpec = aes.generateKey()\r\nval base64 = Base64.encodeToString(secretKeySpec.encoded, 0)\r\nval bytes = Base64.decode(base64, 0)\r\nSecretKeySpec(bytes, 0, bytes.size, &quot;AES&quot;) == secretKeySpec\r\n```\r\n","title":"org.apache.commons.codec.DecoderException: Odd number of characters","body":"<p>Use Base64 instead </p>\n\n<pre><code>val aes = KeyGenerator.getInstance(\"AES\")\naes.init(128)\nval secretKeySpec = aes.generateKey()\nval base64 = Base64.encodeToString(secretKeySpec.encoded, 0)\nval bytes = Base64.decode(base64, 0)\nSecretKeySpec(bytes, 0, bytes.size, \"AES\") == secretKeySpec\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user13149581"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591673154,"creation_date":1591494221,"answer_id":62239976,"question_id":27904638,"body_markdown":"In the case you mentioned Й is U+0419 and most cyrillic characters start with a leading 0. This apparently means that adding a 0 before odd numbered character arrays before converting would help. \r\n\r\nTesting the javascript seems that this could be safe only for 1 letter long strings: Ѓ(U+0403) returned 403, Ѕ(U+0405) returned 405, but ЃЅ returned 403405 instead of 04030405 or 4030405, which is even worse, becouse it is even and would not trigger the exception and could decode to something completely different.\r\n\r\n[This][1] question dealing with padding with leading zeros may help with the javascript part. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1267283/how-can-i-pad-a-value-with-leading-zeros","title":"org.apache.commons.codec.DecoderException: Odd number of characters","body":"<p>In the case you mentioned Й is U+0419 and most cyrillic characters start with a leading 0. This apparently means that adding a 0 before odd numbered character arrays before converting would help. </p>\n\n<p>Testing the javascript seems that this could be safe only for 1 letter long strings: Ѓ(U+0403) returned 403, Ѕ(U+0405) returned 405, but ЃЅ returned 403405 instead of 04030405 or 4030405, which is even worse, becouse it is even and would not trigger the exception and could decode to something completely different.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1267283/how-can-i-pad-a-value-with-leading-zeros\">This</a> question dealing with padding with leading zeros may help with the javascript part. </p>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679111032,"creation_date":1679111032,"answer_id":75773754,"question_id":27904638,"body_markdown":"Hi you can use Unicode encoding. In your case, char `Й` will be converted to `\\u0419` in the client side. Then in the server side you can use Java like:\r\n\r\n```\r\nimport org.apache.commons.lang.StringEscapeUtils;\r\n\r\n// Russian char = &quot;Й&quot;\r\nString hex = &quot;\\u0419&quot;;\r\nString unescapeJava = StringEscapeUtils.unescapeJava(hex);\r\n\r\nSystem.out.println(&quot;unescapeJava =&gt; &quot; + unescapeJava);\r\n\r\n```\r\n","title":"org.apache.commons.codec.DecoderException: Odd number of characters","body":"<p>Hi you can use Unicode encoding. In your case, char <code>Й</code> will be converted to <code>\\u0419</code> in the client side. Then in the server side you can use Java like:</p>\n<pre><code>import org.apache.commons.lang.StringEscapeUtils;\n\n// Russian char = &quot;Й&quot;\nString hex = &quot;\\u0419&quot;;\nString unescapeJava = StringEscapeUtils.unescapeJava(hex);\n\nSystem.out.println(&quot;unescapeJava =&gt; &quot; + unescapeJava);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6992865,"reputation":147,"user_id":7207406,"display_name":"Leon Kacowicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687307745,"creation_date":1687307745,"answer_id":76519206,"question_id":27904638,"body_markdown":"The problem is in this line:\r\n```\r\nnumber += string.charCodeAt(i).toString(16);\r\n```\r\n\r\nWhen the loop reaches the character &#39;Й&#39;, `string.charCodeAt(i)` returns 1049 in decimal base, but when you convert it to hex (base 16), it becomes &#39;419&#39; and you append that directly. Appending the char code up to 0x80 happens to be correct, but it&#39;s not correct beyond this point.\r\nWhat you want to append in this case is the 2-byte encoding for characters according to the UTF-8 specification. In wikipedia there&#39;s a good summary and a few examples of how to properly encode text in UTF-8: https://en.wikipedia.org/wiki/UTF-8\r\n\r\n\r\nThis link explains how to get a UTF-8 byte array from a string in js: https://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\r\n\r\n","title":"org.apache.commons.codec.DecoderException: Odd number of characters","body":"<p>The problem is in this line:</p>\n<pre><code>number += string.charCodeAt(i).toString(16);\n</code></pre>\n<p>When the loop reaches the character 'Й', <code>string.charCodeAt(i)</code> returns 1049 in decimal base, but when you convert it to hex (base 16), it becomes '419' and you append that directly. Appending the char code up to 0x80 happens to be correct, but it's not correct beyond this point.\nWhat you want to append in this case is the 2-byte encoding for characters according to the UTF-8 specification. In wikipedia there's a good summary and a few examples of how to properly encode text in UTF-8: <a href=\"https://en.wikipedia.org/wiki/UTF-8\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/UTF-8</a></p>\n<p>This link explains how to get a UTF-8 byte array from a string in js: <a href=\"https://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\">How to convert UTF8 string to byte array?</a></p>\n"}],"owner":{"account_id":1639031,"reputation":1075,"user_id":1511843,"accept_rate":60,"display_name":"Rahul P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16042,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":5,"score":19,"last_activity_date":1700561065,"creation_date":1421073999,"question_id":27904638,"body_markdown":"Sending hex string in url parameter and trying to convert it in to string at server side.\r\nConverting user input string by using following javascript encoding code\r\n\r\n```lang-js\r\nfunction encode(string) {\r\n    var number = &quot;&quot;;\r\n    var length = string.trim().length;\r\n    string = string.trim();\r\n    for (var i = 0; i &lt; length; i++) {\r\n        number += string.charCodeAt(i).toString(16);\r\n    }\r\n    return number;\r\n}\r\n```\r\n\r\nNow I&#39;m trying to parse hex string `419` for russian character `Й` in java code as follows\r\n\r\n```lang-java\r\nbyte[] bytes = &quot;&quot;.getBytes();\r\n     \r\ntry {\r\n    bytes = Hex.decodeHex(hex.toCharArray());\r\n    sb.append(new String(bytes,&quot;UTF-8&quot;));\r\n} catch (DecoderException e) {      \r\n    e.printStackTrace(); // Here it gives error &#39;Odd number of characters&#39;\r\n} catch (UnsupportedEncodingException e) {           \r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nbut it gives following error \r\n\r\n    &quot;org.apache.commons.codec.DecoderException: Odd number of characters.&quot; \r\n\r\nHow it can be resolved. As there are many russian character have hex code 3 digit and due to this it is not able to convert it to `.toCharArray()`.","title":"org.apache.commons.codec.DecoderException: Odd number of characters","body":"<p>Sending hex string in url parameter and trying to convert it in to string at server side.\nConverting user input string by using following javascript encoding code</p>\n<pre class=\"lang-js prettyprint-override\"><code>function encode(string) {\n    var number = &quot;&quot;;\n    var length = string.trim().length;\n    string = string.trim();\n    for (var i = 0; i &lt; length; i++) {\n        number += string.charCodeAt(i).toString(16);\n    }\n    return number;\n}\n</code></pre>\n<p>Now I'm trying to parse hex string <code>419</code> for russian character <code>Й</code> in java code as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] bytes = &quot;&quot;.getBytes();\n     \ntry {\n    bytes = Hex.decodeHex(hex.toCharArray());\n    sb.append(new String(bytes,&quot;UTF-8&quot;));\n} catch (DecoderException e) {      \n    e.printStackTrace(); // Here it gives error 'Odd number of characters'\n} catch (UnsupportedEncodingException e) {           \n    e.printStackTrace();\n}\n</code></pre>\n<p>but it gives following error</p>\n<pre><code>&quot;org.apache.commons.codec.DecoderException: Odd number of characters.&quot; \n</code></pre>\n<p>How it can be resolved. As there are many russian character have hex code 3 digit and due to this it is not able to convert it to <code>.toCharArray()</code>.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1422271002,"post_id":28148862,"comment_id":44669396,"body_markdown":"Please show your full pom otherwise it&#39;s impossible to help in any way. Furthermore it would be helpful which maven version do you use? Which version of exec-maven-plugin ? etc.","body":"Please show your full pom otherwise it&#39;s impossible to help in any way. Furthermore it would be helpful which maven version do you use? Which version of exec-maven-plugin ? etc."},{"owner":{"account_id":4182490,"reputation":499,"user_id":3427070,"accept_rate":62,"display_name":"user3427070"},"score":0,"creation_date":1422272227,"post_id":28148862,"comment_id":44669948,"body_markdown":"I&#39;ve updated my question with the pom and Maven version, thank you.","body":"I&#39;ve updated my question with the pom and Maven version, thank you."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1422274895,"post_id":28148862,"comment_id":44671206,"body_markdown":"First try to update [exec-maven-plugin to newest version which is 1.3.2](http://mojo.codehaus.org/exec-maven-plugin/).","body":"First try to update <a href=\"http://mojo.codehaus.org/exec-maven-plugin/\" rel=\"nofollow noreferrer\">exec-maven-plugin to newest version which is 1.3.2</a>."}],"answers":[{"tags":[],"owner":{"account_id":3074783,"reputation":768,"user_id":2604458,"accept_rate":75,"display_name":"Psyx"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1422271065,"creation_date":1422271065,"answer_id":28149081,"question_id":28148862,"body_markdown":"By default, the exec:java uses the &#39;runtime&#39; scope, which will not bring your dependencies set with the &#39;compile&#39; scope.\r\n\r\nYou can use:\r\n\r\n    exec:java -Dexec.classpathScope=&quot;compile&quot;\r\nTo include the compile dependencies (not 100% sure about the -D syntax, but the variable is exec.classpathScope for sure).\r\n\r\nThis should do the trick.\r\nIf you need more info/options, the plugin page has some options listed: http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html","title":"mvn exec:java doesn&#39;t set classpath properly","body":"<p>By default, the exec:java uses the 'runtime' scope, which will not bring your dependencies set with the 'compile' scope.</p>\n\n<p>You can use:</p>\n\n<pre><code>exec:java -Dexec.classpathScope=\"compile\"\n</code></pre>\n\n<p>To include the compile dependencies (not 100% sure about the -D syntax, but the variable is exec.classpathScope for sure).</p>\n\n<p>This should do the trick.\nIf you need more info/options, the plugin page has some options listed: <a href=\"http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html\" rel=\"nofollow\">http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html</a></p>\n"},{"tags":[],"owner":{"account_id":1479530,"reputation":6711,"user_id":1389219,"accept_rate":50,"display_name":"vegemite4me"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1465292657,"creation_date":1461139704,"answer_id":36737595,"question_id":28148862,"body_markdown":"I don&#39;t know about Plexus (I would guess it is a dependency of the Exec Maven Plugin?) , but try running with debugging turned on: `mvn exec:java -X` and it should be more clear that your dependencies are being added to the classpath:\r\n\r\n&lt;!-- language: lang-none--&gt;\r\n\r\n    ....\r\n    [DEBUG] Invoking : com.example.MyApp.main()\r\n    [DEBUG] Plugin Dependencies will be excluded.\r\n    [DEBUG] Project Dependencies will be included.\r\n    [DEBUG] Collected project artifacts [log4j:log4j:jar:1.2.16:compile, commons-lang:commons-lang:jar:2.6:compile]\r\n    [DEBUG] Collected project classpath [C:\\MyProject\\target\\classes]\r\n    [DEBUG] Adding to classpath : file:/C:/MyProject/target/classes/\r\n    [DEBUG] Adding project dependency artifact: log4j to classpath\r\n    [DEBUG] Adding project dependency artifact: commons-lang to classpath\r\n    ....\r\n\r\n\r\nYou should see lots of the &quot;Adding project dependency artifact&quot; messages.","title":"mvn exec:java doesn&#39;t set classpath properly","body":"<p>I don't know about Plexus (I would guess it is a dependency of the Exec Maven Plugin?) , but try running with debugging turned on: <code>mvn exec:java -X</code> and it should be more clear that your dependencies are being added to the classpath:</p>\n\n\n\n<pre><code>....\n[DEBUG] Invoking : com.example.MyApp.main()\n[DEBUG] Plugin Dependencies will be excluded.\n[DEBUG] Project Dependencies will be included.\n[DEBUG] Collected project artifacts [log4j:log4j:jar:1.2.16:compile, commons-lang:commons-lang:jar:2.6:compile]\n[DEBUG] Collected project classpath [C:\\MyProject\\target\\classes]\n[DEBUG] Adding to classpath : file:/C:/MyProject/target/classes/\n[DEBUG] Adding project dependency artifact: log4j to classpath\n[DEBUG] Adding project dependency artifact: commons-lang to classpath\n....\n</code></pre>\n\n<p>You should see lots of the \"Adding project dependency artifact\" messages.</p>\n"},{"tags":[],"owner":{"account_id":235896,"reputation":1860,"user_id":503025,"accept_rate":21,"display_name":"weberjn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700560856,"creation_date":1700560856,"answer_id":77521891,"question_id":28148862,"body_markdown":"configure the classpath in the pom:\r\n\r\n`&lt;argument&gt;-classpath&lt;/argument&gt;`\r\n\r\nhttps://www.mojohaus.org/exec-maven-plugin/examples/example-exec-for-java-programs.html","title":"mvn exec:java doesn&#39;t set classpath properly","body":"<p>configure the classpath in the pom:</p>\n<p><code>&lt;argument&gt;-classpath&lt;/argument&gt;</code></p>\n<p><a href=\"https://www.mojohaus.org/exec-maven-plugin/examples/example-exec-for-java-programs.html\" rel=\"nofollow noreferrer\">https://www.mojohaus.org/exec-maven-plugin/examples/example-exec-for-java-programs.html</a></p>\n"}],"owner":{"account_id":4182490,"reputation":499,"user_id":3427070,"accept_rate":62,"display_name":"user3427070"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4139,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":3,"score":3,"last_activity_date":1700560856,"creation_date":1422270075,"question_id":28148862,"body_markdown":"I&#39;m trying to run a Java program with Maven on the commandline, but it is not putting the correct entries on the classpath. If I run the program in IntelliJ (which has Maven support), the classpath has 80 or so entries including my project&#39;s jar dependencies, the compile program classes, and the resources from src/main/resources. If I run the program with `mvn exec:java`, I only get one entry for `apache-maven-3.0.4/boot/plexus-classworlds-2.4.jar`. There are no references to `plexus` in my entire project tree. Where is this entry coming from and why are the other expected classpath entries not there?\r\n\r\n\r\nMaven version: `Apache Maven 3.0.4 (r1232337; 2012-01-17 00:44:56-0800)`\r\n\r\n\r\npom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;MyProject&lt;/artifactId&gt;\r\n\t&lt;version&gt;SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- lots of dependencies --&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n\t\t\t\t\t&lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n\t\t\t\t\t&lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n\t\t\t\t\t&lt;executable&gt;${env.JAVA_HOME}/bin/javac&lt;/executable&gt;\r\n\t\t\t\t\t&lt;fork&gt;true&lt;/fork&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;descriptors&gt;\r\n\t\t\t\t\t\t&lt;descriptor&gt;${basedir}/src/assembly/assembly.xml&lt;/descriptor&gt;\r\n\t\t\t\t\t&lt;/descriptors&gt;\r\n\t\t\t\t&lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;com.example.MyApp&lt;/mainClass&gt;\r\n\t\t\t\t\t&lt;executable&gt;${env.JAVA_HOME}/bin/java&lt;/executable&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n","title":"mvn exec:java doesn&#39;t set classpath properly","body":"<p>I'm trying to run a Java program with Maven on the commandline, but it is not putting the correct entries on the classpath. If I run the program in IntelliJ (which has Maven support), the classpath has 80 or so entries including my project's jar dependencies, the compile program classes, and the resources from src/main/resources. If I run the program with <code>mvn exec:java</code>, I only get one entry for <code>apache-maven-3.0.4/boot/plexus-classworlds-2.4.jar</code>. There are no references to <code>plexus</code> in my entire project tree. Where is this entry coming from and why are the other expected classpath entries not there?</p>\n\n<p>Maven version: <code>Apache Maven 3.0.4 (r1232337; 2012-01-17 00:44:56-0800)</code></p>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;MyProject&lt;/artifactId&gt;\n&lt;version&gt;SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- lots of dependencies --&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n                &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n                &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                &lt;executable&gt;${env.JAVA_HOME}/bin/javac&lt;/executable&gt;\n                &lt;fork&gt;true&lt;/fork&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;descriptors&gt;\n                    &lt;descriptor&gt;${basedir}/src/assembly/assembly.xml&lt;/descriptor&gt;\n                &lt;/descriptors&gt;\n            &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;com.example.MyApp&lt;/mainClass&gt;\n                &lt;executable&gt;${env.JAVA_HOME}/bin/java&lt;/executable&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"score":0,"creation_date":1700547663,"post_id":77519817,"comment_id":136664841,"body_markdown":"A small thing I have observed here is, that Selenium will be active in the child window and you are directly closing the child window, but Selenium remains in the child window because, through the code level, you didn&#39;t switch to another child window.                      My suggestion is: whatever your activity in each child window complete it first by switching to other windows, and once all your activity is completed that time you close the browser.","body":"A small thing I have observed here is, that Selenium will be active in the child window and you are directly closing the child window, but Selenium remains in the child window because, through the code level, you didn&#39;t switch to another child window.                      My suggestion is: whatever your activity in each child window complete it first by switching to other windows, and once all your activity is completed that time you close the browser."},{"owner":{"account_id":18912906,"reputation":11,"user_id":13798612,"display_name":"bhaws"},"score":0,"creation_date":1700562425,"post_id":77519817,"comment_id":136667178,"body_markdown":"Thanks Bhairu. That is right and I got the issue resolved. I had to ignore the parent window being captured more than once.","body":"Thanks Bhairu. That is right and I got the issue resolved. I had to ignore the parent window being captured more than once."}],"owner":{"account_id":18912906,"reputation":11,"user_id":13798612,"display_name":"bhaws"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700560813,"creation_date":1700530052,"question_id":77519817,"body_markdown":"I am trying to loop through the elements and clicking on each of the links. I need to assert the actual title and the expected title ( from the list). 3 links open in a parent window and 2 in a child window. When I close the child window and come back to parent window to capture the title of the next child window, it captures the parent title as well. And the assertion fails because of that. I wanted to know if there is a way where I can code a way to not capture the parent window title when revisiting for clicking on the next link that would open a child window.\r\nSorry I don&#39;t know how best to put this in words:\r\nOpen the below screenshot explains:\r\n\r\nThanks in Advance for any help and guidance.\r\nBM\r\n\r\nThis is my code\r\n```java\r\nfor (WebElement lElement : navList) {\r\n                links.contains(lElement.getAttribute(&quot;data-label&quot;));\r\n                base.getTestCase().log(Status.INFO, &quot;SC Portal contains link - &quot; + lElement.getAttribute(&quot;data-label&quot;));\r\n                String link = lElement.getText();\r\n                String expectedTitle = links.get(counter);\r\n                lElement.click();\r\n                String actualParentTitle = webDriver.getTitle();\r\n                System.out.println(actualParentTitle + &quot;:&quot; + expectedTitle);\r\n                // Navigating between the tabs to get the page titles\r\n                String parent = webDriver.getWindowHandle();\r\n                Set&lt;String&gt; s = webDriver.getWindowHandles();\r\n                //String expectedTitle = links.get(counter);\r\n                Iterator&lt;String&gt; I1 = s.iterator();\r\n                while (I1.hasNext()) {\r\n                    String child_window = I1.next();\r\n                    if (!parent.equals(child_window)) {\r\n                        webDriver.switchTo().window(child_window);\r\n                        // waitForPageLoad(30);\r\n                        String actualChildTitle = webDriver.switchTo().window(child_window).getTitle();\r\n                        System.out.println(actualChildTitle + &quot;:&quot; + expectedTitle);\r\n                        Assert.assertTrue(actualChildTitle.contains(expectedTitle));\r\n                        webDriver.close();\r\n                        webDriver.switchTo().window(parent);\r\n                    }\r\n```\r\n [![enter image description here](https://i.stack.imgur.com/DdIG7.png)](https://i.stack.imgur.com/DdIG7.png)\r\n\r\nI dont want to capture the ones marked X.","title":"how to not capture a page title within a loop using selenium and Java","body":"<p>I am trying to loop through the elements and clicking on each of the links. I need to assert the actual title and the expected title ( from the list). 3 links open in a parent window and 2 in a child window. When I close the child window and come back to parent window to capture the title of the next child window, it captures the parent title as well. And the assertion fails because of that. I wanted to know if there is a way where I can code a way to not capture the parent window title when revisiting for clicking on the next link that would open a child window.\nSorry I don't know how best to put this in words:\nOpen the below screenshot explains:</p>\n<p>Thanks in Advance for any help and guidance.\nBM</p>\n<p>This is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (WebElement lElement : navList) {\n                links.contains(lElement.getAttribute(&quot;data-label&quot;));\n                base.getTestCase().log(Status.INFO, &quot;SC Portal contains link - &quot; + lElement.getAttribute(&quot;data-label&quot;));\n                String link = lElement.getText();\n                String expectedTitle = links.get(counter);\n                lElement.click();\n                String actualParentTitle = webDriver.getTitle();\n                System.out.println(actualParentTitle + &quot;:&quot; + expectedTitle);\n                // Navigating between the tabs to get the page titles\n                String parent = webDriver.getWindowHandle();\n                Set&lt;String&gt; s = webDriver.getWindowHandles();\n                //String expectedTitle = links.get(counter);\n                Iterator&lt;String&gt; I1 = s.iterator();\n                while (I1.hasNext()) {\n                    String child_window = I1.next();\n                    if (!parent.equals(child_window)) {\n                        webDriver.switchTo().window(child_window);\n                        // waitForPageLoad(30);\n                        String actualChildTitle = webDriver.switchTo().window(child_window).getTitle();\n                        System.out.println(actualChildTitle + &quot;:&quot; + expectedTitle);\n                        Assert.assertTrue(actualChildTitle.contains(expectedTitle));\n                        webDriver.close();\n                        webDriver.switchTo().window(parent);\n                    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DdIG7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DdIG7.png\" alt=\"enter image description here\" /></a></p>\n<p>I dont want to capture the ones marked X.</p>\n"},{"tags":["java","elasticsearch"],"owner":{"account_id":2085211,"reputation":1024,"user_id":1856362,"accept_rate":80,"display_name":"BnJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700560700,"creation_date":1700560700,"question_id":77521867,"body_markdown":"Using `org.elasticsearch.client:transport`, I was able to build index Settings from two Settings like that:\r\n`Settings.builder().put(SETTINGS_1).put(SETTINGS_2).build()`\r\n\r\nIs it possible to do the same with `co.elastic.clients:elasticsearch-java` ? \r\nLike that:\r\n`new IndexSettings.Builder().settings(INDEX_SETTINGS_1).settings(INDEX_SETTINGS_2)`","title":"Build IndexSettings from two IndexSettings","body":"<p>Using <code>org.elasticsearch.client:transport</code>, I was able to build index Settings from two Settings like that:\n<code>Settings.builder().put(SETTINGS_1).put(SETTINGS_2).build()</code></p>\n<p>Is it possible to do the same with <code>co.elastic.clients:elasticsearch-java</code> ?\nLike that:\n<code>new IndexSettings.Builder().settings(INDEX_SETTINGS_1).settings(INDEX_SETTINGS_2)</code></p>\n"},{"tags":["java","websphere","ejb","ibm-mq","message-driven-bean"],"comments":[{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1700493671,"post_id":77513994,"comment_id":136658166,"body_markdown":"Are there any more exceptions &quot;chained&quot; here (i.e. &quot;caused by ...&quot; etc.) that you might be able to share? Are you using the MQ resource adapter bundled with WAS: https://www.ibm.com/support/pages/which-version-websphere-mq-resource-adapter-ra-shipped-websphere-application-server#7dotx_0_0_0 ?","body":"Are there any more exceptions &quot;chained&quot; here (i.e. &quot;caused by ...&quot; etc.) that you might be able to share? Are you using the MQ resource adapter bundled with WAS: <a href=\"https://www.ibm.com/support/pages/which-version-websphere-mq-resource-adapter-ra-shipped-websphere-application-server#7dotx_0_0_0\" rel=\"nofollow noreferrer\">ibm.com/support/pages/&hellip;</a> ?"},{"owner":{"account_id":29925909,"reputation":1,"user_id":22933948,"display_name":"arul sounder"},"score":0,"creation_date":1700547299,"post_id":77513994,"comment_id":136664794,"body_markdown":"Basically,i am new to websphere and ejb.In my project already running in listener port using Websphere mq provider.now ,i want to switch to activation specifications.i just used, already available host,port and Queue manager in listener.IBM Mq is protected by organisation.i can&#39;t able to see any IBM mq logs instead of i see internal tool to see msg count and messages.Can you please give any solution to this","body":"Basically,i am new to websphere and ejb.In my project already running in listener port using Websphere mq provider.now ,i want to switch to activation specifications.i just used, already available host,port and Queue manager in listener.IBM Mq is protected by organisation.i can&#39;t able to see any IBM mq logs instead of i see internal tool to see msg count and messages.Can you please give any solution to this"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1700560791,"post_id":77513994,"comment_id":136666867,"body_markdown":"The queue manager is rejecting your connection `reason &#39;2035&#39; (&#39;MQRC NOT AUTHORIZED&#39;)`.  Check the queue manger logs or ask someone who can.","body":"The queue manager is rejecting your connection <code>reason &#39;2035&#39; (&#39;MQRC NOT AUTHORIZED&#39;)</code>.  Check the queue manger logs or ask someone who can."},{"owner":{"account_id":19145040,"reputation":313,"user_id":13984230,"display_name":"richc"},"score":0,"creation_date":1700729324,"post_id":77513994,"comment_id":136690847,"body_markdown":"Some general guidance on reason code 2035 and how to access the queue manager logs on IBM Developer here &gt; https://developer.ibm.com/learningpaths/ibm-mq-badge/mq-developer-cheat-sheet &lt;","body":"Some general guidance on reason code 2035 and how to access the queue manager logs on IBM Developer here &gt; <a href=\"https://developer.ibm.com/learningpaths/ibm-mq-badge/mq-developer-cheat-sheet\" rel=\"nofollow noreferrer\">developer.ibm.com/learningpaths/ibm-mq-badge/&hellip;</a> &lt;"}],"owner":{"account_id":29925909,"reputation":1,"user_id":22933948,"display_name":"arul sounder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700560656,"creation_date":1700463312,"question_id":77513994,"body_markdown":"&gt; jndi/GG01(com.ibm.mq.connector.inbound.ActivationSpecImpl) and MDB application abc#abcd.jar#MdbListener due to following exception: com.ibm.mq.connector.DetailedResourceAdapterInternalException:MQJCA1011:Failed to allocate JMS connection,, error code:MQJCA1011 An internal error caused an attempt to allocate a connection to fail Linked exception is JcaExceptionBuilder.buildException\r\n\r\n\r\n\r\nI am developing activation specifications at message driven bean using ejb+maven project and i deploying in websphere server in websphere application server not in liberty profile server. i am using ejb-jar.xml and ibm-ejb-jar-bnd.xmi for binding.\r\n\r\nWhile binding i getting this exception.can anyone please provide any example project matching above scenarios or any solution for above exception or any better way to achieve activation specifications \r\n\r\nWebsphere version-9.0.5\r\n\r\nThe exception cause I added below.\r\n```\r\nCaused by: com.ibm.mq.connector.DetailedResourceAdapter InternalException: MQJCA1011: Failed to allocate a JMS connection., error code: MQJCA1011 An internal error cause at com.ibm.mq.connector.services.JCAExceptionBuilder.buildException(JCAExceptionBuilder.java:174) at com.ibm.mq.connector.services.JCAExceptionBuilder.buildException(JCAExceptionBuilder.java:135)\r\nat com.ibm.mq.connector.inbound.ConnectionHandler.allocateConnection(ConnectionHandler.java:394)\r\nat com.ibm.mq.connector.inbound.MessageEndpointDeployment.acquireConnection(MessageEndpoint Deployment.java:295) at com.ibm.mq.connector.inbound.MessageEndpointDeployment.&lt;init&gt;(MessageEndpoint Deployment.java:235) com.ibm.mq.connector.ResourceAdapterImpl.endpointActivation(ResourceAdapterImpl.java:558)\r\nat at com.ibm.ejs.j2c.ActivationSpecWrapperImpl.activate Under RAClassLoaderContext(ActivationSpecWrapperImpl.java:661) at com.ibm.ejs.j2c.ActivationSpecWrapperImpl.activateEndpoint(ActivationSpecWrapperImpl.java: 374)\r\nat com.ibm.ejs.j2c.RAWrapperImpl.activateEndpoint (RAWrapperImpl.java:1122)\r\nat com.ibm.ejs.j2c.RALifeCycleManagerImpl.activateEndpoint\r\n(RALifeCycleManagerImpl.java:1825)\r\nat com.ibm.ejs.container.MessageEndpointFactoryImpl.activateEndpoint (Messag EndpointFactoryImpl.java:152) at com.ibm.ws.runtime.component.EJBContainerImpl.startMDBs(EJBContainerImpl.java:4394)\r\n53 more\r\nCaused by: com.ibm.msg.client.jms.DetailedJMSSecurityException: JMSWMQ2013: The security authentication was not valid that was supplied for queue manager &#39;MOWE with connection mode client and hostname &#39;xxxxxxx(1234) Please check if the supplied username and password are correct on the queue manager to which you are connecting. For further information, review the queue manager error\r\nat com.ibm.msg.client.wmq.common.internal. Reason.reasonToException(Reason.java:531)\r\nat com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:215) at com.ibm.msg.client.wmq.internal.WMQConnection.&lt;init&gt;(WMQConnection.java:424)\r\nat com.ibm.msg.client.wmq.internal.WMQXAConnection.&lt;init&gt;(WMQXAConnection.java:67)\r\nat com.ibm.msg.client.wmq.factories.WMQXAConnectionFactory.createV/ProviderConnection(WMQXAConnectionFactory.java:187) at com.ibm.msg.client.wmq.factories.WMQConnectionFactory.createProviderConnection(WMQConnectionFactory.java:7810)\r\nat com.ibm.msg.client.wmq.factories.WMQXAConnectionFactory.createProviderXAConnection(WMQXAConnectionFactory.java:98) at com.ibm.msg.client.jms.admin.JmsConnectionFactoryImpl.createXAConnectionInternal(JmsConnectionFactoryImpl.java:390)\r\nat com.ibm.mq.jms.MQXAConnectionFactory.createXAConnection(MQXAConnectionFactory.java:104) at com.ibm.mq.connector.inbound.ConnectionHandler.allocateConnection(ConnectionHandler.java:268)\r\n.62 more\r\nCaused by: com.ibm.ma.MOException: JMSCM00001: IBM MQ call failed with compcode &#39;2&#39; (&#39;MQCC FAILED&quot;) reason &#39;2035&#39; (&#39;MQRC NOT AUTHORIZED&#39;)\r\n```","title":"J2CA0138E:The message endpoint activation failed for ActivationSpec jndi/GG01(com.ibm.mq.connector.inbound.ActivationSpecImpl)","body":"<blockquote>\n<p>jndi/GG01(com.ibm.mq.connector.inbound.ActivationSpecImpl) and MDB application abc#abcd.jar#MdbListener due to following exception: com.ibm.mq.connector.DetailedResourceAdapterInternalException:MQJCA1011:Failed to allocate JMS connection,, error code:MQJCA1011 An internal error caused an attempt to allocate a connection to fail Linked exception is JcaExceptionBuilder.buildException</p>\n</blockquote>\n<p>I am developing activation specifications at message driven bean using ejb+maven project and i deploying in websphere server in websphere application server not in liberty profile server. i am using ejb-jar.xml and ibm-ejb-jar-bnd.xmi for binding.</p>\n<p>While binding i getting this exception.can anyone please provide any example project matching above scenarios or any solution for above exception or any better way to achieve activation specifications</p>\n<p>Websphere version-9.0.5</p>\n<p>The exception cause I added below.</p>\n<pre><code>Caused by: com.ibm.mq.connector.DetailedResourceAdapter InternalException: MQJCA1011: Failed to allocate a JMS connection., error code: MQJCA1011 An internal error cause at com.ibm.mq.connector.services.JCAExceptionBuilder.buildException(JCAExceptionBuilder.java:174) at com.ibm.mq.connector.services.JCAExceptionBuilder.buildException(JCAExceptionBuilder.java:135)\nat com.ibm.mq.connector.inbound.ConnectionHandler.allocateConnection(ConnectionHandler.java:394)\nat com.ibm.mq.connector.inbound.MessageEndpointDeployment.acquireConnection(MessageEndpoint Deployment.java:295) at com.ibm.mq.connector.inbound.MessageEndpointDeployment.&lt;init&gt;(MessageEndpoint Deployment.java:235) com.ibm.mq.connector.ResourceAdapterImpl.endpointActivation(ResourceAdapterImpl.java:558)\nat at com.ibm.ejs.j2c.ActivationSpecWrapperImpl.activate Under RAClassLoaderContext(ActivationSpecWrapperImpl.java:661) at com.ibm.ejs.j2c.ActivationSpecWrapperImpl.activateEndpoint(ActivationSpecWrapperImpl.java: 374)\nat com.ibm.ejs.j2c.RAWrapperImpl.activateEndpoint (RAWrapperImpl.java:1122)\nat com.ibm.ejs.j2c.RALifeCycleManagerImpl.activateEndpoint\n(RALifeCycleManagerImpl.java:1825)\nat com.ibm.ejs.container.MessageEndpointFactoryImpl.activateEndpoint (Messag EndpointFactoryImpl.java:152) at com.ibm.ws.runtime.component.EJBContainerImpl.startMDBs(EJBContainerImpl.java:4394)\n53 more\nCaused by: com.ibm.msg.client.jms.DetailedJMSSecurityException: JMSWMQ2013: The security authentication was not valid that was supplied for queue manager 'MOWE with connection mode client and hostname 'xxxxxxx(1234) Please check if the supplied username and password are correct on the queue manager to which you are connecting. For further information, review the queue manager error\nat com.ibm.msg.client.wmq.common.internal. Reason.reasonToException(Reason.java:531)\nat com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:215) at com.ibm.msg.client.wmq.internal.WMQConnection.&lt;init&gt;(WMQConnection.java:424)\nat com.ibm.msg.client.wmq.internal.WMQXAConnection.&lt;init&gt;(WMQXAConnection.java:67)\nat com.ibm.msg.client.wmq.factories.WMQXAConnectionFactory.createV/ProviderConnection(WMQXAConnectionFactory.java:187) at com.ibm.msg.client.wmq.factories.WMQConnectionFactory.createProviderConnection(WMQConnectionFactory.java:7810)\nat com.ibm.msg.client.wmq.factories.WMQXAConnectionFactory.createProviderXAConnection(WMQXAConnectionFactory.java:98) at com.ibm.msg.client.jms.admin.JmsConnectionFactoryImpl.createXAConnectionInternal(JmsConnectionFactoryImpl.java:390)\nat com.ibm.mq.jms.MQXAConnectionFactory.createXAConnection(MQXAConnectionFactory.java:104) at com.ibm.mq.connector.inbound.ConnectionHandler.allocateConnection(ConnectionHandler.java:268)\n.62 more\nCaused by: com.ibm.ma.MOException: JMSCM00001: IBM MQ call failed with compcode '2' ('MQCC FAILED&quot;) reason '2035' ('MQRC NOT AUTHORIZED')\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1700560860,"post_id":77521854,"comment_id":136666886,"body_markdown":"Does this answer your question? [Causes of getting a java.lang.VerifyError](https://stackoverflow.com/questions/100107/causes-of-getting-a-java-lang-verifyerror)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/100107/causes-of-getting-a-java-lang-verifyerror\">Causes of getting a java.lang.VerifyError</a>"}],"owner":{"account_id":19499426,"reputation":45,"user_id":14265892,"display_name":"Anurag"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700560611,"creation_date":1700560611,"question_id":77521854,"body_markdown":"I am facing the below issue when running my jar:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:51)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52)\r\nCaused by: java.lang.VerifyError: Bad return type\r\nException Details:\r\n  Location:\r\n    org/apache/commons/logging/LogFactory.getFactory()Lorg/apache/commons/logging/LogFactory; @7: areturn\r\n  Reason:\r\n    Type &#39;org/apache/commons/logging/LogFactory$1&#39; (current frame, stack[0]) is not assignable to &#39;org/apache/commons/logging/LogFactory&#39; (from method signature)\r\n  Current Frame:\r\n    bci: @7\r\n    flags: { }\r\n    locals: { }\r\n    stack: { &#39;org/apache/commons/logging/LogFactory$1&#39; }\r\n  Bytecode:\r\n    0000000: bb00 0559 b700 06b0\r\n\r\n        at org.springframework.boot.SpringApplication.&lt;clinit&gt;(SpringApplication.java:195)\r\n        at com.philips.asp.container.cv.CvEtlApplication.main(CvEtlApplication.java:20)\r\n        ... 8 more\r\n```\r\n\r\nI am using Java 11 and gradle 4.10.2.\r\nAnd dependency task gives below output: \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s19B9.png","title":"java.lang.VerifyError: Bad return type","body":"<p>I am facing the below issue when running my jar:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:51)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52)\nCaused by: java.lang.VerifyError: Bad return type\nException Details:\n  Location:\n    org/apache/commons/logging/LogFactory.getFactory()Lorg/apache/commons/logging/LogFactory; @7: areturn\n  Reason:\n    Type 'org/apache/commons/logging/LogFactory$1' (current frame, stack[0]) is not assignable to 'org/apache/commons/logging/LogFactory' (from method signature)\n  Current Frame:\n    bci: @7\n    flags: { }\n    locals: { }\n    stack: { 'org/apache/commons/logging/LogFactory$1' }\n  Bytecode:\n    0000000: bb00 0559 b700 06b0\n\n        at org.springframework.boot.SpringApplication.&lt;clinit&gt;(SpringApplication.java:195)\n        at com.philips.asp.container.cv.CvEtlApplication.main(CvEtlApplication.java:20)\n        ... 8 more\n</code></pre>\n<p>I am using Java 11 and gradle 4.10.2.\nAnd dependency task gives below output:\n<a href=\"https://i.stack.imgur.com/s19B9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s19B9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":2,"creation_date":1700479841,"post_id":77515481,"comment_id":136655571,"body_markdown":"You are throwing a checked exception and not showing us the actual exception you are facing.   Can you please paste the actual stack trace.  What I am seeing is the checked exception log...not the actual problem encountered.   I want this        \n            ex.printStackTrace();","body":"You are throwing a checked exception and not showing us the actual exception you are facing.   Can you please paste the actual stack trace.  What I am seeing is the checked exception log...not the actual problem encountered.   I want this                     ex.printStackTrace();"},{"owner":{"account_id":13175119,"reputation":56,"user_id":9516271,"display_name":"Hashila"},"score":0,"creation_date":1700481045,"post_id":77515481,"comment_id":136655771,"body_markdown":"It is not getting anything other than that","body":"It is not getting anything other than that"},{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1700481746,"post_id":77515481,"comment_id":136655898,"body_markdown":"As @JCompetence said you should provide the result of this: ex.printStackTrace();. Just remove the try catch block and provide the output of the proper exception.","body":"As @JCompetence said you should provide the result of this: ex.printStackTrace();. Just remove the try catch block and provide the output of the proper exception."},{"owner":{"account_id":13175119,"reputation":56,"user_id":9516271,"display_name":"Hashila"},"score":0,"creation_date":1700481967,"post_id":77515481,"comment_id":136655946,"body_markdown":"Ok sure, I will share you","body":"Ok sure, I will share you"}],"owner":{"account_id":13175119,"reputation":56,"user_id":9516271,"display_name":"Hashila"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700560479,"creation_date":1700479309,"question_id":77515481,"body_markdown":"I am getting this error when quering from the beloq custom repository method it is not getting the error every time, this is a multi tenant applicaiton this error coming only from a specific tenant. I have checked the data at the database, there are no any missing or errored data can be found.\r\n\r\n\r\n```\r\n2023-11-20 10:49:40,927 ERROR c.p.v.m.ControllerAdvisor [http-nio-5050-exec-4] An error occurred while searching, please try again.\r\ncom.papertrl.vportal.exception.PaperTrlCheckedException: An error occurred while searching, please try again.\r\n        at com.papertrl.vportal.service.impl.ExpenseServiceImpl.searchExpenseListGrid(ExpenseServiceImpl.java:839)\r\n        at com.papertrl.vportal.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$4876cb67.invoke(&lt;generated&gt;)\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n        at com.papertrl.vportal.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9bf24dbd.searchExpenseListGrid(&lt;generated&gt;)\r\n        at com.papertrl.vportal.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$4876cb67.invoke(&lt;generated&gt;)\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)\r\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n        at com.papertrl.vportal.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$e4b0f6ab.searchExpenseListGrid(&lt;generated&gt;)\r\n        at com.papertrl.vportal.controller.ExpenseController.searchExpenseListGrid(ExpenseController.java:53)\r\n        at com.papertrl.vportal.controller.ExpenseController$$FastClassBySpringCGLIB$$3a92de4d.invoke(&lt;generated&gt;)\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)\r\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n        at com.papertrl.vportal.controller.ExpenseController$$EnhancerBySpringCGLIB$$53f8bf11.searchExpenseListGrid(&lt;generated&gt;)\r\n        at sun.reflect.GeneratedMethodAccessor1085.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n        at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n\r\n```\r\n\r\n\r\nthis is my code \r\n\r\n**Service class**\r\n\r\n\r\n```java\r\n@Override\r\npublic ResponseEntity&lt;Object&gt; searchExpenseListGrid(GridSearchDtoV2 gridSearchDtoV2) throws PaperTrlCheckedException {\r\n\ttry {\r\n\t\tGridSearchResultContainerDtoV2 resultContainerDtoV2 = new GridSearchResultContainerDtoV2();\r\n\t\taddRestrictionsToTheDocument(gridSearchDtoV2);\r\n\t\tresultContainerDtoV2.setData(expenseMasterRepository.searchExpense(gridSearchDtoV2));\r\n\t\t     resultContainerDtoV2.setTotalRecords(expenseMasterRepository.getTotalResult(gridSearchDtoV2));\r\n\t\treturn new ResponseEntity(resultContainerDtoV2, HttpStatus.OK);\r\n\t} catch (Exception ex) {\r\n\t\tex.printStackTrace();\r\n\t\tthrow new PaperTrlCheckedException(ExceptionMessages.SEARCH_FAILED);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n**custom repository method**\r\n\r\n\r\n```java\r\n@Override\r\npublic List&lt;ExpenseGridSearchResultDto&gt; searchExpense(GridSearchDtoV2 gridSearchDtoV2) throws ParseException {\r\n\tString sql = &quot;SELECT new com.papertrl.vportal.dto.grid.ExpenseGridSearchResultDto(expense.attachmentId,expense.id, expense.id,expense.reportName,&quot;\r\n                + &quot;expense.createdByName,expense.createdOn,automation.automationName,expense.approvalUserName,expense.approvalGroupName,expense.totalAmount,&quot;\r\n                + &quot;expense.status,expense.startFrom,expense.endDate,expense.exportStatus,expense.approvalUser,expense.approvalGroup, expense.vendorId,&quot; +\r\n                &quot; expense.paymentStatus, expense.balanceAmount, dept.departmentName,expense.paidAmount) &quot;\r\n                + &quot;FROM VpExpenseMst expense LEFT JOIN CommonAutomationMst automation ON automation.id=expense.automationId&quot;\r\n                + &quot; LEFT JOIN UmmApprovalGroup appGroup ON appGroup.id=expense.approvalGroup&quot;\r\n                + &quot; LEFT JOIN CommonDepartment dept ON dept.id=expense.departmentId&quot;\r\n                + &quot; LEFT JOIN VpVendorMst vendor ON vendor.id=expense.vendorId&quot;\r\n                + &quot; WHERE expense.status&lt;&gt;&#39;&quot; + CommonConstants.STATUS_DELETED + &quot;&#39; &quot;\r\n                + &quot; AND (expense.status&lt;&gt;&#39;&quot; + STATUS_DRAFT + &quot;&#39; OR (expense.status=&#39;&quot; + STATUS_DRAFT + &quot;&#39; AND expense.createdBy=:&quot; + PARAM_CREATED_BY_ID + &quot;)) &quot;;\r\n\r\n\tsql = setConditions(gridSearchDtoV2, sql);\r\n\tsql = setOrderBy(gridSearchDtoV2, sql);\r\n\tQuery query = entityManager.createQuery(sql);\r\n\tsetParameters(gridSearchDtoV2, query);\r\n\tquery.setParameter(PARAM_CREATED_BY_ID, SecurityContextHolder.getContext().getAuthentication().getName());\r\n\r\n\tquery.setFirstResult(gridSearchDtoV2.getFirst());\r\n\tquery.setMaxResults(gridSearchDtoV2.getRows());\r\n\treturn query.getResultList();\r\n}\r\n```\r\n\r\n\r\nplease give me solution for this, still I can&#39;t find the route cource of the issue by reading the log.","title":"When getting data from custom repository in Java got this error","body":"<p>I am getting this error when quering from the beloq custom repository method it is not getting the error every time, this is a multi tenant applicaiton this error coming only from a specific tenant. I have checked the data at the database, there are no any missing or errored data can be found.</p>\n<pre><code>2023-11-20 10:49:40,927 ERROR c.p.v.m.ControllerAdvisor [http-nio-5050-exec-4] An error occurred while searching, please try again.\ncom.papertrl.vportal.exception.PaperTrlCheckedException: An error occurred while searching, please try again.\n        at com.papertrl.vportal.service.impl.ExpenseServiceImpl.searchExpenseListGrid(ExpenseServiceImpl.java:839)\n        at com.papertrl.vportal.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$4876cb67.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n        at com.papertrl.vportal.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$9bf24dbd.searchExpenseListGrid(&lt;generated&gt;)\n        at com.papertrl.vportal.service.impl.ExpenseServiceImpl$$FastClassBySpringCGLIB$$4876cb67.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n        at com.papertrl.vportal.service.impl.ExpenseServiceImpl$$EnhancerBySpringCGLIB$$e4b0f6ab.searchExpenseListGrid(&lt;generated&gt;)\n        at com.papertrl.vportal.controller.ExpenseController.searchExpenseListGrid(ExpenseController.java:53)\n        at com.papertrl.vportal.controller.ExpenseController$$FastClassBySpringCGLIB$$3a92de4d.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n        at com.papertrl.vportal.controller.ExpenseController$$EnhancerBySpringCGLIB$$53f8bf11.searchExpenseListGrid(&lt;generated&gt;)\n        at sun.reflect.GeneratedMethodAccessor1085.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n\n</code></pre>\n<p>this is my code</p>\n<p><strong>Service class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic ResponseEntity&lt;Object&gt; searchExpenseListGrid(GridSearchDtoV2 gridSearchDtoV2) throws PaperTrlCheckedException {\n    try {\n        GridSearchResultContainerDtoV2 resultContainerDtoV2 = new GridSearchResultContainerDtoV2();\n        addRestrictionsToTheDocument(gridSearchDtoV2);\n        resultContainerDtoV2.setData(expenseMasterRepository.searchExpense(gridSearchDtoV2));\n             resultContainerDtoV2.setTotalRecords(expenseMasterRepository.getTotalResult(gridSearchDtoV2));\n        return new ResponseEntity(resultContainerDtoV2, HttpStatus.OK);\n    } catch (Exception ex) {\n        ex.printStackTrace();\n        throw new PaperTrlCheckedException(ExceptionMessages.SEARCH_FAILED);\n    }\n}\n</code></pre>\n<p><strong>custom repository method</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic List&lt;ExpenseGridSearchResultDto&gt; searchExpense(GridSearchDtoV2 gridSearchDtoV2) throws ParseException {\n    String sql = &quot;SELECT new com.papertrl.vportal.dto.grid.ExpenseGridSearchResultDto(expense.attachmentId,expense.id, expense.id,expense.reportName,&quot;\n                + &quot;expense.createdByName,expense.createdOn,automation.automationName,expense.approvalUserName,expense.approvalGroupName,expense.totalAmount,&quot;\n                + &quot;expense.status,expense.startFrom,expense.endDate,expense.exportStatus,expense.approvalUser,expense.approvalGroup, expense.vendorId,&quot; +\n                &quot; expense.paymentStatus, expense.balanceAmount, dept.departmentName,expense.paidAmount) &quot;\n                + &quot;FROM VpExpenseMst expense LEFT JOIN CommonAutomationMst automation ON automation.id=expense.automationId&quot;\n                + &quot; LEFT JOIN UmmApprovalGroup appGroup ON appGroup.id=expense.approvalGroup&quot;\n                + &quot; LEFT JOIN CommonDepartment dept ON dept.id=expense.departmentId&quot;\n                + &quot; LEFT JOIN VpVendorMst vendor ON vendor.id=expense.vendorId&quot;\n                + &quot; WHERE expense.status&lt;&gt;'&quot; + CommonConstants.STATUS_DELETED + &quot;' &quot;\n                + &quot; AND (expense.status&lt;&gt;'&quot; + STATUS_DRAFT + &quot;' OR (expense.status='&quot; + STATUS_DRAFT + &quot;' AND expense.createdBy=:&quot; + PARAM_CREATED_BY_ID + &quot;)) &quot;;\n\n    sql = setConditions(gridSearchDtoV2, sql);\n    sql = setOrderBy(gridSearchDtoV2, sql);\n    Query query = entityManager.createQuery(sql);\n    setParameters(gridSearchDtoV2, query);\n    query.setParameter(PARAM_CREATED_BY_ID, SecurityContextHolder.getContext().getAuthentication().getName());\n\n    query.setFirstResult(gridSearchDtoV2.getFirst());\n    query.setMaxResults(gridSearchDtoV2.getRows());\n    return query.getResultList();\n}\n</code></pre>\n<p>please give me solution for this, still I can't find the route cource of the issue by reading the log.</p>\n"},{"tags":["java","multithreading","concurrency","wait"],"answers":[{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":262,"is_accepted":true,"score":262,"last_activity_date":1438970592,"creation_date":1273134176,"answer_id":2779565,"question_id":2779484,"body_markdown":"A `wait()` only makes sense when there is also a `notify()`, so it&#39;s always about communication between threads, and that needs synchronization to work correctly. One could argue that this should be implicit, but that would not really help, for the following reason:\r\n\r\nSemantically, you never just `wait()`. You need some condition to be satsified, and if it is not, you wait until it is. So what you really do is\r\n\r\n    if(!condition){\r\n        wait();\r\n    }\r\n\r\nBut the condition is being set by a separate thread, so in order to have this work correctly you need synchronization.\r\n\r\nA couple more things wrong with it, where just because your thread quit waiting doesn&#39;t mean the condition you are looking for is true: \r\n\r\n* You can get spurious wakeups (meaning that a thread can wake up from waiting without ever having received a notification), or \r\n\r\n* The condition can get set, but a third thread makes the condition false again by the time the waiting thread wakes up (and reacquires the monitor). \r\n\r\nTo deal with these cases what you really need is *always* some variation of this:\r\n\r\n    synchronized(lock){\r\n        while(!condition){\r\n            lock.wait();\r\n        }\r\n    }\r\n\r\nBetter yet, don&#39;t mess with the synchronization primitives at all and work with the abstractions offered in the `java.util.concurrent` packages.","title":"Why must wait() always be in synchronized block","body":"<p>A <code>wait()</code> only makes sense when there is also a <code>notify()</code>, so it's always about communication between threads, and that needs synchronization to work correctly. One could argue that this should be implicit, but that would not really help, for the following reason:</p>\n\n<p>Semantically, you never just <code>wait()</code>. You need some condition to be satsified, and if it is not, you wait until it is. So what you really do is</p>\n\n<pre><code>if(!condition){\n    wait();\n}\n</code></pre>\n\n<p>But the condition is being set by a separate thread, so in order to have this work correctly you need synchronization.</p>\n\n<p>A couple more things wrong with it, where just because your thread quit waiting doesn't mean the condition you are looking for is true: </p>\n\n<ul>\n<li><p>You can get spurious wakeups (meaning that a thread can wake up from waiting without ever having received a notification), or </p></li>\n<li><p>The condition can get set, but a third thread makes the condition false again by the time the waiting thread wakes up (and reacquires the monitor). </p></li>\n</ul>\n\n<p>To deal with these cases what you really need is <em>always</em> some variation of this:</p>\n\n<pre><code>synchronized(lock){\n    while(!condition){\n        lock.wait();\n    }\n}\n</code></pre>\n\n<p>Better yet, don't mess with the synchronization primitives at all and work with the abstractions offered in the <code>java.util.concurrent</code> packages.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":324,"is_accepted":false,"score":324,"last_activity_date":1543156355,"creation_date":1273135403,"answer_id":2779674,"question_id":2779484,"body_markdown":"&gt; ***What is the potential damage if it was possible to invoke `wait()` outside a synchronized block, retaining it&#39;s semantics - suspending the caller thread?***\r\n\r\nLet&#39;s illustrate what issues we would run into if `wait()` could be called outside of a synchronized block with a **concrete example**.\r\n\r\nSuppose we were to implement a blocking queue (I know, there is already one in the API :)\r\n\r\nA first attempt (without synchronization) could look something along the lines below\r\n\r\n    class BlockingQueue {\r\n        Queue&lt;String&gt; buffer = new LinkedList&lt;String&gt;();\r\n        \r\n        public void give(String data) {\r\n            buffer.add(data);\r\n            notify();                   // Since someone may be waiting in take!\r\n        }\r\n        \r\n        public String take() throws InterruptedException {\r\n            while (buffer.isEmpty())    // don&#39;t use &quot;if&quot; due to spurious wakeups.\r\n                wait();\r\n            return buffer.remove();\r\n        }\r\n    }\r\n\r\nThis is what could potentially happen:\r\n\r\n1. A consumer thread calls `take()` and sees that the `buffer.isEmpty()`.\r\n\r\n2. Before the consumer thread goes on to call `wait()`, a producer thread comes along and invokes a full `give()`, that is, `buffer.add(data); notify();`\r\n\r\n3. The consumer thread will now call `wait()` (and *miss* the `notify()` that was just called).\r\n\r\n4. If unlucky, the producer thread won&#39;t produce more `give()` as a result of the fact that the consumer thread never wakes up, and we have a dead-lock.\r\n\r\nOnce you understand the issue, the solution is obvious: Use `synchronized` to make sure `notify` is never called between `isEmpty` and `wait`.\r\n\r\nWithout going into details: This synchronization issue is universal. As Michael Borgwardt points out, wait/notify is all about communication between threads, so you&#39;ll always end up with a race condition similar to the one described above. This is why the &quot;only wait inside synchronized&quot; rule is enforced.\r\n\r\n-------\r\nA paragraph from the [link posted by @Willie](http://coding.derkeiler.com/Archive/Java/comp.lang.java.programmer/2006-01/msg01130.html) summarizes it quite well:\r\n\r\n&gt; You need an absolute guarantee that the waiter and the notifier agree about the state of the predicate. The waiter checks the state of the predicate at some point slightly BEFORE it goes to sleep, but it depends for correctness on the predicate being true WHEN it goes to sleep. There&#39;s a period of vulnerability between those two events, which can break the program.\r\n\r\nThe predicate that the producer and consumer need to agree upon is in the above example `buffer.isEmpty()`. And the agreement is resolved by ensuring that the wait and notify are performed in `synchronized` blocks.\r\n\r\n\r\n----------\r\n\r\nThis post has been rewritten as an article here: [Java: Why wait must be called in a synchronized block](http://programming.guide/java/why-wait-must-be-in-synchronized.html)","title":"Why must wait() always be in synchronized block","body":"<blockquote>\n  <p><strong><em>What is the potential damage if it was possible to invoke <code>wait()</code> outside a synchronized block, retaining it's semantics - suspending the caller thread?</em></strong></p>\n</blockquote>\n\n<p>Let's illustrate what issues we would run into if <code>wait()</code> could be called outside of a synchronized block with a <strong>concrete example</strong>.</p>\n\n<p>Suppose we were to implement a blocking queue (I know, there is already one in the API :)</p>\n\n<p>A first attempt (without synchronization) could look something along the lines below</p>\n\n<pre><code>class BlockingQueue {\n    Queue&lt;String&gt; buffer = new LinkedList&lt;String&gt;();\n\n    public void give(String data) {\n        buffer.add(data);\n        notify();                   // Since someone may be waiting in take!\n    }\n\n    public String take() throws InterruptedException {\n        while (buffer.isEmpty())    // don't use \"if\" due to spurious wakeups.\n            wait();\n        return buffer.remove();\n    }\n}\n</code></pre>\n\n<p>This is what could potentially happen:</p>\n\n<ol>\n<li><p>A consumer thread calls <code>take()</code> and sees that the <code>buffer.isEmpty()</code>.</p></li>\n<li><p>Before the consumer thread goes on to call <code>wait()</code>, a producer thread comes along and invokes a full <code>give()</code>, that is, <code>buffer.add(data); notify();</code></p></li>\n<li><p>The consumer thread will now call <code>wait()</code> (and <em>miss</em> the <code>notify()</code> that was just called).</p></li>\n<li><p>If unlucky, the producer thread won't produce more <code>give()</code> as a result of the fact that the consumer thread never wakes up, and we have a dead-lock.</p></li>\n</ol>\n\n<p>Once you understand the issue, the solution is obvious: Use <code>synchronized</code> to make sure <code>notify</code> is never called between <code>isEmpty</code> and <code>wait</code>.</p>\n\n<p>Without going into details: This synchronization issue is universal. As Michael Borgwardt points out, wait/notify is all about communication between threads, so you'll always end up with a race condition similar to the one described above. This is why the \"only wait inside synchronized\" rule is enforced.</p>\n\n<hr>\n\n<p>A paragraph from the <a href=\"http://coding.derkeiler.com/Archive/Java/comp.lang.java.programmer/2006-01/msg01130.html\" rel=\"noreferrer\">link posted by @Willie</a> summarizes it quite well:</p>\n\n<blockquote>\n  <p>You need an absolute guarantee that the waiter and the notifier agree about the state of the predicate. The waiter checks the state of the predicate at some point slightly BEFORE it goes to sleep, but it depends for correctness on the predicate being true WHEN it goes to sleep. There's a period of vulnerability between those two events, which can break the program.</p>\n</blockquote>\n\n<p>The predicate that the producer and consumer need to agree upon is in the above example <code>buffer.isEmpty()</code>. And the agreement is resolved by ensuring that the wait and notify are performed in <code>synchronized</code> blocks.</p>\n\n<hr>\n\n<p>This post has been rewritten as an article here: <a href=\"http://programming.guide/java/why-wait-must-be-in-synchronized.html\" rel=\"noreferrer\">Java: Why wait must be called in a synchronized block</a></p>\n"},{"tags":[],"owner":{"account_id":2296572,"reputation":12728,"user_id":2017866,"accept_rate":76,"display_name":"Rollerball"},"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1369639847,"creation_date":1369639847,"answer_id":16768351,"question_id":2779484,"body_markdown":"directly from [this][1] java oracle tutorial:\r\n\r\n&gt; When a thread invokes d.wait, it must own the intrinsic lock for d —\r\n&gt; otherwise an error is thrown. Invoking wait inside a synchronized\r\n&gt; method is a simple way to acquire the intrinsic lock.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html","title":"Why must wait() always be in synchronized block","body":"<p>directly from <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html\" rel=\"nofollow\">this</a> java oracle tutorial:</p>\n\n<blockquote>\n  <p>When a thread invokes d.wait, it must own the intrinsic lock for d —\n  otherwise an error is thrown. Invoking wait inside a synchronized\n  method is a simple way to acquire the intrinsic lock.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3172839,"reputation":197,"user_id":2681376,"display_name":"ashoka.devanampriya"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1700560434,"creation_date":1376464862,"answer_id":18225522,"question_id":2779484,"body_markdown":"@Rollerball is right. The `wait()` is called, so that the thread can wait for some condition to occur when this `wait()` call happens, the thread is forced to give up its lock.  \r\nTo give up something, you need to own it first. Thread needs to own the lock first.\r\nHence the need to call it inside a `synchronized` method/block.\r\n\r\nYes, I do agree with all the above answers regarding the potential damages/inconsistencies if you did not check the condition within `synchronized` method/block.  However as @shrini1000 has pointed out, just calling `wait()` within synchronized block will not avert this inconsistency from happening. \r\n\r\n[Here is a nice read..][1]\r\n\r\n\r\n  [1]: https://www.artima.com/insidejvm/ed2/threadsynch.html","title":"Why must wait() always be in synchronized block","body":"<p>@Rollerball is right. The <code>wait()</code> is called, so that the thread can wait for some condition to occur when this <code>wait()</code> call happens, the thread is forced to give up its lock.<br />\nTo give up something, you need to own it first. Thread needs to own the lock first.\nHence the need to call it inside a <code>synchronized</code> method/block.</p>\n<p>Yes, I do agree with all the above answers regarding the potential damages/inconsistencies if you did not check the condition within <code>synchronized</code> method/block.  However as @shrini1000 has pointed out, just calling <code>wait()</code> within synchronized block will not avert this inconsistency from happening.</p>\n<p><a href=\"https://www.artima.com/insidejvm/ed2/threadsynch.html\" rel=\"nofollow noreferrer\">Here is a nice read..</a></p>\n"},{"tags":[],"owner":{"account_id":2289816,"reputation":1222,"user_id":2012947,"accept_rate":94,"display_name":"Marcus"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1435341639,"creation_date":1390923387,"answer_id":21409975,"question_id":2779484,"body_markdown":"This basically has to do with the hardware architecture (i.e. **RAM** and **caches**).\r\n\r\nIf you don&#39;t use `synchronized` together with `wait()` or `notify()`, another thread *could* enter the same block instead of waiting for the monitor to enter it. Moreover, when e.g. accessing an array without a synchronized block, another thread may not see the changement to it...actually another thread *will not* see any changements to it *when* it already has a copy of the array in the x-level cache (a.k.a. 1st/2nd/3rd-level caches) of the thread handling CPU core.\r\n\r\nBut synchronized blocks are only one side of the medal: If you actually access an object within a synchronized context from a non-synchronized context, the object still won&#39;t be synchronized even within a synchronized block, because it holds an own copy of the object in its cache. I wrote about this issues here: https://stackoverflow.com/a/21462631 and https://stackoverflow.com/questions/21458625/when-a-lock-holds-a-non-final-object-can-the-objects-reference-still-be-change\r\n\r\nFurthermore, I&#39;m convinced that the x-level caches are responsible for most non-reproducible runtime errors. That&#39;s because the developers usually don&#39;t learn the low-level stuff, like how CPU&#39;s work or how the memory hierarchy affects the running of applications: http://en.wikipedia.org/wiki/Memory_hierarchy\r\n\r\nIt remains a riddle why programming classes don&#39;t start with memory hierarchy and CPU architecture first. &quot;Hello world&quot; won&#39;t help here. ;)","title":"Why must wait() always be in synchronized block","body":"<p>This basically has to do with the hardware architecture (i.e. <strong>RAM</strong> and <strong>caches</strong>).</p>\n\n<p>If you don't use <code>synchronized</code> together with <code>wait()</code> or <code>notify()</code>, another thread <em>could</em> enter the same block instead of waiting for the monitor to enter it. Moreover, when e.g. accessing an array without a synchronized block, another thread may not see the changement to it...actually another thread <em>will not</em> see any changements to it <em>when</em> it already has a copy of the array in the x-level cache (a.k.a. 1st/2nd/3rd-level caches) of the thread handling CPU core.</p>\n\n<p>But synchronized blocks are only one side of the medal: If you actually access an object within a synchronized context from a non-synchronized context, the object still won't be synchronized even within a synchronized block, because it holds an own copy of the object in its cache. I wrote about this issues here: <a href=\"https://stackoverflow.com/a/21462631\">https://stackoverflow.com/a/21462631</a> and <a href=\"https://stackoverflow.com/questions/21458625/when-a-lock-holds-a-non-final-object-can-the-objects-reference-still-be-change\">When a lock holds a non-final object, can the object&#39;s reference still be changed by another thread?</a></p>\n\n<p>Furthermore, I'm convinced that the x-level caches are responsible for most non-reproducible runtime errors. That's because the developers usually don't learn the low-level stuff, like how CPU's work or how the memory hierarchy affects the running of applications: <a href=\"http://en.wikipedia.org/wiki/Memory_hierarchy\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Memory_hierarchy</a></p>\n\n<p>It remains a riddle why programming classes don't start with memory hierarchy and CPU architecture first. \"Hello world\" won't help here. ;)</p>\n"},{"tags":[],"owner":{"account_id":4432971,"reputation":41,"user_id":3609662,"display_name":"Shay.G"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1468768500,"creation_date":1456496647,"answer_id":35654209,"question_id":2779484,"body_markdown":"The problem it may cause if you do _not_ synchronize before `wait()` is as follows:\r\n\r\n  1. If the 1st thread goes into `makeChangeOnX()` and checks the while condition, and it is `true` (`x.metCondition()` returns `false`, means `x.condition` is `false`) so it will get inside it. Then just before the `wait()` method, another thread goes to `setConditionToTrue()` and sets the `x.condition` to `true` and `notifyAll()`.\r\n  2. Then only after that, the 1st thread will enter his `wait()` method (not affected by the `notifyAll()` that happened few moments before).\r\nIn this case, the 1st thread will stay waiting for another thread to perform `setConditionToTrue()`, but that might not happen again.\r\n\r\n&gt;But if you put `synchronized` before the methods that change the object state, this will not happen.\r\n\r\n\r\n    class A {\r\n    \r\n    \tprivate Object X;\r\n    \t\r\n    \tmakeChangeOnX(){\r\n    \t\twhile (! x.getCondition()){\r\n    \t\t\twait();\r\n    \t\t\t}\r\n    \t\t// Do the change\r\n    \t}\r\n    \t\r\n    \tsetConditionToTrue(){\r\n    \t\tx.condition = true;\t\r\n    \t\tnotifyAll();\r\n    \r\n    \t}\r\n    \tsetConditionToFalse(){\r\n    \t\tx.condition = false;\r\n    \t\tnotifyAll();\r\n    \t}\r\n    \tbool getCondition(){\r\n\t\t    return x.condition;\r\n\t    }\r\n    }","title":"Why must wait() always be in synchronized block","body":"<p>The problem it may cause if you do <em>not</em> synchronize before <code>wait()</code> is as follows:</p>\n\n<ol>\n<li>If the 1st thread goes into <code>makeChangeOnX()</code> and checks the while condition, and it is <code>true</code> (<code>x.metCondition()</code> returns <code>false</code>, means <code>x.condition</code> is <code>false</code>) so it will get inside it. Then just before the <code>wait()</code> method, another thread goes to <code>setConditionToTrue()</code> and sets the <code>x.condition</code> to <code>true</code> and <code>notifyAll()</code>.</li>\n<li>Then only after that, the 1st thread will enter his <code>wait()</code> method (not affected by the <code>notifyAll()</code> that happened few moments before).\nIn this case, the 1st thread will stay waiting for another thread to perform <code>setConditionToTrue()</code>, but that might not happen again.</li>\n</ol>\n\n<blockquote>\n  <p>But if you put <code>synchronized</code> before the methods that change the object state, this will not happen.</p>\n</blockquote>\n\n<pre><code>class A {\n\n    private Object X;\n\n    makeChangeOnX(){\n        while (! x.getCondition()){\n            wait();\n            }\n        // Do the change\n    }\n\n    setConditionToTrue(){\n        x.condition = true; \n        notifyAll();\n\n    }\n    setConditionToFalse(){\n        x.condition = false;\n        notifyAll();\n    }\n    bool getCondition(){\n        return x.condition;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5861851,"reputation":49,"user_id":4617260,"display_name":"lakshman reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626448140,"creation_date":1457598233,"answer_id":35911094,"question_id":2779484,"body_markdown":"When you call `notify()` on an object `t`, Java notifies a particular `t.wait()` method. But, how does Java search and notify a particular `wait` method.\r\n\r\nJava only looks into the synchronized block of code which was locked by object `t`. Java cannot search the whole code to notify a particular `t.wait()`.","title":"Why must wait() always be in synchronized block","body":"<p>When you call <code>notify()</code> on an object <code>t</code>, Java notifies a particular <code>t.wait()</code> method. But, how does Java search and notify a particular <code>wait</code> method.</p>\n<p>Java only looks into the synchronized block of code which was locked by object <code>t</code>. Java cannot search the whole code to notify a particular <code>t.wait()</code>.</p>\n"},{"tags":[],"owner":{"account_id":11827036,"reputation":317,"user_id":8654710,"display_name":"Aavesh Yadav"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1512146878,"creation_date":1512146878,"answer_id":47597822,"question_id":2779484,"body_markdown":"We all know that wait(), notify() and notifyAll() methods are used for inter-threaded \r\ncommunications. To get rid of missed signal and spurious wake up problems, waiting thread \r\nalways waits on some conditions.\r\ne.g.-\r\n\r\n    boolean wasNotified = false;\r\n    while(!wasNotified) {\r\n        wait();\r\n    }\r\n\r\nThen notifying thread sets wasNotified variable to true and notify.\r\n\r\nEvery thread has their local cache so all the changes first get written there and \r\nthen promoted to main memory gradually.\r\n\r\nHad these methods not invoked within synchronized block, the wasNotified variable \r\nwould not be flushed into main memory and would be there in thread&#39;s local cache \r\nso the waiting thread will keep waiting for the signal although it was reset by notifying \r\nthread.\r\n\r\nTo fix these types of problems, these methods are always invoked inside synchronized block \r\nwhich assures that when synchronized block starts then everything will be read from main \r\nmemory and will be flushed into main memory before exiting the synchronized block. \r\n\r\n    synchronized(monitor) {\r\n        boolean wasNotified = false;\r\n        while(!wasNotified) {\r\n            wait();\r\n        }\r\n    }\r\n\r\nThanks, hope it clarifies.\r\n\r\n","title":"Why must wait() always be in synchronized block","body":"<p>We all know that wait(), notify() and notifyAll() methods are used for inter-threaded \ncommunications. To get rid of missed signal and spurious wake up problems, waiting thread \nalways waits on some conditions.\ne.g.-</p>\n\n<pre><code>boolean wasNotified = false;\nwhile(!wasNotified) {\n    wait();\n}\n</code></pre>\n\n<p>Then notifying thread sets wasNotified variable to true and notify.</p>\n\n<p>Every thread has their local cache so all the changes first get written there and \nthen promoted to main memory gradually.</p>\n\n<p>Had these methods not invoked within synchronized block, the wasNotified variable \nwould not be flushed into main memory and would be there in thread's local cache \nso the waiting thread will keep waiting for the signal although it was reset by notifying \nthread.</p>\n\n<p>To fix these types of problems, these methods are always invoked inside synchronized block \nwhich assures that when synchronized block starts then everything will be read from main \nmemory and will be flushed into main memory before exiting the synchronized block. </p>\n\n<pre><code>synchronized(monitor) {\n    boolean wasNotified = false;\n    while(!wasNotified) {\n        wait();\n    }\n}\n</code></pre>\n\n<p>Thanks, hope it clarifies.</p>\n"},{"tags":[],"owner":{"account_id":5448501,"reputation":1780,"user_id":4334162,"display_name":"Arun Raaj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1559546974,"creation_date":1559546974,"answer_id":56422871,"question_id":2779484,"body_markdown":"*as per docs:* \r\n&gt; The current thread must own this object&#39;s monitor. The thread releases\r\n&gt; ownership of this monitor.\r\n\r\n`wait()` method simply means it releases the lock on the object. So the object will be locked only within the synchronized block/method. If thread is outside the sync block means it&#39;s not locked, if it&#39;s not locked then what would you release on the object?","title":"Why must wait() always be in synchronized block","body":"<p><em>as per docs:</em> </p>\n\n<blockquote>\n  <p>The current thread must own this object's monitor. The thread releases\n  ownership of this monitor.</p>\n</blockquote>\n\n<p><code>wait()</code> method simply means it releases the lock on the object. So the object will be locked only within the synchronized block/method. If thread is outside the sync block means it's not locked, if it's not locked then what would you release on the object?</p>\n"},{"tags":[],"owner":{"account_id":7964707,"reputation":420,"user_id":6011410,"display_name":"aditya lath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592763409,"creation_date":1592763409,"answer_id":62502687,"question_id":2779484,"body_markdown":"Thread wait on the **monitoring object** (object used by synchronization block), There can be n number of monitoring object in whole journey of a single thread. If Thread wait outside the synchronization block then there is no monitoring object and also other thread notify to access for the monitoring object, so how would the thread outside the synchronization block would know that it has been notified. This is also one of the reason that wait(), notify() and notifyAll() are in object class rather than thread class.\r\n\r\nBasically the monitoring object is common resource here for all the threads, and monitoring objects can only be available in synchronization block.\r\n\r\n\r\n    class A {\r\n       int a = 0;\r\n      //something......\r\n      public void add() {\r\n       synchronization(this) {\r\n          //this is your monitoring object and thread has to wait to gain lock on **this**\r\n           }\r\n      }","title":"Why must wait() always be in synchronized block","body":"<p>Thread wait on the <strong>monitoring object</strong> (object used by synchronization block), There can be n number of monitoring object in whole journey of a single thread. If Thread wait outside the synchronization block then there is no monitoring object and also other thread notify to access for the monitoring object, so how would the thread outside the synchronization block would know that it has been notified. This is also one of the reason that wait(), notify() and notifyAll() are in object class rather than thread class.</p>\n<p>Basically the monitoring object is common resource here for all the threads, and monitoring objects can only be available in synchronization block.</p>\n<pre><code>class A {\n   int a = 0;\n  //something......\n  public void add() {\n   synchronization(this) {\n      //this is your monitoring object and thread has to wait to gain lock on **this**\n       }\n  }\n</code></pre>\n"}],"owner":{"account_id":53013,"reputation":3590,"user_id":158508,"accept_rate":62,"display_name":"diy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170489,"favorite_count":0,"down_vote_count":1,"up_vote_count":312,"accepted_answer_id":2779565,"answer_count":10,"score":311,"last_activity_date":1700560434,"creation_date":1273133338,"question_id":2779484,"body_markdown":"We all know that in order to invoke [`Object.wait()`][1], this call must be placed in synchronized block, otherwise an [`IllegalMonitorStateException`][2] is thrown. But **what&#39;s the reason for making this restriction?** I know that `wait()` releases the monitor, but why do we need to explicitly acquire the monitor by making particular block synchronized and then release the monitor by calling `wait()`?\r\n\r\nWhat is the potential damage if it was possible to invoke `wait()` outside a synchronized block, retaining it&#39;s semantics - suspending the caller thread?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait%28%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalMonitorStateException.html","title":"Why must wait() always be in synchronized block","body":"<p>We all know that in order to invoke <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait%28%29\" rel=\"noreferrer\"><code>Object.wait()</code></a>, this call must be placed in synchronized block, otherwise an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalMonitorStateException.html\" rel=\"noreferrer\"><code>IllegalMonitorStateException</code></a> is thrown. But <strong>what's the reason for making this restriction?</strong> I know that <code>wait()</code> releases the monitor, but why do we need to explicitly acquire the monitor by making particular block synchronized and then release the monitor by calling <code>wait()</code>?</p>\n\n<p>What is the potential damage if it was possible to invoke <code>wait()</code> outside a synchronized block, retaining it's semantics - suspending the caller thread?</p>\n"},{"tags":["java","android","google-play-services"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1700584646,"post_id":77521825,"comment_id":136671486,"body_markdown":"What is your question? Looks like you just dumped the output from some tool here. Did you see [ask] already?","body":"What is your question? Looks like you just dumped the output from some tool here. Did you see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> already?"},{"owner":{"account_id":29946896,"reputation":1,"user_id":22949982,"display_name":"Ya Sa"},"score":0,"creation_date":1700592797,"post_id":77521825,"comment_id":136672949,"body_markdown":"@Robert My question is not accepting an application from Google Do you have a solution to this message from Google, please?","body":"@Robert My question is not accepting an application from Google Do you have a solution to this message from Google, please?"}],"owner":{"account_id":29946896,"reputation":1,"user_id":22949982,"display_name":"Ya Sa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700560398,"creation_date":1700560398,"question_id":77521825,"body_markdown":"We reviewed your app’s Data safety form in Play Console and found discrepancies between it and how the app collects and shares user data. All apps are required to complete an accurate Data safety form that discloses their data collection and sharing practices - this is required even if your app does not collect any user data.\r\n\r\nWe detected user data transmitted off device that you have not disclosed in your app’s Data safety form as user data collected.\r\n\r\nYou must ensure that your app’s Data safety section accurately reflects your app’s data collection, sharing, and handling practices. This includes data collected and handled through any third-party libraries or SDKs used in your app. When available, we’ve included details on SDKs that contain code similar to the code in your APK that may be sending user data off device. You can check if your app uses any of these SDKs, but note that this list of SDKs may not be exhaustive. You must review and account for all data collected and shared by your app.\r\n\r\nIssue details\r\n\r\nWe found an issue in the following area(s):\r\n\r\nVersion code 1: Policy Declaration - Data Safety Section: Device Or Other IDs Data Type - Device Or Other IDs (some common examples may include Advertising ID, Android ID, IMEI, BSSID, MAC address), Possible SDKs: com.applovin:applovin-sdk\r\n\r\n[enter image description here](https://i.stack.imgur.com/Y9lcJ.png)\r\n","title":"Version code 1: Policy Declaration - Data Safety Section","body":"<p>We reviewed your app’s Data safety form in Play Console and found discrepancies between it and how the app collects and shares user data. All apps are required to complete an accurate Data safety form that discloses their data collection and sharing practices - this is required even if your app does not collect any user data.</p>\n<p>We detected user data transmitted off device that you have not disclosed in your app’s Data safety form as user data collected.</p>\n<p>You must ensure that your app’s Data safety section accurately reflects your app’s data collection, sharing, and handling practices. This includes data collected and handled through any third-party libraries or SDKs used in your app. When available, we’ve included details on SDKs that contain code similar to the code in your APK that may be sending user data off device. You can check if your app uses any of these SDKs, but note that this list of SDKs may not be exhaustive. You must review and account for all data collected and shared by your app.</p>\n<p>Issue details</p>\n<p>We found an issue in the following area(s):</p>\n<p>Version code 1: Policy Declaration - Data Safety Section: Device Or Other IDs Data Type - Device Or Other IDs (some common examples may include Advertising ID, Android ID, IMEI, BSSID, MAC address), Possible SDKs: com.applovin:applovin-sdk</p>\n<p><a href=\"https://i.stack.imgur.com/Y9lcJ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","android-studio","gradle","android-buildconfig"],"answers":[{"tags":[],"owner":{"account_id":3641070,"reputation":7173,"user_id":3035127,"display_name":"fattire"},"down_vote_count":0,"up_vote_count":110,"is_accepted":false,"score":110,"last_activity_date":1670465615,"creation_date":1669843400,"answer_id":74634322,"question_id":74634321,"body_markdown":"Answering my own question -- there *is* a quick solution.  Try adding the following line to `gradle.properties`, and the problem should hopefully stop bothering you (for now):\r\n\r\n    android.defaults.buildfeatures.buildconfig=true\r\n\r\nOr, per @Scott_AGP&#39;s answer, it may be better to add this to `build.gradle` instead of changing `gradle.properties`:\r\n\r\n    android {\r\n        buildFeatures {\r\n            buildConfig = true\r\n        }\r\n    }\r\n\r\n\r\nThis issue is due to the deprecation of `buildConfigField` (from android.packageBuildConfig) as described [in this commit][1].\r\n\r\n**UPDATE 12/12/22:**\r\n\r\nPer a note from [Roar Gr&#248;nmo][3] below, there is a newer way to sneak the timestamp into the `BuildConfig.java` file [than the one I suggested back in 2014.][2]\r\n\r\nTo use this newer method, first delete any lines in your current `build.gradle` (or `build.gradle.kts`) file that looks like:\r\n\r\n    buildConfigField(&quot;String&quot;, &quot;BUILD_TIME&quot;, &quot;\\&quot;&quot; + System.currentTimeMillis().toString() + &quot;\\&quot;&quot;)\r\n\r\nInstead, first add the following to the top of your `build.gradle.kts`:\r\n\r\n    import com.android.build.api.variant.BuildConfigField\r\n\r\nand outside of the `android { ... }` part of `build.config.kts` add this:\r\n\r\n    androidComponents {\r\n        onVariants {\r\n           it.buildConfigFields.put(\r\n                &quot;BUILD_TIME&quot;, BuildConfigField(\r\n                    &quot;String&quot;, &quot;\\&quot;&quot; + System.currentTimeMillis().toString() + &quot;\\&quot;&quot;, &quot;build timestamp&quot;\r\n                )\r\n            )\r\n        }\r\n    }\r\n\r\nYou shouldn&#39;t have to make any new changes to your main codebase-- the timestamp can still be accessed in Kotlin like this:\r\n\r\n    private val buildDate = Date(BuildConfig.BUILD_TIME.toLong())\r\n    Log.i(&quot;MyProgram&quot;, &quot;This .apk was built on ${buildDate.toString()}&quot;);\r\n\r\n\r\nThat&#39;s it!  Note this still requires the change to `gradle.properties` described above or you will see an **Accessing value buildConfigFields in variant ____ has no effect as the feature buildConfig is disabled.** warning.\r\n\r\nThere may still be a better way to do this without using `BuildConfigField`, but if so, I don&#39;t know it.  If anyone has a more permanent fix, please let me (us) know.\r\n\r\n  [1]: https://android.googlesource.com/platform/tools/base/+/370c706fb6553dc5952e10323a81f2b195405c3f%5E%21/\r\n  [2]: https://stackoverflow.com/questions/3540739/how-to-programmatically-read-the-date-when-my-android-apk-was-built/22649533#22649533\r\n  [3]: https://stackoverflow.com/users/4475206/roar-gr%C3%B8nmo","title":"Fixing the &quot;Build Type contains custom BuildConfig fields, but the feature is disabled&quot; error w/ buildConfigField","body":"<p>Answering my own question -- there <em>is</em> a quick solution.  Try adding the following line to <code>gradle.properties</code>, and the problem should hopefully stop bothering you (for now):</p>\n<pre><code>android.defaults.buildfeatures.buildconfig=true\n</code></pre>\n<p>Or, per @Scott_AGP's answer, it may be better to add this to <code>build.gradle</code> instead of changing <code>gradle.properties</code>:</p>\n<pre><code>android {\n    buildFeatures {\n        buildConfig = true\n    }\n}\n</code></pre>\n<p>This issue is due to the deprecation of <code>buildConfigField</code> (from android.packageBuildConfig) as described <a href=\"https://android.googlesource.com/platform/tools/base/+/370c706fb6553dc5952e10323a81f2b195405c3f%5E%21/\" rel=\"noreferrer\">in this commit</a>.</p>\n<p><strong>UPDATE 12/12/22:</strong></p>\n<p>Per a note from <a href=\"https://stackoverflow.com/users/4475206/roar-gr%C3%B8nmo\">Roar Grønmo</a> below, there is a newer way to sneak the timestamp into the <code>BuildConfig.java</code> file <a href=\"https://stackoverflow.com/questions/3540739/how-to-programmatically-read-the-date-when-my-android-apk-was-built/22649533#22649533\">than the one I suggested back in 2014.</a></p>\n<p>To use this newer method, first delete any lines in your current <code>build.gradle</code> (or <code>build.gradle.kts</code>) file that looks like:</p>\n<pre><code>buildConfigField(&quot;String&quot;, &quot;BUILD_TIME&quot;, &quot;\\&quot;&quot; + System.currentTimeMillis().toString() + &quot;\\&quot;&quot;)\n</code></pre>\n<p>Instead, first add the following to the top of your <code>build.gradle.kts</code>:</p>\n<pre><code>import com.android.build.api.variant.BuildConfigField\n</code></pre>\n<p>and outside of the <code>android { ... }</code> part of <code>build.config.kts</code> add this:</p>\n<pre><code>androidComponents {\n    onVariants {\n       it.buildConfigFields.put(\n            &quot;BUILD_TIME&quot;, BuildConfigField(\n                &quot;String&quot;, &quot;\\&quot;&quot; + System.currentTimeMillis().toString() + &quot;\\&quot;&quot;, &quot;build timestamp&quot;\n            )\n        )\n    }\n}\n</code></pre>\n<p>You shouldn't have to make any new changes to your main codebase-- the timestamp can still be accessed in Kotlin like this:</p>\n<pre><code>private val buildDate = Date(BuildConfig.BUILD_TIME.toLong())\nLog.i(&quot;MyProgram&quot;, &quot;This .apk was built on ${buildDate.toString()}&quot;);\n</code></pre>\n<p>That's it!  Note this still requires the change to <code>gradle.properties</code> described above or you will see an <strong>Accessing value buildConfigFields in variant ____ has no effect as the feature buildConfig is disabled.</strong> warning.</p>\n<p>There may still be a better way to do this without using <code>BuildConfigField</code>, but if so, I don't know it.  If anyone has a more permanent fix, please let me (us) know.</p>\n"},{"tags":[],"owner":{"account_id":9957379,"reputation":121,"user_id":7367757,"display_name":"SarathEXP "},"down_vote_count":5,"up_vote_count":13,"is_accepted":false,"score":8,"last_activity_date":1670136319,"creation_date":1670136319,"answer_id":74673405,"question_id":74634321,"body_markdown":"adding `android.defaults.buildfeatures.buildconfig=true` to your `gradle.properties` would fix this.","title":"Fixing the &quot;Build Type contains custom BuildConfig fields, but the feature is disabled&quot; error w/ buildConfigField","body":"<p>adding <code>android.defaults.buildfeatures.buildconfig=true</code> to your <code>gradle.properties</code> would fix this.</p>\n"},{"tags":[],"owner":{"account_id":4119496,"reputation":756,"user_id":3380260,"display_name":"Scott_AGP"},"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1670263069,"creation_date":1670262924,"answer_id":74692390,"question_id":74634321,"body_markdown":"Avoid adding `android.defaults.buildfeatures.buildconfig=true` to your `gradle.properties` file because that property is [deprecated in AGP 8.0 and is scheduled to be removed in AGP 9.0](https://cs.android.com/android-studio/platform/tools/base/+/0bc1c23297760643b03e8cfd8acc52c007a99cd6).\r\n\r\nInstead, add the following to the per-module `build.gradle` file for each module using `BuildConfig`:\r\n\r\n```\r\nandroid {\r\n    buildFeatures {\r\n        buildConfig = true\r\n    }\r\n}\r\n```","title":"Fixing the &quot;Build Type contains custom BuildConfig fields, but the feature is disabled&quot; error w/ buildConfigField","body":"<p>Avoid adding <code>android.defaults.buildfeatures.buildconfig=true</code> to your <code>gradle.properties</code> file because that property is <a href=\"https://cs.android.com/android-studio/platform/tools/base/+/0bc1c23297760643b03e8cfd8acc52c007a99cd6\" rel=\"noreferrer\">deprecated in AGP 8.0 and is scheduled to be removed in AGP 9.0</a>.</p>\n<p>Instead, add the following to the per-module <code>build.gradle</code> file for each module using <code>BuildConfig</code>:</p>\n<pre><code>android {\n    buildFeatures {\n        buildConfig = true\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24575673,"reputation":49,"user_id":18481510,"display_name":"kdan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1689752553,"creation_date":1689751978,"answer_id":76718915,"question_id":74634321,"body_markdown":"add these lines to your gradle.properties:\r\n\r\n    android.buildConfig=true\r\n    API_KEY=0000\r\n\r\nand these to build.gradle(module):\r\n\r\n    buildFeatures {\r\n            buildConfig = true\r\n        }","title":"Fixing the &quot;Build Type contains custom BuildConfig fields, but the feature is disabled&quot; error w/ buildConfigField","body":"<p>add these lines to your gradle.properties:</p>\n<pre><code>android.buildConfig=true\nAPI_KEY=0000\n</code></pre>\n<p>and these to build.gradle(module):</p>\n<pre><code>buildFeatures {\n        buildConfig = true\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28197592,"reputation":41,"user_id":21551950,"display_name":"Milo40"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700560298,"creation_date":1700560298,"answer_id":77521810,"question_id":74634321,"body_markdown":"I&#39;ll just add this alternative &quot;solution&quot; here... For whomever it might help ?\r\n\r\nFrom [developer.android.com documentation][1] :\r\n\r\n&gt; You can override the default for this for all projects in your build\r\n&gt; by adding the line android.defaults.buildfeatures.buildconfig=true in\r\n&gt; the gradle.properties file at the root project of your build.\r\n\r\nSo one might just want to explicitly declare that in his project level `gradle.properties`.\r\n\r\n  [1]: https://developer.android.com/reference/tools/gradle-api/7.4/com/android/build/api/dsl/BuildFeatures#buildConfig()","title":"Fixing the &quot;Build Type contains custom BuildConfig fields, but the feature is disabled&quot; error w/ buildConfigField","body":"<p>I'll just add this alternative &quot;solution&quot; here... For whomever it might help ?</p>\n<p>From <a href=\"https://developer.android.com/reference/tools/gradle-api/7.4/com/android/build/api/dsl/BuildFeatures#buildConfig()\" rel=\"nofollow noreferrer\">developer.android.com documentation</a> :</p>\n<blockquote>\n<p>You can override the default for this for all projects in your build\nby adding the line android.defaults.buildfeatures.buildconfig=true in\nthe gradle.properties file at the root project of your build.</p>\n</blockquote>\n<p>So one might just want to explicitly declare that in his project level <code>gradle.properties</code>.</p>\n"}],"owner":{"account_id":3641070,"reputation":7173,"user_id":3035127,"display_name":"fattire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39266,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"answer_count":5,"score":86,"last_activity_date":1700560298,"creation_date":1669843400,"question_id":74634321,"body_markdown":"In the new version of Android Studio (Flamingo | 2022.2.1 Canary 9) with the org.jetbrains.kotlin (1.8.0-Beta) plugin and 8.0.0-alpha09 gradle plugin, a new build suddenly gets this error:\r\n\r\n&gt; Build Type &#39;release&#39; contains custom BuildConfig fields, but the feature is disabled.\r\n\r\nIs there a way to make this go away?","title":"Fixing the &quot;Build Type contains custom BuildConfig fields, but the feature is disabled&quot; error w/ buildConfigField","body":"<p>In the new version of Android Studio (Flamingo | 2022.2.1 Canary 9) with the org.jetbrains.kotlin (1.8.0-Beta) plugin and 8.0.0-alpha09 gradle plugin, a new build suddenly gets this error:</p>\n<blockquote>\n<p>Build Type 'release' contains custom BuildConfig fields, but the feature is disabled.</p>\n</blockquote>\n<p>Is there a way to make this go away?</p>\n"},{"tags":["java","unit-testing","junit","mockito","private-methods"],"comments":[{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1700240367,"post_id":77503203,"comment_id":136634108,"body_markdown":"Which observer do you mean, from here: `observer.get(topic)` ? If yes, show us more code to see how this observer is created","body":"Which observer do you mean, from here: <code>observer.get(topic)</code> ? If yes, show us more code to see how this observer is created"},{"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1700295594,"post_id":77503203,"comment_id":136639163,"body_markdown":"Where is `observer` defined/initialized? How is the lambda relevant? Which method should throw the error, `put`, `send` or a different one?","body":"Where is <code>observer</code> defined/initialized? How is the lambda relevant? Which method should throw the error, <code>put</code>, <code>send</code> or a different one?"},{"owner":{"account_id":29928306,"reputation":1,"user_id":22935829,"display_name":"Tahir Sultan"},"score":0,"creation_date":1700750413,"post_id":77503203,"comment_id":136694800,"body_markdown":"I want to write unit test for below code:\n\nMessageObservable observable = MessageSendingObserver.create((isSuccess, publicationReport){\n            if (shouldBeResend(isSuccess, publicationReport)) {\n                handler.postDelayed(observer.get(topic), INTERVAL);\n            }\n        });","body":"I want to write unit test for below code:  MessageObservable observable = MessageSendingObserver.create((isSuccess, publicationReport){             if (shouldBeResend(isSuccess, publicationReport)) {                 handler.postDelayed(observer.get(topic), INTERVAL);             }         });"}],"owner":{"account_id":29928306,"reputation":1,"user_id":22935829,"display_name":"Tahir Sultan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700559863,"creation_date":1700238597,"question_id":77503203,"body_markdown":"I want to test this code.\r\n\r\n```\r\npublic void send(String topic, Object value) {\r\n        Optional.ofNullable(observer.get(topic)).ifPresent(handler::removeCallbacks);\r\n        observer.put(topic, () -&gt; send(topic, value));\r\n        MessageObservable observable = MessageSendingObserver.create((isSuccess, publicationReport){\r\n            if (shouldBeResend(isSuccess, publicationReport)) {\r\n                handler.postDelayed(observer.get(topic), INTERVAL);\r\n            }\r\n        });\r\n        message.publish(topic, value, observable);\r\n    }\r\n\t\r\nprivate boolean shouldBeResend(boolean isSuccess, PublicationReport publicationReport) {\r\n        return !isSuccess &amp;&amp; publicationReport.getErrorCode() &gt;= 400 &amp;&amp; publicationReport.getErrorCode() &lt;= 599;\r\n} \r\nI want to test this code.\r\n```\r\nI have problem how to mock observer and force it to throw error or return value on success. I&#39;m using mockito/junit. Can someone point me how to achieve it? Maybe my code is untestable?\r\n\r\n","title":"How to test lambda expression included private method using Mockito?","body":"<p>I want to test this code.</p>\n<pre><code>public void send(String topic, Object value) {\n        Optional.ofNullable(observer.get(topic)).ifPresent(handler::removeCallbacks);\n        observer.put(topic, () -&gt; send(topic, value));\n        MessageObservable observable = MessageSendingObserver.create((isSuccess, publicationReport){\n            if (shouldBeResend(isSuccess, publicationReport)) {\n                handler.postDelayed(observer.get(topic), INTERVAL);\n            }\n        });\n        message.publish(topic, value, observable);\n    }\n    \nprivate boolean shouldBeResend(boolean isSuccess, PublicationReport publicationReport) {\n        return !isSuccess &amp;&amp; publicationReport.getErrorCode() &gt;= 400 &amp;&amp; publicationReport.getErrorCode() &lt;= 599;\n} \nI want to test this code.\n</code></pre>\n<p>I have problem how to mock observer and force it to throw error or return value on success. I'm using mockito/junit. Can someone point me how to achieve it? Maybe my code is untestable?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":4,"creation_date":1700559531,"post_id":77521724,"comment_id":136666621,"body_markdown":"Generally, don&#39;t give the community tasks. Ask questions. Show your own effort, explain where you got stuck. So please read [ask].","body":"Generally, don&#39;t give the community tasks. Ask questions. Show your own effort, explain where you got stuck. So please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":23332400,"reputation":13,"user_id":17408611,"display_name":"MM Vadhaniya"},"score":0,"creation_date":1700561616,"post_id":77521724,"comment_id":136667027,"body_markdown":"Thank you Sir for guidelines I&#39;m new on platform :)","body":"Thank you Sir for guidelines I&#39;m new on platform :)"}],"owner":{"account_id":23332400,"reputation":13,"user_id":17408611,"display_name":"MM Vadhaniya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700559363,"creation_date":1700559363,"question_id":77521724,"body_markdown":"In this demo, you have to read the CSV file (find attachment: Sample_Company_Department.csv) and need to create a JSON structure using that (find attachment: Sample.json).\r\nNote in sample CSV is not static it can contain any level in the full path. So, your solution must parse any number of levels in the full path.\r\n\r\nTechnology: Core Java\r\n\r\n    **CSV File**\r\n\r\n    |ABC Technologies|Full stack|Java,,\r\n    |ABC Technologies|Full stack|Java|Spring,,\r\n    |ABC Technologies|Full stack|Java|Spring|Spring Boot,,\r\n    |ABC Technologies|Full stack|Java|Spring|Spring Boot|JPA,C_1,5\r\n    |ABC Technologies|Full stack|Java|Spring|Spring Boot|Rest Easy,C_2,3\r\n    |ABC Technologies|Full stack|Java|Spring|Spring Boot|Test,,\r\n    |ABC Technologies|Full stack|Java|Spring|Spring Boot|Test|test2,C_5,2\r\n    |ABC Technologies|Full stack|Java|salesforce,,\r\n    |ABC Technologies|Full stack|Java|salesforce|vue.js,C_3,5\r\n    |ABC Technologies|Mobile,,\r\n    |ABC Technologies|Mobile|Android,C_4,9\r\n\r\n\r\n**I want to make Like this**\r\n\r\n\r\n\r\n     [\r\n      {\r\n        &quot;companyDepartment&quot;: {\r\n          &quot;name&quot;: &quot;ABC Technologies - Full stack - Java&quot;,\r\n          &quot;children&quot;: [\r\n            {\r\n              &quot;name&quot;: &quot;Spring&quot;,\r\n              &quot;children&quot;: [\r\n                {\r\n                  &quot;name&quot;: &quot;Spring Boot&quot;,\r\n                  &quot;children&quot;: [\r\n                    {\r\n                      &quot;name&quot;: &quot;JPA&quot;,\r\n                      &quot;code&quot;: &quot;C_1&quot;,\r\n                      &quot;team&quot;: 5\r\n                    },\r\n                    {\r\n                      &quot;name&quot;: &quot;Rest Easy&quot;,\r\n                      &quot;code&quot;: &quot;C_2&quot;,\r\n                      &quot;team&quot;: 3\r\n                    },\r\n    \t\t\t\t{\r\n                      &quot;name&quot;: &quot;Test&quot;,\r\n                      &quot;code&quot;: &quot;C_2&quot;,\r\n                      &quot;team&quot;: 3,\r\n    \t\t\t\t  &quot;children&quot;: [\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t  &quot;name&quot;: &quot;test2&quot;,\r\n    \t\t\t\t\t  &quot;code&quot;: &quot;C_1&quot;,\r\n    \t\t\t\t\t  &quot;team&quot;: 5\r\n    \t\t\t\t\t}\r\n    \t\t\t\t  ]\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              &quot;name&quot;: &quot;salesforce&quot;,\r\n              &quot;children&quot;: [\r\n                {\r\n                  &quot;name&quot;: &quot;vue.js&quot;,\r\n                  &quot;code&quot;: &quot;C_3&quot;,\r\n                  &quot;team&quot;: 5\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;companyDepartment&quot;: {\r\n          &quot;name&quot;: &quot;ABC Technologies - Mobile&quot;,\r\n          &quot;children&quot;: [\r\n            {\r\n              &quot;name&quot;: &quot;Android&quot;,\r\n              &quot;code&quot;: &quot;C_4&quot;,\r\n              &quot;team&quot;: 9\r\n            }\r\n          ]\r\n        }\r\n      }\r\n      \r\n    ]\r\n\r\n","title":"I want to generate CSV file into JSON","body":"<p>In this demo, you have to read the CSV file (find attachment: Sample_Company_Department.csv) and need to create a JSON structure using that (find attachment: Sample.json).\nNote in sample CSV is not static it can contain any level in the full path. So, your solution must parse any number of levels in the full path.</p>\n<p>Technology: Core Java</p>\n<pre><code>**CSV File**\n\n|ABC Technologies|Full stack|Java,,\n|ABC Technologies|Full stack|Java|Spring,,\n|ABC Technologies|Full stack|Java|Spring|Spring Boot,,\n|ABC Technologies|Full stack|Java|Spring|Spring Boot|JPA,C_1,5\n|ABC Technologies|Full stack|Java|Spring|Spring Boot|Rest Easy,C_2,3\n|ABC Technologies|Full stack|Java|Spring|Spring Boot|Test,,\n|ABC Technologies|Full stack|Java|Spring|Spring Boot|Test|test2,C_5,2\n|ABC Technologies|Full stack|Java|salesforce,,\n|ABC Technologies|Full stack|Java|salesforce|vue.js,C_3,5\n|ABC Technologies|Mobile,,\n|ABC Technologies|Mobile|Android,C_4,9\n</code></pre>\n<p><strong>I want to make Like this</strong></p>\n<pre><code> [\n  {\n    &quot;companyDepartment&quot;: {\n      &quot;name&quot;: &quot;ABC Technologies - Full stack - Java&quot;,\n      &quot;children&quot;: [\n        {\n          &quot;name&quot;: &quot;Spring&quot;,\n          &quot;children&quot;: [\n            {\n              &quot;name&quot;: &quot;Spring Boot&quot;,\n              &quot;children&quot;: [\n                {\n                  &quot;name&quot;: &quot;JPA&quot;,\n                  &quot;code&quot;: &quot;C_1&quot;,\n                  &quot;team&quot;: 5\n                },\n                {\n                  &quot;name&quot;: &quot;Rest Easy&quot;,\n                  &quot;code&quot;: &quot;C_2&quot;,\n                  &quot;team&quot;: 3\n                },\n                {\n                  &quot;name&quot;: &quot;Test&quot;,\n                  &quot;code&quot;: &quot;C_2&quot;,\n                  &quot;team&quot;: 3,\n                  &quot;children&quot;: [\n                    {\n                      &quot;name&quot;: &quot;test2&quot;,\n                      &quot;code&quot;: &quot;C_1&quot;,\n                      &quot;team&quot;: 5\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        },\n        {\n          &quot;name&quot;: &quot;salesforce&quot;,\n          &quot;children&quot;: [\n            {\n              &quot;name&quot;: &quot;vue.js&quot;,\n              &quot;code&quot;: &quot;C_3&quot;,\n              &quot;team&quot;: 5\n            }\n          ]\n        }\n      ]\n    }\n  },\n  {\n    &quot;companyDepartment&quot;: {\n      &quot;name&quot;: &quot;ABC Technologies - Mobile&quot;,\n      &quot;children&quot;: [\n        {\n          &quot;name&quot;: &quot;Android&quot;,\n          &quot;code&quot;: &quot;C_4&quot;,\n          &quot;team&quot;: 9\n        }\n      ]\n    }\n  }\n  \n]\n</code></pre>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":29956061,"reputation":1,"user_id":22956925,"display_name":"jjimenezgarcia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700559042,"creation_date":1700559042,"answer_id":77521689,"question_id":77058120,"body_markdown":"You can just use the built-in method from BsonValue:\r\n\r\n    result.getInsertedId().asObjectId().getValue();\r\n\r\nThat should be enough.","title":"Get ObjectId from BsonValue with Java mongodb client","body":"<p>You can just use the built-in method from BsonValue:</p>\n<pre><code>result.getInsertedId().asObjectId().getValue();\n</code></pre>\n<p>That should be enough.</p>\n"}],"owner":{"account_id":29204480,"reputation":33,"user_id":22373879,"display_name":"James Work account"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700559042,"creation_date":1694077488,"question_id":77058120,"body_markdown":"I&#39;m using mongodb-driver-sync as my Java driver.\r\n\r\nI have an Author class.\r\n\r\n```\r\npublic class Author {\r\n  String name;\r\n  ObjectId id;\r\n\r\n// getters setters constructors\r\n}\r\n```\r\n\r\nI am inserting into my Mongo collection with the following code\r\n\r\n```\r\nMongoCollection&lt;Author&gt; collection = database.getCollection(&quot;authors&quot;, Author.class)\r\n\r\nAuthor author = new Author();\r\nauthor.setName(&quot;Apple&quot;);\r\n\r\nInsertOneResult result = collection.insertOne(author)\r\n\r\n// This fails because result.getInsertedId returns a BsonValue instead of ObjectId\r\nauthor.setId(result.getInsertedId())\r\n\r\nreturn author;\r\n```\r\n\r\nI am trying to get setId() to work, but it is failing because .getInsertedId() returns a BsonValue. Is there a way to convet BsonValue to ObjectId?\r\n\r\nI have tried using ObjectMapper but I am still exploring.","title":"Get ObjectId from BsonValue with Java mongodb client","body":"<p>I'm using mongodb-driver-sync as my Java driver.</p>\n<p>I have an Author class.</p>\n<pre><code>public class Author {\n  String name;\n  ObjectId id;\n\n// getters setters constructors\n}\n</code></pre>\n<p>I am inserting into my Mongo collection with the following code</p>\n<pre><code>MongoCollection&lt;Author&gt; collection = database.getCollection(&quot;authors&quot;, Author.class)\n\nAuthor author = new Author();\nauthor.setName(&quot;Apple&quot;);\n\nInsertOneResult result = collection.insertOne(author)\n\n// This fails because result.getInsertedId returns a BsonValue instead of ObjectId\nauthor.setId(result.getInsertedId())\n\nreturn author;\n</code></pre>\n<p>I am trying to get setId() to work, but it is failing because .getInsertedId() returns a BsonValue. Is there a way to convet BsonValue to ObjectId?</p>\n<p>I have tried using ObjectMapper but I am still exploring.</p>\n"},{"tags":["java","spring-boot","spring-cloud-stream","spring-cloud-dataflow"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698884432,"post_id":77402953,"comment_id":136462663,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":24209301,"reputation":491,"user_id":18166042,"display_name":"onobc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698847553,"creation_date":1698847553,"answer_id":77403227,"question_id":77402953,"body_markdown":"It can be done w/ Dataflow but it is not as seamlessly supported as single input/outputs. You will have to use a slightly different DSL syntax and wire the components together yourself. \r\n\r\nSpecifically, you have to register the application as type &quot;App&quot; and then use &quot;||&quot; rather than the &quot;|&quot; when creating the stream definition. \r\n\r\nYou can find more details on this topic in the Dataflow Microsite: \r\nhttps://dataflow.spring.io/docs/concepts/architecture/#streams-with-multiple-inputs-and-outputs\r\n\r\nAlso, Spring Cloud Stream itself supports multiple inputs/outputs:\r\nhttps://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_functions_with_multiple_input_and_output_arguments","title":"Spring Data Flow streams with multiple inputs","body":"<p>It can be done w/ Dataflow but it is not as seamlessly supported as single input/outputs. You will have to use a slightly different DSL syntax and wire the components together yourself.</p>\n<p>Specifically, you have to register the application as type &quot;App&quot; and then use &quot;||&quot; rather than the &quot;|&quot; when creating the stream definition.</p>\n<p>You can find more details on this topic in the Dataflow Microsite:\n<a href=\"https://dataflow.spring.io/docs/concepts/architecture/#streams-with-multiple-inputs-and-outputs\" rel=\"nofollow noreferrer\">https://dataflow.spring.io/docs/concepts/architecture/#streams-with-multiple-inputs-and-outputs</a></p>\n<p>Also, Spring Cloud Stream itself supports multiple inputs/outputs:\n<a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_functions_with_multiple_input_and_output_arguments\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_functions_with_multiple_input_and_output_arguments</a></p>\n"},{"tags":[],"owner":{"account_id":80984,"reputation":825,"user_id":228649,"display_name":"Corneil du Plessis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700558399,"creation_date":1700558399,"answer_id":77521622,"question_id":77402953,"body_markdown":"The [Restaurant][1] sample should provide more of what you need.\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-dataflow-samples/tree/main/restaurant-stream-apps","title":"Spring Data Flow streams with multiple inputs","body":"<p>The <a href=\"https://github.com/spring-cloud/spring-cloud-dataflow-samples/tree/main/restaurant-stream-apps\" rel=\"nofollow noreferrer\">Restaurant</a> sample should provide more of what you need.</p>\n"}],"owner":{"account_id":29802713,"reputation":3,"user_id":22840126,"display_name":"Roman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77403227,"answer_count":2,"score":0,"last_activity_date":1700558399,"creation_date":1698844863,"question_id":77402953,"body_markdown":"I use Spring Cloud Data Flow 2.11.2.&lt;br&gt;&lt;br&gt;\r\nMy goal is making two sources and one processor that accepts both messages as input and performs some operations on them, e.g.: [stream view](https://i.stack.imgur.com/RkEs3.jpg)\r\n\r\nI found a guide on this [topic](https://docs.vmware.com/en/Spring-Cloud-Data-Flow-for-VMware-Tanzu/1.13/spring-cloud-data-flow/GUID-pro-features-multi-io-support.html) and the [corresponding video](https://www.youtube.com/watch?v=UEMIcwI3GDc). Also there&#39;re [sources](https://github.com/spring-cloud/spring-cloud-dataflow-samples/tree/main/multi-io-samples/kafka-streams/user-clicks-per-region) used in the guide.\r\n\r\nHowever, when repeating actions from the video, SCDF does not display multiple inputs on the processor.\r\nMoreover, other answers to stackoferflow indicate that graphically SCDF does not support it.\r\n\r\nIn this case, I don’t understand how the author of the video managed to do this and what I have to do.\r\n\r\nThanks in advance!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pRwbh.jpg","title":"Spring Data Flow streams with multiple inputs","body":"<p>I use Spring Cloud Data Flow 2.11.2.<br><br>\nMy goal is making two sources and one processor that accepts both messages as input and performs some operations on them, e.g.: <a href=\"https://i.stack.imgur.com/RkEs3.jpg\" rel=\"nofollow noreferrer\">stream view</a></p>\n<p>I found a guide on this <a href=\"https://docs.vmware.com/en/Spring-Cloud-Data-Flow-for-VMware-Tanzu/1.13/spring-cloud-data-flow/GUID-pro-features-multi-io-support.html\" rel=\"nofollow noreferrer\">topic</a> and the <a href=\"https://www.youtube.com/watch?v=UEMIcwI3GDc\" rel=\"nofollow noreferrer\">corresponding video</a>. Also there're <a href=\"https://github.com/spring-cloud/spring-cloud-dataflow-samples/tree/main/multi-io-samples/kafka-streams/user-clicks-per-region\" rel=\"nofollow noreferrer\">sources</a> used in the guide.</p>\n<p>However, when repeating actions from the video, SCDF does not display multiple inputs on the processor.\nMoreover, other answers to stackoferflow indicate that graphically SCDF does not support it.</p>\n<p>In this case, I don’t understand how the author of the video managed to do this and what I have to do.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-webflux","r2dbc"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1568712514,"post_id":57971278,"comment_id":102352663,"body_markdown":"Maybe you should increase the `maxCreateConnectionTime` then? You&#39;re hitting a timeout after all.","body":"Maybe you should increase the <code>maxCreateConnectionTime</code> then? You&#39;re hitting a timeout after all."}],"answers":[{"tags":[],"owner":{"account_id":4619060,"reputation":4445,"user_id":3744640,"accept_rate":76,"display_name":"Nikita"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1568716495,"creation_date":1568716495,"answer_id":57972447,"question_id":57971278,"body_markdown":"Ok, the MAX_SIZE should be also specified for `ConnectionFactoryOptions`. Otherwise connection pool size still remains 10.\r\n\r\n```\r\nimport static io.r2dbc.pool.PoolingConnectionFactoryProvider.MAX_SIZE;\r\n\r\n    ConnectionFactory connectionFactory = ConnectionFactories.get(ConnectionFactoryOptions.builder()\r\n        .option(DRIVER, &quot;pool&quot;)\r\n        .option(PROTOCOL, &quot;postgresql&quot;)\r\n        .option(HOST, host)\r\n        .option(USER, user)\r\n        .option(PASSWORD, password)\r\n        .option(DATABASE, database)\r\n        .option(MAX_SIZE, maxSize)\r\n        .build());\r\n```","title":"Connection pool size with postgres r2dbc-pool","body":"<p>Ok, the MAX_SIZE should be also specified for <code>ConnectionFactoryOptions</code>. Otherwise connection pool size still remains 10.</p>\n\n<pre><code>import static io.r2dbc.pool.PoolingConnectionFactoryProvider.MAX_SIZE;\n\n    ConnectionFactory connectionFactory = ConnectionFactories.get(ConnectionFactoryOptions.builder()\n        .option(DRIVER, \"pool\")\n        .option(PROTOCOL, \"postgresql\")\n        .option(HOST, host)\n        .option(USER, user)\n        .option(PASSWORD, password)\n        .option(DATABASE, database)\n        .option(MAX_SIZE, maxSize)\n        .build());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103073,"reputation":9057,"user_id":276263,"accept_rate":58,"display_name":"krishnakumarp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596814577,"creation_date":1596814577,"answer_id":63304954,"question_id":57971278,"body_markdown":"If you are using spring-boot-starter-data-r2dbc, then the min and max is configurable in application.properties\r\n\r\n    spring.r2dbc.pool.initialSize=2\r\n    spring.r2dbc.pool.maxSize=2\r\n\r\nSee `org.springframework.boot.autoconfigure.r2dbc.R2dbcProperties` class","title":"Connection pool size with postgres r2dbc-pool","body":"<p>If you are using spring-boot-starter-data-r2dbc, then the min and max is configurable in application.properties</p>\n<pre><code>spring.r2dbc.pool.initialSize=2\nspring.r2dbc.pool.maxSize=2\n</code></pre>\n<p>See <code>org.springframework.boot.autoconfigure.r2dbc.R2dbcProperties</code> class</p>\n"},{"tags":[],"owner":{"account_id":19290251,"reputation":201,"user_id":14100437,"display_name":"Pierre CARUYER"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598342555,"creation_date":1598342555,"answer_id":63574494,"question_id":57971278,"body_markdown":"Note that, you can use the release version 0.8.4.RELEASE (which is the latest) https://mvnrepository.com/artifact/io.r2dbc/r2dbc-postgresql/0.8.4.RELEASE which does not require you to instantiate a `ConnectionFactory`","title":"Connection pool size with postgres r2dbc-pool","body":"<p>Note that, you can use the release version 0.8.4.RELEASE (which is the latest) <a href=\"https://mvnrepository.com/artifact/io.r2dbc/r2dbc-postgresql/0.8.4.RELEASE\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.r2dbc/r2dbc-postgresql/0.8.4.RELEASE</a> which does not require you to instantiate a <code>ConnectionFactory</code></p>\n"},{"tags":[],"owner":{"account_id":15469120,"reputation":131,"user_id":11159688,"display_name":"MrGrandeluxe"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1606604322,"creation_date":1606604322,"answer_id":65055298,"question_id":57971278,"body_markdown":"Spring boot (at least 2.3.4) have a tricky &quot;gotcha&quot; regarding the pool size when set by properties/yaml. If you include &quot;pool&quot; in your database url, then the size set (initial size or max size) won&#39;t have any effect and the defaults for the r2dbc pool will be used, 10 and 10. \r\n\r\nThis is due to PooledConnectionFactoryCondition in [ConnectionFactoryConfigurations.java][1] failing when both `spring.r2dbc.pool.enabled=true`, which it is if the r2dbc-pool dependency is on the classpath, **and** &quot;pool&quot; being part of the `spring.r2dbc.url` property. \r\n\r\nFrom the PooledConnectionFactoryCondition docs:\r\n&gt; Condition that checks that a ConnectionPool is requested. The\r\ncondition matches if pooling was opt-in via configuration and the r2dbc url does not contain pooling-related options.\r\n\r\n\r\nThis in turn does lead to the ConnectionPool bean not being created.\r\n\r\nSkip the &quot;pool&quot; keyword in the r2dbc url property and have the r2dbc-pool dependency, then you will get a correctly configured pool.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/r2dbc/ConnectionFactoryConfigurations.java\r\n","title":"Connection pool size with postgres r2dbc-pool","body":"<p>Spring boot (at least 2.3.4) have a tricky &quot;gotcha&quot; regarding the pool size when set by properties/yaml. If you include &quot;pool&quot; in your database url, then the size set (initial size or max size) won't have any effect and the defaults for the r2dbc pool will be used, 10 and 10.</p>\n<p>This is due to PooledConnectionFactoryCondition in <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/r2dbc/ConnectionFactoryConfigurations.java\" rel=\"noreferrer\">ConnectionFactoryConfigurations.java</a> failing when both <code>spring.r2dbc.pool.enabled=true</code>, which it is if the r2dbc-pool dependency is on the classpath, <strong>and</strong> &quot;pool&quot; being part of the <code>spring.r2dbc.url</code> property.</p>\n<p>From the PooledConnectionFactoryCondition docs:</p>\n<blockquote>\n<p>Condition that checks that a ConnectionPool is requested. The\ncondition matches if pooling was opt-in via configuration and the r2dbc url does not contain pooling-related options.</p>\n</blockquote>\n<p>This in turn does lead to the ConnectionPool bean not being created.</p>\n<p>Skip the &quot;pool&quot; keyword in the r2dbc url property and have the r2dbc-pool dependency, then you will get a correctly configured pool.</p>\n"},{"tags":[],"owner":{"account_id":15776159,"reputation":592,"user_id":11383913,"display_name":"Ady"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625657993,"creation_date":1625575844,"answer_id":68270898,"question_id":57971278,"body_markdown":"Below is my configuration for `spring-boot-starter-data-r2dbc` Check if that helps you:\r\n\r\n    spring:\r\n      r2dbc:\r\n        url: r2dbc:postgresql://127.0.0.1:5432/test?schema=public\r\n        username: postgres\r\n        password: postgres\r\n        pool:\r\n          name: TEST-POOL\r\n          initial-size: 1\r\n          max-size: 10\r\n          max-idle-time: 30m","title":"Connection pool size with postgres r2dbc-pool","body":"<p>Below is my configuration for <code>spring-boot-starter-data-r2dbc</code> Check if that helps you:</p>\n<pre><code>spring:\n  r2dbc:\n    url: r2dbc:postgresql://127.0.0.1:5432/test?schema=public\n    username: postgres\n    password: postgres\n    pool:\n      name: TEST-POOL\n      initial-size: 1\n      max-size: 10\n      max-idle-time: 30m\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9834917,"reputation":1,"user_id":20443732,"display_name":"vachoh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700557989,"creation_date":1700557828,"answer_id":77521563,"question_id":57971278,"body_markdown":"Don&#39;t you get a warning stating that you&#39;re creating a connection pool using another pool? because I suppose you don&#39;t need this part:\r\n\r\n    ConnectionPoolConfiguration configuration = C. onnectionPoolConfiguration.builder(connectionFactory)\r\n        .maxIdleTime(Duration.ofMinutes(30))\r\n        .initialSize(initialSize)\r\n        .maxSize(maxSize)\r\n        .maxCreateConnectionTime(Duration.ofSeconds(1))\r\n        .build();\r\n\r\nYou can specify maxIdleTime, initialSize, maxSize... with options of the ConnectionFactory\r\n","title":"Connection pool size with postgres r2dbc-pool","body":"<p>Don't you get a warning stating that you're creating a connection pool using another pool? because I suppose you don't need this part:</p>\n<pre><code>ConnectionPoolConfiguration configuration = C. onnectionPoolConfiguration.builder(connectionFactory)\n    .maxIdleTime(Duration.ofMinutes(30))\n    .initialSize(initialSize)\n    .maxSize(maxSize)\n    .maxCreateConnectionTime(Duration.ofSeconds(1))\n    .build();\n</code></pre>\n<p>You can specify maxIdleTime, initialSize, maxSize... with options of the ConnectionFactory</p>\n"}],"owner":{"account_id":4619060,"reputation":4445,"user_id":3744640,"accept_rate":76,"display_name":"Nikita"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20922,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":57972447,"answer_count":6,"score":7,"last_activity_date":1700557989,"creation_date":1568712416,"question_id":57971278,"body_markdown":"I&#39;m not able to open more than 10 connections with spring-webflux and r2dbc (with r2dbc-pool driver `0.8.0.M8`). My config looks like:\r\n\r\n```\r\n@Configuration\r\npublic class PostgresConfig extends AbstractR2dbcConfiguration {\r\n\r\n  @Override\r\n  @Bean\r\n  public ConnectionFactory connectionFactory() {\r\n    ConnectionFactory connectionFactory = ConnectionFactories.get(ConnectionFactoryOptions.builder()\r\n        .option(DRIVER, &quot;pool&quot;)\r\n        .option(PROTOCOL, &quot;postgresql&quot;)\r\n        .option(HOST, host)\r\n        .option(USER, user)\r\n        .option(PASSWORD, password)\r\n        .option(DATABASE, database)\r\n        .build());\r\n    ConnectionPoolConfiguration configuration = ConnectionPoolConfiguration.builder(connectionFactory)\r\n        .maxIdleTime(Duration.ofMinutes(30))\r\n        .initialSize(initialSize)\r\n        .maxSize(maxSize)\r\n        .maxCreateConnectionTime(Duration.ofSeconds(1))\r\n        .build();\r\n    return new ConnectionPool(configuration);\r\n  }\r\n}\r\n```\r\n\r\nWhen I&#39;m specifying more than 10 connections I get errors like:\r\n```\r\norg.springframework.dao.DataAccessResourceFailureException: \r\nFailed to obtain R2DBC Connection; nested exception is \r\njava.util.concurrent.TimeoutException: \r\nDid not observe any item or terminal signal within 1000ms in &#39;lift&#39; \r\n(and no fallback has been configured)\r\n\tat org.springframework.data.r2dbc.connectionfactory.ConnectionFactoryUtils\r\n    .lambda$getConnection$0(ConnectionFactoryUtils.java:71)\r\n\r\n```\r\n\r\nMoreover, number of connections remain the same as initial size. New connections are not created.","title":"Connection pool size with postgres r2dbc-pool","body":"<p>I'm not able to open more than 10 connections with spring-webflux and r2dbc (with r2dbc-pool driver <code>0.8.0.M8</code>). My config looks like:</p>\n\n<pre><code>@Configuration\npublic class PostgresConfig extends AbstractR2dbcConfiguration {\n\n  @Override\n  @Bean\n  public ConnectionFactory connectionFactory() {\n    ConnectionFactory connectionFactory = ConnectionFactories.get(ConnectionFactoryOptions.builder()\n        .option(DRIVER, \"pool\")\n        .option(PROTOCOL, \"postgresql\")\n        .option(HOST, host)\n        .option(USER, user)\n        .option(PASSWORD, password)\n        .option(DATABASE, database)\n        .build());\n    ConnectionPoolConfiguration configuration = ConnectionPoolConfiguration.builder(connectionFactory)\n        .maxIdleTime(Duration.ofMinutes(30))\n        .initialSize(initialSize)\n        .maxSize(maxSize)\n        .maxCreateConnectionTime(Duration.ofSeconds(1))\n        .build();\n    return new ConnectionPool(configuration);\n  }\n}\n</code></pre>\n\n<p>When I'm specifying more than 10 connections I get errors like:</p>\n\n<pre><code>org.springframework.dao.DataAccessResourceFailureException: \nFailed to obtain R2DBC Connection; nested exception is \njava.util.concurrent.TimeoutException: \nDid not observe any item or terminal signal within 1000ms in 'lift' \n(and no fallback has been configured)\n    at org.springframework.data.r2dbc.connectionfactory.ConnectionFactoryUtils\n    .lambda$getConnection$0(ConnectionFactoryUtils.java:71)\n\n</code></pre>\n\n<p>Moreover, number of connections remain the same as initial size. New connections are not created.</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-functions"],"comments":[{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1700556251,"post_id":77521365,"comment_id":136666042,"body_markdown":"Please could you show the `nameOf` method you&#39;re calling? (Ideally, provide a complete example we&#39;d be able to use to try to reproduce the problem.)","body":"Please could you show the <code>nameOf</code> method you&#39;re calling? (Ideally, provide a complete example we&#39;d be able to use to try to reproduce the problem.)"},{"owner":{"account_id":3092822,"reputation":3094,"user_id":2618609,"accept_rate":100,"display_name":"Evil Toad"},"score":0,"creation_date":1700556360,"post_id":77521365,"comment_id":136666061,"body_markdown":"Rigth remark @JonSkeet: question edited. I am going to check that, thank you","body":"Rigth remark @JonSkeet: question edited. I am going to check that, thank you"},{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1700556990,"post_id":77521365,"comment_id":136666182,"body_markdown":"I *think* I now know what&#39;s going on, but I need to test a little further.","body":"I <i>think</i> I now know what&#39;s going on, but I need to test a little further."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700557952,"creation_date":1700557952,"answer_id":77521584,"question_id":77521365,"body_markdown":"I believe this is because you&#39;re using the Cloud Functions v1 API to call a Cloud Functions gen2 function. If you use Cloud Functions gen1, your code should work. I&#39;ve reproduced this using the C# client library rather than the Java one, but I&#39;m sure it&#39;s the same cause.\r\n\r\nThe [Cloud Functions v2 API](https://cloud.google.com/functions/docs/reference/rpc/google.cloud.functions.v2) doesn&#39;t currently have an equivalent of the `CallFunction` RPC... so for the moment, I&#39;d recommend simply making an HTTP request directly with an HTTP client, *or* use gen1 functions for now.","title":"Google Cloud Functions error says function doesn&#39;t exist, but it does","body":"<p>I believe this is because you're using the Cloud Functions v1 API to call a Cloud Functions gen2 function. If you use Cloud Functions gen1, your code should work. I've reproduced this using the C# client library rather than the Java one, but I'm sure it's the same cause.</p>\n<p>The <a href=\"https://cloud.google.com/functions/docs/reference/rpc/google.cloud.functions.v2\" rel=\"nofollow noreferrer\">Cloud Functions v2 API</a> doesn't currently have an equivalent of the <code>CallFunction</code> RPC... so for the moment, I'd recommend simply making an HTTP request directly with an HTTP client, <em>or</em> use gen1 functions for now.</p>\n"}],"owner":{"account_id":3092822,"reputation":3094,"user_id":2618609,"accept_rate":100,"display_name":"Evil Toad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77521584,"answer_count":1,"score":0,"last_activity_date":1700557952,"creation_date":1700555749,"question_id":77521365,"body_markdown":"I created a function (2nd gen) in the Google Cloud Functions service. The function is written in Python (v. 3.11) and the deployment is done as a ZIP upload.\r\nThe function responds correctly if call it with Postman, providing the Google Identity Token in the Authentication header.\r\nBut when I call it programmatically in Java, I always get the following error:\r\n\r\n\tNOT_FOUND: Function &lt;cloud_function_name&gt; in region europe-west6 in project &lt;project&gt; does not exist\r\n\t\r\n**It clearly does exist so: what does this error mean?**\r\n\r\nIn Java I use the google-cloud-functions library:\r\n\r\n\t\t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;google-cloud-functions&lt;/artifactId&gt;\r\n                &lt;version&gt;2.32.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nand I provide the program with the authentication by executing:\r\n\r\n    gcloud auth application-default login\r\n\r\nThe code:\r\n\r\n\r\n        private static final String CLOUD_FUNCTION_NAME = &quot;the_name&quot;;\r\n\r\n\t\tpublic GCPFunctionsClient(String project, String location) {\r\n\r\n\t\t\tthis.project = project;\r\n\t\t\tthis.location = location;\r\n\t\t\ttry {\r\n\t\t\t\tclient = CloudFunctionsServiceClient.create();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\t\t\tthis.mapper = new ObjectMapper();\r\n\t\t}\r\n\t\t\r\n\t\t// ...\r\n\t\t\r\n\t\tpublic String callFunction(String operation, String obuIdentifier){\r\n\t\t\tGenericFunctionRequest request = GenericFunctionRequest.builder().build();\r\n\t\t\ttry {\r\n\t\t\t\tCallFunctionResponse response = client.callFunction(nameOf(CLOUD_FUNCTION_NAME), serialize(request));\r\n\t\t\t\tvar responseContent = response.getResult();\r\n\t\t\t\tif(log.isInfoEnabled()){\r\n\t\t\t\t\tlog.info(&quot;Cloud functions response: {}&quot; + responseContent);\r\n\t\t\t\t}\r\n\t\t\t\treturn responseContent;\r\n\t\t\t}catch (Exception e){\r\n\t\t\t\tthrow new CloudFunctionCallException(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n        private String nameOf(String functionName) {\r\n            return CloudFunctionName.of(project, location, functionName).toString();\r\n        }\r\n\r\nthe name of the function is correct, I double checked it.\r\n\r\n\r\n","title":"Google Cloud Functions error says function doesn&#39;t exist, but it does","body":"<p>I created a function (2nd gen) in the Google Cloud Functions service. The function is written in Python (v. 3.11) and the deployment is done as a ZIP upload.\nThe function responds correctly if call it with Postman, providing the Google Identity Token in the Authentication header.\nBut when I call it programmatically in Java, I always get the following error:</p>\n<pre><code>NOT_FOUND: Function &lt;cloud_function_name&gt; in region europe-west6 in project &lt;project&gt; does not exist\n</code></pre>\n<p><strong>It clearly does exist so: what does this error mean?</strong></p>\n<p>In Java I use the google-cloud-functions library:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-functions&lt;/artifactId&gt;\n            &lt;version&gt;2.32.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and I provide the program with the authentication by executing:</p>\n<pre><code>gcloud auth application-default login\n</code></pre>\n<p>The code:</p>\n<pre><code>    private static final String CLOUD_FUNCTION_NAME = &quot;the_name&quot;;\n\n    public GCPFunctionsClient(String project, String location) {\n\n        this.project = project;\n        this.location = location;\n        try {\n            client = CloudFunctionsServiceClient.create();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        this.mapper = new ObjectMapper();\n    }\n    \n    // ...\n    \n    public String callFunction(String operation, String obuIdentifier){\n        GenericFunctionRequest request = GenericFunctionRequest.builder().build();\n        try {\n            CallFunctionResponse response = client.callFunction(nameOf(CLOUD_FUNCTION_NAME), serialize(request));\n            var responseContent = response.getResult();\n            if(log.isInfoEnabled()){\n                log.info(&quot;Cloud functions response: {}&quot; + responseContent);\n            }\n            return responseContent;\n        }catch (Exception e){\n            throw new CloudFunctionCallException(e);\n        }\n    }\n\n    private String nameOf(String functionName) {\n        return CloudFunctionName.of(project, location, functionName).toString();\n    }\n</code></pre>\n<p>the name of the function is correct, I double checked it.</p>\n"},{"tags":["java","docker","apache-poi"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1698154037,"post_id":77352407,"comment_id":136366949,"body_markdown":"Unrelated, but never store database credentials in a docker image. Anyone can then see the plaintext values when you push to a Docker Registry","body":"Unrelated, but never store database credentials in a docker image. Anyone can then see the plaintext values when you push to a Docker Registry"},{"owner":{"account_id":1171454,"reputation":450,"user_id":1148552,"accept_rate":67,"display_name":"Gehan"},"score":0,"creation_date":1698211376,"post_id":77352407,"comment_id":136374769,"body_markdown":"Thanks. I will change these details asap.\n\nSome additional findings related to this question \n\nIn spring docs they use eclipse-temurin:17-jdk-alpine although it&#39;s an example of &quot;a basic dockerfile&quot;, maybe it helps.\n\nhttps://spring.io/guides/topicals/spring-boot-docker/","body":"Thanks. I will change these details asap.  Some additional findings related to this question   In spring docs they use eclipse-temurin:17-jdk-alpine although it&#39;s an example of &quot;a basic dockerfile&quot;, maybe it helps.  <a href=\"https://spring.io/guides/topicals/spring-boot-docker/\" rel=\"nofollow noreferrer\">spring.io/guides/topicals/spring-boot-docker</a>"},{"owner":{"account_id":1171454,"reputation":450,"user_id":1148552,"accept_rate":67,"display_name":"Gehan"},"score":0,"creation_date":1698211514,"post_id":77352407,"comment_id":136374782,"body_markdown":"The base image used is over a year old and contains lots of vulnerabilities and may be missing some libraries. Apparently, the OpenJDK base image isn&#39;t maintained for half a year. Maybe changing to Eclipse or Amazoncorretto would be an option.\n\nEither find a base image that contains those missing font libraries or add it to your dockerfile as a step, eg apt-get install or yum install, so that it’ll be installed during packaging.","body":"The base image used is over a year old and contains lots of vulnerabilities and may be missing some libraries. Apparently, the OpenJDK base image isn&#39;t maintained for half a year. Maybe changing to Eclipse or Amazoncorretto would be an option.  Either find a base image that contains those missing font libraries or add it to your dockerfile as a step, eg apt-get install or yum install, so that it’ll be installed during packaging."},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":2,"creation_date":1698219695,"post_id":77352407,"comment_id":136375844,"body_markdown":"The Spring tutorial uses `eclipse-temurin:17-jdk-alpine` instead of `eclipse-temurin:17-jre-alpine` but it could be due to the fact that the JRE image was not available when the tutorial was published: see this [blog post](https://adoptium.net/blog/2021/10/jlink-to-produce-own-runtime/).  If you have just *to run* a Java app, a JRE image is the best choice because it is smaller.","body":"The Spring tutorial uses <code>eclipse-temurin:17-jdk-alpine</code> instead of <code>eclipse-temurin:17-jre-alpine</code> but it could be due to the fact that the JRE image was not available when the tutorial was published: see this <a href=\"https://adoptium.net/blog/2021/10/jlink-to-produce-own-runtime/\" rel=\"nofollow noreferrer\">blog post</a>.  If you have just <i>to run</i> a Java app, a JRE image is the best choice because it is smaller."},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1698241657,"post_id":77352407,"comment_id":136380293,"body_markdown":"@Gehan, have you tried to install one of the packages suggested below?  Was `freetype`   enough or did you need the whole `fontconfig`?  Your feedback could be useful to other people.  If one of the answers solved your problem, remember to approve it.","body":"@Gehan, have you tried to install one of the packages suggested below?  Was <code>freetype</code>   enough or did you need the whole <code>fontconfig</code>?  Your feedback could be useful to other people.  If one of the answers solved your problem, remember to approve it."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1698249435,"post_id":77352407,"comment_id":136382062,"body_markdown":"The Dockerfile itself is unrelated to the error. Spring tutorials dont use Apache POI, which is the root of your issue","body":"The Dockerfile itself is unrelated to the error. Spring tutorials dont use Apache POI, which is the root of your issue"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698158738,"creation_date":1698154314,"answer_id":77352532,"question_id":77352407,"body_markdown":"Based on searching your error, you need to install a font package into the container. \r\n\r\nSince Docker isn&#39;t a Desktop environment, the JDK doesn&#39;t need this for GUI related applications, such as handling Excel files and fonts within them \r\n\r\nFor example, on Debian/Ubuntu image \r\n\r\n```\r\nRUN apt-get update -y \\\r\n  &amp;&amp; apt-get install -y libfontconfig1\r\n```\r\n\r\nOr on Alpine\r\n\r\n```\r\nRUN apk add --no-cache fontconfig \r\n```\r\n\r\nAlso, the POI version you&#39;re using is 2+ years old, before Java 17 was released. Maybe upgrade and there&#39;s a fix available by now\r\n","title":"Need help regarding an error in the Dockerized version of the application","body":"<p>Based on searching your error, you need to install a font package into the container.</p>\n<p>Since Docker isn't a Desktop environment, the JDK doesn't need this for GUI related applications, such as handling Excel files and fonts within them</p>\n<p>For example, on Debian/Ubuntu image</p>\n<pre><code>RUN apt-get update -y \\\n  &amp;&amp; apt-get install -y libfontconfig1\n</code></pre>\n<p>Or on Alpine</p>\n<pre><code>RUN apk add --no-cache fontconfig \n</code></pre>\n<p>Also, the POI version you're using is 2+ years old, before Java 17 was released. Maybe upgrade and there's a fix available by now</p>\n"},{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698220301,"creation_date":1698155095,"answer_id":77352650,"question_id":77352407,"body_markdown":"According to [this page][1], to install `libfreetype.so.6` in Alpine you need the `freetype` package:\r\n\r\n    RUN apk add --no-cache freetype\r\n\r\nI would also change the base image: `openjdk:17-alpine` belongs to the [`openjdk`][2] repository that is deprecated, furthermore your `Dockerfile` suggests that a JRE image is enough for you.  You can use [`eclipse-temurin:17-jre-alpine`][3] or the smaller but unofficial [`pnavato/amazoncorretto-jre:17-alpine`][4].\r\n \r\n\r\n\r\n  [1]: https://pkgs.alpinelinux.org/contents?file=libfreetype.so.6&amp;path=&amp;name=&amp;branch=v3.18&amp;arch=x86_64\r\n  [2]: https://hub.docker.com/_/openjdk\r\n  [3]: https://hub.docker.com/_/eclipse-temurin\r\n  [4]: https://hub.docker.com/r/pnavato/amazoncorretto-jre","title":"Need help regarding an error in the Dockerized version of the application","body":"<p>According to <a href=\"https://pkgs.alpinelinux.org/contents?file=libfreetype.so.6&amp;path=&amp;name=&amp;branch=v3.18&amp;arch=x86_64\" rel=\"nofollow noreferrer\">this page</a>, to install <code>libfreetype.so.6</code> in Alpine you need the <code>freetype</code> package:</p>\n<pre><code>RUN apk add --no-cache freetype\n</code></pre>\n<p>I would also change the base image: <code>openjdk:17-alpine</code> belongs to the <a href=\"https://hub.docker.com/_/openjdk\" rel=\"nofollow noreferrer\"><code>openjdk</code></a> repository that is deprecated, furthermore your <code>Dockerfile</code> suggests that a JRE image is enough for you.  You can use <a href=\"https://hub.docker.com/_/eclipse-temurin\" rel=\"nofollow noreferrer\"><code>eclipse-temurin:17-jre-alpine</code></a> or the smaller but unofficial <a href=\"https://hub.docker.com/r/pnavato/amazoncorretto-jre\" rel=\"nofollow noreferrer\"><code>pnavato/amazoncorretto-jre:17-alpine</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":1171454,"reputation":450,"user_id":1148552,"accept_rate":67,"display_name":"Gehan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700557854,"creation_date":1700557854,"answer_id":77521569,"question_id":77352407,"body_markdown":"As suggested in the above comments by @OneCricketeer and @Pino I\r\nupdated the docker file to handle the error identified due to Openjdk image limitation.\r\n\r\nTo install the required packages (freetype and fontconfig) the Dockerfile was updated as  follows:\r\n\r\n     # Install required libraries\r\n            RUN apk add --no-cache freetype fontconfig\r\n\r\nI also updated the Apache POI dependencies to the latest versions as suggested by @OneCricketeer\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nWhen the above-mentioned updates were made to the Docker file and pom.xml, the existing error was fixed but another issue was displayed due to the same font-related limitation.\r\n\r\n    java. lang.NullPointerException: Cannot load from short array because &quot;sun.awt.FontConfiguration.head&quot; is null.\r\n\r\nI updated the Docker file as mentioned below and they were resolved.\r\n\r\n    RUN apk add --no-cache msttcorefonts-installer fontconfig\r\n    RUN update-ms-fonts\r\n\r\n[Resource][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74975762/docker-and-spring-boot-giving-sun-awt-fontconfiguration-head-is-null","title":"Need help regarding an error in the Dockerized version of the application","body":"<p>As suggested in the above comments by @OneCricketeer and @Pino I\nupdated the docker file to handle the error identified due to Openjdk image limitation.</p>\n<p>To install the required packages (freetype and fontconfig) the Dockerfile was updated as  follows:</p>\n<pre><code> # Install required libraries\n        RUN apk add --no-cache freetype fontconfig\n</code></pre>\n<p>I also updated the Apache POI dependencies to the latest versions as suggested by @OneCricketeer</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;5.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;5.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When the above-mentioned updates were made to the Docker file and pom.xml, the existing error was fixed but another issue was displayed due to the same font-related limitation.</p>\n<pre><code>java. lang.NullPointerException: Cannot load from short array because &quot;sun.awt.FontConfiguration.head&quot; is null.\n</code></pre>\n<p>I updated the Docker file as mentioned below and they were resolved.</p>\n<pre><code>RUN apk add --no-cache msttcorefonts-installer fontconfig\nRUN update-ms-fonts\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/74975762/docker-and-spring-boot-giving-sun-awt-fontconfiguration-head-is-null\">Resource</a></p>\n"}],"owner":{"account_id":1171454,"reputation":450,"user_id":1148552,"accept_rate":67,"display_name":"Gehan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77521569,"answer_count":3,"score":1,"last_activity_date":1700557854,"creation_date":1698153467,"question_id":77352407,"body_markdown":"I am currently working on an application that uses a Spring Boot-based backend based on Java 17. I use Maven as the build tool. The front end is a ReactJS-based application.\r\n\r\nIn my developer environment, I use Oracle JDK java 17.0.4. When I build and execute the report functionality of this application it works as expected.\r\n\r\nBut when the same functionality is checked in a dockerized environment for one Excel report download scenario fails with an error. The back-end log indicates some errors briefly mentioned below.\r\n\r\n***The error message encountered is a Java UnsatisfiedLinkError related to the libfontmanager.so library and its dependency libfreetype.so.6. This error seems to occur when Java is unable to load a required native library (libfreetype.so.6) that is necessary for the functioning of the Java font system.***\r\n\r\nHow can I resolve this issue on Docker environments? Are any changes required for the docker file or Java version used?\r\n\r\n**Related docker File**\r\n\r\n    # === Stage 1: Build the Spring Boot app ===\r\n    FROM maven:3.6.3-openjdk-17 AS build\r\n    WORKDIR /app\r\n    COPY pom.xml .\r\n    COPY src/ /app/src/\r\n    RUN mvn package -DskipTests\r\n    # === Stage 2: Create the final Docker image ===\r\n    FROM openjdk:17-alpine\r\n    WORKDIR /app\r\n    COPY --from=build /app/target/backend-0.0.1-SNAPSHOT.jar app.jar\r\n    # Set environment variables for MySQL configuration\r\n    ENV MYSQL_HOST=localhost\r\n    ENV MYSQL_PORT=****** //Omitted\r\n    ENV MYSQL_DATABASE=db\r\n    ENV MYSQL_USERNAME=****** //Omitted\r\n    ENV MYSQL_PASSWORD=************ //Omitted\r\n    EXPOSE 8080\r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\r\n\r\n**Brief set error messages are listed below.**\r\n\r\n**2023-10-05T07:19:23.875Z ERROR 1 --- [nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.UnsatisfiedLinkError: /opt/openjdk-17/lib/libfontmanager.so: Error loading shared library libfreetype.so.6: No such file or directory (needed by /opt/openjdk-17/lib/libfontmanager.so)] with root cause**\r\n\r\n**java.lang.UnsatisfiedLinkError: /opt/openjdk-17/lib/libfontmanager.so: Error loading shared library libfreetype.so.6: No such file or directory (needed by /opt/openjdk-17/lib/libfontmanager.so)**\r\n\r\n    at java.base/jdk.internal.loader.NativeLibraries.load(Native Method) ~[na:na]\r\n    at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:383) ~[na:na]\r\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:227) ~[na:na]\r\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:169) ~[na:na]\r\n    at java.base/jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:310) ~[na:na]\r\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:280) ~[na:na]\r\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2392) ~[na:na]\r\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:808) ~[na:na]\r\n    at java.base/java.lang.System.loadLibrary(System.java:1893) ~[na:na]\r\n    at java.desktop/sun.font.FontManagerNativeLibrary$1.run(FontManagerNativeLibrary.java:57) ~[na:na]\r\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:312) ~[na:na]\r\n    at java.desktop/sun.font.FontManagerNativeLibrary.&lt;clinit&gt;(FontManagerNativeLibrary.java:32) ~[na:na]\r\n    at java.desktop/sun.font.SunFontManager$1.run(SunFontManager.java:270) ~[na:na]\r\n    at java.desktop/sun.font.SunFontManager$1.run(SunFontManager.java:268) ~[na:na]\r\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:312) ~[na:na]\r\n    at java.desktop/sun.font.SunFontManager.&lt;clinit&gt;(SunFontManager.java:268) ~[na:na]\r\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n    at java.base/java.lang.Class.forName(Class.java:466) ~[na:na]\r\n    at java.desktop/sun.font.FontManagerFactory$1.run(FontManagerFactory.java:82) ~[na:na]\r\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:312) ~[na:na]\r\n    at java.desktop/sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74) ~[na:na]\r\n    at java.desktop/java.awt.Font.getFont2D(Font.java:526) ~[na:na]\r\n    at java.desktop/java.awt.Font.canDisplayUpTo(Font.java:2279) ~[na:na]\r\n    at java.desktop/java.awt.font.TextLayout.singleFont(TextLayout.java:469) ~[na:na]\r\n    at java.desktop/java.awt.font.TextLayout.&lt;init&gt;(TextLayout.java:530) ~[na:na]\r\n    at org.apache.poi.ss.util.SheetUtil.getDefaultCharWidth(SheetUtil.java:285) ~[poi-5.0.0.jar!/:5.0.0]\r\n    at org.apache.poi.ss.util.SheetUtil.getColumnWidth(SheetUtil.java:259) ~[poi-5.0.0.jar!/:5.0.0]\r\n    at org.apache.poi.ss.util.SheetUtil.getColumnWidth(SheetUtil.java:244) ~[poi-5.0.0.jar!/:5.0.0]\r\n    at org.apache.poi.xssf.usermodel.XSSFSheet.autoSizeColumn(XSSFSheet.java:523) ~[poi-ooxml-5.0.0.jar!/:5.0.0]\r\n    at org.apache.poi.xssf.usermodel.XSSFSheet.autoSizeColumn(XSSFSheet.java:505) ~[poi-ooxml-5.0.0.jar!/:5.0.0]\r\n    at com.antarctica21.backend.forecasting.service.PlanService.saveWOSRZipExcelFile(PlanService.java:3352) ~[classes!/:0.0.1-SNAPSHOT]\r\n    at com.antarctica21.backend.forecasting.service.PlanService.getWeekOversSalesExcelDetails(PlanService.java:3244) ~[classes!/:0.0.1-SNAPSHOT] \r\n\r\n\r\n**java.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11FontManager**\r\n\r\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n    at java.base/java.lang.Class.forName(Class.java:466) ~[na:na]\r\n    at java.desktop/sun.font.FontManagerFactory$1.run(FontManagerFactory.java:82) ~[na:na]\r\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:312) ~[na:na]\r\n    at java.desktop/sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74) ~[na:na]\r\n    at java.desktop/java.awt.Font.getFont2D(Font.java:526) ~[na:na]\r\n    at java.desktop/java.awt.Font.canDisplayUpTo(Font.java:2279) ~[na:na]\r\n    at java.desktop/java.awt.font.TextLayout.singleFont(TextLayout.java:469) ~[na:na]\r\n    at java.desktop/java.awt.font.TextLayout.&lt;init&gt;(TextLayout.java:530) ~[na:na]\r\n    at org.apache.poi.ss.util.SheetUtil.getDefaultCharWidth(SheetUtil.java:285) ~[poi-5.0.0.jar!/:5.0.0]\r\n    at org.apache.poi.ss.util.SheetUtil.getColumnWidth(SheetUtil.java:259) ~[poi-5.0.0.jar!/:5.0.0]\r\n    at org.apache.poi.ss.util.SheetUtil.getColumnWidth(SheetUtil.java:244) ~[poi-5.0.0.jar!/:5.0.0]\r\n    at org.apache.poi.xssf.usermodel.XSSFSheet.autoSizeColumn(XSSFSheet.java:523) ~[poi-ooxml-5.0.0.jar!/:5.0.0]\r\n    at org.apache.poi.xssf.usermodel.XSSFSheet.autoSizeColumn(XSSFSheet.java:505) ~[poi-ooxml-5.0.0.jar!/:5.0.0]\r\n    at com.antarctica21.backend.forecasting.service.PlanService.saveWOSRZipExcelFile(PlanService.java:3352) ~[classes!/:0.0.1-SNAPSHOT]\r\n    at com.antarctica21.backend.forecasting.service.PlanService.getWeekOversSalesExcelDetails(PlanService.java:3244) ~[classes!/:0.0.1-SNAPSHOT]\r\n    at com.antarctica21.backend.forecasting.service.PlanService.getWeekOversSalesExcelDetilsByCriteria(PlanService.java:541) ~[classes!/:0.0.1-SNAPSHOT]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar!/:6.0.7]\r\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-6.0.7.jar!/:6.0.7]\r\n    at com.antarctica21.backend.forecasting.service.PlanService$$SpringCGLIB$$0.getWeekOversSalesExcelDetilsByCriteria(&lt;generated&gt;) ~[classes!/:0.0.1-SNAPSHOT]\r\n    at com.antarctica21.backend.forecasting.controller.PlanController.getWeekOversSalesExcelDetilsByCriteria(PlanController.java:190) ~[classes!/:0.0.1-SNAPSHOT]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\r\n**Update on Issue**\r\nUpdated the docker file to handle the error identified due to Openjdk image limitation as suggested in below mentioned comments\r\n\r\nTo install the required packages (freetype and fontconfig) the Dockerfile was updated as  follows:\r\n\r\n    # Install required libraries\r\n        RUN apk add --no-cache freetype fontconfig\r\n\r\nI also updated the Apache POI dependencies to the latest versions as suggested.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Update on Issue 2**\r\nWhen the above-mentioned updates were made to the Docker file, the existing error was fixed but another issue was displayed due to font-related limitations.\r\n\r\njava. lang.NullPointerException: Cannot load from short array because &quot;sun.awt.FontConfiguration.head&quot; is null.\r\n\r\nUpdated the Docker file as mentioned below and the were resolved.\r\n\r\n    RUN apk add --no-cache msttcorefonts-installer fontconfig\r\n    RUN update-ms-fonts","title":"Need help regarding an error in the Dockerized version of the application","body":"<p>I am currently working on an application that uses a Spring Boot-based backend based on Java 17. I use Maven as the build tool. The front end is a ReactJS-based application.</p>\n<p>In my developer environment, I use Oracle JDK java 17.0.4. When I build and execute the report functionality of this application it works as expected.</p>\n<p>But when the same functionality is checked in a dockerized environment for one Excel report download scenario fails with an error. The back-end log indicates some errors briefly mentioned below.</p>\n<p><em><strong>The error message encountered is a Java UnsatisfiedLinkError related to the libfontmanager.so library and its dependency libfreetype.so.6. This error seems to occur when Java is unable to load a required native library (libfreetype.so.6) that is necessary for the functioning of the Java font system.</strong></em></p>\n<p>How can I resolve this issue on Docker environments? Are any changes required for the docker file or Java version used?</p>\n<p><strong>Related docker File</strong></p>\n<pre><code># === Stage 1: Build the Spring Boot app ===\nFROM maven:3.6.3-openjdk-17 AS build\nWORKDIR /app\nCOPY pom.xml .\nCOPY src/ /app/src/\nRUN mvn package -DskipTests\n# === Stage 2: Create the final Docker image ===\nFROM openjdk:17-alpine\nWORKDIR /app\nCOPY --from=build /app/target/backend-0.0.1-SNAPSHOT.jar app.jar\n# Set environment variables for MySQL configuration\nENV MYSQL_HOST=localhost\nENV MYSQL_PORT=****** //Omitted\nENV MYSQL_DATABASE=db\nENV MYSQL_USERNAME=****** //Omitted\nENV MYSQL_PASSWORD=************ //Omitted\nEXPOSE 8080\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\n</code></pre>\n<p><strong>Brief set error messages are listed below.</strong></p>\n<p><strong>2023-10-05T07:19:23.875Z ERROR 1 --- [nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.UnsatisfiedLinkError: /opt/openjdk-17/lib/libfontmanager.so: Error loading shared library libfreetype.so.6: No such file or directory (needed by /opt/openjdk-17/lib/libfontmanager.so)] with root cause</strong></p>\n<p><strong>java.lang.UnsatisfiedLinkError: /opt/openjdk-17/lib/libfontmanager.so: Error loading shared library libfreetype.so.6: No such file or directory (needed by /opt/openjdk-17/lib/libfontmanager.so)</strong></p>\n<pre><code>at java.base/jdk.internal.loader.NativeLibraries.load(Native Method) ~[na:na]\nat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:383) ~[na:na]\nat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:227) ~[na:na]\nat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:169) ~[na:na]\nat java.base/jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:310) ~[na:na]\nat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:280) ~[na:na]\nat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2392) ~[na:na]\nat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:808) ~[na:na]\nat java.base/java.lang.System.loadLibrary(System.java:1893) ~[na:na]\nat java.desktop/sun.font.FontManagerNativeLibrary$1.run(FontManagerNativeLibrary.java:57) ~[na:na]\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:312) ~[na:na]\nat java.desktop/sun.font.FontManagerNativeLibrary.&lt;clinit&gt;(FontManagerNativeLibrary.java:32) ~[na:na]\nat java.desktop/sun.font.SunFontManager$1.run(SunFontManager.java:270) ~[na:na]\nat java.desktop/sun.font.SunFontManager$1.run(SunFontManager.java:268) ~[na:na]\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:312) ~[na:na]\nat java.desktop/sun.font.SunFontManager.&lt;clinit&gt;(SunFontManager.java:268) ~[na:na]\nat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\nat java.base/java.lang.Class.forName(Class.java:466) ~[na:na]\nat java.desktop/sun.font.FontManagerFactory$1.run(FontManagerFactory.java:82) ~[na:na]\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:312) ~[na:na]\nat java.desktop/sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74) ~[na:na]\nat java.desktop/java.awt.Font.getFont2D(Font.java:526) ~[na:na]\nat java.desktop/java.awt.Font.canDisplayUpTo(Font.java:2279) ~[na:na]\nat java.desktop/java.awt.font.TextLayout.singleFont(TextLayout.java:469) ~[na:na]\nat java.desktop/java.awt.font.TextLayout.&lt;init&gt;(TextLayout.java:530) ~[na:na]\nat org.apache.poi.ss.util.SheetUtil.getDefaultCharWidth(SheetUtil.java:285) ~[poi-5.0.0.jar!/:5.0.0]\nat org.apache.poi.ss.util.SheetUtil.getColumnWidth(SheetUtil.java:259) ~[poi-5.0.0.jar!/:5.0.0]\nat org.apache.poi.ss.util.SheetUtil.getColumnWidth(SheetUtil.java:244) ~[poi-5.0.0.jar!/:5.0.0]\nat org.apache.poi.xssf.usermodel.XSSFSheet.autoSizeColumn(XSSFSheet.java:523) ~[poi-ooxml-5.0.0.jar!/:5.0.0]\nat org.apache.poi.xssf.usermodel.XSSFSheet.autoSizeColumn(XSSFSheet.java:505) ~[poi-ooxml-5.0.0.jar!/:5.0.0]\nat com.antarctica21.backend.forecasting.service.PlanService.saveWOSRZipExcelFile(PlanService.java:3352) ~[classes!/:0.0.1-SNAPSHOT]\nat com.antarctica21.backend.forecasting.service.PlanService.getWeekOversSalesExcelDetails(PlanService.java:3244) ~[classes!/:0.0.1-SNAPSHOT] \n</code></pre>\n<p><strong>java.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11FontManager</strong></p>\n<pre><code>at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\nat java.base/java.lang.Class.forName(Class.java:466) ~[na:na]\nat java.desktop/sun.font.FontManagerFactory$1.run(FontManagerFactory.java:82) ~[na:na]\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:312) ~[na:na]\nat java.desktop/sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74) ~[na:na]\nat java.desktop/java.awt.Font.getFont2D(Font.java:526) ~[na:na]\nat java.desktop/java.awt.Font.canDisplayUpTo(Font.java:2279) ~[na:na]\nat java.desktop/java.awt.font.TextLayout.singleFont(TextLayout.java:469) ~[na:na]\nat java.desktop/java.awt.font.TextLayout.&lt;init&gt;(TextLayout.java:530) ~[na:na]\nat org.apache.poi.ss.util.SheetUtil.getDefaultCharWidth(SheetUtil.java:285) ~[poi-5.0.0.jar!/:5.0.0]\nat org.apache.poi.ss.util.SheetUtil.getColumnWidth(SheetUtil.java:259) ~[poi-5.0.0.jar!/:5.0.0]\nat org.apache.poi.ss.util.SheetUtil.getColumnWidth(SheetUtil.java:244) ~[poi-5.0.0.jar!/:5.0.0]\nat org.apache.poi.xssf.usermodel.XSSFSheet.autoSizeColumn(XSSFSheet.java:523) ~[poi-ooxml-5.0.0.jar!/:5.0.0]\nat org.apache.poi.xssf.usermodel.XSSFSheet.autoSizeColumn(XSSFSheet.java:505) ~[poi-ooxml-5.0.0.jar!/:5.0.0]\nat com.antarctica21.backend.forecasting.service.PlanService.saveWOSRZipExcelFile(PlanService.java:3352) ~[classes!/:0.0.1-SNAPSHOT]\nat com.antarctica21.backend.forecasting.service.PlanService.getWeekOversSalesExcelDetails(PlanService.java:3244) ~[classes!/:0.0.1-SNAPSHOT]\nat com.antarctica21.backend.forecasting.service.PlanService.getWeekOversSalesExcelDetilsByCriteria(PlanService.java:541) ~[classes!/:0.0.1-SNAPSHOT]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar!/:6.0.7]\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-6.0.7.jar!/:6.0.7]\nat com.antarctica21.backend.forecasting.service.PlanService$$SpringCGLIB$$0.getWeekOversSalesExcelDetilsByCriteria(&lt;generated&gt;) ~[classes!/:0.0.1-SNAPSHOT]\nat com.antarctica21.backend.forecasting.controller.PlanController.getWeekOversSalesExcelDetilsByCriteria(PlanController.java:190) ~[classes!/:0.0.1-SNAPSHOT]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n</code></pre>\n<p><strong>Update on Issue</strong>\nUpdated the docker file to handle the error identified due to Openjdk image limitation as suggested in below mentioned comments</p>\n<p>To install the required packages (freetype and fontconfig) the Dockerfile was updated as  follows:</p>\n<pre><code># Install required libraries\n    RUN apk add --no-cache freetype fontconfig\n</code></pre>\n<p>I also updated the Apache POI dependencies to the latest versions as suggested.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;5.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;5.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Update on Issue 2</strong>\nWhen the above-mentioned updates were made to the Docker file, the existing error was fixed but another issue was displayed due to font-related limitations.</p>\n<p>java. lang.NullPointerException: Cannot load from short array because &quot;sun.awt.FontConfiguration.head&quot; is null.</p>\n<p>Updated the Docker file as mentioned below and the were resolved.</p>\n<pre><code>RUN apk add --no-cache msttcorefonts-installer fontconfig\nRUN update-ms-fonts\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"score":0,"creation_date":1690085743,"post_id":28673740,"comment_id":135302756,"body_markdown":"You probably need to add jar with driver class to class path when running your program to eliminate throwing ClassNotFound at runtime","body":"You probably need to add jar with driver class to class path when running your program to eliminate throwing ClassNotFound at runtime"}],"answers":[{"tags":[],"owner":{"account_id":1250747,"reputation":12431,"user_id":1640490,"accept_rate":92,"display_name":"nano_nano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424694285,"creation_date":1424694285,"answer_id":28673779,"question_id":28673740,"body_markdown":"one of your methods throw a `ClassNotFoundException` and you are responsible to deal with those exceptions.\r\nA quickfix \r\n\r\n    public static void main(String args[]) throws Exception\r\n\r\nin this case the exception is printed ot to your console(please expand your question with that output).\r\n\r\nFurthermore be sure that you add the jdbc driver library to your project.\r\n","title":"unreported exception ClassNotFoundException;must be caught or declared to be thrown","body":"<p>one of your methods throw a <code>ClassNotFoundException</code> and you are responsible to deal with those exceptions.\nA quickfix </p>\n\n<pre><code>public static void main(String args[]) throws Exception\n</code></pre>\n\n<p>in this case the exception is printed ot to your console(please expand your question with that output).</p>\n\n<p>Furthermore be sure that you add the jdbc driver library to your project.</p>\n"},{"tags":[],"owner":{"account_id":1857756,"reputation":1598,"user_id":1682984,"display_name":"Aram Paronikyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424696555,"creation_date":1424696555,"answer_id":28674460,"question_id":28673740,"body_markdown":"`ClassNotFoundException` is a subclass of Exception, that&#39;s why you pass compiler. `SQLException` class doesn&#39;t wrap `ClassNotFoundException`. Since the `forName()` method of the &quot;`Class`&quot; class is declared as &quot;`throws ClassNotFoundException`&quot;, the compiler will require you to wrap the method call with a try/catch block or a `throws` clause on the caller method. The `catch` block must use either a `ClassNotFoundException` or one of its parent `Exception` classes.\r\n\r\nYou need to figure out the exception throwing at runtime to check why it fails to run ahead.","title":"unreported exception ClassNotFoundException;must be caught or declared to be thrown","body":"<p><code>ClassNotFoundException</code> is a subclass of Exception, that's why you pass compiler. <code>SQLException</code> class doesn't wrap <code>ClassNotFoundException</code>. Since the <code>forName()</code> method of the \"<code>Class</code>\" class is declared as \"<code>throws ClassNotFoundException</code>\", the compiler will require you to wrap the method call with a try/catch block or a <code>throws</code> clause on the caller method. The <code>catch</code> block must use either a <code>ClassNotFoundException</code> or one of its parent <code>Exception</code> classes.</p>\n\n<p>You need to figure out the exception throwing at runtime to check why it fails to run ahead.</p>\n"}],"owner":{"account_id":1259489,"reputation":21,"user_id":1218205,"display_name":"user1218205"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8916,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1700557510,"creation_date":1424694161,"question_id":28673740,"body_markdown":"This is the program I try to compile using jdk.&quot;satya&quot; in the program refers to an msaccess db file database.when I try to compile it is showing error like `&quot;MyClass.java:0:error:unreported exception ClassNotFoundException;must be caught or declared to be thrown&quot;`.Even if I change the exception in the program from `SQLException` to Exception it compiles sucessfully.But throwing exception when running the program.How to execute??\r\n\r\n   \r\n\r\n    import java.sql.*;\r\n  \r\n    class MyClass\r\n    {\r\n         public static void main(String args[])\r\n         {\r\n  \r\n          try{ \r\n                Class.forName(&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;);\r\n               Connection con=DriverManager.getConnection(&quot;jdbc:odbc:satya&quot;,&quot;&quot;,&quot;&quot;);\r\n               Statement st=con.createStatement();\r\n               ResultSet rs=st.executeQuery(&quot;select * from studentinfo&quot;);\r\n               while(rs.next())\r\n               {\r\n                 System.out.println(rs.getInt(1)+&quot;\\t&quot;+\r\n                 rs.getString(2)+&quot;\\t&quot;+\r\n                 rs.getString(3)+&quot;\\t&quot;);\r\n               }\r\n             rs.close();\r\n            st.close();\r\n   \r\n            }\r\n            catch (SQLException e) {\r\n                 System.out.println(&quot;&lt;P&gt;&quot; + &quot;There was an error doing the query:&quot;);\r\n                System.out.println (&quot;&lt;PRE&gt;&quot; + e + &quot;&lt;/PRE&gt; \\n &lt;P&gt;&quot;);\r\n              }\r\n     }\r\n     }\r\n","title":"unreported exception ClassNotFoundException;must be caught or declared to be thrown","body":"<p>This is the program I try to compile using jdk.\"satya\" in the program refers to an msaccess db file database.when I try to compile it is showing error like <code>\"MyClass.java:0:error:unreported exception ClassNotFoundException;must be caught or declared to be thrown\"</code>.Even if I change the exception in the program from <code>SQLException</code> to Exception it compiles sucessfully.But throwing exception when running the program.How to execute??</p>\n\n<pre><code>import java.sql.*;\n\nclass MyClass\n{\n     public static void main(String args[])\n     {\n\n      try{ \n            Class.forName(\"sun.jdbc.odbc.JdbcOdbcDriver\");\n           Connection con=DriverManager.getConnection(\"jdbc:odbc:satya\",\"\",\"\");\n           Statement st=con.createStatement();\n           ResultSet rs=st.executeQuery(\"select * from studentinfo\");\n           while(rs.next())\n           {\n             System.out.println(rs.getInt(1)+\"\\t\"+\n             rs.getString(2)+\"\\t\"+\n             rs.getString(3)+\"\\t\");\n           }\n         rs.close();\n        st.close();\n\n        }\n        catch (SQLException e) {\n             System.out.println(\"&lt;P&gt;\" + \"There was an error doing the query:\");\n            System.out.println (\"&lt;PRE&gt;\" + e + \"&lt;/PRE&gt; \\n &lt;P&gt;\");\n          }\n }\n }\n</code></pre>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1490339610,"post_id":42993428,"comment_id":73077505,"body_markdown":"Jump to the definition of `get`, see if it says `throws JqlException`. If it does, you must use try...catch.","body":"Jump to the definition of <code>get</code>, see if it says <code>throws JqlException</code>. If it does, you must use try...catch."},{"owner":{"account_id":7679118,"reputation":6230,"user_id":5818889,"accept_rate":83,"display_name":"glee8e"},"score":4,"creation_date":1490340710,"post_id":42993428,"comment_id":73078021,"body_markdown":"It seems that quite a lot of people are considering Optional as the NextGeneration™ control flow construct. That&#39;s not going to happen. Optional, as well as its primitive counterparts, inherently can&#39;t handle this kind of task. It&#39;s not designed to completely replace control flow constructs like if-else or try-catch. Instead, it focuses on getting rid of those endless null checks.","body":"It seems that quite a lot of people are considering Optional as the NextGeneration™ control flow construct. That&#39;s not going to happen. Optional, as well as its primitive counterparts, inherently can&#39;t handle this kind of task. It&#39;s not designed to completely replace control flow constructs like if-else or try-catch. Instead, it focuses on getting rid of those endless null checks."},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1490346759,"post_id":42993428,"comment_id":73081084,"body_markdown":"@glee8e *[`Optional`] focuses on getting rid of those endless null checks.* I&#39;d be more specific. Many people would jump to the conclusion that they ought to replace all occurrences of `null` with `Optional`, which goes against the intent of `Optional`&#39;s designers.","body":"@glee8e <i>[<code>Optional</code>] focuses on getting rid of those endless null checks.</i> I&#39;d be more specific. Many people would jump to the conclusion that they ought to replace all occurrences of <code>null</code> with <code>Optional</code>, which goes against the intent of <code>Optional</code>&#39;s designers."},{"owner":{"account_id":7679118,"reputation":6230,"user_id":5818889,"accept_rate":83,"display_name":"glee8e"},"score":0,"creation_date":1490442478,"post_id":42993428,"comment_id":73120432,"body_markdown":"@Jubobs Maybe I&#39;m still not senior enough to know where `null` can&#39;t be replaced with `Optional`, except in performance critical code or there is a design flaw. Please point out a situation, except those listed above, where `null` is used but `Optional` is not applicable.","body":"@Jubobs Maybe I&#39;m still not senior enough to know where <code>null</code> can&#39;t be replaced with <code>Optional</code>, except in performance critical code or there is a design flaw. Please point out a situation, except those listed above, where <code>null</code> is used but <code>Optional</code> is not applicable."},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":1,"creation_date":1490646528,"post_id":42993428,"comment_id":73196249,"body_markdown":"@glee8e You shouldn&#39;t use `Optional` fields or parameters. [As Brian Goetz puts it](http://stackoverflow.com/a/26328555/2541573), *[their] intention was to provide a limited mechanism for library method return types where there needed to be a clear way to represent &quot;no result&quot;, and using `null` for such was overwhelmingly likely to cause errors*. See also [this great talk by Stuart Marks](https://www.youtube.com/watch?v=Ej0sss6cq14).","body":"@glee8e You shouldn&#39;t use <code>Optional</code> fields or parameters. <a href=\"http://stackoverflow.com/a/26328555/2541573\">As Brian Goetz puts it</a>, <i>[their] intention was to provide a limited mechanism for library method return types where there needed to be a clear way to represent &quot;no result&quot;, and using <code>null</code> for such was overwhelmingly likely to cause errors</i>. See also <a href=\"https://www.youtube.com/watch?v=Ej0sss6cq14\" rel=\"nofollow noreferrer\">this great talk by Stuart Marks</a>."},{"owner":{"account_id":7679118,"reputation":6230,"user_id":5818889,"accept_rate":83,"display_name":"glee8e"},"score":0,"creation_date":1490700938,"post_id":42993428,"comment_id":73220231,"body_markdown":"@Jubobs Well, such weird usage of Optional never occurred to me. Thanks to point out another weird mistake people may make.","body":"@Jubobs Well, such weird usage of Optional never occurred to me. Thanks to point out another weird mistake people may make."},{"owner":{"account_id":1911430,"reputation":2483,"user_id":1725151,"accept_rate":67,"display_name":"Guildenstern"},"score":0,"creation_date":1594289468,"post_id":42993428,"comment_id":111076664,"body_markdown":"@glee8e Regarding “next generation”: Optional values have been used in ML-like languages for decades.  But ML-like languages have algebraic data types and pattern matching which makes using values-as-errors more ergonomic.","body":"@glee8e Regarding “next generation”: Optional values have been used in ML-like languages for decades.  But ML-like languages have algebraic data types and pattern matching which makes using values-as-errors more ergonomic."}],"answers":[{"tags":[],"owner":{"account_id":1316033,"reputation":7857,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"down_vote_count":0,"up_vote_count":97,"is_accepted":true,"score":97,"last_activity_date":1601508686,"creation_date":1490339899,"answer_id":42993594,"question_id":42993428,"body_markdown":"`Optional` is not intended for the purpose of dealing with exceptions, it was intended to deal with potential `null`s without breaking the flow of your program.  For example:\r\n\r\n     myOptional.map(Integer::parseInt).orElseThrow(() -&gt; new RuntimeException(&quot;No data!&quot;);\r\n\r\nThis will automatically skip the `map` step if the optional was empty and go right to the `throw` step -- a nice unbroken program flow.\r\n\r\nWhen you write:\r\n\r\n     myOptionalValue.orElseThrow(() -&gt; new RuntimeException(&quot;Unavailable&quot;));\r\n\r\n... what you are really saying is: Return my optional value, but throw an exception if it is not available.\r\n\r\nWhat you seem to want is a way to create an optional (that instantly catches the exception) and will rethrow that exception when you try using the optional.\r\n","title":"Throw exception in optional in Java8","body":"<p><code>Optional</code> is not intended for the purpose of dealing with exceptions, it was intended to deal with potential <code>null</code>s without breaking the flow of your program.  For example:</p>\n<pre><code> myOptional.map(Integer::parseInt).orElseThrow(() -&gt; new RuntimeException(&quot;No data!&quot;);\n</code></pre>\n<p>This will automatically skip the <code>map</code> step if the optional was empty and go right to the <code>throw</code> step -- a nice unbroken program flow.</p>\n<p>When you write:</p>\n<pre><code> myOptionalValue.orElseThrow(() -&gt; new RuntimeException(&quot;Unavailable&quot;));\n</code></pre>\n<p>... what you are really saying is: Return my optional value, but throw an exception if it is not available.</p>\n<p>What you seem to want is a way to create an optional (that instantly catches the exception) and will rethrow that exception when you try using the optional.</p>\n"},{"tags":[],"owner":{"account_id":1215517,"reputation":5628,"user_id":1183192,"accept_rate":82,"display_name":"stevecross"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1490366072,"creation_date":1490339922,"answer_id":42993601,"question_id":42993428,"body_markdown":"That&#39;s not how Optionals work. They don&#39;t make try-catch-blocks obsolete. However, you could introduce a new wrapper-function like this:\r\n\r\n    public Optional&lt;MyObject&gt; getMyObject(final String jql) {\r\n        try {\r\n            return Optional.ofNullable(get(sql));\r\n        } catch (final JqlParseException e) {\r\n            return Optional.empty();\r\n        }\r\n    }\r\n\r\nYou won&#39;t have to deal with the exception anymore, but you won&#39;t know if there was an error if you get an empty Optional as well.","title":"Throw exception in optional in Java8","body":"<p>That's not how Optionals work. They don't make try-catch-blocks obsolete. However, you could introduce a new wrapper-function like this:</p>\n\n<pre><code>public Optional&lt;MyObject&gt; getMyObject(final String jql) {\n    try {\n        return Optional.ofNullable(get(sql));\n    } catch (final JqlParseException e) {\n        return Optional.empty();\n    }\n}\n</code></pre>\n\n<p>You won't have to deal with the exception anymore, but you won't know if there was an error if you get an empty Optional as well.</p>\n"},{"tags":[],"owner":{"account_id":17689918,"reputation":21,"user_id":12841950,"display_name":"naveen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622150794,"creation_date":1622150794,"answer_id":67730196,"question_id":42993428,"body_markdown":"Try this\r\n\r\n    Optional.ofNullable(result)\r\n                    .orElseThrow(() -&gt; new GenericClientException(&quot;Request body is not valid&quot;, HttpStatus.BAD_REQUEST));","title":"Throw exception in optional in Java8","body":"<p>Try this</p>\n<pre><code>Optional.ofNullable(result)\n                .orElseThrow(() -&gt; new GenericClientException(&quot;Request body is not valid&quot;, HttpStatus.BAD_REQUEST));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11318804,"reputation":161,"user_id":8299708,"display_name":"sudha mosalikanti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700557440,"creation_date":1642769072,"answer_id":70801481,"question_id":42993428,"body_markdown":"    if (StringUtils.isEmpty(message)) {\r\n    \t\t\t\t\r\n    \t\t\t\tthrow new ValidationException(&quot;empty message body received from the queue&quot;);\r\n\t\r\n\r\n**in java 8**\r\n\r\n    Optional.ofNullable(message).filter(message -&gt; !message.isEmpty()).orElseThrow(() -&gt; \r\n    \t\t\t\tnew ValidationException(&quot;empty message body received from the queue&quot;)\r\n    \t\t\t\t\r\n    \t\t\t);\r\n\t\t\t\t","title":"Throw exception in optional in Java8","body":"<pre><code>if (StringUtils.isEmpty(message)) {\n                \n                throw new ValidationException(&quot;empty message body received from the queue&quot;);\n</code></pre>\n<p><strong>in java 8</strong></p>\n<pre><code>Optional.ofNullable(message).filter(message -&gt; !message.isEmpty()).orElseThrow(() -&gt; \n                new ValidationException(&quot;empty message body received from the queue&quot;)\n                \n            );\n            \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8531772,"reputation":1,"user_id":6395156,"display_name":"Millys Carvalhaes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652362672,"creation_date":1652362672,"answer_id":72216646,"question_id":42993428,"body_markdown":"Optional helps to deal with NullPointerException.\r\n\r\nYou can use it to cast new exceptions as mentioned.\r\n\r\n    MyObject object = Optional.ofNullable(get(sql)).orElseThrow(RuntimeException::new);\r\n\r\nHowever, your method `get(sql)` is not returning NULL, which invalidates the use of OPTIONAL as desired. \r\n\r\nI would keep using Try Catch.","title":"Throw exception in optional in Java8","body":"<p>Optional helps to deal with NullPointerException.</p>\n<p>You can use it to cast new exceptions as mentioned.</p>\n<pre><code>MyObject object = Optional.ofNullable(get(sql)).orElseThrow(RuntimeException::new);\n</code></pre>\n<p>However, your method <code>get(sql)</code> is not returning NULL, which invalidates the use of OPTIONAL as desired.</p>\n<p>I would keep using Try Catch.</p>\n"}],"owner":{"account_id":10376134,"reputation":621,"user_id":7652249,"accept_rate":50,"display_name":"joe paulens"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127850,"favorite_count":0,"down_vote_count":1,"up_vote_count":53,"accepted_answer_id":42993594,"answer_count":5,"score":52,"last_activity_date":1700557440,"creation_date":1490339287,"question_id":42993428,"body_markdown":"There is a method `get(sql)` (I can not modify it). This method returns MyObjects and it has to be in try catch block because `JqlParseException` is possible there. My code is:\r\n\r\n    String sql = something;\r\n    try{\r\n       MyObject object = get(sql);\r\n    } catch(JqlParseException e){\r\n       e.printStackTrace();\r\n    } catch(RuntimeException e){\r\n       e.printStackTrace();\r\n    }\r\nI want to remove try catch and use `Optional` class, I tried:\r\n\r\n    MyObject object = Optional.ofNullable(get(sql)).orElseThrow(RuntimeException::new);\r\nbut IDE force there try catch too.\r\n And for:\r\n\r\n    MyObject object = Optional.ofNullable(get(sql)).orElseThrow(JqlParseException::new));\r\n\r\nis an error (in IDE) `The type JqlParseException does not define JqlParseException() that is applicable `. Is there any way to avoid try catch blocks and use optional?\r\n","title":"Throw exception in optional in Java8","body":"<p>There is a method <code>get(sql)</code> (I can not modify it). This method returns MyObjects and it has to be in try catch block because <code>JqlParseException</code> is possible there. My code is:</p>\n\n<pre><code>String sql = something;\ntry{\n   MyObject object = get(sql);\n} catch(JqlParseException e){\n   e.printStackTrace();\n} catch(RuntimeException e){\n   e.printStackTrace();\n}\n</code></pre>\n\n<p>I want to remove try catch and use <code>Optional</code> class, I tried:</p>\n\n<pre><code>MyObject object = Optional.ofNullable(get(sql)).orElseThrow(RuntimeException::new);\n</code></pre>\n\n<p>but IDE force there try catch too.\n And for:</p>\n\n<pre><code>MyObject object = Optional.ofNullable(get(sql)).orElseThrow(JqlParseException::new));\n</code></pre>\n\n<p>is an error (in IDE) <code>The type JqlParseException does not define JqlParseException() that is applicable</code>. Is there any way to avoid try catch blocks and use optional?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1838436,"reputation":27,"user_id":1668346,"display_name":"Undoht"},"score":0,"creation_date":1700556924,"post_id":77521380,"comment_id":136666171,"body_markdown":"Adding implementation of client fixes the problem:\n\n    testImplementation &#39;org.glassfish.jersey.core:jersey-client:3.1.3&#39;","body":"Adding implementation of client fixes the problem:      testImplementation &#39;org.glassfish.jersey.core:jersey-client:3.1.3&#39;"}],"answers":[{"tags":[],"owner":{"account_id":1838436,"reputation":27,"user_id":1668346,"display_name":"Undoht"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700557013,"creation_date":1700557013,"answer_id":77521493,"question_id":77521380,"body_markdown":"Adding implementation of client into dependencies fixes the problem:\r\n\r\n**testImplementation &#39;org.glassfish.jersey.core:jersey-client:3.1.3&#39;** \r\n\r\nThanks to [this][1]\r\n\r\n\r\n  [1]: https://github.com/maruTA-bis5/mattermost4j/discussions/482","title":"Library tests in java project fail with ClassNotFoundException for jakarta class","body":"<p>Adding implementation of client into dependencies fixes the problem:</p>\n<p><strong>testImplementation 'org.glassfish.jersey.core:jersey-client:3.1.3'</strong></p>\n<p>Thanks to <a href=\"https://github.com/maruTA-bis5/mattermost4j/discussions/482\" rel=\"nofollow noreferrer\">this</a></p>\n"}],"owner":{"account_id":1838436,"reputation":27,"user_id":1668346,"display_name":"Undoht"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77521493,"answer_count":1,"score":0,"last_activity_date":1700557013,"creation_date":1700555944,"question_id":77521380,"body_markdown":"I am migrating one java library project (but the problem is reproducible for normal web java app as well) from java 8 to java 11 where I am started to use  **jakarta.ws.rs.client.ClientBuilder** class from **jakarta.ws.rs:jakarta.ws.rs-api:3.1.0** instead of old **javax** class. And for both main and test modules compilation works, but running tests fails with:\r\n```\r\nProvider for jakarta.ws.rs.client.ClientBuilder cannot be found\r\njava.lang.ClassNotFoundException: Provider for jakarta.ws.rs.client.ClientBuilder cannot be found\r\n\tat jakarta.ws.rs.client.FactoryFinder.find(FactoryFinder.java:163)\r\n\tat jakarta.ws.rs.client.ClientBuilder.newBuilder(ClientBuilder.java:62)\r\n\tat com.stackoverflow.FooTests.simpleTest(FooTests.java:10)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:108)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:40)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:60)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:52)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n```\r\n\r\nTest class looks like:\r\n```\r\npackage com.stackoverflow;\r\n\r\nimport jakarta.ws.rs.client.ClientBuilder;\r\nimport org.junit.Test;\r\n\r\n\r\npublic class FooTests {\r\n    @Test\r\n    public void simpleTest() {\r\n        ClientBuilder.newBuilder();\r\n    }\r\n}\r\n```\r\n\r\nIs it due the fact that actual implementation is not presented in tests runtime?\r\nIs there an easy way to fix it somehow?\r\n\r\n","title":"Library tests in java project fail with ClassNotFoundException for jakarta class","body":"<p>I am migrating one java library project (but the problem is reproducible for normal web java app as well) from java 8 to java 11 where I am started to use  <strong>jakarta.ws.rs.client.ClientBuilder</strong> class from <strong>jakarta.ws.rs:jakarta.ws.rs-api:3.1.0</strong> instead of old <strong>javax</strong> class. And for both main and test modules compilation works, but running tests fails with:</p>\n<pre><code>Provider for jakarta.ws.rs.client.ClientBuilder cannot be found\njava.lang.ClassNotFoundException: Provider for jakarta.ws.rs.client.ClientBuilder cannot be found\n    at jakarta.ws.rs.client.FactoryFinder.find(FactoryFinder.java:163)\n    at jakarta.ws.rs.client.ClientBuilder.newBuilder(ClientBuilder.java:62)\n    at com.stackoverflow.FooTests.simpleTest(FooTests.java:10)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:108)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:40)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:60)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:52)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n</code></pre>\n<p>Test class looks like:</p>\n<pre><code>package com.stackoverflow;\n\nimport jakarta.ws.rs.client.ClientBuilder;\nimport org.junit.Test;\n\n\npublic class FooTests {\n    @Test\n    public void simpleTest() {\n        ClientBuilder.newBuilder();\n    }\n}\n</code></pre>\n<p>Is it due the fact that actual implementation is not presented in tests runtime?\nIs there an easy way to fix it somehow?</p>\n"},{"tags":["java","android","android-billing"],"answers":[{"tags":[],"owner":{"account_id":29520193,"reputation":857,"user_id":22623172,"display_name":"Vlad Guriev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700556578,"creation_date":1700556578,"answer_id":77521440,"question_id":77521357,"body_markdown":"No, it&#39;s not possible. But you can call `BillingClient.queryPurchasesAsync()` in your `onResume()` method, as suggested [here][1], and try to acknowledge/consume the unprocessed.\r\n\r\nBesides consuming the second one, you have to acknowledge your one-time purchase as otherwise it will be refunded by Google in 3 days.\r\n\r\n\r\n  [1]: https://developer.android.com/google/play/billing/integrate#fetch","title":"Android Billing : How to cancel Purchase if ConsumeParams failed","body":"<p>No, it's not possible. But you can call <code>BillingClient.queryPurchasesAsync()</code> in your <code>onResume()</code> method, as suggested <a href=\"https://developer.android.com/google/play/billing/integrate#fetch\" rel=\"nofollow noreferrer\">here</a>, and try to acknowledge/consume the unprocessed.</p>\n<p>Besides consuming the second one, you have to acknowledge your one-time purchase as otherwise it will be refunded by Google in 3 days.</p>\n"}],"owner":{"account_id":17035734,"reputation":201,"user_id":12324822,"display_name":"Espada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700556578,"creation_date":1700555661,"question_id":77521357,"body_markdown":"On an active and stable internet network, the purchasing process does not have any obstacles, but when a purchase is made on an unstable and super slow internet network (possibly disconnected, lost network or something else), sometimes users can&#39;t wait and cancel the purchase by close the application directly or by other means.\r\n\r\nI have 2 types of digital content for sale, the first is a one-time purchase and the second can be purchased multiple times.\r\n\r\nThe problem is in the second type, when the purchase is successful but fails to consume, the end result is a one-time purchase and cannot be purchased again by the user.\r\n\r\nWhat I want to ask is how to cancel a purchase if ConsumeParams fails to consume the purchase? is that possible.\r\n\r\n        @Override\r\n        public void onPurchasesUpdated(@NonNull BillingResult billingResult, @Nullable List&lt;Purchase&gt; list) {\r\n            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\r\n                handlePurchases(list);\r\n            } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.ITEM_ALREADY_OWNED) {\r\n                new Handler(Looper.getMainLooper()).post(this::CANCELED);\r\n            } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.USER_CANCELED) {\r\n                new Handler(Looper.getMainLooper()).post(() -&gt; {\r\n                    binding.PurchaseTxtMessage.setText(R.string.DPurchase_Canceled);\r\n                    CANCELED();\r\n                });\r\n            } else {\r\n                new Handler(Looper.getMainLooper()).post(() -&gt; {\r\n                    binding.PurchaseTxtMessage.setText(R.string.DPurchase_Canceled);\r\n                    CANCELED();\r\n                });\r\n            }\r\n        }\r\n    \r\n        private void handlePurchases(List&lt;Purchase&gt;  purchases) {\r\n            for(Purchase purchase:purchases) {\r\n                if (SKU.equals(purchase.getProducts().get(0)) &amp;&amp; purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED) {\r\n                    if (!verifyValidSignature(purchase.getOriginalJson(), purchase.getSignature())) {\r\n                        new Handler(Looper.getMainLooper()).post(() -&gt; {\r\n                            binding.PurchaseTxtMessage.setText(R.string.DPurchase_Not_Valid);\r\n                            CANCELED();\r\n                        });\r\n                        return;\r\n                    }\r\n                    if (!purchase.isAcknowledged()) {\r\n                        AcknowledgePurchaseParams acknowledgePurchaseParams = AcknowledgePurchaseParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\r\n                        billingClient.acknowledgePurchase(acknowledgePurchaseParams, billingResult -&gt; {\r\n                            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                                //CHECK PURCHASE TYPE\r\n                                new Handler(Looper.getMainLooper()).post(() -&gt; CHECK_PURCHASE_TYPE(purchase));\r\n                            } else {\r\n                                new Handler(Looper.getMainLooper()).post(this::CANCELED);\r\n                            }\r\n                        });\r\n                    } else {\r\n                        //CHECK PURCHASE TYPE\r\n                        new Handler(Looper.getMainLooper()).post(() -&gt; CHECK_PURCHASE_TYPE(purchase));\r\n                    }\r\n                } else if(SKU.equals(purchase.getProducts().get(0)) &amp;&amp; purchase.getPurchaseState() == Purchase.PurchaseState.PENDING) {\r\n                    new Handler(Looper.getMainLooper()).post(() -&gt; {\r\n                        binding.PurchaseTxtMessage.setText(R.string.DPurchase_Pending);\r\n                        CANCELED();\r\n                    });\r\n                }  else if(SKU.equals(purchase.getProducts().get(0)) &amp;&amp; purchase.getPurchaseState() == Purchase.PurchaseState.UNSPECIFIED_STATE) {\r\n                    new Handler(Looper.getMainLooper()).post(() -&gt; {\r\n                        binding.PurchaseTxtMessage.setText(R.string.DPurchase_Unknown);\r\n                        CANCELED();\r\n                    });\r\n                } else {\r\n                    new Handler(Looper.getMainLooper()).post(this::CANCELED);\r\n                }\r\n            }\r\n        }\r\n\r\n        private void CHECK_PURCHASE_TYPE(Purchase purchase) {\r\n            if (purchase.getProducts().get(0).equals(&quot;sku0&quot;)) {\r\n                ConsumeParams consumeParams = ConsumeParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\r\n                billingClient.consumeAsync(consumeParams, (billingResult, s) -&gt; {\r\n                    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                        SAVE_PREF(purchase);\r\n                    }\r\n                });\r\n            } else if (purchase.getProducts().get(0).equals(&quot;sku1&quot;)) {\r\n                SAVE_PREF(purchase);\r\n            } else if (purchase.getProducts().get(0).equals(&quot;sku2&quot;)) {\r\n                SAVE_PREF(purchase);\r\n            }\r\n        }","title":"Android Billing : How to cancel Purchase if ConsumeParams failed","body":"<p>On an active and stable internet network, the purchasing process does not have any obstacles, but when a purchase is made on an unstable and super slow internet network (possibly disconnected, lost network or something else), sometimes users can't wait and cancel the purchase by close the application directly or by other means.</p>\n<p>I have 2 types of digital content for sale, the first is a one-time purchase and the second can be purchased multiple times.</p>\n<p>The problem is in the second type, when the purchase is successful but fails to consume, the end result is a one-time purchase and cannot be purchased again by the user.</p>\n<p>What I want to ask is how to cancel a purchase if ConsumeParams fails to consume the purchase? is that possible.</p>\n<pre><code>    @Override\n    public void onPurchasesUpdated(@NonNull BillingResult billingResult, @Nullable List&lt;Purchase&gt; list) {\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\n            handlePurchases(list);\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.ITEM_ALREADY_OWNED) {\n            new Handler(Looper.getMainLooper()).post(this::CANCELED);\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.USER_CANCELED) {\n            new Handler(Looper.getMainLooper()).post(() -&gt; {\n                binding.PurchaseTxtMessage.setText(R.string.DPurchase_Canceled);\n                CANCELED();\n            });\n        } else {\n            new Handler(Looper.getMainLooper()).post(() -&gt; {\n                binding.PurchaseTxtMessage.setText(R.string.DPurchase_Canceled);\n                CANCELED();\n            });\n        }\n    }\n\n    private void handlePurchases(List&lt;Purchase&gt;  purchases) {\n        for(Purchase purchase:purchases) {\n            if (SKU.equals(purchase.getProducts().get(0)) &amp;&amp; purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED) {\n                if (!verifyValidSignature(purchase.getOriginalJson(), purchase.getSignature())) {\n                    new Handler(Looper.getMainLooper()).post(() -&gt; {\n                        binding.PurchaseTxtMessage.setText(R.string.DPurchase_Not_Valid);\n                        CANCELED();\n                    });\n                    return;\n                }\n                if (!purchase.isAcknowledged()) {\n                    AcknowledgePurchaseParams acknowledgePurchaseParams = AcknowledgePurchaseParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\n                    billingClient.acknowledgePurchase(acknowledgePurchaseParams, billingResult -&gt; {\n                        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                            //CHECK PURCHASE TYPE\n                            new Handler(Looper.getMainLooper()).post(() -&gt; CHECK_PURCHASE_TYPE(purchase));\n                        } else {\n                            new Handler(Looper.getMainLooper()).post(this::CANCELED);\n                        }\n                    });\n                } else {\n                    //CHECK PURCHASE TYPE\n                    new Handler(Looper.getMainLooper()).post(() -&gt; CHECK_PURCHASE_TYPE(purchase));\n                }\n            } else if(SKU.equals(purchase.getProducts().get(0)) &amp;&amp; purchase.getPurchaseState() == Purchase.PurchaseState.PENDING) {\n                new Handler(Looper.getMainLooper()).post(() -&gt; {\n                    binding.PurchaseTxtMessage.setText(R.string.DPurchase_Pending);\n                    CANCELED();\n                });\n            }  else if(SKU.equals(purchase.getProducts().get(0)) &amp;&amp; purchase.getPurchaseState() == Purchase.PurchaseState.UNSPECIFIED_STATE) {\n                new Handler(Looper.getMainLooper()).post(() -&gt; {\n                    binding.PurchaseTxtMessage.setText(R.string.DPurchase_Unknown);\n                    CANCELED();\n                });\n            } else {\n                new Handler(Looper.getMainLooper()).post(this::CANCELED);\n            }\n        }\n    }\n\n    private void CHECK_PURCHASE_TYPE(Purchase purchase) {\n        if (purchase.getProducts().get(0).equals(&quot;sku0&quot;)) {\n            ConsumeParams consumeParams = ConsumeParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\n            billingClient.consumeAsync(consumeParams, (billingResult, s) -&gt; {\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                    SAVE_PREF(purchase);\n                }\n            });\n        } else if (purchase.getProducts().get(0).equals(&quot;sku1&quot;)) {\n            SAVE_PREF(purchase);\n        } else if (purchase.getProducts().get(0).equals(&quot;sku2&quot;)) {\n            SAVE_PREF(purchase);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","cors","api-gateway","spring-cloud-gateway"],"comments":[{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700556858,"post_id":77521381,"comment_id":136666154,"body_markdown":"See this answer -&gt; https://stackoverflow.com/questions/22343384/the-access-control-allow-origin-header-contains-multiple-values","body":"See this answer -&gt; <a href=\"https://stackoverflow.com/questions/22343384/the-access-control-allow-origin-header-contains-multiple-values\" title=\"the access control allow origin header contains multiple values\">stackoverflow.com/questions/22343384/&hellip;</a>"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700556946,"post_id":77521381,"comment_id":136666175,"body_markdown":"It&#39;s happening from your frontend application and not spring. You need to change code on the frontend side.","body":"It&#39;s happening from your frontend application and not spring. You need to change code on the frontend side."},{"owner":{"account_id":2161358,"reputation":42668,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1700557586,"post_id":77521381,"comment_id":136666266,"body_markdown":"My guess is that your service that&#39;s behind the gateway is also configured with CORS and the `DedupeResponseHeader` isn&#39;t filtering the duplicates out properly. Can you show us the CORS headers from the perspective of the webbrowser?","body":"My guess is that your service that&#39;s behind the gateway is also configured with CORS and the <code>DedupeResponseHeader</code> isn&#39;t filtering the duplicates out properly. Can you show us the CORS headers from the perspective of the webbrowser?"},{"owner":{"account_id":25272815,"reputation":15,"user_id":19101918,"display_name":"Batool Ragayah"},"score":0,"creation_date":1700559102,"post_id":77521381,"comment_id":136666524,"body_markdown":"@AnishB. What do you think is the proper solution for my case","body":"@AnishB. What do you think is the proper solution for my case"},{"owner":{"account_id":25272815,"reputation":15,"user_id":19101918,"display_name":"Batool Ragayah"},"score":0,"creation_date":1700559118,"post_id":77521381,"comment_id":136666528,"body_markdown":"@AnishB. could you explain how?","body":"@AnishB. could you explain how?"},{"owner":{"account_id":25272815,"reputation":15,"user_id":19101918,"display_name":"Batool Ragayah"},"score":0,"creation_date":1700559978,"post_id":77521381,"comment_id":136666728,"body_markdown":"@g00glen00b you&#39;re right, the services behind the gateway are also configured with CORS.\n\nhere&#39;s the response headers on the console:\nAccess-Control-Allow-Credentials:\ntrue\n\nAccess-Control-Allow-Origin:\n*\n\nAccess-Control-Allow-Origin:\nhttp://localhost:3000","body":"@g00glen00b you&#39;re right, the services behind the gateway are also configured with CORS.  here&#39;s the response headers on the console: Access-Control-Allow-Credentials: true  Access-Control-Allow-Origin: *  Access-Control-Allow-Origin: <a href=\"http://localhost:3000\" rel=\"nofollow noreferrer\">localhost:3000</a>"},{"owner":{"account_id":25272815,"reputation":15,"user_id":19101918,"display_name":"Batool Ragayah"},"score":0,"creation_date":1700567566,"post_id":77521381,"comment_id":136668097,"body_markdown":"now the error has changed into:\n\nAccess To Fetch At &#39;https://gatway-api-ip-address:port/level/global&#39; From Origin &#39;http://Localhost:3000&#39; Has Been Blocked By CORS Policy: Response To Preflight Request Doesn&#39;t Pass Access Control Check: No &#39;Access-Control-Allow-Origin&#39; Header Is Present On The Requested Resource. If An Opaque Response Serves Your Needs, Set The Request&#39;s Mode To &#39;No-Cors&#39; To Fetch The Resource With CORS Disabled.\n\nbut i haven&#39;t changed anything in application.yml","body":"now the error has changed into:  Access To Fetch At &#39;<a href=\"https://gatway-api-ip-address:port/level/global\" rel=\"nofollow noreferrer\">gatway-api-ip-address:port/level/global</a>&#39; From Origin &#39;<a href=\"http://Localhost:3000\" rel=\"nofollow noreferrer\">Localhost:3000</a>&#39; Has Been Blocked By CORS Policy: Response To Preflight Request Doesn&#39;t Pass Access Control Check: No &#39;Access-Control-Allow-Origin&#39; Header Is Present On The Requested Resource. If An Opaque Response Serves Your Needs, Set The Request&#39;s Mode To &#39;No-Cors&#39; To Fetch The Resource With CORS Disabled.  but i haven&#39;t changed anything in application.yml"}],"owner":{"account_id":25272815,"reputation":15,"user_id":19101918,"display_name":"Batool Ragayah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700555944,"creation_date":1700555944,"question_id":77521381,"body_markdown":"I have created a gateway API (spring boot) to route to a number of backend services (spring boot applications) for the frontend (Typescript), but I keep getting CORS error when the frontend tries to hit the Gateway API, even though it works fine on Postman.\r\n\r\nThis is the error i got on the console:\r\n\r\n\r\nAccess to fetch at &#39;https://gatway-api-ip-address:port/level/global&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: The &#39;Access-Control-Allow-Origin&#39; header contains multiple values &#39;http://localhost:3000, http://localhost:3000&#39;, but only one is allowed. Have the server send the header with a valid value, or, if an opaque response serves your needs, set the request&#39;s mode to &#39;no-cors&#39; to fetch the resource with CORS disabled.\r\n\r\n\r\nHere&#39;s what I have inside the Gateway API, application.yml:\r\n\r\n```spring:\r\n  cloud:\r\n    gateway:\r\n      default-filters:\r\n        - DedupeResponseHeader=Access-Control-Allow-Credentials Access-Control-Allow-Origin\r\n      globalcors:\r\n        corsConfigurations:\r\n          &#39;[/**]&#39;:\r\n            allowedOrigins:\r\n            - &quot;http://localhost:3000&quot;\r\n            - &quot;http://localhost:8000&quot;\r\n            - &quot;http://frontend-ip-address:port&quot;\r\n            allowCredentials: true\r\n            allowedMethods:\r\n              - GET\r\n              - POST\r\n              - DELETE\r\n              - GET\r\n              - OPTIONS\r\n            allowedHeaders: &quot;*&quot;\r\n```\r\n\r\nNote: that the IP address for each backend service, frontend service and gateway API is the same as they&#39;re hosted on one Digital Ocean server.\r\n\r\nNote: I have issued a self-signed ssl certificate for the gateway api","title":"Spring Gateway Request blocked by CORS (The &#39;Access-Control-Allow-Origin&#39; header contains multiple values, but only one is allowed)","body":"<p>I have created a gateway API (spring boot) to route to a number of backend services (spring boot applications) for the frontend (Typescript), but I keep getting CORS error when the frontend tries to hit the Gateway API, even though it works fine on Postman.</p>\n<p>This is the error i got on the console:</p>\n<p>Access to fetch at 'https://gatway-api-ip-address:port/level/global' from origin 'http://localhost:3000' has been blocked by CORS policy: The 'Access-Control-Allow-Origin' header contains multiple values 'http://localhost:3000, http://localhost:3000', but only one is allowed. Have the server send the header with a valid value, or, if an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.</p>\n<p>Here's what I have inside the Gateway API, application.yml:</p>\n<pre><code>  cloud:\n    gateway:\n      default-filters:\n        - DedupeResponseHeader=Access-Control-Allow-Credentials Access-Control-Allow-Origin\n      globalcors:\n        corsConfigurations:\n          '[/**]':\n            allowedOrigins:\n            - &quot;http://localhost:3000&quot;\n            - &quot;http://localhost:8000&quot;\n            - &quot;http://frontend-ip-address:port&quot;\n            allowCredentials: true\n            allowedMethods:\n              - GET\n              - POST\n              - DELETE\n              - GET\n              - OPTIONS\n            allowedHeaders: &quot;*&quot;\n</code></pre>\n<p>Note: that the IP address for each backend service, frontend service and gateway API is the same as they're hosted on one Digital Ocean server.</p>\n<p>Note: I have issued a self-signed ssl certificate for the gateway api</p>\n"},{"tags":["java","guava"],"comments":[{"owner":{"account_id":8326,"reputation":258535,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1328015535,"post_id":9080034,"comment_id":11399656,"body_markdown":"In case you were thinking of serializing the whole cache, that won&#39;t work: &quot;The caches produced by CacheBuilder are serializable, and the deserialized caches retain all the configuration properties of the original cache. Note that the serialized form does not include cache contents, but only configuration.&quot; So you probably need to replace Guava Cache with a more complete cache implementation, as suggested by the wiki you quoted.","body":"In case you were thinking of serializing the whole cache, that won&#39;t work: &quot;The caches produced by CacheBuilder are serializable, and the deserialized caches retain all the configuration properties of the original cache. Note that the serialized form does not include cache contents, but only configuration.&quot; So you probably need to replace Guava Cache with a more complete cache implementation, as suggested by the wiki you quoted."},{"owner":{"account_id":1211884,"reputation":606,"user_id":1180279,"display_name":"Kuhpid"},"score":0,"creation_date":1328019925,"post_id":9080034,"comment_id":11401257,"body_markdown":"You are right with the keyword serializing, sorry I didn&#39;t used it directly.\n\nBut is there a way to get the expiring time information out of the Cache?","body":"You are right with the keyword serializing, sorry I didn&#39;t used it directly.  But is there a way to get the expiring time information out of the Cache?"}],"answers":[{"tags":[],"owner":{"account_id":20657,"reputation":8081,"user_id":49573,"accept_rate":78,"display_name":"maximdim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700555906,"creation_date":1328022102,"answer_id":9081749,"question_id":9080034,"body_markdown":"Well, unfortunately Guava doesn&#39;t seem to expose this functionality but if you feel adventurous and absolutely must have this you could always use reflection. Just look at sources and see what methods do you need. As always care should be taken as your code might break when Guaval internal implementation changes. Code below seems to work with Guava 10.0.1:\r\n\r\n\r\n\t\tCache&lt;Integer, String&gt; cache = CacheBuilder.newBuilder().expireAfterWrite(7, TimeUnit.DAYS).build(new CacheLoader&lt;Integer, String&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic String load(Integer key) throws Exception {\r\n\t\t\t\treturn &quot;The value is &quot;+key.toString();\r\n\t\t\t}\r\n\t\t});\r\n\t\tInteger key_1 = Integer.valueOf(1);\r\n\t\tInteger key_2 = Integer.valueOf(2);\r\n\t\t\r\n\t\tSystem.out.println(cache.get(key_1));\r\n\t\tSystem.out.println(cache.get(key_2));\r\n\t\t\r\n\t\tConcurrentMap&lt;Integer, String&gt; map = cache.asMap();\r\n\t\t\r\n\t\tMethod m = map.getClass().getDeclaredMethod(&quot;getEntry&quot;, Object.class);\r\n\t\tm.setAccessible(true);\r\n\r\n\t\tfor(Integer key: map.keySet()) {\r\n\t\t\tObject value = m.invoke(map, key);\r\n\t\t\tMethod m2 = value.getClass().getDeclaredMethod(&quot;getExpirationTime&quot;, null);\r\n\t\t\tm2.setAccessible(true);\r\n\t\t\tLong expirationTime = (Long)m2.invoke(value, null);\r\n\t\t\tSystem.out.println(key+&quot; expiration time is &quot;+expirationTime);\r\n\t\t}\r\n","title":"Persist guava cache on shutdown","body":"<p>Well, unfortunately Guava doesn't seem to expose this functionality but if you feel adventurous and absolutely must have this you could always use reflection. Just look at sources and see what methods do you need. As always care should be taken as your code might break when Guaval internal implementation changes. Code below seems to work with Guava 10.0.1:</p>\n<pre><code>    Cache&lt;Integer, String&gt; cache = CacheBuilder.newBuilder().expireAfterWrite(7, TimeUnit.DAYS).build(new CacheLoader&lt;Integer, String&gt;() {\n        @Override\n        public String load(Integer key) throws Exception {\n            return &quot;The value is &quot;+key.toString();\n        }\n    });\n    Integer key_1 = Integer.valueOf(1);\n    Integer key_2 = Integer.valueOf(2);\n    \n    System.out.println(cache.get(key_1));\n    System.out.println(cache.get(key_2));\n    \n    ConcurrentMap&lt;Integer, String&gt; map = cache.asMap();\n    \n    Method m = map.getClass().getDeclaredMethod(&quot;getEntry&quot;, Object.class);\n    m.setAccessible(true);\n\n    for(Integer key: map.keySet()) {\n        Object value = m.invoke(map, key);\n        Method m2 = value.getClass().getDeclaredMethod(&quot;getExpirationTime&quot;, null);\n        m2.setAccessible(true);\n        Long expirationTime = (Long)m2.invoke(value, null);\n        System.out.println(key+&quot; expiration time is &quot;+expirationTime);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192684,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1328028374,"creation_date":1328028374,"answer_id":9083415,"question_id":9080034,"body_markdown":"I don&#39;t believe there&#39;s any way to recreate the cache with per-entry expiration values -- even if you do use reflection.  You might be able to simulate it by using a `DelayedQueue` in a separate thread that explicitly invalidates entries that should have expired, but that&#39;s the best I think you can do.\r\n\r\nThat said, if you&#39;re just interested in peeking at the expiration information, I would recommend wrapping your cache values in a class that remembers the expiration time, so you can look up the expiration time for an entry just by looking up its value and calling a `getExpirationTime()` method or what have you.\r\n\r\nThat approach, at least, should not break with new Guava releases.","title":"Persist guava cache on shutdown","body":"<p>I don't believe there's any way to recreate the cache with per-entry expiration values -- even if you do use reflection.  You might be able to simulate it by using a <code>DelayedQueue</code> in a separate thread that explicitly invalidates entries that should have expired, but that's the best I think you can do.</p>\n\n<p>That said, if you're just interested in peeking at the expiration information, I would recommend wrapping your cache values in a class that remembers the expiration time, so you can look up the expiration time for an entry just by looking up its value and calling a <code>getExpirationTime()</code> method or what have you.</p>\n\n<p>That approach, at least, should not break with new Guava releases.</p>\n"}],"owner":{"account_id":1211884,"reputation":606,"user_id":1180279,"display_name":"Kuhpid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5096,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":9083415,"answer_count":2,"score":1,"last_activity_date":1700555906,"creation_date":1328015205,"question_id":9080034,"body_markdown":"I use the following guava cache to store messages for a specific time waiting for a possible response. So I use the cache more like a timeout for messages:\r\n\r\n    Cache cache = CacheBuilder.newBuilder().expireAfterWrite(7, TimeUnit.DAYS).build();\r\n    cache.put(id,message);\r\n    ...\r\n    cache.getIfPresent(id);\r\n\r\nIn the end I need to persist the messages with its currently &#39;timeout&#39; information on shutdown\r\nand restore it on startup with the internal already expired times per entry. I couldn&#39;t find any methods which give me access to the time information, so I can handle it by myself.\r\n\r\nThe [gauva wiki][1] says:\r\n\r\n&gt;Your application will not need to store more data than what would fit in RAM. (Guava caches are local to a single run of your application. They do not store data in files, or on outside servers. If this does not fit your needs, consider a tool like Memcached.)\r\n\r\nDo you think this restriction address also a &#39;timeout&#39; map to persist on shutdown?\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/wiki/CachesExplained","title":"Persist guava cache on shutdown","body":"<p>I use the following guava cache to store messages for a specific time waiting for a possible response. So I use the cache more like a timeout for messages:</p>\n\n<pre><code>Cache cache = CacheBuilder.newBuilder().expireAfterWrite(7, TimeUnit.DAYS).build();\ncache.put(id,message);\n...\ncache.getIfPresent(id);\n</code></pre>\n\n<p>In the end I need to persist the messages with its currently 'timeout' information on shutdown\nand restore it on startup with the internal already expired times per entry. I couldn't find any methods which give me access to the time information, so I can handle it by myself.</p>\n\n<p>The <a href=\"http://code.google.com/p/guava-libraries/wiki/CachesExplained\" rel=\"nofollow\">gauva wiki</a> says:</p>\n\n<blockquote>\n  <p>Your application will not need to store more data than what would fit in RAM. (Guava caches are local to a single run of your application. They do not store data in files, or on outside servers. If this does not fit your needs, consider a tool like Memcached.)</p>\n</blockquote>\n\n<p>Do you think this restriction address also a 'timeout' map to persist on shutdown?</p>\n"},{"tags":["java","derby"],"answers":[{"tags":[],"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662398119,"creation_date":1662398119,"answer_id":73612764,"question_id":73492197,"body_markdown":"Are you trying to upgrade Derby from 10.8.x.x to 10.15.x.x or higher?\r\n\r\nIn that case you need to additionally add the artifact `derbytools` to the artifacts `derby` and `derbyshared` that you probably already have on the classpath.\r\n\r\nWith release 10.15.1.3, Derby has been modularized and the classes have been rearranged a bit. `EmbeddedDataSource` is now in `derbytools.jar`: https://db.apache.org/derby/releases/release-10.15.1.3.html","title":"Apache Derby EmbeddedDataSource no longer available","body":"<p>Are you trying to upgrade Derby from 10.8.x.x to 10.15.x.x or higher?</p>\n<p>In that case you need to additionally add the artifact <code>derbytools</code> to the artifacts <code>derby</code> and <code>derbyshared</code> that you probably already have on the classpath.</p>\n<p>With release 10.15.1.3, Derby has been modularized and the classes have been rearranged a bit. <code>EmbeddedDataSource</code> is now in <code>derbytools.jar</code>: <a href=\"https://db.apache.org/derby/releases/release-10.15.1.3.html\" rel=\"nofollow noreferrer\">https://db.apache.org/derby/releases/release-10.15.1.3.html</a></p>\n"},{"tags":[],"owner":{"account_id":8781304,"reputation":1,"user_id":6564846,"display_name":"Raghvendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700555420,"creation_date":1700555420,"answer_id":77521331,"question_id":73492197,"body_markdown":"EmbeddedDataSource is not supported with 10.15.x version. One might be using Derby version 10.14.x. If someone is working with Derby version 10.15.x or 10.16.x, they will no longer be able to use EmbeddedDataSource until and unless they do not add derbytools.jar in their POM file. \r\n\r\nWith the new Derby version upgrade (10.15.x and 10.16.x), a new jar file (derbyshared.jar) has been added. All Derby configurations require it. In addition, the derbytools.jar library is now required when running the network server, when using Derby DataSources, and when directly referencing the JDBC drivers. Below dependency is to be added additionally in POM-\r\n\r\ngroupId: org.apache.derby\r\nartifactId: derbytools\r\n\r\nReference: https://db.apache.org/derby/releases/release-10.15.1.3.html ","title":"Apache Derby EmbeddedDataSource no longer available","body":"<p>EmbeddedDataSource is not supported with 10.15.x version. One might be using Derby version 10.14.x. If someone is working with Derby version 10.15.x or 10.16.x, they will no longer be able to use EmbeddedDataSource until and unless they do not add derbytools.jar in their POM file.</p>\n<p>With the new Derby version upgrade (10.15.x and 10.16.x), a new jar file (derbyshared.jar) has been added. All Derby configurations require it. In addition, the derbytools.jar library is now required when running the network server, when using Derby DataSources, and when directly referencing the JDBC drivers. Below dependency is to be added additionally in POM-</p>\n<p>groupId: org.apache.derby\nartifactId: derbytools</p>\n<p>Reference: <a href=\"https://db.apache.org/derby/releases/release-10.15.1.3.html\" rel=\"nofollow noreferrer\">https://db.apache.org/derby/releases/release-10.15.1.3.html</a></p>\n"}],"owner":{"account_id":8922233,"reputation":475,"user_id":6658290,"accept_rate":78,"display_name":"Polyphase29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700555420,"creation_date":1661452130,"question_id":73492197,"body_markdown":"I was using a 10.8.x.x version of Apache Derby and utilizing the EmbeddedDataSource class. I can&#39;t seem to find a non interface replacement. I was able to find the classes located in org.apache.derby.iapi.jdbc. which contains an EmbeddeDataSource interface, but no actual implementation of the class. Was this moved somewhere or is there an alternative class I can use? I haven&#39;t been able to find anything. Thanks!","title":"Apache Derby EmbeddedDataSource no longer available","body":"<p>I was using a 10.8.x.x version of Apache Derby and utilizing the EmbeddedDataSource class. I can't seem to find a non interface replacement. I was able to find the classes located in org.apache.derby.iapi.jdbc. which contains an EmbeddeDataSource interface, but no actual implementation of the class. Was this moved somewhere or is there an alternative class I can use? I haven't been able to find anything. Thanks!</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1700549600,"post_id":77519911,"comment_id":136665037,"body_markdown":"Looking at your config it looks like there is a trailing space after the `com.mysql.cj.jdbc.Driver` name. Make sure there isn&#39;t. Or you could just remove the `spring.datasource.driver-class-name` as Spring will automatically detect the proper driver based on the URL.","body":"Looking at your config it looks like there is a trailing space after the <code>com.mysql.cj.jdbc.Driver</code> name. Make sure there isn&#39;t. Or you could just remove the <code>spring.datasource.driver-class-name</code> as Spring will automatically detect the proper driver based on the URL."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700556440,"post_id":77519911,"comment_id":136666076,"body_markdown":"Try without `runtime `scope for mysql dependency.","body":"Try without <code>runtime </code>scope for mysql dependency."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700556512,"post_id":77519911,"comment_id":136666085,"body_markdown":"I agree with @M.Deinum completely. You don&#39;t need to add driver-class-name explicitly. Spring is smart enough to detect the driver class by looking at the jar and url.","body":"I agree with @M.Deinum completely. You don&#39;t need to add driver-class-name explicitly. Spring is smart enough to detect the driver class by looking at the jar and url."},{"owner":{"account_id":15259656,"reputation":3,"user_id":11010160,"display_name":"Kelths"},"score":0,"creation_date":1700601984,"post_id":77519911,"comment_id":136674399,"body_markdown":"Thanks to @M.Deinum and Troley. It was the freaking trailing space.","body":"Thanks to @M.Deinum and Troley. It was the freaking trailing space."}],"answers":[{"tags":[],"owner":{"account_id":448639,"reputation":504,"user_id":2992066,"accept_rate":67,"display_name":"cJ_"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700544655,"creation_date":1700544655,"answer_id":77520497,"question_id":77519911,"body_markdown":"You only added JPA dependency. You need to also add sql driver dependency.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Spring boot - Cannot load driver class: com.mysql.cj.jdbc.Driver","body":"<p>You only added JPA dependency. You need to also add sql driver dependency.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n  &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10595514,"reputation":1478,"user_id":7804385,"display_name":"Troley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700555114,"creation_date":1700555114,"answer_id":77521299,"question_id":77519911,"body_markdown":"As @M. Deinum specified in the comment, you have an extra trailing space in the driver setup property line.\r\n\r\nSo try changing:\r\n```spring.datasource.driver-class-name: com.mysql.cj.jdbc.Driver ```\r\n\r\nTo this:\r\n```spring.datasource.driver-class-name: com.mysql.cj.jdbc.Driver```\r\n\r\nAnd it should work.","title":"Spring boot - Cannot load driver class: com.mysql.cj.jdbc.Driver","body":"<p>As @M. Deinum specified in the comment, you have an extra trailing space in the driver setup property line.</p>\n<p>So try changing:\n<code>spring.datasource.driver-class-name: com.mysql.cj.jdbc.Driver </code></p>\n<p>To this:\n<code>spring.datasource.driver-class-name: com.mysql.cj.jdbc.Driver</code></p>\n<p>And it should work.</p>\n"}],"owner":{"account_id":15259656,"reputation":3,"user_id":11010160,"display_name":"Kelths"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77521299,"answer_count":2,"score":0,"last_activity_date":1700555114,"creation_date":1700532544,"question_id":77519911,"body_markdown":"I&#39;m trying to learn Spring, I&#39;m building a project using Netbeans, I used Srping Initializr to get all files ready but when I try to run the project I get this error &#39;Cannot load driver class: com.mysql.cj.jdbc.Driver &#39; Event though the driver is set up, I have the dependencies on the POM file as well as the project&#39;s properties, can you please take a look? \r\n\r\nThis is the error message: \r\n\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-11-20 20:58:28.978 ERROR 10340 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver \r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:536) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1160) ~[spring-context-5.3.30.jar:5.3.30]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911) ~[spring-context-5.3.30.jar:5.3.30]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.30.jar:5.3.30]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.17.jar:2.7.17]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) [spring-boot-2.7.17.jar:2.7.17]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409) [spring-boot-2.7.17.jar:2.7.17]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-2.7.17.jar:2.7.17]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1300) [spring-boot-2.7.17.jar:2.7.17]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1289) [spring-boot-2.7.17.jar:2.7.17]\r\n\tat com.egg.biblioteca.BibliotecaApplication.main(BibliotecaApplication.java:10) [classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver \r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\t... 21 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver \r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\t... 35 common frames omitted\r\nCaused by: java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver \r\n\tat org.springframework.util.Assert.state(Assert.java:97) ~[spring-core-5.3.30.jar:5.3.30]\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:175) ~[spring-boot-autoconfigure-2.7.17.jar:2.7.17]\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:125) ~[spring-boot-autoconfigure-2.7.17.jar:2.7.17]\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48) ~[spring-boot-autoconfigure-2.7.17.jar:2.7.17]\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90) ~[spring-boot-autoconfigure-2.7.17.jar:2.7.17]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.30.jar:5.3.30]\r\n36 common frames omitted\r\n```\r\nThis is the POM file \r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.17&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.egg&lt;/groupId&gt;\r\n    &lt;artifactId&gt;biblioteca&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;biblioteca&lt;/name&gt;\r\n    &lt;description&gt;Proyecto de biblioteca Egg&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n                \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;image&gt;\r\n                        &lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\r\n                    &lt;/image&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nAnd these are the properties: \r\n\r\n\r\n```\r\nspring.datasource.url: jdbc:mysql://localhost:3306/DATABASE?allowPublicKeyRetrieval=true&amp;useSSL=false&amp;use\r\nTimezone=true&amp;serverTimezone=GMT&amp;characterEncoding=UTF-8\r\nspring.datasource.username: root\r\nspring.datasource.password: root\r\nspring.datasource.driver-class-name: com.mysql.cj.jdbc.Driver \r\nspring.jpa.show-sql: true\r\nspring.jpa.hibernate.ddl-auto: update\r\nspring.jpa.properties.hibernate.dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\nspring.thymeleaf.cache: false\r\n\r\n```\r\n\r\n\r\n\r\nI tried changing the version of the Mysql driver on the dependencies inside the pom.xml but doesn&#39;t seem to work. I&#39;ve reviewed the driver version and everything seems to be working ok. \r\n\r\nI&#39;m running springboot version 2.7.17, Java version 8 and the current Mysql driver is 8.0.33.","title":"Spring boot - Cannot load driver class: com.mysql.cj.jdbc.Driver","body":"<p>I'm trying to learn Spring, I'm building a project using Netbeans, I used Srping Initializr to get all files ready but when I try to run the project I get this error 'Cannot load driver class: com.mysql.cj.jdbc.Driver ' Event though the driver is set up, I have the dependencies on the POM file as well as the project's properties, can you please take a look?</p>\n<p>This is the error message:</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-11-20 20:58:28.978 ERROR 10340 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver \n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:536) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1160) ~[spring-context-5.3.30.jar:5.3.30]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911) ~[spring-context-5.3.30.jar:5.3.30]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.30.jar:5.3.30]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.17.jar:2.7.17]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) [spring-boot-2.7.17.jar:2.7.17]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409) [spring-boot-2.7.17.jar:2.7.17]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-2.7.17.jar:2.7.17]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300) [spring-boot-2.7.17.jar:2.7.17]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289) [spring-boot-2.7.17.jar:2.7.17]\n    at com.egg.biblioteca.BibliotecaApplication.main(BibliotecaApplication.java:10) [classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver \n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788) ~[spring-beans-5.3.30.jar:5.3.30]\n    ... 21 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver \n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.30.jar:5.3.30]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648) ~[spring-beans-5.3.30.jar:5.3.30]\n    ... 35 common frames omitted\nCaused by: java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver \n    at org.springframework.util.Assert.state(Assert.java:97) ~[spring-core-5.3.30.jar:5.3.30]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:175) ~[spring-boot-autoconfigure-2.7.17.jar:2.7.17]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:125) ~[spring-boot-autoconfigure-2.7.17.jar:2.7.17]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48) ~[spring-boot-autoconfigure-2.7.17.jar:2.7.17]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90) ~[spring-boot-autoconfigure-2.7.17.jar:2.7.17]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.30.jar:5.3.30]\n36 common frames omitted\n</code></pre>\n<p>This is the POM file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.17&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.egg&lt;/groupId&gt;\n    &lt;artifactId&gt;biblioteca&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;biblioteca&lt;/name&gt;\n    &lt;description&gt;Proyecto de biblioteca Egg&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n                \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;image&gt;\n                        &lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\n                    &lt;/image&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>And these are the properties:</p>\n<pre><code>spring.datasource.url: jdbc:mysql://localhost:3306/DATABASE?allowPublicKeyRetrieval=true&amp;useSSL=false&amp;use\nTimezone=true&amp;serverTimezone=GMT&amp;characterEncoding=UTF-8\nspring.datasource.username: root\nspring.datasource.password: root\nspring.datasource.driver-class-name: com.mysql.cj.jdbc.Driver \nspring.jpa.show-sql: true\nspring.jpa.hibernate.ddl-auto: update\nspring.jpa.properties.hibernate.dialect: org.hibernate.dialect.MySQL5InnoDBDialect\nspring.thymeleaf.cache: false\n\n</code></pre>\n<p>I tried changing the version of the Mysql driver on the dependencies inside the pom.xml but doesn't seem to work. I've reviewed the driver version and everything seems to be working ok.</p>\n<p>I'm running springboot version 2.7.17, Java version 8 and the current Mysql driver is 8.0.33.</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":6740011,"reputation":46635,"user_id":5193536,"display_name":"nbk"},"score":1,"creation_date":1700555272,"post_id":77521295,"comment_id":136665881,"body_markdown":"the deadlock would occur if thesame rows are updated, or you made a table lock","body":"the deadlock would occur if thesame rows are updated, or you made a table lock"},{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1700555658,"post_id":77521295,"comment_id":136665944,"body_markdown":"Do you have one (java) server on which all code runs? Or do you have multiple replicas?","body":"Do you have one (java) server on which all code runs? Or do you have multiple replicas?"},{"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"score":0,"creation_date":1700555986,"post_id":77521295,"comment_id":136665999,"body_markdown":"It is running on one server","body":"It is running on one server"},{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1700556453,"post_id":77521295,"comment_id":136666080,"body_markdown":"In tranitional RDBMS, like MySQL, there is the concept of Isolation Levels (https://dev.mysql.com/doc/refman/8.0/en/set-transaction.html) to avoid lock contention.  This would allow each thread in java to access the database with different Isolation levels (albeit this is harder to program).\n\nAlternatively since you have just 1 java application you have the option to managing the locking control in java code to avoid a deadlock.\n\nIs the userid table you talk about the central problem that is locked for long periods? ... I need to know more about the situation to go further on this.","body":"In tranitional RDBMS, like MySQL, there is the concept of Isolation Levels (<a href=\"https://dev.mysql.com/doc/refman/8.0/en/set-transaction.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/8.0/en/set-transaction.html</a>) to avoid lock contention.  This would allow each thread in java to access the database with different Isolation levels (albeit this is harder to program).  Alternatively since you have just 1 java application you have the option to managing the locking control in java code to avoid a deadlock.  Is the userid table you talk about the central problem that is locked for long periods? ... I need to know more about the situation to go further on this."},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":1,"creation_date":1700557715,"post_id":77521295,"comment_id":136666282,"body_markdown":"Locking rows or even a table does not result in deadlock. Deadlock occurs if different transactions lock tables or rows that another transaction needs, which in turn locks tables or rows the first one needs, therefore neither can progress. The situation you describe seems to give raise to lock timeout issues -a transaction has to wait too long to obtain a lock. You have to modify your code to lock as few resources as possible at any given point in time: do not lock tables, just rows, commit as early as possible, use indexes for locking reads and updates and perhaps lock them in a certain order","body":"Locking rows or even a table does not result in deadlock. Deadlock occurs if different transactions lock tables or rows that another transaction needs, which in turn locks tables or rows the first one needs, therefore neither can progress. The situation you describe seems to give raise to lock timeout issues -a transaction has to wait too long to obtain a lock. You have to modify your code to lock as few resources as possible at any given point in time: do not lock tables, just rows, commit as early as possible, use indexes for locking reads and updates and perhaps lock them in a certain order"},{"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"score":0,"creation_date":1700557925,"post_id":77521295,"comment_id":136666318,"body_markdown":"Its likely that I found the issue: Multiple threads are accessing the same row. I.e. the user can change the username and there is a thread that updates this username. Another thread is updating whether or not the user is allowed to join. Both use the same transaction and if the Transaction is commited it commits the whole thing. Since its not commited the table is hold in lock mode for this long. There is another application that now also updates this row when the user goes online. This might be the result of the deadlock.","body":"Its likely that I found the issue: Multiple threads are accessing the same row. I.e. the user can change the username and there is a thread that updates this username. Another thread is updating whether or not the user is allowed to join. Both use the same transaction and if the Transaction is commited it commits the whole thing. Since its not commited the table is hold in lock mode for this long. There is another application that now also updates this row when the user goes online. This might be the result of the deadlock."}],"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700555063,"creation_date":1700555063,"question_id":77521295,"body_markdown":"I have written a program that is running on a server that updates certain informations all the time. Most of the time this is data from external apis. There are no events that I could call. Therefore I have to do this periodically. Here is a pseudocode for this:\r\n\r\n```\r\nboolean taskStarted = false;\r\n\r\nmain() {\r\n  time.schedule(createCustomTask(() -&gt; {\r\n    if (taskStarted) return;\r\n    taskStarted = true;\r\n    // UPDATE ALL DATA\r\n    taskStarted = false;\r\n  }), 0, 5_000L);\r\n}\r\n\r\ncreateCustomTask(Runnable r) {\r\n  return new TimerTask() {\r\n    @Override public void run() {\r\n      if (LocalDateTime.NOW.getSeconds() &lt; 5)\r\n        runnable.run(); \r\n    }\r\n  };\r\n}\r\n```\r\n\r\nI try to request and update the data at the beginning of every minute. This will only be done if the previous loop is completed.\r\n\r\nNow this look good but the problem is that this will result in a deadlock if the same table is used by another program or another transaction that tries to access the same table/data at the same time. Usually this is not an issue because you access the table, update it, close the transaction and the table is no longer locked. However in this case this code causes to hold the table in &quot;lock-mode&quot; almost all the time.\r\n\r\n### Why is this a problem?\r\n\r\n| userid | allowed |\r\n| --- | --- |\r\n| 4b216de4-b6c6-4ef8-ae34-9395508cd49a | 1 |\r\n| e57cb337-d2a3-4a15-878d-9c3da756a4b1 | 0 |\r\n\r\nLets say we have a table with all userids and if they are allowed to connect to a specific server. Now someone wants to join this server. We have to check if his userid is registered in the database, if not we will insert this userid in the database with an allowed-value of 0 (false). If the user is registered and allowed is 1 (true) this user will be able to connect. We do not want the user to wait minutes until the lock is removed. We want to access/update the data immediately.\r\n\r\nA solution would be to store all user data in the local storage and update it every few minutes and use this as a backup if a deadlock occurs. But this is not a great solution. Is there any workaround to avoid this?\r\n\r\nWhen I access the database I expect to access this database but its in lock mode way to long.","title":"How to avoid a MySQL deadlock?","body":"<p>I have written a program that is running on a server that updates certain informations all the time. Most of the time this is data from external apis. There are no events that I could call. Therefore I have to do this periodically. Here is a pseudocode for this:</p>\n<pre><code>boolean taskStarted = false;\n\nmain() {\n  time.schedule(createCustomTask(() -&gt; {\n    if (taskStarted) return;\n    taskStarted = true;\n    // UPDATE ALL DATA\n    taskStarted = false;\n  }), 0, 5_000L);\n}\n\ncreateCustomTask(Runnable r) {\n  return new TimerTask() {\n    @Override public void run() {\n      if (LocalDateTime.NOW.getSeconds() &lt; 5)\n        runnable.run(); \n    }\n  };\n}\n</code></pre>\n<p>I try to request and update the data at the beginning of every minute. This will only be done if the previous loop is completed.</p>\n<p>Now this look good but the problem is that this will result in a deadlock if the same table is used by another program or another transaction that tries to access the same table/data at the same time. Usually this is not an issue because you access the table, update it, close the transaction and the table is no longer locked. However in this case this code causes to hold the table in &quot;lock-mode&quot; almost all the time.</p>\n<h3>Why is this a problem?</h3>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>userid</th>\n<th>allowed</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>4b216de4-b6c6-4ef8-ae34-9395508cd49a</td>\n<td>1</td>\n</tr>\n<tr>\n<td>e57cb337-d2a3-4a15-878d-9c3da756a4b1</td>\n<td>0</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Lets say we have a table with all userids and if they are allowed to connect to a specific server. Now someone wants to join this server. We have to check if his userid is registered in the database, if not we will insert this userid in the database with an allowed-value of 0 (false). If the user is registered and allowed is 1 (true) this user will be able to connect. We do not want the user to wait minutes until the lock is removed. We want to access/update the data immediately.</p>\n<p>A solution would be to store all user data in the local storage and update it every few minutes and use this as a backup if a deadlock occurs. But this is not a great solution. Is there any workaround to avoid this?</p>\n<p>When I access the database I expect to access this database but its in lock mode way to long.</p>\n"},{"tags":["java","spring-boot","microservices","insomnia"],"comments":[{"owner":{"account_id":6126609,"reputation":1245,"user_id":4778343,"display_name":"Stefan Golubović"},"score":1,"creation_date":1700554225,"post_id":77521182,"comment_id":136665730,"body_markdown":"error message is self-explanatory - https://stackoverflow.com/help/how-to-ask","body":"error message is self-explanatory - <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"owner":{"account_id":29955376,"reputation":1,"user_id":22956385,"display_name":"Let&#39;s Go"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":0,"score":-3,"last_activity_date":1700554201,"creation_date":1700553912,"question_id":77521182,"body_markdown":"\r\n\r\nI am trying to fetch data from RATINGS_SERVICE using USER_SERVICE but I get this type of error.i am trying to solve this problem but i am stuck.\r\n\r\n\r\njava.lang.IllegalStateException: Request URI does not contain a valid hostname: http://RATINGS_SERVICE/ratings/user/0692cae3-b791-4e21-a6ea-fee21a427ada\r\n\tat org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.3.23.jar:5.3.23]\r\n\tat org.springframework.cloud.client.loadbalancer.LoadBalancerInterceptor.intercept(LoadBalancerInterceptor.java:55) ~[spring-cloud-commons-3.1.7.jar:3.1.7]\r\n\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:77) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:334) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat com.microservice.user.userservice.service.UserServiceIMPL.getUser(UserServiceIMPL.java:45) ~[classes/:na]\r\n\tat com.microservice.user.userservice.controller.UserController.getById(UserController.java:51) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]","title":"When I execute the search java API(http://localhost:8081/user/user/0692cae3-b791-4e21-a6ea-fee21a427ada) using insomnia, I face the following error","body":"<p>I am trying to fetch data from RATINGS_SERVICE using USER_SERVICE but I get this type of error.i am trying to solve this problem but i am stuck.</p>\n<p>java.lang.IllegalStateException: Request URI does not contain a valid hostname: http://RATINGS_SERVICE/ratings/user/0692cae3-b791-4e21-a6ea-fee21a427ada\nat org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.3.23.jar:5.3.23]\nat org.springframework.cloud.client.loadbalancer.LoadBalancerInterceptor.intercept(LoadBalancerInterceptor.java:55) ~[spring-cloud-commons-3.1.7.jar:3.1.7]\nat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:77) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:334) ~[spring-web-5.3.23.jar:5.3.23]\nat com.microservice.user.userservice.service.UserServiceIMPL.getUser(UserServiceIMPL.java:45) ~[classes/:na]\nat com.microservice.user.userservice.controller.UserController.getById(UserController.java:51) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:670) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]</p>\n"},{"tags":["java","owasp-dependency-track"],"owner":{"account_id":29955422,"reputation":1,"user_id":22956421,"display_name":"Rounak Dhadiwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700553961,"creation_date":1700553961,"question_id":77521188,"body_markdown":"recently my H2 database of around 24 GB got corrupted. To recover the data i tried using command \r\n```\r\njava -cp h2*.jar org.h2.tools.Recover\r\n```\r\nafter that a txt file was generated of almost around 9GB. \r\n\r\nNow again to convert the txt file to DB file i used the command \r\n```\r\njava -Xmx24G -cp h2*.jar org.h2.tools.RunScript -url jdbc:h2:~/Desktop/db -user sa -script db.txt\r\n```\r\nBut I&#39;m getting following error \r\n\r\n\r\n```\r\nException in thread &quot;main&quot; org.h2.message.DbException: IO Exception: &quot;java.io.IOException: Error in parsing script, statement size exceeds 1G, first 80 characters of statement looks like: File E:/dbfile/db.mv.db, 25048920064 bytes, 23888 MB000000000 fileHeader H:2,bl&quot; [90028-200]\r\n        at org.h2.message.DbException.get(DbException.java:194)\r\n        at org.h2.message.DbException.convertIOException(DbException.java:392)\r\n        at org.h2.util.ScriptReader.readStatement(ScriptReader.java:101)\r\n        at org.h2.tools.RunScript.process(RunScript.java:203)\r\n        at org.h2.tools.RunScript.process(RunScript.java:192)\r\n        at org.h2.tools.RunScript.process(RunScript.java:328)\r\n        at org.h2.tools.RunScript.runTool(RunScript.java:143)\r\n        at org.h2.tools.RunScript.main(RunScript.java:70)\r\n```\r\n\r\n\r\nHow do i solve the issue","title":"org.h2.message.DbException: IO Exception: &quot;java.io.IOException: Error in parsing script, statement size exceeds 1G,","body":"<p>recently my H2 database of around 24 GB got corrupted. To recover the data i tried using command</p>\n<pre><code>java -cp h2*.jar org.h2.tools.Recover\n</code></pre>\n<p>after that a txt file was generated of almost around 9GB.</p>\n<p>Now again to convert the txt file to DB file i used the command</p>\n<pre><code>java -Xmx24G -cp h2*.jar org.h2.tools.RunScript -url jdbc:h2:~/Desktop/db -user sa -script db.txt\n</code></pre>\n<p>But I'm getting following error</p>\n<pre><code>Exception in thread &quot;main&quot; org.h2.message.DbException: IO Exception: &quot;java.io.IOException: Error in parsing script, statement size exceeds 1G, first 80 characters of statement looks like: File E:/dbfile/db.mv.db, 25048920064 bytes, 23888 MB000000000 fileHeader H:2,bl&quot; [90028-200]\n        at org.h2.message.DbException.get(DbException.java:194)\n        at org.h2.message.DbException.convertIOException(DbException.java:392)\n        at org.h2.util.ScriptReader.readStatement(ScriptReader.java:101)\n        at org.h2.tools.RunScript.process(RunScript.java:203)\n        at org.h2.tools.RunScript.process(RunScript.java:192)\n        at org.h2.tools.RunScript.process(RunScript.java:328)\n        at org.h2.tools.RunScript.runTool(RunScript.java:143)\n        at org.h2.tools.RunScript.main(RunScript.java:70)\n</code></pre>\n<p>How do i solve the issue</p>\n"},{"tags":["java","logback","jcifs"],"comments":[{"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1700553671,"post_id":77521134,"comment_id":136665648,"body_markdown":"What do you mean by &quot;logging with a different user&quot;?","body":"What do you mean by &quot;logging with a different user&quot;?"},{"owner":{"account_id":6396922,"reputation":11,"user_id":4960967,"display_name":"zakimatyi"},"score":0,"creation_date":1700644293,"post_id":77521134,"comment_id":136678760,"body_markdown":"As I was asking in the question: a different user (authenticated by username/pass with jcifs) than the app starting user. This means that when I start the java app using user A, but the log dir has write permission only for user B.","body":"As I was asking in the question: a different user (authenticated by username/pass with jcifs) than the app starting user. This means that when I start the java app using user A, but the log dir has write permission only for user B."}],"owner":{"account_id":6396922,"reputation":11,"user_id":4960967,"display_name":"zakimatyi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700553408,"creation_date":1700553408,"question_id":77521134,"body_markdown":"Is there any logback extension or module or any way that supports logging with a different user than the  app starting user?\r\nI am using basic spring-boot java app on windows. No web.\r\n\r\nI&#39;ve tried to override logback inner classes, but it&#39;s a bit way too complicated, because itt needs a couple of java classes to be overidden.","title":"Is there a way to log with logback in a basic spring-boot java app using another user maybe with jcifs?","body":"<p>Is there any logback extension or module or any way that supports logging with a different user than the  app starting user?\nI am using basic spring-boot java app on windows. No web.</p>\n<p>I've tried to override logback inner classes, but it's a bit way too complicated, because itt needs a couple of java classes to be overidden.</p>\n"},{"tags":["java","elasticsearch","search"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1700550730,"post_id":77520806,"comment_id":136665203,"body_markdown":"You should provide some more context and maybe some examples that demonstrate what you&#39;re looking for.","body":"You should provide some more context and maybe some examples that demonstrate what you&#39;re looking for."},{"owner":{"account_id":7718592,"reputation":119,"user_id":5845487,"display_name":"Hassan Golshani"},"score":0,"creation_date":1700551421,"post_id":77520806,"comment_id":136665297,"body_markdown":"Please explain your question with a complete example.","body":"Please explain your question with a complete example."},{"owner":{"account_id":22789181,"reputation":1,"user_id":16943800,"display_name":"liufengli"},"score":0,"creation_date":1700726708,"post_id":77520806,"comment_id":136690387,"body_markdown":"For example, a text is &quot;aaa bbb c ccc&quot;, and there is a large text collection with a text &quot;bbb c&quot;. I want to search for &quot;bbb c&quot; through &quot;aaa bbb c ccc&quot;. Because &quot;bbb c&quot; is completely included in &quot;aaa bbb c ccc&quot;","body":"For example, a text is &quot;aaa bbb c ccc&quot;, and there is a large text collection with a text &quot;bbb c&quot;. I want to search for &quot;bbb c&quot; through &quot;aaa bbb c ccc&quot;. Because &quot;bbb c&quot; is completely included in &quot;aaa bbb c ccc&quot;"}],"owner":{"account_id":22789181,"reputation":1,"user_id":16943800,"display_name":"liufengli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700553347,"creation_date":1700549231,"question_id":77520806,"body_markdown":"Given a short text collection and inputting a long text, how to query the short text collection that contains the long text from the short text collection?\r\n\r\nCurrently known engines such as ES do not seem to be able to achieve this function.","title":"Long text search short text","body":"<p>Given a short text collection and inputting a long text, how to query the short text collection that contains the long text from the short text collection?</p>\n<p>Currently known engines such as ES do not seem to be able to achieve this function.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1623856992,"creation_date":1623856992,"answer_id":68005641,"question_id":68005239,"body_markdown":"Looking at the Javadocs here: \r\n\r\nhttps://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/client/builder/SdkClientBuilder.html#endpointOverride-java.net.URI-\r\n\r\nSee:\r\n\r\n**endpointOverride**\r\n\r\n endpointOverride(URI endpointOverride)\r\n\r\nConfigure the endpoint with which the SDK should communicate.**\r\n\r\nLooks like you can create a **URI** object and pass that when you create the Service client\r\n\r\n  \r\n    URI myURI = new URI(&quot;&lt;endpoint URL&gt;&quot;);\r\n    \r\n      Region region = Region.US_EAST_1;\r\n      S3Client s3 = S3Client.builder()\r\n                    .region(region)\r\n                    .endpointOverride(myURI)\r\n                    .build();","title":"How do you configure the endpoint for Amazon S3 by using the AWS SDK V2?","body":"<p>Looking at the Javadocs here:</p>\n<p><a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/client/builder/SdkClientBuilder.html#endpointOverride-java.net.URI-\" rel=\"noreferrer\">https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/client/builder/SdkClientBuilder.html#endpointOverride-java.net.URI-</a></p>\n<p>See:</p>\n<p><strong>endpointOverride</strong></p>\n<p>endpointOverride(URI endpointOverride)</p>\n<p>Configure the endpoint with which the SDK should communicate.**</p>\n<p>Looks like you can create a <strong>URI</strong> object and pass that when you create the Service client</p>\n<pre><code>URI myURI = new URI(&quot;&lt;endpoint URL&gt;&quot;);\n\n  Region region = Region.US_EAST_1;\n  S3Client s3 = S3Client.builder()\n                .region(region)\n                .endpointOverride(myURI)\n                .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19717386,"reputation":19,"user_id":14436537,"display_name":"metadevj"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1700552978,"creation_date":1669005904,"answer_id":74514331,"question_id":68005239,"body_markdown":"To use Cloudflare R2 storage with software.amazon.awssdk.s3 2.20.x the region needs to be set to &quot;auto&quot; and endpointOverride needs to be set:\r\n\r\n    AwsBasicCredentials awsBasicCredentials =\r\n                AwsBasicCredentials.create(ACCESS_KEY_ID, SECRET_ACCESS_KEY);\r\n        S3Client s3Client = S3Client.builder()\r\n                .credentialsProvider(\r\n                        StaticCredentialsProvider.create(awsBasicCredentials))\r\n                .region(Region.of(&quot;auto&quot;))\r\n                .endpointOverride(URI.create(&quot;https://&lt;accountid&gt;.r2.cloudflarestorage.com&quot;))\r\n                .build();\r\n\r\n\r\n\r\nFor legacy applications, if u want to use Cloudflare R2 with 1.12.x u need to specify the endpoint as &quot;auto&quot; lowercase:\r\n\r\n\r\n      AmazonS3 client = AmazonS3ClientBuilder.standard()\r\n                        .withCredentials(\r\n                                new AWSStaticCredentialsProvider(\r\n                                        new BasicAWSCredentials(\r\n                                                ACCESS_KEY_ID, SECRET_ACCESS_KEY)))\r\n                        .withEndpointConfiguration(\r\n                                new AwsClientBuilder.EndpointConfiguration(&quot;https://&lt;accountid&gt;.r2.cloudflarestorage.com&quot;, &quot;auto&quot;))\r\n                        .build();","title":"How do you configure the endpoint for Amazon S3 by using the AWS SDK V2?","body":"<p>To use Cloudflare R2 storage with software.amazon.awssdk.s3 2.20.x the region needs to be set to &quot;auto&quot; and endpointOverride needs to be set:</p>\n<pre><code>AwsBasicCredentials awsBasicCredentials =\n            AwsBasicCredentials.create(ACCESS_KEY_ID, SECRET_ACCESS_KEY);\n    S3Client s3Client = S3Client.builder()\n            .credentialsProvider(\n                    StaticCredentialsProvider.create(awsBasicCredentials))\n            .region(Region.of(&quot;auto&quot;))\n            .endpointOverride(URI.create(&quot;https://&lt;accountid&gt;.r2.cloudflarestorage.com&quot;))\n            .build();\n</code></pre>\n<p>For legacy applications, if u want to use Cloudflare R2 with 1.12.x u need to specify the endpoint as &quot;auto&quot; lowercase:</p>\n<pre><code>  AmazonS3 client = AmazonS3ClientBuilder.standard()\n                    .withCredentials(\n                            new AWSStaticCredentialsProvider(\n                                    new BasicAWSCredentials(\n                                            ACCESS_KEY_ID, SECRET_ACCESS_KEY)))\n                    .withEndpointConfiguration(\n                            new AwsClientBuilder.EndpointConfiguration(&quot;https://&lt;accountid&gt;.r2.cloudflarestorage.com&quot;, &quot;auto&quot;))\n                    .build();\n</code></pre>\n"}],"owner":{"account_id":21967416,"reputation":73,"user_id":16244429,"display_name":"aravind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12734,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":68005641,"answer_count":2,"score":4,"last_activity_date":1700552978,"creation_date":1623855527,"question_id":68005239,"body_markdown":"In AWS SDK V1, I set up my credentials as:\r\n\r\n \r\n    BasicAWSCredentials awsCredentials = new BasicAWSCredentials(Credentials.access_key, Credentials.secret_access_key);\r\n\r\nAnd then set the endpoint as: \r\n\r\n    EndpointConfiguration endpoint = new EndpointConfiguration(&quot;&lt;endpoint URL&gt;&quot;, &quot;&lt;region&gt;&quot;); \r\n\r\nAnd then created the client as: \r\n\r\n    AmazonS3 s3client = AmazonS3ClientBuilder.standard()\r\n                .withCredentials(new AWSStaticCredentialsProvider(awsCredentials))\r\n                .withEndpointConfiguration(endpoint)\r\n                .build(); \r\n\r\n\r\nHow do I set up this same client using AWS SDK V2?","title":"How do you configure the endpoint for Amazon S3 by using the AWS SDK V2?","body":"<p>In AWS SDK V1, I set up my credentials as:</p>\n<pre><code>BasicAWSCredentials awsCredentials = new BasicAWSCredentials(Credentials.access_key, Credentials.secret_access_key);\n</code></pre>\n<p>And then set the endpoint as:</p>\n<pre><code>EndpointConfiguration endpoint = new EndpointConfiguration(&quot;&lt;endpoint URL&gt;&quot;, &quot;&lt;region&gt;&quot;); \n</code></pre>\n<p>And then created the client as:</p>\n<pre><code>AmazonS3 s3client = AmazonS3ClientBuilder.standard()\n            .withCredentials(new AWSStaticCredentialsProvider(awsCredentials))\n            .withEndpointConfiguration(endpoint)\n            .build(); \n</code></pre>\n<p>How do I set up this same client using AWS SDK V2?</p>\n"},{"tags":["java","spring","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1427989550,"creation_date":1427989550,"answer_id":29417096,"question_id":29413784,"body_markdown":"It depends on which listener container you use; when using AUTO ack mode, the `SimpleMessageListenerContainer` acks after the listener returns (i.e. a traditional JMS `MessageListener`). The `DefaultMessageListenerContainer` acks before the listener is invoked, so you need `acknowledgeMode=&quot;transacted&quot;` to prevent message loss.\r\n\r\nThe javadocs in this area were a bit misleading and have been [improved recently](https://github.com/spring-projects/spring-framework/commit/c1a9e3484ae28d4af045310b7df5116744bd5f08#diff-fabb5ed58e2afc74376ebd2554690468).\r\n\r\nWith CLIENT_ACKNOWLEDGE, you&#39;re on your own to do the acks. That doc just means you are at the whim of the broker. According to the JMS message javadoc:\r\n\r\n&gt; Messages that have been received but not acknowledged may be redelivered\r\n\r\nIn my experience it is best to use auto ack with an `SMLC` and transactions with `DMLC`.","title":"JMS message redelivery on exception in JMS listener","body":"<p>It depends on which listener container you use; when using AUTO ack mode, the <code>SimpleMessageListenerContainer</code> acks after the listener returns (i.e. a traditional JMS <code>MessageListener</code>). The <code>DefaultMessageListenerContainer</code> acks before the listener is invoked, so you need <code>acknowledgeMode=\"transacted\"</code> to prevent message loss.</p>\n\n<p>The javadocs in this area were a bit misleading and have been <a href=\"https://github.com/spring-projects/spring-framework/commit/c1a9e3484ae28d4af045310b7df5116744bd5f08#diff-fabb5ed58e2afc74376ebd2554690468\" rel=\"noreferrer\">improved recently</a>.</p>\n\n<p>With CLIENT_ACKNOWLEDGE, you're on your own to do the acks. That doc just means you are at the whim of the broker. According to the JMS message javadoc:</p>\n\n<blockquote>\n  <p>Messages that have been received but not acknowledged may be redelivered</p>\n</blockquote>\n\n<p>In my experience it is best to use auto ack with an <code>SMLC</code> and transactions with <code>DMLC</code>.</p>\n"}],"owner":{"account_id":6074767,"reputation":41,"user_id":4742472,"display_name":"borodust"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7641,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1700552147,"creation_date":1427980094,"question_id":29413784,"body_markdown":"Javadoc for `org.springframework.jms.listener.AbstractMessageListenerContainer` states, that if\r\n&gt; &quot;sessionAcknowledgeMode&quot; set to &quot;CLIENT_ACKNOWLEDGE&quot;: Automatic message acknowledgment after successful listener execution; no redelivery in case of exception thrown.\r\n\r\nI guess, &quot;no redelivery in case of exception thrown&quot; means, that message would not be redelivered (so, my guess, it would be acknowledged), even if there&#39;s an exception thrown in the jms listener. But, well, exception thrown from listener means that call to it wasn&#39;t successful, and there should be redelivery due to no acknowledgement.\r\n\r\nThe question is: &lt;br&gt;\r\n**What actually should happen with message acknowledgement in case of exception thrown in the jms listener?**\r\n\r\nWhat really happens, might be seen from this stacktrace:\r\n\r\n    at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:98)\r\n    at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:66)\r\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:660)\r\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:620)\r\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:591)\r\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:308)\r\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:246)\r\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1142)\r\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1134)\r\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1031)\r\n\r\nLine 5 of the stacktrace is of particular interest. Code there basically means, that (mostly) whatever exception thrown from the listener will bypass the ackowledgement which is done in `org.springframework.jms.listener.AbstractMessageListenerContainer#commitIfNecessary`. &lt;br&gt; \r\n**That&#39;s ok, but what does &quot;*no redelivery in case of exception thrown*&quot; mean then?**\r\n\r\nAdditional info: &lt;br&gt;\r\nspring-jms:4.1.2 &lt;br&gt;\r\n\r\n    &lt;bean id=&quot;someListenerContainerFactory&quot; class=&quot;org.springframework.jms.config.DefaultJmsListenerContainerFactory&quot;&gt;\r\n        &lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot;/&gt;\r\n        &lt;property name=&quot;concurrency&quot; value=&quot;1-10&quot;/&gt;\r\n        &lt;property name=&quot;sessionAcknowledgeMode&quot;&gt;\r\n            &lt;util:constant static-field=&quot;javax.jms.Session.CLIENT_ACKNOWLEDGE&quot;/&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;","title":"JMS message redelivery on exception in JMS listener","body":"<p>Javadoc for <code>org.springframework.jms.listener.AbstractMessageListenerContainer</code> states, that if</p>\n\n<blockquote>\n  <p>\"sessionAcknowledgeMode\" set to \"CLIENT_ACKNOWLEDGE\": Automatic message acknowledgment after successful listener execution; no redelivery in case of exception thrown.</p>\n</blockquote>\n\n<p>I guess, \"no redelivery in case of exception thrown\" means, that message would not be redelivered (so, my guess, it would be acknowledged), even if there's an exception thrown in the jms listener. But, well, exception thrown from listener means that call to it wasn't successful, and there should be redelivery due to no acknowledgement.</p>\n\n<p>The question is: <br>\n<strong>What actually should happen with message acknowledgement in case of exception thrown in the jms listener?</strong></p>\n\n<p>What really happens, might be seen from this stacktrace:</p>\n\n<pre><code>at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:98)\nat org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:66)\nat org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:660)\nat org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:620)\nat org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:591)\nat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:308)\nat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:246)\nat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1142)\nat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1134)\nat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1031)\n</code></pre>\n\n<p>Line 5 of the stacktrace is of particular interest. Code there basically means, that (mostly) whatever exception thrown from the listener will bypass the ackowledgement which is done in <code>org.springframework.jms.listener.AbstractMessageListenerContainer#commitIfNecessary</code>. <br> \n<strong>That's ok, but what does \"<em>no redelivery in case of exception thrown</em>\" mean then?</strong></p>\n\n<p>Additional info: <br>\nspring-jms:4.1.2 <br></p>\n\n<pre><code>&lt;bean id=\"someListenerContainerFactory\" class=\"org.springframework.jms.config.DefaultJmsListenerContainerFactory\"&gt;\n    &lt;property name=\"connectionFactory\" ref=\"connectionFactory\"/&gt;\n    &lt;property name=\"concurrency\" value=\"1-10\"/&gt;\n    &lt;property name=\"sessionAcknowledgeMode\"&gt;\n        &lt;util:constant static-field=\"javax.jms.Session.CLIENT_ACKNOWLEDGE\"/&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"score":0,"creation_date":1700550124,"post_id":77520199,"comment_id":136665121,"body_markdown":"What means &quot;I can&#39;t scan&quot;, do you get an exception?","body":"What means &quot;I can&#39;t scan&quot;, do you get an exception?"},{"owner":{"account_id":26135982,"reputation":94,"user_id":19825967,"display_name":"hungtv"},"score":0,"creation_date":1700550690,"post_id":77520199,"comment_id":136665196,"body_markdown":"`Consider defining a bean of type &#39;vn.com.fecredit.los.documentservice.api.repositories.DocumentMngtRepository&#39; in your configuration.`\nit does not understand the interface (that has marked the repository) as a bean. In spite of, they are in the same package.","body":"<code>Consider defining a bean of type &#39;vn.com.fecredit.los.documentservice.api.repositories.Docume&zwnj;&#8203;ntMngtRepository&#39; in your configuration.</code> it does not understand the interface (that has marked the repository) as a bean. In spite of, they are in the same package."}],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700551180,"creation_date":1700551180,"answer_id":77520956,"question_id":77520199,"body_markdown":"you can use ```@SpringBootApplication``` use slove your problem , this annotation would scan the path which is below annotated class . so  you don&#39;t need to specified the path manually . \r\nor else , you can assign the scan package path or exclude some class explicitly like following .  In general , specified the common package prefix as basic package\r\n```java\r\n@SpringBootApplication(scanBasePackages = {&quot;vn.com.fecredit.los.documentservice&quot;}, exclude = {DataSourceAutoConfiguration.class})\r\n\r\n```\r\n\r\nAdditional to say that if the spring could not found some dependency that cause inject failed , the root issue may be that you missed the ```@Service``` above your subclass which you defined some interface","title":"Use @ComponentScan but I can&#39;t scan the desired package","body":"<p>you can use <code>@SpringBootApplication</code> use slove your problem , this annotation would scan the path which is below annotated class . so  you don't need to specified the path manually .\nor else , you can assign the scan package path or exclude some class explicitly like following .  In general , specified the common package prefix as basic package</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(scanBasePackages = {&quot;vn.com.fecredit.los.documentservice&quot;}, exclude = {DataSourceAutoConfiguration.class})\n\n</code></pre>\n<p>Additional to say that if the spring could not found some dependency that cause inject failed , the root issue may be that you missed the <code>@Service</code> above your subclass which you defined some interface</p>\n"},{"tags":[],"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700552040,"creation_date":1700552040,"answer_id":77521023,"question_id":77520199,"body_markdown":"@hungtv Check the following \r\n\r\nsettings.gradle\r\n```\r\ninclude &#39;apps:api&#39;, &#39;libs:core&#39;, &#39;libs:infra&#39; , &#39;apps:job-worker&#39; , &#39;apps:mgmt-api&#39;, &#39;apps:projector&#39;\r\n```\r\n\r\napps/api/build.gradle\r\n```\r\ndependencies {\r\n    implementation project(&#39;:libs:infra&#39;)\r\n}\r\n```\r\nRefer [Declaring Dependencies between Subprojects](https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html)","title":"Use @ComponentScan but I can&#39;t scan the desired package","body":"<p>@hungtv Check the following</p>\n<p>settings.gradle</p>\n<pre><code>include 'apps:api', 'libs:core', 'libs:infra' , 'apps:job-worker' , 'apps:mgmt-api', 'apps:projector'\n</code></pre>\n<p>apps/api/build.gradle</p>\n<pre><code>dependencies {\n    implementation project(':libs:infra')\n}\n</code></pre>\n<p>Refer <a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html\" rel=\"nofollow noreferrer\">Declaring Dependencies between Subprojects</a></p>\n"}],"owner":{"account_id":26135982,"reputation":94,"user_id":19825967,"display_name":"hungtv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700552040,"creation_date":1700538454,"question_id":77520199,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/7EeV8.png)](https://i.stack.imgur.com/7EeV8.png)\r\n\r\nI have the above repo. I start the application program from ***ApiApplication*** in the ***vn.com.fecredit.los.documentservice.api directory***. I can&#39;t scan the beans in the libs/infra folder.\r\n\r\n&gt; When I declared in ***ApiApplication***:\r\n&gt; \r\n&gt; [![enter image description here][1]][1]\r\n&gt; \r\n&gt; i can&#39;t scan bean in ***infra***.\r\n\r\nI tried again another way:\r\n&gt; When I declared in ***ApiApplication***: [![enter image description\r\n&gt; here][2]][2] I was able to scan the bean in ***infra*** but I couldn&#39;t\r\n&gt; scan the bean in the service ***api*** itself.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qgqrl.png\r\n  [2]: https://i.stack.imgur.com/1oNJT.png","title":"Use @ComponentScan but I can&#39;t scan the desired package","body":"<p><a href=\"https://i.stack.imgur.com/7EeV8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7EeV8.png\" alt=\"enter image description here\" /></a></p>\n<p>I have the above repo. I start the application program from <em><strong>ApiApplication</strong></em> in the <em><strong>vn.com.fecredit.los.documentservice.api directory</strong></em>. I can't scan the beans in the libs/infra folder.</p>\n<blockquote>\n<p>When I declared in <em><strong>ApiApplication</strong></em>:</p>\n<p><a href=\"https://i.stack.imgur.com/Qgqrl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qgqrl.png\" alt=\"enter image description here\" /></a></p>\n<p>i can't scan bean in <em><strong>infra</strong></em>.</p>\n</blockquote>\n<p>I tried again another way:</p>\n<blockquote>\n<p>When I declared in <em><strong>ApiApplication</strong></em>: <a href=\"https://i.stack.imgur.com/1oNJT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1oNJT.png\" alt=\"enter image description\nhere\" /></a> I was able to scan the bean in <em><strong>infra</strong></em> but I couldn't\nscan the bean in the service <em><strong>api</strong></em> itself.</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1700469186,"post_id":77514371,"comment_id":136653841,"body_markdown":"Composition would be `class Apple { private Father father; /* apple members: color, size */ }`. I find the example very hard to follow, how is a Father related to an Apple? Could you maybe pick more obvious class names, e.g. Car/Wheel, Father/Child, House/Room?","body":"Composition would be <code>class Apple { private Father father; &#47;* apple members: color, size *&#47; }</code>. I find the example very hard to follow, how is a Father related to an Apple? Could you maybe pick more obvious class names, e.g. Car/Wheel, Father/Child, House/Room?"},{"owner":{"account_id":21103632,"reputation":2356,"user_id":15513073,"display_name":"leaf_yakitori"},"score":0,"creation_date":1700469384,"post_id":77514371,"comment_id":136653864,"body_markdown":"I use these name on purpose, because these two classes don&#39;t have any obvious father-son relationship in logic. @knittl","body":"I use these name on purpose, because these two classes don&#39;t have any obvious father-son relationship in logic. @knittl"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1700469725,"post_id":77514371,"comment_id":136653916,"body_markdown":"Yes but what kind of relationship do these classes have if it&#39;s not an is-a relationship?","body":"Yes but what kind of relationship do these classes have if it&#39;s not an is-a relationship?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1700469807,"post_id":77514371,"comment_id":136653929,"body_markdown":"Why do you have `public` member fields in these classes at all? And you didn&#39;t show a reason for inheritance so far - just because names of a field or method are the same, this doesn&#39;t mean you should inherit. In total the code in your question looks completely made up, and as you are writing yourself at the beginning, it might be a complete X-Y problem, not just by the title but also by the content.","body":"Why do you have <code>public</code> member fields in these classes at all? And you didn&#39;t show a reason for inheritance so far - just because names of a field or method are the same, this doesn&#39;t mean you should inherit. In total the code in your question looks completely made up, and as you are writing yourself at the beginning, it might be a complete X-Y problem, not just by the title but also by the content."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1700469941,"post_id":77514371,"comment_id":136653952,"body_markdown":"To me, it seems like you are asking how they are supposed to be related but you are not telling us what these classes represent. And what&#39;s the problem with composition? Have you tried it and came across issues?","body":"To me, it seems like you are asking how they are supposed to be related but you are not telling us what these classes represent. And what&#39;s the problem with composition? Have you tried it and came across issues?"},{"owner":{"account_id":21103632,"reputation":2356,"user_id":15513073,"display_name":"leaf_yakitori"},"score":0,"creation_date":1700469994,"post_id":77514371,"comment_id":136653961,"body_markdown":"@cyberbrain got it I&#39;ll rewrite the whole problem.sry I made a typo, all members should be private.","body":"@cyberbrain got it I&#39;ll rewrite the whole problem.sry I made a typo, all members should be private."},{"owner":{"account_id":21103632,"reputation":2356,"user_id":15513073,"display_name":"leaf_yakitori"},"score":0,"creation_date":1700471270,"post_id":77514371,"comment_id":136654159,"body_markdown":"@dan1st I have edited the question and add the real relationship to it.","body":"@dan1st I have edited the question and add the real relationship to it."},{"owner":{"account_id":21103632,"reputation":2356,"user_id":15513073,"display_name":"leaf_yakitori"},"score":0,"creation_date":1700471401,"post_id":77514371,"comment_id":136654170,"body_markdown":"@cyberbrain sry I cant just copy-paste my work code, so I made up it to make it reproducible.","body":"@cyberbrain sry I cant just copy-paste my work code, so I made up it to make it reproducible."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1700471825,"post_id":77514371,"comment_id":136654221,"body_markdown":"looks better now. so you have two projections of one table, but the classes are not entities or similar, but really just used to transport data from one part of the application to another where the DB access is then performed?","body":"looks better now. so you have two projections of one table, but the classes are not entities or similar, but really just used to transport data from one part of the application to another where the DB access is then performed?"},{"owner":{"account_id":21103632,"reputation":2356,"user_id":15513073,"display_name":"leaf_yakitori"},"score":0,"creation_date":1700472025,"post_id":77514371,"comment_id":136654253,"body_markdown":"@cyberbrain yes","body":"@cyberbrain yes"},{"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1700472981,"post_id":77514371,"comment_id":136654439,"body_markdown":"So are the two request classes in any way related or not? Would a base class make sense, i.e. both requests have fields that always need to be identical? Or do they simply share fields that have the same name and (currently) the same type? In the latter case, these are independent classes and you should keep them independent (each class defining its own fields – it does not matter that the other class has fields of the same name)","body":"So are the two request classes in any way related or not? Would a base class make sense, i.e. both requests have fields that always need to be identical? Or do they simply share fields that have the same name and (currently) the same type? In the latter case, these are independent classes and you should keep them independent (each class defining its own fields – it does not matter that the other class has fields of the same name)"},{"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1700473572,"post_id":77514371,"comment_id":136654534,"body_markdown":"You have to ask yourself: are the two classes logically distinct? Will they evolve independently? In that case, simply copy the members. Does a change in one class always require the other class to be updated as well? In that case, extract and reuse the commonalities","body":"You have to ask yourself: are the two classes logically distinct? Will they evolve independently? In that case, simply copy the members. Does a change in one class always require the other class to be updated as well? In that case, extract and reuse the commonalities"},{"owner":{"account_id":21103632,"reputation":2356,"user_id":15513073,"display_name":"leaf_yakitori"},"score":0,"creation_date":1700529662,"post_id":77514371,"comment_id":136663460,"body_markdown":"@knittl yes two classes are logically dinstinct.","body":"@knittl yes two classes are logically dinstinct."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700469952,"creation_date":1700469952,"answer_id":77514477,"question_id":77514371,"body_markdown":"As pointed out in the comments. Composition vs Inerhitance.\r\n\r\n    class Apple extends Father{};\r\n\r\nThen the apple has all of the fields/methods of Father. If you want to use composition.\r\n\r\n    class Apple{\r\n        Father father;\r\n    }\r\n\r\nNow the Apple has all of the data of a Father, but it doesn&#39;t have to inherit.\r\n\r\nYour example doesn&#39;t really show why the two classes are related, so it is hard to justify one or the other. Consider `setId`. In the inheritance case, you can just use the fathers method. In the composition, you might need to delegate.\r\n\r\n    public void setId(int id){\r\n        father.setId(id);\r\n    }\r\n\r\nWhich is a bit cumbersome in this simple example probably just repeating the fields is a better way.","title":"Composition vs Inerhitance in java","body":"<p>As pointed out in the comments. Composition vs Inerhitance.</p>\n<pre><code>class Apple extends Father{};\n</code></pre>\n<p>Then the apple has all of the fields/methods of Father. If you want to use composition.</p>\n<pre><code>class Apple{\n    Father father;\n}\n</code></pre>\n<p>Now the Apple has all of the data of a Father, but it doesn't have to inherit.</p>\n<p>Your example doesn't really show why the two classes are related, so it is hard to justify one or the other. Consider <code>setId</code>. In the inheritance case, you can just use the fathers method. In the composition, you might need to delegate.</p>\n<pre><code>public void setId(int id){\n    father.setId(id);\n}\n</code></pre>\n<p>Which is a bit cumbersome in this simple example probably just repeating the fields is a better way.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700549890,"creation_date":1700549890,"answer_id":77520845,"question_id":77514371,"body_markdown":"If both classes are logically distinct, then bite the bullet and write two distinct classes. That way, they will remain logically distinct and changes in one class won&#39;t affect the other class. Copy-pasted code is only bad if it is logically equivalent. (Temporary) structural equivalence doesn&#39;t justify making the two classes dependent on one another.\r\n\r\nIf one class depends on the other (and it doesn&#39;t matter if the dependency is caused by inheritance or composition), then changes in one will always change the other. But if the changes shouldn&#39;t affect the other class, then you must touch both classes now.\r\n\r\nYou might want to read up on [cohesion](https://en.wikipedia.org/wiki/Cohesion_(computer_science)): Change together, what belongs together (and your two classes don&#39;t belong together).","title":"Composition vs Inerhitance in java","body":"<p>If both classes are logically distinct, then bite the bullet and write two distinct classes. That way, they will remain logically distinct and changes in one class won't affect the other class. Copy-pasted code is only bad if it is logically equivalent. (Temporary) structural equivalence doesn't justify making the two classes dependent on one another.</p>\n<p>If one class depends on the other (and it doesn't matter if the dependency is caused by inheritance or composition), then changes in one will always change the other. But if the changes shouldn't affect the other class, then you must touch both classes now.</p>\n<p>You might want to read up on <a href=\"https://en.wikipedia.org/wiki/Cohesion_(computer_science)\" rel=\"nofollow noreferrer\">cohesion</a>: Change together, what belongs together (and your two classes don't belong together).</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700551845,"creation_date":1700551845,"answer_id":77521010,"question_id":77514371,"body_markdown":"Another approach to consider: add a third, abstract class, say `Request` with the common fields (after all, both `PriceRequest` and `AppleRequest` are requests). For instance:\r\n\r\n    public abstract class Request {\r\n        private int id;\r\n        \r\n        private String supplierName;\r\n    }\r\n    \r\n    @Data\r\n    public class PriceRequest extends Request {\r\n        @NotBlank\r\n        private String supplierId;\r\n    }\r\n    \r\n    @Data\r\n    public class AppleRequest extends Request {\r\n        private String color;\r\n    \r\n        private String size;\r\n    }\r\n\r\n","title":"Composition vs Inerhitance in java","body":"<p>Another approach to consider: add a third, abstract class, say <code>Request</code> with the common fields (after all, both <code>PriceRequest</code> and <code>AppleRequest</code> are requests). For instance:</p>\n<pre><code>public abstract class Request {\n    private int id;\n    \n    private String supplierName;\n}\n\n@Data\npublic class PriceRequest extends Request {\n    @NotBlank\n    private String supplierId;\n}\n\n@Data\npublic class AppleRequest extends Request {\n    private String color;\n\n    private String size;\n}\n</code></pre>\n"}],"owner":{"account_id":21103632,"reputation":2356,"user_id":15513073,"display_name":"leaf_yakitori"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77520845,"answer_count":3,"score":0,"last_activity_date":1700551845,"creation_date":1700468752,"question_id":77514371,"body_markdown":"### description:\r\n- I need write a new DTO(data transfer object) class `AppleRequest` use some of `PriceRequest` DTO class member.\r\n- The database table field be like:\r\n```\r\nID, supplier_id, supplier_name, size, color, price, etc\r\n```\r\n- I got a class `PriceRequest` which I can&#39;t change it, but my co-workers may change its member into `@NotBlank` in the future. So if I use `inherit` to achieve it, it may not work in the future.\r\n- The `AppleRequest` class and `PriceRequest` class don&#39;t have the &quot;is-a&quot; relationship, it means not all `AppleRequest` is `PriceRequest`. In other words，they don‘t have any obvious father-son relationship, just share some of member. \r\n- They are both DTO to a same database table.\r\n\r\n### code:\r\n- PriceRequest:\r\n```\r\n@Data\r\npublic class PriceRequest {\r\n    private int id;\r\n\r\n    @NotBlank\r\n    private String supplierId;\r\n    //maybe @NotBlank in the future\r\n    private String supplierName;\r\n}\r\n```\r\n- AppleRequest:\r\n```\r\n@Data\r\npublic class AppleRequest extends PriceRequest {\r\n    private String color;\r\n\r\n    private String size;\r\n}\r\n```\r\n- main\r\n```\r\npublic class Sandbox {\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        AppleRequest apple = new AppleRequest();\r\n        apple.setId(1);\r\n        apple.setColor(&quot;red&quot;);\r\n        apple.setSupplierName(&quot;&quot;);\r\n        System.out.println(&quot;id:&quot;+apple.getId()+&quot; SupplierName:&quot;+apple.getSupplierName()+&quot; Color:&quot;+apple.getColor());\r\n    }\r\n}\r\n```\r\n### what I have tried:\r\n- just copy-paste all member I need in `PriceRequest` into `AppleRequest`. But it seems a little stupid.\r\n```\r\n@Data\r\npublic class AppleRequest {\r\n    private int id;\r\n    \r\n    private String supplierName;\r\n\r\n    private String color;\r\n\r\n    private String size;\r\n}\r\n```\r\n### question:\r\n- Should I use `composition` instead of `inherit`, or any better way to deal with this situation?\r\n- How to avoid the change of `PriceRequest` make `AppleRequest` not working.","title":"Composition vs Inerhitance in java","body":"<h3>description:</h3>\n<ul>\n<li>I need write a new DTO(data transfer object) class <code>AppleRequest</code> use some of <code>PriceRequest</code> DTO class member.</li>\n<li>The database table field be like:</li>\n</ul>\n<pre><code>ID, supplier_id, supplier_name, size, color, price, etc\n</code></pre>\n<ul>\n<li>I got a class <code>PriceRequest</code> which I can't change it, but my co-workers may change its member into <code>@NotBlank</code> in the future. So if I use <code>inherit</code> to achieve it, it may not work in the future.</li>\n<li>The <code>AppleRequest</code> class and <code>PriceRequest</code> class don't have the &quot;is-a&quot; relationship, it means not all <code>AppleRequest</code> is <code>PriceRequest</code>. In other words，they don‘t have any obvious father-son relationship, just share some of member.</li>\n<li>They are both DTO to a same database table.</li>\n</ul>\n<h3>code:</h3>\n<ul>\n<li>PriceRequest:</li>\n</ul>\n<pre><code>@Data\npublic class PriceRequest {\n    private int id;\n\n    @NotBlank\n    private String supplierId;\n    //maybe @NotBlank in the future\n    private String supplierName;\n}\n</code></pre>\n<ul>\n<li>AppleRequest:</li>\n</ul>\n<pre><code>@Data\npublic class AppleRequest extends PriceRequest {\n    private String color;\n\n    private String size;\n}\n</code></pre>\n<ul>\n<li>main</li>\n</ul>\n<pre><code>public class Sandbox {\n\n    public static void main(String[] args)\n    {\n        AppleRequest apple = new AppleRequest();\n        apple.setId(1);\n        apple.setColor(&quot;red&quot;);\n        apple.setSupplierName(&quot;&quot;);\n        System.out.println(&quot;id:&quot;+apple.getId()+&quot; SupplierName:&quot;+apple.getSupplierName()+&quot; Color:&quot;+apple.getColor());\n    }\n}\n</code></pre>\n<h3>what I have tried:</h3>\n<ul>\n<li>just copy-paste all member I need in <code>PriceRequest</code> into <code>AppleRequest</code>. But it seems a little stupid.</li>\n</ul>\n<pre><code>@Data\npublic class AppleRequest {\n    private int id;\n    \n    private String supplierName;\n\n    private String color;\n\n    private String size;\n}\n</code></pre>\n<h3>question:</h3>\n<ul>\n<li>Should I use <code>composition</code> instead of <code>inherit</code>, or any better way to deal with this situation?</li>\n<li>How to avoid the change of <code>PriceRequest</code> make <code>AppleRequest</code> not working.</li>\n</ul>\n"},{"tags":["java","xml","web-services","soap","https"],"comments":[{"owner":{"account_id":6156307,"reputation":33586,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1700563971,"post_id":77520985,"comment_id":136667474,"body_markdown":"I would use Postman to make the connection and see if it works.  Postman console will show all the parameters used to make the request.  Once you get all the parameters than you can make sure your JAVA sets the same parameters.","body":"I would use Postman to make the connection and see if it works.  Postman console will show all the parameters used to make the request.  Once you get all the parameters than you can make sure your JAVA sets the same parameters."},{"owner":{"account_id":15683420,"reputation":1,"user_id":12445617,"display_name":"Jesus"},"score":0,"creation_date":1700565410,"post_id":77520985,"comment_id":136667725,"body_markdown":"I can&#39;t use Postman, since the company I work for has prohibited access? Can SOAP work?","body":"I can&#39;t use Postman, since the company I work for has prohibited access? Can SOAP work?"},{"owner":{"account_id":6156307,"reputation":33586,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1700572982,"post_id":77520985,"comment_id":136669101,"body_markdown":"Just wanted to use Postman for debugging.  Yes SOAP can work if all parameters are correct.  Can you use Postman at home to debug and then bring results back to work?","body":"Just wanted to use Postman for debugging.  Yes SOAP can work if all parameters are correct.  Can you use Postman at home to debug and then bring results back to work?"},{"owner":{"account_id":15683420,"reputation":1,"user_id":12445617,"display_name":"Jesus"},"score":0,"creation_date":1700580007,"post_id":77520985,"comment_id":136670546,"body_markdown":"I have accessed to Postman from home. Any information you want me to share?","body":"I have accessed to Postman from home. Any information you want me to share?"},{"owner":{"account_id":6156307,"reputation":33586,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1700580408,"post_id":77520985,"comment_id":136670630,"body_markdown":"Just the complete request from the control panel.  The HTTP Headers missing or wrong headers are usually the reason when one app works and another doesn&#39;t.","body":"Just the complete request from the control panel.  The HTTP Headers missing or wrong headers are usually the reason when one app works and another doesn&#39;t."}],"owner":{"account_id":15683420,"reputation":1,"user_id":12445617,"display_name":"Jesus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700551520,"creation_date":1700551520,"question_id":77520985,"body_markdown":"I am trying to call a Soap Webservice from my Java application as follows:\r\n\r\n```\r\n@Override\r\n    public String getLoginServiciosGeneral() throws Exception {\r\n        String idSesion = &quot;&quot;;\r\n        try{\r\n            LoginServiciosGeneralService service = new LoginServiciosGeneralService(new URL(&quot;https://XXXXXX.es/services/ws/LoginServiciosGeneral?wsdl&quot;));\r\n            \r\n            LoginServiciosGeneralPortType port = service.getLoginServiciosGeneral();\r\n            \r\n            idSesion = port.loginServiciosGeneral(&quot;prueba&quot;);\r\n            System.out.println(&quot;hasta aca&quot;);\r\n        } catch (MalformedURLException e) {\r\n            System.out.println(&quot;MalformedURLException. Problemas en la llamada al servicio loginServiciosGeneral, motivo: &quot; + e.getMessage());\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception. Problemas en la llamada al servicio loginServiciosGeneral, motivo: &quot; + e.getMessage());\r\n        }\r\n        \r\n    return idSesion;\r\n    }\r\n```\r\n\r\nWhere LoginServiciosGeneralService is a class of type @WebServiceCliente and LoginServiciosGeneralPortType is of @WebService\r\n\r\nRight where the service variable is declared it gives me the following error:\r\n\r\n`Exception. Problemas en la llamada al servicio loginServiciosGeneral, motivo: The following WSDL exception occurred: WSDLException: faultCode=WSDL4JWrapper : : javax.wsdl.WSDLException: WSDLException: faultCode=WSDL4JWrapper : : java.net.ConnectException: Connection timed out: connect`\r\n\r\n\r\nFrom what you see, it jumps in the Exception catch.\r\n\r\nIn the Soap tool I access it without problems, but not in Java. The access URL belongs to a Ministry which contains a signed certificate with its two files: a public one with a .cer extension and a private one with a .p12 extension and its password to access.\r\n\r\nI would like to know how to use the certificate in Java to be able to access the URL and have it return data. I would also like to know if the timeout that is returned has to do with Proxy.\r\n\r\nThese are the input parameters in SOAP:\r\n\r\n```\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\nxmlns:ent=&quot;https://xxxxxxx.xxxxx.xxxxx.xxxxx.xxxxx&quot;&gt;\r\n  &lt;soapenv:Header/&gt;\r\n  &lt;soapenv:Body&gt;\r\n      &lt;ent:LoginServiciosGeneralIn&gt;\r\n       prueba\r\n      &lt;/ent:LoginServiciosGeneralIn&gt;\r\n  &lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n```\r\n\r\n\r\nI use Java version 8, I am not allowed to use a higher version.\r\n\r\nThanks.\r\n\r\nSoap WebService url connection but failed","title":"Problems accessing SOAP WS from Java: WSDLException: faultCode=WSDL4JWrapper and java.net.ConnectException: Connection timed out: connect","body":"<p>I am trying to call a Soap Webservice from my Java application as follows:</p>\n<pre><code>@Override\n    public String getLoginServiciosGeneral() throws Exception {\n        String idSesion = &quot;&quot;;\n        try{\n            LoginServiciosGeneralService service = new LoginServiciosGeneralService(new URL(&quot;https://XXXXXX.es/services/ws/LoginServiciosGeneral?wsdl&quot;));\n            \n            LoginServiciosGeneralPortType port = service.getLoginServiciosGeneral();\n            \n            idSesion = port.loginServiciosGeneral(&quot;prueba&quot;);\n            System.out.println(&quot;hasta aca&quot;);\n        } catch (MalformedURLException e) {\n            System.out.println(&quot;MalformedURLException. Problemas en la llamada al servicio loginServiciosGeneral, motivo: &quot; + e.getMessage());\n        } catch (Exception e) {\n            System.out.println(&quot;Exception. Problemas en la llamada al servicio loginServiciosGeneral, motivo: &quot; + e.getMessage());\n        }\n        \n    return idSesion;\n    }\n</code></pre>\n<p>Where LoginServiciosGeneralService is a class of type @WebServiceCliente and LoginServiciosGeneralPortType is of @WebService</p>\n<p>Right where the service variable is declared it gives me the following error:</p>\n<p><code>Exception. Problemas en la llamada al servicio loginServiciosGeneral, motivo: The following WSDL exception occurred: WSDLException: faultCode=WSDL4JWrapper : : javax.wsdl.WSDLException: WSDLException: faultCode=WSDL4JWrapper : : java.net.ConnectException: Connection timed out: connect</code></p>\n<p>From what you see, it jumps in the Exception catch.</p>\n<p>In the Soap tool I access it without problems, but not in Java. The access URL belongs to a Ministry which contains a signed certificate with its two files: a public one with a .cer extension and a private one with a .p12 extension and its password to access.</p>\n<p>I would like to know how to use the certificate in Java to be able to access the URL and have it return data. I would also like to know if the timeout that is returned has to do with Proxy.</p>\n<p>These are the input parameters in SOAP:</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\nxmlns:ent=&quot;https://xxxxxxx.xxxxx.xxxxx.xxxxx.xxxxx&quot;&gt;\n  &lt;soapenv:Header/&gt;\n  &lt;soapenv:Body&gt;\n      &lt;ent:LoginServiciosGeneralIn&gt;\n       prueba\n      &lt;/ent:LoginServiciosGeneralIn&gt;\n  &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>I use Java version 8, I am not allowed to use a higher version.</p>\n<p>Thanks.</p>\n<p>Soap WebService url connection but failed</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9813,"page":45,"page_size":100}
