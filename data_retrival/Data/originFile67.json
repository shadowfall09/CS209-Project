{"items":[{"tags":["java","android","google-maps","gps","geolocation"],"answers":[{"tags":[],"owner":{"account_id":4194226,"reputation":345,"user_id":3436004,"display_name":"muruthi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1443709082,"creation_date":1443709082,"answer_id":32889905,"question_id":32889431,"body_markdown":"You can easily archive that using the Google Maps Android API V2. Just send the current cab location LatLng values to your Java Application over a messaging &amp; networking protocol. You can place the POST request in the setOnMyLocationChangeListener of the GoogleMap object.\r\n\r\n    map.setOnMyLocationChangeListener(new GoogleMap.OnMyLocationChangeListener() {\r\n            @Override\r\n            public void onMyLocationChange(Location location) {\r\n                double lat =  location.getLatitude();\r\n                double lng = location.getLongitude();\r\n                //TODO: Send longitude and latitude to JAVA app\r\n            }\r\n        });","title":"How to remotely track movement of android phone on map of a java desktop application using gps of android","body":"<p>You can easily archive that using the Google Maps Android API V2. Just send the current cab location LatLng values to your Java Application over a messaging &amp; networking protocol. You can place the POST request in the setOnMyLocationChangeListener of the GoogleMap object.</p>\n\n<pre><code>map.setOnMyLocationChangeListener(new GoogleMap.OnMyLocationChangeListener() {\n        @Override\n        public void onMyLocationChange(Location location) {\n            double lat =  location.getLatitude();\n            double lng = location.getLongitude();\n            //TODO: Send longitude and latitude to JAVA app\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":4545436,"reputation":611,"user_id":3692178,"accept_rate":85,"display_name":"Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":770,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":32889905,"answer_count":1,"score":0,"last_activity_date":1699693805,"creation_date":1443707698,"question_id":32889431,"body_markdown":"I developed an android application in which shows the current location of the user and updates the movement on google map API 2 in that application. My requirement is to remotely track and draw the path of this android device on java application on desktop/laptop.\r\n\r\nusage: Cab driver uses the android application.\r\nCabs owner uses the desktop application.","title":"How to remotely track movement of android phone on map of a java desktop application using gps of android","body":"<p>I developed an android application in which shows the current location of the user and updates the movement on google map API 2 in that application. My requirement is to remotely track and draw the path of this android device on java application on desktop/laptop.</p>\n\n<p>usage: Cab driver uses the android application.\nCabs owner uses the desktop application.</p>\n"},{"tags":["java","spring-boot","jsonschema","spring-cloud-stream","confluent-schema-registry"],"answers":[{"tags":[],"owner":{"account_id":16087023,"reputation":21,"user_id":11611443,"display_name":"Iheb Ben Romdhane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681375826,"creation_date":1680875590,"answer_id":75959051,"question_id":75957256,"body_markdown":"I resolved the problem: I just add \r\n`use.latest.version: true` \r\nto get the schema from the server of schema registry.\r\n\r\nWithout this option Spring will not get the actual version of the schema.","title":"Json schema registry spring cloud kafka","body":"<p>I resolved the problem: I just add\n<code>use.latest.version: true</code>\nto get the schema from the server of schema registry.</p>\n<p>Without this option Spring will not get the actual version of the schema.</p>\n"}],"owner":{"account_id":16087023,"reputation":21,"user_id":11611443,"display_name":"Iheb Ben Romdhane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75959051,"answer_count":1,"score":0,"last_activity_date":1699693683,"creation_date":1680860291,"question_id":75957256,"body_markdown":"i work with spring cloud stream kafka , i have an issue with with json schema registry , i save my schema with the api of confluent but always i had this problem  \r\n\r\n&gt; org.springframework.messaging.MessageHandlingException: error occurred\r\n&gt; in message handler\r\n&gt; [org.springframework.cloud.stream.binder.kafka.KafkaMessageChannelBinder$ProducerConfigurationMessageHandler@65ffd83e];\r\n&gt; nested exception is\r\n&gt; org.apache.kafka.common.errors.SerializationException: Error\r\n&gt; retrieving JSON schema:\r\n&gt; {&quot;$schema&quot;:&quot;http://json-schema.org/draft-07/schema#&quot; \r\n&gt; \r\n\r\nPs: the schema used is too long\r\n\r\nWhat might the problem be?\r\n\r\n","title":"Json schema registry spring cloud kafka","body":"<p>i work with spring cloud stream kafka , i have an issue with with json schema registry , i save my schema with the api of confluent but always i had this problem</p>\n<blockquote>\n<p>org.springframework.messaging.MessageHandlingException: error occurred\nin message handler\n[org.springframework.cloud.stream.binder.kafka.KafkaMessageChannelBinder$ProducerConfigurationMessageHandler@65ffd83e];\nnested exception is\norg.apache.kafka.common.errors.SerializationException: Error\nretrieving JSON schema:\n{&quot;$schema&quot;:&quot;http://json-schema.org/draft-07/schema#&quot;</p>\n</blockquote>\n<p>Ps: the schema used is too long</p>\n<p>What might the problem be?</p>\n"},{"tags":["java","spring","spring-boot","spring-jdbc"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1699614246,"post_id":77459468,"comment_id":136557157,"body_markdown":"could you also share `Role` entity class ?","body":"could you also share <code>Role</code> entity class ?"},{"owner":{"account_id":18945056,"reputation":13,"user_id":13888041,"display_name":"p1e0"},"score":0,"creation_date":1699615687,"post_id":77459468,"comment_id":136557374,"body_markdown":"I&#39;m sorry, yes it is, I updated the post.","body":"I&#39;m sorry, yes it is, I updated the post."},{"owner":{"account_id":29161129,"reputation":86,"user_id":22339877,"display_name":"Flavian Diol D"},"score":0,"creation_date":1699633982,"post_id":77459468,"comment_id":136560767,"body_markdown":"Yes, I have faced such situations, idk if this is actually a bug or something. But try to restart your IDE and try running it again, for me it works sometimes. Well, I know this is stupid, but anyway give it a try. And if it doesn&#39;t work, could you add your application.properties along your post?","body":"Yes, I have faced such situations, idk if this is actually a bug or something. But try to restart your IDE and try running it again, for me it works sometimes. Well, I know this is stupid, but anyway give it a try. And if it doesn&#39;t work, could you add your application.properties along your post?"},{"owner":{"account_id":18945056,"reputation":13,"user_id":13888041,"display_name":"p1e0"},"score":0,"creation_date":1699650060,"post_id":77459468,"comment_id":136563052,"body_markdown":"Oh yes, how could I forget about it, I updated the post @FlavianDiolD\nAbout restart IDE, I tried it several times before creating this question : )","body":"Oh yes, how could I forget about it, I updated the post @FlavianDiolD About restart IDE, I tried it several times before creating this question : )"},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1699674556,"post_id":77459468,"comment_id":136564809,"body_markdown":"I&#39;d look to see whether you have some conflicting implementation in your build.gradle.  Might make sense to use `start.spring.io` and selectively add.  Also, with your query, you use findByName with an enum that will basically return an enum wrapped in a Role?  Are you sure that&#39;s what you want?","body":"I&#39;d look to see whether you have some conflicting implementation in your build.gradle.  Might make sense to use <code>start.spring.io</code> and selectively add.  Also, with your query, you use findByName with an enum that will basically return an enum wrapped in a Role?  Are you sure that&#39;s what you want?"},{"owner":{"account_id":18945056,"reputation":13,"user_id":13888041,"display_name":"p1e0"},"score":0,"creation_date":1699693524,"post_id":77459468,"comment_id":136565784,"body_markdown":"p.s. thanks everyone, the problem was in the project dependencies, I was using JPD and R2DBC and most likely Spring got confused and couldn&#39;t bind Bean-s. I removed the dependencies I didn&#39;t need, I&#39;ve updated the post as the gradlew* file already looks like.","body":"p.s. thanks everyone, the problem was in the project dependencies, I was using JPD and R2DBC and most likely Spring got confused and couldn&#39;t bind Bean-s. I removed the dependencies I didn&#39;t need, I&#39;ve updated the post as the gradlew* file already looks like."}],"answers":[{"tags":[],"owner":{"account_id":29161129,"reputation":86,"user_id":22339877,"display_name":"Flavian Diol D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699670465,"creation_date":1699670465,"answer_id":77463727,"question_id":77459468,"body_markdown":"Okay so the entire problem is that Spring is not able to decide how to create your Repository class, since you are having multiple `starter-data` projects implemented in your project. That is, you are using MySQL as your vendor, and for using an ORM with MySQL only JPA would suffice, but for any reasons like you want to write clear queries you may want to add JDBC as well, but removing R2DBC implementation and the unwanted Drivers from the dependencies cleared out your problem.\r\n\r\n    dependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;me.paulschwarz:spring-dotenv:4.0.0&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation:3.1.5&#39;\r\n    implementation &#39;org.mapstruct:mapstruct-processor:1.6.0.Beta1&#39;\r\n    implementation &#39;org.mapstruct:mapstruct:1.6.0.Beta1&#39;\r\n    implementation &#39;com.auth0:java-jwt:4.4.0&#39;\r\n    implementation &#39;io.jsonwebtoken:jjwt:0.12.3&#39;\r\n    implementation &#39;io.jsonwebtoken:jjwt-api:0.12.3&#39;\r\n    runtimeOnly &#39;io.jsonwebtoken:jjwt-jackson:0.12.3&#39;\r\n    runtimeOnly &#39;io.jsonwebtoken:jjwt-impl:0.12.3&#39;\r\n    implementation &#39;org.flywaydb:flyway-core&#39;\r\n    runtimeOnly &#39;org.flywaydb:flyway-mysql&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    runtimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;io.projectreactor:reactor-test&#39;\r\n    testImplementation &#39;org.springframework.restdocs:spring-restdocs-mockmvc&#39;\r\n    testImplementation &#39;org.springframework.security:spring-security-test&#39;}\r\n\r\nthis will run your project\r\n\r\nand one more thing, I am not sure if Spring provides engine specific Dialects, but 5InnoDB Dialect is definitely not gonna work, you might want to implement an engine specific Driver then, else you could simply use `MySQLDialect` and your project would start running, without any problem.\r\n\r\nThe issue was with Spring not knowing in which flavor it should create your repository class. And therefore left it uncreated, which later reflected in a bean not found exception.\r\n\r\nHope you understood the problem.","title":"Spring can&#39;t find the Repository bean in the Service","body":"<p>Okay so the entire problem is that Spring is not able to decide how to create your Repository class, since you are having multiple <code>starter-data</code> projects implemented in your project. That is, you are using MySQL as your vendor, and for using an ORM with MySQL only JPA would suffice, but for any reasons like you want to write clear queries you may want to add JDBC as well, but removing R2DBC implementation and the unwanted Drivers from the dependencies cleared out your problem.</p>\n<pre><code>dependencies {\nimplementation 'org.springframework.boot:spring-boot-starter-data-jpa'\nimplementation 'org.springframework.boot:spring-boot-starter-data-rest'\nimplementation 'org.springframework.boot:spring-boot-starter-jdbc'\nimplementation 'org.springframework.boot:spring-boot-starter-web'\nimplementation 'me.paulschwarz:spring-dotenv:4.0.0'\nimplementation 'org.springframework.boot:spring-boot-starter-security'\nimplementation 'org.springframework.boot:spring-boot-starter-validation:3.1.5'\nimplementation 'org.mapstruct:mapstruct-processor:1.6.0.Beta1'\nimplementation 'org.mapstruct:mapstruct:1.6.0.Beta1'\nimplementation 'com.auth0:java-jwt:4.4.0'\nimplementation 'io.jsonwebtoken:jjwt:0.12.3'\nimplementation 'io.jsonwebtoken:jjwt-api:0.12.3'\nruntimeOnly 'io.jsonwebtoken:jjwt-jackson:0.12.3'\nruntimeOnly 'io.jsonwebtoken:jjwt-impl:0.12.3'\nimplementation 'org.flywaydb:flyway-core'\nruntimeOnly 'org.flywaydb:flyway-mysql'\ncompileOnly 'org.projectlombok:lombok'\ndevelopmentOnly 'org.springframework.boot:spring-boot-devtools'\nruntimeOnly 'com.mysql:mysql-connector-j'\nannotationProcessor 'org.projectlombok:lombok'\ntestImplementation 'org.springframework.boot:spring-boot-starter-test'\ntestImplementation 'io.projectreactor:reactor-test'\ntestImplementation 'org.springframework.restdocs:spring-restdocs-mockmvc'\ntestImplementation 'org.springframework.security:spring-security-test'}\n</code></pre>\n<p>this will run your project</p>\n<p>and one more thing, I am not sure if Spring provides engine specific Dialects, but 5InnoDB Dialect is definitely not gonna work, you might want to implement an engine specific Driver then, else you could simply use <code>MySQLDialect</code> and your project would start running, without any problem.</p>\n<p>The issue was with Spring not knowing in which flavor it should create your repository class. And therefore left it uncreated, which later reflected in a bean not found exception.</p>\n<p>Hope you understood the problem.</p>\n"}],"owner":{"account_id":18945056,"reputation":13,"user_id":13888041,"display_name":"p1e0"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77463727,"answer_count":1,"score":0,"last_activity_date":1699693655,"creation_date":1699613787,"question_id":77459468,"body_markdown":"I have a problem when launching the application :\r\n\r\n    Description:\r\n    \r\n    Parameter 0 of constructor in com.backend.services.RoleService required a bean of type &#39;com.backend.repository.RoleRepository&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.backend.repository.RoleRepository&#39; in your configuration.\r\n\r\nHas anyone experienced this problem?\r\n\r\n**Project structure:**\r\n\r\n*com.backend*\r\n\r\n    entity.Role\r\n   \r\n    enums.ERole\r\n    \r\n    repository.RoleRepository\r\n    \r\n    services.RoleService\r\n**Its code**\r\n\r\nApplication.yml (dev I using it)\r\n```yml\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: &quot;dev&quot;\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/${MYSQL_DATABASE}\r\n    username: ${MYSQL_USER}\r\n    password: ${MYSQL_PASSWORD}\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: create\r\n    show-sql: true\r\n    properties:\r\n      hibernate:\r\n        dialect: &quot;org.hibernate.dialect.MySQL5InnoDBDialect&quot;\r\n  flyway:\r\n    enabled: true\r\n    url: jdbc:mysql://localhost:3306/${MYSQL_DATABASE}\r\n    locations: classpath:db/migration\r\n    user: ${MYSQL_USER}\r\n    password: ${MYSQL_PASSWORD}\r\n    create-schemas: true\r\n    default-schema: ${MYSQL_DATABASE}\r\n#logging:\r\n#  level:\r\n#    root: debug\r\n\r\njwtSecret: &quot;superkode&quot;\r\njwtExpirationMs: 86400000\r\njwtRefreshExpirationMs: 120000\r\n\r\n```\r\nEntity:\r\n```\r\npackage com.backend.entity;\r\n\r\nimport com.backend.enums.ERole;\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\n\r\nimport java.math.BigInteger;\r\n\r\n@Entity\r\n@Table(name = &quot;roles&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Role {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(length = 20, nullable = false)\r\n    private ERole name;\r\n}\r\n```\r\nEnum:\r\n```\r\npackage com.backend.enums;\r\n\r\npublic enum ERole {\r\n    USER,\r\n    BUSINESS,\r\n    ADMIN\r\n}\r\n```\r\nService:\r\n```java\r\npackage com.backend.services;\r\n\r\n\r\nimport com.backend.entity.Role;\r\nimport com.backend.enums.ERole;\r\nimport com.backend.repository.RoleRepository;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class RoleService {\r\n    private final RoleRepository roleRepository;\r\n\r\n    public RoleService(RoleRepository roleRepository) {\r\n        this.roleRepository = roleRepository;\r\n    }\r\n\r\n    public Optional&lt;Role&gt; findByName(ERole name) {\r\n        return roleRepository.findByName(name);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nRepository:\r\n```java\r\npackage com.backend.repository;\r\n\r\nimport com.backend.entity.Role;\r\nimport com.backend.enums.ERole;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.Optional;\r\n\r\n@Repository\r\npublic interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\r\n    Optional&lt;Role&gt; findByName(ERole name);\r\n}\r\n```\r\nWhat I tried:\r\n\r\n1) Add @Autowired, and I get an error like this\r\n\r\n2) Add package scanning anotation to BackendApplication, and I get a similar error\r\n\r\nI use gradlew: \r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.1.5&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.3&#39;\r\n    id &#39;org.asciidoctor.jvm.convert&#39; version &#39;3.3.2&#39;\r\n}\r\n\r\ngroup = &#39;com.backend&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n    sourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    set(&#39;snippetsDir&#39;, file(&quot;build/generated-snippets&quot;))\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-r2dbc&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;me.paulschwarz:spring-dotenv:4.0.0&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation:3.1.5&#39;\r\n    implementation &#39;org.mapstruct:mapstruct-processor:1.6.0.Beta1&#39;\r\n    implementation &#39;org.mapstruct:mapstruct:1.6.0.Beta1&#39;\r\n    implementation &#39;com.auth0:java-jwt:4.4.0&#39;\r\n    implementation &#39;io.jsonwebtoken:jjwt:0.12.3&#39;\r\n    implementation &#39;io.jsonwebtoken:jjwt-api:0.12.3&#39;\r\n    runtimeOnly &#39;io.jsonwebtoken:jjwt-jackson:0.12.3&#39;\r\n    runtimeOnly &#39;io.jsonwebtoken:jjwt-impl:0.12.3&#39;\r\n    implementation &#39;org.flywaydb:flyway-core&#39;\r\n    runtimeOnly &#39;org.flywaydb:flyway-mysql&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    runtimeOnly &#39;com.h2database:h2&#39;\r\n    runtimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n    runtimeOnly &#39;io.asyncer:r2dbc-mysql&#39;\r\n    runtimeOnly &#39;io.r2dbc:r2dbc-h2&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;io.projectreactor:reactor-test&#39;\r\n    testImplementation &#39;org.springframework.restdocs:spring-restdocs-mockmvc&#39;\r\n    testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    outputs.dir snippetsDir\r\n    useJUnitPlatform()\r\n}\r\n\r\ntasks.named(&#39;asciidoctor&#39;) {\r\n    inputs.dir snippetsDir\r\n    dependsOn test\r\n}\r\n```\r\n\r\nAnd Application file:\r\n\r\n```\r\npackage com.backend;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\npublic class BackendApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(BackendApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n**[SOLVED]**\r\n**I refactored gradlew, removed conflicting dependencies with DB:**\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.1.5&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.3&#39;\r\n}\r\n\r\ngroup = &#39;com.backend&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n    sourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web:3.1.5&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:3.1.5&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security:3.1.5&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation:3.1.5&#39;\r\n    implementation &#39;com.mysql:mysql-connector-j:8.2.0&#39;\r\n    implementation &#39;com.auth0:java-jwt:4.4.0&#39;\r\n    implementation &#39;io.jsonwebtoken:jjwt-api:0.12.3&#39;\r\n    implementation &#39;me.paulschwarz:spring-dotenv:4.0.0&#39;\r\n    implementation &#39;org.flywaydb:flyway-core:10.0.0&#39;\r\n    implementation &#39;org.flywaydb:flyway-mysql:10.0.0&#39;\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.30&#39;\r\n    runtimeOnly &#39;io.jsonwebtoken:jjwt-impl:0.12.3&#39;\r\n    runtimeOnly &#39;io.jsonwebtoken:jjwt-jackson:0.12.3&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;io.projectreactor:reactor-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\n\r\n```","title":"Spring can&#39;t find the Repository bean in the Service","body":"<p>I have a problem when launching the application :</p>\n<pre><code>Description:\n\nParameter 0 of constructor in com.backend.services.RoleService required a bean of type 'com.backend.repository.RoleRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.backend.repository.RoleRepository' in your configuration.\n</code></pre>\n<p>Has anyone experienced this problem?</p>\n<p><strong>Project structure:</strong></p>\n<p><em>com.backend</em></p>\n<pre><code>entity.Role\n\nenums.ERole\n\nrepository.RoleRepository\n\nservices.RoleService\n</code></pre>\n<p><strong>Its code</strong></p>\n<p>Application.yml (dev I using it)</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  config:\n    activate:\n      on-profile: &quot;dev&quot;\n  datasource:\n    url: jdbc:mysql://localhost:3306/${MYSQL_DATABASE}\n    username: ${MYSQL_USER}\n    password: ${MYSQL_PASSWORD}\n    driver-class-name: com.mysql.cj.jdbc.Driver\n  jpa:\n    hibernate:\n      ddl-auto: create\n    show-sql: true\n    properties:\n      hibernate:\n        dialect: &quot;org.hibernate.dialect.MySQL5InnoDBDialect&quot;\n  flyway:\n    enabled: true\n    url: jdbc:mysql://localhost:3306/${MYSQL_DATABASE}\n    locations: classpath:db/migration\n    user: ${MYSQL_USER}\n    password: ${MYSQL_PASSWORD}\n    create-schemas: true\n    default-schema: ${MYSQL_DATABASE}\n#logging:\n#  level:\n#    root: debug\n\njwtSecret: &quot;superkode&quot;\njwtExpirationMs: 86400000\njwtRefreshExpirationMs: 120000\n\n</code></pre>\n<p>Entity:</p>\n<pre><code>package com.backend.entity;\n\nimport com.backend.enums.ERole;\nimport jakarta.persistence.*;\nimport lombok.*;\n\nimport java.math.BigInteger;\n\n@Entity\n@Table(name = &quot;roles&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Role {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(length = 20, nullable = false)\n    private ERole name;\n}\n</code></pre>\n<p>Enum:</p>\n<pre><code>package com.backend.enums;\n\npublic enum ERole {\n    USER,\n    BUSINESS,\n    ADMIN\n}\n</code></pre>\n<p>Service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.backend.services;\n\n\nimport com.backend.entity.Role;\nimport com.backend.enums.ERole;\nimport com.backend.repository.RoleRepository;\n\nimport org.springframework.stereotype.Service;\n\nimport java.util.Optional;\n\n@Service\npublic class RoleService {\n    private final RoleRepository roleRepository;\n\n    public RoleService(RoleRepository roleRepository) {\n        this.roleRepository = roleRepository;\n    }\n\n    public Optional&lt;Role&gt; findByName(ERole name) {\n        return roleRepository.findByName(name);\n    }\n\n}\n\n</code></pre>\n<p>Repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.backend.repository;\n\nimport com.backend.entity.Role;\nimport com.backend.enums.ERole;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.Optional;\n\n@Repository\npublic interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\n    Optional&lt;Role&gt; findByName(ERole name);\n}\n</code></pre>\n<p>What I tried:</p>\n<ol>\n<li><p>Add @Autowired, and I get an error like this</p>\n</li>\n<li><p>Add package scanning anotation to BackendApplication, and I get a similar error</p>\n</li>\n</ol>\n<p>I use gradlew:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.5'\n    id 'io.spring.dependency-management' version '1.1.3'\n    id 'org.asciidoctor.jvm.convert' version '3.3.2'\n}\n\ngroup = 'com.backend'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('snippetsDir', file(&quot;build/generated-snippets&quot;))\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-data-r2dbc'\n    implementation 'org.springframework.boot:spring-boot-starter-data-rest'\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'me.paulschwarz:spring-dotenv:4.0.0'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-validation:3.1.5'\n    implementation 'org.mapstruct:mapstruct-processor:1.6.0.Beta1'\n    implementation 'org.mapstruct:mapstruct:1.6.0.Beta1'\n    implementation 'com.auth0:java-jwt:4.4.0'\n    implementation 'io.jsonwebtoken:jjwt:0.12.3'\n    implementation 'io.jsonwebtoken:jjwt-api:0.12.3'\n    runtimeOnly 'io.jsonwebtoken:jjwt-jackson:0.12.3'\n    runtimeOnly 'io.jsonwebtoken:jjwt-impl:0.12.3'\n    implementation 'org.flywaydb:flyway-core'\n    runtimeOnly 'org.flywaydb:flyway-mysql'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'com.h2database:h2'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    runtimeOnly 'io.asyncer:r2dbc-mysql'\n    runtimeOnly 'io.r2dbc:r2dbc-h2'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n    testImplementation 'org.springframework.restdocs:spring-restdocs-mockmvc'\n    testImplementation 'org.springframework.security:spring-security-test'\n}\n\ntasks.named('test') {\n    outputs.dir snippetsDir\n    useJUnitPlatform()\n}\n\ntasks.named('asciidoctor') {\n    inputs.dir snippetsDir\n    dependsOn test\n}\n</code></pre>\n<p>And Application file:</p>\n<pre><code>package com.backend;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\npublic class BackendApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(BackendApplication.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>[SOLVED]</strong>\n<strong>I refactored gradlew, removed conflicting dependencies with DB:</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.5'\n    id 'io.spring.dependency-management' version '1.1.3'\n}\n\ngroup = 'com.backend'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web:3.1.5'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa:3.1.5'\n    implementation 'org.springframework.boot:spring-boot-starter-security:3.1.5'\n    implementation 'org.springframework.boot:spring-boot-starter-validation:3.1.5'\n    implementation 'com.mysql:mysql-connector-j:8.2.0'\n    implementation 'com.auth0:java-jwt:4.4.0'\n    implementation 'io.jsonwebtoken:jjwt-api:0.12.3'\n    implementation 'me.paulschwarz:spring-dotenv:4.0.0'\n    implementation 'org.flywaydb:flyway-core:10.0.0'\n    implementation 'org.flywaydb:flyway-mysql:10.0.0'\n    compileOnly 'org.projectlombok:lombok:1.18.30'\n    runtimeOnly 'io.jsonwebtoken:jjwt-impl:0.12.3'\n    runtimeOnly 'io.jsonwebtoken:jjwt-jackson:0.12.3'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","unique"],"comments":[{"owner":{"account_id":26462151,"reputation":132,"user_id":20160920,"display_name":"Portal"},"score":0,"creation_date":1687891809,"post_id":76567813,"comment_id":134999900,"body_markdown":"could append a UUID to the name or a similarly unlikely to repeat system","body":"could append a UUID to the name or a similarly unlikely to repeat system"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1687892328,"post_id":76567813,"comment_id":134999992,"body_markdown":"Generate random suffix, composed of random numbers(for example), append it to name, check if taken. If your random generation algorithm is good enough, you should have low collisions. You may want to consider indexing the username in db, to make the lookup faster.","body":"Generate random suffix, composed of random numbers(for example), append it to name, check if taken. If your random generation algorithm is good enough, you should have low collisions. You may want to consider indexing the username in db, to make the lookup faster."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1687892880,"post_id":76567813,"comment_id":135000076,"body_markdown":"Jim`&lt;current_nano_second&gt;`_`&lt;random_number&gt;`: current nano second will always increase, while you random number will be random. Quite impossible to have the same user name that way, I think.","body":"Jim<code>&lt;current_nano_second&gt;</code>_<code>&lt;random_number&gt;</code>: current nano second will always increase, while you random number will be random. Quite impossible to have the same user name that way, I think."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1687899615,"post_id":76567813,"comment_id":135001238,"body_markdown":"Why generate the username at all?  If the user just enters their email address, it will be unique.","body":"Why generate the username at all?  If the user just enters their email address, it will be unique."},{"owner":{"account_id":6857935,"reputation":1648,"user_id":5272951,"display_name":"Dumbo"},"score":0,"creation_date":1687936422,"post_id":76567813,"comment_id":135004940,"body_markdown":"Easiest way - concatenate random number -&gt; try to save it to DB (unique column) -&gt; handle duplicate exception -&gt; rerun same flow till success.","body":"Easiest way - concatenate random number -&gt; try to save it to DB (unique column) -&gt; handle duplicate exception -&gt; rerun same flow till success."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1687963039,"post_id":76567813,"comment_id":135010747,"body_markdown":"Please don&#39;t post images of code, errors, logs, or other text; see [ask]","body":"Please don&#39;t post images of code, errors, logs, or other text; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699692427,"creation_date":1687963166,"answer_id":76574266,"question_id":76567813,"body_markdown":"From a architectural point of view: a microservice who generate and store all used usernames in a database might be a good approach. It is called the single-source-of-truth principle.\r\n\r\nBut do we need this? It depends on the expected amount of users. Do you expect about 5.000.000.000.000.000.000.000.000.000.000.000 users? A uuid is a good bet. Otherwise I would take the size of the users-table. If Jim is the 20th user, his generated username might be Jim20.\r\n\r\nNo need for random numbers, right?","title":"Spring Boot: How to generate unique username based on name during registration of user","body":"<p>From a architectural point of view: a microservice who generate and store all used usernames in a database might be a good approach. It is called the single-source-of-truth principle.</p>\n<p>But do we need this? It depends on the expected amount of users. Do you expect about 5.000.000.000.000.000.000.000.000.000.000.000 users? A uuid is a good bet. Otherwise I would take the size of the users-table. If Jim is the 20th user, his generated username might be Jim20.</p>\n<p>No need for random numbers, right?</p>\n"}],"owner":{"account_id":22492886,"reputation":5,"user_id":16690377,"display_name":"Tornike"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1699692427,"creation_date":1687891510,"question_id":76567813,"body_markdown":"I have spring boot application and simple UserService which is called by controller. During registration I want to generate unique username (that is not present is database) based on name.\r\nFor example, if name is Jim username should be name + random number (Jim342123).\r\n\r\nBasically it is the same idea how twitter generates username.\r\n\r\nUser can input same name Jim and in very rare cases username can be same (Jim342123).\r\n\r\n[UserSerivce](https://i.stack.imgur.com/9xX1B.png)\r\n\r\nHow to avoid generating same username or how to handle if same username will be generated?\r\n\r\nWhat is best way to achieve this?\r\n\r\nWhat is best way to implement generateUsername() method?\r\n\r\nI tried something like this but I don&#39;t think it is good solution.\r\n\r\n[Bad Solution](https://i.stack.imgur.com/Wjezy.png)","title":"Spring Boot: How to generate unique username based on name during registration of user","body":"<p>I have spring boot application and simple UserService which is called by controller. During registration I want to generate unique username (that is not present is database) based on name.\nFor example, if name is Jim username should be name + random number (Jim342123).</p>\n<p>Basically it is the same idea how twitter generates username.</p>\n<p>User can input same name Jim and in very rare cases username can be same (Jim342123).</p>\n<p><a href=\"https://i.stack.imgur.com/9xX1B.png\" rel=\"nofollow noreferrer\">UserSerivce</a></p>\n<p>How to avoid generating same username or how to handle if same username will be generated?</p>\n<p>What is best way to achieve this?</p>\n<p>What is best way to implement generateUsername() method?</p>\n<p>I tried something like this but I don't think it is good solution.</p>\n<p><a href=\"https://i.stack.imgur.com/Wjezy.png\" rel=\"nofollow noreferrer\">Bad Solution</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":5,"creation_date":1589965732,"post_id":61909211,"comment_id":109499196,"body_markdown":"You need to write a custom `Comparator`.","body":"You need to write a custom <code>Comparator</code>."}],"answers":[{"tags":[],"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589966807,"creation_date":1589966807,"answer_id":61909580,"question_id":61909211,"body_markdown":"As Kayaman said in the comment, probably the best approach will be to implement a dedicated `Comparator` for this task and use it to sort the array.\r\nIt could look something like this:\r\n\r\n    public class StringVowelCountComparator implements Comparator&lt;String&gt; {  \r\n        @Override\r\n        public int compare(String first, String second) {\r\n           return (countVowels(first) - countVowels(second));\r\n        }\r\n    \r\n        private int countVowels(String string){\r\n           int count = 0;\r\n           char[] chars = string.toCharArray();\r\n           for (int i = 0; i &lt; chars.length; i++) {\r\n              if(ar[i] == &#39;a&#39;|| ar[i] == &#39;e&#39;|| ar[i] == &#39;i&#39; || ar[i] == &#39;o&#39; ||ar[i] == &#39;u&#39;|| ar[i] == &#39;A&#39; || ar[i] == &#39;E&#39; || ar[i] == &#39;I&#39; || ar[i] == &#39;O&#39; ||ar[i] == &#39;U&#39;){\r\n                 count ++;\r\n              }\r\n           }\r\n           return count;        \r\n        }\r\n    }\r\n\r\nAnd then in your code you just call it like this:\r\n\r\n    Arrays.sort(list, new StringVowelCountComparator());","title":"How to sort an array of string in descending order by the number of vowels each string has","body":"<p>As Kayaman said in the comment, probably the best approach will be to implement a dedicated <code>Comparator</code> for this task and use it to sort the array.\nIt could look something like this:</p>\n\n<pre><code>public class StringVowelCountComparator implements Comparator&lt;String&gt; {  \n    @Override\n    public int compare(String first, String second) {\n       return (countVowels(first) - countVowels(second));\n    }\n\n    private int countVowels(String string){\n       int count = 0;\n       char[] chars = string.toCharArray();\n       for (int i = 0; i &lt; chars.length; i++) {\n          if(ar[i] == 'a'|| ar[i] == 'e'|| ar[i] == 'i' || ar[i] == 'o' ||ar[i] == 'u'|| ar[i] == 'A' || ar[i] == 'E' || ar[i] == 'I' || ar[i] == 'O' ||ar[i] == 'U'){\n             count ++;\n          }\n       }\n       return count;        \n    }\n}\n</code></pre>\n\n<p>And then in your code you just call it like this:</p>\n\n<pre><code>Arrays.sort(list, new StringVowelCountComparator());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9424981,"reputation":88,"user_id":7010245,"display_name":"Tanya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1589968269,"creation_date":1589967490,"answer_id":61909792,"question_id":61909211,"body_markdown":"You can use a custom comparator like this:\r\n\r\n   \r\n\r\n     \r\n\r\n\r\n&gt;     \r\n&gt;     class SortByNumberOfVowels implements Comparator&lt;String&gt;\r\n&gt;     {\r\n&gt;         @Override\r\n&gt;         public int compare ( String o1, String o2 ) {\r\n&gt;             return numOfVowels(o2) - numOfVowels(o1) ;\r\n&gt;         }\r\n&gt;     \r\n&gt;         private int numOfVowels ( String o1 ) {\r\n&gt;             int ctr = 0;\r\n&gt;             for(int i = 0;i&lt;o1.length ();i++) {\r\n&gt;                 if(&quot;AEIOUaeiou&quot;.indexOf(o1.charAt ( i )) != -1)\r\n&gt;                     ctr++;\r\n&gt;             }\r\n&gt;             return ctr;\r\n&gt;         }\r\n&gt;     }\r\n&gt;     \r\n&gt;     public class hello {\r\n&gt;     \r\n&gt;         public static void main ( String[] args ) {\r\n&gt;             List&lt;String&gt; list = new ArrayList&lt;&gt; (  );\r\n&gt;             list.add(&quot;eaiou&quot;);list.add(&quot;hello&quot;);list.add(&quot;aaaaaaaaaaaaa&quot;);\r\n&gt;             Collections.sort(list, new SortByNumberOfVowels());\r\n&gt;             System.out.println(list);\r\n&gt;         }\r\n&gt;     }\r\n\r\nTime complexity will be **nlog(n)*|s|** where **n** = size of list and **|s|** is the average length of strings.\r\n","title":"How to sort an array of string in descending order by the number of vowels each string has","body":"<p>You can use a custom comparator like this:</p>\n\n<blockquote>\n<pre><code>class SortByNumberOfVowels implements Comparator&lt;String&gt;\n{\n    @Override\n    public int compare ( String o1, String o2 ) {\n        return numOfVowels(o2) - numOfVowels(o1) ;\n    }\n\n    private int numOfVowels ( String o1 ) {\n        int ctr = 0;\n        for(int i = 0;i&lt;o1.length ();i++) {\n            if(\"AEIOUaeiou\".indexOf(o1.charAt ( i )) != -1)\n                ctr++;\n        }\n        return ctr;\n    }\n}\n\npublic class hello {\n\n    public static void main ( String[] args ) {\n        List&lt;String&gt; list = new ArrayList&lt;&gt; (  );\n        list.add(\"eaiou\");list.add(\"hello\");list.add(\"aaaaaaaaaaaaa\");\n        Collections.sort(list, new SortByNumberOfVowels());\n        System.out.println(list);\n    }\n}\n</code></pre>\n</blockquote>\n\n<p>Time complexity will be <strong>nlog(n)*|s|</strong> where <strong>n</strong> = size of list and <strong>|s|</strong> is the average length of strings.</p>\n"},{"tags":[],"owner":{"account_id":18633105,"reputation":59,"user_id":13580623,"display_name":"ShaliniCodes"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1589972730,"creation_date":1589967715,"answer_id":61909873,"question_id":61909211,"body_markdown":"This might not be the most efficient way but it will give you the output.\r\n\r\n1.Store the value of count and index of the strings in list (i) in a HashMap. HashMap(count, i)\r\n\r\n2.Sort the keys of the HashMap. One way to do it is using Collections.sort()\r\n   \r\n      ArrayList&lt;String&gt; keys =  new ArrayList&lt;String&gt;(hash_map.keySet()); \r\n            Collections.sort(keys); \r\n\r\n3.Iterate through keys and print the value for each.\r\n   \r\n     for (String s : keys)  \r\n            System.out.println(hash_map.get(s));\r\n","title":"How to sort an array of string in descending order by the number of vowels each string has","body":"<p>This might not be the most efficient way but it will give you the output.</p>\n\n<p>1.Store the value of count and index of the strings in list (i) in a HashMap. HashMap(count, i)</p>\n\n<p>2.Sort the keys of the HashMap. One way to do it is using Collections.sort()</p>\n\n<pre><code>  ArrayList&lt;String&gt; keys =  new ArrayList&lt;String&gt;(hash_map.keySet()); \n        Collections.sort(keys); \n</code></pre>\n\n<p>3.Iterate through keys and print the value for each.</p>\n\n<pre><code> for (String s : keys)  \n        System.out.println(hash_map.get(s));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8503655,"reputation":1414,"user_id":6375917,"display_name":"TongChen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589977871,"creation_date":1589977871,"answer_id":61913226,"question_id":61909211,"body_markdown":"**Problem in your annotate**\r\n\r\n`n=input.nextInt();` just read a int but not discard the other world in the line。\r\n\r\nI change your code and it works well.\r\n\r\n~~~\r\npublic static void main(String[] args) throws Exception {\r\n\tScanner input = new Scanner(System.in);\r\n\tint n;\r\n\tSystem.out.print(&quot;Enter the amount of words you wanna input: \\n&quot;);\r\n\tn = input.nextInt();\r\n\tinput.nextLine();\r\n\r\n\tString[] list = new String[n];\r\n\r\n\tfor (int i = 0; i &lt; n; i++) {\r\n\t\tSystem.out.print(&quot;Enter the &quot; + (i + 1) + &quot; word: &quot;);\r\n\t\tString inputContent = input.nextLine();\r\n\t\tlist[i] = inputContent;\r\n\t}\r\n\tString[] sorted = new String[3];\r\n\tArrays.stream(list).sorted((o1, o2) -&gt; vowels(o2) - vowels(o1)).collect(Collectors.toList()).toArray(sorted);\r\n\tfor (int i = 0; i &lt; n; i++) {\r\n\t\tSystem.out.println(&quot;&quot; + sorted[i]);\r\n\t}\r\n}\r\n~~~\r\n\r\nextract a method to number vowels of input string:\r\n\r\n~~~\r\nprivate static int vowels(String input) {\r\n\tString vowels = &quot;AEIOUaeiou&quot;;\r\n\tchar[] chars = input.toCharArray();\r\n\tint count = 0;\r\n\tfor (char ch : chars) {\r\n\t\tif (vowels.contains(ch + &quot;&quot;)) {\r\n\t\t\tcount++;\r\n\t\t}\r\n\t}\r\n\treturn count;\r\n}\r\n~~~","title":"How to sort an array of string in descending order by the number of vowels each string has","body":"<p><strong>Problem in your annotate</strong></p>\n\n<p><code>n=input.nextInt();</code> just read a int but not discard the other world in the line。</p>\n\n<p>I change your code and it works well.</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    Scanner input = new Scanner(System.in);\n    int n;\n    System.out.print(\"Enter the amount of words you wanna input: \\n\");\n    n = input.nextInt();\n    input.nextLine();\n\n    String[] list = new String[n];\n\n    for (int i = 0; i &lt; n; i++) {\n        System.out.print(\"Enter the \" + (i + 1) + \" word: \");\n        String inputContent = input.nextLine();\n        list[i] = inputContent;\n    }\n    String[] sorted = new String[3];\n    Arrays.stream(list).sorted((o1, o2) -&gt; vowels(o2) - vowels(o1)).collect(Collectors.toList()).toArray(sorted);\n    for (int i = 0; i &lt; n; i++) {\n        System.out.println(\"\" + sorted[i]);\n    }\n}\n</code></pre>\n\n<p>extract a method to number vowels of input string:</p>\n\n<pre><code>private static int vowels(String input) {\n    String vowels = \"AEIOUaeiou\";\n    char[] chars = input.toCharArray();\n    int count = 0;\n    for (char ch : chars) {\n        if (vowels.contains(ch + \"\")) {\n            count++;\n        }\n    }\n    return count;\n}\n</code></pre>\n"}],"owner":{"account_id":18160407,"reputation":21,"user_id":13211884,"display_name":"Atif_karim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61909792,"answer_count":4,"score":0,"last_activity_date":1699689583,"creation_date":1589965626,"question_id":61909211,"body_markdown":"How should I sort individual strings in descending order. For example if I enter the the size of the array 3 and enter the strings &quot;hello&quot;, &quot;rip hi&quot;, &quot;AEIOU&quot; I should get &quot;AEIOU&quot;, &quot;rip hi&quot;,&quot;hello&quot; as return after sorting.\r\n\r\nThis is how far I have come:\r\n\r\n            Scanner input=new Scanner(System.in);\r\n            int n;\r\n            System.out.print(&quot;Enter the amount of words you wanna input: &quot;);\r\n            n=input.nextInt();\r\n            System.out.println();\r\n            \r\n            String[] list=new String[n];\r\n            String[] list2=new String[n];\r\n            /// this loop will take input of strings \r\n            for (int i = 0; i &lt; n; i++) {\r\n                input.nextLine(); // I don&#39;t know why but my first iteration&#39;s scanner was being skipped that is why \r\n                                  // I used another input.nextLine pls don&#39;t cut marks \r\n                System.out.print(&quot;Enter the &quot;+(i+1)+&quot; word: &quot;);\r\n                list[i]=input.nextLine();\r\n            }\r\n            /// this loop will sort the array by taking individual strings and breaking them in char array and counting how many times\r\n            /// a vowel is present but how to sort ?\r\n            for(int i=0;i&lt;n;i++)\r\n                {\r\n                    String temp= list[i];\r\n                    char[] ar = temp.toCharArray();\r\n                    for (int j = 0; j &lt; ar.length; j++) {\r\n                        int count=0;\r\n                        int count2;\r\n                        if(ar[j] == &#39;a&#39;|| ar[j] == &#39;e&#39;|| ar[j] == &#39;i&#39; || ar[j] == &#39;o&#39; ||ar[j] == &#39;u&#39;|| ar[j] == &#39;A&#39; || ar[j] == &#39;E&#39; || ar[j] == &#39;I&#39; || ar[j] == &#39;O&#39; ||ar[j] == &#39;U&#39;){\r\n                            count ++;\r\n                        }\r\n                        if(count&gt;0 &amp;&amp; count&gt;count2){\r\n                            String temp1=String.copyValueOf(ar);\r\n                        }\r\n                        else{\r\n                            \r\n                        }\r\n                    }\r\n                 \r\n                }\r\n            /// this loop would show the sorted array\r\n            for (int i = 0; i &lt; n; i++) {\r\n                System.out.println(&quot;&quot;+list[i]);\r\n            }\r\n\r\n","title":"How to sort an array of string in descending order by the number of vowels each string has","body":"<p>How should I sort individual strings in descending order. For example if I enter the the size of the array 3 and enter the strings &quot;hello&quot;, &quot;rip hi&quot;, &quot;AEIOU&quot; I should get &quot;AEIOU&quot;, &quot;rip hi&quot;,&quot;hello&quot; as return after sorting.</p>\n<p>This is how far I have come:</p>\n<pre><code>        Scanner input=new Scanner(System.in);\n        int n;\n        System.out.print(&quot;Enter the amount of words you wanna input: &quot;);\n        n=input.nextInt();\n        System.out.println();\n        \n        String[] list=new String[n];\n        String[] list2=new String[n];\n        /// this loop will take input of strings \n        for (int i = 0; i &lt; n; i++) {\n            input.nextLine(); // I don't know why but my first iteration's scanner was being skipped that is why \n                              // I used another input.nextLine pls don't cut marks \n            System.out.print(&quot;Enter the &quot;+(i+1)+&quot; word: &quot;);\n            list[i]=input.nextLine();\n        }\n        /// this loop will sort the array by taking individual strings and breaking them in char array and counting how many times\n        /// a vowel is present but how to sort ?\n        for(int i=0;i&lt;n;i++)\n            {\n                String temp= list[i];\n                char[] ar = temp.toCharArray();\n                for (int j = 0; j &lt; ar.length; j++) {\n                    int count=0;\n                    int count2;\n                    if(ar[j] == 'a'|| ar[j] == 'e'|| ar[j] == 'i' || ar[j] == 'o' ||ar[j] == 'u'|| ar[j] == 'A' || ar[j] == 'E' || ar[j] == 'I' || ar[j] == 'O' ||ar[j] == 'U'){\n                        count ++;\n                    }\n                    if(count&gt;0 &amp;&amp; count&gt;count2){\n                        String temp1=String.copyValueOf(ar);\n                    }\n                    else{\n                        \n                    }\n                }\n             \n            }\n        /// this loop would show the sorted array\n        for (int i = 0; i &lt; n; i++) {\n            System.out.println(&quot;&quot;+list[i]);\n        }\n</code></pre>\n"},{"tags":["java","arraylist","hashmap"],"comments":[{"owner":{"display_name":"user180100"},"score":3,"creation_date":1396714168,"post_id":22883256,"comment_id":34918048,"body_markdown":"You might want to step up the design and use real objects, maybe introduce a `Substitution` (2 `char` fields `from`, `to`), then you will be working on a list of `Substitution`. Back to your problem, you&#39;re modifying a collection you&#39;re iteration on and that is forbidden and throws a `ConcurrentModificationException`.","body":"You might want to step up the design and use real objects, maybe introduce a <code>Substitution</code> (2 <code>char</code> fields <code>from</code>, <code>to</code>), then you will be working on a list of <code>Substitution</code>. Back to your problem, you&#39;re modifying a collection you&#39;re iteration on and that is forbidden and throws a <code>ConcurrentModificationException</code>."},{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1396714582,"post_id":22883256,"comment_id":34918200,"body_markdown":"Actually, you can modify a collection you are working on, *if* you use an Iterator instead of a foreach loop, using iter.remove().  But that still won&#39;t let you do a removeAll().","body":"Actually, you can modify a collection you are working on, <i>if</i> you use an Iterator instead of a foreach loop, using iter.remove().  But that still won&#39;t let you do a removeAll()."}],"answers":[{"tags":[],"owner":{"account_id":3308685,"reputation":450,"user_id":2782670,"accept_rate":100,"display_name":"bgth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396754429,"creation_date":1396715114,"answer_id":22883535,"question_id":22883256,"body_markdown":"Use Iterator. My Solution is working but may be it requires tuning for performance.\r\n\r\n       Iterator&lt;Map&lt;String,String&gt;&gt; all_keys_iterator = all_keys.iterator();\r\n       List&lt;Map&lt;String,String&gt;&gt; all_keys_new = new ArrayList&lt;Map&lt;String,String&gt;&gt; ();\r\n       \r\n       while(all_keys_iterator.hasNext()) {\r\n       \tMap&lt;String,String&gt; copyMap = new HashMap&lt;String,String&gt; ();\r\n       \t\r\n       \tMap&lt;String,String&gt; all_keys_map = all_keys_iterator.next();\r\n       \tfor(String key: all_keys_map.keySet()) {\r\n       \t\tif (!key.equalsIgnoreCase(&quot;key1&quot;)){\r\n       \t\t\tcopyMap.put(key, all_keys_map.get(key));\r\n       \t\t}\r\n       \t}\r\n       \tif(!copyMap.isEmpty()) {\r\n       \t\tall_keys_iterator.remove();\r\n       \t\tall_keys_new.add(copyMap);\r\n       \t}       \t\t       \r\n       }\r\n       \r\n       all_keys.addAll(all_keys_new);\r\n       \r\n       for(Map&lt;String,String&gt; map: all_keys) {\r\n       \tfor(String key: map.keySet()) {\r\n       \t\tSystem.out.println(&quot;key: &quot; + key + &quot; Value: &quot; + map.get(key));\r\n       \t}\r\n       }","title":"how to delete several items simultaneously from a ArrayList","body":"<p>Use Iterator. My Solution is working but may be it requires tuning for performance.</p>\n\n<pre><code>   Iterator&lt;Map&lt;String,String&gt;&gt; all_keys_iterator = all_keys.iterator();\n   List&lt;Map&lt;String,String&gt;&gt; all_keys_new = new ArrayList&lt;Map&lt;String,String&gt;&gt; ();\n\n   while(all_keys_iterator.hasNext()) {\n    Map&lt;String,String&gt; copyMap = new HashMap&lt;String,String&gt; ();\n\n    Map&lt;String,String&gt; all_keys_map = all_keys_iterator.next();\n    for(String key: all_keys_map.keySet()) {\n        if (!key.equalsIgnoreCase(\"key1\")){\n            copyMap.put(key, all_keys_map.get(key));\n        }\n    }\n    if(!copyMap.isEmpty()) {\n        all_keys_iterator.remove();\n        all_keys_new.add(copyMap);\n    }                      \n   }\n\n   all_keys.addAll(all_keys_new);\n\n   for(Map&lt;String,String&gt; map: all_keys) {\n    for(String key: map.keySet()) {\n        System.out.println(\"key: \" + key + \" Value: \" + map.get(key));\n    }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699689498,"creation_date":1396722955,"answer_id":22885072,"question_id":22883256,"body_markdown":"It was lready mentioned that you have to be careful when removing elements from a collection that you are currently iterating over. This may easily cause a `ConcurrentModificationException`. For &quot;complicated&quot; cases where you can not easily use an iterator, a pattern that can often be applied is that instead of doing something like\r\n\r\n    Collection&lt;Element&gt; collection = ...\r\n    for (Element element : collection)\r\n    {\r\n        if (hasToBeRemoved(element)) \r\n        {\r\n            // Will cause a ConcurrentModificationException!\r\n            collection.remove(element);\r\n        }\r\n    }\r\n\r\nyou collect the elements to be removed, and remove them all at once\r\n\r\n    Collection&lt;Element&gt; collection = ...\r\n    Collection&lt;Element&gt; elementsToRemove = new List&lt;Element&gt;();\r\n    for (Element element : collection)\r\n    {\r\n        if (hasToBeRemoved(element)) \r\n        {\r\n            elementsToRemove.add(element);\r\n        }\r\n    }\r\n    collection.removeAll(elementsToRemove);\r\n\r\nAccording to the code, you seem to have tried something similar, with your `keys_to_delete`, but that&#39;s not entirely clear. \r\n\r\n\r\nAnd as mentioned in the comment, you should consider dedicated data structures for the substitutions etc. But even if you wish to stick to Lists and Maps for this purpose, you should *always* use the *interface* in the declarations. So instead of \r\n\r\n    ArrayList&lt;HashMap&lt;Character,Character&gt;&gt; allKeys = ...\r\n\r\nyou should write\r\n\r\n    List&lt;Map&lt;Character,Character&gt;&gt; allKeys = ... \r\n\r\n\r\n----------\r\n\r\nHowever, regarding the actual question: It seems like the main issue can be resolved by introducing a method like `computeKeysContaining(maps, entry)` that returns all maps from a given collection that contain a certain entry. \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.LinkedHashSet;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    import java.util.Set;\r\n\r\n    public class MapListKeyRemoval\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            List&lt;Map&lt;Character,Character&gt;&gt; allKeys = generateAllCombinations();\r\n\r\n            print(&quot;All keys&quot;, allKeys);\r\n\r\n            Set&lt;Map&lt;Character,Character&gt;&gt; keysToDelete = \r\n                new LinkedHashSet&lt;Map&lt;Character,Character&gt;&gt;();\r\n            for (Map&lt;Character, Character&gt; key : allKeys)\r\n            {\r\n                for (Entry&lt;Character, Character&gt; entry : key.entrySet())\r\n                {\r\n                    if (isInvalidMapping(entry))\r\n                    {\r\n                        System.out.println(&quot;Invalid mapping: &quot;+entry);\r\n                        Set&lt;Map&lt;Character, Character&gt;&gt; keysWithInvalidMapping =\r\n                            computeKeysContaining(allKeys, entry);\r\n\r\n                        print(&quot;Keys with invalid mapping&quot;, keysWithInvalidMapping);\r\n\r\n                        keysToDelete.addAll(keysWithInvalidMapping);\r\n                    }\r\n                }\r\n            }\r\n            print(&quot;Keys to delete&quot;, keysToDelete);\r\n\r\n            allKeys.removeAll(keysToDelete);\r\n\r\n            print(&quot;All keys after removal&quot;, allKeys);\r\n        }\r\n\r\n        private static void print(\r\n            String message, Iterable&lt;Map&lt;Character,Character&gt;&gt; keys)\r\n        {\r\n            System.out.println(message);\r\n            for (Map&lt;Character, Character&gt; key : keys)\r\n            {\r\n                System.out.println(key);\r\n            }\r\n        }\r\n\r\n        private static Set&lt;Map&lt;Character, Character&gt;&gt; computeKeysContaining(\r\n            List&lt;Map&lt;Character,Character&gt;&gt; allKeys,\r\n            Entry&lt;Character, Character&gt; entry)\r\n        {\r\n            Set&lt;Map&lt;Character,Character&gt;&gt; keysContainingEntry =  \r\n                new LinkedHashSet&lt;Map&lt;Character,Character&gt;&gt;();\r\n            for (Map&lt;Character, Character&gt; key : allKeys)\r\n            {\r\n                Object value = key.get(entry.getKey());\r\n                if (value != null &amp;&amp; value.equals(entry.getValue()))\r\n                {\r\n                    keysContainingEntry.add(key);\r\n                }\r\n            }\r\n            return keysContainingEntry;\r\n        }\r\n\r\n        private static boolean isInvalidMapping(Entry&lt;Character, Character&gt; entry)\r\n        {\r\n            return entry.getKey().equals(&#39;g&#39;) &amp;&amp; entry.getValue().equals(&#39;h&#39;);\r\n        }\r\n\r\n        private static List&lt;Map&lt;Character, Character&gt;&gt; generateAllCombinations()\r\n        {\r\n            List&lt;Map&lt;Character, Character&gt;&gt; result = \r\n                new ArrayList&lt;Map&lt;Character,Character&gt;&gt;();\r\n            result.add(createMapping(&#39;f&#39;,&#39;i&#39;,&#39;r&#39;,&#39;s&#39;,&#39;t&#39;,&#39;-&#39;,&#39;g&#39;,&#39;h&#39;));\r\n            result.add(createMapping(&#39;s&#39;,&#39;e&#39;,&#39;c&#39;,&#39;o&#39;,&#39;n&#39;,&#39;d&#39;,&#39;g&#39;,&#39;x&#39;));\r\n            result.add(createMapping(&#39;t&#39;,&#39;h&#39;,&#39;i&#39;,&#39;r&#39;,&#39;d&#39;,&#39;-&#39;,&#39;g&#39;,&#39;h&#39;));\r\n            result.add(createMapping(&#39;f&#39;,&#39;o&#39;,&#39;u&#39;,&#39;r&#39;,&#39;t&#39;,&#39;h&#39;,&#39;g&#39;,&#39;x&#39;));\r\n            return result;\r\n        }\r\n\r\n        private static Map&lt;Character, Character&gt; createMapping(char ... c)\r\n        {\r\n            Map&lt;Character, Character&gt; map = \r\n                new LinkedHashMap&lt;Character, Character&gt;();\r\n            for (int i=0; i&lt;c.length/2; i++)\r\n            {\r\n                map.put(c[i*2+0], c[i*2+1]);\r\n            }\r\n            return map;\r\n        }\r\n    }","title":"how to delete several items simultaneously from a ArrayList","body":"<p>It was lready mentioned that you have to be careful when removing elements from a collection that you are currently iterating over. This may easily cause a <code>ConcurrentModificationException</code>. For &quot;complicated&quot; cases where you can not easily use an iterator, a pattern that can often be applied is that instead of doing something like</p>\n<pre><code>Collection&lt;Element&gt; collection = ...\nfor (Element element : collection)\n{\n    if (hasToBeRemoved(element)) \n    {\n        // Will cause a ConcurrentModificationException!\n        collection.remove(element);\n    }\n}\n</code></pre>\n<p>you collect the elements to be removed, and remove them all at once</p>\n<pre><code>Collection&lt;Element&gt; collection = ...\nCollection&lt;Element&gt; elementsToRemove = new List&lt;Element&gt;();\nfor (Element element : collection)\n{\n    if (hasToBeRemoved(element)) \n    {\n        elementsToRemove.add(element);\n    }\n}\ncollection.removeAll(elementsToRemove);\n</code></pre>\n<p>According to the code, you seem to have tried something similar, with your <code>keys_to_delete</code>, but that's not entirely clear.</p>\n<p>And as mentioned in the comment, you should consider dedicated data structures for the substitutions etc. But even if you wish to stick to Lists and Maps for this purpose, you should <em>always</em> use the <em>interface</em> in the declarations. So instead of</p>\n<pre><code>ArrayList&lt;HashMap&lt;Character,Character&gt;&gt; allKeys = ...\n</code></pre>\n<p>you should write</p>\n<pre><code>List&lt;Map&lt;Character,Character&gt;&gt; allKeys = ... \n</code></pre>\n<hr />\n<p>However, regarding the actual question: It seems like the main issue can be resolved by introducing a method like <code>computeKeysContaining(maps, entry)</code> that returns all maps from a given collection that contain a certain entry.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.LinkedHashMap;\nimport java.util.LinkedHashSet;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.Set;\n\npublic class MapListKeyRemoval\n{\n    public static void main(String[] args)\n    {\n        List&lt;Map&lt;Character,Character&gt;&gt; allKeys = generateAllCombinations();\n\n        print(&quot;All keys&quot;, allKeys);\n\n        Set&lt;Map&lt;Character,Character&gt;&gt; keysToDelete = \n            new LinkedHashSet&lt;Map&lt;Character,Character&gt;&gt;();\n        for (Map&lt;Character, Character&gt; key : allKeys)\n        {\n            for (Entry&lt;Character, Character&gt; entry : key.entrySet())\n            {\n                if (isInvalidMapping(entry))\n                {\n                    System.out.println(&quot;Invalid mapping: &quot;+entry);\n                    Set&lt;Map&lt;Character, Character&gt;&gt; keysWithInvalidMapping =\n                        computeKeysContaining(allKeys, entry);\n\n                    print(&quot;Keys with invalid mapping&quot;, keysWithInvalidMapping);\n\n                    keysToDelete.addAll(keysWithInvalidMapping);\n                }\n            }\n        }\n        print(&quot;Keys to delete&quot;, keysToDelete);\n\n        allKeys.removeAll(keysToDelete);\n\n        print(&quot;All keys after removal&quot;, allKeys);\n    }\n\n    private static void print(\n        String message, Iterable&lt;Map&lt;Character,Character&gt;&gt; keys)\n    {\n        System.out.println(message);\n        for (Map&lt;Character, Character&gt; key : keys)\n        {\n            System.out.println(key);\n        }\n    }\n\n    private static Set&lt;Map&lt;Character, Character&gt;&gt; computeKeysContaining(\n        List&lt;Map&lt;Character,Character&gt;&gt; allKeys,\n        Entry&lt;Character, Character&gt; entry)\n    {\n        Set&lt;Map&lt;Character,Character&gt;&gt; keysContainingEntry =  \n            new LinkedHashSet&lt;Map&lt;Character,Character&gt;&gt;();\n        for (Map&lt;Character, Character&gt; key : allKeys)\n        {\n            Object value = key.get(entry.getKey());\n            if (value != null &amp;&amp; value.equals(entry.getValue()))\n            {\n                keysContainingEntry.add(key);\n            }\n        }\n        return keysContainingEntry;\n    }\n\n    private static boolean isInvalidMapping(Entry&lt;Character, Character&gt; entry)\n    {\n        return entry.getKey().equals('g') &amp;&amp; entry.getValue().equals('h');\n    }\n\n    private static List&lt;Map&lt;Character, Character&gt;&gt; generateAllCombinations()\n    {\n        List&lt;Map&lt;Character, Character&gt;&gt; result = \n            new ArrayList&lt;Map&lt;Character,Character&gt;&gt;();\n        result.add(createMapping('f','i','r','s','t','-','g','h'));\n        result.add(createMapping('s','e','c','o','n','d','g','x'));\n        result.add(createMapping('t','h','i','r','d','-','g','h'));\n        result.add(createMapping('f','o','u','r','t','h','g','x'));\n        return result;\n    }\n\n    private static Map&lt;Character, Character&gt; createMapping(char ... c)\n    {\n        Map&lt;Character, Character&gt; map = \n            new LinkedHashMap&lt;Character, Character&gt;();\n        for (int i=0; i&lt;c.length/2; i++)\n        {\n            map.put(c[i*2+0], c[i*2+1]);\n        }\n        return map;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":49719,"reputation":309,"user_id":148175,"accept_rate":64,"display_name":"J. Bend"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1699689498,"creation_date":1396713815,"question_id":22883256,"body_markdown":"I&#39;m having trouble with a homework, the thing is I have around 40.000 `HashMap&lt;Character,Character&gt;` objects stored in a `ArrayList&lt;HashMap&lt;Character,Character&gt;&gt; `object.\r\n\r\nEach object `HashMap&lt;Character,Character&gt;` object represent a key for a substitution cipher. So one HashMap object might be: `a-&gt;a; b-&gt;b; c-&gt;c; d-&gt;d; e-&gt;e; f-&gt;f; g-&gt;h; h-&gt;g`\r\nwhich means that the g and h are swapped during encription/decryption.\r\n\r\nThe problem is that I&#39;m coding a brute force attack on this cipher, so I&#39;m looping over those 40.000 keys. \r\n\r\nWhen the program detects that say g-&gt;h It&#39;s a wrong substitution, I want to delete all the HashMap objects that contain this entry, not only the current element that I&#39;m working with inside the loop and thus be able to avoid checking the keys one by one.\r\n\r\nSo far I&#39;ve tried the following, but its getting stuck no exception or anything just doesnt finish, not even while debugging: \r\n\r\n      ArrayList&lt;HashMap&lt;Character,Character&gt;&gt; all_keys = new ...`\r\n      all_keys = generateAllCombinations();`\r\n      ArrayList&lt;HashMap&lt;Character,Character&gt;&gt; keys_to_delete = new ...`\r\n      \r\n      for(HashMap&lt;Character,Character&gt; key:all_keys){`\r\n         all_keys.removeAll(keys_to_delete);\r\n         \\\\other stuff going on...`\r\n            if (!letters[0].getChar().equals(Constants.CHAR_E)){\r\n\t         Character invChar = key.get(Constants.CHAR_E);\r\n\t\t      for(HashMap&lt;Character,Character&gt; key2 : all_keys){\r\n\t\t            if(key2.get(Constants.CHAR_E).equals(invChar)){\r\n\t\t\t         keys_to_delete.add(key2);\r\n\t\t            }\r\n\t\t      }\r\n\t\t\t\t\r\n\t    }\r\n       }\r\n","title":"how to delete several items simultaneously from a ArrayList","body":"<p>I'm having trouble with a homework, the thing is I have around 40.000 <code>HashMap&lt;Character,Character&gt;</code> objects stored in a <code>ArrayList&lt;HashMap&lt;Character,Character&gt;&gt;</code>object.</p>\n\n<p>Each object <code>HashMap&lt;Character,Character&gt;</code> object represent a key for a substitution cipher. So one HashMap object might be: <code>a-&gt;a; b-&gt;b; c-&gt;c; d-&gt;d; e-&gt;e; f-&gt;f; g-&gt;h; h-&gt;g</code>\nwhich means that the g and h are swapped during encription/decryption.</p>\n\n<p>The problem is that I'm coding a brute force attack on this cipher, so I'm looping over those 40.000 keys. </p>\n\n<p>When the program detects that say g->h It's a wrong substitution, I want to delete all the HashMap objects that contain this entry, not only the current element that I'm working with inside the loop and thus be able to avoid checking the keys one by one.</p>\n\n<p>So far I've tried the following, but its getting stuck no exception or anything just doesnt finish, not even while debugging: </p>\n\n<pre><code>  ArrayList&lt;HashMap&lt;Character,Character&gt;&gt; all_keys = new ...`\n  all_keys = generateAllCombinations();`\n  ArrayList&lt;HashMap&lt;Character,Character&gt;&gt; keys_to_delete = new ...`\n\n  for(HashMap&lt;Character,Character&gt; key:all_keys){`\n     all_keys.removeAll(keys_to_delete);\n     \\\\other stuff going on...`\n        if (!letters[0].getChar().equals(Constants.CHAR_E)){\n         Character invChar = key.get(Constants.CHAR_E);\n          for(HashMap&lt;Character,Character&gt; key2 : all_keys){\n                if(key2.get(Constants.CHAR_E).equals(invChar)){\n                 keys_to_delete.add(key2);\n                }\n          }\n\n    }\n   }\n</code></pre>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":97082,"reputation":374996,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":0,"creation_date":1451139998,"post_id":34472215,"comment_id":56685585,"body_markdown":"What did you try ? What was the problem ?","body":"What did you try ? What was the problem ?"},{"owner":{"account_id":296447,"reputation":1429,"user_id":601409,"accept_rate":89,"display_name":"EkcenierK"},"score":0,"creation_date":1451140094,"post_id":34472215,"comment_id":56685609,"body_markdown":"At Stack Overflow we help with specific programming problems with your own code. We will not write the code for you as this discourages you from learning. Please attempt the problem yourself, then show us your implementation. If you have specific problems with your code after that, then we can help you to solve them by giving you pointers.","body":"At Stack Overflow we help with specific programming problems with your own code. We will not write the code for you as this discourages you from learning. Please attempt the problem yourself, then show us your implementation. If you have specific problems with your code after that, then we can help you to solve them by giving you pointers."},{"owner":{"account_id":7510466,"reputation":49,"user_id":5705593,"display_name":"Max"},"score":0,"creation_date":1451140313,"post_id":34472215,"comment_id":56685661,"body_markdown":"Hi hi, just pasted my code above, thanks for the reminder.","body":"Hi hi, just pasted my code above, thanks for the reminder."}],"answers":[{"tags":[],"owner":{"account_id":203680,"reputation":112068,"user_id":451475,"accept_rate":100,"display_name":"zaph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451140773,"creation_date":1451140773,"answer_id":34472315,"question_id":34472215,"body_markdown":"The requirement: &quot;(Note: Your encrypted string should preserve spacing and punctuation.)&quot; is not handled by the code, in particular alphabet only contains lower case letters. You are going to need to handle all character code from 0x20 through 0x7f.\r\n\r\nFor &quot;double&quot; Caesar Cipher create a subroutine that performs a single Caesar Cipher on a string and than call that function first with the original input and the first key and then again with that output and the second key.","title":"Java Caesar Cipher, use 2 keys","body":"<p>The requirement: \"(Note: Your encrypted string should preserve spacing and punctuation.)\" is not handled by the code, in particular alphabet only contains lower case letters. You are going to need to handle all character code from 0x20 through 0x7f.</p>\n\n<p>For \"double\" Caesar Cipher create a subroutine that performs a single Caesar Cipher on a string and than call that function first with the original input and the first key and then again with that output and the second key.</p>\n"},{"tags":[],"owner":{"account_id":8212808,"reputation":1,"user_id":6180263,"display_name":"bele semu "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460189399,"creation_date":1460189055,"answer_id":36514317,"question_id":34472215,"body_markdown":"i see the problem appears,when idx2 is greater than index of the for loop  (i.e j+1 &gt; encrypted.length()). to compute idx2, u need to check the size of i+1(j).\r\n\r\n    if (i+1 &lt; encrypted.length()) {\r\n         int j = i+1;\r\n         char ch2 = encrypted.charAt(j);\r\n         char currChar2 = Character.toLowerCase(ch2);\r\n         //Find the index of currChar in the alphabet (call it idx)\r\n         int idx2 = alphabet.indexOf(currChar2);\r\n            if (idx2 != -1) {\r\n               char newChar2 = shiftedAlphabet2.charAt(idx2);\r\n               //Replace the ith character of encrypted with newChar\r\n               encrypted.setCharAt(j, newChar2);\r\n            }\r\n         }\r\n    }\r\n\r\n","title":"Java Caesar Cipher, use 2 keys","body":"<p>i see the problem appears,when idx2 is greater than index of the for loop  (i.e j+1 > encrypted.length()). to compute idx2, u need to check the size of i+1(j).</p>\n\n<pre><code>if (i+1 &lt; encrypted.length()) {\n     int j = i+1;\n     char ch2 = encrypted.charAt(j);\n     char currChar2 = Character.toLowerCase(ch2);\n     //Find the index of currChar in the alphabet (call it idx)\n     int idx2 = alphabet.indexOf(currChar2);\n        if (idx2 != -1) {\n           char newChar2 = shiftedAlphabet2.charAt(idx2);\n           //Replace the ith character of encrypted with newChar\n           encrypted.setCharAt(j, newChar2);\n        }\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17289022,"reputation":1,"user_id":12521007,"display_name":"محمد أحمد"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576099059,"creation_date":1576099059,"answer_id":59294226,"question_id":34472215,"body_markdown":"//here is the complete correct answer\r\n\r\n    public class CaesarCipher {\r\n    //this method to encrypt a messgae using a key \r\n    String encrypt (String input, int key){\r\n     \r\n    // convert the original message to temp upper case letters  \r\n    String input2 = input.toUpperCase(); \r\n    // using string builder rather than normal string\r\n    StringBuilder sb= new StringBuilder(input2);\r\n    // default alphabet\r\n    String alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n    // shiftted alphabet\r\n    String shifttedAlphabet= alphabet.substring(key)+alphabet.substring(0,key);\r\n   \r\n    // itterating around the original message to get each char and then getting its index\r\n    // then getting the equilvent char in the shiftted alphabet\r\n    for (int i = 0; i &lt;sb.length();i++){\r\n    \r\n    char currentChar = sb.charAt(i);\r\n    int currentIndex = alphabet.indexOf(currentChar);\r\n    \r\n    if (currentIndex != -1){\r\n    char shifttedChar = shifttedAlphabet.charAt(currentIndex);\r\n    sb.setCharAt(i,shifttedChar);\r\n                           }\r\n    }\r\n    // converting the builder string to a normal string \r\n    String encrypted = sb.toString();\r\n    // getting every char to its normal case even lower or upper\r\n    for (int i =0 ;i &lt; input.length(); i ++){\r\n    boolean upper = Character.isUpperCase(input.charAt(i));\r\n    if(upper){sb.setCharAt(i,Character.toUpperCase(encrypted.charAt(i)));}\r\n    else {sb.setCharAt(i,Character.toLowerCase(encrypted.charAt(i)));}\r\n    \r\n    }\r\n    // restting the encrypted message after editting to the lower nad upper case state\r\n    encrypted = sb.toString();\r\n    // returning the encrypted string \r\n    return encrypted;\r\n    }\r\n\r\n    // this method to encrypt using two keys\r\n    String encryptTwoKeys (String input ,int key1 , int key2){\r\n       String encryptedKey1= encrypt (input, key1); \r\n       String encryptedKey2= encrypt (input, key2); \r\n      \r\n       StringBuilder finalEncrypted = new StringBuilder (input);\r\n       \r\n     \r\n       \r\n        for (int i = 0 ; i &lt;encryptedKey1.length();i +=2){\r\n        char currentChar = encryptedKey1.charAt(i);\r\n         finalEncrypted.replace(i, i+1,String.valueOf(currentChar));\r\n        \r\n        \r\n        }\r\n       \r\n        for (int i = 1 ; i &lt;encryptedKey2.length();i +=2){\r\n        char currentChar = encryptedKey2.charAt(i);\r\n         finalEncrypted.replace(i, i+1,String.valueOf(currentChar));\r\n        \r\n        \r\n        }\r\n       \r\n    return finalEncrypted.toString();\r\n    }\r\n\r\n    void testEncryptTwoKeys(){\r\n    String encrypted = encryptTwoKeys(&quot;At noon be in the conference room with your hat on for a surprise party. YELL LOUD!&quot;, 8, 21);\r\n    System.out.println (encrypted);\r\n    String decrypted = encryptTwoKeys(encrypted, 26-8, 26-21);\r\n    System.out.println (decrypted);\r\n    \r\n    \r\n    }\r\n\r\n    void testEncrypt(){\r\n    FileResource fr = new FileResource();\r\n    String message = fr.asString();\r\n    String encrypted = encrypt(message, 15);\r\n    System.out.println(&quot;key is &quot; +15+ &quot;\\n&quot; + encrypted);\r\n\r\n    }\r\n\r\n}","title":"Java Caesar Cipher, use 2 keys","body":"<p>//here is the complete correct answer</p>\n\n<pre><code>public class CaesarCipher {\n//this method to encrypt a messgae using a key \nString encrypt (String input, int key){\n\n// convert the original message to temp upper case letters  \nString input2 = input.toUpperCase(); \n// using string builder rather than normal string\nStringBuilder sb= new StringBuilder(input2);\n// default alphabet\nString alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n// shiftted alphabet\nString shifttedAlphabet= alphabet.substring(key)+alphabet.substring(0,key);\n\n// itterating around the original message to get each char and then getting its index\n// then getting the equilvent char in the shiftted alphabet\nfor (int i = 0; i &lt;sb.length();i++){\n\nchar currentChar = sb.charAt(i);\nint currentIndex = alphabet.indexOf(currentChar);\n\nif (currentIndex != -1){\nchar shifttedChar = shifttedAlphabet.charAt(currentIndex);\nsb.setCharAt(i,shifttedChar);\n                       }\n}\n// converting the builder string to a normal string \nString encrypted = sb.toString();\n// getting every char to its normal case even lower or upper\nfor (int i =0 ;i &lt; input.length(); i ++){\nboolean upper = Character.isUpperCase(input.charAt(i));\nif(upper){sb.setCharAt(i,Character.toUpperCase(encrypted.charAt(i)));}\nelse {sb.setCharAt(i,Character.toLowerCase(encrypted.charAt(i)));}\n\n}\n// restting the encrypted message after editting to the lower nad upper case state\nencrypted = sb.toString();\n// returning the encrypted string \nreturn encrypted;\n}\n\n// this method to encrypt using two keys\nString encryptTwoKeys (String input ,int key1 , int key2){\n   String encryptedKey1= encrypt (input, key1); \n   String encryptedKey2= encrypt (input, key2); \n\n   StringBuilder finalEncrypted = new StringBuilder (input);\n\n\n\n    for (int i = 0 ; i &lt;encryptedKey1.length();i +=2){\n    char currentChar = encryptedKey1.charAt(i);\n     finalEncrypted.replace(i, i+1,String.valueOf(currentChar));\n\n\n    }\n\n    for (int i = 1 ; i &lt;encryptedKey2.length();i +=2){\n    char currentChar = encryptedKey2.charAt(i);\n     finalEncrypted.replace(i, i+1,String.valueOf(currentChar));\n\n\n    }\n\nreturn finalEncrypted.toString();\n}\n\nvoid testEncryptTwoKeys(){\nString encrypted = encryptTwoKeys(\"At noon be in the conference room with your hat on for a surprise party. YELL LOUD!\", 8, 21);\nSystem.out.println (encrypted);\nString decrypted = encryptTwoKeys(encrypted, 26-8, 26-21);\nSystem.out.println (decrypted);\n\n\n}\n\nvoid testEncrypt(){\nFileResource fr = new FileResource();\nString message = fr.asString();\nString encrypted = encrypt(message, 15);\nSystem.out.println(\"key is \" +15+ \"\\n\" + encrypted);\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":19520524,"reputation":1,"user_id":14282522,"display_name":"aminos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699689342,"creation_date":1600186071,"answer_id":63905833,"question_id":34472215,"body_markdown":"With importing respective libraries, here&#39;s complete answer located:\r\n\r\n&lt;!-- begin snippet: js hide: true console: true babel: true --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import edu.duke.*;\r\n\r\n    public class CaesarCipher {\r\n    //this method to encrypt a messgae using a key \r\n    String encrypt (String input, int key){\r\n    // convert the original message to temp upper case letters  \r\n    String input2 = input.toUpperCase(); \r\n    // using string builder rather than normal string\r\n    StringBuilder sb= new StringBuilder(input2);\r\n    // default alphabet\r\n    String alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n    // shiftted alphabet\r\n    String shifttedAlphabet= alphabet.substring(key)+alphabet.substring(0,key);\r\n\r\n    // iterating over the original message to get each char and then getting its index\r\n    // then getting the equivalent char in the shifted alphabet\r\n    for (int i = 0; i &lt;sb.length();i++){\r\n\r\n    char currentChar = sb.charAt(i);\r\n    int currentIndex = alphabet.indexOf(currentChar);\r\n\r\n    if (currentIndex != -1) {\r\n        char shifttedChar = shifttedAlphabet.charAt(currentIndex);\r\n        sb.setCharAt(i,shifttedChar);\r\n    }\r\n    }\r\n    // converting the builder string to a normal string \r\n    String encrypted = sb.toString();\r\n    // getting every char to its normal case even lower or upper\r\n    for (int i =0 ;i &lt; input.length(); i ++){\r\n    boolean upper = Character.isUpperCase(input.charAt(i));\r\n    if(upper){sb.setCharAt(i,Character.toUpperCase(encrypted.charAt(i)));}\r\n    else {sb.setCharAt(i,Character.toLowerCase(encrypted.charAt(i)));}\r\n\r\n    }\r\n    // resting the encrypted message after editing to the lower nad upper case state\r\n    encrypted = sb.toString();\r\n    // returning the encrypted string \r\n    return encrypted;\r\n    }\r\n\r\n    // this method to encrypt using two keys\r\n    String encryptTwoKeys (String input ,int key1 , int key2){\r\n       String encryptedKey1= encrypt (input, key1); \r\n       String encryptedKey2= encrypt (input, key2); \r\n\r\n       StringBuilder finalEncrypted = new StringBuilder (input);\r\n\r\n       for (int i = 0 ; i &lt;encryptedKey1.length();i +=2) {\r\n        char currentChar = encryptedKey1.charAt(i);\r\n         finalEncrypted.replace(i, i+1,String.valueOf(currentChar));\r\n        }\r\n\r\n        for (int i = 1 ; i &lt;encryptedKey2.length();i +=2) {\r\n           char currentChar = encryptedKey2.charAt(i);\r\n           finalEncrypted.replace(i, i+1,String.valueOf(currentChar));\r\n        }\r\n\r\n       return finalEncrypted.toString();\r\n    }\r\n\r\n    void testEncryptTwoKeys() {\r\n    String encrypted = encryptTwoKeys(&quot;Can you imagine life WITHOUT the internet AND computers in your pocket?&quot;, 21,8 );\r\n    System.out.println (encrypted);\r\n    String decrypted = encryptTwoKeys(encrypted, 26-21, 26-8);\r\n    System.out.println (decrypted);\r\n    }\r\n\r\n    void testEncrypt()\r\n    {\r\n       FileResource fr = new FileResource();\r\n       String message = fr.asString();\r\n       String encrypted = encrypt(message, 15);\r\n       System.out.println(&quot;key is &quot; +15+ &quot;\\n&quot; + encrypted);\r\n    }\r\n    }\r\n","title":"Java Caesar Cipher, use 2 keys","body":"<p>With importing respective libraries, here's complete answer located:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import edu.duke.*;\n\npublic class CaesarCipher {\n//this method to encrypt a messgae using a key \nString encrypt (String input, int key){\n// convert the original message to temp upper case letters  \nString input2 = input.toUpperCase(); \n// using string builder rather than normal string\nStringBuilder sb= new StringBuilder(input2);\n// default alphabet\nString alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n// shiftted alphabet\nString shifttedAlphabet= alphabet.substring(key)+alphabet.substring(0,key);\n\n// iterating over the original message to get each char and then getting its index\n// then getting the equivalent char in the shifted alphabet\nfor (int i = 0; i &lt;sb.length();i++){\n\nchar currentChar = sb.charAt(i);\nint currentIndex = alphabet.indexOf(currentChar);\n\nif (currentIndex != -1) {\n    char shifttedChar = shifttedAlphabet.charAt(currentIndex);\n    sb.setCharAt(i,shifttedChar);\n}\n}\n// converting the builder string to a normal string \nString encrypted = sb.toString();\n// getting every char to its normal case even lower or upper\nfor (int i =0 ;i &lt; input.length(); i ++){\nboolean upper = Character.isUpperCase(input.charAt(i));\nif(upper){sb.setCharAt(i,Character.toUpperCase(encrypted.charAt(i)));}\nelse {sb.setCharAt(i,Character.toLowerCase(encrypted.charAt(i)));}\n\n}\n// resting the encrypted message after editing to the lower nad upper case state\nencrypted = sb.toString();\n// returning the encrypted string \nreturn encrypted;\n}\n\n// this method to encrypt using two keys\nString encryptTwoKeys (String input ,int key1 , int key2){\n   String encryptedKey1= encrypt (input, key1); \n   String encryptedKey2= encrypt (input, key2); \n\n   StringBuilder finalEncrypted = new StringBuilder (input);\n\n   for (int i = 0 ; i &lt;encryptedKey1.length();i +=2) {\n    char currentChar = encryptedKey1.charAt(i);\n     finalEncrypted.replace(i, i+1,String.valueOf(currentChar));\n    }\n\n    for (int i = 1 ; i &lt;encryptedKey2.length();i +=2) {\n       char currentChar = encryptedKey2.charAt(i);\n       finalEncrypted.replace(i, i+1,String.valueOf(currentChar));\n    }\n\n   return finalEncrypted.toString();\n}\n\nvoid testEncryptTwoKeys() {\nString encrypted = encryptTwoKeys(&quot;Can you imagine life WITHOUT the internet AND computers in your pocket?&quot;, 21,8 );\nSystem.out.println (encrypted);\nString decrypted = encryptTwoKeys(encrypted, 26-21, 26-8);\nSystem.out.println (decrypted);\n}\n\nvoid testEncrypt()\n{\n   FileResource fr = new FileResource();\n   String message = fr.asString();\n   String encrypted = encrypt(message, 15);\n   System.out.println(&quot;key is &quot; +15+ &quot;\\n&quot; + encrypted);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27707172,"reputation":1,"user_id":21150560,"display_name":"Raihan Laskar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675590443,"creation_date":1675589842,"answer_id":75351314,"question_id":34472215,"body_markdown":"     import java.util.Scanner;\r\n\r\n    public class caesarCipher {\r\n     \r\n       /* This method is used to both encrypt and decrypt */\r\n    \r\n    public static String encrypt(String input, int key1, int key2) {\r\n        int pos = -1, pos1 = -1;\r\n       \r\n        String alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;; /* Take whole \r\n        alphabet as a string */\r\n        \r\n      /* modify the encrypted string use string builder */\r\n       \r\n       StringBuilder encrypted = new StringBuilder(input);\r\n      \r\n             for (int i = 0; i &lt; encrypted.length(); i++) {\r\n                 /* take each character from the string */\r\n            char sample = encrypted.charAt(i);\r\n            /* We have to perform only with alphabet */\r\n            if (Character.isAlphabetic(sample)) {\r\n                /* check the position as key1 for even and key2 for odd position */\r\n                if (i % 2 == 0) {\r\n                    /*\r\n                     * if the character is uppercase nothing to do\r\n                     * cause we take alphabet in total uppercase\r\n                     */\r\n                    if (Character.isUpperCase(sample)) {\r\n                        /* find the position of the character from the alphabet */\r\n                        pos = alphabet.indexOf(sample);\r\n                        /* set the position as key */\r\n                        pos = (pos + key1) % 26;\r\n                        /* find the letter with updated position from the alphabet */\r\n                        char res = alphabet.charAt(pos);\r\n                        /* modify it */\r\n                        encrypted.setCharAt(i, res);\r\n\r\n                    }\r\n                    /* if the character is in lowercase */\r\n                    else {\r\n                        /* convert it to uppercase to find */\r\n                        pos = alphabet.indexOf(Character.toUpperCase(sample));\r\n                        pos = (pos + key1) % 26;\r\n                        char res = alphabet.charAt(pos);\r\n                        /* convert the desired output in lowercase then modify it */\r\n                        encrypted.setCharAt(i, Character.toLowerCase(res));\r\n\r\n                    }\r\n                    pos = -1;\r\n                }\r\n                /* same above procedure in case of odd position */\r\n                else {\r\n                    if (Character.isUpperCase(sample)) {\r\n                        pos1 = alphabet.indexOf(sample);\r\n                        pos1 = (pos1 + key2) % 26;\r\n                        char res1 = alphabet.charAt(pos1);\r\n                        encrypted.setCharAt(i, res1);\r\n\r\n                    } else {\r\n                        pos1 = alphabet.indexOf(Character.toUpperCase(sample));\r\n                        pos1 = (pos1 + key2) % 26;\r\n                        char res1 = alphabet.charAt(pos1);\r\n                        encrypted.setCharAt(i, Character.toLowerCase(res1));\r\n\r\n                    }\r\n                    pos1 = -1;\r\n                }\r\n            }\r\n        }\r\n        return encrypted.toString();\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // TODO Auto-generated method stub\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the string:&quot;);\r\n        String input = sc.nextLine();\r\n        System.out.println(&quot;Enter the key1:&quot;);\r\n        int key1 = sc.nextInt();\r\n        System.out.println(&quot;Enter the key2:&quot;);\r\n        int key2 = sc.nextInt();\r\n        /*\r\n         * for both encryt and decrypt use the same method but for decrypt key will be\r\n         * 26-key\r\n         */\r\n        String e = encrypt(input, key1, key2);\r\n        System.out.println(&quot;...........After encryption...........\\n&quot; + e);\r\n        String d = encrypt(e, (26 - key1), (26 - key2));\r\n        System.out.println(&quot;...........After decryption...........\\n&quot; + d);\r\n    } \r\n            }\r\n    /* Compile and enjoy */","title":"Java Caesar Cipher, use 2 keys","body":"<pre><code> import java.util.Scanner;\n\npublic class caesarCipher {\n \n   /* This method is used to both encrypt and decrypt */\n\npublic static String encrypt(String input, int key1, int key2) {\n    int pos = -1, pos1 = -1;\n   \n    String alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;; /* Take whole \n    alphabet as a string */\n    \n  /* modify the encrypted string use string builder */\n   \n   StringBuilder encrypted = new StringBuilder(input);\n  \n         for (int i = 0; i &lt; encrypted.length(); i++) {\n             /* take each character from the string */\n        char sample = encrypted.charAt(i);\n        /* We have to perform only with alphabet */\n        if (Character.isAlphabetic(sample)) {\n            /* check the position as key1 for even and key2 for odd position */\n            if (i % 2 == 0) {\n                /*\n                 * if the character is uppercase nothing to do\n                 * cause we take alphabet in total uppercase\n                 */\n                if (Character.isUpperCase(sample)) {\n                    /* find the position of the character from the alphabet */\n                    pos = alphabet.indexOf(sample);\n                    /* set the position as key */\n                    pos = (pos + key1) % 26;\n                    /* find the letter with updated position from the alphabet */\n                    char res = alphabet.charAt(pos);\n                    /* modify it */\n                    encrypted.setCharAt(i, res);\n\n                }\n                /* if the character is in lowercase */\n                else {\n                    /* convert it to uppercase to find */\n                    pos = alphabet.indexOf(Character.toUpperCase(sample));\n                    pos = (pos + key1) % 26;\n                    char res = alphabet.charAt(pos);\n                    /* convert the desired output in lowercase then modify it */\n                    encrypted.setCharAt(i, Character.toLowerCase(res));\n\n                }\n                pos = -1;\n            }\n            /* same above procedure in case of odd position */\n            else {\n                if (Character.isUpperCase(sample)) {\n                    pos1 = alphabet.indexOf(sample);\n                    pos1 = (pos1 + key2) % 26;\n                    char res1 = alphabet.charAt(pos1);\n                    encrypted.setCharAt(i, res1);\n\n                } else {\n                    pos1 = alphabet.indexOf(Character.toUpperCase(sample));\n                    pos1 = (pos1 + key2) % 26;\n                    char res1 = alphabet.charAt(pos1);\n                    encrypted.setCharAt(i, Character.toLowerCase(res1));\n\n                }\n                pos1 = -1;\n            }\n        }\n    }\n    return encrypted.toString();\n\n}\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Enter the string:&quot;);\n    String input = sc.nextLine();\n    System.out.println(&quot;Enter the key1:&quot;);\n    int key1 = sc.nextInt();\n    System.out.println(&quot;Enter the key2:&quot;);\n    int key2 = sc.nextInt();\n    /*\n     * for both encryt and decrypt use the same method but for decrypt key will be\n     * 26-key\n     */\n    String e = encrypt(input, key1, key2);\n    System.out.println(&quot;...........After encryption...........\\n&quot; + e);\n    String d = encrypt(e, (26 - key1), (26 - key2));\n    System.out.println(&quot;...........After decryption...........\\n&quot; + d);\n} \n        }\n/* Compile and enjoy */\n</code></pre>\n"}],"owner":{"account_id":7510466,"reputation":49,"user_id":5705593,"display_name":"Max"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7497,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":5,"score":-1,"last_activity_date":1699689342,"creation_date":1451139964,"question_id":34472215,"body_markdown":"Encrypt the following phrase with the algorithm described for using two Caesar Cipher keys, with key1 = 8 and key2 = 21.\r\n\r\nAt noon be in the conference room with your hat on for a surprise party. YELL LOUD!\r\n\r\nWhat is the encrypted string?\r\n\r\n(Note: Your encrypted string should preserve spacing and punctuation.)\r\n\r\nThe original input is \r\n\r\nAt noon be in the conference room with your hat on for a surprise party. YELL LOUD!\r\n\r\nThe desired result is \r\n\r\nio iwjv jz dv bcm kjvammmikz mwju edbc twpz pvb wi awm v ncmxmqnm xvzog. tmgt tjcy!\r\n\r\n \r\nI am not able to write the correct Java code for this problem. Please help, thank you very much!\r\n\r\nMy code is \r\n\r\n    import edu.duke.*;\r\n    \r\n    public class CaesarCipher {\r\n        public String encrypt(String input, int key1, int key2) {\r\n            //Make a StringBuilder with message (encrypted)\r\n            StringBuilder encrypted = new StringBuilder(input);\r\n            //Write down the alphabet\r\n            String checker = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n            String alphabet = checker.toLowerCase();\r\n            //Compute the shifted alphabet\r\n            String shiftedAlphabet1 = alphabet.substring(key1)+\r\n            alphabet.substring(0,key1);\r\n            String shiftedAlphabet2 = alphabet.substring(key2) + alphabet.substring(0,key2);\r\n            //Count from 0 to &lt; length of encrypted, (call it i)\r\n            for(int i = 0; i &lt; encrypted.length(); i+=2) {\r\n                //Look at the ith character of encrypted (call it currChar)\r\n                char currChar1 = encrypted.charAt(i);\r\n                int j = i+1;\r\n                char currChar2 = encrypted.charAt(j);\r\n                //Find the index of currChar in the alphabet (call it idx)\r\n                int idx1 = alphabet.indexOf(currChar1);\r\n                int idx2 = alphabet.indexOf(currChar2);\r\n                //If currChar is in the alphabet\r\n                if(idx1 != -1){\r\n                    //Get the idxth character of shiftedAlphabet (newChar)\r\n                    char newChar1 = shiftedAlphabet1.charAt(idx1);\r\n                    encrypted.setCharAt(i, newChar1);\r\n                    \r\n                    char newChar2 = shiftedAlphabet2.charAt(idx2);\r\n                    encrypted.setCharAt(j, newChar2);\r\n                    }\r\n                    //Replace the ith character of encrypted with newChar\r\n          \r\n                }\r\n                //Otherwise: do nothing\r\n            }\r\n            //Your answer is the String inside of encrypted\r\n            return encrypted.toString();\r\n        }\r\n        public void testCaesar() {\r\n            int key1 = 8;\r\n            int key2 = 21;\r\n            FileResource fr = new FileResource();\r\n            String messagechecker = &#39;At noon be in the conference room with your hat on for a surprise party. YELL LOUD!&#39;;\r\n            String message = messagechecker.toLowerCase();\r\n            String encrypted = encrypt(message, key1, key2);\r\n            System.out.println(encrypted);\r\n            String decrypted = encrypt(encrypted, 26-key1,26-key2);\r\n            System.out.println(decrypted);\r\n        }\r\n    }","title":"Java Caesar Cipher, use 2 keys","body":"<p>Encrypt the following phrase with the algorithm described for using two Caesar Cipher keys, with key1 = 8 and key2 = 21.</p>\n\n<p>At noon be in the conference room with your hat on for a surprise party. YELL LOUD!</p>\n\n<p>What is the encrypted string?</p>\n\n<p>(Note: Your encrypted string should preserve spacing and punctuation.)</p>\n\n<p>The original input is </p>\n\n<p>At noon be in the conference room with your hat on for a surprise party. YELL LOUD!</p>\n\n<p>The desired result is </p>\n\n<p>io iwjv jz dv bcm kjvammmikz mwju edbc twpz pvb wi awm v ncmxmqnm xvzog. tmgt tjcy!</p>\n\n<p>I am not able to write the correct Java code for this problem. Please help, thank you very much!</p>\n\n<p>My code is </p>\n\n<pre><code>import edu.duke.*;\n\npublic class CaesarCipher {\n    public String encrypt(String input, int key1, int key2) {\n        //Make a StringBuilder with message (encrypted)\n        StringBuilder encrypted = new StringBuilder(input);\n        //Write down the alphabet\n        String checker = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n        String alphabet = checker.toLowerCase();\n        //Compute the shifted alphabet\n        String shiftedAlphabet1 = alphabet.substring(key1)+\n        alphabet.substring(0,key1);\n        String shiftedAlphabet2 = alphabet.substring(key2) + alphabet.substring(0,key2);\n        //Count from 0 to &lt; length of encrypted, (call it i)\n        for(int i = 0; i &lt; encrypted.length(); i+=2) {\n            //Look at the ith character of encrypted (call it currChar)\n            char currChar1 = encrypted.charAt(i);\n            int j = i+1;\n            char currChar2 = encrypted.charAt(j);\n            //Find the index of currChar in the alphabet (call it idx)\n            int idx1 = alphabet.indexOf(currChar1);\n            int idx2 = alphabet.indexOf(currChar2);\n            //If currChar is in the alphabet\n            if(idx1 != -1){\n                //Get the idxth character of shiftedAlphabet (newChar)\n                char newChar1 = shiftedAlphabet1.charAt(idx1);\n                encrypted.setCharAt(i, newChar1);\n\n                char newChar2 = shiftedAlphabet2.charAt(idx2);\n                encrypted.setCharAt(j, newChar2);\n                }\n                //Replace the ith character of encrypted with newChar\n\n            }\n            //Otherwise: do nothing\n        }\n        //Your answer is the String inside of encrypted\n        return encrypted.toString();\n    }\n    public void testCaesar() {\n        int key1 = 8;\n        int key2 = 21;\n        FileResource fr = new FileResource();\n        String messagechecker = 'At noon be in the conference room with your hat on for a surprise party. YELL LOUD!';\n        String message = messagechecker.toLowerCase();\n        String encrypted = encrypt(message, key1, key2);\n        System.out.println(encrypted);\n        String decrypted = encrypt(encrypted, 26-key1,26-key2);\n        System.out.println(decrypted);\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2307770,"reputation":171,"user_id":2026680,"accept_rate":70,"display_name":"OcelotcR"},"score":0,"creation_date":1515073553,"post_id":48096609,"comment_id":83168057,"body_markdown":"Well, you just change imageFileName to what you want, or pass in a paramater to it?","body":"Well, you just change imageFileName to what you want, or pass in a paramater to it?"},{"owner":{"account_id":12329277,"reputation":69,"user_id":8995866,"accept_rate":57,"display_name":"Medhat Khalifa"},"score":0,"creation_date":1515073879,"post_id":48096609,"comment_id":83168261,"body_markdown":"already I passed the needed file name to File.createTempFile  ,  but it add random number after the input file name","body":"already I passed the needed file name to File.createTempFile  ,  but it add random number after the input file name"},{"owner":{"account_id":8393641,"reputation":850,"user_id":6301562,"display_name":"dawis11"},"score":0,"creation_date":1570391329,"post_id":48096609,"comment_id":102890089,"body_markdown":"Possible duplicate of [How to create a temp file in java without the random number appended to the filename?](https://stackoverflow.com/questions/9594886/how-to-create-a-temp-file-in-java-without-the-random-number-appended-to-the-file)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/9594886/how-to-create-a-temp-file-in-java-without-the-random-number-appended-to-the-file\">How to create a temp file in java without the random number appended to the filename?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1851318,"reputation":6677,"user_id":1677824,"accept_rate":83,"display_name":"Akhil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1515074563,"creation_date":1515074563,"answer_id":48096915,"question_id":48096609,"body_markdown":"You can not do this with `File.createTempFile()`, [Below is from documentation][1] \r\n&gt; File createTempFile (String\r\n&gt; prefix, \r\n&gt;                 String suffix, \r\n&gt;                 File directory) Creates a new empty file in the specified directory, using the given prefix and suffix strings to\r\n&gt; generate its name. If this method returns successfully then it is\r\n&gt; guaranteed that:\r\n&gt; \r\n&gt; The file denoted by the returned abstract pathname did not exist\r\n&gt; before this method was invoked, and Neither this method nor any of its\r\n&gt; variants will return the same abstract pathname again in the current\r\n&gt; invocation of the virtual machine.\r\n\r\n\r\nHowever you can use `File(String pathname)` for creating a file with specified name and path, not to forget you will need [WRITE_EXTERNAL_STORAGE][2] if you writing to external storage\r\n\r\n\r\n&gt; Creates a new File instance by converting the given pathname string\r\n&gt; into an abstract pathname.\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/java/io/File.html#createTempFile(java.lang.String,%20java.lang.String,%20java.io.File)\r\n  [2]: https://developer.android.com/reference/android/Manifest.permission.html#WRITE_EXTERNAL_STORAGE","title":"Create Temp File with specific name","body":"<p>You can not do this with <code>File.createTempFile()</code>, <a href=\"https://developer.android.com/reference/java/io/File.html#createTempFile(java.lang.String,%20java.lang.String,%20java.io.File)\" rel=\"nofollow noreferrer\">Below is from documentation</a> </p>\n\n<blockquote>\n  <p>File createTempFile (String\n  prefix, \n                  String suffix, \n                  File directory) Creates a new empty file in the specified directory, using the given prefix and suffix strings to\n  generate its name. If this method returns successfully then it is\n  guaranteed that:</p>\n  \n  <p>The file denoted by the returned abstract pathname did not exist\n  before this method was invoked, and Neither this method nor any of its\n  variants will return the same abstract pathname again in the current\n  invocation of the virtual machine.</p>\n</blockquote>\n\n<p>However you can use <code>File(String pathname)</code> for creating a file with specified name and path, not to forget you will need <a href=\"https://developer.android.com/reference/android/Manifest.permission.html#WRITE_EXTERNAL_STORAGE\" rel=\"nofollow noreferrer\">WRITE_EXTERNAL_STORAGE</a> if you writing to external storage</p>\n\n<blockquote>\n  <p>Creates a new File instance by converting the given pathname string\n  into an abstract pathname.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12368064,"reputation":843,"user_id":9019332,"display_name":"global_warming"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515135588,"creation_date":1515135588,"answer_id":48108698,"question_id":48096609,"body_markdown":"In your case use this if you want to store file with specific name:\r\n    \r\n    File image = new File(\r\n            storageDir1 , \r\n            imageFileName + \r\n            &quot;.jpg&quot;\r\n    );","title":"Create Temp File with specific name","body":"<p>In your case use this if you want to store file with specific name:</p>\n\n<pre><code>File image = new File(\n        storageDir1 , \n        imageFileName + \n        \".jpg\"\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8201651,"reputation":1736,"user_id":6172826,"display_name":"seunggabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699689279,"creation_date":1699689279,"answer_id":77464295,"question_id":48096609,"body_markdown":"### use /tmp/{fileName}\r\n```\r\nFile tempFile = new File(\r\n    &quot;/tmp/&quot;,\r\n    fileName\r\n);\r\n```\r\n","title":"Create Temp File with specific name","body":"<h3>use /tmp/{fileName}</h3>\n<pre><code>File tempFile = new File(\n    &quot;/tmp/&quot;,\n    fileName\n);\n</code></pre>\n"}],"owner":{"account_id":12329277,"reputation":69,"user_id":8995866,"accept_rate":57,"display_name":"Medhat Khalifa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7969,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1699689279,"creation_date":1515073391,"question_id":48096609,"body_markdown":"I need to create Temp `File` with specific name without Random Number and if there are no solutions, How can I rename the generate file in `Internal storage `\r\n\r\n    private File createImageFile() throws IOException {\r\n \r\n        //storageDir.mkdirs();\r\n        String imageFileName = Integer.toString(ImgCount)+&quot;temp&quot;;\r\n        File storageDir1= getExternalFilesDir(Environment.DIRECTORY_PICTURES+ImgDir);\r\n        File image = File.createTempFile(\r\n                imageFileName,  /* prefix */\r\n                &quot;.jpg&quot;,         /* suffix */\r\n                storageDir1     /* directory */\r\n        );\r\n\r\n        mCurrentPhotoPath = image.getAbsolutePath();\r\n        return image;\r\n    }\r\n\r\nthe create file is saved like this \r\n`/storage/emulated/0/Android/data/....../**1temp1004505332.jpg**`","title":"Create Temp File with specific name","body":"<p>I need to create Temp <code>File</code> with specific name without Random Number and if there are no solutions, How can I rename the generate file in <code>Internal storage</code></p>\n\n<pre><code>private File createImageFile() throws IOException {\n\n    //storageDir.mkdirs();\n    String imageFileName = Integer.toString(ImgCount)+\"temp\";\n    File storageDir1= getExternalFilesDir(Environment.DIRECTORY_PICTURES+ImgDir);\n    File image = File.createTempFile(\n            imageFileName,  /* prefix */\n            \".jpg\",         /* suffix */\n            storageDir1     /* directory */\n    );\n\n    mCurrentPhotoPath = image.getAbsolutePath();\n    return image;\n}\n</code></pre>\n\n<p>the create file is saved like this \n<code>/storage/emulated/0/Android/data/....../**1temp1004505332.jpg**</code></p>\n"},{"tags":["java","excel","image","cell","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":41845,"reputation":792,"user_id":121735,"display_name":"liya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1264485483,"creation_date":1264485483,"answer_id":2137728,"question_id":2135586,"body_markdown":"There is no images cells in Excel,you need to add the images to the worksheet.\r\n\r\n\r\n    HSSFWorkbook workbook;        \r\n    workbook.addPicture(pngData, HSSFWorkbook.PICTURE_TYPE_PNG);","title":"Is there a way to add an image to a Cell using the POI Api?","body":"<p>There is no images cells in Excel,you need to add the images to the worksheet.</p>\n\n<pre><code>HSSFWorkbook workbook;        \nworkbook.addPicture(pngData, HSSFWorkbook.PICTURE_TYPE_PNG);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29808352,"reputation":1,"user_id":22844375,"display_name":"Furqan Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699688521,"creation_date":1699688521,"answer_id":77464261,"question_id":2135586,"body_markdown":"This is how I add an image to Excel workbook using Apache POI\r\n\r\n    try {\r\n        \t\tInputStream imageStream = new FileInputStream(image.getFile());\r\n        \t\tbyte[] imageBytes = IOUtils.toByteArray(imageStream);\r\n        \t\tString extension = DocumentUtil.getFileExtension(image.getFile().getAbsolutePath());\r\n        \t\tint pictureTypeId = getWorkbookPictureTypeId(extension);\r\n        \t\tint pictureId = workbook.addPicture(imageBytes, pictureTypeId);\r\n        \t\tXSSFDrawing drawing = (XSSFDrawing) sheet.createDrawingPatriarch();\r\n        \t\tXSSFClientAnchor imageAnchor = new XSSFClientAnchor();\r\n        \t\timageAnchor.setCol1(cell.getColumnIndex());\r\n        \t\timageAnchor.setCol2(cell.getColumnIndex()+1);\r\n        \t\timageAnchor.setRow1(cell.getRowIndex());\r\n        \t\timageAnchor.setRow2(cell.getRowIndex()+1);\r\n        \t\t\r\n        \t\tXSSFPicture excelImage = drawing.createPicture(imageAnchor, pictureId);\r\n        \t\t\r\n        \t\t//get image width and height to adjust the cell row.\r\n        \t\tDouble height = excelImage.getImageDimension().getHeight();\r\n        \t\tshort heightInShort = height.shortValue();\r\n        \t\tshort EmuUnitInShort = image.getHeight().shortValue();\r\n        \t\tcell.getRow().setHeight((short)(heightInShort*EmuUnitInShort));\r\n        \t} catch(Exception e) {\r\n        \t\tlog.error(e.getMessage(), e);\r\n        \t}","title":"Is there a way to add an image to a Cell using the POI Api?","body":"<p>This is how I add an image to Excel workbook using Apache POI</p>\n<pre><code>try {\n            InputStream imageStream = new FileInputStream(image.getFile());\n            byte[] imageBytes = IOUtils.toByteArray(imageStream);\n            String extension = DocumentUtil.getFileExtension(image.getFile().getAbsolutePath());\n            int pictureTypeId = getWorkbookPictureTypeId(extension);\n            int pictureId = workbook.addPicture(imageBytes, pictureTypeId);\n            XSSFDrawing drawing = (XSSFDrawing) sheet.createDrawingPatriarch();\n            XSSFClientAnchor imageAnchor = new XSSFClientAnchor();\n            imageAnchor.setCol1(cell.getColumnIndex());\n            imageAnchor.setCol2(cell.getColumnIndex()+1);\n            imageAnchor.setRow1(cell.getRowIndex());\n            imageAnchor.setRow2(cell.getRowIndex()+1);\n            \n            XSSFPicture excelImage = drawing.createPicture(imageAnchor, pictureId);\n            \n            //get image width and height to adjust the cell row.\n            Double height = excelImage.getImageDimension().getHeight();\n            short heightInShort = height.shortValue();\n            short EmuUnitInShort = image.getHeight().shortValue();\n            cell.getRow().setHeight((short)(heightInShort*EmuUnitInShort));\n        } catch(Exception e) {\n            log.error(e.getMessage(), e);\n        }\n</code></pre>\n"}],"owner":{"account_id":79529,"reputation":449,"user_id":225436,"accept_rate":60,"display_name":"Thiago Valle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":2137728,"answer_count":2,"score":0,"last_activity_date":1699688521,"creation_date":1264453181,"question_id":2135586,"body_markdown":"I&#39;m making an application that converts our data structure to an excel file. We&#39;re currently using POI to do the conversion.\r\n\r\nThe problem is that the Cell only supports Strings, Numbers and formulas, and our data structure supports images. Is there a way to add images to cells?","title":"Is there a way to add an image to a Cell using the POI Api?","body":"<p>I'm making an application that converts our data structure to an excel file. We're currently using POI to do the conversion.</p>\n\n<p>The problem is that the Cell only supports Strings, Numbers and formulas, and our data structure supports images. Is there a way to add images to cells?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1699643041,"post_id":77462115,"comment_id":136562168,"body_markdown":"Don&#39;t know about correct, but with `n&lt;=20` even extreme brute force is feasible. Backtrack through all the possible pairings?","body":"Don&#39;t know about correct, but with <code>n&lt;=20</code> even extreme brute force is feasible. Backtrack through all the possible pairings?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1699643313,"post_id":77462115,"comment_id":136562204,"body_markdown":"Or sligthly less bruteforcy and probably still correct - find the pair with the highest gcd, remove, repeat.","body":"Or sligthly less bruteforcy and probably still correct - find the pair with the highest gcd, remove, repeat."},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1699646626,"post_id":77462115,"comment_id":136562611,"body_markdown":"Irrelevant to the question, but for coding style, I recommend always using curly braces even if it&#39;s only one line: `if(shouldDoStuff){ doStuff }`. It makes intention unambiguous. Omitting them _will_ come back to bite you eventually.","body":"Irrelevant to the question, but for coding style, I recommend always using curly braces even if it&#39;s only one line: <code>if(shouldDoStuff){ doStuff }</code>. It makes intention unambiguous. Omitting them <i>will</i> come back to bite you eventually."},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":2,"creation_date":1699651230,"post_id":77462115,"comment_id":136563189,"body_markdown":"@teapot418 Counterexample to the greedy algorithm: `[3, 4, 15, 20]`. Greedy chooses gcd(15,20) then gcd(3,4) for a total of 6. But the correct answer is gcd(3,15) and gcd(4,20) for a total of 7.","body":"@teapot418 Counterexample to the greedy algorithm: <code>[3, 4, 15, 20]</code>. Greedy chooses gcd(15,20) then gcd(3,4) for a total of 6. But the correct answer is gcd(3,15) and gcd(4,20) for a total of 7."},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1699661210,"post_id":77462115,"comment_id":136564056,"body_markdown":"I&#39;d go with a bottom up dynamic programming approach. The subproblems can be represented by a 20-bit number where a 0 bit means a number that hasn&#39;t been used yet, and a 1 bit means the number has been used. There are half a million subproblems to solve.","body":"I&#39;d go with a bottom up dynamic programming approach. The subproblems can be represented by a 20-bit number where a 0 bit means a number that hasn&#39;t been used yet, and a 1 bit means the number has been used. There are half a million subproblems to solve."},{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1699662701,"post_id":77462115,"comment_id":136564152,"body_markdown":"@user3386109, can you show the pseudo-code for the dynamic programming approach?","body":"@user3386109, can you show the pseudo-code for the dynamic programming approach?"},{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1699662771,"post_id":77462115,"comment_id":136564155,"body_markdown":"@teapot418, I tried the approach `find the pair with the highest gcd, remove, repeat` it worked for only few inputs and fails for case mentioned by  \nuser3386109","body":"@teapot418, I tried the approach <code>find the pair with the highest gcd, remove, repeat</code> it worked for only few inputs and fails for case mentioned by   user3386109"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699688684,"post_id":77462115,"comment_id":136565482,"body_markdown":"@user3386109 that *information* is not enough - there is more than one possibility (3?) to create two pairs given 4 numbers","body":"@user3386109 that <i>information</i> is not enough - there is more than one possibility (3?) to create two pairs given 4 numbers"},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1699688848,"post_id":77462115,"comment_id":136565489,"body_markdown":"@user3386109, I question whether dynamic programming can be used here, based on my understanding of the problem. If you believe it can you need to flesh out the details, preferably in an answer. DP depends on the &quot;principal of optimality&quot; being satisfied. In a nutshell, it means once you arrive in a certain state S, the optimal solution when traversing from S to an end state does not depend on how you reached S; hence, the concept of state variables. What do you see as the state variables?","body":"@user3386109, I question whether dynamic programming can be used here, based on my understanding of the problem. If you believe it can you need to flesh out the details, preferably in an answer. DP depends on the &quot;principal of optimality&quot; being satisfied. In a nutshell, it means once you arrive in a certain state S, the optimal solution when traversing from S to an end state does not depend on how you reached S; hence, the concept of state variables. What do you see as the state variables?"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1699691216,"post_id":77462115,"comment_id":136565620,"body_markdown":"@CarySwoveland DP depends on identifying common subproblems, and solving each subproblem exactly once. For example, consider an input array with 20 elements. If we begin by pairing element 1 with 2, and element 3 with 4, then that leaves the subproblem of finding the best pairings for the remaining 16 elements. OTOH, if we start with pairs [1,3],[2,4], or [1,4],[2,3], then we&#39;ll get a different partial sum for the first four elements, and we&#39;re left with the exact same subproblem (finding the best sum for the remaining 16 elements).","body":"@CarySwoveland DP depends on identifying common subproblems, and solving each subproblem exactly once. For example, consider an input array with 20 elements. If we begin by pairing element 1 with 2, and element 3 with 4, then that leaves the subproblem of finding the best pairings for the remaining 16 elements. OTOH, if we start with pairs [1,3],[2,4], or [1,4],[2,3], then we&#39;ll get a different partial sum for the first four elements, and we&#39;re left with the exact same subproblem (finding the best sum for the remaining 16 elements)."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1699693398,"post_id":77462115,"comment_id":136565774,"body_markdown":"@user3386109, doesn&#39;t that amount to smart enumeration, by using information obtained when solving for `[1,3],[2,4]` when dealing with `[1,4],[2,3]`, but what does that have to do with dynamic programming? Again, I encourge you to put up a DP solution. If it works it would be great.","body":"@user3386109, doesn&#39;t that amount to smart enumeration, by using information obtained when solving for <code>[1,3],[2,4]</code> when dealing with <code>[1,4],[2,3]</code>, but what does that have to do with dynamic programming? Again, I encourge you to put up a DP solution. If it works it would be great."},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1699694172,"post_id":77462115,"comment_id":136565818,"body_markdown":"From [this article](https://en.wikipedia.org/wiki/Dynamic_programming), dynamic programming *&quot;refers to simplifying a complicated problem by breaking it down into simpler sub-problems&quot;*. And yes, you could call that smart enumeration if you want.","body":"From <a href=\"https://en.wikipedia.org/wiki/Dynamic_programming\" rel=\"nofollow noreferrer\">this article</a>, dynamic programming <i>&quot;refers to simplifying a complicated problem by breaking it down into simpler sub-problems&quot;</i>. And yes, you could call that smart enumeration if you want."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1699658434,"creation_date":1699646326,"answer_id":77462574,"question_id":77462115,"body_markdown":"Calculate the _greatest common factor_ of all pairs, and _sum_ the values.\r\n\r\nHere is an example.\r\n\r\n```java\r\nint solve(int[] ar) {\r\n    Set&lt;Integer&gt; s = new HashSet&lt;&gt;();\r\n    for (int a : ar)\r\n        for (int b : ar) {\r\n            if (a == b) continue;\r\n            s.add(gcd(a, b));\r\n        }\r\n    return s.stream().mapToInt(x -&gt; x).sum();\r\n}\r\n```\r\n\r\nAlternately, use a _stream_.\r\n\r\n```java\r\nint solve(int[] ar) {\r\n    return Arrays.stream(ar)\r\n                 .flatMap(x -&gt; Arrays.stream(ar)\r\n                                     .map(y -&gt; x == y ? 0 : gcd(x, y)))\r\n                 .distinct()\r\n                 .sum();\r\n}\r\n```","title":"Find GCD pairs for given array","body":"<p>Calculate the <em>greatest common factor</em> of all pairs, and <em>sum</em> the values.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int solve(int[] ar) {\n    Set&lt;Integer&gt; s = new HashSet&lt;&gt;();\n    for (int a : ar)\n        for (int b : ar) {\n            if (a == b) continue;\n            s.add(gcd(a, b));\n        }\n    return s.stream().mapToInt(x -&gt; x).sum();\n}\n</code></pre>\n<p>Alternately, use a <em>stream</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int solve(int[] ar) {\n    return Arrays.stream(ar)\n                 .flatMap(x -&gt; Arrays.stream(ar)\n                                     .map(y -&gt; x == y ? 0 : gcd(x, y)))\n                 .distinct()\n                 .sum();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13238661,"reputation":554,"user_id":9559946,"display_name":"Kryštof Vosyka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699676491,"creation_date":1699666946,"answer_id":77463618,"question_id":77462115,"body_markdown":"We can recursively search all possible ways to compute total GCD. How?\r\n\r\nIf the array contains just two elements, we can just return GCD of it&#39;s two elements.\r\n\r\nIf it contains more, let&#39;s iterate over all the pairs of values. For each pair, we compute it&#39;s GCD, and we also call our function recursively with a copy of the array with the two values removed. If we add the result of both computations together, we get a total GCD for our currently selected pair of values.\r\n\r\nNow we just keep track of the best GCD we found so far, and return it at the end.\r\n\r\nHere is code that (should) do exactly that.\r\n\r\n```java\r\nint solve(int[] ar) {\r\n  // If we have only two elements, there&#39;s not much else we can do.\r\n  if(ar.length == 2) {\r\n    return gcd(ar[0], ar[1]);\r\n  }\r\n\r\n  //Keep track of the largest GCD\r\n  int best = 0;\r\n  \r\n  // for every pair of values in the array\r\n  //  make a copy of the array without the pair and call recursively\r\n  for(int i = 0; i &lt; ar.length; i++) {\r\n    for(int j = i + 1; j &lt; ar.length; j++) {\r\n      \r\n      int score = gcd(ar[i], ar[j]);\r\n      \r\n      // Make a copy\r\n      int[] ar2 = new int[ar.length - 2];\r\n      int copy_k = 0;\r\n      for(int k=0; k &lt; ar.length; k++) {\r\n        // Skip values that we already visited\r\n        if(k == i || k == j) {\r\n          continue;\r\n        }\r\n        \r\n        ar2[copy_k] = ar[k];\r\n        copy_k += 1;\r\n      }\r\n      \r\n      // Call recursively\r\n      score += solve(ar2);\r\n      \r\n      if(score &gt; best) // We found a better pair\r\n        best = score;\r\n    }\r\n  }\r\n  \r\n  return best;\r\n}\r\n```\r\n\r\nThis algorithm is quite slow. If you need to speed it up, there are at least two areas of possible improvement:\r\n * Computing GCD is an expensive operation. *Pre-computing GCD for all possible unique pairs of values and storing them in a hashmap would eliminate double-computing.*\r\n * It checks some possible permutations multiple times. (e.g. selecting first pair and then second pair in the next recursion is the same as selecting second pair and then first) *I have some vague idea on how to solve that, but it&#39;s too late in the night today, sorry.*\r\n\r\n**It is very likely that faster algorithm exists, this is just from the top of my head.**\r\n\r\n**Edit**: Well, after some sleep, it dawned on me. If we omit the outer loop when creating pairs, we won&#39;t get any duplicate ordering of pairs. Basically just replacing `i` with 0 everywhere, like so:\r\n```java\r\nfor(int j = 1; j &lt; ar.length; j++) {\r\n    \r\n  int score = gcd(ar[0], ar[j]);\r\n  \r\n  // Make a copy\r\n  int[] ar2 = new int[ar.length - 2];\r\n  int copy_k = 0;\r\n  for(int k=1; k &lt; ar.length; k++) {\r\n    // Skip values that we already visited\r\n    if(k == j) {\r\n      continue;\r\n    }\r\n    \r\n    ar2[copy_k] = ar[k];\r\n    copy_k += 1;\r\n  }\r\n}\r\n\r\n```","title":"Find GCD pairs for given array","body":"<p>We can recursively search all possible ways to compute total GCD. How?</p>\n<p>If the array contains just two elements, we can just return GCD of it's two elements.</p>\n<p>If it contains more, let's iterate over all the pairs of values. For each pair, we compute it's GCD, and we also call our function recursively with a copy of the array with the two values removed. If we add the result of both computations together, we get a total GCD for our currently selected pair of values.</p>\n<p>Now we just keep track of the best GCD we found so far, and return it at the end.</p>\n<p>Here is code that (should) do exactly that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int solve(int[] ar) {\n  // If we have only two elements, there's not much else we can do.\n  if(ar.length == 2) {\n    return gcd(ar[0], ar[1]);\n  }\n\n  //Keep track of the largest GCD\n  int best = 0;\n  \n  // for every pair of values in the array\n  //  make a copy of the array without the pair and call recursively\n  for(int i = 0; i &lt; ar.length; i++) {\n    for(int j = i + 1; j &lt; ar.length; j++) {\n      \n      int score = gcd(ar[i], ar[j]);\n      \n      // Make a copy\n      int[] ar2 = new int[ar.length - 2];\n      int copy_k = 0;\n      for(int k=0; k &lt; ar.length; k++) {\n        // Skip values that we already visited\n        if(k == i || k == j) {\n          continue;\n        }\n        \n        ar2[copy_k] = ar[k];\n        copy_k += 1;\n      }\n      \n      // Call recursively\n      score += solve(ar2);\n      \n      if(score &gt; best) // We found a better pair\n        best = score;\n    }\n  }\n  \n  return best;\n}\n</code></pre>\n<p>This algorithm is quite slow. If you need to speed it up, there are at least two areas of possible improvement:</p>\n<ul>\n<li>Computing GCD is an expensive operation. <em>Pre-computing GCD for all possible unique pairs of values and storing them in a hashmap would eliminate double-computing.</em></li>\n<li>It checks some possible permutations multiple times. (e.g. selecting first pair and then second pair in the next recursion is the same as selecting second pair and then first) <em>I have some vague idea on how to solve that, but it's too late in the night today, sorry.</em></li>\n</ul>\n<p><strong>It is very likely that faster algorithm exists, this is just from the top of my head.</strong></p>\n<p><strong>Edit</strong>: Well, after some sleep, it dawned on me. If we omit the outer loop when creating pairs, we won't get any duplicate ordering of pairs. Basically just replacing <code>i</code> with 0 everywhere, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int j = 1; j &lt; ar.length; j++) {\n    \n  int score = gcd(ar[0], ar[j]);\n  \n  // Make a copy\n  int[] ar2 = new int[ar.length - 2];\n  int copy_k = 0;\n  for(int k=1; k &lt; ar.length; k++) {\n    // Skip values that we already visited\n    if(k == j) {\n      continue;\n    }\n    \n    ar2[copy_k] = ar[k];\n    copy_k += 1;\n  }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699688172,"creation_date":1699685004,"answer_id":77464149,"question_id":77462115,"body_markdown":"**WARNING: There is no free lunch!**\r\n\r\n**The problem**\r\n\r\nI understand that, given an array containing an even number of positive integers, the problem can viewed as first partitioning the array into two equal-size arrays, then establishing a 1-1 mapping between those two arrays, after which the GCDs of all mapped pairs are computed and summed. The objective is to find a partition and subsequent 1-1 mapping that yields the smallest sum of GDCs.\r\n\r\n**Illustrative array**\r\n\r\nSuppose the given array is as follows.\r\n\r\n    arr = [317, 29, 355, 388, 214, 375, 186, 301, 374, 323]\r\n\r\n**Prime factorization**\r\n\r\nMost languages provide a method or function to compute each positive integer&#39;s *prime factorization*. For example, the prime factorization of `388` can be found to equal `(2^2)*(97^1)`, where `2` and `97` are primes. This can be represented by the array `[[2,2], [97,1]]` where each element is comprised of a prime and its exponent.\r\n\r\nIf we compute the prime factorization for each element of `arr` we may construct a hash (a.k.a hash table, dictionary) such as the following.\r\n\r\n    PF = {\r\n      317=&gt;[[317, 1]],\r\n       29=&gt;[[29, 1]],\r\n      355=&gt;[[5, 1], [71, 1]],\r\n      388=&gt;[[2, 2], [97, 1]],\r\n      214=&gt;[[2, 1], [107, 1]],\r\n      375=&gt;[[3, 1], [5, 3]],\r\n      186=&gt;[[2, 1], [3, 1], [31, 1]],\r\n      301=&gt;[[7, 1], [43, 1]],\r\n      374=&gt;[[2, 1], [11, 1], [17, 1]],\r\n      323=&gt;[[17, 1], [19, 1]]\r\n    }\r\n\r\nThis allows us to quickly retrieve the prime factorization for any element of  `arr`:\r\n\r\n    PF[388]\r\n      #=&gt;[[2, 2], [97, 1]]\r\n\r\n**Computing GCDs from prime factorizations**\r\n\r\nNext, for any two positive integers, say `108` and `360`, consider how their GCD is computed, given their prime factorizations.\r\n\r\n    PF = { 108=&gt;[[2, 2], [3, 3]], 360=&gt;[[2, 3], [3, 2], [5, 1]] }\r\n\r\nIf we view this as\r\n\r\n    PF = { 108=&gt;[[2, 2], [3, 3], [5, 0]], 360=&gt;[[2, 3], [3, 2], [5, 1]] }\r\n\r\nwe see that the GDC equals\r\n\r\n   2&lt;sup&gt;min{2,3}&lt;/sup&gt; * 3&lt;sup&gt;min{3,2}&lt;/sup&gt; * 5&lt;sup&gt;min{0,1}&lt;/sup&gt; = 2&lt;sup&gt;2&lt;/sup&gt; * 3&lt;sup&gt;2&lt;/sup&gt; * 5&lt;sup&gt;0&lt;/sup&gt; = 4 * 9 * 1 = 36\r\n\r\nWe may now construct a hash that maps each pair of elements of `arr` into their GDC:\r\n\r\n    GDC = {\r\n      [317,29]=&gt;&lt;gdc&gt;, [317,355]=&gt;&lt;gdc&gt;,...,[317,323]=&gt;&lt;gdc&gt;,\r\n      [29,355]=&gt;&lt;gdc&gt;,  [29,355]=&gt;&lt;gdc&gt;,..., [29,323]=&gt;&lt;gdc&gt;,\r\n      ...\r\n      [374,323]=&gt;&lt;gdc&gt; \r\n    }\r\n\r\nNote that since `GDC[[x,y]] == GDC[[y,x]]` we need only compute one-half of the pairs.\r\n\r\n**Partition the given array into equal-size partitions**\r\n\r\nSuppose we partition `arr` into two equal-size arrays. For example,\r\n\r\n    a1 = [375, 355, 186, 323, 29]\r\n    a2 = [317, 388, 214, 301, 374]\r\n\r\n**Solve an assignment problem for each partition**\r\n\r\nFor this partition we wish to find the 1-1 mapping between `a1` and `a2` that minimizes the sum of the (here `5`) GCD&#39;s. This is called an [assignment problem](https://en.wikipedia.org/wiki/Assignment_problem), a type of *linear program* (LP).\r\n\r\nThis can be formulated as an LP with (here 25) variables x&lt;sub&gt;i,j&lt;/sub&gt;, each of which equals `1` if element `a1[i]` is *assigned* to element `a2[j]` and equals `0` otherwise. The model also has (here `5`) constraints that ensure each element of `a1` is assigned to exactly one element of `a2` and (here `5`) constraints that ensure each element `a2` is assigned to exactly one element of `a1`.\r\n\r\nThough LP variables are not restricted to taking on integer values, it is known that the optimal value of each assignment problem variable will equal `0` or `1`.\r\n\r\nEvery assignment problem is characterized by a matrix of *distances*. Here that matrix is `5x5`, each `i,j` element being taken from the GDC hash corresponding to a pair `[a1[i], a2[j])`. The value of a given assignment is the sum of the distances associated with the assignment. The optimal solution is an assignment whose value is minimum over all possible assignments.\r\n\r\nAssignment problems can be solved relatively quickly using either the Simplex Method, a specialized algorithm for the assignment problem alone or another general-purpose LP algorithm.\r\n\r\n**Enumerate partitions of the given array to find an optimum**\r\n\r\nWe now have a way to way to obtain the optimal assignment for each partition of `arr` into two equal-size arrays. If `arr` contains `n` elements there are `n!/((((n/2)!)^2)` such partitions. For the example (for which `n = 10`) that is `252` partitions.\r\n\r\nIt therefore remains to enumerate all such partitions and select one (possibly the only one) for which the optimal value of that associated assignment problem is minimal. For the example we are dealing with we wish to obtain &quot;all combinations of 10 elements taken 5 at a time&quot;:\r\n\r\n    [\r\n      [317, 29, 355, 388, 214],\r\n      [317, 29, 355, 388, 375],\r\n      ...\r\n      [214, 186, 301, 374, 323],\r\n      [375, 186, 301, 374, 323]\r\n    ]\r\n\r\nThese are the `a1` arrays. Each corresponding `a2` array equals `arr - a1(i)`:\r\n\r\n    [\r\n      [[317, 29, 355, 388, 214], [375, 186, 301, 374, 323]],\r\n      [[317, 29, 355, 388, 375], [214, 186, 301, 374, 323]],\r\n      ...\r\n      [[214, 186, 301, 374, 323], [317, 29, 355, 388, 375]],\r\n      [[375, 186, 301, 374, 323], [317, 29, 355, 388, 214]]\r\n    ]\r\n\r\n","title":"Find GCD pairs for given array","body":"<p><strong>WARNING: There is no free lunch!</strong></p>\n<p><strong>The problem</strong></p>\n<p>I understand that, given an array containing an even number of positive integers, the problem can viewed as first partitioning the array into two equal-size arrays, then establishing a 1-1 mapping between those two arrays, after which the GCDs of all mapped pairs are computed and summed. The objective is to find a partition and subsequent 1-1 mapping that yields the smallest sum of GDCs.</p>\n<p><strong>Illustrative array</strong></p>\n<p>Suppose the given array is as follows.</p>\n<pre><code>arr = [317, 29, 355, 388, 214, 375, 186, 301, 374, 323]\n</code></pre>\n<p><strong>Prime factorization</strong></p>\n<p>Most languages provide a method or function to compute each positive integer's <em>prime factorization</em>. For example, the prime factorization of <code>388</code> can be found to equal <code>(2^2)*(97^1)</code>, where <code>2</code> and <code>97</code> are primes. This can be represented by the array <code>[[2,2], [97,1]]</code> where each element is comprised of a prime and its exponent.</p>\n<p>If we compute the prime factorization for each element of <code>arr</code> we may construct a hash (a.k.a hash table, dictionary) such as the following.</p>\n<pre><code>PF = {\n  317=&gt;[[317, 1]],\n   29=&gt;[[29, 1]],\n  355=&gt;[[5, 1], [71, 1]],\n  388=&gt;[[2, 2], [97, 1]],\n  214=&gt;[[2, 1], [107, 1]],\n  375=&gt;[[3, 1], [5, 3]],\n  186=&gt;[[2, 1], [3, 1], [31, 1]],\n  301=&gt;[[7, 1], [43, 1]],\n  374=&gt;[[2, 1], [11, 1], [17, 1]],\n  323=&gt;[[17, 1], [19, 1]]\n}\n</code></pre>\n<p>This allows us to quickly retrieve the prime factorization for any element of  <code>arr</code>:</p>\n<pre><code>PF[388]\n  #=&gt;[[2, 2], [97, 1]]\n</code></pre>\n<p><strong>Computing GCDs from prime factorizations</strong></p>\n<p>Next, for any two positive integers, say <code>108</code> and <code>360</code>, consider how their GCD is computed, given their prime factorizations.</p>\n<pre><code>PF = { 108=&gt;[[2, 2], [3, 3]], 360=&gt;[[2, 3], [3, 2], [5, 1]] }\n</code></pre>\n<p>If we view this as</p>\n<pre><code>PF = { 108=&gt;[[2, 2], [3, 3], [5, 0]], 360=&gt;[[2, 3], [3, 2], [5, 1]] }\n</code></pre>\n<p>we see that the GDC equals</p>\n<p>2<sup>min{2,3}</sup> * 3<sup>min{3,2}</sup> * 5<sup>min{0,1}</sup> = 2<sup>2</sup> * 3<sup>2</sup> * 5<sup>0</sup> = 4 * 9 * 1 = 36</p>\n<p>We may now construct a hash that maps each pair of elements of <code>arr</code> into their GDC:</p>\n<pre><code>GDC = {\n  [317,29]=&gt;&lt;gdc&gt;, [317,355]=&gt;&lt;gdc&gt;,...,[317,323]=&gt;&lt;gdc&gt;,\n  [29,355]=&gt;&lt;gdc&gt;,  [29,355]=&gt;&lt;gdc&gt;,..., [29,323]=&gt;&lt;gdc&gt;,\n  ...\n  [374,323]=&gt;&lt;gdc&gt; \n}\n</code></pre>\n<p>Note that since <code>GDC[[x,y]] == GDC[[y,x]]</code> we need only compute one-half of the pairs.</p>\n<p><strong>Partition the given array into equal-size partitions</strong></p>\n<p>Suppose we partition <code>arr</code> into two equal-size arrays. For example,</p>\n<pre><code>a1 = [375, 355, 186, 323, 29]\na2 = [317, 388, 214, 301, 374]\n</code></pre>\n<p><strong>Solve an assignment problem for each partition</strong></p>\n<p>For this partition we wish to find the 1-1 mapping between <code>a1</code> and <code>a2</code> that minimizes the sum of the (here <code>5</code>) GCD's. This is called an <a href=\"https://en.wikipedia.org/wiki/Assignment_problem\" rel=\"nofollow noreferrer\">assignment problem</a>, a type of <em>linear program</em> (LP).</p>\n<p>This can be formulated as an LP with (here 25) variables x<sub>i,j</sub>, each of which equals <code>1</code> if element <code>a1[i]</code> is <em>assigned</em> to element <code>a2[j]</code> and equals <code>0</code> otherwise. The model also has (here <code>5</code>) constraints that ensure each element of <code>a1</code> is assigned to exactly one element of <code>a2</code> and (here <code>5</code>) constraints that ensure each element <code>a2</code> is assigned to exactly one element of <code>a1</code>.</p>\n<p>Though LP variables are not restricted to taking on integer values, it is known that the optimal value of each assignment problem variable will equal <code>0</code> or <code>1</code>.</p>\n<p>Every assignment problem is characterized by a matrix of <em>distances</em>. Here that matrix is <code>5x5</code>, each <code>i,j</code> element being taken from the GDC hash corresponding to a pair <code>[a1[i], a2[j])</code>. The value of a given assignment is the sum of the distances associated with the assignment. The optimal solution is an assignment whose value is minimum over all possible assignments.</p>\n<p>Assignment problems can be solved relatively quickly using either the Simplex Method, a specialized algorithm for the assignment problem alone or another general-purpose LP algorithm.</p>\n<p><strong>Enumerate partitions of the given array to find an optimum</strong></p>\n<p>We now have a way to way to obtain the optimal assignment for each partition of <code>arr</code> into two equal-size arrays. If <code>arr</code> contains <code>n</code> elements there are <code>n!/((((n/2)!)^2)</code> such partitions. For the example (for which <code>n = 10</code>) that is <code>252</code> partitions.</p>\n<p>It therefore remains to enumerate all such partitions and select one (possibly the only one) for which the optimal value of that associated assignment problem is minimal. For the example we are dealing with we wish to obtain &quot;all combinations of 10 elements taken 5 at a time&quot;:</p>\n<pre><code>[\n  [317, 29, 355, 388, 214],\n  [317, 29, 355, 388, 375],\n  ...\n  [214, 186, 301, 374, 323],\n  [375, 186, 301, 374, 323]\n]\n</code></pre>\n<p>These are the <code>a1</code> arrays. Each corresponding <code>a2</code> array equals <code>arr - a1(i)</code>:</p>\n<pre><code>[\n  [[317, 29, 355, 388, 214], [375, 186, 301, 374, 323]],\n  [[317, 29, 355, 388, 375], [214, 186, 301, 374, 323]],\n  ...\n  [[214, 186, 301, 374, 323], [317, 29, 355, 388, 375]],\n  [[375, 186, 301, 374, 323], [317, 29, 355, 388, 214]]\n]\n</code></pre>\n"}],"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1699688172,"creation_date":1699640491,"question_id":77462115,"body_markdown":"Given an array of integers of size n, where n is an even number. Pick 2 numbers from the array and find the GCD. Similarly, pick 2 items from the remaining items in the array and find the GCD. Repeat the steps to find the GCD pairs. Sum the GCD values and get the highest sum.\r\n\r\n**constraints:**\r\n\r\n    n is in range 2 to 20\r\n    arr[i] is in range 1 to 10^9\r\n\r\n**Example 1:** \r\n\r\n    arr = [3,4,9,5]\r\n\r\n**Answer:**\r\n\r\n    4\r\n\r\n**Explanation:**\r\n\r\n    a) gcd of (4,5) is 1\r\n    b) gcd of (3,9) is 3\r\n    Sum = 1+3 = 4. This is the highest possible GCD sum.\r\n\r\n\r\n**Example 2:** \r\n\r\n    arr = [1,2,3,4,5,6]\r\n\r\n**Answer:**\r\n\r\n    6\r\n\r\n**Explanation:**\r\n\r\n    a) gcd of (1,5) is 1\r\n    b) gcd of (2,4) is 2\r\n    c) gcd of (3,6) is 3\r\n    Sum = 1+2+3 = 6. This is the highest possible GCD sum.\r\n\r\nThis is my code:\r\n\r\n    public static int solve(int[] ar) {\r\n       int n = ar.length;\r\n       Arrays.sort(ar);\r\n       int sum = 0;\r\n       for(int i=0; i&lt;n/2; i++) {\r\n         int a = ar.get(i), b = ar.get(n-i-1);\r\n         int c = gcd(a,b); \r\n         sum += c;\r\n       }\r\n       return sum;\r\n    }\r\n\r\n    static int gcd(int a, int b)\r\n    {\r\n        // if b=0, a is the GCD\r\n        if (b == 0)\r\n            return a;\r\n \r\n        // call the gcd() method recursively by\r\n        // replacing a with b and b with\r\n        // modulus(a,b) as long as b != 0\r\n        else\r\n            return gcd(b, a % b);\r\n    }\r\n\r\nMy code is working for 1st example and gives the wrong output for the second example. \r\nI have debugged and found that the approach I am using is not correct. What is the correct approach to solve this problem?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Find GCD pairs for given array","body":"<p>Given an array of integers of size n, where n is an even number. Pick 2 numbers from the array and find the GCD. Similarly, pick 2 items from the remaining items in the array and find the GCD. Repeat the steps to find the GCD pairs. Sum the GCD values and get the highest sum.</p>\n<p><strong>constraints:</strong></p>\n<pre><code>n is in range 2 to 20\narr[i] is in range 1 to 10^9\n</code></pre>\n<p><strong>Example 1:</strong></p>\n<pre><code>arr = [3,4,9,5]\n</code></pre>\n<p><strong>Answer:</strong></p>\n<pre><code>4\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<pre><code>a) gcd of (4,5) is 1\nb) gcd of (3,9) is 3\nSum = 1+3 = 4. This is the highest possible GCD sum.\n</code></pre>\n<p><strong>Example 2:</strong></p>\n<pre><code>arr = [1,2,3,4,5,6]\n</code></pre>\n<p><strong>Answer:</strong></p>\n<pre><code>6\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<pre><code>a) gcd of (1,5) is 1\nb) gcd of (2,4) is 2\nc) gcd of (3,6) is 3\nSum = 1+2+3 = 6. This is the highest possible GCD sum.\n</code></pre>\n<p>This is my code:</p>\n<pre><code>public static int solve(int[] ar) {\n   int n = ar.length;\n   Arrays.sort(ar);\n   int sum = 0;\n   for(int i=0; i&lt;n/2; i++) {\n     int a = ar.get(i), b = ar.get(n-i-1);\n     int c = gcd(a,b); \n     sum += c;\n   }\n   return sum;\n}\n\nstatic int gcd(int a, int b)\n{\n    // if b=0, a is the GCD\n    if (b == 0)\n        return a;\n\n    // call the gcd() method recursively by\n    // replacing a with b and b with\n    // modulus(a,b) as long as b != 0\n    else\n        return gcd(b, a % b);\n}\n</code></pre>\n<p>My code is working for 1st example and gives the wrong output for the second example.\nI have debugged and found that the approach I am using is not correct. What is the correct approach to solve this problem?</p>\n"},{"tags":["java","ftp","apache-commons-net"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1564981266,"post_id":57352335,"comment_id":101192517,"body_markdown":"What are you hoping to achieve by doing this?  If you want to close after arbitrary idle time then maybe set  up a timer thread","body":"What are you hoping to achieve by doing this?  If you want to close after arbitrary idle time then maybe set  up a timer thread"}],"answers":[{"tags":[],"owner":{"account_id":3701398,"reputation":116632,"user_id":3081018,"display_name":"Steffen Ullrich"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1564981807,"creation_date":1564981807,"answer_id":57352480,"question_id":57352335,"body_markdown":"The FTP client cannot control the settings of the FTP server. \r\n\r\nBut what you are asking looks more like an [XY problem](https://en.wikipedia.org/wiki/XY_problem) where X is probably that you want to prevent the server to close an idle connection an Y is the idea of a solution you came up with: controlling the servers timeout from the client side. Only, this solution will not work.\r\n\r\nInstead you need to tackle the real reason why the server is closing the connection: because of no activity from the client. This problem can be tackled simply by the client interacting with the server. This way is even [documented](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html). To cite:\r\n\r\n&gt; You should keep in mind that the FTP server may choose to prematurely close a connection if the client has been idle for longer than a given time period (usually 900 seconds). ... You may __avoid server disconnections while the client is idle by periodically sending NOOP commands to the server__.\r\n\r\n","title":"Can the FTP client control FTP server time-out settings?","body":"<p>The FTP client cannot control the settings of the FTP server. </p>\n\n<p>But what you are asking looks more like an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"noreferrer\">XY problem</a> where X is probably that you want to prevent the server to close an idle connection an Y is the idea of a solution you came up with: controlling the servers timeout from the client side. Only, this solution will not work.</p>\n\n<p>Instead you need to tackle the real reason why the server is closing the connection: because of no activity from the client. This problem can be tackled simply by the client interacting with the server. This way is even <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html\" rel=\"noreferrer\">documented</a>. To cite:</p>\n\n<blockquote>\n  <p>You should keep in mind that the FTP server may choose to prematurely close a connection if the client has been idle for longer than a given time period (usually 900 seconds). ... You may <strong>avoid server disconnections while the client is idle by periodically sending NOOP commands to the server</strong>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":29136366,"reputation":1,"user_id":22320433,"display_name":"emp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699687735,"creation_date":1699687735,"answer_id":77464230,"question_id":57352335,"body_markdown":"I used the WireShark to see if the config of setControlKeepAliveTimeout() work,  and found than it only works when ftp uploading or downloading files","title":"Can the FTP client control FTP server time-out settings?","body":"<p>I used the WireShark to see if the config of setControlKeepAliveTimeout() work,  and found than it only works when ftp uploading or downloading files</p>\n"}],"owner":{"account_id":15993722,"reputation":67,"user_id":11542190,"display_name":"mgjang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1786,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57352480,"answer_count":2,"score":1,"last_activity_date":1699687735,"creation_date":1564980578,"question_id":57352335,"body_markdown":"I am using **Apache Commons-Net** library in Java\r\n\r\nWhat I want is to set the connection time-out of the FTP-server on the client stage\r\nusing java-code\r\n\r\n   example :\r\n    \r\n   If I look at the FTP server&#39;s vsftpd.conf settings file,\r\n    \r\n   there is a `idle_session_timeout=600` setting\r\n\r\n\r\nI wonder if this idle time-out can be controlled by FTP-client using java code\r\n\r\nThe method below, which I tried but not all worked\r\n\r\n    FTPClient.setControlKeepAliveTimeout(sec);\r\n    FTPClient.setConnectTimeout(ms);\r\n    FTPClient.setDataTimeout(ms);\r\n    FTPClient.connect();\r\n    FTPClient.setSoTimeout(ms);\r\n\r\nPlease help me :)\r\n\r\n","title":"Can the FTP client control FTP server time-out settings?","body":"<p>I am using <strong>Apache Commons-Net</strong> library in Java</p>\n\n<p>What I want is to set the connection time-out of the FTP-server on the client stage\nusing java-code</p>\n\n<p>example :</p>\n\n<p>If I look at the FTP server's vsftpd.conf settings file,</p>\n\n<p>there is a <code>idle_session_timeout=600</code> setting</p>\n\n<p>I wonder if this idle time-out can be controlled by FTP-client using java code</p>\n\n<p>The method below, which I tried but not all worked</p>\n\n<pre><code>FTPClient.setControlKeepAliveTimeout(sec);\nFTPClient.setConnectTimeout(ms);\nFTPClient.setDataTimeout(ms);\nFTPClient.connect();\nFTPClient.setSoTimeout(ms);\n</code></pre>\n\n<p>Please help me :)</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":29161129,"reputation":86,"user_id":22339877,"display_name":"Flavian Diol D"},"score":0,"creation_date":1699684958,"post_id":77464128,"comment_id":136565253,"body_markdown":"without knowing the `id` of the user, you might not be able to do what you want. Getting the `id` from the client is not a big deal, if you can do that. It&#39;ll simplify your whole problem.","body":"without knowing the <code>id</code> of the user, you might not be able to do what you want. Getting the <code>id</code> from the client is not a big deal, if you can do that. It&#39;ll simplify your whole problem."},{"owner":{"account_id":29877272,"reputation":1,"user_id":22897142,"display_name":"AlexJavaCoder"},"score":0,"creation_date":1699685347,"post_id":77464128,"comment_id":136565275,"body_markdown":"Client wants to register a new object, which may not be saved in DB yet and may not have an id. I just want to verify that the object at the specified address definitely wasn&#39;t saved yet. So I don&#39;t know the id","body":"Client wants to register a new object, which may not be saved in DB yet and may not have an id. I just want to verify that the object at the specified address definitely wasn&#39;t saved yet. So I don&#39;t know the id"},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1699685948,"post_id":77464128,"comment_id":136565309,"body_markdown":"&quot;*And I want to find the corresponding object in my DB according to equals() and hashCode() methods using JPA repository.*&quot; - You do realize that this would entail that we have to transfer and map the entire database table, yes? The database has no notion of `equals()` and `hashCode()`; we&#39;d need to do this in the application. In other words: the entire table has to be transferred to the application, and each row has to be mapped to a java object.","body":"&quot;<i>And I want to find the corresponding object in my DB according to equals() and hashCode() methods using JPA repository.</i>&quot; - You do realize that this would entail that we have to transfer and map the entire database table, yes? The database has no notion of <code>equals()</code> and <code>hashCode()</code>; we&#39;d need to do this in the application. In other words: the entire table has to be transferred to the application, and each row has to be mapped to a java object."},{"owner":{"account_id":29877272,"reputation":1,"user_id":22897142,"display_name":"AlexJavaCoder"},"score":0,"creation_date":1699794047,"post_id":77464128,"comment_id":136573464,"body_markdown":"Well, now I use this JPA method:\n\n`Optional&lt;ObjectAddress&gt; findByCountryAndRegionAndCountyAndSettlementAndDistrictAndStreetAndHouseNumberAndBuildingAndApartmentNumber(String country, String region, String county, String settlement, String district, String street, String houseNumber, String building,\n            int apartmentNumber);`\n\nI think, it is converted into an SQL query with long WHEN statement. Of course It&#39;s executed by DBMS. And it doesn&#39;t fetch all the data from the table.\n\nI just want to know if I can use a little syntactic sugar instead of this long and ugly method.","body":"Well, now I use this JPA method:  <code>Optional&lt;ObjectAddress&gt; findByCountryAndRegionAndCountyAndSettlementAndDistrictAndSt&zwnj;&#8203;reetAndHouseNumberAn&zwnj;&#8203;dBuildingAndApartmen&zwnj;&#8203;tNumber(String country, String region, String county, String settlement, String district, String street, String houseNumber, String building,             int apartmentNumber);</code>  I think, it is converted into an SQL query with long WHEN statement. Of course It&#39;s executed by DBMS. And it doesn&#39;t fetch all the data from the table.  I just want to know if I can use a little syntactic sugar instead of this long and ugly method."}],"answers":[{"tags":[],"owner":{"account_id":13803181,"reputation":93,"user_id":9962727,"display_name":"Vivek Raman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699687727,"creation_date":1699687727,"answer_id":77464229,"question_id":77464128,"body_markdown":"Since you want to use `hashCode()` and `equals()` via your JPA repository, you have the option of defining a new column on your entity. You can simply add a field like so:\r\n\r\n```java\r\n@Setter(accessLevel = AccessLevel.PRIVATE)\r\nprivate String uniqueAddressCode = String.valueOf(this.hashCode());\r\n```\r\n\r\nUpdate your table&#39;s schema to add this field, and now you can query by `uniqueAddressCode` using your JPA repository to locate duplicate address records.\r\n\r\nNote that you will need to handle cases where the address is updated, and cases where different users enter the exact same address, leading to a clashing `hashCode`. Towards that end, I&#39;d recommend adding the user ID as a part of the `hashCode` evaluation.","title":"Find by equals() in Spring Data JPA","body":"<p>Since you want to use <code>hashCode()</code> and <code>equals()</code> via your JPA repository, you have the option of defining a new column on your entity. You can simply add a field like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter(accessLevel = AccessLevel.PRIVATE)\nprivate String uniqueAddressCode = String.valueOf(this.hashCode());\n</code></pre>\n<p>Update your table's schema to add this field, and now you can query by <code>uniqueAddressCode</code> using your JPA repository to locate duplicate address records.</p>\n<p>Note that you will need to handle cases where the address is updated, and cases where different users enter the exact same address, leading to a clashing <code>hashCode</code>. Towards that end, I'd recommend adding the user ID as a part of the <code>hashCode</code> evaluation.</p>\n"}],"owner":{"account_id":29877272,"reputation":1,"user_id":22897142,"display_name":"AlexJavaCoder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699687727,"creation_date":1699684425,"question_id":77464128,"body_markdown":"Let&#39;s say I have object address entity with the overridden equals() and hashCode():\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\npublic class ObjectAddress {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private UUID id;\r\n    \r\n    private String country;\r\n    \r\n    private String region;\r\n    \r\n    private String county;\r\n    \r\n    private String settlement;\r\n    \r\n    private String district;\r\n    \r\n    private String street;\r\n    \r\n    private String houseNumber;\r\n    \r\n    private String building;\r\n    \r\n    private Integer apartmentNumber;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        ObjectAdress that = (ObjectAdress) o;\r\n        return Objects.equals(country, that.country) &amp;&amp; Objects.equals(region, that.region) &amp;&amp; Objects.equals(county, that.county) &amp;&amp; Objects.equals(settlement, that.settlement) &amp;&amp; Objects.equals(district, that.district) &amp;&amp; Objects.equals(street, that.street) &amp;&amp; Objects.equals(houseNumber, that.houseNumber) &amp;&amp; Objects.equals(building, that.building) &amp;&amp; Objects.equals(apartmentNumber, that.apartmentNumber);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(country, region, county, settlement, district, street, houseNumber, building, apartmentNumber);\r\n    }\r\n}\r\n```\r\n\r\nA user sends me a request to register their property at the specified address. I want to check that this object hasn&#39;t been registered yet. But I don&#39;t know the id. And I want to find the corresponding object in my DB according to equals() and hashCode() methods using JPA repository.\r\n\r\nHow can I achieve this (if I don&#39;t want to manually specify all the fields)?","title":"Find by equals() in Spring Data JPA","body":"<p>Let's say I have object address entity with the overridden equals() and hashCode():</p>\n<pre><code>@Getter\n@Setter\n@Entity\npublic class ObjectAddress {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID id;\n    \n    private String country;\n    \n    private String region;\n    \n    private String county;\n    \n    private String settlement;\n    \n    private String district;\n    \n    private String street;\n    \n    private String houseNumber;\n    \n    private String building;\n    \n    private Integer apartmentNumber;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        ObjectAdress that = (ObjectAdress) o;\n        return Objects.equals(country, that.country) &amp;&amp; Objects.equals(region, that.region) &amp;&amp; Objects.equals(county, that.county) &amp;&amp; Objects.equals(settlement, that.settlement) &amp;&amp; Objects.equals(district, that.district) &amp;&amp; Objects.equals(street, that.street) &amp;&amp; Objects.equals(houseNumber, that.houseNumber) &amp;&amp; Objects.equals(building, that.building) &amp;&amp; Objects.equals(apartmentNumber, that.apartmentNumber);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(country, region, county, settlement, district, street, houseNumber, building, apartmentNumber);\n    }\n}\n</code></pre>\n<p>A user sends me a request to register their property at the specified address. I want to check that this object hasn't been registered yet. But I don't know the id. And I want to find the corresponding object in my DB according to equals() and hashCode() methods using JPA repository.</p>\n<p>How can I achieve this (if I don't want to manually specify all the fields)?</p>\n"},{"tags":["java","selenium-webdriver","appium-android"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1685531693,"post_id":76372834,"comment_id":134672356,"body_markdown":"It&#39;s `InvalidSelectorException`. Check if `text(\\&quot;Link Patient to Doctor\\&quot;)` identifies the element uniquely, possibly `text(&#39;Link Patient to Doctor&#39;)` would.","body":"It&#39;s <code>InvalidSelectorException</code>. Check if <code>text(\\&quot;Link Patient to Doctor\\&quot;)</code> identifies the element uniquely, possibly <code>text(&#39;Link Patient to Doctor&#39;)</code> would."},{"owner":{"account_id":26854175,"reputation":1,"user_id":20438687,"display_name":"vishakha"},"score":0,"creation_date":1685533047,"post_id":76372834,"comment_id":134672652,"body_markdown":"thank you but i tried other elements too..still not working","body":"thank you but i tried other elements too..still not working"}],"answers":[{"tags":[],"owner":{"account_id":29877517,"reputation":1,"user_id":22897328,"display_name":"Gopinath Angusamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699686797,"creation_date":1699686797,"answer_id":77464205,"question_id":76372834,"body_markdown":"Try this there is issues in your code. try this. \r\ndriver.findElement(AppiumBy.androidUIAutomator(&quot;new UiScrollable(new UiSelector()).scrollIntoView(new UiSelector().text(\\&quot;WebView\\&quot;));&quot;)).click();","title":"Automatic scroll to element using Appium is not working in android","body":"<p>Try this there is issues in your code. try this.\ndriver.findElement(AppiumBy.androidUIAutomator(&quot;new UiScrollable(new UiSelector()).scrollIntoView(new UiSelector().text(&quot;WebView&quot;));&quot;)).click();</p>\n"}],"owner":{"account_id":26854175,"reputation":1,"user_id":20438687,"display_name":"vishakha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699686797,"creation_date":1685531152,"question_id":76372834,"body_markdown":"I am trying to automate android application.in which I need to scroll down to one element and given scroll code are not working\r\n\r\nAppium Scroll code is not working\r\n\r\nI have tried this code\r\n\r\n    MobileElement l=driver.findElement( io.appium.java_client.MobileBy.AndroidUIAutomator(&quot;new UiScrollable(new UiSelector().scrollIntoView(new UiSelector().text(\\&quot;Link Patient to Doctor\\&quot;);&quot;));\r\n    l.click();\r\n\r\nalso tried this code\r\n\r\n    MobileElement li=driver.findElement(MobileBy.\r\n     * AndroidUIAutomator(&quot;new UiScrollable(new    UiSelector().scrollable(true).instance(0)).scrollIntoView(new UiSelector().textContains(\\&quot;Link Patient to Doctor\\&quot;).instance(0))&quot;\r\n     * ));li.click();\r\n\r\nthe page should scroll dowm to the Given text\r\n\r\nmy appium version is 2.0.0-beta.71\r\nnpm is 9.5.1\r\n\r\n\r\n\r\n\r\nbut its not scrolling down and showing the error:\r\n\r\n&gt; org.open\r\n&gt; qa.selenium.InvalidSelectorException: Could not parse selector\r\n&gt; expression `new UiScrollable(new UiSelector().scrollIntoView(new\r\n&gt; UiSelector().text(&quot;Link Patient to Doctor&quot;)`: Unclosed paren in\r\n&gt; expression For documentation on this error, please visit:\r\n&gt; https://www.seleniumhq.org/exceptions/invalid_selector_exception.html\r\n&gt; Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time:\r\n&gt; &#39;2018-11-14T08:17:03&#39; System info: host: &#39;DESKTOP-VQLLA2K&#39;, ip:\r\n&gt; &#39;192.168.56.1&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version:\r\n&gt; &#39;10.0&#39;, java.version: &#39;19.0.1&#39; Driver info:\r\n&gt; io.appium.java_client.AppiumDriver Capabilities {app:\r\n&gt; D:\\\\app-release.apk, appActivity: com.calculator_apps.MainAct...,\r\n&gt; appPackage: com.calculator_apps, automationName: UiAutomator2,\r\n&gt; databaseEnabled: false, desired: {app: D:\\\\app-release.apk,\r\n&gt; appActivity: com.calculator_apps.MainAct..., appPackage:\r\n&gt; com.calculator_apps, automationName: UiAutomator2, deviceName:\r\n&gt; samsung, platformName: android, platformVersion: 10}, deviceApiLevel:\r\n&gt; 29, deviceManufacturer: samsung, deviceModel: SM-A305F, deviceName:\r\n&gt; RZ8M5181Y3M, deviceScreenDensity: 420, deviceScreenSize: 1080x2340,\r\n&gt; deviceUDID: RZ8M5181Y3M, javascriptEnabled: true,\r\n&gt; locationContextEnabled: false, networkConnectionEnabled: true,\r\n&gt; pixelRatio: 2.625, platform: LINUX, platformName: Android,\r\n&gt; platformVersion: 10, statBarHeight: 83, takesScreenshot: true,\r\n&gt; viewportRect: {height: 2048, left: 0, top: 83, width: 1080}, warnings:\r\n&gt; {}, webStorageEnabled: false} Session ID:\r\n&gt; 9641d029-12e2-4f87-bab0-86d49bcbeaa2\r\n&gt; *** Element info: {Using=-android uiautomator, value=new UiScrollable(new UiSelector().scrollIntoView(new\r\n&gt; UiSelector().text(&quot;Link Patient to Doctor&quot;);}\r\n\r\n\r\nplease reply if anyone knows the solution\r\n\r\n","title":"Automatic scroll to element using Appium is not working in android","body":"<p>I am trying to automate android application.in which I need to scroll down to one element and given scroll code are not working</p>\n<p>Appium Scroll code is not working</p>\n<p>I have tried this code</p>\n<pre><code>MobileElement l=driver.findElement( io.appium.java_client.MobileBy.AndroidUIAutomator(&quot;new UiScrollable(new UiSelector().scrollIntoView(new UiSelector().text(\\&quot;Link Patient to Doctor\\&quot;);&quot;));\nl.click();\n</code></pre>\n<p>also tried this code</p>\n<pre><code>MobileElement li=driver.findElement(MobileBy.\n * AndroidUIAutomator(&quot;new UiScrollable(new    UiSelector().scrollable(true).instance(0)).scrollIntoView(new UiSelector().textContains(\\&quot;Link Patient to Doctor\\&quot;).instance(0))&quot;\n * ));li.click();\n</code></pre>\n<p>the page should scroll dowm to the Given text</p>\n<p>my appium version is 2.0.0-beta.71\nnpm is 9.5.1</p>\n<p>but its not scrolling down and showing the error:</p>\n<blockquote>\n<p>org.open\nqa.selenium.InvalidSelectorException: Could not parse selector\nexpression <code>new UiScrollable(new UiSelector().scrollIntoView(new UiSelector().text(&quot;Link Patient to Doctor&quot;)</code>: Unclosed paren in\nexpression For documentation on this error, please visit:\n<a href=\"https://www.seleniumhq.org/exceptions/invalid_selector_exception.html\" rel=\"nofollow noreferrer\">https://www.seleniumhq.org/exceptions/invalid_selector_exception.html</a>\nBuild info: version: '3.141.59', revision: 'e82be7d358', time:\n'2018-11-14T08:17:03' System info: host: 'DESKTOP-VQLLA2K', ip:\n'192.168.56.1', os.name: 'Windows 10', os.arch: 'amd64', os.version:\n'10.0', java.version: '19.0.1' Driver info:\nio.appium.java_client.AppiumDriver Capabilities {app:\nD:\\app-release.apk, appActivity: com.calculator_apps.MainAct...,\nappPackage: com.calculator_apps, automationName: UiAutomator2,\ndatabaseEnabled: false, desired: {app: D:\\app-release.apk,\nappActivity: com.calculator_apps.MainAct..., appPackage:\ncom.calculator_apps, automationName: UiAutomator2, deviceName:\nsamsung, platformName: android, platformVersion: 10}, deviceApiLevel:\n29, deviceManufacturer: samsung, deviceModel: SM-A305F, deviceName:\nRZ8M5181Y3M, deviceScreenDensity: 420, deviceScreenSize: 1080x2340,\ndeviceUDID: RZ8M5181Y3M, javascriptEnabled: true,\nlocationContextEnabled: false, networkConnectionEnabled: true,\npixelRatio: 2.625, platform: LINUX, platformName: Android,\nplatformVersion: 10, statBarHeight: 83, takesScreenshot: true,\nviewportRect: {height: 2048, left: 0, top: 83, width: 1080}, warnings:\n{}, webStorageEnabled: false} Session ID:\n9641d029-12e2-4f87-bab0-86d49bcbeaa2\n*** Element info: {Using=-android uiautomator, value=new UiScrollable(new UiSelector().scrollIntoView(new\nUiSelector().text(&quot;Link Patient to Doctor&quot;);}</p>\n</blockquote>\n<p>please reply if anyone knows the solution</p>\n"},{"tags":["java","pdf-generation","itext7"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91501,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1480408689,"creation_date":1480405653,"answer_id":40860358,"question_id":40859431,"body_markdown":"In iText 7 the `newPage` method has become a special case of an area break:\r\n\r\n    Document document = ...;\r\n    [....add some content...]\r\n    document.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\r\n    [...add some content on next page...]\r\n\r\n","title":"Adding a new page in PDF using itext 7","body":"<p>In iText 7 the <code>newPage</code> method has become a special case of an area break:</p>\n\n<pre><code>Document document = ...;\n[....add some content...]\ndocument.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\n[...add some content on next page...]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5767963,"reputation":29,"user_id":4552286,"display_name":"thefastlane"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1617638811,"creation_date":1617638811,"answer_id":66955967,"question_id":40859431,"body_markdown":"If you&#39;re using C# and refactoring code that referenced iText 5 (like I was) try putting the iText 7 method in an override.\r\n\r\n    public static class Itext7DocumentExtensions\r\n    {\r\n        public static void NewPage(this Document document)\r\n        {\r\n            document.Add(new AreaBreak(AreaBreakType.NEXT_PAGE));\r\n        }\r\n    }\r\n\r\n\r\nNow you can call `document.NewPage();`","title":"Adding a new page in PDF using itext 7","body":"<p>If you're using C# and refactoring code that referenced iText 5 (like I was) try putting the iText 7 method in an override.</p>\n<pre><code>public static class Itext7DocumentExtensions\n{\n    public static void NewPage(this Document document)\n    {\n        document.Add(new AreaBreak(AreaBreakType.NEXT_PAGE));\n    }\n}\n</code></pre>\n<p>Now you can call <code>document.NewPage();</code></p>\n"}],"owner":{"account_id":1831207,"reputation":1151,"user_id":1662570,"accept_rate":75,"display_name":"Karthick Radhakrishnan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28325,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":40860358,"answer_count":2,"score":24,"last_activity_date":1699686419,"creation_date":1480402101,"question_id":40859431,"body_markdown":"I&#39;m trying to create a PDF Document using iText 7 with below code and my PDF documents contents are overlapping in same page when generated.(i.e in Page 1).\r\n\r\nI see the \r\n\r\n&gt; document.newPage();\r\n\r\n method is missing in iText 7. How can i add pages to my PDF document without using pdfDocumet.copyPages(...) or PDFmerger in itext 7.\r\n\r\n        \r\n\r\n            PdfDocument pdfDoc = new PdfDocument(new PdfWriter(dest));\t\t\r\n    \t\tpdfDoc.addNewPage();\r\n    \t\tDocument PageOnedocument = new Document(pdfDoc,PageSize.A4);\t\t\t\r\n    \t\taddPageOneContents(PageOnedocument);  \r\n    \t\t\r\n    \t\t\r\n    \t\tpdfDoc.addNewPage();\r\n    \t\tDocument PageTwodocument = new Document(pdfDoc,PageSize.A4);\t\t\t\r\n    \t\taddPageTwoContents(PageTwodocument);  \r\n            \r\n    \t\tpdfDoc.close();\r\n    \t\tPageOnedocument.close();\r\n    \t\tPageTwodocument.close();","title":"Adding a new page in PDF using itext 7","body":"<p>I'm trying to create a PDF Document using iText 7 with below code and my PDF documents contents are overlapping in same page when generated.(i.e in Page 1).</p>\n\n<p>I see the </p>\n\n<blockquote>\n  <p>document.newPage();</p>\n</blockquote>\n\n<p>method is missing in iText 7. How can i add pages to my PDF document without using pdfDocumet.copyPages(...) or PDFmerger in itext 7.</p>\n\n<pre><code>        PdfDocument pdfDoc = new PdfDocument(new PdfWriter(dest));      \n        pdfDoc.addNewPage();\n        Document PageOnedocument = new Document(pdfDoc,PageSize.A4);            \n        addPageOneContents(PageOnedocument);  \n\n\n        pdfDoc.addNewPage();\n        Document PageTwodocument = new Document(pdfDoc,PageSize.A4);            \n        addPageTwoContents(PageTwodocument);  \n\n        pdfDoc.close();\n        PageOnedocument.close();\n        PageTwodocument.close();\n</code></pre>\n"},{"tags":["java","apache-spark","minio"],"comments":[{"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"score":0,"creation_date":1699882955,"post_id":77464170,"comment_id":136582990,"body_markdown":"check the clocks are in sync. stores generally reject calls where the signing timestamp is too old, to defend against replay attacks.","body":"check the clocks are in sync. stores generally reject calls where the signing timestamp is too old, to defend against replay attacks."},{"owner":{"account_id":5681691,"reputation":373,"user_id":4492655,"accept_rate":80,"display_name":"VGH"},"score":0,"creation_date":1700112789,"post_id":77464170,"comment_id":136615352,"body_markdown":"@stevel thanks for the reply. However I was trying different things in the minikube and had to delete minio pod which was running on my local system. With the new pod writing to minio is working fine. If I get same error again will check whether clocks are in sync.","body":"@stevel thanks for the reply. However I was trying different things in the minikube and had to delete minio pod which was running on my local system. With the new pod writing to minio is working fine. If I get same error again will check whether clocks are in sync."}],"owner":{"account_id":5681691,"reputation":373,"user_id":4492655,"accept_rate":80,"display_name":"VGH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699685781,"creation_date":1699685781,"question_id":77464170,"body_markdown":"I&#39;m connecting to **MinIO** from spark Java code\r\n\r\n    static void minIOReadWriteTester()\r\n         {\r\n        \t SparkSession spark = SparkSession.builder()\r\n    \t                .appName(&quot;spark-with-nats&quot;)\r\n    \t                .master(&quot;local&quot;)\r\n    \t                  .config(&quot;spark.jars&quot;,\r\n    \t                  &quot;libs/nats-spark-connector-balanced_2.12-1.1.4.jar,&quot;+&quot;libs/jnats-2.17.1.jar&quot;\r\n    \t                  )\r\n    \t                 .config(&quot;spark.sql.streaming.checkpointLocation&quot;,&quot;tmp/checkpoint&quot;)\r\n    \t      \t\t\t.config(&quot;fs.s3a.access.key&quot;, &quot;minioadmin&quot;)\r\n    \t      \t        .config(&quot;fs.s3a.secret.key&quot;, &quot;minioadmin&quot;)\r\n    \t      \t        .config(&quot;fs.s3a.endpoint&quot;, &quot;http://127.0.0.1:9000&quot;)\r\n    \t      \t        .config(&quot;fs.s3a.connection.ssl.enabled&quot;, &quot;true&quot;)\r\n    \t      \t        .config(&quot;fs.s3a.path.style.access&quot;, &quot;true&quot;)\r\n    \t      \t        .config(&quot;fs.s3a.attempts.maximum&quot;, &quot;1&quot;)\r\n    \t      \t        .config(&quot;fs.s3a.connection.establish.timeout&quot;, &quot;5000&quot;)\r\n    \t      \t        .config(&quot;fs.s3a.connection.timeout&quot;, &quot;10000&quot;)\r\n    \t      \t        .config(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\r\n    \t                  .getOrCreate();\r\n        \t\r\n    //    \t Dataset&lt;Row&gt; dftest = spark.read().load(&quot;s3a://testbucket/SampleFiles/output/parquet&quot;);\r\n    //    \t dftest.show();\r\n        \t\r\n        \t Dataset&lt;Row&gt; df = spark.readStream()\r\n    \t                .format(&quot;nats&quot;)\r\n    \t                .option(&quot;nats.host&quot;, &quot;localhost&quot;)\r\n    \t                .option(&quot;nats.port&quot;, 4222)\r\n    \t                .option(&quot;nats.stream.name&quot;, &quot;my_stream4&quot;)\r\n    \t                .option(&quot;nats.stream.subjects&quot;, &quot;mysub4&quot;)\r\n    \t                .option(&quot;nats.durable.name&quot;, &quot;my_consumer&quot;)\r\n    \t                // wait 90 seconds for an ack before resending a message\r\n    \t                .option(&quot;nats.msg.ack.wait.secs&quot;, 90)\r\n    \t                .load();\r\n    \t        System.out.println(&quot;Successfully read nats stream !&quot;);\r\n    \t        df.createOrReplaceTempView(&quot;natsmessages&quot;);\r\n    \t        Dataset&lt;Row&gt; filteredDf = spark.sql(&quot;select * from natsmessages&quot;);\r\n    \t       \r\n    \t        StreamingQuery query;\r\n    \t        try {\r\n    \t            query = filteredDf\r\n    \t            \t\t  .writeStream()\r\n    \t                      .outputMode(&quot;append&quot;)\r\n    \t                      .format(&quot;parquet&quot;)\r\n    \t                      .option(&quot;truncate&quot;, false)\r\n    \t                      .option(&quot;path&quot;, &quot;s3a://testbucket/SampleFiles/output/parquet&quot;)\r\n    \t                      .start();\r\n    \t            query.awaitTermination();\r\n    \t        } catch (Exception e) {\r\n    \t            e.printStackTrace();\r\n    \t        }\r\n         }\r\n\r\n**This code was working yesterday** . Without any code changes it started giving java.nio.file.AccessDeniedException !\r\n\r\n    java.nio.file.AccessDeniedException: s3a://testbucket/SampleFiles/output/parquet/_spark_metadata: getFileStatus on s3a://testbucket/SampleFiles/output/parquet/_spark_metadata: com.amazonaws.services.s3.model.AmazonS3Exception: Forbidden (Service: Amazon S3; Status Code: 403; Error Code: 403 Forbidden; Request ID: 1796779F1EDE98D3; S3 Extended Request ID: dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8; Proxy: null), S3 Extended Request ID: dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8:403 Forbidden\r\n\tat org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:255)\r\n\tat org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:175)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.s3GetFileStatus(S3AFileSystem.java:3796)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.innerGetFileStatus(S3AFileSystem.java:3688)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.lambda$getFileStatus$24(S3AFileSystem.java:3556)\r\n\tat org.apache.hadoop.fs.statistics.impl.IOStatisticsBinding.lambda$trackDurationOfOperation$5(IOStatisticsBinding.java:499)\r\n\tat org.apache.hadoop.fs.statistics.impl.IOStatisticsBinding.trackDuration(IOStatisticsBinding.java:444)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.trackDurationAndSpan(S3AFileSystem.java:2337)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.trackDurationAndSpan(S3AFileSystem.java:2356)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.getFileStatus(S3AFileSystem.java:3554)\r\n\tat org.apache.hadoop.fs.DelegateToFileSystem.getFileStatus(DelegateToFileSystem.java:128)\r\n\tat org.apache.hadoop.fs.FileContext$15.next(FileContext.java:1247)\r\n\tat org.apache.hadoop.fs.FileContext$15.next(FileContext.java:1243)\r\n\tat org.apache.hadoop.fs.FSLinkResolver.resolve(FSLinkResolver.java:90)\r\n\tat org.apache.hadoop.fs.FileContext.getFileStatus(FileContext.java:1249)\r\n\tat org.apache.hadoop.fs.FileContext$Util.exists(FileContext.java:1747)\r\n\tat org.apache.spark.sql.execution.streaming.FileContextBasedCheckpointFileManager.exists(CheckpointFileManager.scala:341)\r\n\tat org.apache.spark.sql.execution.streaming.HDFSMetadataLog.&lt;init&gt;(HDFSMetadataLog.scala:63)\r\n\tat org.apache.spark.sql.execution.streaming.CompactibleFileStreamLog.&lt;init&gt;(CompactibleFileStreamLog.scala:48)\r\n\tat org.apache.spark.sql.execution.streaming.FileStreamSinkLog.&lt;init&gt;(FileStreamSinkLog.scala:86)\r\n\tat org.apache.spark.sql.execution.streaming.FileStreamSink.&lt;init&gt;(FileStreamSink.scala:139)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource.createSink(DataSource.scala:326)\r\n\tat org.apache.spark.sql.streaming.DataStreamWriter.createV1Sink(DataStreamWriter.scala:436)\r\n\tat org.apache.spark.sql.streaming.DataStreamWriter.startInternal(DataStreamWriter.scala:403)\r\n\tat org.apache.spark.sql.streaming.DataStreamWriter.start(DataStreamWriter.scala:249)\r\n\r\nInterestingly If I uncomment reading file from minio code, above code won&#39;t give any error and works as expected! ( both reading and writing from MinIO works)\r\n     \t \r\n\r\n    Dataset&lt;Row&gt; dftest = spark.read().load(&quot;s3a://testbucket/SampleFiles/output/parquet&quot;);\r\n\r\n Not sure how working code which was working yesterday started giving this error without any code changes ! And moreover if I keep file reading code and after that if I write file to MinIO it works ! Not able to understand this strange behavior. \r\n I&#39;m running my spark Java Code locally on my windows machine and MinIO is running on my local Kubernetes ( minikube)\r\nNot just with spark streaming, tried to save a normal csv file on MinIO even then it&#39;s not working.Any idea how to fix this error ?","title":"Writing file to MinIO from Spark Java code gives an error","body":"<p>I'm connecting to <strong>MinIO</strong> from spark Java code</p>\n<pre><code>static void minIOReadWriteTester()\n     {\n         SparkSession spark = SparkSession.builder()\n                    .appName(&quot;spark-with-nats&quot;)\n                    .master(&quot;local&quot;)\n                      .config(&quot;spark.jars&quot;,\n                      &quot;libs/nats-spark-connector-balanced_2.12-1.1.4.jar,&quot;+&quot;libs/jnats-2.17.1.jar&quot;\n                      )\n                     .config(&quot;spark.sql.streaming.checkpointLocation&quot;,&quot;tmp/checkpoint&quot;)\n                    .config(&quot;fs.s3a.access.key&quot;, &quot;minioadmin&quot;)\n                    .config(&quot;fs.s3a.secret.key&quot;, &quot;minioadmin&quot;)\n                    .config(&quot;fs.s3a.endpoint&quot;, &quot;http://127.0.0.1:9000&quot;)\n                    .config(&quot;fs.s3a.connection.ssl.enabled&quot;, &quot;true&quot;)\n                    .config(&quot;fs.s3a.path.style.access&quot;, &quot;true&quot;)\n                    .config(&quot;fs.s3a.attempts.maximum&quot;, &quot;1&quot;)\n                    .config(&quot;fs.s3a.connection.establish.timeout&quot;, &quot;5000&quot;)\n                    .config(&quot;fs.s3a.connection.timeout&quot;, &quot;10000&quot;)\n                    .config(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\n                      .getOrCreate();\n        \n//       Dataset&lt;Row&gt; dftest = spark.read().load(&quot;s3a://testbucket/SampleFiles/output/parquet&quot;);\n//       dftest.show();\n        \n         Dataset&lt;Row&gt; df = spark.readStream()\n                    .format(&quot;nats&quot;)\n                    .option(&quot;nats.host&quot;, &quot;localhost&quot;)\n                    .option(&quot;nats.port&quot;, 4222)\n                    .option(&quot;nats.stream.name&quot;, &quot;my_stream4&quot;)\n                    .option(&quot;nats.stream.subjects&quot;, &quot;mysub4&quot;)\n                    .option(&quot;nats.durable.name&quot;, &quot;my_consumer&quot;)\n                    // wait 90 seconds for an ack before resending a message\n                    .option(&quot;nats.msg.ack.wait.secs&quot;, 90)\n                    .load();\n            System.out.println(&quot;Successfully read nats stream !&quot;);\n            df.createOrReplaceTempView(&quot;natsmessages&quot;);\n            Dataset&lt;Row&gt; filteredDf = spark.sql(&quot;select * from natsmessages&quot;);\n           \n            StreamingQuery query;\n            try {\n                query = filteredDf\n                          .writeStream()\n                          .outputMode(&quot;append&quot;)\n                          .format(&quot;parquet&quot;)\n                          .option(&quot;truncate&quot;, false)\n                          .option(&quot;path&quot;, &quot;s3a://testbucket/SampleFiles/output/parquet&quot;)\n                          .start();\n                query.awaitTermination();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n     }\n</code></pre>\n<p><strong>This code was working yesterday</strong> . Without any code changes it started giving java.nio.file.AccessDeniedException !</p>\n<pre><code>java.nio.file.AccessDeniedException: s3a://testbucket/SampleFiles/output/parquet/_spark_metadata: getFileStatus on s3a://testbucket/SampleFiles/output/parquet/_spark_metadata: com.amazonaws.services.s3.model.AmazonS3Exception: Forbidden (Service: Amazon S3; Status Code: 403; Error Code: 403 Forbidden; Request ID: 1796779F1EDE98D3; S3 Extended Request ID: dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8; Proxy: null), S3 Extended Request ID: dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8:403 Forbidden\nat org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:255)\nat org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:175)\nat org.apache.hadoop.fs.s3a.S3AFileSystem.s3GetFileStatus(S3AFileSystem.java:3796)\nat org.apache.hadoop.fs.s3a.S3AFileSystem.innerGetFileStatus(S3AFileSystem.java:3688)\nat org.apache.hadoop.fs.s3a.S3AFileSystem.lambda$getFileStatus$24(S3AFileSystem.java:3556)\nat org.apache.hadoop.fs.statistics.impl.IOStatisticsBinding.lambda$trackDurationOfOperation$5(IOStatisticsBinding.java:499)\nat org.apache.hadoop.fs.statistics.impl.IOStatisticsBinding.trackDuration(IOStatisticsBinding.java:444)\nat org.apache.hadoop.fs.s3a.S3AFileSystem.trackDurationAndSpan(S3AFileSystem.java:2337)\nat org.apache.hadoop.fs.s3a.S3AFileSystem.trackDurationAndSpan(S3AFileSystem.java:2356)\nat org.apache.hadoop.fs.s3a.S3AFileSystem.getFileStatus(S3AFileSystem.java:3554)\nat org.apache.hadoop.fs.DelegateToFileSystem.getFileStatus(DelegateToFileSystem.java:128)\nat org.apache.hadoop.fs.FileContext$15.next(FileContext.java:1247)\nat org.apache.hadoop.fs.FileContext$15.next(FileContext.java:1243)\nat org.apache.hadoop.fs.FSLinkResolver.resolve(FSLinkResolver.java:90)\nat org.apache.hadoop.fs.FileContext.getFileStatus(FileContext.java:1249)\nat org.apache.hadoop.fs.FileContext$Util.exists(FileContext.java:1747)\nat org.apache.spark.sql.execution.streaming.FileContextBasedCheckpointFileManager.exists(CheckpointFileManager.scala:341)\nat org.apache.spark.sql.execution.streaming.HDFSMetadataLog.&lt;init&gt;(HDFSMetadataLog.scala:63)\nat org.apache.spark.sql.execution.streaming.CompactibleFileStreamLog.&lt;init&gt;(CompactibleFileStreamLog.scala:48)\nat org.apache.spark.sql.execution.streaming.FileStreamSinkLog.&lt;init&gt;(FileStreamSinkLog.scala:86)\nat org.apache.spark.sql.execution.streaming.FileStreamSink.&lt;init&gt;(FileStreamSink.scala:139)\nat org.apache.spark.sql.execution.datasources.DataSource.createSink(DataSource.scala:326)\nat org.apache.spark.sql.streaming.DataStreamWriter.createV1Sink(DataStreamWriter.scala:436)\nat org.apache.spark.sql.streaming.DataStreamWriter.startInternal(DataStreamWriter.scala:403)\nat org.apache.spark.sql.streaming.DataStreamWriter.start(DataStreamWriter.scala:249)\n</code></pre>\n<p>Interestingly If I uncomment reading file from minio code, above code won't give any error and works as expected! ( both reading and writing from MinIO works)</p>\n<pre><code>Dataset&lt;Row&gt; dftest = spark.read().load(&quot;s3a://testbucket/SampleFiles/output/parquet&quot;);\n</code></pre>\n<p>Not sure how working code which was working yesterday started giving this error without any code changes ! And moreover if I keep file reading code and after that if I write file to MinIO it works ! Not able to understand this strange behavior.\nI'm running my spark Java Code locally on my windows machine and MinIO is running on my local Kubernetes ( minikube)\nNot just with spark streaming, tried to save a normal csv file on MinIO even then it's not working.Any idea how to fix this error ?</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":7152403,"reputation":12017,"user_id":5465973,"accept_rate":57,"display_name":"Pierre B."},"score":0,"creation_date":1511347693,"post_id":47432047,"comment_id":81819646,"body_markdown":"In your build log: `unexpected end of stream on Connection{repo.maven.apache.org:443` Do you or your company network have some kind of proxy configured? That may cause your issue. Search for Maven proxy issues you&#39;ll have plenty of resources.","body":"In your build log: <code>unexpected end of stream on Connection{repo.maven.apache.org:443</code> Do you or your company network have some kind of proxy configured? That may cause your issue. Search for Maven proxy issues you&#39;ll have plenty of resources."}],"answers":[{"tags":[],"owner":{"account_id":5405393,"reputation":11,"user_id":4304081,"display_name":"Angel Brun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511370369,"creation_date":1511370369,"answer_id":47440312,"question_id":47432047,"body_markdown":"The problem probably occurs by proxy configuration (as Pierre B. mentions)\r\n\r\nCreate a maven project on my dev and install your pom.\r\nIt ended successfully.\r\n\r\nIDE:Luna Service Release 2 (4.4.2) Build id: 20150219-0600\r\nMAVEN Version:apache-maven-3.3.3\r\nJDK:java version &quot;1.8.0_131&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\r\n\r\nnote: remember to configure the maven file: **settingsProxy.xml** inside the conf folder inside the maven installation and configure it in the case of using eclipse path: windows-preferences-Maven-User Settings\r\n\r\nCopy result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/59wn4.jpg","title":"Unresolveable build extension: or one of its dependencies could not be resolved: Failed to read artifact descriptor","body":"<p>The problem probably occurs by proxy configuration (as Pierre B. mentions)</p>\n\n<p>Create a maven project on my dev and install your pom.\nIt ended successfully.</p>\n\n<p>IDE:Luna Service Release 2 (4.4.2) Build id: 20150219-0600\nMAVEN Version:apache-maven-3.3.3\nJDK:java version \"1.8.0_131\"\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)</p>\n\n<p>note: remember to configure the maven file: <strong>settingsProxy.xml</strong> inside the conf folder inside the maven installation and configure it in the case of using eclipse path: windows-preferences-Maven-User Settings</p>\n\n<p>Copy result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/59wn4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/59wn4.jpg\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":9763101,"reputation":101,"user_id":7237555,"accept_rate":27,"display_name":"Albertus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9937,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699682500,"creation_date":1511345807,"question_id":47432047,"body_markdown":"I have a problem with run the maven install. when I imported the project, pom.xml file show an error:\r\n\r\n&gt; Multiple annotations found at this line:\r\n&gt; \t- Project build error: Unresolveable build extension: Plugin org.apache.felix:maven-bundle-plugin:2.3.7 or one of its dependencies\r\n&gt; could not be resolved: Failed  \t to read artifact descriptor for\r\n&gt; org.apache.felix:maven-bundle-plugin:jar:2.3.7\r\n&gt; \t- Error resolving version for plugin &#39;org.apache.maven.plugins:maven-site-plugin&#39; from the repositories\r\n&gt; [local (C:\\Users\\c76266\\.m2\\repository),  \t release.fusesource.org\r\n&gt; (http://repo.fusesource.com/nexus/content/repositories/releases),\r\n&gt; ea.fusesource.org\r\n&gt; (http://repo.fusesource.com/nexus/content/groups/ea),  \t central\r\n&gt; (https://repo.maven.apache.org/maven2)]: Plugin not found in any\r\n&gt; plugin repository\r\n\r\nI had updated project and this step cannot solving this problem. when I run maven install or clean show an error:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/felix/maven-bundle-plugin/2.3.7/maven-bundle-plugin-2.3.7.pom\r\n    [ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n    [ERROR] Unresolveable build extension: Plugin org.apache.felix:maven-bundle-plugin:2.3.7 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.felix:maven-bundle-plugin:jar:2.3.7 @ \r\n    [ERROR] Unknown packaging: bundle @ line 9, column 13\r\n     @ \r\n    [ERROR] The build could not read 1 project -&gt; [Help 1]\r\n    [ERROR]   \r\n    [ERROR]   The project com.prudential.integration.middleware:crm-services:1.0.0-SNAPSHOT (C:\\Users\\c76266\\Documents\\workspace-sts-3.8.3.RELEASE\\crm-services\\pom.xml) has 2 errors\r\n    [ERROR]     Unresolveable build extension: Plugin org.apache.felix:maven-bundle-plugin:2.3.7 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.felix:maven-bundle-plugin:jar:2.3.7: Could not transfer artifact org.apache.felix:maven-bundle-plugin:pom:2.3.7 from/to central (https://repo.maven.apache.org/maven2): unexpected end of stream on Connection{repo.maven.apache.org:443, proxy=HTTP @ /10.171.74.5:8080 hostAddress=10.171.74.5 cipherSuite=none protocol=http/1.1} (recycle count=0): \\n not found: size=0 content=... -&gt; [Help 2]\r\n    [ERROR]     Unknown packaging: bundle @ line 9, column 13\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n    [ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/PluginManagerException\r\n\r\nHow to fixed this problem? below my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.prudential.integration.middleware&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;crm-services&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;bundle&lt;/packaging&gt;\r\n    \t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \t&lt;name&gt;CRM SERVICES&lt;/name&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;release.fusesource.org&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;FuseSource Release Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://repo.fusesource.com/nexus/content/repositories/releases&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;ea.fusesource.org&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;FuseSource Community Early Access Release Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://repo.fusesource.com/nexus/content/groups/ea&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;release.fusesource.org&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;FuseSource Release Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://repo.fusesource.com/nexus/content/repositories/releases&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;ea.fusesource.org&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;FuseSource Community Early Access Release Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://repo.fusesource.com/nexus/content/groups/ea&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-jaxb&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-mail&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-cxf&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;asm&lt;/groupId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.4.redhat-620133&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cxf-rt-transports-http-jetty&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.4.redhat-620133&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-email&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Database --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;camel-sql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.microsoft.sqlserver.jdbc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;sqlserverjdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;9.1-901-1.jdbc4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- logging --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.7.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.7.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.prudential.integration.middleware&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;common-utilities&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.prudential.integration.middleware.common&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;prudential-fuse-common-dao&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.prudential.integration.middleware.common&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;prudential-fuse-common-model&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.prudential.enc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;pruencutil&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\r\n    \r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;!-- allows the route to be ran via &#39;mvn camel:run&#39; --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;camel-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;!-- to generate the MANIFEST-FILE of the bundle --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.3.7&lt;/version&gt;\r\n    \t\t\t\t&lt;extensions&gt;true&lt;/extensions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;instructions&gt;\r\n    \t\t\t\t\t\t&lt;Bundle-SymbolicName&gt;crm-service&lt;/Bundle-SymbolicName&gt;\r\n    \t\t\t\t\t\t&lt;Export-Package /&gt;\r\n    \t\t\t\t\t\t&lt;Import-Package&gt;*&lt;/Import-Package&gt;\r\n    \t\t\t\t\t\t&lt;Embed-Dependency&gt;sqlserverjdbc,commons-lang3,commons-dbcp,commons-codec,commons-email,postgresql,pruencutil&lt;/Embed-Dependency&gt;\r\n    \t\t\t\t\t&lt;/instructions&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Unresolveable build extension: or one of its dependencies could not be resolved: Failed to read artifact descriptor","body":"<p>I have a problem with run the maven install. when I imported the project, pom.xml file show an error:</p>\n\n<blockquote>\n  <p>Multiple annotations found at this line:\n    - Project build error: Unresolveable build extension: Plugin org.apache.felix:maven-bundle-plugin:2.3.7 or one of its dependencies\n  could not be resolved: Failed      to read artifact descriptor for\n  org.apache.felix:maven-bundle-plugin:jar:2.3.7\n    - Error resolving version for plugin 'org.apache.maven.plugins:maven-site-plugin' from the repositories\n  [local (C:\\Users\\c76266.m2\\repository),       release.fusesource.org\n  (<a href=\"http://repo.fusesource.com/nexus/content/repositories/releases\" rel=\"nofollow noreferrer\">http://repo.fusesource.com/nexus/content/repositories/releases</a>),\n  ea.fusesource.org\n  (<a href=\"http://repo.fusesource.com/nexus/content/groups/ea\" rel=\"nofollow noreferrer\">http://repo.fusesource.com/nexus/content/groups/ea</a>),      central\n  (<a href=\"https://repo.maven.apache.org/maven2)]\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2)]</a>: Plugin not found in any\n  plugin repository</p>\n</blockquote>\n\n<p>I had updated project and this step cannot solving this problem. when I run maven install or clean show an error:</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/felix/maven-bundle-plugin/2.3.7/maven-bundle-plugin-2.3.7.pom\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[ERROR] Unresolveable build extension: Plugin org.apache.felix:maven-bundle-plugin:2.3.7 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.felix:maven-bundle-plugin:jar:2.3.7 @ \n[ERROR] Unknown packaging: bundle @ line 9, column 13\n @ \n[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]   \n[ERROR]   The project com.prudential.integration.middleware:crm-services:1.0.0-SNAPSHOT (C:\\Users\\c76266\\Documents\\workspace-sts-3.8.3.RELEASE\\crm-services\\pom.xml) has 2 errors\n[ERROR]     Unresolveable build extension: Plugin org.apache.felix:maven-bundle-plugin:2.3.7 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.felix:maven-bundle-plugin:jar:2.3.7: Could not transfer artifact org.apache.felix:maven-bundle-plugin:pom:2.3.7 from/to central (https://repo.maven.apache.org/maven2): unexpected end of stream on Connection{repo.maven.apache.org:443, proxy=HTTP @ /10.171.74.5:8080 hostAddress=10.171.74.5 cipherSuite=none protocol=http/1.1} (recycle count=0): \\n not found: size=0 content=... -&gt; [Help 2]\n[ERROR]     Unknown packaging: bundle @ line 9, column 13\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/PluginManagerException\n</code></pre>\n\n<p>How to fixed this problem? below my pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.prudential.integration.middleware&lt;/groupId&gt;\n    &lt;artifactId&gt;crm-services&lt;/artifactId&gt;\n    &lt;packaging&gt;bundle&lt;/packaging&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;CRM SERVICES&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;release.fusesource.org&lt;/id&gt;\n            &lt;name&gt;FuseSource Release Repository&lt;/name&gt;\n            &lt;url&gt;http://repo.fusesource.com/nexus/content/repositories/releases&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;ea.fusesource.org&lt;/id&gt;\n            &lt;name&gt;FuseSource Community Early Access Release Repository&lt;/name&gt;\n            &lt;url&gt;http://repo.fusesource.com/nexus/content/groups/ea&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;release.fusesource.org&lt;/id&gt;\n            &lt;name&gt;FuseSource Release Repository&lt;/name&gt;\n            &lt;url&gt;http://repo.fusesource.com/nexus/content/repositories/releases&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;ea.fusesource.org&lt;/id&gt;\n            &lt;name&gt;FuseSource Community Early Access Release Repository&lt;/name&gt;\n            &lt;url&gt;http://repo.fusesource.com/nexus/content/groups/ea&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-core&lt;/artifactId&gt;\n            &lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-jaxb&lt;/artifactId&gt;\n            &lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-jackson&lt;/artifactId&gt;\n            &lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-mail&lt;/artifactId&gt;\n            &lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-cxf&lt;/artifactId&gt;\n            &lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;asm&lt;/artifactId&gt;\n                    &lt;groupId&gt;asm&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4.redhat-620133&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-transports-http-jetty&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4.redhat-620133&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-email&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Database --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-sql&lt;/artifactId&gt;\n            &lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlserverjdbc&lt;/artifactId&gt;\n            &lt;version&gt;4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;9.1-901-1.jdbc4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.7.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.prudential.integration.middleware&lt;/groupId&gt;\n            &lt;artifactId&gt;common-utilities&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.prudential.integration.middleware.common&lt;/groupId&gt;\n            &lt;artifactId&gt;prudential-fuse-common-dao&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.prudential.integration.middleware.common&lt;/groupId&gt;\n            &lt;artifactId&gt;prudential-fuse-common-model&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.prudential.enc&lt;/groupId&gt;\n            &lt;artifactId&gt;pruencutil&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- allows the route to be ran via 'mvn camel:run' --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n                &lt;artifactId&gt;camel-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.15.1.redhat-620133&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- to generate the MANIFEST-FILE of the bundle --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.7&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;configuration&gt;\n                    &lt;instructions&gt;\n                        &lt;Bundle-SymbolicName&gt;crm-service&lt;/Bundle-SymbolicName&gt;\n                        &lt;Export-Package /&gt;\n                        &lt;Import-Package&gt;*&lt;/Import-Package&gt;\n                        &lt;Embed-Dependency&gt;sqlserverjdbc,commons-lang3,commons-dbcp,commons-codec,commons-email,postgresql,pruencutil&lt;/Embed-Dependency&gt;\n                    &lt;/instructions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1400276118,"post_id":23704723,"comment_id":36427838,"body_markdown":"Basically the same way you opened the first window... Can you show us what you have tried?","body":"Basically the same way you opened the first window... Can you show us what you have tried?"},{"owner":{"account_id":4482487,"reputation":11,"user_id":3646204,"display_name":"user3646204"},"score":0,"creation_date":1400291422,"post_id":23704723,"comment_id":36431448,"body_markdown":"This is how I have my first window set up\n\n\t@Override\n\tpublic void start(Stage primaryStage) throws Exception \n\t{\n\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;Main.fxml&quot;));\n\t\tScene scene = new Scene(root);\n\t\t\n\t\tprimaryStage.setResizable(false);\n\t\tprimaryStage.setScene(scene);\n\t\tprimaryStage.setTitle(&quot;Hello World!&quot;);\n\t\tprimaryStage.show();\n\t}\n\nSo I could copy that but change the values for my new window? Then how would I link that for my button? I&#39;ve tried some Event handlers but to no avail.","body":"This is how I have my first window set up  \t@Override \tpublic void start(Stage primaryStage) throws Exception  \t{ \t\tParent root = FXMLLoader.load(getClass().getResource(&quot;Main.fxml&quot;)); \t\tScene scene = new Scene(root); \t\t \t\tprimaryStage.setResizable(false); \t\tprimaryStage.setScene(scene); \t\tprimaryStage.setTitle(&quot;Hello World!&quot;); \t\tprimaryStage.show(); \t}  So I could copy that but change the values for my new window? Then how would I link that for my button? I&#39;ve tried some Event handlers but to no avail."},{"owner":{"account_id":4482487,"reputation":11,"user_id":3646204,"display_name":"user3646204"},"score":0,"creation_date":1400291954,"post_id":23704723,"comment_id":36431527,"body_markdown":"Sorry, didn&#39;t know comments can&#39;t have code snippets, I will properly code this in an answer when my 8 hours limit is up","body":"Sorry, didn&#39;t know comments can&#39;t have code snippets, I will properly code this in an answer when my 8 hours limit is up"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1400295287,"post_id":23704723,"comment_id":36431921,"body_markdown":"(I edited your question and added your code: go ahead and delete your comments to keep this cleaner.)","body":"(I edited your question and added your code: go ahead and delete your comments to keep this cleaner.)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1400295377,"post_id":23704723,"comment_id":36431937,"body_markdown":"Can you show the code for the event handler you tried? You basically just create a new Stage and then do exactly what you do for your primary stage in the start method.","body":"Can you show the code for the event handler you tried? You basically just create a new Stage and then do exactly what you do for your primary stage in the start method."}],"answers":[{"tags":[],"owner":{"account_id":2701814,"reputation":7439,"user_id":2332384,"accept_rate":68,"display_name":"Mateus Viccari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400470255,"creation_date":1400470255,"answer_id":23729320,"question_id":23704723,"body_markdown":"If you are using FXML, on the button there is a property called onAction. You can find it on the &quot;Code&quot; section in scene builder, or directly on the .fxml file.\r\nThere you just type the name of a method.\r\n\r\nThen, you need to create this method in the controller class of your scene. If you have not created a controller for your scene, you just need to set the property &quot;controller&quot; in your scene&#39;s root element, just like you did with the onAction of the button.\r\n\r\nIn the method you have created, you just type the code to open the new scene, something like this:\r\n\r\n    FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/org/yourcompanyname/yourapplicationname/layouts/nameOfYourFxmlFile.fxml&quot;));\r\n    Parent root = fxmlLoader.load();\r\n    Stage stage = new Stage();\r\n    stage.initModality(Modality.APPLICATION_MODAL);\r\n    stage.setOpacity(1);\r\n    stage.setTitle(&quot;My New Stage Title&quot;);\r\n    stage.setScene(new Scene(root, 450, 450));\r\n    stage.showAndWait();","title":"In JavaFX &amp; Scene Builder, how do I open a new window when clicking a button?","body":"<p>If you are using FXML, on the button there is a property called onAction. You can find it on the \"Code\" section in scene builder, or directly on the .fxml file.\nThere you just type the name of a method.</p>\n\n<p>Then, you need to create this method in the controller class of your scene. If you have not created a controller for your scene, you just need to set the property \"controller\" in your scene's root element, just like you did with the onAction of the button.</p>\n\n<p>In the method you have created, you just type the code to open the new scene, something like this:</p>\n\n<pre><code>FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(\"/org/yourcompanyname/yourapplicationname/layouts/nameOfYourFxmlFile.fxml\"));\nParent root = fxmlLoader.load();\nStage stage = new Stage();\nstage.initModality(Modality.APPLICATION_MODAL);\nstage.setOpacity(1);\nstage.setTitle(\"My New Stage Title\");\nstage.setScene(new Scene(root, 450, 450));\nstage.showAndWait();\n</code></pre>\n"}],"owner":{"account_id":4482487,"reputation":11,"user_id":3646204,"display_name":"user3646204"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12547,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1699682500,"creation_date":1400275236,"question_id":23704723,"body_markdown":"I&#39;ve already got the FXML file for the second window, and I&#39;m lost from here. How do I get my program to open the new window and FXML after I press a button?\r\n\r\nThis is how I have my first window set up \r\n\r\n    @Override \r\n    public void start(Stage primaryStage) throws Exception { \r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;Main.fxml&quot;)); \r\n        Scene scene = new Scene(root); primaryStage.setResizable(false);    \r\n        primaryStage.setScene(scene); \r\n        primaryStage.setTitle(&quot;Hello World!&quot;); \r\n        primaryStage.show(); \r\n    } \r\n\r\nSo I could copy that but change the values for my new window? Then how would I link that for my button? I&#39;ve tried some Event handlers but to no avail.","title":"In JavaFX &amp; Scene Builder, how do I open a new window when clicking a button?","body":"<p>I've already got the FXML file for the second window, and I'm lost from here. How do I get my program to open the new window and FXML after I press a button?</p>\n\n<p>This is how I have my first window set up </p>\n\n<pre><code>@Override \npublic void start(Stage primaryStage) throws Exception { \n    Parent root = FXMLLoader.load(getClass().getResource(\"Main.fxml\")); \n    Scene scene = new Scene(root); primaryStage.setResizable(false);    \n    primaryStage.setScene(scene); \n    primaryStage.setTitle(\"Hello World!\"); \n    primaryStage.show(); \n} \n</code></pre>\n\n<p>So I could copy that but change the values for my new window? Then how would I link that for my button? I've tried some Event handlers but to no avail.</p>\n"},{"tags":["java","mysql","minecraft","bungeecord"],"answers":[{"tags":[],"owner":{"account_id":26108999,"reputation":52,"user_id":19803256,"display_name":"Linus Groschke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699680829,"creation_date":1661087319,"answer_id":73434710,"question_id":73434331,"body_markdown":"I&#39;d suggest you to learn more about the basics of programming in Java! Minecraft is a great way to start into programming, but you should be interested in doing things properly.\r\n\r\n``` lang-java\r\npublic static boolean hasGuild(String name) {\r\n        PreparedStatement statement = null;\r\n        ResultSet resultSet = null;\r\n        try {\r\n            statement = connection.prepareStatement(&quot;SELECT COUNT(name) FROM guild WHERE name = ?&quot;);\r\n            statement.setString(1, name);\r\n\r\n            resultSet = statement.executeQuery();\r\n            if (resultSet.next()) return resultSet.getInt(1) &gt; 0;\r\n        } catch (SQLException e) {\r\n            // TODO properly handle exception\r\n        } finally {\r\n            if (resultSet != null) {\r\n                try {\r\n                    resultSet.close();\r\n                } catch (SQLException e) {\r\n                    // TODO properly handle exception\r\n                }\r\n            }\r\n\r\n            if (statement != null) {\r\n                try {\r\n                    statement.close();\r\n                } catch (SQLException e) {\r\n                    // TODO properly handle exception\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n```\r\n\r\nSome thoughts on what this code is doing:\r\n\r\n - Asking the database for the number of rows whose name column matches the given string. Always make sure that you only request the data that&#39;s necessary for your purpose. Requesting all columns with their data is overkill if you only want to answer if there are any rows or not.\r\n\r\n - If the number of rows is greater than zero, it&#39;ll return true, because there are rows with a matching name column.\r\n\r\nSome thoughts you should make yourself:\r\n\r\n - What is contained in the name column? If it&#39;s the guild&#39;s name, then that&#39;s fine, but if that&#39;s the player&#39;s name you should consider re-thinking your code. Player&#39;s in Minecraft can change their name and hence would lose their guild on your server. Players in Minecraft are uniquely identified by their UUID, which will never change. Maybe consider using the UUID then!\r\n\r\n - In order for the query to be as fast a possible you should set an INDEX on the name column. That will speed up the lookup proccess even if there are plenty of rows!","title":"check row if not exist mysql and got output to boolean bukkit","body":"<p>I'd suggest you to learn more about the basics of programming in Java! Minecraft is a great way to start into programming, but you should be interested in doing things properly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean hasGuild(String name) {\n        PreparedStatement statement = null;\n        ResultSet resultSet = null;\n        try {\n            statement = connection.prepareStatement(&quot;SELECT COUNT(name) FROM guild WHERE name = ?&quot;);\n            statement.setString(1, name);\n\n            resultSet = statement.executeQuery();\n            if (resultSet.next()) return resultSet.getInt(1) &gt; 0;\n        } catch (SQLException e) {\n            // TODO properly handle exception\n        } finally {\n            if (resultSet != null) {\n                try {\n                    resultSet.close();\n                } catch (SQLException e) {\n                    // TODO properly handle exception\n                }\n            }\n\n            if (statement != null) {\n                try {\n                    statement.close();\n                } catch (SQLException e) {\n                    // TODO properly handle exception\n                }\n            }\n        }\n        return false;\n    }\n</code></pre>\n<p>Some thoughts on what this code is doing:</p>\n<ul>\n<li><p>Asking the database for the number of rows whose name column matches the given string. Always make sure that you only request the data that's necessary for your purpose. Requesting all columns with their data is overkill if you only want to answer if there are any rows or not.</p>\n</li>\n<li><p>If the number of rows is greater than zero, it'll return true, because there are rows with a matching name column.</p>\n</li>\n</ul>\n<p>Some thoughts you should make yourself:</p>\n<ul>\n<li><p>What is contained in the name column? If it's the guild's name, then that's fine, but if that's the player's name you should consider re-thinking your code. Player's in Minecraft can change their name and hence would lose their guild on your server. Players in Minecraft are uniquely identified by their UUID, which will never change. Maybe consider using the UUID then!</p>\n</li>\n<li><p>In order for the query to be as fast a possible you should set an INDEX on the name column. That will speed up the lookup proccess even if there are plenty of rows!</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":26121316,"reputation":1,"user_id":19813560,"display_name":"ItDragClick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661402626,"creation_date":1661090152,"answer_id":73435130,"question_id":73434331,"body_markdown":"in the try, i try sout resultSet and statement before close and it send this to me\r\n\r\nresultSet :\r\n\r\n    com.mysql.cj.jdbc.ClientPreparedStatement: SELECT COUNT(name) FROM guild WHERE name = &#39;a&#39;\r\n\r\nstatement :\r\n\r\n    com.mysql.cj.jdbc.ClientPreparedStatement: SELECT COUNT(name) FROM guild WHERE name = ** NOT SPECIFIED **\r\n\r\nand return false is my test at last it will return true if it have if not it will return false\r\n","title":"check row if not exist mysql and got output to boolean bukkit","body":"<p>in the try, i try sout resultSet and statement before close and it send this to me</p>\n<p>resultSet :</p>\n<pre><code>com.mysql.cj.jdbc.ClientPreparedStatement: SELECT COUNT(name) FROM guild WHERE name = 'a'\n</code></pre>\n<p>statement :</p>\n<pre><code>com.mysql.cj.jdbc.ClientPreparedStatement: SELECT COUNT(name) FROM guild WHERE name = ** NOT SPECIFIED **\n</code></pre>\n<p>and return false is my test at last it will return true if it have if not it will return false</p>\n"}],"owner":{"account_id":26121316,"reputation":1,"user_id":19813560,"display_name":"ItDragClick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73434710,"answer_count":2,"score":-1,"last_activity_date":1699680829,"creation_date":1661084284,"question_id":73434331,"body_markdown":"I have tried this so many times but I never did it, this is my code\r\n\r\n    public static Boolean checkhaveguild(String name) {\r\n        try {\r\n            Statement statement = connection.createStatement();\r\n            PreparedStatement ps = connection.prepareStatement(&quot;SELECT * FROM guild&quot;);\r\n            System.out.println(statement.execute(&quot;SELECT * FROM guild WHERE name = &quot;+name+&quot;&quot;));\r\n            System.out.println(&quot;----------&quot;);\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return false;\r\n    }\r\n\r\nI am doing a guild plugin on BungeeCord and getting data from MySQL\r\nThe code is about checking if the row does not exist and output to boolean","title":"check row if not exist mysql and got output to boolean bukkit","body":"<p>I have tried this so many times but I never did it, this is my code</p>\n<pre><code>public static Boolean checkhaveguild(String name) {\n    try {\n        Statement statement = connection.createStatement();\n        PreparedStatement ps = connection.prepareStatement(&quot;SELECT * FROM guild&quot;);\n        System.out.println(statement.execute(&quot;SELECT * FROM guild WHERE name = &quot;+name+&quot;&quot;));\n        System.out.println(&quot;----------&quot;);\n    } catch (SQLException e) {\n        throw new RuntimeException(e);\n    }\n    return false;\n}\n</code></pre>\n<p>I am doing a guild plugin on BungeeCord and getting data from MySQL\nThe code is about checking if the row does not exist and output to boolean</p>\n"},{"tags":["java","spring","spring-boot","distributed-transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680784527,"post_id":75949411,"comment_id":133958588,"body_markdown":"The fact that it isn&#39;t in the dependencies doesn&#39;t mean you cannot use it.","body":"The fact that it isn&#39;t in the dependencies doesn&#39;t mean you cannot use it."},{"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"score":0,"creation_date":1680994697,"post_id":75949411,"comment_id":133988536,"body_markdown":"what do you mean ? I dont want to mix jakarta in new spring boot 3 vs javax in this old dependencies","body":"what do you mean ? I dont want to mix jakarta in new spring boot 3 vs javax in this old dependencies"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681026412,"post_id":75949411,"comment_id":133990744,"body_markdown":"Narayana has a Jakarta based implementation afaik whic you can use (manual configuration required) with Spring Boot. Which is what i meant, the fact that Sprng Boot doesn&#39;t provide management for something automatically doesn&#39;t mean it cannot be used. If it implements the proper interfaces you can add manual configuration.","body":"Narayana has a Jakarta based implementation afaik whic you can use (manual configuration required) with Spring Boot. Which is what i meant, the fact that Sprng Boot doesn&#39;t provide management for something automatically doesn&#39;t mean it cannot be used. If it implements the proper interfaces you can add manual configuration."},{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":0,"creation_date":1684238348,"post_id":75949411,"comment_id":134485610,"body_markdown":"There is now a `transactions-spring-boot3-starter` see also: https://www.atomikos.com/Blog/ReleasesCategory.","body":"There is now a <code>transactions-spring-boot3-starter</code> see also: <a href=\"https://www.atomikos.com/Blog/ReleasesCategory\" rel=\"nofollow noreferrer\">atomikos.com/Blog/ReleasesCategory</a>."}],"answers":[{"tags":[],"owner":{"account_id":5331841,"reputation":63,"user_id":4252229,"display_name":"simyaci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695159792,"creation_date":1695159792,"answer_id":77138113,"question_id":75949411,"body_markdown":"Spring had direct support for distributed transaction tools like Atomikos in the past. However, starting from Spring 3, this support has been discontinued, as indicated in the Spring Boot 3.0 Migration Guide. You can use followıng dependency. \r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.atomikos&lt;/groupId&gt;\r\n       &lt;artifactId&gt;transactions-spring-boot3-starter&lt;/artifactId&gt;\r\n       &lt;version&gt;6.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n       &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou can look at [here][1] for full code and article. \r\n\r\n\r\n  [1]: https://github.com/ahmetuygun/xa-demo","title":"How to replace atomikos in distributed transaction in spring boot 3","body":"<p>Spring had direct support for distributed transaction tools like Atomikos in the past. However, starting from Spring 3, this support has been discontinued, as indicated in the Spring Boot 3.0 Migration Guide. You can use followıng dependency.</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.atomikos&lt;/groupId&gt;\n   &lt;artifactId&gt;transactions-spring-boot3-starter&lt;/artifactId&gt;\n   &lt;version&gt;6.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n   &lt;artifactId&gt;jta&lt;/artifactId&gt;\n   &lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can look at <a href=\"https://github.com/ahmetuygun/xa-demo\" rel=\"nofollow noreferrer\">here</a> for full code and article.</p>\n"},{"tags":[],"owner":{"account_id":38554,"reputation":484,"user_id":110737,"display_name":"Guy Pardon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696934272,"creation_date":1696934272,"answer_id":77265036,"question_id":75949411,"body_markdown":"Courtesy of the Spring Boot team, Atomikos now includes its own starter project for spring boot - supporting both JakartaEE _and_ &quot;good old&quot; javax EE.\r\n\r\nJust check [the atomikos website][1] for the latest.\r\n\r\n\r\n  [1]: https://www.atomikos.com","title":"How to replace atomikos in distributed transaction in spring boot 3","body":"<p>Courtesy of the Spring Boot team, Atomikos now includes its own starter project for spring boot - supporting both JakartaEE <em>and</em> &quot;good old&quot; javax EE.</p>\n<p>Just check <a href=\"https://www.atomikos.com\" rel=\"nofollow noreferrer\">the atomikos website</a> for the latest.</p>\n"}],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699679740,"creation_date":1680783309,"question_id":75949411,"body_markdown":"I try to follow migration guide when atomikos was removed in spring boot 3:\r\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\r\n\r\nbut I can no see information about it. Other frameworks like [narayana][1] or bitronix is also not in spring boot dependencies.  \r\n\r\n\r\n  [1]: https://github.com/snowdrop/narayana-spring-boot/issues/95","title":"How to replace atomikos in distributed transaction in spring boot 3","body":"<p>I try to follow migration guide when atomikos was removed in spring boot 3:\n<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide</a></p>\n<p>but I can no see information about it. Other frameworks like <a href=\"https://github.com/snowdrop/narayana-spring-boot/issues/95\" rel=\"nofollow noreferrer\">narayana</a> or bitronix is also not in spring boot dependencies.</p>\n"},{"tags":["java","list","algorithm","optimization","multidimensional-array"],"comments":[{"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"score":0,"creation_date":1699620284,"post_id":77459697,"comment_id":136558101,"body_markdown":"What _will exceed at least 100,000_: the length of _a_, the lengths of _a1, a2, a3,..._, both? Same for _b_?","body":"What <i>will exceed at least 100,000</i>: the length of <i>a</i>, the lengths of <i>a1, a2, a3,...</i>, both? Same for <i>b</i>?"},{"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"score":0,"creation_date":1699620432,"post_id":77459697,"comment_id":136558125,"body_markdown":"How many different individual strings are in _b_? (In your example, there are four: a, d, c, x.)","body":"How many different individual strings are in <i>b</i>? (In your example, there are four: a, d, c, x.)"},{"owner":{"account_id":25998407,"reputation":13,"user_id":19709339,"display_name":"noen"},"score":0,"creation_date":1699621023,"post_id":77459697,"comment_id":136558226,"body_markdown":"a and b will be almost identical. However, the length of each item is mostly less than 10.\nThe string is just an example and could be in the thousands.\nMaybe there is no same string per item.","body":"a and b will be almost identical. However, the length of each item is mostly less than 10. The string is just an example and could be in the thousands. Maybe there is no same string per item."},{"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"score":0,"creation_date":1699622434,"post_id":77459697,"comment_id":136558500,"body_markdown":"I didn&#39;t ask about _same string per item_, but rather in the whole _b_ altogether, i. e. is there a considerable amount of strings occurring in multiple items of _b_ (as does `a` in your example)? - The answer must be yes, since you mention only thousands of strings and at least 100,000 items, right?","body":"I didn&#39;t ask about <i>same string per item</i>, but rather in the whole <i>b</i> altogether, i. e. is there a considerable amount of strings occurring in multiple items of <i>b</i> (as does <code>a</code> in your example)? - The answer must be yes, since you mention only thousands of strings and at least 100,000 items, right?"},{"owner":{"account_id":25998407,"reputation":13,"user_id":19709339,"display_name":"noen"},"score":0,"creation_date":1699624066,"post_id":77459697,"comment_id":136558801,"body_markdown":"right, My goal is to find all lists that contain at least one item.","body":"right, My goal is to find all lists that contain at least one item."},{"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"score":0,"creation_date":1699624753,"post_id":77459697,"comment_id":136558930,"body_markdown":"Your statement _My goal is to find all lists that contain at least one item_ is confusing, not only because it has nothing to do with my preceding question, but also since before you denoted as _item_ the things like _b1,b2,b3..._, i. e. _item_ is a list of strings. Did you rather mean _My goal is to find all lists that contain at least one string from an item_?","body":"Your statement <i>My goal is to find all lists that contain at least one item</i> is confusing, not only because it has nothing to do with my preceding question, but also since before you denoted as <i>item</i> the things like <i>b1,b2,b3...</i>, i. e. <i>item</i> is a list of strings. Did you rather mean <i>My goal is to find all lists that contain at least one string from an item</i>?"},{"owner":{"account_id":25998407,"reputation":13,"user_id":19709339,"display_name":"noen"},"score":1,"creation_date":1699625683,"post_id":77459697,"comment_id":136559107,"body_markdown":"Thanks for pointing this out, I&#39;ll modify it soon","body":"Thanks for pointing this out, I&#39;ll modify it soon"},{"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"score":0,"creation_date":1699626143,"post_id":77459697,"comment_id":136559193,"body_markdown":"No big deal, it was only a comment after all; the question itself seems clear enough in this respect.","body":"No big deal, it was only a comment after all; the question itself seems clear enough in this respect."}],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699678134,"creation_date":1699678134,"answer_id":77463929,"question_id":77459697,"body_markdown":"I&#39;m not sure that there is a way to reduce it to below `O(n^2)` but to reduce it to `O(n^2)` we can reduce `List.contains` `O(n)` by `HashMap.get` which is `O(1)` time complexity.\r\n\r\nThe suggestion is instead of checking `contains`, we find the indexes of elements in list `a`, and `b` elements will get that indexes and get the corresponding list of `a`. \r\n\r\nFirstly, build a `Map` containing elements of `a` as key and value as its indexes.\r\n```\r\n\r\n    Map&lt;String, Set&lt;Integer&gt;&gt; aInSet = new HashMap&lt;&gt;();\r\n    \r\n    for (int i = 0; i &lt; a.size(); i++) {\r\n        for (String elem : a.get(i)) {\r\n            Set&lt;Integer&gt; elementSet = aInSet.getOrDefault(elem, new HashSet&lt;&gt;());\r\n            elementSet.add(i);\r\n            aInSet.put(elem, elementSet);\r\n        }\r\n     }\r\n\r\n```\r\nHere is the output of `aInSet`, now we have the index list of elements belonging to.\r\n```\r\na=[0, 2], b=[0], c=[0], d=[1, 2], e=[1], f=[1, 2]\r\n```\r\nThen we combine the indexes of a list of elements in `b` to get the corresponding in `a`.\r\n\r\nEx for `[a, d]`, we have a combined set `[0, 1, 2]`. Here is the code\r\n```\r\n\r\n    Map&lt;List&lt;String&gt;, List&lt;List&lt;String&gt;&gt;&gt; result = new HashMap&lt;&gt;();\r\n\r\n    for (List&lt;String&gt; elem : b) {\r\n        Set&lt;Integer&gt; elemSet = new HashSet&lt;&gt;();\r\n        for (String elemB: elem) {\r\n            elemSet.addAll(aInSet.getOrDefault(elemB, new HashSet&lt;&gt;()));\r\n        }\r\n        List&lt;List&lt;String&gt;&gt; listContainElem = elemSet.stream()\r\n            .map(a::get)\r\n            .collect(Collectors.toList());\r\n        result.put(elem, listContainElem);\r\n    }\r\n\r\n```","title":"check duplication of two 2-dimensional-list algorithm?","body":"<p>I'm not sure that there is a way to reduce it to below <code>O(n^2)</code> but to reduce it to <code>O(n^2)</code> we can reduce <code>List.contains</code> <code>O(n)</code> by <code>HashMap.get</code> which is <code>O(1)</code> time complexity.</p>\n<p>The suggestion is instead of checking <code>contains</code>, we find the indexes of elements in list <code>a</code>, and <code>b</code> elements will get that indexes and get the corresponding list of <code>a</code>.</p>\n<p>Firstly, build a <code>Map</code> containing elements of <code>a</code> as key and value as its indexes.</p>\n<pre><code>\n    Map&lt;String, Set&lt;Integer&gt;&gt; aInSet = new HashMap&lt;&gt;();\n    \n    for (int i = 0; i &lt; a.size(); i++) {\n        for (String elem : a.get(i)) {\n            Set&lt;Integer&gt; elementSet = aInSet.getOrDefault(elem, new HashSet&lt;&gt;());\n            elementSet.add(i);\n            aInSet.put(elem, elementSet);\n        }\n     }\n\n</code></pre>\n<p>Here is the output of <code>aInSet</code>, now we have the index list of elements belonging to.</p>\n<pre><code>a=[0, 2], b=[0], c=[0], d=[1, 2], e=[1], f=[1, 2]\n</code></pre>\n<p>Then we combine the indexes of a list of elements in <code>b</code> to get the corresponding in <code>a</code>.</p>\n<p>Ex for <code>[a, d]</code>, we have a combined set <code>[0, 1, 2]</code>. Here is the code</p>\n<pre><code>\n    Map&lt;List&lt;String&gt;, List&lt;List&lt;String&gt;&gt;&gt; result = new HashMap&lt;&gt;();\n\n    for (List&lt;String&gt; elem : b) {\n        Set&lt;Integer&gt; elemSet = new HashSet&lt;&gt;();\n        for (String elemB: elem) {\n            elemSet.addAll(aInSet.getOrDefault(elemB, new HashSet&lt;&gt;()));\n        }\n        List&lt;List&lt;String&gt;&gt; listContainElem = elemSet.stream()\n            .map(a::get)\n            .collect(Collectors.toList());\n        result.put(elem, listContainElem);\n    }\n\n</code></pre>\n"}],"owner":{"account_id":25998407,"reputation":13,"user_id":19709339,"display_name":"noen"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77463929,"answer_count":1,"score":1,"last_activity_date":1699678134,"creation_date":1699616008,"question_id":77459697,"body_markdown":"Two List\\&lt;List\\&lt;string\\&gt;\\&gt; are given (referred to as a and b).\r\n\r\nit returns: Map\\&lt;List\\&lt;string\\&gt;, List\\&lt;List\\&lt;string\\&gt;\\&gt;\\&gt;\r\n\r\n- let the items of a, b them a1, a2, a3,... and b1,b2,b3...\r\n- Select only items with overlapping strings ​​among the elements of b1 and a1 (List\\&lt;string\\&gt;) \r\n- Enter key = b1, value = a1 in result.\r\n\r\nex)\r\n\r\n```ansi\r\nDefine a and b as follows:\r\na = [a, b, c], [d, e, f], [a, d, f]\r\nb = [a, d], [a], [c], [x]\r\n\r\nit returns : \r\nkey        value \r\n[a,d]    | [a,b,c],[d,e,f],[a,d,f] \r\n[a]      | [a,b,c],[a,d,f] \r\n[c]      | [a,b,c] \r\n[x]      | empty list\r\n```\r\nIn reality, the length of the list in a and b will exceed at least 100,000.\r\nI tried this method using the List.contains, but time complexity was O(n^3) at the worst case.  \r\nHere is my code, I want to reduce the time complexity of that algorithm below O(n^2).\r\n\r\n```java\r\n public Map&lt;List&lt;String&gt;, List&lt;List&lt;String&gt;&gt;&gt; compute(List&lt;List&lt;String&gt;&gt; a, List&lt;List&lt;String&gt;&gt; b) {\r\n\r\n        Map&lt;List&lt;String&gt;, List&lt;List&lt;String&gt;&gt;&gt; result = new HashMap&lt;&gt;();\r\n\r\n        for (List&lt;String&gt; elem : b) {\r\n            result.put(elem, a.stream().filter(e -&gt; e.stream().anyMatch(elem::contains)).toList());\r\n        }\r\n        return result;\r\n    }\r\n```","title":"check duplication of two 2-dimensional-list algorithm?","body":"<p>Two List&lt;List&lt;string&gt;&gt; are given (referred to as a and b).</p>\n<p>it returns: Map&lt;List&lt;string&gt;, List&lt;List&lt;string&gt;&gt;&gt;</p>\n<ul>\n<li>let the items of a, b them a1, a2, a3,... and b1,b2,b3...</li>\n<li>Select only items with overlapping strings ​​among the elements of b1 and a1 (List&lt;string&gt;)</li>\n<li>Enter key = b1, value = a1 in result.</li>\n</ul>\n<p>ex)</p>\n<pre><code>Define a and b as follows:\na = [a, b, c], [d, e, f], [a, d, f]\nb = [a, d], [a], [c], [x]\n\nit returns : \nkey        value \n[a,d]    | [a,b,c],[d,e,f],[a,d,f] \n[a]      | [a,b,c],[a,d,f] \n[c]      | [a,b,c] \n[x]      | empty list\n</code></pre>\n<p>In reality, the length of the list in a and b will exceed at least 100,000.\nI tried this method using the List.contains, but time complexity was O(n^3) at the worst case.<br />\nHere is my code, I want to reduce the time complexity of that algorithm below O(n^2).</p>\n<pre class=\"lang-java prettyprint-override\"><code> public Map&lt;List&lt;String&gt;, List&lt;List&lt;String&gt;&gt;&gt; compute(List&lt;List&lt;String&gt;&gt; a, List&lt;List&lt;String&gt;&gt; b) {\n\n        Map&lt;List&lt;String&gt;, List&lt;List&lt;String&gt;&gt;&gt; result = new HashMap&lt;&gt;();\n\n        for (List&lt;String&gt; elem : b) {\n            result.put(elem, a.stream().filter(e -&gt; e.stream().anyMatch(elem::contains)).toList());\n        }\n        return result;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","events","event-listener"],"answers":[{"tags":[],"owner":{"account_id":5378281,"reputation":1519,"user_id":4284406,"accept_rate":25,"display_name":"Kenny Tai Huynh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699677932,"creation_date":1699677932,"answer_id":77463924,"question_id":77463574,"body_markdown":"Based on the document, they are almost the same\r\n\r\n&gt; There are two ways to define a listener. We can either use the @EventListener annotation or implement the ApplicationListener interface. In either case, the listener class has to be managed by Spring.Blockquote\r\n\r\nBut if you use @EvenListener, it will automatically register the ApplicationListener. The whole quote are:\r\n\r\n&gt; Starting with Spring 4.1 it’s now possible to simply annotate a method of a managed bean with @EventListener to automatically register an ApplicationListener matching the signature of the method\r\n\r\nIn the official site, the doc also explains that the annotation make it easier to use + shorter. The link should be: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/event/EventListener.html\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationListener.html\r\n\r\nHope this help.","title":"Java ApplicationEvents: Difference between @EventListener annotation and ApplicationListener interface","body":"<p>Based on the document, they are almost the same</p>\n<blockquote>\n<p>There are two ways to define a listener. We can either use the @EventListener annotation or implement the ApplicationListener interface. In either case, the listener class has to be managed by Spring.Blockquote</p>\n</blockquote>\n<p>But if you use @EvenListener, it will automatically register the ApplicationListener. The whole quote are:</p>\n<blockquote>\n<p>Starting with Spring 4.1 it’s now possible to simply annotate a method of a managed bean with @EventListener to automatically register an ApplicationListener matching the signature of the method</p>\n</blockquote>\n<p>In the official site, the doc also explains that the annotation make it easier to use + shorter. The link should be: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/event/EventListener.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/event/EventListener.html</a></p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationListener.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationListener.html</a></p>\n<p>Hope this help.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77463924,"answer_count":1,"score":2,"last_activity_date":1699677932,"creation_date":1699665573,"question_id":77463574,"body_markdown":"I am using Java ApplicationEvents to publish and then subscribe listen to an event. What is the difference between `@EventListener` annotation and `ApplicationListener` interface. Any differences, or the same functionality?\r\n\r\nResource: https://reflectoring.io/spring-boot-application-events-explained/\r\n\r\n**Method 1:**\r\n\r\n    @Component\r\n    class UserRemovedListener {\r\n    \r\n      @EventListener(condition = &quot;#event.name eq &#39;reflectoring&#39;&quot;)\r\n      void handleConditionalListener(UserRemovedEvent event) {\r\n        // handle UserRemovedEvent\r\n      }\r\n    }\r\n\r\n**Method 2:**\r\n\r\n    @Component\r\n    class UserCreatedListener implements ApplicationListener&lt;UserCreatedEvent&gt; {\r\n    \r\n      @Override\r\n      public void onApplicationEvent(UserCreatedEvent event) {\r\n        // handle UserCreatedEvent\r\n      }\r\n    }","title":"Java ApplicationEvents: Difference between @EventListener annotation and ApplicationListener interface","body":"<p>I am using Java ApplicationEvents to publish and then subscribe listen to an event. What is the difference between <code>@EventListener</code> annotation and <code>ApplicationListener</code> interface. Any differences, or the same functionality?</p>\n<p>Resource: <a href=\"https://reflectoring.io/spring-boot-application-events-explained/\" rel=\"nofollow noreferrer\">https://reflectoring.io/spring-boot-application-events-explained/</a></p>\n<p><strong>Method 1:</strong></p>\n<pre><code>@Component\nclass UserRemovedListener {\n\n  @EventListener(condition = &quot;#event.name eq 'reflectoring'&quot;)\n  void handleConditionalListener(UserRemovedEvent event) {\n    // handle UserRemovedEvent\n  }\n}\n</code></pre>\n<p><strong>Method 2:</strong></p>\n<pre><code>@Component\nclass UserCreatedListener implements ApplicationListener&lt;UserCreatedEvent&gt; {\n\n  @Override\n  public void onApplicationEvent(UserCreatedEvent event) {\n    // handle UserCreatedEvent\n  }\n}\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1663061595,"post_id":73700516,"comment_id":130144935,"body_markdown":"Note that if your regex needs to use `*` as a literal character it needs to be escaped in most cases, i.e. `\\*`.","body":"Note that if your regex needs to use <code>*</code> as a literal character it needs to be escaped in most cases, i.e. <code>\\*</code>."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612564,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663061579,"creation_date":1663061579,"answer_id":73700632,"question_id":73700516,"body_markdown":"You can use\r\n```none\r\n^(?:\\*|\\*?\\p{L}+(?:\\h+\\p{L}*)*+\\*?)$\r\n```\r\nSee the [regex demo][1].\r\n\r\n*Details*:\r\n\r\n - `^` - start of string\r\n - `(?:\\*|\\*?\\p{L}+(?:\\h+\\p{L}*)*+\\*?)` - either of the two patterns:\r\n   - `\\*` - an asterisk\r\n   - `|` - or\r\n   - `\\*?` - an optional asterisk\r\n   - `\\p{L}+` - one or more letters\r\n   - `(?:\\h+\\p{L}*)*+` - one or more repetitions of one or more horizontal whitespaces followed with zero or more letters\r\n   - `\\*?` - an optional asterisk\r\n - `$` - end of string.\r\n\r\nIn Java:\r\n```java\r\nbool matched = text.matches(&quot;\\\\*|\\\\*?\\\\p{L}+(?:\\\\h+\\\\p{L}*)*+\\\\*?&quot;);\r\n```\r\n\r\n  [1]: https://regex101.com/r/zbJ04F/1","title":"Regex- Allow * in the beginning and in the end of a string and allow only *","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(?:\\*|\\*?\\p{L}+(?:\\h+\\p{L}*)*+\\*?)$\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/zbJ04F/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>(?:\\*|\\*?\\p{L}+(?:\\h+\\p{L}*)*+\\*?)</code> - either of the two patterns:\n<ul>\n<li><code>\\*</code> - an asterisk</li>\n<li><code>|</code> - or</li>\n<li><code>\\*?</code> - an optional asterisk</li>\n<li><code>\\p{L}+</code> - one or more letters</li>\n<li><code>(?:\\h+\\p{L}*)*+</code> - one or more repetitions of one or more horizontal whitespaces followed with zero or more letters</li>\n<li><code>\\*?</code> - an optional asterisk</li>\n</ul>\n</li>\n<li><code>$</code> - end of string.</li>\n</ul>\n<p>In Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>bool matched = text.matches(&quot;\\\\*|\\\\*?\\\\p{L}+(?:\\\\h+\\\\p{L}*)*+\\\\*?&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2425186,"reputation":1052,"user_id":2117294,"display_name":"Zak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699677557,"creation_date":1663061892,"answer_id":73700708,"question_id":73700516,"body_markdown":"Escape the asterisk with a backslash so that it isn&#39;t interpreted as a greedy repetition quantifier: `\\*`.\r\n\r\nUse beginning (`^`) and end (`$`) anchors to ensure that your asterisk can only occur at the start or end of the string.\r\n\r\nLastly, use a negative lookahead (`(?!...)`) to ensure that the match can&#39;t only be two asterisks.\r\n\r\nPutting it all together, you get:\r\n\r\n`(?!^\\*\\*$)^\\*?[\\p{L} ]*\\*?$`\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3832970/wiktor-stribi%C5%BCew","title":"Regex- Allow * in the beginning and in the end of a string and allow only *","body":"<p>Escape the asterisk with a backslash so that it isn't interpreted as a greedy repetition quantifier: <code>\\*</code>.</p>\n<p>Use beginning (<code>^</code>) and end (<code>$</code>) anchors to ensure that your asterisk can only occur at the start or end of the string.</p>\n<p>Lastly, use a negative lookahead (<code>(?!...)</code>) to ensure that the match can't only be two asterisks.</p>\n<p>Putting it all together, you get:</p>\n<p><code>(?!^\\*\\*$)^\\*?[\\p{L} ]*\\*?$</code></p>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767080,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663062924,"creation_date":1663062426,"answer_id":73700843,"question_id":73700516,"body_markdown":"Here is a regex that might be shorter and efficient:\r\n\r\n```Java\r\n^(?:\\*?[\\p{L}\\h]+\\*?|\\*)$\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/2YEVgZ/2\r\n\r\n**RegEx Breakup:**\r\n\r\n- `^`: Start\r\n- `(?:`: Start non-capture group\r\n  - `\\*?`: Match an optional `*`\r\n  - `[\\p{L}\\h]+`: Match 1+ of any unicode letter or horizontal whitespace\r\n  - `\\*?`: Match an optional `*`\r\n  - `|`: OR\r\n  - `\\*`: Match a single `*`\r\n- `)`: End non-capture group\r\n- `$`: End\r\n\r\n**Java Code:**\r\n\r\n```Java\r\nfinal String regex = &quot;^(?:\\\\*?[\\\\p{L}\\\\h]+\\\\*?|\\\\*)$&quot;;\r\nString s = &quot;* cit *&quot;;\r\nSystem.out.println( s.matches(regex) );\r\n```","title":"Regex- Allow * in the beginning and in the end of a string and allow only *","body":"<p>Here is a regex that might be shorter and efficient:</p>\n<pre><code>^(?:\\*?[\\p{L}\\h]+\\*?|\\*)$\n</code></pre>\n<p><a href=\"https://regex101.com/r/2YEVgZ/2\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>RegEx Breakup:</strong></p>\n<ul>\n<li><code>^</code>: Start</li>\n<li><code>(?:</code>: Start non-capture group\n<ul>\n<li><code>\\*?</code>: Match an optional <code>*</code></li>\n<li><code>[\\p{L}\\h]+</code>: Match 1+ of any unicode letter or horizontal whitespace</li>\n<li><code>\\*?</code>: Match an optional <code>*</code></li>\n<li><code>|</code>: OR</li>\n<li><code>\\*</code>: Match a single <code>*</code></li>\n</ul>\n</li>\n<li><code>)</code>: End non-capture group</li>\n<li><code>$</code>: End</li>\n</ul>\n<p><strong>Java Code:</strong></p>\n<pre><code>final String regex = &quot;^(?:\\\\*?[\\\\p{L}\\\\h]+\\\\*?|\\\\*)$&quot;;\nString s = &quot;* cit *&quot;;\nSystem.out.println( s.matches(regex) );\n</code></pre>\n"}],"owner":{"account_id":26197793,"reputation":23,"user_id":19878667,"display_name":"Anna Stasinopoulou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73700843,"answer_count":3,"score":2,"last_activity_date":1699677557,"creation_date":1663061041,"question_id":73700516,"body_markdown":"I need to write a regex that validates the input for a city.\r\nExcept for characters only spaces are allowed and * acts as a wildcard character, so it can be either in the end or in the beginning of the string. * character should be allowed to be the only input as well.\r\n\r\nAccepted strings:\r\n- `*city`\r\n- `*cit *`\r\n- `&#39;*&#39;`  (only asterisk)\r\n- `*city one`\r\n\r\nNot accepted strings:\r\n- `**`\r\n- `*!@`\r\n- `%^&amp;*`\r\n\r\nI have written this, but it doesn&#39;t allow only `&#39;*&quot;` as input. Any ideas?\r\n`&#39;^.*[A-Za-z&#192;-&#214;&#216;-&#246;&#248;-ž ]{1,34}.*$&#39;`\r\n","title":"Regex- Allow * in the beginning and in the end of a string and allow only *","body":"<p>I need to write a regex that validates the input for a city.\nExcept for characters only spaces are allowed and * acts as a wildcard character, so it can be either in the end or in the beginning of the string. * character should be allowed to be the only input as well.</p>\n<p>Accepted strings:</p>\n<ul>\n<li><code>*city</code></li>\n<li><code>*cit *</code></li>\n<li><code>'*'</code>  (only asterisk)</li>\n<li><code>*city one</code></li>\n</ul>\n<p>Not accepted strings:</p>\n<ul>\n<li><code>**</code></li>\n<li><code>*!@</code></li>\n<li><code>%^&amp;*</code></li>\n</ul>\n<p>I have written this, but it doesn't allow only <code>'*&quot;</code> as input. Any ideas?\n<code>'^.*[A-Za-zÀ-ÖØ-öø-ž ]{1,34}.*$'</code></p>\n"},{"tags":["java","encoding","uuid","base62"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":1,"creation_date":1537394749,"post_id":52414740,"comment_id":91773327,"body_markdown":"mime base64 does not use dash or underscore","body":"mime base64 does not use dash or underscore"},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1537394972,"post_id":52414740,"comment_id":91773400,"body_markdown":"@IłyaBursov MIME Base64 makes it even worth since it needs URL encoding.","body":"@IłyaBursov MIME Base64 makes it even worth since it needs URL encoding."},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":1,"creation_date":1537395091,"post_id":52414740,"comment_id":91773428,"body_markdown":"@RusselYang dash and underscore don&#39;t need escaping, am I missing something?","body":"@RusselYang dash and underscore don&#39;t need escaping, am I missing something?"},{"owner":{"account_id":59094,"reputation":2641,"user_id":176838,"accept_rate":100,"display_name":"Russel Yang"},"score":0,"creation_date":1537395177,"post_id":52414740,"comment_id":91773455,"body_markdown":"@Rad. you are right. then why not just base64, you can include raw UUID string too.","body":"@Rad. you are right. then why not just base64, you can include raw UUID string too."},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1537395185,"post_id":52414740,"comment_id":91773458,"body_markdown":"@Rad not really, both `+` and `/` are allowed in URLs, so you might need correct decoding, to avoid conversion","body":"@Rad not really, both <code>+</code> and <code>&#47;</code> are allowed in URLs, so you might need correct decoding, to avoid conversion"},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1537395331,"post_id":52414740,"comment_id":91773502,"body_markdown":"You&#39;re probably better off using the standard Base64Url encoding -- this is exactly what it was designed for.","body":"You&#39;re probably better off using the standard Base64Url encoding -- this is exactly what it was designed for."},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1537395515,"post_id":52414740,"comment_id":91773555,"body_markdown":"@IłyaBursov I&#39;m not following, `/` must be encoded in the URL, right? that&#39;s why we have `Base64Url`. I don&#39;t like to have anything other than alphanumeric, let alone slash (`foo/bar` -&gt; `foo%2Fbar`)","body":"@IłyaBursov I&#39;m not following, <code>&#47;</code> must be encoded in the URL, right? that&#39;s why we have <code>Base64Url</code>. I don&#39;t like to have anything other than alphanumeric, let alone slash (<code>foo&#47;bar</code> -&gt; <code>foo%2Fbar</code>)"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1537395629,"post_id":52414740,"comment_id":91773588,"body_markdown":"@Rad no, look at your browser - it has unescaped slashes `https://stackoverflow.com/questions/52414740/encoding-uuid-to-base62-in-java`","body":"@Rad no, look at your browser - it has unescaped slashes <code>https:&#47;&#47;stackoverflow.com&#47;questions&#47;52414740&#47;encoding-uuid-t&zwnj;&#8203;o-base62-in-java</code>"},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1537396025,"post_id":52414740,"comment_id":91773691,"body_markdown":"@IłyaBursov, yes but then how can I extract the `{user-id}` segment from `/users/foo/bar` (URL template: `/users/{user-id}`)? (Even if it&#39;s possible seems really weird to me, no?)","body":"@IłyaBursov, yes but then how can I extract the <code>{user-id}</code> segment from <code>&#47;users&#47;foo&#47;bar</code> (URL template: <code>&#47;users&#47;{user-id}</code>)? (Even if it&#39;s possible seems really weird to me, no?)"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1537396101,"post_id":52414740,"comment_id":91773704,"body_markdown":"@Rad something like `rawUrl.substring(rawUrl.indexOf(&quot;/user/&quot;))` will give you string back","body":"@Rad something like <code>rawUrl.substring(rawUrl.indexOf(&quot;&#47;user&#47;&quot;))</code> will give you string back"},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1537396165,"post_id":52414740,"comment_id":91773724,"body_markdown":"quote: Using standard Base64 in URL requires encoding of `+`, `/` and `=` characters into special percent-encoded hexadecimal sequences, which makes the string unnecessarily longer.","body":"quote: Using standard Base64 in URL requires encoding of <code>+</code>, <code>&#47;</code> and <code>=</code> characters into special percent-encoded hexadecimal sequences, which makes the string unnecessarily longer."},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1537396260,"post_id":52414740,"comment_id":91773743,"body_markdown":"Yes, but if I were your developer and came to you with that code in my spring application what would be your reaction? :D","body":"Yes, but if I were your developer and came to you with that code in my spring application what would be your reaction? :D"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1537396263,"post_id":52414740,"comment_id":91773744,"body_markdown":"@Rad it is true _only_ if you&#39;re using `/` as special delimiter (which a lot of systems do), but you can parse raw url by yourself","body":"@Rad it is true <i>only</i> if you&#39;re using <code>&#47;</code> as special delimiter (which a lot of systems do), but you can parse raw url by yourself"},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1537396292,"post_id":52414740,"comment_id":91773750,"body_markdown":"Yes, got your point.","body":"Yes, got your point."},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1537396369,"post_id":52414740,"comment_id":91773764,"body_markdown":"@Rad my reaction would be `oh, they&#39;re trying to optimize size of the url and they avoid unneeded parsing, which is faster, cool` :)","body":"@Rad my reaction would be <code>oh, they&#39;re trying to optimize size of the url and they avoid unneeded parsing, which is faster, cool</code> :)"},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1537396851,"post_id":52414740,"comment_id":91773889,"body_markdown":"@IłyaBursov then I&#39;d love to work in your team :)","body":"@IłyaBursov then I&#39;d love to work in your team :)"}],"answers":[{"tags":[],"owner":{"account_id":3697687,"reputation":1590,"user_id":3078523,"display_name":"user3078523"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1566402591,"creation_date":1566402270,"answer_id":57595217,"question_id":52414740,"body_markdown":"You might want to try this library: https://github.com/Devskiller/friendly-id\n\n&gt; The FriendlyID library converts a given UUID (with 36 characters) to a URL-friendly ID (a &quot;FriendlyID&quot;) which is based on Base62 (with a maximum of 22 characters), as in the example below:\n&gt;\n&gt;        UUID                                        Friendly ID\n&gt;        \n&gt;        c3587ec5-0976-497f-8374-61e0c2ea3da5   -&gt;   5wbwf6yUxVBcr48AMbz9cb\n&gt;        |                                           |                              \n&gt;        36 characters                               22 characters or less\n&gt;\n&gt;In addition, this library allows to:\n&gt;\n&gt;- convert from a FriendlyID back to the original UUID; and\n&gt;- create a new, random FriendlyID\n","title":"Encoding UUID to Base62 (not Base64) in Java","body":"<p>You might want to try this library: <a href=\"https://github.com/Devskiller/friendly-id\" rel=\"nofollow noreferrer\">https://github.com/Devskiller/friendly-id</a></p>\n<blockquote>\n<p>The FriendlyID library converts a given UUID (with 36 characters) to a URL-friendly ID (a &quot;FriendlyID&quot;) which is based on Base62 (with a maximum of 22 characters), as in the example below:</p>\n<pre><code>   UUID                                        Friendly ID\n   \n   c3587ec5-0976-497f-8374-61e0c2ea3da5   -&gt;   5wbwf6yUxVBcr48AMbz9cb\n   |                                           |                              \n   36 characters                               22 characters or less\n</code></pre>\n<p>In addition, this library allows to:</p>\n<ul>\n<li>convert from a FriendlyID back to the original UUID; and</li>\n<li>create a new, random FriendlyID</li>\n</ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699676837,"creation_date":1629834898,"answer_id":68913412,"question_id":52414740,"body_markdown":"You can encode UUIDs efficiently to base-62 using [`Base62Codec`](https://github.com/f4b6a3/uuid-creator/wiki/4.0.-Library-codecs#base62codec).\r\n\r\n```java\r\nString string = Base62Codec.INSTANCE.encode(uuid);\r\n```\r\n\r\nYou can also generate Friendly IDs with 22 characters or less.\r\n\r\n```java\r\npublic static String getFriendlyID() {\r\n    return Base62Codec.INSTANCE.encode(UUID.randomUUID());\r\n}\r\n\r\npublic static String getFriendlyID(int length) {\r\n    return Base62Codec.INSTANCE.encode(UUID.randomUUID())\r\n                      .substring(0, Math.min(length, 22));\r\n}\r\n```\r\n\r\n`Base62Codec` is a codec of [uuid-creator](https://github.com/f4b6a3/uuid-creator).\r\n\r\n**NOTE:** the alphabet used by `Base62Codec` is &quot;0-9A-Za-z&quot;, which is compatible with &quot;C&quot; collation (LC_COLLATE=C), which in turn makes `libc` sort strings in ASCII order, i.e., &quot;AAA&quot; is sorted before &quot;aaa&quot;.\r\n\r\n---\r\n**Disclaimer**: I&#39;m the main contributor of `uuid-creator`.","title":"Encoding UUID to Base62 (not Base64) in Java","body":"<p>You can encode UUIDs efficiently to base-62 using <a href=\"https://github.com/f4b6a3/uuid-creator/wiki/4.0.-Library-codecs#base62codec\" rel=\"nofollow noreferrer\"><code>Base62Codec</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = Base62Codec.INSTANCE.encode(uuid);\n</code></pre>\n<p>You can also generate Friendly IDs with 22 characters or less.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getFriendlyID() {\n    return Base62Codec.INSTANCE.encode(UUID.randomUUID());\n}\n\npublic static String getFriendlyID(int length) {\n    return Base62Codec.INSTANCE.encode(UUID.randomUUID())\n                      .substring(0, Math.min(length, 22));\n}\n</code></pre>\n<p><code>Base62Codec</code> is a codec of <a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"nofollow noreferrer\">uuid-creator</a>.</p>\n<p><strong>NOTE:</strong> the alphabet used by <code>Base62Codec</code> is &quot;0-9A-Za-z&quot;, which is compatible with &quot;C&quot; collation (LC_COLLATE=C), which in turn makes <code>libc</code> sort strings in ASCII order, i.e., &quot;AAA&quot; is sorted before &quot;aaa&quot;.</p>\n<hr />\n<p><strong>Disclaimer</strong>: I'm the main contributor of <code>uuid-creator</code>.</p>\n"}],"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9002,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":57595217,"answer_count":2,"score":8,"last_activity_date":1699676837,"creation_date":1537394349,"question_id":52414740,"body_markdown":"I&#39;m trying to shorten UUID values (stored in DB as UUID, not string) to be embedded in URLs. I&#39;m aware of Base64 for URL, but trying to see if I can make it without dash and underscore characters.\r\nSo I would like to convert UUID to base62. After a lot of googling I found:  \r\n\r\n1. There&#39;s not a standard for this (something like RFC2045), am I right?  \r\n\r\n2. Most importantly there&#39;s no proper implementation for it. I found a lot of snippets on how to do it, but with some sort of note that &quot;this is a naive implementation&quot; or something. Is there a proper implementation (I don&#39;t mind the exact interpretation how the mapping should be done as long as it&#39;s done properly)?  \r\n\r\n3. There are some base classes in Apache Commons Codec and Guava which are extended for Base32 and Base64, but I didn&#39;t find it easy to extend it for Base62. Is it even possible to do it (considering the fact that the mapping is fundamentally different)?  \r\nThanks.","title":"Encoding UUID to Base62 (not Base64) in Java","body":"<p>I'm trying to shorten UUID values (stored in DB as UUID, not string) to be embedded in URLs. I'm aware of Base64 for URL, but trying to see if I can make it without dash and underscore characters.\nSo I would like to convert UUID to base62. After a lot of googling I found:  </p>\n\n<ol>\n<li><p>There's not a standard for this (something like RFC2045), am I right?  </p></li>\n<li><p>Most importantly there's no proper implementation for it. I found a lot of snippets on how to do it, but with some sort of note that \"this is a naive implementation\" or something. Is there a proper implementation (I don't mind the exact interpretation how the mapping should be done as long as it's done properly)?  </p></li>\n<li><p>There are some base classes in Apache Commons Codec and Guava which are extended for Base32 and Base64, but I didn't find it easy to extend it for Base62. Is it even possible to do it (considering the fact that the mapping is fundamentally different)?<br>\nThanks.</p></li>\n</ol>\n"},{"tags":["java","eclipse","sap-gui"],"comments":[{"owner":{"account_id":306692,"reputation":5903,"user_id":617581,"display_name":"Dirk Trilsbeek"},"score":1,"creation_date":1680246807,"post_id":75895758,"comment_id":133868910,"body_markdown":"GUI 770 for Java doens&#39;t seem to support aarch64. But in the download center I can see a MacOS on ARM64 version for GUI 780. You should try installing that one.","body":"GUI 770 for Java doens&#39;t seem to support aarch64. But in the download center I can see a MacOS on ARM64 version for GUI 780. You should try installing that one."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1680247962,"post_id":75895758,"comment_id":133869121,"body_markdown":"What Dirk Trilsbeek says. aarch64 means ARM 64 bit alias Apple silicon (M1/M2), but you have x86 64 bit, running via Rosetta 2.","body":"What Dirk Trilsbeek says. aarch64 means ARM 64 bit alias Apple silicon (M1/M2), but you have x86 64 bit, running via Rosetta 2."},{"owner":{"account_id":12578778,"reputation":12325,"user_id":9150270,"display_name":"Sandra Rossi"},"score":1,"creation_date":1680249260,"post_id":75895758,"comment_id":133869398,"body_markdown":"I have edited your question to include the essence from external links (otherwise the question will have no interest for future visitors if the external links disappear).​ Please review and make sure it&#39;s okay for you.","body":"I have edited your question to include the essence from external links (otherwise the question will have no interest for future visitors if the external links disappear).​ Please review and make sure it&#39;s okay for you."}],"answers":[{"tags":[],"owner":{"account_id":306692,"reputation":5903,"user_id":617581,"display_name":"Dirk Trilsbeek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680255945,"creation_date":1680255945,"answer_id":75897057,"question_id":75895758,"body_markdown":"As already mentioned in the comments: M1 uses a new architecture, and while GUI 770 can run on an M1 chip, eclipse probably needs native support instead of an emulation, therefore you need to switch to a GUI version that natively supports ARM64 apple silicon. SAP GUI 7.80 should (and does, as the comments suggest) work.","title":"Failed to open the SAP GUI for Java: No compatible installation of SAP GUI for Java was found","body":"<p>As already mentioned in the comments: M1 uses a new architecture, and while GUI 770 can run on an M1 chip, eclipse probably needs native support instead of an emulation, therefore you need to switch to a GUI version that natively supports ARM64 apple silicon. SAP GUI 7.80 should (and does, as the comments suggest) work.</p>\n"}],"owner":{"account_id":21356813,"reputation":43,"user_id":15725657,"display_name":"jesuismert"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699675532,"creation_date":1680246519,"question_id":75895758,"body_markdown":"Building Eclipse I want for SAP GUI on macOS Ventura 13.3 M1 Pro. I set up SAPGUI 7.70rev6 aarc64 and Eclipse Software via https://tools.hana.ondemand.com/latest.\r\n\r\nSAP GUI working correctly. But I&#39;ll use Eclipse for ABAP developing. This error is getting when I launch (F8) ABAP program on Eclipse:\r\n\r\n&gt; Failed to open the SAP GUI for Java: No compatible installation of SAP GUI for Java was found. Minimum version is 074000000000. Required architecture is aarch64. Please install a compatible SAP GUI version. \r\n&gt;\r\n&gt; Installed versions: /Applications/SAP Clients/SAPGIJl 7.70rev6/SAPGUl 7.70rev6.app (077000040600, x86_64)\r\n&gt;\r\n&gt; [![enter image description here][1]][1]\r\n\r\nI tried [this solution (remove and reinstall SAP GUI then restart Eclipse/ADT)][2] but it doesn&#39;t work. I have not found how to clear all SAP GUI directory. Only, I did uninstall &amp; reinstall the SAP GUI. \r\n\r\nAlso,\r\n\r\nBefore, I was getting the JavaFX error [same like here][3]:\r\n&gt; The system reqirements are not met.\r\n&gt;\r\n&gt; Could not find: javafx.properties in: /Users/.../.p2/pool/plugins/org.ecIipse.justj.openjdk.hotspot.jre.full.macosx.x86_64_17.0.0.v20211012-1O59/jre/lib \r\n&gt;\r\n&gt; Your Java Virtual Machine seems not to support JavaFX, required to run the SAP GUI for Java 7.50 rev 12. \r\n&gt;\r\n&gt; Please make sure you provide a valid path to the Java FX modules during gui installation. \r\n&gt;\r\n&gt; See the SAP GUI for Java documentation, chapter 5.1 for in depth information about Java FX and modules. \r\n\r\nI solved it out update with Java JDK8 &amp; SDK21 and adding parameters line to eclipse.ini. Now, I&#39;m only getting the error on the top image.\r\n\r\n&gt; Failed to open the SAP GUI for Java: No compatible installation of SAP GUI for Java was found. Minimum version is 074000000000. Required architecture is aarch64. Please install a compatible SAP GUI version.\r\nInstalled versions:\r\n/Applications/SAP Clients/SAPGUI 7.70rev6/SAPGUI 7.70rev6.app (077000040600, x86_64)\r\n\r\nHelp me please, How can I solve that?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WiL99.jpg\r\n  [2]: https://answers.sap.com/questions/13282095/eclipseadt-cannot-find-sapgui-for-java-on-linux-sy.html\r\n  [3]: https://community.neptune-software.com/topics/abap/blogs/how-to-setup--eclipse-to-work-with--s-a-p--gui-for--java","title":"Failed to open the SAP GUI for Java: No compatible installation of SAP GUI for Java was found","body":"<p>Building Eclipse I want for SAP GUI on macOS Ventura 13.3 M1 Pro. I set up SAPGUI 7.70rev6 aarc64 and Eclipse Software via <a href=\"https://tools.hana.ondemand.com/latest\" rel=\"nofollow noreferrer\">https://tools.hana.ondemand.com/latest</a>.</p>\n<p>SAP GUI working correctly. But I'll use Eclipse for ABAP developing. This error is getting when I launch (F8) ABAP program on Eclipse:</p>\n<blockquote>\n<p>Failed to open the SAP GUI for Java: No compatible installation of SAP GUI for Java was found. Minimum version is 074000000000. Required architecture is aarch64. Please install a compatible SAP GUI version.</p>\n<p>Installed versions: /Applications/SAP Clients/SAPGIJl 7.70rev6/SAPGUl 7.70rev6.app (077000040600, x86_64)</p>\n<p><a href=\"https://i.stack.imgur.com/WiL99.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WiL99.jpg\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<p>I tried <a href=\"https://answers.sap.com/questions/13282095/eclipseadt-cannot-find-sapgui-for-java-on-linux-sy.html\" rel=\"nofollow noreferrer\">this solution (remove and reinstall SAP GUI then restart Eclipse/ADT)</a> but it doesn't work. I have not found how to clear all SAP GUI directory. Only, I did uninstall &amp; reinstall the SAP GUI.</p>\n<p>Also,</p>\n<p>Before, I was getting the JavaFX error <a href=\"https://community.neptune-software.com/topics/abap/blogs/how-to-setup--eclipse-to-work-with--s-a-p--gui-for--java\" rel=\"nofollow noreferrer\">same like here</a>:</p>\n<blockquote>\n<p>The system reqirements are not met.</p>\n<p>Could not find: javafx.properties in: /Users/.../.p2/pool/plugins/org.ecIipse.justj.openjdk.hotspot.jre.full.macosx.x86_64_17.0.0.v20211012-1O59/jre/lib</p>\n<p>Your Java Virtual Machine seems not to support JavaFX, required to run the SAP GUI for Java 7.50 rev 12.</p>\n<p>Please make sure you provide a valid path to the Java FX modules during gui installation.</p>\n<p>See the SAP GUI for Java documentation, chapter 5.1 for in depth information about Java FX and modules.</p>\n</blockquote>\n<p>I solved it out update with Java JDK8 &amp; SDK21 and adding parameters line to eclipse.ini. Now, I'm only getting the error on the top image.</p>\n<blockquote>\n<p>Failed to open the SAP GUI for Java: No compatible installation of SAP GUI for Java was found. Minimum version is 074000000000. Required architecture is aarch64. Please install a compatible SAP GUI version.\nInstalled versions:\n/Applications/SAP Clients/SAPGUI 7.70rev6/SAPGUI 7.70rev6.app (077000040600, x86_64)</p>\n</blockquote>\n<p>Help me please, How can I solve that?</p>\n"},{"tags":["java","spring","spring-boot","jaxb","java-11"],"answers":[{"tags":[],"owner":{"account_id":11808664,"reputation":1,"user_id":9103056,"display_name":"Igor Gatsev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699674771,"creation_date":1699674771,"answer_id":77463846,"question_id":76234431,"body_markdown":"It&#39;s works for me\r\n\r\n    ExecutorService pool = Executors.newFixedThreadPool(10);\r\n    \r\n            CompletableFuture.runAsync(() -&gt; {\r\n                   testFunc()\r\n            }, pool).join();","title":"Implementation of JAXB-API has not been found on module path or classpath not found in CompletableFuture.runAsync(() -&gt; {}","body":"<p>It's works for me</p>\n<pre><code>ExecutorService pool = Executors.newFixedThreadPool(10);\n\n        CompletableFuture.runAsync(() -&gt; {\n               testFunc()\n        }, pool).join();\n</code></pre>\n"}],"owner":{"account_id":13298032,"reputation":137,"user_id":9600331,"display_name":"vishal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699674771,"creation_date":1683879834,"question_id":76234431,"body_markdown":"While using JAXB-API with CompletableFuture.runAsync gives error for module not found while if I use the same function without CompletableFuture it works fine\r\n\r\nSo, do you have any dependency here that it won&#39;t work with async functions ?\r\n\r\n```\r\nCompletableFuture.runAsync(() =&gt; {\r\n  testFunc()\r\n})\r\n\r\npublic void testFunc() {\r\n----\r\nPerforms some task using JAXB \r\n----\r\n}\r\n```\r\n\r\nthis gives module not found exception, while\r\n\r\n```\r\ntestFunc();\r\n\r\npublic void testFunc() {\r\n----\r\nPerforms some task using JAXB \r\n----\r\n}\r\n```\r\nThis works, why is that so ?\r\n","title":"Implementation of JAXB-API has not been found on module path or classpath not found in CompletableFuture.runAsync(() -&gt; {}","body":"<p>While using JAXB-API with CompletableFuture.runAsync gives error for module not found while if I use the same function without CompletableFuture it works fine</p>\n<p>So, do you have any dependency here that it won't work with async functions ?</p>\n<pre><code>CompletableFuture.runAsync(() =&gt; {\n  testFunc()\n})\n\npublic void testFunc() {\n----\nPerforms some task using JAXB \n----\n}\n</code></pre>\n<p>this gives module not found exception, while</p>\n<pre><code>testFunc();\n\npublic void testFunc() {\n----\nPerforms some task using JAXB \n----\n}\n</code></pre>\n<p>This works, why is that so ?</p>\n"},{"tags":["java","android","c","android-ndk","signals"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1513699782,"post_id":47873847,"comment_id":82748152,"body_markdown":"What you can do in a signal handler is fairly restricted. For example, using dynamic memory allocation in a signal handler (`ThrowNew` sounds like it will try to allocate some memory) is considered undefined behavior in C++. I know this is C, but there&#39;s a good chance similar restrictions apply there.","body":"What you can do in a signal handler is fairly restricted. For example, using dynamic memory allocation in a signal handler (<code>ThrowNew</code> sounds like it will try to allocate some memory) is considered undefined behavior in C++. I know this is C, but there&#39;s a good chance similar restrictions apply there."},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1513699931,"post_id":47873847,"comment_id":82748243,"body_markdown":"See https://stackoverflow.com/a/34553070/1524450 for additional info.","body":"See <a href=\"https://stackoverflow.com/a/34553070/1524450\">stackoverflow.com/a/34553070/1524450</a> for additional info."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1699673925,"creation_date":1534060485,"answer_id":51806859,"question_id":47873847,"body_markdown":"I don&#39;t know if what you are trying to do here is technically possible.  @Michael&#39;s comments imply that it isn&#39;t possible.\r\n\r\nBut if it is possible, it is a bad idea.  \r\n\r\nBy the time the native code you are using has triggered a SIGSEGV, it could have done untold damage; e.g. overwriting objects in the heap, etcetera.  If you attempt to recover, there is a significant chance that the damage *that has already occurred* will lead to unexpected behavior or incorrect results.  Worse still, it could cause the application to lock up or the GC to crash some time (maybe hours) later due to heap corruption, stuck threads, etcetera.\r\n\r\nThis is why it is standard behavior for a JVM to panic when an unexpected SIGSEGV occurs in native code OR in Java code.  And why JVMs provide no way to suppress these panics.\r\n\r\nWhile it is nice to give the users a meaningful error, there is not much meaningful that you can tell them if you are getting random SIGSEGV errors and other JVM panics.  You should focus on fixing the cause of the panics.","title":"Replacing JNI Crashes by Exceptions on Android","body":"<p>I don't know if what you are trying to do here is technically possible.  @Michael's comments imply that it isn't possible.</p>\n<p>But if it is possible, it is a bad idea.</p>\n<p>By the time the native code you are using has triggered a SIGSEGV, it could have done untold damage; e.g. overwriting objects in the heap, etcetera.  If you attempt to recover, there is a significant chance that the damage <em>that has already occurred</em> will lead to unexpected behavior or incorrect results.  Worse still, it could cause the application to lock up or the GC to crash some time (maybe hours) later due to heap corruption, stuck threads, etcetera.</p>\n<p>This is why it is standard behavior for a JVM to panic when an unexpected SIGSEGV occurs in native code OR in Java code.  And why JVMs provide no way to suppress these panics.</p>\n<p>While it is nice to give the users a meaningful error, there is not much meaningful that you can tell them if you are getting random SIGSEGV errors and other JVM panics.  You should focus on fixing the cause of the panics.</p>\n"}],"owner":{"account_id":5866150,"reputation":371,"user_id":4620047,"display_name":"Martin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1989,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"closed_date":1534071804,"answer_count":1,"score":9,"last_activity_date":1699673925,"creation_date":1513619412,"question_id":47873847,"body_markdown":"I have developed an Android application that uses a native C library. I could successfully compile the whole thing using JNI, and everything works smoothly.\r\n\r\nHowever, every now and then the native C library crashes (most frequently with a SIGSEGV). This, in turn, causes my application to crash without any meaningful notice for the user. What I would like to achieve is the following:\r\n\r\n 1. Catch the signal in the native code using a signal handler (sigaction) to prevent random crashes\r\n 2. Throw an exception in the C library that Java can catch\r\n 3. Catch the exception in Java, generate a meaningful warning message for the user and keep the app running\r\n\r\nIn case that this is of any use for you - the JNI code runs in a separate thread (to be more precise inside an AsyncTask). \r\n\r\nI already checked &lt;http://blog.httrack.com/blog/2013/08/23/catching-posix-signals-on-android/&gt; and &lt;https://github.com/xroche/coffeecatch&gt;\r\nbut I cannot get it to compile.\r\n\r\nFollowing the suggestions from &lt;https://stackoverflow.com/questions/230689/best-way-to-throw-exceptions-in-jni-code&gt; and &lt;https://stackoverflow.com/questions/30105719/how-to-catch-jni-crashes-as-exceptions-using-signal-handling-based-mechanism-in&gt; and &lt;https://www.developer.com/java/data/exception-handling-in-jni.html&gt;\r\nI carried out the following steps:\r\n\r\nIn my native code I added the following function that (to my understanding) sets up a signal handler:\r\n\r\n    void initializeSignalHandler(JNIEnv* env){\r\n        int watched_signals[] = { SIGABRT, SIGILL, SIGSEGV, SIGINT, SIGKILL }; // 6, 4, 11, 2, 9\r\n        struct sigaction sighandler;\r\n        memset(&amp;sighandler, 0, sizeof(sighandler));\r\n    \r\n        sighandler.sa_sigaction = &amp;sighandler_func;\r\n        sighandler.sa_mask = 0;\r\n        sighandler.sa_flags = SA_SIGINFO | SA_ONSTACK;\r\n        for(int ii=0; ii&lt;5; ii++){\r\n            int signal = watched_signals[ii];\r\n            sigaction(signal, &amp;sighandler, NULL);        \r\n        }\r\n        env = env;\r\n    }\r\n\r\nMy function that handles these signals looks like this:\r\n\r\n    void sighandler_func(int sig, siginfo_t* sig_info, void* ptr){\r\n        printerr(&quot;Sighandler: &quot;, sig);\r\n        jclass jcls = (*env)-&gt;FindClass(env, &quot;java/lang/Error&quot;);\r\n        jboolean flag = (*env)-&gt;ExceptionCheck(env);\r\n        if (flag) {\r\n            (*env)-&gt;ExceptionClear(env);\r\n            /* code to handle exception */\r\n        }\r\n        if (jcls!=NULL){\r\n            printerr(&quot;Throwing exception&quot;);\r\n            (*env)-&gt;ThrowNew(env, jcls, &quot;error message&quot;);\r\n        }\r\n    }\r\n\r\n\r\nMy critical JNI function begins by configuring the signal handler:\r\n\r\n    JNIEXPORT jint JNICALL Java_android_playground_criticalFuction\r\n    \t(JNIEnv *env, jclass c, jlong handle, jshortArray out_buffer){\r\n\r\n    \r\n        // new signal handler\r\n        struct sigaction sighandler;\r\n        initializeSignalHandler(env);\r\n        \r\n        // ...here goes the critical code\r\n    }\r\n\r\n\r\n\r\nWhen a SIGILL occurs in my native C code the following happens:\r\n\r\n1) On my debug terminal I get the following four messages\r\n\r\n - Sighandler: 4 (that corresponds to SIGILL)\r\n - Throwing exception\r\n - Sighandler: 4\r\n - Sighandler: 11\r\n\r\n2) The app window closes but I do not get the Android message \r\n      &quot;Unfortunately ... was closed&quot; that usually appears when an app crashes\r\n      \r\nI do not really understand why I get the third and fourth signal message as I would  assume that the exception is thrown. In addition, I think that the exception is never really thrown (to Java).\r\n \r\nI am lost and any help is greatly appreciated.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Replacing JNI Crashes by Exceptions on Android","body":"<p>I have developed an Android application that uses a native C library. I could successfully compile the whole thing using JNI, and everything works smoothly.</p>\n\n<p>However, every now and then the native C library crashes (most frequently with a SIGSEGV). This, in turn, causes my application to crash without any meaningful notice for the user. What I would like to achieve is the following:</p>\n\n<ol>\n<li>Catch the signal in the native code using a signal handler (sigaction) to prevent random crashes</li>\n<li>Throw an exception in the C library that Java can catch</li>\n<li>Catch the exception in Java, generate a meaningful warning message for the user and keep the app running</li>\n</ol>\n\n<p>In case that this is of any use for you - the JNI code runs in a separate thread (to be more precise inside an AsyncTask). </p>\n\n<p>I already checked <a href=\"http://blog.httrack.com/blog/2013/08/23/catching-posix-signals-on-android/\" rel=\"noreferrer\">http://blog.httrack.com/blog/2013/08/23/catching-posix-signals-on-android/</a> and <a href=\"https://github.com/xroche/coffeecatch\" rel=\"noreferrer\">https://github.com/xroche/coffeecatch</a>\nbut I cannot get it to compile.</p>\n\n<p>Following the suggestions from <a href=\"https://stackoverflow.com/questions/230689/best-way-to-throw-exceptions-in-jni-code\">Best way to throw exceptions in JNI code?</a> and <a href=\"https://stackoverflow.com/questions/30105719/how-to-catch-jni-crashes-as-exceptions-using-signal-handling-based-mechanism-in\">How to catch JNI Crashes as exceptions using Signal handling based mechanism in Java</a> and <a href=\"https://www.developer.com/java/data/exception-handling-in-jni.html\" rel=\"noreferrer\">https://www.developer.com/java/data/exception-handling-in-jni.html</a>\nI carried out the following steps:</p>\n\n<p>In my native code I added the following function that (to my understanding) sets up a signal handler:</p>\n\n<pre><code>void initializeSignalHandler(JNIEnv* env){\n    int watched_signals[] = { SIGABRT, SIGILL, SIGSEGV, SIGINT, SIGKILL }; // 6, 4, 11, 2, 9\n    struct sigaction sighandler;\n    memset(&amp;sighandler, 0, sizeof(sighandler));\n\n    sighandler.sa_sigaction = &amp;sighandler_func;\n    sighandler.sa_mask = 0;\n    sighandler.sa_flags = SA_SIGINFO | SA_ONSTACK;\n    for(int ii=0; ii&lt;5; ii++){\n        int signal = watched_signals[ii];\n        sigaction(signal, &amp;sighandler, NULL);        \n    }\n    env = env;\n}\n</code></pre>\n\n<p>My function that handles these signals looks like this:</p>\n\n<pre><code>void sighandler_func(int sig, siginfo_t* sig_info, void* ptr){\n    printerr(\"Sighandler: \", sig);\n    jclass jcls = (*env)-&gt;FindClass(env, \"java/lang/Error\");\n    jboolean flag = (*env)-&gt;ExceptionCheck(env);\n    if (flag) {\n        (*env)-&gt;ExceptionClear(env);\n        /* code to handle exception */\n    }\n    if (jcls!=NULL){\n        printerr(\"Throwing exception\");\n        (*env)-&gt;ThrowNew(env, jcls, \"error message\");\n    }\n}\n</code></pre>\n\n<p>My critical JNI function begins by configuring the signal handler:</p>\n\n<pre><code>JNIEXPORT jint JNICALL Java_android_playground_criticalFuction\n    (JNIEnv *env, jclass c, jlong handle, jshortArray out_buffer){\n\n\n    // new signal handler\n    struct sigaction sighandler;\n    initializeSignalHandler(env);\n\n    // ...here goes the critical code\n}\n</code></pre>\n\n<p>When a SIGILL occurs in my native C code the following happens:</p>\n\n<p>1) On my debug terminal I get the following four messages</p>\n\n<ul>\n<li>Sighandler: 4 (that corresponds to SIGILL)</li>\n<li>Throwing exception</li>\n<li>Sighandler: 4</li>\n<li>Sighandler: 11</li>\n</ul>\n\n<p>2) The app window closes but I do not get the Android message \n      \"Unfortunately ... was closed\" that usually appears when an app crashes</p>\n\n<p>I do not really understand why I get the third and fourth signal message as I would  assume that the exception is thrown. In addition, I think that the exception is never really thrown (to Java).</p>\n\n<p>I am lost and any help is greatly appreciated.</p>\n"},{"tags":["java","nested","do-while"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699672723,"creation_date":1666907319,"answer_id":74228664,"question_id":74226734,"body_markdown":"Recommendation:\r\n- If you want a faster answer, share a runnable code.\r\n- ALWAYS indent your code, it will be easier to read.\r\n- The name of the variables are so important, so please, give them an appropriate name to know what they contain. (For example, you declared a variable &quot;total&quot; which will contain the average result, it will be reasonable to call it &quot;avg&quot; or &quot;average&quot;)\r\n\r\n\r\nthis is a test class:\r\n\r\n    class StackOverflowTest {\r\n    \r\n        // regex pattern\r\n    \tprivate static final String REGEX_Y_OR_N = &quot;^[yn]$&quot;;\r\n    \t\r\n    \t@Test\r\n    \tvoid execute() {\r\n    \t\t\r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \t\t\r\n    \t\tString needToContinue = &quot;x&quot;;\r\n    \t\t\r\n            // loop until the user press &quot;n&quot;\r\n    \t\tdo {\r\n    \t\t\t\r\n                // for each iteration, tot and count will be reinitialized\r\n    \t\t\tint tot = 0;\r\n    \t\t\tint count = 0;\r\n    \t\t\t\r\n                // loop until the user enter 5 numbers\r\n    \t\t\tdo {\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.print(&quot;Enter a number : &quot;);\r\n    \t\t\t\t\r\n    \t\t\t\tint input;\r\n    \t\t\t\tif (scan.hasNextInt()) {\r\n    \t\t\t\t\tinput = scan.nextInt();\r\n    \t\t\t\t\tcount++;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tSystem.out.println(&quot;Number is invalid.&quot;+&quot;\\n&quot;);\r\n    \t\t\t\t\tscan.next();\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\ttot += input;\r\n    \r\n    \t\t\t} while (count &lt; 5);\r\n    \r\n    \t\t\tdouble avg = tot / 5;\r\n    \r\n    \t\t\tSystem.out.println(&quot;The average is : &quot; + avg + &quot; .&quot;);\r\n    \r\n    \t\t\tSystem.out.println(&quot;\\n&quot;+&quot; [do you want to continue press [ y ] for yes and [ n ] for no ]: &quot;);\r\n    \t\t\t\r\n                // loop until a valid character is entered (&quot;y&quot; or &quot;n&quot;)\r\n    \t\t\tdo {\r\n    \t\t\t\t\r\n    \t\t\t\tneedToContinue = scan.next();\r\n    \t\t\t\t\r\n    \t\t\t\tif (!needToContinue.matches(REGEX_Y_OR_N)) {\r\n    \t\t\t\t\tSystem.out.println(&quot;\\n&quot;+&quot;Invalid character!&quot;+&quot;\\n&quot;);\r\n    \t\t\t\t\tSystem.out.println(&quot; [do you want to continue press [ y ] for yes and [ n ] for no ]: &quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t} while (!needToContinue.matches(REGEX_Y_OR_N)); \r\n    \t\t\t\r\n    \r\n    \t\t} while (needToContinue.contains(&quot;y&quot;));\r\n    \t\t\r\n    \t\tscan.close();\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"How do you loop but make the value back to 0 the variable d1 is stacking the input making the average double the amount?","body":"<p>Recommendation:</p>\n<ul>\n<li>If you want a faster answer, share a runnable code.</li>\n<li>ALWAYS indent your code, it will be easier to read.</li>\n<li>The name of the variables are so important, so please, give them an appropriate name to know what they contain. (For example, you declared a variable &quot;total&quot; which will contain the average result, it will be reasonable to call it &quot;avg&quot; or &quot;average&quot;)</li>\n</ul>\n<p>this is a test class:</p>\n<pre><code>class StackOverflowTest {\n\n    // regex pattern\n    private static final String REGEX_Y_OR_N = &quot;^[yn]$&quot;;\n    \n    @Test\n    void execute() {\n        \n        Scanner scan = new Scanner(System.in);\n        \n        String needToContinue = &quot;x&quot;;\n        \n        // loop until the user press &quot;n&quot;\n        do {\n            \n            // for each iteration, tot and count will be reinitialized\n            int tot = 0;\n            int count = 0;\n            \n            // loop until the user enter 5 numbers\n            do {\n                \n                System.out.print(&quot;Enter a number : &quot;);\n                \n                int input;\n                if (scan.hasNextInt()) {\n                    input = scan.nextInt();\n                    count++;\n                } else {\n                    System.out.println(&quot;Number is invalid.&quot;+&quot;\\n&quot;);\n                    scan.next();\n                    continue;\n                }\n                \n                tot += input;\n\n            } while (count &lt; 5);\n\n            double avg = tot / 5;\n\n            System.out.println(&quot;The average is : &quot; + avg + &quot; .&quot;);\n\n            System.out.println(&quot;\\n&quot;+&quot; [do you want to continue press [ y ] for yes and [ n ] for no ]: &quot;);\n            \n            // loop until a valid character is entered (&quot;y&quot; or &quot;n&quot;)\n            do {\n                \n                needToContinue = scan.next();\n                \n                if (!needToContinue.matches(REGEX_Y_OR_N)) {\n                    System.out.println(&quot;\\n&quot;+&quot;Invalid character!&quot;+&quot;\\n&quot;);\n                    System.out.println(&quot; [do you want to continue press [ y ] for yes and [ n ] for no ]: &quot;);\n                }\n                \n            } while (!needToContinue.matches(REGEX_Y_OR_N)); \n            \n\n        } while (needToContinue.contains(&quot;y&quot;));\n        \n        scan.close();\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":26752776,"reputation":1,"user_id":20351881,"display_name":"Ddsec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699672768,"creation_date":1666895359,"question_id":74226734,"body_markdown":"    \r\n       do{\r\n        do{\r\n          System.out.print(&quot;Enter number&quot; + count + &quot;:&quot;);\r\n            if(scan.hasNextInt()){\r\n            d1 = scan.nextInt();\r\n            count ++;\r\n              }\r\n            else{\r\n                System.out.print(&quot;Number is invalid. &quot;);\r\n                scan.next();\r\n                continue;\r\n                   \r\n               }\r\n             t+=d1;\r\n          \r\n           }while(count&lt;=5);\r\n       \r\n           total = t / 5;\r\n           \r\n           System.out.print(&quot;The average is :&quot; + total + &quot; .&quot; );\r\n           \r\n           System.out.print(&quot; [do you want to continue press[ y ]for yes and [ n]  for no ]:&quot;);\r\n          \r\n\r\nI tried placing the t+= inside and outside of the brackets but no good still the same result\r\nthis part is where I am confused because the t+=d1 will stack the more I loop e.g. all my 5 numbers is 25 then avg is 25 then I press y then loops back I enter same 5 of 25 then the avg is 50","title":"How do you loop but make the value back to 0 the variable d1 is stacking the input making the average double the amount?","body":"<pre><code>   do{\n    do{\n      System.out.print(&quot;Enter number&quot; + count + &quot;:&quot;);\n        if(scan.hasNextInt()){\n        d1 = scan.nextInt();\n        count ++;\n          }\n        else{\n            System.out.print(&quot;Number is invalid. &quot;);\n            scan.next();\n            continue;\n               \n           }\n         t+=d1;\n      \n       }while(count&lt;=5);\n   \n       total = t / 5;\n       \n       System.out.print(&quot;The average is :&quot; + total + &quot; .&quot; );\n       \n       System.out.print(&quot; [do you want to continue press[ y ]for yes and [ n]  for no ]:&quot;);\n      \n</code></pre>\n<p>I tried placing the t+= inside and outside of the brackets but no good still the same result\nthis part is where I am confused because the t+=d1 will stack the more I loop e.g. all my 5 numbers is 25 then avg is 25 then I press y then loops back I enter same 5 of 25 then the avg is 50</p>\n"},{"tags":["java","partial-classes"],"comments":[{"owner":{"account_id":45934,"reputation":203639,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":10,"creation_date":1332781000,"post_id":9876339,"comment_id":12595027,"body_markdown":"&quot;Some of the service methods really belong in their own class and seem kind of illogical in the same class.&quot; Then why are you trying to put them in one class? Why not just put them in separate classes? see [Single responsibility principle](http://en.wikipedia.org/wiki/Single_responsibility_principle)","body":"&quot;Some of the service methods really belong in their own class and seem kind of illogical in the same class.&quot; Then why are you trying to put them in one class? Why not just put them in separate classes? see <a href=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"nofollow noreferrer\">Single responsibility principle</a>"},{"owner":{"account_id":120154,"reputation":10077,"user_id":312407,"accept_rate":100,"display_name":"Mike Clark"},"score":0,"creation_date":1332781359,"post_id":9876339,"comment_id":12595145,"body_markdown":"Java does not have built-in functionality that will make this easy for you.  There are a few third party libraries that can help you implement this.  My suggestion is to try to solve your problem without such a preprocessor.  For simple things, introducing a preprocessor may cost you far more than it saves you.","body":"Java does not have built-in functionality that will make this easy for you.  There are a few third party libraries that can help you implement this.  My suggestion is to try to solve your problem without such a preprocessor.  For simple things, introducing a preprocessor may cost you far more than it saves you."},{"owner":{"account_id":47622,"reputation":148548,"user_id":141172,"accept_rate":88,"display_name":"Eric J."},"score":1,"creation_date":1332781664,"post_id":9876339,"comment_id":12595239,"body_markdown":"@Jesper: He&#39;s actually trying to implement the single responsibility principle, but is not using composition to achieve it.","body":"@Jesper: He&#39;s actually trying to implement the single responsibility principle, but is not using composition to achieve it."}],"answers":[{"tags":[],"owner":{"account_id":47622,"reputation":148548,"user_id":141172,"accept_rate":88,"display_name":"Eric J."},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1332781751,"creation_date":1332780997,"answer_id":9876391,"question_id":9876339,"body_markdown":"Before going that route, you might want to consider the [Builder design pattern][1].  That allows your service to aggregate implementations that are implemented in separate classes.  No need for a pre-compiler, and very clean from an OO perspective.\r\n\r\nEach component class has a specific, narrow responsibility, with the service class enlisting the services of it&#39;s component classes to implement just the responsibility of the service.\r\n\r\nIf you really want to (**not recommended**), you can use a pre-processor to assemble parts of a class prior to compilation.\r\n\r\nThe only scenario where a pre-processor might make sense is if some of your implementation is code-generated and other parts are hand-coded. A straightforward approach might be to `#include` the externally defined class fragments in your main .java file and run a C pre-processor over the file before compilation.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Builder_pattern\r\n","title":"A way to implement partial classes in java","body":"<p>Before going that route, you might want to consider the <a href=\"http://en.wikipedia.org/wiki/Builder_pattern\" rel=\"nofollow\">Builder design pattern</a>.  That allows your service to aggregate implementations that are implemented in separate classes.  No need for a pre-compiler, and very clean from an OO perspective.</p>\n\n<p>Each component class has a specific, narrow responsibility, with the service class enlisting the services of it's component classes to implement just the responsibility of the service.</p>\n\n<p>If you really want to (<strong>not recommended</strong>), you can use a pre-processor to assemble parts of a class prior to compilation.</p>\n\n<p>The only scenario where a pre-processor might make sense is if some of your implementation is code-generated and other parts are hand-coded. A straightforward approach might be to <code>#include</code> the externally defined class fragments in your main .java file and run a C pre-processor over the file before compilation.</p>\n"},{"tags":[],"owner":{"account_id":78522,"reputation":31537,"user_id":223429,"display_name":"Eugene Kuleshov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1699672408,"creation_date":1332781113,"answer_id":9876414,"question_id":9876339,"body_markdown":"You can declare methods through multiple interfaces and then let your concrete classes implement multiple interfaces.\r\n\r\nMoreover, with `java.lang.Proxy`, you can assemble your service from multiple interfaces and delegate actual method calls to a separate implementation.","title":"A way to implement partial classes in java","body":"<p>You can declare methods through multiple interfaces and then let your concrete classes implement multiple interfaces.</p>\n<p>Moreover, with <code>java.lang.Proxy</code>, you can assemble your service from multiple interfaces and delegate actual method calls to a separate implementation.</p>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":11,"up_vote_count":55,"is_accepted":true,"score":44,"last_activity_date":1417536438,"creation_date":1332781125,"answer_id":9876419,"question_id":9876339,"body_markdown":"There is nothing like partial classes in Java. You can achieve many of the same benefits using aggregation, delegation, and abstract base classes.\r\n\r\n&lt;sub&gt;(I have caved to peer pressure and eliminated the &amp;ldquo;thankfully&amp;rdquo; remark that has generated so much heat in the comments. Evidently that little aside seems to have earned me four downvotes, despite being irrelevant to the answer.)&lt;/sub&gt;","title":"A way to implement partial classes in java","body":"<p>There is nothing like partial classes in Java. You can achieve many of the same benefits using aggregation, delegation, and abstract base classes.</p>\n\n<p><sub>(I have caved to peer pressure and eliminated the &ldquo;thankfully&rdquo; remark that has generated so much heat in the comments. Evidently that little aside seems to have earned me four downvotes, despite being irrelevant to the answer.)</sub></p>\n"},{"tags":[],"owner":{"account_id":2362964,"reputation":31,"user_id":2069266,"display_name":"abgalphabet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1391259799,"creation_date":1360776240,"answer_id":14859283,"question_id":9876339,"body_markdown":"Aspectj can be the answer to C#/.net partial class feature!\r\nSpring Roo is one of the typical development framework using aspectj to divide a class functionalities into several different files.","title":"A way to implement partial classes in java","body":"<p>Aspectj can be the answer to C#/.net partial class feature!\nSpring Roo is one of the typical development framework using aspectj to divide a class functionalities into several different files.</p>\n"},{"tags":[],"owner":{"account_id":141692,"reputation":2838,"user_id":348917,"accept_rate":96,"display_name":"Chad Harrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547864026,"creation_date":1547864026,"answer_id":54263554,"question_id":9876339,"body_markdown":"I hate to bring up an old thread, but thought I would bring a new perspective in respect to the given answers.  **Aspect Oriented** programming may better achieve what you&#39;re trying to implement cross-cutting concerns. \r\n\r\nYou&#39;re looking for a robust associative solution where you can parse out the implementing details to different controlling methods.  The [Spring framework][1] is very prominent in this space and often is associated with micro-services these days.\r\n\r\n\r\n  [1]: https://dzone.com/articles/overview-of-spring-aspect-oriented-programming-aop","title":"A way to implement partial classes in java","body":"<p>I hate to bring up an old thread, but thought I would bring a new perspective in respect to the given answers.  <strong>Aspect Oriented</strong> programming may better achieve what you're trying to implement cross-cutting concerns. </p>\n\n<p>You're looking for a robust associative solution where you can parse out the implementing details to different controlling methods.  The <a href=\"https://dzone.com/articles/overview-of-spring-aspect-oriented-programming-aop\" rel=\"nofollow noreferrer\">Spring framework</a> is very prominent in this space and often is associated with micro-services these days.</p>\n"}],"owner":{"account_id":377597,"reputation":9529,"user_id":729820,"accept_rate":84,"display_name":"SoftwareSavant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52957,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"accepted_answer_id":9876419,"answer_count":5,"score":35,"last_activity_date":1699672408,"creation_date":1332780813,"question_id":9876339,"body_markdown":"I have an interface that I want to implement in separate classes after doing a quick google search apparently, \r\nJava doesn&#39;t have partial classes.  Is there a way that I can do this or am I stuck throwing all of my code into one class?\r\n\r\nBasically, I am trying to write a service.\r\nSome of the service methods really belong in their own class and seem kind of illogical in the same class.  Here is an example of what I am trying to do.\r\n\r\n    package com.upmc.esdm.messaging.epcd.service;\r\n    import java.util.List;\r\n\r\n    import javax.ejb.Remote;\r\n\r\n    import com.upmc.esdm.messaging.epcd13jpa.entities.EmailDomainTrust;\r\n\r\n\r\n    @Remote\r\n    public interface MessagingInterfaceRemote {\r\n\tpublic List&lt;EmailDomainTrust&gt; getEmailDomains();\r\n\r\n        public int upDateQualityTable();\r\n\r\n        public string isLogial();\r\n\r\n        public byte[] ToWritePartialClassesInJava();\r\n    }\r\n\r\n\r\nI would normally have partial classes in C# and I would put similar methods that return similar values into one partial class (or maybe classes that update a record in one class).  How would I implement this?  Or should I just put all the method implementations into one class?\r\n\r\nThanks.","title":"A way to implement partial classes in java","body":"<p>I have an interface that I want to implement in separate classes after doing a quick google search apparently, \nJava doesn't have partial classes.  Is there a way that I can do this or am I stuck throwing all of my code into one class?</p>\n\n<p>Basically, I am trying to write a service.\nSome of the service methods really belong in their own class and seem kind of illogical in the same class.  Here is an example of what I am trying to do.</p>\n\n<pre><code>package com.upmc.esdm.messaging.epcd.service;\nimport java.util.List;\n\nimport javax.ejb.Remote;\n\nimport com.upmc.esdm.messaging.epcd13jpa.entities.EmailDomainTrust;\n\n\n@Remote\npublic interface MessagingInterfaceRemote {\npublic List&lt;EmailDomainTrust&gt; getEmailDomains();\n\n    public int upDateQualityTable();\n\n    public string isLogial();\n\n    public byte[] ToWritePartialClassesInJava();\n}\n</code></pre>\n\n<p>I would normally have partial classes in C# and I would put similar methods that return similar values into one partial class (or maybe classes that update a record in one class).  How would I implement this?  Or should I just put all the method implementations into one class?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","multithreading","file-io"],"comments":[{"owner":{"account_id":17835,"reputation":303885,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1699645707,"post_id":77462438,"comment_id":136562499,"body_markdown":"Checking `available()` introduces a read-before-use race condition (i.e. when you &quot;see&quot; 5 bytes available, by the time you call `read()` that number may be higher or lower, depending on what else happens). Also generally speaking reading from a single file will almost never be faster when done from multiple threads. You&#39;re probably better off reading from the file in just a single thread and then distributing the work to do onto different threads from there.","body":"Checking <code>available()</code> introduces a read-before-use race condition (i.e. when you &quot;see&quot; 5 bytes available, by the time you call <code>read()</code> that number may be higher or lower, depending on what else happens). Also generally speaking reading from a single file will almost never be faster when done from multiple threads. You&#39;re probably better off reading from the file in just a single thread and then distributing the work to do onto different threads from there."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699657653,"post_id":77462438,"comment_id":136563803,"body_markdown":"Did none of [the existing Questions](https://www.ecosia.org/search?tts=st_asaf_macos&amp;q=java%20read%20file%20being%20modified%20site%3Astackoverflow.com) help you?","body":"Did none of <a href=\"https://www.ecosia.org/search?tts=st_asaf_macos&amp;q=java%20read%20file%20being%20modified%20site%3Astackoverflow.com\" rel=\"nofollow noreferrer\">the existing Questions</a> help you?"},{"owner":{"account_id":43015,"reputation":3712,"user_id":125540,"accept_rate":75,"display_name":"Harry"},"score":0,"creation_date":1699671084,"post_id":77462438,"comment_id":136564645,"body_markdown":"@JoachimSauer I should have mentioned that each reader thread opens its own `FileInputStream`. In another process, this would anyway be necessary. I&#39;m only not sure if multiple readers each with their own instance of `FileInputStream` would result in thread contention caused slowless at the JVM or the OS level.","body":"@JoachimSauer I should have mentioned that each reader thread opens its own <code>FileInputStream</code>. In another process, this would anyway be necessary. I&#39;m only not sure if multiple readers each with their own instance of <code>FileInputStream</code> would result in thread contention caused slowless at the JVM or the OS level."},{"owner":{"account_id":43015,"reputation":3712,"user_id":125540,"accept_rate":75,"display_name":"Harry"},"score":0,"creation_date":1699671315,"post_id":77462438,"comment_id":136564659,"body_markdown":"@BasilBourque No. Please don&#39;t downvote at your whim, if it&#39;s you did it. There isn&#39;t a single question in your search link that answers what I asked. Just typing in some keywords and seeing several results show up doesn&#39;t mean the question has already been answered","body":"@BasilBourque No. Please don&#39;t downvote at your whim, if it&#39;s you did it. There isn&#39;t a single question in your search link that answers what I asked. Just typing in some keywords and seeing several results show up doesn&#39;t mean the question has already been answered"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699675245,"post_id":77462438,"comment_id":136564833,"body_markdown":"@Harry Not my down-vote, but no up-vote either. I find it hard to believe none of those search results resolve your issue, but I&#39;ve not studied them yet.","body":"@Harry Not my down-vote, but no up-vote either. I find it hard to believe none of those search results resolve your issue, but I&#39;ve not studied them yet."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1699675325,"post_id":77462438,"comment_id":136564840,"body_markdown":"By the way, Java 19 is past its end-of-life. Always use the latest version, or one of the Long-Term Support (LTS) versions: 8, 11, 17, 21.","body":"By the way, Java 19 is past its end-of-life. Always use the latest version, or one of the Long-Term Support (LTS) versions: 8, 11, 17, 21."},{"owner":{"account_id":17835,"reputation":303885,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1699772479,"post_id":77462438,"comment_id":136571786,"body_markdown":"So you want each thread to read the entirety of the created file? I&#39;d still reduce that to a single one and then distribute the data as appropriate with less heavy in-process methods, but at least this *could* work.","body":"So you want each thread to read the entirety of the created file? I&#39;d still reduce that to a single one and then distribute the data as appropriate with less heavy in-process methods, but at least this <i>could</i> work."}],"owner":{"account_id":43015,"reputation":3712,"user_id":125540,"accept_rate":75,"display_name":"Harry"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699672272,"creation_date":1699644587,"question_id":77462438,"body_markdown":"I have one thread writing events in real time to a file.\r\n\r\nI want to have a large number of reader threads, possibly virtual threads, in the same or different process, reading off of this file using `FileInputStream`. **(EDIT: Each reader thread uses its own `FileInputStream` instance.)**\r\n\r\nAssuming that the reader threads always check the value returned by `InputStream:available()` before doing the reads, will they block or contend with each other on a multicore machine when reading same or different sections of the file? Will it help if the disk is SSD because it has no platter rotation and reading-head movement?\r\n\r\nI ask this especially because I do not know what all goes on in the Java or the OS code.\r\n\r\nRelated question: Is there a more time-efficient way to do what I&#39;m trying to do? \r\n\r\nI am using Java 19.x on Linux 6.x.\r\n","title":"Java: Many threads or processes reading a file","body":"<p>I have one thread writing events in real time to a file.</p>\n<p>I want to have a large number of reader threads, possibly virtual threads, in the same or different process, reading off of this file using <code>FileInputStream</code>. <strong>(EDIT: Each reader thread uses its own <code>FileInputStream</code> instance.)</strong></p>\n<p>Assuming that the reader threads always check the value returned by <code>InputStream:available()</code> before doing the reads, will they block or contend with each other on a multicore machine when reading same or different sections of the file? Will it help if the disk is SSD because it has no platter rotation and reading-head movement?</p>\n<p>I ask this especially because I do not know what all goes on in the Java or the OS code.</p>\n<p>Related question: Is there a more time-efficient way to do what I'm trying to do?</p>\n<p>I am using Java 19.x on Linux 6.x.</p>\n"},{"tags":["java","spring","dependency-injection","lombok"],"comments":[{"owner":{"account_id":5120170,"reputation":511,"user_id":4104015,"display_name":"Kevin Davin"},"score":2,"creation_date":1469421996,"post_id":38549657,"comment_id":64510543,"body_markdown":"Already ask on github  https://github.com/rzwitserloot/lombok/issues/745","body":"Already ask on github  <a href=\"https://github.com/rzwitserloot/lombok/issues/745\" rel=\"nofollow noreferrer\">github.com/rzwitserloot/lombok/issues/745</a>"},{"owner":{"account_id":226545,"reputation":9656,"user_id":487649,"accept_rate":67,"display_name":"Nikola Yovchev"},"score":0,"creation_date":1481558366,"post_id":38549657,"comment_id":69413537,"body_markdown":"I also think it&#39;s something that isn&#39;t so hard to add esp if the annotation fits both an instance variable and a parameter in a constructor, like @Qualifier does.","body":"I also think it&#39;s something that isn&#39;t so hard to add esp if the annotation fits both an instance variable and a parameter in a constructor, like @Qualifier does."}],"answers":[{"tags":[],"owner":{"account_id":226545,"reputation":9656,"user_id":487649,"accept_rate":67,"display_name":"Nikola Yovchev"},"down_vote_count":0,"up_vote_count":243,"is_accepted":true,"score":243,"last_activity_date":1699670315,"creation_date":1526026503,"answer_id":50287955,"question_id":38549657,"body_markdown":"You can have a service defined like this:\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class SomeRouterService {\r\n\t\r\n\t   @Qualifier(&quot;someDestination1&quot;) @NonNull private final SomeDestination someDestination1;\r\n\t   @Qualifier(&quot;someDestination2&quot;) @NonNull private final SomeDestination someDestination2;\r\n\t\r\n\t   public void onMessage(Message message) {\r\n\t       // some code to route stuff based on something to either destination1 or destination2\r\n\t   }\r\n\t\r\n     } \r\n\r\n\r\nProvided that you have a `lombok.config` file like this in the root of the project:\r\n\r\n    # Copy the Qualifier annotation from the instance variables to the constructor\r\n    # see https://github.com/rzwitserloot/lombok/issues/745\r\n    lombok.copyableAnnotations += org.springframework.beans.factory.annotation.Qualifier\r\n    lombok.copyableAnnotations += org.springframework.beans.factory.annotation.Value\r\n\r\nThis was introduced in lombok 1.18.4, I wrote about it in my blogpost, and I am proud to say I was one of the main driving forces pushing for the implementation of the feature.\r\n\r\n  \r\n - The [blog post where the issue is discussed][1] in detail\r\n - The original [issue on github][2]\r\n - And a small [github project to see it in action][3] \r\n\r\n\r\n  [1]: https://ath3nd.wordpress.com/2018/12/13/spring-lombok-or-injection-just-became-a-bit-easier-part-2-of-2/\r\n  [2]: https://github.com/rzwitserloot/lombok/issues/745\r\n  [3]: https://github.com/lc-nyovchev/lombok-spring-qualifier","title":"Is it possible to add qualifiers in @RequiredArgsConstructor(onConstructor = @__(@Autowired))?","body":"<p>You can have a service defined like this:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class SomeRouterService {\n\n   @Qualifier(&quot;someDestination1&quot;) @NonNull private final SomeDestination someDestination1;\n   @Qualifier(&quot;someDestination2&quot;) @NonNull private final SomeDestination someDestination2;\n\n   public void onMessage(Message message) {\n       // some code to route stuff based on something to either destination1 or destination2\n   }\n\n } \n</code></pre>\n<p>Provided that you have a <code>lombok.config</code> file like this in the root of the project:</p>\n<pre><code># Copy the Qualifier annotation from the instance variables to the constructor\n# see https://github.com/rzwitserloot/lombok/issues/745\nlombok.copyableAnnotations += org.springframework.beans.factory.annotation.Qualifier\nlombok.copyableAnnotations += org.springframework.beans.factory.annotation.Value\n</code></pre>\n<p>This was introduced in lombok 1.18.4, I wrote about it in my blogpost, and I am proud to say I was one of the main driving forces pushing for the implementation of the feature.</p>\n<ul>\n<li>The <a href=\"https://ath3nd.wordpress.com/2018/12/13/spring-lombok-or-injection-just-became-a-bit-easier-part-2-of-2/\" rel=\"nofollow noreferrer\">blog post where the issue is discussed</a> in detail</li>\n<li>The original <a href=\"https://github.com/rzwitserloot/lombok/issues/745\" rel=\"nofollow noreferrer\">issue on github</a></li>\n<li>And a small <a href=\"https://github.com/lc-nyovchev/lombok-spring-qualifier\" rel=\"nofollow noreferrer\">github project to see it in action</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11410365,"reputation":1115,"user_id":8364683,"display_name":"Алексей Виноградов"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1538061460,"creation_date":1538061460,"answer_id":52540251,"question_id":38549657,"body_markdown":"You may use spring trick to qualify field by naming it with desired qualifier without @Qualifier annotation.\r\n\r\n    @RequiredArgsConstructor\r\n    public class ValidationController {\r\n    \r\n      //@Qualifier(&quot;xmlFormValidator&quot;)\r\n        private final Validator xmlFormValidator;","title":"Is it possible to add qualifiers in @RequiredArgsConstructor(onConstructor = @__(@Autowired))?","body":"<p>You may use spring trick to qualify field by naming it with desired qualifier without @Qualifier annotation.</p>\n\n<pre><code>@RequiredArgsConstructor\npublic class ValidationController {\n\n  //@Qualifier(\"xmlFormValidator\")\n    private final Validator xmlFormValidator;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12838985,"reputation":385,"user_id":9287587,"display_name":"scott"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1606896913,"creation_date":1606896913,"answer_id":65104379,"question_id":38549657,"body_markdown":"I haven&#39;t test whether the accepted answer works well, but instead of create or edit lombok&#39;s config file, I think the cleaner way is rename the member variable to which name you want to qualifier.\r\n\r\n    // Error code without edit lombok config\r\n    @Service\r\n    @RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class Foo {\r\n        @Qualifier(&quot;anotherDao&quot;) UserDao userDao;\r\n    }\r\nJust remove @Qualifier and change your variable&#39;s name\r\n\r\n    // Works well\r\n    @Service\r\n    @RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class Foo {\r\n        UserDao anotherDao;\r\n    }","title":"Is it possible to add qualifiers in @RequiredArgsConstructor(onConstructor = @__(@Autowired))?","body":"<p>I haven't test whether the accepted answer works well, but instead of create or edit lombok's config file, I think the cleaner way is rename the member variable to which name you want to qualifier.</p>\n<pre><code>// Error code without edit lombok config\n@Service\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class Foo {\n    @Qualifier(&quot;anotherDao&quot;) UserDao userDao;\n}\n</code></pre>\n<p>Just remove @Qualifier and change your variable's name</p>\n<pre><code>// Works well\n@Service\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class Foo {\n    UserDao anotherDao;\n}\n</code></pre>\n"}],"owner":{"account_id":6087813,"reputation":15135,"user_id":4751165,"accept_rate":96,"display_name":"Pau"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80669,"favorite_count":0,"down_vote_count":0,"up_vote_count":114,"accepted_answer_id":50287955,"answer_count":3,"score":114,"last_activity_date":1699670315,"creation_date":1469344782,"question_id":38549657,"body_markdown":"If I wanted to use the annotation `@Qualifier` on a constructor dependency injection, I would have something like the following:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class Example {\r\n\t\r\n        private final ComponentExample component;\r\n\r\n        @Autowired\r\n        public Example(@Qualifier(&quot;someComponent&quot;) ComponentExample component) {\r\n            this.component = component;\r\n        }\r\n    }\r\n\r\nI know Lombok&#39;s annotations to reduce boilerplate code and don&#39;t have to include a constructor would be as follows: `@RequiredArgsConstructors(onConstructor=@__(@Inject))` but this only works with properties without qualifiers. \r\n\r\nAnyone know if it is possible to add qualifiers in `@RequiredArgsConstructor(onConstructor = @__(@Autowired))`?","title":"Is it possible to add qualifiers in @RequiredArgsConstructor(onConstructor = @__(@Autowired))?","body":"<p>If I wanted to use the annotation <code>@Qualifier</code> on a constructor dependency injection, I would have something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n\n    private final ComponentExample component;\n\n    @Autowired\n    public Example(@Qualifier(&quot;someComponent&quot;) ComponentExample component) {\n        this.component = component;\n    }\n}\n</code></pre>\n<p>I know Lombok's annotations to reduce boilerplate code and don't have to include a constructor would be as follows: <code>@RequiredArgsConstructors(onConstructor=@__(@Inject))</code> but this only works with properties without qualifiers.</p>\n<p>Anyone know if it is possible to add qualifiers in <code>@RequiredArgsConstructor(onConstructor = @__(@Autowired))</code>?</p>\n"},{"tags":["java","jndi","activemq-artemis","hornetq","jboss-eap-7"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699667123,"creation_date":1699667123,"answer_id":77463631,"question_id":77462537,"body_markdown":"The JSON you&#39;re passing to [`ActiveMQServerControl.createQueue`](https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/management/ActiveMQServerControl.html#createQueue(java.lang.String)) contains &quot;entries&quot; which is not valid. See the JavaDoc for [`QueueConfiguration`](https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/QueueConfiguration.html) for details on what properties are valid.\r\n\r\nThat said, you almost certainly should be using one of the [WildFly Management Clients][1] instead of trying to work directly with the embedded instance of ActiveMQ Artemis. By using WildFly management you&#39;ll have access to a rich model, including all the necessary JMS related operations (including [adding a queue][2]). Furthermore, those changes will be reflected _in the model_ which provides benefits like automatically updating the XML configuration file (e.g. `standalone-full.xml`) on disk.\r\n\r\nIt&#39;s important to note that in this context WildFly itself manages the JNDI entries, not ActiveMQ Artemis. That&#39;s why when you look up JMS admin objects in WildFly you use `org.wildfly.naming.client.WildFlyInitialContextFactory` rather than a class from ActiveMQ Artemis.\r\n\r\n\r\n  [1]: https://docs.wildfly.org/23/Admin_Guide.html#Management_Clients\r\n  [2]: https://docs.wildfly.org/23/wildscribe/subsystem/messaging-activemq/server/jms-queue/index.html#op-add","title":"JBoss 7.4 ActiveMQ Artemis Queue Can&#39;t binding to a specific JNDI name","body":"<p>The JSON you're passing to <a href=\"https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/management/ActiveMQServerControl.html#createQueue(java.lang.String)\" rel=\"nofollow noreferrer\"><code>ActiveMQServerControl.createQueue</code></a> contains &quot;entries&quot; which is not valid. See the JavaDoc for <a href=\"https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/QueueConfiguration.html\" rel=\"nofollow noreferrer\"><code>QueueConfiguration</code></a> for details on what properties are valid.</p>\n<p>That said, you almost certainly should be using one of the <a href=\"https://docs.wildfly.org/23/Admin_Guide.html#Management_Clients\" rel=\"nofollow noreferrer\">WildFly Management Clients</a> instead of trying to work directly with the embedded instance of ActiveMQ Artemis. By using WildFly management you'll have access to a rich model, including all the necessary JMS related operations (including <a href=\"https://docs.wildfly.org/23/wildscribe/subsystem/messaging-activemq/server/jms-queue/index.html#op-add\" rel=\"nofollow noreferrer\">adding a queue</a>). Furthermore, those changes will be reflected <em>in the model</em> which provides benefits like automatically updating the XML configuration file (e.g. <code>standalone-full.xml</code>) on disk.</p>\n<p>It's important to note that in this context WildFly itself manages the JNDI entries, not ActiveMQ Artemis. That's why when you look up JMS admin objects in WildFly you use <code>org.wildfly.naming.client.WildFlyInitialContextFactory</code> rather than a class from ActiveMQ Artemis.</p>\n"}],"owner":{"account_id":29874574,"reputation":3,"user_id":22895123,"display_name":"Pedroz141"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77463631,"answer_count":1,"score":0,"last_activity_date":1699667123,"creation_date":1699645803,"question_id":77462537,"body_markdown":"I&#39;m working on a JBoss migration from EAP 6.4 to 7.4.\r\nOne of the issues found is the replacement of HornetQ with ActiveMQ Artemis version 2.16.0.redhat-00022. My issue in specific is the JNDI binding for the created queues.\r\n\r\nOn HornetQ the following code was used to create the queue:\r\n```\r\nimport org.hornetq.api.jms.management.JMSServerControl;\r\n...\r\n...\r\nJMSServerControl srv_c = getJMSServerControl(); // this method gets the object from MBServer\r\nsrv.createQueue(&quot;MyQName&quot;, &quot;queue/MyQName&quot;, null, false);\r\n```\r\n\r\nIn the other part of the code, I&#39;m able to search the queue via JNDI name:\r\n\r\n```java\r\nimport javax.jms.Queue;\r\n...\r\n...\r\nctx = new InitialContext();\r\nQueue ourQueue = (Queue) ctx.lookup(&quot;queue/MyQName&quot;);\r\nif(ourQueue == null) {\r\n  log.error(&quot;Queue not found!&quot;);\r\n} else {\r\n  log.info(&quot;Queue found&quot;);\r\n}\r\n```\r\n\r\nLooking for an equivalent on Artemis I tried to use **ActiveMQServerControl** and specify the configuration for the queue creation.\r\n\r\n```\r\nimport org.apache.activemq.artemis.api.core.management.ActiveMQServerControl;\r\n...\r\n...\r\nActiveMQServerControl srv_c = getJMSServerControl(); // also found via MBServer\r\nString queueConfig = &quot;{&quot; +\r\n  &quot;\\&quot;name\\&quot;: \\&quot;MyQName\\&quot;,&quot; +\r\n  &quot;\\&quot;address\\&quot;: \\&quot;jms.queue.MyQName\\&quot;,&quot; +\r\n  &quot;\\&quot;durable\\&quot;: false,&quot; +\r\n  &quot;\\&quot;entries\\&quot;: [\\&quot;java:/queue/MyQName\\&quot;]&quot; +\r\n  &quot;}&quot;;\r\nsrv_c.createQueue(queueConfig);\r\n```\r\nHowever, when I try to find the queue via JNDI it always returns that the object doesn&#39;t exist. Across the system the queues are retrieved via JNDI which is why I need to do it this way.","title":"JBoss 7.4 ActiveMQ Artemis Queue Can&#39;t binding to a specific JNDI name","body":"<p>I'm working on a JBoss migration from EAP 6.4 to 7.4.\nOne of the issues found is the replacement of HornetQ with ActiveMQ Artemis version 2.16.0.redhat-00022. My issue in specific is the JNDI binding for the created queues.</p>\n<p>On HornetQ the following code was used to create the queue:</p>\n<pre><code>import org.hornetq.api.jms.management.JMSServerControl;\n...\n...\nJMSServerControl srv_c = getJMSServerControl(); // this method gets the object from MBServer\nsrv.createQueue(&quot;MyQName&quot;, &quot;queue/MyQName&quot;, null, false);\n</code></pre>\n<p>In the other part of the code, I'm able to search the queue via JNDI name:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.jms.Queue;\n...\n...\nctx = new InitialContext();\nQueue ourQueue = (Queue) ctx.lookup(&quot;queue/MyQName&quot;);\nif(ourQueue == null) {\n  log.error(&quot;Queue not found!&quot;);\n} else {\n  log.info(&quot;Queue found&quot;);\n}\n</code></pre>\n<p>Looking for an equivalent on Artemis I tried to use <strong>ActiveMQServerControl</strong> and specify the configuration for the queue creation.</p>\n<pre><code>import org.apache.activemq.artemis.api.core.management.ActiveMQServerControl;\n...\n...\nActiveMQServerControl srv_c = getJMSServerControl(); // also found via MBServer\nString queueConfig = &quot;{&quot; +\n  &quot;\\&quot;name\\&quot;: \\&quot;MyQName\\&quot;,&quot; +\n  &quot;\\&quot;address\\&quot;: \\&quot;jms.queue.MyQName\\&quot;,&quot; +\n  &quot;\\&quot;durable\\&quot;: false,&quot; +\n  &quot;\\&quot;entries\\&quot;: [\\&quot;java:/queue/MyQName\\&quot;]&quot; +\n  &quot;}&quot;;\nsrv_c.createQueue(queueConfig);\n</code></pre>\n<p>However, when I try to find the queue via JNDI it always returns that the object doesn't exist. Across the system the queues are retrieved via JNDI which is why I need to do it this way.</p>\n"},{"tags":["java","spring-boot","nullpointerexception","mockito","junit5"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699599371,"post_id":77457787,"comment_id":136554805,"body_markdown":"When you create a new `taskService` in `setUp`, you are replacing the instance of `TaskService` which had the mocks injected.","body":"When you create a new <code>taskService</code> in <code>setUp</code>, you are replacing the instance of <code>TaskService</code> which had the mocks injected."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699599419,"post_id":77457787,"comment_id":136554808,"body_markdown":"I suggest using constructor injection, by the way. That would have made this problem clearer.","body":"I suggest using constructor injection, by the way. That would have made this problem clearer."},{"owner":{"account_id":29869439,"reputation":1,"user_id":22891133,"display_name":"Natalia"},"score":0,"creation_date":1699660224,"post_id":77457787,"comment_id":136563968,"body_markdown":"Even after removing service = new TaskService(userService), the error persists.\nImplementing dependency injection in TaskService like that because I was having a circular dependency error.","body":"Even after removing service = new TaskService(userService), the error persists. Implementing dependency injection in TaskService like that because I was having a circular dependency error."}],"answers":[{"tags":[],"owner":{"account_id":4727352,"reputation":1053,"user_id":3823862,"accept_rate":100,"display_name":"mirzak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699602054,"creation_date":1699602054,"answer_id":77458368,"question_id":77457787,"body_markdown":"Issue you have here is that you are overriding the TaskService to which you have injected the mocks. You create new instance of it in the setup. \r\n\r\nIf possible you can have something like this \r\n\r\n    @Mock\r\n    Repository repository;\r\n    @Mock\r\n    OtherService otherService;\r\n    TaskService service;\r\n\r\n    @Setup\r\n    void setup() {\r\n        service = new TaskService(repository, otherService);\r\n    }\r\nIf you can not inject the repository using constructor injection, then you can do what you did previously, but inject the other service the same way you inject your repository. \r\n\r\nThird option you have is to set the other service via setter in the task service, but I would not recommend doing this.\r\n\r\n","title":"Repository is not being mocked JUnit5","body":"<p>Issue you have here is that you are overriding the TaskService to which you have injected the mocks. You create new instance of it in the setup.</p>\n<p>If possible you can have something like this</p>\n<pre><code>@Mock\nRepository repository;\n@Mock\nOtherService otherService;\nTaskService service;\n\n@Setup\nvoid setup() {\n    service = new TaskService(repository, otherService);\n}\n</code></pre>\n<p>If you can not inject the repository using constructor injection, then you can do what you did previously, but inject the other service the same way you inject your repository.</p>\n<p>Third option you have is to set the other service via setter in the task service, but I would not recommend doing this.</p>\n"}],"owner":{"account_id":29869439,"reputation":1,"user_id":22891133,"display_name":"Natalia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699605125,"answer_count":1,"score":0,"last_activity_date":1699667038,"creation_date":1699592327,"question_id":77457787,"body_markdown":"I&#39;m encountering the following error when I run the unit test:\r\nError:java.lang.NullPointerException: Cannot invoke &quot;com.example.gerenciadordetarefas.repository.task.TaskRepository.findById(Object)&quot; because &quot;this.taskRepository&quot; is null\r\n\r\nI know that the repository is not being mocked, but I don&#39;t know why.\r\n\r\nTaskServiceTest\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass TaskServiceTest {\r\n    @Mock\r\n    private TaskRepository repository;\r\n\r\n    @InjectMocks\r\n    private  TaskService service;\r\n\r\n    @Mock\r\n    private UserService userService;\r\n    private static final String TASK_ID_1 = &quot;652d960af866034b686cca97&quot;;\r\n    private static final String TASK_ID_2 = &quot;252d960af866034b686cca92&quot;;\r\n    private static final String USER_ID_1 = &quot;642f6ab6813d692cef4795cc&quot;;\r\n\r\n    private final User user1 = User.builder()\r\n            .id(USER_ID_1)\r\n            .name(&quot;Maria Silva&quot;)\r\n            .assignedTasks(new ArrayList&lt;&gt;())\r\n            .build();\r\n    private final Task task = Task.builder()\r\n            .title(&quot;teste&quot;)\r\n            .description(&quot;teste aqui&quot;)\r\n            .dateOfCreation(LocalDate.now())\r\n            .dueDate(LocalDate.now())\r\n            .assigne(Collections.singletonList(user1))\r\n            .build();\r\n\r\n    private final TaskDto taskD = TaskDto.builder()\r\n            .title(&quot;teste&quot;)\r\n            .description(&quot;teste aqui&quot;)\r\n            .dateOfCreation(LocalDate.now())\r\n            .dueDate(LocalDate.now())\r\n            .assigne(Collections.singletonList(USER_ID_1))\r\n            .build();\r\n\r\n\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        // MockitoAnnotations.initMocks(this);\r\n        service = new TaskService(userService);\r\n        Mockito.lenient().when(userService.getUserById(USER_ID_1)).thenReturn(user1);\r\n        Mockito.lenient().when(repository.save(Mockito.any(Task.class))).thenReturn(task);\r\n        Mockito.lenient().when(repository.findById(TASK_ID_1)).thenReturn(Optional.of(task));\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Verificar se o objeto Task est&#225; sendo criado &quot;)\r\n    void createTask() {\r\n        service.createTask(taskD);\r\n        verify(repository, times(1)).save(task);\r\n\r\n    }\r\n```\r\nTaskService:\r\n\r\n```\r\n@Service\r\npublic class TaskService {\r\n    @Autowired\r\n    private TaskRepository taskRepository;\r\n    private final UserService userService;\r\n    @Autowired\r\n    public TaskService(@Lazy UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    public TaskDtoResponse createTask(TaskDto taskDto) {\r\n        Task task = TaskMapper.taskDtoToTask(taskDto);\r\n        this.addToAssigne(taskDto, task);\r\n        taskRepository.save(task);\r\n        return TaskMapper.taskToTaskDtoResponse(task);\r\n    }\r\n    public Task addToAssigne(TaskDto taskDto, Task task){\r\n        List&lt;String&gt;assigne = taskDto.getAssigne();\r\n        assigne.forEach(id -&gt; {\r\n            User user = userService.getUserById(id);\r\n            task.getAssigne().add(user);\r\n        });\r\n        return task;\r\n    }\r\n}\r\n```\r\nTaskRepository:\r\n\r\n```\r\n@Repository\r\npublic interface TaskRepository extends MongoRepository&lt;Task, String&gt; {\r\n    @Query(&quot;{_id: {$in:?0}})&quot;)\r\n    List&lt;Task&gt; findByIds(List&lt;String&gt; ids);\r\n}\r\n```\r\nUserService:\r\n\r\n```\r\n@Service\r\npublic class UserService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private TaskService taskService;\r\n\r\n\r\n    public UserDtoResponse createUser(UserDto userDto)  {\r\n        User user = UserMapper.userDtoToUser(userDto);\r\n        if(userDto.getAssignedTasks() != null){\r\n            this.addToTaskList(userDto, user);\r\n        }\r\n        userRepository.save(user);\r\n        return UserMapper.userToUserDtoResponse(user);\r\n    }\r\n    public User addToTaskList(UserDto userDto, User user){\r\n        List&lt;String&gt;assignedTasks =  userDto.getAssignedTasks();\r\n        assignedTasks.forEach(id-&gt; {\r\n            Task task = taskService.getTaskById(id);\r\n            user.getAssignedTasks().add(task);\r\n        });\r\n        return user;\r\n    }\r\n}\r\n```\r\nHow can I make the test createTask() pass?\r\n\r\n","title":"Repository is not being mocked JUnit5","body":"<p>I'm encountering the following error when I run the unit test:\nError:java.lang.NullPointerException: Cannot invoke &quot;com.example.gerenciadordetarefas.repository.task.TaskRepository.findById(Object)&quot; because &quot;this.taskRepository&quot; is null</p>\n<p>I know that the repository is not being mocked, but I don't know why.</p>\n<p>TaskServiceTest</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass TaskServiceTest {\n    @Mock\n    private TaskRepository repository;\n\n    @InjectMocks\n    private  TaskService service;\n\n    @Mock\n    private UserService userService;\n    private static final String TASK_ID_1 = &quot;652d960af866034b686cca97&quot;;\n    private static final String TASK_ID_2 = &quot;252d960af866034b686cca92&quot;;\n    private static final String USER_ID_1 = &quot;642f6ab6813d692cef4795cc&quot;;\n\n    private final User user1 = User.builder()\n            .id(USER_ID_1)\n            .name(&quot;Maria Silva&quot;)\n            .assignedTasks(new ArrayList&lt;&gt;())\n            .build();\n    private final Task task = Task.builder()\n            .title(&quot;teste&quot;)\n            .description(&quot;teste aqui&quot;)\n            .dateOfCreation(LocalDate.now())\n            .dueDate(LocalDate.now())\n            .assigne(Collections.singletonList(user1))\n            .build();\n\n    private final TaskDto taskD = TaskDto.builder()\n            .title(&quot;teste&quot;)\n            .description(&quot;teste aqui&quot;)\n            .dateOfCreation(LocalDate.now())\n            .dueDate(LocalDate.now())\n            .assigne(Collections.singletonList(USER_ID_1))\n            .build();\n\n\n\n    @BeforeEach\n    void setUp() {\n        // MockitoAnnotations.initMocks(this);\n        service = new TaskService(userService);\n        Mockito.lenient().when(userService.getUserById(USER_ID_1)).thenReturn(user1);\n        Mockito.lenient().when(repository.save(Mockito.any(Task.class))).thenReturn(task);\n        Mockito.lenient().when(repository.findById(TASK_ID_1)).thenReturn(Optional.of(task));\n    }\n\n    @Test\n    @DisplayName(&quot;Verificar se o objeto Task está sendo criado &quot;)\n    void createTask() {\n        service.createTask(taskD);\n        verify(repository, times(1)).save(task);\n\n    }\n</code></pre>\n<p>TaskService:</p>\n<pre><code>@Service\npublic class TaskService {\n    @Autowired\n    private TaskRepository taskRepository;\n    private final UserService userService;\n    @Autowired\n    public TaskService(@Lazy UserService userService) {\n        this.userService = userService;\n    }\n\n    public TaskDtoResponse createTask(TaskDto taskDto) {\n        Task task = TaskMapper.taskDtoToTask(taskDto);\n        this.addToAssigne(taskDto, task);\n        taskRepository.save(task);\n        return TaskMapper.taskToTaskDtoResponse(task);\n    }\n    public Task addToAssigne(TaskDto taskDto, Task task){\n        List&lt;String&gt;assigne = taskDto.getAssigne();\n        assigne.forEach(id -&gt; {\n            User user = userService.getUserById(id);\n            task.getAssigne().add(user);\n        });\n        return task;\n    }\n}\n</code></pre>\n<p>TaskRepository:</p>\n<pre><code>@Repository\npublic interface TaskRepository extends MongoRepository&lt;Task, String&gt; {\n    @Query(&quot;{_id: {$in:?0}})&quot;)\n    List&lt;Task&gt; findByIds(List&lt;String&gt; ids);\n}\n</code></pre>\n<p>UserService:</p>\n<pre><code>@Service\npublic class UserService {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private TaskService taskService;\n\n\n    public UserDtoResponse createUser(UserDto userDto)  {\n        User user = UserMapper.userDtoToUser(userDto);\n        if(userDto.getAssignedTasks() != null){\n            this.addToTaskList(userDto, user);\n        }\n        userRepository.save(user);\n        return UserMapper.userToUserDtoResponse(user);\n    }\n    public User addToTaskList(UserDto userDto, User user){\n        List&lt;String&gt;assignedTasks =  userDto.getAssignedTasks();\n        assignedTasks.forEach(id-&gt; {\n            Task task = taskService.getTaskById(id);\n            user.getAssignedTasks().add(task);\n        });\n        return user;\n    }\n}\n</code></pre>\n<p>How can I make the test createTask() pass?</p>\n"},{"tags":["java","android","layout","admob","ads"],"answers":[{"tags":[],"owner":{"account_id":29841276,"reputation":16,"user_id":22869431,"display_name":"Omar Samara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699666915,"creation_date":1699666915,"answer_id":77463616,"question_id":77434307,"body_markdown":"hello so after a while i figure the problem.\r\n\r\nmy app was going well until i upgrade the target version to android 13 or api 33, my app is using external storage permission but in api 33 to ask for this permission you need a new permission that introduced just for api 33 and up, so my app target api 33 but devices with api 33 and up can&#39;t use it because i was asking for the wrong permission and that why admob restrict ads on my app, after i fix everything admob serve ads to my app again \r\n\r\nfor more details read here\r\nhttps://stackoverflow.com/questions/73826323/android-api-33-permissions-are-not-granted ","title":"my android app get ads restriction from admob with the reason site behavior: navigation but i can&#39;t understand why?","body":"<p>hello so after a while i figure the problem.</p>\n<p>my app was going well until i upgrade the target version to android 13 or api 33, my app is using external storage permission but in api 33 to ask for this permission you need a new permission that introduced just for api 33 and up, so my app target api 33 but devices with api 33 and up can't use it because i was asking for the wrong permission and that why admob restrict ads on my app, after i fix everything admob serve ads to my app again</p>\n<p>for more details read here\n<a href=\"https://stackoverflow.com/questions/73826323/android-api-33-permissions-are-not-granted\">Android API 33 permissions are not granted</a></p>\n"}],"owner":{"account_id":29841276,"reputation":16,"user_id":22869431,"display_name":"Omar Samara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77463616,"answer_count":1,"score":0,"last_activity_date":1699666915,"creation_date":1699305500,"question_id":77434307,"body_markdown":"my android app get ads restriction from admob with the reason site behavior: navigation but i can&#39;t understand why?\r\n\r\nthis is my app and i review it on many devices mobiles tablets and on many screen sizes from small to xx-large screen and everything is okay.\r\n\r\nbut admob still insist on the same problem which is Site Behavior: Navigation without giving me any more details?\r\n\r\nthis is my app store link\r\nhttps://play.google.com/store/apps/details?id=com.wallpaperfountain.bluerosewallpapers62\r\n\r\ncan any one help me and told me why and where is the error in my app?\r\n\r\ni solved all the layout problems in my app and now everything work clearly and i can&#39;t find any problem but although admob team insist that my app have a problem without telling me where exactly so i hope from expert people to install my app and tell me if they can figure where is the problem","title":"my android app get ads restriction from admob with the reason site behavior: navigation but i can&#39;t understand why?","body":"<p>my android app get ads restriction from admob with the reason site behavior: navigation but i can't understand why?</p>\n<p>this is my app and i review it on many devices mobiles tablets and on many screen sizes from small to xx-large screen and everything is okay.</p>\n<p>but admob still insist on the same problem which is Site Behavior: Navigation without giving me any more details?</p>\n<p>this is my app store link\n<a href=\"https://play.google.com/store/apps/details?id=com.wallpaperfountain.bluerosewallpapers62\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.wallpaperfountain.bluerosewallpapers62</a></p>\n<p>can any one help me and told me why and where is the error in my app?</p>\n<p>i solved all the layout problems in my app and now everything work clearly and i can't find any problem but although admob team insist that my app have a problem without telling me where exactly so i hope from expert people to install my app and tell me if they can figure where is the problem</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":944674,"reputation":307,"user_id":972156,"accept_rate":60,"display_name":"ThomasDKim"},"score":0,"creation_date":1421286605,"post_id":27955587,"comment_id":44306115,"body_markdown":"Is there more elegant way to do this?","body":"Is there more elegant way to do this?"},{"owner":{"account_id":336687,"reputation":1696,"user_id":664479,"display_name":"Stuart Siegler"},"score":0,"creation_date":1421287113,"post_id":27955587,"comment_id":44306196,"body_markdown":"Looks like you still have the file open (for reading) in the first line.","body":"Looks like you still have the file open (for reading) in the first line."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1421287821,"post_id":27955587,"comment_id":44306341,"body_markdown":"Close the FileReader. Depending on a lot of things, often you can&#39;t write to a file while something else is reading from it.","body":"Close the FileReader. Depending on a lot of things, often you can&#39;t write to a file while something else is reading from it."},{"owner":{"account_id":944674,"reputation":307,"user_id":972156,"accept_rate":60,"display_name":"ThomasDKim"},"score":0,"creation_date":1421344538,"post_id":27955587,"comment_id":44332412,"body_markdown":"Yes, closing the FileReader did it!!  Thanks Stuart Siegler and immibis!","body":"Yes, closing the FileReader did it!!  Thanks Stuart Siegler and immibis!"}],"answers":[{"tags":[],"owner":{"account_id":9142061,"reputation":1295,"user_id":6799603,"display_name":"Gajender Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1476787025,"creation_date":1476787025,"answer_id":40105959,"question_id":27955587,"body_markdown":"place this code \r\n\r\n    try (FileWriter file = new FileWriter(&quot;/C:/Users/itaas/Desktop/text1.txt&quot;)) {\r\n    \t\t\tfile.write(js.toString());\r\n    \t\t\tSystem.out.println(&quot;Successfully Copied JSON Object to File...&quot;);\r\n    \t\t\tSystem.out.println(&quot;\\nJSON Object: &quot; + js);\r\n    \t\t\t\r\n    \t\t}\r\n         \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }","title":"java - update .json file (using json.simple)","body":"<p>place this code </p>\n\n<pre><code>try (FileWriter file = new FileWriter(\"/C:/Users/itaas/Desktop/text1.txt\")) {\n            file.write(js.toString());\n            System.out.println(\"Successfully Copied JSON Object to File...\");\n            System.out.println(\"\\nJSON Object: \" + js);\n\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13795858,"reputation":69,"user_id":9957095,"display_name":"Dilip Kumar Muniraju"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1567760234,"creation_date":1567760234,"answer_id":57818834,"question_id":27955587,"body_markdown":"    //this worked for me\r\n\r\n        package com.FLP.utils;\r\n\r\n        import java.io.FileReader;\r\n        import java.io.IOException;\r\n        import java.io.Reader;\r\n        import java.io.FileWriter;\r\n\r\n       import org.json.simple.JSONArray;\r\n       import org.json.simple.JSONObject;\r\n       import org.json.simple.parser.JSONParser;\r\n       import org.json.simple.parser.ParseException;\r\n\r\n       @SuppressWarnings(&quot;unchecked&quot;)\r\n       public class TestDataReader {\r\n\r\n\t    public static void main(String[] args) {\t\t\r\n\t\r\n\t\ttry (Reader reader = new FileReader(&quot;.\\\\testdata\\\\TC_11.json&quot;)) {\r\n\t\t\t// Read JSON file\r\n\t\t\tJSONParser parser = new JSONParser();\r\n\t\t\tJSONObject data = (JSONObject) parser.parse(reader);\r\n\t\t\tdata.put(key value);\r\n\t\t\t@SuppressWarnings(&quot;resource&quot;)\r\n\t\t\tFileWriter file = new FileWriter(&quot;.\\\\testdata\\\\TC_11.json&quot;);\r\n\t\t\tfile.write(data.toJSONString());\r\n\t\t\tfile.flush();\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t   } catch (ParseException e1) {\r\n\t\t\t    e1.printStackTrace();\r\n\t\t   }\r\n       }\r\n\r\n       }\r\n","title":"java - update .json file (using json.simple)","body":"<pre><code>//this worked for me\n\n    package com.FLP.utils;\n\n    import java.io.FileReader;\n    import java.io.IOException;\n    import java.io.Reader;\n    import java.io.FileWriter;\n\n   import org.json.simple.JSONArray;\n   import org.json.simple.JSONObject;\n   import org.json.simple.parser.JSONParser;\n   import org.json.simple.parser.ParseException;\n\n   @SuppressWarnings(\"unchecked\")\n   public class TestDataReader {\n\n    public static void main(String[] args) {        \n\n    try (Reader reader = new FileReader(\".\\\\testdata\\\\TC_11.json\")) {\n        // Read JSON file\n        JSONParser parser = new JSONParser();\n        JSONObject data = (JSONObject) parser.parse(reader);\n        data.put(key value);\n        @SuppressWarnings(\"resource\")\n        FileWriter file = new FileWriter(\".\\\\testdata\\\\TC_11.json\");\n        file.write(data.toJSONString());\n        file.flush();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n       } catch (ParseException e1) {\n            e1.printStackTrace();\n       }\n   }\n\n   }\n</code></pre>\n"}],"owner":{"account_id":944674,"reputation":307,"user_id":972156,"accept_rate":60,"display_name":"ThomasDKim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9794,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1699664885,"creation_date":1421286406,"question_id":27955587,"body_markdown":"I have a .json file that i am using like a property file.  After reading the json file, i get the value from &quot;Execute&quot; node and then I want to update the &quot;Execute&quot; node with a value of &quot;N&quot;.\r\n\r\nMy json file looks like this. {&quot;RunDate&quot;:&quot;2015-01-12&quot;,&quot;Execute&quot;:&quot;Y&quot;}.  I wrote the code to read the json file and i am trying to update the file by writing a new file.  \r\n\r\n    JSONParser parser = new JSONParser();\r\n        try {\r\n            FileReader fr = new FileReader(&quot;c:\\\\B\\\\myControl.json&quot;);\r\n            \r\n            Object obj = parser.parse(fr);\r\n            \r\n            JSONObject jsonObject = (JSONObject) obj;\r\n            ExecuteRun = (String) jsonObject.get(&quot;Execute&quot;);\r\n            \r\n            RunDate = (String) jsonObject.get(&quot;RunDate&quot;);\r\n            //update\r\n\r\n            jsonObject.put(&quot;Execute&quot;, &quot;N&quot;);\r\n            jsonObject.put(&quot;RunDate&quot;, RunDate);\r\n            \r\n            FileWriter file = new FileWriter(&quot;c:\\\\B\\\\mycontrol.json&quot;, true);\r\n            try {\r\n                file.write(jsonObject.toJSONString());\r\n                \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                file.flush();\r\n                file.close();\r\n            }\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nThe FileWriter line gets &quot;access denied&quot; error.  \r\n\r\nCan anyone help me out?","title":"java - update .json file (using json.simple)","body":"<p>I have a .json file that i am using like a property file.  After reading the json file, i get the value from \"Execute\" node and then I want to update the \"Execute\" node with a value of \"N\".</p>\n\n<p>My json file looks like this. {\"RunDate\":\"2015-01-12\",\"Execute\":\"Y\"}.  I wrote the code to read the json file and i am trying to update the file by writing a new file.  </p>\n\n<pre><code>JSONParser parser = new JSONParser();\n    try {\n        FileReader fr = new FileReader(\"c:\\\\B\\\\myControl.json\");\n\n        Object obj = parser.parse(fr);\n\n        JSONObject jsonObject = (JSONObject) obj;\n        ExecuteRun = (String) jsonObject.get(\"Execute\");\n\n        RunDate = (String) jsonObject.get(\"RunDate\");\n        //update\n\n        jsonObject.put(\"Execute\", \"N\");\n        jsonObject.put(\"RunDate\", RunDate);\n\n        FileWriter file = new FileWriter(\"c:\\\\B\\\\mycontrol.json\", true);\n        try {\n            file.write(jsonObject.toJSONString());\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            file.flush();\n            file.close();\n        }\n    } catch(Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>The FileWriter line gets \"access denied\" error.  </p>\n\n<p>Can anyone help me out?</p>\n"},{"tags":["java","string","substring","multiline"],"comments":[{"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"score":0,"creation_date":1699532689,"post_id":77452826,"comment_id":136545462,"body_markdown":"@Abra sure - examples added. They&#39;re not specific to my particular use case (which relates to implementing a protocol, in which the input is source code and the line/character indexes are the caret position in the source code), but hopefully will illustrate the functional requirements.","body":"@Abra sure - examples added. They&#39;re not specific to my particular use case (which relates to implementing a protocol, in which the input is source code and the line/character indexes are the caret position in the source code), but hopefully will illustrate the functional requirements."}],"answers":[{"tags":[],"owner":{"account_id":22495353,"reputation":23,"user_id":16692426,"display_name":"Konstanius EU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699534510,"creation_date":1699534510,"answer_id":77453375,"question_id":77452826,"body_markdown":"Using existing System classes and methods will always get you a longer way, they are more efficient and get you to your result with more precision.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String text = &quot;&quot;&quot;\r\n                    hello\r\n                    world\r\n                    how\r\n                    are\r\n                    you?&quot;&quot;&quot;;\r\n            System.out.println(substring(text, 0, 2)); // he\r\n            System.out.println(substring(text, 1, 3)); // hello\\nwor\r\n            System.out.println(substring(text, 3, 0)); // hello\\nworld\\nhow\\n\r\n            try {\r\n                System.out.println(substring(text, 6, 0)); // Line index out of bounds\r\n            } catch (IndexOutOfBoundsException e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n            try {\r\n                System.out.println(substring(text, 0, 6)); // Range [0, 6) out of bounds for length 5\r\n            } catch (IndexOutOfBoundsException e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Returns the substring of the given string up to the given character index on the given line index.\r\n         *\r\n         * @param text      input text\r\n         * @param line      line index (starting at 0 for the first line)\r\n         * @param character character index (starting at 0 for the first character)\r\n         * @return substring\r\n         */\r\n        public static String substring(String text, int line, int character) throws IndexOutOfBoundsException {\r\n            Scanner scanner = new Scanner(text);\r\n            int lineCount = 0;\r\n            StringBuilder sb = new StringBuilder();\r\n            while (scanner.hasNextLine()) {\r\n                String lineText = scanner.nextLine();\r\n                if (lineCount == line) {\r\n                    sb.append(lineText, 0, character);\r\n                    break;\r\n                } else {\r\n                    sb.append(lineText);\r\n                    sb.append(System.lineSeparator());\r\n                }\r\n                lineCount++;\r\n            }\r\n            if (lineCount &lt; line) {\r\n                throw new IndexOutOfBoundsException(&quot;Line index out of bounds&quot;);\r\n            }\r\n\r\n            return sb.toString();\r\n        }\r\n    }","title":"Java substring of multi-line String up to nth line and character index on that line","body":"<p>Using existing System classes and methods will always get you a longer way, they are more efficient and get you to your result with more precision.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        String text = &quot;&quot;&quot;\n                hello\n                world\n                how\n                are\n                you?&quot;&quot;&quot;;\n        System.out.println(substring(text, 0, 2)); // he\n        System.out.println(substring(text, 1, 3)); // hello\\nwor\n        System.out.println(substring(text, 3, 0)); // hello\\nworld\\nhow\\n\n        try {\n            System.out.println(substring(text, 6, 0)); // Line index out of bounds\n        } catch (IndexOutOfBoundsException e) {\n            System.out.println(e.getMessage());\n        }\n        try {\n            System.out.println(substring(text, 0, 6)); // Range [0, 6) out of bounds for length 5\n        } catch (IndexOutOfBoundsException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n\n    /**\n     * Returns the substring of the given string up to the given character index on the given line index.\n     *\n     * @param text      input text\n     * @param line      line index (starting at 0 for the first line)\n     * @param character character index (starting at 0 for the first character)\n     * @return substring\n     */\n    public static String substring(String text, int line, int character) throws IndexOutOfBoundsException {\n        Scanner scanner = new Scanner(text);\n        int lineCount = 0;\n        StringBuilder sb = new StringBuilder();\n        while (scanner.hasNextLine()) {\n            String lineText = scanner.nextLine();\n            if (lineCount == line) {\n                sb.append(lineText, 0, character);\n                break;\n            } else {\n                sb.append(lineText);\n                sb.append(System.lineSeparator());\n            }\n            lineCount++;\n        }\n        if (lineCount &lt; line) {\n            throw new IndexOutOfBoundsException(&quot;Line index out of bounds&quot;);\n        }\n\n        return sb.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699537433,"creation_date":1699537433,"answer_id":77453683,"question_id":77452826,"body_markdown":"Assuming you don&#39;t have a huge input, I would just split the input into rows and store in an array and use an IntStream and map each row index to the whole line except the line is equal to the parameter `line` then just map to a substring. something like:\r\n\r\n    public static String buildSubstring(String text, int line, int character){\r\n        String[] rows = text.lines().toArray(String[]::new);\r\n\r\n        return IntStream.range(0, line + 1)\r\n                        .mapToObj(i -&gt; i == line ? rows[i].substring(0,character) : rows[i])\r\n                        .collect(Collectors.joining(System.lineSeparator()));\r\n    }","title":"Java substring of multi-line String up to nth line and character index on that line","body":"<p>Assuming you don't have a huge input, I would just split the input into rows and store in an array and use an IntStream and map each row index to the whole line except the line is equal to the parameter <code>line</code> then just map to a substring. something like:</p>\n<pre><code>public static String buildSubstring(String text, int line, int character){\n    String[] rows = text.lines().toArray(String[]::new);\n\n    return IntStream.range(0, line + 1)\n                    .mapToObj(i -&gt; i == line ? rows[i].substring(0,character) : rows[i])\n                    .collect(Collectors.joining(System.lineSeparator()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18532949,"reputation":215,"user_id":13503258,"display_name":"DONGMO BERNARD GERAUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699541590,"creation_date":1699541590,"answer_id":77454133,"question_id":77452826,"body_markdown":"I think this solution will work for almost all Java versions.\r\n```\r\npublic static String indexSubstring(String text, int line, int character) {\r\n\tString result = &quot;&quot;;\r\n\ttry {\r\n\t\tString[] lines = text.split(&quot;\\n&quot;);\r\n\t\tfor (int i = 0; i &lt; line; i++) {\r\n\t\t\tresult += lines[i] + &quot;\\n&quot;;\r\n\t\t}\r\n\t\tresult += lines[line].substring(0, character);\r\n\t\treturn result;\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\treturn result;\r\n}\r\n```\r\nI tested it with java 15 and it works for all multi-line strin of the form &quot;&quot;&quot;**your multi-line string here**&quot;&quot;&quot;;","title":"Java substring of multi-line String up to nth line and character index on that line","body":"<p>I think this solution will work for almost all Java versions.</p>\n<pre><code>public static String indexSubstring(String text, int line, int character) {\n    String result = &quot;&quot;;\n    try {\n        String[] lines = text.split(&quot;\\n&quot;);\n        for (int i = 0; i &lt; line; i++) {\n            result += lines[i] + &quot;\\n&quot;;\n        }\n        result += lines[line].substring(0, character);\n        return result;\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return result;\n}\n</code></pre>\n<p>I tested it with java 15 and it works for all multi-line strin of the form &quot;&quot;&quot;<strong>your multi-line string here</strong>&quot;&quot;&quot;;</p>\n"},{"tags":[],"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699542580,"creation_date":1699542580,"answer_id":77454260,"question_id":77452826,"body_markdown":"If you are okay with getting back the substring with the original line breaks (*), you can loop over the characters, and do a single actual `substring()` call at the very end only:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString n = &quot;hello\\nworld\\nhow\\nare\\nyou?&quot;;\r\n\t\tString r = &quot;hello\\rworld\\rhow\\rare\\ryou?&quot;;\r\n\t\tString rn = &quot;hello\\r\\nworld\\r\\nhow\\r\\nare\\r\\nyou?&quot;;\r\n\t\tSystem.out.println(substring(n, 0, 2));\r\n\t\tSystem.out.println(substring(r, 0, 2));\r\n\t\tSystem.out.println(substring(rn, 0, 2));\r\n\t\tSystem.out.println(substring(n, 1, 3));\r\n\t\tSystem.out.println(substring(r, 1, 3));\r\n\t\tSystem.out.println(substring(rn, 1, 3));\r\n\t\tSystem.out.println(substring(n, 3, 0));\r\n\t\tSystem.out.println(substring(r, 3, 0));\r\n\t\tSystem.out.println(substring(rn, 3, 0));\r\n\t}\r\n\r\n\tpublic static String substring(String text, int line, int character) {\r\n\t\tint pos = 0;\r\n\t\tchar sep = 0;\r\n\t\twhile (line &gt; 0) {\r\n\t\t\tchar c = text.charAt(pos++);\r\n\t\t\tif (c == &#39;\\n&#39; || c == &#39;\\r&#39;) {\r\n\t\t\t\tif (sep == 0)\r\n\t\t\t\t\tsep = c;\r\n\t\t\t\tif (c == sep)\r\n\t\t\t\t\tline--;\r\n\t\t\t}\r\n\t\t}\r\n\t\tchar c = text.charAt(pos);\r\n\t\tif (c != sep &amp;&amp; (c == &#39;\\n&#39; || c == &#39;\\r&#39;))\r\n\t\t\tpos++;\r\n\t\treturn text.substring(0, pos + character);\r\n\t}\r\n\r\nThe assumption is that line breaks are consistent in the string, so encountering the first actual line break character means all the other ones are will look the same, and the other character is either not used, or can be ignored (but still needs a bit of special handling after the loop).\r\n\r\nThe code actually works here: https://ideone.com/AWLBuD, however (*) applies, as you can see IdeOne succeeds with the conversion most of the time, but in the case when the `substring(x, 3, 0)` produces a string with an &quot;original&quot; line break at the end, and then it gets `println()`-d (adding a &quot;native&quot; linebreak), it results in 2 or 1 total line breaks printed depending on whether the &quot;original&quot; linebreak matches with the &quot;native&quot; linebreak or not. I think it may happen in actual consoles too.","title":"Java substring of multi-line String up to nth line and character index on that line","body":"<p>If you are okay with getting back the substring with the original line breaks (*), you can loop over the characters, and do a single actual <code>substring()</code> call at the very end only:</p>\n<pre><code>public static void main(String[] args) {\n    String n = &quot;hello\\nworld\\nhow\\nare\\nyou?&quot;;\n    String r = &quot;hello\\rworld\\rhow\\rare\\ryou?&quot;;\n    String rn = &quot;hello\\r\\nworld\\r\\nhow\\r\\nare\\r\\nyou?&quot;;\n    System.out.println(substring(n, 0, 2));\n    System.out.println(substring(r, 0, 2));\n    System.out.println(substring(rn, 0, 2));\n    System.out.println(substring(n, 1, 3));\n    System.out.println(substring(r, 1, 3));\n    System.out.println(substring(rn, 1, 3));\n    System.out.println(substring(n, 3, 0));\n    System.out.println(substring(r, 3, 0));\n    System.out.println(substring(rn, 3, 0));\n}\n\npublic static String substring(String text, int line, int character) {\n    int pos = 0;\n    char sep = 0;\n    while (line &gt; 0) {\n        char c = text.charAt(pos++);\n        if (c == '\\n' || c == '\\r') {\n            if (sep == 0)\n                sep = c;\n            if (c == sep)\n                line--;\n        }\n    }\n    char c = text.charAt(pos);\n    if (c != sep &amp;&amp; (c == '\\n' || c == '\\r'))\n        pos++;\n    return text.substring(0, pos + character);\n}\n</code></pre>\n<p>The assumption is that line breaks are consistent in the string, so encountering the first actual line break character means all the other ones are will look the same, and the other character is either not used, or can be ignored (but still needs a bit of special handling after the loop).</p>\n<p>The code actually works here: <a href=\"https://ideone.com/AWLBuD\" rel=\"nofollow noreferrer\">https://ideone.com/AWLBuD</a>, however (*) applies, as you can see IdeOne succeeds with the conversion most of the time, but in the case when the <code>substring(x, 3, 0)</code> produces a string with an &quot;original&quot; line break at the end, and then it gets <code>println()</code>-d (adding a &quot;native&quot; linebreak), it results in 2 or 1 total line breaks printed depending on whether the &quot;original&quot; linebreak matches with the &quot;native&quot; linebreak or not. I think it may happen in actual consoles too.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699664140,"creation_date":1699664140,"answer_id":77463530,"question_id":77452826,"body_markdown":"&gt; _&quot;... How can one get the character position in a multi-line `String` for the nth line and the character index on that line? &lt;br&gt; i.e. for use in string.substring(0, x). ...&quot;_\r\n\r\nCount the new-line delimiters with a _regular expression pattern_.\r\n\r\nHere is an example.\r\n\r\n```java\r\nString substring(String text, int line, int character) {\r\n    Pattern p = Pattern.compile(&quot;\\\\R&quot;);\r\n    Matcher m = p.matcher(text);\r\n    int o = 0;\r\n    while (line-- &gt; 0 &amp;&amp; m.find()) o = m.end();\r\n    return text.substring(0, o + character);\r\n}\r\n```","title":"Java substring of multi-line String up to nth line and character index on that line","body":"<blockquote>\n<p><em>&quot;... How can one get the character position in a multi-line <code>String</code> for the nth line and the character index on that line? <br> i.e. for use in string.substring(0, x). ...&quot;</em></p>\n</blockquote>\n<p>Count the new-line delimiters with a <em>regular expression pattern</em>.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String substring(String text, int line, int character) {\n    Pattern p = Pattern.compile(&quot;\\\\R&quot;);\n    Matcher m = p.matcher(text);\n    int o = 0;\n    while (line-- &gt; 0 &amp;&amp; m.find()) o = m.end();\n    return text.substring(0, o + character);\n}\n</code></pre>\n"}],"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":5,"score":1,"last_activity_date":1699664140,"creation_date":1699529703,"question_id":77452826,"body_markdown":"In Java, given a multi-line `String` I want to get the substring from the beginning up to the nth line and the character index on that line. (Both line and character indexes are zero-based.)\r\n\r\nFor example, if we were to implement a method like this: \r\n\r\n```\r\n  /**\r\n   * Returns the substring of the given string up to the given character index on the given line index.\r\n   *\r\n   * @param text      input text\r\n   * @param line      line index\r\n   * @param character character index\r\n   * @return substring\r\n   */\r\n  public static String substring(String text, int line, int character);\r\n```\r\n\r\nThen, consider the following multi-line String:\r\n\r\n&gt; hello&lt;br&gt;world&lt;br&gt;how&lt;br&gt;are&lt;br&gt;you?\r\n\r\nFor given inputs, the above method should return\r\n- substring(text, 0, 2);\r\n\r\n&gt; he\r\n\r\n- substring(text, 1, 3);\r\n&gt; hello&lt;br&gt;wor\r\n\r\n- substring(text, 3, 0);\r\n&gt; hello&lt;br&gt;world&lt;br&gt;how&lt;br&gt;&lt;br&gt;\r\n\r\nI&#39;ve considered a couple of approaches:\r\n\r\n 1. Construct the substring, by operating on the `String` up to the nth line:&lt;br&gt;\r\nOne approach is to use [`string.lines()`][1], and build the substring.\r\nSomething like this: &lt;br&gt;\r\nUPDATE: updated with an improved &amp; neater implementation, based upon Eritrean&#39;s [answer][2]:\r\n\r\n```\r\n  public static String buildSubstring(String text, int line, int character) {\r\n    long textLines = text.lines().limit(line + 1).count();\r\n    if (line &gt; textLines) {\r\n      return text;\r\n    } else {\r\n      String[] rows = text.lines().toArray(String[]::new);\r\n      return IntStream.range(0, line + 1)\r\n          .mapToObj(i -&gt; {\r\n            String lineText = rows[i];\r\n            return i == line ? lineText.substring(0, Math.min(character, lineText.length())) : lineText;\r\n          })\r\n          .collect(Collectors.joining(System.lineSeparator()));\r\n    }\r\n  }\r\n```\r\n\r\nHowever, my main concern would be the performance impact of excessive String creation. \r\n\r\n2. Get the substring up to the character index in the original String:\r\n&lt;br&gt;\r\nA more intuitive approach might be to use [`string.substring(0, x)`][3], where x is the character index - in the original multi-line `String` - for the nth line and the position in that line.\r\n&lt;br&gt;\r\nHowever, I don&#39;t have a clear idea as to what might be the best approach of finding that character index in the original String.\r\n&lt;br&gt;\r\nOne approach could be to iteratively use [`string.indexOf(System.lineSeparator(),lineIndex)`][4] to identify the location of the line in the original String, and add the character index on that line. Something like this:\r\n\r\n```\r\n  public static String indexSubstring(String text, int line, int character) {\r\n    String separator = System.lineSeparator();\r\n    int separatorLength = separator.length();\r\n\r\n    int lineIndex = 0;\r\n    if (line &gt; 0) {\r\n      lineIndex = text.indexOf(separator) + separatorLength;\r\n      for (int i = 1; i &lt; line; i++) {\r\n        lineIndex = text.indexOf(separator, lineIndex) + separatorLength;\r\n      }\r\n    }\r\n    return text.substring(0, lineIndex + character);\r\n  }\r\n```\r\n\r\nHowever, this will not handle cases if the line separators in the text are different from the `System.lineSeparator()`; which is the case in my situation - that is, the original text could come from a unix or Windows environment and/or this functionality might be executed on a unix or Windows environment, and they need to be interoperable.\r\n&lt;br&gt;\r\nOf course, one could do a `string.replaceAll(&quot;\\\\r?\\\\n, System.lineSeparator())`, but that&#39;s going to do even more `String` creation than for the first approach using `string.lines()`.\r\n\r\nNote: For the purposes of this question, I&#39;m not dealing with error cases - for example, that either of the line/character indexes are beyond the length of the original `String`, or the character index is beyond the length of the line. Those will be factored in later, once I&#39;ve decided upon the underlying approach; or, for simplicity, we can assume that it will return everything on the line or in the input text.\r\n\r\nQuestions: \r\n 1. How can one get the character position in a multi-line `String` for the nth line and the character index on that line? &lt;br&gt; i.e. for use in string.substring(0, x).\r\n 2. Is there a better approach than either of those I&#39;ve set out above to get the substring?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#lines()\r\n  [2]: https://stackoverflow.com/a/77453683/898763\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#substring(int,int)\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String,int)","title":"Java substring of multi-line String up to nth line and character index on that line","body":"<p>In Java, given a multi-line <code>String</code> I want to get the substring from the beginning up to the nth line and the character index on that line. (Both line and character indexes are zero-based.)</p>\n<p>For example, if we were to implement a method like this:</p>\n<pre><code>  /**\n   * Returns the substring of the given string up to the given character index on the given line index.\n   *\n   * @param text      input text\n   * @param line      line index\n   * @param character character index\n   * @return substring\n   */\n  public static String substring(String text, int line, int character);\n</code></pre>\n<p>Then, consider the following multi-line String:</p>\n<blockquote>\n<p>hello<br>world<br>how<br>are<br>you?</p>\n</blockquote>\n<p>For given inputs, the above method should return</p>\n<ul>\n<li>substring(text, 0, 2);</li>\n</ul>\n<blockquote>\n<p>he</p>\n</blockquote>\n<ul>\n<li>substring(text, 1, 3);</li>\n</ul>\n<blockquote>\n<p>hello<br>wor</p>\n</blockquote>\n<ul>\n<li>substring(text, 3, 0);</li>\n</ul>\n<blockquote>\n<p>hello<br>world<br>how<br><br></p>\n</blockquote>\n<p>I've considered a couple of approaches:</p>\n<ol>\n<li>Construct the substring, by operating on the <code>String</code> up to the nth line:<br>\nOne approach is to use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#lines()\" rel=\"nofollow noreferrer\"><code>string.lines()</code></a>, and build the substring.\nSomething like this: <br>\nUPDATE: updated with an improved &amp; neater implementation, based upon Eritrean's <a href=\"https://stackoverflow.com/a/77453683/898763\">answer</a>:</li>\n</ol>\n<pre><code>  public static String buildSubstring(String text, int line, int character) {\n    long textLines = text.lines().limit(line + 1).count();\n    if (line &gt; textLines) {\n      return text;\n    } else {\n      String[] rows = text.lines().toArray(String[]::new);\n      return IntStream.range(0, line + 1)\n          .mapToObj(i -&gt; {\n            String lineText = rows[i];\n            return i == line ? lineText.substring(0, Math.min(character, lineText.length())) : lineText;\n          })\n          .collect(Collectors.joining(System.lineSeparator()));\n    }\n  }\n</code></pre>\n<p>However, my main concern would be the performance impact of excessive String creation.</p>\n<ol start=\"2\">\n<li>Get the substring up to the character index in the original String:\n<br>\nA more intuitive approach might be to use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#substring(int,int)\" rel=\"nofollow noreferrer\"><code>string.substring(0, x)</code></a>, where x is the character index - in the original multi-line <code>String</code> - for the nth line and the position in that line.\n<br>\nHowever, I don't have a clear idea as to what might be the best approach of finding that character index in the original String.\n<br>\nOne approach could be to iteratively use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String,int)\" rel=\"nofollow noreferrer\"><code>string.indexOf(System.lineSeparator(),lineIndex)</code></a> to identify the location of the line in the original String, and add the character index on that line. Something like this:</li>\n</ol>\n<pre><code>  public static String indexSubstring(String text, int line, int character) {\n    String separator = System.lineSeparator();\n    int separatorLength = separator.length();\n\n    int lineIndex = 0;\n    if (line &gt; 0) {\n      lineIndex = text.indexOf(separator) + separatorLength;\n      for (int i = 1; i &lt; line; i++) {\n        lineIndex = text.indexOf(separator, lineIndex) + separatorLength;\n      }\n    }\n    return text.substring(0, lineIndex + character);\n  }\n</code></pre>\n<p>However, this will not handle cases if the line separators in the text are different from the <code>System.lineSeparator()</code>; which is the case in my situation - that is, the original text could come from a unix or Windows environment and/or this functionality might be executed on a unix or Windows environment, and they need to be interoperable.\n<br>\nOf course, one could do a <code>string.replaceAll(&quot;\\\\r?\\\\n, System.lineSeparator())</code>, but that's going to do even more <code>String</code> creation than for the first approach using <code>string.lines()</code>.</p>\n<p>Note: For the purposes of this question, I'm not dealing with error cases - for example, that either of the line/character indexes are beyond the length of the original <code>String</code>, or the character index is beyond the length of the line. Those will be factored in later, once I've decided upon the underlying approach; or, for simplicity, we can assume that it will return everything on the line or in the input text.</p>\n<p>Questions:</p>\n<ol>\n<li>How can one get the character position in a multi-line <code>String</code> for the nth line and the character index on that line? <br> i.e. for use in string.substring(0, x).</li>\n<li>Is there a better approach than either of those I've set out above to get the substring?</li>\n</ol>\n"},{"tags":["java","selenium-webdriver","xpath","css-selectors"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1699596605,"post_id":77457840,"comment_id":136554546,"body_markdown":"Can you share URL?","body":"Can you share URL?"},{"owner":{"account_id":28168441,"reputation":1,"user_id":21527320,"display_name":"Venkatram Ayyer"},"score":0,"creation_date":1699601192,"post_id":77457840,"comment_id":136555013,"body_markdown":"https://ccepeb2b--qa.sandbox.my.site.com/store/es/SelfRegister  \n\n1st page enter 9 char and go to continue and then there is Tipo de via dropdown","body":"<a href=\"https://ccepeb2b--qa.sandbox.my.site.com/store/es/SelfRegister\" rel=\"nofollow noreferrer\">ccepeb2b--qa.sandbox.my.site.com/store/es/SelfRegister</a>    1st page enter 9 char and go to continue and then there is Tipo de via dropdown"}],"answers":[{"tags":[],"owner":{"account_id":15459133,"reputation":1,"user_id":11152232,"display_name":"Pradheep Raaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699597935,"creation_date":1699597935,"answer_id":77458089,"question_id":77457840,"body_markdown":"Is this button / link is placed in url which you opens fresh and click it?\r\nIf yes pls check whether all the components are loaded when the page is loaded. May be there is any component which loads as ajax and may be causing a interruption. \r\nAnd pls post the console dom of the button\r\n","title":"Java + Selenium - Unable to Click Dropdown(Not a Select dropdown) and Select a Value from the drop down","body":"<p>Is this button / link is placed in url which you opens fresh and click it?\nIf yes pls check whether all the components are loaded when the page is loaded. May be there is any component which loads as ajax and may be causing a interruption.\nAnd pls post the console dom of the button</p>\n"},{"tags":[],"owner":{"account_id":27733412,"reputation":161,"user_id":21171478,"display_name":"qatesterbecomingprogrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699662414,"creation_date":1699662414,"answer_id":77463465,"question_id":77457840,"body_markdown":"Try to apply waits, two times... One for displaying and the other for clickable.\r\n\r\n\r\n    String valueXpath = &quot;//[@data-value=&#39;Otro&#39;]&quot;\r\n    WebDriverWait wait = new WebDriverWait(driver,30);\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(valueXpath)));\r\n    \r\n    wait.until(ExpectedConditions.elementToBeClickable(By.xpath(valueXpath)));\r\n\r\n    WebElement dropDownValueToBeSelected = driver.findElement(By.xpath, valueXpath);\r\n    dropDownValueToBeSelected.click();\r\n\r\n**Remember, don&#39;t initialize webelement, before it gets displayed.**\r\n","title":"Java + Selenium - Unable to Click Dropdown(Not a Select dropdown) and Select a Value from the drop down","body":"<p>Try to apply waits, two times... One for displaying and the other for clickable.</p>\n<pre><code>String valueXpath = &quot;//[@data-value='Otro']&quot;\nWebDriverWait wait = new WebDriverWait(driver,30);\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(valueXpath)));\n\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(valueXpath)));\n\nWebElement dropDownValueToBeSelected = driver.findElement(By.xpath, valueXpath);\ndropDownValueToBeSelected.click();\n</code></pre>\n<p><strong>Remember, don't initialize webelement, before it gets displayed.</strong></p>\n"}],"owner":{"account_id":28168441,"reputation":1,"user_id":21527320,"display_name":"Venkatram Ayyer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699662414,"creation_date":1699593499,"question_id":77457840,"body_markdown":"In JAVA Selenium - I am not able to click the dropdown and select a value from it, this is not a select dropdown. This is a saleforce site. I have seen it working 1 in 10 executions but not getting it work consistently.  \r\n  \r\n  \r\n[enter image description here](https://i.stack.imgur.com/lbiUN.png)    \r\nThis is the HTML for the dropdown and it is not getting clicked, the xpath for the dropdown used is \r\n\r\n```\r\n//*[@data-name=&#39;billingRoadType&#39;]//*[name()=&#39;lightning-base-combobox&#39;]//button\r\n```\r\n\r\n  \r\n  \r\n[enter image description here](https://i.stack.imgur.com/yVcUP.png)   \r\nThis is the HTML for the dropdown values. the xpath for the dropdown value used is   \r\n  \r\n//\\*\\[@data-name=&#39;billingRoadType&#39;\\]//\\*\\[@data-value=&#39;Otro&#39;\\]\r\n\r\n  \r\n \r\n\r\nHave tried JavaScript executor, Action class and click sometimes the JSExecutor works but that is like 1 in 10 times.The application is in salesforce. Have tried explicit waits also but not working\r\n\r\nGetting NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//*[@data-name=&#39;billingRoadType&#39;]//*[@data-value=&#39;Otro&#39;]&quot;}","title":"Java + Selenium - Unable to Click Dropdown(Not a Select dropdown) and Select a Value from the drop down","body":"<p>In JAVA Selenium - I am not able to click the dropdown and select a value from it, this is not a select dropdown. This is a saleforce site. I have seen it working 1 in 10 executions but not getting it work consistently.</p>\n<p><a href=\"https://i.stack.imgur.com/lbiUN.png\" rel=\"nofollow noreferrer\">enter image description here</a><br />\nThis is the HTML for the dropdown and it is not getting clicked, the xpath for the dropdown used is</p>\n<pre><code>//*[@data-name='billingRoadType']//*[name()='lightning-base-combobox']//button\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yVcUP.png\" rel=\"nofollow noreferrer\">enter image description here</a><br />\nThis is the HTML for the dropdown values. the xpath for the dropdown value used is</p>\n<p>//*[@data-name='billingRoadType']//*[@data-value='Otro']</p>\n<p>Have tried JavaScript executor, Action class and click sometimes the JSExecutor works but that is like 1 in 10 times.The application is in salesforce. Have tried explicit waits also but not working</p>\n<p>Getting NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//<em>[@data-name='billingRoadType']//</em>[@data-value='Otro']&quot;}</p>\n"},{"tags":["java","loops","methods","conditional-statements"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":6,"creation_date":1699541850,"post_id":77454162,"comment_id":136547430,"body_markdown":"Post your code as text in the question, do not post images of it","body":"Post your code as text in the question, do not post images of it"},{"owner":{"account_id":41710,"reputation":38369,"user_id":121309,"accept_rate":100,"display_name":"Hans Keﬆing"},"score":1,"creation_date":1699542227,"post_id":77454162,"comment_id":136547547,"body_markdown":"For that first top-line, temporarily replace the `_` with `=`, just to see what happens ...","body":"For that first top-line, temporarily replace the <code>_</code> with <code>=</code>, just to see what happens ..."},{"owner":{"account_id":9995852,"reputation":6086,"user_id":7393478,"display_name":"Kaddath"},"score":1,"creation_date":1699542872,"post_id":77454162,"comment_id":136547678,"body_markdown":"Your beginning of solution is interesting because you mentally decomposed in rows and noticed this particularity: there is 1 more &quot;boundary&quot; than the number or squares in a grid. You seemed to have traduced this idea with having a separate loop for the top line. First advice: your function &quot;square&quot; should be called &quot;row&quot; to fit to what it currently does. Another advice: the concept of rectangles in programming usually involves 2 nested loops, cubes would involve 3 nested loops, etc","body":"Your beginning of solution is interesting because you mentally decomposed in rows and noticed this particularity: there is 1 more &quot;boundary&quot; than the number or squares in a grid. You seemed to have traduced this idea with having a separate loop for the top line. First advice: your function &quot;square&quot; should be called &quot;row&quot; to fit to what it currently does. Another advice: the concept of rectangles in programming usually involves 2 nested loops, cubes would involve 3 nested loops, etc"},{"owner":{"account_id":41710,"reputation":38369,"user_id":121309,"accept_rate":100,"display_name":"Hans Keﬆing"},"score":0,"creation_date":1699543423,"post_id":77454162,"comment_id":136547790,"body_markdown":"Carefully inspect your output. Your inner side-walls are doubled - think about why that is so?","body":"Carefully inspect your output. Your inner side-walls are doubled - think about why that is so?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699546334,"post_id":77454162,"comment_id":136548439,"body_markdown":"You should edit the question to show example input and actual output. If reasonable, the assignment should also be in text. See https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors","body":"You should edit the question to show example input and actual output. If reasonable, the assignment should also be in text. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\" title=\"why should i not upload images of code data errors\">meta.stackoverflow.com/questions/285551/&hellip;</a>"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699548239,"post_id":77454162,"comment_id":136548846,"body_markdown":"&quot;is about using methods&quot; - I can think of two methods: 1) receiving number of columns to print one row; 2) receiving both number of rows and columns to print all rows, using the first method - eventually these methods would also receive the character/string used as borders (a third method could be to print each cell) || BTW the problem can be solved without implementing methods in one line using the `repeat()`...","body":"&quot;is about using methods&quot; - I can think of two methods: 1) receiving number of columns to print one row; 2) receiving both number of rows and columns to print all rows, using the first method - eventually these methods would also receive the character/string used as borders (a third method could be to print each cell) || BTW the problem can be solved without implementing methods in one line using the <code>repeat()</code>..."}],"answers":[{"tags":[],"owner":{"account_id":19458299,"reputation":150,"user_id":14233099,"display_name":"der da"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699547134,"creation_date":1699544394,"answer_id":77454484,"question_id":77454162,"body_markdown":"This should do what you want it to. Use `java.util.Scanner` to get the input of the user for the number of rows and the number of columns. Then print the squares with some `for`-loops. If you are concerned about efficiency use `StringBuilder` instead, but I didn&#39;t use it here to keep it simple.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Practice {\r\n    public static void main(String[] args) {\r\n        printGrid();\r\n    }\r\n\r\n    public static void printGrid() {\r\n        // get input\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Enter rows&quot;);\r\n        int rows = scanner.nextInt();\r\n        System.out.println(&quot;Enter columns&quot;);\r\n        int cols = scanner.nextInt();\r\n        scanner.close()\r\n\r\n        // print top line\r\n        if (rows &gt; 0) {\r\n            System.out.print(&quot; &quot;);  // padding\r\n            for (int i = 0; i &lt; cols; i++) {\r\n                System.out.print(&quot;_ &quot;);\r\n            }\r\n            System.out.println();  // new line\r\n        }\r\n        for (int i = 0; i &lt; rows; i++) {\r\n            // print left line\r\n            System.out.print(&quot;|&quot;);\r\n            for (int j = 0; j &lt; cols; j++) {\r\n                System.out.print(&quot;_|&quot;);\r\n            }\r\n            System.out.println();  // new line\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"How can I make a grid using &quot; | &quot; and &quot; _ &quot; on java?","body":"<p>This should do what you want it to. Use <code>java.util.Scanner</code> to get the input of the user for the number of rows and the number of columns. Then print the squares with some <code>for</code>-loops. If you are concerned about efficiency use <code>StringBuilder</code> instead, but I didn't use it here to keep it simple.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Practice {\n    public static void main(String[] args) {\n        printGrid();\n    }\n\n    public static void printGrid() {\n        // get input\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Enter rows&quot;);\n        int rows = scanner.nextInt();\n        System.out.println(&quot;Enter columns&quot;);\n        int cols = scanner.nextInt();\n        scanner.close()\n\n        // print top line\n        if (rows &gt; 0) {\n            System.out.print(&quot; &quot;);  // padding\n            for (int i = 0; i &lt; cols; i++) {\n                System.out.print(&quot;_ &quot;);\n            }\n            System.out.println();  // new line\n        }\n        for (int i = 0; i &lt; rows; i++) {\n            // print left line\n            System.out.print(&quot;|&quot;);\n            for (int j = 0; j &lt; cols; j++) {\n                System.out.print(&quot;_|&quot;);\n            }\n            System.out.println();  // new line\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699562122,"creation_date":1699545178,"answer_id":77454582,"question_id":77454162,"body_markdown":"I put some spoiler so first you can try to solve it on your own.\r\n\r\nIf you carefully observe this, how many rows do you see?\r\n\r\n     _ _ \r\n    |_|_|\r\n    |_|_|\r\n\r\n&gt;! 3 rows, always one more due to the &#39;header&#39; one: ` _ _ `\r\n\r\nHow many of those follow the same pattern?\r\n\r\n&gt;! all but not the first one\r\n\r\nYou can achieve that with this code:\r\n\r\n&gt;!&lt;code&gt;public static void main(String[] args) {&lt;/code&gt;&lt;br&gt;\r\n&gt;!&lt;code&gt;    generateSquare(2, 2);&lt;/code&gt;&lt;br&gt;\r\n&gt;!&lt;code&gt;}&lt;/code&gt;&lt;br&gt;&lt;br&gt;\r\n&gt;!&lt;code&gt;private static void generateSquare(int qtyRows, int qtyCols) {&lt;/code&gt;&lt;br&gt;\r\n&gt;!&lt;code&gt;    System.out.println(&quot; _&quot;.repeat(qtyCols));&lt;/code&gt;&lt;br&gt;\r\n&gt;!&lt;code&gt;    &lt;/code&gt;&lt;br&gt;\r\n&gt;!&lt;code&gt;    for(int x = 0; x &lt; qtyRows; x++) {  &lt;/code&gt;&lt;br&gt;\r\n&gt;!&lt;code&gt;      System.out.println(&quot;|&quot; + &quot;_|&quot;.repeat(qtyCols));&lt;/code&gt;&lt;br&gt;\r\n&gt;!&lt;code&gt;    }&lt;/code&gt;&lt;br&gt;\r\n&gt;!&lt;code&gt;}&lt;/code&gt;&lt;br&gt;\r\n\r\nNote the use of the repeat method on a String object, that let you repeat that string without the need of a loop.","title":"How can I make a grid using &quot; | &quot; and &quot; _ &quot; on java?","body":"<p>I put some spoiler so first you can try to solve it on your own.</p>\n<p>If you carefully observe this, how many rows do you see?</p>\n<pre><code> _ _ \n|_|_|\n|_|_|\n</code></pre>\n<blockquote class=\"spoiler\">\n<p> 3 rows, always one more due to the 'header' one: <code>_ _</code></p>\n</blockquote>\n<p>How many of those follow the same pattern?</p>\n<blockquote class=\"spoiler\">\n<p> all but not the first one</p>\n</blockquote>\n<p>You can achieve that with this code:</p>\n<blockquote class=\"spoiler\">\n<p><code>public static void main(String[] args) {</code><br>\n<code>    generateSquare(2, 2);</code><br>\n<code>}</code><br><br>\n<code>private static void generateSquare(int qtyRows, int qtyCols) {</code><br>\n<code>    System.out.println(&quot; <em>&quot;.repeat(qtyCols));</code><br>\n<code>    </code><br>\n<code>    for(int x = 0; x &lt; qtyRows; x++) {  </code><br>\n<code>      System.out.println(&quot;|&quot; + &quot;</em>|&quot;.repeat(qtyCols));</code><br>\n<code>    }</code><br>\n<code>}</code><br></p>\n</blockquote>\n<p>Note the use of the repeat method on a String object, that let you repeat that string without the need of a loop.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699662210,"creation_date":1699662210,"answer_id":77463457,"question_id":77454162,"body_markdown":"Here is an example using the _[StringBuilder](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html)_, and _[Formatter](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Formatter.html)_, classes.\r\n\r\n```java\r\nvoid draw(int r, int c) {\r\n    StringBuilder s = new StringBuilder();\r\n    Formatter f = new Formatter(s);\r\n    f.format(&quot;%s%n&quot;, &quot; _&quot;.repeat(c));\r\n    for (int i = 0, j; i &lt; r; i++) {\r\n        for (j = 0; j &lt; c; j++) f.format(&quot;|_&quot;);\r\n        f.format(&quot;|%n&quot;);\r\n    }\r\n    f.flush();\r\n    System.out.println(s);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n _ _\r\n|_|_|\r\n|_|_|\r\n```\r\n\r\n```none\r\n _ _ _ _ _ _ _ _ _ _ _ _\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n|_|_|_|_|_|_|_|_|_|_|_|_|\r\n```","title":"How can I make a grid using &quot; | &quot; and &quot; _ &quot; on java?","body":"<p>Here is an example using the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder</a></em>, and <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Formatter</a></em>, classes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void draw(int r, int c) {\n    StringBuilder s = new StringBuilder();\n    Formatter f = new Formatter(s);\n    f.format(&quot;%s%n&quot;, &quot; _&quot;.repeat(c));\n    for (int i = 0, j; i &lt; r; i++) {\n        for (j = 0; j &lt; c; j++) f.format(&quot;|_&quot;);\n        f.format(&quot;|%n&quot;);\n    }\n    f.flush();\n    System.out.println(s);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code> _ _\n|_|_|\n|_|_|\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code> _ _ _ _ _ _ _ _ _ _ _ _\n|_|_|_|_|_|_|_|_|_|_|_|_|\n|_|_|_|_|_|_|_|_|_|_|_|_|\n|_|_|_|_|_|_|_|_|_|_|_|_|\n|_|_|_|_|_|_|_|_|_|_|_|_|\n|_|_|_|_|_|_|_|_|_|_|_|_|\n|_|_|_|_|_|_|_|_|_|_|_|_|\n|_|_|_|_|_|_|_|_|_|_|_|_|\n|_|_|_|_|_|_|_|_|_|_|_|_|\n|_|_|_|_|_|_|_|_|_|_|_|_|\n|_|_|_|_|_|_|_|_|_|_|_|_|\n</code></pre>\n"}],"owner":{"account_id":29811349,"reputation":23,"user_id":22846704,"display_name":"Daniel Mases"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77454484,"answer_count":3,"score":0,"last_activity_date":1699662210,"creation_date":1699541748,"question_id":77454162,"body_markdown":"I&#39;m a beginner at Java, and my programming teacher gave us an assignment that we need to make a grid of little squares using &quot;|&quot; and &quot;_&quot;.\r\n[Assignment](https://i.stack.imgur.com/wC7zX.png)\r\n\r\nI know this might look stupid, but it was the best that I could do. I managed to make the columns, but now I don&#39;t know how to make the rows.\r\n```java\r\npackage practice;\r\n\r\npublic class practice {\r\n\t\r\n\tpublic static void main (String[] args) {\r\n\t\r\n\tsquares(4);\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void squares(int number) {\r\n\t\tfor (int i=0; i&lt;number; i++) {\r\n\t\tSystem.out.print(&quot; _&quot;);\r\n\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\r\n\t\tfor (int i=0; i&lt;number; i++) {\r\n\t\tSystem.out.print(&quot;|_&quot;);\r\n\t\t}\r\n\t\t\tSystem.out.print(&quot;|&quot;);\r\n\t\t\tSystem.out.println();\r\n\t\r\n\t}\r\n\t\r\n}\r\n```\r\nUntil now I have learned how to use conditionals and loops, and this assignment is about using methods.","title":"How can I make a grid using &quot; | &quot; and &quot; _ &quot; on java?","body":"<p>I'm a beginner at Java, and my programming teacher gave us an assignment that we need to make a grid of little squares using &quot;|&quot; and &quot;_&quot;.\n<a href=\"https://i.stack.imgur.com/wC7zX.png\" rel=\"nofollow noreferrer\">Assignment</a></p>\n<p>I know this might look stupid, but it was the best that I could do. I managed to make the columns, but now I don't know how to make the rows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package practice;\n\npublic class practice {\n    \n    public static void main (String[] args) {\n    \n    squares(4);\n        \n    }\n    \n    \n    public static void squares(int number) {\n        for (int i=0; i&lt;number; i++) {\n        System.out.print(&quot; _&quot;);\n        }\n            System.out.println();\n    \n        for (int i=0; i&lt;number; i++) {\n        System.out.print(&quot;|_&quot;);\n        }\n            System.out.print(&quot;|&quot;);\n            System.out.println();\n    \n    }\n    \n}\n</code></pre>\n<p>Until now I have learned how to use conditionals and loops, and this assignment is about using methods.</p>\n"},{"tags":["java","javafx","maven-2","ivy","maven-central"],"answers":[{"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1699661667,"creation_date":1699660351,"answer_id":77463376,"question_id":77463354,"body_markdown":"1. First obtain the `javafx.platform` value of the native components from the [POM](https://repo1.maven.org/maven2/org/openjfx/javafx/20.0.1/javafx-20.0.1.pom).\r\n2. Ensure the `ivy.xml` is configured to use the correct `xmlns:m`.\r\n3. Add `m:classifier=&quot;linux&quot;` (or `linux-aarch64`, `mac-aarch64`, etc).\r\n4. Native platform jars should show in `.ivy2/cache`\r\n\r\n\r\n`ivy.xml`\r\n```xml\r\n&lt;ivy-module version=&quot;2.0&quot; xmlns:m=&quot;https://ant.apache.org/ivy/maven&quot;&gt;\r\n    &lt;info organisation=&quot;org.my&quot; module=&quot;my-proj&quot;/&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency org=&quot;org.openjfx&quot; name=&quot;javafx-graphics&quot; rev=&quot;21.0.1&quot; /&gt;\r\n        &lt;dependency org=&quot;org.openjfx&quot; name=&quot;javafx-graphics&quot; rev=&quot;21.0.1&quot; m:classifier=&quot;linux&quot;/&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/ivy-module&gt;\r\n```\r\n\r\n```bash\r\nls ~/.ivy2/cache/org.openjfx/javafx-graphics/jars\r\n# javafx-graphics-21.0.1.jar\r\n# javafx-graphics-21.0.1-linux.jar\r\n```\r\n","title":"Download JavaFX dependency using Ivy","body":"<ol>\n<li>First obtain the <code>javafx.platform</code> value of the native components from the <a href=\"https://repo1.maven.org/maven2/org/openjfx/javafx/20.0.1/javafx-20.0.1.pom\" rel=\"nofollow noreferrer\">POM</a>.</li>\n<li>Ensure the <code>ivy.xml</code> is configured to use the correct <code>xmlns:m</code>.</li>\n<li>Add <code>m:classifier=&quot;linux&quot;</code> (or <code>linux-aarch64</code>, <code>mac-aarch64</code>, etc).</li>\n<li>Native platform jars should show in <code>.ivy2/cache</code></li>\n</ol>\n<p><code>ivy.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ivy-module version=&quot;2.0&quot; xmlns:m=&quot;https://ant.apache.org/ivy/maven&quot;&gt;\n    &lt;info organisation=&quot;org.my&quot; module=&quot;my-proj&quot;/&gt;\n    &lt;dependencies&gt;\n        &lt;dependency org=&quot;org.openjfx&quot; name=&quot;javafx-graphics&quot; rev=&quot;21.0.1&quot; /&gt;\n        &lt;dependency org=&quot;org.openjfx&quot; name=&quot;javafx-graphics&quot; rev=&quot;21.0.1&quot; m:classifier=&quot;linux&quot;/&gt;\n    &lt;/dependencies&gt;\n&lt;/ivy-module&gt;\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>ls ~/.ivy2/cache/org.openjfx/javafx-graphics/jars\n# javafx-graphics-21.0.1.jar\n# javafx-graphics-21.0.1-linux.jar\n</code></pre>\n"}],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":77463376,"answer_count":1,"score":5,"last_activity_date":1699661667,"creation_date":1699659722,"question_id":77463354,"body_markdown":"I&#39;m looking to fetch JavaFX from Maven Central using Ivy.\r\n\r\nThis works to get the Java dependencies, but not the native dependencies.\r\n\r\nExpected:\r\n\r\n* `javafx-graphics-21.0.1.jar`\r\n* `javafx-graphics-21.0.1-linux.jar`\r\n\r\nActual:\r\n* `javafx-graphics-21.0.1.jar`\r\n* **MISSING** `javafx-graphics-21.0.1-linux.jar`\r\n\r\nHow do I also obtain the native components?\r\n\r\n`ivy.xml`\r\n```xml\r\n&lt;ivy-module version=&quot;2.0&quot; xmlns:m=&quot;https://ant.apache.org/ivy/maven&quot;&gt;\r\n    &lt;info organisation=&quot;org.my&quot; module=&quot;my-proj&quot;/&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency org=&quot;org.openjfx&quot; name=&quot;javafx-graphics&quot; rev=&quot;21.0.1&quot; /&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/ivy-module&gt;\r\n```\r\n\r\n```bash\r\nivy &amp;&amp; ls ~/.ivy2/cache/org.openjfx/javafx-graphics/jars\r\n# javafx-graphics-21.0.1.jar\r\n```\r\n\r\nHere&#39;s the POM: https://repo1.maven.org/maven2/org/openjfx/javafx/20.0.1/javafx-20.0.1.pom\r\n\r\nRelated: https://stackoverflow.com/questions/55615864\r\n\r\nI&#39;m adding the `maven-2` tag because [Ivy uses the Maven 2 repositories](https://ant.apache.org/ivy/history/master/tutorial/start.html):\r\n\r\n&gt; With no specific settings, Ivy uses the Maven 2 repository to resolve the dependencies you declare in an Ivy file.","title":"Download JavaFX dependency using Ivy","body":"<p>I'm looking to fetch JavaFX from Maven Central using Ivy.</p>\n<p>This works to get the Java dependencies, but not the native dependencies.</p>\n<p>Expected:</p>\n<ul>\n<li><code>javafx-graphics-21.0.1.jar</code></li>\n<li><code>javafx-graphics-21.0.1-linux.jar</code></li>\n</ul>\n<p>Actual:</p>\n<ul>\n<li><code>javafx-graphics-21.0.1.jar</code></li>\n<li><strong>MISSING</strong> <code>javafx-graphics-21.0.1-linux.jar</code></li>\n</ul>\n<p>How do I also obtain the native components?</p>\n<p><code>ivy.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ivy-module version=&quot;2.0&quot; xmlns:m=&quot;https://ant.apache.org/ivy/maven&quot;&gt;\n    &lt;info organisation=&quot;org.my&quot; module=&quot;my-proj&quot;/&gt;\n    &lt;dependencies&gt;\n        &lt;dependency org=&quot;org.openjfx&quot; name=&quot;javafx-graphics&quot; rev=&quot;21.0.1&quot; /&gt;\n    &lt;/dependencies&gt;\n&lt;/ivy-module&gt;\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>ivy &amp;&amp; ls ~/.ivy2/cache/org.openjfx/javafx-graphics/jars\n# javafx-graphics-21.0.1.jar\n</code></pre>\n<p>Here's the POM: <a href=\"https://repo1.maven.org/maven2/org/openjfx/javafx/20.0.1/javafx-20.0.1.pom\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/openjfx/javafx/20.0.1/javafx-20.0.1.pom</a></p>\n<p>Related: <a href=\"https://stackoverflow.com/questions/55615864\">How to make maven request the correct javafx dependancies on linux</a></p>\n<p>I'm adding the <code>maven-2</code> tag because <a href=\"https://ant.apache.org/ivy/history/master/tutorial/start.html\" rel=\"nofollow noreferrer\">Ivy uses the Maven 2 repositories</a>:</p>\n<blockquote>\n<p>With no specific settings, Ivy uses the Maven 2 repository to resolve the dependencies you declare in an Ivy file.</p>\n</blockquote>\n"},{"tags":["java","icalendar","ical4j"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699625957,"post_id":77459202,"comment_id":136559153,"body_markdown":"`LocalDateTime` does not have time zone information; what happens if you use a `OffsetDateTime` or `ZonedDateTime` with UTC as time zone? (I do not know `VEvent`, so just guessing)","body":"<code>LocalDateTime</code> does not have time zone information; what happens if you use a <code>OffsetDateTime</code> or <code>ZonedDateTime</code> with UTC as time zone? (I do not know <code>VEvent</code>, so just guessing)"},{"owner":{"account_id":17578660,"reputation":89,"user_id":12752873,"display_name":"Sivaranjani Duraisamy"},"score":0,"creation_date":1699627485,"post_id":77459202,"comment_id":136559419,"body_markdown":"It still does not append the Z","body":"It still does not append the Z"}],"answers":[{"tags":[],"owner":{"account_id":54555,"reputation":711,"user_id":163223,"display_name":"fortuna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699660740,"creation_date":1699660740,"answer_id":77463391,"question_id":77459202,"body_markdown":"Here are some examples from the ical4j unit tests:\r\n\r\n            date                                                | expectedString\r\n        LocalDate.of(2023, 11, 10)                          | &#39;DTSTART;VALUE=DATE:20231110\\r\\n&#39;\r\n        LocalDateTime.of(2023, 11, 10, 1, 1, 1)             | &#39;DTSTART:20231110T010101\\r\\n&#39;\r\n        LocalDateTime.of(2023, 11, 10, 1, 1, 1)\r\n                .atZone(ZoneId.of(&#39;Australia/Melbourne&#39;))   | &#39;DTSTART;TZID=Australia/Melbourne:20231110T010101\\r\\n&#39;\r\n        LocalDateTime.of(2023, 11, 10, 1, 1, 1)\r\n                .toInstant(ZoneOffset.UTC)                  | &#39;DTSTART:20231110T010101Z\\r\\n&#39;\r\n\r\nCurrently a `LocalDateTime` is interpreted as floating time in ical4j, so you need to use `Instant` to represent UTC.\r\n\r\nhttps://github.com/ical4j/ical4j/blob/674cc6860871f9fe6157a152ad2a4436824ada04/src/test/groovy/net/fortuna/ical4j/model/property/DtStartTestSpec.groovy#L58\r\n","title":"Creating the ical file not appending Z for UTC","body":"<p>Here are some examples from the ical4j unit tests:</p>\n<pre><code>        date                                                | expectedString\n    LocalDate.of(2023, 11, 10)                          | 'DTSTART;VALUE=DATE:20231110\\r\\n'\n    LocalDateTime.of(2023, 11, 10, 1, 1, 1)             | 'DTSTART:20231110T010101\\r\\n'\n    LocalDateTime.of(2023, 11, 10, 1, 1, 1)\n            .atZone(ZoneId.of('Australia/Melbourne'))   | 'DTSTART;TZID=Australia/Melbourne:20231110T010101\\r\\n'\n    LocalDateTime.of(2023, 11, 10, 1, 1, 1)\n            .toInstant(ZoneOffset.UTC)                  | 'DTSTART:20231110T010101Z\\r\\n'\n</code></pre>\n<p>Currently a <code>LocalDateTime</code> is interpreted as floating time in ical4j, so you need to use <code>Instant</code> to represent UTC.</p>\n<p><a href=\"https://github.com/ical4j/ical4j/blob/674cc6860871f9fe6157a152ad2a4436824ada04/src/test/groovy/net/fortuna/ical4j/model/property/DtStartTestSpec.groovy#L58\" rel=\"nofollow noreferrer\">https://github.com/ical4j/ical4j/blob/674cc6860871f9fe6157a152ad2a4436824ada04/src/test/groovy/net/fortuna/ical4j/model/property/DtStartTestSpec.groovy#L58</a></p>\n"}],"owner":{"account_id":17578660,"reputation":89,"user_id":12752873,"display_name":"Sivaranjani Duraisamy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699660740,"creation_date":1699611317,"question_id":77459202,"body_markdown":"I have the following code, which is generating the ics file successfully. But I wanted the DTSTART to append with Z at the end as it is UTC, but that is not happening. \r\n\r\n\r\n      public class IcalGenerator {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            /* Create the event */\r\n            String eventSummary = &quot;New Year&quot;;\r\n            LocalDateTime start = LocalDateTime.now(ZoneId.of(&quot;UTC&quot;));\r\n            VEvent event = new VEvent(start, Duration.of(30, ChronoUnit.MINUTES), eventSummary);\r\n            event.add(new Clazz(Clazz.VALUE_PUBLIC));\r\n            event.add(new Description(&quot;New meeting&quot;));\r\n    \r\n            /* Create calendar */\r\n            Calendar icsCalendar = new Calendar();\r\n            var version = new Version();\r\n            version.setValue(Version.VALUE_2_0);\r\n            icsCalendar.add(version);\r\n    \r\n            // Set the location\r\n            Location location = new Location(&quot;Conference Room&quot;);\r\n    \r\n            // Add the Location to the event\r\n            event.add(location);\r\n    \r\n            /* Add event to calendar */\r\n            icsCalendar.add(event);\r\n    \r\n            /* Create a file */\r\n            String filePath = &quot;my_meeting.ics&quot;;\r\n            FileOutputStream out = null;\r\n            try {\r\n    \r\n                out = new FileOutputStream(filePath);\r\n                CalendarOutputter outputter = new CalendarOutputter();\r\n                outputter.output(icsCalendar, out);\r\n    \r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (ValidationException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if (out != null) {\r\n                    try {\r\n                        out.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\nCan you help me what I am missing? I wanted finally **DTSTART:20231110T164148Z** instead of **DTSTART:20231110T164148**\r\n\r\nWhen I append manually Z then it works good.\r\n\r\n","title":"Creating the ical file not appending Z for UTC","body":"<p>I have the following code, which is generating the ics file successfully. But I wanted the DTSTART to append with Z at the end as it is UTC, but that is not happening.</p>\n<pre><code>  public class IcalGenerator {\n\n    public static void main(String[] args) {\n\n        /* Create the event */\n        String eventSummary = &quot;New Year&quot;;\n        LocalDateTime start = LocalDateTime.now(ZoneId.of(&quot;UTC&quot;));\n        VEvent event = new VEvent(start, Duration.of(30, ChronoUnit.MINUTES), eventSummary);\n        event.add(new Clazz(Clazz.VALUE_PUBLIC));\n        event.add(new Description(&quot;New meeting&quot;));\n\n        /* Create calendar */\n        Calendar icsCalendar = new Calendar();\n        var version = new Version();\n        version.setValue(Version.VALUE_2_0);\n        icsCalendar.add(version);\n\n        // Set the location\n        Location location = new Location(&quot;Conference Room&quot;);\n\n        // Add the Location to the event\n        event.add(location);\n\n        /* Add event to calendar */\n        icsCalendar.add(event);\n\n        /* Create a file */\n        String filePath = &quot;my_meeting.ics&quot;;\n        FileOutputStream out = null;\n        try {\n\n            out = new FileOutputStream(filePath);\n            CalendarOutputter outputter = new CalendarOutputter();\n            outputter.output(icsCalendar, out);\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (ValidationException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (out != null) {\n                try {\n                    out.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>Can you help me what I am missing? I wanted finally <strong>DTSTART:20231110T164148Z</strong> instead of <strong>DTSTART:20231110T164148</strong></p>\n<p>When I append manually Z then it works good.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1699660136,"post_id":77463352,"comment_id":136563960,"body_markdown":"https://pypi.org/project/groovy-parser/","body":"<a href=\"https://pypi.org/project/groovy-parser/\" rel=\"nofollow noreferrer\">pypi.org/project/groovy-parser</a>"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1699660756,"post_id":77463352,"comment_id":136564015,"body_markdown":"Does this answer your question? [Parse build.gradle programmatically](https://stackoverflow.com/questions/57527328/parse-build-gradle-programmatically)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57527328/parse-build-gradle-programmatically\">Parse build.gradle programmatically</a>"},{"owner":{"account_id":23865731,"reputation":1,"user_id":17868087,"display_name":"Hofi"},"score":0,"creation_date":1699664775,"post_id":77463352,"comment_id":136564301,"body_markdown":"@KarlKnechtel I tried this one, but it is only for parsing — I don&#39;t think it allows you to edit the gradle.build file","body":"@KarlKnechtel I tried this one, but it is only for parsing — I don&#39;t think it allows you to edit the gradle.build file"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1699667381,"post_id":77463352,"comment_id":136564473,"body_markdown":"You have to write the update logic.","body":"You have to write the update logic."}],"owner":{"account_id":23865731,"reputation":1,"user_id":17868087,"display_name":"Hofi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699660736,"creation_date":1699659667,"question_id":77463352,"body_markdown":"I&#39;m currently looking for an approach which allows me to **parse** and **edit** a **build.gradle** file of existing projects. I want to have an automated way to add certain dependencies, parts of the buildscript or the whole buildscript, add something to subprojects part of the file, and so on.\r\n\r\nI tried to use the CodeVisitorSupport library, but I think it doesn&#39;t allow me to edit the build.gradle file, but only to parse and execute it.\r\nThe commandLine API only allows it to execute tasks, but I found nothing regarding to possibility to alter the built.gradle file.\r\n\r\nI wrote a python script, which is a little unstable, which allows me to do the job, but I would like to have a better automated way to parse, edit and save the build.gradle file. ","title":"How to parse and edit build.gradle files?","body":"<p>I'm currently looking for an approach which allows me to <strong>parse</strong> and <strong>edit</strong> a <strong>build.gradle</strong> file of existing projects. I want to have an automated way to add certain dependencies, parts of the buildscript or the whole buildscript, add something to subprojects part of the file, and so on.</p>\n<p>I tried to use the CodeVisitorSupport library, but I think it doesn't allow me to edit the build.gradle file, but only to parse and execute it.\nThe commandLine API only allows it to execute tasks, but I found nothing regarding to possibility to alter the built.gradle file.</p>\n<p>I wrote a python script, which is a little unstable, which allows me to do the job, but I would like to have a better automated way to parse, edit and save the build.gradle file.</p>\n"},{"tags":["java","mysql","bcrypt"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699664720,"post_id":77463371,"comment_id":136564298,"body_markdown":"That code doesn&#39;t compile.","body":"That code doesn&#39;t compile."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699664846,"post_id":77463371,"comment_id":136564307,"body_markdown":"It is not clear where you are stuck. You seem to have a crypt library that you&#39;re using (`if (BCrypt.checkpw()){`) but you also seem to use a password in your where clause. What exactly is your question?","body":"It is not clear where you are stuck. You seem to have a crypt library that you&#39;re using (<code>if (BCrypt.checkpw()){</code>) but you also seem to use a password in your where clause. What exactly is your question?"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1699687776,"post_id":77463371,"comment_id":136565429,"body_markdown":"A password hash must be compared to another password hash (using the same salt) for equality. Also, I believe the `BCrypt.checkpw()` method requires parameters.","body":"A password hash must be compared to another password hash (using the same salt) for equality. Also, I believe the <code>BCrypt.checkpw()</code> method requires parameters."}],"owner":{"account_id":29875770,"reputation":1,"user_id":22896006,"display_name":"julio cesar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699660540,"creation_date":1699660243,"question_id":77463371,"body_markdown":"I have a login program which takes the information from one db and passes it to the other home section, I want to save an encrypted password (bcript) in the db and in the login it says, for example:\r\ndb: `$2a$12$MzhYAeNkuDd/8GaYKPyI5uqe/ANa5sVD3.AdP5TgaFX6MbLTNEkia`\r\nlogin: `con123`\r\nand allow me to enter.\r\n\r\n\r\nWhat should I add to it to do all that?\r\n\r\ncode: \r\n```\r\npublic class CLogin {\r\n\t\r\n\tprivate String password =&quot;con123&quot;;\r\n\r\n\tpublic void validateUser(JTextField user, JPasswordField password){\r\n\t\ttry {\r\n\t\t\tResultSet rs=null;\r\n\t\t\tPreparedStatement ps= null;\r\n\t\t\t\r\n\t\t\tClasses.CConexionConnectionObject = new Classes.CConexion();\r\n\t\t\t\r\n\t\t\tString query=&quot;select * from user where user.UserLogin =(?) and user.PasswordLogin=(?);&quot;;\r\n\t\t\tps=connectionObject.setConnection().prepareStatement(query);\r\n\t\t\t\r\n\t\t\tString pass\r\n\t\t\tString contra = String.valueOf(password.getPassword());\r\n\t\t\t\r\n\t\t\tps.setString(1, user.getText());\r\n\t\t\tps.setString(2,con);\r\n\t\t\t\r\n\t\t\trs = ps.executeQuery();\r\n\t\t\t\r\n\t\t\tif (rs.next()) {\r\n\t\t\t\t\r\n\t\t\t\tJOptionPane.showMessageDialog(null,&quot;User is Correct&quot;);\r\n\t\t\t\tFromMenuMenu object = new FromMenu();\r\n\t\t\t\tobjectMenu.setVisible(true);\r\n\t\t\t\tif (BCrypt.checkpw()){\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tJOptionPane.showMessageDialog(null,&quot;User is INCORRECT, TRY AGAIN&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tJOptionPane.showMessageDialog(null,&quot;ERROR: &quot;+e.toString());\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n```\r\nI&#39;m looking for information on the internet but I can&#39;t find anything consistent, or I don&#39;t know how to search.","title":"How to check a bcrypt password in java without framework","body":"<p>I have a login program which takes the information from one db and passes it to the other home section, I want to save an encrypted password (bcript) in the db and in the login it says, for example:\ndb: <code>$2a$12$MzhYAeNkuDd/8GaYKPyI5uqe/ANa5sVD3.AdP5TgaFX6MbLTNEkia</code>\nlogin: <code>con123</code>\nand allow me to enter.</p>\n<p>What should I add to it to do all that?</p>\n<p>code:</p>\n<pre><code>public class CLogin {\n    \n    private String password =&quot;con123&quot;;\n\n    public void validateUser(JTextField user, JPasswordField password){\n        try {\n            ResultSet rs=null;\n            PreparedStatement ps= null;\n            \n            Classes.CConexionConnectionObject = new Classes.CConexion();\n            \n            String query=&quot;select * from user where user.UserLogin =(?) and user.PasswordLogin=(?);&quot;;\n            ps=connectionObject.setConnection().prepareStatement(query);\n            \n            String pass\n            String contra = String.valueOf(password.getPassword());\n            \n            ps.setString(1, user.getText());\n            ps.setString(2,con);\n            \n            rs = ps.executeQuery();\n            \n            if (rs.next()) {\n                \n                JOptionPane.showMessageDialog(null,&quot;User is Correct&quot;);\n                FromMenuMenu object = new FromMenu();\n                objectMenu.setVisible(true);\n                if (BCrypt.checkpw()){\n                    \n                }else{\n                    \n                }\n            }\n            else\n            {\n                JOptionPane.showMessageDialog(null,&quot;User is INCORRECT, TRY AGAIN&quot;);\n            }\n            \n\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(null,&quot;ERROR: &quot;+e.toString());\n        }\n    }\n    \n}\n</code></pre>\n<p>I'm looking for information on the internet but I can't find anything consistent, or I don't know how to search.</p>\n"},{"tags":["java","performance","intellij-idea"],"comments":[{"owner":{"account_id":9629069,"reputation":589,"user_id":7147702,"accept_rate":75,"display_name":"aphrid"},"score":4,"creation_date":1505797026,"post_id":46292095,"comment_id":79546746,"body_markdown":"Are you setting any breakpoints on method signatures themselves instead of method bodies? That dramatically slows things down.","body":"Are you setting any breakpoints on method signatures themselves instead of method bodies? That dramatically slows things down."},{"owner":{"account_id":3977767,"reputation":22190,"user_id":3280538,"accept_rate":74,"display_name":"flakes"},"score":0,"creation_date":1505797118,"post_id":46292095,"comment_id":79546771,"body_markdown":"Also tell intellij to clear all your existing breakpoints in case they exist in long forgotten code.","body":"Also tell intellij to clear all your existing breakpoints in case they exist in long forgotten code."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1505818329,"post_id":46292095,"comment_id":79559156,"body_markdown":"See https://intellij-support.jetbrains.com/hc/articles/206544799.","body":"See <a href=\"https://intellij-support.jetbrains.com/hc/articles/206544799\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/articles/206544799</a>."},{"owner":{"account_id":6813724,"reputation":473,"user_id":5243096,"accept_rate":25,"display_name":"swathi"},"score":1,"creation_date":1505865765,"post_id":46292095,"comment_id":79584510,"body_markdown":"I tried all the options which you mentioned but still it is very slow.","body":"I tried all the options which you mentioned but still it is very slow."},{"owner":{"account_id":3078593,"reputation":3398,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1664520799,"post_id":46292095,"comment_id":130494913,"body_markdown":"Issue still exists with 2022.1.3 version","body":"Issue still exists with 2022.1.3 version"}],"answers":[{"tags":[],"owner":{"account_id":10998452,"reputation":2722,"user_id":8079754,"display_name":"Moe"},"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1602335388,"creation_date":1505798121,"answer_id":46292330,"question_id":46292095,"body_markdown":"Remove breakpoints off your method and use them inside the method as that can cause your debug to take a very long time.\r\n\r\nTry running IntelliJ as admin. I had this issue at work where debugging was extremely slow and running as admin actually made it a lot faster.\r\n\r\nhttps://stackoverflow.com/questions/31062069/method-breakpoints-may-dramatically-slow-down-debugging\r\n\r\nThere is a simple explanation from the IntelliJ Team: &quot;Method breakpoints will slow down debugger a lot because of the JVM design, they are expensive to evaluate&quot;\r\n\r\nhttps://intellij-support.jetbrains.com/hc/en-us/articles/206544799-Java-slow-performance-or-hangups-when-starting-debugger-and-stepping","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>Remove breakpoints off your method and use them inside the method as that can cause your debug to take a very long time.</p>\n<p>Try running IntelliJ as admin. I had this issue at work where debugging was extremely slow and running as admin actually made it a lot faster.</p>\n<p><a href=\"https://stackoverflow.com/questions/31062069/method-breakpoints-may-dramatically-slow-down-debugging\">Method breakpoints may dramatically slow down debugging</a></p>\n<p>There is a simple explanation from the IntelliJ Team: &quot;Method breakpoints will slow down debugger a lot because of the JVM design, they are expensive to evaluate&quot;</p>\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544799-Java-slow-performance-or-hangups-when-starting-debugger-and-stepping\" rel=\"noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/articles/206544799-Java-slow-performance-or-hangups-when-starting-debugger-and-stepping</a></p>\n"},{"tags":[],"owner":{"account_id":10824901,"reputation":745,"user_id":7961080,"accept_rate":67,"display_name":"Aman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505798142,"creation_date":1505798142,"answer_id":46292336,"question_id":46292095,"body_markdown":"I faced similar problem with the Eclipse also and found the solution.\r\nIt is happening because your IntelliJ is using online Java and not using the same which is installed in your system.\r\n\r\nYou should set the java path to your system one in the IntelliJ configuration. Below link will help you for the same:  \r\nhttps://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under\r\n\r\nHope this will help you. :-)","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>I faced similar problem with the Eclipse also and found the solution.\nIt is happening because your IntelliJ is using online Java and not using the same which is installed in your system.</p>\n\n<p>You should set the java path to your system one in the IntelliJ configuration. Below link will help you for the same:<br>\n<a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under</a></p>\n\n<p>Hope this will help you. :-)</p>\n"},{"tags":[],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1511791977,"creation_date":1511791977,"answer_id":47512980,"question_id":46292095,"body_markdown":"I have solved a similar problem by disabling breakpoints; it was remote debugging.\r\nI did not make any performance measurements, but it looks like it is ok to have about 10 active breakpoints, but disastrous to have about 100 of them (I guess, the breakpoint list is sent over the network).\r\n\r\nIdea lets you to group breakpoints and disable the whole groups.\r\n\r\nNote that a click on the wrong mouse button clears your breakpoint instead of letting you edit its condition, so be careful!\r\n","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>I have solved a similar problem by disabling breakpoints; it was remote debugging.\nI did not make any performance measurements, but it looks like it is ok to have about 10 active breakpoints, but disastrous to have about 100 of them (I guess, the breakpoint list is sent over the network).</p>\n\n<p>Idea lets you to group breakpoints and disable the whole groups.</p>\n\n<p>Note that a click on the wrong mouse button clears your breakpoint instead of letting you edit its condition, so be careful!</p>\n"},{"tags":[],"owner":{"account_id":13149223,"reputation":689,"user_id":9498369,"display_name":"Arul Rozario"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1576836327,"creation_date":1560791053,"answer_id":56635914,"question_id":46292095,"body_markdown":"I had the similar issue. In my case it was **method breakpoints**. There was just one break point on a method. My spring boot app took around 20 mins to launch. When I removed the breakpoints it took 4 seconds to launch.\r\n\r\nI also changed the debugger settings.\r\n\r\n  1. Unchecked - Enable alternative view view for Collections classes\r\n  2. Unchecked - Enable &#39;toString()&#39; object view:\r\n\r\nbut these settings didn&#39;t make a difference.","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>I had the similar issue. In my case it was <strong>method breakpoints</strong>. There was just one break point on a method. My spring boot app took around 20 mins to launch. When I removed the breakpoints it took 4 seconds to launch.</p>\n\n<p>I also changed the debugger settings.</p>\n\n<ol>\n<li>Unchecked - Enable alternative view view for Collections classes</li>\n<li>Unchecked - Enable 'toString()' object view:</li>\n</ol>\n\n<p>but these settings didn't make a difference.</p>\n"},{"tags":[],"owner":{"account_id":1183708,"reputation":710,"user_id":1158082,"display_name":"Andrew Gans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568363682,"creation_date":1568363682,"answer_id":57920037,"question_id":46292095,"body_markdown":"Make sure that you don&#39;t use &quot;biz.paluch.logging.gelf.logback.GelfLogbackAppender&quot; among your logs. In my case usage of such kind of appender was the cause of drastically slow starting in debug mode.","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>Make sure that you don't use \"biz.paluch.logging.gelf.logback.GelfLogbackAppender\" among your logs. In my case usage of such kind of appender was the cause of drastically slow starting in debug mode.</p>\n"},{"tags":[],"owner":{"account_id":342450,"reputation":2404,"user_id":673617,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573725493,"creation_date":1573725493,"answer_id":58853959,"question_id":46292095,"body_markdown":"Remove breakpoint from DAO interface and all work nice!","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>Remove breakpoint from DAO interface and all work nice!</p>\n"},{"tags":[],"owner":{"account_id":2021629,"reputation":57943,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618750563,"creation_date":1579715797,"answer_id":59865675,"question_id":46292095,"body_markdown":"In my case, slowness is specific to REST calls. After testing all of the above proposed solutions, I finally find a way to remove these slowness issues by switching my JDK from JDK 11 to JDK 8.\r\n\r\nNote: The same slowness appears in Visual Studio Code. This seems related to JDK 11 (OpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.10+9, mixed mode) on macOS)","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>In my case, slowness is specific to REST calls. After testing all of the above proposed solutions, I finally find a way to remove these slowness issues by switching my JDK from JDK 11 to JDK 8.</p>\n<p>Note: The same slowness appears in Visual Studio Code. This seems related to JDK 11 (OpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.10+9, mixed mode) on macOS)</p>\n"},{"tags":[],"owner":{"account_id":13973190,"reputation":51,"user_id":10091199,"display_name":"Leonardo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596126161,"creation_date":1596126161,"answer_id":63177361,"question_id":46292095,"body_markdown":"In my case I just had to disable the option: &quot;Show method returns values&quot;\r\n[Image of the option][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xzJPb.png","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>In my case I just had to disable the option: &quot;Show method returns values&quot;\n<a href=\"https://i.stack.imgur.com/xzJPb.png\" rel=\"nofollow noreferrer\">Image of the option</a></p>\n"},{"tags":[],"owner":{"account_id":4173994,"reputation":708,"user_id":3421066,"accept_rate":25,"display_name":"alext"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1601285322,"creation_date":1601285322,"answer_id":64099476,"question_id":46292095,"body_markdown":"In my case i had more than 100 breakpoints active and this was the cause of this issue.  \r\nI clicked `Ctrl + Alt + F8` and disabled all the breakpoints.   \r\nAfter that i enabled few new breakpoints i needed and all was ok.  \r\nIt seems that having a lot of active breakpoints causes this issue.","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>In my case i had more than 100 breakpoints active and this was the cause of this issue.<br />\nI clicked <code>Ctrl + Alt + F8</code> and disabled all the breakpoints.<br />\nAfter that i enabled few new breakpoints i needed and all was ok.<br />\nIt seems that having a lot of active breakpoints causes this issue.</p>\n"},{"tags":[],"owner":{"account_id":2616296,"reputation":1932,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1606055306,"creation_date":1606055306,"answer_id":64955338,"question_id":46292095,"body_markdown":"If you **disable** this options in ***Build, Execution, Deployment -&gt; Debugger -&gt; Data Views --&gt; Java***, things will start work faster when debugging. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oZZJW.png","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>If you <strong>disable</strong> this options in <em><strong>Build, Execution, Deployment -&gt; Debugger -&gt; Data Views --&gt; Java</strong></em>, things will start work faster when debugging.</p>\n<p><a href=\"https://i.stack.imgur.com/oZZJW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oZZJW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":14064729,"reputation":111,"user_id":10159895,"display_name":"Jayant"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1628174716,"creation_date":1628164849,"answer_id":68666216,"question_id":46292095,"body_markdown":"clicked on &quot;Mute Breakpoints&quot; and started it and it started like as if starting in normal mode(means no any delay)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qH784.png","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>clicked on &quot;Mute Breakpoints&quot; and started it and it started like as if starting in normal mode(means no any delay)</p>\n<p><a href=\"https://i.stack.imgur.com/qH784.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qH784.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2395860,"reputation":3604,"user_id":2094670,"accept_rate":87,"display_name":"ajayramesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631064250,"creation_date":1631064250,"answer_id":69095980,"question_id":46292095,"body_markdown":"I also faced same problem, after deleting all breakpoints it started working fine. ","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>I also faced same problem, after deleting all breakpoints it started working fine.</p>\n"},{"tags":[],"owner":{"account_id":2395641,"reputation":349,"user_id":2094491,"display_name":"alexcorghencea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635803335,"creation_date":1635803335,"answer_id":69803135,"question_id":46292095,"body_markdown":"Removing all Interface method breakpoints will fix the long spring boot startup Idea debug run.","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>Removing all Interface method breakpoints will fix the long spring boot startup Idea debug run.</p>\n"},{"tags":[],"owner":{"account_id":3154976,"reputation":71,"user_id":2667570,"display_name":"Martin Devlin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641835390,"creation_date":1641835390,"answer_id":70656481,"question_id":46292095,"body_markdown":"In my case the problem was caused by the &quot;Threads&quot; view. When I remove this view it becomes fast again. \r\n\r\nWhen I add the Threads view, I continuously see &quot;Collecting data...&quot; in the threads view, it flickers every 5s where the threads list shows for a moment then it goes back to &quot;Collecting data...&quot;. When its like this, stepping through the code is painfully slow - takes about 10s for each step.","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>In my case the problem was caused by the &quot;Threads&quot; view. When I remove this view it becomes fast again.</p>\n<p>When I add the Threads view, I continuously see &quot;Collecting data...&quot; in the threads view, it flickers every 5s where the threads list shows for a moment then it goes back to &quot;Collecting data...&quot;. When its like this, stepping through the code is painfully slow - takes about 10s for each step.</p>\n"},{"tags":[],"owner":{"account_id":24095576,"reputation":85,"user_id":18068156,"display_name":"Seeker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672148595,"creation_date":1672148595,"answer_id":74930030,"question_id":46292095,"body_markdown":"I cam across this post looking for a solution for my CLion (Rust). I removed all breakpoints, and it was enough to make the starting time on the debug mode too quick again.\r\n\r\nThanks to everyone who suggested that. This suggestion does not work only for Java, it also works for Rust/Clion","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>I cam across this post looking for a solution for my CLion (Rust). I removed all breakpoints, and it was enough to make the starting time on the debug mode too quick again.</p>\n<p>Thanks to everyone who suggested that. This suggestion does not work only for Java, it also works for Rust/Clion</p>\n"},{"tags":[],"owner":{"account_id":5568098,"reputation":1,"user_id":4414527,"display_name":"charanpreet flora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699659742,"creation_date":1699659742,"answer_id":77463355,"question_id":46292095,"body_markdown":"I encountered a similar issue and the issue was having a breakpoint in one of the method signatures in the repository methods. After removing that, the issue was gone. ","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>I encountered a similar issue and the issue was having a breakpoint in one of the method signatures in the repository methods. After removing that, the issue was gone.</p>\n"}],"owner":{"account_id":6813724,"reputation":473,"user_id":5243096,"accept_rate":25,"display_name":"swathi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36698,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"answer_count":16,"score":35,"last_activity_date":1699659742,"creation_date":1505796933,"question_id":46292095,"body_markdown":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode.\r\n\r\nI already tried by setting the below thing in /etc/hosts file\r\nsudo nano /etc/hosts and add these two entries.\r\n\r\n127.0.0.1 &lt;output-host-name&gt;.local\r\n::1 &lt;output-host-name&gt;.local\r\n\r\nBut it did not work out for me.\r\n\r\nAny help on this is highly regarded.\r\n","title":"Intelliji idea is very slow in debug mode and it is running perfectly in normal mode","body":"<p>Intelliji idea is very slow in debug mode and it is running perfectly in normal mode.</p>\n\n<p>I already tried by setting the below thing in /etc/hosts file\nsudo nano /etc/hosts and add these two entries.</p>\n\n<p>127.0.0.1 .local\n::1 .local</p>\n\n<p>But it did not work out for me.</p>\n\n<p>Any help on this is highly regarded.</p>\n"},{"tags":["java","spring","spring-boot","multithreading","multiprocessing"],"answers":[{"tags":[],"owner":{"account_id":3620043,"reputation":2295,"user_id":3019024,"accept_rate":97,"display_name":"WildDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699658822,"creation_date":1699658822,"answer_id":77463315,"question_id":77432097,"body_markdown":"This is so called a *distributed processing*.\r\n\r\nCron is good for executing limited latency tasks such as sql scripts but they&#39;re not scalable and weren&#39;t designed for these purposes. If you scale cron tasks it will cause a race condition since the schedule is would be the same across the instances.\r\n\r\nIn the practice, there&#39;s a number of common ways:\r\n\r\n - Cron jobs in the [Leader Election](https://en.wikipedia.org/wiki/Leader_election) style. It means only one instance in a cluster is responsible for the task execution at time. Good thing for periodic tasks such as maintenance scripts but those are not suitable for the workload processing. See Kubernetes [CronJobs](https://kubernetes.io/docs/concepts/workloads/controllers/cron-jobs/)\r\n - Concurrent workers. This is preferred way for the small and medium sized projects. You might want to poll some resource in order to *reserve* some data in a fixed interval instead of a cron since not all the workers will trigger in the same time. Then you can process the data read in the concurrent manner. The access to such resources must be synchronized in order to avoid duplicate reads. This is just like how [Kafka](https://kafka.apache.org/documentation/) works.\r\n - Distributed queue. There&#39;re many implementations exist including [RabbitMQ](https://www.rabbitmq.com/), [Kafka](https://kafka.apache.org/documentation/) etc. As you published the workload it is ready for the concurrent processing and the scalability is then easily achieved. This is the most expensive and common seen approach for the enterprise level software.","title":"Cron running on multiple server instance","body":"<p>This is so called a <em>distributed processing</em>.</p>\n<p>Cron is good for executing limited latency tasks such as sql scripts but they're not scalable and weren't designed for these purposes. If you scale cron tasks it will cause a race condition since the schedule is would be the same across the instances.</p>\n<p>In the practice, there's a number of common ways:</p>\n<ul>\n<li>Cron jobs in the <a href=\"https://en.wikipedia.org/wiki/Leader_election\" rel=\"nofollow noreferrer\">Leader Election</a> style. It means only one instance in a cluster is responsible for the task execution at time. Good thing for periodic tasks such as maintenance scripts but those are not suitable for the workload processing. See Kubernetes <a href=\"https://kubernetes.io/docs/concepts/workloads/controllers/cron-jobs/\" rel=\"nofollow noreferrer\">CronJobs</a></li>\n<li>Concurrent workers. This is preferred way for the small and medium sized projects. You might want to poll some resource in order to <em>reserve</em> some data in a fixed interval instead of a cron since not all the workers will trigger in the same time. Then you can process the data read in the concurrent manner. The access to such resources must be synchronized in order to avoid duplicate reads. This is just like how <a href=\"https://kafka.apache.org/documentation/\" rel=\"nofollow noreferrer\">Kafka</a> works.</li>\n<li>Distributed queue. There're many implementations exist including <a href=\"https://www.rabbitmq.com/\" rel=\"nofollow noreferrer\">RabbitMQ</a>, <a href=\"https://kafka.apache.org/documentation/\" rel=\"nofollow noreferrer\">Kafka</a> etc. As you published the workload it is ready for the concurrent processing and the scalability is then easily achieved. This is the most expensive and common seen approach for the enterprise level software.</li>\n</ul>\n"}],"owner":{"account_id":18695929,"reputation":81,"user_id":13629257,"display_name":"prateek jangid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699658822,"creation_date":1699282822,"question_id":77432097,"body_markdown":"I have a cron (deployed on multiple servers) in spring boot in which i want to get &quot;n&quot; records from a table* based on timestamp column.\r\nAnd will update the is_proccessed field to true once these are processed.\r\n\r\nApproach 1:\r\n\r\nI have thought of using a SP in oracle which i will use &quot;skip Locked&quot; feature which will lock the records and will update is_processed field to true.\r\n\r\nBut in the above approach if there are 10000 records in single run then the update query will be taking time to update these record.\r\n\r\nApproach 2:\r\n\r\nI also thought of redisson lock, but in this if one cron gets the lock others will skip, which i don&#39;t want.\r\n\r\n-----------\r\nIs There any other approach by which all the n cron instance should get different records from DB every time the cron runs? \r\n\r\ni.e Also, i want my code to scale properly.\r\n\r\nPS:*instead of table, the data can be stored and retrieved from cache as well like aerospike or any other way(DB or kafka etc) to store and get data based on timestamp which suits the above case.\r\n\r\n","title":"Cron running on multiple server instance","body":"<p>I have a cron (deployed on multiple servers) in spring boot in which i want to get &quot;n&quot; records from a table* based on timestamp column.\nAnd will update the is_proccessed field to true once these are processed.</p>\n<p>Approach 1:</p>\n<p>I have thought of using a SP in oracle which i will use &quot;skip Locked&quot; feature which will lock the records and will update is_processed field to true.</p>\n<p>But in the above approach if there are 10000 records in single run then the update query will be taking time to update these record.</p>\n<p>Approach 2:</p>\n<p>I also thought of redisson lock, but in this if one cron gets the lock others will skip, which i don't want.</p>\n<hr />\n<p>Is There any other approach by which all the n cron instance should get different records from DB every time the cron runs?</p>\n<p>i.e Also, i want my code to scale properly.</p>\n<p>PS:*instead of table, the data can be stored and retrieved from cache as well like aerospike or any other way(DB or kafka etc) to store and get data based on timestamp which suits the above case.</p>\n"},{"tags":["java","android","kotlin","notifications"],"comments":[{"owner":{"account_id":39846,"reputation":991113,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1699658650,"post_id":77463287,"comment_id":136563875,"body_markdown":"IIRC, custom UI on the lockscreen was abandoned with Android 5.0, around nine years ago.","body":"IIRC, custom UI on the lockscreen was abandoned with Android 5.0, around nine years ago."},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1699658858,"post_id":77463287,"comment_id":136563884,"body_markdown":"Thank you for reply , so there is no way to do that ?","body":"Thank you for reply , so there is no way to do that ?"},{"owner":{"account_id":39846,"reputation":991113,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1699659175,"post_id":77463287,"comment_id":136563899,"body_markdown":"Not in general. Certain manufacturers might have device-specific options for this. Also, custom ROMs might offer it.","body":"Not in general. Certain manufacturers might have device-specific options for this. Also, custom ROMs might offer it."},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1699659406,"post_id":77463287,"comment_id":136563913,"body_markdown":"Alright , Thank you so much mate , appreciate it","body":"Alright , Thank you so much mate , appreciate it"}],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699658328,"creation_date":1699658328,"question_id":77463287,"body_markdown":"I have created a custom ui which i want to show in lock screen , so far i managed to show it using a combination of notification with RemoveViews() but the issue is that when i launch app it shows notification in foreground and the custom UI is shown in lock screen , is there anyway to show only the custom ui in lock screen , don&#39;t want to show notification , Thank you in advance for any help .\r\n\r\n\r\n  * This is my code \r\n\r\n```\r\n\r\n    private void showNetworkChangeNotification(String networkType) {\r\n        notificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(&quot;network_change_channel&quot;, &quot;Network Change Channel&quot;, NotificationManager.IMPORTANCE_DEFAULT);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n\r\n        RemoteViews remoteViews = new RemoteViews(getPackageName(),R.layout.custom_ui_layout);\r\n\r\n        Intent notificationIntent = new Intent(this, MainActivity.class);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_IMMUTABLE);\r\n\r\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;network_change_channel&quot;)\r\n                .setContentTitle(&quot;Network Changed&quot;)\r\n                .setContentText(&quot;Network Type: &quot; + networkType)\r\n                .setSmallIcon(R.drawable.baseline_circle_notifications_24)\r\n                .setContent(remoteViews)\r\n                .addAction(R.drawable.baseline_circle_notifications_24, &quot;Reset&quot;, getCancelPendingIntent())\r\n                .setAutoCancel(true);\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            startForeground(1, notificationBuilder.build());\r\n        } else {\r\n            notificationManager.notify(1, notificationBuilder.build());\r\n        }\r\n\r\n    }\r\n```","title":"Showing a custom ui in lock screen in android programatically","body":"<p>I have created a custom ui which i want to show in lock screen , so far i managed to show it using a combination of notification with RemoveViews() but the issue is that when i launch app it shows notification in foreground and the custom UI is shown in lock screen , is there anyway to show only the custom ui in lock screen , don't want to show notification , Thank you in advance for any help .</p>\n<ul>\n<li>This is my code</li>\n</ul>\n<pre><code>\n    private void showNetworkChangeNotification(String networkType) {\n        notificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(&quot;network_change_channel&quot;, &quot;Network Change Channel&quot;, NotificationManager.IMPORTANCE_DEFAULT);\n            notificationManager.createNotificationChannel(channel);\n        }\n\n        RemoteViews remoteViews = new RemoteViews(getPackageName(),R.layout.custom_ui_layout);\n\n        Intent notificationIntent = new Intent(this, MainActivity.class);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_IMMUTABLE);\n\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;network_change_channel&quot;)\n                .setContentTitle(&quot;Network Changed&quot;)\n                .setContentText(&quot;Network Type: &quot; + networkType)\n                .setSmallIcon(R.drawable.baseline_circle_notifications_24)\n                .setContent(remoteViews)\n                .addAction(R.drawable.baseline_circle_notifications_24, &quot;Reset&quot;, getCancelPendingIntent())\n                .setAutoCancel(true);\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            startForeground(1, notificationBuilder.build());\n        } else {\n            notificationManager.notify(1, notificationBuilder.build());\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","google-cloud-platform","google-cloud-pubsub"],"comments":[{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1699083330,"post_id":77420887,"comment_id":136489115,"body_markdown":"Did you try to purge your subscription and to test again? It could be old messages first.","body":"Did you try to purge your subscription and to test again? It could be old messages first."},{"owner":{"account_id":6357625,"reputation":274,"user_id":5019180,"accept_rate":59,"display_name":"Tiny Rick"},"score":0,"creation_date":1699095219,"post_id":77420887,"comment_id":136489967,"body_markdown":"@guillaumeblaquiere I purged the messages and tried again. The ordering key is not coming in the new messages.","body":"@guillaumeblaquiere I purged the messages and tried again. The ordering key is not coming in the new messages."},{"owner":{"account_id":444824,"reputation":929,"user_id":836890,"accept_rate":100,"display_name":"Chandan Pasunoori"},"score":0,"creation_date":1699375023,"post_id":77420887,"comment_id":136522495,"body_markdown":"@TinyRick did you recreate subscription with ordering enabled or you are using old subscription?","body":"@TinyRick did you recreate subscription with ordering enabled or you are using old subscription?"},{"owner":{"account_id":6357625,"reputation":274,"user_id":5019180,"accept_rate":59,"display_name":"Tiny Rick"},"score":0,"creation_date":1699505196,"post_id":77420887,"comment_id":136541206,"body_markdown":"@ChandanPasunoori I created a fresh topic and created a fresh subscription with ordering enabled. Still no luck.\n\nThe spring boot version i am using is 2.3.4 and spring cloud gcp version is 1.2.8.RELEASE. \n\nI suspect there is no support for ordering in this version","body":"@ChandanPasunoori I created a fresh topic and created a fresh subscription with ordering enabled. Still no luck.  The spring boot version i am using is 2.3.4 and spring cloud gcp version is 1.2.8.RELEASE.   I suspect there is no support for ordering in this version"}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699657670,"creation_date":1699314356,"answer_id":77434807,"question_id":77420887,"body_markdown":"All the Pub/Sub client APIs offer a flag that allows you to enable message ordering.\r\n\r\nUsing Spring Cloud GCP, which internally uses the Pub/Sub Java client library, the easiest way to set this flag is setting the [configuration property](https://googlecloudplatform.github.io/spring-cloud-gcp/reference/html/index.html#publishersubscriber-configuration) `spring.cloud.gcp.pubsub.publisher.enable-message-ordering` to `true`, it is `false` by default. \r\n\r\nPlease, consider review the Spring GCP documentation, especially when they describe [ordering messages](https://googlecloudplatform.github.io/spring-cloud-gcp/reference/html/index.html#publishersubscriber-configuration) when using `PubSubTemplate` and [mapping headers](https://googlecloudplatform.github.io/spring-cloud-gcp/reference/html/index.html#header-mapping) with Spring integration.\r\n\r\n\r\nPlease, be aware that in order to use the mentioned configuration property you need at least the [`2.0.2` version](https://github.com/GoogleCloudPlatform/spring-cloud-gcp/blob/main/CHANGELOG.md#pubsub-8) of the Spring Cloud GCP Pub/Sub related libraries: the change was addressed in [this issue](https://github.com/GoogleCloudPlatform/spring-cloud-gcp/pull/408) and first included in the aforementioned library version.\r\n\r\nIf you cannot upgrade your libraries, you may try the following.\r\n\r\nFirst, define a custom `PubSubMessageConverter`, the class in charge of performing the actual creation of the `PubSubMessage`s, to deal with message ordering, something like:\r\n\r\n```java\r\npublic class OrderingAwarePubSubNessageConverter extends SimplePubSubMessageConverter {\r\n\r\n  private final Charset charset;\r\n\r\n  public OrderingAwarePubSubNessageConverter() {\r\n    this(Charset.defaultCharset());\r\n  }\r\n\r\n  public OrderingAwarePubSubNessageConverter(Charset charset) {\r\n    super(charset);\r\n\r\n    this.charset = charset;\r\n  }\r\n\r\n  // Override the toPubSubMessage conversion method including the logic for ordering messages\r\n  @Override\r\n  public PubsubMessage toPubSubMessage(Object payload, Map&lt;String, String&gt; headers) {\r\n    ByteString convertedPayload;\r\n    if (payload instanceof ByteString) {\r\n      convertedPayload = (ByteString)payload;\r\n    } else if (payload instanceof String) {\r\n      convertedPayload = ByteString.copyFrom(((String)payload).getBytes(this.charset));\r\n    } else if (payload instanceof ByteBuffer) {\r\n      convertedPayload = ByteString.copyFrom((ByteBuffer)payload);\r\n    } else {\r\n      if (!(payload instanceof byte[])) {\r\n        throw new PubSubMessageConversionException(&quot;Unable to convert payload of type &quot; + payload.getClass().getName() + &quot; to byte[] for sending to Pub/Sub.&quot;);\r\n      }\r\n\r\n      convertedPayload = ByteString.copyFrom((byte[])payload);\r\n    }\r\n\r\n    PubsubMessage.Builder pubsubMessageBuilder = PubsubMessage.newBuilder().setData(convertedPayload);\r\n    if (headers != null) {\r\n      pubsubMessageBuilder.putAllAttributes(headers);\r\n\r\n      // This code is the one required for instructing PubsubMessage.Builder to order messages\r\n      if (headers.containsKey(&quot;yourOrderingKeyHeader&quot;)) {\r\n        pubsubMessageBuilder.removeAttributes(&quot;yourOrderingKeyHeader&quot;);\r\n        pubsubMessageBuilder.setOrderingKey(headers.get(&quot;yourOrderingKeyHeader&quot;));\r\n      }\r\n    }\r\n\r\n    return pubsubMessageBuilder.build();\r\n  }\r\n}\r\n```\r\n\r\nPlease, note the code related to ordering messages.\r\n\r\nThen, configure your `PubSubTemplate` for using an instance of this new converter. Please, define in your code:\r\n\r\n```java\r\npubSubTemplate.setMessageConverter(new OrderingAwarePubSubNessageConverter());\r\n```","title":"GCP pubsub with ordering key","body":"<p>All the Pub/Sub client APIs offer a flag that allows you to enable message ordering.</p>\n<p>Using Spring Cloud GCP, which internally uses the Pub/Sub Java client library, the easiest way to set this flag is setting the <a href=\"https://googlecloudplatform.github.io/spring-cloud-gcp/reference/html/index.html#publishersubscriber-configuration\" rel=\"nofollow noreferrer\">configuration property</a> <code>spring.cloud.gcp.pubsub.publisher.enable-message-ordering</code> to <code>true</code>, it is <code>false</code> by default.</p>\n<p>Please, consider review the Spring GCP documentation, especially when they describe <a href=\"https://googlecloudplatform.github.io/spring-cloud-gcp/reference/html/index.html#publishersubscriber-configuration\" rel=\"nofollow noreferrer\">ordering messages</a> when using <code>PubSubTemplate</code> and <a href=\"https://googlecloudplatform.github.io/spring-cloud-gcp/reference/html/index.html#header-mapping\" rel=\"nofollow noreferrer\">mapping headers</a> with Spring integration.</p>\n<p>Please, be aware that in order to use the mentioned configuration property you need at least the <a href=\"https://github.com/GoogleCloudPlatform/spring-cloud-gcp/blob/main/CHANGELOG.md#pubsub-8\" rel=\"nofollow noreferrer\"><code>2.0.2</code> version</a> of the Spring Cloud GCP Pub/Sub related libraries: the change was addressed in <a href=\"https://github.com/GoogleCloudPlatform/spring-cloud-gcp/pull/408\" rel=\"nofollow noreferrer\">this issue</a> and first included in the aforementioned library version.</p>\n<p>If you cannot upgrade your libraries, you may try the following.</p>\n<p>First, define a custom <code>PubSubMessageConverter</code>, the class in charge of performing the actual creation of the <code>PubSubMessage</code>s, to deal with message ordering, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OrderingAwarePubSubNessageConverter extends SimplePubSubMessageConverter {\n\n  private final Charset charset;\n\n  public OrderingAwarePubSubNessageConverter() {\n    this(Charset.defaultCharset());\n  }\n\n  public OrderingAwarePubSubNessageConverter(Charset charset) {\n    super(charset);\n\n    this.charset = charset;\n  }\n\n  // Override the toPubSubMessage conversion method including the logic for ordering messages\n  @Override\n  public PubsubMessage toPubSubMessage(Object payload, Map&lt;String, String&gt; headers) {\n    ByteString convertedPayload;\n    if (payload instanceof ByteString) {\n      convertedPayload = (ByteString)payload;\n    } else if (payload instanceof String) {\n      convertedPayload = ByteString.copyFrom(((String)payload).getBytes(this.charset));\n    } else if (payload instanceof ByteBuffer) {\n      convertedPayload = ByteString.copyFrom((ByteBuffer)payload);\n    } else {\n      if (!(payload instanceof byte[])) {\n        throw new PubSubMessageConversionException(&quot;Unable to convert payload of type &quot; + payload.getClass().getName() + &quot; to byte[] for sending to Pub/Sub.&quot;);\n      }\n\n      convertedPayload = ByteString.copyFrom((byte[])payload);\n    }\n\n    PubsubMessage.Builder pubsubMessageBuilder = PubsubMessage.newBuilder().setData(convertedPayload);\n    if (headers != null) {\n      pubsubMessageBuilder.putAllAttributes(headers);\n\n      // This code is the one required for instructing PubsubMessage.Builder to order messages\n      if (headers.containsKey(&quot;yourOrderingKeyHeader&quot;)) {\n        pubsubMessageBuilder.removeAttributes(&quot;yourOrderingKeyHeader&quot;);\n        pubsubMessageBuilder.setOrderingKey(headers.get(&quot;yourOrderingKeyHeader&quot;));\n      }\n    }\n\n    return pubsubMessageBuilder.build();\n  }\n}\n</code></pre>\n<p>Please, note the code related to ordering messages.</p>\n<p>Then, configure your <code>PubSubTemplate</code> for using an instance of this new converter. Please, define in your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>pubSubTemplate.setMessageConverter(new OrderingAwarePubSubNessageConverter());\n</code></pre>\n"}],"owner":{"account_id":6357625,"reputation":274,"user_id":5019180,"accept_rate":59,"display_name":"Tiny Rick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1699657670,"creation_date":1699076784,"question_id":77420887,"body_markdown":"Our spring boot app uses Messaging Gateway to publish and consume message from GCP pubsub. The existing topics and their subscriptions which we use does not have ordering enabled. Now we want to add a topic and subscription with ordering of messages enabled. I have tested this using a simple python script and works exactly as we want. Now I am implementing the publisher in our Spring boot app. The message gets published correctly but the ordering key which i am sending as the message header is not reflecting and my consumer also is not able to fetch it. \r\n\r\nHere is the MessageGateway\r\n\r\n    @MessagingGateway(defaultRequestChannel = &quot;OutboundChannel&quot;)\r\n    public interface FiFoGateway {\r\n      void execute(T message);\r\n    }\r\n\r\nPublisher code\r\n\r\n    Message&lt;MyPubSubMessage&gt; orderedMessage = MessageBuilder\r\n                    .withPayload(pubSubMessage)\r\n                    .setHeader(&quot;orderingKey&quot;, &quot;key1&quot;)\r\n                    .build();\r\n    fiFoGateway.execute(orderedMessage);\r\n\r\n\r\nMy publisher config\r\n \r\n\r\n      @Bean(&quot;fIFOPublisher&quot;)\r\n      @ServiceActivator(inputChannel = &quot;OutboundChannel&quot;)\r\n      public PubSubMessageHandler fiFOPublisher(PubSubTemplate pubSubTemplate) {\r\n        return new PubSubMessageHandler(pubSubTemplate, &quot;myTopic&quot;);\r\n      }\r\n\r\n\r\nMy consumer also not consuming it. \r\n\r\nIt isappearing in the GCP page but we can see the ordering key colum in empty. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zxdQz.png\r\n\r\nNot sure what am I missing ? Any suggestions or pointers ? ","title":"GCP pubsub with ordering key","body":"<p>Our spring boot app uses Messaging Gateway to publish and consume message from GCP pubsub. The existing topics and their subscriptions which we use does not have ordering enabled. Now we want to add a topic and subscription with ordering of messages enabled. I have tested this using a simple python script and works exactly as we want. Now I am implementing the publisher in our Spring boot app. The message gets published correctly but the ordering key which i am sending as the message header is not reflecting and my consumer also is not able to fetch it.</p>\n<p>Here is the MessageGateway</p>\n<pre><code>@MessagingGateway(defaultRequestChannel = &quot;OutboundChannel&quot;)\npublic interface FiFoGateway {\n  void execute(T message);\n}\n</code></pre>\n<p>Publisher code</p>\n<pre><code>Message&lt;MyPubSubMessage&gt; orderedMessage = MessageBuilder\n                .withPayload(pubSubMessage)\n                .setHeader(&quot;orderingKey&quot;, &quot;key1&quot;)\n                .build();\nfiFoGateway.execute(orderedMessage);\n</code></pre>\n<p>My publisher config</p>\n<pre><code>  @Bean(&quot;fIFOPublisher&quot;)\n  @ServiceActivator(inputChannel = &quot;OutboundChannel&quot;)\n  public PubSubMessageHandler fiFOPublisher(PubSubTemplate pubSubTemplate) {\n    return new PubSubMessageHandler(pubSubTemplate, &quot;myTopic&quot;);\n  }\n</code></pre>\n<p>My consumer also not consuming it.</p>\n<p>It isappearing in the GCP page but we can see the ordering key colum in empty.\n<a href=\"https://i.stack.imgur.com/zxdQz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zxdQz.png\" alt=\"enter image description here\" /></a></p>\n<p>Not sure what am I missing ? Any suggestions or pointers ?</p>\n"},{"tags":["java","maven","intellij-idea","junit"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635844650,"post_id":69807927,"comment_id":123394777,"body_markdown":"Follow convention `&lt;sourceDirectory&gt;${project.basedir}/src&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/tests&lt;/testSourceDirectory&gt;`...","body":"Follow convention <code>&lt;sourceDirectory&gt;${project.basedir}&#47;src&lt;&#47;sourceDirectory&gt;         &lt;testSourceDirectory&gt;${project.basedir}&#47;src&#47;tests&lt;&#47;testSourc&zwnj;&#8203;eDirectory&gt;</code>..."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635845089,"post_id":69807927,"comment_id":123394945,"body_markdown":"Furthermore name your test accordingly instead of trying to configuration maven-surefire-pulgin... just stick with the defaults..","body":"Furthermore name your test accordingly instead of trying to configuration maven-surefire-pulgin... just stick with the defaults.."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635845153,"post_id":69807927,"comment_id":123394975,"body_markdown":"Apart from that you should use the dependency on the junit-jupiter-engine as documented https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html","body":"Apart from that you should use the dependency on the junit-jupiter-engine as documented <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/examples/&hellip;</a>"},{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":0,"creation_date":1639709254,"post_id":69807927,"comment_id":124424244,"body_markdown":"junit-jupiter-engine is not required after 5.4, see https://stackoverflow.com/a/55084036","body":"junit-jupiter-engine is not required after 5.4, see <a href=\"https://stackoverflow.com/a/55084036\">stackoverflow.com/a/55084036</a>"}],"answers":[{"tags":[],"owner":{"account_id":73395,"reputation":10664,"user_id":211369,"display_name":"Nishi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679647057,"creation_date":1679647057,"answer_id":75831503,"question_id":69807927,"body_markdown":"I had similar and other issues, when IntelliJ IDEA won&#39;t run unit tests, but &quot;mvn test -pl ...&quot; successfully runs them.\r\n\r\nAll of such issues had magically gone away after I did the following:\r\n1. open the &quot;Maven&quot; tool window in IntelliJ IDEA\r\n2. locate the related module with THE unit tests\r\n3. execute &quot;Lifecycle | install&quot; (&quot;Lifecycle | test&quot; should also work)\r\n4. then try again to run your unit tests - it started to work for me.\r\n\r\nAlso I disabled the &quot;Coverage&quot; plugin - my reasoning is that IDEA won&#39;t re-compile classes to instrument them for collection of code coverage.","title":"Error &quot;TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests&quot;. Getting this error while trying to run JUnit tests in a maven project","body":"<p>I had similar and other issues, when IntelliJ IDEA won't run unit tests, but &quot;mvn test -pl ...&quot; successfully runs them.</p>\n<p>All of such issues had magically gone away after I did the following:</p>\n<ol>\n<li>open the &quot;Maven&quot; tool window in IntelliJ IDEA</li>\n<li>locate the related module with THE unit tests</li>\n<li>execute &quot;Lifecycle | install&quot; (&quot;Lifecycle | test&quot; should also work)</li>\n<li>then try again to run your unit tests - it started to work for me.</li>\n</ol>\n<p>Also I disabled the &quot;Coverage&quot; plugin - my reasoning is that IDEA won't re-compile classes to instrument them for collection of code coverage.</p>\n"}],"owner":{"account_id":12247064,"reputation":31,"user_id":8938459,"display_name":"Yavuz Erkal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8564,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1699657350,"creation_date":1635844605,"question_id":69807927,"body_markdown":"I am trying to run tests in a project with Apache Maven 3.8.3, JDK 14, JUnit 5.8.1, jqwik 1.5.6\r\n\r\nI&#39;m using IntelliJ IDEA 2021.2.3 (Community Edition)\r\n\r\nThe libraries must be correctly imported but it still doesn&#39;t work.\r\nWhen I try to run simple tests I &#39;m getting the following error message:\r\n\r\n&quot;Internal Error occurred.\r\norg.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests&quot;\r\n\r\n\r\nHere is the pom.xml file. I&#39;d appreciate any advice and thanks in advance!\r\n\r\n``` &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;tests&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;tests&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;${project.basedir}/src&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;${project.basedir}/src/tests&lt;/testSourceDirectory&gt;\r\n        \r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/*Tests.java&lt;/include&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/*Examples.java&lt;/include&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/*Properties.java&lt;/include&gt;\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.8.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.jqwik&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jqwik&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;14&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;14&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n&lt;/project&gt;\r\n\r\n ```\r\n","title":"Error &quot;TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests&quot;. Getting this error while trying to run JUnit tests in a maven project","body":"<p>I am trying to run tests in a project with Apache Maven 3.8.3, JDK 14, JUnit 5.8.1, jqwik 1.5.6</p>\n<p>I'm using IntelliJ IDEA 2021.2.3 (Community Edition)</p>\n<p>The libraries must be correctly imported but it still doesn't work.\nWhen I try to run simple tests I 'm getting the following error message:</p>\n<p>&quot;Internal Error occurred.\norg.junit.platform.commons.JUnitException: TestEngine with ID 'junit-jupiter' failed to discover tests&quot;</p>\n<p>Here is the pom.xml file. I'd appreciate any advice and thanks in advance!</p>\n<pre><code>    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;tests&lt;/groupId&gt;\n    &lt;artifactId&gt;tests&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    \n    &lt;build&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/tests&lt;/testSourceDirectory&gt;\n        \n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Tests.java&lt;/include&gt;\n                        &lt;include&gt;**/*Examples.java&lt;/include&gt;\n                        &lt;include&gt;**/*Properties.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        \n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.jqwik&lt;/groupId&gt;\n            &lt;artifactId&gt;jqwik&lt;/artifactId&gt;\n            &lt;version&gt;1.5.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;14&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;14&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1425243152,"post_id":28798897,"comment_id":45872060,"body_markdown":"You&#39;re using an incorrect JDBC driver version. Try upgrading to the latest jar","body":"You&#39;re using an incorrect JDBC driver version. Try upgrading to the latest jar"}],"answers":[{"tags":[],"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1425243226,"creation_date":1425243226,"answer_id":28798937,"question_id":28798897,"body_markdown":"This means that your mysql jdbc driver does not implement the jdbc methods added in jre 6, such as [isValid][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#isValid-int-","title":"Java Exception java.lang.AbstractMethodError","body":"<p>This means that your mysql jdbc driver does not implement the jdbc methods added in jre 6, such as <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#isValid-int-\" rel=\"nofollow\">isValid</a>.</p>\n"},{"tags":[],"owner":{"account_id":3085807,"reputation":21,"user_id":2612965,"display_name":"Homayoun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465775891,"creation_date":1465775891,"answer_id":37780272,"question_id":28798897,"body_markdown":"I upgraded the JDBC driver jar file to mysql-connector-java-6.0.2 and resolved this prolem. ","title":"Java Exception java.lang.AbstractMethodError","body":"<p>I upgraded the JDBC driver jar file to mysql-connector-java-6.0.2 and resolved this prolem. </p>\n"},{"tags":[],"owner":{"account_id":241271,"reputation":2178,"user_id":511976,"accept_rate":50,"display_name":"mhvelplund"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496670027,"creation_date":1496670027,"answer_id":44370325,"question_id":28798897,"body_markdown":"If you provide a validation query, you can avoid upgrading your driver.","title":"Java Exception java.lang.AbstractMethodError","body":"<p>If you provide a validation query, you can avoid upgrading your driver.</p>\n"},{"tags":[],"owner":{"account_id":5352637,"reputation":742,"user_id":4266338,"accept_rate":86,"display_name":"Pixelstix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699655697,"creation_date":1699650501,"answer_id":77462853,"question_id":28798897,"body_markdown":"Combining multiple answers and expanding on the information so all the information is in one place ...\r\n\r\nAs @BrettOkken mentions, JDK 1.6 added the `isValid` method on Connection, so your best bet is to find a newer version of the driver.\r\n\r\nTo expand on the answer from @mhvelplund ...\r\n\r\nYou can avoid upgrading your JDBC driver if you convince Tomcat&#39;s dbcp2 to not call the `isValid` method.  You can do this by specifying `validationQuery` (and maybe `validationQueryTimeout` and `maxConnLifetimeMillis` as well) in your `Resource` definition in your `context.xml` file (which gets put into Tomcat&#39;s `/conf/Catalina/localhost/{myappname}.xml`).\r\n\r\n    &lt;Resource name=&quot;jdbc/ajx&quot;\r\n        auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot;\r\n        maxTotal=&quot;25&quot; maxIdle=&quot;30&quot; maxWaitMillis=&quot;10000&quot;\r\n        maxConnLifetimeMillis=&quot;300000&quot;\r\n        validationQuery=&quot;SELECT CURRENT_TIME()&quot;\r\n        validationQueryTimeout=&quot;1&quot;\r\n        driverClassName=&quot;{...}&quot;\r\n        url=&quot;jdbc:{...}&quot;/&gt;\r\n","title":"Java Exception java.lang.AbstractMethodError","body":"<p>Combining multiple answers and expanding on the information so all the information is in one place ...</p>\n<p>As @BrettOkken mentions, JDK 1.6 added the <code>isValid</code> method on Connection, so your best bet is to find a newer version of the driver.</p>\n<p>To expand on the answer from @mhvelplund ...</p>\n<p>You can avoid upgrading your JDBC driver if you convince Tomcat's dbcp2 to not call the <code>isValid</code> method.  You can do this by specifying <code>validationQuery</code> (and maybe <code>validationQueryTimeout</code> and <code>maxConnLifetimeMillis</code> as well) in your <code>Resource</code> definition in your <code>context.xml</code> file (which gets put into Tomcat's <code>/conf/Catalina/localhost/{myappname}.xml</code>).</p>\n<pre><code>&lt;Resource name=&quot;jdbc/ajx&quot;\n    auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot;\n    maxTotal=&quot;25&quot; maxIdle=&quot;30&quot; maxWaitMillis=&quot;10000&quot;\n    maxConnLifetimeMillis=&quot;300000&quot;\n    validationQuery=&quot;SELECT CURRENT_TIME()&quot;\n    validationQueryTimeout=&quot;1&quot;\n    driverClassName=&quot;{...}&quot;\n    url=&quot;jdbc:{...}&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":5549996,"reputation":436,"user_id":4403441,"accept_rate":75,"display_name":"Rapidistul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5585,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28798937,"answer_count":4,"score":2,"last_activity_date":1699655697,"creation_date":1425243027,"question_id":28798897,"body_markdown":"How can I solve this exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.AbstractMethodError: com.mysql.jdbc.Connection.isValid(I)Z\r\n    \tat org.apache.commons.dbcp2.DelegatingConnection.isValid(DelegatingConnection.java:914)\r\n    ...\r\nI read that this error is something about libraries/ jdk but I can&#39;t find a good way to solve it. I need some help from you. Thank you!","title":"Java Exception java.lang.AbstractMethodError","body":"<p>How can I solve this exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.AbstractMethodError: com.mysql.jdbc.Connection.isValid(I)Z\n    at org.apache.commons.dbcp2.DelegatingConnection.isValid(DelegatingConnection.java:914)\n...\n</code></pre>\n\n<p>I read that this error is something about libraries/ jdk but I can't find a good way to solve it. I need some help from you. Thank you!</p>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699656542,"post_id":77462657,"comment_id":136563714,"body_markdown":"Err, `java.sql.Date` and `javax.sql.Timestamp`?","body":"Err, <code>java.sql.Date</code> and <code>javax.sql.Timestamp</code>?"}],"answers":[{"tags":[],"owner":{"account_id":23453222,"reputation":81,"user_id":17509104,"display_name":"Michał Łukasik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699655147,"creation_date":1699652366,"answer_id":77462966,"question_id":77462657,"body_markdown":"I probably will store it without time zone or more precisely I would convert all input dates into UTC. So after u can convert it into any timezone.\r\n\r\nFor example one of the users first log in in UTC+1 but tomorrow change location to UTC+2. It will be easier to convert all the date afterwards.\r\n\r\nUse time package, like LocalDateTime as a data type. Like this\r\n```java\r\nZonedDateTime now = ZonedDateTime.now(ZoneId.systemDefault());\r\nZonedDateTime nowUTC = now.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;));\r\nsave(nowUTC.toLocalDateTime());\r\n```\r\n\r\nOr simple use Instant class.\r\n```java\r\nvar instant = Instant.now();//get current timestamp\r\nvar zone = instant.atZone(ZoneId.of(&quot;UTC+1&quot;));//convert to any timezone\r\n```","title":"What is the most suitable data type (differences or considerations) in Java for mapping time and timestamp with time zone from PostgreSQL?","body":"<p>I probably will store it without time zone or more precisely I would convert all input dates into UTC. So after u can convert it into any timezone.</p>\n<p>For example one of the users first log in in UTC+1 but tomorrow change location to UTC+2. It will be easier to convert all the date afterwards.</p>\n<p>Use time package, like LocalDateTime as a data type. Like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime now = ZonedDateTime.now(ZoneId.systemDefault());\nZonedDateTime nowUTC = now.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;));\nsave(nowUTC.toLocalDateTime());\n</code></pre>\n<p>Or simple use Instant class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var instant = Instant.now();//get current timestamp\nvar zone = instant.atZone(ZoneId.of(&quot;UTC+1&quot;));//convert to any timezone\n</code></pre>\n"}],"owner":{"account_id":27805321,"reputation":3,"user_id":21228853,"display_name":"Omar Rold&#225;n"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77462966,"answer_count":1,"score":0,"last_activity_date":1699655147,"creation_date":1699647397,"question_id":77462657,"body_markdown":"I&#39;m developing an Spring Boot 3.1.5 (Java 17) based app which uses a PostgreSQL database, the app is intended to help employees with their attendance record. \r\n\r\nwhich is a good Java data type to map: \r\n\r\n- Time **with** time zone\r\n- Timestamp **with** time zone\r\n\r\nAlso, is it a good practice to use time zone data types for records ? \r\n\r\nAt first I&#39;ve created DDL and use spring&#39;s `spring.jpa.hibernate.ddl-auto=validate` in application.properties and that works ok. \r\n\r\nBut if I use `create`, and see the tables in PgAdmin the resulting data types are time/timestamp **without** zone","title":"What is the most suitable data type (differences or considerations) in Java for mapping time and timestamp with time zone from PostgreSQL?","body":"<p>I'm developing an Spring Boot 3.1.5 (Java 17) based app which uses a PostgreSQL database, the app is intended to help employees with their attendance record.</p>\n<p>which is a good Java data type to map:</p>\n<ul>\n<li>Time <strong>with</strong> time zone</li>\n<li>Timestamp <strong>with</strong> time zone</li>\n</ul>\n<p>Also, is it a good practice to use time zone data types for records ?</p>\n<p>At first I've created DDL and use spring's <code>spring.jpa.hibernate.ddl-auto=validate</code> in application.properties and that works ok.</p>\n<p>But if I use <code>create</code>, and see the tables in PgAdmin the resulting data types are time/timestamp <strong>without</strong> zone</p>\n"},{"tags":["java","spring","spring-boot","hibernate","enums"],"owner":{"account_id":56223,"reputation":4205,"user_id":168387,"accept_rate":55,"display_name":"edbras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699654649,"creation_date":1699654649,"question_id":77463101,"body_markdown":"How to create a configurable Hibernate converter to convert Java enum values to db values. I want to make this configurable through a spring property to indicate if the enum value should be converted to a DB String value or a DB integer (the enum ordinal value). \r\nI want it to be configurable such that it is backwards compatible, that is: when not configured, it is converted to an integer value, and through the spring property I can change that to db String values. The converter will be part of a shared external Java library that is used by several of my projects.\r\n\r\nI tried several things, and it seemed much harder than I thought.\r\n\r\nWhat I came up with is having 2 Converter, 1 for the integer and 1 for the string, and adding it to hibernate through a MetadataBuilderContributor.\r\n\r\nThe converters:\r\n```\r\npublic class ServerLogTypeDbConverter implements AttributeConverter&lt;ServerlogEntryType, String&gt; {\r\n    @Override\r\n    public String convertToDatabaseColumn(ServerlogEntryType attribute) {\r\n        return attribute.name();\r\n    }\r\n\r\n    @Override\r\n    public ServerlogEntryType convertToEntityAttribute(String dbData) {\r\n        return ServerlogEntryType.valueOf(dbData);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class ServerLogTypeDbConverter implements AttributeConverter&lt;ServerlogEntryType, Integer&gt; {\r\n    @Override\r\n    public Integer convertToDatabaseColumn(ServerlogEntryType attribute) {\r\n        return attribute.ordinal();\r\n    }\r\n\r\n    @Override\r\n    public ServerlogEntryType convertToEntityAttribute(Integer dbData) {\r\n        return ServerlogEntryType.values()[ordinal];\r\n    }\r\n}\r\n```\r\n\r\nThen the challenge is to register one of these Hibernate converters, depending on the spring property, such that they are picked up. Through several posts in SO I came up with the following: when the spring-boot application starts, get informed before any bean is created, read the property, and then add a hibernate property that will use a hibernate MetadataBuilderContributor to add the converter, below the code snippets: \r\n\r\n```\r\npublic class MetadataBuilderContributerResolver implements ApplicationListener&lt;ApplicationEnvironmentPreparedEvent&gt; {\r\n    public void onApplicationEvent(ApplicationEnvironmentPreparedEvent event) {\r\n        var environment = event.getEnvironment();\r\n        var testValue = environment.getProperty(&quot;bla.test&quot;);\r\n\r\n        Class&lt;?&gt; metadataBuilderContributorClazz = switch (testValue) {\r\n            case &quot;string&quot; -&gt; AttributeConverterMetadataBuilderContributor.class;\r\n            default -&gt; throw new IllegalArgumentException(&quot;Unsupported builder: &quot; + testValue);\r\n        };\r\n\r\n        var className = metadataBuilderContributorClazz.getName();\r\n\r\n        var props = new Properties();\r\n        props.put(&quot;spring.jpa.properties.hibernate.metadata_builder_contributor&quot;, className);\r\n        environment.getPropertySources().addFirst(new PropertiesPropertySource(this.getClass().getName(), props));\r\n    }\r\n}\r\n```\r\n\r\nAnd: \r\n```\r\npublic class AttributeConverterMetadataBuilderContributor implements MetadataBuilderContributor {\r\n    @Override\r\n    public void contribute(MetadataBuilder metadataBuilder) {\r\n        metadataBuilder.applyAttributeConverter(ServerLogTypeDbConverter.class);\r\n    }\r\n}\r\n```\r\n\r\nThis works, but has 2 major downsides: \r\n- The Spring listener has to be added by code to the Spring boot application (annotations are read by a Spring bean and they do not exist yet). This is difficult in an external lib where this converter will be contained.\r\n- The interface MetadataBuilderContributor is deprecated. I read that I need to use the FunctionContributor, but no idea how ...\r\n\r\n\r\nPlease some advice, as I am a bit stuck now &#128556;\r\n\r\n \r\n","title":"Configurable Hibernate enum Converter through Spring property?","body":"<p>How to create a configurable Hibernate converter to convert Java enum values to db values. I want to make this configurable through a spring property to indicate if the enum value should be converted to a DB String value or a DB integer (the enum ordinal value).\nI want it to be configurable such that it is backwards compatible, that is: when not configured, it is converted to an integer value, and through the spring property I can change that to db String values. The converter will be part of a shared external Java library that is used by several of my projects.</p>\n<p>I tried several things, and it seemed much harder than I thought.</p>\n<p>What I came up with is having 2 Converter, 1 for the integer and 1 for the string, and adding it to hibernate through a MetadataBuilderContributor.</p>\n<p>The converters:</p>\n<pre><code>public class ServerLogTypeDbConverter implements AttributeConverter&lt;ServerlogEntryType, String&gt; {\n    @Override\n    public String convertToDatabaseColumn(ServerlogEntryType attribute) {\n        return attribute.name();\n    }\n\n    @Override\n    public ServerlogEntryType convertToEntityAttribute(String dbData) {\n        return ServerlogEntryType.valueOf(dbData);\n    }\n}\n</code></pre>\n<pre><code>public class ServerLogTypeDbConverter implements AttributeConverter&lt;ServerlogEntryType, Integer&gt; {\n    @Override\n    public Integer convertToDatabaseColumn(ServerlogEntryType attribute) {\n        return attribute.ordinal();\n    }\n\n    @Override\n    public ServerlogEntryType convertToEntityAttribute(Integer dbData) {\n        return ServerlogEntryType.values()[ordinal];\n    }\n}\n</code></pre>\n<p>Then the challenge is to register one of these Hibernate converters, depending on the spring property, such that they are picked up. Through several posts in SO I came up with the following: when the spring-boot application starts, get informed before any bean is created, read the property, and then add a hibernate property that will use a hibernate MetadataBuilderContributor to add the converter, below the code snippets:</p>\n<pre><code>public class MetadataBuilderContributerResolver implements ApplicationListener&lt;ApplicationEnvironmentPreparedEvent&gt; {\n    public void onApplicationEvent(ApplicationEnvironmentPreparedEvent event) {\n        var environment = event.getEnvironment();\n        var testValue = environment.getProperty(&quot;bla.test&quot;);\n\n        Class&lt;?&gt; metadataBuilderContributorClazz = switch (testValue) {\n            case &quot;string&quot; -&gt; AttributeConverterMetadataBuilderContributor.class;\n            default -&gt; throw new IllegalArgumentException(&quot;Unsupported builder: &quot; + testValue);\n        };\n\n        var className = metadataBuilderContributorClazz.getName();\n\n        var props = new Properties();\n        props.put(&quot;spring.jpa.properties.hibernate.metadata_builder_contributor&quot;, className);\n        environment.getPropertySources().addFirst(new PropertiesPropertySource(this.getClass().getName(), props));\n    }\n}\n</code></pre>\n<p>And:</p>\n<pre><code>public class AttributeConverterMetadataBuilderContributor implements MetadataBuilderContributor {\n    @Override\n    public void contribute(MetadataBuilder metadataBuilder) {\n        metadataBuilder.applyAttributeConverter(ServerLogTypeDbConverter.class);\n    }\n}\n</code></pre>\n<p>This works, but has 2 major downsides:</p>\n<ul>\n<li>The Spring listener has to be added by code to the Spring boot application (annotations are read by a Spring bean and they do not exist yet). This is difficult in an external lib where this converter will be contained.</li>\n<li>The interface MetadataBuilderContributor is deprecated. I read that I need to use the FunctionContributor, but no idea how ...</li>\n</ul>\n<p>Please some advice, as I am a bit stuck now 😬</p>\n"},{"tags":["java","performance","hashmap"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699656769,"post_id":77462298,"comment_id":136563730,"body_markdown":"What is `vehicleMap.get(vin4,lPlate)`? There is no such method in `HashMap`.","body":"What is <code>vehicleMap.get(vin4,lPlate)</code>? There is no such method in <code>HashMap</code>."}],"answers":[{"tags":[],"owner":{"account_id":23453222,"reputation":81,"user_id":17509104,"display_name":"Michał Łukasik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699654327,"creation_date":1699654327,"answer_id":77463092,"question_id":77462298,"body_markdown":"So the answer yes and the solution is to read HashMap documentation or some tutorials.\r\n\r\nHashMap is a map based on hashing of the keys. It supports O(1) get/put operations. [Keys must have consistent implementations of hashCode() and equals() for this to work.][1]. So in your code key VehicleKey must overwrite hashCode/equals methods.\r\n\r\nhashCode method example\r\n```java\r\n@Override\r\npublic int hashCode() {\r\n    int result = vin4 != null ? vin4.hashCode() : 0;\r\n    result = 31 * result + (lPlate != null ? lPlate.hashCode() : 0);\r\n    return result;\r\n}\r\n```\r\n\r\nand more important one. Equals method:\r\n```java\r\n@Override\r\npublic boolean equals(Object o) {\r\n    if (this == o) return true;//check if points to same object instance\r\n    if (o == null || getClass() != o.getClass()) return false;//if one of object is null or different class\r\n\r\n    VehicleKey that = (VehicleKey) o;\r\n    if (Objects.equals(vin4, that.vin4) &amp;&amp; Objects.equals(lPlate, that.lPlate)) {\r\n        return true;\r\n    }\r\n    if (Objects.equals(vin4, that.vin4) &amp;&amp; lPlate == null || that.lPlate == null) {\r\n        return true;\r\n    }\r\n    return Objects.equals(lPlate, that.lPlate) &amp;&amp; vin4 == null || that.vin4 == null;\r\n}\r\n```\r\nFor sure that if&#39;s must can be simplify.\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()","title":"Improving hashmap query performance when input query doesnt match the data","body":"<p>So the answer yes and the solution is to read HashMap documentation or some tutorials.</p>\n<p>HashMap is a map based on hashing of the keys. It supports O(1) get/put operations. <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\">Keys must have consistent implementations of hashCode() and equals() for this to work.</a>. So in your code key VehicleKey must overwrite hashCode/equals methods.</p>\n<p>hashCode method example</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int hashCode() {\n    int result = vin4 != null ? vin4.hashCode() : 0;\n    result = 31 * result + (lPlate != null ? lPlate.hashCode() : 0);\n    return result;\n}\n</code></pre>\n<p>and more important one. Equals method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;//check if points to same object instance\n    if (o == null || getClass() != o.getClass()) return false;//if one of object is null or different class\n\n    VehicleKey that = (VehicleKey) o;\n    if (Objects.equals(vin4, that.vin4) &amp;&amp; Objects.equals(lPlate, that.lPlate)) {\n        return true;\n    }\n    if (Objects.equals(vin4, that.vin4) &amp;&amp; lPlate == null || that.lPlate == null) {\n        return true;\n    }\n    return Objects.equals(lPlate, that.lPlate) &amp;&amp; vin4 == null || that.vin4 == null;\n}\n</code></pre>\n<p>For sure that if's must can be simplify.</p>\n"}],"owner":{"account_id":9622459,"reputation":65,"user_id":7143214,"display_name":"Matrix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699654327,"creation_date":1699642771,"question_id":77462298,"body_markdown":"Consider this data stored in a hashmap:\r\n\r\n| VIN last 4 | License plate | Details |\r\n| -------- | -------- | ------- |\r\n| 1234   |   | VehicleObject1 |\r\n| 2222   | ABC123   | VehicleObject2 |\r\n| 5678   | ABC123   | VehicleObject3|\r\n| 5678   | XYZ123   | VehicleObject4 |\r\n\r\n```\r\nclass VehicleKey{\r\n String vin4;\r\n String lPlate;\r\n  public VehicleKey(String vin4, String lPlate){\r\n   this.vin4=vin4;\r\n   this.lPlate=lPlate;\r\n  }\r\n}\r\n```\r\n\r\n```\r\nHashMap&lt;VehicleKey,Object&gt; vehicleMap = new HashMap&lt;&gt;();\r\nvehicleMap.put(new VehicleKey(&quot;1234&quot;,null),VehicleObject1);\r\nvehicleMap.put(new VehicleKey(&quot;2222&quot;,&quot;ABC123&quot;),VehicleObject2);\r\nvehicleMap.put(new VehicleKey(&quot;5678&quot;,&quot;ABC123&quot;),VehicleObject3);\r\nvehicleMap.put(new VehicleKey(&quot;2222&quot;,&quot;XYZ123&quot;),VehicleObject4);\r\n```\r\n\r\n```\r\nVehicle findVehicle(String vin4, String lPlate){\r\n Vehicle vehicle = vehicleMap.get(vin4,lPlate);\r\n if (vehicle==null)\r\n  vehicle = vehicleMap.get(vin4,null)\r\n return vehicle;\r\n}\r\n\r\n```\r\n\r\n\r\n| Input Query | Expected Return |\r\n| -------- | -------- |\r\n| `findVehicle(&quot;1234&quot;,&quot;Blah123&quot;)`   | VehicleObject1   |\r\n| `findVehicle(&quot;1234&quot;,null)`   | VehicleObject1   |\r\n| `findVehicle(&quot;2222&quot;,&quot;Blash123&quot;)`   | null   |\r\n| `findVehicle(&quot;2222&quot;,&quot;ABC123&quot;)`   | VehicleObject2   |\r\n| `findVehicle(&quot;5678&quot;,&quot;ABC123&quot;)`   | VehicleObject3   |\r\n| `findVehicle(&quot;5678&quot;,null)`   | null |\r\n\r\nIs there a more efficient way to query the Hashmap so that if one of the fields in the key object is null, its treated as an Any Match?\r\nRight now, I have to query twice to make it work. Is there a way to make this faster so that the hashmap is not queried twice?\r\n","title":"Improving hashmap query performance when input query doesnt match the data","body":"<p>Consider this data stored in a hashmap:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>VIN last 4</th>\n<th>License plate</th>\n<th>Details</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1234</td>\n<td></td>\n<td>VehicleObject1</td>\n</tr>\n<tr>\n<td>2222</td>\n<td>ABC123</td>\n<td>VehicleObject2</td>\n</tr>\n<tr>\n<td>5678</td>\n<td>ABC123</td>\n<td>VehicleObject3</td>\n</tr>\n<tr>\n<td>5678</td>\n<td>XYZ123</td>\n<td>VehicleObject4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<pre><code>class VehicleKey{\n String vin4;\n String lPlate;\n  public VehicleKey(String vin4, String lPlate){\n   this.vin4=vin4;\n   this.lPlate=lPlate;\n  }\n}\n</code></pre>\n<pre><code>HashMap&lt;VehicleKey,Object&gt; vehicleMap = new HashMap&lt;&gt;();\nvehicleMap.put(new VehicleKey(&quot;1234&quot;,null),VehicleObject1);\nvehicleMap.put(new VehicleKey(&quot;2222&quot;,&quot;ABC123&quot;),VehicleObject2);\nvehicleMap.put(new VehicleKey(&quot;5678&quot;,&quot;ABC123&quot;),VehicleObject3);\nvehicleMap.put(new VehicleKey(&quot;2222&quot;,&quot;XYZ123&quot;),VehicleObject4);\n</code></pre>\n<pre><code>Vehicle findVehicle(String vin4, String lPlate){\n Vehicle vehicle = vehicleMap.get(vin4,lPlate);\n if (vehicle==null)\n  vehicle = vehicleMap.get(vin4,null)\n return vehicle;\n}\n\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Input Query</th>\n<th>Expected Return</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>findVehicle(&quot;1234&quot;,&quot;Blah123&quot;)</code></td>\n<td>VehicleObject1</td>\n</tr>\n<tr>\n<td><code>findVehicle(&quot;1234&quot;,null)</code></td>\n<td>VehicleObject1</td>\n</tr>\n<tr>\n<td><code>findVehicle(&quot;2222&quot;,&quot;Blash123&quot;)</code></td>\n<td>null</td>\n</tr>\n<tr>\n<td><code>findVehicle(&quot;2222&quot;,&quot;ABC123&quot;)</code></td>\n<td>VehicleObject2</td>\n</tr>\n<tr>\n<td><code>findVehicle(&quot;5678&quot;,&quot;ABC123&quot;)</code></td>\n<td>VehicleObject3</td>\n</tr>\n<tr>\n<td><code>findVehicle(&quot;5678&quot;,null)</code></td>\n<td>null</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Is there a more efficient way to query the Hashmap so that if one of the fields in the key object is null, its treated as an Any Match?\nRight now, I have to query twice to make it work. Is there a way to make this faster so that the hashmap is not queried twice?</p>\n"},{"tags":["java","space-complexity"],"comments":[{"owner":{"account_id":13801376,"reputation":145,"user_id":9961286,"display_name":"0xNIC"},"score":0,"creation_date":1699611282,"post_id":77452175,"comment_id":136556664,"body_markdown":"You have at least one ```while-loop``` inside a ```for-loop```. This means that *asymptotically* you are running a ```O(n^2)``` code.","body":"You have at least one <code>while-loop</code> inside a <code>for-loop</code>. This means that <i>asymptotically</i> you are running a <code>O(n^2)</code> code."}],"owner":{"account_id":29862803,"reputation":1,"user_id":22886109,"display_name":"Aryan Gurung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1699654311,"creation_date":1699524082,"question_id":77452175,"body_markdown":"This code is just for simplifying the path, problem of leetcode.\r\n\r\n```java\r\nString res = &quot;&quot;;\r\nres+=&quot;/&quot;;\r\n\r\nint n = path.length();\r\nStack&lt;String&gt; str = new Stack&lt;&gt;();\r\n\r\nfor(int i = 0; i&lt;n; i++) {\r\n\tString dis = &quot;&quot;;\r\n\r\n\twhile(i&lt;n &amp;&amp; path.charAt(i) == &#39;/&#39;) {\r\n\t\ti++;\r\n\t}\r\n\twhile(i&lt;n &amp;&amp; path.charAt(i) != &#39;/&#39;) {\r\n\t\tdis+=path.charAt(i);\r\n\t\ti++;\r\n\t}\r\n\r\n\tif(dis.equals(&quot;..&quot;)) {\r\n\t\tif(!str.isEmpty()) {\r\n\t\t\tstr.pop();\r\n\t\t}\r\n\t} else if(dis.equals(&quot;.&quot;)) {\r\n\t\tcontinue;\r\n\t} else if(dis.length() != 0) {\r\n\t\tstr.push(dis);\r\n\t}\r\n}\r\n\r\nStack&lt;String&gt; str2 = new Stack&lt;&gt;();\r\n\r\nwhile(!str.isEmpty()) {\r\n\tstr2.push(str.pop());\r\n}\r\n\r\nwhile(!str2.isEmpty()) {\r\n\tif(str2.size() != 1) {\r\n\t\tres+= str2.pop()+&quot;/&quot;;\r\n\t} else {\r\n\t\tres+=str2.pop();\r\n\t}\r\n}\r\nreturn res;\r\n```\r\nI want to know the space complexity of this code cause I am bit confused, in my opinion it&#39;s O(1) or O(N).","title":"Space Complexity of this leetcode problem?","body":"<p>This code is just for simplifying the path, problem of leetcode.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String res = &quot;&quot;;\nres+=&quot;/&quot;;\n\nint n = path.length();\nStack&lt;String&gt; str = new Stack&lt;&gt;();\n\nfor(int i = 0; i&lt;n; i++) {\n    String dis = &quot;&quot;;\n\n    while(i&lt;n &amp;&amp; path.charAt(i) == '/') {\n        i++;\n    }\n    while(i&lt;n &amp;&amp; path.charAt(i) != '/') {\n        dis+=path.charAt(i);\n        i++;\n    }\n\n    if(dis.equals(&quot;..&quot;)) {\n        if(!str.isEmpty()) {\n            str.pop();\n        }\n    } else if(dis.equals(&quot;.&quot;)) {\n        continue;\n    } else if(dis.length() != 0) {\n        str.push(dis);\n    }\n}\n\nStack&lt;String&gt; str2 = new Stack&lt;&gt;();\n\nwhile(!str.isEmpty()) {\n    str2.push(str.pop());\n}\n\nwhile(!str2.isEmpty()) {\n    if(str2.size() != 1) {\n        res+= str2.pop()+&quot;/&quot;;\n    } else {\n        res+=str2.pop();\n    }\n}\nreturn res;\n</code></pre>\n<p>I want to know the space complexity of this code cause I am bit confused, in my opinion it's O(1) or O(N).</p>\n"},{"tags":["java","compilation","package"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1699635218,"post_id":77461598,"comment_id":136560969,"body_markdown":"might try `-sourcepath .`","body":"might try <code>-sourcepath .</code>"}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699635529,"creation_date":1699635098,"answer_id":77461638,"question_id":77461598,"body_markdown":"Try `javac stacks/*.java`. That&#39;s all you need.","title":"How do you compile all classes in a package from the command line?","body":"<p>Try <code>javac stacks/*.java</code>. That's all you need.</p>\n"}],"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77461638,"answer_count":1,"score":1,"last_activity_date":1699654188,"creation_date":1699634656,"question_id":77461598,"body_markdown":"I have three separate class files in a package called stacks. How can I (recursively?) compile every class so I don&#39;t always have to type the following:\r\n\r\n    javac stacks/Node.java stacks/LinkedList.java stacks/LLTestCase01.java\r\n\r\nThere will be more classes added so I don&#39;t want to keep expanding this compile list.\r\n","title":"How do you compile all classes in a package from the command line?","body":"<p>I have three separate class files in a package called stacks. How can I (recursively?) compile every class so I don't always have to type the following:</p>\n<pre><code>javac stacks/Node.java stacks/LinkedList.java stacks/LLTestCase01.java\n</code></pre>\n<p>There will be more classes added so I don't want to keep expanding this compile list.</p>\n"},{"tags":["java","spring-boot","querydsl","spring-boot-3","hibernate-6.x"],"owner":{"account_id":10937131,"reputation":11,"user_id":8038422,"display_name":"Poushali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699653486,"creation_date":1699653486,"question_id":77463041,"body_markdown":"How to register nested function using FunctionContributor. I am using a function in querydsl like below: \r\nExpressions.simple template(String[].class,&quot;array_remove(array_agg({0}),{1})&quot;)\r\n\r\nIf I register array_remove and array_agg functions separately using functionContributor in hibernate 6, the above nested function might not work\r\n\r\nI tried to register the two separate functions. But it is jdbc mapping not found.","title":"Register custom function in hibernate6 and call functions in nested manner","body":"<p>How to register nested function using FunctionContributor. I am using a function in querydsl like below:\nExpressions.simple template(String[].class,&quot;array_remove(array_agg({0}),{1})&quot;)</p>\n<p>If I register array_remove and array_agg functions separately using functionContributor in hibernate 6, the above nested function might not work</p>\n<p>I tried to register the two separate functions. But it is jdbc mapping not found.</p>\n"},{"tags":["java","junit","slf4j","logback"],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":2,"up_vote_count":57,"is_accepted":true,"score":55,"last_activity_date":1599576113,"creation_date":1426510931,"answer_id":29077499,"question_id":29076981,"body_markdown":"You can create a custom appender \r\n\r\n    public class TestAppender extends AppenderBase&lt;LoggingEvent&gt; {\r\n    \tstatic List&lt;LoggingEvent&gt; events = new ArrayList&lt;&gt;();\r\n    \t\r\n    \t@Override\r\n    \tprotected void append(LoggingEvent e) {\r\n    \t\tevents.add(e);\r\n    \t}\r\n    }\r\n\r\nand configure logback-test.xml to use it. Now we can check logging events from our test:\r\n\r\n\t@Test\r\n\tpublic void test() {\r\n\t\t...\r\n\t\tAssert.assertEquals(1, TestAppender.events.size());\r\n\t\t...\r\n\t}\r\n\r\nNOTE: Use `ILoggingEvent` if you do not get any output - see the comment section for the reasoning.\r\n\r\n\r\n","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>You can create a custom appender</p>\n<pre><code>public class TestAppender extends AppenderBase&lt;LoggingEvent&gt; {\n    static List&lt;LoggingEvent&gt; events = new ArrayList&lt;&gt;();\n    \n    @Override\n    protected void append(LoggingEvent e) {\n        events.add(e);\n    }\n}\n</code></pre>\n<p>and configure logback-test.xml to use it. Now we can check logging events from our test:</p>\n<pre><code>@Test\npublic void test() {\n    ...\n    Assert.assertEquals(1, TestAppender.events.size());\n    ...\n}\n</code></pre>\n<p>NOTE: Use <code>ILoggingEvent</code> if you do not get any output - see the comment section for the reasoning.</p>\n"},{"tags":[],"owner":{"account_id":5200548,"reputation":999,"user_id":4160073,"display_name":"Oleg Majewski"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1658824987,"creation_date":1456867751,"answer_id":35733904,"question_id":29076981,"body_markdown":"You can use slf4j-test from http://projects.lidalia.org.uk/slf4j-test/.\r\nIt replaces the entire logback slf4j implementation by it&#39;s own slf4j api implementation for tests and provides an api to assert against logging events.\r\n\r\nexample:\r\n\r\n```xml\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;classpathDependencyExcludes&gt;\r\n          &lt;classpathDependencyExcludes&gt;ch.qos.logback:logback-classic&lt;/classpathDependencyExcludes&gt;\r\n        &lt;/classpathDependencyExcludes&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\n```java\r\npublic class Slf4jUser {\r\n    \r\n    private static final Logger logger = LoggerFactory.getLogger(Slf4jUser.class);\r\n    \r\n    public void aMethodThatLogs() {\r\n        logger.info(&quot;Hello World!&quot;);\r\n    }\r\n}\r\n```\r\n```java    \r\npublic class Slf4jUserTest {\r\n    \r\n    Slf4jUser slf4jUser = new Slf4jUser();\r\n    TestLogger logger = TestLoggerFactory.getTestLogger(Slf4jUser.class);\r\n    \r\n    @Test\r\n    public void aMethodThatLogsLogsAsExpected() {\r\n        slf4jUser.aMethodThatLogs();\r\n    \r\n        assertThat(logger.getLoggingEvents(), is(asList(info(&quot;Hello World!&quot;))));\r\n    }\r\n    \r\n    @After\r\n    public void clearLoggers() {\r\n        TestLoggerFactory.clear();\r\n    }\r\n}\r\n```","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>You can use slf4j-test from <a href=\"http://projects.lidalia.org.uk/slf4j-test/\" rel=\"nofollow noreferrer\">http://projects.lidalia.org.uk/slf4j-test/</a>.\nIt replaces the entire logback slf4j implementation by it's own slf4j api implementation for tests and provides an api to assert against logging events.</p>\n<p>example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;classpathDependencyExcludes&gt;\n          &lt;classpathDependencyExcludes&gt;ch.qos.logback:logback-classic&lt;/classpathDependencyExcludes&gt;\n        &lt;/classpathDependencyExcludes&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Slf4jUser {\n    \n    private static final Logger logger = LoggerFactory.getLogger(Slf4jUser.class);\n    \n    public void aMethodThatLogs() {\n        logger.info(&quot;Hello World!&quot;);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Slf4jUserTest {\n    \n    Slf4jUser slf4jUser = new Slf4jUser();\n    TestLogger logger = TestLoggerFactory.getTestLogger(Slf4jUser.class);\n    \n    @Test\n    public void aMethodThatLogsLogsAsExpected() {\n        slf4jUser.aMethodThatLogs();\n    \n        assertThat(logger.getLoggingEvents(), is(asList(info(&quot;Hello World!&quot;))));\n    }\n    \n    @After\n    public void clearLoggers() {\n        TestLoggerFactory.clear();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2791789,"reputation":1456,"user_id":2402849,"display_name":"daemon_nio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477818001,"creation_date":1477818001,"answer_id":40327467,"question_id":29076981,"body_markdown":"I had problems when testing logs line like: **LOGGER.error(message, exception)**.\r\n\r\nThe solution described in http://projects.lidalia.org.uk/slf4j-test/ tries to assert as well on the exception and it is not easy (and in my opinion worthless) to recreate the stacktrace.\r\n\r\nI resolved in this way:\r\n\r\n    import org.junit.Test;\r\n    import org.slf4j.Logger;\r\n    import uk.org.lidalia.slf4jext.LoggerFactory;\r\n    import uk.org.lidalia.slf4jtest.TestLogger;\r\n    import uk.org.lidalia.slf4jtest.TestLoggerFactory;\r\n    \r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    import static org.assertj.core.groups.Tuple.tuple;\r\n    import static uk.org.lidalia.slf4jext.Level.ERROR;\r\n    import static uk.org.lidalia.slf4jext.Level.INFO;\r\n    \r\n    \r\n    public class Slf4jLoggerTest {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(Slf4jLoggerTest.class);\r\n    \r\n    \r\n        private void methodUnderTestInSomeClassInProductionCode() {\r\n            LOGGER.info(&quot;info message&quot;);\r\n            LOGGER.error(&quot;error message&quot;);\r\n            LOGGER.error(&quot;error message with exception&quot;, new RuntimeException(&quot;this part is not tested&quot;));\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        private static final TestLogger TEST_LOGGER = TestLoggerFactory.getTestLogger(Slf4jLoggerTest.class);\r\n    \r\n        @Test\r\n        public void testForMethod() throws Exception {\r\n            // when\r\n            methodUnderTestInSomeClassInProductionCode();\r\n    \r\n            // then\r\n            assertThat(TEST_LOGGER.getLoggingEvents()).extracting(&quot;level&quot;, &quot;message&quot;).contains(\r\n                    tuple(INFO, &quot;info message&quot;),\r\n                    tuple(ERROR, &quot;error message&quot;),\r\n                    tuple(ERROR, &quot;error message with exception&quot;)\r\n            );\r\n        }\r\n    \r\n    }\r\n\r\n\r\nThis has as well the advantage to not having depend on **Hamcrest matchers** library.","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>I had problems when testing logs line like: <strong>LOGGER.error(message, exception)</strong>.</p>\n\n<p>The solution described in <a href=\"http://projects.lidalia.org.uk/slf4j-test/\" rel=\"nofollow\">http://projects.lidalia.org.uk/slf4j-test/</a> tries to assert as well on the exception and it is not easy (and in my opinion worthless) to recreate the stacktrace.</p>\n\n<p>I resolved in this way:</p>\n\n<pre><code>import org.junit.Test;\nimport org.slf4j.Logger;\nimport uk.org.lidalia.slf4jext.LoggerFactory;\nimport uk.org.lidalia.slf4jtest.TestLogger;\nimport uk.org.lidalia.slf4jtest.TestLoggerFactory;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.assertj.core.groups.Tuple.tuple;\nimport static uk.org.lidalia.slf4jext.Level.ERROR;\nimport static uk.org.lidalia.slf4jext.Level.INFO;\n\n\npublic class Slf4jLoggerTest {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(Slf4jLoggerTest.class);\n\n\n    private void methodUnderTestInSomeClassInProductionCode() {\n        LOGGER.info(\"info message\");\n        LOGGER.error(\"error message\");\n        LOGGER.error(\"error message with exception\", new RuntimeException(\"this part is not tested\"));\n    }\n\n\n\n\n\n    private static final TestLogger TEST_LOGGER = TestLoggerFactory.getTestLogger(Slf4jLoggerTest.class);\n\n    @Test\n    public void testForMethod() throws Exception {\n        // when\n        methodUnderTestInSomeClassInProductionCode();\n\n        // then\n        assertThat(TEST_LOGGER.getLoggingEvents()).extracting(\"level\", \"message\").contains(\n                tuple(INFO, \"info message\"),\n                tuple(ERROR, \"error message\"),\n                tuple(ERROR, \"error message with exception\")\n        );\n    }\n\n}\n</code></pre>\n\n<p>This has as well the advantage to not having depend on <strong>Hamcrest matchers</strong> library.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":144,"is_accepted":false,"score":144,"last_activity_date":1591277503,"creation_date":1536354373,"answer_id":52229629,"question_id":29076981,"body_markdown":"The Slf4j API doesn&#39;t provide such a way but Logback provides a simple solution.\r\n\r\nYou can use [`ListAppender`][1] : a whitebox logback appender where log entries are added in a `public List` field that we could use to make our assertions.  \r\n\r\nHere is a simple example.   \r\n\r\nFoo class :\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class Foo {\r\n    \t\r\n    \tstatic final Logger LOGGER = LoggerFactory.getLogger(Foo .class);\r\n    \t\r\n        public void doThat() {\r\n        \tlogger.info(&quot;start&quot;);\r\n            //...\r\n        \tlogger.info(&quot;finish&quot;);\r\n        }\r\n    }\r\n\r\nFooTest class :\r\n\r\n    import org.slf4j.LoggerFactory;\r\n    import ch.qos.logback.classic.Level;\r\n    import ch.qos.logback.classic.Logger;\r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n    import ch.qos.logback.core.read.ListAppender;\r\n\r\n    public class FooTest {\r\n\r\n\t    @Test\r\n\t    void doThat() throws Exception {\r\n            // get Logback Logger \r\n\t\t    Logger fooLogger = (Logger) LoggerFactory.getLogger(Foo.class);\r\n\r\n            // create and start a ListAppender\r\n\t\t    ListAppender&lt;ILoggingEvent&gt; listAppender = new ListAppender&lt;&gt;();\r\n\t\t    listAppender.start();\r\n\r\n            // add the appender to the logger\r\n\t\t    fooLogger.addAppender(listAppender);\r\n\r\n            // call method under test\r\n            Foo foo = new Foo();\r\n            foo.doThat();\r\n\r\n            // JUnit assertions\r\n\t\t\tList&lt;ILoggingEvent&gt; logsList = listAppender.list;\r\n\t\t\tassertEquals(&quot;start&quot;, logsList.get(0)\r\n\t\t\t\t\t\t\t\t\t\t  .getMessage());\r\n\t\t\tassertEquals(Level.INFO, logsList.get(0)\r\n\t\t\t\t\t\t\t\t\t\t\t .getLevel());\r\n\r\n\t\t\tassertEquals(&quot;finish&quot;, logsList.get(1)\r\n\t\t\t\t\t\t\t\t\t\t   .getMessage());\r\n\t\t\tassertEquals(Level.INFO, logsList.get(1)\r\n\t\t\t\t\t\t\t\t\t\t\t .getLevel());\r\n        }\r\n    }\r\n\r\nYou can also use Matcher/assertion libraries as AssertJ or Hamcrest.\r\n\r\nWith AssertJ it would be :  \r\n\r\n    import org.assertj.core.api.Assertions;\r\n\r\n    Assertions.assertThat(listAppender.list)\r\n\t\t      .extracting(ILoggingEvent::getFormattedMessage, ILoggingEvent::getLevel)\r\n\t\t      .containsExactly(Tuple.tuple(&quot;start&quot;, Level.INFO), Tuple.tuple(&quot;finish&quot;, Level.INFO));\r\n\r\n\r\n  [1]: https://logback.qos.ch/apidocs/ch/qos/logback/core/read/ListAppender.html","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>The Slf4j API doesn't provide such a way but Logback provides a simple solution.</p>\n\n<p>You can use <a href=\"https://logback.qos.ch/apidocs/ch/qos/logback/core/read/ListAppender.html\" rel=\"noreferrer\"><code>ListAppender</code></a> : a whitebox logback appender where log entries are added in a <code>public List</code> field that we could use to make our assertions.  </p>\n\n<p>Here is a simple example.   </p>\n\n<p>Foo class :</p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class Foo {\n\n    static final Logger LOGGER = LoggerFactory.getLogger(Foo .class);\n\n    public void doThat() {\n        logger.info(\"start\");\n        //...\n        logger.info(\"finish\");\n    }\n}\n</code></pre>\n\n<p>FooTest class :</p>\n\n<pre><code>import org.slf4j.LoggerFactory;\nimport ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.Logger;\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.core.read.ListAppender;\n\npublic class FooTest {\n\n    @Test\n    void doThat() throws Exception {\n        // get Logback Logger \n        Logger fooLogger = (Logger) LoggerFactory.getLogger(Foo.class);\n\n        // create and start a ListAppender\n        ListAppender&lt;ILoggingEvent&gt; listAppender = new ListAppender&lt;&gt;();\n        listAppender.start();\n\n        // add the appender to the logger\n        fooLogger.addAppender(listAppender);\n\n        // call method under test\n        Foo foo = new Foo();\n        foo.doThat();\n\n        // JUnit assertions\n        List&lt;ILoggingEvent&gt; logsList = listAppender.list;\n        assertEquals(\"start\", logsList.get(0)\n                                      .getMessage());\n        assertEquals(Level.INFO, logsList.get(0)\n                                         .getLevel());\n\n        assertEquals(\"finish\", logsList.get(1)\n                                       .getMessage());\n        assertEquals(Level.INFO, logsList.get(1)\n                                         .getLevel());\n    }\n}\n</code></pre>\n\n<p>You can also use Matcher/assertion libraries as AssertJ or Hamcrest.</p>\n\n<p>With AssertJ it would be :  </p>\n\n<pre><code>import org.assertj.core.api.Assertions;\n\nAssertions.assertThat(listAppender.list)\n          .extracting(ILoggingEvent::getFormattedMessage, ILoggingEvent::getLevel)\n          .containsExactly(Tuple.tuple(\"start\", Level.INFO), Tuple.tuple(\"finish\", Level.INFO));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2506033,"reputation":513,"user_id":2179737,"display_name":"user2179737"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1543157079,"creation_date":1543157079,"answer_id":53468650,"question_id":29076981,"body_markdown":"Although creating a custom logback appender is a good solution, it is only the first step, you will eventually end up developing/reinventing [slf4j-test][1], and if you go a bit further: [spf4j-slf4j-test][2] or other frameworks that I don&#39;t know of yet.\r\n\r\nYou will eventually need to worry about how many events you keep in memory, fail unit tests when a error is logged (and not asserted), make debug logs available on test failure, etc...\r\n\r\nDisclaimer: I am the author of spf4j-slf4j-test, I wrote this backend to be able to better test [spf4j][3], which is a good place to look at for examples on how to use spf4j-slf4j-test. One of the main advantages I achieved was reducing my build output (which is limited with Travis), while still having all the detail I need when failure happens.\r\n\r\n  [1]: http://projects.lidalia.org.uk/slf4j-test/\r\n  [2]: http://www.spf4j.org/spf4j-slf4j-test/index.html\r\n  [3]: https://www.spf4j.org","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>Although creating a custom logback appender is a good solution, it is only the first step, you will eventually end up developing/reinventing <a href=\"http://projects.lidalia.org.uk/slf4j-test/\" rel=\"noreferrer\">slf4j-test</a>, and if you go a bit further: <a href=\"http://www.spf4j.org/spf4j-slf4j-test/index.html\" rel=\"noreferrer\">spf4j-slf4j-test</a> or other frameworks that I don't know of yet.</p>\n\n<p>You will eventually need to worry about how many events you keep in memory, fail unit tests when a error is logged (and not asserted), make debug logs available on test failure, etc...</p>\n\n<p>Disclaimer: I am the author of spf4j-slf4j-test, I wrote this backend to be able to better test <a href=\"https://www.spf4j.org\" rel=\"noreferrer\">spf4j</a>, which is a good place to look at for examples on how to use spf4j-slf4j-test. One of the main advantages I achieved was reducing my build output (which is limited with Travis), while still having all the detail I need when failure happens.</p>\n"},{"tags":[],"owner":{"account_id":1628535,"reputation":5864,"user_id":1503538,"accept_rate":100,"display_name":"snovelli"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1580390512,"creation_date":1550321724,"answer_id":54723270,"question_id":29076981,"body_markdown":"A simple solution could be to mock the appender with Mockito (for example)\r\n\r\n### MyClass.java\r\n    @Slf4j\r\n    class MyClass {\r\n        public void doSomething() {\r\n            log.info(&quot;I&#39;m on it!&quot;);\r\n        }\r\n    }\r\n### MyClassTest.java\r\n\r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n    import static org.hamcrest.Matchers.containsString;\r\n    import static org.hamcrest.Matchers.is;\r\n    import static org.mockito.Mockito.verify;         \r\n   \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class MyClassTest {    \r\n    \r\n        @Mock private Appender&lt;ILoggingEvent&gt; mockAppender;\r\n        private MyClass sut = new MyClass();    \r\n    \r\n        @Before\r\n        public void setUp() {\r\n            Logger logger = (Logger) LoggerFactory.getLogger(MyClass.class.getName());\r\n            logger.addAppender(mockAppender);\r\n        }\r\n    \r\n        @Test\r\n        public void shouldLogInCaseOfError() {\r\n            sut.doSomething();\r\n    \r\n            verify(mockAppender).doAppend(ArgumentMatchers.argThat(argument -&gt; {\r\n                assertThat(argument.getMessage(), containsString(&quot;I&#39;m on it!&quot;));\r\n                assertThat(argument.getLevel(), is(Level.INFO));\r\n                return true;\r\n            }));\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nNOTE: I&#39;m using assertion rather than returning `false` as it makes code and (possible) error easier to read, but it won&#39;t work if you have multiple verifications. In that case you need to return `boolean` indicating if the value is as expected.","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>A simple solution could be to mock the appender with Mockito (for example)</p>\n\n<h3>MyClass.java</h3>\n\n<pre><code>@Slf4j\nclass MyClass {\n    public void doSomething() {\n        log.info(\"I'm on it!\");\n    }\n}\n</code></pre>\n\n<h3>MyClassTest.java</h3>\n\n<pre><code>import static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.Matchers.containsString;\nimport static org.hamcrest.Matchers.is;\nimport static org.mockito.Mockito.verify;         \n\n@RunWith(MockitoJUnitRunner.class)\npublic class MyClassTest {    \n\n    @Mock private Appender&lt;ILoggingEvent&gt; mockAppender;\n    private MyClass sut = new MyClass();    \n\n    @Before\n    public void setUp() {\n        Logger logger = (Logger) LoggerFactory.getLogger(MyClass.class.getName());\n        logger.addAppender(mockAppender);\n    }\n\n    @Test\n    public void shouldLogInCaseOfError() {\n        sut.doSomething();\n\n        verify(mockAppender).doAppend(ArgumentMatchers.argThat(argument -&gt; {\n            assertThat(argument.getMessage(), containsString(\"I'm on it!\"));\n            assertThat(argument.getLevel(), is(Level.INFO));\n            return true;\n        }));\n\n    }\n\n}\n</code></pre>\n\n<p>NOTE: I'm using assertion rather than returning <code>false</code> as it makes code and (possible) error easier to read, but it won't work if you have multiple verifications. In that case you need to return <code>boolean</code> indicating if the value is as expected.</p>\n"},{"tags":[],"owner":{"account_id":1653550,"reputation":11563,"user_id":1523648,"accept_rate":89,"display_name":"oberlies"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1553093487,"creation_date":1553093487,"answer_id":55263715,"question_id":29076981,"body_markdown":"I would recommend a simple, reusable spy implementation that can be included in a test as JUnit rule:\r\n\r\n    public final class LogSpy extends ExternalResource {\r\n    \r\n    \tprivate Logger logger;\r\n    \tprivate ListAppender&lt;ILoggingEvent&gt; appender;\r\n    \r\n    \t@Override\r\n    \tprotected void before() {\r\n    \t\tappender = new ListAppender&lt;&gt;();\r\n    \t\tlogger = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME); // cast from facade (SLF4J) to implementation class (logback)\r\n    \t\tlogger.addAppender(appender);\r\n    \t\tappender.start();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void after() {\r\n    \t\tlogger.detachAppender(appender);\r\n    \t}\r\n    \r\n    \tpublic List&lt;ILoggingEvent&gt; getEvents() {\r\n    \t\tif (appender == null) {\r\n    \t\t\tthrow new UnexpectedTestError(&quot;LogSpy needs to be annotated with @Rule&quot;);\r\n    \t\t}\r\n    \t\treturn appender.list;\r\n    \t}\r\n    }\r\n\r\nIn your test, you&#39;d activate the spy in the following way:\r\n\r\n    @Rule\r\n    public LogSpy log = new LogSpy();\r\n\r\nCall `log.getEvents()` (or other, custom methods) to check the logged events.","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>I would recommend a simple, reusable spy implementation that can be included in a test as JUnit rule:</p>\n\n<pre><code>public final class LogSpy extends ExternalResource {\n\n    private Logger logger;\n    private ListAppender&lt;ILoggingEvent&gt; appender;\n\n    @Override\n    protected void before() {\n        appender = new ListAppender&lt;&gt;();\n        logger = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME); // cast from facade (SLF4J) to implementation class (logback)\n        logger.addAppender(appender);\n        appender.start();\n    }\n\n    @Override\n    protected void after() {\n        logger.detachAppender(appender);\n    }\n\n    public List&lt;ILoggingEvent&gt; getEvents() {\n        if (appender == null) {\n            throw new UnexpectedTestError(\"LogSpy needs to be annotated with @Rule\");\n        }\n        return appender.list;\n    }\n}\n</code></pre>\n\n<p>In your test, you'd activate the spy in the following way:</p>\n\n<pre><code>@Rule\npublic LogSpy log = new LogSpy();\n</code></pre>\n\n<p>Call <code>log.getEvents()</code> (or other, custom methods) to check the logged events.</p>\n"},{"tags":[],"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1657486859,"creation_date":1606729161,"answer_id":65071120,"question_id":29076981,"body_markdown":"With JUnit5\r\n==\r\n\r\n    private ListAppender&lt;ILoggingEvent&gt; logWatcher;\r\n\r\n    @BeforeEach\r\n    void setup() {\r\n      logWatcher = new ListAppender&lt;&gt;();\r\n      logWatcher.start();\r\n      ((Logger) LoggerFactory.getLogger(MyClass.class)).addAppender(logWatcher);\r\n    }\r\n\r\nNote: **MyClass.class**  - should be your Prod class, you expect the log output from\r\n\r\n*use: (AssertJ example)*\r\n-\r\n\r\n    @Test\r\n    void myMethod_logs2Messages() {\r\n\r\n      ...\r\n      int logSize = logWatcher.list.size();\r\n      assertThat(logWatcher.list.get(logSize - 2).getFormattedMessage()).contains(&quot;EXPECTED MSG 1&quot;);\r\n      assertThat(logWatcher.list.get(logSize - 1).getFormattedMessage()).contains(&quot;EXPECTED MSG 2&quot;);\r\n    }\r\n\r\n*destroy:*\r\n-\r\n\r\nDetach is recommended, for a better performance:\r\n\r\n    @AfterEach\r\n    void teardown() {\r\n      ((Logger) LoggerFactory.getLogger(MyClass.class)).detachAndStopAllAppenders();\r\n    }\r\n\r\n*imports:*\r\n-\r\n\r\n    import org.slf4j.LoggerFactory;\r\n    import ch.qos.logback.core.read.ListAppender;\r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n    import ch.qos.logback.classic.Logger;\r\n\r\n---\r\ncredits to: @davidxxx&#39;s answer. See it for `import ch.qos.logback...` details: https://stackoverflow.com/a/52229629/601844","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<h1>With JUnit5</h1>\n<pre><code>private ListAppender&lt;ILoggingEvent&gt; logWatcher;\n\n@BeforeEach\nvoid setup() {\n  logWatcher = new ListAppender&lt;&gt;();\n  logWatcher.start();\n  ((Logger) LoggerFactory.getLogger(MyClass.class)).addAppender(logWatcher);\n}\n</code></pre>\n<p>Note: <strong>MyClass.class</strong>  - should be your Prod class, you expect the log output from</p>\n<h2><em>use: (AssertJ example)</em></h2>\n<pre><code>@Test\nvoid myMethod_logs2Messages() {\n\n  ...\n  int logSize = logWatcher.list.size();\n  assertThat(logWatcher.list.get(logSize - 2).getFormattedMessage()).contains(&quot;EXPECTED MSG 1&quot;);\n  assertThat(logWatcher.list.get(logSize - 1).getFormattedMessage()).contains(&quot;EXPECTED MSG 2&quot;);\n}\n</code></pre>\n<h2><em>destroy:</em></h2>\n<p>Detach is recommended, for a better performance:</p>\n<pre><code>@AfterEach\nvoid teardown() {\n  ((Logger) LoggerFactory.getLogger(MyClass.class)).detachAndStopAllAppenders();\n}\n</code></pre>\n<h2><em>imports:</em></h2>\n<pre><code>import org.slf4j.LoggerFactory;\nimport ch.qos.logback.core.read.ListAppender;\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.classic.Logger;\n</code></pre>\n<hr />\n<p>credits to: @davidxxx's answer. See it for <code>import ch.qos.logback...</code> details: <a href=\"https://stackoverflow.com/a/52229629/601844\">https://stackoverflow.com/a/52229629/601844</a></p>\n"},{"tags":[],"owner":{"account_id":2047998,"reputation":572,"user_id":1827660,"display_name":"Seba"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648443714,"creation_date":1648443714,"answer_id":71642603,"question_id":29076981,"body_markdown":"This is an alternative using lambdas that makes the log capturing logic reusable among tests (encapsulating its implementation) and doesn&#39;t require `@BeforeEach`/`@AfterEach` (in some of the proposed solutions the appender is not detached, which can lead to memory leaks).\r\n\r\n### Code under test:\r\n\r\n``` java\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class MyService {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(MyService.class);\r\n\r\n\r\n    public void doSomething(String someInput) {\r\n        ...\r\n        LOG.info(&quot;processing request with input {}&quot;, someInput);\r\n        ...\r\n    }\r\n}\r\n\r\n```\r\n\r\n### Interceptor helper:\r\n\r\n``` java\r\npackage mypackage.util\r\n\r\nimport ch.qos.logback.classic.Logger;\r\nimport ch.qos.logback.classic.spi.ILoggingEvent;\r\nimport ch.qos.logback.core.read.ListAppender;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.util.List;\r\n\r\npublic class LogInterceptor {\r\n\r\n    public static List&lt;ILoggingEvent&gt; interceptLogs(Class&lt;?&gt; klass, Runnable runnable) {\r\n        final Logger logger = (Logger) LoggerFactory.getLogger(klass);\r\n        final ListAppender&lt;ILoggingEvent&gt; listAppender = new ListAppender&lt;&gt;();\r\n        listAppender.start();\r\n        logger.addAppender(listAppender);\r\n        try {\r\n            runnable.run();\r\n            return listAppender.list;\r\n        } finally {\r\n            logger.detachAppender(listAppender);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n### Test suite:\r\n\r\n``` java\r\n\r\nimport static mypackage.util.LogInterceptor.interceptLogs;\r\n\r\npublic class MyServiceTest {\r\n\r\n  private MyService myService; \r\n  ...\r\n\r\n  @Test\r\n  void doSomethingLogsLineWithTheGivenInput() {\r\n        List&lt;ILoggingEvent&gt; logs = interceptLogs(\r\n                myService.getClass(),\r\n                () -&gt; myService.doSomething(&quot;foo&quot;)\r\n        );\r\n\r\n        assertThat(logs).isNotEmpty();\r\n        ILoggingEvent logEntry = logs.get(0);\r\n        assertThat(logEntry.getFormattedMessage()).isEqualTo(&quot;Processing request with input foo&quot;);\r\n        assertThat(logEntry.getLevel()).isEqualTo(Level.INFO);\r\n  }\r\n\r\n}\r\n\r\n```\r\n","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>This is an alternative using lambdas that makes the log capturing logic reusable among tests (encapsulating its implementation) and doesn't require <code>@BeforeEach</code>/<code>@AfterEach</code> (in some of the proposed solutions the appender is not detached, which can lead to memory leaks).</p>\n<h3>Code under test:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class MyService {\n\n    private static final Logger LOG = LoggerFactory.getLogger(MyService.class);\n\n\n    public void doSomething(String someInput) {\n        ...\n        LOG.info(&quot;processing request with input {}&quot;, someInput);\n        ...\n    }\n}\n\n</code></pre>\n<h3>Interceptor helper:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package mypackage.util\n\nimport ch.qos.logback.classic.Logger;\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.core.read.ListAppender;\nimport org.slf4j.LoggerFactory;\n\nimport java.util.List;\n\npublic class LogInterceptor {\n\n    public static List&lt;ILoggingEvent&gt; interceptLogs(Class&lt;?&gt; klass, Runnable runnable) {\n        final Logger logger = (Logger) LoggerFactory.getLogger(klass);\n        final ListAppender&lt;ILoggingEvent&gt; listAppender = new ListAppender&lt;&gt;();\n        listAppender.start();\n        logger.addAppender(listAppender);\n        try {\n            runnable.run();\n            return listAppender.list;\n        } finally {\n            logger.detachAppender(listAppender);\n        }\n    }\n}\n</code></pre>\n<h3>Test suite:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport static mypackage.util.LogInterceptor.interceptLogs;\n\npublic class MyServiceTest {\n\n  private MyService myService; \n  ...\n\n  @Test\n  void doSomethingLogsLineWithTheGivenInput() {\n        List&lt;ILoggingEvent&gt; logs = interceptLogs(\n                myService.getClass(),\n                () -&gt; myService.doSomething(&quot;foo&quot;)\n        );\n\n        assertThat(logs).isNotEmpty();\n        ILoggingEvent logEntry = logs.get(0);\n        assertThat(logEntry.getFormattedMessage()).isEqualTo(&quot;Processing request with input foo&quot;);\n        assertThat(logEntry.getLevel()).isEqualTo(Level.INFO);\n  }\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":111890,"reputation":8651,"user_id":295339,"accept_rate":93,"display_name":"Lars Andren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694659634,"creation_date":1678799769,"answer_id":75733649,"question_id":29076981,"body_markdown":"The class that I wanted to log has a lombok `@Slf4j` annotation on it, and I did as follows.\r\n\r\n\r\nTestee class\r\n------------\r\n\r\n    @Slf4j\r\n    @Service\r\n    public class TesteeService {\r\n       Mono&lt;ResponseEntity&lt;HttpStatus&gt;&gt; sendRequest(RequestDto requestDto) {\r\n           ...logs an ERROR sometimes...\r\n       }\r\n    }\r\n\r\nCreated a new class\r\n-------------------\r\n\r\n    public class MemoryLogAppender extends AppenderBase&lt;ILoggingEvent&gt; {\r\n        private final List&lt;LogEvent&gt; list = new ArrayList&lt;&gt;();\r\n        private final PatternLayoutEncoder encoder;\r\n        \r\n        public MemoryLogAppender(LoggerContext loggerContext, String pattern) {\r\n            super.setContext(loggerContext);\r\n            this.encoder = new PatternLayoutEncoder();\r\n            this.encoder.setContext(loggerContext);\r\n            encoder.setPattern(pattern);\r\n            encoder.start();\r\n        }\r\n        \r\n        \r\n        @Override\r\n        protected void append(ILoggingEvent event) {\r\n            String msg = new String(encoder.encode(event));\r\n            LogEvent logEvent = new LogEvent(msg, event.getLevel(), event.getLoggerName());\r\n            list.add(logEvent);\r\n        }\r\n        \r\n        /**\r\n         * Search for log message matching given regular expression.\r\n         *\r\n         * @param regex Regex to match\r\n         * @return matching log events\r\n         */\r\n        public List&lt;MemoryLogAppender.LogEvent&gt; matches(String regex) {\r\n            return this.list.stream()\r\n                .filter(event -&gt; event.message.matches(regex))\r\n                .collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\nTest class\r\n----------\r\n\r\n    class TestClass {\r\n        private static MemoryLogAppender logAppender;\r\n        \r\n        @BeforeAll\r\n        static void beforeAll() {\r\n            logAppender = new MemoryLogAppender((LoggerContext) LoggerFactory.getILoggerFactory(), &quot;%-5level: %message&quot;);\r\n            logAppender.start();\r\n        }\r\n        \r\n        @AfterAll\r\n        static void afterAll() {\r\n            logAppender.stop();\r\n        }\r\n        \r\n        ...\r\n        ...\r\n    \r\n        @Test\r\n        void bad_reference() throws Exception {\r\n            ResponseEntity&lt;HttpStatus&gt; response = testeeService.sendRequest(requestDto).block();\r\n    \r\n            assertThat(logAppender.search(&quot;This reference is bad.&quot;))\r\n                .hasSize(1);\r\n    \r\n            assertTrue(response.getStatusCode().is4xxClientError());\r\n        }\r\n    }","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>The class that I wanted to log has a lombok <code>@Slf4j</code> annotation on it, and I did as follows.</p>\n<h2>Testee class</h2>\n<pre><code>@Slf4j\n@Service\npublic class TesteeService {\n   Mono&lt;ResponseEntity&lt;HttpStatus&gt;&gt; sendRequest(RequestDto requestDto) {\n       ...logs an ERROR sometimes...\n   }\n}\n</code></pre>\n<h2>Created a new class</h2>\n<pre><code>public class MemoryLogAppender extends AppenderBase&lt;ILoggingEvent&gt; {\n    private final List&lt;LogEvent&gt; list = new ArrayList&lt;&gt;();\n    private final PatternLayoutEncoder encoder;\n    \n    public MemoryLogAppender(LoggerContext loggerContext, String pattern) {\n        super.setContext(loggerContext);\n        this.encoder = new PatternLayoutEncoder();\n        this.encoder.setContext(loggerContext);\n        encoder.setPattern(pattern);\n        encoder.start();\n    }\n    \n    \n    @Override\n    protected void append(ILoggingEvent event) {\n        String msg = new String(encoder.encode(event));\n        LogEvent logEvent = new LogEvent(msg, event.getLevel(), event.getLoggerName());\n        list.add(logEvent);\n    }\n    \n    /**\n     * Search for log message matching given regular expression.\n     *\n     * @param regex Regex to match\n     * @return matching log events\n     */\n    public List&lt;MemoryLogAppender.LogEvent&gt; matches(String regex) {\n        return this.list.stream()\n            .filter(event -&gt; event.message.matches(regex))\n            .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<h2>Test class</h2>\n<pre><code>class TestClass {\n    private static MemoryLogAppender logAppender;\n    \n    @BeforeAll\n    static void beforeAll() {\n        logAppender = new MemoryLogAppender((LoggerContext) LoggerFactory.getILoggerFactory(), &quot;%-5level: %message&quot;);\n        logAppender.start();\n    }\n    \n    @AfterAll\n    static void afterAll() {\n        logAppender.stop();\n    }\n    \n    ...\n    ...\n\n    @Test\n    void bad_reference() throws Exception {\n        ResponseEntity&lt;HttpStatus&gt; response = testeeService.sendRequest(requestDto).block();\n\n        assertThat(logAppender.search(&quot;This reference is bad.&quot;))\n            .hasSize(1);\n\n        assertTrue(response.getStatusCode().is4xxClientError());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697022360,"creation_date":1697021524,"answer_id":77272356,"question_id":29076981,"body_markdown":"# Approach using custom appender\r\n\r\nUnit test:\r\n\r\n    package org.example;\r\n    \r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n    import static org.hamcrest.Matchers.containsInAnyOrder;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.junit.Test;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import ch.qos.logback.classic.Logger;\r\n    \r\n    \r\n    public class LoggerTest {\r\n    \r\n    \t@Test\r\n    \tpublic void logDifferentData() {\r\n    \t\tLogger logger = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\r\n    \t\tCaptureLogsAppender captureLogsAppender = new CaptureLogsAppender();\r\n    \r\n    \t\tlogger.addAppender(captureLogsAppender);\r\n    \t\tcaptureLogsAppender.start();\r\n    \r\n    \t\t// you can call service.doSomeWork() here to collect logs from particular service\r\n    \t\tLoggerFactory.getLogger(&quot;org.example.LoggerTest&quot;).debug(&quot;message1&quot;);\r\n    \t\tLoggerFactory.getLogger(&quot;org.example.LoggerTest&quot;).debug(&quot;message2&quot;);\r\n    \r\n    \t\tcaptureLogsAppender.stop();\r\n    \t\tlogger.detachAppender(captureLogsAppender);\r\n    \r\n    \t\tList&lt;String&gt; logs = captureLogsAppender.getLogs();\r\n    \r\n    \t\tassertThat(logs, containsInAnyOrder(&quot;message1&quot;, &quot;message2&quot;));\r\n    \t}\r\n    }\r\n\r\nCustom Appender that intercepts calls to Logback:\r\n\r\n\r\n    package org.example;\r\n    \r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n    import ch.qos.logback.core.AppenderBase;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class CaptureLogsAppender extends AppenderBase&lt;ILoggingEvent&gt; {\r\n        private List&lt;String&gt; logs = new ArrayList&lt;&gt;();\r\n    \r\n        @Override\r\n        protected void append(ILoggingEvent eventObject) {\r\n            eventObject.prepareForDeferredProcessing();\r\n            logs.add(eventObject.getFormattedMessage());\r\n        }\r\n    \r\n        public List&lt;String&gt; getLogs() {\r\n            return logs;\r\n        }\r\n    }","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<h1>Approach using custom appender</h1>\n<p>Unit test:</p>\n<pre><code>package org.example;\n\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.Matchers.containsInAnyOrder;\n\nimport java.util.List;\n\nimport org.junit.Test;\nimport org.slf4j.LoggerFactory;\n\nimport ch.qos.logback.classic.Logger;\n\n\npublic class LoggerTest {\n\n    @Test\n    public void logDifferentData() {\n        Logger logger = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\n        CaptureLogsAppender captureLogsAppender = new CaptureLogsAppender();\n\n        logger.addAppender(captureLogsAppender);\n        captureLogsAppender.start();\n\n        // you can call service.doSomeWork() here to collect logs from particular service\n        LoggerFactory.getLogger(&quot;org.example.LoggerTest&quot;).debug(&quot;message1&quot;);\n        LoggerFactory.getLogger(&quot;org.example.LoggerTest&quot;).debug(&quot;message2&quot;);\n\n        captureLogsAppender.stop();\n        logger.detachAppender(captureLogsAppender);\n\n        List&lt;String&gt; logs = captureLogsAppender.getLogs();\n\n        assertThat(logs, containsInAnyOrder(&quot;message1&quot;, &quot;message2&quot;));\n    }\n}\n</code></pre>\n<p>Custom Appender that intercepts calls to Logback:</p>\n<pre><code>package org.example;\n\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.core.AppenderBase;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CaptureLogsAppender extends AppenderBase&lt;ILoggingEvent&gt; {\n    private List&lt;String&gt; logs = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void append(ILoggingEvent eventObject) {\n        eventObject.prepareForDeferredProcessing();\n        logs.add(eventObject.getFormattedMessage());\n    }\n\n    public List&lt;String&gt; getLogs() {\n        return logs;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5705055,"reputation":1872,"user_id":4508899,"accept_rate":75,"display_name":"Jonas_Hess"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699653415,"creation_date":1699653415,"answer_id":77463038,"question_id":29076981,"body_markdown":"As this is something I do in many tests, I have written a helper class to do this without much boilerplate:\r\n\r\n \r\n\r\n**Junit Test**\r\n\r\n \r\n\r\n      @Test\r\n\r\n      void testHello() {\r\n\r\n        final List&lt;ILoggingEvent&gt; logs = TestUtil.captureLogs(() -&gt; {\r\n\r\n          MySerive.sayHello();\r\n\r\n        }, Level.INFO);\r\n\r\n       \r\n\r\n        Assertions.assertEquals(1, logs.size());\r\n\r\n        Assertions.assertEquals(&quot;Hello World!&quot;, logs.get(0).getMessage());\r\n\r\n      }\r\n\r\n \r\n\r\n**TestUtil Class**\r\n\r\n \r\n\r\n    import ch.qos.logback.classic.Level;\r\n\r\n    import ch.qos.logback.classic.Logger;\r\n\r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n\r\n    import ch.qos.logback.core.read.ListAppender;\r\n\r\n    import org.slf4j.LoggerFactory;\r\n\r\n   \r\n\r\n    import java.util.List;\r\n\r\n   \r\n\r\n    public class TestUtil {\r\n\r\n   \r\n\r\n      @FunctionalInterface\r\n\r\n      public interface RunnerWithLogCapture&lt;T extends Throwable&gt; {\r\n\r\n        void run() throws T;\r\n\r\n      }\r\n\r\n   \r\n\r\n      public static &lt;T extends Throwable&gt; List&lt;ILoggingEvent&gt; captureLogs(final RunnerWithLogCapture&lt;T&gt; testCode,\r\n\r\n                                                    final Level level) throws T {\r\n\r\n        final Logger logger = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\r\n\r\n        logger.setLevel(level);\r\n\r\n        final ListAppender&lt;ILoggingEvent&gt; listAppender = new ListAppender&lt;&gt;();\r\n\r\n        listAppender.start();\r\n\r\n        logger.addAppender(listAppender);\r\n\r\n        try {\r\n\r\n          testCode.run();\r\n\r\n          final List&lt;ILoggingEvent&gt; logsList = listAppender.list;\r\n\r\n          return logsList;\r\n\r\n        } finally {\r\n\r\n          logger.detachAppender(listAppender);\r\n          listAppender.stop();\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>As this is something I do in many tests, I have written a helper class to do this without much boilerplate:</p>\n<p><strong>Junit Test</strong></p>\n<pre><code>  @Test\n\n  void testHello() {\n\n    final List&lt;ILoggingEvent&gt; logs = TestUtil.captureLogs(() -&gt; {\n\n      MySerive.sayHello();\n\n    }, Level.INFO);\n\n   \n\n    Assertions.assertEquals(1, logs.size());\n\n    Assertions.assertEquals(&quot;Hello World!&quot;, logs.get(0).getMessage());\n\n  }\n</code></pre>\n<p><strong>TestUtil Class</strong></p>\n<pre><code>import ch.qos.logback.classic.Level;\n\nimport ch.qos.logback.classic.Logger;\n\nimport ch.qos.logback.classic.spi.ILoggingEvent;\n\nimport ch.qos.logback.core.read.ListAppender;\n\nimport org.slf4j.LoggerFactory;\n\n\n\nimport java.util.List;\n\n\n\npublic class TestUtil {\n\n\n\n  @FunctionalInterface\n\n  public interface RunnerWithLogCapture&lt;T extends Throwable&gt; {\n\n    void run() throws T;\n\n  }\n\n\n\n  public static &lt;T extends Throwable&gt; List&lt;ILoggingEvent&gt; captureLogs(final RunnerWithLogCapture&lt;T&gt; testCode,\n\n                                                final Level level) throws T {\n\n    final Logger logger = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\n\n    logger.setLevel(level);\n\n    final ListAppender&lt;ILoggingEvent&gt; listAppender = new ListAppender&lt;&gt;();\n\n    listAppender.start();\n\n    logger.addAppender(listAppender);\n\n    try {\n\n      testCode.run();\n\n      final List&lt;ILoggingEvent&gt; logsList = listAppender.list;\n\n      return logsList;\n\n    } finally {\n\n      logger.detachAppender(listAppender);\n      listAppender.stop();\n\n    }\n\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142909,"favorite_count":0,"down_vote_count":0,"up_vote_count":147,"accepted_answer_id":29077499,"answer_count":12,"score":147,"last_activity_date":1699653415,"creation_date":1426509380,"question_id":29076981,"body_markdown":"Is it possible to somehow intercept the logging (SLF4J + logback) and get an `InputStream` (or something else that is readable) via a JUnit test case...?","title":"How to intercept SLF4J (with logback) logging via a JUnit test?","body":"<p>Is it possible to somehow intercept the logging (SLF4J + logback) and get an <code>InputStream</code> (or something else that is readable) via a JUnit test case...?</p>\n"},{"tags":["java","swing","cardlayout"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1699643269,"post_id":77462302,"comment_id":136562201,"body_markdown":"1. Yes, use a CardLayout. The issue isn&#39;t that this won&#39;t work, but rather you need to figure out how to use it with different classes. How you wire your code will matter. 2. Look into use of a M-V-C or similar design pattern. The key will be to separate the code logic from the view (GUI). Unrelated: Make sure your code is highly OOP-compliant, including getting rid of most of your static modifiers. They aren&#39;t your friend. Lastly, when posting code here, please create and post a valid [mre], code that we can test easily. Please read the link as well as the [ask] link.","body":"1. Yes, use a CardLayout. The issue isn&#39;t that this won&#39;t work, but rather you need to figure out how to use it with different classes. How you wire your code will matter. 2. Look into use of a M-V-C or similar design pattern. The key will be to separate the code logic from the view (GUI). Unrelated: Make sure your code is highly OOP-compliant, including getting rid of most of your static modifiers. They aren&#39;t your friend. Lastly, when posting code here, please create and post a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, code that we can test easily. Please read the link as well as the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> link."},{"owner":{"account_id":29874239,"reputation":1,"user_id":22894871,"display_name":"Daniele "},"score":0,"creation_date":1699652551,"post_id":77462302,"comment_id":136563345,"body_markdown":"Thanks for the comment Hovercraft Full of Eels. I’m a beginner in coding and using stackoverflow, and i have a lot to learn. I will update the post as soon as possibile with a reproducible example.","body":"Thanks for the comment Hovercraft Full of Eels. I’m a beginner in coding and using stackoverflow, and i have a lot to learn. I will update the post as soon as possibile with a reproducible example."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699652754,"post_id":77462302,"comment_id":136563360,"body_markdown":"I&#39;ve posted an example of one below.","body":"I&#39;ve posted an example of one below."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699652794,"creation_date":1699652137,"answer_id":77462952,"question_id":77462302,"body_markdown":"As I mentioned in comment, I would use a CardLayout, and I would try to separate control of the card layout from the view, using MVC, or in my example below, a more simplified model-controller. Here, any class that has access to the controller can control what the card layout displays:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMainGUI.java\r\n========\r\nThis creates the components, connects them, and starts them.\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.CardLayout;\r\nimport java.awt.Color;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class MainGUI {\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            View view = new CardView();\r\n            CardController controller = new ConcreteController(view);\r\n            String[] cards = { &quot;Card 1&quot;, &quot;Card 2&quot;, &quot;Card 3&quot;, &quot;Card 4&quot;, &quot;Card 5&quot;,\r\n                    &quot;Card 6&quot;, &quot;Card 7&quot;, &quot;Card 8&quot;, &quot;Card 9&quot;, &quot;Card 10&quot; };\r\n            for (String card : cards) {\r\n                JPanel cardPanel = new RandomPanel(card, controller);\r\n                controller.addCard(card, cardPanel);\r\n            }\r\n            controller.showGui();\r\n        });\r\n    }\r\n}\r\n```\r\nConcreteController.java\r\n=====================\r\nThis is the class that controls what the card layout displays. \r\n```\r\nclass ConcreteController implements CardController {\r\n    private View view;\r\n    private JFrame frame;\r\n\r\n    public ConcreteController(View view) {\r\n        this.view = view;\r\n        view.setContoller(this);\r\n    }\r\n\r\n    @Override\r\n    public void showGui() {\r\n        if (frame == null) {\r\n            frame = new JFrame(&quot;MainGUI&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setContentPane(view.getMainPanel());\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n        }\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public View getView() {\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void addCard(String name, JPanel card) {\r\n        view.getCardsPanel().add(card, name);\r\n        view.getCardComboBoxModel().addElement(name);\r\n    }\r\n\r\n    @Override\r\n    public void showCard(String name) {\r\n        view.getCardLayout().show(view.getCardsPanel(), name);\r\n    }\r\n\r\n    @Override\r\n    public void nextCard() {\r\n        view.getCardLayout().next(view.getCardsPanel());\r\n    }\r\n\r\n    @Override\r\n    public void previousCard() {\r\n        view.getCardLayout().previous(view.getCardsPanel());\r\n    }\r\n}\r\n```\r\n\r\n```\r\ninterface CardController {\r\n    public void addCard(String name, JPanel card);\r\n\r\n    public void showGui();\r\n\r\n    public void showCard(String name);\r\n\r\n    public void nextCard();\r\n\r\n    public void previousCard();\r\n}\r\n```\r\n\r\n```\r\ninterface View {\r\n\r\n    void setContoller(CardController controller);\r\n\r\n    CardLayout getCardLayout();\r\n\r\n    JPanel getCardsPanel();\r\n\r\n    JPanel getMainPanel();\r\n\r\n    DefaultComboBoxModel&lt;String&gt; getCardComboBoxModel();\r\n\r\n}\r\n```\r\nCardView.java\r\n=================\r\nThe GUI class that holds the cardsPanel, the one that uses a CardLayout, and that displays the cards JPanels. It also has previousButton, nextButton and a JComboBox to allow selection of the visualized card\r\n```\r\nclass CardView implements View {\r\n    private CardController controller;\r\n    private JPanel mainPanel = new JPanel(new BorderLayout());\r\n    private CardLayout cardLayout = new CardLayout();\r\n    private JPanel cardsPanel = new JPanel(cardLayout);\r\n    private DefaultComboBoxModel&lt;String&gt; cardComboBoxModel = new DefaultComboBoxModel&lt;&gt;();\r\n    private JComboBox&lt;String&gt; cardComboBox = new JComboBox&lt;&gt;(cardComboBoxModel);\r\n\r\n    public CardView() {\r\n        mainPanel.add(cardsPanel, BorderLayout.CENTER);\r\n\r\n        JPanel buttonPanel = new JPanel();\r\n\r\n        JButton previousButton = new JButton(&quot;Previous&quot;);\r\n        previousButton.addActionListener(e -&gt; {\r\n            if (controller != null)\r\n                controller.previousCard();\r\n        });\r\n        buttonPanel.add(previousButton);\r\n\r\n        JButton nextButton = new JButton(&quot;Next&quot;);\r\n        nextButton.addActionListener(e -&gt; {\r\n            if (controller != null)\r\n                controller.nextCard();\r\n        });\r\n        cardComboBox.addActionListener(e -&gt; {\r\n            if (controller != null)\r\n                controller.showCard((String) cardComboBox.getSelectedItem());\r\n        });\r\n\r\n        buttonPanel.add(nextButton);\r\n        buttonPanel.add(cardComboBox);\r\n\r\n        mainPanel.add(buttonPanel, BorderLayout.PAGE_END);\r\n    }\r\n\r\n    @Override\r\n    public void setContoller(CardController controller) {\r\n        this.controller = controller;\r\n    }\r\n\r\n    @Override\r\n    public CardLayout getCardLayout() {\r\n        return cardLayout;\r\n    }\r\n\r\n    @Override\r\n    public JPanel getCardsPanel() {\r\n        return cardsPanel;\r\n    }\r\n\r\n    @Override\r\n    public JPanel getMainPanel() {\r\n        return mainPanel;\r\n    }\r\n\r\n    @Override\r\n    public DefaultComboBoxModel&lt;String&gt; getCardComboBoxModel() {\r\n        return cardComboBoxModel;\r\n    }\r\n\r\n}\r\n```\r\nRandomPanel.java\r\n=============\r\nA dummy JPanel that simply displays text that is passed into its constructor with a randomly created background color. It has a nextButton to show that it can interact with the CardLayout that contols its display\r\n```\r\nclass RandomPanel extends JPanel {\r\n    private CardController controller;\r\n\r\n    public RandomPanel(String name, CardController controller) {\r\n        this.controller = controller;\r\n\r\n        // random color to help distinguish panels\r\n        float hue = (float) Math.random();\r\n        float saturation = (float) (0.5 * Math.random() + 0.5);\r\n        float brightness = (float) (0.2 * Math.random() + 0.8);\r\n        Color randomColor = Color.getHSBColor(hue, saturation, brightness);\r\n        Color borderColor = Color.getHSBColor(hue, saturation, brightness - 0.4f);\r\n\r\n        setBorder(BorderFactory.createLineBorder(borderColor, 30));\r\n        setBackground(randomColor);\r\n\r\n        JLabel label = new JLabel(name);\r\n        label.setFont(label.getFont().deriveFont(64.0f));\r\n        int gap = 30;\r\n        label.setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\r\n\r\n        JPanel buttonPanel = new JPanel();\r\n        buttonPanel.setOpaque(false);\r\n        JButton nextButton = new JButton(&quot;Next Card&quot;);\r\n        nextButton.addActionListener(e -&gt; {\r\n            if (controller != null)\r\n                controller.nextCard();\r\n        });\r\n        buttonPanel.add(nextButton);\r\n\r\n        setLayout(new BorderLayout());\r\n        add(label);\r\n        add(buttonPanel, BorderLayout.PAGE_END);\r\n    }\r\n\r\n    public CardController getController() {\r\n        return controller;\r\n    }\r\n}\r\n```\r\n______________________\r\nComplete MRE\r\n======================\r\nThe complete program in one single copy/paste compile/run file:\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.CardLayout;\r\nimport java.awt.Color;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class MainGUI {\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            View view = new CardView();\r\n            CardController controller = new ConcreteController(view);\r\n            String[] cards = { &quot;Card 1&quot;, &quot;Card 2&quot;, &quot;Card 3&quot;, &quot;Card 4&quot;, &quot;Card 5&quot;,\r\n                    &quot;Card 6&quot;, &quot;Card 7&quot;, &quot;Card 8&quot;, &quot;Card 9&quot;, &quot;Card 10&quot; };\r\n            for (String card : cards) {\r\n                JPanel cardPanel = new RandomPanel(card, controller);\r\n                controller.addCard(card, cardPanel);\r\n            }\r\n            controller.showGui();\r\n        });\r\n    }\r\n\r\n}\r\n\r\nclass ConcreteController implements CardController {\r\n    private View view;\r\n    private JFrame frame;\r\n\r\n    public ConcreteController(View view) {\r\n        this.view = view;\r\n\r\n        view.setContoller(this);\r\n    }\r\n\r\n    @Override\r\n    public void showGui() {\r\n        if (frame == null) {\r\n            frame = new JFrame(&quot;MainGUI&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setContentPane(view.getMainPanel());\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n        }\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public View getView() {\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void addCard(String name, JPanel card) {\r\n        view.getCardsPanel().add(card, name);\r\n        view.getCardComboBoxModel().addElement(name);\r\n    }\r\n\r\n    @Override\r\n    public void showCard(String name) {\r\n        view.getCardLayout().show(view.getCardsPanel(), name);\r\n    }\r\n\r\n    @Override\r\n    public void nextCard() {\r\n        view.getCardLayout().next(view.getCardsPanel());\r\n    }\r\n\r\n    @Override\r\n    public void previousCard() {\r\n        view.getCardLayout().previous(view.getCardsPanel());\r\n    }\r\n}\r\n\r\ninterface CardController {\r\n    public void addCard(String name, JPanel card);\r\n\r\n    public void showGui();\r\n\r\n    public void showCard(String name);\r\n\r\n    public void nextCard();\r\n\r\n    public void previousCard();\r\n}\r\n\r\ninterface View {\r\n\r\n    void setContoller(CardController controller);\r\n\r\n    CardLayout getCardLayout();\r\n\r\n    JPanel getCardsPanel();\r\n\r\n    JPanel getMainPanel();\r\n\r\n    DefaultComboBoxModel&lt;String&gt; getCardComboBoxModel();\r\n\r\n}\r\n\r\nclass CardView implements View {\r\n    private CardController controller;\r\n    private JPanel mainPanel = new JPanel(new BorderLayout());\r\n    private CardLayout cardLayout = new CardLayout();\r\n    private JPanel cardsPanel = new JPanel(cardLayout);\r\n    private DefaultComboBoxModel&lt;String&gt; cardComboBoxModel = new DefaultComboBoxModel&lt;&gt;();\r\n    private JComboBox&lt;String&gt; cardComboBox = new JComboBox&lt;&gt;(cardComboBoxModel);\r\n\r\n    public CardView() {\r\n        mainPanel.add(cardsPanel, BorderLayout.CENTER);\r\n\r\n        JPanel buttonPanel = new JPanel();\r\n\r\n        JButton previousButton = new JButton(&quot;Previous&quot;);\r\n        previousButton.addActionListener(e -&gt; {\r\n            if (controller != null)\r\n                controller.previousCard();\r\n        });\r\n        buttonPanel.add(previousButton);\r\n\r\n        JButton nextButton = new JButton(&quot;Next&quot;);\r\n        nextButton.addActionListener(e -&gt; {\r\n            if (controller != null)\r\n                controller.nextCard();\r\n        });\r\n        cardComboBox.addActionListener(e -&gt; {\r\n            if (controller != null)\r\n                controller.showCard((String) cardComboBox.getSelectedItem());\r\n        });\r\n\r\n        buttonPanel.add(nextButton);\r\n        buttonPanel.add(cardComboBox);\r\n\r\n        mainPanel.add(buttonPanel, BorderLayout.PAGE_END);\r\n    }\r\n\r\n    @Override\r\n    public void setContoller(CardController controller) {\r\n        this.controller = controller;\r\n    }\r\n\r\n    @Override\r\n    public CardLayout getCardLayout() {\r\n        return cardLayout;\r\n    }\r\n\r\n    @Override\r\n    public JPanel getCardsPanel() {\r\n        return cardsPanel;\r\n    }\r\n\r\n    @Override\r\n    public JPanel getMainPanel() {\r\n        return mainPanel;\r\n    }\r\n\r\n    @Override\r\n    public DefaultComboBoxModel&lt;String&gt; getCardComboBoxModel() {\r\n        return cardComboBoxModel;\r\n    }\r\n\r\n}\r\n\r\nclass RandomPanel extends JPanel {\r\n    private CardController controller;\r\n\r\n    public RandomPanel(String name, CardController controller) {\r\n        this.controller = controller;\r\n\r\n        // random color to help distinguish panels\r\n        float hue = (float) Math.random();\r\n        float saturation = (float) (0.5 * Math.random() + 0.5);\r\n        float brightness = (float) (0.2 * Math.random() + 0.8);\r\n        Color randomColor = Color.getHSBColor(hue, saturation, brightness);\r\n        Color borderColor = Color.getHSBColor(hue, saturation, brightness - 0.4f);\r\n\r\n        setBorder(BorderFactory.createLineBorder(borderColor, 30));\r\n        setBackground(randomColor);\r\n\r\n        JLabel label = new JLabel(name);\r\n        label.setFont(label.getFont().deriveFont(64.0f));\r\n        int gap = 30;\r\n        label.setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\r\n\r\n        JPanel buttonPanel = new JPanel();\r\n        buttonPanel.setOpaque(false);\r\n        JButton nextButton = new JButton(&quot;Next Card&quot;);\r\n        nextButton.addActionListener(e -&gt; {\r\n            if (controller != null)\r\n                controller.nextCard();\r\n        });\r\n        buttonPanel.add(nextButton);\r\n\r\n        setLayout(new BorderLayout());\r\n        add(label);\r\n        add(buttonPanel, BorderLayout.PAGE_END);\r\n    }\r\n\r\n    public CardController getController() {\r\n        return controller;\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/U1Gk7.gif","title":"How to switch from a JPanel to another","body":"<p>As I mentioned in comment, I would use a CardLayout, and I would try to separate control of the card layout from the view, using MVC, or in my example below, a more simplified model-controller. Here, any class that has access to the controller can control what the card layout displays:</p>\n<p><a href=\"https://i.stack.imgur.com/U1Gk7.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U1Gk7.gif\" alt=\"enter image description here\" /></a></p>\n<h1>MainGUI.java</h1>\n<p>This creates the components, connects them, and starts them.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.CardLayout;\nimport java.awt.Color;\n\nimport javax.swing.*;\n\npublic class MainGUI {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            View view = new CardView();\n            CardController controller = new ConcreteController(view);\n            String[] cards = { &quot;Card 1&quot;, &quot;Card 2&quot;, &quot;Card 3&quot;, &quot;Card 4&quot;, &quot;Card 5&quot;,\n                    &quot;Card 6&quot;, &quot;Card 7&quot;, &quot;Card 8&quot;, &quot;Card 9&quot;, &quot;Card 10&quot; };\n            for (String card : cards) {\n                JPanel cardPanel = new RandomPanel(card, controller);\n                controller.addCard(card, cardPanel);\n            }\n            controller.showGui();\n        });\n    }\n}\n</code></pre>\n<h1>ConcreteController.java</h1>\n<p>This is the class that controls what the card layout displays.</p>\n<pre><code>class ConcreteController implements CardController {\n    private View view;\n    private JFrame frame;\n\n    public ConcreteController(View view) {\n        this.view = view;\n        view.setContoller(this);\n    }\n\n    @Override\n    public void showGui() {\n        if (frame == null) {\n            frame = new JFrame(&quot;MainGUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setContentPane(view.getMainPanel());\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n        }\n        frame.setVisible(true);\n    }\n\n    public View getView() {\n        return view;\n    }\n\n    @Override\n    public void addCard(String name, JPanel card) {\n        view.getCardsPanel().add(card, name);\n        view.getCardComboBoxModel().addElement(name);\n    }\n\n    @Override\n    public void showCard(String name) {\n        view.getCardLayout().show(view.getCardsPanel(), name);\n    }\n\n    @Override\n    public void nextCard() {\n        view.getCardLayout().next(view.getCardsPanel());\n    }\n\n    @Override\n    public void previousCard() {\n        view.getCardLayout().previous(view.getCardsPanel());\n    }\n}\n</code></pre>\n<pre><code>interface CardController {\n    public void addCard(String name, JPanel card);\n\n    public void showGui();\n\n    public void showCard(String name);\n\n    public void nextCard();\n\n    public void previousCard();\n}\n</code></pre>\n<pre><code>interface View {\n\n    void setContoller(CardController controller);\n\n    CardLayout getCardLayout();\n\n    JPanel getCardsPanel();\n\n    JPanel getMainPanel();\n\n    DefaultComboBoxModel&lt;String&gt; getCardComboBoxModel();\n\n}\n</code></pre>\n<h1>CardView.java</h1>\n<p>The GUI class that holds the cardsPanel, the one that uses a CardLayout, and that displays the cards JPanels. It also has previousButton, nextButton and a JComboBox to allow selection of the visualized card</p>\n<pre><code>class CardView implements View {\n    private CardController controller;\n    private JPanel mainPanel = new JPanel(new BorderLayout());\n    private CardLayout cardLayout = new CardLayout();\n    private JPanel cardsPanel = new JPanel(cardLayout);\n    private DefaultComboBoxModel&lt;String&gt; cardComboBoxModel = new DefaultComboBoxModel&lt;&gt;();\n    private JComboBox&lt;String&gt; cardComboBox = new JComboBox&lt;&gt;(cardComboBoxModel);\n\n    public CardView() {\n        mainPanel.add(cardsPanel, BorderLayout.CENTER);\n\n        JPanel buttonPanel = new JPanel();\n\n        JButton previousButton = new JButton(&quot;Previous&quot;);\n        previousButton.addActionListener(e -&gt; {\n            if (controller != null)\n                controller.previousCard();\n        });\n        buttonPanel.add(previousButton);\n\n        JButton nextButton = new JButton(&quot;Next&quot;);\n        nextButton.addActionListener(e -&gt; {\n            if (controller != null)\n                controller.nextCard();\n        });\n        cardComboBox.addActionListener(e -&gt; {\n            if (controller != null)\n                controller.showCard((String) cardComboBox.getSelectedItem());\n        });\n\n        buttonPanel.add(nextButton);\n        buttonPanel.add(cardComboBox);\n\n        mainPanel.add(buttonPanel, BorderLayout.PAGE_END);\n    }\n\n    @Override\n    public void setContoller(CardController controller) {\n        this.controller = controller;\n    }\n\n    @Override\n    public CardLayout getCardLayout() {\n        return cardLayout;\n    }\n\n    @Override\n    public JPanel getCardsPanel() {\n        return cardsPanel;\n    }\n\n    @Override\n    public JPanel getMainPanel() {\n        return mainPanel;\n    }\n\n    @Override\n    public DefaultComboBoxModel&lt;String&gt; getCardComboBoxModel() {\n        return cardComboBoxModel;\n    }\n\n}\n</code></pre>\n<h1>RandomPanel.java</h1>\n<p>A dummy JPanel that simply displays text that is passed into its constructor with a randomly created background color. It has a nextButton to show that it can interact with the CardLayout that contols its display</p>\n<pre><code>class RandomPanel extends JPanel {\n    private CardController controller;\n\n    public RandomPanel(String name, CardController controller) {\n        this.controller = controller;\n\n        // random color to help distinguish panels\n        float hue = (float) Math.random();\n        float saturation = (float) (0.5 * Math.random() + 0.5);\n        float brightness = (float) (0.2 * Math.random() + 0.8);\n        Color randomColor = Color.getHSBColor(hue, saturation, brightness);\n        Color borderColor = Color.getHSBColor(hue, saturation, brightness - 0.4f);\n\n        setBorder(BorderFactory.createLineBorder(borderColor, 30));\n        setBackground(randomColor);\n\n        JLabel label = new JLabel(name);\n        label.setFont(label.getFont().deriveFont(64.0f));\n        int gap = 30;\n        label.setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\n\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.setOpaque(false);\n        JButton nextButton = new JButton(&quot;Next Card&quot;);\n        nextButton.addActionListener(e -&gt; {\n            if (controller != null)\n                controller.nextCard();\n        });\n        buttonPanel.add(nextButton);\n\n        setLayout(new BorderLayout());\n        add(label);\n        add(buttonPanel, BorderLayout.PAGE_END);\n    }\n\n    public CardController getController() {\n        return controller;\n    }\n}\n</code></pre>\n<hr />\n<h1>Complete MRE</h1>\n<p>The complete program in one single copy/paste compile/run file:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.CardLayout;\nimport java.awt.Color;\n\nimport javax.swing.*;\n\npublic class MainGUI {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            View view = new CardView();\n            CardController controller = new ConcreteController(view);\n            String[] cards = { &quot;Card 1&quot;, &quot;Card 2&quot;, &quot;Card 3&quot;, &quot;Card 4&quot;, &quot;Card 5&quot;,\n                    &quot;Card 6&quot;, &quot;Card 7&quot;, &quot;Card 8&quot;, &quot;Card 9&quot;, &quot;Card 10&quot; };\n            for (String card : cards) {\n                JPanel cardPanel = new RandomPanel(card, controller);\n                controller.addCard(card, cardPanel);\n            }\n            controller.showGui();\n        });\n    }\n\n}\n\nclass ConcreteController implements CardController {\n    private View view;\n    private JFrame frame;\n\n    public ConcreteController(View view) {\n        this.view = view;\n\n        view.setContoller(this);\n    }\n\n    @Override\n    public void showGui() {\n        if (frame == null) {\n            frame = new JFrame(&quot;MainGUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setContentPane(view.getMainPanel());\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n        }\n        frame.setVisible(true);\n    }\n\n    public View getView() {\n        return view;\n    }\n\n    @Override\n    public void addCard(String name, JPanel card) {\n        view.getCardsPanel().add(card, name);\n        view.getCardComboBoxModel().addElement(name);\n    }\n\n    @Override\n    public void showCard(String name) {\n        view.getCardLayout().show(view.getCardsPanel(), name);\n    }\n\n    @Override\n    public void nextCard() {\n        view.getCardLayout().next(view.getCardsPanel());\n    }\n\n    @Override\n    public void previousCard() {\n        view.getCardLayout().previous(view.getCardsPanel());\n    }\n}\n\ninterface CardController {\n    public void addCard(String name, JPanel card);\n\n    public void showGui();\n\n    public void showCard(String name);\n\n    public void nextCard();\n\n    public void previousCard();\n}\n\ninterface View {\n\n    void setContoller(CardController controller);\n\n    CardLayout getCardLayout();\n\n    JPanel getCardsPanel();\n\n    JPanel getMainPanel();\n\n    DefaultComboBoxModel&lt;String&gt; getCardComboBoxModel();\n\n}\n\nclass CardView implements View {\n    private CardController controller;\n    private JPanel mainPanel = new JPanel(new BorderLayout());\n    private CardLayout cardLayout = new CardLayout();\n    private JPanel cardsPanel = new JPanel(cardLayout);\n    private DefaultComboBoxModel&lt;String&gt; cardComboBoxModel = new DefaultComboBoxModel&lt;&gt;();\n    private JComboBox&lt;String&gt; cardComboBox = new JComboBox&lt;&gt;(cardComboBoxModel);\n\n    public CardView() {\n        mainPanel.add(cardsPanel, BorderLayout.CENTER);\n\n        JPanel buttonPanel = new JPanel();\n\n        JButton previousButton = new JButton(&quot;Previous&quot;);\n        previousButton.addActionListener(e -&gt; {\n            if (controller != null)\n                controller.previousCard();\n        });\n        buttonPanel.add(previousButton);\n\n        JButton nextButton = new JButton(&quot;Next&quot;);\n        nextButton.addActionListener(e -&gt; {\n            if (controller != null)\n                controller.nextCard();\n        });\n        cardComboBox.addActionListener(e -&gt; {\n            if (controller != null)\n                controller.showCard((String) cardComboBox.getSelectedItem());\n        });\n\n        buttonPanel.add(nextButton);\n        buttonPanel.add(cardComboBox);\n\n        mainPanel.add(buttonPanel, BorderLayout.PAGE_END);\n    }\n\n    @Override\n    public void setContoller(CardController controller) {\n        this.controller = controller;\n    }\n\n    @Override\n    public CardLayout getCardLayout() {\n        return cardLayout;\n    }\n\n    @Override\n    public JPanel getCardsPanel() {\n        return cardsPanel;\n    }\n\n    @Override\n    public JPanel getMainPanel() {\n        return mainPanel;\n    }\n\n    @Override\n    public DefaultComboBoxModel&lt;String&gt; getCardComboBoxModel() {\n        return cardComboBoxModel;\n    }\n\n}\n\nclass RandomPanel extends JPanel {\n    private CardController controller;\n\n    public RandomPanel(String name, CardController controller) {\n        this.controller = controller;\n\n        // random color to help distinguish panels\n        float hue = (float) Math.random();\n        float saturation = (float) (0.5 * Math.random() + 0.5);\n        float brightness = (float) (0.2 * Math.random() + 0.8);\n        Color randomColor = Color.getHSBColor(hue, saturation, brightness);\n        Color borderColor = Color.getHSBColor(hue, saturation, brightness - 0.4f);\n\n        setBorder(BorderFactory.createLineBorder(borderColor, 30));\n        setBackground(randomColor);\n\n        JLabel label = new JLabel(name);\n        label.setFont(label.getFont().deriveFont(64.0f));\n        int gap = 30;\n        label.setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\n\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.setOpaque(false);\n        JButton nextButton = new JButton(&quot;Next Card&quot;);\n        nextButton.addActionListener(e -&gt; {\n            if (controller != null)\n                controller.nextCard();\n        });\n        buttonPanel.add(nextButton);\n\n        setLayout(new BorderLayout());\n        add(label);\n        add(buttonPanel, BorderLayout.PAGE_END);\n    }\n\n    public CardController getController() {\n        return controller;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29874239,"reputation":1,"user_id":22894871,"display_name":"Daniele "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699652794,"creation_date":1699642848,"question_id":77462302,"body_markdown":"I&#39;m developing a game, written in java swing.\r\nI create a class MainGUI that extends JFrame, to contain the multiple screens of the application. In other classes, I create different JPanels, like StartPanel and GamePanel, that are inserted during execution in the MainGUI. In the StartPanel, when the user entered the nickname, a button allows to switch to GamePanel.\r\n\r\nThe problem is that I can&#39;t switch panels.\r\nI try to use CardLayout, but when I press a button in a panel, I can&#39;t handle the event in the MainGUI and show a different panel.\r\n\r\nI used the MVC design pattern, so there are 3 packages (controller, model, view) that communicate with each other thanks to the classes ControllerForModel, ControllerForView, View and Model, that implement the relevant interface.\r\n\r\nThe application is started thanks to the class Main in controller package.\r\n\r\n\r\n```\r\npackage frogger.view;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Container;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\npublic class MainGUI extends JFrame {\r\n\r\n\t//---------------------------------------------------------------\r\n\t// STATIC FIELDS\r\n\t//---------------------------------------------------------------\r\n\t\r\n\tpublic MainGUI(String title) {\r\n\t\tsuper(title);\r\n\t\t\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t\tStartPanel startPane = new StartPanel();\r\n\t\t\r\n\t\tContainer contPane = this.getContentPane();\r\n\t\tcontPane.add(startPane);\r\n\r\n\t\tthis.pack();\r\n\t} //end constructor\r\n\t\r\n```\r\n\r\nThis is the code of MainGUI class, and it only shows the StartPanel.\r\n\r\n\r\n```\r\npackage frogger.view;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Component;\r\nimport java.awt.Container;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.GridBagLayout;\r\nimport java.awt.Image;\r\nimport java.awt.GridBagConstraints;\r\nimport java.awt.Insets;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport javax.swing.GroupLayout;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JButton;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextField;\r\n\r\npublic class StartPanel extends JPanel {\r\n\t\r\n\t//---------------------------------------------------------------\r\n\t// CONSTANTS FIELDS\r\n\t//---------------------------------------------------------------\r\n\tprivate final static String LOGO_PATH = &quot;img/logo.png&quot;;\r\n\t\r\n\t\r\n\t//---------------------------------------------------------------\r\n\t// STATIC FIELDS\r\n\t//---------------------------------------------------------------\r\n\tprivate static Image logoImg;\r\n\t\r\n\tprivate static JLabel logoLabel;\r\n\tprivate static JLabel newGameLabel;\r\n\tprivate static JLabel loadGameLabel;\r\n\tprivate static JLabel newGameLabelInCurrentDisplayedPanel;\r\n\r\n\tprivate static JButton newGameButton;\r\n\tprivate static JButton loadGameButton;\r\n\tprivate static JButton newGameButtonInCurrentDisplayedPanel;\r\n\t\r\n\tprivate static JTextField nicknameTextField;\r\n\t\r\n\tprivate static JPanel currentDisplayedPanel;\r\n\t\r\n\tpublic StartPanel() {\r\n\t\t//todo\r\n\t\tsuper();\r\n\t\tthis.setLayout(new GridBagLayout());\r\n\t\t\r\n\t\tloadImage(LOGO_PATH);\r\n\t\tthis.logoLabel = new JLabel(new ImageIcon(this.logoImg.getScaledInstance(400, 200, Image.SCALE_SMOOTH)));\r\n\t\tlocateLogoLabel();\r\n\t\t\r\n\t\tthis.newGameLabel = new JLabel(&quot;Start a new game:&quot;);\r\n\t\tlocateNewGameLabel();\r\n\t\t\r\n\t\tthis.newGameButton = new JButton(&quot;New&quot;);\r\n\t\tthis.newGameButton.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\thandleShowNewGamePanelEvent();\r\n\t\t\t}\r\n\t\t});\r\n\t\tlocateNewGameButton();\r\n\t\t\r\n\t\tthis.loadGameLabel = new JLabel(&quot;Load a previously saved game:&quot;);\r\n\t\tlocateLoadGameLabel();\r\n\t\t\r\n\t\tthis.loadGameButton = new JButton(&quot;Load&quot;);\r\n\t\tthis.loadGameButton.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\thandleShowLoadGamePanelEvent(e);\r\n\t\t\t}\r\n\t\t});\r\n\t\tlocateLoadGameButton();\r\n\t\t\r\n\t\tthis.currentDisplayedPanel = new JPanel(new GridBagLayout());\r\n\t\tthis.currentDisplayedPanel.setPreferredSize(new Dimension(400, 100));\r\n\t\tlocateCurrentDisplayedPanel();\r\n\t\t\r\n\t} //end constructor\r\n\r\n\t\r\n\t//---------------------------------------------------------------\r\n\t// INSTANCE METHODS\r\n\t//---------------------------------------------------------------\r\n\tprivate void handleNewGameEvent() {\r\n\t\t//todo\r\n\t}\r\n\t\r\n\tprivate void handleLoadGameEvent() {\r\n\t\t//todo\t\r\n\t}\r\n\t\r\n\tprivate void handleShowNewGamePanelEvent() {\r\n\t\tSystem.out.println(&quot;New game button pressed&quot;);\r\n\t\t\r\n\t\tthis.newGameLabelInCurrentDisplayedPanel = new JLabel(&quot;Inserisci il tuo nickname:&quot;);\r\n\t\tlocateNewGameLabelInCurrentDisplayedPanel();\r\n\t\t\r\n\t\tthis.nicknameTextField = new JTextField(15);\r\n\t\tlocateNicknameTextFieldInCurrentDisplayedPanel();\r\n\t\t\r\n\t\tthis.newGameButtonInCurrentDisplayedPanel = new JButton(&quot;Conferma&quot;);\r\n\t\tthis.newGameButtonInCurrentDisplayedPanel.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\thandleNewGameEvent();\r\n\t\t\t}\r\n\t\t});\r\n\t\tlocateNewGameButtonInCurrentDisplayedPanel();\r\n\t\t\r\n\t\t\r\n\t\tthis.currentDisplayedPanel.revalidate();\r\n\t\tthis.currentDisplayedPanel.repaint();\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate void handleShowLoadGamePanelEvent() {\r\n\t\tSystem.out.println(&quot;Load game button pressed&quot;);\r\n\t}\r\n\t\r\n} //end class\r\n```\r\nThis is the code of StartPanel.\r\n\r\n\r\n```\r\npackage frogger.controller;\r\n\r\nimport frogger.view.MainGUI;\r\n\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tControllerForView.getInstance().openGameWindow();\r\n\t}\r\n}\r\n```\r\n\r\nAnd this is the code of the class Main that starts the application.\r\n\r\nThe question is: how can I switch from StartPanel to GamePanel when the user press newGameButton? In other words, how can I implement the method handleNewGameEvent() to dialogue with the MainGUI?\r\n\r\nThanks everyone in advance\r\n\r\n\r\n\r\nI tried to use CardLayout in MainGUI to show a panel and another, but I don&#39;t know how to communicate to MainGUI that has to switch panel when the user clicks on a button in a panel describe with an external class.","title":"How to switch from a JPanel to another","body":"<p>I'm developing a game, written in java swing.\nI create a class MainGUI that extends JFrame, to contain the multiple screens of the application. In other classes, I create different JPanels, like StartPanel and GamePanel, that are inserted during execution in the MainGUI. In the StartPanel, when the user entered the nickname, a button allows to switch to GamePanel.</p>\n<p>The problem is that I can't switch panels.\nI try to use CardLayout, but when I press a button in a panel, I can't handle the event in the MainGUI and show a different panel.</p>\n<p>I used the MVC design pattern, so there are 3 packages (controller, model, view) that communicate with each other thanks to the classes ControllerForModel, ControllerForView, View and Model, that implement the relevant interface.</p>\n<p>The application is started thanks to the class Main in controller package.</p>\n<pre><code>package frogger.view;\n\nimport java.awt.Color;\nimport java.awt.Container;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class MainGUI extends JFrame {\n\n    //---------------------------------------------------------------\n    // STATIC FIELDS\n    //---------------------------------------------------------------\n    \n    public MainGUI(String title) {\n        super(title);\n        \n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        StartPanel startPane = new StartPanel();\n        \n        Container contPane = this.getContentPane();\n        contPane.add(startPane);\n\n        this.pack();\n    } //end constructor\n    \n</code></pre>\n<p>This is the code of MainGUI class, and it only shows the StartPanel.</p>\n<pre><code>package frogger.view;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.GridBagLayout;\nimport java.awt.Image;\nimport java.awt.GridBagConstraints;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.swing.GroupLayout;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.imageio.ImageIO;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\n\npublic class StartPanel extends JPanel {\n    \n    //---------------------------------------------------------------\n    // CONSTANTS FIELDS\n    //---------------------------------------------------------------\n    private final static String LOGO_PATH = &quot;img/logo.png&quot;;\n    \n    \n    //---------------------------------------------------------------\n    // STATIC FIELDS\n    //---------------------------------------------------------------\n    private static Image logoImg;\n    \n    private static JLabel logoLabel;\n    private static JLabel newGameLabel;\n    private static JLabel loadGameLabel;\n    private static JLabel newGameLabelInCurrentDisplayedPanel;\n\n    private static JButton newGameButton;\n    private static JButton loadGameButton;\n    private static JButton newGameButtonInCurrentDisplayedPanel;\n    \n    private static JTextField nicknameTextField;\n    \n    private static JPanel currentDisplayedPanel;\n    \n    public StartPanel() {\n        //todo\n        super();\n        this.setLayout(new GridBagLayout());\n        \n        loadImage(LOGO_PATH);\n        this.logoLabel = new JLabel(new ImageIcon(this.logoImg.getScaledInstance(400, 200, Image.SCALE_SMOOTH)));\n        locateLogoLabel();\n        \n        this.newGameLabel = new JLabel(&quot;Start a new game:&quot;);\n        locateNewGameLabel();\n        \n        this.newGameButton = new JButton(&quot;New&quot;);\n        this.newGameButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                handleShowNewGamePanelEvent();\n            }\n        });\n        locateNewGameButton();\n        \n        this.loadGameLabel = new JLabel(&quot;Load a previously saved game:&quot;);\n        locateLoadGameLabel();\n        \n        this.loadGameButton = new JButton(&quot;Load&quot;);\n        this.loadGameButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                handleShowLoadGamePanelEvent(e);\n            }\n        });\n        locateLoadGameButton();\n        \n        this.currentDisplayedPanel = new JPanel(new GridBagLayout());\n        this.currentDisplayedPanel.setPreferredSize(new Dimension(400, 100));\n        locateCurrentDisplayedPanel();\n        \n    } //end constructor\n\n    \n    //---------------------------------------------------------------\n    // INSTANCE METHODS\n    //---------------------------------------------------------------\n    private void handleNewGameEvent() {\n        //todo\n    }\n    \n    private void handleLoadGameEvent() {\n        //todo  \n    }\n    \n    private void handleShowNewGamePanelEvent() {\n        System.out.println(&quot;New game button pressed&quot;);\n        \n        this.newGameLabelInCurrentDisplayedPanel = new JLabel(&quot;Inserisci il tuo nickname:&quot;);\n        locateNewGameLabelInCurrentDisplayedPanel();\n        \n        this.nicknameTextField = new JTextField(15);\n        locateNicknameTextFieldInCurrentDisplayedPanel();\n        \n        this.newGameButtonInCurrentDisplayedPanel = new JButton(&quot;Conferma&quot;);\n        this.newGameButtonInCurrentDisplayedPanel.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                handleNewGameEvent();\n            }\n        });\n        locateNewGameButtonInCurrentDisplayedPanel();\n        \n        \n        this.currentDisplayedPanel.revalidate();\n        this.currentDisplayedPanel.repaint();\n        \n    }\n    \n    private void handleShowLoadGamePanelEvent() {\n        System.out.println(&quot;Load game button pressed&quot;);\n    }\n    \n} //end class\n</code></pre>\n<p>This is the code of StartPanel.</p>\n<pre><code>package frogger.controller;\n\nimport frogger.view.MainGUI;\n\npublic class Main {\n    \n    public static void main(String[] args) {\n        ControllerForView.getInstance().openGameWindow();\n    }\n}\n</code></pre>\n<p>And this is the code of the class Main that starts the application.</p>\n<p>The question is: how can I switch from StartPanel to GamePanel when the user press newGameButton? In other words, how can I implement the method handleNewGameEvent() to dialogue with the MainGUI?</p>\n<p>Thanks everyone in advance</p>\n<p>I tried to use CardLayout in MainGUI to show a panel and another, but I don't know how to communicate to MainGUI that has to switch panel when the user clicks on a button in a panel describe with an external class.</p>\n"},{"tags":["java","swing","serialization","imageicon"],"comments":[{"owner":{"account_id":203953,"reputation":5113,"user_id":451894,"accept_rate":53,"display_name":"upog"},"score":0,"creation_date":1382589038,"post_id":19556932,"comment_id":29020642,"body_markdown":"try serialization for persisting java object","body":"try serialization for persisting java object"},{"owner":{"account_id":2830385,"reputation":735,"user_id":2432086,"accept_rate":80,"display_name":"Ashish"},"score":0,"creation_date":1382589228,"post_id":19556932,"comment_id":29020686,"body_markdown":"you can save the state of each cell and retrieve it later. or as @upog    said serialize the object and store it in database.","body":"you can save the state of each cell and retrieve it later. or as @upog    said serialize the object and store it in database."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1699652120,"creation_date":1382589501,"answer_id":19557052,"question_id":19556932,"body_markdown":"There are any number of possible choices...\r\n\r\n## You could ##\r\n\r\nUse the `Properties` API, which provides save and load functionality.\r\n\r\nThe API works like a `Map`, allowing you to store key/value pairs, which you can save and load as required.\r\n\r\nThe API only allows you to store `String` values, so you would need to convert non-String values manually.\r\n\r\nJust remember to save them as the API does not automatically persist the changes\r\n\r\nTake a look at [Properties](http://docs.oracle.com/javase/tutorial/essential/environment/properties.html) for more details.\r\n\r\n## You could ##\r\n\r\nRoll you own XML file or use something like [JAXB](http://docs.oracle.com/javase/tutorial/jaxb/intro/) which allows you to bind properties of object and export/import them to/from XML\r\n\r\nThis approach would be more flexible then using `Properties`, but introduces a level of complexity\r\n\r\n## You Could ##\r\n\r\nUse the [`Preferences`](http://docs.oracle.com/javase/7/docs/api/java/util/prefs/Preferences.html) API, which allows you to store `String` and primitive values, with out the need to perform any type of converstion.\r\n\r\nThe `Preferences` API also automatically loads and stores it&#39;s content, but it will do so where it wants to, so you lose control over where the content is stored.\r\n\r\n## You Could ##\r\n\r\nUse a stand alone/single user database like [H2](http://www.h2database.com/html/main.html) or [HSQLDB](http://hsqldb.org/) for example.  It&#39;s a little more complicated but does take care of the basic storage requirements.\r\n\r\nIt would also require additional time to update should you change your requirements, over something like using `Properties` or `Preferences` and might be a little overkill if all you are storing is the cell data...IMHO\r\n\r\n## You Could ##\r\n\r\nTry using object serialization, but the API was never meant for the long term storage of object states and carries its own bag of problems and I would personally avoid it, but that&#39;s me.","title":"How can I save the state of my program and then load it?","body":"<p>There are any number of possible choices...</p>\n<h2>You could</h2>\n<p>Use the <code>Properties</code> API, which provides save and load functionality.</p>\n<p>The API works like a <code>Map</code>, allowing you to store key/value pairs, which you can save and load as required.</p>\n<p>The API only allows you to store <code>String</code> values, so you would need to convert non-String values manually.</p>\n<p>Just remember to save them as the API does not automatically persist the changes</p>\n<p>Take a look at <a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/properties.html\" rel=\"nofollow noreferrer\">Properties</a> for more details.</p>\n<h2>You could</h2>\n<p>Roll you own XML file or use something like <a href=\"http://docs.oracle.com/javase/tutorial/jaxb/intro/\" rel=\"nofollow noreferrer\">JAXB</a> which allows you to bind properties of object and export/import them to/from XML</p>\n<p>This approach would be more flexible then using <code>Properties</code>, but introduces a level of complexity</p>\n<h2>You Could</h2>\n<p>Use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/prefs/Preferences.html\" rel=\"nofollow noreferrer\"><code>Preferences</code></a> API, which allows you to store <code>String</code> and primitive values, with out the need to perform any type of converstion.</p>\n<p>The <code>Preferences</code> API also automatically loads and stores it's content, but it will do so where it wants to, so you lose control over where the content is stored.</p>\n<h2>You Could</h2>\n<p>Use a stand alone/single user database like <a href=\"http://www.h2database.com/html/main.html\" rel=\"nofollow noreferrer\">H2</a> or <a href=\"http://hsqldb.org/\" rel=\"nofollow noreferrer\">HSQLDB</a> for example.  It's a little more complicated but does take care of the basic storage requirements.</p>\n<p>It would also require additional time to update should you change your requirements, over something like using <code>Properties</code> or <code>Preferences</code> and might be a little overkill if all you are storing is the cell data...IMHO</p>\n<h2>You Could</h2>\n<p>Try using object serialization, but the API was never meant for the long term storage of object states and carries its own bag of problems and I would personally avoid it, but that's me.</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421044893,"creation_date":1421044893,"answer_id":27896617,"question_id":19556932,"body_markdown":"In a Java app., there are a great variety of ways to go about serializing app. data.  \r\n\r\n- For applets there are cookies.  \r\n- For apps. launched using JWS, the `PersistenceService`\r\n- Any app. might use the `Preferences` API.  \r\n\r\nAll those forms of serialization are meant for stuff that can be encoded into a String based name and value.  \r\n\r\n- A `Properties` file is also good for name/value type info.  \r\n- For more complex data I would create a bean and use `XMLEncoder`/`XMLDecoder`.  \r\n- A Zip file is good for serializing data that might be in many different forms (e.g. part XML, part Properties, some screenshot images..).\r\n\r\nIf using the properties, XML or Zip archive, a good place to save the info. is a sub-directory of `user.home`.  It is reproducible and the app. should have read/write permissions.","title":"How can I save the state of my program and then load it?","body":"<p>In a Java app., there are a great variety of ways to go about serializing app. data.  </p>\n\n<ul>\n<li>For applets there are cookies.  </li>\n<li>For apps. launched using JWS, the <code>PersistenceService</code></li>\n<li>Any app. might use the <code>Preferences</code> API.  </li>\n</ul>\n\n<p>All those forms of serialization are meant for stuff that can be encoded into a String based name and value.  </p>\n\n<ul>\n<li>A <code>Properties</code> file is also good for name/value type info.  </li>\n<li>For more complex data I would create a bean and use <code>XMLEncoder</code>/<code>XMLDecoder</code>.  </li>\n<li>A Zip file is good for serializing data that might be in many different forms (e.g. part XML, part Properties, some screenshot images..).</li>\n</ul>\n\n<p>If using the properties, XML or Zip archive, a good place to save the info. is a sub-directory of <code>user.home</code>.  It is reproducible and the app. should have read/write permissions.</p>\n"}],"owner":{"account_id":3482424,"reputation":11,"user_id":2914101,"display_name":"josh sanders"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2976,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699652120,"creation_date":1382588880,"question_id":19556932,"body_markdown":"I&#39;m trying to save and reload the state of my Swing program, which in this case is a Minesweeper game. My code for the board is below.\r\n\r\n    package mines;\r\n\r\n    import java.awt.Graphics;\r\n    import java.awt.Image;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    \r\n    import java.util.Random;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Board extends JPanel {\r\n \r\n        public static void main (String[] args)  {}\r\n        private final int NUM_IMAGES = 13;\r\n        private final int CELL_SIZE = 15;\r\n\r\n        private final int COVER_FOR_CELL = 10;\r\n        private final int MARK_FOR_CELL = 10;\r\n        private final int EMPTY_CELL = 0;\r\n        private final int MINE_CELL = 9;\r\n        private final int COVERED_MINE_CELL = MINE_CELL + COVER_FOR_CELL;\r\n        private final int MARKED_MINE_CELL = COVERED_MINE_CELL + MARK_FOR_CELL;\r\n\r\n        private final int DRAW_MINE = 9;\r\n        private final int DRAW_COVER = 10;\r\n        private final int DRAW_MARK = 11;\r\n        private final int DRAW_WRONG_MARK = 12;\r\n\r\n        private int[] field;\r\n        private boolean inGame;\r\n        private int mines_left;\r\n        private Image[] img;\r\n        private int mines = 40;\r\n        private int rows = 16;\r\n        private int cols = 16;\r\n        private int all_cells;\r\n        private JLabel statusbar;\r\n\r\n        public Board(JLabel statusbar) {\r\n    \r\n            this.statusbar = statusbar;\r\n\r\n            img = new Image[NUM_IMAGES];\r\n\r\n            for (int i = 0; i &lt; NUM_IMAGES; i++) {\r\n                img[i] =\r\n                    (new ImageIcon(this.getClass().getResource((i)\r\n                        + &quot;.png&quot;))).getImage();\r\n            }\r\n\r\n            setDoubleBuffered(true);\r\n    \r\n            addMouseListener(new MinesAdapter());\r\n        \r\n            newGame();\r\n        }\r\n\r\n\r\n        public void newGame() {\r\n\r\n            Random random;\r\n            int current_col;\r\n\r\n            int i = 0;\r\n            int position = 0;\r\n            int cell = 0;\r\n\r\n            random = new Random();\r\n            inGame = true;\r\n        mines_left = mines;\r\n\r\n        all_cells = rows * cols;\r\n        field = new int[all_cells];\r\n        \r\n        for (i = 0; i &lt; all_cells; i++)\r\n            field[i] = COVER_FOR_CELL;\r\n\r\n        statusbar.setText(Integer.toString(mines_left));\r\n\r\n\r\n        i = 0;\r\n        while (i &lt; mines) {\r\n\r\n            position = (int) (all_cells * random.nextDouble());\r\n\r\n            if ((position &lt; all_cells) &amp;&amp;\r\n                (field[position] != COVERED_MINE_CELL)) {\r\n\r\n\r\n                current_col = position % cols;\r\n                field[position] = COVERED_MINE_CELL;\r\n                i++;\r\n\r\n                if (current_col &gt; 0) { \r\n                    cell = position - 1 - cols;\r\n                    if (cell &gt;= 0)\r\n                        if (field[cell] != COVERED_MINE_CELL)\r\n                            field[cell] += 1;\r\n                    cell = position - 1;\r\n                    if (cell &gt;= 0)\r\n                        if (field[cell] != COVERED_MINE_CELL)\r\n                            field[cell] += 1;\r\n\r\n                    cell = position + cols - 1;\r\n                    if (cell &lt; all_cells)\r\n                        if (field[cell] != COVERED_MINE_CELL)\r\n                            field[cell] += 1;\r\n                }\r\n\r\n                cell = position - cols;\r\n                if (cell &gt;= 0)\r\n                    if (field[cell] != COVERED_MINE_CELL)\r\n                        field[cell] += 1;\r\n                cell = position + cols;\r\n                if (cell &lt; all_cells)\r\n                    if (field[cell] != COVERED_MINE_CELL)\r\n                        field[cell] += 1;\r\n\r\n                if (current_col &lt; (cols - 1)) {\r\n                    cell = position - cols + 1;\r\n                    if (cell &gt;= 0)\r\n                        if (field[cell] != COVERED_MINE_CELL)\r\n                            field[cell] += 1;\r\n                    cell = position + cols + 1;\r\n                    if (cell &lt; all_cells)\r\n                        if (field[cell] != COVERED_MINE_CELL)\r\n                            field[cell] += 1;\r\n                    cell = position + 1;\r\n                    if (cell &lt; all_cells)\r\n                        if (field[cell] != COVERED_MINE_CELL)\r\n                            field[cell] += 1;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public void find_empty_cells(int j) {\r\n\r\n        int current_col = j % cols;\r\n        int cell;\r\n\r\n        if (current_col &gt; 0) { \r\n            cell = j - cols - 1;\r\n            if (cell &gt;= 0)\r\n                if (field[cell] &gt; MINE_CELL) {\r\n                    field[cell] -= COVER_FOR_CELL;\r\n                    if (field[cell] == EMPTY_CELL)\r\n                        find_empty_cells(cell);\r\n                }\r\n\r\n            cell = j - 1;\r\n            if (cell &gt;= 0)\r\n                if (field[cell] &gt; MINE_CELL) {\r\n                    field[cell] -= COVER_FOR_CELL;\r\n                    if (field[cell] == EMPTY_CELL)\r\n                        find_empty_cells(cell);\r\n                }\r\n\r\n            cell = j + cols - 1;\r\n            if (cell &lt; all_cells)\r\n                if (field[cell] &gt; MINE_CELL) {\r\n                    field[cell] -= COVER_FOR_CELL;\r\n                    if (field[cell] == EMPTY_CELL)\r\n                        find_empty_cells(cell);\r\n                }\r\n        }\r\n\r\n          cell = j - cols;\r\n        if (cell &gt;= 0)\r\n            if (field[cell] &gt; MINE_CELL) {\r\n                field[cell] -= COVER_FOR_CELL;\r\n                if (field[cell] == EMPTY_CELL)\r\n                    find_empty_cells(cell);\r\n            }\r\n\r\n           cell = j + cols;\r\n           if (cell &lt; all_cells)\r\n            if (field[cell] &gt; MINE_CELL) {\r\n                field[cell] -= COVER_FOR_CELL;\r\n                if (field[cell] == EMPTY_CELL)\r\n                    find_empty_cells(cell);\r\n               }\r\n\r\n              if (current_col &lt; (cols - 1)) {\r\n               cell = j - cols + 1;\r\n                 if (cell &gt;= 0)\r\n                   if (field[cell] &gt; MINE_CELL) {\r\n                    field[cell] -= COVER_FOR_CELL;\r\n                    if (field[cell] == EMPTY_CELL)\r\n                        find_empty_cells(cell);\r\n                }\r\n\r\n               cell = j + cols + 1;\r\n                if (cell &lt; all_cells)\r\n                   if (field[cell] &gt; MINE_CELL) {\r\n                    field[cell] -= COVER_FOR_CELL;\r\n                    if (field[cell] == EMPTY_CELL)\r\n                        find_empty_cells(cell);\r\n                }\r\n\r\n              cell = j + 1;\r\n               if (cell &lt; all_cells)\r\n                if (field[cell] &gt; MINE_CELL) {\r\n                    field[cell] -= COVER_FOR_CELL;\r\n                    if (field[cell] == EMPTY_CELL)\r\n                        find_empty_cells(cell);\r\n                   }\r\n            }\r\n \r\n           }\r\n\r\n          public void paint(Graphics g) {\r\n\r\n           int cell = 0;\r\n            int uncover = 0;\r\n\r\n\r\n            for (int i = 0; i &lt; rows; i++) {\r\n            for (int j = 0; j &lt; cols; j++) {\r\n\r\n                cell = field[(i * cols) + j];\r\n\r\n                if (inGame &amp;&amp; cell == MINE_CELL)\r\n                    inGame = false;\r\n\r\n                if (!inGame) {\r\n                    if (cell == COVERED_MINE_CELL) {\r\n                        cell = DRAW_MINE;\r\n                    } else if (cell == MARKED_MINE_CELL) {\r\n                        cell = DRAW_MARK;\r\n                    } else if (cell &gt; COVERED_MINE_CELL) {\r\n                        cell = DRAW_WRONG_MARK;\r\n                    } else if (cell &gt; MINE_CELL) {\r\n                        cell = DRAW_COVER;\r\n                    }\r\n\r\n\r\n                } else {\r\n                    if (cell &gt; COVERED_MINE_CELL)\r\n                        cell = DRAW_MARK;\r\n                    else if (cell &gt; MINE_CELL) {\r\n                        cell = DRAW_COVER;\r\n                        uncover++;\r\n                    }\r\n                }\r\n\r\n                g.drawImage(img[cell], (j * CELL_SIZE),\r\n                    (i * CELL_SIZE), this);\r\n            }\r\n           }\r\n\r\n\r\n          if (uncover == 0 &amp;&amp; inGame) {\r\n            inGame = false;\r\n            statusbar.setText(&quot;Game won&quot;);\r\n          } else if (!inGame)\r\n            statusbar.setText(&quot;Game lost&quot;);\r\n           }\r\n     \r\n\r\n\r\n\r\n         class MinesAdapter extends MouseAdapter {\r\n           public void mousePressed(MouseEvent e) {\r\n\r\n            int x = e.getX();\r\n            int y = e.getY();\r\n\r\n            int cCol = x / CELL_SIZE;\r\n            int cRow = y / CELL_SIZE;\r\n\r\n            boolean rep = false;\r\n\r\n\r\n              if (!inGame) {\r\n                newGame();\r\n                repaint();\r\n              }\r\n\r\n \r\n             if ((x &lt; cols * CELL_SIZE) &amp;&amp; (y &lt; rows * CELL_SIZE)) {\r\n \r\n                if (e.getButton() == MouseEvent.BUTTON3) {\r\n\r\n                    if (field[(cRow * cols) + cCol] &gt; MINE_CELL) {\r\n                        rep = true;\r\n\r\n                        if (field[(cRow * cols) + cCol] &lt;= COVERED_MINE_CELL) {\r\n                            if (mines_left &gt; 0) {\r\n                                field[(cRow * cols) + cCol] += MARK_FOR_CELL;\r\n                                mines_left--;\r\n                                statusbar.setText(Integer.toString(mines_left));\r\n                            } else\r\n                                statusbar.setText(&quot;No marks left&quot;);\r\n                        } else {\r\n\r\n                            field[(cRow * cols) + cCol] -= MARK_FOR_CELL;\r\n                            mines_left++;\r\n                            statusbar.setText(Integer.toString(mines_left));\r\n                        }\r\n                    }\r\n\r\n                } else {\r\n\r\n                    if (field[(cRow * cols) + cCol] &gt; COVERED_MINE_CELL) {\r\n                        return;\r\n                    }\r\n\r\n                    if ((field[(cRow * cols) + cCol] &gt; MINE_CELL) &amp;&amp;\r\n                        (field[(cRow * cols) + cCol] &lt; MARKED_MINE_CELL)) {\r\n\r\n                        field[(cRow * cols) + cCol] -= COVER_FOR_CELL;\r\n                        rep = true;\r\n\r\n                        if (field[(cRow * cols) + cCol] == MINE_CELL)\r\n                            inGame = false;\r\n                        if (field[(cRow * cols) + cCol] == EMPTY_CELL)\r\n                            find_empty_cells((cRow * cols) + cCol);\r\n                    }\r\n                }\r\n\r\n                if (rep)\r\n                    repaint();\r\n\r\n                }\r\n            }\r\n        }\r\n    }","title":"How can I save the state of my program and then load it?","body":"<p>I'm trying to save and reload the state of my Swing program, which in this case is a Minesweeper game. My code for the board is below.</p>\n\n<pre><code>package mines;\n\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\nimport java.util.Random;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.ImageIcon;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class Board extends JPanel {\n\n    public static void main (String[] args)  {}\n    private final int NUM_IMAGES = 13;\n    private final int CELL_SIZE = 15;\n\n    private final int COVER_FOR_CELL = 10;\n    private final int MARK_FOR_CELL = 10;\n    private final int EMPTY_CELL = 0;\n    private final int MINE_CELL = 9;\n    private final int COVERED_MINE_CELL = MINE_CELL + COVER_FOR_CELL;\n    private final int MARKED_MINE_CELL = COVERED_MINE_CELL + MARK_FOR_CELL;\n\n    private final int DRAW_MINE = 9;\n    private final int DRAW_COVER = 10;\n    private final int DRAW_MARK = 11;\n    private final int DRAW_WRONG_MARK = 12;\n\n    private int[] field;\n    private boolean inGame;\n    private int mines_left;\n    private Image[] img;\n    private int mines = 40;\n    private int rows = 16;\n    private int cols = 16;\n    private int all_cells;\n    private JLabel statusbar;\n\n    public Board(JLabel statusbar) {\n\n        this.statusbar = statusbar;\n\n        img = new Image[NUM_IMAGES];\n\n        for (int i = 0; i &lt; NUM_IMAGES; i++) {\n            img[i] =\n                (new ImageIcon(this.getClass().getResource((i)\n                    + \".png\"))).getImage();\n        }\n\n        setDoubleBuffered(true);\n\n        addMouseListener(new MinesAdapter());\n\n        newGame();\n    }\n\n\n    public void newGame() {\n\n        Random random;\n        int current_col;\n\n        int i = 0;\n        int position = 0;\n        int cell = 0;\n\n        random = new Random();\n        inGame = true;\n    mines_left = mines;\n\n    all_cells = rows * cols;\n    field = new int[all_cells];\n\n    for (i = 0; i &lt; all_cells; i++)\n        field[i] = COVER_FOR_CELL;\n\n    statusbar.setText(Integer.toString(mines_left));\n\n\n    i = 0;\n    while (i &lt; mines) {\n\n        position = (int) (all_cells * random.nextDouble());\n\n        if ((position &lt; all_cells) &amp;&amp;\n            (field[position] != COVERED_MINE_CELL)) {\n\n\n            current_col = position % cols;\n            field[position] = COVERED_MINE_CELL;\n            i++;\n\n            if (current_col &gt; 0) { \n                cell = position - 1 - cols;\n                if (cell &gt;= 0)\n                    if (field[cell] != COVERED_MINE_CELL)\n                        field[cell] += 1;\n                cell = position - 1;\n                if (cell &gt;= 0)\n                    if (field[cell] != COVERED_MINE_CELL)\n                        field[cell] += 1;\n\n                cell = position + cols - 1;\n                if (cell &lt; all_cells)\n                    if (field[cell] != COVERED_MINE_CELL)\n                        field[cell] += 1;\n            }\n\n            cell = position - cols;\n            if (cell &gt;= 0)\n                if (field[cell] != COVERED_MINE_CELL)\n                    field[cell] += 1;\n            cell = position + cols;\n            if (cell &lt; all_cells)\n                if (field[cell] != COVERED_MINE_CELL)\n                    field[cell] += 1;\n\n            if (current_col &lt; (cols - 1)) {\n                cell = position - cols + 1;\n                if (cell &gt;= 0)\n                    if (field[cell] != COVERED_MINE_CELL)\n                        field[cell] += 1;\n                cell = position + cols + 1;\n                if (cell &lt; all_cells)\n                    if (field[cell] != COVERED_MINE_CELL)\n                        field[cell] += 1;\n                cell = position + 1;\n                if (cell &lt; all_cells)\n                    if (field[cell] != COVERED_MINE_CELL)\n                        field[cell] += 1;\n            }\n        }\n    }\n}\n\n\npublic void find_empty_cells(int j) {\n\n    int current_col = j % cols;\n    int cell;\n\n    if (current_col &gt; 0) { \n        cell = j - cols - 1;\n        if (cell &gt;= 0)\n            if (field[cell] &gt; MINE_CELL) {\n                field[cell] -= COVER_FOR_CELL;\n                if (field[cell] == EMPTY_CELL)\n                    find_empty_cells(cell);\n            }\n\n        cell = j - 1;\n        if (cell &gt;= 0)\n            if (field[cell] &gt; MINE_CELL) {\n                field[cell] -= COVER_FOR_CELL;\n                if (field[cell] == EMPTY_CELL)\n                    find_empty_cells(cell);\n            }\n\n        cell = j + cols - 1;\n        if (cell &lt; all_cells)\n            if (field[cell] &gt; MINE_CELL) {\n                field[cell] -= COVER_FOR_CELL;\n                if (field[cell] == EMPTY_CELL)\n                    find_empty_cells(cell);\n            }\n    }\n\n      cell = j - cols;\n    if (cell &gt;= 0)\n        if (field[cell] &gt; MINE_CELL) {\n            field[cell] -= COVER_FOR_CELL;\n            if (field[cell] == EMPTY_CELL)\n                find_empty_cells(cell);\n        }\n\n       cell = j + cols;\n       if (cell &lt; all_cells)\n        if (field[cell] &gt; MINE_CELL) {\n            field[cell] -= COVER_FOR_CELL;\n            if (field[cell] == EMPTY_CELL)\n                find_empty_cells(cell);\n           }\n\n          if (current_col &lt; (cols - 1)) {\n           cell = j - cols + 1;\n             if (cell &gt;= 0)\n               if (field[cell] &gt; MINE_CELL) {\n                field[cell] -= COVER_FOR_CELL;\n                if (field[cell] == EMPTY_CELL)\n                    find_empty_cells(cell);\n            }\n\n           cell = j + cols + 1;\n            if (cell &lt; all_cells)\n               if (field[cell] &gt; MINE_CELL) {\n                field[cell] -= COVER_FOR_CELL;\n                if (field[cell] == EMPTY_CELL)\n                    find_empty_cells(cell);\n            }\n\n          cell = j + 1;\n           if (cell &lt; all_cells)\n            if (field[cell] &gt; MINE_CELL) {\n                field[cell] -= COVER_FOR_CELL;\n                if (field[cell] == EMPTY_CELL)\n                    find_empty_cells(cell);\n               }\n        }\n\n       }\n\n      public void paint(Graphics g) {\n\n       int cell = 0;\n        int uncover = 0;\n\n\n        for (int i = 0; i &lt; rows; i++) {\n        for (int j = 0; j &lt; cols; j++) {\n\n            cell = field[(i * cols) + j];\n\n            if (inGame &amp;&amp; cell == MINE_CELL)\n                inGame = false;\n\n            if (!inGame) {\n                if (cell == COVERED_MINE_CELL) {\n                    cell = DRAW_MINE;\n                } else if (cell == MARKED_MINE_CELL) {\n                    cell = DRAW_MARK;\n                } else if (cell &gt; COVERED_MINE_CELL) {\n                    cell = DRAW_WRONG_MARK;\n                } else if (cell &gt; MINE_CELL) {\n                    cell = DRAW_COVER;\n                }\n\n\n            } else {\n                if (cell &gt; COVERED_MINE_CELL)\n                    cell = DRAW_MARK;\n                else if (cell &gt; MINE_CELL) {\n                    cell = DRAW_COVER;\n                    uncover++;\n                }\n            }\n\n            g.drawImage(img[cell], (j * CELL_SIZE),\n                (i * CELL_SIZE), this);\n        }\n       }\n\n\n      if (uncover == 0 &amp;&amp; inGame) {\n        inGame = false;\n        statusbar.setText(\"Game won\");\n      } else if (!inGame)\n        statusbar.setText(\"Game lost\");\n       }\n\n\n\n\n     class MinesAdapter extends MouseAdapter {\n       public void mousePressed(MouseEvent e) {\n\n        int x = e.getX();\n        int y = e.getY();\n\n        int cCol = x / CELL_SIZE;\n        int cRow = y / CELL_SIZE;\n\n        boolean rep = false;\n\n\n          if (!inGame) {\n            newGame();\n            repaint();\n          }\n\n\n         if ((x &lt; cols * CELL_SIZE) &amp;&amp; (y &lt; rows * CELL_SIZE)) {\n\n            if (e.getButton() == MouseEvent.BUTTON3) {\n\n                if (field[(cRow * cols) + cCol] &gt; MINE_CELL) {\n                    rep = true;\n\n                    if (field[(cRow * cols) + cCol] &lt;= COVERED_MINE_CELL) {\n                        if (mines_left &gt; 0) {\n                            field[(cRow * cols) + cCol] += MARK_FOR_CELL;\n                            mines_left--;\n                            statusbar.setText(Integer.toString(mines_left));\n                        } else\n                            statusbar.setText(\"No marks left\");\n                    } else {\n\n                        field[(cRow * cols) + cCol] -= MARK_FOR_CELL;\n                        mines_left++;\n                        statusbar.setText(Integer.toString(mines_left));\n                    }\n                }\n\n            } else {\n\n                if (field[(cRow * cols) + cCol] &gt; COVERED_MINE_CELL) {\n                    return;\n                }\n\n                if ((field[(cRow * cols) + cCol] &gt; MINE_CELL) &amp;&amp;\n                    (field[(cRow * cols) + cCol] &lt; MARKED_MINE_CELL)) {\n\n                    field[(cRow * cols) + cCol] -= COVER_FOR_CELL;\n                    rep = true;\n\n                    if (field[(cRow * cols) + cCol] == MINE_CELL)\n                        inGame = false;\n                    if (field[(cRow * cols) + cCol] == EMPTY_CELL)\n                        find_empty_cells((cRow * cols) + cCol);\n                }\n            }\n\n            if (rep)\n                repaint();\n\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1648014320,"post_id":71582304,"comment_id":126513565,"body_markdown":"You&#39;re printing all of the elements in your array, not just the `numElements` items you filled in.","body":"You&#39;re printing all of the elements in your array, not just the <code>numElements</code> items you filled in."},{"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"score":0,"creation_date":1648016091,"post_id":71582304,"comment_id":126513851,"body_markdown":"You had created an array of length 20. Maybe while testing the input you did not set numElements to 20 which your array expects. All the values in the array had been initialized with zeros and thats why when you check your output you get zeros as a start upto the index with the numbers you added. I have posted a solution with full explanation on the same.","body":"You had created an array of length 20. Maybe while testing the input you did not set numElements to 20 which your array expects. All the values in the array had been initialized with zeros and thats why when you check your output you get zeros as a start upto the index with the numbers you added. I have posted a solution with full explanation on the same."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699652230,"post_id":71582304,"comment_id":136563313,"body_markdown":"alternative, change the printing loop to: `for (i = numElements - 1; i &gt;= 0; --i) { System.out.print(userList[i] + &quot; &quot;);`","body":"alternative, change the printing loop to: <code>for (i = numElements - 1; i &gt;= 0; --i) { System.out.print(userList[i] + &quot; &quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":14544835,"reputation":981,"user_id":10505343,"display_name":"Wimukthi Rajapaksha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648014654,"creation_date":1648014654,"answer_id":71582380,"question_id":71582304,"body_markdown":"you have to create a list of size **numElements**,\r\n\r\n    int[] userList = new int[numElements];\r\n    for(i = 0;i &lt; numElements; ++i) {\r\n        userList[i] = scnr.nextInt(); \r\n    }\r\n    for (i = userList.length-1; i &gt;= 0; --i) {\r\n        System.out.print(userList[i] + &quot; &quot;); \r\n    }\r\n    System.out.println();","title":"How do you put an array in reverse order?","body":"<p>you have to create a list of size <strong>numElements</strong>,</p>\n<pre><code>int[] userList = new int[numElements];\nfor(i = 0;i &lt; numElements; ++i) {\n    userList[i] = scnr.nextInt(); \n}\nfor (i = userList.length-1; i &gt;= 0; --i) {\n    System.out.print(userList[i] + &quot; &quot;); \n}\nSystem.out.println();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":223457,"reputation":4755,"user_id":482682,"accept_rate":95,"display_name":"Lrrr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648014695,"creation_date":1648014695,"answer_id":71582388,"question_id":71582304,"body_markdown":"Your code is fine but you just need to read the number of element before creating your `userList` :\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class LabProgram {\r\n        public static void main(String[] args) {\r\n            Scanner scnr = new Scanner(System.in);\r\n            int numElements;                // Number of integers in user&#39;s list\r\n            numElements = scnr.nextInt();   // Input begins with number of integers that follow\r\n            int[] userList = new int[numElements];   // List of numElement integers specified by the user\r\n            int i;\r\n    \r\n    \r\n            for (i = 0; i &lt; numElements; ++i) {\r\n                userList[i] = scnr.nextInt();\r\n            }\r\n    \r\n            for (i = userList.length - 1; i &gt;= 0; --i) {\r\n                System.out.print(userList[i] + &quot; &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n    \r\n        }\r\n    }","title":"How do you put an array in reverse order?","body":"<p>Your code is fine but you just need to read the number of element before creating your <code>userList</code> :</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        int numElements;                // Number of integers in user's list\n        numElements = scnr.nextInt();   // Input begins with number of integers that follow\n        int[] userList = new int[numElements];   // List of numElement integers specified by the user\n        int i;\n\n\n        for (i = 0; i &lt; numElements; ++i) {\n            userList[i] = scnr.nextInt();\n        }\n\n        for (i = userList.length - 1; i &gt;= 0; --i) {\n            System.out.print(userList[i] + &quot; &quot;);\n        }\n\n        System.out.println();\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24655394,"reputation":1,"user_id":18552119,"display_name":"danger_punk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648015062,"creation_date":1648015062,"answer_id":71582440,"question_id":71582304,"body_markdown":"Your array size is 20 and your are trying to print whole array in reverse order which includes unfilled indexes also. so try to make array size as numElements and print it will work","title":"How do you put an array in reverse order?","body":"<p>Your array size is 20 and your are trying to print whole array in reverse order which includes unfilled indexes also. so try to make array size as numElements and print it will work</p>\n"},{"tags":[],"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648019507,"creation_date":1648015873,"answer_id":71582551,"question_id":71582304,"body_markdown":"# Explanation\r\nYou are getting zero maybe due to the array size declaration. You created an array with 20 as the size. But assuming you set the `numElements` to 10, that means that the input iteration will only loop 10 times thus only loading 10 positions in your array. \r\n\r\nAs you had defined an array with 20 indexes, the rest are initiated with a zero during array declaration. So assuming the iterations goes 10 times that means only 10 indexes will be updated and the other 10/20 left with their initial zeros.\r\n\r\nYou have to re-declare your array after getting a value for the `numElements` and set the `numElements` as the new array size. The code would look similar to below\r\n\r\n     Scanner scanner = new Scanner(System.in); // Create Scanner object\r\n     int[] userList = new int[0]; // Create int array\r\n     \r\n     int numElements = scanner.nextInt(); // Get number of elements\r\n\r\n     userList = new int[numElements]; // Re-declare array with new size\r\n\r\n# Solution\r\nThe full code in your approach is as below:\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scnr = new Scanner(System.in);\r\n\r\n\r\n        int numElements; // Number of integers in user&#39;s list int i;\r\n\r\n        System.out.println(&quot;Input length of the array&quot;);\r\n        numElements = scnr.nextInt();   // Input begins with number of integers that follow\r\n        int[] userList = new int[0];\r\n\r\n        // Check size value (number of elements)\r\n        if (numElements &gt; 0) {\r\n            userList = new int[numElements]; // Re-Declare array giving it a new size\r\n        } else {\r\n            System.out.println(&quot;This array size cannot be less than 1&quot;);\r\n        }\r\n\r\n        System.out.println();\r\n        for(int i = 0; i &lt; numElements; ++i) {\r\n\r\n            System.out.println(&quot;Input number at position &quot; + i);\r\n            userList[i] = scnr.nextInt();\r\n        }\r\n\r\n        for (int i = userList.length -1; i &gt;= 0; i--) {\r\n        //for (int i = userList.length-1; i &gt;= 0; --i) {\r\n            System.out.print(userList[i] + &quot; &quot;);\r\n        }\r\n\r\n        System.out.println();\r\n    }","title":"How do you put an array in reverse order?","body":"<h1>Explanation</h1>\n<p>You are getting zero maybe due to the array size declaration. You created an array with 20 as the size. But assuming you set the <code>numElements</code> to 10, that means that the input iteration will only loop 10 times thus only loading 10 positions in your array.</p>\n<p>As you had defined an array with 20 indexes, the rest are initiated with a zero during array declaration. So assuming the iterations goes 10 times that means only 10 indexes will be updated and the other 10/20 left with their initial zeros.</p>\n<p>You have to re-declare your array after getting a value for the <code>numElements</code> and set the <code>numElements</code> as the new array size. The code would look similar to below</p>\n<pre><code> Scanner scanner = new Scanner(System.in); // Create Scanner object\n int[] userList = new int[0]; // Create int array\n \n int numElements = scanner.nextInt(); // Get number of elements\n\n userList = new int[numElements]; // Re-declare array with new size\n</code></pre>\n<h1>Solution</h1>\n<p>The full code in your approach is as below:</p>\n<pre><code>public static void main(String[] args) {\n\n    Scanner scnr = new Scanner(System.in);\n\n\n    int numElements; // Number of integers in user's list int i;\n\n    System.out.println(&quot;Input length of the array&quot;);\n    numElements = scnr.nextInt();   // Input begins with number of integers that follow\n    int[] userList = new int[0];\n\n    // Check size value (number of elements)\n    if (numElements &gt; 0) {\n        userList = new int[numElements]; // Re-Declare array giving it a new size\n    } else {\n        System.out.println(&quot;This array size cannot be less than 1&quot;);\n    }\n\n    System.out.println();\n    for(int i = 0; i &lt; numElements; ++i) {\n\n        System.out.println(&quot;Input number at position &quot; + i);\n        userList[i] = scnr.nextInt();\n    }\n\n    for (int i = userList.length -1; i &gt;= 0; i--) {\n    //for (int i = userList.length-1; i &gt;= 0; --i) {\n        System.out.print(userList[i] + &quot; &quot;);\n    }\n\n    System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19477538,"reputation":129,"user_id":14248650,"display_name":"Rohan Jethwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648032525,"creation_date":1648032525,"answer_id":71585888,"question_id":71582304,"body_markdown":"In order to reduce the lines of code and use streams, the following code would work - \r\n\r\nAccept input numbers and store them in the array of size numElements. Use &quot;ArrayUtils&quot; to reverse the array. Details about the reverse() can be referred  [here][1].\r\n\r\n\r\n```\r\nScanner scnr = new Scanner(System.in);\r\nint numElements;                \r\nnumElements = scnr.nextInt();   \r\nint[] userList = new int[numElements];\r\n        \r\nfor (int i = 0; i &lt; numElements; ++i) \r\n    userList[i] = scnr.nextInt();\r\n\r\nArrayUtils.reverse(userList);\r\nArrays.stream(userList).forEach(number -&gt; System.out.print(number + &quot; &quot;));\r\n```\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ArrayUtils.html","title":"How do you put an array in reverse order?","body":"<p>In order to reduce the lines of code and use streams, the following code would work -</p>\n<p>Accept input numbers and store them in the array of size numElements. Use &quot;ArrayUtils&quot; to reverse the array. Details about the reverse() can be referred  <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ArrayUtils.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>Scanner scnr = new Scanner(System.in);\nint numElements;                \nnumElements = scnr.nextInt();   \nint[] userList = new int[numElements];\n        \nfor (int i = 0; i &lt; numElements; ++i) \n    userList[i] = scnr.nextInt();\n\nArrayUtils.reverse(userList);\nArrays.stream(userList).forEach(number -&gt; System.out.print(number + &quot; &quot;));\n</code></pre>\n"}],"owner":{"account_id":23569742,"reputation":43,"user_id":17610015,"display_name":"Lal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3458,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1699651654,"creation_date":1648013937,"question_id":71582304,"body_markdown":"I wrote this program in Java : Write a program that reads a list of integers and outputs those integers in reverse. The input begins with an integer indicating the number of integers that follow. For coding simplicity, follow each output integer by a comma, including the last one. Assume that the list will always contain fewer than 20 integers.\r\n\r\nEx: If the input is:\r\n\r\n    5 2 4 6 8 10\r\n    \r\n\r\nthe output is:\r\n\r\n    10,8,6,4,2\r\n\r\nAs you can see, this is my expected out^ However, I got `0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 10 8 6 4 2` as my output. What is wrong? \r\n\r\n    import java.util.Scanner;\r\n\r\n    public class LabProgram {\r\n        public static void main(String[] args) {\r\n            Scanner scnr = new Scanner(System.in);\r\n            int[] userList = new int[20];   // List of numElement integers specified by the user\r\n            int numElements;                // Number of integers in user&#39;s list\r\n            int i;\r\n    \r\n            numElements = scnr.nextInt();   // Input begins with number of integers that follow\r\n    \r\n            for (i = 0; i &lt; numElements; ++i) {\r\n                userList[i] = scnr.nextInt();\r\n            }\r\n    \r\n            for (i = userList.length - 1; i &gt;= 0; --i) {\r\n                System.out.print(userList[i] + &quot; &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n    \r\n        }\r\n    }\r\n\r\nI tried to ask a good question and I expect an answer to my question.","title":"How do you put an array in reverse order?","body":"<p>I wrote this program in Java : Write a program that reads a list of integers and outputs those integers in reverse. The input begins with an integer indicating the number of integers that follow. For coding simplicity, follow each output integer by a comma, including the last one. Assume that the list will always contain fewer than 20 integers.</p>\n<p>Ex: If the input is:</p>\n<pre><code>5 2 4 6 8 10\n</code></pre>\n<p>the output is:</p>\n<pre><code>10,8,6,4,2\n</code></pre>\n<p>As you can see, this is my expected out^ However, I got <code>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 10 8 6 4 2</code> as my output. What is wrong?</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        int[] userList = new int[20];   // List of numElement integers specified by the user\n        int numElements;                // Number of integers in user's list\n        int i;\n\n        numElements = scnr.nextInt();   // Input begins with number of integers that follow\n\n        for (i = 0; i &lt; numElements; ++i) {\n            userList[i] = scnr.nextInt();\n        }\n\n        for (i = userList.length - 1; i &gt;= 0; --i) {\n            System.out.print(userList[i] + &quot; &quot;);\n        }\n\n        System.out.println();\n\n    }\n}\n</code></pre>\n<p>I tried to ask a good question and I expect an answer to my question.</p>\n"},{"tags":["java","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":18239208,"reputation":149,"user_id":13276541,"display_name":"Ahmed Mera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699651470,"creation_date":1699651470,"answer_id":77462909,"question_id":77462186,"body_markdown":"The solution is\r\n```\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Person {\r\n    \r\n    private String name;\r\n    \r\n    @JsonDeserialize(using = OptinalDeserializer.class)\r\n    @Builder.Default\r\n    private Optional&lt;Integer&gt; age = Optional.empty();\r\n}\r\n\r\n``` \r\n\r\nCustom deserialization is \r\n```\r\npublic class OptionalIntegerDeserializer extends StdDeserializer&lt;Optional&lt;Integer&gt;&gt; {\r\n\r\n    protected OptionalIntegerDeserializer() {\r\n        super(Optional.class);\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;Integer&gt; deserialize(JsonParser parser, DeserializationContext context) {\r\n        if (parser.getValueAsInt() &gt; 0 ) {\r\n            return Optional.of(parser.getValueAsInt());\r\n        } else {\r\n            return Optional.empty();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nFirst test\r\n```\r\n public static void main(String[] args) throws JsonProcessingException {\r\n    String s = &quot;{\\&quot;name\\&quot;: \\&quot;harsh\\&quot;}&quot;;\r\n    Person p = JsonMapper.builder().build().readValue(s, Person.class);\r\n\r\n    System.out.println(p);\r\n }\r\n\r\n```\r\n\r\nOutput1 is: ``` Person(name=harsh, age=Optional.empty) ```\r\n\r\n\r\nSecond test\r\n```\r\n public static void main(String[] args) throws JsonProcessingException {\r\n    String s = &quot;{\\&quot;name\\&quot;: \\&quot;harsh\\&quot;, \\&quot;age\\&quot;: 19}&quot;;\r\n    Person p = JsonMapper.builder().build().readValue(s, Person.class);\r\n\r\n    System.out.println(p);\r\n }\r\n\r\n```\r\nOutput2 is: ``` Person(name=harsh, age=Optional[19]) ```\r\n\r\n\r\n\r\nI tried it and it works, would you try it and let me know if it works.","title":"Using Jackson with Optional to generate Optional.empty() when field is missing","body":"<p>The solution is</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Person {\n    \n    private String name;\n    \n    @JsonDeserialize(using = OptinalDeserializer.class)\n    @Builder.Default\n    private Optional&lt;Integer&gt; age = Optional.empty();\n}\n\n</code></pre>\n<p>Custom deserialization is</p>\n<pre><code>public class OptionalIntegerDeserializer extends StdDeserializer&lt;Optional&lt;Integer&gt;&gt; {\n\n    protected OptionalIntegerDeserializer() {\n        super(Optional.class);\n    }\n\n    @Override\n    public Optional&lt;Integer&gt; deserialize(JsonParser parser, DeserializationContext context) {\n        if (parser.getValueAsInt() &gt; 0 ) {\n            return Optional.of(parser.getValueAsInt());\n        } else {\n            return Optional.empty();\n        }\n    }\n}\n\n</code></pre>\n<p>First test</p>\n<pre><code> public static void main(String[] args) throws JsonProcessingException {\n    String s = &quot;{\\&quot;name\\&quot;: \\&quot;harsh\\&quot;}&quot;;\n    Person p = JsonMapper.builder().build().readValue(s, Person.class);\n\n    System.out.println(p);\n }\n\n</code></pre>\n<p>Output1 is: <code>Person(name=harsh, age=Optional.empty)</code></p>\n<p>Second test</p>\n<pre><code> public static void main(String[] args) throws JsonProcessingException {\n    String s = &quot;{\\&quot;name\\&quot;: \\&quot;harsh\\&quot;, \\&quot;age\\&quot;: 19}&quot;;\n    Person p = JsonMapper.builder().build().readValue(s, Person.class);\n\n    System.out.println(p);\n }\n\n</code></pre>\n<p>Output2 is: <code>Person(name=harsh, age=Optional[19])</code></p>\n<p>I tried it and it works, would you try it and let me know if it works.</p>\n"}],"owner":{"account_id":5794488,"reputation":1356,"user_id":4570698,"display_name":"harsh pamnani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77462909,"answer_count":1,"score":2,"last_activity_date":1699651470,"creation_date":1699641277,"question_id":77462186,"body_markdown":"I am using Jackson to convert a json string to java object. I have an Optional field in my class. Whenever I try to deserialize a string which is missing the optional field, it is generating `null` for that field instead of `Optional.empty()`.\r\n\r\nBelow is the code:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(new Jdk8Module());\r\n        Person1 p1 = mapper.readValue(&quot;{\\&quot;name\\&quot;: \\&quot;harsh\\&quot;}&quot;, Person1.class);\r\n        System.out.println(p1);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@EqualsAndHashCode\r\n@ToString\r\n@Getter\r\n@Builder\r\n@NoArgsConstructor(force = true)\r\npublic class Person1 {\r\n    public final String name;\r\n    public final Optional&lt;Integer&gt; age;\r\n\r\n    public Person1(String name, Optional&lt;Integer&gt; age) {\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n}\r\n```\r\n\r\nIt generate following output:\r\n```\r\nPerson1(name=harsh, age=null)\r\n```\r\n\r\nHowever, I want it to generate:\r\n```\r\nPerson1(name=harsh, age=Optional.empty)\r\n```\r\n\r\nI have also tried adding `OptionalIntegerDeserializer` customer deserializer as below, but it doesn&#39;t seem to work:\r\n\r\n```\r\npublic class Person1 {\r\n    public final String name;\r\n    @JsonDeserialize(using = OptionalIntegerDeserializer.class)\r\n    public final Optional&lt;Integer&gt; age;\r\n\r\n    public Person1(String name, Optional&lt;Integer&gt; age) {\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n\r\n    public static class OptionalIntegerDeserializer extends StdDeserializer&lt;Optional&lt;Integer&gt;&gt; {\r\n        public OptionalIntegerDeserializer() {\r\n            super(Optional.class);\r\n        }\r\n\r\n        @Override\r\n        public Optional&lt;Integer&gt; deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n            JsonNode node = p.readValueAsTree();\r\n            if (node.isNull()) {\r\n                return Optional.empty();\r\n            } else {\r\n                return Optional.of(node.intValue());\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIs there a way we can generate `Optional.empty` instead of `null` for the missing field?\r\n","title":"Using Jackson with Optional to generate Optional.empty() when field is missing","body":"<p>I am using Jackson to convert a json string to java object. I have an Optional field in my class. Whenever I try to deserialize a string which is missing the optional field, it is generating <code>null</code> for that field instead of <code>Optional.empty()</code>.</p>\n<p>Below is the code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new Jdk8Module());\n        Person1 p1 = mapper.readValue(&quot;{\\&quot;name\\&quot;: \\&quot;harsh\\&quot;}&quot;, Person1.class);\n        System.out.println(p1);\n    }\n}\n</code></pre>\n<pre><code>@EqualsAndHashCode\n@ToString\n@Getter\n@Builder\n@NoArgsConstructor(force = true)\npublic class Person1 {\n    public final String name;\n    public final Optional&lt;Integer&gt; age;\n\n    public Person1(String name, Optional&lt;Integer&gt; age) {\n        this.name = name;\n        this.age = age;\n    }\n}\n</code></pre>\n<p>It generate following output:</p>\n<pre><code>Person1(name=harsh, age=null)\n</code></pre>\n<p>However, I want it to generate:</p>\n<pre><code>Person1(name=harsh, age=Optional.empty)\n</code></pre>\n<p>I have also tried adding <code>OptionalIntegerDeserializer</code> customer deserializer as below, but it doesn't seem to work:</p>\n<pre><code>public class Person1 {\n    public final String name;\n    @JsonDeserialize(using = OptionalIntegerDeserializer.class)\n    public final Optional&lt;Integer&gt; age;\n\n    public Person1(String name, Optional&lt;Integer&gt; age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    public static class OptionalIntegerDeserializer extends StdDeserializer&lt;Optional&lt;Integer&gt;&gt; {\n        public OptionalIntegerDeserializer() {\n            super(Optional.class);\n        }\n\n        @Override\n        public Optional&lt;Integer&gt; deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n            JsonNode node = p.readValueAsTree();\n            if (node.isNull()) {\n                return Optional.empty();\n            } else {\n                return Optional.of(node.intValue());\n            }\n        }\n    }\n}\n</code></pre>\n<p>Is there a way we can generate <code>Optional.empty</code> instead of <code>null</code> for the missing field?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650976195,"post_id":72013981,"comment_id":127247052,"body_markdown":"How to migrate is explained in the release notes/user guide of Hibernate 6.","body":"How to migrate is explained in the release notes/user guide of Hibernate 6."},{"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"score":0,"creation_date":1650977152,"post_id":72013981,"comment_id":127247478,"body_markdown":"i already read the migration guide here https://github.com/hibernate/hibernate-orm/blob/main/migration-guide.adoc but nothing about how to migrate old dialect...","body":"i already read the migration guide here <a href=\"https://github.com/hibernate/hibernate-orm/blob/main/migration-guide.adoc\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-orm/blob/main/&hellip;</a> but nothing about how to migrate old dialect..."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1650977244,"post_id":72013981,"comment_id":127247514,"body_markdown":"Have you tried looking at the source of standard dialects how they register functions?","body":"Have you tried looking at the source of standard dialects how they register functions?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650977574,"post_id":72013981,"comment_id":127247646,"body_markdown":"According to the documentation the `SQLFunctionTemplate` still exists... I suspect the problem you really have is with the changed type system.","body":"According to the documentation the <code>SQLFunctionTemplate</code> still exists... I suspect the problem you really have is with the changed type system."},{"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"score":0,"creation_date":1650977824,"post_id":72013981,"comment_id":127247745,"body_markdown":"@M.Deinum on github i can see : //TODO -- re-implement. In 6.0 there is no longer a SQLFunctionTemplate class, so something change...In release not they explain that they change how to work with dialect but i don&#39;t find example...i will try by my own ;)","body":"@M.Deinum on github i can see : //TODO -- re-implement. In 6.0 there is no longer a SQLFunctionTemplate class, so something change...In release not they explain that they change how to work with dialect but i don&#39;t find example...i will try by my own ;)"},{"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"score":0,"creation_date":1650977871,"post_id":72013981,"comment_id":127247761,"body_markdown":"@MarkRotteveel yes i read the Dialect class to see how they register function and type but i don&#39;t know how to apply this to my case.. i will try...","body":"@MarkRotteveel yes i read the Dialect class to see how they register function and type but i don&#39;t know how to apply this to my case.. i will try..."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650978160,"post_id":72013981,"comment_id":127247871,"body_markdown":"According to [the javadoc](https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/dialect/function/SQLFunctionTemplate.html) there is... That&#39;s weird.","body":"According to <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/dialect/function/SQLFunctionTemplate.html\" rel=\"nofollow noreferrer\">the javadoc</a> there is... That&#39;s weird."},{"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"score":0,"creation_date":1650978456,"post_id":72013981,"comment_id":127247990,"body_markdown":"@M.Deinum as you can see in source code this class not exist in this package: https://github.com/hibernate/hibernate-orm/tree/6.0.0/hibernate-core/src/main/java/org/hibernate/dialect/function","body":"@M.Deinum as you can see in source code this class not exist in this package: <a href=\"https://github.com/hibernate/hibernate-orm/tree/6.0.0/hibernate-core/src/main/java/org/hibernate/dialect/function\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-orm/tree/6.0.0/hibernate-core&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1650982363,"post_id":72013981,"comment_id":127249580,"body_markdown":"@M.Deinum It looks like the javadoc directory wasn&#39;t clean, I can also link to other classes that no longer exist or where moved to another location. That class doc is not accessible through navigation/search of the javadoc though.","body":"@M.Deinum It looks like the javadoc directory wasn&#39;t clean, I can also link to other classes that no longer exist or where moved to another location. That class doc is not accessible through navigation/search of the javadoc though."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650986036,"creation_date":1650978528,"answer_id":72014549,"question_id":72013981,"body_markdown":"Without having tested it, I think you need to use the following in your custom dialect:\r\n\r\n```\r\n@Override\r\npublic void initializeFunctionRegistry(QueryEngine queryEngine) {\r\n    BasicTypeRegistry basicTypeRegistry = queryEngine.getTypeConfiguration().getBasicTypeRegistry();\r\n    SqmFunctionRegistry functionRegistry = queryEngine.getSqmFunctionRegistry();\r\n    functionRegistry.registerPattern(\r\n            &quot;hstore_find&quot;, \r\n            &quot;(?1 -&gt; ?2 = ?3)&quot;, \r\n            basicTypeRegistry.resolve( StandardBasicTypes.BOOLEAN ));\r\n    // ...\r\n}\r\n```\r\n\r\nIt is possible `basicTypeRegistry.resolve( StandardBasicTypes.BOOLEAN )` can be replaced with just `StandardBasicTypes.BOOLEAN`.","title":"hibernate 6.0.0.Final custom dialect not working anymore","body":"<p>Without having tested it, I think you need to use the following in your custom dialect:</p>\n<pre><code>@Override\npublic void initializeFunctionRegistry(QueryEngine queryEngine) {\n    BasicTypeRegistry basicTypeRegistry = queryEngine.getTypeConfiguration().getBasicTypeRegistry();\n    SqmFunctionRegistry functionRegistry = queryEngine.getSqmFunctionRegistry();\n    functionRegistry.registerPattern(\n            &quot;hstore_find&quot;, \n            &quot;(?1 -&gt; ?2 = ?3)&quot;, \n            basicTypeRegistry.resolve( StandardBasicTypes.BOOLEAN ));\n    // ...\n}\n</code></pre>\n<p>It is possible <code>basicTypeRegistry.resolve( StandardBasicTypes.BOOLEAN )</code> can be replaced with just <code>StandardBasicTypes.BOOLEAN</code>.</p>\n"},{"tags":[],"owner":{"account_id":8945558,"reputation":249,"user_id":6673169,"display_name":"Andriy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664373119,"creation_date":1664358585,"answer_id":73879423,"question_id":72013981,"body_markdown":"Following worked for me (Hibernate 6.1.1.Final). However, the function is added via ```MetadataBuilderContributor``` (example: https://stackoverflow.com/a/51285944).\r\n\r\nThis code adds PostgreSQL JSON function ```@&gt;```:\r\n\r\n```java\r\n    @Override\r\n    public void contribute(MetadataBuilder metadataBuilder) {\r\n        metadataBuilder.applySqlFunction(\r\n                FIRST_JSON_VALUE_CONTAINS_THE_SECOND_FUNCTION,\r\n                new PatternBasedSqmFunctionDescriptor(\r\n                        new PatternRenderer(&quot;(?1 @&gt; ?2)&quot;),\r\n                        null,\r\n                        null,\r\n                        null,\r\n                        null,\r\n                        FunctionKind.NORMAL,\r\n                        null\r\n                )\r\n        );\r\n    }\r\n\r\n```\r\nOne might need to adjust parameters of ```PatternBasedSqmFunctionDescriptor```, e.g. ```FunctionReturnTypeResolver``` parameter.","title":"hibernate 6.0.0.Final custom dialect not working anymore","body":"<p>Following worked for me (Hibernate 6.1.1.Final). However, the function is added via <code>MetadataBuilderContributor</code> (example: <a href=\"https://stackoverflow.com/a/51285944\">https://stackoverflow.com/a/51285944</a>).</p>\n<p>This code adds PostgreSQL JSON function <code>@&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void contribute(MetadataBuilder metadataBuilder) {\n        metadataBuilder.applySqlFunction(\n                FIRST_JSON_VALUE_CONTAINS_THE_SECOND_FUNCTION,\n                new PatternBasedSqmFunctionDescriptor(\n                        new PatternRenderer(&quot;(?1 @&gt; ?2)&quot;),\n                        null,\n                        null,\n                        null,\n                        null,\n                        FunctionKind.NORMAL,\n                        null\n                )\n        );\n    }\n\n</code></pre>\n<p>One might need to adjust parameters of <code>PatternBasedSqmFunctionDescriptor</code>, e.g. <code>FunctionReturnTypeResolver</code> parameter.</p>\n"},{"tags":[],"owner":{"account_id":5691524,"reputation":31,"user_id":4499463,"display_name":"tenpigs pinget"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699611076,"creation_date":1694006859,"answer_id":77052379,"question_id":72013981,"body_markdown":"Using Hibernate 6.2.7.Final : \r\n\r\n 1. Andriy&#39;s answer using MetadataBuilderContributor is deprecated (since 6.2)\r\n 2. Mark Rotteveel&#39;s answer is no longer valid because initializeFunctionRegistry method signature has changed (since 6.2)\r\n\r\nBased on Mark Rotteveel&#39;s answer : \r\n``` lang-java\r\npublic class ExtendedPostgreSQLDialect extends PostgresDialect {\r\n\r\n  @Override\r\n  public void initializeFunctionRegistry(FunctionContributions functionContributions) {\r\n    super.initializeFunctionRegistry(functionContributions);\r\n\r\n    BasicTypeRegistry basicTypeRegistry = functionContributions.getTypeConfiguration().getBasicTypeRegistry();\r\n\r\n    functionContributions.getFunctionRegistry().registerPattern(\r\n        &quot;hstore_find&quot;, \r\n        &quot;(?1 -&gt; ?2 = ?3)&quot;, \r\n        basicTypeRegistry.resolve( StandardBasicTypes.BOOLEAN ));\r\n    // ...\r\n  }\r\n\r\n}\r\n```\r\n\r\nEdit: fixed according to Dirk Luijk&#39;s comment. Thanks","title":"hibernate 6.0.0.Final custom dialect not working anymore","body":"<p>Using Hibernate 6.2.7.Final :</p>\n<ol>\n<li>Andriy's answer using MetadataBuilderContributor is deprecated (since 6.2)</li>\n<li>Mark Rotteveel's answer is no longer valid because initializeFunctionRegistry method signature has changed (since 6.2)</li>\n</ol>\n<p>Based on Mark Rotteveel's answer :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExtendedPostgreSQLDialect extends PostgresDialect {\n\n  @Override\n  public void initializeFunctionRegistry(FunctionContributions functionContributions) {\n    super.initializeFunctionRegistry(functionContributions);\n\n    BasicTypeRegistry basicTypeRegistry = functionContributions.getTypeConfiguration().getBasicTypeRegistry();\n\n    functionContributions.getFunctionRegistry().registerPattern(\n        &quot;hstore_find&quot;, \n        &quot;(?1 -&gt; ?2 = ?3)&quot;, \n        basicTypeRegistry.resolve( StandardBasicTypes.BOOLEAN ));\n    // ...\n  }\n\n}\n</code></pre>\n<p>Edit: fixed according to Dirk Luijk's comment. Thanks</p>\n"}],"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4692,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1699651468,"creation_date":1650976129,"question_id":72013981,"body_markdown":"I&#39;m using PostgreSQL 12 and Hibernate 5.6.8 with a custom dialect like:\r\n\r\n\r\n    registerFunction(&quot;hstore_find&quot;,\r\n        new SQLFunctionTemplate(StandardBasicTypes.BOOLEAN, &quot;(?1 -&gt; ?2 = ?3)&quot;));\r\n\r\nWhen I try to migrate to Hibernate 6.0.0, registerFunction and SQLFunctionTemplate do not exist anymore.\r\n\r\nHow can I migrate this registerFunction to new method of Hibernate 6?\r\n","title":"hibernate 6.0.0.Final custom dialect not working anymore","body":"<p>I'm using PostgreSQL 12 and Hibernate 5.6.8 with a custom dialect like:</p>\n<pre><code>registerFunction(&quot;hstore_find&quot;,\n    new SQLFunctionTemplate(StandardBasicTypes.BOOLEAN, &quot;(?1 -&gt; ?2 = ?3)&quot;));\n</code></pre>\n<p>When I try to migrate to Hibernate 6.0.0, registerFunction and SQLFunctionTemplate do not exist anymore.</p>\n<p>How can I migrate this registerFunction to new method of Hibernate 6?</p>\n"},{"tags":["java","docker","jenkins","automated-tests","jenkins-agent"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632808656,"creation_date":1632808656,"answer_id":69356486,"question_id":69188479,"body_markdown":"It seems some of your containerized applications suffer from memory leaks. Operationally your behaviour looks good already: The container gets killed and restarted if it hits configured memory limits. You could also limit the lifetime of the container as you are questioning anyway, and the real answer is in the amount of resources you are willing to spend. Would it hurt to spin up a new container for every one hour test?\r\n\r\nIf this is not good enough, you&#39;d probably have to investigate with the developer of the application to find and remove the memory leak.","title":"Maximum time a docker containers can be used without respinning?","body":"<p>It seems some of your containerized applications suffer from memory leaks. Operationally your behaviour looks good already: The container gets killed and restarted if it hits configured memory limits. You could also limit the lifetime of the container as you are questioning anyway, and the real answer is in the amount of resources you are willing to spend. Would it hurt to spin up a new container for every one hour test?</p>\n<p>If this is not good enough, you'd probably have to investigate with the developer of the application to find and remove the memory leak.</p>\n"}],"owner":{"account_id":14170889,"reputation":84,"user_id":10237474,"display_name":"iamsj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699651177,"creation_date":1631689463,"question_id":69188479,"body_markdown":"I have this distributed Jenkins controller/agent configuration that runs java test cases.\r\n\r\nOnce the vapp is up with controller and 3 agent configuration, the vapp is used for more than 2 months to run the test cases.\r\n\r\nAt a time nearly 500 testcases are ran which takes 1 hr to complete the execution and there are n number of vapps like this and depending on availability vapp is picked to execute the test cases .\r\n\r\nAfter using this vapp for more than a month, I see the linux kernel is actually killing the master container due to Out of Memory and this is not common to all the vapps but only in a few vapps.\r\n\r\nAll the cache and memory managements are done and eventhough the containers are getting killed.\r\n\r\nMy question is like is it recommended to use the vapp for more than a month continuously?\r\n\r\nI asked to respin the vapps which means respin the containers after a month.\r\n\r\nWhat is the best possible solution to this?","title":"Maximum time a docker containers can be used without respinning?","body":"<p>I have this distributed Jenkins controller/agent configuration that runs java test cases.</p>\n<p>Once the vapp is up with controller and 3 agent configuration, the vapp is used for more than 2 months to run the test cases.</p>\n<p>At a time nearly 500 testcases are ran which takes 1 hr to complete the execution and there are n number of vapps like this and depending on availability vapp is picked to execute the test cases .</p>\n<p>After using this vapp for more than a month, I see the linux kernel is actually killing the master container due to Out of Memory and this is not common to all the vapps but only in a few vapps.</p>\n<p>All the cache and memory managements are done and eventhough the containers are getting killed.</p>\n<p>My question is like is it recommended to use the vapp for more than a month continuously?</p>\n<p>I asked to respin the vapps which means respin the containers after a month.</p>\n<p>What is the best possible solution to this?</p>\n"},{"tags":["java","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648563711,"creation_date":1648563711,"answer_id":71663828,"question_id":71663704,"body_markdown":"Your problem is here : The type of id is declared as `int` or `Integer` , you should declare it as `Long` \r\n\r\n\r\n   \r\n\r\n     Caused by: com.fasterxml.jackson.databind.JsonMappingException: Numeric value \r\n    (5124782738) out of range of int (-2147483648 - 2147483647)  at \r\n    [Source: (String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:646,&quot;from&quot;:{&quot;id&quot;:5124782738,","title":"Error Unable to deserialize response- TelegramLongPollingBot Java","body":"<p>Your problem is here : The type of id is declared as <code>int</code> or <code>Integer</code> , you should declare it as <code>Long</code></p>\n<pre><code> Caused by: com.fasterxml.jackson.databind.JsonMappingException: Numeric value \n(5124782738) out of range of int (-2147483648 - 2147483647)  at \n[Source: (String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:646,&quot;from&quot;:{&quot;id&quot;:5124782738,\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18124998,"reputation":1,"user_id":13180597,"display_name":"Ixtiyor Xaitov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699650134,"creation_date":1649480545,"answer_id":71805377,"question_id":71663704,"body_markdown":"Have you tried chatId in String format. I had a similar error and I solved it by giving String to chatId.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L79aY.png","title":"Error Unable to deserialize response- TelegramLongPollingBot Java","body":"<p>Have you tried chatId in String format. I had a similar error and I solved it by giving String to chatId.</p>\n<p><a href=\"https://i.stack.imgur.com/L79aY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L79aY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17992208,"reputation":91,"user_id":13076067,"display_name":"Andrei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693481324,"creation_date":1693481324,"answer_id":77015403,"question_id":71663704,"body_markdown":"I updated the version of the dependency to the latest one and worked for me.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.telegram&lt;/groupId&gt;\r\n      &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\r\n      &lt;version&gt;6.8.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCheck the latest version using: [maven repository][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.telegram/telegrambots","title":"Error Unable to deserialize response- TelegramLongPollingBot Java","body":"<p>I updated the version of the dependency to the latest one and worked for me.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.telegram&lt;/groupId&gt;\n  &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\n  &lt;version&gt;6.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Check the latest version using: <a href=\"https://mvnrepository.com/artifact/org.telegram/telegrambots\" rel=\"nofollow noreferrer\">maven repository</a></p>\n"}],"owner":{"account_id":24697650,"reputation":21,"user_id":18597157,"display_name":"Xonex128"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1401,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1699650641,"creation_date":1648563250,"question_id":71663704,"body_markdown":"When you try to click on the button, it gives this error Unable to deserialize response, please, help me solve it.\r\n\r\n&gt; org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException:\r\n&gt; Unable to deserialize response \tat\r\n&gt; org.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:132)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:32)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1009)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)\r\n&gt; \tat\r\n&gt; com.example.buns.service.TelegramBotHandler.onUpdateReceived(TelegramBotHandler.java:120)\r\n&gt; \tat java.util.ArrayList.forEach(ArrayList.java:1259) \tat\r\n&gt; org.telegram.telegrambots.meta.generics.LongPollingBot.onUpdatesReceived(LongPollingBot.java:27)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.updatesreceivers.DefaultBotSession$HandlerThread.run(DefaultBotSession.java:320)\r\n&gt; Caused by: com.fasterxml.jackson.databind.JsonMappingException:\r\n&gt; Numeric value (5124782738) out of range of int (-2147483648 -\r\n&gt; 2147483647)  at [Source:\r\n&gt; (String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:646,&quot;from&quot;:{&quot;id&quot;:5124782738,&quot;is_bot&quot;:true,&quot;first_name&quot;:&quot;WeekTeam\r\n&gt; | Instagram\r\n&gt; Bot&quot;,&quot;username&quot;:&quot;weekteam_instabot&quot;},&quot;chat&quot;:{&quot;id&quot;:1878528837,&quot;first_name&quot;:&quot;Looffy&quot;,&quot;username&quot;:&quot;looffy812&quot;,&quot;type&quot;:&quot;private&quot;},&quot;date&quot;:1648562991,&quot;text&quot;:&quot;\\u0414\\u043e\\u0441\\u0442\\u0443\\u043f\\u043d\\u044b\\u0435\r\n&gt; \\u043a\\u043e\\u043c\\u0430\\u043d\\u0434\\u044b:&quot;,&quot;reply_markup&quot;:{&quot;inline_keyboard&quot;:[[{&quot;text&quot;:&quot;\\u041e\r\n&gt; \\u0447\\u0435\\u043c\r\n&gt; \\u043a\\u0430\\u043d\\u0430\\u043b?&quot;,&quot;callback_data&quot;:&quot;/info&quot;},{&quot;text&quot;:&quot;\\&quot;[truncated\r\n&gt; 441 chars]; line: 1, column: 62] (through reference chain:\r\n&gt; org.telegram.telegrambots.meta.api.objects.ApiResponse[&quot;result&quot;]-&gt;org.telegram.telegrambots.meta.api.objects.Message[&quot;from&quot;]-&gt;org.telegram.telegrambots.meta.api.objects.User[&quot;id&quot;])\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:390)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:349)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializerBase.wrapAndThrow(BeanDeserializerBase.java:1822)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:326)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.impl.FieldProperty.deserializeAndSet(FieldProperty.java:138)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4593)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3548)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3531)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:124)\r\n&gt; \t... 7 more Caused by:\r\n&gt; com.fasterxml.jackson.core.exc.InputCoercionException: Numeric value\r\n&gt; (5124782738) out of range of int (-2147483648 - 2147483647)  at\r\n&gt; [Source:\r\n&gt; (String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:646,&quot;from&quot;:{&quot;id&quot;:5124782738,&quot;is_bot&quot;:true,&quot;first_name&quot;:&quot;WeekTeam\r\n&gt; | Instagram\r\n&gt; Bot&quot;,&quot;username&quot;:&quot;weekteam_instabot&quot;},&quot;chat&quot;:{&quot;id&quot;:1878528837,&quot;first_name&quot;:&quot;Looffy&quot;,&quot;username&quot;:&quot;looffy812&quot;,&quot;type&quot;:&quot;private&quot;},&quot;date&quot;:1648562991,&quot;text&quot;:&quot;\\u0414\\u043e\\u0441\\u0442\\u0443\\u043f\\u043d\\u044b\\u0435\r\n&gt; \\u043a\\u043e\\u043c\\u0430\\u043d\\u0434\\u044b:&quot;,&quot;reply_markup&quot;:{&quot;inline_keyboard&quot;:[[{&quot;text&quot;:&quot;\\u041e\r\n&gt; \\u0447\\u0435\\u043c\r\n&gt; \\u043a\\u0430\\u043d\\u0430\\u043b?&quot;,&quot;callback_data&quot;:&quot;/info&quot;},{&quot;text&quot;:&quot;\\&quot;[truncated\r\n&gt; 441 chars]; line: 1, column: 62] \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserMinimalBase._reportInputCoercion(ParserMinimalBase.java:599)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserMinimalBase.reportOverflowInt(ParserMinimalBase.java:568)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserBase.convertNumberToInt(ParserBase.java:936)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserBase._parseIntValue(ParserBase.java:849)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserBase.getIntValue(ParserBase.java:680)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:526)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:506)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\r\n&gt; \t... 19 more\r\n&gt; org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException:\r\n&gt; Unable to deserialize response \tat\r\n&gt; org.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:132)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:32)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1009)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)\r\n&gt; \tat\r\n&gt; com.example.buns.service.TelegramBotHandler.sendInfoToSupport(TelegramBotHandler.java:216)\r\n&gt; \tat\r\n&gt; com.example.buns.service.TelegramBotHandler.onUpdateReceived(TelegramBotHandler.java:127)\r\n&gt; \tat java.util.ArrayList.forEach(ArrayList.java:1259) \tat\r\n&gt; org.telegram.telegrambots.meta.generics.LongPollingBot.onUpdatesReceived(LongPollingBot.java:27)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.updatesreceivers.DefaultBotSession$HandlerThread.run(DefaultBotSession.java:320)\r\n&gt; Caused by: com.fasterxml.jackson.databind.JsonMappingException:\r\n&gt; Numeric value (5124782738) out of range of int (-2147483648 -\r\n&gt; 2147483647)  at [Source:\r\n&gt; (String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:647,&quot;from&quot;:{&quot;id&quot;:5124782738,&quot;is_bot&quot;:true,&quot;first_name&quot;:&quot;WeekTeam\r\n&gt; | Instagram\r\n&gt; Bot&quot;,&quot;username&quot;:&quot;weekteam_instabot&quot;},&quot;chat&quot;:{&quot;id&quot;:1878528837,&quot;first_name&quot;:&quot;Looffy&quot;,&quot;username&quot;:&quot;looffy812&quot;,&quot;type&quot;:&quot;private&quot;},&quot;date&quot;:1648562991,&quot;text&quot;:&quot;Error\r\n&gt; Unable to deserialize response&quot;}}&quot;; line: 1, column: 62] (through\r\n&gt; reference chain:\r\n&gt; org.telegram.telegrambots.meta.api.objects.ApiResponse[&quot;result&quot;]-&gt;org.telegram.telegrambots.meta.api.objects.Message[&quot;from&quot;]-&gt;org.telegram.telegrambots.meta.api.objects.User[&quot;id&quot;])\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:390)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:349)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializerBase.wrapAndThrow(BeanDeserializerBase.java:1822)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:326)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.impl.FieldProperty.deserializeAndSet(FieldProperty.java:138)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4593)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3548)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3531)\r\n&gt; \tat\r\n&gt; org.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:124)\r\n&gt; \t... 8 more Caused by:\r\n&gt; com.fasterxml.jackson.core.exc.InputCoercionException: Numeric value\r\n&gt; (5124782738) out of range of int (-2147483648 - 2147483647)  at\r\n&gt; [Source:\r\n&gt; (String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:647,&quot;from&quot;:{&quot;id&quot;:5124782738,&quot;is_bot&quot;:true,&quot;first_name&quot;:&quot;WeekTeam\r\n&gt; | Instagram\r\n&gt; Bot&quot;,&quot;username&quot;:&quot;weekteam_instabot&quot;},&quot;chat&quot;:{&quot;id&quot;:1878528837,&quot;first_name&quot;:&quot;Looffy&quot;,&quot;username&quot;:&quot;looffy812&quot;,&quot;type&quot;:&quot;private&quot;},&quot;date&quot;:1648562991,&quot;text&quot;:&quot;Error\r\n&gt; Unable to deserialize response&quot;}}&quot;; line: 1, column: 62] \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserMinimalBase._reportInputCoercion(ParserMinimalBase.java:599)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserMinimalBase.reportOverflowInt(ParserMinimalBase.java:568)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserBase.convertNumberToInt(ParserBase.java:936)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserBase._parseIntValue(ParserBase.java:849)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.core.base.ParserBase.getIntValue(ParserBase.java:680)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:526)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:506)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\r\n&gt; \t... 20 more","title":"Error Unable to deserialize response- TelegramLongPollingBot Java","body":"<p>When you try to click on the button, it gives this error Unable to deserialize response, please, help me solve it.</p>\n<blockquote>\n<p>org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException:\nUnable to deserialize response    at\norg.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:132)\nat\norg.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:32)\nat\norg.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1009)\nat\norg.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)\nat\ncom.example.buns.service.TelegramBotHandler.onUpdateReceived(TelegramBotHandler.java:120)\nat java.util.ArrayList.forEach(ArrayList.java:1259)     at\norg.telegram.telegrambots.meta.generics.LongPollingBot.onUpdatesReceived(LongPollingBot.java:27)\nat\norg.telegram.telegrambots.updatesreceivers.DefaultBotSession$HandlerThread.run(DefaultBotSession.java:320)\nCaused by: com.fasterxml.jackson.databind.JsonMappingException:\nNumeric value (5124782738) out of range of int (-2147483648 -\n2147483647)  at [Source:\n(String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:646,&quot;from&quot;:{&quot;id&quot;:5124782738,&quot;is_bot&quot;:true,&quot;first_name&quot;:&quot;WeekTeam\n| Instagram\nBot&quot;,&quot;username&quot;:&quot;weekteam_instabot&quot;},&quot;chat&quot;:{&quot;id&quot;:1878528837,&quot;first_name&quot;:&quot;Looffy&quot;,&quot;username&quot;:&quot;looffy812&quot;,&quot;type&quot;:&quot;private&quot;},&quot;date&quot;:1648562991,&quot;text&quot;:&quot;\\u0414\\u043e\\u0441\\u0442\\u0443\\u043f\\u043d\\u044b\\u0435\n\\u043a\\u043e\\u043c\\u0430\\u043d\\u0434\\u044b:&quot;,&quot;reply_markup&quot;:{&quot;inline_keyboard&quot;:[[{&quot;text&quot;:&quot;\\u041e\n\\u0447\\u0435\\u043c\n\\u043a\\u0430\\u043d\\u0430\\u043b?&quot;,&quot;callback_data&quot;:&quot;/info&quot;},{&quot;text&quot;:&quot;&quot;[truncated\n441 chars]; line: 1, column: 62] (through reference chain:\norg.telegram.telegrambots.meta.api.objects.ApiResponse[&quot;result&quot;]-&gt;org.telegram.telegrambots.meta.api.objects.Message[&quot;from&quot;]-&gt;org.telegram.telegrambots.meta.api.objects.User[&quot;id&quot;])\nat\ncom.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:390)\nat\ncom.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:349)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializerBase.wrapAndThrow(BeanDeserializerBase.java:1822)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:326)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\nat\ncom.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\nat\ncom.fasterxml.jackson.databind.deser.impl.FieldProperty.deserializeAndSet(FieldProperty.java:138)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\nat\ncom.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\nat\ncom.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4593)\nat\ncom.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3548)\nat\ncom.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3531)\nat\norg.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:124)\n... 7 more Caused by:\ncom.fasterxml.jackson.core.exc.InputCoercionException: Numeric value\n(5124782738) out of range of int (-2147483648 - 2147483647)  at\n[Source:\n(String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:646,&quot;from&quot;:{&quot;id&quot;:5124782738,&quot;is_bot&quot;:true,&quot;first_name&quot;:&quot;WeekTeam\n| Instagram\nBot&quot;,&quot;username&quot;:&quot;weekteam_instabot&quot;},&quot;chat&quot;:{&quot;id&quot;:1878528837,&quot;first_name&quot;:&quot;Looffy&quot;,&quot;username&quot;:&quot;looffy812&quot;,&quot;type&quot;:&quot;private&quot;},&quot;date&quot;:1648562991,&quot;text&quot;:&quot;\\u0414\\u043e\\u0441\\u0442\\u0443\\u043f\\u043d\\u044b\\u0435\n\\u043a\\u043e\\u043c\\u0430\\u043d\\u0434\\u044b:&quot;,&quot;reply_markup&quot;:{&quot;inline_keyboard&quot;:[[{&quot;text&quot;:&quot;\\u041e\n\\u0447\\u0435\\u043c\n\\u043a\\u0430\\u043d\\u0430\\u043b?&quot;,&quot;callback_data&quot;:&quot;/info&quot;},{&quot;text&quot;:&quot;&quot;[truncated\n441 chars]; line: 1, column: 62]  at\ncom.fasterxml.jackson.core.base.ParserMinimalBase._reportInputCoercion(ParserMinimalBase.java:599)\nat\ncom.fasterxml.jackson.core.base.ParserMinimalBase.reportOverflowInt(ParserMinimalBase.java:568)\nat\ncom.fasterxml.jackson.core.base.ParserBase.convertNumberToInt(ParserBase.java:936)\nat\ncom.fasterxml.jackson.core.base.ParserBase._parseIntValue(ParserBase.java:849)\nat\ncom.fasterxml.jackson.core.base.ParserBase.getIntValue(ParserBase.java:680)\nat\ncom.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:526)\nat\ncom.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:506)\nat\ncom.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\n... 19 more\norg.telegram.telegrambots.meta.exceptions.TelegramApiRequestException:\nUnable to deserialize response    at\norg.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:132)\nat\norg.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:32)\nat\norg.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1009)\nat\norg.telegram.telegrambots.meta.bots.AbsSender.execute(AbsSender.java:64)\nat\ncom.example.buns.service.TelegramBotHandler.sendInfoToSupport(TelegramBotHandler.java:216)\nat\ncom.example.buns.service.TelegramBotHandler.onUpdateReceived(TelegramBotHandler.java:127)\nat java.util.ArrayList.forEach(ArrayList.java:1259)     at\norg.telegram.telegrambots.meta.generics.LongPollingBot.onUpdatesReceived(LongPollingBot.java:27)\nat\norg.telegram.telegrambots.updatesreceivers.DefaultBotSession$HandlerThread.run(DefaultBotSession.java:320)\nCaused by: com.fasterxml.jackson.databind.JsonMappingException:\nNumeric value (5124782738) out of range of int (-2147483648 -\n2147483647)  at [Source:\n(String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:647,&quot;from&quot;:{&quot;id&quot;:5124782738,&quot;is_bot&quot;:true,&quot;first_name&quot;:&quot;WeekTeam\n| Instagram\nBot&quot;,&quot;username&quot;:&quot;weekteam_instabot&quot;},&quot;chat&quot;:{&quot;id&quot;:1878528837,&quot;first_name&quot;:&quot;Looffy&quot;,&quot;username&quot;:&quot;looffy812&quot;,&quot;type&quot;:&quot;private&quot;},&quot;date&quot;:1648562991,&quot;text&quot;:&quot;Error\nUnable to deserialize response&quot;}}&quot;; line: 1, column: 62] (through\nreference chain:\norg.telegram.telegrambots.meta.api.objects.ApiResponse[&quot;result&quot;]-&gt;org.telegram.telegrambots.meta.api.objects.Message[&quot;from&quot;]-&gt;org.telegram.telegrambots.meta.api.objects.User[&quot;id&quot;])\nat\ncom.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:390)\nat\ncom.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:349)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializerBase.wrapAndThrow(BeanDeserializerBase.java:1822)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:326)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\nat\ncom.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\nat\ncom.fasterxml.jackson.databind.deser.impl.FieldProperty.deserializeAndSet(FieldProperty.java:138)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\nat\ncom.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\nat\ncom.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4593)\nat\ncom.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3548)\nat\ncom.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3531)\nat\norg.telegram.telegrambots.meta.api.methods.send.SendMessage.deserializeResponse(SendMessage.java:124)\n... 8 more Caused by:\ncom.fasterxml.jackson.core.exc.InputCoercionException: Numeric value\n(5124782738) out of range of int (-2147483648 - 2147483647)  at\n[Source:\n(String)&quot;{&quot;ok&quot;:true,&quot;result&quot;:{&quot;message_id&quot;:647,&quot;from&quot;:{&quot;id&quot;:5124782738,&quot;is_bot&quot;:true,&quot;first_name&quot;:&quot;WeekTeam\n| Instagram\nBot&quot;,&quot;username&quot;:&quot;weekteam_instabot&quot;},&quot;chat&quot;:{&quot;id&quot;:1878528837,&quot;first_name&quot;:&quot;Looffy&quot;,&quot;username&quot;:&quot;looffy812&quot;,&quot;type&quot;:&quot;private&quot;},&quot;date&quot;:1648562991,&quot;text&quot;:&quot;Error\nUnable to deserialize response&quot;}}&quot;; line: 1, column: 62]  at\ncom.fasterxml.jackson.core.base.ParserMinimalBase._reportInputCoercion(ParserMinimalBase.java:599)\nat\ncom.fasterxml.jackson.core.base.ParserMinimalBase.reportOverflowInt(ParserMinimalBase.java:568)\nat\ncom.fasterxml.jackson.core.base.ParserBase.convertNumberToInt(ParserBase.java:936)\nat\ncom.fasterxml.jackson.core.base.ParserBase._parseIntValue(ParserBase.java:849)\nat\ncom.fasterxml.jackson.core.base.ParserBase.getIntValue(ParserBase.java:680)\nat\ncom.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:526)\nat\ncom.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:506)\nat\ncom.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\nat\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\n... 20 more</p>\n</blockquote>\n"},{"tags":["java","spring-shell"],"comments":[{"owner":{"account_id":8002,"reputation":283783,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1699649680,"post_id":77462680,"comment_id":136563007,"body_markdown":"Please include enough of the exception to actually identify it; the fragment of a stack trace isn&#39;t useful","body":"Please include enough of the exception to actually identify it; the fragment of a stack trace isn&#39;t useful"},{"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"score":0,"creation_date":1699650680,"post_id":77462680,"comment_id":136563129,"body_markdown":"the rest of the stack frames got omitted but I think the trace pasted in the question is sufficient. I have also added some code that shows what I am doing.","body":"the rest of the stack frames got omitted but I think the trace pasted in the question is sufficient. I have also added some code that shows what I am doing."},{"owner":{"account_id":8002,"reputation":283783,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1699664356,"post_id":77462680,"comment_id":136564268,"body_markdown":"I&#39;m not quite sure it&#39;s sufficient. When I look up the lines listed in that stack trace in Spring&#39;s source code, I can&#39;t tell if the first argument was consumed to generate the ApplicationRunner instance in https://github.com/spring-projects/spring-boot/blob/e4a0e9d9acf90b2f16656e10211b7e72476acad6/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L775 or if it&#39;s passed through as the first element of the ApplicationArguments, because that decision was made further up the stack.","body":"I&#39;m not quite sure it&#39;s sufficient. When I look up the lines listed in that stack trace in Spring&#39;s source code, I can&#39;t tell if the first argument was consumed to generate the ApplicationRunner instance in <a href=\"https://github.com/spring-projects/spring-boot/blob/e4a0e9d9acf90b2f16656e10211b7e72476acad6/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L775\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/&hellip;</a> or if it&#39;s passed through as the first element of the ApplicationArguments, because that decision was made further up the stack."},{"owner":{"account_id":8002,"reputation":283783,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1699664444,"post_id":77462680,"comment_id":136564276,"body_markdown":"(the former is reasonable if we&#39;re trying to act like a UNIXy shell, in the &quot;first argument selects the thing to run, subsequent arguments are passed to that thing&quot; sense -- which is certainly what the error message implies)","body":"(the former is reasonable if we&#39;re trying to act like a UNIXy shell, in the &quot;first argument selects the thing to run, subsequent arguments are passed to that thing&quot; sense -- which is certainly what the error message implies)"},{"owner":{"account_id":8002,"reputation":283783,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1699664506,"post_id":77462680,"comment_id":136564282,"body_markdown":"Granted, that&#39;s trying to figure it out as someone who doesn&#39;t know Spring; a person with a better handle on the framework would probably be fine with the context you&#39;ve provided.","body":"Granted, that&#39;s trying to figure it out as someone who doesn&#39;t know Spring; a person with a better handle on the framework would probably be fine with the context you&#39;ve provided."}],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699650622,"creation_date":1699647704,"question_id":77462680,"body_markdown":"I am using [spring-shell](https://docs.spring.io/spring-shell/docs/3.1.5/docs/index.html) to develop a CLI app. \r\n\r\n```\r\n@SpringBootApplication\r\n@CommandScan\r\npublic class App {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    SpringApplication application = new SpringApplication(App.class);\r\n    application.setBannerMode(Mode.OFF);\r\n    application.run(args);\r\n  }\r\n```\r\n\r\nIt was working well until I ran into this problem: when I try to run my app like:\r\n\r\n```\r\njava -jar my.jar com.mycompany.App --flag \r\n```\r\n\r\nI get following exception:\r\n\r\n```\r\nCaused by: org.springframework.shell.CommandNotFound: No command found for &#39;--flag&#39;\r\n        at org.springframework.shell.Shell.evaluate(Shell.java:207) ~[spring-shell-core-3.1.5.jar:3.1.5]\r\n        at org.springframework.shell.Shell.run(Shell.java:159) ~[spring-shell-core-3.1.5.jar:3.1.5]\r\n        at org.springframework.shell.jline.NonInteractiveShellRunner.run(NonInteractiveShellRunner.java:146) ~[spring-shell-core-3.1.5.jar:3.1.5]\r\n        at org.springframework.shell.DefaultShellApplicationRunner.run(DefaultShellApplicationRunner.java:65) ~[spring-shell-core-3.1.5.jar:3.1.5]\r\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:762) ~[spring-boot-3.1.5.jar:3.1.5]\r\n```\r\n\r\nIts true there is no command for `--flag`. That is meant to be a startup option not a command that should be interpreted by the shell. (Problem #1)\r\n\r\nAnother problem is that spring-shell runs in `NonInteractiveShellRunner` as soon as I provide some command line arguments. I want it to run in interactive mode. (Problem #2)\r\n\r\nHow can I tell it so? I read the docs but could not find solution to this puzzle.","title":"Spring-Shell: How to tell it to not parse command line arguments as shell commands?","body":"<p>I am using <a href=\"https://docs.spring.io/spring-shell/docs/3.1.5/docs/index.html\" rel=\"nofollow noreferrer\">spring-shell</a> to develop a CLI app.</p>\n<pre><code>@SpringBootApplication\n@CommandScan\npublic class App {\n\n  public static void main(String[] args) throws Exception {\n    SpringApplication application = new SpringApplication(App.class);\n    application.setBannerMode(Mode.OFF);\n    application.run(args);\n  }\n</code></pre>\n<p>It was working well until I ran into this problem: when I try to run my app like:</p>\n<pre><code>java -jar my.jar com.mycompany.App --flag \n</code></pre>\n<p>I get following exception:</p>\n<pre><code>Caused by: org.springframework.shell.CommandNotFound: No command found for '--flag'\n        at org.springframework.shell.Shell.evaluate(Shell.java:207) ~[spring-shell-core-3.1.5.jar:3.1.5]\n        at org.springframework.shell.Shell.run(Shell.java:159) ~[spring-shell-core-3.1.5.jar:3.1.5]\n        at org.springframework.shell.jline.NonInteractiveShellRunner.run(NonInteractiveShellRunner.java:146) ~[spring-shell-core-3.1.5.jar:3.1.5]\n        at org.springframework.shell.DefaultShellApplicationRunner.run(DefaultShellApplicationRunner.java:65) ~[spring-shell-core-3.1.5.jar:3.1.5]\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:762) ~[spring-boot-3.1.5.jar:3.1.5]\n</code></pre>\n<p>Its true there is no command for <code>--flag</code>. That is meant to be a startup option not a command that should be interpreted by the shell. (Problem #1)</p>\n<p>Another problem is that spring-shell runs in <code>NonInteractiveShellRunner</code> as soon as I provide some command line arguments. I want it to run in interactive mode. (Problem #2)</p>\n<p>How can I tell it so? I read the docs but could not find solution to this puzzle.</p>\n"},{"tags":["java","inheritance","interface"],"comments":[{"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"score":0,"creation_date":1699646724,"post_id":77462586,"comment_id":136562624,"body_markdown":"I guess I can call the &#39;fancyPrint()&#39; method from the &#39;print()&#39; method. Is this the only  way to satisfy both the abstract class and the interface?","body":"I guess I can call the &#39;fancyPrint()&#39; method from the &#39;print()&#39; method. Is this the only  way to satisfy both the abstract class and the interface?"}],"answers":[{"tags":[],"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699646809,"creation_date":1699646809,"answer_id":77462615,"question_id":77462586,"body_markdown":"I know I can call the `fancyPrint()` method from the `print()` method. That is the only thing I can think of.","title":"How do I replace an abstract method with an interface method?","body":"<p>I know I can call the <code>fancyPrint()</code> method from the <code>print()</code> method. That is the only thing I can think of.</p>\n"},{"tags":[],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699648805,"creation_date":1699648480,"answer_id":77462723,"question_id":77462586,"body_markdown":"I think you should exclude `print` method from `Stack` class and create one more interface `SimplePrintable` having `print` method. So `LinkedListStack` will implement `FancyPrintable` but other classes will implement `SimplePrintable`.\r\n\r\n","title":"How do I replace an abstract method with an interface method?","body":"<p>I think you should exclude <code>print</code> method from <code>Stack</code> class and create one more interface <code>SimplePrintable</code> having <code>print</code> method. So <code>LinkedListStack</code> will implement <code>FancyPrintable</code> but other classes will implement <code>SimplePrintable</code>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699648534,"creation_date":1699648534,"answer_id":77462727,"question_id":77462586,"body_markdown":"Create and implementation for each print procedure.\r\n\r\n```java\r\ninterface Print {\r\n    void print();\r\n}\r\n\r\nclass BasicPrint implements Print {\r\n    @Override\r\n    public void print() {\r\n\r\n    }\r\n}\r\n\r\nclass FancilyPrint implements Print {\r\n    @Override\r\n    public void print() {\r\n\r\n    }\r\n}\r\n```\r\n\r\nThen, choose whether _Stack_ should implement _BasicPrint_, or _FancilyPrint_.\r\n\r\n```java\r\nabstract class Stack extends BasicPrint { }\r\nclass LinkedListStack extends Stack { }\r\n```","title":"How do I replace an abstract method with an interface method?","body":"<p>Create and implementation for each print procedure.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Print {\n    void print();\n}\n\nclass BasicPrint implements Print {\n    @Override\n    public void print() {\n\n    }\n}\n\nclass FancilyPrint implements Print {\n    @Override\n    public void print() {\n\n    }\n}\n</code></pre>\n<p>Then, choose whether <em>Stack</em> should implement <em>BasicPrint</em>, or <em>FancilyPrint</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class Stack extends BasicPrint { }\nclass LinkedListStack extends Stack { }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":323730,"reputation":379,"user_id":643923,"accept_rate":67,"display_name":"Jamesy82"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699650478,"creation_date":1699650478,"answer_id":77462850,"question_id":77462586,"body_markdown":"Similar to what others have said I would remove the print() method from the Stack abstract class and have it in a separate interface. But I would then change the print method to take the stack it should print.\r\n\r\n    interface StackPrinter {\r\n      void print(Stack stack);\r\n    }\r\n\r\n\r\nThen you can have implementations for SimpleStackPrinter, FancyStackPrinter and whatever others are needed and because its not part of the Stack class anymore any stack can be passed to any printer.","title":"How do I replace an abstract method with an interface method?","body":"<p>Similar to what others have said I would remove the print() method from the Stack abstract class and have it in a separate interface. But I would then change the print method to take the stack it should print.</p>\n<pre><code>interface StackPrinter {\n  void print(Stack stack);\n}\n</code></pre>\n<p>Then you can have implementations for SimpleStackPrinter, FancyStackPrinter and whatever others are needed and because its not part of the Stack class anymore any stack can be passed to any printer.</p>\n"}],"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77462723,"answer_count":4,"score":0,"last_activity_date":1699650478,"creation_date":1699646491,"question_id":77462586,"body_markdown":"I have a couple java files in a `package stacks` package. \r\n\r\nThe first one is an `abstract class Stack` class that has a `public abstract void print()` method in it. \r\n\r\nThe second one is a `public interface FancilyPrint` interface that has a `void fancyPrint()` method in it.\r\n\r\nI am now working on a `public class LinkedListStack extends Stack implements FancyPrint` class.\r\n\r\nHow do I write a `fancyPrint()` method that satisfies the interface contract, without writing a useless `void print()` method from the abstract class? It is useless to have a standard `print()` method in this class due to it implementing the interface with its own `fancyPrint()` method. I don&#39;t remember how to do this.\r\n\r\nHere are my classes for reference:\r\n\r\nStack.java:\r\n\r\n    package stacks;\r\n    \r\n    public abstract class Stack&lt;AnyType&gt;\r\n    {\r\n        public abstract void push(AnyType data);\r\n    \r\n        public abstract AnyType pop();\r\n    \r\n        public abstract AnyType peek();\r\n    \r\n        public abstract boolean isFull();\r\n    \r\n        public abstract boolean isEmpty();\r\n    \r\n        public abstract void print();\r\n    }\r\n\r\nLinkedListStack.java\r\n\r\n    package stacks;\r\n    \r\n    import linkedlists.*;\r\n    \r\n    public class LinkedListStack&lt;SomeType&gt; extends Stack&lt;SomeType&gt; implements FancyPrint\r\n    {\r\n        LinkedList&lt;SomeType&gt; l = new LinkedList&lt;&gt;();\r\n        \r\n        @Override\r\n        public void push(SomeType data)\r\n        {\r\n            l.head_insert(data);\r\n        }\r\n    \r\n        @Override\r\n        public SomeType pop()\r\n        {\r\n            return l.delete_head();\r\n        }\r\n    \r\n        @Override\r\n        public SomeType peek()\r\n        {\r\n            return l.headData();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isFull()\r\n        {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEmpty()\r\n        {\r\n            return l.isEmpty();\r\n        }\r\n    \r\n        @Override\r\n        public void fancyPrint()\r\n        {\r\n            \r\n        }\r\n\r\n        // I do not need this method for this class. I will need it for other classes\r\n        // that extend the Stack abstract class.\r\n        @Override\r\n        public void print()\r\n        {\r\n    \r\n        }\r\n\r\nFancilyPrint Interface:\r\n\r\n    package stacks;\r\n    \r\n    public interface FancilyPrint\r\n    {\r\n        void fancyPrint();\r\n    }\r\n\r\n\r\n\r\n","title":"How do I replace an abstract method with an interface method?","body":"<p>I have a couple java files in a <code>package stacks</code> package.</p>\n<p>The first one is an <code>abstract class Stack</code> class that has a <code>public abstract void print()</code> method in it.</p>\n<p>The second one is a <code>public interface FancilyPrint</code> interface that has a <code>void fancyPrint()</code> method in it.</p>\n<p>I am now working on a <code>public class LinkedListStack extends Stack implements FancyPrint</code> class.</p>\n<p>How do I write a <code>fancyPrint()</code> method that satisfies the interface contract, without writing a useless <code>void print()</code> method from the abstract class? It is useless to have a standard <code>print()</code> method in this class due to it implementing the interface with its own <code>fancyPrint()</code> method. I don't remember how to do this.</p>\n<p>Here are my classes for reference:</p>\n<p>Stack.java:</p>\n<pre><code>package stacks;\n\npublic abstract class Stack&lt;AnyType&gt;\n{\n    public abstract void push(AnyType data);\n\n    public abstract AnyType pop();\n\n    public abstract AnyType peek();\n\n    public abstract boolean isFull();\n\n    public abstract boolean isEmpty();\n\n    public abstract void print();\n}\n</code></pre>\n<p>LinkedListStack.java</p>\n<pre><code>package stacks;\n\nimport linkedlists.*;\n\npublic class LinkedListStack&lt;SomeType&gt; extends Stack&lt;SomeType&gt; implements FancyPrint\n{\n    LinkedList&lt;SomeType&gt; l = new LinkedList&lt;&gt;();\n    \n    @Override\n    public void push(SomeType data)\n    {\n        l.head_insert(data);\n    }\n\n    @Override\n    public SomeType pop()\n    {\n        return l.delete_head();\n    }\n\n    @Override\n    public SomeType peek()\n    {\n        return l.headData();\n    }\n\n    @Override\n    public boolean isFull()\n    {\n        return false;\n    }\n\n    @Override\n    public boolean isEmpty()\n    {\n        return l.isEmpty();\n    }\n\n    @Override\n    public void fancyPrint()\n    {\n        \n    }\n\n    // I do not need this method for this class. I will need it for other classes\n    // that extend the Stack abstract class.\n    @Override\n    public void print()\n    {\n\n    }\n</code></pre>\n<p>FancilyPrint Interface:</p>\n<pre><code>package stacks;\n\npublic interface FancilyPrint\n{\n    void fancyPrint();\n}\n</code></pre>\n"},{"tags":["java","arrays","loops","for-loop","filereader"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1699650130,"post_id":77462819,"comment_id":136563062,"body_markdown":"For starters, fix your ***string comparisons***. See https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java","body":"For starters, fix your <b><i>string comparisons</i></b>. See <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a>"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1699650705,"post_id":77462819,"comment_id":136563131,"body_markdown":"Also, note that `return` exits the function immediately, ending any loops it may be in.","body":"Also, note that <code>return</code> exits the function immediately, ending any loops it may be in."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1699661690,"post_id":77462819,"comment_id":136564094,"body_markdown":"FYI [Gryffindor has two &#39;f&#39; and one &#39;n&#39;](https://en.wikipedia.org/wiki/Hogwarts#Houses)","body":"FYI <a href=\"https://en.wikipedia.org/wiki/Hogwarts#Houses\" rel=\"nofollow noreferrer\">Gryffindor has two &#39;f&#39; and one &#39;n&#39;</a>"}],"owner":{"account_id":22973747,"reputation":11,"user_id":17101702,"display_name":"EkatS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699651057,"answer_count":0,"score":0,"last_activity_date":1699649974,"creation_date":1699649974,"question_id":77462819,"body_markdown":"Please bear with me, I am very new to Java. I have created an array that is created from two text files using File Reader when the program is run, I need to check if an element in the list is a specific word. The array is characterData, which comes from text files that have names and houses. I need to return the number of times each house appears in the array, but I don&#39;t know how to write that into my loop. Do I need to change how the array is created so house is on its own? Or is there a way to check it in the current array? I&#39;ve included how the array is created and the loop. With the way it&#39;s done, isn&#39;t one element &quot;name,house&quot;, which wouldn&#39;t be able to just equal house?\r\n\r\nCreating the array:\r\n```\r\nprivate Character[] characterData;\r\n\r\n  //create character object with the text files\r\n  public DataScene(String nameFile, String houseFile){\r\n    characterData = createCharacter(nameFile, houseFile);\r\n  }\r\n\r\n//file reader to convert the files into strings\r\npublic Character[] createCharacter(String nameFile, String houseFile) {\r\n    String[] nameData = FileReader.toStringArray(nameFile);\r\n    String[] houseData = FileReader.toStringArray(houseFile);\r\n\r\n    Character[] tempCharacter = new Character[nameData.length];\r\n\r\n    for (int index = 0; index &lt; tempCharacter.length; index++) {\r\n      tempCharacter[index] = new Character(nameData[index], houseData[index]);\r\n    }\r\n\r\n    return tempCharacter;\r\n  }\r\n```\r\n\r\nThe method to check the houses:\r\n```//check to see how many of each house are in the list\r\n  public int countHouses(String characterData){\r\n    int countG = 0;\r\n    int countS = 0;\r\n    int countH = 0;\r\n    int countR = 0;\r\n\r\n    for (int index = 0; index &lt; characterData.length; index++){\r\n      if (house == &quot;Gryfinndor&quot;){\r\n        countG++;\r\n        return countG;\r\n      } else if (house == &quot;Slytherin&quot;){\r\n        countS++;\r\n        return countS;\r\n      } else if (house == &quot;Hufflepuff&quot;){\r\n        countH++\r\n        return countH;\r\n      } else {\r\n        countR++;\r\n        return countF;\r\n      }\r\n    }\r\n  }\r\n```","title":"In Java, how do I check if a specific element appears in an array?","body":"<p>Please bear with me, I am very new to Java. I have created an array that is created from two text files using File Reader when the program is run, I need to check if an element in the list is a specific word. The array is characterData, which comes from text files that have names and houses. I need to return the number of times each house appears in the array, but I don't know how to write that into my loop. Do I need to change how the array is created so house is on its own? Or is there a way to check it in the current array? I've included how the array is created and the loop. With the way it's done, isn't one element &quot;name,house&quot;, which wouldn't be able to just equal house?</p>\n<p>Creating the array:</p>\n<pre><code>private Character[] characterData;\n\n  //create character object with the text files\n  public DataScene(String nameFile, String houseFile){\n    characterData = createCharacter(nameFile, houseFile);\n  }\n\n//file reader to convert the files into strings\npublic Character[] createCharacter(String nameFile, String houseFile) {\n    String[] nameData = FileReader.toStringArray(nameFile);\n    String[] houseData = FileReader.toStringArray(houseFile);\n\n    Character[] tempCharacter = new Character[nameData.length];\n\n    for (int index = 0; index &lt; tempCharacter.length; index++) {\n      tempCharacter[index] = new Character(nameData[index], houseData[index]);\n    }\n\n    return tempCharacter;\n  }\n</code></pre>\n<p>The method to check the houses:</p>\n<pre><code>  public int countHouses(String characterData){\n    int countG = 0;\n    int countS = 0;\n    int countH = 0;\n    int countR = 0;\n\n    for (int index = 0; index &lt; characterData.length; index++){\n      if (house == &quot;Gryfinndor&quot;){\n        countG++;\n        return countG;\n      } else if (house == &quot;Slytherin&quot;){\n        countS++;\n        return countS;\n      } else if (house == &quot;Hufflepuff&quot;){\n        countH++\n        return countH;\n      } else {\n        countR++;\n        return countF;\n      }\n    }\n  }\n</code></pre>\n"},{"tags":["java","maven","maven-assembly-plugin"],"comments":[{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1699702487,"post_id":77462748,"comment_id":136566448,"body_markdown":"Looks like resonable feature ... I created issue to track it https://issues.apache.org/jira/browse/MASSEMBLY-1005","body":"Looks like resonable feature ... I created issue to track it <a href=\"https://issues.apache.org/jira/browse/MASSEMBLY-1005\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MASSEMBLY-1005</a>"}],"owner":{"account_id":3174895,"reputation":401,"user_id":2683012,"display_name":"Azuaron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699648943,"creation_date":1699648943,"question_id":77462748,"body_markdown":"I have a Maven project (we&#39;ll call it Shared Assembly Project) that defines an assembly file that looks like this:\r\n\r\n```\r\n&lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/2.2.0&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/2.2.0 http://maven.apache.org/xsd/assembly-2.2.0.xsd&quot;&gt;\r\n    &lt;id&gt;shared-assembly&lt;/id&gt;\r\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n    &lt;formats&gt;\r\n        &lt;format&gt;zip&lt;/format&gt;\r\n    &lt;/formats&gt;\r\n    &lt;fileSets&gt;\r\n        &lt;fileSet&gt;\r\n            &lt;directory&gt;${schema.directory}&lt;/directory&gt;\r\n            &lt;outputDirectory&gt;schemas&lt;/outputDirectory&gt;\r\n        &lt;/fileSet&gt;\r\n    &lt;/fileSets&gt;\r\n&lt;/assembly&gt;\r\n```\r\nThis assembly file is in `src/main/resources/assemblies/shared-assembly.xml` and can be referenced in other projects&#39; POMs like this (which we&#39;ll call the Referencing Project):\r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;shared-assembly&lt;/artifactId&gt;\r\n                        &lt;version&gt;${shared.assembly.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;shared-assembly&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nThe problem is the `${schema.directory}` property in `shared-assembly.xml`. I want to specify a default value in `shared-assembly.xml` or the Shared Assembly Project&#39;s pom. Then, the Referencing Project should be able to override the `schema.directory` if needed. Unfortunately, Maven doesn&#39;t allow sharing of properties from dependency pom files. It also seems like I can&#39;t just replace &quot;${schema.directory}&quot; with &quot;target/generated-sources/schema&quot;, then override the `fileSet.directory` in the plugin configuration. Finally, it seems like there&#39;s no property default syntax similar to this:\r\n\r\n`${schema.directory:target/generated-sources/schema}`\r\n\r\nMy goals:\r\n\r\n - Shared Assembly Project specifies the default value\r\n - If Referencing Project uses the default value, no additional configuration required\r\n - If Referencing Project overrides the default value, it should be simple for Referencing Project to do so (no additional plugins required)\r\n\r\nI know there are plugins that would allow the Referencing Project to pull a property from a file in the Shared Assembly Project. However, this violates goal #2, since it would need that additional plugin just to get the default value.","title":"Set default value in shared Maven assembly file, but allow overrides in referencing projects","body":"<p>I have a Maven project (we'll call it Shared Assembly Project) that defines an assembly file that looks like this:</p>\n<pre><code>&lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/2.2.0&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/2.2.0 http://maven.apache.org/xsd/assembly-2.2.0.xsd&quot;&gt;\n    &lt;id&gt;shared-assembly&lt;/id&gt;\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n    &lt;formats&gt;\n        &lt;format&gt;zip&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;fileSets&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;${schema.directory}&lt;/directory&gt;\n            &lt;outputDirectory&gt;schemas&lt;/outputDirectory&gt;\n        &lt;/fileSet&gt;\n    &lt;/fileSets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>This assembly file is in <code>src/main/resources/assemblies/shared-assembly.xml</code> and can be referenced in other projects' POMs like this (which we'll call the Referencing Project):</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.example&lt;/groupId&gt;\n                        &lt;artifactId&gt;shared-assembly&lt;/artifactId&gt;\n                        &lt;version&gt;${shared.assembly.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;shared-assembly&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>The problem is the <code>${schema.directory}</code> property in <code>shared-assembly.xml</code>. I want to specify a default value in <code>shared-assembly.xml</code> or the Shared Assembly Project's pom. Then, the Referencing Project should be able to override the <code>schema.directory</code> if needed. Unfortunately, Maven doesn't allow sharing of properties from dependency pom files. It also seems like I can't just replace &quot;${schema.directory}&quot; with &quot;target/generated-sources/schema&quot;, then override the <code>fileSet.directory</code> in the plugin configuration. Finally, it seems like there's no property default syntax similar to this:</p>\n<p><code>${schema.directory:target/generated-sources/schema}</code></p>\n<p>My goals:</p>\n<ul>\n<li>Shared Assembly Project specifies the default value</li>\n<li>If Referencing Project uses the default value, no additional configuration required</li>\n<li>If Referencing Project overrides the default value, it should be simple for Referencing Project to do so (no additional plugins required)</li>\n</ul>\n<p>I know there are plugins that would allow the Referencing Project to pull a property from a file in the Shared Assembly Project. However, this violates goal #2, since it would need that additional plugin just to get the default value.</p>\n"},{"tags":["java","database","haversine"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1699517560,"post_id":77451432,"comment_id":136542533,"body_markdown":"_This is a hometask. Please, don&#39;t take it serious or think about this problem for more than 2 seconds. It&#39;s just not worth it_ Sorry, but if that is the case why are you asking this question?","body":"<i>This is a hometask. Please, don&#39;t take it serious or think about this problem for more than 2 seconds. It&#39;s just not worth it</i> Sorry, but if that is the case why are you asking this question?"},{"owner":{"account_id":1128331,"reputation":981,"user_id":1115019,"display_name":"TheNomad"},"score":0,"creation_date":1699517909,"post_id":77451432,"comment_id":136542597,"body_markdown":"Although I found variations of it, this should be correct as it should be the &quot;generic&quot; formula, if I am not mistaken. Can you give examples of some output with your results and the expected results?","body":"Although I found variations of it, this should be correct as it should be the &quot;generic&quot; formula, if I am not mistaken. Can you give examples of some output with your results and the expected results?"},{"owner":{"account_id":1128331,"reputation":981,"user_id":1115019,"display_name":"TheNomad"},"score":0,"creation_date":1699519114,"post_id":77451432,"comment_id":136542856,"body_markdown":"@PradeepSimha He probably said it so we don&#39;t discuss other issues like why he uses a DB, why SQLLite, why the query is unsafe and so on. He didn&#39;t ask us to do the homework for him, just to help him find the issue if we can.","body":"@PradeepSimha He probably said it so we don&#39;t discuss other issues like why he uses a DB, why SQLLite, why the query is unsafe and so on. He didn&#39;t ask us to do the homework for him, just to help him find the issue if we can."}],"answers":[{"tags":[],"owner":{"account_id":29765714,"reputation":66,"user_id":22812102,"display_name":"Vinith_jk_bro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699517940,"creation_date":1699517940,"answer_id":77451488,"question_id":77451432,"body_markdown":"I believe it is almost correct, just that the haversine formula assumes the latitude and longitude values are in radians.\r\n\r\nSo, just convert your latitudes and longitudes to radians before using them in the formula. \r\n\r\nYou can modify your `distance` method like this:\r\n\r\n    private double distance(double lat1, double lon1, double lat2, double lon2) {\r\n       lat1 = deg2rad(lat1);\r\n       lon1 = deg2rad(lon1);\r\n       lat2 = deg2rad(lat2);\r\n       lon2 = deg2rad(lon2);\r\n       // rest of the code to be filled accordingly\r\n    }\r\n\r\nNow, the input values are in radians, which is necessary for the haversine formula to work correctly.\r\n\r\nPlease try it out.","title":"Calculating Distance Between Latitude and Longitude Values in SQLite Database","body":"<p>I believe it is almost correct, just that the haversine formula assumes the latitude and longitude values are in radians.</p>\n<p>So, just convert your latitudes and longitudes to radians before using them in the formula.</p>\n<p>You can modify your <code>distance</code> method like this:</p>\n<pre><code>private double distance(double lat1, double lon1, double lat2, double lon2) {\n   lat1 = deg2rad(lat1);\n   lon1 = deg2rad(lon1);\n   lat2 = deg2rad(lat2);\n   lon2 = deg2rad(lon2);\n   // rest of the code to be filled accordingly\n}\n</code></pre>\n<p>Now, the input values are in radians, which is necessary for the haversine formula to work correctly.</p>\n<p>Please try it out.</p>\n"},{"tags":[],"owner":{"account_id":1128331,"reputation":981,"user_id":1115019,"display_name":"TheNomad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699648821,"creation_date":1699518797,"answer_id":77451576,"question_id":77451432,"body_markdown":"Alright, so I set-up a small env to test and as suspected, the problem is not in the formula itself, but the measuring system. This `dist = dist * 60 * 1.1515;` will return the distance in Miles, so if you&#39;re expecting KMs, of course it will be off. To convert from miles you need to multiply by 1.609344.\r\n\r\nTry this:\r\n\r\n```lang-java\r\nprivate double distance(double lat1, double lon1, double lat2, double lon2, bool kmConv) {\r\n\r\n    double theta = lon1 - lon2;\r\n\r\n    double dist = Math.sin(deg2rad(lat1)) * Math.sin(deg2rad(lat2))\r\n\r\n                + Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * Math.cos(deg2rad(theta));\r\n\r\n    dist = Math.acos(dist);\r\n    dist = rad2deg(dist);\r\n\r\n    dist = dist * 60 * 1.1515;\r\n\r\n    if (kmConv)\r\n        dist *= 1.609344;\r\n\r\n    return (dist);\r\n}\r\n```\r\n\r\nI tested some values versus [Distance Calculator][1] and it gave me (almost) the same result (apart from some rounding, of course).\r\n\r\n\r\nAlso, you have this\r\n```lang-java\r\n           Double latitude = cursor.getDouble(cursor.getColumnIndex(&quot;Lat&quot;));\r\n\r\n           Double longitude = cursor.getDouble(cursor.getColumnIndex(&quot;Longi&quot;));\r\n```\r\n\r\nShouldn&#39;t they be ...\r\n```lang-java\r\n           Double latitude = cursor.getDouble(cursor.getColumnIndex(&quot;latitude&quot;));\r\n\r\n           Double longitude = cursor.getDouble(cursor.getColumnIndex(&quot;longitude&quot;));\r\n```\r\n... since those are the column names? Please double check both cases I mentioned (wrong conversion or wrong column names).\r\n\r\n**Minor note:** I know you said this should not be taken seriously, so a discussion regarding the use of a DB or what type of DB you picked is not relevant. However, I will stress that you need to avoid this type of coding: ` Cursor cursor = db.rawQuery(&quot;select latitude,longitude from &quot; + Table_Name_Location, null);` . While this is homework, in any normal app, this style (concatenating SQL statements) is a major security issue as it allows SQL injection. The &quot;best&quot; attack vector is when using this type of concatenation in login forms in apps or sites. Just something to keep in mind for the future :)\r\n\r\n\r\n  [1]: https://www.daftlogic.com/projects-google-maps-distance-calculator.htm","title":"Calculating Distance Between Latitude and Longitude Values in SQLite Database","body":"<p>Alright, so I set-up a small env to test and as suspected, the problem is not in the formula itself, but the measuring system. This <code>dist = dist * 60 * 1.1515;</code> will return the distance in Miles, so if you're expecting KMs, of course it will be off. To convert from miles you need to multiply by 1.609344.</p>\n<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private double distance(double lat1, double lon1, double lat2, double lon2, bool kmConv) {\n\n    double theta = lon1 - lon2;\n\n    double dist = Math.sin(deg2rad(lat1)) * Math.sin(deg2rad(lat2))\n\n                + Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * Math.cos(deg2rad(theta));\n\n    dist = Math.acos(dist);\n    dist = rad2deg(dist);\n\n    dist = dist * 60 * 1.1515;\n\n    if (kmConv)\n        dist *= 1.609344;\n\n    return (dist);\n}\n</code></pre>\n<p>I tested some values versus <a href=\"https://www.daftlogic.com/projects-google-maps-distance-calculator.htm\" rel=\"nofollow noreferrer\">Distance Calculator</a> and it gave me (almost) the same result (apart from some rounding, of course).</p>\n<p>Also, you have this</p>\n<pre class=\"lang-java prettyprint-override\"><code>           Double latitude = cursor.getDouble(cursor.getColumnIndex(&quot;Lat&quot;));\n\n           Double longitude = cursor.getDouble(cursor.getColumnIndex(&quot;Longi&quot;));\n</code></pre>\n<p>Shouldn't they be ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>           Double latitude = cursor.getDouble(cursor.getColumnIndex(&quot;latitude&quot;));\n\n           Double longitude = cursor.getDouble(cursor.getColumnIndex(&quot;longitude&quot;));\n</code></pre>\n<p>... since those are the column names? Please double check both cases I mentioned (wrong conversion or wrong column names).</p>\n<p><strong>Minor note:</strong> I know you said this should not be taken seriously, so a discussion regarding the use of a DB or what type of DB you picked is not relevant. However, I will stress that you need to avoid this type of coding: <code> Cursor cursor = db.rawQuery(&quot;select latitude,longitude from &quot; + Table_Name_Location, null);</code> . While this is homework, in any normal app, this style (concatenating SQL statements) is a major security issue as it allows SQL injection. The &quot;best&quot; attack vector is when using this type of concatenation in login forms in apps or sites. Just something to keep in mind for the future :)</p>\n"}],"owner":{"account_id":29861877,"reputation":1,"user_id":22885345,"display_name":"jango123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699648821,"creation_date":1699517220,"question_id":77451432,"body_markdown":"**DISCLAIMER**\r\nThis is a hometask. Please, don&#39;t take it serious or think about this problem for more than 2 seconds. It&#39;s just not worth it. I&#39;m sorry...\r\n\r\nHello! I&#39;m working on an Android project where I need to calculate the distance between latitude and longitude values stored in an SQLite Database. I suspect there might be an issue with my calculation. I&#39;d like to retrieve these locations and calculate the distances between them. \r\n\r\n\r\n```\r\npublic ArrayList&lt;Double&gt; getPoints(){\r\n\r\n    ArrayList&lt;Double&gt; location = new ArrayList&lt;&gt;();\r\n\r\n    SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n    Cursor cursor = db.rawQuery(&quot;select latitude,longitude from &quot; + Table_Name_Location, null);\r\n\r\n    if(cursor.getCount() &gt; 0){\r\n\r\n        while(cursor.moveToNext()) {\r\n\r\n            Double latitude = cursor.getDouble(cursor.getColumnIndex(&quot;Lat&quot;));\r\n\r\n            Double longitude = cursor.getDouble(cursor.getColumnIndex(&quot;Longi&quot;));\r\n\r\n            location.add(latitude);\r\n\r\n            location.add(longitude);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    cursor.close();\r\n\r\n    return location;\r\n\r\n}\r\n```\r\n\r\n\r\nI&#39;ve been trying to calculate the distances using the Haversine formula. Here&#39;s a simplified version of my code:\r\n\r\n\r\n```\r\nprivate double distance(double lat1, double lon1, double lat2, double lon2) {\r\n\r\n    double theta = lon1 - lon2;\r\n\r\n    double dist = Math.sin(deg2rad(lat1)) * Math.sin(deg2rad(lat2))\r\n\r\n                + Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * Math.cos(deg2rad(theta));\r\n\r\n    dist = Math.acos(dist);\r\n\r\n    dist = rad2deg(dist);\r\n\r\n    dist = dist * 60 * 1.1515;\r\n\r\n    return (dist);\r\n\r\n}\r\n\r\nprivate double deg2rad(double deg) {\r\n\r\n    return (deg * Math.PI / 180.0);\r\n\r\n}\r\n\r\nprivate double rad2deg(double rad) {\r\n\r\n    return (rad * 180.0 / Math.PI);\r\n\r\n}\r\n```\r\n\r\n\r\nThe issue is that my code doesn&#39;t return the expected results. I suspect the problem might be related to the Haversine formula, but I&#39;m not entirely sure. Can anyone help me identify the problem or suggest improvements to calculate the distances correctly?","title":"Calculating Distance Between Latitude and Longitude Values in SQLite Database","body":"<p><strong>DISCLAIMER</strong>\nThis is a hometask. Please, don't take it serious or think about this problem for more than 2 seconds. It's just not worth it. I'm sorry...</p>\n<p>Hello! I'm working on an Android project where I need to calculate the distance between latitude and longitude values stored in an SQLite Database. I suspect there might be an issue with my calculation. I'd like to retrieve these locations and calculate the distances between them.</p>\n<pre><code>public ArrayList&lt;Double&gt; getPoints(){\n\n    ArrayList&lt;Double&gt; location = new ArrayList&lt;&gt;();\n\n    SQLiteDatabase db = this.getReadableDatabase();\n\n    Cursor cursor = db.rawQuery(&quot;select latitude,longitude from &quot; + Table_Name_Location, null);\n\n    if(cursor.getCount() &gt; 0){\n\n        while(cursor.moveToNext()) {\n\n            Double latitude = cursor.getDouble(cursor.getColumnIndex(&quot;Lat&quot;));\n\n            Double longitude = cursor.getDouble(cursor.getColumnIndex(&quot;Longi&quot;));\n\n            location.add(latitude);\n\n            location.add(longitude);\n\n        }\n\n    }\n\n    cursor.close();\n\n    return location;\n\n}\n</code></pre>\n<p>I've been trying to calculate the distances using the Haversine formula. Here's a simplified version of my code:</p>\n<pre><code>private double distance(double lat1, double lon1, double lat2, double lon2) {\n\n    double theta = lon1 - lon2;\n\n    double dist = Math.sin(deg2rad(lat1)) * Math.sin(deg2rad(lat2))\n\n                + Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * Math.cos(deg2rad(theta));\n\n    dist = Math.acos(dist);\n\n    dist = rad2deg(dist);\n\n    dist = dist * 60 * 1.1515;\n\n    return (dist);\n\n}\n\nprivate double deg2rad(double deg) {\n\n    return (deg * Math.PI / 180.0);\n\n}\n\nprivate double rad2deg(double rad) {\n\n    return (rad * 180.0 / Math.PI);\n\n}\n</code></pre>\n<p>The issue is that my code doesn't return the expected results. I suspect the problem might be related to the Haversine formula, but I'm not entirely sure. Can anyone help me identify the problem or suggest improvements to calculate the distances correctly?</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":10574825,"reputation":1169,"user_id":7790438,"display_name":"Fady Saad"},"score":1,"creation_date":1492656882,"post_id":43509366,"comment_id":74073093,"body_markdown":"This [link](https://docs.sonarqube.org/display/PLUG/Writing+Custom+Java+Rules+101) will help you","body":"This <a href=\"https://docs.sonarqube.org/display/PLUG/Writing+Custom+Java+Rules+101\" rel=\"nofollow noreferrer\">link</a> will help you"},{"owner":{"account_id":10069853,"reputation":31,"user_id":7443811,"display_name":"agnihot"},"score":0,"creation_date":1492660334,"post_id":43509366,"comment_id":74074016,"body_markdown":"This link talks about visitnode and visitmethod. My question isnt answered.","body":"This link talks about visitnode and visitmethod. My question isnt answered."}],"answers":[{"tags":[],"owner":{"account_id":5908102,"reputation":3081,"user_id":4649158,"display_name":"Wohops"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492677151,"creation_date":1492677151,"answer_id":43514225,"question_id":43509366,"body_markdown":"You have multiple choice to achieve this, the simplest one being to write your custom rules extending the `org.sonar.plugins.java.api.IssuableSubscriptionVisitor`, following what is described in the [tutorial][1] (as perfectly pointed by @user7790438 in the comments of your question... you may have to adapt what is describe in it, but it gives you the basics), and register to `Tree.Kind.Identifier` nodes.\r\n\r\nThen, once visiting all the Identifier nodes, simply cast the given nodes into \r\n`org.sonar.plugins.java.api.tree.IdentifierTree`, and retrieve theirs `name()`. From there, you would be able to check if its called `Logger` or `LoggerFactory`.\r\n\r\nAnother approach could be to subscribe to `Tree.Kind.IMPORT` trees and simply inspect the qualified identifier. But usage of star-imports will make this not as efficient and won&#39;t allow you to find all occurences.\r\n\r\nFor your information, you can not visit literals, as you will end up visiting only literals of the language (Strings, integers, doubles, booleans, etc.), like the name of the method suggest...\r\n\r\n  [1]: https://docs.sonarqube.org/display/PLUG/Writing+Custom+Java+Rules+101 &quot;tutorial&quot;","title":"Sonarqube - how to check for Logger or LoggerFactory in code","body":"<p>You have multiple choice to achieve this, the simplest one being to write your custom rules extending the <code>org.sonar.plugins.java.api.IssuableSubscriptionVisitor</code>, following what is described in the <a href=\"https://docs.sonarqube.org/display/PLUG/Writing+Custom+Java+Rules+101\" rel=\"nofollow noreferrer\" title=\"tutorial\">tutorial</a> (as perfectly pointed by @user7790438 in the comments of your question... you may have to adapt what is describe in it, but it gives you the basics), and register to <code>Tree.Kind.Identifier</code> nodes.</p>\n\n<p>Then, once visiting all the Identifier nodes, simply cast the given nodes into \n<code>org.sonar.plugins.java.api.tree.IdentifierTree</code>, and retrieve theirs <code>name()</code>. From there, you would be able to check if its called <code>Logger</code> or <code>LoggerFactory</code>.</p>\n\n<p>Another approach could be to subscribe to <code>Tree.Kind.IMPORT</code> trees and simply inspect the qualified identifier. But usage of star-imports will make this not as efficient and won't allow you to find all occurences.</p>\n\n<p>For your information, you can not visit literals, as you will end up visiting only literals of the language (Strings, integers, doubles, booleans, etc.), like the name of the method suggest...</p>\n"}],"owner":{"account_id":10069853,"reputation":31,"user_id":7443811,"display_name":"agnihot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":587,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699647992,"creation_date":1492656625,"question_id":43509366,"body_markdown":"I want to build a custom rule in Sonarqube using Java, that can catch the occurrence of this:\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n\r\nor the word `Logger` or `LogFactory` in the code.\r\nShould I be using `visitLiteral()` for this?","title":"Sonarqube - how to check for Logger or LoggerFactory in code","body":"<p>I want to build a custom rule in Sonarqube using Java, that can catch the occurrence of this:</p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n</code></pre>\n\n<p>or the word <code>Logger</code> or <code>LogFactory</code> in the code.\nShould I be using <code>visitLiteral()</code> for this?</p>\n"},{"tags":["java","spring","spring-boot","arraylist","hashmap"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699646488,"post_id":77462581,"comment_id":136562596,"body_markdown":"This, `catch (ArrayIndexOutOfBoundsException exception) {\n           System.out.println(&quot;ArrayIndexOutOfBoundsException thrown!&quot;);\n         }` is a terrible thing to do to your program as it interferes with your ability to debug the problem. At least print the stack trace. Also, can you step through your code with a debugger to isolate the error?","body":"This, <code>catch (ArrayIndexOutOfBoundsException exception) {            System.out.println(&quot;ArrayIndexOutOfBoundsException thrown!&quot;);          }</code> is a terrible thing to do to your program as it interferes with your ability to debug the problem. At least print the stack trace. Also, can you step through your code with a debugger to isolate the error?"},{"owner":{"account_id":28972275,"reputation":25,"user_id":22192292,"display_name":"zi zi"},"score":0,"creation_date":1699647177,"post_id":77462581,"comment_id":136562681,"body_markdown":"@HovercraftFullOfEels thanks for your response, can you let me know how to print the stack trace. I  googled for it but not sure how to do it. I will keep trying too","body":"@HovercraftFullOfEels thanks for your response, can you let me know how to print the stack trace. I  googled for it but not sure how to do it. I will keep trying too"},{"owner":{"account_id":28972275,"reputation":25,"user_id":22192292,"display_name":"zi zi"},"score":0,"creation_date":1699647892,"post_id":77462581,"comment_id":136562775,"body_markdown":"@HovercraftFullOfEels I am able to print the stack trace, I am getting the above error. Can you let me know how to fix it.","body":"@HovercraftFullOfEels I am able to print the stack trace, I am getting the above error. Can you let me know how to fix it."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699647916,"post_id":77462581,"comment_id":136562778,"body_markdown":"within the exception you have `exception.printStackTrace();`. That&#39;s it. The stack trace is telling you that your collection has no items within it at the time that you try to query it. Now use the debugger to find out why.","body":"within the exception you have <code>exception.printStackTrace();</code>. That&#39;s it. The stack trace is telling you that your collection has no items within it at the time that you try to query it. Now use the debugger to find out why."},{"owner":{"account_id":28972275,"reputation":25,"user_id":22192292,"display_name":"zi zi"},"score":0,"creation_date":1699648156,"post_id":77462581,"comment_id":136562811,"body_markdown":"@HovercraftFullOfEels I am also trying, its so confusing. can you update in the code with solution like how to fix it. thanks","body":"@HovercraftFullOfEels I am also trying, its so confusing. can you update in the code with solution like how to fix it. thanks"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699648367,"post_id":77462581,"comment_id":136562837,"body_markdown":"Please check out [What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/q/25385173/)  and [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/). The links won&#39;t solve your direct problem, but they will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer.","body":"Please check out <a href=\"https://stackoverflow.com/q/25385173/\">What is a debugger and how can it help me diagnose problems?</a>  and <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>. The links won&#39;t solve your direct problem, but they will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699648405,"post_id":77462581,"comment_id":136562843,"body_markdown":"So  use your debugger and see what Strings you get, what the split method returns, ... you are really the best person to solve this problem, not us.","body":"So  use your debugger and see what Strings you get, what the split method returns, ... you are really the best person to solve this problem, not us."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699649090,"post_id":77462581,"comment_id":136562934,"body_markdown":"Side note: you shouldn&#39;t even be catching an ArrayIndexOutOfBoundsException but instead should write your code to prevent it from happening. Which line is throwing it? What is the value of the key String and other Strings when it happens?","body":"Side note: you shouldn&#39;t even be catching an ArrayIndexOutOfBoundsException but instead should write your code to prevent it from happening. Which line is throwing it? What is the value of the key String and other Strings when it happens?"},{"owner":{"account_id":12918789,"reputation":679,"user_id":9978153,"display_name":"Vladimir Shefer"},"score":0,"creation_date":1699654755,"post_id":77462581,"comment_id":136563542,"body_markdown":"Side note: Please name the variables using camelCase from small letter. For example Lioninit -&gt; lionInit","body":"Side note: Please name the variables using camelCase from small letter. For example Lioninit -&gt; lionInit"},{"owner":{"account_id":28972275,"reputation":25,"user_id":22192292,"display_name":"zi zi"},"score":0,"creation_date":1699677682,"post_id":77462581,"comment_id":136564938,"body_markdown":"@HovercraftFullOfEels its throwing at this line --&gt;      LionVersion = Lioninit[1].split(&quot;:&quot;);","body":"@HovercraftFullOfEels its throwing at this line --&gt;      LionVersion = Lioninit[1].split(&quot;:&quot;);"}],"owner":{"account_id":28972275,"reputation":25,"user_id":22192292,"display_name":"zi zi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1699647998,"answer_count":0,"score":-1,"last_activity_date":1699647828,"creation_date":1699646414,"question_id":77462581,"body_markdown":"I am new to Java, I am trying to fix an exception.I tried to google but no luck.\r\n Providing my code snippet and error below. Can you let me know how to fix the exception.\r\n\r\n I am getting ArrayIndexOutOfBoundsException, which is preventing to creation of array list of objects from Hash map\r\n\r\n\r\n\r\n\r\n    TigerAndLionID.forEach((key, value) -&gt; {\r\n           Animaljsonresponse Animaljsonresp = new Animaljsonresponse();\r\n           String[] TigerStatus = key.split(&quot;\\\\s+&quot;);\r\n           List&lt;String&gt; Lion = value;\r\n           Lion.forEach(Lionstr -&gt; {\r\n             String[] Lioninit = Lionstr.split(&quot;2.3:a:&quot;);\r\n             String[] LionVersion = null;\r\n             try{\r\n             LionVersion = Lioninit[1].split(&quot;:&quot;);\r\n             String version_start = null;\r\n             String version_End = null;\r\n             version_start = LionVersion[10];\r\n             version_End = LionVersion[11];\r\n             Animaljsonresp.setComponentName(LionVersion[0] + &quot; &quot; + LionVersion[1]);\r\n             Animaljsonresp.setVersion((LionVersion[2] + &quot; &quot; + LionVersion[3]).replace(&quot;*&quot;, &quot;&quot;));\r\n             Animaljsonresp.setLionID(Lionstr);\r\n             Animaljsonresp.setTigerID(TigerStatus[0]);\r\n             Animaljsonresp.setVulnStatus(TigerStatus[1]);\r\n             Animaljsonresp.setVersionStartIncluding(version_start);\r\n             Animaljsonresp.setVersionEndIncluding(version_End);\r\n             Animaljsonresponse.add(Animaljsonresp);\r\n             }\r\n             catch (ArrayIndexOutOfBoundsException exception) {\r\n               System.out.println(&quot;ArrayIndexOutOfBoundsException thrown!&quot;);\r\n             }\r\n           });\r\n         });\r\n\r\n\r\n**Error:**\r\n\r\nAfter printing stack trace, I am getting error at this line ---&gt; \r\n\r\n         LionVersion = Lioninit[1].split(&quot;:&quot;);\r\n\r\n    java.lang.ArrayIndexOutOfBoundsException: 1\r\n    \tat com.example.forecastingpoc.service.AnimalService.lambda$1(AnimalService.java:245)\r\n    \tat java.util.HashMap.forEach(HashMap.java:1289)\r\n    \tat com.example.forecastingpoc.service.AnimalService.readjsonfile(AnimalService.java:231)","title":"ArrayIndexOutOfBoundsException, which is preventing to creation of array list of objects from Hash map","body":"<p>I am new to Java, I am trying to fix an exception.I tried to google but no luck.\nProviding my code snippet and error below. Can you let me know how to fix the exception.</p>\n<p>I am getting ArrayIndexOutOfBoundsException, which is preventing to creation of array list of objects from Hash map</p>\n<pre><code>TigerAndLionID.forEach((key, value) -&gt; {\n       Animaljsonresponse Animaljsonresp = new Animaljsonresponse();\n       String[] TigerStatus = key.split(&quot;\\\\s+&quot;);\n       List&lt;String&gt; Lion = value;\n       Lion.forEach(Lionstr -&gt; {\n         String[] Lioninit = Lionstr.split(&quot;2.3:a:&quot;);\n         String[] LionVersion = null;\n         try{\n         LionVersion = Lioninit[1].split(&quot;:&quot;);\n         String version_start = null;\n         String version_End = null;\n         version_start = LionVersion[10];\n         version_End = LionVersion[11];\n         Animaljsonresp.setComponentName(LionVersion[0] + &quot; &quot; + LionVersion[1]);\n         Animaljsonresp.setVersion((LionVersion[2] + &quot; &quot; + LionVersion[3]).replace(&quot;*&quot;, &quot;&quot;));\n         Animaljsonresp.setLionID(Lionstr);\n         Animaljsonresp.setTigerID(TigerStatus[0]);\n         Animaljsonresp.setVulnStatus(TigerStatus[1]);\n         Animaljsonresp.setVersionStartIncluding(version_start);\n         Animaljsonresp.setVersionEndIncluding(version_End);\n         Animaljsonresponse.add(Animaljsonresp);\n         }\n         catch (ArrayIndexOutOfBoundsException exception) {\n           System.out.println(&quot;ArrayIndexOutOfBoundsException thrown!&quot;);\n         }\n       });\n     });\n</code></pre>\n<p><strong>Error:</strong></p>\n<p>After printing stack trace, I am getting error at this line ---&gt;</p>\n<pre><code>     LionVersion = Lioninit[1].split(&quot;:&quot;);\n\njava.lang.ArrayIndexOutOfBoundsException: 1\n    at com.example.forecastingpoc.service.AnimalService.lambda$1(AnimalService.java:245)\n    at java.util.HashMap.forEach(HashMap.java:1289)\n    at com.example.forecastingpoc.service.AnimalService.readjsonfile(AnimalService.java:231)\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"owner":{"account_id":8983538,"reputation":1,"user_id":6697877,"display_name":"Mansur Mughnee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699647285,"creation_date":1699647285,"question_id":77462651,"body_markdown":"public class testing {\r\n\t@Test\r\n\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\HS TRADER\\\\Downloads\\\\chromedriver_win32&quot;); \r\n\t    WebDriver driver=new ChromeDriver();  \r\n\t    driver.get(&quot;http://www.google.com/&quot;);  \r\n\r\n\r\n\t}\r\n\r\n}\r\norg.openqa.selenium.SessionNotCreatedException: session not created exception\r\n","title":"Exception created in selenium","body":"<p>public class testing {\n@Test</p>\n<p>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\Users\\HS TRADER\\Downloads\\chromedriver_win32&quot;);\nWebDriver driver=new ChromeDriver();<br />\ndriver.get(&quot;http://www.google.com/&quot;);</p>\n<pre><code>}\n</code></pre>\n<p>}\norg.openqa.selenium.SessionNotCreatedException: session not created exception</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1699653131,"post_id":77462643,"comment_id":136563395,"body_markdown":"Are we expected to know which class loaders are those in your application? What is the full package for that class? And why are you interested? Is there a problem you are trying to solve? Seems to be an XY problem.","body":"Are we expected to know which class loaders are those in your application? What is the full package for that class? And why are you interested? Is there a problem you are trying to solve? Seems to be an XY problem."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1699658392,"post_id":77462643,"comment_id":136563852,"body_markdown":"I&#39;d give a read to this: https://docs.oracle.com/cd/E19501-01/819-3659/beadf/index.html","body":"I&#39;d give a read to this: <a href=\"https://docs.oracle.com/cd/E19501-01/819-3659/beadf/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E19501-01/819-3659/beadf/index.html</a>"},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1699689904,"post_id":77462643,"comment_id":136565545,"body_markdown":"@MatteoNNZ thanks for the link, I&#39;ve already read this. But I&#39;m still a little confused, since (if I&#39;m right) the `Application Class Loader` can be obtained via `ClassLoader.getSystemClassLoader()`? `ClassLoaders$AppClassLoader` seems to sit inside `jdk.internal.loader.ClassLoaders` where I have no access, but am I correct that this is the `getSystemClassLoader()`? And how can I get the `System Class Loader` at the very top of the chain, right behind the `Bootstrap Class Loader`?","body":"@MatteoNNZ thanks for the link, I&#39;ve already read this. But I&#39;m still a little confused, since (if I&#39;m right) the <code>Application Class Loader</code> can be obtained via <code>ClassLoader.getSystemClassLoader()</code>? <code>ClassLoaders$AppClassLoader</code> seems to sit inside <code>jdk.internal.loader.ClassLoaders</code> where I have no access, but am I correct that this is the <code>getSystemClassLoader()</code>? And how can I get the <code>System Class Loader</code> at the very top of the chain, right behind the <code>Bootstrap Class Loader</code>?"}],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699647132,"creation_date":1699647132,"question_id":77462643,"body_markdown":"Can anybody tell the difference between `ClassLoading$ChainedClassLoader` and `ClassLoaders$AppClassLoader` (marked via barely visible yellow highlighter)?\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd how can I obtain the `ClassLoading$ChainedClassLoader`?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TkHX2.png","title":"What is the difference between these two Java ClassLoaders and how can I obtain one of them?","body":"<p>Can anybody tell the difference between <code>ClassLoading$ChainedClassLoader</code> and <code>ClassLoaders$AppClassLoader</code> (marked via barely visible yellow highlighter)?</p>\n<p><a href=\"https://i.stack.imgur.com/TkHX2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TkHX2.png\" alt=\"enter image description here\" /></a></p>\n<p>And how can I obtain the <code>ClassLoading$ChainedClassLoader</code>?</p>\n"},{"tags":["java","spring","spring-boot","aop","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1699675238,"post_id":77462296,"comment_id":136564832,"body_markdown":"Welcome to SO. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"Welcome to SO. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":6803454,"reputation":61,"user_id":5236036,"display_name":"bytez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699646929,"creation_date":1699646929,"answer_id":77462626,"question_id":77462296,"body_markdown":"Yes, the behavior you are experiencing is expected. The reason for this is that your registered Aspect operates in the same thread as your endpoint.\r\n\r\nYou can utilize `@Async` (along with `@EnableAsync`) to execute the Aspect logic in a separate thread. **But this approach creates a new thread each time your method is called.** It is questionable whether this gives you a significant performance advantage over synchronous execution of the aspect.\r\n\r\nYou might find this thread helpful for a more comprehensive understanding: https://stackoverflow.com/questions/58275121/will-an-aspect-be-executed-asynchronously-if-i-put-async-method-on-it","title":"Spring AOP @Afterreturning aspect blocks api call","body":"<p>Yes, the behavior you are experiencing is expected. The reason for this is that your registered Aspect operates in the same thread as your endpoint.</p>\n<p>You can utilize <code>@Async</code> (along with <code>@EnableAsync</code>) to execute the Aspect logic in a separate thread. <strong>But this approach creates a new thread each time your method is called.</strong> It is questionable whether this gives you a significant performance advantage over synchronous execution of the aspect.</p>\n<p>You might find this thread helpful for a more comprehensive understanding: <a href=\"https://stackoverflow.com/questions/58275121/will-an-aspect-be-executed-asynchronously-if-i-put-async-method-on-it\">Will an aspect be executed asynchronously if I put @Async method on it?</a></p>\n"}],"owner":{"account_id":24875839,"reputation":3,"user_id":18749697,"display_name":"Bishal Thapa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77462626,"answer_count":1,"score":0,"last_activity_date":1699646929,"creation_date":1699642756,"question_id":77462296,"body_markdown":"I have an @Afterreturning aspect.\r\n\r\n \r\n```\r\n@AfterReturning(value = &quot;@annotation(****)&quot;,returning = &quot;returnValue&quot;)\r\n    public void auditableUponReturn(final JoinPoint joinPoint, Object returnValue) {\r\n       //takes 500 ms\r\n      }\r\n\r\n```\r\n\r\nI have an endpoint which invokes this aspect\r\n    \r\n```\r\n@GetMapping(&quot;/{id}&quot;)\r\n    @AspectInvoker\r\n    public Name getName(){\r\n       //takes 100 ms\r\n    }\r\n```\r\n\r\nwhen I call this endpoint I am expecting this endpoint to take 100 ms and return back instantly while my aspect related code is in process. But the endpoint doesnot return until aspect related code is complete.\r\n\r\nIs this expected? Any way to get around this so that performance of apis is not impacted by aspect related code?","title":"Spring AOP @Afterreturning aspect blocks api call","body":"<p>I have an @Afterreturning aspect.</p>\n<pre><code>@AfterReturning(value = &quot;@annotation(****)&quot;,returning = &quot;returnValue&quot;)\n    public void auditableUponReturn(final JoinPoint joinPoint, Object returnValue) {\n       //takes 500 ms\n      }\n\n</code></pre>\n<p>I have an endpoint which invokes this aspect</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;)\n    @AspectInvoker\n    public Name getName(){\n       //takes 100 ms\n    }\n</code></pre>\n<p>when I call this endpoint I am expecting this endpoint to take 100 ms and return back instantly while my aspect related code is in process. But the endpoint doesnot return until aspect related code is complete.</p>\n<p>Is this expected? Any way to get around this so that performance of apis is not impacted by aspect related code?</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275368,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1395273994,"creation_date":1395273994,"answer_id":22520819,"question_id":22520496,"body_markdown":"This is not a simple task. Spring allows for a lot of customization, but, damn, this change is not fun.\r\n\r\nYou need to extend the [`RequestMappingHandlerAdapter`][1] class and override the [following method][2]\r\n\r\n\r\n\t/**\r\n\t * Template method to create a new InitBinderDataBinderFactory instance.\r\n\t * &lt;p&gt;The default implementation creates a ServletRequestDataBinderFactory.\r\n\t * This can be overridden for custom ServletRequestDataBinder subclasses.\r\n\t * @param binderMethods {@code @InitBinder} methods\r\n\t * @return the InitBinderDataBinderFactory instance to use\r\n\t * @throws Exception in case of invalid state or arguments\r\n\t */\r\n\tprotected InitBinderDataBinderFactory createDataBinderFactory(List&lt;InvocableHandlerMethod&gt; binderMethods)\r\n\t\t\tthrows Exception {\r\n\r\n\t\treturn new ServletRequestDataBinderFactory(binderMethods, getWebBindingInitializer());\r\n\t}\r\n\r\nInstead of returning a `ServletRequestDataBinderFactory`, you&#39;ll need to return a custom `InitBinderDataBinderFactory` that returns your custom `WebDataBinder` instances.\r\n\r\nThis change means you can&#39;t use the default `@EnableWebMvc` or `&lt;mvc:annotation-driven/&gt;` configuration. That&#39;s because they use `RequestMappingHandlerAdapter` by default, but you need to register your own class.\r\n\r\nYou can, however, override the `@Bean` annotated `WebMvcConfigurationSupport#requestMappingHandlerAdapter()` method and provide your own implementation to return your own type. Look into what that implementation does for hints.\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerAdapter.html\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerAdapter.html#createDataBinderFactory-java.util.List-","title":"How do I inject a custom version of WebDataBinder into Spring 3 MVC?","body":"<p>This is not a simple task. Spring allows for a lot of customization, but, damn, this change is not fun.</p>\n\n<p>You need to extend the <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerAdapter.html\" rel=\"noreferrer\"><code>RequestMappingHandlerAdapter</code></a> class and override the <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerAdapter.html#createDataBinderFactory-java.util.List-\" rel=\"noreferrer\">following method</a></p>\n\n<pre><code>/**\n * Template method to create a new InitBinderDataBinderFactory instance.\n * &lt;p&gt;The default implementation creates a ServletRequestDataBinderFactory.\n * This can be overridden for custom ServletRequestDataBinder subclasses.\n * @param binderMethods {@code @InitBinder} methods\n * @return the InitBinderDataBinderFactory instance to use\n * @throws Exception in case of invalid state or arguments\n */\nprotected InitBinderDataBinderFactory createDataBinderFactory(List&lt;InvocableHandlerMethod&gt; binderMethods)\n        throws Exception {\n\n    return new ServletRequestDataBinderFactory(binderMethods, getWebBindingInitializer());\n}\n</code></pre>\n\n<p>Instead of returning a <code>ServletRequestDataBinderFactory</code>, you'll need to return a custom <code>InitBinderDataBinderFactory</code> that returns your custom <code>WebDataBinder</code> instances.</p>\n\n<p>This change means you can't use the default <code>@EnableWebMvc</code> or <code>&lt;mvc:annotation-driven/&gt;</code> configuration. That's because they use <code>RequestMappingHandlerAdapter</code> by default, but you need to register your own class.</p>\n\n<p>You can, however, override the <code>@Bean</code> annotated <code>WebMvcConfigurationSupport#requestMappingHandlerAdapter()</code> method and provide your own implementation to return your own type. Look into what that implementation does for hints.</p>\n"},{"tags":[],"owner":{"account_id":35074,"reputation":8877,"user_id":99248,"accept_rate":38,"display_name":"raisercostin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699645815,"creation_date":1699645815,"answer_id":77462540,"question_id":22520496,"body_markdown":"A self-contained example by decoding the accepted response:\r\n\r\n  ```\r\n  @Configuration\r\n  public class MyConfiguration extends WebMvcConfigurationSupport {\r\n    @Override\r\n    protected RequestMappingHandlerAdapter createRequestMappingHandlerAdapter() {\r\n      return new RequestMappingHandlerAdapter()\r\n        {\r\n          @Override\r\n          protected InitBinderDataBinderFactory createDataBinderFactory(List&lt;InvocableHandlerMethod&gt; binderMethods)\r\n              throws Exception {\r\n            WebBindingInitializer webBindingInitializer = getWebBindingInitializer();\r\n            return new ServletRequestDataBinderFactory(binderMethods, webBindingInitializer)\r\n              {\r\n                @Override\r\n                protected ServletRequestDataBinder createBinderInstance(Object target, String objectName,\r\n                    NativeWebRequest request) throws Exception {\r\n                  ServletRequestDataBinder binder = super.createBinderInstance(target, objectName, request);\r\n                  //other default configurations\r\n                  binder.setIgnoreUnknownFields(false);\r\n                  binder.setIgnoreInvalidFields(false);\r\n                  return binder;\r\n                }\r\n              };\r\n          }\r\n        };\r\n    }\r\n  }\r\n  ```","title":"How do I inject a custom version of WebDataBinder into Spring 3 MVC?","body":"<p>A self-contained example by decoding the accepted response:</p>\n<pre><code>@Configuration\npublic class MyConfiguration extends WebMvcConfigurationSupport {\n  @Override\n  protected RequestMappingHandlerAdapter createRequestMappingHandlerAdapter() {\n    return new RequestMappingHandlerAdapter()\n      {\n        @Override\n        protected InitBinderDataBinderFactory createDataBinderFactory(List&lt;InvocableHandlerMethod&gt; binderMethods)\n            throws Exception {\n          WebBindingInitializer webBindingInitializer = getWebBindingInitializer();\n          return new ServletRequestDataBinderFactory(binderMethods, webBindingInitializer)\n            {\n              @Override\n              protected ServletRequestDataBinder createBinderInstance(Object target, String objectName,\n                  NativeWebRequest request) throws Exception {\n                ServletRequestDataBinder binder = super.createBinderInstance(target, objectName, request);\n                //other default configurations\n                binder.setIgnoreUnknownFields(false);\n                binder.setIgnoreInvalidFields(false);\n                return binder;\n              }\n            };\n        }\n      };\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":118925,"reputation":5299,"user_id":310297,"accept_rate":97,"display_name":"Jazzepi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5574,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":22520819,"answer_count":2,"score":7,"last_activity_date":1699645815,"creation_date":1395272236,"question_id":22520496,"body_markdown":"I wrote a custom implementation of the WebDataBinder. In the future I&#39;d like to enhance it so that it looks for an annotation on the class itself and figures out if it should be binding data to it or not.\r\n\r\nHow do I get this class injected into the Spring context in place of the WebDataBinder?\r\n\r\nWhat I want is that if I run this code, my version of the WebDataBinder gets injected instead of the default Spring one.\r\n\r\n    @Controller\r\n    public class MyFormController {\r\n    \r\n        @InitBinder\r\n        public void initBinder(WebDataBinder binder) {\r\n            // ...\r\n        }\r\n    \r\n        // ...\r\n    }\r\n\r\nMy custom implementation of the WebDataBinder. It lets me exclude data binding by class instead of by method names.\r\n\r\n        package com.companyname.spring;\r\n        \r\n        import org.springframework.beans.MutablePropertyValues;\r\n        import org.springframework.util.StringUtils;\r\n        import org.springframework.web.bind.WebDataBinder;\r\n        \r\n        import java.util.ArrayList;\r\n        import java.util.Collections;\r\n        import java.util.List;\r\n        \r\n        public class CustomDataBinder extends WebDataBinder {\r\n        \r\n            List&lt;Class&gt; disallowedClasses = new ArrayList&lt;&gt;();\r\n        \r\n            public CustomDataBinder(Object target) {\r\n                super(target);\r\n            }\r\n        \r\n            public CustomDataBinder(Object target, String objectName) {\r\n                super(target, objectName);\r\n            }\r\n        \r\n            public CustomDataBinder disallowClass(Class... classes) {\r\n                Collections.addAll(disallowedClasses, classes);\r\n                return this;\r\n            }\r\n        \r\n            @Override\r\n            protected void doBind(MutablePropertyValues mpvs) {\r\n                if(disallowedClasses.contains(getTarget().getClass())) {\r\n                    if (logger.isDebugEnabled()) {\r\n                        logger.debug(&quot;DataBinder will not bind class [&quot; + getTarget().getClass().getSimpleName() + &quot;] because it appears in the list of disallowed classes [&quot; + StringUtils.collectionToCommaDelimitedString(disallowedClasses) + &quot;]&quot;);\r\n                    }\r\n                } else {\r\n                    super.doBind(mpvs);\r\n                }\r\n            }\r\n        }\r\n    \r\n#EDIT1\r\n##First pass, having trouble with the AsyncSupportConfigurer\r\n\r\n    @Configuration\r\n    @ComponentScan(basePackageClasses = RootContextConfig.class)\r\n    @EnableTransactionManagement\r\n    @EnableWebSecurity\r\n    @EnableAsync\r\n    @EnableSpringConfigured\r\n    @EnableLoadTimeWeaving\r\n    public class RootContextConfig extends WebMvcConfigurationSupport {\r\n    \r\n        @Bean\r\n        public RequestMappingHandlerAdapter requestMappingHandlerAdapter() {\r\n            List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers = new ArrayList&lt;HandlerMethodArgumentResolver&gt;();\r\n            addArgumentResolvers(argumentResolvers);\r\n    \r\n            List&lt;HandlerMethodReturnValueHandler&gt; returnValueHandlers = new ArrayList&lt;HandlerMethodReturnValueHandler&gt;();\r\n            addReturnValueHandlers(returnValueHandlers);\r\n    \r\n            RequestMappingHandlerAdapter adapter = new CustomRequestMappingHandlerAdapter();\r\n            adapter.setContentNegotiationManager(mvcContentNegotiationManager());\r\n            adapter.setMessageConverters(getMessageConverters());\r\n            adapter.setWebBindingInitializer(getConfigurableWebBindingInitializer());\r\n            adapter.setCustomArgumentResolvers(argumentResolvers);\r\n            adapter.setCustomReturnValueHandlers(returnValueHandlers);\r\n    \r\n            AsyncSupportConfigurer configurer = new AsyncSupportConfigurer();\r\n            configureAsyncSupport(configurer);\r\n    \r\n\r\n    //All the methods called off of configurer are giving me errors because they have protected level access. I&#39;m not really sure how they&#39;re being called in the code I copied this from.\r\n            if (configurer.getTaskExecutor() != null) {\r\n                adapter.setTaskExecutor(configurer.getTaskExecutor());\r\n            }\r\n            if (configurer.getTimeout() != null) {\r\n                adapter.setAsyncRequestTimeout(configurer.getTimeout());\r\n            }\r\n            adapter.setCallableInterceptors(configurer.getCallableInterceptors());\r\n            adapter.setDeferredResultInterceptors(configurer.getDeferredResultInterceptors());\r\n    \r\n            return adapter;\r\n        }\r\n\r\n#Custom RequestMappingHandlerAdapter\r\n\r\n    package com.companyname.dirtylibs.spring;\r\n    \r\n    import org.springframework.web.method.annotation.InitBinderDataBinderFactory;\r\n    import org.springframework.web.method.support.InvocableHandlerMethod;\r\n    import org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter;\r\n    import org.springframework.web.servlet.mvc.method.annotation.ServletRequestDataBinderFactory;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class CustomRequestMappingHandlerAdapter extends RequestMappingHandlerAdapter {\r\n        @Override\r\n        protected InitBinderDataBinderFactory createDataBinderFactory(List&lt;InvocableHandlerMethod&gt; binderMethods) throws Exception {\r\n            return new CustomInitBinderDataBinderFactory(binderMethods, getWebBindingInitializer());\r\n        }\r\n    }\r\n\r\n#Custom InitBinderDataBinderFactory\r\n\r\n    package com.companyname.dirtylibs.spring;\r\n    \r\n    import org.springframework.web.bind.WebDataBinder;\r\n    import org.springframework.web.bind.support.WebBindingInitializer;\r\n    import org.springframework.web.bind.support.WebDataBinderFactory;\r\n    import org.springframework.web.bind.support.WebRequestDataBinder;\r\n    import org.springframework.web.context.request.NativeWebRequest;\r\n    import org.springframework.web.method.annotation.InitBinderDataBinderFactory;\r\n    import org.springframework.web.method.support.InvocableHandlerMethod;\r\n    import org.springframework.web.servlet.mvc.method.annotation.ServletRequestDataBinderFactory;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class CustomInitBinderDataBinderFactory extends InitBinderDataBinderFactory {\r\n    \r\n        /**\r\n         * Create a new instance.\r\n         *\r\n         * @param binderMethods {@code @InitBinder} methods, or {@code null}\r\n         * @param initializer   for global data binder intialization\r\n         */\r\n        public CustomInitBinderDataBinderFactory(List&lt;InvocableHandlerMethod&gt; binderMethods, WebBindingInitializer initializer) {\r\n            super(binderMethods, initializer);\r\n        }\r\n    \r\n        @Override\r\n        protected CustomDataBinder createBinderInstance(Object target, String objectName, NativeWebRequest webRequest) throws Exception {\r\n            return new CustomDataBinder(target, objectName);\r\n        }\r\n    }\r\n\r\n","title":"How do I inject a custom version of WebDataBinder into Spring 3 MVC?","body":"<p>I wrote a custom implementation of the WebDataBinder. In the future I'd like to enhance it so that it looks for an annotation on the class itself and figures out if it should be binding data to it or not.</p>\n\n<p>How do I get this class injected into the Spring context in place of the WebDataBinder?</p>\n\n<p>What I want is that if I run this code, my version of the WebDataBinder gets injected instead of the default Spring one.</p>\n\n<pre><code>@Controller\npublic class MyFormController {\n\n    @InitBinder\n    public void initBinder(WebDataBinder binder) {\n        // ...\n    }\n\n    // ...\n}\n</code></pre>\n\n<p>My custom implementation of the WebDataBinder. It lets me exclude data binding by class instead of by method names.</p>\n\n<pre><code>    package com.companyname.spring;\n\n    import org.springframework.beans.MutablePropertyValues;\n    import org.springframework.util.StringUtils;\n    import org.springframework.web.bind.WebDataBinder;\n\n    import java.util.ArrayList;\n    import java.util.Collections;\n    import java.util.List;\n\n    public class CustomDataBinder extends WebDataBinder {\n\n        List&lt;Class&gt; disallowedClasses = new ArrayList&lt;&gt;();\n\n        public CustomDataBinder(Object target) {\n            super(target);\n        }\n\n        public CustomDataBinder(Object target, String objectName) {\n            super(target, objectName);\n        }\n\n        public CustomDataBinder disallowClass(Class... classes) {\n            Collections.addAll(disallowedClasses, classes);\n            return this;\n        }\n\n        @Override\n        protected void doBind(MutablePropertyValues mpvs) {\n            if(disallowedClasses.contains(getTarget().getClass())) {\n                if (logger.isDebugEnabled()) {\n                    logger.debug(\"DataBinder will not bind class [\" + getTarget().getClass().getSimpleName() + \"] because it appears in the list of disallowed classes [\" + StringUtils.collectionToCommaDelimitedString(disallowedClasses) + \"]\");\n                }\n            } else {\n                super.doBind(mpvs);\n            }\n        }\n    }\n</code></pre>\n\n<h1>EDIT1</h1>\n\n<h2>First pass, having trouble with the AsyncSupportConfigurer</h2>\n\n<pre><code>@Configuration\n@ComponentScan(basePackageClasses = RootContextConfig.class)\n@EnableTransactionManagement\n@EnableWebSecurity\n@EnableAsync\n@EnableSpringConfigured\n@EnableLoadTimeWeaving\npublic class RootContextConfig extends WebMvcConfigurationSupport {\n\n    @Bean\n    public RequestMappingHandlerAdapter requestMappingHandlerAdapter() {\n        List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers = new ArrayList&lt;HandlerMethodArgumentResolver&gt;();\n        addArgumentResolvers(argumentResolvers);\n\n        List&lt;HandlerMethodReturnValueHandler&gt; returnValueHandlers = new ArrayList&lt;HandlerMethodReturnValueHandler&gt;();\n        addReturnValueHandlers(returnValueHandlers);\n\n        RequestMappingHandlerAdapter adapter = new CustomRequestMappingHandlerAdapter();\n        adapter.setContentNegotiationManager(mvcContentNegotiationManager());\n        adapter.setMessageConverters(getMessageConverters());\n        adapter.setWebBindingInitializer(getConfigurableWebBindingInitializer());\n        adapter.setCustomArgumentResolvers(argumentResolvers);\n        adapter.setCustomReturnValueHandlers(returnValueHandlers);\n\n        AsyncSupportConfigurer configurer = new AsyncSupportConfigurer();\n        configureAsyncSupport(configurer);\n\n\n//All the methods called off of configurer are giving me errors because they have protected level access. I'm not really sure how they're being called in the code I copied this from.\n        if (configurer.getTaskExecutor() != null) {\n            adapter.setTaskExecutor(configurer.getTaskExecutor());\n        }\n        if (configurer.getTimeout() != null) {\n            adapter.setAsyncRequestTimeout(configurer.getTimeout());\n        }\n        adapter.setCallableInterceptors(configurer.getCallableInterceptors());\n        adapter.setDeferredResultInterceptors(configurer.getDeferredResultInterceptors());\n\n        return adapter;\n    }\n</code></pre>\n\n<h1>Custom RequestMappingHandlerAdapter</h1>\n\n<pre><code>package com.companyname.dirtylibs.spring;\n\nimport org.springframework.web.method.annotation.InitBinderDataBinderFactory;\nimport org.springframework.web.method.support.InvocableHandlerMethod;\nimport org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter;\nimport org.springframework.web.servlet.mvc.method.annotation.ServletRequestDataBinderFactory;\n\nimport java.util.List;\n\npublic class CustomRequestMappingHandlerAdapter extends RequestMappingHandlerAdapter {\n    @Override\n    protected InitBinderDataBinderFactory createDataBinderFactory(List&lt;InvocableHandlerMethod&gt; binderMethods) throws Exception {\n        return new CustomInitBinderDataBinderFactory(binderMethods, getWebBindingInitializer());\n    }\n}\n</code></pre>\n\n<h1>Custom InitBinderDataBinderFactory</h1>\n\n<pre><code>package com.companyname.dirtylibs.spring;\n\nimport org.springframework.web.bind.WebDataBinder;\nimport org.springframework.web.bind.support.WebBindingInitializer;\nimport org.springframework.web.bind.support.WebDataBinderFactory;\nimport org.springframework.web.bind.support.WebRequestDataBinder;\nimport org.springframework.web.context.request.NativeWebRequest;\nimport org.springframework.web.method.annotation.InitBinderDataBinderFactory;\nimport org.springframework.web.method.support.InvocableHandlerMethod;\nimport org.springframework.web.servlet.mvc.method.annotation.ServletRequestDataBinderFactory;\n\nimport java.util.List;\n\npublic class CustomInitBinderDataBinderFactory extends InitBinderDataBinderFactory {\n\n    /**\n     * Create a new instance.\n     *\n     * @param binderMethods {@code @InitBinder} methods, or {@code null}\n     * @param initializer   for global data binder intialization\n     */\n    public CustomInitBinderDataBinderFactory(List&lt;InvocableHandlerMethod&gt; binderMethods, WebBindingInitializer initializer) {\n        super(binderMethods, initializer);\n    }\n\n    @Override\n    protected CustomDataBinder createBinderInstance(Object target, String objectName, NativeWebRequest webRequest) throws Exception {\n        return new CustomDataBinder(target, objectName);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","httpclient"],"answers":[{"tags":[],"owner":{"account_id":1470794,"reputation":2932,"user_id":1382435,"display_name":"namero999"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1370792917,"creation_date":1370791266,"answer_id":17011092,"question_id":17011023,"body_markdown":"I would suggest to use the class [`EntityUtils`][1] to get the response as String. If it returns the empty string, then the response is empty.\r\n\r\n    String resp = EntityUtils.toString(client.execute(uriRequest).getEntity())\r\n    if (resp == null || &quot;&quot;.equals(resp)) {\r\n        // no entity or empty entity\r\n    } else {\r\n        // got something\r\n        JSON.parse(resp);\r\n    }\r\n\r\nThe assumption here is that, for sake of code simplicity and manutenibility, you don&#39;t care to distinguish between empty entity and no entity, and that if there is a response, you need to read it anyway.\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/util/EntityUtils.html","title":"HttpClient: Determine empty entity in response","body":"<p>I would suggest to use the class <a href=\"http://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/util/EntityUtils.html\" rel=\"nofollow\"><code>EntityUtils</code></a> to get the response as String. If it returns the empty string, then the response is empty.</p>\n\n<pre><code>String resp = EntityUtils.toString(client.execute(uriRequest).getEntity())\nif (resp == null || \"\".equals(resp)) {\n    // no entity or empty entity\n} else {\n    // got something\n    JSON.parse(resp);\n}\n</code></pre>\n\n<p>The assumption here is that, for sake of code simplicity and manutenibility, you don't care to distinguish between empty entity and no entity, and that if there is a response, you need to read it anyway.</p>\n"},{"tags":[],"owner":{"account_id":169763,"reputation":7117,"user_id":2103602,"accept_rate":59,"display_name":"sigpwned"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1699644946,"creation_date":1370791286,"answer_id":17011093,"question_id":17011023,"body_markdown":"In `HttpClient`, `getEntity()` *can* return null. See [the latest samples](http://hc.apache.org/httpcomponents-core-ga/tutorial/html/fundamentals.html).\r\n\r\nHowever, there&#39;s a difference between an *empty* entity, and *no* entity. Sounds like you&#39;ve got an *empty* entity. (Sorry to be pedantic -- it&#39;s just that HTTP is pedantic. :) With respect to detecting empty entities, have you tried reading from the entity input stream? If the response is an empty entity, you should get an immediate EOF.\r\n\r\nDo you need to determine if the entity is empty without reading any bytes from the entity body? Based on the code above, I don&#39;t think you do. If that&#39;s the case, you can just wrap the entity `InputStream` with a [`PushbackInputStream`](http://docs.oracle.com/javase/7/docs/api/java/io/PushbackInputStream.html) and check:\r\n\r\n    HttpResponse response = httpClient.execute(uriRequest);\r\n    HttpEntity entity = response.getEntity();\r\n    if(entity != null) {\r\n        InputStream in = new PushbackInputStream(entity.getContent());\r\n        try {\r\n            int firstByte=in.read();\r\n            if(firstByte != -1) {\r\n                in.unread(firstByte);\r\n                // json parsing\r\n            }\r\n            else {\r\n                // empty\r\n            }\r\n        }\r\n        finally {\r\n            // Don&#39;t close so we can reuse the connection\r\n            EntityUtils.consumeQuietly(entity);\r\n            // Or, if you&#39;re sure you won&#39;t re-use the connection\r\n            in.close();\r\n        }\r\n    }\r\n\r\nIt&#39;s best not to read the entire response into memory just in case it&#39;s large. This solution will test for emptiness using constant memory (4 bytes :).\r\n\r\n\r\n**EDIT**: Pedantry follows below.\r\n\r\nFrom [Section 4.3 of the HTTP/1.1 spec](https://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.3):\r\n\r\n&gt; For response messages, whether or not a message-body is included with\r\n&gt; a message is dependent on both the request method and the response\r\n&gt; status code (section 6.1.1). All responses to the HEAD request method\r\n&gt; MUST NOT include a message-body, even though the presence of entity-\r\n&gt; header fields might lead one to believe they do. All 1xx\r\n&gt; (informational), 204 (no content), and 304 (not modified) responses\r\n&gt; MUST NOT include a message-body. All other responses do include a\r\n&gt; message-body, although it MAY be of zero length.","title":"HttpClient: Determine empty entity in response","body":"<p>In <code>HttpClient</code>, <code>getEntity()</code> <em>can</em> return null. See <a href=\"http://hc.apache.org/httpcomponents-core-ga/tutorial/html/fundamentals.html\" rel=\"nofollow noreferrer\">the latest samples</a>.</p>\n<p>However, there's a difference between an <em>empty</em> entity, and <em>no</em> entity. Sounds like you've got an <em>empty</em> entity. (Sorry to be pedantic -- it's just that HTTP is pedantic. :) With respect to detecting empty entities, have you tried reading from the entity input stream? If the response is an empty entity, you should get an immediate EOF.</p>\n<p>Do you need to determine if the entity is empty without reading any bytes from the entity body? Based on the code above, I don't think you do. If that's the case, you can just wrap the entity <code>InputStream</code> with a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/PushbackInputStream.html\" rel=\"nofollow noreferrer\"><code>PushbackInputStream</code></a> and check:</p>\n<pre><code>HttpResponse response = httpClient.execute(uriRequest);\nHttpEntity entity = response.getEntity();\nif(entity != null) {\n    InputStream in = new PushbackInputStream(entity.getContent());\n    try {\n        int firstByte=in.read();\n        if(firstByte != -1) {\n            in.unread(firstByte);\n            // json parsing\n        }\n        else {\n            // empty\n        }\n    }\n    finally {\n        // Don't close so we can reuse the connection\n        EntityUtils.consumeQuietly(entity);\n        // Or, if you're sure you won't re-use the connection\n        in.close();\n    }\n}\n</code></pre>\n<p>It's best not to read the entire response into memory just in case it's large. This solution will test for emptiness using constant memory (4 bytes :).</p>\n<p><strong>EDIT</strong>: Pedantry follows below.</p>\n<p>From <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.3\" rel=\"nofollow noreferrer\">Section 4.3 of the HTTP/1.1 spec</a>:</p>\n<blockquote>\n<p>For response messages, whether or not a message-body is included with\na message is dependent on both the request method and the response\nstatus code (section 6.1.1). All responses to the HEAD request method\nMUST NOT include a message-body, even though the presence of entity-\nheader fields might lead one to believe they do. All 1xx\n(informational), 204 (no content), and 304 (not modified) responses\nMUST NOT include a message-body. All other responses do include a\nmessage-body, although it MAY be of zero length.</p>\n</blockquote>\n"}],"owner":{"account_id":977031,"reputation":15734,"user_id":997851,"accept_rate":60,"display_name":"sockeqwe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15408,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":17011093,"answer_count":2,"score":6,"last_activity_date":1699644946,"creation_date":1370790808,"question_id":17011023,"body_markdown":"I&#39;m wondering how to determine an empty http response.\r\nWith empty http response I mean, that the http response will only have set some headers, but contains an empty http body.\r\n\r\n\r\nFor example: I do a HTTP POST to an webserver, but the webserver will only return an status code for my HTTP POST and nothing else.\r\n\r\nThe problem is, that I have written a little http framework on top of apache HttpClient to do auto json parsing etc. So the default use case of this framework is to make a request and parse the response. However if the response does not contain data, like mentioned in the example above, I will ensure that my framework skip json parsing.\r\n\r\nSo I do something like this:\r\n\r\n    HttpResponse response = httpClient.execute(uriRequest);\r\n    HttpEntity entity = response.getEntity();\r\n    if (entity != null){\r\n        InputStream in = entity.getContent();\r\n        // json parsing\r\n    }\r\n\r\nHowever entity is always != null. And also the retrieved inputstream is != null. Is there a simple way to determine if the http body is empty or not?\r\n\r\nThe only way I see is that the server response contains the Content-Length header field set to 0.\r\nBut not every server set this field.\r\n\r\nAny suggestions?","title":"HttpClient: Determine empty entity in response","body":"<p>I'm wondering how to determine an empty http response.\nWith empty http response I mean, that the http response will only have set some headers, but contains an empty http body.</p>\n\n<p>For example: I do a HTTP POST to an webserver, but the webserver will only return an status code for my HTTP POST and nothing else.</p>\n\n<p>The problem is, that I have written a little http framework on top of apache HttpClient to do auto json parsing etc. So the default use case of this framework is to make a request and parse the response. However if the response does not contain data, like mentioned in the example above, I will ensure that my framework skip json parsing.</p>\n\n<p>So I do something like this:</p>\n\n<pre><code>HttpResponse response = httpClient.execute(uriRequest);\nHttpEntity entity = response.getEntity();\nif (entity != null){\n    InputStream in = entity.getContent();\n    // json parsing\n}\n</code></pre>\n\n<p>However entity is always != null. And also the retrieved inputstream is != null. Is there a simple way to determine if the http body is empty or not?</p>\n\n<p>The only way I see is that the server response contains the Content-Length header field set to 0.\nBut not every server set this field.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["java","spring-boot","postman","http-status-code-404","spring-restcontroller"],"comments":[{"owner":{"account_id":4803607,"reputation":146,"user_id":3879455,"display_name":"Laonel"},"score":0,"creation_date":1679552432,"post_id":75819750,"comment_id":133742748,"body_markdown":"The mapping in your controller is a POST mapping, are you sure you&#39;re sending a POST request from Postman?","body":"The mapping in your controller is a POST mapping, are you sure you&#39;re sending a POST request from Postman?"},{"owner":{"account_id":5646909,"reputation":1460,"user_id":4468663,"display_name":"Anand Dwivedi"},"score":0,"creation_date":1679552555,"post_id":75819750,"comment_id":133742766,"body_markdown":"Did you selected Post method properly and giving correct end point from postman ?","body":"Did you selected Post method properly and giving correct end point from postman ?"},{"owner":{"account_id":13052379,"reputation":267,"user_id":9432262,"display_name":"hassansuhaib"},"score":0,"creation_date":1679552972,"post_id":75819750,"comment_id":133742837,"body_markdown":"Please update your question with the postman request that you&#39;re using.","body":"Please update your question with the postman request that you&#39;re using."}],"answers":[{"tags":[],"owner":{"account_id":19580981,"reputation":106,"user_id":14330061,"display_name":"dauthDaert06"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679648907,"creation_date":1679558591,"answer_id":75820469,"question_id":75819750,"body_markdown":"Can you also share your application.properties/yml file. You may have set **server.servlet.context-path=/myApp** something like this and may have forgotten. Or gave a different port number with **server.port=8082**. All and all, sharing your configuration may give more insight about what to look for.\r\n\r\nAs for the comments about selecting proper Http method; In that case the server would have returned 405: Method Not Allowed. 404 means it couldn&#39;t find the requested resource.\r\n\r\n**Edit:**\r\n\r\nAfter copy pasting everything, I ran the application and I was definitely able to hit the url. \r\n[PostmanScreenshot][1].\r\n\r\nSomething is wrong with your postman maybe? You said postman is working fine but maybe you had a setting(something like a proxy config) there for a specific application.  \r\n\r\nCan you add these two dependencies and see if you can hit from swagger.\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nhttp://localhost:8081/swagger-ui/index.html\r\n\r\nI replaced \r\n```java\r\nCafeUtils.getResponseEntity(CafeConstants.INVALID DATA, HttpStatus.BAD_REQUEST);\r\n```\r\n to\r\n```java\r\nnew ResponseEntity&lt;&gt;(&quot;INVALID DATA&quot;, HttpStatus.BAD_REQUEST);\r\n```\r\n\r\neverything else is the same as yours.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/joqKv.png","title":"why postman is giving 404 error even though the application is running successfully and controller is right? how to resolve this problem?","body":"<p>Can you also share your application.properties/yml file. You may have set <strong>server.servlet.context-path=/myApp</strong> something like this and may have forgotten. Or gave a different port number with <strong>server.port=8082</strong>. All and all, sharing your configuration may give more insight about what to look for.</p>\n<p>As for the comments about selecting proper Http method; In that case the server would have returned 405: Method Not Allowed. 404 means it couldn't find the requested resource.</p>\n<p><strong>Edit:</strong></p>\n<p>After copy pasting everything, I ran the application and I was definitely able to hit the url.\n<a href=\"https://i.stack.imgur.com/joqKv.png\" rel=\"nofollow noreferrer\">PostmanScreenshot</a>.</p>\n<p>Something is wrong with your postman maybe? You said postman is working fine but maybe you had a setting(something like a proxy config) there for a specific application.</p>\n<p>Can you add these two dependencies and see if you can hit from swagger.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>http://localhost:8081/swagger-ui/index.html</p>\n<p>I replaced</p>\n<pre class=\"lang-java prettyprint-override\"><code>CafeUtils.getResponseEntity(CafeConstants.INVALID DATA, HttpStatus.BAD_REQUEST);\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ResponseEntity&lt;&gt;(&quot;INVALID DATA&quot;, HttpStatus.BAD_REQUEST);\n</code></pre>\n<p>everything else is the same as yours.</p>\n"},{"tags":[],"owner":{"account_id":26748791,"reputation":1,"user_id":20348500,"display_name":"Shubham Vartak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679569114,"creation_date":1679569114,"answer_id":75822128,"question_id":75819750,"body_markdown":"hey can you provide entity or POJO file and also the UserService file so that we can check the signup fuction under it, i had tried same code and it  worked for me so i guess that there is problem in your signup  method or entity class. So plzz provide that files..!!","title":"why postman is giving 404 error even though the application is running successfully and controller is right? how to resolve this problem?","body":"<p>hey can you provide entity or POJO file and also the UserService file so that we can check the signup fuction under it, i had tried same code and it  worked for me so i guess that there is problem in your signup  method or entity class. So plzz provide that files..!!</p>\n"},{"tags":[],"owner":{"account_id":26157915,"reputation":1,"user_id":19844920,"display_name":"Ajayi Motilade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679647010,"creation_date":1679647010,"answer_id":75831501,"question_id":75819750,"body_markdown":"your endpoint is to get a request , it will only get a response in body x, y ,z.\r\nIf you change that endpoint to POST it will not work.\r\nyou need the POST endpoint and request to work. Generally, 404 error, when your request is bad. for eg missing something in the request or parameters in headers. hope this helps!","title":"why postman is giving 404 error even though the application is running successfully and controller is right? how to resolve this problem?","body":"<p>your endpoint is to get a request , it will only get a response in body x, y ,z.\nIf you change that endpoint to POST it will not work.\nyou need the POST endpoint and request to work. Generally, 404 error, when your request is bad. for eg missing something in the request or parameters in headers. hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":29874758,"reputation":1,"user_id":22895265,"display_name":"ethio_explorer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699644519,"creation_date":1699644519,"answer_id":77462433,"question_id":75819750,"body_markdown":"Check if the controller is in the root context path, since it has to be in the same path with the spring boot application main class by default unless modified. ","title":"why postman is giving 404 error even though the application is running successfully and controller is right? how to resolve this problem?","body":"<p>Check if the controller is in the root context path, since it has to be in the same path with the spring boot application main class by default unless modified.</p>\n"}],"owner":{"account_id":16348722,"reputation":3,"user_id":11807826,"display_name":"mohan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1062,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75820469,"answer_count":4,"score":0,"last_activity_date":1699644519,"creation_date":1679552137,"question_id":75819750,"body_markdown":"I am currently working on a small personal project(springboot + MYSQL), in that while testing in POSTMAN , its showing 404 resource not found . \r\n\r\nNOTE: both application and MYSQL is running successfully  without any problem  and POSTMAN is working properly.\r\n\r\ncontroller is fine as of my knowledge.\r\n\r\nwhere is the problem in code? kindly help me out.\r\n\r\n**Main class**\r\n\r\n```\r\n\r\n@SpringBootApplication   \r\n\r\npublic class CafeManagementSystemApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CafeManagementSystemApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**controller**\r\n\r\nINTERFACE :\r\n```\r\n@RequestMapping(path = &quot;/user&quot;)\r\npublic interface UserRest {\r\n\t\r\n\t@PostMapping(path = &quot;/signup&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; signup(@RequestBody(required = true) Map&lt;String,String&gt; requestMap);\r\n\r\n\t\r\n}\r\n\r\n```\r\nCLASS:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(path = &quot;/user&quot;)\r\npublic class UserRestImpl implements UserRest {\r\n\t\r\n\t@Autowired\r\n\tUserService userService;\r\n\r\n\t\r\n\t@PostMapping(path = &quot;/signup&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; signup(Map&lt;String, String&gt; requestMap) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\ttry {\r\n\t\t\treturn userService.signUp(requestMap);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn CafeUtils.getResponseEntity(CafeConstants.SOMETHING_WENT_WRONG,   HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t}\r\n\r\n}\r\n```\r\n**Service**\r\n\r\n ```\r\n@Service\r\n@Slf4j\r\npublic class UserServiceImpl  implements UserService{\r\n\r\n\t@Autowired\r\n\t UserDao userDao;       // repository\r\n\t\r\n\t@Override\r\n\tpublic ResponseEntity&lt;String&gt; signUp(Map&lt;String, String&gt; requestMap) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\r\n\t\t\t\t\tlog.info(&quot;{Inside signUp {}&quot;,requestMap);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(validateSignupMap(requestMap)) {    // method present in same class\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\tUser user=userDao.findByEmailId(requestMap.get(&quot;email&quot;));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(Objects.isNull(user)) {\r\n\t\t\t\t\t\t\tuserDao.save(getUserFromMap(requestMap));                 \r\n\t\t\t\t\t\t\treturn CafeUtils.getResponseEntity(&quot;Successfully registered &quot;, HttpStatus.OK);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\treturn CafeUtils.getResponseEntity(&quot;email already present&quot;,HttpStatus.BAD_REQUEST);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\treturn CafeUtils.getResponseEntity(CafeConstants.INVALID_DATA, HttpStatus.BAD_REQUEST);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn CafeUtils.getResponseEntity(CafeConstants.SOMETHING_WENT_WRONG, HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate Boolean validateSignupMap(Map&lt;String,String&gt; requestMap) {\r\n\t\t\r\n\t\tif(requestMap.containsKey(&quot;name&quot;) &amp;&amp; requestMap.containsKey(&quot;contactNumber&quot;) &amp;&amp; requestMap.containsKey(&quot;email&quot;) &amp;&amp; requestMap.containsKey(&quot;password&quot;))\r\n\t\t\t{\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t }\r\n\t\r\n\tprivate User getUserFromMap(Map&lt;String,String&gt; map) {          // MAP to USER object\r\n\t\t\r\n\t\tUser u= new User();\r\n\t\tu.setName(map.get(&quot;name&quot;));\r\n\t\tu.setContactNumber(map.get(&quot;contactNumber&quot;));\r\n\t\tu.setEmail(map.get(&quot;email&quot;));\r\n\t\tu.setPassword(map.get(&quot;password&quot;));\r\n\t\tu.setStatus(&quot;false&quot;);\r\n\t\tu.setRole(&quot;user&quot;);\r\n\t\t\r\n\t\treturn u;\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n\r\n\r\n```\r\n**POJO**\r\n\r\n```\r\n@NamedQuery(name=&quot;User.findByEmailId&quot;, query = &quot;select u from User u where u.email=:email&quot;)   \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t     \t\r\n\r\n@Entity\r\n@Table(name=&quot;user&quot;)\r\n@DynamicInsert\r\n@DynamicUpdate\r\n@Data\r\npublic class User  implements Serializable{\r\n\t\r\n\tprivate static final long serialVersionUID=1L;\r\n\t\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\t\r\n\t@Column(name = &quot;name&quot;)\r\n\tprivate String name;\r\n\t\r\n\t@Column(name = &quot;conatactNumber&quot;)\r\n\tprivate String contactNumber;\r\n\t\r\n\t@Column(name = &quot;email&quot;)\r\n\tprivate String email;\r\n\t\r\n\t@Column(name = &quot;password&quot;)\r\n\tprivate String password;\r\n\t\r\n\t@Column(name = &quot;status&quot;)\r\n\tprivate String status;\r\n\t\r\n\t@Column(name = &quot;role&quot;)\r\n\tprivate String role;\r\n\t\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n```\r\n\r\n**REPO **\r\n\r\n```\r\npublic interface UserDao extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n\t\r\n\tUser findByEmailId(@Param(&quot;email&quot;) String email);       \r\n}\r\n```\r\n\r\n**application.properties**\r\n\r\n```\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nspring.datasource.url=jdbc:mysql://localhost:3306/cafe?allowPublicKeyRetrieval=true&amp;useSSL=false\r\nspring.datasource.username=root\r\nspring.datasource.password=password_root\r\n\r\n\r\nspring.jpa.show-sql=true       \r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\n\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\nserver.port=8081\r\n```\r\n\r\n**POM.XML**\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.inn.cafe&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;com.inn.cafe&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Cafe Management System&lt;/name&gt;\r\n\t&lt;description&gt;Cafe Management System Project &lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t\r\n\t\t\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI tried to test in POSTMAN ,but its showing 404 error .\r\n\r\nNOTE: postman is working properly ,i have checked by testing another application.\r\n\r\nwhat the problem in the code ? where to look out for in the application\r\n\r\nwhen i hit http://localhost:8081/user/signup , i am getting 404","title":"why postman is giving 404 error even though the application is running successfully and controller is right? how to resolve this problem?","body":"<p>I am currently working on a small personal project(springboot + MYSQL), in that while testing in POSTMAN , its showing 404 resource not found .</p>\n<p>NOTE: both application and MYSQL is running successfully  without any problem  and POSTMAN is working properly.</p>\n<p>controller is fine as of my knowledge.</p>\n<p>where is the problem in code? kindly help me out.</p>\n<p><strong>Main class</strong></p>\n<pre><code>\n@SpringBootApplication   \n\npublic class CafeManagementSystemApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CafeManagementSystemApplication.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>controller</strong></p>\n<p>INTERFACE :</p>\n<pre><code>@RequestMapping(path = &quot;/user&quot;)\npublic interface UserRest {\n    \n    @PostMapping(path = &quot;/signup&quot;)\n    public ResponseEntity&lt;String&gt; signup(@RequestBody(required = true) Map&lt;String,String&gt; requestMap);\n\n    \n}\n\n</code></pre>\n<p>CLASS:</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;/user&quot;)\npublic class UserRestImpl implements UserRest {\n    \n    @Autowired\n    UserService userService;\n\n    \n    @PostMapping(path = &quot;/signup&quot;)\n    public ResponseEntity&lt;String&gt; signup(Map&lt;String, String&gt; requestMap) {\n        // TODO Auto-generated method stub\n        try {\n            return userService.signUp(requestMap);\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return CafeUtils.getResponseEntity(CafeConstants.SOMETHING_WENT_WRONG,   HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>@Service\n@Slf4j\npublic class UserServiceImpl  implements UserService{\n\n   @Autowired\n    UserDao userDao;       // repository\n   \n   @Override\n   public ResponseEntity&lt;String&gt; signUp(Map&lt;String, String&gt; requestMap) {\n       \n       try {\n       \n                   log.info(&quot;{Inside signUp {}&quot;,requestMap);\n                   \n                   if(validateSignupMap(requestMap)) {    // method present in same class\n                        \n                       User user=userDao.findByEmailId(requestMap.get(&quot;email&quot;));\n                       \n                       if(Objects.isNull(user)) {\n                           userDao.save(getUserFromMap(requestMap));                 \n                           return CafeUtils.getResponseEntity(&quot;Successfully registered &quot;, HttpStatus.OK);\n                       }\n                       else {\n                           return CafeUtils.getResponseEntity(&quot;email already present&quot;,HttpStatus.BAD_REQUEST);\n                       }\n                       \n                   }\n                   else {\n                       return CafeUtils.getResponseEntity(CafeConstants.INVALID_DATA, HttpStatus.BAD_REQUEST);\n                       \n                   }\n       }\n       catch(Exception e) {\n           e.printStackTrace();\n       }\n       \n       return CafeUtils.getResponseEntity(CafeConstants.SOMETHING_WENT_WRONG, HttpStatus.INTERNAL_SERVER_ERROR);\n       \n   }\n   \n   private Boolean validateSignupMap(Map&lt;String,String&gt; requestMap) {\n       \n       if(requestMap.containsKey(&quot;name&quot;) &amp;&amp; requestMap.containsKey(&quot;contactNumber&quot;) &amp;&amp; requestMap.containsKey(&quot;email&quot;) &amp;&amp; requestMap.containsKey(&quot;password&quot;))\n           {\n               return true;\n           }\n           return false;\n    }\n   \n   private User getUserFromMap(Map&lt;String,String&gt; map) {          // MAP to USER object\n       \n       User u= new User();\n       u.setName(map.get(&quot;name&quot;));\n       u.setContactNumber(map.get(&quot;contactNumber&quot;));\n       u.setEmail(map.get(&quot;email&quot;));\n       u.setPassword(map.get(&quot;password&quot;));\n       u.setStatus(&quot;false&quot;);\n       u.setRole(&quot;user&quot;);\n       \n       return u;\n       \n   }\n   \n   \n   \n\n}\n\n\n</code></pre>\n<p><strong>POJO</strong></p>\n<pre><code>@NamedQuery(name=&quot;User.findByEmailId&quot;, query = &quot;select u from User u where u.email=:email&quot;)   \n                                                                                        \n\n@Entity\n@Table(name=&quot;user&quot;)\n@DynamicInsert\n@DynamicUpdate\n@Data\npublic class User  implements Serializable{\n    \n    private static final long serialVersionUID=1L;\n    \n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @Column(name = &quot;name&quot;)\n    private String name;\n    \n    @Column(name = &quot;conatactNumber&quot;)\n    private String contactNumber;\n    \n    @Column(name = &quot;email&quot;)\n    private String email;\n    \n    @Column(name = &quot;password&quot;)\n    private String password;\n    \n    @Column(name = &quot;status&quot;)\n    private String status;\n    \n    @Column(name = &quot;role&quot;)\n    private String role;\n    \n    \n    \n    \n\n}\n</code></pre>\n<p>**REPO **</p>\n<pre><code>public interface UserDao extends JpaRepository&lt;User, Integer&gt; {\n\n    \n    User findByEmailId(@Param(&quot;email&quot;) String email);       \n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\nspring.datasource.url=jdbc:mysql://localhost:3306/cafe?allowPublicKeyRetrieval=true&amp;useSSL=false\nspring.datasource.username=root\nspring.datasource.password=password_root\n\n\nspring.jpa.show-sql=true       \n\nspring.jpa.hibernate.ddl-auto=update\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\n\nspring.jpa.properties.hibernate.format_sql=true\n\nserver.port=8081\n</code></pre>\n<p><strong>POM.XML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.inn.cafe&lt;/groupId&gt;\n    &lt;artifactId&gt;com.inn.cafe&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Cafe Management System&lt;/name&gt;\n    &lt;description&gt;Cafe Management System Project &lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        \n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        \n        \n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I tried to test in POSTMAN ,but its showing 404 error .</p>\n<p>NOTE: postman is working properly ,i have checked by testing another application.</p>\n<p>what the problem in the code ? where to look out for in the application</p>\n<p>when i hit http://localhost:8081/user/signup , i am getting 404</p>\n"},{"tags":["java","socketchannel"],"comments":[{"owner":{"account_id":230362,"reputation":28310,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"score":0,"creation_date":1699647696,"post_id":77462420,"comment_id":136562752,"body_markdown":"what happens if you get the associated socket through `SocketChannel.socket()` and close the socket?","body":"what happens if you get the associated socket through <code>SocketChannel.socket()</code> and close the socket?"},{"owner":{"account_id":6885553,"reputation":52,"user_id":5290751,"display_name":"Hans GD"},"score":0,"creation_date":1699659656,"post_id":77462420,"comment_id":136563930,"body_markdown":"According to the documentation of `Socket.close()` _&quot;If this socket has an associated channel then the channel is closed as well.&quot;_ And a test confirms that end of stream is sent.","body":"According to the documentation of <code>Socket.close()</code> <i>&quot;If this socket has an associated channel then the channel is closed as well.&quot;</i> And a test confirms that end of stream is sent."}],"owner":{"account_id":6885553,"reputation":52,"user_id":5290751,"display_name":"Hans GD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699644389,"creation_date":1699644389,"question_id":77462420,"body_markdown":"Is it possible to close the `SocketChannel` without sending an end of stream message?\r\n\r\nI want to free the socket resource from an application A but without the other side (application B) noticing it has ended, just as it would happen if A&#39;s computer suddenly disconnected from power source.\r\nObviously, B would notice it with socket keepalives eventually, but I don&#39;t want it to notice it by the end of stream message.","title":"Close SocketChannel ungracefully on purpose","body":"<p>Is it possible to close the <code>SocketChannel</code> without sending an end of stream message?</p>\n<p>I want to free the socket resource from an application A but without the other side (application B) noticing it has ended, just as it would happen if A's computer suddenly disconnected from power source.\nObviously, B would notice it with socket keepalives eventually, but I don't want it to notice it by the end of stream message.</p>\n"},{"tags":["java","spring","websocket","spring-websocket","sockjs"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1699042422,"post_id":77419377,"comment_id":136486312,"body_markdown":"You should consider posting this to Github, if there isn&#39;t already a library for Web Sockets in spring posted there.","body":"You should consider posting this to Github, if there isn&#39;t already a library for Web Sockets in spring posted there."},{"owner":{"account_id":16675767,"reputation":562,"user_id":12052235,"display_name":"Benjamin Barb&#233;"},"score":0,"creation_date":1699051885,"post_id":77419377,"comment_id":136487410,"body_markdown":"Hello, what do you mean? I&#39;m using spring web socket library","body":"Hello, what do you mean? I&#39;m using spring web socket library"},{"owner":{"account_id":16675767,"reputation":562,"user_id":12052235,"display_name":"Benjamin Barb&#233;"},"score":0,"creation_date":1699052753,"post_id":77419377,"comment_id":136487480,"body_markdown":"I added details after investigation, it works with sending to all user, but I&#39;m missing something for one user","body":"I added details after investigation, it works with sending to all user, but I&#39;m missing something for one user"}],"answers":[{"tags":[],"owner":{"account_id":21222460,"reputation":326,"user_id":15608713,"display_name":"i_m_js"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699643760,"creation_date":1699643760,"answer_id":77462363,"question_id":77419377,"body_markdown":"SimpMessagingTemplate#convertAndSendToUser will internally prefix &quot;/user&quot; (the default user destination prefix, which you can configure though) and append the username and the provided destination to it, and use that as the message destination.\r\n\r\nSo you will have to subscribe to `/user/{employee-email}/notification` in your client. And also register `/user` in your simpleBroker list.\r\n","title":"Send to specific user does not work Java Spring WebSockets for Sending Notifications","body":"<p>SimpMessagingTemplate#convertAndSendToUser will internally prefix &quot;/user&quot; (the default user destination prefix, which you can configure though) and append the username and the provided destination to it, and use that as the message destination.</p>\n<p>So you will have to subscribe to <code>/user/{employee-email}/notification</code> in your client. And also register <code>/user</code> in your simpleBroker list.</p>\n"}],"owner":{"account_id":16675767,"reputation":562,"user_id":12052235,"display_name":"Benjamin Barb&#233;"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77462363,"answer_count":1,"score":-2,"last_activity_date":1699643760,"creation_date":1699041235,"question_id":77419377,"body_markdown":"Hello fellow developers,\r\n\r\nI recently implemented Java Spring WebSockets to send notifications in my application, the websocket communication works with convertAndSend when I send to all users but **not to a specific user** \r\n\r\nWebSocket Configuration (WebSocketBrokerConfiguration.java):\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketBrokerConfiguration implements WebSocketMessageBrokerConfigurer {\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/ws&quot;).withSockJS();\r\n    }\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n        registry.enableSimpleBroker(&quot;/notification&quot;);\r\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n}\r\n```\r\nSecurity Configuration (SecurityConfiguration.java):\r\n\r\n```java\r\n.authorizeHttpRequests(authz -&gt;\r\n    authz.requestMatchers(&quot;*/ws/**&quot;).permitAll()\r\n```\r\nSending Notifications in Resource:\r\n\r\n```java\r\n\r\nthis.simpMessagingTemplate.convertAndSendToUser(\r\n    employee.getEmail(),\r\n    &quot;/notification&quot;,\r\n    new NotificationDTO(\r\n        NotificationTypeEnum.NEW_REQUEST,\r\n        &quot;A new request has been made&quot;\r\n    ));\r\n```\r\nFrontend Implementation (Angular - Main Component):\r\n\r\n```typescript\r\n\r\nconst stompClient: Client = this.notificationService.connect();\r\nstompClient.connect({}, frame =&gt; {\r\n    console.log(&#39;[Websocket] Connected: &#39; + frame);\r\n    stompClient.subscribe(&#39;/user/notification&#39;, data =&gt; {\r\n        console.log(&#39;[Websocket] &#39;, data);\r\n    });\r\n});\r\n```\r\n\r\nnotificationService (Angular):\r\n\r\n```typescript\r\nconnect(): Client {\r\n    const socket = new SockJs(&#39;/ws&#39;);\r\n    const stompClient = Stomp.over(socket);\r\n    return stompClient;\r\n}\r\n```\r\n**Issue Faced:**\r\nThe WebSocket connection appears to be established correctly, and the subscription is set up in the frontend. However, notifications sent using convertAndSendToUser are not received by the employee account that subscribed to /user/notification.\r\n","title":"Send to specific user does not work Java Spring WebSockets for Sending Notifications","body":"<p>Hello fellow developers,</p>\n<p>I recently implemented Java Spring WebSockets to send notifications in my application, the websocket communication works with convertAndSend when I send to all users but <strong>not to a specific user</strong></p>\n<p>WebSocket Configuration (WebSocketBrokerConfiguration.java):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketBrokerConfiguration implements WebSocketMessageBrokerConfigurer {\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/ws&quot;).withSockJS();\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\n        registry.enableSimpleBroker(&quot;/notification&quot;);\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n}\n</code></pre>\n<p>Security Configuration (SecurityConfiguration.java):</p>\n<pre class=\"lang-java prettyprint-override\"><code>.authorizeHttpRequests(authz -&gt;\n    authz.requestMatchers(&quot;*/ws/**&quot;).permitAll()\n</code></pre>\n<p>Sending Notifications in Resource:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nthis.simpMessagingTemplate.convertAndSendToUser(\n    employee.getEmail(),\n    &quot;/notification&quot;,\n    new NotificationDTO(\n        NotificationTypeEnum.NEW_REQUEST,\n        &quot;A new request has been made&quot;\n    ));\n</code></pre>\n<p>Frontend Implementation (Angular - Main Component):</p>\n<pre class=\"lang-js prettyprint-override\"><code>\nconst stompClient: Client = this.notificationService.connect();\nstompClient.connect({}, frame =&gt; {\n    console.log('[Websocket] Connected: ' + frame);\n    stompClient.subscribe('/user/notification', data =&gt; {\n        console.log('[Websocket] ', data);\n    });\n});\n</code></pre>\n<p>notificationService (Angular):</p>\n<pre class=\"lang-js prettyprint-override\"><code>connect(): Client {\n    const socket = new SockJs('/ws');\n    const stompClient = Stomp.over(socket);\n    return stompClient;\n}\n</code></pre>\n<p><strong>Issue Faced:</strong>\nThe WebSocket connection appears to be established correctly, and the subscription is set up in the frontend. However, notifications sent using convertAndSendToUser are not received by the employee account that subscribed to /user/notification.</p>\n"},{"tags":["java","sqlite","jdbc"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":1,"creation_date":1699647382,"post_id":77462303,"comment_id":136562712,"body_markdown":"Don&#39;t link pictures in your question. It takes even less effort to copy and paste logs, code, etc. rather than grabbing and linking screenshots. That said, here&#39;s the obvious question: Do you actually have a table called &quot;users&quot; in your SQLite DB?","body":"Don&#39;t link pictures in your question. It takes even less effort to copy and paste logs, code, etc. rather than grabbing and linking screenshots. That said, here&#39;s the obvious question: Do you actually have a table called &quot;users&quot; in your SQLite DB?"}],"owner":{"account_id":29770325,"reputation":1,"user_id":22815730,"display_name":"DEVampi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699642854,"creation_date":1699642854,"question_id":77462303,"body_markdown":"I want to connect to my .db file, created and modified using DB Browser and SQLite to collect user data such as: name, id, username... But when executing &quot;SELECT * FROM users&quot; it gives the error that can be seen in the paste.gg that I have put below\r\n\r\n# https://paste.gg/p/anonymous/eb592161889f45778b61b6467b8aadf9","title":"Error while getting an SQLite table in Java","body":"<p>I want to connect to my .db file, created and modified using DB Browser and SQLite to collect user data such as: name, id, username... But when executing &quot;SELECT * FROM users&quot; it gives the error that can be seen in the paste.gg that I have put below</p>\n<h1><a href=\"https://paste.gg/p/anonymous/eb592161889f45778b61b6467b8aadf9\" rel=\"nofollow noreferrer\">https://paste.gg/p/anonymous/eb592161889f45778b61b6467b8aadf9</a></h1>\n"},{"tags":["java","forms","session","servlets"],"answers":[{"tags":[],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699642783,"creation_date":1669746007,"answer_id":74618591,"question_id":74617980,"body_markdown":"```\r\nHttpSession session = request.getSession(); \r\nArrayList&lt;Product&gt; cart = new ArrayList&lt;Product&gt;(); \r\nsession.setAttribute(&quot;InCart&quot;, cart);\r\n```\r\n\r\nYou are always creating a new cart object and adding it to your HttpSession.  Overwriting any existing ArrayList that was created on previous requests.\r\n\r\nIt might be better to check to see if the ArrayList called &quot;InCart&quot; exists in the session first and if not, then create it and add it to the HttpSession.\r\n\r\n```\r\nHttpSession session = request.getSession(); \r\n\r\nList&lt;Product&gt; cart = (List&lt;Product&gt;) session.getAttribute(&quot;InCart&quot;);\r\n\r\nif (cart == null) {\r\n\r\n    cart = new ArrayList&lt;Product&gt;(); \r\n    session.setAttribute(&quot;InCart&quot;, cart);\r\n}\r\n```","title":"How can I make my servlet maintain / have the capability of updating the contents of my array list?","body":"<pre><code>HttpSession session = request.getSession(); \nArrayList&lt;Product&gt; cart = new ArrayList&lt;Product&gt;(); \nsession.setAttribute(&quot;InCart&quot;, cart);\n</code></pre>\n<p>You are always creating a new cart object and adding it to your HttpSession.  Overwriting any existing ArrayList that was created on previous requests.</p>\n<p>It might be better to check to see if the ArrayList called &quot;InCart&quot; exists in the session first and if not, then create it and add it to the HttpSession.</p>\n<pre><code>HttpSession session = request.getSession(); \n\nList&lt;Product&gt; cart = (List&lt;Product&gt;) session.getAttribute(&quot;InCart&quot;);\n\nif (cart == null) {\n\n    cart = new ArrayList&lt;Product&gt;(); \n    session.setAttribute(&quot;InCart&quot;, cart);\n}\n</code></pre>\n"}],"owner":{"account_id":27087704,"reputation":13,"user_id":20635946,"display_name":"Luke Santi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74618591,"answer_count":1,"score":0,"last_activity_date":1699642783,"creation_date":1669742956,"question_id":74617980,"body_markdown":"In my home page, I have the following code:\r\n\r\n\r\n```\r\n&lt;h2&gt;Item 1&lt;/h2&gt;\r\n&lt;p&gt;100.00&lt;/p&gt; \r\n&lt;form action= &quot;addtoCart&quot; method=&quot;POST&quot;&gt;\r\n    &lt;input type=&quot;hidden&quot; name=&quot;item1&quot; value=&quot;1&quot;/&gt;\r\n    &lt;button value=&quot;add&quot;&gt;Add this to cart&lt;/button&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;h2&gt;Item 2&lt;/h2&gt;\r\n&lt;p&gt;50.00&lt;/p&gt; \r\n&lt;form action= &quot;addtoCart&quot; method=&quot;POST&quot;&gt;\r\n    &lt;input type=&quot;hidden&quot; name=&quot;item2&quot; value=&quot;2&quot;/&gt;\r\n    &lt;button type=&quot;submit&quot; value=&quot;add&quot;&gt;Add this to cart&lt;/button&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\nFor my servlet, I have the following:\r\n```\r\nHttpSession session = request.getSession(); \r\nArrayList&lt;Product&gt; cart = new ArrayList&lt;Product&gt;(); \r\nsession.setAttribute(&quot;InCart&quot;, cart);\r\n\r\nProduct a = new Product(&quot;Item 1&quot;, 200);\r\nProduct b = new Product(&quot;Item 2&quot;, 50);\r\n\r\nif ((request.getParameter(&quot;item1&quot;)) != null) {\r\n\r\n    cart.add(a);\r\n    out.println(cart.toString());\r\n\r\n\r\n} else if ((request.getParameter(&quot;item2&quot;)) != null) {\r\n\r\n    cart.add(b);\r\n    out.print(cart.toString());\r\n}\r\n```\r\n\r\nIn my code, if I click the Add to Cart button for item 1, I get redirected to my servlet and it successfully displays the list (which currently has product a). Now if I go back to my home page and click the Add to Cart button for item 2, the servlet does not maintain the contents, it only ends up printing the list which only has product b.\r\n\r\nMy desired outcome would be that the list prints out product a + product b (since I clicked the button for item 1 and item 2). I am almost sure that it has to do with properly handling my sessions, but I can&#39;t figure out what I am doing wrong.","title":"How can I make my servlet maintain / have the capability of updating the contents of my array list?","body":"<p>In my home page, I have the following code:</p>\n<pre><code>&lt;h2&gt;Item 1&lt;/h2&gt;\n&lt;p&gt;100.00&lt;/p&gt; \n&lt;form action= &quot;addtoCart&quot; method=&quot;POST&quot;&gt;\n    &lt;input type=&quot;hidden&quot; name=&quot;item1&quot; value=&quot;1&quot;/&gt;\n    &lt;button value=&quot;add&quot;&gt;Add this to cart&lt;/button&gt;\n&lt;/form&gt;\n\n&lt;h2&gt;Item 2&lt;/h2&gt;\n&lt;p&gt;50.00&lt;/p&gt; \n&lt;form action= &quot;addtoCart&quot; method=&quot;POST&quot;&gt;\n    &lt;input type=&quot;hidden&quot; name=&quot;item2&quot; value=&quot;2&quot;/&gt;\n    &lt;button type=&quot;submit&quot; value=&quot;add&quot;&gt;Add this to cart&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p>For my servlet, I have the following:</p>\n<pre><code>HttpSession session = request.getSession(); \nArrayList&lt;Product&gt; cart = new ArrayList&lt;Product&gt;(); \nsession.setAttribute(&quot;InCart&quot;, cart);\n\nProduct a = new Product(&quot;Item 1&quot;, 200);\nProduct b = new Product(&quot;Item 2&quot;, 50);\n\nif ((request.getParameter(&quot;item1&quot;)) != null) {\n\n    cart.add(a);\n    out.println(cart.toString());\n\n\n} else if ((request.getParameter(&quot;item2&quot;)) != null) {\n\n    cart.add(b);\n    out.print(cart.toString());\n}\n</code></pre>\n<p>In my code, if I click the Add to Cart button for item 1, I get redirected to my servlet and it successfully displays the list (which currently has product a). Now if I go back to my home page and click the Add to Cart button for item 2, the servlet does not maintain the contents, it only ends up printing the list which only has product b.</p>\n<p>My desired outcome would be that the list prints out product a + product b (since I clicked the button for item 1 and item 2). I am almost sure that it has to do with properly handling my sessions, but I can't figure out what I am doing wrong.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1699637925,"post_id":77461566,"comment_id":136561361,"body_markdown":"Please update the question with the full stack trace from the failing test.","body":"Please update the question with the full stack trace from the failing test."}],"answers":[{"tags":[],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699642686,"creation_date":1699642686,"answer_id":77462290,"question_id":77461566,"body_markdown":"Hard to say what is causing this without a fully reproduceable example. However, if all you want is to avoid `FooImpl` from being instantiated during your integration tests then just made this bean not available for test profile.\r\n\r\n    @Component\r\n    @Profile(&quot;!test&quot;)\r\n    public class FooImpl implements FooInterface {\r\n        // ...\r\n    }","title":"Can I mock a spring boot class method with eventListener(ApplicationReadyEvent) annotation?","body":"<p>Hard to say what is causing this without a fully reproduceable example. However, if all you want is to avoid <code>FooImpl</code> from being instantiated during your integration tests then just made this bean not available for test profile.</p>\n<pre><code>@Component\n@Profile(&quot;!test&quot;)\npublic class FooImpl implements FooInterface {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":7441791,"reputation":11,"user_id":5659348,"display_name":"biro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699642686,"creation_date":1699634278,"question_id":77461566,"body_markdown":"I need to have some initialization in my application. To do so, I use the spring boot annotation `@EventListener(ApplicationReadyEvent.class)`. This works well but is (for me) a nightmare when it comes to testing the application.\r\n\r\nI always get an error &quot;IllegalState Failed to load ApplicationContext&quot;, when I execute the test.\r\n\r\nFor better understanding a minimal example:\r\n\r\n    @Component\r\n    public class FooImpl implements FooInterface {\r\n\r\n        @Autowired\r\n        private MyService anotherServiceIneed;\r\n\r\n        Logger logger = LoggerFactory.getLogger(FooImpl.class);\r\n\r\n        @EventListener(ApplicationReadyEvent.class)\r\n        @Order(1)\r\n        public void doSomethingonApplicationStartup() {\r\n            // do stuff with anotherServiceIneed\r\n        }\r\n    }\r\n\r\nWhen I test other parts of my application, then, of course, everytime the ```doSomethingonApplicationStartup()``` is called (Because the ApplicationContext starts).\r\n\r\nI tried so many approaches, but always I got the error\r\n\r\nFor example:\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\npublic class AnotherPartOfTheApplication {\r\n    @MockBean\r\n    FooImpl fooimpl;\r\n\r\n    @Test\r\n    public void testMethod() { //do something }\r\n\r\n}\r\n```\r\nis not working. Also When I try to mock the ```doSomethingonApplicationStartup()``` method with ```@Before``` ```@BeforeAll``` is not working...\r\n\r\nI also tried it with ```@MockBean MyService``` in the test class, but without success.\r\n\r\n\r\nCan someone help me, how to test a simple ApplicationReadyEvent annotated method in Spring Boot?\r\n\r\nThanks.","title":"Can I mock a spring boot class method with eventListener(ApplicationReadyEvent) annotation?","body":"<p>I need to have some initialization in my application. To do so, I use the spring boot annotation <code>@EventListener(ApplicationReadyEvent.class)</code>. This works well but is (for me) a nightmare when it comes to testing the application.</p>\n<p>I always get an error &quot;IllegalState Failed to load ApplicationContext&quot;, when I execute the test.</p>\n<p>For better understanding a minimal example:</p>\n<pre><code>@Component\npublic class FooImpl implements FooInterface {\n\n    @Autowired\n    private MyService anotherServiceIneed;\n\n    Logger logger = LoggerFactory.getLogger(FooImpl.class);\n\n    @EventListener(ApplicationReadyEvent.class)\n    @Order(1)\n    public void doSomethingonApplicationStartup() {\n        // do stuff with anotherServiceIneed\n    }\n}\n</code></pre>\n<p>When I test other parts of my application, then, of course, everytime the <code>doSomethingonApplicationStartup()</code> is called (Because the ApplicationContext starts).</p>\n<p>I tried so many approaches, but always I got the error</p>\n<p>For example:</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\npublic class AnotherPartOfTheApplication {\n    @MockBean\n    FooImpl fooimpl;\n\n    @Test\n    public void testMethod() { //do something }\n\n}\n</code></pre>\n<p>is not working. Also When I try to mock the <code>doSomethingonApplicationStartup()</code> method with <code>@Before</code> <code>@BeforeAll</code> is not working...</p>\n<p>I also tried it with <code>@MockBean MyService</code> in the test class, but without success.</p>\n<p>Can someone help me, how to test a simple ApplicationReadyEvent annotated method in Spring Boot?</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699642593,"creation_date":1669823447,"answer_id":74630566,"question_id":74630404,"body_markdown":"I am fairly confident that the first value would be considered the schema name.\r\n\r\nPerhaps trying the following would work?\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;BAR&quot; schema=&quot;FOO&quot;)\r\npublic class SomeClassName {\r\n\r\n}\r\n```","title":"I am using JAVA Spring Boot REST API and Hibernate/JPA issue is with table name when the name I need to access contains a dot in the name like FOO.BAR","body":"<p>I am fairly confident that the first value would be considered the schema name.</p>\n<p>Perhaps trying the following would work?</p>\n<pre><code>@Entity\n@Table(name=&quot;BAR&quot; schema=&quot;FOO&quot;)\npublic class SomeClassName {\n\n}\n</code></pre>\n"}],"owner":{"account_id":27100474,"reputation":21,"user_id":20647131,"display_name":"Richard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74630566,"answer_count":1,"score":2,"last_activity_date":1699642593,"creation_date":1669822755,"question_id":74630404,"body_markdown":"The problem is when hibernate builds the query it ignores the dot and sets the prepared statement &quot;from&quot; to look like\r\n\r\n&quot;from foo_bar&quot;  when it needs to actually be &quot;foo.bar&quot;  So even though it connects to the primary database fine it never finds the table.  This is a DB2 schema where it is Database-&gt;table.sub-table ( not a join but a naming convention the DBA&#39;s use).\r\n\r\nI have tried adding the dot in the `@Table name` prop\r\n\r\nA snippet example is like:\r\n```\r\n@Entity\r\n@Table(name=&quot;FOO.BAR&quot;)\r\npublic class SomeClassName {\r\n\r\n}\r\n```\r\n\r\nI tried using the application.properties \r\nspring.datasource.url=jdbc:db2://server:port/dbname and modifying that. Any ideas? Do I need to create my own naming convention or something?","title":"I am using JAVA Spring Boot REST API and Hibernate/JPA issue is with table name when the name I need to access contains a dot in the name like FOO.BAR","body":"<p>The problem is when hibernate builds the query it ignores the dot and sets the prepared statement &quot;from&quot; to look like</p>\n<p>&quot;from foo_bar&quot;  when it needs to actually be &quot;foo.bar&quot;  So even though it connects to the primary database fine it never finds the table.  This is a DB2 schema where it is Database-&gt;table.sub-table ( not a join but a naming convention the DBA's use).</p>\n<p>I have tried adding the dot in the <code>@Table name</code> prop</p>\n<p>A snippet example is like:</p>\n<pre><code>@Entity\n@Table(name=&quot;FOO.BAR&quot;)\npublic class SomeClassName {\n\n}\n</code></pre>\n<p>I tried using the application.properties\nspring.datasource.url=jdbc:db2://server:port/dbname and modifying that. Any ideas? Do I need to create my own naming convention or something?</p>\n"},{"tags":["java","spring-boot","arcgis","esri"],"owner":{"account_id":7671769,"reputation":123,"user_id":5813771,"display_name":"Eduardo B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699642092,"creation_date":1699642092,"question_id":77462246,"body_markdown":"I have a server-client architecture, backend using java with spring boot and front with javascript using react. I using the ArcGis framework to plot forms in a map.\r\n\r\nIn the frontend i&#39;m only plot a poligon and in backend it&#39;s maded the calculations. \r\nIt&#39;s returned to the frontend a Geometry object that&#39;s parsed to a json and then getting the coordinates to make the polygon.\r\n\r\nHere is the backend logic.\r\n\r\n    public FinalBufferModel getBuffers(BufferModel pointsModel){ \r\n        \r\n        Point point[] = new Point[pointsModel.getGeometries().size()];\r\n        \r\n        var distances = new double[pointsModel.getGeometries().size()];\r\n        var cautionAreaLength = pointsModel.getCautionAreaLength();\r\n        var warningAreaLength = pointsModel.getWarningAreaLength(); \r\n        \r\n        for (int i = 0; i &lt; pointsModel.getGeometries().size(); i++) {\r\n            \r\n            point[i] = new Point(pointsModel.getGeometries().get(i).getX(), pointsModel.getGeometries().get(i).getY());\r\n            distances[i] = 1.0;\r\n            \r\n        }          \r\n                \r\n        var spatialReference = SpatialReference.create(pointsModel.getSpatialReference().getWkid().intValue());        \r\n        var finalBuffers = GeometryEngine.buffer(point, spatialReference, distances, true);        \r\n        var finalBuffer = GeometryEngine.union(finalBuffers, spatialReference);                  \r\n        \r\n        var finalBufferYellow = GeometryEngine.buffer(finalBuffer, spatialReference, cautionAreaLength);        \r\n        var finalBufferRed = GeometryEngine.buffer(finalBufferYellow, spatialReference, warningAreaLength);\r\n        var finalBufferBlack = GeometryEngine.buffer(finalBufferRed, spatialReference, 200);\r\n        \r\n        \r\n        var finalBufferBlack1 = GeometryEngine.difference(finalBufferBlack, finalBufferRed, spatialReference);\r\n        var finalBufferRed1 = GeometryEngine.difference(finalBufferRed, finalBufferYellow, spatialReference);\r\n        var finalBufferYellow1 = GeometryEngine.difference(finalBufferYellow, finalBuffer, spatialReference);  \r\n        \r\n        //finalBufferBlack1 = GeometryEngine.union(fin, spatialReference); \r\n        \r\n               \r\n        return new FinalBufferModel(\r\n                GeometryEngine.geometryToGeoJson(finalBufferBlack1),\r\n                GeometryEngine.geometryToGeoJson(finalBufferRed1),\r\n                GeometryEngine.geometryToGeoJson(finalBufferYellow1\r\n                )\r\n        );\r\n\r\nThe objects finalBufferBlack1, finalBufferRed1, finalBufferYellow1 will be parsed in front end and then i can get the 2d coordinates. But in the map i plot several polygons, and when there more than 1 polygon, it&#39;s return to frontend a &#39;Multipoligon&#39; object, that&#39;s have a array of coordinates. I want to union this coordinates in backend, to remove any logic to the frontend, because i&#39;m not abble to get this array of coordinates in backend.\r\n\r\nThank&#39;s for any help\r\n    \r\n\r\n\r\n","title":"Get 2d coordinates of a geometry object from esri geometry api","body":"<p>I have a server-client architecture, backend using java with spring boot and front with javascript using react. I using the ArcGis framework to plot forms in a map.</p>\n<p>In the frontend i'm only plot a poligon and in backend it's maded the calculations.\nIt's returned to the frontend a Geometry object that's parsed to a json and then getting the coordinates to make the polygon.</p>\n<p>Here is the backend logic.</p>\n<pre><code>public FinalBufferModel getBuffers(BufferModel pointsModel){ \n    \n    Point point[] = new Point[pointsModel.getGeometries().size()];\n    \n    var distances = new double[pointsModel.getGeometries().size()];\n    var cautionAreaLength = pointsModel.getCautionAreaLength();\n    var warningAreaLength = pointsModel.getWarningAreaLength(); \n    \n    for (int i = 0; i &lt; pointsModel.getGeometries().size(); i++) {\n        \n        point[i] = new Point(pointsModel.getGeometries().get(i).getX(), pointsModel.getGeometries().get(i).getY());\n        distances[i] = 1.0;\n        \n    }          \n            \n    var spatialReference = SpatialReference.create(pointsModel.getSpatialReference().getWkid().intValue());        \n    var finalBuffers = GeometryEngine.buffer(point, spatialReference, distances, true);        \n    var finalBuffer = GeometryEngine.union(finalBuffers, spatialReference);                  \n    \n    var finalBufferYellow = GeometryEngine.buffer(finalBuffer, spatialReference, cautionAreaLength);        \n    var finalBufferRed = GeometryEngine.buffer(finalBufferYellow, spatialReference, warningAreaLength);\n    var finalBufferBlack = GeometryEngine.buffer(finalBufferRed, spatialReference, 200);\n    \n    \n    var finalBufferBlack1 = GeometryEngine.difference(finalBufferBlack, finalBufferRed, spatialReference);\n    var finalBufferRed1 = GeometryEngine.difference(finalBufferRed, finalBufferYellow, spatialReference);\n    var finalBufferYellow1 = GeometryEngine.difference(finalBufferYellow, finalBuffer, spatialReference);  \n    \n    //finalBufferBlack1 = GeometryEngine.union(fin, spatialReference); \n    \n           \n    return new FinalBufferModel(\n            GeometryEngine.geometryToGeoJson(finalBufferBlack1),\n            GeometryEngine.geometryToGeoJson(finalBufferRed1),\n            GeometryEngine.geometryToGeoJson(finalBufferYellow1\n            )\n    );\n</code></pre>\n<p>The objects finalBufferBlack1, finalBufferRed1, finalBufferYellow1 will be parsed in front end and then i can get the 2d coordinates. But in the map i plot several polygons, and when there more than 1 polygon, it's return to frontend a 'Multipoligon' object, that's have a array of coordinates. I want to union this coordinates in backend, to remove any logic to the frontend, because i'm not abble to get this array of coordinates in backend.</p>\n<p>Thank's for any help</p>\n"},{"tags":["java","multithreading","executorservice"],"comments":[{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":2,"creation_date":1415998347,"post_id":26938210,"comment_id":42421493,"body_markdown":"Both examples use `ExecutorService` instead of creating new Threads, so I&#39;m not sure what you&#39;re comparing between the 2 examples in that case. Is your confusion about when to use `Runnable` and when to use `Callable`?","body":"Both examples use <code>ExecutorService</code> instead of creating new Threads, so I&#39;m not sure what you&#39;re comparing between the 2 examples in that case. Is your confusion about when to use <code>Runnable</code> and when to use <code>Callable</code>?"}],"answers":[{"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1699641829,"creation_date":1415999317,"answer_id":26938900,"question_id":26938210,"body_markdown":"While the question and the sample code do not correlate, I&#39;ll try clarifying both.\r\n\r\nThe advantage of `ExecutorService` over haphazardly spawning threads is that it behaves _predictably_ and avoids the overhead of thread creation, which is relatively big on the JVM (it needs to reserve memory for each thread, for example).\r\n\r\nBy predictability, I mean you can control the number of concurrent threads, and you know when and how they might get created and destroyed (so your JVM won&#39;t blow up in case of sudden peaks, and threads won&#39;t be left abandoned leaking memory). You can pass an `ExecutorService` instance around so that various parts of your program can submit tasks to it, while you still manage it in a single location, fully transparently. You can then substitute the exact implementation based e.g. on configuration or environment. For example, you may want to have a different amount of pooled threads based on the number of available CPUs.   \r\nAn `ExecutorService` can also be precisely _scoped_, and shut down when the scope is exited (via `shutdown()`).\r\n\r\nA `fixedThreadPool` uses a pool of threads that won&#39;t grow beyond what it is allocated.\r\n\r\nA `cachedThreadPool` doesn&#39;t have a max, but will reuse cached threads for a period of time. It&#39;s mostly used in cases where many small tasks need to be frequently executed concurrently.\r\n\r\nA `singleThreadExecutor` is for async tasks executed serially.\r\n\r\nThere are others, like `newScheduledThreadPool` for periodically repeating tasks, `newWorkStealingPool` for tasks that can be forked into subtasks and a few others. Explore the [`Executors`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/Executors.html) class for the details.\r\n\r\nAs of JVM 18, virtual threads are a thing, and these can be created cheaply, so they change the picture significantly. An `ExecutorService` that creates a new virtual thread each time can be obtained via `newVirtualThreadPerTaskExecutor`. The advantage of using this versus spawning threads manually is not performance-centric as much as _structural_ in that it allows for scoping and other benefits explained above, and interoperability with existing APIs that expect an `ExecutorService`.\r\n\r\nNow, on the topic of `Runnable` vs `Callable`, it is easy to see from your examples. `Callable`s can return a value place-holder (`Future`) that will eventually be populated by an actual value in the future. `Runnable`s can not return anything. Additionally, a `Runnable` also can&#39;t throw exceptions, while a `Callable` can.","title":"ExecutorService vs Casual Thread Spawner","body":"<p>While the question and the sample code do not correlate, I'll try clarifying both.</p>\n<p>The advantage of <code>ExecutorService</code> over haphazardly spawning threads is that it behaves <em>predictably</em> and avoids the overhead of thread creation, which is relatively big on the JVM (it needs to reserve memory for each thread, for example).</p>\n<p>By predictability, I mean you can control the number of concurrent threads, and you know when and how they might get created and destroyed (so your JVM won't blow up in case of sudden peaks, and threads won't be left abandoned leaking memory). You can pass an <code>ExecutorService</code> instance around so that various parts of your program can submit tasks to it, while you still manage it in a single location, fully transparently. You can then substitute the exact implementation based e.g. on configuration or environment. For example, you may want to have a different amount of pooled threads based on the number of available CPUs.<br />\nAn <code>ExecutorService</code> can also be precisely <em>scoped</em>, and shut down when the scope is exited (via <code>shutdown()</code>).</p>\n<p>A <code>fixedThreadPool</code> uses a pool of threads that won't grow beyond what it is allocated.</p>\n<p>A <code>cachedThreadPool</code> doesn't have a max, but will reuse cached threads for a period of time. It's mostly used in cases where many small tasks need to be frequently executed concurrently.</p>\n<p>A <code>singleThreadExecutor</code> is for async tasks executed serially.</p>\n<p>There are others, like <code>newScheduledThreadPool</code> for periodically repeating tasks, <code>newWorkStealingPool</code> for tasks that can be forked into subtasks and a few others. Explore the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\"><code>Executors</code></a> class for the details.</p>\n<p>As of JVM 18, virtual threads are a thing, and these can be created cheaply, so they change the picture significantly. An <code>ExecutorService</code> that creates a new virtual thread each time can be obtained via <code>newVirtualThreadPerTaskExecutor</code>. The advantage of using this versus spawning threads manually is not performance-centric as much as <em>structural</em> in that it allows for scoping and other benefits explained above, and interoperability with existing APIs that expect an <code>ExecutorService</code>.</p>\n<p>Now, on the topic of <code>Runnable</code> vs <code>Callable</code>, it is easy to see from your examples. <code>Callable</code>s can return a value place-holder (<code>Future</code>) that will eventually be populated by an actual value in the future. <code>Runnable</code>s can not return anything. Additionally, a <code>Runnable</code> also can't throw exceptions, while a <code>Callable</code> can.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1479895776,"creation_date":1453378562,"answer_id":34923574,"question_id":26938210,"body_markdown":"[ExecutorService][1] provides many advantages compared to plain threads\r\n\r\n1. You can create/manage/control life cycle of *Threads* &amp; optimize thread creation cost overheads\r\n2. You can *control processing of tasks* ( Work Stealing, ForkJoinPool, invokeAll) etc.\r\n3. You can schedule tasks in *Future* time\r\n4. You can *monitor the progress and health of threads*\r\n\r\nEven for a single Thread, I prefer to use `Executors.newFixedThreadPool(1);`\r\n\r\nHave a look at related SE questions:\r\n\r\nhttps://stackoverflow.com/questions/21156599/javas-fork-join-vs-executorservice-when-to-use-which/34922218#34922218\r\n\r\nhttps://stackoverflow.com/questions/3984076/what-are-the-advantages-of-using-an-executorservice\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html","title":"ExecutorService vs Casual Thread Spawner","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"noreferrer\">ExecutorService</a> provides many advantages compared to plain threads</p>\n\n<ol>\n<li>You can create/manage/control life cycle of <em>Threads</em> &amp; optimize thread creation cost overheads</li>\n<li>You can <em>control processing of tasks</em> ( Work Stealing, ForkJoinPool, invokeAll) etc.</li>\n<li>You can schedule tasks in <em>Future</em> time</li>\n<li>You can <em>monitor the progress and health of threads</em></li>\n</ol>\n\n<p>Even for a single Thread, I prefer to use <code>Executors.newFixedThreadPool(1);</code></p>\n\n<p>Have a look at related SE questions:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/21156599/javas-fork-join-vs-executorservice-when-to-use-which/34922218#34922218\">Java&#39;s Fork/Join vs ExecutorService - when to use which?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/3984076/what-are-the-advantages-of-using-an-executorservice\">What are the advantages of using an ExecutorService?</a></p>\n"}],"owner":{"account_id":5155870,"reputation":700,"user_id":4129131,"accept_rate":100,"display_name":"Philippe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24421,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":26938900,"answer_count":2,"score":29,"last_activity_date":1699641829,"creation_date":1415996517,"question_id":26938210,"body_markdown":"I have a basic question about how `ExecutorService` works in Java.\r\n\r\nIt is quite hard to see the difference between simply creating `Threads` to perform some tasks in parallel and assigning each tasks to the `ThreadPool`.\r\n\r\n\r\nThe `ExecutorService` also looks very simple and efficient to use, so I was wondering why we don&#39;t use it all the time. \r\n\r\nIs it just a matter of one way executing its job faster than the other ?\r\n\r\nHere&#39;s two very simple examples to show the difference between the two ways :\r\n\r\n**Using executor service: Hello World (task)** \r\n\r\n    static class HelloTask implements Runnable {\r\n        String msg;\r\n\r\n        public HelloTask(String msg) {\r\n            this.msg = msg; \r\n        }\r\n        public void run() {\r\n            long id = Thread.currentThread().getId();\r\n            System.out.println(msg + &quot; from thread:&quot; + id);\r\n        }\r\n    }\r\n\r\n**Using executor service: Hello World (creating executor, submitting)**\r\n\r\n    static class HelloTask {\r\n        public static void main(String[] args) {\r\n            int ntasks = 1000;\r\n            ExecutorService exs = Executors.newFixedThreadPool(4);\r\n\r\n            for (int i=0; i&lt;ntasks; i++) { \r\n                HelloTask t = new HelloTask(&quot;Hello from task &quot; + i);    \r\n                exs.submit(t);\r\n            }\r\n            exs.shutdown();\r\n        }\r\n    }\r\n\r\n_________________________________________________________\r\n\r\nthe following shows a similar example but extending the Callable interface, could you tell me the difference between the two and in which cases one should use a specific one instead of the other ?\r\n\r\n**Using executor service: Counter (task)**\r\n\r\n    static class HelloTaskRet implements Callable&lt;Long&gt; {\r\n        String msg;\r\n\r\n        public HelloTaskRet(String msg) {\r\n            this.msg = msg; }\r\n\r\n            public Long call() {\r\n            long tid = Thread.currentThread().getId(); \r\n            System.out.println(msg + &quot; from thread:&quot; + tid); \r\n            return tid;\r\n        } \r\n    }\r\n\r\n**Using executor service:  (creating, submitting)**    \r\n\r\n    static class HelloTaskRet {\r\n        public static void main(String[] args) {\r\n            int ntasks = 1000;\r\n            ExecutorService exs = Executors.newFixedThreadPool(4);\r\n\r\n            Future&lt;Long&gt;[] futures = (Future&lt;Long&gt;[]) new Future[ntasks];\r\n\r\n            for (int i=0; i&lt;ntasks; i++) { \r\n                HelloTaskRet t = new HelloTaskRet(&quot;Hello from task &quot; + i);\r\n                futures[i] = exs.submit(t);\r\n            }\r\n            exs.shutdown();\r\n        }\r\n    }","title":"ExecutorService vs Casual Thread Spawner","body":"<p>I have a basic question about how <code>ExecutorService</code> works in Java.</p>\n\n<p>It is quite hard to see the difference between simply creating <code>Threads</code> to perform some tasks in parallel and assigning each tasks to the <code>ThreadPool</code>.</p>\n\n<p>The <code>ExecutorService</code> also looks very simple and efficient to use, so I was wondering why we don't use it all the time. </p>\n\n<p>Is it just a matter of one way executing its job faster than the other ?</p>\n\n<p>Here's two very simple examples to show the difference between the two ways :</p>\n\n<p><strong>Using executor service: Hello World (task)</strong> </p>\n\n<pre><code>static class HelloTask implements Runnable {\n    String msg;\n\n    public HelloTask(String msg) {\n        this.msg = msg; \n    }\n    public void run() {\n        long id = Thread.currentThread().getId();\n        System.out.println(msg + \" from thread:\" + id);\n    }\n}\n</code></pre>\n\n<p><strong>Using executor service: Hello World (creating executor, submitting)</strong></p>\n\n<pre><code>static class HelloTask {\n    public static void main(String[] args) {\n        int ntasks = 1000;\n        ExecutorService exs = Executors.newFixedThreadPool(4);\n\n        for (int i=0; i&lt;ntasks; i++) { \n            HelloTask t = new HelloTask(\"Hello from task \" + i);    \n            exs.submit(t);\n        }\n        exs.shutdown();\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>the following shows a similar example but extending the Callable interface, could you tell me the difference between the two and in which cases one should use a specific one instead of the other ?</p>\n\n<p><strong>Using executor service: Counter (task)</strong></p>\n\n<pre><code>static class HelloTaskRet implements Callable&lt;Long&gt; {\n    String msg;\n\n    public HelloTaskRet(String msg) {\n        this.msg = msg; }\n\n        public Long call() {\n        long tid = Thread.currentThread().getId(); \n        System.out.println(msg + \" from thread:\" + tid); \n        return tid;\n    } \n}\n</code></pre>\n\n<p><strong>Using executor service:  (creating, submitting)</strong>    </p>\n\n<pre><code>static class HelloTaskRet {\n    public static void main(String[] args) {\n        int ntasks = 1000;\n        ExecutorService exs = Executors.newFixedThreadPool(4);\n\n        Future&lt;Long&gt;[] futures = (Future&lt;Long&gt;[]) new Future[ntasks];\n\n        for (int i=0; i&lt;ntasks; i++) { \n            HelloTaskRet t = new HelloTaskRet(\"Hello from task \" + i);\n            futures[i] = exs.submit(t);\n        }\n        exs.shutdown();\n    }\n}\n</code></pre>\n"},{"tags":["java","flutter"],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699641737,"creation_date":1699641737,"answer_id":77462221,"question_id":77455991,"body_markdown":"Not seems a problem of visual code. What you show is the (Powershell) terminal. If you run this commands in a PS outside vscode, you will get the same result.\r\n\r\nSeems a problem with the JDK that you are using or pointing at the time of execute. There is a clash of Java class binary version 55 vs 61. \r\n\r\nI think you are using JDK-11(55) when you need (at least) JDK-17(61).","title":"Visual studio code is unable to recognize my Android Smartphone","body":"<p>Not seems a problem of visual code. What you show is the (Powershell) terminal. If you run this commands in a PS outside vscode, you will get the same result.</p>\n<p>Seems a problem with the JDK that you are using or pointing at the time of execute. There is a clash of Java class binary version 55 vs 61.</p>\n<p>I think you are using JDK-11(55) when you need (at least) JDK-17(61).</p>\n"}],"owner":{"account_id":4385924,"reputation":9,"user_id":3576105,"display_name":"Anthonengine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699641737,"creation_date":1699559517,"question_id":77455991,"body_markdown":"I&#39;m unable to use my android smartphone to flutter in visual studio code.\r\nHere is what I get if I want to solve the problem:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/fMGe1.png)](https://i.stack.imgur.com/fMGe1.png)\r\n\r\n\r\n\r\n\r\n\r\nI updated the android sdk from android studio to the last version and I installed java jdk 21 and executed the command flutter doctor --android-licenses but I get the same errors.\r\n\r\nI expect to use my Android smartphone and build apps using flutter","title":"Visual studio code is unable to recognize my Android Smartphone","body":"<p>I'm unable to use my android smartphone to flutter in visual studio code.\nHere is what I get if I want to solve the problem:</p>\n<p><a href=\"https://i.stack.imgur.com/fMGe1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fMGe1.png\" alt=\"enter image description here\" /></a></p>\n<p>I updated the android sdk from android studio to the last version and I installed java jdk 21 and executed the command flutter doctor --android-licenses but I get the same errors.</p>\n<p>I expect to use my Android smartphone and build apps using flutter</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":61252,"reputation":407488,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":0,"creation_date":1699641104,"post_id":77462162,"comment_id":136561888,"body_markdown":"JavaScript is not Java.","body":"JavaScript is not Java."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1699641459,"post_id":77462162,"comment_id":136561941,"body_markdown":"Your *.class file that you need to run  should have at least one class with `main` method.  That&#39;s where JVM will start to run your code.","body":"Your *.class file that you need to run  should have at least one class with <code>main</code> method.  That&#39;s where JVM will start to run your code."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1699641526,"post_id":77462162,"comment_id":136561954,"body_markdown":"Does this answer your question? [Why do some classes require main methods and others do not?](https://stackoverflow.com/questions/21106744/why-do-some-classes-require-main-methods-and-others-do-not)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21106744/why-do-some-classes-require-main-methods-and-others-do-not\">Why do some classes require main methods and others do not?</a>"},{"owner":{"account_id":2792262,"reputation":163837,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1699641600,"post_id":77462162,"comment_id":136561965,"body_markdown":"Java classes are not &quot;scripts&quot;.","body":"Java classes are not &quot;scripts&quot;."},{"owner":{"account_id":2792262,"reputation":163837,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1699642709,"post_id":77462162,"comment_id":136562126,"body_markdown":"That error will be raised by the JVM when you launch it with an entry-point class that does not declare a suitable `main()` method.  For example, `java i.dont.HaveAMain`.  It&#39;s not clear in your case whether it is `MethodHolder` or some other class that you&#39;re trying to use as an entry point, but whatever class it is, what do you expect the JVM to do with it?","body":"That error will be raised by the JVM when you launch it with an entry-point class that does not declare a suitable <code>main()</code> method.  For example, <code>java i.dont.HaveAMain</code>.  It&#39;s not clear in your case whether it is <code>MethodHolder</code> or some other class that you&#39;re trying to use as an entry point, but whatever class it is, what do you expect the JVM to do with it?"}],"answers":[{"tags":[],"owner":{"account_id":18239208,"reputation":149,"user_id":13276541,"display_name":"Ahmed Mera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699641707,"creation_date":1699641707,"answer_id":77462218,"question_id":77462162,"body_markdown":"You must add this method in your class\r\n\r\n```\r\n  public static void main(String[] args) {\r\n    // put some logic here\r\n  }\r\n\r\n```\r\n\r\n\r\nso your class will be like that:\r\n\r\n``` \r\npublic class MethodHolder {\r\n     \r\n\r\n  //your methodes here\r\n\r\n \r\n  public static void main(String[] args) {\r\n    System.out.println(&quot;Hello World&quot;);\r\n  }\r\n}\r\n\r\n``` ","title":"I am unsure of where to up Static void main","body":"<p>You must add this method in your class</p>\n<pre><code>  public static void main(String[] args) {\n    // put some logic here\n  }\n\n</code></pre>\n<p>so your class will be like that:</p>\n<pre><code>public class MethodHolder {\n     \n\n  //your methodes here\n\n \n  public static void main(String[] args) {\n    System.out.println(&quot;Hello World&quot;);\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":29874440,"reputation":1,"user_id":22895023,"display_name":"Ethan Huang"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699641707,"creation_date":1699641068,"question_id":77462162,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class MethodHolder {\r\n\r\n    private static int nextShopperID = 100;\r\n    private static int nextProductID = 100;\r\n\r\n    protected static Shopper generateShopper() {\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Name: &quot;);\r\n        String name = scan.nextLine();\r\n\r\n        System.out.print(&quot;Balance: &quot;);\r\n        double balance = scan.nextDouble();\r\n\r\n        System.out.print(&quot;Product Limit: &quot;);\r\n        int productLimit = scan.nextInt();\r\n\r\n        // Increment the shopper ID and return a new Shopper object\r\n        return new Shopper(nextShopperID++, name, balance, productLimit);\r\n    }\r\n\r\n    protected static Product generateProduct() {\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Name: &quot;);\r\n        String name = scan.nextLine();\r\n\r\n        System.out.print(&quot;Department: &quot;);\r\n        String department = scan.nextLine();\r\n\r\n        System.out.print(&quot;Description: &quot;);\r\n        String description = scan.nextLine();\r\n\r\n        System.out.print(&quot;Price: &quot;);\r\n        double price = scan.nextDouble();\r\n\r\n        System.out.print(&quot;Initial Count: &quot;);\r\n        int initialCount = scan.nextInt();\r\n\r\n        // Increment the product ID and return a new Product object\r\n        return new Product(nextProductID++, name, department, description, price, initialCount);\r\n    }\r\n\r\n    protected static void printShopperInfo(Shopper s) {\r\n        System.out.println(&quot;Name: &quot; + s.getName());\r\n        System.out.println(&quot;Products Bought: &quot; + s.getProductsBought());\r\n        System.out.println(&quot;Can Still Buy: &quot; + (s.getProductLimit() - s.getProductsBought()));\r\n        System.out.println(&quot;Spent So Far: $&quot; + s.getSpentSoFar());\r\n        System.out.println(&quot;Balance Remaining: $&quot; + s.getBalance());\r\n        System.out.println(&quot;Products Purchased: &quot;);\r\n        s.printProducts();\r\n    }\r\n\r\n    protected static void printProductInfo(Product p) {\r\n        System.out.println(&quot;Name: &quot; + p.getName());\r\n        System.out.println(&quot;Department: &quot; + p.getDepartment());\r\n        System.out.println(&quot;Description: &quot; + p.getProductDescription());\r\n        System.out.println(&quot;Price: $&quot; + p.getPrice());\r\n        System.out.println(&quot;Number Bought: &quot; + p.getNumberBought());\r\n        System.out.println(&quot;Number Remaining: &quot; + (p.getInitialCount() - p.getNumberBought()));\r\n        System.out.println(&quot;Product Bought By: &quot;);\r\n        p.printShoppers();\r\n    }\r\n\r\n    protected static void doPurchase(Shopper s, Product p) {\r\n        if (s.canAdd() &amp;&amp; p.canAdd()) {\r\n            if (s.addProduct(p) &amp;&amp; p.addShopper(s))\r\n                System.out.println(s.getName() + &quot; has purchased &quot; + p.getName());\r\n            else\r\n                System.out.println(s.getName() + &quot;&#39;s purchase of &quot; + p.getName() +\r\n                        &quot; could not be completed&quot;);\r\n        } else {\r\n            if (!s.canAdd())\r\n                System.out.println(s.getName() + &quot; cannot purchase any more items&quot;);\r\n            if (!p.canAdd())\r\n                System.out.println(&quot;There are no more of &quot; + p.getName() + &quot; in the store&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nCurrently running this code connected to 3 other scripts but when I run it I am getting \r\n```\r\n&quot;Static Error: This class does not have a static void main method accepting String[].&quot;\r\n```\r\nWhat is wrong?\r\n\r\nI read the it should be Static Void main but I am unsure of where to put it.","title":"I am unsure of where to up Static void main","body":"<pre><code>import java.util.Scanner;\n\npublic class MethodHolder {\n\n    private static int nextShopperID = 100;\n    private static int nextProductID = 100;\n\n    protected static Shopper generateShopper() {\n        Scanner scan = new Scanner(System.in);\n\n        System.out.print(&quot;Name: &quot;);\n        String name = scan.nextLine();\n\n        System.out.print(&quot;Balance: &quot;);\n        double balance = scan.nextDouble();\n\n        System.out.print(&quot;Product Limit: &quot;);\n        int productLimit = scan.nextInt();\n\n        // Increment the shopper ID and return a new Shopper object\n        return new Shopper(nextShopperID++, name, balance, productLimit);\n    }\n\n    protected static Product generateProduct() {\n        Scanner scan = new Scanner(System.in);\n\n        System.out.print(&quot;Name: &quot;);\n        String name = scan.nextLine();\n\n        System.out.print(&quot;Department: &quot;);\n        String department = scan.nextLine();\n\n        System.out.print(&quot;Description: &quot;);\n        String description = scan.nextLine();\n\n        System.out.print(&quot;Price: &quot;);\n        double price = scan.nextDouble();\n\n        System.out.print(&quot;Initial Count: &quot;);\n        int initialCount = scan.nextInt();\n\n        // Increment the product ID and return a new Product object\n        return new Product(nextProductID++, name, department, description, price, initialCount);\n    }\n\n    protected static void printShopperInfo(Shopper s) {\n        System.out.println(&quot;Name: &quot; + s.getName());\n        System.out.println(&quot;Products Bought: &quot; + s.getProductsBought());\n        System.out.println(&quot;Can Still Buy: &quot; + (s.getProductLimit() - s.getProductsBought()));\n        System.out.println(&quot;Spent So Far: $&quot; + s.getSpentSoFar());\n        System.out.println(&quot;Balance Remaining: $&quot; + s.getBalance());\n        System.out.println(&quot;Products Purchased: &quot;);\n        s.printProducts();\n    }\n\n    protected static void printProductInfo(Product p) {\n        System.out.println(&quot;Name: &quot; + p.getName());\n        System.out.println(&quot;Department: &quot; + p.getDepartment());\n        System.out.println(&quot;Description: &quot; + p.getProductDescription());\n        System.out.println(&quot;Price: $&quot; + p.getPrice());\n        System.out.println(&quot;Number Bought: &quot; + p.getNumberBought());\n        System.out.println(&quot;Number Remaining: &quot; + (p.getInitialCount() - p.getNumberBought()));\n        System.out.println(&quot;Product Bought By: &quot;);\n        p.printShoppers();\n    }\n\n    protected static void doPurchase(Shopper s, Product p) {\n        if (s.canAdd() &amp;&amp; p.canAdd()) {\n            if (s.addProduct(p) &amp;&amp; p.addShopper(s))\n                System.out.println(s.getName() + &quot; has purchased &quot; + p.getName());\n            else\n                System.out.println(s.getName() + &quot;'s purchase of &quot; + p.getName() +\n                        &quot; could not be completed&quot;);\n        } else {\n            if (!s.canAdd())\n                System.out.println(s.getName() + &quot; cannot purchase any more items&quot;);\n            if (!p.canAdd())\n                System.out.println(&quot;There are no more of &quot; + p.getName() + &quot; in the store&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Currently running this code connected to 3 other scripts but when I run it I am getting</p>\n<pre><code>&quot;Static Error: This class does not have a static void main method accepting String[].&quot;\n</code></pre>\n<p>What is wrong?</p>\n<p>I read the it should be Static Void main but I am unsure of where to put it.</p>\n"},{"tags":["java","c#","azure","authentication","single-sign-on"],"comments":[{"owner":{"account_id":19143728,"reputation":320,"user_id":13983184,"display_name":"GH DevOps"},"score":0,"creation_date":1670518721,"post_id":74733568,"comment_id":131898595,"body_markdown":"A React SPA will work. Register it in AD and use the redirect callbacks.","body":"A React SPA will work. Register it in AD and use the redirect callbacks."},{"owner":{"account_id":4935145,"reputation":91,"user_id":3973524,"display_name":"Alex Jiang"},"score":0,"creation_date":1670697073,"post_id":74733568,"comment_id":131935092,"body_markdown":"checkout https://www.microsoft.com/en-us/security/blog/2022/05/17/easy-authentication-and-authorization-in-azure-active-directory-with-no-code-datawiza/","body":"checkout <a href=\"https://www.microsoft.com/en-us/security/blog/2022/05/17/easy-authentication-and-authorization-in-azure-active-directory-with-no-code-datawiza/\" rel=\"nofollow noreferrer\">microsoft.com/en-us/security/blog/2022/05/17/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4116425,"reputation":595,"user_id":3377857,"display_name":"Klemens Morbe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699641530,"creation_date":1670565651,"answer_id":74739435,"question_id":74733568,"body_markdown":"Here is a link, where you can find lots of examples in different programming languages with different libraries used to help you with your implementation.\r\n\r\nhttps://learn.microsoft.com/en-us/azure/active-directory/develop/sample-v2-code\r\n\r\nIf you can&#39;t use the libraries directly, you will be forced to do your own calls to the graph api (REST).\r\n\r\nhttps://learn.microsoft.com/en-us/graph/api/resources/azure-ad-overview?view=graph-rest-1.0","title":"How to implement Single sign-on (SSO) with AD user from Azure portal for few different applications?","body":"<p>Here is a link, where you can find lots of examples in different programming languages with different libraries used to help you with your implementation.</p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/sample-v2-code\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/active-directory/develop/sample-v2-code</a></p>\n<p>If you can't use the libraries directly, you will be forced to do your own calls to the graph api (REST).</p>\n<p><a href=\"https://learn.microsoft.com/en-us/graph/api/resources/azure-ad-overview?view=graph-rest-1.0\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/api/resources/azure-ad-overview?view=graph-rest-1.0</a></p>\n"}],"owner":{"account_id":23174602,"reputation":1,"user_id":17273310,"display_name":"Ritanjali "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699641546,"creation_date":1670517740,"question_id":74733568,"body_markdown":"I have 5 applications with different technology like asp.net,asp.net MVC,AngularJS and JAVA,so my company is going for cloud hosting.Now each application has their own login tables, all the existing data mapped based on their login ids. Now company asking to implement Single Sign On (SSO) from  the Azure AD portal for all the applications.\r\nHow to proceed? Please help me out with the proper guide.\r\n\r\nHowever when user is login, I am capturing their role and login id.How could we will capture user existing login id when we will implement SSO.Since we need to present the respective user details based on their login id&#39;s.How to read the user info from Azure AD Portal in my application.","title":"How to implement Single sign-on (SSO) with AD user from Azure portal for few different applications?","body":"<p>I have 5 applications with different technology like asp.net,asp.net MVC,AngularJS and JAVA,so my company is going for cloud hosting.Now each application has their own login tables, all the existing data mapped based on their login ids. Now company asking to implement Single Sign On (SSO) from  the Azure AD portal for all the applications.\nHow to proceed? Please help me out with the proper guide.</p>\n<p>However when user is login, I am capturing their role and login id.How could we will capture user existing login id when we will implement SSO.Since we need to present the respective user details based on their login id's.How to read the user info from Azure AD Portal in my application.</p>\n"},{"tags":["java","bouncycastle","apache-mina","ed25519","eddsa"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699641023,"creation_date":1699639615,"answer_id":77462038,"question_id":77460283,"body_markdown":"You were very close. Java `PublicKey.getEncoded()` is a [SPKI structure](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/Key.html) whose field 1 is a BIT STRING _containing_ the algorithm-specific data which for EdDSA is the raw point encoding. Use:\r\n\r\n\t\tASN1Object spki = new ASN1InputStream(pubkey.getEncoded()) .readObject();\r\n        // or wrapped in the try as you have it is slightly cleaner\r\n\t\tbyte[] point = ((ASN1BitString) ((ASN1Sequence)spki).getObjectAt(1) ).getOctets();\r\n\r\nor use the type-specific Bouncy classes to handle the parsing and typecasting for you:\r\n\r\n\t\tbyte[] point = SubjectPublicKeyInfo.getInstance(pubkey.getEncoded()).getPublicKeyData().getOctets();\r\n\r\n\r\nAlternatively IF using the Bouncy provider (and key class) more simply just use:\r\n\r\n\t\tbyte[] point = ((org.bouncycastle.jcajce.interfaces.EdDSAPublicKey)pubkey).getPointEncoding();\r\n        // or org.bouncycastle.jcajce.provider.asymmetric.edec.BCEdDSAPublicKey \r\n\r\nAnd in any case write length&amp;contents of `point` into the SSH format as you already have.","title":"Encoding a Ed25519 Public Key to SSH format in Java","body":"<p>You were very close. Java <code>PublicKey.getEncoded()</code> is a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/Key.html\" rel=\"nofollow noreferrer\">SPKI structure</a> whose field 1 is a BIT STRING <em>containing</em> the algorithm-specific data which for EdDSA is the raw point encoding. Use:</p>\n<pre><code>    ASN1Object spki = new ASN1InputStream(pubkey.getEncoded()) .readObject();\n    // or wrapped in the try as you have it is slightly cleaner\n    byte[] point = ((ASN1BitString) ((ASN1Sequence)spki).getObjectAt(1) ).getOctets();\n</code></pre>\n<p>or use the type-specific Bouncy classes to handle the parsing and typecasting for you:</p>\n<pre><code>    byte[] point = SubjectPublicKeyInfo.getInstance(pubkey.getEncoded()).getPublicKeyData().getOctets();\n</code></pre>\n<p>Alternatively IF using the Bouncy provider (and key class) more simply just use:</p>\n<pre><code>    byte[] point = ((org.bouncycastle.jcajce.interfaces.EdDSAPublicKey)pubkey).getPointEncoding();\n    // or org.bouncycastle.jcajce.provider.asymmetric.edec.BCEdDSAPublicKey \n</code></pre>\n<p>And in any case write length&amp;contents of <code>point</code> into the SSH format as you already have.</p>\n"}],"owner":{"account_id":28764767,"reputation":13,"user_id":22029895,"display_name":"Atanas Donev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77462038,"answer_count":1,"score":1,"last_activity_date":1699641023,"creation_date":1699622103,"question_id":77460283,"body_markdown":"To begin with I am new to cryptography and the different types of keys/encodings/formats, so correct me if I am wrong somewhere. \r\nI have a java application that needs to save a Ed25519 key to a keystore. The application is a legacy and some of the methods and libraries cannot be changed. It is using Apache MINA SSHD and BouncyCastle for storing keys in the keystore and also encoding the public keys to SSH format. There isnt a problem with RSA and DSA keys. The problem is that Apache MINA uses a net.i2p implementation of EdDSA keys and BouncyCastle uses its own BCEdDSA keys. A method that we use comes from MINA and returns net.i2p key for witch I had trouble saving it to the keystore, because BouncyCastle&#39;s JCAContentSigner couldn&#39;t recognize this implementation of the key. The problem comes when encoding the public keys.\r\n \r\n\r\nI created a class that implements ContentSigner and uses net.i2p&#39;s EdDSAEngine class to create a signer. \r\n```\r\nprivate class EdDSAContentSigner implements ContentSigner\r\n    {\r\n        private final AlgorithmIdentifier sigAlgId;\r\n        private final PrivateKey privateKey;\r\n        private ByteArrayOutputStream stream;\r\n\r\n        public EdDSAContentSigner(AlgorithmIdentifier sigAlgId, PrivateKey privKey)\r\n        {\r\n            this.sigAlgId = sigAlgId;\r\n            this.privateKey = privKey;\r\n            this.stream = new ByteArrayOutputStream();\r\n        }\r\n\r\n\r\n        @Override\r\n        public AlgorithmIdentifier getAlgorithmIdentifier()\r\n        {\r\n            return sigAlgId;\r\n        }\r\n\r\n\r\n        @Override\r\n        public OutputStream getOutputStream()\r\n        {\r\n            stream.reset();\r\n            return stream;\r\n        }\r\n\r\n\r\n        @Override\r\n        public byte[] getSignature()\r\n        {\r\n            byte[] dataToSign = stream.toByteArray();\r\n            try\r\n            {\r\n                EdDSAEngine sig = new EdDSAEngine();\r\n                sig.initSign(privateKey);\r\n                return sig.signOneShot(dataToSign);\r\n            }\r\n            catch (GeneralSecurityException e)\r\n            {\r\n                LOG.error(&quot;Cannot sign data : &quot; + e.getMessage(), e);\r\n                throw new IllegalStateException(&quot;Cannot sign data : &quot; + e.getMessage(), e);\r\n            }\r\n        }\r\n    }\r\n```\r\nthen I managed to create a certificate and save the key to the keystore.\r\nThe application has the functionality to upload a private key file it generates the public key in SSH format - starting with ssh-ed25519....\r\n\r\nNow I have a problem encoding the public key to SSH format. It always differs from the one generated from the ssh-keygen tool even if I use the same private key file. Again the public key could be of different types net.i2p/BouncyCastle/sun.security.ec.ed.EdDSAPublicKeyImpl depending on what method calls my encodeEdDSAPublicKey method. I tried different ways to encode it from calling the .getEncoded() method on the PublicKey itself to using BouncyCastle&#39;s ASN1InputStream which is my latest method. I will also provide the RSA key encoding method witch returns the same encoding as the ssh-keygen tool. I want to be able to use the public keys for connecting to a server using putty. Any help/suggestions will be appreciated. \r\n```\r\n    private static String encodeEdDSAPublicKey(PublicKey publicKey)\r\n        throws IOException\r\n    {\r\n       try(ASN1InputStream asn1InputStream = new ASN1InputStream(publicKey.getEncoded()))\r\n        {\r\n            ASN1Primitive primitive = asn1InputStream.readObject();\r\n            byte[] keyBytes ((ASN1Sequence)primitive).getObjectAt(1).toASN1Primitive().getEncoded();\r\n          ByteArrayOutputStream byteOs = new ByteArrayOutputStream();\r\n          DataOutputStream dos = new DataOutputStream(byteOs);\r\n          dos.writeInt(&quot;ssh-ed25519&quot;.getBytes().length);\r\n          dos.write(&quot;ssh-ed25519&quot;.getBytes());\r\n          dos.writeInt(keyBytes.length);\r\n          dos.write(keyBytes);\r\n          return Base64.getEncoder().encodeToString(byteOs.toByteArray());\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\n    private static String encodeRSAPublicKey(PublicKey publicKey)\r\n        throws IOException\r\n    {\r\n        String publicKeyEncoded;\r\n        RSAPublicKey rsaPublicKey = (RSAPublicKey)publicKey;\r\n        ByteArrayOutputStream byteOs = new ByteArrayOutputStream();\r\n        DataOutputStream dos = new DataOutputStream(byteOs);\r\n        dos.writeInt(&quot;ssh-rsa&quot;.getBytes().length);\r\n        dos.write(&quot;ssh-rsa&quot;.getBytes());\r\n        dos.writeInt(rsaPublicKey.getPublicExponent().toByteArray().length);\r\n        dos.write(rsaPublicKey.getPublicExponent().toByteArray());\r\n        dos.writeInt(rsaPublicKey.getModulus().toByteArray().length);\r\n        dos.write(rsaPublicKey.getModulus().toByteArray());\r\n        publicKeyEncoded = Base64.getEncoder().encodeToString(byteOs.toByteArray());\r\n        return publicKeyEncoded;\r\n    }\r\n```\r\nand this is the method in which I choose the correct encoding method based on algorithm\r\n\r\n```\r\n    public static String encodePublicKey(PublicKey publicKey, String name)\r\n        throws IOException\r\n    {\r\n        String suffix = &quot;&quot;;\r\n        String algorithm = publicKey.getAlgorithm();\r\n\r\n        if (name != null)\r\n        {\r\n            suffix = name);\r\n        }\r\n\r\n        switch (algorithm)\r\n        {\r\n        case &quot;RSA&quot;:\r\n            return &quot;ssh-rsa &quot; + encodeRSAPublicKey(publicKey) + suffix;\r\n        case &quot;DSA&quot;:\r\n            return &quot;ssh-dss &quot; + encodeDSAPublicKey(publicKey) + suffix;\r\n        case &quot;Ed25519&quot;:\r\n        case &quot;EdDSA&quot;:\r\n            return &quot;ssh-ed25519 &quot; + encodeEdDSAPublicKey(publicKey) + suffix;\r\n        default:\r\n            throw new IOException(&quot;Unknown public key encoding: &quot; + publicKey.getAlgorithm());\r\n        }\r\n    }\r\n```\r\n\r\n","title":"Encoding a Ed25519 Public Key to SSH format in Java","body":"<p>To begin with I am new to cryptography and the different types of keys/encodings/formats, so correct me if I am wrong somewhere.\nI have a java application that needs to save a Ed25519 key to a keystore. The application is a legacy and some of the methods and libraries cannot be changed. It is using Apache MINA SSHD and BouncyCastle for storing keys in the keystore and also encoding the public keys to SSH format. There isnt a problem with RSA and DSA keys. The problem is that Apache MINA uses a net.i2p implementation of EdDSA keys and BouncyCastle uses its own BCEdDSA keys. A method that we use comes from MINA and returns net.i2p key for witch I had trouble saving it to the keystore, because BouncyCastle's JCAContentSigner couldn't recognize this implementation of the key. The problem comes when encoding the public keys.</p>\n<p>I created a class that implements ContentSigner and uses net.i2p's EdDSAEngine class to create a signer.</p>\n<pre><code>private class EdDSAContentSigner implements ContentSigner\n    {\n        private final AlgorithmIdentifier sigAlgId;\n        private final PrivateKey privateKey;\n        private ByteArrayOutputStream stream;\n\n        public EdDSAContentSigner(AlgorithmIdentifier sigAlgId, PrivateKey privKey)\n        {\n            this.sigAlgId = sigAlgId;\n            this.privateKey = privKey;\n            this.stream = new ByteArrayOutputStream();\n        }\n\n\n        @Override\n        public AlgorithmIdentifier getAlgorithmIdentifier()\n        {\n            return sigAlgId;\n        }\n\n\n        @Override\n        public OutputStream getOutputStream()\n        {\n            stream.reset();\n            return stream;\n        }\n\n\n        @Override\n        public byte[] getSignature()\n        {\n            byte[] dataToSign = stream.toByteArray();\n            try\n            {\n                EdDSAEngine sig = new EdDSAEngine();\n                sig.initSign(privateKey);\n                return sig.signOneShot(dataToSign);\n            }\n            catch (GeneralSecurityException e)\n            {\n                LOG.error(&quot;Cannot sign data : &quot; + e.getMessage(), e);\n                throw new IllegalStateException(&quot;Cannot sign data : &quot; + e.getMessage(), e);\n            }\n        }\n    }\n</code></pre>\n<p>then I managed to create a certificate and save the key to the keystore.\nThe application has the functionality to upload a private key file it generates the public key in SSH format - starting with ssh-ed25519....</p>\n<p>Now I have a problem encoding the public key to SSH format. It always differs from the one generated from the ssh-keygen tool even if I use the same private key file. Again the public key could be of different types net.i2p/BouncyCastle/sun.security.ec.ed.EdDSAPublicKeyImpl depending on what method calls my encodeEdDSAPublicKey method. I tried different ways to encode it from calling the .getEncoded() method on the PublicKey itself to using BouncyCastle's ASN1InputStream which is my latest method. I will also provide the RSA key encoding method witch returns the same encoding as the ssh-keygen tool. I want to be able to use the public keys for connecting to a server using putty. Any help/suggestions will be appreciated.</p>\n<pre><code>    private static String encodeEdDSAPublicKey(PublicKey publicKey)\n        throws IOException\n    {\n       try(ASN1InputStream asn1InputStream = new ASN1InputStream(publicKey.getEncoded()))\n        {\n            ASN1Primitive primitive = asn1InputStream.readObject();\n            byte[] keyBytes ((ASN1Sequence)primitive).getObjectAt(1).toASN1Primitive().getEncoded();\n          ByteArrayOutputStream byteOs = new ByteArrayOutputStream();\n          DataOutputStream dos = new DataOutputStream(byteOs);\n          dos.writeInt(&quot;ssh-ed25519&quot;.getBytes().length);\n          dos.write(&quot;ssh-ed25519&quot;.getBytes());\n          dos.writeInt(keyBytes.length);\n          dos.write(keyBytes);\n          return Base64.getEncoder().encodeToString(byteOs.toByteArray());\n        }\n    }\n</code></pre>\n<pre><code>    private static String encodeRSAPublicKey(PublicKey publicKey)\n        throws IOException\n    {\n        String publicKeyEncoded;\n        RSAPublicKey rsaPublicKey = (RSAPublicKey)publicKey;\n        ByteArrayOutputStream byteOs = new ByteArrayOutputStream();\n        DataOutputStream dos = new DataOutputStream(byteOs);\n        dos.writeInt(&quot;ssh-rsa&quot;.getBytes().length);\n        dos.write(&quot;ssh-rsa&quot;.getBytes());\n        dos.writeInt(rsaPublicKey.getPublicExponent().toByteArray().length);\n        dos.write(rsaPublicKey.getPublicExponent().toByteArray());\n        dos.writeInt(rsaPublicKey.getModulus().toByteArray().length);\n        dos.write(rsaPublicKey.getModulus().toByteArray());\n        publicKeyEncoded = Base64.getEncoder().encodeToString(byteOs.toByteArray());\n        return publicKeyEncoded;\n    }\n</code></pre>\n<p>and this is the method in which I choose the correct encoding method based on algorithm</p>\n<pre><code>    public static String encodePublicKey(PublicKey publicKey, String name)\n        throws IOException\n    {\n        String suffix = &quot;&quot;;\n        String algorithm = publicKey.getAlgorithm();\n\n        if (name != null)\n        {\n            suffix = name);\n        }\n\n        switch (algorithm)\n        {\n        case &quot;RSA&quot;:\n            return &quot;ssh-rsa &quot; + encodeRSAPublicKey(publicKey) + suffix;\n        case &quot;DSA&quot;:\n            return &quot;ssh-dss &quot; + encodeDSAPublicKey(publicKey) + suffix;\n        case &quot;Ed25519&quot;:\n        case &quot;EdDSA&quot;:\n            return &quot;ssh-ed25519 &quot; + encodeEdDSAPublicKey(publicKey) + suffix;\n        default:\n            throw new IOException(&quot;Unknown public key encoding: &quot; + publicKey.getAlgorithm());\n        }\n    }\n</code></pre>\n"},{"tags":["java","gson","java-17"],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1699640843,"creation_date":1699640843,"answer_id":77462140,"question_id":77455234,"body_markdown":"Use [`GsonBuilder#registerTypeHierarchyAdatper(Class,Object)`][1] to register the type-adapter for a type _and_ its subtypes. Here&#39;s its documentation from Gson 2.10.1:\r\n\r\n&gt; Configures Gson for custom serialization or deserialization for an inheritance type hierarchy. This method combines the registration of a `TypeAdapter`, `JsonSerializer` and a `JsonDeserializer`. If a type adapter was previously registered for the specified type hierarchy, it is overridden. If a type adapter is registered for a specific type in the type hierarchy, it will be invoked instead of the one registered for the type hierarchy.\r\n&gt;\r\n&gt; **Parameters:**\r\n&gt; \r\n&gt; `baseType` - the class definition for the type adapter being registered for the base class or interface\r\n&gt;\r\n&gt; `typeAdapter` - This object must implement at least one of `TypeAdapter`, `JsonSerializer` or `JsonDeserializer` interfaces.\r\n&gt;\r\n&gt; **Returns:**\r\n&gt;\r\n&gt; a reference to this `GsonBuilder` object to fulfill the &quot;Builder&quot; pattern\r\n&gt; \r\n&gt; **Since:**\r\n&gt;\r\n&gt; 1.7\r\n\r\n---\r\n\r\n# Example\r\n\r\nHere&#39;s a working example where the adapter converts the `ByteBuffer` to and from Base64 strings.\r\n\r\n## Source Code\r\n\r\n**ByteBufferTypeAdapter.java**:\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.Base64;\r\nimport com.google.gson.TypeAdapter;\r\nimport com.google.gson.stream.JsonReader;\r\nimport com.google.gson.stream.JsonToken;\r\nimport com.google.gson.stream.JsonWriter;\r\n\r\npublic class ByteBufferTypeAdapter extends TypeAdapter&lt;ByteBuffer&gt; {\r\n\r\n    /*\r\n     * WARNING: This adapter does not store the following state of the ByteBuffer:\r\n     * \r\n     *              * position\r\n     *              * limit\r\n     *              * capacity\r\n     *              * read-only vs writable\r\n     *              * direct vs non-direct\r\n     *              * byte order\r\n     *              * the mark value (there&#39;s no &quot;get mark&quot; method)\r\n     * \r\n     *          As a consequence, the deserialized ByteBuffer may not match the\r\n     *          originally serialized ByteBuffer exactly. The deserialized buffer\r\n     *          will always have a position of 0, a limit equal to its capacity,\r\n     *          and a capacity equal to the size of the decoded bytes. It will\r\n     *          also always be a writable, non-direct buffer with a byte order\r\n     *          of BIG_ENDIAN.\r\n     * \r\n     *          Use &#39;beginObject()&#39; / &#39;endObject()&#39; if you want to serialize and \r\n     *          deserialize more or all of the buffer&#39;s state.\r\n     */\r\n\r\n    @Override\r\n    public ByteBuffer read(JsonReader reader) throws IOException {\r\n        if (reader.peek() == JsonToken.NULL) {\r\n            reader.nextNull();\r\n            return null;\r\n        }\r\n        byte[] bytes = Base64.getDecoder().decode(reader.nextString());\r\n        return ByteBuffer.wrap(bytes);\r\n    }\r\n\r\n    @Override\r\n    public void write(JsonWriter writer, ByteBuffer data) throws IOException {\r\n        if (data == null) {\r\n            writer.nullValue();\r\n            return;\r\n        }\r\n\r\n        /*\r\n         * This approach avoids three things:\r\n         * \r\n         *    1. Avoids trying to use the backing array directly via &#39;array()&#39;, as that\r\n         *       method will throw an exception for direct buffers. Let the implementation\r\n         *       of &#39;encode(ByteBuffer)&#39; handle if there&#39;s a backing array or not.\r\n         * \r\n         *    2. Calling &#39;data.duplicate()&#39; means the state of &#39;data&#39; is not modified by\r\n         *       the call to &#39;encode&#39;. The &quot;duplication&quot; is cheap since the bytes themselves\r\n         *       are shared between the two instances.\r\n         * \r\n         *    3. Only the bytes from the buffer&#39;s position to its limit are encoded, which\r\n         *       avoids serializing unnecessary data. You could also call &#39;withoutPadding()&#39;\r\n         *       on the encoder to avoid more possibly unnecessary data.\r\n         */\r\n        ByteBuffer base64Bytes = Base64.getEncoder().encode(data.duplicate());\r\n        String base64String = StandardCharsets.ISO_8859_1.decode(base64Bytes).toString();\r\n        writer.value(base64String);\r\n    }\r\n}\r\n```\r\n\r\n**Data.java**:\r\n\r\n```java\r\npackage com.example:\r\n\r\nimport java.nio.ByteBuffer;\r\n\r\npublic record Data(String name, ByteBuffer buffer) {}\r\n```\r\n\r\n**Main.java**:\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.charset.StandardCharsets;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.GsonBuilder;\r\n\r\npublic class Main {\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n        Data original = new Data(&quot;Test&quot;, ByteBuffer.wrap(&quot;Hello, World!&quot;.getBytes(StandardCharsets.UTF_8)));\r\n        System.out.printf(&quot;Original data: %s%n&quot;, original);\r\n\r\n        Gson gson = new GsonBuilder()\r\n                .registerTypeHierarchyAdapter(ByteBuffer.class, new ByteBufferTypeAdapter())\r\n                .setPrettyPrinting() // make output easier to read for example\r\n                .create();\r\n\r\n        String jsonString = gson.toJson(original);\r\n        System.out.printf(&quot;%nJSON string:%n%s%n%n&quot;, jsonString);\r\n\r\n        Data decoded = gson.fromJson(jsonString, Data.class);\r\n        System.out.printf(&quot;Decoded data: %s%n&quot;, decoded);\r\n    }\r\n}\r\n```\r\n\r\n## Output\r\n\r\n```none\r\nOriginal data: Data[name=Test, buffer=java.nio.HeapByteBuffer[pos=0 lim=13 cap=13]]\r\n\r\nJSON string:\r\n{\r\n  &quot;name&quot;: &quot;Test&quot;,\r\n  &quot;buffer&quot;: &quot;SGVsbG8sIFdvcmxkIQ\\u003d\\u003d&quot;\r\n}\r\n\r\nDecoded data: Data[name=Test, buffer=java.nio.HeapByteBuffer[pos=0 lim=13 cap=13]]\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://www.javadoc.io/static/com.google.code.gson/gson/2.10.1/com.google.gson/com/google/gson/GsonBuilder.html#registerTypeHierarchyAdapter(java.lang.Class,java.lang.Object)","title":"How do I make Gson serialize private classes like java.nio.HeapByteBuffer in JDK17?","body":"<p>Use <a href=\"https://www.javadoc.io/static/com.google.code.gson/gson/2.10.1/com.google.gson/com/google/gson/GsonBuilder.html#registerTypeHierarchyAdapter(java.lang.Class,java.lang.Object)\" rel=\"nofollow noreferrer\"><code>GsonBuilder#registerTypeHierarchyAdatper(Class,Object)</code></a> to register the type-adapter for a type <em>and</em> its subtypes. Here's its documentation from Gson 2.10.1:</p>\n<blockquote>\n<p>Configures Gson for custom serialization or deserialization for an inheritance type hierarchy. This method combines the registration of a <code>TypeAdapter</code>, <code>JsonSerializer</code> and a <code>JsonDeserializer</code>. If a type adapter was previously registered for the specified type hierarchy, it is overridden. If a type adapter is registered for a specific type in the type hierarchy, it will be invoked instead of the one registered for the type hierarchy.</p>\n<p><strong>Parameters:</strong></p>\n<p><code>baseType</code> - the class definition for the type adapter being registered for the base class or interface</p>\n<p><code>typeAdapter</code> - This object must implement at least one of <code>TypeAdapter</code>, <code>JsonSerializer</code> or <code>JsonDeserializer</code> interfaces.</p>\n<p><strong>Returns:</strong></p>\n<p>a reference to this <code>GsonBuilder</code> object to fulfill the &quot;Builder&quot; pattern</p>\n<p><strong>Since:</strong></p>\n<p>1.7</p>\n</blockquote>\n<hr />\n<h1>Example</h1>\n<p>Here's a working example where the adapter converts the <code>ByteBuffer</code> to and from Base64 strings.</p>\n<h2>Source Code</h2>\n<p><strong>ByteBufferTypeAdapter.java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Base64;\nimport com.google.gson.TypeAdapter;\nimport com.google.gson.stream.JsonReader;\nimport com.google.gson.stream.JsonToken;\nimport com.google.gson.stream.JsonWriter;\n\npublic class ByteBufferTypeAdapter extends TypeAdapter&lt;ByteBuffer&gt; {\n\n    /*\n     * WARNING: This adapter does not store the following state of the ByteBuffer:\n     * \n     *              * position\n     *              * limit\n     *              * capacity\n     *              * read-only vs writable\n     *              * direct vs non-direct\n     *              * byte order\n     *              * the mark value (there's no &quot;get mark&quot; method)\n     * \n     *          As a consequence, the deserialized ByteBuffer may not match the\n     *          originally serialized ByteBuffer exactly. The deserialized buffer\n     *          will always have a position of 0, a limit equal to its capacity,\n     *          and a capacity equal to the size of the decoded bytes. It will\n     *          also always be a writable, non-direct buffer with a byte order\n     *          of BIG_ENDIAN.\n     * \n     *          Use 'beginObject()' / 'endObject()' if you want to serialize and \n     *          deserialize more or all of the buffer's state.\n     */\n\n    @Override\n    public ByteBuffer read(JsonReader reader) throws IOException {\n        if (reader.peek() == JsonToken.NULL) {\n            reader.nextNull();\n            return null;\n        }\n        byte[] bytes = Base64.getDecoder().decode(reader.nextString());\n        return ByteBuffer.wrap(bytes);\n    }\n\n    @Override\n    public void write(JsonWriter writer, ByteBuffer data) throws IOException {\n        if (data == null) {\n            writer.nullValue();\n            return;\n        }\n\n        /*\n         * This approach avoids three things:\n         * \n         *    1. Avoids trying to use the backing array directly via 'array()', as that\n         *       method will throw an exception for direct buffers. Let the implementation\n         *       of 'encode(ByteBuffer)' handle if there's a backing array or not.\n         * \n         *    2. Calling 'data.duplicate()' means the state of 'data' is not modified by\n         *       the call to 'encode'. The &quot;duplication&quot; is cheap since the bytes themselves\n         *       are shared between the two instances.\n         * \n         *    3. Only the bytes from the buffer's position to its limit are encoded, which\n         *       avoids serializing unnecessary data. You could also call 'withoutPadding()'\n         *       on the encoder to avoid more possibly unnecessary data.\n         */\n        ByteBuffer base64Bytes = Base64.getEncoder().encode(data.duplicate());\n        String base64String = StandardCharsets.ISO_8859_1.decode(base64Bytes).toString();\n        writer.value(base64String);\n    }\n}\n</code></pre>\n<p><strong>Data.java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example:\n\nimport java.nio.ByteBuffer;\n\npublic record Data(String name, ByteBuffer buffer) {}\n</code></pre>\n<p><strong>Main.java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.nio.ByteBuffer;\nimport java.nio.charset.StandardCharsets;\nimport com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\n\npublic class Main {\n    \n    public static void main(String[] args) throws Exception {\n        Data original = new Data(&quot;Test&quot;, ByteBuffer.wrap(&quot;Hello, World!&quot;.getBytes(StandardCharsets.UTF_8)));\n        System.out.printf(&quot;Original data: %s%n&quot;, original);\n\n        Gson gson = new GsonBuilder()\n                .registerTypeHierarchyAdapter(ByteBuffer.class, new ByteBufferTypeAdapter())\n                .setPrettyPrinting() // make output easier to read for example\n                .create();\n\n        String jsonString = gson.toJson(original);\n        System.out.printf(&quot;%nJSON string:%n%s%n%n&quot;, jsonString);\n\n        Data decoded = gson.fromJson(jsonString, Data.class);\n        System.out.printf(&quot;Decoded data: %s%n&quot;, decoded);\n    }\n}\n</code></pre>\n<h2>Output</h2>\n<pre class=\"lang-none prettyprint-override\"><code>Original data: Data[name=Test, buffer=java.nio.HeapByteBuffer[pos=0 lim=13 cap=13]]\n\nJSON string:\n{\n  &quot;name&quot;: &quot;Test&quot;,\n  &quot;buffer&quot;: &quot;SGVsbG8sIFdvcmxkIQ\\u003d\\u003d&quot;\n}\n\nDecoded data: Data[name=Test, buffer=java.nio.HeapByteBuffer[pos=0 lim=13 cap=13]]\n</code></pre>\n"}],"owner":{"account_id":4968,"reputation":7737,"user_id":7743,"accept_rate":89,"display_name":"Jeroen Dirks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77462140,"answer_count":1,"score":1,"last_activity_date":1699640843,"creation_date":1699550900,"question_id":77455234,"body_markdown":"I tried to create a custom ByteBufferTypeAdapter and registered it with the java.nio.ByteBuffer class.\r\n\r\nBut at runtime the class is actually the private java.nio.HeapByteBuffer so Gson does not find a TypeAdapter for it at all.\r\n\r\n```\r\nclass ByteBufferTypeAdapter implements JsonDeserializer&lt;ByteBuffer&gt;, JsonSerializer&lt;ByteBuffer&gt; {\r\n    @Override\r\n    public JsonElement serialize(ByteBuffer src, Type typeOfSrc, JsonSerializationContext context) {\r\n        return new JsonPrimitive(Base64.getEncoder().encodeToString(src.array()));\r\n    }\r\n\r\n    @Override\r\n    public ByteBuffer deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n        byte[] bytes = Base64.getDecoder().decode(json.getAsString());\r\n        return ByteBuffer.wrap(bytes);\r\n    }\r\n}\r\n```\r\n\r\n```\r\nprivate static Gson GSON = new GsonBuilder()\r\n            .registerTypeAdapter(java.nio.ByteBuffer.class, new ByteBufferTypeAdapter())\r\n            .registerTypeAdapter(Instant.class,\r\n                    (JsonSerializer&lt;Instant&gt;) (src, typeOfSrc, context) -&gt; new JsonPrimitive(src.toString()))\r\n            .create();\r\n```\r\nTest\r\n```\r\n        ByteBuffer test = ByteBuffer.wrap(&quot;Hello&quot;.getBytes(StandardCharsets.UTF_8));\r\n\r\n        String asJson = gson.toJson(test);\r\n\r\ndoes not use serialize method and produces: {&quot;hb&quot;:[72,101,108,108,111],&quot;offset&quot;:0,&quot;isReadOnly&quot;:false,&quot;bigEndian&quot;:true,&quot;nativeByteOrder&quot;:false,&quot;mark&quot;:-1,&quot;position&quot;:0,&quot;limit&quot;:5,&quot;capacity&quot;:5,&quot;address&quot;:0}\r\n\r\n\r\n```\r\n\r\nI then tried to register the same adapter with the HeapByteBuffer type but that class is private and I do not have access to the class of it.\r\n","title":"How do I make Gson serialize private classes like java.nio.HeapByteBuffer in JDK17?","body":"<p>I tried to create a custom ByteBufferTypeAdapter and registered it with the java.nio.ByteBuffer class.</p>\n<p>But at runtime the class is actually the private java.nio.HeapByteBuffer so Gson does not find a TypeAdapter for it at all.</p>\n<pre><code>class ByteBufferTypeAdapter implements JsonDeserializer&lt;ByteBuffer&gt;, JsonSerializer&lt;ByteBuffer&gt; {\n    @Override\n    public JsonElement serialize(ByteBuffer src, Type typeOfSrc, JsonSerializationContext context) {\n        return new JsonPrimitive(Base64.getEncoder().encodeToString(src.array()));\n    }\n\n    @Override\n    public ByteBuffer deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n        byte[] bytes = Base64.getDecoder().decode(json.getAsString());\n        return ByteBuffer.wrap(bytes);\n    }\n}\n</code></pre>\n<pre><code>private static Gson GSON = new GsonBuilder()\n            .registerTypeAdapter(java.nio.ByteBuffer.class, new ByteBufferTypeAdapter())\n            .registerTypeAdapter(Instant.class,\n                    (JsonSerializer&lt;Instant&gt;) (src, typeOfSrc, context) -&gt; new JsonPrimitive(src.toString()))\n            .create();\n</code></pre>\n<p>Test</p>\n<pre><code>        ByteBuffer test = ByteBuffer.wrap(&quot;Hello&quot;.getBytes(StandardCharsets.UTF_8));\n\n        String asJson = gson.toJson(test);\n\ndoes not use serialize method and produces: {&quot;hb&quot;:[72,101,108,108,111],&quot;offset&quot;:0,&quot;isReadOnly&quot;:false,&quot;bigEndian&quot;:true,&quot;nativeByteOrder&quot;:false,&quot;mark&quot;:-1,&quot;position&quot;:0,&quot;limit&quot;:5,&quot;capacity&quot;:5,&quot;address&quot;:0}\n\n\n</code></pre>\n<p>I then tried to register the same adapter with the HeapByteBuffer type but that class is private and I do not have access to the class of it.</p>\n"},{"tags":["java","sdk","xfs"],"comments":[{"owner":{"account_id":1340125,"reputation":180,"user_id":1281964,"display_name":"Jefferson"},"score":0,"creation_date":1699899729,"post_id":77462127,"comment_id":136586242,"body_markdown":"Hi people! I have the same problem... And I realy need some information about how we can get the J/XFS manager library. I need to implement a printer system to thermal printers in some banks institutions from Brazil. But the &quot;Caixa Econ&#244;mica Federal do Brasil&quot; bank still uses legacy systems based on J/XFS requests. So, how we can find the libraries and tester software related to J/XFS?","body":"Hi people! I have the same problem... And I realy need some information about how we can get the J/XFS manager library. I need to implement a printer system to thermal printers in some banks institutions from Brazil. But the &quot;Caixa Econ&#244;mica Federal do Brasil&quot; bank still uses legacy systems based on J/XFS requests. So, how we can find the libraries and tester software related to J/XFS?"}],"owner":{"account_id":28988010,"reputation":11,"user_id":22204460,"display_name":"Julio Nardone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699640713,"creation_date":1699640713,"question_id":77462127,"body_markdown":"I need to develop a XFS SPI for a device that will run over J/XFS standard. I already developed a SPI for XFS as a DLL written in C, but now I need to do it in Java.\r\n\r\nI tried over and over to find any source for this standardization with no avail. As per my research, I understand it was discontinued. I couldn&#39;t find anything related in CENELEC sites.\r\n\r\n\r\nDoes anyone know about how I can find this?\r\n\r\nThank you","title":"Where can I find J/XFS SDK for download?","body":"<p>I need to develop a XFS SPI for a device that will run over J/XFS standard. I already developed a SPI for XFS as a DLL written in C, but now I need to do it in Java.</p>\n<p>I tried over and over to find any source for this standardization with no avail. As per my research, I understand it was discontinued. I couldn't find anything related in CENELEC sites.</p>\n<p>Does anyone know about how I can find this?</p>\n<p>Thank you</p>\n"},{"tags":["java","pdf"],"owner":{"account_id":29869195,"reputation":1,"user_id":22890952,"display_name":"Akash Sardar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699639466,"creation_date":1699639114,"question_id":77462000,"body_markdown":"Please help me, How to create PDF file from a Listview or Recyclerview in Java.\r\n```\r\nprivate void convertXMLtoPDF() {\r\n        //Inflate the Layout\r\n        View view = LayoutInflater.from(this).inflate(R.layout.activity_purchase_item_plate,null);\r\n        DisplayMetrics displayMetrics = new DisplayMetrics();\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R){\r\n            this.getDisplay().getRealMetrics(displayMetrics);\r\n        } else this.getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\r\n        view.measure(View.MeasureSpec.makeMeasureSpec(displayMetrics.widthPixels, View.MeasureSpec.EXACTLY),\r\n                View.MeasureSpec.makeMeasureSpec(displayMetrics.heightPixels, View.MeasureSpec.EXACTLY));\r\n\r\n        view.layout(3,6, displayMetrics.widthPixels, displayMetrics.heightPixels);\r\n        PdfDocument document = new PdfDocument();\r\n\r\n        int viewWidth = view.getMeasuredWidth();\r\n        int viewHeight = view.getMeasuredHeight();\r\n\r\n        PdfDocument.PageInfo pageInfo = new PdfDocument.PageInfo.Builder(viewWidth, viewHeight, 1).create();\r\n        PdfDocument.Page page = document.startPage(pageInfo);\r\n\r\n        //Canvas\r\n        Canvas canvas = page.getCanvas();\r\n        view.draw(canvas);\r\n\r\n   \r\n        document.finishPage(page);\r\n\r\n\r\n\r\n        File createFolder = Environment.getExternalStoragePublicDirectory(\r\n                Environment.DIRECTORY_DOCUMENTS);\r\n        String folderName = &quot;GEO STOCK&quot;;\r\n\r\n        File myDir = new File(createFolder + &quot;/&quot; + folderName);\r\n        myDir.mkdirs();\r\n\r\n        Random generator = new Random();\r\n        int n = 10000;\r\n        n = generator.nextInt(n);\r\n        String fileName = &quot;XML-&quot;+ n +&quot;.pdf&quot;;\r\n        File file = new File(myDir, fileName);\r\n\r\n\r\n        try {\r\n            FileOutputStream fos = new FileOutputStream(file);\r\n            document.writeTo(fos);\r\n            document.close();\r\n            fos.close();\r\n            Toast.makeText(this, &quot;Successfully Create XML to PDF&quot;, Toast.LENGTH_SHORT).show();\r\n        } catch (FileNotFoundException e) {\r\n            Log.d(&quot;mylog&quot;, &quot;Error while writing&quot;+ e.toString());\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n```","title":"How to create a pdf file from a Listview or Recyclerview in java?","body":"<p>Please help me, How to create PDF file from a Listview or Recyclerview in Java.</p>\n<pre><code>private void convertXMLtoPDF() {\n        //Inflate the Layout\n        View view = LayoutInflater.from(this).inflate(R.layout.activity_purchase_item_plate,null);\n        DisplayMetrics displayMetrics = new DisplayMetrics();\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R){\n            this.getDisplay().getRealMetrics(displayMetrics);\n        } else this.getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\n        view.measure(View.MeasureSpec.makeMeasureSpec(displayMetrics.widthPixels, View.MeasureSpec.EXACTLY),\n                View.MeasureSpec.makeMeasureSpec(displayMetrics.heightPixels, View.MeasureSpec.EXACTLY));\n\n        view.layout(3,6, displayMetrics.widthPixels, displayMetrics.heightPixels);\n        PdfDocument document = new PdfDocument();\n\n        int viewWidth = view.getMeasuredWidth();\n        int viewHeight = view.getMeasuredHeight();\n\n        PdfDocument.PageInfo pageInfo = new PdfDocument.PageInfo.Builder(viewWidth, viewHeight, 1).create();\n        PdfDocument.Page page = document.startPage(pageInfo);\n\n        //Canvas\n        Canvas canvas = page.getCanvas();\n        view.draw(canvas);\n\n   \n        document.finishPage(page);\n\n\n\n        File createFolder = Environment.getExternalStoragePublicDirectory(\n                Environment.DIRECTORY_DOCUMENTS);\n        String folderName = &quot;GEO STOCK&quot;;\n\n        File myDir = new File(createFolder + &quot;/&quot; + folderName);\n        myDir.mkdirs();\n\n        Random generator = new Random();\n        int n = 10000;\n        n = generator.nextInt(n);\n        String fileName = &quot;XML-&quot;+ n +&quot;.pdf&quot;;\n        File file = new File(myDir, fileName);\n\n\n        try {\n            FileOutputStream fos = new FileOutputStream(file);\n            document.writeTo(fos);\n            document.close();\n            fos.close();\n            Toast.makeText(this, &quot;Successfully Create XML to PDF&quot;, Toast.LENGTH_SHORT).show();\n        } catch (FileNotFoundException e) {\n            Log.d(&quot;mylog&quot;, &quot;Error while writing&quot;+ e.toString());\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":6893723,"reputation":1773,"user_id":5296354,"accept_rate":100,"display_name":"Ram"},"score":0,"creation_date":1553086043,"post_id":55259383,"comment_id":97253580,"body_markdown":"can you replace `@SpringBootApplication` with `@Configuration` in your `ParentConfig` and `ChildConfig`?","body":"can you replace <code>@SpringBootApplication</code> with <code>@Configuration</code> in your <code>ParentConfig</code> and <code>ChildConfig</code>?"},{"owner":{"account_id":11157727,"reputation":31,"user_id":8188920,"display_name":"artszko"},"score":0,"creation_date":1553087375,"post_id":55259383,"comment_id":97254391,"body_markdown":"Yes, it gives the following stacktrace then:\n`Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.\n...`\nMost probably because neither context has auto configuration enabled.","body":"Yes, it gives the following stacktrace then: <code>Caused by: org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean. ...</code> Most probably because neither context has auto configuration enabled."}],"answers":[{"tags":[],"owner":{"account_id":881640,"reputation":4614,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553092472,"creation_date":1553092472,"answer_id":55263296,"question_id":55259383,"body_markdown":"Problem could be that you have packaged all tomcat libraries inside your war. Just look inside it and determine if that&#39;s true. If so, mark your tomcat dependency provided, so it won&#39;t get into final war.\r\n\r\n```$xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n   &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Spring Boot tries to run an embedded Tomcat when deployed as traditional war","body":"<p>Problem could be that you have packaged all tomcat libraries inside your war. Just look inside it and determine if that's true. If so, mark your tomcat dependency provided, so it won't get into final war.</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n   &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9138820,"reputation":41,"user_id":6797478,"display_name":"mangu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699639184,"creation_date":1699639184,"answer_id":77462008,"question_id":55259383,"body_markdown":"From the error message it seems like, its trying to find the embedded tomcat classes and throwing the error as you are deploying for external tomcat. \r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader\r\n\r\nPlease make the change in pom to provide the spring-boot-starter-web dependency at runtime, Which will pick it up from the external tomcat. \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Spring Boot tries to run an embedded Tomcat when deployed as traditional war","body":"<p>From the error message it seems like, its trying to find the embedded tomcat classes and throwing the error as you are deploying for external tomcat.</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader\n</code></pre>\n<p>Please make the change in pom to provide the spring-boot-starter-web dependency at runtime, Which will pick it up from the external tomcat.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":11157727,"reputation":31,"user_id":8188920,"display_name":"artszko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":829,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1699639184,"creation_date":1553080290,"question_id":55259383,"body_markdown":"I am trying to build Spring Boot application with a application context hierarchy and deploy it in a traditional way to a standalone Tomcat.\r\n\r\nI have seen [this][1] but it remains unresolved and I cannot make a comment there because of lack of reputation.\r\n\r\nSurprisingly to me, **changing the application context structure to flat fixes the issue**, but that is not an option for me. \r\n\r\nI am using `Spring Boot 2.1.3.RELEASE` and `Apache Tomcat/9.0.16`.\r\n\r\n**Repository**: https://github.com/artszko/spring-war-contexts\r\n\r\nHere is my `SpringBootServletInitializer`:\r\n\r\n    @SpringBootApplication\r\n    public class App extends SpringBootServletInitializer {\r\n    \r\n      public static void main(String... args) {\r\n        SpringApplication.run(App.class, args);\r\n      }\r\n    \r\n      @Override\r\n      protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application\r\n                       .parent(ParentConfig.class)\r\n                       .child(ChildConfig.class);\r\n      }\r\n    \r\n      //But this works\r\n      /*@Override\r\n      protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application\r\n                       .sources(ParentConfig.class, ChildConfig.class);\r\n      }*/\r\n    \r\n    }\r\n \r\nAnd the stacktrace I am receiving:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader\r\n\tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:315)\r\n\tat org.apache.catalina.loader.WebappLoader.createClassLoader(WebappLoader.java:503)\r\n\tat org.apache.catalina.loader.WebappLoader.startInternal(WebappLoader.java:389)\r\n\tat org.apache.catalina.loader.WebappLoader.startInternal(WebappLoader.java:413)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4980)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902\r\n\tat org.apache.catalina.loader.WebappLoader.startInternal(WebappLoader.java:413)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4980)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:921)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:921)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:423)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:928)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:455)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:125)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:415)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:157)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\r\n\tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:157)\r\n\tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:137)\r\n\tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:91)\r\n\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:171)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5125)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:441)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:713)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:716)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\r\n\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:978)\r\n\tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1850)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\r\n\tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:773)\r\n\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:427)\r\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1577)\r\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)\r\n\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:424)\r\n\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:367)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:929)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:423)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:928)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:638)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:350)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:492\r\n\r\n  [1]: https://stackoverflow.com/questions/52797602/spring-boot-application-with-context-hierarchy-tries-to-start-an-embedded-tomcat\r\n\r\n\r\nPom:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-war-contexts&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;","title":"Spring Boot tries to run an embedded Tomcat when deployed as traditional war","body":"<p>I am trying to build Spring Boot application with a application context hierarchy and deploy it in a traditional way to a standalone Tomcat.</p>\n\n<p>I have seen <a href=\"https://stackoverflow.com/questions/52797602/spring-boot-application-with-context-hierarchy-tries-to-start-an-embedded-tomcat\">this</a> but it remains unresolved and I cannot make a comment there because of lack of reputation.</p>\n\n<p>Surprisingly to me, <strong>changing the application context structure to flat fixes the issue</strong>, but that is not an option for me. </p>\n\n<p>I am using <code>Spring Boot 2.1.3.RELEASE</code> and <code>Apache Tomcat/9.0.16</code>.</p>\n\n<p><strong>Repository</strong>: <a href=\"https://github.com/artszko/spring-war-contexts\" rel=\"nofollow noreferrer\">https://github.com/artszko/spring-war-contexts</a></p>\n\n<p>Here is my <code>SpringBootServletInitializer</code>:</p>\n\n<pre><code>@SpringBootApplication\npublic class App extends SpringBootServletInitializer {\n\n  public static void main(String... args) {\n    SpringApplication.run(App.class, args);\n  }\n\n  @Override\n  protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n    return application\n                   .parent(ParentConfig.class)\n                   .child(ChildConfig.class);\n  }\n\n  //But this works\n  /*@Override\n  protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n    return application\n                   .sources(ParentConfig.class, ChildConfig.class);\n  }*/\n\n}\n</code></pre>\n\n<p>And the stacktrace I am receiving:</p>\n\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader\nat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:315)\nat org.apache.catalina.loader.WebappLoader.createClassLoader(WebappLoader.java:503)\nat org.apache.catalina.loader.WebappLoader.startInternal(WebappLoader.java:389)\nat org.apache.catalina.loader.WebappLoader.startInternal(WebappLoader.java:413)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4980)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902\nat org.apache.catalina.loader.WebappLoader.startInternal(WebappLoader.java:413)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4980)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)\nat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\nat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:921)\nat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)\nat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\nat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:921)\nat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.StandardService.startInternal(StandardService.java:423)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:928)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.startup.Tomcat.start(Tomcat.java:455)\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106)\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:125)\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86)\nat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:415)\nat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174)\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181)\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154)\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:157)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\nat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:157)\nat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:137)\nat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:91)\nat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:171)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5125)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:441)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\nat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:713)\nat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:716)\nat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\nat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\nat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:978)\nat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1850)\nat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\nat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:773)\nat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:427)\nat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1577)\nat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)\nat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\nat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:424)\nat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:367)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:929)\nat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)\nat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.StandardService.startInternal(StandardService.java:423)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:928)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.startup.Catalina.start(Catalina.java:638)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:350)\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:492\n</code></pre>\n\n<p>Pom:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;spring-war-contexts&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;name&gt;demo&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","server","jwt","azure-ad-b2c","pkce"],"owner":{"account_id":19321606,"reputation":11,"user_id":14125182,"display_name":"Nainesh Goel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699638283,"creation_date":1699638283,"question_id":77461927,"body_markdown":"While validating claim obtained from the azure b2c token using PKCE flow, the nbf claim is actually greater than the current time(the server time) .\r\nI am getting b2c token after validation from custom policy and the b2c token is being validated on the api server running on the azure container app.\r\nThe following java code is being used to validate the nbf claim:-\r\n```\r\nprivate boolean isTokenMature(DecodedJWT jwt) {\r\n\tLong nbf = jwt.getClaim(&quot;nbf&quot;).asLong();\r\n\tLong now = System.currentTimeMillis() / 1_000;\r\n\treturn nbf &lt; now;\r\n}\r\n```\r\nCould you please explain why the token is failing to validate? Is this the difference between the api server timezone(TZ) and the b2c server TZ and if so, how to find the b2c server&#39;s TZ (although the b2c token uses epoch time which is irrespective of the TZ and epoch time calculated in US would be same as that in Japan at any given instant)?","title":"Difference in time obtained from nbf claim while validating azure b2c token on the server","body":"<p>While validating claim obtained from the azure b2c token using PKCE flow, the nbf claim is actually greater than the current time(the server time) .\nI am getting b2c token after validation from custom policy and the b2c token is being validated on the api server running on the azure container app.\nThe following java code is being used to validate the nbf claim:-</p>\n<pre><code>private boolean isTokenMature(DecodedJWT jwt) {\n    Long nbf = jwt.getClaim(&quot;nbf&quot;).asLong();\n    Long now = System.currentTimeMillis() / 1_000;\n    return nbf &lt; now;\n}\n</code></pre>\n<p>Could you please explain why the token is failing to validate? Is this the difference between the api server timezone(TZ) and the b2c server TZ and if so, how to find the b2c server's TZ (although the b2c token uses epoch time which is irrespective of the TZ and epoch time calculated in US would be same as that in Japan at any given instant)?</p>\n"},{"tags":["java","class","jboss-arquillian"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1393388874,"post_id":22031207,"comment_id":33400308,"body_markdown":"Why? If it&#39;s for a test, just write the various `instanceof` tests yourself. Don&#39;t rely on extra code that&#39;s only there for testing.","body":"Why? If it&#39;s for a test, just write the various <code>instanceof</code> tests yourself. Don&#39;t rely on extra code that&#39;s only there for testing."}],"answers":[{"tags":[],"owner":{"account_id":2434654,"reputation":473,"user_id":2124855,"display_name":"TA Nguyen"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1393386476,"creation_date":1393386476,"answer_id":22031323,"question_id":22031207,"body_markdown":"There is a ClassUtils in the [Apache Common Lang][1] that have the 2 methods you want.  .getAllSuperClasses() and .getAllInterfaces().\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ClassUtils.html","title":"find all classes and interfaces a class extends or implements recursively","body":"<p>There is a ClassUtils in the <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ClassUtils.html\">Apache Common Lang</a> that have the 2 methods you want.  .getAllSuperClasses() and .getAllInterfaces().</p>\n"},{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393386491,"creation_date":1393386491,"answer_id":22031328,"question_id":22031207,"body_markdown":"The key you want is in the `Class#getSuperclass()` method:\r\n\r\n    public static Set&lt;Class&lt;?&gt;&gt; stuff(Class&lt;?&gt; target) {\r\n        Set&lt;Class&lt;?&gt;&gt; classesInterfaces = new HashSet&lt;&gt;();\r\n        classesInterfaces.add(target);\r\n        classesInterfaces.addAll(Arrays.asList(target.getInterfaces());\r\n\r\n        Class&lt;?&gt; superClass = target.getSuperclass();\r\n        if(superClass != null)\r\n            classesInterfaces.addAll(stuff(superClass));\r\n    }","title":"find all classes and interfaces a class extends or implements recursively","body":"<p>The key you want is in the <code>Class#getSuperclass()</code> method:</p>\n\n<pre><code>public static Set&lt;Class&lt;?&gt;&gt; stuff(Class&lt;?&gt; target) {\n    Set&lt;Class&lt;?&gt;&gt; classesInterfaces = new HashSet&lt;&gt;();\n    classesInterfaces.add(target);\n    classesInterfaces.addAll(Arrays.asList(target.getInterfaces());\n\n    Class&lt;?&gt; superClass = target.getSuperclass();\n    if(superClass != null)\n        classesInterfaces.addAll(stuff(superClass));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":383246,"reputation":1294,"user_id":738968,"accept_rate":77,"display_name":"Miguel Jim&#233;nez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393386494,"creation_date":1393386494,"answer_id":22031330,"question_id":22031207,"body_markdown":"From the question [How do you find all subclasses of a given class in Java?][1], [this][2] answer might be helpful:\r\n\r\nUsing the class [PojoClassImpl.java][3] you can get the super class by calling method `getSuperClass()`. I think that is sufficient for you to write a recursive method.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/492184/how-do-you-find-all-subclasses-of-a-given-class-in-java\r\n  [2]: https://stackoverflow.com/a/18175299/738968\r\n  [3]: https://code.google.com/p/openpojo/source/browse/trunk/src/main/java/com/openpojo/reflection/impl/PojoClassImpl.java","title":"find all classes and interfaces a class extends or implements recursively","body":"<p>From the question <a href=\"https://stackoverflow.com/questions/492184/how-do-you-find-all-subclasses-of-a-given-class-in-java\">How do you find all subclasses of a given class in Java?</a>, <a href=\"https://stackoverflow.com/a/18175299/738968\">this</a> answer might be helpful:</p>\n\n<p>Using the class <a href=\"https://code.google.com/p/openpojo/source/browse/trunk/src/main/java/com/openpojo/reflection/impl/PojoClassImpl.java\" rel=\"nofollow noreferrer\">PojoClassImpl.java</a> you can get the super class by calling method <code>getSuperClass()</code>. I think that is sufficient for you to write a recursive method.</p>\n"},{"tags":[],"owner":{"account_id":297962,"reputation":54236,"user_id":603742,"accept_rate":33,"display_name":"stinepike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393387180,"creation_date":1393387180,"answer_id":22031442,"question_id":22031207,"body_markdown":"If I got your question right, you want to find all the superclasses (class and interface) of a specific class. If so you can check the following solution\r\n\r\nto find the superclasses \r\n\r\n\t\t\tClass C = getClass();\r\n\t\t\twhile (C != null) {\r\n\t\t\t  System.out.println(C.getSimpleName());\r\n\t\t\t  C = C.getSuperclass();\r\n\t\t\t}\r\n\r\n\r\nto find the interfaces\r\n\r\n\t\t\tC = getClass();\r\n\t\t\tfor(Class adf: C.getInterfaces()){\r\n\r\n\t\t\t\t  System.out.println(adf.getSimpleName());\r\n\t\t\t}","title":"find all classes and interfaces a class extends or implements recursively","body":"<p>If I got your question right, you want to find all the superclasses (class and interface) of a specific class. If so you can check the following solution</p>\n\n<p>to find the superclasses </p>\n\n<pre><code>        Class C = getClass();\n        while (C != null) {\n          System.out.println(C.getSimpleName());\n          C = C.getSuperclass();\n        }\n</code></pre>\n\n<p>to find the interfaces</p>\n\n<pre><code>        C = getClass();\n        for(Class adf: C.getInterfaces()){\n\n              System.out.println(adf.getSimpleName());\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1034085,"reputation":15781,"user_id":1041822,"accept_rate":100,"display_name":"higuaro"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1393389915,"creation_date":1393388758,"answer_id":22031729,"question_id":22031207,"body_markdown":"The following implementation of the method does what the OP requires, it traverses the inheritance hierarchy for every class and interface:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\r\n    public static Set&lt;Class&lt;?&gt;&gt; getAllExtendedOrImplementedTypesRecursively(Class&lt;?&gt; clazz) {\r\n        List&lt;Class&lt;?&gt;&gt; res = new ArrayList&lt;&gt;();\r\n\r\n        do {\r\n            res.add(clazz);\r\n\r\n            // First, add all the interfaces implemented by this class\r\n            Class&lt;?&gt;[] interfaces = clazz.getInterfaces();\r\n            if (interfaces.length &gt; 0) {\r\n                res.addAll(Arrays.asList(interfaces));\r\n                \r\n                for (Class&lt;?&gt; interfaze : interfaces) {\r\n                    res.addAll(getAllExtendedOrImplementedTypesRecursively(interfaze));\r\n                }\r\n            }\r\n\r\n            // Add the super class\r\n            Class&lt;?&gt; superClass = clazz.getSuperclass();\r\n            \r\n            // Interfaces does not have java,lang.Object as superclass, they have null, so break the cycle and return\r\n            if (superClass == null) {\r\n                break;\r\n            }\r\n\r\n            // Now inspect the superclass \r\n            clazz = superClass;\r\n        } while (!&quot;java.lang.Object&quot;.equals(clazz.getCanonicalName()));\r\n\r\n        return new HashSet&lt;Class&lt;?&gt;&gt;(res);\r\n    }    \r\n\r\nI tested with `JFrame.class` and I got the following:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Set&lt;Class&lt;?&gt;&gt; classes = getAllExtendedOrImplementedTypesRecursively(JFrame.class);\r\n    for (Class&lt;?&gt; clazz : classes) {\r\n        System.out.println(clazz.getName());\r\n    }\r\n\r\nOutput:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    java.awt.Container\r\n    java.awt.Frame\r\n    javax.swing.JFrame\r\n    javax.swing.TransferHandler$HasGetTransferHandler\r\n    java.awt.Window\r\n    javax.accessibility.Accessible\r\n    javax.swing.RootPaneContainer\r\n    java.awt.Component\r\n    javax.swing.WindowConstants\r\n    java.io.Serializable\r\n    java.awt.MenuContainer\r\n    java.awt.image.ImageObserver\r\n\r\n**UPDATE:** For the OP&#39;s test case it prints: \r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    test.I5\r\n    test.Bar\r\n    test.I2\r\n    test.I1\r\n    test.Foo\r\n    test.I3\r\n    test.I4","title":"find all classes and interfaces a class extends or implements recursively","body":"<p>The following implementation of the method does what the OP requires, it traverses the inheritance hierarchy for every class and interface:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static Set&lt;Class&lt;?&gt;&gt; getAllExtendedOrImplementedTypesRecursively(Class&lt;?&gt; clazz) {\n    List&lt;Class&lt;?&gt;&gt; res = new ArrayList&lt;&gt;();\n\n    do {\n        res.add(clazz);\n\n        // First, add all the interfaces implemented by this class\n        Class&lt;?&gt;[] interfaces = clazz.getInterfaces();\n        if (interfaces.length &gt; 0) {\n            res.addAll(Arrays.asList(interfaces));\n\n            for (Class&lt;?&gt; interfaze : interfaces) {\n                res.addAll(getAllExtendedOrImplementedTypesRecursively(interfaze));\n            }\n        }\n\n        // Add the super class\n        Class&lt;?&gt; superClass = clazz.getSuperclass();\n\n        // Interfaces does not have java,lang.Object as superclass, they have null, so break the cycle and return\n        if (superClass == null) {\n            break;\n        }\n\n        // Now inspect the superclass \n        clazz = superClass;\n    } while (!\"java.lang.Object\".equals(clazz.getCanonicalName()));\n\n    return new HashSet&lt;Class&lt;?&gt;&gt;(res);\n}    \n</code></pre>\n\n<p>I tested with <code>JFrame.class</code> and I got the following:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Class&lt;?&gt;&gt; classes = getAllExtendedOrImplementedTypesRecursively(JFrame.class);\nfor (Class&lt;?&gt; clazz : classes) {\n    System.out.println(clazz.getName());\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java.awt.Container\njava.awt.Frame\njavax.swing.JFrame\njavax.swing.TransferHandler$HasGetTransferHandler\njava.awt.Window\njavax.accessibility.Accessible\njavax.swing.RootPaneContainer\njava.awt.Component\njavax.swing.WindowConstants\njava.io.Serializable\njava.awt.MenuContainer\njava.awt.image.ImageObserver\n</code></pre>\n\n<p><strong>UPDATE:</strong> For the OP's test case it prints: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>test.I5\ntest.Bar\ntest.I2\ntest.I1\ntest.Foo\ntest.I3\ntest.I4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4073412,"reputation":119,"user_id":3345677,"display_name":"ravi.patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393389282,"creation_date":1393389282,"answer_id":22031817,"question_id":22031207,"body_markdown":"It&#39;s very easy, in case your class is Foo then your code will be like this,\r\n\r\n    public void getClassDetails() {\r\n\r\n        Class klass = Foo.class;\r\n        Class&lt;?&gt; superKlass = klass.getSuperClass();\r\n        Class[] interfaces = klass.getInterfaces();\r\n    }","title":"find all classes and interfaces a class extends or implements recursively","body":"<p>It's very easy, in case your class is Foo then your code will be like this,</p>\n\n<pre><code>public void getClassDetails() {\n\n    Class klass = Foo.class;\n    Class&lt;?&gt; superKlass = klass.getSuperClass();\n    Class[] interfaces = klass.getInterfaces();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18918,"reputation":1986,"user_id":43842,"accept_rate":76,"display_name":"mmatloka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450396032,"creation_date":1450396032,"answer_id":34346378,"question_id":22031207,"body_markdown":"I have once implemented similiar mechanism using `asm` on some ShrinkWrap branch https://github.com/mmatloka/shrinkwrap/commit/39d5c3aa63a9bb85e6d7b68782879ca10cca273b . The issue is sometimes class might use object which is an interface implementation not mentioned in other file so it still can fail during deployment. \r\n\r\nFrom what I know some time ago official position was rather not to include such feature inside of the `ShrinkWrap`, but rather rely on tooling e.g. `JBoss Tools`, where should be a feature allowing for recursive class additions.","title":"find all classes and interfaces a class extends or implements recursively","body":"<p>I have once implemented similiar mechanism using <code>asm</code> on some ShrinkWrap branch <a href=\"https://github.com/mmatloka/shrinkwrap/commit/39d5c3aa63a9bb85e6d7b68782879ca10cca273b\" rel=\"nofollow\">https://github.com/mmatloka/shrinkwrap/commit/39d5c3aa63a9bb85e6d7b68782879ca10cca273b</a> . The issue is sometimes class might use object which is an interface implementation not mentioned in other file so it still can fail during deployment. </p>\n\n<p>From what I know some time ago official position was rather not to include such feature inside of the <code>ShrinkWrap</code>, but rather rely on tooling e.g. <code>JBoss Tools</code>, where should be a feature allowing for recursive class additions.</p>\n"},{"tags":[],"owner":{"account_id":12273240,"reputation":239,"user_id":8957848,"display_name":"otamega"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511950752,"creation_date":1510930533,"answer_id":47353489,"question_id":22031207,"body_markdown":"In Java8\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Optional;\r\n    import java.util.Set;\r\n    import java.util.function.Predicate;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n\r\n    public class ClassUtil {\r\n        public static Set&lt;Class&lt;?&gt;&gt; getAllExtendedOrImplementedTypesRecursively(final Class&lt;?&gt; clazz) {\r\n            return walk(clazz)\r\n                    .filter(Predicate.isEqual(java.lang.Object.class).negate())\r\n                    .collect(Collectors.toSet());\r\n        }\r\n\r\n        public static Stream&lt;Class&lt;?&gt;&gt; walk(final Class&lt;?&gt; c) {\r\n            return Stream.concat(Stream.of(c),\r\n                    Stream.concat(\r\n                            Optional.ofNullable(c.getSuperclass()).map(Stream::of).orElseGet(Stream::empty),\r\n                            Arrays.stream(c.getInterfaces())\r\n                    ).flatMap(ClassUtil::walk));\r\n        }\r\n    }\r\n\r\nTest Code:\r\n\r\n    import java.util.Set;\r\n    \r\n    class Test {\r\n        public static void main(String[] args) {\r\n            final Set&lt;Class&lt;?&gt;&gt; set = ClassUtil.getAllExtendedOrImplementedTypesRecursively(Foo.class);\r\n            set.stream().map(Class::getName).forEach(System.out::println);\r\n        }\r\n    \r\n        class Foo extends Bar implements I1, I2 {}\r\n        class Bar implements I3 {}\r\n        interface I1 extends I4, I5 {}\r\n        interface I2 {}\r\n        interface I3 {}\r\n        interface I4 {}\r\n        interface I5 {}\r\n    }\r\n\r\nOutput:\r\n&lt;pre&gt;\r\nTest$Foo\r\nTest$Bar\r\nTest$I2\r\nTest$I5\r\nTest$I1\r\nTest$I3\r\nTest$I4\r\n\r\n&lt;/pre&gt;","title":"find all classes and interfaces a class extends or implements recursively","body":"<p>In Java8</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Optional;\nimport java.util.Set;\nimport java.util.function.Predicate;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class ClassUtil {\n    public static Set&lt;Class&lt;?&gt;&gt; getAllExtendedOrImplementedTypesRecursively(final Class&lt;?&gt; clazz) {\n        return walk(clazz)\n                .filter(Predicate.isEqual(java.lang.Object.class).negate())\n                .collect(Collectors.toSet());\n    }\n\n    public static Stream&lt;Class&lt;?&gt;&gt; walk(final Class&lt;?&gt; c) {\n        return Stream.concat(Stream.of(c),\n                Stream.concat(\n                        Optional.ofNullable(c.getSuperclass()).map(Stream::of).orElseGet(Stream::empty),\n                        Arrays.stream(c.getInterfaces())\n                ).flatMap(ClassUtil::walk));\n    }\n}\n</code></pre>\n\n<p>Test Code:</p>\n\n<pre><code>import java.util.Set;\n\nclass Test {\n    public static void main(String[] args) {\n        final Set&lt;Class&lt;?&gt;&gt; set = ClassUtil.getAllExtendedOrImplementedTypesRecursively(Foo.class);\n        set.stream().map(Class::getName).forEach(System.out::println);\n    }\n\n    class Foo extends Bar implements I1, I2 {}\n    class Bar implements I3 {}\n    interface I1 extends I4, I5 {}\n    interface I2 {}\n    interface I3 {}\n    interface I4 {}\n    interface I5 {}\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre>\nTest$Foo\nTest$Bar\nTest$I2\nTest$I5\nTest$I1\nTest$I3\nTest$I4\n\n</pre>\n"},{"tags":[],"owner":{"account_id":1970837,"reputation":1438,"user_id":1769835,"accept_rate":69,"display_name":"J&#246;rn Guy S&#252;&#223;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641342112,"creation_date":1641342112,"answer_id":70586506,"question_id":22031207,"body_markdown":"Some suggested reductions on @otamega&#39;s solution:\r\n\r\nThis one does not filter Object (that would be an inconsistency) and uses some refactoring and static imports to make code more readable.\r\n\r\n```java\r\npackage com.stackoverflow.question22031207;\r\n\r\nimport static java.util.Arrays.stream;\r\nimport static java.util.stream.Collectors.toSet;\r\nimport static java.util.stream.Stream.concat;\r\nimport static java.util.stream.Stream.of;\r\nimport static java.util.stream.Stream.ofNullable;\r\n\r\nimport java.util.Set;\r\nimport java.util.stream.Stream;\r\n\r\npublic class ClassUtil {\r\n\tpublic static Set&lt;Class&lt;?&gt;&gt; getAllExtendedOrImplementedTypesRecursively(final Class&lt;?&gt; clazz) {\r\n\t\treturn walk(clazz).collect(toSet());\r\n\t}\r\n\r\n\tpublic static Stream&lt;Class&lt;?&gt;&gt; walk(final Class&lt;?&gt; clazz) {\r\n\t\tfinal Class&lt;?&gt; superclass = clazz.getSuperclass();\r\n\t\tfinal Class&lt;?&gt;[] interfaces = clazz.getInterfaces();\r\n\t\treturn concat(of(clazz), concat(ofNullable(superclass), stream(interfaces)).flatMap(ClassUtil::walk));\r\n\t}\r\n}\r\n```","title":"find all classes and interfaces a class extends or implements recursively","body":"<p>Some suggested reductions on @otamega's solution:</p>\n<p>This one does not filter Object (that would be an inconsistency) and uses some refactoring and static imports to make code more readable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverflow.question22031207;\n\nimport static java.util.Arrays.stream;\nimport static java.util.stream.Collectors.toSet;\nimport static java.util.stream.Stream.concat;\nimport static java.util.stream.Stream.of;\nimport static java.util.stream.Stream.ofNullable;\n\nimport java.util.Set;\nimport java.util.stream.Stream;\n\npublic class ClassUtil {\n    public static Set&lt;Class&lt;?&gt;&gt; getAllExtendedOrImplementedTypesRecursively(final Class&lt;?&gt; clazz) {\n        return walk(clazz).collect(toSet());\n    }\n\n    public static Stream&lt;Class&lt;?&gt;&gt; walk(final Class&lt;?&gt; clazz) {\n        final Class&lt;?&gt; superclass = clazz.getSuperclass();\n        final Class&lt;?&gt;[] interfaces = clazz.getInterfaces();\n        return concat(of(clazz), concat(ofNullable(superclass), stream(interfaces)).flatMap(ClassUtil::walk));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699637466,"creation_date":1699637466,"answer_id":77461844,"question_id":22031207,"body_markdown":"If you&#39;re using Spring: [`AnnotationUtils.findAnnotation()`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/AnnotationUtils.html#findAnnotation(java.lang.Class,java.lang.Class)) does exactly this:\r\n\r\n&gt; Find a single Annotation of annotationType on the supplied Class,\r\n traversing its interfaces, annotations, and superclasses if the\r\n annotation is not directly present on the given class itself. This\r\n method explicitly handles class-level annotations which are not\r\n declared as inherited as well as meta-annotations and annotations on\r\n interfaces.\r\n&gt; \r\n&gt; The algorithm operates as follows:\r\n&gt; \r\n&gt; 1. Search for the annotation on the given class and return it if found.\r\n&gt; 2. Recursively search through all annotations that the given class declares.\r\n&gt; 3. Recursively search through all interfaces that the given class declares.\r\n&gt; 4. Recursively search through the superclass hierarchy of the given class.\r\n\r\nThere&#39;s an overload for finding annotations on methods and `AnnotatedElements` in general as well.","title":"find all classes and interfaces a class extends or implements recursively","body":"<p>If you're using Spring: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/AnnotationUtils.html#findAnnotation(java.lang.Class,java.lang.Class)\" rel=\"nofollow noreferrer\"><code>AnnotationUtils.findAnnotation()</code></a> does exactly this:</p>\n<blockquote>\n<p>Find a single Annotation of annotationType on the supplied Class,\ntraversing its interfaces, annotations, and superclasses if the\nannotation is not directly present on the given class itself. This\nmethod explicitly handles class-level annotations which are not\ndeclared as inherited as well as meta-annotations and annotations on\ninterfaces.</p>\n<p>The algorithm operates as follows:</p>\n<ol>\n<li>Search for the annotation on the given class and return it if found.</li>\n<li>Recursively search through all annotations that the given class declares.</li>\n<li>Recursively search through all interfaces that the given class declares.</li>\n<li>Recursively search through the superclass hierarchy of the given class.</li>\n</ol>\n</blockquote>\n<p>There's an overload for finding annotations on methods and <code>AnnotatedElements</code> in general as well.</p>\n"}],"owner":{"account_id":380946,"reputation":8170,"user_id":735284,"accept_rate":73,"display_name":"coderatchet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18573,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":22031729,"answer_count":10,"score":18,"last_activity_date":1699637466,"creation_date":1393385846,"question_id":22031207,"body_markdown":"I was wondering if there was an easy way of determining the complete list of Types that a Java class extends or implements recursively?\r\n\r\nfor instance:\r\n\r\n\tclass Foo extends Bar implements I1, I2 {...}\r\n\tclass Bar implements I3 {...}\r\n\tinterface I1 extends I4, I5 {...}\r\n\tinterface I2 {...}\r\n\tinterface I3 {...}\r\n\tinterface I4 {...}\r\n\tinterface I5 {...}\r\n\r\n\tclass ClassUtil {\r\n\t\tpublic static Set&lt;Class&lt;?&gt;&gt; getAllExtendedOrImplementedTypesRecursively(Class&lt;?&gt; clazz){\r\n\t\t\t???\r\n\t\t}\r\n\t}\r\n\r\n\timport static org.junit.Assert.*;\r\n\tpublic class ClassUtilTest {\r\n\t\t@Test\r\n\t\tpublic void shouldEqualClasses(){\r\n\t\t\tSet&lt;Class&lt;?&gt;&gt; types = ClassUtil.getAllExtendedOrImplementedTypesRecursively(Foo.class);\r\n\t\t\tSet&lt;Class&lt;?&gt;&gt; checklist = new HashSet&lt;&gt;();\r\n\t\t\tchecklist.add(Foo.class);\r\n\t\t\tchecklist.add(Bar.class);\r\n\t\t\tchecklist.add(I1.class);\r\n\t\t\tchecklist.add(I2.class);\r\n\t\t\tchecklist.add(I3.class);\r\n\t\t\tchecklist.add(I4.class);\r\n\t\t\tchecklist.add(I5.class);\r\n\t\t\tassertTrue(checklist.containsAll(types));\r\n\t\t\tassertTrue(types.containsAll(checklist));\r\n\t\t}\r\n\t}\r\n\r\nThink Arquillian ShrinkWrap creation helper.\r\n\r\n**UPDATE:** due to the Class&lt;?&gt; object not implementing Comparable&lt;Class&lt;?&gt;&gt; I also need to find a way of creating a Set (or similar class) without implementing the Comparable interface (for instance, solely relying on the hashcode of the class object).\r\n\r\n**UPDATE:** changed the test to use hashset. derp.","title":"find all classes and interfaces a class extends or implements recursively","body":"<p>I was wondering if there was an easy way of determining the complete list of Types that a Java class extends or implements recursively?</p>\n\n<p>for instance:</p>\n\n<pre><code>class Foo extends Bar implements I1, I2 {...}\nclass Bar implements I3 {...}\ninterface I1 extends I4, I5 {...}\ninterface I2 {...}\ninterface I3 {...}\ninterface I4 {...}\ninterface I5 {...}\n\nclass ClassUtil {\n    public static Set&lt;Class&lt;?&gt;&gt; getAllExtendedOrImplementedTypesRecursively(Class&lt;?&gt; clazz){\n        ???\n    }\n}\n\nimport static org.junit.Assert.*;\npublic class ClassUtilTest {\n    @Test\n    public void shouldEqualClasses(){\n        Set&lt;Class&lt;?&gt;&gt; types = ClassUtil.getAllExtendedOrImplementedTypesRecursively(Foo.class);\n        Set&lt;Class&lt;?&gt;&gt; checklist = new HashSet&lt;&gt;();\n        checklist.add(Foo.class);\n        checklist.add(Bar.class);\n        checklist.add(I1.class);\n        checklist.add(I2.class);\n        checklist.add(I3.class);\n        checklist.add(I4.class);\n        checklist.add(I5.class);\n        assertTrue(checklist.containsAll(types));\n        assertTrue(types.containsAll(checklist));\n    }\n}\n</code></pre>\n\n<p>Think Arquillian ShrinkWrap creation helper.</p>\n\n<p><strong>UPDATE:</strong> due to the Class object not implementing Comparable> I also need to find a way of creating a Set (or similar class) without implementing the Comparable interface (for instance, solely relying on the hashcode of the class object).</p>\n\n<p><strong>UPDATE:</strong> changed the test to use hashset. derp.</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1699637195,"post_id":77461785,"comment_id":136561264,"body_markdown":"Also https://stackoverflow.com/questions/7156949/main-thread-vs-ui-thread-in-java","body":"Also <a href=\"https://stackoverflow.com/questions/7156949/main-thread-vs-ui-thread-in-java\" title=\"main thread vs ui thread in java\">stackoverflow.com/questions/7156949/&hellip;</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699637309,"post_id":77461785,"comment_id":136561278,"body_markdown":"Don&#39;t  use `thread.sleep` to  pause graphics. Instead, use an animation timer.  Answers to some of these questions might  help https://stackoverflow.com/search?q=%5Bjava%5D+thread.sleep+gui  or this one https://stackoverflow.com/questions/4215968/java-thread-sleep-puts-swing-ui-to-sleep-too","body":"Don&#39;t  use <code>thread.sleep</code> to  pause graphics. Instead, use an animation timer.  Answers to some of these questions might  help <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+thread.sleep+gui\">stackoverflow.com/search?q=%5Bjava%5D+thread.sleep+gui</a>  or this one <a href=\"https://stackoverflow.com/questions/4215968/java-thread-sleep-puts-swing-ui-to-sleep-too\" title=\"java thread sleep puts swing ui to sleep too\">stackoverflow.com/questions/4215968/&hellip;</a>"},{"owner":{"account_id":26956764,"reputation":11,"user_id":20524990,"display_name":"Leandro Z&#225;rate"},"score":0,"creation_date":1699637511,"post_id":77461785,"comment_id":136561303,"body_markdown":"ty man ill check it rn","body":"ty man ill check it rn"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1699637774,"post_id":77461785,"comment_id":136561340,"body_markdown":"Read [Lesson: Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/). Also, check out [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html)","body":"Read <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">Lesson: Concurrency in Swing</a>. Also, check out <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a>"},{"owner":{"account_id":26956764,"reputation":11,"user_id":20524990,"display_name":"Leandro Z&#225;rate"},"score":0,"creation_date":1699638010,"post_id":77461785,"comment_id":136561373,"body_markdown":"It worked tyyy! How do i close whis question?","body":"It worked tyyy! How do i close whis question?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699639049,"post_id":77461785,"comment_id":136561519,"body_markdown":"You could delete it.","body":"You could delete it."}],"owner":{"account_id":26956764,"reputation":11,"user_id":20524990,"display_name":"Leandro Z&#225;rate"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1699637669,"answer_count":0,"score":-1,"last_activity_date":1699636806,"creation_date":1699636806,"question_id":77461785,"body_markdown":"  Im trying to make my GUI pause for a couple seconds so that an image can be displayed and then hidden. But i noticed that the images wherent refreshing correctly. It wont be shown.\r\n  I did debug whe program, so i know that they are executing. And in some cases changing some little thing they are able to refresh.\r\n  I tried using `sleep()` but it would only freeze the hole frame. It would not eeven update the text. Do you know any solution for this? Im not sure if `wait()` would work and i dont exactly think `timer` will work.\r\n\r\nHeres the code as it is now since i tried many thing and erased many others\r\n\r\n```\r\n        jLabel5.setVisible(false);\r\n        String id = textField1.getText();\r\n        String url = &quot;jdbc:sqlite:C:\\\\Users\\\\Z\\\\Desktop\\\\DbJava.db&quot;;\r\n        try (Connection connection = DriverManager.getConnection(url)) {\r\n            System.out.println(&quot;Connected to the database&quot;);\r\n            Statement statement = connection.createStatement();\r\n            ResultSet cliente = statement.executeQuery(&quot;SELECT * FROM Clientes_Peajes &quot;+\r\n                                                       &quot;WHERE ID_Cliente = &quot;+id+&quot; &quot;);\r\n            int saldo = cliente.getInt(&quot;Saldo&quot;);\r\n            String origen = cliente.getString(&quot;Pais&quot;);\r\n            ResultSet cobro = statement.executeQuery(&quot;SELECT * FROM tarifas &quot;+\r\n                                                     &quot;WHERE pais = &#39;&quot;+origen+&quot;&#39;&quot;);\r\n            int tarifa = cobro.getInt(&quot;precio&quot;);\r\n            int saldoRes=saldo-tarifa;\r\n            if(saldoRes&gt;=0){\r\n                jLabel1.setText(&quot;Saldo restante: &quot;+saldoRes);\r\n                jLabel1.revalidate();\r\n                jLabel3.setVisible(false);\r\n                jLabel3.repaint();\r\n                jLabel5.setVisible(true);\r\n                jLabel5.repaint();\r\n                if(saldoRes&lt;(3*tarifa)){\r\n                   jLabel1.setText(&quot;Bajo saldo, restante: &quot;+saldoRes);\r\n                   jLabel1.revalidate();\r\n                   jLabel3.setVisible(false);\r\n                   jLabel3.repaint();\r\n                   jLabel5.setVisible(true);\r\n                   jLabel3.repaint();\r\n                }\r\n            }\r\n            else{\r\n                jLabel1.setText(&quot;Saldo insuficienete, restante: &quot;+saldo);\r\n                jLabel1.revalidate();\r\n                saldoRes=+tarifa;\r\n            }\r\n            String updateQuery = &quot;UPDATE Clientes_Peajes &quot;+\r\n                                 &quot;SET Saldo = &quot;+saldoRes+&quot; &quot;+\r\n                                 &quot;WHERE ID_cliente = &quot;+id+&quot;&quot;;\r\n            int rowsAffected = statement.executeUpdate(updateQuery);\r\n        } catch (SQLException e) {\r\n            System.err.println(&quot;Error connecting to the database: &quot; + e.getMessage());\r\n        }\r\n        jLabel3.setVisible(true);\r\n        jLabel3.repaint();\r\n        jLabel5.setVisible(false);\r\n        jLabel5.repaint();\r\n    }               \r\n```\r\nAll those `repaint()` and `revalidate()` dont help either \r\n","title":"`thread.sleep()` is freezing GUI","body":"<p>Im trying to make my GUI pause for a couple seconds so that an image can be displayed and then hidden. But i noticed that the images wherent refreshing correctly. It wont be shown.\nI did debug whe program, so i know that they are executing. And in some cases changing some little thing they are able to refresh.\nI tried using <code>sleep()</code> but it would only freeze the hole frame. It would not eeven update the text. Do you know any solution for this? Im not sure if <code>wait()</code> would work and i dont exactly think <code>timer</code> will work.</p>\n<p>Heres the code as it is now since i tried many thing and erased many others</p>\n<pre><code>        jLabel5.setVisible(false);\n        String id = textField1.getText();\n        String url = &quot;jdbc:sqlite:C:\\\\Users\\\\Z\\\\Desktop\\\\DbJava.db&quot;;\n        try (Connection connection = DriverManager.getConnection(url)) {\n            System.out.println(&quot;Connected to the database&quot;);\n            Statement statement = connection.createStatement();\n            ResultSet cliente = statement.executeQuery(&quot;SELECT * FROM Clientes_Peajes &quot;+\n                                                       &quot;WHERE ID_Cliente = &quot;+id+&quot; &quot;);\n            int saldo = cliente.getInt(&quot;Saldo&quot;);\n            String origen = cliente.getString(&quot;Pais&quot;);\n            ResultSet cobro = statement.executeQuery(&quot;SELECT * FROM tarifas &quot;+\n                                                     &quot;WHERE pais = '&quot;+origen+&quot;'&quot;);\n            int tarifa = cobro.getInt(&quot;precio&quot;);\n            int saldoRes=saldo-tarifa;\n            if(saldoRes&gt;=0){\n                jLabel1.setText(&quot;Saldo restante: &quot;+saldoRes);\n                jLabel1.revalidate();\n                jLabel3.setVisible(false);\n                jLabel3.repaint();\n                jLabel5.setVisible(true);\n                jLabel5.repaint();\n                if(saldoRes&lt;(3*tarifa)){\n                   jLabel1.setText(&quot;Bajo saldo, restante: &quot;+saldoRes);\n                   jLabel1.revalidate();\n                   jLabel3.setVisible(false);\n                   jLabel3.repaint();\n                   jLabel5.setVisible(true);\n                   jLabel3.repaint();\n                }\n            }\n            else{\n                jLabel1.setText(&quot;Saldo insuficienete, restante: &quot;+saldo);\n                jLabel1.revalidate();\n                saldoRes=+tarifa;\n            }\n            String updateQuery = &quot;UPDATE Clientes_Peajes &quot;+\n                                 &quot;SET Saldo = &quot;+saldoRes+&quot; &quot;+\n                                 &quot;WHERE ID_cliente = &quot;+id+&quot;&quot;;\n            int rowsAffected = statement.executeUpdate(updateQuery);\n        } catch (SQLException e) {\n            System.err.println(&quot;Error connecting to the database: &quot; + e.getMessage());\n        }\n        jLabel3.setVisible(true);\n        jLabel3.repaint();\n        jLabel5.setVisible(false);\n        jLabel5.repaint();\n    }               \n</code></pre>\n<p>All those <code>repaint()</code> and <code>revalidate()</code> dont help either</p>\n"},{"tags":["java","sql","spring-boot","active-objects"],"owner":{"account_id":9149496,"reputation":171,"user_id":6804563,"display_name":"Nayan Kurude"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699636433,"creation_date":1699636433,"question_id":77461754,"body_markdown":"My query is `SELECT * FROM (SELECT *, ROW_NUMBER() OVER (PARTITION BY &quot;TYPE_IDENTIFIER&quot; ORDER BY &quot;ENDED&quot; DESC) rn FROM public.&quot;PROGRESS_RESULT&quot;) X WHERE rn=1;`\r\n\r\nCan you help me write Java code using the net.java.ao.Query class? Entity class name is ProgressResultAO\r\n\r\nThanks a lot.","title":"Need to convert sql query into net.java.ao.Query?","body":"<p>My query is <code>SELECT * FROM (SELECT *, ROW_NUMBER() OVER (PARTITION BY &quot;TYPE_IDENTIFIER&quot; ORDER BY &quot;ENDED&quot; DESC) rn FROM public.&quot;PROGRESS_RESULT&quot;) X WHERE rn=1;</code></p>\n<p>Can you help me write Java code using the net.java.ao.Query class? Entity class name is ProgressResultAO</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","spring","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":9132122,"reputation":3607,"user_id":6793312,"accept_rate":50,"display_name":"Moshe Arad"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1475153745,"creation_date":1475153745,"answer_id":39770962,"question_id":39770694,"body_markdown":"It seems that the requested properties can&#39;t be found. I would recommend doing this:\r\n \r\nIf the requested properties file is within your classpath you can fix above with just writing the next line:\r\n\r\n`@PropertySource(&quot;classpath:config/myConfig.properties&quot;)`","title":"&quot;Could not open ServletContext resource&quot; in test context","body":"<p>It seems that the requested properties can't be found. I would recommend doing this:</p>\n\n<p>If the requested properties file is within your classpath you can fix above with just writing the next line:</p>\n\n<p><code>@PropertySource(\"classpath:config/myConfig.properties\")</code></p>\n"},{"tags":[],"owner":{"account_id":1268658,"reputation":14001,"user_id":1225413,"accept_rate":80,"display_name":"Akhil Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561546761,"creation_date":1561546761,"answer_id":56771282,"question_id":39770694,"body_markdown":"I configured maven war plugin as below \r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.1.1&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t   &lt;warName&gt;${war-file-name}&lt;/warName&gt;\r\n    \t\t&lt;warSourceDirectory&gt;src/main/webapp&lt;/warSourceDirectory&gt;\r\n    \t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n    \r\n    \t\t&lt;webResources&gt;\r\n    \t\t  &lt;resource&gt;\r\n    \t\t\t&lt;!-- this is relative to the pom.xml directory --&gt;\r\n    \t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t  &lt;/resource&gt;\r\n    \t\t&lt;/webResources&gt;\r\n    \t &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nConfigure the following section as relevant to your `pom.xml`\r\n\r\n     &lt;webResources&gt;\r\n    \t\t  &lt;resource&gt;\r\n    \t\t\t&lt;!-- this is relative to the pom.xml directory --&gt;\r\n    \t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t  &lt;/resource&gt;\r\n     &lt;/webResources&gt;\r\n\r\nFor more information refer [Adding and Filtering External Web Resources][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins-archives/maven-war-plugin-2.4/examples/adding-filtering-webresources.html","title":"&quot;Could not open ServletContext resource&quot; in test context","body":"<p>I configured maven war plugin as below </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.1.1&lt;/version&gt;\n    &lt;configuration&gt;\n       &lt;warName&gt;${war-file-name}&lt;/warName&gt;\n        &lt;warSourceDirectory&gt;src/main/webapp&lt;/warSourceDirectory&gt;\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n\n        &lt;webResources&gt;\n          &lt;resource&gt;\n            &lt;!-- this is relative to the pom.xml directory --&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n          &lt;/resource&gt;\n        &lt;/webResources&gt;\n     &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Configure the following section as relevant to your <code>pom.xml</code></p>\n\n<pre><code> &lt;webResources&gt;\n          &lt;resource&gt;\n            &lt;!-- this is relative to the pom.xml directory --&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n          &lt;/resource&gt;\n &lt;/webResources&gt;\n</code></pre>\n\n<p>For more information refer <a href=\"https://maven.apache.org/plugins-archives/maven-war-plugin-2.4/examples/adding-filtering-webresources.html\" rel=\"nofollow noreferrer\">Adding and Filtering External Web Resources</a></p>\n"},{"tags":[],"owner":{"account_id":8693671,"reputation":7368,"user_id":6505847,"display_name":"AzyCrw4282"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699636129,"creation_date":1699636129,"answer_id":77461730,"question_id":39770694,"body_markdown":"I had same error but I had to define my resources file reference with `classpath` as I was loading file from properties file\r\n\r\n```\r\nspring.rabbitmq.ssl.key-store=classpath:/client-file\r\n```\r\nYou can also load from filesystem - see [here](https://docs.spring.io/spring-framework/reference/core/resources.html)","title":"&quot;Could not open ServletContext resource&quot; in test context","body":"<p>I had same error but I had to define my resources file reference with <code>classpath</code> as I was loading file from properties file</p>\n<pre><code>spring.rabbitmq.ssl.key-store=classpath:/client-file\n</code></pre>\n<p>You can also load from filesystem - see <a href=\"https://docs.spring.io/spring-framework/reference/core/resources.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":1968793,"reputation":1837,"user_id":1768343,"accept_rate":87,"display_name":"Florian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12857,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":39770962,"answer_count":3,"score":11,"last_activity_date":1699636129,"creation_date":1475153042,"question_id":39770694,"body_markdown":"I&#39;m trying to create a Unit Test with Spring. \r\n\r\nTest class:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = {MyConfig.class})\r\n    public class MyTest{\r\n    @Test\r\n    public void ...\r\n    }\r\n\r\nClass to load:\r\n\r\n    @ConfigurationProperties()\r\n    @PropertySource(&quot;config/myConfig.properties&quot;)\r\n    @Component\r\n    public class MyConfig {}\r\n\r\nException: \r\n\r\n&gt;    Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed\r\n&gt; to parse configuration class\r\n&gt; [de.db.sus.converter.fia.business.algorithm.config.FiaConverterConfig];\r\n&gt; nested exception is java.io.FileNotFoundException: Could not open\r\n&gt; ServletContext resource [/config/myConfig.properties]\r\n\r\nI have found resources for web applications and/or xml based configurations, but wasn&#39;t apply to transfer them. \r\n\r\nIf I would start the application with `@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)`the properties get loaded. But I can&#39;t start the whole application for every Unit test. \r\n\r\nI have verified that the file exists in the directory test/resources/config/","title":"&quot;Could not open ServletContext resource&quot; in test context","body":"<p>I'm trying to create a Unit Test with Spring. </p>\n\n<p>Test class:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = {MyConfig.class})\npublic class MyTest{\n@Test\npublic void ...\n}\n</code></pre>\n\n<p>Class to load:</p>\n\n<pre><code>@ConfigurationProperties()\n@PropertySource(\"config/myConfig.properties\")\n@Component\npublic class MyConfig {}\n</code></pre>\n\n<p>Exception: </p>\n\n<blockquote>\n  <p>Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed\n  to parse configuration class\n  [de.db.sus.converter.fia.business.algorithm.config.FiaConverterConfig];\n  nested exception is java.io.FileNotFoundException: Could not open\n  ServletContext resource [/config/myConfig.properties]</p>\n</blockquote>\n\n<p>I have found resources for web applications and/or xml based configurations, but wasn't apply to transfer them. </p>\n\n<p>If I would start the application with <code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)</code>the properties get loaded. But I can't start the whole application for every Unit test. </p>\n\n<p>I have verified that the file exists in the directory test/resources/config/</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1699636267,"post_id":77461716,"comment_id":136561133,"body_markdown":"This link may help: https://www.baeldung.com/multitenancy-with-spring-data-jpa","body":"This link may help: <a href=\"https://www.baeldung.com/multitenancy-with-spring-data-jpa\" rel=\"nofollow noreferrer\">baeldung.com/multitenancy-with-spring-data-jpa</a>"},{"owner":{"account_id":18589398,"reputation":11,"user_id":13546964,"display_name":"Supriya_21"},"score":0,"creation_date":1699636565,"post_id":77461716,"comment_id":136561178,"body_markdown":"thanks for the link I will definitely try the approach mean while if any one has any idea about my code please help","body":"thanks for the link I will definitely try the approach mean while if any one has any idea about my code please help"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1699654472,"post_id":77461716,"comment_id":136563522,"body_markdown":"The approach is off because you are switching a DB context out from under something that assumes only a single DB - DDL is executed when JPA starts up, and doesn&#39;t know about your second database context. You&#39;d need to have a persistence units overtop of each database, and switch between them. Alternatively, you&#39;d need your own startup logic that goes through every DB and manually creates the DB via JPA Persistence.generateSchema method. I&#39;m not sure what is going wrong with your code when it comes to saves to db1 though - you&#39;ll have to check how transactions are behaving.","body":"The approach is off because you are switching a DB context out from under something that assumes only a single DB - DDL is executed when JPA starts up, and doesn&#39;t know about your second database context. You&#39;d need to have a persistence units overtop of each database, and switch between them. Alternatively, you&#39;d need your own startup logic that goes through every DB and manually creates the DB via JPA Persistence.generateSchema method. I&#39;m not sure what is going wrong with your code when it comes to saves to db1 though - you&#39;ll have to check how transactions are behaving."}],"owner":{"account_id":18589398,"reputation":11,"user_id":13546964,"display_name":"Supriya_21"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699635949,"creation_date":1699635949,"question_id":77461716,"body_markdown":"I&#39;m working on a Spring Boot application where I need to route to different data sources based on certain conditions. Specifically, I want to route to different databases when saving StudentEntity instances, depending on a given condition. Below is my current setup:\r\n\r\n```\r\n  @Override\r\n    public StudentEntity saveStudent(StudentEntity studentEntity,String db) {\r\n        StudentEntity save = null;\r\n        if(db.equals(&quot;DB1&quot;)) {\r\n            DBContextHolder.setCurrentDb(ClientNames.DB1);\r\n             save = studentRepository.save(studentEntity);\r\n        }\r\n        else{\r\n            DBContextHolder.setCurrentDb(ClientNames.DB2);\r\n            save = studentRepository.save(studentEntity);\r\n        }\r\n        return save;\r\n    }\r\n```\r\n\r\n//Data base configuration\r\n\r\n```\r\n@Configuration\r\n@PropertySource({&quot;classpath:application.properties&quot;})\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n        entityManagerFactoryRef = &quot;multiEntityManager&quot;,\r\n        transactionManagerRef = &quot;multiTransactionManager&quot;)\r\n@EntityScan(&quot;com.demo.MyDemo.model&quot;)\r\npublic class DatabaseConfiguration {\r\n    private final String PACKAGE_SCAN = &quot;com.demo.MyDemo.model&quot;;\r\n\r\n    @Primary\r\n    @Bean(name = &quot;db1DataSource&quot;)\r\n    @ConfigurationProperties(&quot;spring.datasource&quot;)\r\n    public DataSource db1DataSource() {\r\n        return DataSourceBuilder.create().type(HikariDataSource.class).build();\r\n    }\r\n\r\n    //connection objects for the remaining 2 databases\r\n\r\n    @Bean(name = &quot;db2DataSource&quot;)\r\n    @ConfigurationProperties(&quot;app.datasource.db2&quot;)\r\n\r\n    public DataSource db2DataSource() {\r\n        return DataSourceBuilder.create().type(HikariDataSource.class).build();\r\n    }\r\n\r\n\r\n    @Bean(name = &quot;multiRoutingDataSource&quot;)\r\n    public DataSource multiRoutingDataSource() {\r\n        Map&lt;Object, Object&gt; targetDataSources = new HashMap&lt;&gt;();\r\n        targetDataSources.put(ClientNames.DB1, db1DataSource());\r\n        targetDataSources.put(ClientNames.DB2, db2DataSource());\r\n\r\n        MultiRoutingDataSource multiRoutingDataSource\r\n                = new MultiRoutingDataSource();\r\n        multiRoutingDataSource.setDefaultTargetDataSource(db1DataSource());\r\n        multiRoutingDataSource.setTargetDataSources(targetDataSources);\r\n        return multiRoutingDataSource;\r\n    }\r\n\r\n    @Bean(name = &quot;multiEntityManager&quot;)\r\n    public LocalContainerEntityManagerFactoryBean multiEntityManager() {\r\n        LocalContainerEntityManagerFactoryBean em\r\n                = new LocalContainerEntityManagerFactoryBean();\r\n        em.setDataSource(multiRoutingDataSource());\r\n        em.setPackagesToScan(PACKAGE_SCAN);\r\n        HibernateJpaVendorAdapter vendorAdapter\r\n                = new HibernateJpaVendorAdapter();\r\n        em.setJpaVendorAdapter(vendorAdapter);\r\n        em.setJpaProperties(hibernateProperties());\r\n        return em;\r\n    }\r\n\r\n    @Bean(name = &quot;transactionManager&quot;)\r\n    public PlatformTransactionManager multiTransactionManager() {\r\n        JpaTransactionManager transactionManager\r\n                = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(\r\n                multiEntityManager().getObject());\r\n        return transactionManager;\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name=&quot;entityManagerFactory&quot;)\r\n    public LocalSessionFactoryBean dbSessionFactory() {\r\n        LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\r\n        sessionFactoryBean.setDataSource(multiRoutingDataSource());\r\n        sessionFactoryBean.setPackagesToScan(PACKAGE_SCAN);\r\n        sessionFactoryBean.setHibernateProperties(hibernateProperties());\r\n        return sessionFactoryBean;\r\n    }\r\n\r\n    private Properties hibernateProperties() {\r\n        Properties properties = new Properties();\r\n        //properties.put(&quot;hibernate.show_sql&quot;, true);\r\n        //properties.put(&quot;hibernate.format_sql&quot;, true);\r\n        properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL5InnoDBDialect&quot;);\r\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create&quot;);\r\n        properties.put(&quot;hibernate.id.new_generator_mappings&quot;, false);\r\n        properties.put(&quot;hibernate.jdbc.lob.non_contextual_creation&quot;, true);\r\n        return properties;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n//application.properties\r\n\r\n```\r\nspring.datasource.jdbc-url= jdbc:mysql://localhost:3306/mydemo\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\n\r\napp.datasource.db2.jdbc-url= jdbc:mysql://localhost:3306/mydemolocal\r\napp.datasource.db2.username=root\r\napp.datasource.db2.password=root\r\napp.datasource.db2.hibernate.ddl-auto=create\r\napp.datasource.db2.jpa.generate-ddl=true\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\n//ServiceImpl\r\n\r\n```\r\n  @Override\r\n    public StudentEntity saveStudent(StudentEntity studentEntity,String db) {\r\n        StudentEntity save = null;\r\n        if(db.equals(&quot;DB1&quot;)) {\r\n            DBContextHolder.setCurrentDb(ClientNames.DB1);\r\n             save = studentRepository.save(studentEntity);\r\n        }\r\n        else{\r\n            DBContextHolder.setCurrentDb(ClientNames.DB2);\r\n            save = studentRepository.save(studentEntity);\r\n        }\r\n        return save;\r\n    }\r\n```\r\n\r\nI want data to be saved in either of the DB&#39;s on based of condition in implementation method","title":"How to Configure and Use Multi-DataSource Routing with Spring Boot and JPA? No table is getting created in DB2 save not working forDB1","body":"<p>I'm working on a Spring Boot application where I need to route to different data sources based on certain conditions. Specifically, I want to route to different databases when saving StudentEntity instances, depending on a given condition. Below is my current setup:</p>\n<pre><code>  @Override\n    public StudentEntity saveStudent(StudentEntity studentEntity,String db) {\n        StudentEntity save = null;\n        if(db.equals(&quot;DB1&quot;)) {\n            DBContextHolder.setCurrentDb(ClientNames.DB1);\n             save = studentRepository.save(studentEntity);\n        }\n        else{\n            DBContextHolder.setCurrentDb(ClientNames.DB2);\n            save = studentRepository.save(studentEntity);\n        }\n        return save;\n    }\n</code></pre>\n<p>//Data base configuration</p>\n<pre><code>@Configuration\n@PropertySource({&quot;classpath:application.properties&quot;})\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;multiEntityManager&quot;,\n        transactionManagerRef = &quot;multiTransactionManager&quot;)\n@EntityScan(&quot;com.demo.MyDemo.model&quot;)\npublic class DatabaseConfiguration {\n    private final String PACKAGE_SCAN = &quot;com.demo.MyDemo.model&quot;;\n\n    @Primary\n    @Bean(name = &quot;db1DataSource&quot;)\n    @ConfigurationProperties(&quot;spring.datasource&quot;)\n    public DataSource db1DataSource() {\n        return DataSourceBuilder.create().type(HikariDataSource.class).build();\n    }\n\n    //connection objects for the remaining 2 databases\n\n    @Bean(name = &quot;db2DataSource&quot;)\n    @ConfigurationProperties(&quot;app.datasource.db2&quot;)\n\n    public DataSource db2DataSource() {\n        return DataSourceBuilder.create().type(HikariDataSource.class).build();\n    }\n\n\n    @Bean(name = &quot;multiRoutingDataSource&quot;)\n    public DataSource multiRoutingDataSource() {\n        Map&lt;Object, Object&gt; targetDataSources = new HashMap&lt;&gt;();\n        targetDataSources.put(ClientNames.DB1, db1DataSource());\n        targetDataSources.put(ClientNames.DB2, db2DataSource());\n\n        MultiRoutingDataSource multiRoutingDataSource\n                = new MultiRoutingDataSource();\n        multiRoutingDataSource.setDefaultTargetDataSource(db1DataSource());\n        multiRoutingDataSource.setTargetDataSources(targetDataSources);\n        return multiRoutingDataSource;\n    }\n\n    @Bean(name = &quot;multiEntityManager&quot;)\n    public LocalContainerEntityManagerFactoryBean multiEntityManager() {\n        LocalContainerEntityManagerFactoryBean em\n                = new LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(multiRoutingDataSource());\n        em.setPackagesToScan(PACKAGE_SCAN);\n        HibernateJpaVendorAdapter vendorAdapter\n                = new HibernateJpaVendorAdapter();\n        em.setJpaVendorAdapter(vendorAdapter);\n        em.setJpaProperties(hibernateProperties());\n        return em;\n    }\n\n    @Bean(name = &quot;transactionManager&quot;)\n    public PlatformTransactionManager multiTransactionManager() {\n        JpaTransactionManager transactionManager\n                = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(\n                multiEntityManager().getObject());\n        return transactionManager;\n    }\n\n    @Primary\n    @Bean(name=&quot;entityManagerFactory&quot;)\n    public LocalSessionFactoryBean dbSessionFactory() {\n        LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\n        sessionFactoryBean.setDataSource(multiRoutingDataSource());\n        sessionFactoryBean.setPackagesToScan(PACKAGE_SCAN);\n        sessionFactoryBean.setHibernateProperties(hibernateProperties());\n        return sessionFactoryBean;\n    }\n\n    private Properties hibernateProperties() {\n        Properties properties = new Properties();\n        //properties.put(&quot;hibernate.show_sql&quot;, true);\n        //properties.put(&quot;hibernate.format_sql&quot;, true);\n        properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL5InnoDBDialect&quot;);\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create&quot;);\n        properties.put(&quot;hibernate.id.new_generator_mappings&quot;, false);\n        properties.put(&quot;hibernate.jdbc.lob.non_contextual_creation&quot;, true);\n        return properties;\n    }\n\n\n}\n</code></pre>\n<p>//application.properties</p>\n<pre><code>spring.datasource.jdbc-url= jdbc:mysql://localhost:3306/mydemo\nspring.datasource.username=root\nspring.datasource.password=root\n\napp.datasource.db2.jdbc-url= jdbc:mysql://localhost:3306/mydemolocal\napp.datasource.db2.username=root\napp.datasource.db2.password=root\napp.datasource.db2.hibernate.ddl-auto=create\napp.datasource.db2.jpa.generate-ddl=true\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>//ServiceImpl</p>\n<pre><code>  @Override\n    public StudentEntity saveStudent(StudentEntity studentEntity,String db) {\n        StudentEntity save = null;\n        if(db.equals(&quot;DB1&quot;)) {\n            DBContextHolder.setCurrentDb(ClientNames.DB1);\n             save = studentRepository.save(studentEntity);\n        }\n        else{\n            DBContextHolder.setCurrentDb(ClientNames.DB2);\n            save = studentRepository.save(studentEntity);\n        }\n        return save;\n    }\n</code></pre>\n<p>I want data to be saved in either of the DB's on based of condition in implementation method</p>\n"},{"tags":["java","swing","authentication","frames"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1699558980,"post_id":77455674,"comment_id":136550784,"body_markdown":"Login has to frames (extends from and creates its own) - which one are you actually using? As a general rule, don’t extend directly from top level containers like JFrame","body":"Login has to frames (extends from and creates its own) - which one are you actually using? As a general rule, don’t extend directly from top level containers like JFrame"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1699616194,"post_id":77455674,"comment_id":136557457,"body_markdown":"Hard programming the positions of the components is really painful and time consuming, use a [layout manager](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) instead","body":"Hard programming the positions of the components is really painful and time consuming, use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">layout manager</a> instead"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699626659,"post_id":77455674,"comment_id":136559293,"body_markdown":"see [Why shouldn&#39;t you extend JFrame and other components?](https://stackoverflow.com/q/1143923/85421) and the duplicate it points to [Extends JFrame vs. creating it inside the program](https://stackoverflow.com/q/22003802/85421)","body":"see <a href=\"https://stackoverflow.com/q/1143923/85421\">Why shouldn&#39;t you extend JFrame and other components?</a> and the duplicate it points to <a href=\"https://stackoverflow.com/q/22003802/85421\">Extends JFrame vs. creating it inside the program</a>"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163837,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699556171,"creation_date":1699556171,"answer_id":77455717,"question_id":77455674,"body_markdown":"&gt; When i open the login frame there is nothing (buttons and text fields).\r\n\r\nOf course.\r\n\r\n&gt; What is the problem?\r\n\r\nYou never add any components to your `LoginFrame`. You instead create a *separate* `JFrame`, add some components to that, and then do nothing further with it.\r\n","title":"Java swing two indipendent frames","body":"<blockquote>\n<p>When i open the login frame there is nothing (buttons and text fields).</p>\n</blockquote>\n<p>Of course.</p>\n<blockquote>\n<p>What is the problem?</p>\n</blockquote>\n<p>You never add any components to your <code>LoginFrame</code>. You instead create a <em>separate</em> <code>JFrame</code>, add some components to that, and then do nothing further with it.</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699557651,"creation_date":1699557651,"answer_id":77455831,"question_id":77455674,"body_markdown":"    loginFrame.pack();\r\n\r\nThe `pack()` statement will cause the frame to be displayed at its preferred size.\r\n\r\nSince you are using a null layout the frame does NOT have a preferred size.\r\n\r\nThe solution is to NOT use a null layout. Swing was designed to be used with layout managers. \r\n\r\nRead the Swing tutorial on [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)\r\n\r\nAlso, note that the content pane of a frame is a JPanel, so there is no need for you to create a separate panel to add to the frame.\r\n\r\nRead the tutorial for Swing basics.","title":"Java swing two indipendent frames","body":"<pre><code>loginFrame.pack();\n</code></pre>\n<p>The <code>pack()</code> statement will cause the frame to be displayed at its preferred size.</p>\n<p>Since you are using a null layout the frame does NOT have a preferred size.</p>\n<p>The solution is to NOT use a null layout. Swing was designed to be used with layout managers.</p>\n<p>Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a></p>\n<p>Also, note that the content pane of a frame is a JPanel, so there is no need for you to create a separate panel to add to the frame.</p>\n<p>Read the tutorial for Swing basics.</p>\n"},{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699618716,"creation_date":1699618716,"answer_id":77459966,"question_id":77455674,"body_markdown":"Credit to [John Bollinger on the original answer](https://stackoverflow.com/a/77455717/21252090).\r\n\r\nWhat you&#39;re doing wrong is adding the components on a frame inside the `LoginFrame` class. What am I yapping about? well look here\r\n\r\n```\r\nJPanel panel = new JPanel();\r\npanel.setBounds(0, 10, 426, 243);\r\nframe.getContentPane().add(panel);\r\npanel.setLayout(null);\r\n```\r\n\r\nWhat are you adding your panel to? **Well `JFrame frame` inside your `LoginFrame` class!**\r\n\r\nNow I want you to look here\r\n```\r\nloginFrame = new LoginFrame(&quot;Login...&quot;);\r\nloginFrame.setVisible(true);\r\nloginFrame.pack();\r\n```\r\nWhat are you making visible? **The login frame!**\r\n\r\nThe second mistake you are making is using `loginFrame.pack()` but read [camickr&#39;s answer](https://stackoverflow.com/a/77455831/21252090) to know more.\r\n\r\nHow can you fix this? You have two easy options.\r\n\r\n&gt; Option A. Create a getter for the `frame` in `LoginFrame`\r\n\r\nWell this is quite straight foward and it works, create a getter for the `frame` and instead of using `loginFrame.setVisible(true);` use `loginFrame.getFrame().setVisible(true);`\r\n\r\n&gt;Option B. Delete the frame\r\n\r\nJust delete the frame object. Replace anything like `frame.getContentPane().add(panel);` with `getContentPane().add(panel);` this will use `this.getContentPane()...` which means that you use the `LoginFrame` instead.\r\n\r\nAnd most importantly remove the `pack()` line!\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis should help you and you&#39;re gonna get something like this ;) I believe that&#39;s what you wanted.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TtBgC.png","title":"Java swing two indipendent frames","body":"<p>Credit to <a href=\"https://stackoverflow.com/a/77455717/21252090\">John Bollinger on the original answer</a>.</p>\n<p>What you're doing wrong is adding the components on a frame inside the <code>LoginFrame</code> class. What am I yapping about? well look here</p>\n<pre><code>JPanel panel = new JPanel();\npanel.setBounds(0, 10, 426, 243);\nframe.getContentPane().add(panel);\npanel.setLayout(null);\n</code></pre>\n<p>What are you adding your panel to? <strong>Well <code>JFrame frame</code> inside your <code>LoginFrame</code> class!</strong></p>\n<p>Now I want you to look here</p>\n<pre><code>loginFrame = new LoginFrame(&quot;Login...&quot;);\nloginFrame.setVisible(true);\nloginFrame.pack();\n</code></pre>\n<p>What are you making visible? <strong>The login frame!</strong></p>\n<p>The second mistake you are making is using <code>loginFrame.pack()</code> but read <a href=\"https://stackoverflow.com/a/77455831/21252090\">camickr's answer</a> to know more.</p>\n<p>How can you fix this? You have two easy options.</p>\n<blockquote>\n<p>Option A. Create a getter for the <code>frame</code> in <code>LoginFrame</code></p>\n</blockquote>\n<p>Well this is quite straight foward and it works, create a getter for the <code>frame</code> and instead of using <code>loginFrame.setVisible(true);</code> use <code>loginFrame.getFrame().setVisible(true);</code></p>\n<blockquote>\n<p>Option B. Delete the frame</p>\n</blockquote>\n<p>Just delete the frame object. Replace anything like <code>frame.getContentPane().add(panel);</code> with <code>getContentPane().add(panel);</code> this will use <code>this.getContentPane()...</code> which means that you use the <code>LoginFrame</code> instead.</p>\n<p>And most importantly remove the <code>pack()</code> line!</p>\n<p><a href=\"https://i.stack.imgur.com/TtBgC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TtBgC.png\" alt=\"enter image description here\" /></a></p>\n<p>This should help you and you're gonna get something like this ;) I believe that's what you wanted.</p>\n"}],"owner":{"account_id":1367890,"reputation":31,"user_id":1420240,"display_name":"and"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77455717,"answer_count":3,"score":-1,"last_activity_date":1699634995,"creation_date":1699555740,"question_id":77455674,"body_markdown":"I have a main frame of my application and i want to have another frame for login. So i have written two classes: a Main class and a LoginFrame class.\r\n\r\n```\r\n/*Imported classes*/\r\n\r\npublic class Main {\r\n\r\n\tprivate JFrame frame;\r\n\tprivate LoginFrame loginFrame;\r\n\r\n\t/**\r\n\t * Launch the application.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tMain window = new Main();\r\n\t\t\t\t\twindow.frame.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Create the application.\r\n\t */\r\n\tpublic Main() {\r\n\t\tinitialize();\r\n\t}\r\n\r\n\t/**\r\n\t * Initialize the contents of the frame.\r\n\t */\r\n\tprivate void initialize() {\r\n\t\tframe = new JFrame(&quot;Main Frame&quot;);\r\n\t\tframe.setBounds(100, 100, 450, 300);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.getContentPane().setLayout(null);\r\n\t\t\r\n\t\tJPanel mainPanel = new JPanel();\r\n\t\tmainPanel.setBounds(10, 10, 426, 243);\r\n\t\tframe.getContentPane().add(mainPanel);\r\n\t\tmainPanel.setLayout(null);\r\n\t\t\r\n\t\tloginFrame = new LoginFrame(&quot;Login...&quot;);\r\n\t\tloginFrame.setVisible(true);\r\n\t\tloginFrame.pack();\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n/*Imported classes*/\r\npublic class LoginFrame extends JFrame {\r\n\r\n\tprivate JFrame frame;\r\n\tprivate JTextField usernameField;\r\n\tprivate JPasswordField passwordField;\r\n\t\r\n\t/**\r\n\t * Launch the application.\r\n\t */\r\n\t/*public static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tLoginFrame window = new LoginFrame(&quot;Login...&quot;);\r\n\t\t\t\t\twindow.frame.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}*/\r\n\r\n\t/**\r\n\t * Create the application.\r\n\t */\r\n\tpublic LoginFrame(String title) {\r\n\t\t\r\n\t\r\n\r\n\t/**\r\n\t * Initialize the contents of the frame.\r\n\t */\r\n\r\n\t\tframe = new JFrame(title);\r\n\t\tframe.setBounds(100, 100, 450, 300);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.getContentPane().setLayout(null);\r\n\t\t\r\n\t\tJPanel panel = new JPanel();\r\n\t\tpanel.setBounds(0, 10, 426, 243);\r\n\t\tframe.getContentPane().add(panel);\r\n\t\tpanel.setLayout(null);\r\n\t\t\r\n\t\tJLabel userLabel = new JLabel(&quot;User:&quot;);\r\n\t\tuserLabel.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 14));\r\n\t\tuserLabel.setEnabled(true);\r\n\t\tuserLabel.setBounds(41, 78, 45, 13);\r\n\t\tpanel.add(userLabel);\r\n\t\t\r\n\t\tJLabel passwordLabel = new JLabel(&quot;Password:&quot;);\r\n\t\tpasswordLabel.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\r\n\t\tpasswordLabel.setBounds(41, 124, 76, 13);\r\n\t\tpanel.add(passwordLabel);\r\n\t\t\r\n\t\tusernameField = new JTextField();\r\n\t\tusernameField.setBounds(165, 75, 173, 19);\r\n\t\tpanel.add(usernameField);\r\n\t\tusernameField.setColumns(10);\r\n\t\t\r\n\t\tpasswordField = new JPasswordField();\r\n\t\tpasswordField.setColumns(10);\r\n\t\tpasswordField.setBounds(165, 123, 173, 19);\r\n\t\tpanel.add(passwordField);\r\n\t\t\r\n\t\tJLabel loginLabel = new JLabel(&quot;Enter Username and Password&quot;);\r\n\t\tloginLabel.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 16));\r\n\t\tloginLabel.setBounds(79, 22, 259, 13);\r\n\t\tpanel.add(loginLabel);\r\n\t\t\r\n\t\tJButton resetLoginButton = new JButton(&quot;Reset&quot;);\r\n\t\tresetLoginButton.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\r\n\t\tresetLoginButton.setBounds(318, 189, 85, 21);\r\n\t\tpanel.add(resetLoginButton);\r\n\t\t\r\n\t\tJButton okLoginButton = new JButton(&quot;Ok&quot;);\r\n\t\tokLoginButton.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\r\n\t\tokLoginButton.setBounds(217, 189, 85, 21);\r\n\t\tpanel.add(okLoginButton);\r\n\t}\r\n\t\r\n}\r\n```\r\nwhat i get is the two frames:\r\n\r\n[![https://i.stack.imgur.com/Fl2GO.png][1]][1]\r\n\r\nWhen i open the login frame there is nothing (buttons and text fields).What is the problem? Is it a right way to implement a login frame?\r\n \r\n\r\nI expect two different frame the main one empty. The second one with two fields one for username and the other with password and two buttons. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fl2GO.png","title":"Java swing two indipendent frames","body":"<p>I have a main frame of my application and i want to have another frame for login. So i have written two classes: a Main class and a LoginFrame class.</p>\n<pre><code>/*Imported classes*/\n\npublic class Main {\n\n    private JFrame frame;\n    private LoginFrame loginFrame;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    Main window = new Main();\n                    window.frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the application.\n     */\n    public Main() {\n        initialize();\n    }\n\n    /**\n     * Initialize the contents of the frame.\n     */\n    private void initialize() {\n        frame = new JFrame(&quot;Main Frame&quot;);\n        frame.setBounds(100, 100, 450, 300);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().setLayout(null);\n        \n        JPanel mainPanel = new JPanel();\n        mainPanel.setBounds(10, 10, 426, 243);\n        frame.getContentPane().add(mainPanel);\n        mainPanel.setLayout(null);\n        \n        loginFrame = new LoginFrame(&quot;Login...&quot;);\n        loginFrame.setVisible(true);\n        loginFrame.pack();\n        \n    }\n}\n</code></pre>\n<pre><code>/*Imported classes*/\npublic class LoginFrame extends JFrame {\n\n    private JFrame frame;\n    private JTextField usernameField;\n    private JPasswordField passwordField;\n    \n    /**\n     * Launch the application.\n     */\n    /*public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    LoginFrame window = new LoginFrame(&quot;Login...&quot;);\n                    window.frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }*/\n\n    /**\n     * Create the application.\n     */\n    public LoginFrame(String title) {\n        \n    \n\n    /**\n     * Initialize the contents of the frame.\n     */\n\n        frame = new JFrame(title);\n        frame.setBounds(100, 100, 450, 300);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().setLayout(null);\n        \n        JPanel panel = new JPanel();\n        panel.setBounds(0, 10, 426, 243);\n        frame.getContentPane().add(panel);\n        panel.setLayout(null);\n        \n        JLabel userLabel = new JLabel(&quot;User:&quot;);\n        userLabel.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 14));\n        userLabel.setEnabled(true);\n        userLabel.setBounds(41, 78, 45, 13);\n        panel.add(userLabel);\n        \n        JLabel passwordLabel = new JLabel(&quot;Password:&quot;);\n        passwordLabel.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\n        passwordLabel.setBounds(41, 124, 76, 13);\n        panel.add(passwordLabel);\n        \n        usernameField = new JTextField();\n        usernameField.setBounds(165, 75, 173, 19);\n        panel.add(usernameField);\n        usernameField.setColumns(10);\n        \n        passwordField = new JPasswordField();\n        passwordField.setColumns(10);\n        passwordField.setBounds(165, 123, 173, 19);\n        panel.add(passwordField);\n        \n        JLabel loginLabel = new JLabel(&quot;Enter Username and Password&quot;);\n        loginLabel.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 16));\n        loginLabel.setBounds(79, 22, 259, 13);\n        panel.add(loginLabel);\n        \n        JButton resetLoginButton = new JButton(&quot;Reset&quot;);\n        resetLoginButton.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\n        resetLoginButton.setBounds(318, 189, 85, 21);\n        panel.add(resetLoginButton);\n        \n        JButton okLoginButton = new JButton(&quot;Ok&quot;);\n        okLoginButton.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\n        okLoginButton.setBounds(217, 189, 85, 21);\n        panel.add(okLoginButton);\n    }\n    \n}\n</code></pre>\n<p>what i get is the two frames:</p>\n<p><a href=\"https://i.stack.imgur.com/Fl2GO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fl2GO.png\" alt=\"https://i.stack.imgur.com/Fl2GO.png\" /></a></p>\n<p>When i open the login frame there is nothing (buttons and text fields).What is the problem? Is it a right way to implement a login frame?</p>\n<p>I expect two different frame the main one empty. The second one with two fields one for username and the other with password and two buttons.</p>\n"},{"tags":["java","spring-boot","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699634880,"creation_date":1699634880,"answer_id":77461614,"question_id":77459490,"body_markdown":"Per default the plot area of an Excel chart uses as much size of chart space between title and legend as possible. If that is not wanted, then the plot area must be sized manually.\r\n\r\nTo get how, one would create a chart using the default settings. After that unzip the `*.xlsx` and have a look into the  `/xl/charts/chart*.xml`. The XML of this would look like:\r\n\r\n    ...\r\n    &lt;c:plotArea&gt;\r\n     &lt;c:layout/&gt;\r\n    ...\r\n\r\nThe layout of the plot area is not defined - the default.\r\n\r\nThen resize the plot area using Excel GUI and save. Again unzip the `*.xlsx` and have a look into the  `/xl/charts/chart*.xml`. The XML of this then looks like:\r\n\r\n    ...\r\n    &lt;c:plotArea&gt;\r\n     &lt;c:layout&gt;\r\n      &lt;c:manualLayout&gt;\r\n       &lt;c:layoutTarget val=&quot;inner&quot;/&gt;\r\n       &lt;c:xMode val=&quot;edge&quot;/&gt;\r\n       &lt;c:yMode val=&quot;edge&quot;/&gt;\r\n       &lt;c:x val=&quot;0.1&quot;/&gt;\r\n       &lt;c:y val=&quot;0.1&quot;/&gt;\r\n       &lt;c:w val=&quot;0.8&quot;/&gt;\r\n       &lt;c:h val=&quot;0.6&quot;/&gt;\r\n      &lt;/c:manualLayout&gt;\r\n     &lt;/c:layout&gt;\r\n    ...\r\n\r\nThe layout of the plot area is a manual layout targeted to the inner space of the chart space. It&#39;s x- and y-mode are edge mode, means x and y coordinates are oriented at the edges of the surrounding space. The x-position from left edge of the surrounding  space is 0.1 (10% of surrounding space width). The y-position from top edge of the surrounding  space is 0.1 (10% of surrounding space height). The width (w) is 0.8 (80% of surrounding space width). The height (h) is 0.6 (60% of surrounding space height).\r\n\r\nUsing java code that would look like so:\r\n\r\nLet it be a `XSSFChart chart`, then: \r\n\r\n    // set plot area size\r\n    if (!chart.getCTChart().getPlotArea().isSetLayout()) {\r\n        chart.getCTChart().getPlotArea().addNewLayout();\r\n    }\r\n    if (chart.getCTChart().getPlotArea().getLayout().isSetManualLayout()) {\r\n        chart.getCTChart().getPlotArea().getLayout().unsetManualLayout();\r\n    }\r\n    chart.getCTChart().getPlotArea().getLayout().addNewManualLayout();\r\n    chart.getCTChart().getPlotArea().getLayout().getManualLayout().addNewLayoutTarget().setVal(\r\n     org.openxmlformats.schemas.drawingml.x2006.chart.STLayoutTarget.INNER);\r\n    chart.getCTChart().getPlotArea().getLayout().getManualLayout().addNewXMode().setVal(\r\n     org.openxmlformats.schemas.drawingml.x2006.chart.STLayoutMode.EDGE);\r\n    chart.getCTChart().getPlotArea().getLayout().getManualLayout().addNewYMode().setVal(\r\n     org.openxmlformats.schemas.drawingml.x2006.chart.STLayoutMode.EDGE);\r\n    chart.getCTChart().getPlotArea().getLayout().getManualLayout().addNewX().setVal(0.10); //10% from left\r\n    chart.getCTChart().getPlotArea().getLayout().getManualLayout().addNewY().setVal(0.10); //10% from top\r\n    chart.getCTChart().getPlotArea().getLayout().getManualLayout().addNewW().setVal(0.80); //80% width\r\n    chart.getCTChart().getPlotArea().getLayout().getManualLayout().addNewH().setVal(0.60); //60% height\r\n    \r\n\r\n","title":"Apache POI chart position vertically changed when more labels are added","body":"<p>Per default the plot area of an Excel chart uses as much size of chart space between title and legend as possible. If that is not wanted, then the plot area must be sized manually.</p>\n<p>To get how, one would create a chart using the default settings. After that unzip the <code>*.xlsx</code> and have a look into the  <code>/xl/charts/chart*.xml</code>. The XML of this would look like:</p>\n<pre><code>...\n&lt;c:plotArea&gt;\n &lt;c:layout/&gt;\n...\n</code></pre>\n<p>The layout of the plot area is not defined - the default.</p>\n<p>Then resize the plot area using Excel GUI and save. Again unzip the <code>*.xlsx</code> and have a look into the  <code>/xl/charts/chart*.xml</code>. The XML of this then looks like:</p>\n<pre><code>...\n&lt;c:plotArea&gt;\n &lt;c:layout&gt;\n  &lt;c:manualLayout&gt;\n   &lt;c:layoutTarget val=&quot;inner&quot;/&gt;\n   &lt;c:xMode val=&quot;edge&quot;/&gt;\n   &lt;c:yMode val=&quot;edge&quot;/&gt;\n   &lt;c:x val=&quot;0.1&quot;/&gt;\n   &lt;c:y val=&quot;0.1&quot;/&gt;\n   &lt;c:w val=&quot;0.8&quot;/&gt;\n   &lt;c:h val=&quot;0.6&quot;/&gt;\n  &lt;/c:manualLayout&gt;\n &lt;/c:layout&gt;\n...\n</code></pre>\n<p>The layout of the plot area is a manual layout targeted to the inner space of the chart space. It's x- and y-mode are edge mode, means x and y coordinates are oriented at the edges of the surrounding space. The x-position from left edge of the surrounding  space is 0.1 (10% of surrounding space width). The y-position from top edge of the surrounding  space is 0.1 (10% of surrounding space height). The width (w) is 0.8 (80% of surrounding space width). The height (h) is 0.6 (60% of surrounding space height).</p>\n<p>Using java code that would look like so:</p>\n<p>Let it be a <code>XSSFChart chart</code>, then:</p>\n<pre><code>// set plot area size\nif (!chart.getCTChart().getPlotArea().isSetLayout()) {\n    chart.getCTChart().getPlotArea().addNewLayout();\n}\nif (chart.getCTChart().getPlotArea().getLayout().isSetManualLayout()) {\n    chart.getCTChart().getPlotArea().getLayout().unsetManualLayout();\n}\nchart.getCTChart().getPlotArea().getLayout().addNewManualLayout();\nchart.getCTChart().getPlotArea().getLayout().getManualLayout().addNewLayoutTarget().setVal(\n org.openxmlformats.schemas.drawingml.x2006.chart.STLayoutTarget.INNER);\nchart.getCTChart().getPlotArea().getLayout().getManualLayout().addNewXMode().setVal(\n org.openxmlformats.schemas.drawingml.x2006.chart.STLayoutMode.EDGE);\nchart.getCTChart().getPlotArea().getLayout().getManualLayout().addNewYMode().setVal(\n org.openxmlformats.schemas.drawingml.x2006.chart.STLayoutMode.EDGE);\nchart.getCTChart().getPlotArea().getLayout().getManualLayout().addNewX().setVal(0.10); //10% from left\nchart.getCTChart().getPlotArea().getLayout().getManualLayout().addNewY().setVal(0.10); //10% from top\nchart.getCTChart().getPlotArea().getLayout().getManualLayout().addNewW().setVal(0.80); //80% width\nchart.getCTChart().getPlotArea().getLayout().getManualLayout().addNewH().setVal(0.60); //60% height\n</code></pre>\n"}],"owner":{"account_id":14831756,"reputation":83,"user_id":10711074,"display_name":"raymax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77461614,"answer_count":1,"score":0,"last_activity_date":1699634880,"creation_date":1699614031,"question_id":77459490,"body_markdown":"I am writting a code which create Two Doughnut Charts in excel file. The first chart has 10 labels and Second chart has 2 labels.\r\n\r\nMy Issue is with the second chart.I want to have both Chart Vertically alligned in the anchore. But Because of few label and value its position in the Anchore changed vertically.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YQr9O.png\r\n\r\n\r\nOne can ovserved from above picture. I habe both chart side by side. But the position of the second chart vertically changed as it has only two labels. How can fixed the second chart position aligned with the first one .\r\n\r\n    public String picChart9() throws IOException {\r\n\r\n        try (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n            XSSFSheet sheet = wb.createSheet(&quot;doughnutChart&quot;);\r\n            sheet.setDisplayGridlines(false);\r\n            final int NUM_OF_ROWS = 2;\r\n            final int NUM_OF_COLUMNS = 10;\r\n\r\n            XSSFDrawing drawing = sheet.createDrawingPatriarch();\r\n            XSSFClientAnchor anchor1 = drawing.createAnchor(0, 0, 0, 0, 1, 5, 4, 28);\r\n           // anchor1.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\r\n            XSSFClientAnchor anchor2 = drawing.createAnchor(0, 0, 0, 0, 4, 5, 7, 28);\r\n           // anchor2.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\r\n\r\n            XSSFChart chart1 = drawing.createChart(anchor1);\r\n            chart1.setTitleText(&quot;chart1&quot;);\r\n            chart1.setTitleOverlay(false);\r\n            //chart1.createValueAxis(AxisPosition.TOP);\r\n\r\n            XSSFChart chart2 = drawing.createChart(anchor2);\r\n            chart2.setTitleText(&quot;chart2&quot;);\r\n            chart2.setTitleOverlay(false);\r\n            //chart2.createValueAxis(AxisPosition.LEFT);\r\n            /**/\r\n            System.out.println(&quot;chart1.getCTChart() --:&quot;+chart1.getCTChart());\r\n            System.out.println(&quot;chart1.getAxes() --:&quot;+chart1.getAxes());\r\n            System.out.println(&quot;chart2.getAxes() --:&quot;+chart2.getAxes());\r\n            /**/\r\n            XDDFChartLegend legend1 = chart1.getOrAddLegend();\r\n            legend1.setPosition(LegendPosition.BOTTOM);\r\n\r\n            XDDFChartLegend legend2 = chart2.getOrAddLegend();\r\n            legend2.setPosition(LegendPosition.BOTTOM);\r\n\r\n            String[] stringArray1 = new String[]{&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;,&quot;seven&quot;,&quot;eight&quot;,&quot;nine&quot;,&quot;ten&quot;};\r\n            XDDFDataSource&lt;String&gt; stringValue1 = XDDFDataSourcesFactory.fromArray(stringArray1);\r\n            Long[] longArray1 = new Long[]{ 11L,2L,3L,4L,5L,6L,7L,8L,9L,10L };\r\n            XDDFNumericalDataSource&lt;Long&gt; longValue1 = XDDFDataSourcesFactory.fromArray(longArray1);\r\n\r\n            String[] stringArray2 = new String[]{&quot;one&quot;,&quot;two&quot;};\r\n            XDDFDataSource&lt;String&gt; stringValue2 = XDDFDataSourcesFactory.fromArray(stringArray2);\r\n            Long[] longArray2 = new Long[]{ 60L,40L };\r\n            XDDFNumericalDataSource&lt;Long&gt; longValue2 = XDDFDataSourcesFactory.fromArray(longArray2);\r\n\r\n            XDDFDoughnutChartData data1 = new XDDFDoughnutChartData(chart1, chart1.getCTChart().getPlotArea().addNewDoughnutChart());\r\n            data1.setVaryColors(true);\r\n            data1.setHoleSize((short) 50);\r\n            data1.setFirstSliceAngle(10);\r\n\r\n            XDDFDoughnutChartData data2 = new XDDFDoughnutChartData(chart2, chart2.getCTChart().getPlotArea().addNewDoughnutChart());\r\n            data2.setVaryColors(true);\r\n            data2.setHoleSize((short) 50);\r\n            data2.setFirstSliceAngle(10);\r\n\r\n            XDDFChartData.Series series1 = data1.addSeries(stringValue1, longValue1);\r\n            XDDFChartData.Series series2 = data2.addSeries(stringValue2, longValue2);\r\n\r\n            // Remove the Anchore border line\r\n            (chart1).getCTChartSpace().addNewSpPr().addNewLn().addNewNoFill();\r\n            (chart2).getCTChartSpace().addNewSpPr().addNewLn().addNewNoFill();\r\n\r\n            // Data point colors; is necessary for showing data points in Calc\r\n\r\n            // Add data labels-Chart-1\r\n            if (!chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).isSetDLbls()) {\r\n                chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDLbls();\r\n            }\r\n            chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowVal().setVal(true);\r\n            chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowSerName().setVal(false);\r\n            chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowCatName().setVal(false);\r\n            chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowPercent().setVal(false);\r\n            chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowLegendKey().setVal(false);\r\n            chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewNumFmt();\r\n            chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().getNumFmt().setSourceLinked(false);\r\n            chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().getNumFmt().setFormatCode(&quot;#,##0.00&quot;);\r\n\r\n            // Add data labels-Chart-2\r\n            if (!chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).isSetDLbls()) {\r\n                chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDLbls();\r\n            }\r\n            chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowVal().setVal(true);\r\n            chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowSerName().setVal(false);\r\n            chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowCatName().setVal(false);\r\n            chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowPercent().setVal(false);\r\n            chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowLegendKey().setVal(false);\r\n            chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewNumFmt();\r\n            chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().getNumFmt().setSourceLinked(false);\r\n            chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().getNumFmt().setFormatCode(&quot;#,##0.00&quot;);\r\n\r\n            //plot chart\r\n            chart1.plot(data1);\r\n            chart2.plot(data2);\r\n\r\n            // Write the output to a file\r\n            try (FileOutputStream fileOut = new FileOutputStream(&quot;picChart9.xlsx&quot;)) {\r\n                wb.write(fileOut);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\nI am using the code above.\r\nThank you. Please let me know if my issues are not clear.","title":"Apache POI chart position vertically changed when more labels are added","body":"<p>I am writting a code which create Two Doughnut Charts in excel file. The first chart has 10 labels and Second chart has 2 labels.</p>\n<p>My Issue is with the second chart.I want to have both Chart Vertically alligned in the anchore. But Because of few label and value its position in the Anchore changed vertically.</p>\n<p><a href=\"https://i.stack.imgur.com/YQr9O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YQr9O.png\" alt=\"enter image description here\" /></a></p>\n<p>One can ovserved from above picture. I habe both chart side by side. But the position of the second chart vertically changed as it has only two labels. How can fixed the second chart position aligned with the first one .</p>\n<pre><code>public String picChart9() throws IOException {\n\n    try (XSSFWorkbook wb = new XSSFWorkbook()) {\n        XSSFSheet sheet = wb.createSheet(&quot;doughnutChart&quot;);\n        sheet.setDisplayGridlines(false);\n        final int NUM_OF_ROWS = 2;\n        final int NUM_OF_COLUMNS = 10;\n\n        XSSFDrawing drawing = sheet.createDrawingPatriarch();\n        XSSFClientAnchor anchor1 = drawing.createAnchor(0, 0, 0, 0, 1, 5, 4, 28);\n       // anchor1.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\n        XSSFClientAnchor anchor2 = drawing.createAnchor(0, 0, 0, 0, 4, 5, 7, 28);\n       // anchor2.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\n\n        XSSFChart chart1 = drawing.createChart(anchor1);\n        chart1.setTitleText(&quot;chart1&quot;);\n        chart1.setTitleOverlay(false);\n        //chart1.createValueAxis(AxisPosition.TOP);\n\n        XSSFChart chart2 = drawing.createChart(anchor2);\n        chart2.setTitleText(&quot;chart2&quot;);\n        chart2.setTitleOverlay(false);\n        //chart2.createValueAxis(AxisPosition.LEFT);\n        /**/\n        System.out.println(&quot;chart1.getCTChart() --:&quot;+chart1.getCTChart());\n        System.out.println(&quot;chart1.getAxes() --:&quot;+chart1.getAxes());\n        System.out.println(&quot;chart2.getAxes() --:&quot;+chart2.getAxes());\n        /**/\n        XDDFChartLegend legend1 = chart1.getOrAddLegend();\n        legend1.setPosition(LegendPosition.BOTTOM);\n\n        XDDFChartLegend legend2 = chart2.getOrAddLegend();\n        legend2.setPosition(LegendPosition.BOTTOM);\n\n        String[] stringArray1 = new String[]{&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;,&quot;seven&quot;,&quot;eight&quot;,&quot;nine&quot;,&quot;ten&quot;};\n        XDDFDataSource&lt;String&gt; stringValue1 = XDDFDataSourcesFactory.fromArray(stringArray1);\n        Long[] longArray1 = new Long[]{ 11L,2L,3L,4L,5L,6L,7L,8L,9L,10L };\n        XDDFNumericalDataSource&lt;Long&gt; longValue1 = XDDFDataSourcesFactory.fromArray(longArray1);\n\n        String[] stringArray2 = new String[]{&quot;one&quot;,&quot;two&quot;};\n        XDDFDataSource&lt;String&gt; stringValue2 = XDDFDataSourcesFactory.fromArray(stringArray2);\n        Long[] longArray2 = new Long[]{ 60L,40L };\n        XDDFNumericalDataSource&lt;Long&gt; longValue2 = XDDFDataSourcesFactory.fromArray(longArray2);\n\n        XDDFDoughnutChartData data1 = new XDDFDoughnutChartData(chart1, chart1.getCTChart().getPlotArea().addNewDoughnutChart());\n        data1.setVaryColors(true);\n        data1.setHoleSize((short) 50);\n        data1.setFirstSliceAngle(10);\n\n        XDDFDoughnutChartData data2 = new XDDFDoughnutChartData(chart2, chart2.getCTChart().getPlotArea().addNewDoughnutChart());\n        data2.setVaryColors(true);\n        data2.setHoleSize((short) 50);\n        data2.setFirstSliceAngle(10);\n\n        XDDFChartData.Series series1 = data1.addSeries(stringValue1, longValue1);\n        XDDFChartData.Series series2 = data2.addSeries(stringValue2, longValue2);\n\n        // Remove the Anchore border line\n        (chart1).getCTChartSpace().addNewSpPr().addNewLn().addNewNoFill();\n        (chart2).getCTChartSpace().addNewSpPr().addNewLn().addNewNoFill();\n\n        // Data point colors; is necessary for showing data points in Calc\n\n        // Add data labels-Chart-1\n        if (!chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).isSetDLbls()) {\n            chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDLbls();\n        }\n        chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowVal().setVal(true);\n        chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowSerName().setVal(false);\n        chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowCatName().setVal(false);\n        chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowPercent().setVal(false);\n        chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowLegendKey().setVal(false);\n        chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewNumFmt();\n        chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().getNumFmt().setSourceLinked(false);\n        chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().getNumFmt().setFormatCode(&quot;#,##0.00&quot;);\n\n        // Add data labels-Chart-2\n        if (!chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).isSetDLbls()) {\n            chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDLbls();\n        }\n        chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowVal().setVal(true);\n        chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowSerName().setVal(false);\n        chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowCatName().setVal(false);\n        chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowPercent().setVal(false);\n        chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowLegendKey().setVal(false);\n        chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewNumFmt();\n        chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().getNumFmt().setSourceLinked(false);\n        chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().getNumFmt().setFormatCode(&quot;#,##0.00&quot;);\n\n        //plot chart\n        chart1.plot(data1);\n        chart2.plot(data2);\n\n        // Write the output to a file\n        try (FileOutputStream fileOut = new FileOutputStream(&quot;picChart9.xlsx&quot;)) {\n            wb.write(fileOut);\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>I am using the code above.\nThank you. Please let me know if my issues are not clear.</p>\n"},{"tags":["java","regex","regex-lookarounds","regex-negation","regex-look-ahead"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1699549219,"post_id":77454833,"comment_id":136549059,"body_markdown":"You write it should match *the substring bar*, but in your list of *desriable strings*, there are matches that include commas. Can you clarify? You want to have a yes/no test on the whole input string?","body":"You write it should match <i>the substring bar</i>, but in your list of <i>desriable strings</i>, there are matches that include commas. Can you clarify? You want to have a yes/no test on the whole input string?"},{"owner":{"account_id":4076597,"reputation":4537,"user_id":3348112,"accept_rate":75,"display_name":"CAustin"},"score":2,"creation_date":1699557624,"post_id":77454833,"comment_id":136550568,"body_markdown":"Hard to do with a match, easy with a capture. See https://regex101.com/r/OzHZ1k/1","body":"Hard to do with a match, easy with a capture. See <a href=\"https://regex101.com/r/OzHZ1k/1\" rel=\"nofollow noreferrer\">regex101.com/r/OzHZ1k/1</a>"},{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":1,"creation_date":1699558952,"post_id":77454833,"comment_id":136550779,"body_markdown":"If you want separate matches in Java `(?&lt;!foo.{0,1000})bar(?!.*foo)` See https://regex101.com/r/cIl6tC/1","body":"If you want separate matches in Java <code>(?&lt;!foo.{0,1000})bar(?!.*foo)</code> See <a href=\"https://regex101.com/r/cIl6tC/1\" rel=\"nofollow noreferrer\">regex101.com/r/cIl6tC/1</a>"},{"owner":{"account_id":28669290,"reputation":49,"user_id":21952661,"display_name":"RobbieDixonBr-dge"},"score":0,"creation_date":1699564064,"post_id":77454833,"comment_id":136551604,"body_markdown":"Apologies I meant contains not matches - terminology was never my strong suit","body":"Apologies I meant contains not matches - terminology was never my strong suit"},{"owner":{"account_id":28669290,"reputation":49,"user_id":21952661,"display_name":"RobbieDixonBr-dge"},"score":0,"creation_date":1699564174,"post_id":77454833,"comment_id":136551616,"body_markdown":"@CAustin amazing, simply amazing! It&#39;s my last day before I go on holiday tomorrow and this post was a last chance saloon.\n\nWill update the answer now!","body":"@CAustin amazing, simply amazing! It&#39;s my last day before I go on holiday tomorrow and this post was a last chance saloon.  Will update the answer now!"},{"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"score":0,"creation_date":1699564894,"post_id":77454833,"comment_id":136551743,"body_markdown":"Also `^(?:(?!bar|foo).)*bar(?:(?!bar|foo).)*$` https://regex101.com/r/JIgN9b/1","body":"Also <code>^(?:(?!bar|foo).)*bar(?:(?!bar|foo).)*$</code> <a href=\"https://regex101.com/r/JIgN9b/1\" rel=\"nofollow noreferrer\">regex101.com/r/JIgN9b/1</a>"}],"answers":[{"tags":[],"owner":{"account_id":28669290,"reputation":49,"user_id":21952661,"display_name":"RobbieDixonBr-dge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699634766,"creation_date":1699564681,"answer_id":77456410,"question_id":77454833,"body_markdown":"@CAustin and @CarySwoveland have kindly provided the right answer: `^(?!.*foo).*bar`\r\n\r\n`^` asserts position at start of a line\r\n\r\n`(?!.*foo)` is the Negative Lookahead\r\n\r\n`.` matches any character (except for line terminators)\r\n\r\n`*` matches the previous token between zero and unlimited times, as many times as possible, giving back as needed (greedy)\r\n\r\nAnswer verified here: https://regex101.com/r/OzHZ1k/3","title":"How do you write a Regex that combines a Negative Lookbehind with a Negative Lookahead to create a Negative Lookaround?","body":"<p>@CAustin and @CarySwoveland have kindly provided the right answer: <code>^(?!.*foo).*bar</code></p>\n<p><code>^</code> asserts position at start of a line</p>\n<p><code>(?!.*foo)</code> is the Negative Lookahead</p>\n<p><code>.</code> matches any character (except for line terminators)</p>\n<p><code>*</code> matches the previous token between zero and unlimited times, as many times as possible, giving back as needed (greedy)</p>\n<p>Answer verified here: <a href=\"https://regex101.com/r/OzHZ1k/3\" rel=\"nofollow noreferrer\">https://regex101.com/r/OzHZ1k/3</a></p>\n"},{"tags":[],"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699589240,"creation_date":1699589240,"answer_id":77457649,"question_id":77454833,"body_markdown":"It would not be my preferred solution, but you could attempt to match the following regular expression.\r\n\r\n     ^(?:(?!foo).)*bar(?:(?!foo).)*$\r\n\r\n[Demo](https://regex101.com/r/WdI2h8/1)\r\n\r\n`(?:(?!foo).)` matches any one character provided that character together with the two following, if present, do not spell `&quot;foo&quot;`. The technique is called [&quot;tempered greedy token solution&quot;](https://www.rexegg.com/regex-quantifiers.html#tempered_greed).","title":"How do you write a Regex that combines a Negative Lookbehind with a Negative Lookahead to create a Negative Lookaround?","body":"<p>It would not be my preferred solution, but you could attempt to match the following regular expression.</p>\n<pre><code> ^(?:(?!foo).)*bar(?:(?!foo).)*$\n</code></pre>\n<p><a href=\"https://regex101.com/r/WdI2h8/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n<p><code>(?:(?!foo).)</code> matches any one character provided that character together with the two following, if present, do not spell <code>&quot;foo&quot;</code>. The technique is called <a href=\"https://www.rexegg.com/regex-quantifiers.html#tempered_greed\" rel=\"nofollow noreferrer\">&quot;tempered greedy token solution&quot;</a>.</p>\n"}],"owner":{"account_id":28669290,"reputation":49,"user_id":21952661,"display_name":"RobbieDixonBr-dge"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77456410,"answer_count":2,"score":0,"last_activity_date":1699634766,"creation_date":1699547177,"question_id":77454833,"body_markdown":"In our Java Selenium framework, we need to write a regex that reads a string of any length and returns true if it contains the substring &quot;bar&quot; so long as the substring &quot;foo&quot; doesn&#39;t appear in the string by using a Negative Lookaround by combining a Negative Lookbehind with a Negative Lookahead.\r\n\r\nThe best regex I can construct is `(?&lt;!foo)bar(?!.*foo).*`\r\n\r\nIt correctly matches the following desirable strings:\r\n\r\n1. `bar`\r\n\r\n2. `,bar,`\r\n\r\n3. `,,bar,,`\r\n\r\n4. `barbar`\r\n\r\n5. `,bar,bar,`\r\n\r\n6. `,,bar,,bar,,`\r\n\r\n7. `barbarbar`\r\n\r\n8. `,bar,bar,bar,`\r\n\r\n9. `,,bar,,bar,,bar,,`\r\n\r\nHowever, it also matches the following undesirable strings:\r\n\r\n1. `,foo,bar,`\r\n\r\n2. `,,foo,,bar,,`\r\n\r\n3. `foobarbar`\r\n\r\n4. `,foo,bar,bar,`\r\n\r\n5. `,,foo,,bar,,bar,,`\r\n\r\n6. `,bar,foo,bar,`\r\n\r\n7. `,,bar,,foo,,bar,,`\r\n\r\n8. `,foo,foo,bar,`\r\n\r\n9. `,,foo,,foo,,bar,,`\r\n\r\nMy testing was conducted here: https://regex101.com/r/uhdUhU/5","title":"How do you write a Regex that combines a Negative Lookbehind with a Negative Lookahead to create a Negative Lookaround?","body":"<p>In our Java Selenium framework, we need to write a regex that reads a string of any length and returns true if it contains the substring &quot;bar&quot; so long as the substring &quot;foo&quot; doesn't appear in the string by using a Negative Lookaround by combining a Negative Lookbehind with a Negative Lookahead.</p>\n<p>The best regex I can construct is <code>(?&lt;!foo)bar(?!.*foo).*</code></p>\n<p>It correctly matches the following desirable strings:</p>\n<ol>\n<li><p><code>bar</code></p>\n</li>\n<li><p><code>,bar,</code></p>\n</li>\n<li><p><code>,,bar,,</code></p>\n</li>\n<li><p><code>barbar</code></p>\n</li>\n<li><p><code>,bar,bar,</code></p>\n</li>\n<li><p><code>,,bar,,bar,,</code></p>\n</li>\n<li><p><code>barbarbar</code></p>\n</li>\n<li><p><code>,bar,bar,bar,</code></p>\n</li>\n<li><p><code>,,bar,,bar,,bar,,</code></p>\n</li>\n</ol>\n<p>However, it also matches the following undesirable strings:</p>\n<ol>\n<li><p><code>,foo,bar,</code></p>\n</li>\n<li><p><code>,,foo,,bar,,</code></p>\n</li>\n<li><p><code>foobarbar</code></p>\n</li>\n<li><p><code>,foo,bar,bar,</code></p>\n</li>\n<li><p><code>,,foo,,bar,,bar,,</code></p>\n</li>\n<li><p><code>,bar,foo,bar,</code></p>\n</li>\n<li><p><code>,,bar,,foo,,bar,,</code></p>\n</li>\n<li><p><code>,foo,foo,bar,</code></p>\n</li>\n<li><p><code>,,foo,,foo,,bar,,</code></p>\n</li>\n</ol>\n<p>My testing was conducted here: <a href=\"https://regex101.com/r/uhdUhU/5\" rel=\"nofollow noreferrer\">https://regex101.com/r/uhdUhU/5</a></p>\n"},{"tags":["java","protocol-buffers","protobuf-java"],"comments":[{"owner":{"account_id":7642233,"reputation":4099,"user_id":5793987,"display_name":"gudok"},"score":2,"creation_date":1699635081,"post_id":77461605,"comment_id":136560951,"body_markdown":"Something tells me that BufferedReader garbles the input. Try to use directly `HttpServletRequest.getInputStream()`.","body":"Something tells me that BufferedReader garbles the input. Try to use directly <code>HttpServletRequest.getInputStream()</code>."},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1699635167,"post_id":77461605,"comment_id":136560965,"body_markdown":"@gudok Thanks for your quick response. I will try and let you know. It would be weird if it works though, since it works for the other two.","body":"@gudok Thanks for your quick response. I will try and let you know. It would be weird if it works though, since it works for the other two."},{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1699635351,"post_id":77461605,"comment_id":136560978,"body_markdown":"No, it wouldn&#39;t be weird at all. `BufferedReader` is for *text* data - protobuf serialization is arbitrary *binary* data. You&#39;re converting the request from binary data to text again and expecting to get the same original bytes out... that&#39;s *never* a good idea, unless you know the original data is genuinely text.","body":"No, it wouldn&#39;t be weird at all. <code>BufferedReader</code> is for <i>text</i> data - protobuf serialization is arbitrary <i>binary</i> data. You&#39;re converting the request from binary data to text again and expecting to get the same original bytes out... that&#39;s <i>never</i> a good idea, unless you know the original data is genuinely text."},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1699635358,"post_id":77461605,"comment_id":136560979,"body_markdown":"Yup it works. `HttpServletRequest#getReader()` reads the body as characters.","body":"Yup it works. <code>HttpServletRequest#getReader()</code> reads the body as characters."},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1699635402,"post_id":77461605,"comment_id":136560990,"body_markdown":"I guess however protobuf serializes repeated cannot be read as character data. If you want to post your response as an answer, I&#39;ll mark it.","body":"I guess however protobuf serializes repeated cannot be read as character data. If you want to post your response as an answer, I&#39;ll mark it."}],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699634734,"creation_date":1699634734,"question_id":77461605,"body_markdown":"I am having trouble de-serializing a protobuf. I am confident that it is serialized properly, as serialization works in all other cases.\r\n\r\nHere&#39;s a simplified proto file:\r\n\r\n```proto3\r\nsyntax = &quot;proto3&quot;;\r\n\r\nmessage Request {\r\n  oneof request {\r\n    LoginRequest login = 1;\r\n    SyncRequest sync = 2;\r\n    PushRequest push = 3;\r\n  }\r\n}\r\n\r\nmessage LoginRequest {\r\n  string username = 1;\r\n  string password = 2;\r\n}\r\n\r\nmessage SyncRequest {\r\n}\r\n\r\nmessage PushRequest {\r\n  message Item {\r\n    int64 id = 1;\r\n    string value = 2;\r\n    string date = 3;\r\n  }\r\n\r\n  repeated Item items = 1;\r\n}\r\n\r\n```\r\n\r\nI read and de-serialize the protobuf in the `doPost` method of an `HttpServlet`:\r\n\r\n```java\r\n@Override\r\nprotected void doPost(final HttpServletRequest httpRequest, final HttpServletResponse httpResponse) throws ServletException, IOException {\r\n  final BufferedReader reader = httpRequest.getReader();\r\n  final byte[] buffer = IOUtils.toByteArray(reader, StandardCharsets.UTF_8);\r\n\r\n  final Request request;\r\n\r\n  try {\r\n    // TODO: Read from input stream directly.\r\n    request = Request.parseFrom(buffer);\r\n  } catch(final Exception e) {\r\n    throw new ServletException(&quot;Failed to deserialize request body.&quot;, e);\r\n  }\r\n\r\n  // Never reaches this line.\r\n  // ...\r\n}\r\n```\r\n\r\nI get the following error:\r\n\r\n```\r\n11:44:23.199 [qtp1165303897-24] WARN  o.e.j.ee10.servlet.ServletChannel - handleException /api com.google.protobuf.InvalidProtocolBufferException: While parsing a protocol message, the input ended unexpectedly in the middle of a field.  This could mean either that the input has been truncated or that an embedded message misreported its own length.\r\n```\r\n\r\nIf I sent `Request.login` or `Request.sync`, it successfully de-serializes. The error only occurs for `Request.push`.","title":"Cannot deserialize protobuf","body":"<p>I am having trouble de-serializing a protobuf. I am confident that it is serialized properly, as serialization works in all other cases.</p>\n<p>Here's a simplified proto file:</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\nmessage Request {\n  oneof request {\n    LoginRequest login = 1;\n    SyncRequest sync = 2;\n    PushRequest push = 3;\n  }\n}\n\nmessage LoginRequest {\n  string username = 1;\n  string password = 2;\n}\n\nmessage SyncRequest {\n}\n\nmessage PushRequest {\n  message Item {\n    int64 id = 1;\n    string value = 2;\n    string date = 3;\n  }\n\n  repeated Item items = 1;\n}\n\n</code></pre>\n<p>I read and de-serialize the protobuf in the <code>doPost</code> method of an <code>HttpServlet</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void doPost(final HttpServletRequest httpRequest, final HttpServletResponse httpResponse) throws ServletException, IOException {\n  final BufferedReader reader = httpRequest.getReader();\n  final byte[] buffer = IOUtils.toByteArray(reader, StandardCharsets.UTF_8);\n\n  final Request request;\n\n  try {\n    // TODO: Read from input stream directly.\n    request = Request.parseFrom(buffer);\n  } catch(final Exception e) {\n    throw new ServletException(&quot;Failed to deserialize request body.&quot;, e);\n  }\n\n  // Never reaches this line.\n  // ...\n}\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>11:44:23.199 [qtp1165303897-24] WARN  o.e.j.ee10.servlet.ServletChannel - handleException /api com.google.protobuf.InvalidProtocolBufferException: While parsing a protocol message, the input ended unexpectedly in the middle of a field.  This could mean either that the input has been truncated or that an embedded message misreported its own length.\n</code></pre>\n<p>If I sent <code>Request.login</code> or <code>Request.sync</code>, it successfully de-serializes. The error only occurs for <code>Request.push</code>.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9790,"page":67,"page_size":100}
