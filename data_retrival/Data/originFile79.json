{"items":[{"tags":["java","if-statement","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29615,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699193035,"creation_date":1699193035,"answer_id":77426208,"question_id":77420268,"body_markdown":"One simple way is to use early returns.\r\n\r\nE.g.\r\n\r\n    if(foo) {\r\n     return &quot;foo&quot;;\r\n    }\r\n    \r\n    if(bar) {\r\n     return &quot;bar&quot;;\r\n    }\r\n    \r\n    etc...","title":"Reduce if-else statements with Java8 Streams while filtering multiple conditions","body":"<p>One simple way is to use early returns.</p>\n<p>E.g.</p>\n<pre><code>if(foo) {\n return &quot;foo&quot;;\n}\n\nif(bar) {\n return &quot;bar&quot;;\n}\n\netc...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699222911,"creation_date":1699222911,"answer_id":77427877,"question_id":77420268,"body_markdown":"Streams and predicates are not a silver bullet, and there&#39;s nothing wrong with plain `if`s.\r\n\r\nA small refactoring, mainly removing redundant conditions, yields:\r\n\r\n```\r\nif (eventList.size() &gt; 1) { //SOP Special Event\r\n    if (results.getAcknowledgeUid().isEmpty()) {\r\n        event = eventList.stream().filter(isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent))\r\n                .findFirst().orElse(null);\r\n    } else {\r\n        if (&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) { // SOP Acnknowledge Event\r\n            event = eventList.stream().filter(isAcknowledgeEvent)\r\n                    .findFirst().orElse(null);\r\n        } else { // Non SOP Acnknowledge Event\r\n            event = eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid)\r\n                    .stream().filter(isAcnknowledgeEvent)\r\n                    .findFirst().orElse(null);\r\n    }\r\n} else { // Single Event\r\n    event = eventList.stream().filter(isOriginalEvent).findFirst().orElse(null);\r\n}\r\n```\r\n\r\nwhich has good readability. ","title":"Reduce if-else statements with Java8 Streams while filtering multiple conditions","body":"<p>Streams and predicates are not a silver bullet, and there's nothing wrong with plain <code>if</code>s.</p>\n<p>A small refactoring, mainly removing redundant conditions, yields:</p>\n<pre><code>if (eventList.size() &gt; 1) { //SOP Special Event\n    if (results.getAcknowledgeUid().isEmpty()) {\n        event = eventList.stream().filter(isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent))\n                .findFirst().orElse(null);\n    } else {\n        if (&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) { // SOP Acnknowledge Event\n            event = eventList.stream().filter(isAcknowledgeEvent)\n                    .findFirst().orElse(null);\n        } else { // Non SOP Acnknowledge Event\n            event = eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid)\n                    .stream().filter(isAcnknowledgeEvent)\n                    .findFirst().orElse(null);\n    }\n} else { // Single Event\n    event = eventList.stream().filter(isOriginalEvent).findFirst().orElse(null);\n}\n</code></pre>\n<p>which has good readability.</p>\n"},{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699256034,"creation_date":1699256034,"answer_id":77429423,"question_id":77420268,"body_markdown":"At least that block is wrong:\r\n\r\n       // SOP Acnknowledge Event\r\n       if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\r\n           event = eventList.stream().filter(isAcknowledgeEvent)\r\n                                     .findFirst().orElse(null);\r\n       }\r\n       // Non SOP Acnknowledge Event\r\n       List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\r\n       event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\r\n                                       .findFirst().orElse(null);\r\n\r\nthere is a (probably) missing else, isn&#39;t it?\r\n\r\n       // SOP Acnknowledge Event\r\n       if (&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\r\n           event = eventList.stream().filter(isAcknowledgeEvent)\r\n                                     .findFirst().orElse(null);\r\n       } else {\r\n           // Non SOP Acnknowledge Event\r\n           List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\r\n           event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\r\n                                       .findFirst().orElse(null);\r\n       }\r\n\r\n\r\n\r\nThe ifs are;\r\n\r\n    if (n&gt;1 &amp;&amp; cond)\r\n    else if (n&gt;1 &amp;&amp; !cond)\r\n    else if (n&gt;0)\r\n\r\nat least testing `cond` twice is redundant. You may write it:\r\n\r\n    if (n&gt;1)\r\n        if (cond)\r\n        else\r\n    else if (n&gt;0)\r\n\r\nand if `n` is always 1, 2 or 3 then the last test may be removed:\r\n\r\n    if (n&gt;1)\r\n        if (cond)\r\n        else\r\n    else\r\n\r\n\r\nwhich gives:\r\n\r\n    if (eventList.size()&gt;1) {\r\n        if (results.getAcknowledgeUid().isEmpty()) {\r\n            event = eventList.stream().filter(isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent))\r\n                                     .findFirst().orElse(null);\r\n        } else { \r\n           // SOP Acnknowledge Event\r\n           if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\r\n               event = eventList.stream().filter(isAcknowledgeEvent)\r\n                                         .findFirst().orElse(null);\r\n           } else {\r\n           // Non SOP Acnknowledge Event\r\n               List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\r\n               event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\r\n                                           .findFirst().orElse(null);\r\n           }\r\n    else {\r\n           event = eventList.stream().filter(isOriginalEvent).findFirst().orElse(null);\r\n    }\r\n\r\nYou may also factorize the calls to findFirst.orElse and filters:\r\n\r\n    Stream&lt;SOMETYPE&gt; s = null;\r\n    Predicate&lt;SOMETYPE&gt; f = null\r\n    if (eventList.size()&gt;1) {\r\n        if (results.getAcknowledgeUid().isEmpty()) {\r\n            s = eventList.stream();\r\n            f = isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent);\r\n        } else { \r\n           if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\r\n               s = eventList.stream()\r\n           } else {\r\n               s = repository.findEventByUid(results.getAcnknowledgeUid).stream()\r\n           }\r\n           f = filter(isAcnknowledgeEvent);\r\n    else {\r\n           s =  eventList.stream();\r\n           f = isOriginalEvent;\r\n    }\r\n    event = s.filter(f).findFirst().orElse(null);\r\n\r\n\r\n","title":"Reduce if-else statements with Java8 Streams while filtering multiple conditions","body":"<p>At least that block is wrong:</p>\n<pre><code>   // SOP Acnknowledge Event\n   if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\n       event = eventList.stream().filter(isAcknowledgeEvent)\n                                 .findFirst().orElse(null);\n   }\n   // Non SOP Acnknowledge Event\n   List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\n   event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\n                                   .findFirst().orElse(null);\n</code></pre>\n<p>there is a (probably) missing else, isn't it?</p>\n<pre><code>   // SOP Acnknowledge Event\n   if (&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\n       event = eventList.stream().filter(isAcknowledgeEvent)\n                                 .findFirst().orElse(null);\n   } else {\n       // Non SOP Acnknowledge Event\n       List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\n       event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\n                                   .findFirst().orElse(null);\n   }\n</code></pre>\n<p>The ifs are;</p>\n<pre><code>if (n&gt;1 &amp;&amp; cond)\nelse if (n&gt;1 &amp;&amp; !cond)\nelse if (n&gt;0)\n</code></pre>\n<p>at least testing <code>cond</code> twice is redundant. You may write it:</p>\n<pre><code>if (n&gt;1)\n    if (cond)\n    else\nelse if (n&gt;0)\n</code></pre>\n<p>and if <code>n</code> is always 1, 2 or 3 then the last test may be removed:</p>\n<pre><code>if (n&gt;1)\n    if (cond)\n    else\nelse\n</code></pre>\n<p>which gives:</p>\n<pre><code>if (eventList.size()&gt;1) {\n    if (results.getAcknowledgeUid().isEmpty()) {\n        event = eventList.stream().filter(isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent))\n                                 .findFirst().orElse(null);\n    } else { \n       // SOP Acnknowledge Event\n       if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\n           event = eventList.stream().filter(isAcknowledgeEvent)\n                                     .findFirst().orElse(null);\n       } else {\n       // Non SOP Acnknowledge Event\n           List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\n           event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\n                                       .findFirst().orElse(null);\n       }\nelse {\n       event = eventList.stream().filter(isOriginalEvent).findFirst().orElse(null);\n}\n</code></pre>\n<p>You may also factorize the calls to findFirst.orElse and filters:</p>\n<pre><code>Stream&lt;SOMETYPE&gt; s = null;\nPredicate&lt;SOMETYPE&gt; f = null\nif (eventList.size()&gt;1) {\n    if (results.getAcknowledgeUid().isEmpty()) {\n        s = eventList.stream();\n        f = isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent);\n    } else { \n       if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\n           s = eventList.stream()\n       } else {\n           s = repository.findEventByUid(results.getAcnknowledgeUid).stream()\n       }\n       f = filter(isAcnknowledgeEvent);\nelse {\n       s =  eventList.stream();\n       f = isOriginalEvent;\n}\nevent = s.filter(f).findFirst().orElse(null);\n</code></pre>\n"}],"owner":{"account_id":4357423,"reputation":17,"user_id":3555555,"display_name":"turing23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77429423,"answer_count":3,"score":0,"last_activity_date":1699256034,"creation_date":1699056067,"question_id":77420268,"body_markdown":"I got a review comment from my peers that i need to reduce the use of multiple If-else blocks in my code and instead use imperative programming techniques to achieve the same functionality\r\n\r\n**Background**\r\nI have a List of Events and i need to return an event object based on few conditions.For an SOP Event and SOP Acknowledge Event the size of the list could be 2 or 3, for a Non-Sop Acknowledge event the size is 2 but event type is different, finally there is a single event where the size is 1.\r\n\r\n```\r\n//All Required Predicates\r\n\r\n//SOP Special Event\r\nif(eventList.size() &gt;1 &amp;&amp; results.getAcknowledgeUid().isEmpty()){\r\n       event = eventList.stream().filter(isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent))\r\n                                 .findFirst().orElse(null);\r\n} \r\nelse if (eventList.size() &gt;1 &amp;&amp; !results.getAcknowledgeUid().isEmpty()) {\r\n       // SOP Acnknowledge Event\r\n       if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\r\n           event = eventList.stream().filter(isAcknowledgeEvent)\r\n                                     .findFirst().orElse(null);\r\n       }\r\n       // Non SOP Acnknowledge Event\r\n       List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\r\n       event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\r\n                                       .findFirst().orElse(null);\r\n}\r\n// Single Event\r\nelse if (eventList.size() &gt;0) {\r\n       event = eventList.stream().filter(isOriginalEvent).findFirst().orElse(null);\r\n}\r\n```\r\n\r\nI moved all my conditions within in the if else blocks to predicates and it&#39;s looking compact right now. But i&#39;m still unable to reduce the if-else chain. I considered using ternary operator to merge the second and third blocks, but the code is looking clumsy if i did that. \r\ni&#39;m unable to do the following as well.\r\n\r\n```\r\nPredicate&lt;List&lt;Event&gt;&gt; isMoreThanTwoEvents = event -&gt; eventList.size() &gt; 1;\r\n\r\n event = eventList.stream().filter(isAcknowledgeEvent.and(isSOPEvent).and(isMoreThanTwoEvents))\r\n                                 .findFirst().orElse(null);\r\n```\r\nwhich gives me an error in the IDE \r\n\r\n&gt; Required type Predicate &lt;? super Event&gt;\r\n&gt; Provided Predicate &lt;List&lt;Event&gt;&gt;\r\n\r\n1. How do i reduce the If-Else Chaining?\r\n2. How do i filter data in Streams within a Collection that are outside the scope of that collection?\r\n3. Is there a better or elegant solution to this problem?","title":"Reduce if-else statements with Java8 Streams while filtering multiple conditions","body":"<p>I got a review comment from my peers that i need to reduce the use of multiple If-else blocks in my code and instead use imperative programming techniques to achieve the same functionality</p>\n<p><strong>Background</strong>\nI have a List of Events and i need to return an event object based on few conditions.For an SOP Event and SOP Acknowledge Event the size of the list could be 2 or 3, for a Non-Sop Acknowledge event the size is 2 but event type is different, finally there is a single event where the size is 1.</p>\n<pre><code>//All Required Predicates\n\n//SOP Special Event\nif(eventList.size() &gt;1 &amp;&amp; results.getAcknowledgeUid().isEmpty()){\n       event = eventList.stream().filter(isOriginalEvent.and(isSOPEvent).and(isSOPSpecialEvent))\n                                 .findFirst().orElse(null);\n} \nelse if (eventList.size() &gt;1 &amp;&amp; !results.getAcknowledgeUid().isEmpty()) {\n       // SOP Acnknowledge Event\n       if(&quot;SOP&quot;.equalsIgnoreCase(eventList.get(0).getEventType())) {\n           event = eventList.stream().filter(isAcknowledgeEvent)\n                                     .findFirst().orElse(null);\n       }\n       // Non SOP Acnknowledge Event\n       List&lt;event&gt; eventAcnknowledgeList = repository.findEventByUid(results.getAcnknowledgeUid);\n       event = eventAcnknowledgeList.stream().filter(isAcnknowledgeEvent)\n                                       .findFirst().orElse(null);\n}\n// Single Event\nelse if (eventList.size() &gt;0) {\n       event = eventList.stream().filter(isOriginalEvent).findFirst().orElse(null);\n}\n</code></pre>\n<p>I moved all my conditions within in the if else blocks to predicates and it's looking compact right now. But i'm still unable to reduce the if-else chain. I considered using ternary operator to merge the second and third blocks, but the code is looking clumsy if i did that.\ni'm unable to do the following as well.</p>\n<pre><code>Predicate&lt;List&lt;Event&gt;&gt; isMoreThanTwoEvents = event -&gt; eventList.size() &gt; 1;\n\n event = eventList.stream().filter(isAcknowledgeEvent.and(isSOPEvent).and(isMoreThanTwoEvents))\n                                 .findFirst().orElse(null);\n</code></pre>\n<p>which gives me an error in the IDE</p>\n<blockquote>\n<p>Required type Predicate &lt;? super Event&gt;\nProvided Predicate &lt;List&gt;</p>\n</blockquote>\n<ol>\n<li>How do i reduce the If-Else Chaining?</li>\n<li>How do i filter data in Streams within a Collection that are outside the scope of that collection?</li>\n<li>Is there a better or elegant solution to this problem?</li>\n</ol>\n"},{"tags":["java","file","binary","compare"],"answers":[{"tags":[],"owner":{"account_id":31100,"reputation":13876,"user_id":85170,"accept_rate":100,"display_name":"CookieOfFortune"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1242345001,"creation_date":1242343086,"answer_id":866348,"question_id":866346,"body_markdown":"Maybe... compare MD5 digests of each file? I&#39;m sure there are a lot of ways to do it. You could just open both files and compare each byte.\r\n\r\nEDIT: James stated how the XLS format might have differences in the metadata. Perhaps you should use the same interface you used to generate the xls files to open them and compare the values from cell to cell?","title":"Easiest way to compare two Excel files in Java?","body":"<p>Maybe... compare MD5 digests of each file? I'm sure there are a lot of ways to do it. You could just open both files and compare each byte.</p>\n\n<p>EDIT: James stated how the XLS format might have differences in the metadata. Perhaps you should use the same interface you used to generate the xls files to open them and compare the values from cell to cell?</p>\n"},{"tags":[],"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1242343572,"creation_date":1242343572,"answer_id":866372,"question_id":866346,"body_markdown":"You could use javaxdelta to check whether the two files are the same.  It&#39;s available from here:\r\n\r\n[http://javaxdelta.sourceforge.net/][1]\r\n\r\n\r\n  [1]: http://javaxdelta.sourceforge.net/","title":"Easiest way to compare two Excel files in Java?","body":"<p>You could use javaxdelta to check whether the two files are the same.  It's available from here:</p>\n\n<p><a href=\"http://javaxdelta.sourceforge.net/\" rel=\"nofollow noreferrer\">http://javaxdelta.sourceforge.net/</a></p>\n"},{"tags":[],"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1242344929,"creation_date":1242344929,"answer_id":866432,"question_id":866346,"body_markdown":"Just found out there&#39;s something in commons-io&#39;s [FileUtils][1]. Thanks for the other answers.\r\n\r\n\r\n  [1]: http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html#contentEquals(java.io.File,%20java.io.File)","title":"Easiest way to compare two Excel files in Java?","body":"<p>Just found out there's something in commons-io's <a href=\"http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html#contentEquals(java.io.File,%20java.io.File)\" rel=\"nofollow noreferrer\">FileUtils</a>. Thanks for the other answers.</p>\n"},{"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1242345112,"creation_date":1242345112,"answer_id":866443,"question_id":866346,"body_markdown":"A simple file comparison can easily be done using some checksumming (like MD5) or just reading both files.\r\n\r\nHowever, as Excel files contain loads of metadata, the files will probably never be identical byte-for-byte, as James Burgess pointed out.\r\nSo you&#39;ll need another kind of comparison for your test.\r\n\r\nI&#39;d recommend somehow generating a &quot;canonical&quot; form from the Excel file, i.e. reading the generated Excel file and converting it to a simpler format (CSV or something similar), which will only retain the information you want to check. Then you can use the &quot;canonical form&quot; to compare with your expected result (also in canonical form, of course).\r\n\r\n[Apache POI][1] might be useful for reading the file.\r\n\r\n\r\n  [1]: http://poi.apache.org/\r\n\r\nBTW: Reading a whole file to check its correctnes would generally not be considere a Unit test. That&#39;s an integration test...","title":"Easiest way to compare two Excel files in Java?","body":"<p>A simple file comparison can easily be done using some checksumming (like MD5) or just reading both files.</p>\n\n<p>However, as Excel files contain loads of metadata, the files will probably never be identical byte-for-byte, as James Burgess pointed out.\nSo you'll need another kind of comparison for your test.</p>\n\n<p>I'd recommend somehow generating a \"canonical\" form from the Excel file, i.e. reading the generated Excel file and converting it to a simpler format (CSV or something similar), which will only retain the information you want to check. Then you can use the \"canonical form\" to compare with your expected result (also in canonical form, of course).</p>\n\n<p><a href=\"http://poi.apache.org/\" rel=\"noreferrer\">Apache POI</a> might be useful for reading the file.</p>\n\n<p>BTW: Reading a whole file to check its correctnes would generally not be considere a Unit test. That's an integration test...</p>\n"},{"tags":[],"owner":{"account_id":37571,"reputation":507,"user_id":107430,"accept_rate":86,"display_name":"Tiger"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1242352861,"creation_date":1242352861,"answer_id":866707,"question_id":866346,"body_markdown":"Please, take a look at [the site][1] to compare the binary files, http://www.velocityreviews.com/forums/t123770-re-java-code-for-determining-binary-file-equality.html\r\n\r\n\r\nTiger\r\n\r\n\r\n  [1]: http://www.velocityreviews.com/forums/t123770-re-java-code-for-determining-binary-file-equality.html\r\n","title":"Easiest way to compare two Excel files in Java?","body":"<p>Please, take a look at <a href=\"http://www.velocityreviews.com/forums/t123770-re-java-code-for-determining-binary-file-equality.html\" rel=\"nofollow noreferrer\">the site</a> to compare the binary files, <a href=\"http://www.velocityreviews.com/forums/t123770-re-java-code-for-determining-binary-file-equality.html\" rel=\"nofollow noreferrer\">http://www.velocityreviews.com/forums/t123770-re-java-code-for-determining-binary-file-equality.html</a></p>\n\n<p>Tiger</p>\n"},{"tags":[],"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1242372373,"creation_date":1242372373,"answer_id":867390,"question_id":866346,"body_markdown":"Here&#39;s what I ended up doing (with the heavy lifting being done by [DBUnit][1]):\r\n\r\n    /**\r\n     * Compares the data in the two Excel files represented by the given input\r\n     * streams, closing them on completion\r\n     * \r\n     * @param expected can&#39;t be &lt;code&gt;null&lt;/code&gt;\r\n     * @param actual can&#39;t be &lt;code&gt;null&lt;/code&gt;\r\n     * @throws Exception\r\n     */\r\n    private void compareExcelFiles(InputStream expected, InputStream actual)\r\n      throws Exception\r\n    {\r\n      try {\r\n        Assertion.assertEquals(new XlsDataSet(expected), new XlsDataSet(actual));\r\n      }\r\n      finally {\r\n        IOUtils.closeQuietly(expected);\r\n        IOUtils.closeQuietly(actual);\r\n      }\r\n    }\r\n\r\nThis compares the data in the two files, with no risk of false negatives from any irrelevant metadata that might be different. Hope this helps someone.\r\n\r\n\r\n  [1]: http://dbunit.sourceforge.net/","title":"Easiest way to compare two Excel files in Java?","body":"<p>Here's what I ended up doing (with the heavy lifting being done by <a href=\"http://dbunit.sourceforge.net/\" rel=\"noreferrer\">DBUnit</a>):</p>\n\n<pre><code>/**\n * Compares the data in the two Excel files represented by the given input\n * streams, closing them on completion\n * \n * @param expected can't be &lt;code&gt;null&lt;/code&gt;\n * @param actual can't be &lt;code&gt;null&lt;/code&gt;\n * @throws Exception\n */\nprivate void compareExcelFiles(InputStream expected, InputStream actual)\n  throws Exception\n{\n  try {\n    Assertion.assertEquals(new XlsDataSet(expected), new XlsDataSet(actual));\n  }\n  finally {\n    IOUtils.closeQuietly(expected);\n    IOUtils.closeQuietly(actual);\n  }\n}\n</code></pre>\n\n<p>This compares the data in the two files, with no risk of false negatives from any irrelevant metadata that might be different. Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":56048,"reputation":36440,"user_id":167897,"accept_rate":72,"display_name":"Wernight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1272283521,"creation_date":1272283521,"answer_id":2713240,"question_id":866346,"body_markdown":"You may use [Beyond Compare 3][1] which can be started from command-line and supports different ways to compare Excel files, including:\r\n\r\n - Comparing Excel sheets as database tables\r\n - Checking all textual content\r\n - Checking textual content with some formating\r\n\r\n  [1]: http://www.scootersoftware.com/","title":"Easiest way to compare two Excel files in Java?","body":"<p>You may use <a href=\"http://www.scootersoftware.com/\" rel=\"nofollow noreferrer\">Beyond Compare 3</a> which can be started from command-line and supports different ways to compare Excel files, including:</p>\n\n<ul>\n<li>Comparing Excel sheets as database tables</li>\n<li>Checking all textual content</li>\n<li>Checking textual content with some formating</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":83125,"reputation":9583,"user_id":233266,"accept_rate":75,"display_name":"Toby"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1359041443,"creation_date":1347261691,"answer_id":12346967,"question_id":866346,"body_markdown":"You might consider using my project [simple-excel](https://github.com/tobyweston/simple-excel/) which provides a bunch of Hamcrest Matchers to do the job.\r\n\r\nWhen you do something like the following, \r\n\r\n    assertThat(actual, WorkbookMatcher.sameWorkbook(expected));\r\n\r\n\r\nYou&#39;d see, for example, \r\n\r\n    java.lang.AssertionError:\r\n    Expected: entire workbook to be equal\r\n         but: cell at &quot;C14&quot; contained &lt;&quot;bananas&quot;&gt; expected &lt;nothing&gt;,\r\n              cell at &quot;C15&quot; contained &lt;&quot;1,850,000 EUR&quot;&gt; expected &lt;&quot;1,850,000.00 EUR&quot;&gt;,\r\n              cell at &quot;D16&quot; contained &lt;nothing&gt; expected &lt;&quot;Tue Sep 04 06:30:00&quot;&gt;\r\n        at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n\r\n\r\nThat way, you can run it from your automatted tests and get meaningful feedback whilst you&#39;re developing.\r\n\r\nYou can read more about it at [this article on my site](http://baddotrobot.com/blog/2012/09/14/diff-excel-with-java-and-hamcrest/)","title":"Easiest way to compare two Excel files in Java?","body":"<p>You might consider using my project <a href=\"https://github.com/tobyweston/simple-excel/\" rel=\"noreferrer\">simple-excel</a> which provides a bunch of Hamcrest Matchers to do the job.</p>\n\n<p>When you do something like the following, </p>\n\n<pre><code>assertThat(actual, WorkbookMatcher.sameWorkbook(expected));\n</code></pre>\n\n<p>You'd see, for example, </p>\n\n<pre><code>java.lang.AssertionError:\nExpected: entire workbook to be equal\n     but: cell at \"C14\" contained &lt;\"bananas\"&gt; expected &lt;nothing&gt;,\n          cell at \"C15\" contained &lt;\"1,850,000 EUR\"&gt; expected &lt;\"1,850,000.00 EUR\"&gt;,\n          cell at \"D16\" contained &lt;nothing&gt; expected &lt;\"Tue Sep 04 06:30:00\"&gt;\n    at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\n</code></pre>\n\n<p>That way, you can run it from your automatted tests and get meaningful feedback whilst you're developing.</p>\n\n<p>You can read more about it at <a href=\"http://baddotrobot.com/blog/2012/09/14/diff-excel-with-java-and-hamcrest/\" rel=\"noreferrer\">this article on my site</a></p>\n"},{"tags":[],"owner":{"account_id":267143,"reputation":702,"user_id":555139,"display_name":"joshden"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1438801656,"creation_date":1438801656,"answer_id":31840860,"question_id":866346,"body_markdown":"I needed to do something similar and was already using the [Apache POI library](https://poi.apache.org/index.html) in my project to create Excel files. So I opted to use the included [ExcelExtractor](https://poi.apache.org/apidocs/org/apache/poi/ss/extractor/ExcelExtractor.html) interface to export both workbooks as a string of text and asserted that the strings were equal. There are implementations for both [HSSF for .xls](https://poi.apache.org/apidocs/org/apache/poi/hssf/extractor/ExcelExtractor.html) as well as [XSSF for .xlsx](https://poi.apache.org/apidocs/org/apache/poi/xssf/extractor/XSSFExcelExtractor.html).\r\n\r\nDump to string:\r\n\r\n    XSSFWorkbook xssfWorkbookA = ...;\r\n    String workbookA = new XSSFExcelExtractor(xssfWorkbookA).getText();\r\n    \r\nExcelExtractor has some options for what all should be included in the string dump. I found it to have useful defaults of including sheet names. In addition it includes the text contents of the cells.\r\n","title":"Easiest way to compare two Excel files in Java?","body":"<p>I needed to do something similar and was already using the <a href=\"https://poi.apache.org/index.html\" rel=\"noreferrer\">Apache POI library</a> in my project to create Excel files. So I opted to use the included <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/extractor/ExcelExtractor.html\" rel=\"noreferrer\">ExcelExtractor</a> interface to export both workbooks as a string of text and asserted that the strings were equal. There are implementations for both <a href=\"https://poi.apache.org/apidocs/org/apache/poi/hssf/extractor/ExcelExtractor.html\" rel=\"noreferrer\">HSSF for .xls</a> as well as <a href=\"https://poi.apache.org/apidocs/org/apache/poi/xssf/extractor/XSSFExcelExtractor.html\" rel=\"noreferrer\">XSSF for .xlsx</a>.</p>\n\n<p>Dump to string:</p>\n\n<pre><code>XSSFWorkbook xssfWorkbookA = ...;\nString workbookA = new XSSFExcelExtractor(xssfWorkbookA).getText();\n</code></pre>\n\n<p>ExcelExtractor has some options for what all should be included in the string dump. I found it to have useful defaults of including sheet names. In addition it includes the text contents of the cells.</p>\n"},{"tags":[],"owner":{"account_id":1726908,"reputation":891,"user_id":1581366,"accept_rate":33,"display_name":"BuckBazooka"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1463750155,"creation_date":1463750155,"answer_id":37347712,"question_id":866346,"body_markdown":"The easiest way I find is to use Tika.\r\nI use it like this:\r\n\r\n\tprivate void compareXlsx(File expected, File result) throws IOException, TikaException {\r\n\t\t Tika tika = new Tika();\r\n         String expectedText = tika.parseToString(expected);\r\n         String resultText = tika.parseToString(result);\r\n\t     assertEquals(expectedText, resultText);\r\n\t}\r\n\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.13&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n","title":"Easiest way to compare two Excel files in Java?","body":"<p>The easiest way I find is to use Tika.\nI use it like this:</p>\n\n<pre><code>private void compareXlsx(File expected, File result) throws IOException, TikaException {\n     Tika tika = new Tika();\n     String expectedText = tika.parseToString(expected);\n     String resultText = tika.parseToString(result);\n     assertEquals(expectedText, resultText);\n}\n\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\n    &lt;version&gt;1.13&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7938112,"reputation":3993,"user_id":5993278,"accept_rate":39,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559319976,"creation_date":1559319976,"answer_id":56398703,"question_id":866346,"body_markdown":"To test only content of the first sheets in Kotlin (easily can be converted to java).\r\n\r\n\r\n    private fun checkEqualityExcelDocs(doc : XSSFWorkbook, doc1 : XSSFWorkbook) : Boolean{\r\n            val mapOfCellDoc = doc.toList().first().toList().flatMap { row -&gt; row.map { Pair(PivotExcelCreator.IndexInThePivotTable(it.rowIndex,it.columnIndex),it.stringCellValue) }}.toMap()\r\n            val mapOfCellDoc1 = doc1.toList().first().toList().flatMap { row -&gt; row.map { Pair(PivotExcelCreator.IndexInThePivotTable(it.rowIndex,it.columnIndex),it.stringCellValue) }}.toMap()\r\n            if(mapOfCellDoc.size == mapOfCellDoc1.size){\r\n                return mapOfCellDoc.entries.all { mapOfCellDoc1.containsKey(it.key) &amp;&amp; mapOfCellDoc[it.key] == mapOfCellDoc1[it.key]}\r\n            }\r\n            return false\r\n        }\r\n\r\n    data class IndexInThePivotTable(val row: Int, val col: Int)\r\n\r\n\r\nand in your code add assert\r\n\r\n        assertTrue(checkEqualityExcelDocs(expected, actual), &quot;Docs aren&#39;t equal!&quot;)\r\n\r\nas you can see `doc.toList().first()` will take only the first sheet of document, if you need to compare each sheet respectively change code a little. \r\n\r\nAlso it is quite good idea to not take into account &quot;&quot; empty strings cells, I didn&#39;t need this functionality (As well, simply add this part, if you need). \r\n\r\n---------\r\nalso it can be useful information\r\n\r\n    //first doc I&#39;ve got from outputstream such way\r\n    val out = ByteArrayOutputStream()\r\n    //some method which writes excel to outputstream\r\n    val firstDoc = XSSFWorkbook(ByteArrayInputStream(out.toByteArray()))\r\n\r\nand second doc from file to compare with \r\n\r\n    val secondDoc = XSSFWorkbook(Test::class.java.getClassLoader().getResource(&quot;yourfile.xlsx&quot;).path)\r\n\r\n\r\n\r\n","title":"Easiest way to compare two Excel files in Java?","body":"<p>To test only content of the first sheets in Kotlin (easily can be converted to java).</p>\n\n<pre><code>private fun checkEqualityExcelDocs(doc : XSSFWorkbook, doc1 : XSSFWorkbook) : Boolean{\n        val mapOfCellDoc = doc.toList().first().toList().flatMap { row -&gt; row.map { Pair(PivotExcelCreator.IndexInThePivotTable(it.rowIndex,it.columnIndex),it.stringCellValue) }}.toMap()\n        val mapOfCellDoc1 = doc1.toList().first().toList().flatMap { row -&gt; row.map { Pair(PivotExcelCreator.IndexInThePivotTable(it.rowIndex,it.columnIndex),it.stringCellValue) }}.toMap()\n        if(mapOfCellDoc.size == mapOfCellDoc1.size){\n            return mapOfCellDoc.entries.all { mapOfCellDoc1.containsKey(it.key) &amp;&amp; mapOfCellDoc[it.key] == mapOfCellDoc1[it.key]}\n        }\n        return false\n    }\n\ndata class IndexInThePivotTable(val row: Int, val col: Int)\n</code></pre>\n\n<p>and in your code add assert</p>\n\n<pre><code>    assertTrue(checkEqualityExcelDocs(expected, actual), \"Docs aren't equal!\")\n</code></pre>\n\n<p>as you can see <code>doc.toList().first()</code> will take only the first sheet of document, if you need to compare each sheet respectively change code a little. </p>\n\n<p>Also it is quite good idea to not take into account \"\" empty strings cells, I didn't need this functionality (As well, simply add this part, if you need). </p>\n\n<hr>\n\n<p>also it can be useful information</p>\n\n<pre><code>//first doc I've got from outputstream such way\nval out = ByteArrayOutputStream()\n//some method which writes excel to outputstream\nval firstDoc = XSSFWorkbook(ByteArrayInputStream(out.toByteArray()))\n</code></pre>\n\n<p>and second doc from file to compare with </p>\n\n<pre><code>val secondDoc = XSSFWorkbook(Test::class.java.getClassLoader().getResource(\"yourfile.xlsx\").path)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29835916,"reputation":1,"user_id":22865277,"display_name":"Ico Kostov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699255814,"creation_date":1699255814,"answer_id":77429402,"question_id":866346,"body_markdown":"Best way for me after a long research:\r\nUsing Apachi POI as external library\r\nUsing XSSF for xlsx files. \r\nIf you want to compare xls files have to use HSSF\r\n\r\nGood luck\r\n\r\n    public static void compareTwoExcellFiles04(String file01, String file02) throws IOException {\r\n        try\r\n        {\r\n            File file1 = new File(file01);\r\n            File file2 = new File(file02);\r\n            FileInputStream fis1 = new FileInputStream(file1);\r\n            FileInputStream fis2 = new FileInputStream(file2);\r\n            XSSFWorkbook wb1 = new XSSFWorkbook(fis1);\r\n            XSSFWorkbook wb2 = new XSSFWorkbook(fis2);\r\n            XSSFSheet sheet1 = wb1.getSheetAt(0);\r\n            XSSFSheet sheet2 = wb2.getSheetAt(0);\r\n            ArrayList&lt;String&gt; arrayList1 = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;String&gt; arrayList2 = new ArrayList&lt;&gt;();\r\n            for (Row row1 : sheet1) {\r\n                Iterator&lt;Cell&gt; cellIterator = row1.cellIterator();\r\n                while (cellIterator.hasNext()) {\r\n                    Cell cell1 = cellIterator.next();\r\n                    arrayList1.add(cell1.getStringCellValue());\r\n                    }\r\n                }\r\n            for (Row row2 : sheet2) {\r\n                Iterator&lt;Cell&gt; cellIterator = row2.cellIterator();\r\n                while (cellIterator.hasNext()) {\r\n                    Cell cell2 = cellIterator.next();\r\n                    arrayList2.add(cell2.getStringCellValue());\r\n                }\r\n            }\r\n        if (arrayList1.equals(arrayList2)){\r\n            System.out.println(&quot;the files are equal&quot;);\r\n        }else{\r\n            System.out.println(&quot;NOT EQUAL&quot;);\r\n        }\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Easiest way to compare two Excel files in Java?","body":"<p>Best way for me after a long research:\nUsing Apachi POI as external library\nUsing XSSF for xlsx files.\nIf you want to compare xls files have to use HSSF</p>\n<p>Good luck</p>\n<pre><code>public static void compareTwoExcellFiles04(String file01, String file02) throws IOException {\n    try\n    {\n        File file1 = new File(file01);\n        File file2 = new File(file02);\n        FileInputStream fis1 = new FileInputStream(file1);\n        FileInputStream fis2 = new FileInputStream(file2);\n        XSSFWorkbook wb1 = new XSSFWorkbook(fis1);\n        XSSFWorkbook wb2 = new XSSFWorkbook(fis2);\n        XSSFSheet sheet1 = wb1.getSheetAt(0);\n        XSSFSheet sheet2 = wb2.getSheetAt(0);\n        ArrayList&lt;String&gt; arrayList1 = new ArrayList&lt;&gt;();\n        ArrayList&lt;String&gt; arrayList2 = new ArrayList&lt;&gt;();\n        for (Row row1 : sheet1) {\n            Iterator&lt;Cell&gt; cellIterator = row1.cellIterator();\n            while (cellIterator.hasNext()) {\n                Cell cell1 = cellIterator.next();\n                arrayList1.add(cell1.getStringCellValue());\n                }\n            }\n        for (Row row2 : sheet2) {\n            Iterator&lt;Cell&gt; cellIterator = row2.cellIterator();\n            while (cellIterator.hasNext()) {\n                Cell cell2 = cellIterator.next();\n                arrayList2.add(cell2.getStringCellValue());\n            }\n        }\n    if (arrayList1.equals(arrayList2)){\n        System.out.println(&quot;the files are equal&quot;);\n    }else{\n        System.out.println(&quot;NOT EQUAL&quot;);\n    }\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64912,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":867390,"answer_count":12,"score":20,"last_activity_date":1699255814,"creation_date":1242342978,"question_id":866346,"body_markdown":"I&#39;m writing a JUnit test for some code that produces an Excel file (which is binary). I have another Excel file that contains my expected output. What&#39;s the easiest way to compare the actual file to the expected file?\r\n\r\nSure I could write the code myself, but I was wondering if there&#39;s an existing method in a trusted third-party library (e.g. Spring or Apache Commons) that already does this.","title":"Easiest way to compare two Excel files in Java?","body":"<p>I'm writing a JUnit test for some code that produces an Excel file (which is binary). I have another Excel file that contains my expected output. What's the easiest way to compare the actual file to the expected file?</p>\n\n<p>Sure I could write the code myself, but I was wondering if there's an existing method in a trusted third-party library (e.g. Spring or Apache Commons) that already does this.</p>\n"},{"tags":["java","spring","spring-boot","maven","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1699255209,"creation_date":1681701573,"answer_id":76031503,"question_id":76031419,"body_markdown":"There are three things you can check or do:\r\n\r\n1. Check the version of Spring Boot. For example, Spring Boot 3.X baseline requires Java 17.\r\n2. Specify explicitly the required Java version in the parent `pom.xml` (and apply it to all modules as well).\r\n   ```xml\r\n   &lt;properties&gt;\r\n       &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n   &lt;/properties&gt;\r\n   ```\r\n3. In case you use `maven-compiler-plugin`, you also want to check the version in its properties:\r\n   ```xml\r\n   &lt;properties&gt;\r\n       &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n       &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n   &lt;/properties&gt;\r\n   ```\r\n   Alternatively, specify it inside the plugin configuration itself:\r\n   ```xml\r\n   &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n   &lt;/plugin&gt;\r\n   ```\r\n\r\nYou can also refer to `${java.version}` across the `pom.xml` files.","title":"Class file has wrong version 61.0, should be 52.0","body":"<p>There are three things you can check or do:</p>\n<ol>\n<li>Check the version of Spring Boot. For example, Spring Boot 3.X baseline requires Java 17.</li>\n<li>Specify explicitly the required Java version in the parent <code>pom.xml</code> (and apply it to all modules as well).\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n</li>\n<li>In case you use <code>maven-compiler-plugin</code>, you also want to check the version in its properties:\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n&lt;/properties&gt;\n</code></pre>\nAlternatively, specify it inside the plugin configuration itself:\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n     &lt;configuration&gt;\n         &lt;source&gt;1.8&lt;/source&gt;\n         &lt;target&gt;1.8&lt;/target&gt;\n     &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n</li>\n</ol>\n<p>You can also refer to <code>${java.version}</code> across the <code>pom.xml</code> files.</p>\n"},{"tags":[],"owner":{"account_id":20087529,"reputation":1,"user_id":15739237,"display_name":"Aliaksei Halkin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687519931,"creation_date":1687519616,"answer_id":76539648,"question_id":76031419,"body_markdown":"If you are using JDK &gt;17 and up-to-date libraries like Spring 6, use version 5.1.0 (Release Notes). If you are on older JDK or library, use version 4.44.0 (documentation).\r\n[Look on it][1]\r\n \r\nIt seems to me that ypu should use 4.44.0\r\nIt  worked for me when I corrected with problem\r\n\r\n\r\n  [1]: https://github.com/lukas-krecan/ShedLock#jdbctemplate","title":"Class file has wrong version 61.0, should be 52.0","body":"<p>If you are using JDK &gt;17 and up-to-date libraries like Spring 6, use version 5.1.0 (Release Notes). If you are on older JDK or library, use version 4.44.0 (documentation).\n<a href=\"https://github.com/lukas-krecan/ShedLock#jdbctemplate\" rel=\"nofollow noreferrer\">Look on it</a></p>\n<p>It seems to me that ypu should use 4.44.0\nIt  worked for me when I corrected with problem</p>\n"}],"owner":{"account_id":23148453,"reputation":27,"user_id":17250890,"display_name":"Ege Pancaroğlu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6700,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76031503,"answer_count":2,"score":1,"last_activity_date":1699255209,"creation_date":1681700020,"question_id":76031419,"body_markdown":"I want to create a Spring Boot project on Intellij Idea and i choose Java 8 and Java 1.8 sdk but when i open the pom.xml i saw my java version is 17 !? how can it possible ? \r\n\r\nWhen i run my project i see this message below and how can my jars version 6.0.7 ?;\r\n\r\n    java: cannot access org.springframework.http.HttpStatus\r\n      bad class file: /C:/Users/eegee/.m2/repository/org/springframework/spring-web/6.0.7/spring-web-6.0.7.jar!/org/springframework/http/HttpStatus.class\r\n        class file has wrong version 61.0, should be 52.0\r\n        Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n\r\n","title":"Class file has wrong version 61.0, should be 52.0","body":"<p>I want to create a Spring Boot project on Intellij Idea and i choose Java 8 and Java 1.8 sdk but when i open the pom.xml i saw my java version is 17 !? how can it possible ?</p>\n<p>When i run my project i see this message below and how can my jars version 6.0.7 ?;</p>\n<pre><code>java: cannot access org.springframework.http.HttpStatus\n  bad class file: /C:/Users/eegee/.m2/repository/org/springframework/spring-web/6.0.7/spring-web-6.0.7.jar!/org/springframework/http/HttpStatus.class\n    class file has wrong version 61.0, should be 52.0\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\n</code></pre>\n"},{"tags":["java","debugging","intellij-idea","jar","remote-debugging"],"answers":[{"tags":[],"owner":{"account_id":128130,"reputation":18591,"user_id":325742,"accept_rate":90,"display_name":"Ashutosh Jindal"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1539799403,"creation_date":1479327872,"answer_id":40641628,"question_id":40576115,"body_markdown":"The command to start the remote Java process in debug mode looks correct. If you don&#39;t see &quot;Listening to Port blah&quot; when you start the server JAR, then it might mean that the debug args are not being picked up. Another way to quickly check this would be to test with a `telnet localhost 5005` on the machine where the server JAR is being executed. The `telnet` will fail if that port is not being used.\r\n\r\nI suggest that you try the following, since the order of the parameters might be significant (I&#39;ll add some official evidence for this later):\r\n\r\n    java &quot;agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005&quot; -jar Server.jar","title":"Unable to open debugger port through IntelliJ","body":"<p>The command to start the remote Java process in debug mode looks correct. If you don't see \"Listening to Port blah\" when you start the server JAR, then it might mean that the debug args are not being picked up. Another way to quickly check this would be to test with a <code>telnet localhost 5005</code> on the machine where the server JAR is being executed. The <code>telnet</code> will fail if that port is not being used.</p>\n\n<p>I suggest that you try the following, since the order of the parameters might be significant (I'll add some official evidence for this later):</p>\n\n<pre><code>java \"agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\" -jar Server.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10584244,"reputation":51,"user_id":7797110,"display_name":"Vidya Priyadarshini"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1493984005,"creation_date":1493974351,"answer_id":43800535,"question_id":40576115,"body_markdown":"This command worked for me:\r\n\r\n    java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 -jar Server.jar \r\n","title":"Unable to open debugger port through IntelliJ","body":"<p>This command worked for me:</p>\n\n<pre><code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 -jar Server.jar \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9831518,"reputation":418,"user_id":7283020,"display_name":"jacob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509569700,"creation_date":1509569700,"answer_id":47063522,"question_id":40576115,"body_markdown":"In my case it was because under settings -&gt; build, execution, deployment -&gt; debugger I had a built in server running on the same port as which I was trying to attach my debugger to for some reason.","title":"Unable to open debugger port through IntelliJ","body":"<p>In my case it was because under settings -> build, execution, deployment -> debugger I had a built in server running on the same port as which I was trying to attach my debugger to for some reason.</p>\n"},{"tags":[],"owner":{"account_id":14581211,"reputation":169,"user_id":10531586,"display_name":"suifengpiao14"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1644852523,"creation_date":1540003318,"answer_id":52901986,"question_id":40576115,"body_markdown":"this command worked for me:\r\n\r\n    export JAVA_OPTS=&#39;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:5005&#39;\r\n\r\nby default idea remote dialog suggest:\r\n\r\n    &#39;agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005&#39;\r\n\r\nchange it to:\r\n \r\n    &#39;agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:5005&#39;\r\n\r\nand issues port 5005.\r\n\r\n\r\n","title":"Unable to open debugger port through IntelliJ","body":"<p>this command worked for me:</p>\n<pre><code>export JAVA_OPTS='-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:5005'\n</code></pre>\n<p>by default idea remote dialog suggest:</p>\n<pre><code>'agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005'\n</code></pre>\n<p>change it to:</p>\n<pre><code>'agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:5005'\n</code></pre>\n<p>and issues port 5005.</p>\n"},{"tags":[],"owner":{"account_id":2451099,"reputation":911,"user_id":2137378,"display_name":"Amin Heydari Alashti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606122519,"creation_date":1606122519,"answer_id":64965420,"question_id":40576115,"body_markdown":"Thanks to suifengpiao14 but I&#39;m going to describe the problem a bit more in detail. \r\n\r\nI checked multiple things, and at the end found the reason: actually as like as a restful service we want to be accessible from out of the server we are running it that we should set 0.0.0.0 as the nameserver, here we should do a similar one. \r\nI checked the difference between the server from which I can remotely debug and the one which I can&#39;t. using *netstat* command: \r\n\r\nfor the server which I was ok with: \r\n\r\n    tcp        0      0 0.0.0.0:5005            0.0.0.0:*               LISTEN      8323/java\r\n\r\nfor the server which I had problem with: \r\n\r\n    tcp        0      0 127.0.0.1:5005            0.0.0.0:*               LISTEN      8323/java\r\n\r\nSo, using below jvm options should be helpful: \r\n\r\n    &#39;agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005&#39;\r\n    &#39;agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:5005&#39;","title":"Unable to open debugger port through IntelliJ","body":"<p>Thanks to suifengpiao14 but I'm going to describe the problem a bit more in detail.</p>\n<p>I checked multiple things, and at the end found the reason: actually as like as a restful service we want to be accessible from out of the server we are running it that we should set 0.0.0.0 as the nameserver, here we should do a similar one.\nI checked the difference between the server from which I can remotely debug and the one which I can't. using <em>netstat</em> command:</p>\n<p>for the server which I was ok with:</p>\n<pre><code>tcp        0      0 0.0.0.0:5005            0.0.0.0:*               LISTEN      8323/java\n</code></pre>\n<p>for the server which I had problem with:</p>\n<pre><code>tcp        0      0 127.0.0.1:5005            0.0.0.0:*               LISTEN      8323/java\n</code></pre>\n<p>So, using below jvm options should be helpful:</p>\n<pre><code>'agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005'\n'agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:5005'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7039683,"reputation":418,"user_id":5392548,"display_name":"luke8800gts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643816539,"creation_date":1643816539,"answer_id":70958526,"question_id":40576115,"body_markdown":"For people like me who sometimes forget to read...\r\n\r\n```Copy and paste the arguments to the command line when JVM is started```&lt;br&gt;\r\nsays the Run/Debug Configuration in IntelliJ, directly under:&lt;br&gt;\r\n```-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005```\r\n\r\n\r\n**Means:**\r\nCopy this line and go to your docker configuration. Add an environment variable (modify options dropdown). Paste it there with ```JAVA_OPTS=``` prepended.\r\n\r\nNow when you did every correctly, you will have &lt;br&gt;\r\n```Listening for transport dt_socket at address: 5005``` &lt;br&gt;\r\nand &lt;br&gt;\r\n ```Command line argument: -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005```\r\n\r\nThis is who I solved it...","title":"Unable to open debugger port through IntelliJ","body":"<p>For people like me who sometimes forget to read...</p>\n<p><code>Copy and paste the arguments to the command line when JVM is started</code><br>\nsays the Run/Debug Configuration in IntelliJ, directly under:<br>\n<code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005</code></p>\n<p><strong>Means:</strong>\nCopy this line and go to your docker configuration. Add an environment variable (modify options dropdown). Paste it there with <code>JAVA_OPTS=</code> prepended.</p>\n<p>Now when you did every correctly, you will have <br>\n<code>Listening for transport dt_socket at address: 5005</code> <br>\nand <br>\n<code>Command line argument: -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005</code></p>\n<p>This is who I solved it...</p>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647451231,"creation_date":1646684033,"answer_id":71386762,"question_id":40576115,"body_markdown":"I&#39;ve reproduced similar issue:\r\n\r\n    Unable to open debugger port (localhost:5005): java.net.ConnectException &quot;Connection refused (Connection refused)&quot; \r\n\r\nI had it while running debugger w/ command line arguments for remote `JVM` using `Run/Debug` configurations:\r\n\r\n    -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005\r\n\r\nby [attaching IDE][1] with exposed debug agent server.\r\n\r\nSince I&#39;ve used `Kubernetes` cluster, the **reason** was:\r\n\r\n[once the pod has been created and was running as expected][2], I needed to proceed to set up port forwarding with the `kubectl port-forward` command, with the port to expose locally for traffic from the application **before running debugger**.\r\n\r\nBased on [kubectl port-forward syntax][3]:\r\n\r\n    kubectl port-forward &lt;resource-type/resource-name&gt; [local_port]:&lt;pod_port&gt;\r\n\r\nIn [format][4] like:\r\n\r\n    kubectl port-forward &lt;pod-name&gt; -n &lt;namespace&gt; 5005:5005\r\n\r\nor in a shorter form:\r\n\r\n    kubectl port-forward &lt;pod-name&gt; 5005:5005\r\n\r\n&gt; The client listens on port 5000 locally and forwards to 5000 in the\r\n&gt; pod.\r\n\r\nAccordingly `entrypoint.sh` file of the service was configured w/ the following command for `Kubernetes` cluster:\r\n\r\n    java -Djava.security.egd.=file:/dev/./urandom -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -Xmx400m -jar /service.jar\r\n\r\nAs result, running `port-forward` before debugger solved the issue.\r\n\r\n\r\n  [1]: https://medium.com/ocp-digital-factory/enable-remote-debugging-spring-boot-apps-on-kubernetes-e300be064477\r\n  [2]: https://www.containiq.com/post/kubectl-port-forward\r\n  [3]: https://www.golinuxcloud.com/kubectl-port-forward/\r\n  [4]: https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands","title":"Unable to open debugger port through IntelliJ","body":"<p>I've reproduced similar issue:</p>\n<pre><code>Unable to open debugger port (localhost:5005): java.net.ConnectException &quot;Connection refused (Connection refused)&quot; \n</code></pre>\n<p>I had it while running debugger w/ command line arguments for remote <code>JVM</code> using <code>Run/Debug</code> configurations:</p>\n<pre><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005\n</code></pre>\n<p>by <a href=\"https://medium.com/ocp-digital-factory/enable-remote-debugging-spring-boot-apps-on-kubernetes-e300be064477\" rel=\"nofollow noreferrer\">attaching IDE</a> with exposed debug agent server.</p>\n<p>Since I've used <code>Kubernetes</code> cluster, the <strong>reason</strong> was:</p>\n<p><a href=\"https://www.containiq.com/post/kubectl-port-forward\" rel=\"nofollow noreferrer\">once the pod has been created and was running as expected</a>, I needed to proceed to set up port forwarding with the <code>kubectl port-forward</code> command, with the port to expose locally for traffic from the application <strong>before running debugger</strong>.</p>\n<p>Based on <a href=\"https://www.golinuxcloud.com/kubectl-port-forward/\" rel=\"nofollow noreferrer\">kubectl port-forward syntax</a>:</p>\n<pre><code>kubectl port-forward &lt;resource-type/resource-name&gt; [local_port]:&lt;pod_port&gt;\n</code></pre>\n<p>In <a href=\"https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands\" rel=\"nofollow noreferrer\">format</a> like:</p>\n<pre><code>kubectl port-forward &lt;pod-name&gt; -n &lt;namespace&gt; 5005:5005\n</code></pre>\n<p>or in a shorter form:</p>\n<pre><code>kubectl port-forward &lt;pod-name&gt; 5005:5005\n</code></pre>\n<blockquote>\n<p>The client listens on port 5000 locally and forwards to 5000 in the\npod.</p>\n</blockquote>\n<p>Accordingly <code>entrypoint.sh</code> file of the service was configured w/ the following command for <code>Kubernetes</code> cluster:</p>\n<pre><code>java -Djava.security.egd.=file:/dev/./urandom -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -Xmx400m -jar /service.jar\n</code></pre>\n<p>As result, running <code>port-forward</code> before debugger solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":26288231,"reputation":1,"user_id":19955579,"display_name":"swapnil sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663137929,"creation_date":1662706628,"answer_id":73658400,"question_id":40576115,"body_markdown":"One of the reason is that the port is not enabled. You can try by enabling the port using the below command\r\n\r\n    firewall-cmd --zone=public --permanent --add-port=8001/tcp\r\n\r\nOnce the port is up, restart tomcat &amp; try connecting again.\r\nHope it helps.\r\n","title":"Unable to open debugger port through IntelliJ","body":"<p>One of the reason is that the port is not enabled. You can try by enabling the port using the below command</p>\n<pre><code>firewall-cmd --zone=public --permanent --add-port=8001/tcp\n</code></pre>\n<p>Once the port is up, restart tomcat &amp; try connecting again.\nHope it helps.</p>\n"},{"tags":[],"owner":{"account_id":9518077,"reputation":3742,"user_id":8135721,"display_name":"Bawantha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674716912,"creation_date":1674716912,"answer_id":75243029,"question_id":40576115,"body_markdown":"This might help someone That port in JVM debug is not your web app port ","title":"Unable to open debugger port through IntelliJ","body":"<p>This might help someone That port in JVM debug is not your web app port</p>\n"},{"tags":[],"owner":{"account_id":17683470,"reputation":158,"user_id":12836822,"display_name":"Ashrik Ahamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682486827,"creation_date":1682486827,"answer_id":76107438,"question_id":40576115,"body_markdown":"When running debugger port in tomcat, you should start the tomcat server with this command:\r\n\r\n    catalina.bat jpda start\r\n\r\n","title":"Unable to open debugger port through IntelliJ","body":"<p>When running debugger port in tomcat, you should start the tomcat server with this command:</p>\n<pre><code>catalina.bat jpda start\n</code></pre>\n"},{"tags":[],"owner":{"account_id":332311,"reputation":3167,"user_id":657525,"display_name":"womd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693293514,"creation_date":1693293514,"answer_id":76998128,"question_id":40576115,"body_markdown":"this solved it for me:\r\n\r\n    net stop winnat\r\n    \r\n    net start winnat\r\n\r\nhttps://stackoverflow.com/questions/38986910/intellij-idea-address-localhost1099-is-already-in-use/73048297#73048297","title":"Unable to open debugger port through IntelliJ","body":"<p>this solved it for me:</p>\n<pre><code>net stop winnat\n\nnet start winnat\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/38986910/intellij-idea-address-localhost1099-is-already-in-use/73048297#73048297\">IntelliJ IDEA - Address localhost:1099 is already in use</a></p>\n"}],"owner":{"account_id":5765693,"reputation":499,"user_id":4550724,"accept_rate":75,"display_name":"Leonardo "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90324,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":40641628,"answer_count":11,"score":28,"last_activity_date":1699254799,"creation_date":1479054445,"question_id":40576115,"body_markdown":"I&#39;ve got a server running on DigitalOcean and a JAR file that I want to debug. I first start the JAR on the remote server using\r\n\r\n    java -jar Server.jar -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\r\n\r\nbut on the console I see no output like &quot;listening on port 5005...&quot;.\r\n\r\nWhen I press debug in IntelliJ it says\r\n\r\n\r\n&gt; unable to open debugger port (198.xxx.xxx.xx:5005):\r\n&gt; java.net.ConnectException &quot;Connection refused&quot;\r\n\r\nThis is my IntelliJ configuration:  \r\n[![enter image description here][1]][1]\r\n\r\nI also tried using `-Xdebug` but it still didn&#39;t work.\r\n\r\nIf I set `suspend=y` it should wait until a debugger is connected, but instead, it starts without problems.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NpWox.png","title":"Unable to open debugger port through IntelliJ","body":"<p>I've got a server running on DigitalOcean and a JAR file that I want to debug. I first start the JAR on the remote server using</p>\n\n<pre><code>java -jar Server.jar -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\n</code></pre>\n\n<p>but on the console I see no output like \"listening on port 5005...\".</p>\n\n<p>When I press debug in IntelliJ it says</p>\n\n<blockquote>\n  <p>unable to open debugger port (198.xxx.xxx.xx:5005):\n  java.net.ConnectException \"Connection refused\"</p>\n</blockquote>\n\n<p>This is my IntelliJ configuration:<br>\n<a href=\"https://i.stack.imgur.com/NpWox.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NpWox.png\" alt=\"enter image description here\"></a></p>\n\n<p>I also tried using <code>-Xdebug</code> but it still didn't work.</p>\n\n<p>If I set <code>suspend=y</code> it should wait until a debugger is connected, but instead, it starts without problems.</p>\n"},{"tags":["java","rocketmq"],"owner":{"account_id":22543404,"reputation":11,"user_id":21369220,"display_name":"EasonHu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699254106,"creation_date":1699254070,"question_id":77429261,"body_markdown":"When I follow the [Quick Start](https://rocketmq.apache.org/zh/docs/quickStart/01quickstart).\r\n\r\nThe server has been tested on port 8081, and gRPC has been used, and the service is up and running, but when I use Java&#39;s SDK to send/consume messages, the following error is reported\r\n```java\r\npublic static void sendMessage(String topic, String message) {\r\n        try {\r\n            ClientServiceProvider provider = ClientServiceProvider.loadService();\r\n            ClientConfiguration configuration = ClientConfiguration.newBuilder()\r\n                    .setEndpoints(&quot;ip:8081&quot;)\r\n                    .build();\r\n            Producer producer = provider.newProducerBuilder()\r\n                    .setClientConfiguration(configuration)\r\n                    .setTopics(topic)\r\n                    .build();\r\n            String tag = &quot;messageTag&quot;;\r\n            Message msg = provider.newMessageBuilder()\r\n                    .setTopic(topic)\r\n                    .setTag(tag)\r\n                    .setBody(message.getBytes(StandardCharsets.UTF_8))\r\n                    .build();\r\n            SendReceipt send = producer.send(msg);\r\n            log.info(&quot;Send message successfully, messageId={}&quot;, send.getMessageId());\r\n            producer.close();\r\n        } catch (Exception e) {\r\n            log.error(e.getMessage(), e);\r\n            throw new RuntimeException(e.getMessage());\r\n        }\r\n    }\r\n```\r\nthen\r\n```log\r\njava.lang.IllegalStateException: Expected the service ProducerImpl-0 [FAILED] to be RUNNING, but the service has FAILED\r\n\tat org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractService.checkCurrentState(AbstractService.java:381)\r\n\tat org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractService.awaitRunning(AbstractService.java:305)\r\n\tat org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractIdleService.awaitRunning(AbstractIdleService.java:165)\r\n\tat org.apache.rocketmq.client.java.impl.producer.ProducerBuilderImpl.build(ProducerBuilderImpl.java:93)\r\n\tat com.xmzn.common.mq.producer.SyncProducer.sendMessage(SyncProducer.java:30)\r\n\tat mq.RocketMQTest.testSendMessage(RocketMQTest.java:18)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\nCaused by: java.util.concurrent.CancellationException: Task was cancelled.\r\n\tat org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractFuture.cancellationExceptionWithCause(AbstractFuture.java:1543)\r\n\tat org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractFuture.getDoneValue(AbstractFuture.java:586)\r\n\tat org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:567)\r\n\tat org.apache.rocketmq.shaded.com.google.common.util.concurrent.FluentFuture$TrustedFuture.get(FluentFuture.java:91)\r\n\tat org.apache.rocketmq.client.java.impl.ClientImpl.startUp(ClientImpl.java:188)\r\n\tat org.apache.rocketmq.client.java.impl.producer.ProducerImpl.startUp(ProducerImpl.java:114)\r\n\tat org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractIdleService$DelegateService$1.run(AbstractIdleService.java:62)\r\n\tat org.apache.rocketmq.shaded.com.google.common.util.concurrent.Callables.lambda$threadRenaming$3(Callables.java:103)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n```\r\nI can&#39;t find any solution online including their official community and their official documentation is very poorly written, can anyone help me!","title":"RocketMQ V5.x Caused by: java.util.concurrent.CancellationException: Task was cancelled","body":"<p>When I follow the <a href=\"https://rocketmq.apache.org/zh/docs/quickStart/01quickstart\" rel=\"nofollow noreferrer\">Quick Start</a>.</p>\n<p>The server has been tested on port 8081, and gRPC has been used, and the service is up and running, but when I use Java's SDK to send/consume messages, the following error is reported</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void sendMessage(String topic, String message) {\n        try {\n            ClientServiceProvider provider = ClientServiceProvider.loadService();\n            ClientConfiguration configuration = ClientConfiguration.newBuilder()\n                    .setEndpoints(&quot;ip:8081&quot;)\n                    .build();\n            Producer producer = provider.newProducerBuilder()\n                    .setClientConfiguration(configuration)\n                    .setTopics(topic)\n                    .build();\n            String tag = &quot;messageTag&quot;;\n            Message msg = provider.newMessageBuilder()\n                    .setTopic(topic)\n                    .setTag(tag)\n                    .setBody(message.getBytes(StandardCharsets.UTF_8))\n                    .build();\n            SendReceipt send = producer.send(msg);\n            log.info(&quot;Send message successfully, messageId={}&quot;, send.getMessageId());\n            producer.close();\n        } catch (Exception e) {\n            log.error(e.getMessage(), e);\n            throw new RuntimeException(e.getMessage());\n        }\n    }\n</code></pre>\n<p>then</p>\n<pre><code>java.lang.IllegalStateException: Expected the service ProducerImpl-0 [FAILED] to be RUNNING, but the service has FAILED\n    at org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractService.checkCurrentState(AbstractService.java:381)\n    at org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractService.awaitRunning(AbstractService.java:305)\n    at org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractIdleService.awaitRunning(AbstractIdleService.java:165)\n    at org.apache.rocketmq.client.java.impl.producer.ProducerBuilderImpl.build(ProducerBuilderImpl.java:93)\n    at com.xmzn.common.mq.producer.SyncProducer.sendMessage(SyncProducer.java:30)\n    at mq.RocketMQTest.testSendMessage(RocketMQTest.java:18)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: java.util.concurrent.CancellationException: Task was cancelled.\n    at org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractFuture.cancellationExceptionWithCause(AbstractFuture.java:1543)\n    at org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractFuture.getDoneValue(AbstractFuture.java:586)\n    at org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:567)\n    at org.apache.rocketmq.shaded.com.google.common.util.concurrent.FluentFuture$TrustedFuture.get(FluentFuture.java:91)\n    at org.apache.rocketmq.client.java.impl.ClientImpl.startUp(ClientImpl.java:188)\n    at org.apache.rocketmq.client.java.impl.producer.ProducerImpl.startUp(ProducerImpl.java:114)\n    at org.apache.rocketmq.shaded.com.google.common.util.concurrent.AbstractIdleService$DelegateService$1.run(AbstractIdleService.java:62)\n    at org.apache.rocketmq.shaded.com.google.common.util.concurrent.Callables.lambda$threadRenaming$3(Callables.java:103)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\n</code></pre>\n<p>I can't find any solution online including their official community and their official documentation is very poorly written, can anyone help me!</p>\n"},{"tags":["java","jooq","upsert"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699253779,"creation_date":1699253779,"answer_id":77429240,"question_id":77425608,"body_markdown":"This article on [why you should use jOOQ with code generation][1] explains why you ran into this problem. In short, without primary/unique key meta data attached to your tables, jOOQ cannot emulate the MySQL `ON DUPLICATE KEY UPDATE` clause on your PostgreSQL dialect.\r\n\r\nBut then again, why even use that? You&#39;re using PostgreSQL, and jOOQ has native support for PostgreSQL&#39;s `ON CONFLICT` clause (or also `MERGE` for more complex cases), so use the native syntax, instead.\r\n\r\n\r\n  [1]: https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/","title":"How to Upsert records with jooq?","body":"<p>This article on <a href=\"https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\" rel=\"nofollow noreferrer\">why you should use jOOQ with code generation</a> explains why you ran into this problem. In short, without primary/unique key meta data attached to your tables, jOOQ cannot emulate the MySQL <code>ON DUPLICATE KEY UPDATE</code> clause on your PostgreSQL dialect.</p>\n<p>But then again, why even use that? You're using PostgreSQL, and jOOQ has native support for PostgreSQL's <code>ON CONFLICT</code> clause (or also <code>MERGE</code> for more complex cases), so use the native syntax, instead.</p>\n"}],"owner":{"account_id":29830374,"reputation":23,"user_id":22861172,"display_name":"kocakmo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77429240,"answer_count":1,"score":2,"last_activity_date":1699253779,"creation_date":1699181011,"question_id":77425608,"body_markdown":"I am trying to upsert the rows which I retrieved from one table of a database to the identical table in another database. Both databases are postgresql. \r\n\r\nI just want to retrieve whole columns of the rows of the table as records and simply upsert it to the table in another database. \r\n\r\n I have written the following code :\r\n\r\n  \r\n```\r\ntry {\r\n            String sourceDbUrl = &quot;jdbc:postgresql://localhost:5432/sourcedb&quot;;\r\n            String sourceDbUsername = &quot;postgres&quot;;\r\n            String sourceDbPassword = &quot;admin&quot;;\r\n            Connection sourceConnection = DriverManager.getConnection(sourceDbUrl, sourceDbUsername, sourceDbPassword);\r\n            Configuration sourceConfig = new DefaultConfiguration().set(sourceConnection).set(SQLDialect.POSTGRES);\r\n\r\n\r\n            String targetDbUrl = &quot;jdbc:postgresql://localhost:5432/targetdb&quot;;\r\n            String targetDbUsername = &quot;postgres&quot;;\r\n            String targetDbPassword = &quot;admin&quot;;\r\n            Connection targetConnection = DriverManager.getConnection(targetDbUrl, targetDbUsername, targetDbPassword);\r\n            Configuration targetConfig = new DefaultConfiguration().set(targetConnection).set(SQLDialect.POSTGRES);\r\n\r\n            String sourceSchema = &quot;public&quot;;\r\n            String targetSchema = &quot;public&quot;;\r\n\r\n            Table&lt;Record&gt; sourceTable = DSL.table(DSL.name(sourceSchema, &quot;mytable&quot;));\r\n            Table&lt;Record&gt; targetTable = DSL.table(DSL.name(targetSchema, &quot;mytable&quot;));\r\n            DSLContext sourceDslContext = DSL.using(sourceConfig);\r\n            DSLContext targetDslContext = DSL.using(targetConfig);\r\n            String customSelectQuery = &quot;SELECT * FROM &quot; + sourceSchema + &quot;.mytable&quot;;\r\n\r\n            Result&lt;Record&gt; records = sourceDslContext.fetch(customSelectQuery);\r\n            \r\n            for (Record record : records)\r\n                targetDslContext\r\n                        .insertInto(targetTable)\r\n                        .set(record)\r\n                        .onDuplicateKeyUpdate()\r\n                        .set(record)\r\n                        .execute();\r\n\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\n\r\nI can see that I retrieve the records successfully.\r\n\r\nHowever, somehow the record values are sent empty inside the upsert query created by jooq inside for loop and I got the following exception  :\r\n\r\n&gt; org.jooq.exception.DataAccessException: SQL [insert into &quot;public&quot;.&quot;mytable&quot; values () on conflict ([unknown primary key]) do update set [ no fields are updated ]]; ERROR: syntax error at or near &quot;)&quot;\r\n  Position: 40\r\n\tat org.jooq_3.16.1.POSTGRES.debug(Unknown Source)\r\n\tat org.jooq.impl.Tools.translate(Tools.java:3089)\r\n\tat org.jooq.impl.DefaultExecuteContext.sqlException(DefaultExecuteContext.java:670)\r\n\tat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:349)\r\n\tat org.jooq.impl.AbstractDelegatingQuery.execute(AbstractDelegatingQuery.java:115)\r\n\tat Main.main(Main.java:48)\r\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;)&quot;\r\n  Position: 40\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2552)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2284)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:322)\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.execute(PgPreparedStatement.java:153)\r\n\tat org.jooq.tools.jdbc.DefaultPreparedStatement.execute(DefaultPreparedStatement.java:219)\r\n\tat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:414)\r\n\tat org.jooq.impl.AbstractDMLQuery.execute(AbstractDMLQuery.java:961)\r\n\tat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:335)\r\n\t... 2 more\r\n\r\nI appreciate for your comments.\r\n\r\nThanks,","title":"How to Upsert records with jooq?","body":"<p>I am trying to upsert the rows which I retrieved from one table of a database to the identical table in another database. Both databases are postgresql.</p>\n<p>I just want to retrieve whole columns of the rows of the table as records and simply upsert it to the table in another database.</p>\n<p>I have written the following code :</p>\n<pre><code>try {\n            String sourceDbUrl = &quot;jdbc:postgresql://localhost:5432/sourcedb&quot;;\n            String sourceDbUsername = &quot;postgres&quot;;\n            String sourceDbPassword = &quot;admin&quot;;\n            Connection sourceConnection = DriverManager.getConnection(sourceDbUrl, sourceDbUsername, sourceDbPassword);\n            Configuration sourceConfig = new DefaultConfiguration().set(sourceConnection).set(SQLDialect.POSTGRES);\n\n\n            String targetDbUrl = &quot;jdbc:postgresql://localhost:5432/targetdb&quot;;\n            String targetDbUsername = &quot;postgres&quot;;\n            String targetDbPassword = &quot;admin&quot;;\n            Connection targetConnection = DriverManager.getConnection(targetDbUrl, targetDbUsername, targetDbPassword);\n            Configuration targetConfig = new DefaultConfiguration().set(targetConnection).set(SQLDialect.POSTGRES);\n\n            String sourceSchema = &quot;public&quot;;\n            String targetSchema = &quot;public&quot;;\n\n            Table&lt;Record&gt; sourceTable = DSL.table(DSL.name(sourceSchema, &quot;mytable&quot;));\n            Table&lt;Record&gt; targetTable = DSL.table(DSL.name(targetSchema, &quot;mytable&quot;));\n            DSLContext sourceDslContext = DSL.using(sourceConfig);\n            DSLContext targetDslContext = DSL.using(targetConfig);\n            String customSelectQuery = &quot;SELECT * FROM &quot; + sourceSchema + &quot;.mytable&quot;;\n\n            Result&lt;Record&gt; records = sourceDslContext.fetch(customSelectQuery);\n            \n            for (Record record : records)\n                targetDslContext\n                        .insertInto(targetTable)\n                        .set(record)\n                        .onDuplicateKeyUpdate()\n                        .set(record)\n                        .execute();\n\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>I can see that I retrieve the records successfully.</p>\n<p>However, somehow the record values are sent empty inside the upsert query created by jooq inside for loop and I got the following exception  :</p>\n<blockquote>\n<p>org.jooq.exception.DataAccessException: SQL [insert into &quot;public&quot;.&quot;mytable&quot; values () on conflict ([unknown primary key]) do update set [ no fields are updated ]]; ERROR: syntax error at or near &quot;)&quot;\nPosition: 40\nat org.jooq_3.16.1.POSTGRES.debug(Unknown Source)\nat org.jooq.impl.Tools.translate(Tools.java:3089)\nat org.jooq.impl.DefaultExecuteContext.sqlException(DefaultExecuteContext.java:670)\nat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:349)\nat org.jooq.impl.AbstractDelegatingQuery.execute(AbstractDelegatingQuery.java:115)\nat Main.main(Main.java:48)\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;)&quot;\nPosition: 40\nat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2552)\nat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2284)\nat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:322)\nat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)\nat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)\nat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)\nat org.postgresql.jdbc.PgPreparedStatement.execute(PgPreparedStatement.java:153)\nat org.jooq.tools.jdbc.DefaultPreparedStatement.execute(DefaultPreparedStatement.java:219)\nat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:414)\nat org.jooq.impl.AbstractDMLQuery.execute(AbstractDMLQuery.java:961)\nat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:335)\n... 2 more</p>\n</blockquote>\n<p>I appreciate for your comments.</p>\n<p>Thanks,</p>\n"},{"tags":["java","swt"],"comments":[{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1699255675,"post_id":77428893,"comment_id":136503710,"body_markdown":"Note: You should be using layouts rather than setSize on controls. Combos look very different on each platform, a size that looks right on Windows won&#39;t look right on Linux or macOS.","body":"Note: You should be using layouts rather than setSize on controls. Combos look very different on each platform, a size that looks right on Windows won&#39;t look right on Linux or macOS."},{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1699257215,"post_id":77428893,"comment_id":136503964,"body_markdown":"You can look at the `shortenText` methods in `org.eclipse.swt.custom.CTabFolderRenderer` and also `org.eclipse.ui.forms.widgets.Hyperlink`. Both these require a `GC` set with the correct font. The exact width of the Combo drop down may vary between platforms and isn&#39;t easy to obtain.","body":"You can look at the <code>shortenText</code> methods in <code>org.eclipse.swt.custom.CTabFolderRenderer</code> and also <code>org.eclipse.ui.forms.widgets.Hyperlink</code>. Both these require a <code>GC</code> set with the correct font. The exact width of the Combo drop down may vary between platforms and isn&#39;t easy to obtain."}],"owner":{"account_id":28805956,"reputation":9,"user_id":22061831,"display_name":"Satya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699253686,"creation_date":1699247910,"question_id":77428893,"body_markdown":"    private Combo createDropdown(Composite parent) {\r\n    \r\n    \t\tCombo dropdown = new Combo(parent, SWT.DROP_DOWN | SWT.READ_ONLY);\r\n    \t\tdropdown.setBackground(new Color(Display.getCurrent(), 106, 99, 95));\r\n    \t\tdropdown.setSize(20, 20);\r\n    \t\tthis.stylingEngine = PlatformUI.getWorkbench().getService(IStylingEngine.class);\r\n    \t\tstylingEngine.setClassname(dropdown, &quot;TenatDropDownCombo&quot;);\r\n    \r\n    \t\t\r\n    \t\tdropdown.setItems(dropDownItems);\r\n    \t\tSystem.out.println(&quot;outside loop :&quot; + availableTenantsNames);\r\n    \t\tdropdown.select(currentTenantIndex);\r\n    \r\n\r\n\r\n        \r\nI have written this code for creating a Combo dropdown, now I want to show the selected item with ellipsis if it is greater than the width of drop down.\r\n\r\nHow can I do the same?\r\n\r\nI tried finding width of combo box but was not able. Can you suggest some approach?","title":"How to add ellipsis for wider drop down items in Combo dropdown menu","body":"<pre><code>private Combo createDropdown(Composite parent) {\n\n        Combo dropdown = new Combo(parent, SWT.DROP_DOWN | SWT.READ_ONLY);\n        dropdown.setBackground(new Color(Display.getCurrent(), 106, 99, 95));\n        dropdown.setSize(20, 20);\n        this.stylingEngine = PlatformUI.getWorkbench().getService(IStylingEngine.class);\n        stylingEngine.setClassname(dropdown, &quot;TenatDropDownCombo&quot;);\n\n        \n        dropdown.setItems(dropDownItems);\n        System.out.println(&quot;outside loop :&quot; + availableTenantsNames);\n        dropdown.select(currentTenantIndex);\n\n\n\n    \n</code></pre>\n<p>I have written this code for creating a Combo dropdown, now I want to show the selected item with ellipsis if it is greater than the width of drop down.</p>\n<p>How can I do the same?</p>\n<p>I tried finding width of combo box but was not able. Can you suggest some approach?</p>\n"},{"tags":["java","amazon-web-services","aws-sdk","amazon-quicksight"],"comments":[{"owner":{"account_id":2123096,"reputation":566,"user_id":2470337,"display_name":"Dr_Zaszuś"},"score":0,"creation_date":1682439856,"post_id":68119231,"comment_id":134214654,"body_markdown":"could you share what you ended up doing? This problem is still unfixed.","body":"could you share what you ended up doing? This problem is still unfixed."}],"answers":[{"tags":[],"owner":{"account_id":27194742,"reputation":1,"user_id":20727830,"display_name":"Chiara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670535051,"creation_date":1670534576,"answer_id":74736474,"question_id":68119231,"body_markdown":"I know I&#39;m 18 months late, but I struggled with this as well and finally arrived at a solution. The Physical Table Mapping simply maps your columns for reading into QuickSight, but (unless your S3 source file is JSON), you&#39;ll need to create a LogicalTableMap to cast any columns to the desired data type. I used Java SDK V2, but V1 is very similar. \r\n\r\n    LogicalTableSource logicalTableSource = LogicalTableSource.builder().physicalTableId(&quot;PrimaryTable&quot;).build();\r\n    \r\n    ArrayList&lt;TransformOperation&gt; dataTransforms = dataTransforms();\r\n    \r\n    LogicalTable logicalTable = LogicalTable.builder().alias(&quot;LogicalTableAlias&quot;).dataTransforms(dataTransforms)\r\n    \t\t\t\t.source(logicalTableSource).build();\r\n    \t    \r\n    Map&lt;String, LogicalTable&gt; logicalTableMap = new HashMap&lt;String, LogicalTable&gt;();\r\n    \t\tlogicalTableMap.put(&quot;LogicalTableMap&quot;, logicalTable);\r\n\t\tCreateDataSetRequest createDataSetRequest = CreateDataSetRequest.builder()\r\n\t\t\t\t.awsAccountId(AwsAccountID)\r\n\t\t\t\t.dataSetId(dataSetId)\r\n\t\t\t\t.name(name)\r\n\t\t\t\t.physicalTableMap(physicalTableMap)\r\n\t\t\t\t.logicalTableMap(logicalTableMap)\r\n\t\t\t\t.permissions(permissions)\r\n\t\t\t\t.importMode(DataSetImportMode.SPICE)\r\n\t\t\t\t.build();\r\n\r\n\t\t// Create data set\r\n\t\tgetClient().createDataSet(createDataSetRequest);\r\n\r\n\r\nWith the dataTransforms() method being:\r\n\r\n    \tprivate static ArrayList&lt;TransformOperation&gt; dataTransforms() {\r\n\t\tArrayList&lt;TransformOperation&gt; dataTransforms = new ArrayList&lt;TransformOperation&gt;();\r\n\r\n\t\t// Cast &quot;Year&quot; column as INTEGER\r\n\t\tCastColumnTypeOperation castYear = CastColumnTypeOperation.builder()\r\n\t\t\t\t.columnName(&quot;Year&quot;).newColumnType(ColumnDataType.INTEGER).build();\r\n\t\tTransformOperation yearTransform = TransformOperation.builder()\r\n\t\t\t\t.castColumnTypeOperation(castYear).build();\r\n\t\tdataTransforms.add(yearTransform);\r\n    return dataTransforms;\r\n\t}\r\n    ","title":"Quicksight Input column types other than STRING invalid on dataset creation","body":"<p>I know I'm 18 months late, but I struggled with this as well and finally arrived at a solution. The Physical Table Mapping simply maps your columns for reading into QuickSight, but (unless your S3 source file is JSON), you'll need to create a LogicalTableMap to cast any columns to the desired data type. I used Java SDK V2, but V1 is very similar.</p>\n<pre><code>LogicalTableSource logicalTableSource = LogicalTableSource.builder().physicalTableId(&quot;PrimaryTable&quot;).build();\n\nArrayList&lt;TransformOperation&gt; dataTransforms = dataTransforms();\n\nLogicalTable logicalTable = LogicalTable.builder().alias(&quot;LogicalTableAlias&quot;).dataTransforms(dataTransforms)\n                .source(logicalTableSource).build();\n        \nMap&lt;String, LogicalTable&gt; logicalTableMap = new HashMap&lt;String, LogicalTable&gt;();\n        logicalTableMap.put(&quot;LogicalTableMap&quot;, logicalTable);\n    CreateDataSetRequest createDataSetRequest = CreateDataSetRequest.builder()\n            .awsAccountId(AwsAccountID)\n            .dataSetId(dataSetId)\n            .name(name)\n            .physicalTableMap(physicalTableMap)\n            .logicalTableMap(logicalTableMap)\n            .permissions(permissions)\n            .importMode(DataSetImportMode.SPICE)\n            .build();\n\n    // Create data set\n    getClient().createDataSet(createDataSetRequest);\n</code></pre>\n<p>With the dataTransforms() method being:</p>\n<pre><code>    private static ArrayList&lt;TransformOperation&gt; dataTransforms() {\n    ArrayList&lt;TransformOperation&gt; dataTransforms = new ArrayList&lt;TransformOperation&gt;();\n\n    // Cast &quot;Year&quot; column as INTEGER\n    CastColumnTypeOperation castYear = CastColumnTypeOperation.builder()\n            .columnName(&quot;Year&quot;).newColumnType(ColumnDataType.INTEGER).build();\n    TransformOperation yearTransform = TransformOperation.builder()\n            .castColumnTypeOperation(castYear).build();\n    dataTransforms.add(yearTransform);\nreturn dataTransforms;\n}\n</code></pre>\n"}],"owner":{"account_id":22021534,"reputation":31,"user_id":16290294,"display_name":"Nick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1055,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1699253363,"creation_date":1624550876,"question_id":68119231,"body_markdown":"When trying to automate dataset creation in Quicksight through importing a CSV from an S3 bucket, I get an error when trying to create a data set by calling the createDataSet() method from the Java API:\r\n\r\ncom.amazonaws.services.quicksight.model.InvalidParameterValueException: Input column Year in physical table PrimaryTable has invalid type. Allowed types for S3 physical table are [String] (Service: AmazonQuickSight; Status Code: 400; Error Code: InvalidParameterValueException; Request ID: 84d3da22-4e4e-45e0-8bbf-9d01975206b0; Proxy: null)\r\nThe relevant code is as follows, with the sixth inputColumns.add line causing the error:\r\n\r\n\r\n    inputColumns.add(new InputColumn().withName(&quot;Column 1&quot;).withType(InputColumnDataType.STRING));\r\n    inputColumns.add(new InputColumn().withName(&quot;Column 2&quot;).withType(InputColumnDataType.STRING));\r\n    inputColumns.add(new InputColumn().withName(&quot;Column 3&quot;).withType(InputColumnDataType.STRING));\r\n    inputColumns.add(new InputColumn().withName(&quot;Column 4&quot;).withType(InputColumnDataType.STRING));\r\n    inputColumns.add(new InputColumn().withName(&quot;Column 5&quot;).withType(InputColumnDataType.STRING));\r\n    inputColumns.add(new InputColumn().withName(&quot;Year&quot;).withType(InputColumnDataType.INTEGER)); //*hits the error on this line*\r\n    ... //more columns with types STRING, INTEGER, and DECIMAL\r\n    \r\n    s3source.setDataSourceArn(QS_BASE_ARN + &quot;datasource/&quot; + sourceName);\r\n    s3source.setInputColumns(inputColumns);\r\n    uploadSettings.setFormat(FileFormat.CSV.name());\r\n    uploadSettings.setContainsHeader(true);\r\n    uploadSettings.setDelimiter(&quot;,&quot;);\r\n    s3source.setUploadSettings(uploadSettings);\r\n    physicalTable.setS3Source(s3source);\r\n    Map&lt;String, PhysicalTable&gt; physicalTableMap = new HashMap&lt;String, PhysicalTable&gt;();\r\n    physicalTableMap.put(&quot;PrimaryTable&quot;, physicalTable);\r\n    newDataSet.withAwsAccountId(ACCOUNT_ID).withDataSetId(dataSetId).withName(dataSetName).withPhysicalTableMap(physicalTableMap).withImportMode(&quot;SPICE&quot;); //These are all the required parameters for the API request\r\n    permissions.add(new ResourcePermission().withPrincipal(QS_BASE_ARN + &quot;user/default/&quot; + username).withActions(&quot;quicksight:UpdateDataSetPermissions&quot;,&quot;quicksight:DescribeDataSet&quot;,&quot;quicksight:DescribeDataSetPermissions&quot;,&quot;quicksight:PassDataSet&quot;, &quot;quicksight:DescribeIngestion&quot;, &quot;quicksight:ListIngestions&quot;, &quot;quicksight:UpdateDataSet&quot;, &quot;quicksight:DeleteDataSet&quot;,&quot;quicksight:CreateIngestion&quot;,&quot;quicksight:CancelIngestion&quot;));\r\n    newDataSet.setPermissions(permissions);\r\n    try {\r\n       return getClient().createDataSet(newDataSet); //Creates SPICE dataset\r\n    } catch (SdkClientException e) {\r\n       throw e;\r\n    }\r\n\r\nWith the getClient() method being:\r\n\r\n    private static AmazonQuickSight getClient() {\r\n       final AWSCredentialsProvider credsProvider = new AWSCredentialsProvider() {\r\n       @Override\r\n       public AWSCredentials getCredentials() {\r\n          // provide actual IAM access key and secret key here\r\n          return new BasicAWSCredentials(ACCESS_KEY, SECRET_KEY);\r\n       }\r\n       @Override\r\n       public void refresh() {}\r\n       };\r\n       return AmazonQuickSightClientBuilder\r\n          .standard()\r\n          .withRegion(Regions.US_EAST_1.getName())\r\n          .withCredentials(credsProvider)\r\n          .build();\r\n    }\r\n\r\nThe API documentation says that STRING | INTEGER | DECIMAL | DATETIME | BIT | BOOLEAN | JSON are all accepted, however the error message and testing says that only STRING is accepted as a type (API documentation: [https://docs.aws.amazon.com/quicksight/latest/APIReference/API_InputColumn.html][1]).\r\n\r\nIs this error something caused by the API not accepting the data types it says it does or could it be caused by my setup?\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/quicksight/latest/APIReference/API_InputColumn.html","title":"Quicksight Input column types other than STRING invalid on dataset creation","body":"<p>When trying to automate dataset creation in Quicksight through importing a CSV from an S3 bucket, I get an error when trying to create a data set by calling the createDataSet() method from the Java API:</p>\n<p>com.amazonaws.services.quicksight.model.InvalidParameterValueException: Input column Year in physical table PrimaryTable has invalid type. Allowed types for S3 physical table are [String] (Service: AmazonQuickSight; Status Code: 400; Error Code: InvalidParameterValueException; Request ID: 84d3da22-4e4e-45e0-8bbf-9d01975206b0; Proxy: null)\nThe relevant code is as follows, with the sixth inputColumns.add line causing the error:</p>\n<pre><code>inputColumns.add(new InputColumn().withName(&quot;Column 1&quot;).withType(InputColumnDataType.STRING));\ninputColumns.add(new InputColumn().withName(&quot;Column 2&quot;).withType(InputColumnDataType.STRING));\ninputColumns.add(new InputColumn().withName(&quot;Column 3&quot;).withType(InputColumnDataType.STRING));\ninputColumns.add(new InputColumn().withName(&quot;Column 4&quot;).withType(InputColumnDataType.STRING));\ninputColumns.add(new InputColumn().withName(&quot;Column 5&quot;).withType(InputColumnDataType.STRING));\ninputColumns.add(new InputColumn().withName(&quot;Year&quot;).withType(InputColumnDataType.INTEGER)); //*hits the error on this line*\n... //more columns with types STRING, INTEGER, and DECIMAL\n\ns3source.setDataSourceArn(QS_BASE_ARN + &quot;datasource/&quot; + sourceName);\ns3source.setInputColumns(inputColumns);\nuploadSettings.setFormat(FileFormat.CSV.name());\nuploadSettings.setContainsHeader(true);\nuploadSettings.setDelimiter(&quot;,&quot;);\ns3source.setUploadSettings(uploadSettings);\nphysicalTable.setS3Source(s3source);\nMap&lt;String, PhysicalTable&gt; physicalTableMap = new HashMap&lt;String, PhysicalTable&gt;();\nphysicalTableMap.put(&quot;PrimaryTable&quot;, physicalTable);\nnewDataSet.withAwsAccountId(ACCOUNT_ID).withDataSetId(dataSetId).withName(dataSetName).withPhysicalTableMap(physicalTableMap).withImportMode(&quot;SPICE&quot;); //These are all the required parameters for the API request\npermissions.add(new ResourcePermission().withPrincipal(QS_BASE_ARN + &quot;user/default/&quot; + username).withActions(&quot;quicksight:UpdateDataSetPermissions&quot;,&quot;quicksight:DescribeDataSet&quot;,&quot;quicksight:DescribeDataSetPermissions&quot;,&quot;quicksight:PassDataSet&quot;, &quot;quicksight:DescribeIngestion&quot;, &quot;quicksight:ListIngestions&quot;, &quot;quicksight:UpdateDataSet&quot;, &quot;quicksight:DeleteDataSet&quot;,&quot;quicksight:CreateIngestion&quot;,&quot;quicksight:CancelIngestion&quot;));\nnewDataSet.setPermissions(permissions);\ntry {\n   return getClient().createDataSet(newDataSet); //Creates SPICE dataset\n} catch (SdkClientException e) {\n   throw e;\n}\n</code></pre>\n<p>With the getClient() method being:</p>\n<pre><code>private static AmazonQuickSight getClient() {\n   final AWSCredentialsProvider credsProvider = new AWSCredentialsProvider() {\n   @Override\n   public AWSCredentials getCredentials() {\n      // provide actual IAM access key and secret key here\n      return new BasicAWSCredentials(ACCESS_KEY, SECRET_KEY);\n   }\n   @Override\n   public void refresh() {}\n   };\n   return AmazonQuickSightClientBuilder\n      .standard()\n      .withRegion(Regions.US_EAST_1.getName())\n      .withCredentials(credsProvider)\n      .build();\n}\n</code></pre>\n<p>The API documentation says that STRING | INTEGER | DECIMAL | DATETIME | BIT | BOOLEAN | JSON are all accepted, however the error message and testing says that only STRING is accepted as a type (API documentation: <a href=\"https://docs.aws.amazon.com/quicksight/latest/APIReference/API_InputColumn.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/quicksight/latest/APIReference/API_InputColumn.html</a>).</p>\n<p>Is this error something caused by the API not accepting the data types it says it does or could it be caused by my setup?</p>\n"},{"tags":["java","multithreading","mutex"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1677248824,"post_id":75557703,"comment_id":133305878,"body_markdown":"Why would you have 2 locks like that in the last example?","body":"Why would you have 2 locks like that in the last example?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":5,"creation_date":1677248990,"post_id":75557703,"comment_id":133305926,"body_markdown":"As per [this article](https://neiljbrown.com/2022/07/23/preparing-for-java-virtual-threads/) &quot;*If the code that’s executing is short lived / runs fast, then this isn’t an issue – no changes to your code are needed*&quot;. So if you&#39;re just calling `size` on a (presumably non-thread-safe) Map, that&#39;s a constant-time, non-blocking operation anyway.","body":"As per <a href=\"https://neiljbrown.com/2022/07/23/preparing-for-java-virtual-threads/\" rel=\"nofollow noreferrer\">this article</a> &quot;<i>If the code that’s executing is short lived / runs fast, then this isn’t an issue – no changes to your code are needed</i>&quot;. So if you&#39;re just calling <code>size</code> on a (presumably non-thread-safe) Map, that&#39;s a constant-time, non-blocking operation anyway."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1677250562,"post_id":75557703,"comment_id":133306358,"body_markdown":"You need to **replace** the mutex (if you really need to), and not just **add** another form of mutual exclusion. And thread pinning with `synchronized` is largely a problem with blocking operations, so if there is no blocking operation, or not a heavily contended monitor, then **replacing** `synchronized` with `ReentrantLock` is unlikely to provide much benefit.","body":"You need to <b>replace</b> the mutex (if you really need to), and not just <b>add</b> another form of mutual exclusion. And thread pinning with <code>synchronized</code> is largely a problem with blocking operations, so if there is no blocking operation, or not a heavily contended monitor, then <b>replacing</b> <code>synchronized</code> with <code>ReentrantLock</code> is unlikely to provide much benefit."},{"owner":{"account_id":2124112,"reputation":908,"user_id":1886739,"accept_rate":95,"display_name":"ialexander"},"score":0,"creation_date":1677253502,"post_id":75557703,"comment_id":133307240,"body_markdown":"@Michael I missed that. Thanks. I thought all synchronized blocks should be replaced so this greatly reduced the scope!","body":"@Michael I missed that. Thanks. I thought all synchronized blocks should be replaced so this greatly reduced the scope!"},{"owner":{"account_id":2124112,"reputation":908,"user_id":1886739,"accept_rate":95,"display_name":"ialexander"},"score":1,"creation_date":1677253569,"post_id":75557703,"comment_id":133307261,"body_markdown":"@MarkRotteveel Much appreciated! I understand now that I can forgo the refactor for anything that&#39;s short lived and not blocking.","body":"@MarkRotteveel Much appreciated! I understand now that I can forgo the refactor for anything that&#39;s short lived and not blocking."}],"owner":{"account_id":2124112,"reputation":908,"user_id":1886739,"accept_rate":95,"display_name":"ialexander"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1699253280,"creation_date":1677248682,"question_id":75557703,"body_markdown":"To get the most benefit from the new [virtual threads][1] feature in Java 21+, it is suggested to replace `synchronized` blocks / functions with [reentrant locks][2].\r\n\r\nThis is easy in many cases:\r\n\r\n    public synchronized int size() {\r\n\t\treturn map.size();\r\n\t}\r\n\r\nCan be replaced with: \r\n    \r\n    private final ReentrantLock lock = new ReentrantLock();\r\n\r\n    public int size() {\r\n        lock.lock();\r\n        try {\r\n            return map.size();\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n\r\nWhat about a case where we pass a mutex in?\r\n\r\n    public int size() {\r\n\t\tsynchronized (mutex) {\r\n\t\t\treturn c.size();\r\n\t\t}\r\n\t}\r\n\r\nIn this case, can we wrap the whole synchronized block in a reentrant lock? Will the following pin the reentrant lock instead of the OS thread? If not, how do we best handle this situation?\r\n\r\n    private final Object mutex;\r\n    private final ReentrantLock lock = new ReentrantLock();\r\n\r\n    public MyClass(Object mutex) {\r\n        this.mutex = mutex;\r\n    }\r\n\r\n    public int size() {\r\n        lock.lock();\r\n        try {\r\n            synchronized (mutex) {\r\n                return c.size();\r\n            }\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://openjdk.org/jeps/444\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html","title":"How to replace a synchronized block that uses a mutex with a reentrantlock","body":"<p>To get the most benefit from the new <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">virtual threads</a> feature in Java 21+, it is suggested to replace <code>synchronized</code> blocks / functions with <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html\" rel=\"nofollow noreferrer\">reentrant locks</a>.</p>\n<p>This is easy in many cases:</p>\n<pre><code>public synchronized int size() {\n    return map.size();\n}\n</code></pre>\n<p>Can be replaced with:</p>\n<pre><code>private final ReentrantLock lock = new ReentrantLock();\n\npublic int size() {\n    lock.lock();\n    try {\n        return map.size();\n    } finally {\n        lock.unlock();\n    }\n}\n</code></pre>\n<p>What about a case where we pass a mutex in?</p>\n<pre><code>public int size() {\n    synchronized (mutex) {\n        return c.size();\n    }\n}\n</code></pre>\n<p>In this case, can we wrap the whole synchronized block in a reentrant lock? Will the following pin the reentrant lock instead of the OS thread? If not, how do we best handle this situation?</p>\n<pre><code>private final Object mutex;\nprivate final ReentrantLock lock = new ReentrantLock();\n\npublic MyClass(Object mutex) {\n    this.mutex = mutex;\n}\n\npublic int size() {\n    lock.lock();\n    try {\n        synchronized (mutex) {\n            return c.size();\n        }\n    } finally {\n        lock.unlock();\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","algorithm","arraylist","data-structures"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1474073937,"post_id":39541885,"comment_id":66397490,"body_markdown":"It&#39;s O(n) + O(n) which is O(2n), and you can drop the 2 (because it is constant relative to the input) and say it is O(n).","body":"It&#39;s O(n) + O(n) which is O(2n), and you can drop the 2 (because it is constant relative to the input) and say it is O(n)."},{"owner":{"account_id":1227430,"reputation":29840,"user_id":1192728,"accept_rate":100,"display_name":"hqt"},"score":1,"creation_date":1474077174,"post_id":39541885,"comment_id":66397975,"body_markdown":"@ElliottFrisch that&#39;s not true. inserting at last element of arraylist in java is not `O(n)`. Please see my answer.","body":"@ElliottFrisch that&#39;s not true. inserting at last element of arraylist in java is not <code>O(n)</code>. Please see my answer."},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1474103843,"post_id":39541885,"comment_id":66402758,"body_markdown":"@ElliottFrisch apparently others disagree with you.  Enough to downvote my answer, which is the same as yours.","body":"@ElliottFrisch apparently others disagree with you.  Enough to downvote my answer, which is the same as yours."},{"owner":{"account_id":113085,"reputation":18448,"user_id":298029,"display_name":"fgb"},"score":0,"creation_date":1474104330,"post_id":39541885,"comment_id":66402908,"body_markdown":"I don&#39;t get the disagreement. Aren&#39;t all the answers saying the same thing, that&#39;s it&#39;s O(n)? O(n) to get the items, and O(n) to add the new items.","body":"I don&#39;t get the disagreement. Aren&#39;t all the answers saying the same thing, that&#39;s it&#39;s O(n)? O(n) to get the items, and O(n) to add the new items."},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1474104766,"post_id":39541885,"comment_id":66403016,"body_markdown":"@fgb what appears to be happening is that hqt is inventing fictitious reasons due to which other answers are wrong, so as to proclaim his answer right.  And it appears that he has managed to fool some voters to that effect.","body":"@fgb what appears to be happening is that hqt is inventing fictitious reasons due to which other answers are wrong, so as to proclaim his answer right.  And it appears that he has managed to fool some voters to that effect."},{"owner":{"account_id":1227430,"reputation":29840,"user_id":1192728,"accept_rate":100,"display_name":"hqt"},"score":0,"creation_date":1474105288,"post_id":39541885,"comment_id":66403150,"body_markdown":"@fgb no. inserting at the end of the list is O(1), not O(N). and in case O(N), complexity should be O(N^2). Not O(N*2) as others said.","body":"@fgb no. inserting at the end of the list is O(1), not O(N). and in case O(N), complexity should be O(N^2). Not O(N*2) as others said."},{"owner":{"account_id":113085,"reputation":18448,"user_id":298029,"display_name":"fgb"},"score":0,"creation_date":1474106141,"post_id":39541885,"comment_id":66403383,"body_markdown":"@hqt No one&#39;s saying inserting at the end of a list is O(n). That&#39;s also why they&#39;re not calculating the total complexity as O(n^2). Inserting n items into a list is O(n), and reading n items from a list is O(n), as the question says. Both these are done, so the total complexity is the sum.","body":"@hqt No one&#39;s saying inserting at the end of a list is O(n). That&#39;s also why they&#39;re not calculating the total complexity as O(n^2). Inserting n items into a list is O(n), and reading n items from a list is O(n), as the question says. Both these are done, so the total complexity is the sum."},{"owner":{"account_id":1227430,"reputation":29840,"user_id":1192728,"accept_rate":100,"display_name":"hqt"},"score":0,"creation_date":1474106640,"post_id":39541885,"comment_id":66403532,"body_markdown":"@fgb understood. I&#39;m really sorry for my misunderstanding. :)","body":"@fgb understood. I&#39;m really sorry for my misunderstanding. :)"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1474126449,"post_id":39541885,"comment_id":66409264,"body_markdown":"@Mike My &quot;answer&quot; was a comment, but correct. O(1) called n times is O(n).","body":"@Mike My &quot;answer&quot; was a comment, but correct. O(1) called n times is O(n)."},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":1,"creation_date":1474219092,"post_id":39541885,"comment_id":66431557,"body_markdown":"@fgb, the disagreement is the lack of clarity and accuracy. There&#39;s *one* loop that makes this `O(n)`. After that you have a number (not 2) of constant time operations. They shouldn&#39;t be saying the way @Elliott did in the previous comments. It&#39;s incorrect and inaccurate to say `O(n) + O(n)` because the second complexity exists internal to the first (IOW, it&#39;s not addition but multiplication of constant terms); it&#39;s `cn = `O(n)`.","body":"@fgb, the disagreement is the lack of clarity and accuracy. There&#39;s <i>one</i> loop that makes this <code>O(n)</code>. After that you have a number (not 2) of constant time operations. They shouldn&#39;t be saying the way @Elliott did in the previous comments. It&#39;s incorrect and inaccurate to say <code>O(n) + O(n)</code> because the second complexity exists internal to the first (IOW, it&#39;s not addition but multiplication of constant terms); it&#39;s <code>cn = </code>O(n)`."},{"owner":{"account_id":113085,"reputation":18448,"user_id":298029,"display_name":"fgb"},"score":0,"creation_date":1474220877,"post_id":39541885,"comment_id":66432164,"body_markdown":"@ChiefTwoPencils That doesn&#39;t make any difference, `(c + d)n` is equal to `cn + dn`. You&#39;re reading too much into the form of the expression. It&#39;s only separated like that for convenience, and to match the complexities given in the question.","body":"@ChiefTwoPencils That doesn&#39;t make any difference, <code>(c + d)n</code> is equal to <code>cn + dn</code>. You&#39;re reading too much into the form of the expression. It&#39;s only separated like that for convenience, and to match the complexities given in the question."},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":1,"creation_date":1474221856,"post_id":39541885,"comment_id":66432500,"body_markdown":"@fgb, it&#39;s true they&#39;re equivalent if you wanted to extract the getting and adding out and match what OP did. But it&#39;s still incomplete. They&#39;re obviously &quot;Not too sure on this one&quot; so why not be exact or at least not incomplete with `O(n) + O(n)`? There&#39;s other time left out.","body":"@fgb, it&#39;s true they&#39;re equivalent if you wanted to extract the getting and adding out and match what OP did. But it&#39;s still incomplete. They&#39;re obviously &quot;Not too sure on this one&quot; so why not be exact or at least not incomplete with <code>O(n) + O(n)</code>? There&#39;s other time left out."}],"answers":[{"tags":[],"owner":{"account_id":2704768,"reputation":525,"user_id":5304035,"accept_rate":86,"display_name":"brijs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474078645,"creation_date":1474076426,"answer_id":39542096,"question_id":39541885,"body_markdown":"Big-O and similar notations are asymptotic bounds on time complexity. They discard the numeric coefficient and are used to estimate run-time as a function of size of input.\r\n\r\nSo, `2*n`, `3*n`,etc. are represented as `O(n)`, and `2*nlog(n)`, `3*nlog(n)`,etc. are represented as `O(nlog(n))`.\r\n\r\nSince the add() operation inserts only one element in this case, its runtime is approximately, `(some small constant)k*1`, giving the total runtime as `(some constant)j*(n+some constant(k))`, in other words `j*n`, or `O(n)`.\r\n\r\nIn this case and all such similar cases, any constant *k* multiplied by *n* would be represented as `O(n)` meaning the runtime varies linearly with size of the input ArrayList.","title":"time complexity for iterating through an array list","body":"<p>Big-O and similar notations are asymptotic bounds on time complexity. They discard the numeric coefficient and are used to estimate run-time as a function of size of input.</p>\n\n<p>So, <code>2*n</code>, <code>3*n</code>,etc. are represented as <code>O(n)</code>, and <code>2*nlog(n)</code>, <code>3*nlog(n)</code>,etc. are represented as <code>O(nlog(n))</code>.</p>\n\n<p>Since the add() operation inserts only one element in this case, its runtime is approximately, <code>(some small constant)k*1</code>, giving the total runtime as <code>(some constant)j*(n+some constant(k))</code>, in other words <code>j*n</code>, or <code>O(n)</code>.</p>\n\n<p>In this case and all such similar cases, any constant <em>k</em> multiplied by <em>n</em> would be represented as <code>O(n)</code> meaning the runtime varies linearly with size of the input ArrayList.</p>\n"},{"tags":[],"owner":{"account_id":1227430,"reputation":29840,"user_id":1192728,"accept_rate":100,"display_name":"hqt"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1589950416,"creation_date":1474077121,"answer_id":39542153,"question_id":39541885,"body_markdown":"\r\n1. Your first loop for iterating `items` list: complexity is `O(n)`\r\n2. Insert each item to end of list `lessItems`: in normal array it will be `O(n)` as others said. But Java implements for `ArrayList` using [amortized array][1]. This means when inserting at the end of array, algorithm only costs `Amortized O(1)`. Or you can say `O(1)`\r\n\r\nSo complexity of your code is: `O(n) * amortized O(1)`. In short is `O(n)` \r\n\r\nAnother reference:\r\n\r\n[dynamic array][2]\r\n\r\n**Additional note 1:**\r\n\r\nIf complexity of inserting at the end of array is `O(N)`, so the total complexity is `O(N^2)`, not O(2*N) as other answers said. Because the total complexity for inserting would be: `1 + 2 + 3 + ...+ n = n*(n+1)/2`\r\n\r\n**Addtional Note 2:**\r\n\r\nas [official document][3] states:\r\n\r\n&gt; The size, isEmpty, get, set, iterator, and listIterator operations run\r\n&gt; in constant time. **The add operation runs in amortized constant time**,\r\n&gt; that is, adding n elements requires O(n) time. All of the other\r\n&gt; operations run in linear time (roughly speaking). The constant factor\r\n&gt; is low compared to that for the LinkedList implementation.\r\n\r\n**Additional note 3:**\r\n\r\nHere is the logic of `grow` method that I have taken from official java source code:\r\n\r\n \r\n\r\n    private void ensureExplicitCapacity(int minCapacity) {\r\n            modCount++;\r\n    \r\n            // overflow-conscious code\r\n            if (minCapacity - elementData.length &gt; 0)\r\n                grow(minCapacity);\r\n        }\r\n\r\n    private void grow(int minCapacity) {\r\n            // overflow-conscious code\r\n            int oldCapacity = elementData.length;\r\n            int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\r\n            if (newCapacity - minCapacity &lt; 0)\r\n                newCapacity = minCapacity;\r\n            if (newCapacity - MAX_ARRAY_SIZE &gt; 0)\r\n                newCapacity = hugeCapacity(minCapacity);\r\n            // minCapacity is usually close to size, so this is a win:\r\n            elementData = Arrays.copyOf(elementData, newCapacity);\r\n        }\r\n\r\nAs the source code has said, when program add element that make size of array larger than current capacity, Array will be grown. new size of grown array will be:\r\n\r\n    int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\r\n\r\nThis is a trick that make inserting is `amortized O(1)`\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Amortized_analysis\r\n  [2]: https://stackoverflow.com/questions/4853979/amortized-time-of-dynamic-array\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\r\n","title":"time complexity for iterating through an array list","body":"<ol>\n<li>Your first loop for iterating <code>items</code> list: complexity is <code>O(n)</code></li>\n<li>Insert each item to end of list <code>lessItems</code>: in normal array it will be <code>O(n)</code> as others said. But Java implements for <code>ArrayList</code> using <a href=\"https://en.wikipedia.org/wiki/Amortized_analysis\" rel=\"nofollow noreferrer\">amortized array</a>. This means when inserting at the end of array, algorithm only costs <code>Amortized O(1)</code>. Or you can say <code>O(1)</code></li>\n</ol>\n\n<p>So complexity of your code is: <code>O(n) * amortized O(1)</code>. In short is <code>O(n)</code> </p>\n\n<p>Another reference:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4853979/amortized-time-of-dynamic-array\">dynamic array</a></p>\n\n<p><strong>Additional note 1:</strong></p>\n\n<p>If complexity of inserting at the end of array is <code>O(N)</code>, so the total complexity is <code>O(N^2)</code>, not O(2*N) as other answers said. Because the total complexity for inserting would be: <code>1 + 2 + 3 + ...+ n = n*(n+1)/2</code></p>\n\n<p><strong>Addtional Note 2:</strong></p>\n\n<p>as <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">official document</a> states:</p>\n\n<blockquote>\n  <p>The size, isEmpty, get, set, iterator, and listIterator operations run\n  in constant time. <strong>The add operation runs in amortized constant time</strong>,\n  that is, adding n elements requires O(n) time. All of the other\n  operations run in linear time (roughly speaking). The constant factor\n  is low compared to that for the LinkedList implementation.</p>\n</blockquote>\n\n<p><strong>Additional note 3:</strong></p>\n\n<p>Here is the logic of <code>grow</code> method that I have taken from official java source code:</p>\n\n<pre><code>private void ensureExplicitCapacity(int minCapacity) {\n        modCount++;\n\n        // overflow-conscious code\n        if (minCapacity - elementData.length &gt; 0)\n            grow(minCapacity);\n    }\n\nprivate void grow(int minCapacity) {\n        // overflow-conscious code\n        int oldCapacity = elementData.length;\n        int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\n        if (newCapacity - minCapacity &lt; 0)\n            newCapacity = minCapacity;\n        if (newCapacity - MAX_ARRAY_SIZE &gt; 0)\n            newCapacity = hugeCapacity(minCapacity);\n        // minCapacity is usually close to size, so this is a win:\n        elementData = Arrays.copyOf(elementData, newCapacity);\n    }\n</code></pre>\n\n<p>As the source code has said, when program add element that make size of array larger than current capacity, Array will be grown. new size of grown array will be:</p>\n\n<pre><code>int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\n</code></pre>\n\n<p>This is a trick that make inserting is <code>amortized O(1)</code></p>\n"},{"tags":[],"owner":{"account_id":317220,"reputation":4366,"user_id":1597771,"accept_rate":58,"display_name":"SpiXel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474106520,"creation_date":1474106520,"answer_id":39545477,"question_id":39541885,"body_markdown":"You are doing an iteration, and that&#39;s of O(n).\r\n\r\nYou&#39;re also adding items to an ArrayList, which is of O(1) ([Amortized][1])\r\n\r\nGetting an index is also O(1).\r\n\r\nSo your doing O(n) times, operations of O(1), which is going to be of **O(n)**.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Amortized_analysis","title":"time complexity for iterating through an array list","body":"<p>You are doing an iteration, and that's of O(n).</p>\n\n<p>You're also adding items to an ArrayList, which is of O(1) (<a href=\"https://en.wikipedia.org/wiki/Amortized_analysis\" rel=\"nofollow\">Amortized</a>)</p>\n\n<p>Getting an index is also O(1).</p>\n\n<p>So your doing O(n) times, operations of O(1), which is going to be of <strong>O(n)</strong>.</p>\n"},{"tags":[],"owner":{"account_id":18242898,"reputation":1,"user_id":13279613,"display_name":"Vijai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589952492,"creation_date":1589952492,"answer_id":61905734,"question_id":39541885,"body_markdown":"For iterating through the array list, the time complexity will be O(n). n will be the size of the list.\r\n\r\nfor getting the value using get(), it will be O(1), random access is possible in array list using index. \r\n\r\nAnd for adding the values using add(), the value is getting added at the last, so it will be O(1).\r\n\r\nThe time complexity of this operation will be O(n).\r\n","title":"time complexity for iterating through an array list","body":"<p>For iterating through the array list, the time complexity will be O(n). n will be the size of the list.</p>\n\n<p>for getting the value using get(), it will be O(1), random access is possible in array list using index. </p>\n\n<p>And for adding the values using add(), the value is getting added at the last, so it will be O(1).</p>\n\n<p>The time complexity of this operation will be O(n).</p>\n"}],"owner":{"account_id":8213218,"reputation":91,"user_id":6180549,"accept_rate":0,"display_name":"Chicken Crimpy"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15484,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1699253116,"creation_date":1474073826,"question_id":39541885,"body_markdown":"I have an array list which I iterate through. In each iteration I call `get()` to get one element, and if that item passes some condition, it is added to a new array list using `add()`\r\n\r\n    List&lt;Item&gt; items = new ArrayList&lt;Item&gt;();\r\n\tList&lt;Item&gt; lessItems = new ArrayList&lt;Item&gt;();\r\n\tfor(int index = 0; index &lt; items.size(); index++){\r\n\t\tItem toCheck = items.get(i);\r\n\t\tif(toCheck meets some condition){\r\n\t\t\tlessItems.add(toCheck);\r\n\t\t}\r\n\t}\r\n\r\nI am not sure what the time complexity is here. I am calling get() on all items so that is O(n). Then I am also calling add() on potentially all the items so there&#39;s another O(n). Not too sure on this one. ","title":"time complexity for iterating through an array list","body":"<p>I have an array list which I iterate through. In each iteration I call <code>get()</code> to get one element, and if that item passes some condition, it is added to a new array list using <code>add()</code></p>\n\n<pre><code>List&lt;Item&gt; items = new ArrayList&lt;Item&gt;();\nList&lt;Item&gt; lessItems = new ArrayList&lt;Item&gt;();\nfor(int index = 0; index &lt; items.size(); index++){\n    Item toCheck = items.get(i);\n    if(toCheck meets some condition){\n        lessItems.add(toCheck);\n    }\n}\n</code></pre>\n\n<p>I am not sure what the time complexity is here. I am calling get() on all items so that is O(n). Then I am also calling add() on potentially all the items so there's another O(n). Not too sure on this one. </p>\n"},{"tags":["java","resource-id","openpages"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699268012,"post_id":77429174,"comment_id":136505746,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29835465,"reputation":1,"user_id":22864906,"display_name":"Sowmya Reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699252935,"creation_date":1699252935,"question_id":77429174,"body_markdown":"On entry of 4digit number it should check whether that resource Id is present in openpages or not.if not present then throw error.\r\n\r\nI tried using api.get ResourceId(name) but eclipse was not supporting api.auggeat alternative method.","title":"Want to check any entered 4digit resource id is present in openpages or not using java","body":"<p>On entry of 4digit number it should check whether that resource Id is present in openpages or not.if not present then throw error.</p>\n<p>I tried using api.get ResourceId(name) but eclipse was not supporting api.auggeat alternative method.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jackson"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673884882,"post_id":75136627,"comment_id":132591469,"body_markdown":"`@JsonProperty(value = &quot;UUID&quot;)` -&gt; `Defines name of the logical property, i.e. JSON object fieldname to use for the property. If value is empty String (which is thedefault), will try to use name of the field that is annotated.Note that there is no default name available for constructor arguments,meaning that Empty String is not a valid value for constructor arguments.`","body":"<code>@JsonProperty(value = &quot;UUID&quot;)</code> -&gt; <code>Defines name of the logical property, i.e. JSON object fieldname to use for the property. If value is empty String (which is thedefault), will try to use name of the field that is annotated.Note that there is no default name available for constructor arguments,meaning that Empty String is not a valid value for constructor arguments.</code>"},{"owner":{"account_id":86444,"reputation":3523,"user_id":240385,"accept_rate":75,"display_name":"jason"},"score":1,"creation_date":1673885565,"post_id":75136627,"comment_id":132591716,"body_markdown":"Thanks!  I will try that!  if you add this as an answer, I will upvote.","body":"Thanks!  I will try that!  if you add this as an answer, I will upvote."}],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673896576,"creation_date":1673896576,"answer_id":75138747,"question_id":75136627,"body_markdown":"In Jackson with `@JsonProperty` you can customize the field name with it&#39;s annotation parameter `value`\r\n\r\n\r\nTherefore, you just have to annotate the entity fields with the `@JsonProperty` annotation and provide a custom JSON property name, like this:\r\n\r\n    public class MyClass{ \r\n        @JsonProperty(&quot;original_field_name_in_json&quot;) \r\n        private UUID id;\r\n    ...\r\n\r\n","title":"Spring Boot parse JSON data to Java Class with different field names","body":"<p>In Jackson with <code>@JsonProperty</code> you can customize the field name with it's annotation parameter <code>value</code></p>\n<p>Therefore, you just have to annotate the entity fields with the <code>@JsonProperty</code> annotation and provide a custom JSON property name, like this:</p>\n<pre><code>public class MyClass{ \n    @JsonProperty(&quot;original_field_name_in_json&quot;) \n    private UUID id;\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12473930,"reputation":338,"user_id":15491774,"display_name":"stylepatrick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673899864,"creation_date":1673899816,"answer_id":75139221,"question_id":75136627,"body_markdown":"The @JsonProperty will do it for you:\r\n\r\n```\r\n@JsonProperty(&quot;name_in_json&quot;) \r\nprivate Long value;\r\n```","title":"Spring Boot parse JSON data to Java Class with different field names","body":"<p>The @JsonProperty will do it for you:</p>\n<pre><code>@JsonProperty(&quot;name_in_json&quot;) \nprivate Long value;\n</code></pre>\n"}],"owner":{"account_id":86444,"reputation":3523,"user_id":240385,"accept_rate":75,"display_name":"jason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3785,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75138747,"answer_count":2,"score":2,"last_activity_date":1699252825,"creation_date":1673884275,"question_id":75136627,"body_markdown":"I am new to Spring Boot and I am trying to figure out how to parse json data.  I see a lot of tutorials on how to map json string object to an annotated Java class and using and object mapper, like this:\r\n\r\n   **json:**  \r\n\r\n    {\r\n        &quot;UUID&quot;: &quot;xyz&quot;,\r\n        &quot;name&quot;: &quot;some name&quot;\r\n    }\r\n\r\n    public class MyClass{ \r\n        @JsonProperty \r\n        private UUID id;\r\n        @JsonProperty\r\n        private String name;\r\n    \r\n        @JsonAnyGetter\r\n        public UUID getId() {\r\n            return this.id;\r\n        }\r\n        @JsonAnySetter\r\n        public void setId(UUID id) {\r\n            this.id = id;\r\n        }\r\n        @JsonAnyGetter\r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n        @JsonAnySetter\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }   \r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    MyClass customer = objectMapper.readValue(jsonString, MyClass.class);\r\n\r\nThe problem is that the system I am getting the json string from does not match the class naming conventions we use (and I cannot change either one).  So, instead of having the example json string above, it might look like this:\r\n\r\n     {\r\n        &quot;randomdstring-fieldId&quot;: &quot;xyz&quot;,\r\n        &quot;anotherrandomstring-name&quot;: &quot;some name&quot;\r\n    }  \r\n\r\nThis use case only has two fields, but my use case has a larger payload.  Is there a way to either map the field names from the json object to the field names in the Java class or is there a way to just parse the json string as a key value pair (so that I can just manually add the fields to my Java object)?","title":"Spring Boot parse JSON data to Java Class with different field names","body":"<p>I am new to Spring Boot and I am trying to figure out how to parse json data.  I see a lot of tutorials on how to map json string object to an annotated Java class and using and object mapper, like this:</p>\n<p><strong>json:</strong></p>\n<pre><code>{\n    &quot;UUID&quot;: &quot;xyz&quot;,\n    &quot;name&quot;: &quot;some name&quot;\n}\n\npublic class MyClass{ \n    @JsonProperty \n    private UUID id;\n    @JsonProperty\n    private String name;\n\n    @JsonAnyGetter\n    public UUID getId() {\n        return this.id;\n    }\n    @JsonAnySetter\n    public void setId(UUID id) {\n        this.id = id;\n    }\n    @JsonAnyGetter\n    public String getName() {\n        return this.name;\n    }\n    @JsonAnySetter\n    public void setName(String name) {\n        this.name = name;\n    }\n}   \n\nObjectMapper objectMapper = new ObjectMapper();\nMyClass customer = objectMapper.readValue(jsonString, MyClass.class);\n</code></pre>\n<p>The problem is that the system I am getting the json string from does not match the class naming conventions we use (and I cannot change either one).  So, instead of having the example json string above, it might look like this:</p>\n<pre><code> {\n    &quot;randomdstring-fieldId&quot;: &quot;xyz&quot;,\n    &quot;anotherrandomstring-name&quot;: &quot;some name&quot;\n}  \n</code></pre>\n<p>This use case only has two fields, but my use case has a larger payload.  Is there a way to either map the field names from the json object to the field names in the Java class or is there a way to just parse the json string as a key value pair (so that I can just manually add the fields to my Java object)?</p>\n"},{"tags":["java","selenium-webdriver","automation"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1697666589,"post_id":77319545,"comment_id":136310249,"body_markdown":"One approach is to use an element attribute, such as `test-id`, with a deterministic naming convention that can be used by the app and automation tests, e.g., `&lt;input ... test-id=&quot;people[0].firstName&quot; /&gt;`.","body":"One approach is to use an element attribute, such as <code>test-id</code>, with a deterministic naming convention that can be used by the app and automation tests, e.g., <code>&lt;input ... test-id=&quot;people[0].firstName&quot; &#47;&gt;</code>."},{"owner":{"account_id":13688997,"reputation":658,"user_id":9877340,"display_name":"kenneth"},"score":0,"creation_date":1697705500,"post_id":77319545,"comment_id":136314321,"body_markdown":"Please share snippets of HTML so I can look at certain solutions - also include parents and ancestors.","body":"Please share snippets of HTML so I can look at certain solutions - also include parents and ancestors."}],"owner":{"account_id":29137371,"reputation":5,"user_id":22321226,"display_name":"user22321226"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699252737,"creation_date":1697662452,"question_id":77319545,"body_markdown":"In our Regression Suite At many places Xpath and CSS used. And Developers changing Class and many HTML elements frequently. So We need to fix XPATH or CSS Selectors every time.\r\n\r\nWhat could be the solution?\r\n\r\nWe tried creating dynamic xpath but still after sometime we have to change that as well.","title":"What we can use in selenium to locate dynamic elements?","body":"<p>In our Regression Suite At many places Xpath and CSS used. And Developers changing Class and many HTML elements frequently. So We need to fix XPATH or CSS Selectors every time.</p>\n<p>What could be the solution?</p>\n<p>We tried creating dynamic xpath but still after sometime we have to change that as well.</p>\n"},{"tags":["java","selenium-webdriver","automation","automated-tests","testng"],"answers":[{"tags":[],"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699251818,"creation_date":1699251818,"answer_id":77429102,"question_id":77350807,"body_markdown":"TestNG reports are generated in the reporting phase. \r\nAll the TestNG annotations are processed during the execution phase and so all the methods that are annotated with configuration annnotations such as `@AfterSuite` (or) `@AfterTest` get executed during the execution phase.\r\n\r\nThat explains why you see the exception.\r\n\r\nIf you would like to access the artifacts that were generated during the reporting phase, you could build an implementation of the TestNG listener interface `org.testng.IExecutionListener` which will be invoked by TestNG after the reporting phase, but just before TestNG exits.\r\n\r\nBut you would need to make proper assumptions in terms of where the report files are going to be generated because this interface methods namely `onExecutionStart()` and `onExecutionFinish()` are parameterless and so wouldn&#39;t know where the reports would be available at.","title":"Emailable-report.html is not found when I run my test with mvn clean then mvn test","body":"<p>TestNG reports are generated in the reporting phase.\nAll the TestNG annotations are processed during the execution phase and so all the methods that are annotated with configuration annnotations such as <code>@AfterSuite</code> (or) <code>@AfterTest</code> get executed during the execution phase.</p>\n<p>That explains why you see the exception.</p>\n<p>If you would like to access the artifacts that were generated during the reporting phase, you could build an implementation of the TestNG listener interface <code>org.testng.IExecutionListener</code> which will be invoked by TestNG after the reporting phase, but just before TestNG exits.</p>\n<p>But you would need to make proper assumptions in terms of where the report files are going to be generated because this interface methods namely <code>onExecutionStart()</code> and <code>onExecutionFinish()</code> are parameterless and so wouldn't know where the reports would be available at.</p>\n"}],"owner":{"account_id":5717843,"reputation":99,"user_id":4517399,"accept_rate":89,"display_name":"Ahmed Selim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699251818,"creation_date":1698138662,"question_id":77350807,"body_markdown":"I&#39;m using maven with testNG, but when I use &quot;mvn clean&quot;, it cleans the target folder, then I use &quot;mvn test&quot; to run my test cases and send email with the result I got error &quot;java.io.FileNotFoundException&quot; as the report is generated after everything is done. \r\nI used SuiteListener and ListenerTest and also tried to send the email from AfterSuite and AfterClass but I got the same error because the report is being generated after all the annotations and listeners are done.","title":"Emailable-report.html is not found when I run my test with mvn clean then mvn test","body":"<p>I'm using maven with testNG, but when I use &quot;mvn clean&quot;, it cleans the target folder, then I use &quot;mvn test&quot; to run my test cases and send email with the result I got error &quot;java.io.FileNotFoundException&quot; as the report is generated after everything is done.\nI used SuiteListener and ListenerTest and also tried to send the email from AfterSuite and AfterClass but I got the same error because the report is being generated after all the annotations and listeners are done.</p>\n"},{"tags":["java","bouncycastle","java-11","fips"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1699254895,"post_id":77429085,"comment_id":136503619,"body_markdown":"Maybe this will help? [signed modular JAR with crypto provider cannot be linked into run-time image](https://stackoverflow.com/questions/50597926/signed-modular-jar-with-crypto-provider-cannot-be-linked-into-run-time-image)","body":"Maybe this will help? <a href=\"https://stackoverflow.com/questions/50597926/signed-modular-jar-with-crypto-provider-cannot-be-linked-into-run-time-image\">signed modular JAR with crypto provider cannot be linked into run-time image</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699259841,"post_id":77429085,"comment_id":136504328,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":10367005,"reputation":1,"user_id":7645769,"display_name":"Md Rehman"},"score":0,"creation_date":1699341647,"post_id":77429085,"comment_id":136516115,"body_markdown":"I got a response from bouncy castle folks and seems like this is expected.","body":"I got a response from bouncy castle folks and seems like this is expected."}],"owner":{"account_id":10367005,"reputation":1,"user_id":7645769,"display_name":"Md Rehman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699251447,"creation_date":1699251447,"question_id":77429085,"body_markdown":"Trying to list the bcfips provider getting \r\n```   ProviderConfig: Encountered java.util.ServiceConfigurationError: java.security.Provider: Provider      org.bouncycastle.jcajce   .provider.BouncyCastleFipsProvider could not be instantiated while iterating through SL, ignore and move on\r\n    java.util.ServiceConfigurationError: java.security.Provider: Provider org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider could not be instantiated\r\n        at java.base/java.util.ServiceLoader.fail(Unknown Source)\r\n        at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(Unknown Source)\r\n        at java.base/java.util.ServiceLoader$ProviderImpl.get(Unknown Source)\r\n        at java.base/java.util.ServiceLoader$3.next(Unknown Source)\r\n        at java.base/sun.security.jca.ProviderConfig$ProviderLoader.load(Unknown Source)\r\n        at java.base/sun.security.jca.ProviderConfig$3.run(Unknown Source)\r\n        at java.base/sun.security.jca.ProviderConfig$3.run(Unknown Source)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.base/sun.security.jca.ProviderConfig.doLoadProvider(Unknown Source)\r\n        at java.base/sun.security.jca.ProviderConfig.getProvider(Unknown Source)\r\n        at java.base/sun.security.jca.ProviderList.loadAll(Unknown Source)\r\n        at java.base/sun.security.jca.ProviderList.removeInvalid(Unknown Source)\r\n        at java.base/sun.security.jca.Providers.getFullProviderList(Unknown Source)\r\n        at java.base/java.security.Security.getProviders(Unknown Source)\r\n        at ListSecurityProviders.main(ListSecurityProviders.java:6)\r\n    Caused by: org.bouncycastle.crypto.fips.FipsOperationError: Module checksum failed: unable to calculate\r\n        at org.bouncycastle.fips.core/org.bouncycastle.crypto.fips.FipsStatus.checksumValidate(Unknown Source)\r\n        at org.bouncycastle.fips.core/org.bouncycastle.crypto.fips.FipsStatus.isReady(Unknown Source)\r\n        at org.bouncycastle.fips.core/org.bouncycastle.crypto.CryptoServicesRegistrar.getDefaultMode(Unknown Source)\r\n        at org.bouncycastle.fips.core/org.bouncycastle.crypto.CryptoServicesRegistrar.&lt;clinit&gt;(Unknown Source)\r\n        at org.bouncycastle.fips.core/org.bouncycastle.jcajce.provider.ProvSecureHash$MD5.configure(Unknown Source)\r\n        at org.bouncycastle.fips.core/org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider.&lt;init&gt;(Unknown Source)\r\n        at org.bouncycastle.fips.core/org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider.&lt;init&gt;(Unknown Source)\r\n        at org.bouncycastle.fips.core/org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider.&lt;init&gt;(Unknown Source)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n        ... 14 more\r\n    scl:  getPermissions ProtectionDomain  (jrt:/java.security.jgss &lt;no signer certificates&gt;)\r\n    jdk.internal.loader.ClassLoaders$PlatformClassLoader@7f13d6e\r\n    &lt;no principals&gt;\r\n    java.security.Permissions@51cdd8a (\r\n    (&quot;java.lang.RuntimePermission&quot; &quot;accessSystemModules&quot;))\r\n```\r\n\r\n \r\nFollowed the steps provided in the answer for same question asked [earlier](https://stackoverflow.com/questions/57717503/globally-register-bouncycastle-security-provider-in-jdk-11).\r\n\r\nCreated jre using below command\r\n\r\n```   \r\n./jlink --no-header-files --no-man-pages --compress=2 --strip-debug --module-path /root/bcjars/ --add-modules java.se,jdk    .unsupported,org.bouncycastle.fips.core --output /tmp/bcjdk/ --ignore-signing-information\r\n```\r\njre created with below warning.\r\n\r\n\r\n``` WARNING: signed modular JAR /root/bcjars/bc-fips-1.0.2.4.jar is currently not supported ```\r\n\r\nAfter creating the jre, i can see the module in the --list-modules commnd.\r\n \r\n```\r\n   xx-xxx-xxxx:/tmp/bcjdk/bin # ./java --list-modules\r\n    java.base@11.0.20\r\n    java.compiler@11.0.20\r\n    java.datatransfer@11.0.20\r\n    java.desktop@11.0.20\r\n    java.instrument@11.0.20\r\n    java.logging@11.0.20\r\n    java.management@11.0.20\r\n    java.management.rmi@11.0.20\r\n    java.naming@11.0.20\r\n    java.net.http@11.0.20\r\n    java.prefs@11.0.20\r\n    java.rmi@11.0.20\r\n    java.scripting@11.0.20\r\n    java.se@11.0.20\r\n    java.security.jgss@11.0.20\r\n    java.security.sasl@11.0.20\r\n    java.sql@11.0.20\r\n    java.sql.rowset@11.0.20\r\n    java.transaction.xa@11.0.20\r\n    java.xml@11.0.20\r\n    java.xml.crypto@11.0.20\r\n    jdk.unsupported@11.0.20\r\n    org.bouncycastle.fips.core\r\n``` \r\n\r\nProgram i ran to list the providers.\r\n\r\n``` \r\n  import java.security.Provider;\r\n    import java.security.Security;\r\n    \r\n    public class ListSecurityProviders {\r\n        public static void main(String[] args) {\r\n            Provider[] providers = Security.getProviders();\r\n    \r\n            for (Provider provider : providers) {\r\n                System.out.println(&quot;Provider: &quot; + provider.getName());\r\n               for (Provider.Service service : provider.getServices()) {\r\n                   System.out.println(&quot;  Algorithm: &quot; + service.getAlgorithm());\r\n               }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nFrom the error it looks like it is failing due no signing information but jlink cannot create jre with signing information. \r\n","title":"FIPS mode in java11","body":"<p>Trying to list the bcfips provider getting</p>\n<pre><code>    java.util.ServiceConfigurationError: java.security.Provider: Provider org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider could not be instantiated\n        at java.base/java.util.ServiceLoader.fail(Unknown Source)\n        at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(Unknown Source)\n        at java.base/java.util.ServiceLoader$ProviderImpl.get(Unknown Source)\n        at java.base/java.util.ServiceLoader$3.next(Unknown Source)\n        at java.base/sun.security.jca.ProviderConfig$ProviderLoader.load(Unknown Source)\n        at java.base/sun.security.jca.ProviderConfig$3.run(Unknown Source)\n        at java.base/sun.security.jca.ProviderConfig$3.run(Unknown Source)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.base/sun.security.jca.ProviderConfig.doLoadProvider(Unknown Source)\n        at java.base/sun.security.jca.ProviderConfig.getProvider(Unknown Source)\n        at java.base/sun.security.jca.ProviderList.loadAll(Unknown Source)\n        at java.base/sun.security.jca.ProviderList.removeInvalid(Unknown Source)\n        at java.base/sun.security.jca.Providers.getFullProviderList(Unknown Source)\n        at java.base/java.security.Security.getProviders(Unknown Source)\n        at ListSecurityProviders.main(ListSecurityProviders.java:6)\n    Caused by: org.bouncycastle.crypto.fips.FipsOperationError: Module checksum failed: unable to calculate\n        at org.bouncycastle.fips.core/org.bouncycastle.crypto.fips.FipsStatus.checksumValidate(Unknown Source)\n        at org.bouncycastle.fips.core/org.bouncycastle.crypto.fips.FipsStatus.isReady(Unknown Source)\n        at org.bouncycastle.fips.core/org.bouncycastle.crypto.CryptoServicesRegistrar.getDefaultMode(Unknown Source)\n        at org.bouncycastle.fips.core/org.bouncycastle.crypto.CryptoServicesRegistrar.&lt;clinit&gt;(Unknown Source)\n        at org.bouncycastle.fips.core/org.bouncycastle.jcajce.provider.ProvSecureHash$MD5.configure(Unknown Source)\n        at org.bouncycastle.fips.core/org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider.&lt;init&gt;(Unknown Source)\n        at org.bouncycastle.fips.core/org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider.&lt;init&gt;(Unknown Source)\n        at org.bouncycastle.fips.core/org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider.&lt;init&gt;(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n        at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\n        ... 14 more\n    scl:  getPermissions ProtectionDomain  (jrt:/java.security.jgss &lt;no signer certificates&gt;)\n    jdk.internal.loader.ClassLoaders$PlatformClassLoader@7f13d6e\n    &lt;no principals&gt;\n    java.security.Permissions@51cdd8a (\n    (&quot;java.lang.RuntimePermission&quot; &quot;accessSystemModules&quot;))\n</code></pre>\n<p>Followed the steps provided in the answer for same question asked <a href=\"https://stackoverflow.com/questions/57717503/globally-register-bouncycastle-security-provider-in-jdk-11\">earlier</a>.</p>\n<p>Created jre using below command</p>\n<pre><code>./jlink --no-header-files --no-man-pages --compress=2 --strip-debug --module-path /root/bcjars/ --add-modules java.se,jdk    .unsupported,org.bouncycastle.fips.core --output /tmp/bcjdk/ --ignore-signing-information\n</code></pre>\n<p>jre created with below warning.</p>\n<p><code>WARNING: signed modular JAR /root/bcjars/bc-fips-1.0.2.4.jar is currently not supported</code></p>\n<p>After creating the jre, i can see the module in the --list-modules commnd.</p>\n<pre><code>   xx-xxx-xxxx:/tmp/bcjdk/bin # ./java --list-modules\n    java.base@11.0.20\n    java.compiler@11.0.20\n    java.datatransfer@11.0.20\n    java.desktop@11.0.20\n    java.instrument@11.0.20\n    java.logging@11.0.20\n    java.management@11.0.20\n    java.management.rmi@11.0.20\n    java.naming@11.0.20\n    java.net.http@11.0.20\n    java.prefs@11.0.20\n    java.rmi@11.0.20\n    java.scripting@11.0.20\n    java.se@11.0.20\n    java.security.jgss@11.0.20\n    java.security.sasl@11.0.20\n    java.sql@11.0.20\n    java.sql.rowset@11.0.20\n    java.transaction.xa@11.0.20\n    java.xml@11.0.20\n    java.xml.crypto@11.0.20\n    jdk.unsupported@11.0.20\n    org.bouncycastle.fips.core\n</code></pre>\n<p>Program i ran to list the providers.</p>\n<pre><code>  import java.security.Provider;\n    import java.security.Security;\n    \n    public class ListSecurityProviders {\n        public static void main(String[] args) {\n            Provider[] providers = Security.getProviders();\n    \n            for (Provider provider : providers) {\n                System.out.println(&quot;Provider: &quot; + provider.getName());\n               for (Provider.Service service : provider.getServices()) {\n                   System.out.println(&quot;  Algorithm: &quot; + service.getAlgorithm());\n               }\n            }\n        }\n    }\n</code></pre>\n<p>From the error it looks like it is failing due no signing information but jlink cannot create jre with signing information.</p>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":29267949,"reputation":1,"user_id":22423390,"display_name":"Waqas Waheed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699251445,"creation_date":1698337908,"question_id":77368821,"body_markdown":"[here is my HTML AND web App] (https://i.stack.imgur.com/nHfgC.png)\r\n Here is my Code:\r\n\r\n\t@Test(priority = 9)\r\n\t\tpublic void EditCompositeLevel() throws InterruptedException  {\r\n\r\n\t        // Wait for the &#39;Name&#39; input field to be present and clear its content\r\n\t     WebElement nameInput=driver.findElement(By.xpath(&quot;//input[@type=&#39;text&#39; and @placeholder=&#39;Name&#39;]&quot;));\r\n\r\n\t        Thread.sleep(3000);\r\n\t        nameInput.clear();\r\n\t      \r\n\t        Thread.sleep(3000);\r\n\t     System.out.println( driver.findElement(By.xpath(&quot;(//input[@placeholder=&#39;Name&#39;])[1]&quot;)).getText()\r\n\t       ) ; \r\n\t     \r\n\t        Thread.sleep(3000);\r\n\t        System.out.println( driver.findElement(By.xpath(&quot;(//input[@placeholder=&#39;Name&#39;])[1]&quot;)).getText());\r\n\t\t}\r\n\r\n\r\nI tried to clear the input field using webobject object.clear();\r\nthen i want to send input value using webobject object.sendkeys.  but it retains previous input value before i send keys","title":"Why the Text retains in input field even I clear that field and send new keys using selenium WebDriver java","body":"<p>[here is my HTML AND web App] (<a href=\"https://i.stack.imgur.com/nHfgC.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/nHfgC.png</a>)\nHere is my Code:</p>\n<pre><code>@Test(priority = 9)\n    public void EditCompositeLevel() throws InterruptedException  {\n\n        // Wait for the 'Name' input field to be present and clear its content\n     WebElement nameInput=driver.findElement(By.xpath(&quot;//input[@type='text' and @placeholder='Name']&quot;));\n\n        Thread.sleep(3000);\n        nameInput.clear();\n      \n        Thread.sleep(3000);\n     System.out.println( driver.findElement(By.xpath(&quot;(//input[@placeholder='Name'])[1]&quot;)).getText()\n       ) ; \n     \n        Thread.sleep(3000);\n        System.out.println( driver.findElement(By.xpath(&quot;(//input[@placeholder='Name'])[1]&quot;)).getText());\n    }\n</code></pre>\n<p>I tried to clear the input field using webobject object.clear();\nthen i want to send input value using webobject object.sendkeys.  but it retains previous input value before i send keys</p>\n"},{"tags":["java","cucumber","cucumber-java","allure"],"owner":{"account_id":21097186,"reputation":73,"user_id":15507885,"display_name":"Wilson "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699250948,"creation_date":1698640857,"question_id":77386243,"body_markdown":"Getting an error for the Allure Report - java.lang.NoSuchMethodError while running the Testng tests. Has anybody come across this error and how to get it rectified. Attaching the error and pom.xml file. \r\n\r\nI tried resolving the error by changing the TestNG versions. I saw multiple posts on stackoverflow, but never came across the below error in other posts.\r\n\r\n\r\n    **Error Details:**\r\n    java.lang.NoSuchMethodError: &#39;io.qameta.allure.model.FixtureResult \r\n    io.qameta.allure.model.FixtureResult.withName(java.lang.String)&#39;\r\n\r\n\tat io.qameta.allure.testng.AllureTestNg.getFixtureResult(AllureTestNg.java:458)\r\n\tat io.qameta.allure.testng.AllureTestNg.startBefore(AllureTestNg.java:413)\r\n\tat io.qameta.allure.testng.AllureTestNg.lambda$ifClassFixtureStarted$6(AllureTestNg.java:394)\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178)\r\n\tat io.qameta.allure.testng.AllureTestNg.ifClassFixtureStarted(AllureTestNg.java:394)\r\n\tat io.qameta.allure.testng.AllureTestNg.beforeInvocation(AllureTestNg.java:376)\r\n\tat org.testng.internal.invokers.InvokedMethodListenerInvoker.invokeListener(InvokedMethodListenerInvoker.java:56)\r\n\tat org.testng.internal.BaseInvoker.runInvokedMethodListeners(BaseInvoker.java:55)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:351)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:320)\r\n\tat org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:176)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:122)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:764)\r\n\tat org.testng.TestRunner.run(TestRunner.java:585)\r\n\r\n    java.lang.NoSuchMethodError: &#39;void \r\n    io.qameta.allure.util.ResultsUtils.processDescription(java.lang.ClassLoader, \r\n    java.lang.reflect.Method, io.qameta.allure.model.ExecutableItem)&#39;\r\n\tat io.qameta.allure.testng.AllureTestNg.startTestCase(AllureTestNg.java:300)\r\n\tat io.qameta.allure.testng.AllureTestNg.startTestCase(AllureTestNg.java:249)\r\n\tat io.qameta.allure.testng.AllureTestNg.onConfigurationFailure(AllureTestNg.java:501)\r\n\tat org.testng.internal.TestListenerHelper.runPostConfigurationListeners(TestListenerHelper.java:47)\r\n\tat org.testng.internal.ConfigInvoker.runConfigurationListeners(ConfigInvoker.java:402)\r\n\tat org.testng.internal.ConfigInvoker.handleConfigurationFailure(ConfigInvoker.java:452)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:326)\r\n\tat org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:176)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:122)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:764)\r\n\tat org.testng.TestRunner.run(TestRunner.java:585)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\r\n\r\n    **Pom.xml:**\r\n    properties&gt;\r\n       &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n       &lt;aspectjweaver.version&gt;1.8.10&lt;/aspectjweaver.version&gt;\r\n       &lt;cucumber.version&gt;7.14.0&lt;/cucumber.version&gt;\r\n       &lt;allure.cucumber.version&gt;2.24.0&lt;/allure.cucumber.version&gt;. \r\n       &lt;allure.version&gt;2.13.8&lt;/allure.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n         &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n         &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n        &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\r\n        &lt;version&gt;${allure.cucumber.version}&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n       &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n       &lt;version&gt;7.3.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n       &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n       &lt;version&gt;${allure.version}&lt;/version&gt;\r\n       &lt;exclusions&gt;\r\n         &lt;exclusion&gt;\r\n           &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n           &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n         &lt;/exclusion&gt;\r\n       &lt;/exclusions&gt;\r\n     &lt;/dependency&gt;\r\n    &lt;/dependencies&gt; \r\n\r\n    profiles&gt;\r\n    &lt;profile&gt;\r\n       &lt;id&gt;api&lt;/id&gt;\r\n       &lt;activation&gt;\r\n         &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n       &lt;/activation&gt;\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;api-tests&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n               &lt;systemPropertyVariables&gt;\r\n                 &lt;allure.results.directory&gt;\r\n                   ${project.build.directory}/allure-results\r\n                 &lt;/allure.results.directory&gt;\r\n                 &lt;allure.link.issue.pattern&gt;\r\n                   https://example.org/browse/{}\r\n                 &lt;/allure.link.issue.pattern&gt;\r\n                 &lt;allure.link.tms.pattern&gt;\r\n                   https://example.org/browse/{}\r\n                 &lt;/allure.link.tms.pattern&gt;\r\n               &lt;/systemPropertyVariables&gt;\r\n               &lt;redirectTestOutputToFile&gt;true&lt;/redirectTestOutputToFile&gt;\r\n               &lt;reportsDirectory&gt;${project.build.directory}/surefire-reports/${surefire.forkNumber}&lt;/reportsDirectory&gt;\r\n               &lt;!-- following 4 lines are for allure reports --&gt;\r\n               &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n               &lt;argLine&gt;\r\n               -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectjweaver.version}/aspectjweaver-${aspectjweaver.version}.jar&quot;\r\n               -Dcucumber.options=&quot;plugin io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;\r\n               &lt;/argLine&gt;\r\n             &lt;properties&gt;\r\n                &lt;property&gt;\r\n                   &lt;name&gt;dataproviderthreadcount&lt;/name&gt;\r\n                   &lt;value&gt;5&lt;/value&gt;\r\n                &lt;/property&gt;\r\n             &lt;/properties&gt;\r\n             &lt;includes&gt;\r\n                &lt;include&gt;com.restassured.cucumber.TestRunner&lt;/include&gt;\r\n             &lt;/includes&gt;\r\n             &lt;/configuration&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n             &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n             &lt;version&gt;${aspectjweaver.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n       &lt;/plugin&gt;\r\n          &lt;!-- following 5 lines are for allure reports--&gt;\r\n       &lt;plugin&gt;\r\n         &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n         &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n         &lt;version&gt;2.8&lt;/version&gt;\r\n       &lt;/plugin&gt;\r\n       &lt;plugin&gt;\r\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n         &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n         &lt;executions&gt;\r\n           &lt;execution&gt;\r\n           &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n           &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n           &lt;goals&gt;\r\n             &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n           &lt;/goals&gt;\r\n           &lt;configuration&gt;\r\n             &lt;outputDirectory&gt;\r\n             ${project.build.directory}/libs\r\n             &lt;/outputDirectory&gt;\r\n           &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.0&lt;/version&gt;\r\n      &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;test-jar&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n     &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;/profile&gt;","title":"Allure Report java.lang.NoSuchMethodError while running the Testng tests","body":"<p>Getting an error for the Allure Report - java.lang.NoSuchMethodError while running the Testng tests. Has anybody come across this error and how to get it rectified. Attaching the error and pom.xml file.</p>\n<p>I tried resolving the error by changing the TestNG versions. I saw multiple posts on stackoverflow, but never came across the below error in other posts.</p>\n<pre><code>**Error Details:**\njava.lang.NoSuchMethodError: 'io.qameta.allure.model.FixtureResult \nio.qameta.allure.model.FixtureResult.withName(java.lang.String)'\n\nat io.qameta.allure.testng.AllureTestNg.getFixtureResult(AllureTestNg.java:458)\nat io.qameta.allure.testng.AllureTestNg.startBefore(AllureTestNg.java:413)\nat io.qameta.allure.testng.AllureTestNg.lambda$ifClassFixtureStarted$6(AllureTestNg.java:394)\nat java.base/java.util.Optional.ifPresent(Optional.java:178)\nat io.qameta.allure.testng.AllureTestNg.ifClassFixtureStarted(AllureTestNg.java:394)\nat io.qameta.allure.testng.AllureTestNg.beforeInvocation(AllureTestNg.java:376)\nat org.testng.internal.invokers.InvokedMethodListenerInvoker.invokeListener(InvokedMethodListenerInvoker.java:56)\nat org.testng.internal.BaseInvoker.runInvokedMethodListeners(BaseInvoker.java:55)\nat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:351)\nat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:320)\nat org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:176)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:122)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.testng.TestRunner.privateRun(TestRunner.java:764)\nat org.testng.TestRunner.run(TestRunner.java:585)\n\njava.lang.NoSuchMethodError: 'void \nio.qameta.allure.util.ResultsUtils.processDescription(java.lang.ClassLoader, \njava.lang.reflect.Method, io.qameta.allure.model.ExecutableItem)'\nat io.qameta.allure.testng.AllureTestNg.startTestCase(AllureTestNg.java:300)\nat io.qameta.allure.testng.AllureTestNg.startTestCase(AllureTestNg.java:249)\nat io.qameta.allure.testng.AllureTestNg.onConfigurationFailure(AllureTestNg.java:501)\nat org.testng.internal.TestListenerHelper.runPostConfigurationListeners(TestListenerHelper.java:47)\nat org.testng.internal.ConfigInvoker.runConfigurationListeners(ConfigInvoker.java:402)\nat org.testng.internal.ConfigInvoker.handleConfigurationFailure(ConfigInvoker.java:452)\nat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:326)\nat org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:176)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:122)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.testng.TestRunner.privateRun(TestRunner.java:764)\nat org.testng.TestRunner.run(TestRunner.java:585)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\n\n**Pom.xml:**\nproperties&gt;\n   &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n   &lt;aspectjweaver.version&gt;1.8.10&lt;/aspectjweaver.version&gt;\n   &lt;cucumber.version&gt;7.14.0&lt;/cucumber.version&gt;\n   &lt;allure.cucumber.version&gt;2.24.0&lt;/allure.cucumber.version&gt;. \n   &lt;allure.version&gt;2.13.8&lt;/allure.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n     &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n     &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n     &lt;version&gt;${cucumber.version}&lt;/version&gt;\n &lt;dependency&gt;\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n    &lt;version&gt;${cucumber.version}&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n    &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n    &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\n    &lt;version&gt;${allure.cucumber.version}&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n   &lt;groupId&gt;org.testng&lt;/groupId&gt;\n   &lt;artifactId&gt;testng&lt;/artifactId&gt;\n   &lt;version&gt;7.3.0&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n   &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n   &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n   &lt;version&gt;${allure.version}&lt;/version&gt;\n   &lt;exclusions&gt;\n     &lt;exclusion&gt;\n       &lt;groupId&gt;org.testng&lt;/groupId&gt;\n       &lt;artifactId&gt;testng&lt;/artifactId&gt;\n     &lt;/exclusion&gt;\n   &lt;/exclusions&gt;\n &lt;/dependency&gt;\n&lt;/dependencies&gt; \n\nprofiles&gt;\n&lt;profile&gt;\n   &lt;id&gt;api&lt;/id&gt;\n   &lt;activation&gt;\n     &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n   &lt;/activation&gt;\n&lt;build&gt;\n    &lt;finalName&gt;api-tests&lt;/finalName&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M4&lt;/version&gt;\n        &lt;configuration&gt;\n           &lt;systemPropertyVariables&gt;\n             &lt;allure.results.directory&gt;\n               ${project.build.directory}/allure-results\n             &lt;/allure.results.directory&gt;\n             &lt;allure.link.issue.pattern&gt;\n               https://example.org/browse/{}\n             &lt;/allure.link.issue.pattern&gt;\n             &lt;allure.link.tms.pattern&gt;\n               https://example.org/browse/{}\n             &lt;/allure.link.tms.pattern&gt;\n           &lt;/systemPropertyVariables&gt;\n           &lt;redirectTestOutputToFile&gt;true&lt;/redirectTestOutputToFile&gt;\n           &lt;reportsDirectory&gt;${project.build.directory}/surefire-reports/${surefire.forkNumber}&lt;/reportsDirectory&gt;\n           &lt;!-- following 4 lines are for allure reports --&gt;\n           &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n           &lt;argLine&gt;\n           -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectjweaver.version}/aspectjweaver-${aspectjweaver.version}.jar&quot;\n           -Dcucumber.options=&quot;plugin io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;\n           &lt;/argLine&gt;\n         &lt;properties&gt;\n            &lt;property&gt;\n               &lt;name&gt;dataproviderthreadcount&lt;/name&gt;\n               &lt;value&gt;5&lt;/value&gt;\n            &lt;/property&gt;\n         &lt;/properties&gt;\n         &lt;includes&gt;\n            &lt;include&gt;com.restassured.cucumber.TestRunner&lt;/include&gt;\n         &lt;/includes&gt;\n         &lt;/configuration&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n         &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n         &lt;version&gt;${aspectjweaver.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n   &lt;/plugin&gt;\n      &lt;!-- following 5 lines are for allure reports--&gt;\n   &lt;plugin&gt;\n     &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n     &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n     &lt;version&gt;2.8&lt;/version&gt;\n   &lt;/plugin&gt;\n   &lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n     &lt;executions&gt;\n       &lt;execution&gt;\n       &lt;id&gt;copy-dependencies&lt;/id&gt;\n       &lt;phase&gt;prepare-package&lt;/phase&gt;\n       &lt;goals&gt;\n         &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n       &lt;/goals&gt;\n       &lt;configuration&gt;\n         &lt;outputDirectory&gt;\n         ${project.build.directory}/libs\n         &lt;/outputDirectory&gt;\n       &lt;/configuration&gt;\n      &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.2.0&lt;/version&gt;\n  &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;test-jar&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n"},{"tags":["java","eclipse","jar","log4j"],"comments":[{"owner":{"account_id":6207142,"reputation":388,"user_id":4834735,"accept_rate":50,"display_name":"Knu8"},"score":0,"creation_date":1477035698,"post_id":40170967,"comment_id":67609789,"body_markdown":"is that jar included in bulid path of your project","body":"is that jar included in bulid path of your project"},{"owner":{"account_id":4325247,"reputation":12424,"user_id":4390212,"accept_rate":74,"display_name":"DimaSan"},"score":3,"creation_date":1477035779,"post_id":40170967,"comment_id":67609832,"body_markdown":"Possible duplicate of [How do I resolve this Log4J import error (relating to Classpath too)?](http://stackoverflow.com/questions/16270618/how-do-i-resolve-this-log4j-import-error-relating-to-classpath-too)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/16270618/how-do-i-resolve-this-log4j-import-error-relating-to-classpath-too\">How do I resolve this Log4J import error (relating to Classpath too)?</a>"},{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1477036025,"post_id":40170967,"comment_id":67609951,"body_markdown":"it should work, clean the project please...","body":"it should work, clean the project please..."},{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":0,"creation_date":1477036465,"post_id":40170967,"comment_id":67610192,"body_markdown":"In Eclipse, check if &quot;Project&quot; -&gt; &quot;Build automatically&quot; is checked.","body":"In Eclipse, check if &quot;Project&quot; -&gt; &quot;Build automatically&quot; is checked."},{"owner":{"account_id":7456222,"reputation":160,"user_id":5669411,"accept_rate":71,"display_name":"B_PRIEUR"},"score":0,"creation_date":1477041951,"post_id":40170967,"comment_id":67613355,"body_markdown":"You also need an API for log4j to work","body":"You also need an API for log4j to work"}],"answers":[{"tags":[],"owner":{"account_id":7013238,"reputation":840,"user_id":5375394,"accept_rate":56,"display_name":"tomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477036321,"creation_date":1477036321,"answer_id":40171144,"question_id":40170967,"body_markdown":"You can find the class &quot;org.apache.log4j.Logger&quot; in the log4j-X.X.XX.jar\r\n\r\nThis jar must be included in your build path.\r\n\r\nIf you have a maven project you can just add a dependency\r\n\r\n\t   &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nOtherwhise you have to download the jar and add the jar manually to your build path.","title":"Import log4j.Logger in Java project","body":"<p>You can find the class \"org.apache.log4j.Logger\" in the log4j-X.X.XX.jar</p>\n\n<p>This jar must be included in your build path.</p>\n\n<p>If you have a maven project you can just add a dependency</p>\n\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Otherwhise you have to download the jar and add the jar manually to your build path.</p>\n"},{"tags":[],"owner":{"account_id":1874763,"reputation":2020,"user_id":4352728,"accept_rate":50,"display_name":"Ye Win"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477038462,"creation_date":1477038462,"answer_id":40171809,"question_id":40170967,"body_markdown":"Not web project, I mean, in plain Java project, it don&#39;t know the import jar file automatically. It mean, as to your structure, having jar in **lib** folder is not enough. You need to add this jar under **lib** folder manually to your **class path.**\r\n\r\nYou can do manually like this:\r\n\r\n    ProjectRightClick&gt;&gt;Build Path&gt;&gt;Configure Build Path&gt;&gt;Click Add Jar&gt;&gt;choose your log4 jar under lib folder&gt;&gt; OK.\r\n\r\nHope it help.\r\n\r\n","title":"Import log4j.Logger in Java project","body":"<p>Not web project, I mean, in plain Java project, it don't know the import jar file automatically. It mean, as to your structure, having jar in <strong>lib</strong> folder is not enough. You need to add this jar under <strong>lib</strong> folder manually to your <strong>class path.</strong></p>\n\n<p>You can do manually like this:</p>\n\n<pre><code>ProjectRightClick&gt;&gt;Build Path&gt;&gt;Configure Build Path&gt;&gt;Click Add Jar&gt;&gt;choose your log4 jar under lib folder&gt;&gt; OK.\n</code></pre>\n\n<p>Hope it help.</p>\n"},{"tags":[],"owner":{"account_id":13960168,"reputation":1,"user_id":10081649,"display_name":"Mayank RAJPUT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531584982,"creation_date":1531584982,"answer_id":51341209,"question_id":40170967,"body_markdown":"You need to download log4j package from link given below\r\n\r\nhttp://www-eu.apache.org/dist/logging/log4j/2.11.0/apache-log4j-2.11.0-bin.zip\r\n\r\nand then left click on your project logtestjava &gt; properties &gt; Java build path &gt; classpath &gt; add all jars of log4j package\r\n","title":"Import log4j.Logger in Java project","body":"<p>You need to download log4j package from link given below</p>\n\n<p><a href=\"http://www-eu.apache.org/dist/logging/log4j/2.11.0/apache-log4j-2.11.0-bin.zip\" rel=\"nofollow noreferrer\">http://www-eu.apache.org/dist/logging/log4j/2.11.0/apache-log4j-2.11.0-bin.zip</a></p>\n\n<p>and then left click on your project logtestjava > properties > Java build path > classpath > add all jars of log4j package</p>\n"}],"owner":{"account_id":4592561,"reputation":924,"user_id":3725491,"accept_rate":67,"display_name":"Amber"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12125,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1699250640,"creation_date":1477035581,"question_id":40170967,"body_markdown":"I am trying to build a simple java application in eclipse that uses log4j to make logs (I intend to export it as a jar file).\r\n\r\nBut when I try to import org.apache.log4j.Logger in the java file, I get an error as follows\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8d3JO.png\r\n\r\nCould someone please help me with this?","title":"Import log4j.Logger in Java project","body":"<p>I am trying to build a simple java application in eclipse that uses log4j to make logs (I intend to export it as a jar file).</p>\n\n<p>But when I try to import org.apache.log4j.Logger in the java file, I get an error as follows</p>\n\n<p><a href=\"https://i.stack.imgur.com/8d3JO.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/8d3JO.png\" alt=\"enter image description here\"></a></p>\n\n<p>Could someone please help me with this?</p>\n"},{"tags":["java","android","android-recyclerview","android-music-player"],"comments":[{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1699248795,"post_id":77428795,"comment_id":136502997,"body_markdown":"What is the parent layout of RecyclerView can you post your activtity xml as well?","body":"What is the parent layout of RecyclerView can you post your activtity xml as well?"},{"owner":{"account_id":11150833,"reputation":1,"user_id":8184140,"display_name":"ronark"},"score":0,"creation_date":1699252593,"post_id":77428795,"comment_id":136503349,"body_markdown":"@AmmarAbdullah, hello, i have added parent layout of recyclerview you could check it if there any need for improvement then plz tell me.","body":"@AmmarAbdullah, hello, i have added parent layout of recyclerview you could check it if there any need for improvement then plz tell me."},{"owner":{"account_id":25285238,"reputation":405,"user_id":19112370,"display_name":"Harshali"},"score":0,"creation_date":1699261918,"post_id":77428795,"comment_id":136504691,"body_markdown":"@ronark You are using third-party fastscrolling library and passing your recyclerView in builder `new FastScrollerBuilder(layoutBinding.recyclerview);`, does it doing any heavy task with `RecyclerView` view? Please check what is use of `layoutBinding.recyclerview` after you pass it in `FastScrollerBuilder` paramter.","body":"@ronark You are using third-party fastscrolling library and passing your recyclerView in builder <code>new FastScrollerBuilder(layoutBinding.recyclerview);</code>, does it doing any heavy task with <code>RecyclerView</code> view? Please check what is use of <code>layoutBinding.recyclerview</code> after you pass it in <code>FastScrollerBuilder</code> paramter."},{"owner":{"account_id":11150833,"reputation":1,"user_id":8184140,"display_name":"ronark"},"score":0,"creation_date":1699275743,"post_id":77428795,"comment_id":136507069,"body_markdown":"@Harshali, Hello m&#39;am, No it does not performing any heavy task in background it just provides thumb-drag feature so we can drag and jump to any position of recyclerview items,\nwe can also put this code outside of the observer block it doesn&#39;t affect the overall functionality of recyclerview in term of performance. any idea? what would be the actual issues?","body":"@Harshali, Hello m&#39;am, No it does not performing any heavy task in background it just provides thumb-drag feature so we can drag and jump to any position of recyclerview items, we can also put this code outside of the observer block it doesn&#39;t affect the overall functionality of recyclerview in term of performance. any idea? what would be the actual issues?"},{"owner":{"account_id":25285238,"reputation":405,"user_id":19112370,"display_name":"Harshali"},"score":0,"creation_date":1699344197,"post_id":77428795,"comment_id":136516464,"body_markdown":"@ronark  I had face lagging issues and solved by case 1 : `RecyclerView`  row-item file Height OR Width should be define in ay specific number (ex., 100dp, 150dp, ..) case 2 : loading big image inside `RecyclerView` every row (ViewHolder) case 3 :  If `RecyclerView` used inside `NestedScrollView` or other `RecyclerView`","body":"@ronark  I had face lagging issues and solved by case 1 : <code>RecyclerView</code>  row-item file Height OR Width should be define in ay specific number (ex., 100dp, 150dp, ..) case 2 : loading big image inside <code>RecyclerView</code> every row (ViewHolder) case 3 :  If <code>RecyclerView</code> used inside <code>NestedScrollView</code> or other <code>RecyclerView</code>"},{"owner":{"account_id":25285238,"reputation":405,"user_id":19112370,"display_name":"Harshali"},"score":0,"creation_date":1699344296,"post_id":77428795,"comment_id":136516480,"body_markdown":"@ronark You can try with comment image loading code in `RecyclerView` to verify if it&#39;s issue with loading image or not. With this way you may find actual issue.","body":"@ronark You can try with comment image loading code in <code>RecyclerView</code> to verify if it&#39;s issue with loading image or not. With this way you may find actual issue."}],"owner":{"account_id":11150833,"reputation":1,"user_id":8184140,"display_name":"ronark"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699250121,"creation_date":1699246151,"question_id":77428795,"body_markdown":"here, i am retrieving data from mediastore and populate it on recyclerview. The actual problem is when i scrolls recyclerview little fast it** stuttering , laggy** at the same time even though i don&#39;t use loadArt() method.\r\nis there any issue with the xml i&#39;ve defined or something else i need to do to optimize recyclerview adapter for data?\r\nhere&#39;s code -&gt;\r\nAdapter code-&gt;\r\n\r\n```\r\n\r\npublic class SongAdapter extends RecyclerView.Adapter&lt;SongAdapter.ViewHolder&gt;\r\n        implements PopupTextProvider {\r\n\r\n    List&lt;SongPojo&gt; songPojoList;\r\n    Context context;\r\n\r\n\r\n    public SongAdapter(){}\r\n    public SongAdapter(Context con, List&lt;SongPojo&gt; list) {\r\n         \r\n            this.context = con;\r\n            this.songPojoList = list;\r\n            this.setHasStableIds(true);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public SongAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        CustomRowItemBinding customRowItemBinding =\r\n                CustomRowItemBinding.inflate(LayoutInflater.from(parent.getContext()),parent,false);\r\n        return new ViewHolder(customRowItemBinding);\r\n    }\r\n\r\n    String TAG = SongAdapter.class.getSimpleName();\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull SongAdapter.ViewHolder holder, int position) {\r\n              SongPojo pojo = songPojoList.get(position);\r\n\r\n              holder.itemBinding.textSong.setText(pojo.getSong_title());\r\n              holder.itemBinding.textArtist.setText(&quot;&lt;unknown&gt;&quot;);\r\n\r\n             // loadArt(pojo.getArtist_title(), holder.itemBinding.image);\r\n\r\n    }\r\n\r\n    public void loadArt(String path, ImageView img){\r\n\r\n        GlideApp.with(context)\r\n                .load(path)\r\n                .apply(new RequestOptions().override(54))\r\n                .placeholder(R.mipmap.music_note_placeholder)\r\n                .into(img);\r\n\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position){\r\n        return songPojoList.get(position).getId();\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return songPojoList.size();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CharSequence getPopupText(@NonNull View view, int position) {\r\n        SongPojo songPojo = songPojoList.get(position);\r\n\r\n        if(!TextUtils.isEmpty(songPojo.getSong_title())) {\r\n            return String.valueOf(songPojo.getSong_title().charAt(0));\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder{\r\n        \r\n        CustomRowItemBinding itemBinding;\r\n\r\n        public ViewHolder(@NonNull CustomRowItemBinding binding) {\r\n            super(binding.getRoot());\r\n            this.itemBinding = binding;\r\n\r\n            itemBinding.csLy.setOnClickListener(v-&gt;{\r\n                \r\n                // Ignore this below code :)\r\n/*\r\n\r\n                Toast.makeText(v.getContext(),&quot;You can do it!&quot;,\r\n                        Toast.LENGTH_SHORT)\r\n                        .show();\r\n\r\n                // Just for testing purpose.!\r\n                Intent perInt = new Intent(v.getContext(), AppBarExp.class);\r\n                v.getContext().startActivity(perInt);\r\n*/\r\n\r\n            });\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\ncustom_row_item &gt; xml code\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;60dp&quot;\r\n    android:id=&quot;@+id/cs_ly&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatImageView\r\n        android:id=&quot;@+id/image&quot;\r\n        android:layout_width=&quot;54dp&quot;\r\n        android:layout_height=&quot;54dp&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        android:layout_marginStart=&quot;10dp&quot; /&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatTextView\r\n        android:id=&quot;@+id/text_song&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:paddingHorizontal=&quot;10dp&quot;\r\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Body1&quot;\r\n        android:textColor=&quot;?android:attr/textColorPrimary&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@id/image&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_chainStyle=&quot;packed&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@id/more_option&quot;\r\n        android:layout_marginStart=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;10dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n       /&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatTextView\r\n        android:id=&quot;@+id/text_artist&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textSize=&quot;14sp&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:paddingHorizontal=&quot;10dp&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        android:textAppearance=&quot;@null&quot;\r\n        android:textColor=&quot;?android:attr/textColorSecondary&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@id/image&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/text_song&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@id/more_option&quot;\r\n        android:layout_marginStart=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;10dp&quot;\r\n     /&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatImageView\r\n        android:id=&quot;@+id/more_option&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:src=&quot;@drawable/baseline_more_vert_24&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:padding=&quot;2dp&quot;\r\n        android:layout_marginEnd=&quot;10dp&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n```\r\n\r\nTesting Activity for display-&gt;\r\n\r\n```\r\n     LinearLayoutManager layoutManager = new LinearLayoutManager(this,LinearLayoutManager.VERTICAL,\r\n                false);\r\n\r\n        layoutBinding.recyclerview.setLayoutManager(layoutManager);\r\n        layoutBinding.recyclerview.setHasFixedSize(true);\r\n\r\n        viewModel = new ViewModelProvider(this)\r\n                .get(MainAcitvityViewModel.class);\r\n\r\n      viewModel.getMediaLiveData(this).observe(this,\r\n                        new Observer&lt;List&lt;SongPojo&gt;&gt;() {\r\n                    @Override\r\n                    public void onChanged(List&lt;SongPojo&gt; songPojos) {\r\n                        songAdapter = new SongAdapter(getApplicationContext(), songPojos);\r\n                        layoutBinding.recyclerview.setAdapter(songAdapter);\r\n\r\n                        //Third party fastscrolling api.\r\n                        FastScrollerBuilder fastScrollerBuilder = new FastScrollerBuilder(layoutBinding.recyclerview);\r\n                        fastScrollerBuilder.useMd2Style();\r\n                        fastScrollerBuilder.setPopupStyle(PopupStyles.MD2);  // make your own style for this.\r\n                        fastScrollerBuilder.build();\r\n\r\n                    }\r\n                });\r\n\r\n\r\n```\r\njust want to know how can i make scrolls smooth without stuttering or lagg?\r\n\r\nActivity layout xml-&gt;\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/appbar_container&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:background=&quot;@android:color/transparent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:padding=&quot;6dp&quot;\r\n            app:contentScrim=&quot;@android:color/transparent&quot;\r\n            app:layout_scrollFlags=&quot;scroll|enterAlways&quot;&gt;\r\n\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_margin=&quot;6dp&quot;\r\n                app:layout_collapseMode=&quot;none&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;10dp&quot;\r\n                    android:text=&quot;Music Player&quot;\r\n                    android:textSize=&quot;24sp&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/search_btn&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginEnd=&quot;15dp&quot;\r\n                    android:background=&quot;?attr/selectableItemBackgroundBorderless&quot;\r\n                    android:clickable=&quot;true&quot;\r\n                    android:focusable=&quot;true&quot;\r\n                    android:padding=&quot;2dp&quot;\r\n                    android:src=&quot;@drawable/baseline_search_24&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintRight_toLeftOf=&quot;@id/app_settings_btn&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/app_settings_btn&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:background=&quot;?attr/selectableItemBackgroundBorderless&quot;\r\n                    android:clickable=&quot;true&quot;\r\n                    android:focusable=&quot;true&quot;\r\n                    android:padding=&quot;2dp&quot;\r\n                    android:src=&quot;@drawable/baseline_settings_24&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            &gt;\r\n\r\n            &lt;HorizontalScrollView\r\n                android:visibility=&quot;visible&quot;\r\n                android:id=&quot;@+id/chiptab_container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                android:layout_marginEnd=&quot;0dp&quot;\r\n\r\n                android:scrollbars=&quot;none&quot;\r\n                &gt;\r\n\r\n\r\n                &lt;com.google.android.material.chip.ChipGroup\r\n                    android:id=&quot;@+id/chip_group&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:padding=&quot;1dp&quot;\r\n                    android:layout_marginStart=&quot;5dp&quot;\r\n                    app:singleSelection=&quot;true&quot;\r\n                    style=&quot;@null&quot;\r\n                    android:scrollbars=&quot;horizontal&quot;\r\n                    &gt;\r\n                    &lt;com.google.android.material.chip.Chip\r\n                        android:id=&quot;@+id/for_you_tab&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;For you&quot;\r\n                        app:textStartPadding=&quot;15dp&quot;\r\n                        app:textEndPadding=&quot;15dp&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        app:chipCornerRadius=&quot;20dp&quot;\r\n                        style=&quot;@null&quot;/&gt;\r\n\r\n\r\n                    &lt;com.google.android.material.chip.Chip\r\n                        android:id=&quot;@+id/song_tab&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Songs&quot;\r\n                        app:textStartPadding=&quot;15dp&quot;\r\n                        app:textEndPadding=&quot;15dp&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        app:chipCornerRadius=&quot;20dp&quot;\r\n                        style=&quot;@null&quot;\r\n                        /&gt;\r\n\r\n                    &lt;com.google.android.material.chip.Chip\r\n                        android:id=&quot;@+id/album_tab&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Albums&quot;\r\n                        app:textStartPadding=&quot;15dp&quot;\r\n                        app:textEndPadding=&quot;15dp&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        app:chipCornerRadius=&quot;20dp&quot;\r\n                        style=&quot;@null&quot;\r\n                        /&gt;\r\n\r\n                    &lt;com.google.android.material.chip.Chip\r\n                        android:id=&quot;@+id/artist_tab&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Artists&quot;\r\n                        app:textStartPadding=&quot;15dp&quot;\r\n                        app:textEndPadding=&quot;15dp&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        app:chipCornerRadius=&quot;20dp&quot;\r\n                        style=&quot;@null&quot;\r\n                        /&gt;\r\n\r\n                    &lt;com.google.android.material.chip.Chip\r\n                        android:id=&quot;@+id/playlist_tab&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Playlist&quot;\r\n                        app:textStartPadding=&quot;15dp&quot;\r\n                        app:textEndPadding=&quot;15dp&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        app:chipCornerRadius=&quot;20dp&quot;\r\n                        style=&quot;@null&quot;\r\n                        /&gt;\r\n\r\n                    &lt;com.google.android.material.chip.Chip\r\n                        android:id=&quot;@+id/genres_tab&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Genres&quot;\r\n                        app:textStartPadding=&quot;15dp&quot;\r\n                        app:textEndPadding=&quot;15dp&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        app:chipCornerRadius=&quot;20dp&quot;\r\n                        style=&quot;@null&quot;\r\n                        /&gt;\r\n\r\n                    &lt;com.google.android.material.chip.Chip\r\n                        android:id=&quot;@+id/folders_tab&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Folder&quot;\r\n                        app:textStartPadding=&quot;15dp&quot;\r\n                        app:textEndPadding=&quot;15dp&quot;\r\n                        android:layout_marginEnd=&quot;10dp&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        app:chipCornerRadius=&quot;20dp&quot;\r\n                        style=&quot;@null&quot;\r\n                        /&gt;\r\n\r\n                &lt;/com.google.android.material.chip.ChipGroup&gt;\r\n\r\n            &lt;/HorizontalScrollView&gt;\r\n\r\n            &lt;View\r\n                android:id=&quot;@+id/view_divider&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;1dp&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/chiptab_container&quot;\r\n                android:background=&quot;@color/chip_bg_color&quot;\r\n                /&gt;\r\n\r\n\r\n            &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:visibility=&quot;visible&quot;\r\n                android:id=&quot;@+id/recyclerview&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/view_divider&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                android:layout_marginBottom=&quot;100dp&quot;\r\n                /&gt;\r\n\r\n\r\n            &lt;include\r\n                android:visibility=&quot;gone&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                layout=&quot;@layout/home_for_you_fragment_activity_layout&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/view_divider&quot;\r\n                /&gt;\r\n\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\n\r\n ","title":"Could anyone tell me why do recyclerview stuttering(janky/laggy) while scrolling fast.?","body":"<p>here, i am retrieving data from mediastore and populate it on recyclerview. The actual problem is when i scrolls recyclerview little fast it** stuttering , laggy** at the same time even though i don't use loadArt() method.\nis there any issue with the xml i've defined or something else i need to do to optimize recyclerview adapter for data?\nhere's code -&gt;\nAdapter code-&gt;</p>\n<pre><code>\npublic class SongAdapter extends RecyclerView.Adapter&lt;SongAdapter.ViewHolder&gt;\n        implements PopupTextProvider {\n\n    List&lt;SongPojo&gt; songPojoList;\n    Context context;\n\n\n    public SongAdapter(){}\n    public SongAdapter(Context con, List&lt;SongPojo&gt; list) {\n         \n            this.context = con;\n            this.songPojoList = list;\n            this.setHasStableIds(true);\n    }\n\n    @NonNull\n    @Override\n    public SongAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        CustomRowItemBinding customRowItemBinding =\n                CustomRowItemBinding.inflate(LayoutInflater.from(parent.getContext()),parent,false);\n        return new ViewHolder(customRowItemBinding);\n    }\n\n    String TAG = SongAdapter.class.getSimpleName();\n\n    @Override\n    public void onBindViewHolder(@NonNull SongAdapter.ViewHolder holder, int position) {\n              SongPojo pojo = songPojoList.get(position);\n\n              holder.itemBinding.textSong.setText(pojo.getSong_title());\n              holder.itemBinding.textArtist.setText(&quot;&lt;unknown&gt;&quot;);\n\n             // loadArt(pojo.getArtist_title(), holder.itemBinding.image);\n\n    }\n\n    public void loadArt(String path, ImageView img){\n\n        GlideApp.with(context)\n                .load(path)\n                .apply(new RequestOptions().override(54))\n                .placeholder(R.mipmap.music_note_placeholder)\n                .into(img);\n\n    }\n\n    @Override\n    public long getItemId(int position){\n        return songPojoList.get(position).getId();\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return songPojoList.size();\n    }\n\n    @NonNull\n    @Override\n    public CharSequence getPopupText(@NonNull View view, int position) {\n        SongPojo songPojo = songPojoList.get(position);\n\n        if(!TextUtils.isEmpty(songPojo.getSong_title())) {\n            return String.valueOf(songPojo.getSong_title().charAt(0));\n        }\n        return &quot;&quot;;\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder{\n        \n        CustomRowItemBinding itemBinding;\n\n        public ViewHolder(@NonNull CustomRowItemBinding binding) {\n            super(binding.getRoot());\n            this.itemBinding = binding;\n\n            itemBinding.csLy.setOnClickListener(v-&gt;{\n                \n                // Ignore this below code :)\n/*\n\n                Toast.makeText(v.getContext(),&quot;You can do it!&quot;,\n                        Toast.LENGTH_SHORT)\n                        .show();\n\n                // Just for testing purpose.!\n                Intent perInt = new Intent(v.getContext(), AppBarExp.class);\n                v.getContext().startActivity(perInt);\n*/\n\n            });\n\n        }\n    }\n}\n\n</code></pre>\n<p>custom_row_item &gt; xml code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;60dp&quot;\n    android:id=&quot;@+id/cs_ly&quot;&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatImageView\n        android:id=&quot;@+id/image&quot;\n        android:layout_width=&quot;54dp&quot;\n        android:layout_height=&quot;54dp&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        android:layout_marginStart=&quot;10dp&quot; /&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatTextView\n        android:id=&quot;@+id/text_song&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:maxLines=&quot;1&quot;\n        android:paddingHorizontal=&quot;10dp&quot;\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Body1&quot;\n        android:textColor=&quot;?android:attr/textColorPrimary&quot;\n        app:layout_constraintStart_toEndOf=&quot;@id/image&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_chainStyle=&quot;packed&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@id/more_option&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginEnd=&quot;10dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n       /&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatTextView\n        android:id=&quot;@+id/text_artist&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textSize=&quot;14sp&quot;\n        android:maxLines=&quot;1&quot;\n        android:paddingHorizontal=&quot;10dp&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:textAppearance=&quot;@null&quot;\n        android:textColor=&quot;?android:attr/textColorSecondary&quot;\n        app:layout_constraintStart_toEndOf=&quot;@id/image&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/text_song&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@id/more_option&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginEnd=&quot;10dp&quot;\n     /&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatImageView\n        android:id=&quot;@+id/more_option&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/baseline_more_vert_24&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        android:padding=&quot;2dp&quot;\n        android:layout_marginEnd=&quot;10dp&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n</code></pre>\n<p>Testing Activity for display-&gt;</p>\n<pre><code>     LinearLayoutManager layoutManager = new LinearLayoutManager(this,LinearLayoutManager.VERTICAL,\n                false);\n\n        layoutBinding.recyclerview.setLayoutManager(layoutManager);\n        layoutBinding.recyclerview.setHasFixedSize(true);\n\n        viewModel = new ViewModelProvider(this)\n                .get(MainAcitvityViewModel.class);\n\n      viewModel.getMediaLiveData(this).observe(this,\n                        new Observer&lt;List&lt;SongPojo&gt;&gt;() {\n                    @Override\n                    public void onChanged(List&lt;SongPojo&gt; songPojos) {\n                        songAdapter = new SongAdapter(getApplicationContext(), songPojos);\n                        layoutBinding.recyclerview.setAdapter(songAdapter);\n\n                        //Third party fastscrolling api.\n                        FastScrollerBuilder fastScrollerBuilder = new FastScrollerBuilder(layoutBinding.recyclerview);\n                        fastScrollerBuilder.useMd2Style();\n                        fastScrollerBuilder.setPopupStyle(PopupStyles.MD2);  // make your own style for this.\n                        fastScrollerBuilder.build();\n\n                    }\n                });\n\n\n</code></pre>\n<p>just want to know how can i make scrolls smooth without stuttering or lagg?</p>\n<p>Activity layout xml-&gt;</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:id=&quot;@+id/appbar_container&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:background=&quot;@android:color/transparent&quot;&gt;\n\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:padding=&quot;6dp&quot;\n            app:contentScrim=&quot;@android:color/transparent&quot;\n            app:layout_scrollFlags=&quot;scroll|enterAlways&quot;&gt;\n\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_margin=&quot;6dp&quot;\n                app:layout_collapseMode=&quot;none&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginStart=&quot;10dp&quot;\n                    android:text=&quot;Music Player&quot;\n                    android:textSize=&quot;24sp&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/search_btn&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginEnd=&quot;15dp&quot;\n                    android:background=&quot;?attr/selectableItemBackgroundBorderless&quot;\n                    android:clickable=&quot;true&quot;\n                    android:focusable=&quot;true&quot;\n                    android:padding=&quot;2dp&quot;\n                    android:src=&quot;@drawable/baseline_search_24&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintRight_toLeftOf=&quot;@id/app_settings_btn&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n                &lt;ImageView\n                    android:id=&quot;@+id/app_settings_btn&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:background=&quot;?attr/selectableItemBackgroundBorderless&quot;\n                    android:clickable=&quot;true&quot;\n                    android:focusable=&quot;true&quot;\n                    android:padding=&quot;2dp&quot;\n                    android:src=&quot;@drawable/baseline_settings_24&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            &gt;\n\n            &lt;HorizontalScrollView\n                android:visibility=&quot;visible&quot;\n                android:id=&quot;@+id/chiptab_container&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                android:layout_marginEnd=&quot;0dp&quot;\n\n                android:scrollbars=&quot;none&quot;\n                &gt;\n\n\n                &lt;com.google.android.material.chip.ChipGroup\n                    android:id=&quot;@+id/chip_group&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:padding=&quot;1dp&quot;\n                    android:layout_marginStart=&quot;5dp&quot;\n                    app:singleSelection=&quot;true&quot;\n                    style=&quot;@null&quot;\n                    android:scrollbars=&quot;horizontal&quot;\n                    &gt;\n                    &lt;com.google.android.material.chip.Chip\n                        android:id=&quot;@+id/for_you_tab&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;For you&quot;\n                        app:textStartPadding=&quot;15dp&quot;\n                        app:textEndPadding=&quot;15dp&quot;\n                        android:textSize=&quot;18sp&quot;\n                        app:chipCornerRadius=&quot;20dp&quot;\n                        style=&quot;@null&quot;/&gt;\n\n\n                    &lt;com.google.android.material.chip.Chip\n                        android:id=&quot;@+id/song_tab&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;Songs&quot;\n                        app:textStartPadding=&quot;15dp&quot;\n                        app:textEndPadding=&quot;15dp&quot;\n                        android:textSize=&quot;18sp&quot;\n                        app:chipCornerRadius=&quot;20dp&quot;\n                        style=&quot;@null&quot;\n                        /&gt;\n\n                    &lt;com.google.android.material.chip.Chip\n                        android:id=&quot;@+id/album_tab&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;Albums&quot;\n                        app:textStartPadding=&quot;15dp&quot;\n                        app:textEndPadding=&quot;15dp&quot;\n                        android:textSize=&quot;18sp&quot;\n                        app:chipCornerRadius=&quot;20dp&quot;\n                        style=&quot;@null&quot;\n                        /&gt;\n\n                    &lt;com.google.android.material.chip.Chip\n                        android:id=&quot;@+id/artist_tab&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;Artists&quot;\n                        app:textStartPadding=&quot;15dp&quot;\n                        app:textEndPadding=&quot;15dp&quot;\n                        android:textSize=&quot;18sp&quot;\n                        app:chipCornerRadius=&quot;20dp&quot;\n                        style=&quot;@null&quot;\n                        /&gt;\n\n                    &lt;com.google.android.material.chip.Chip\n                        android:id=&quot;@+id/playlist_tab&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;Playlist&quot;\n                        app:textStartPadding=&quot;15dp&quot;\n                        app:textEndPadding=&quot;15dp&quot;\n                        android:textSize=&quot;18sp&quot;\n                        app:chipCornerRadius=&quot;20dp&quot;\n                        style=&quot;@null&quot;\n                        /&gt;\n\n                    &lt;com.google.android.material.chip.Chip\n                        android:id=&quot;@+id/genres_tab&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;Genres&quot;\n                        app:textStartPadding=&quot;15dp&quot;\n                        app:textEndPadding=&quot;15dp&quot;\n                        android:textSize=&quot;18sp&quot;\n                        app:chipCornerRadius=&quot;20dp&quot;\n                        style=&quot;@null&quot;\n                        /&gt;\n\n                    &lt;com.google.android.material.chip.Chip\n                        android:id=&quot;@+id/folders_tab&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;Folder&quot;\n                        app:textStartPadding=&quot;15dp&quot;\n                        app:textEndPadding=&quot;15dp&quot;\n                        android:layout_marginEnd=&quot;10dp&quot;\n                        android:textSize=&quot;18sp&quot;\n                        app:chipCornerRadius=&quot;20dp&quot;\n                        style=&quot;@null&quot;\n                        /&gt;\n\n                &lt;/com.google.android.material.chip.ChipGroup&gt;\n\n            &lt;/HorizontalScrollView&gt;\n\n            &lt;View\n                android:id=&quot;@+id/view_divider&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;1dp&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/chiptab_container&quot;\n                android:background=&quot;@color/chip_bg_color&quot;\n                /&gt;\n\n\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:visibility=&quot;visible&quot;\n                android:id=&quot;@+id/recyclerview&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;0dp&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/view_divider&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                android:layout_marginBottom=&quot;100dp&quot;\n                /&gt;\n\n\n            &lt;include\n                android:visibility=&quot;gone&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;0dp&quot;\n                layout=&quot;@layout/home_for_you_fragment_activity_layout&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/view_divider&quot;\n                /&gt;\n\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","rabbitmq"],"comments":[{"owner":{"account_id":11624596,"reputation":1170,"user_id":8514772,"display_name":"Pradipta Sarma"},"score":0,"creation_date":1585032901,"post_id":60825661,"comment_id":107617414,"body_markdown":"Doesn&#39;t seem like Rabbit services are running. Check in task manager for the processes?","body":"Doesn&#39;t seem like Rabbit services are running. Check in task manager for the processes?"},{"owner":{"account_id":12730678,"reputation":2541,"user_id":9247465,"accept_rate":100,"display_name":"AConsumer"},"score":0,"creation_date":1585040977,"post_id":60825661,"comment_id":107620347,"body_markdown":"i can see it computer management -&gt; service and applications @PradiptaSarma","body":"i can see it computer management -&gt; service and applications @PradiptaSarma"}],"answers":[{"tags":[],"owner":{"account_id":17706289,"reputation":1,"user_id":12854784,"display_name":"Sachin Chemate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585033631,"creation_date":1585033631,"answer_id":60826326,"question_id":60825661,"body_markdown":"The management UI can be accessed using a Web browser at http://{node-hostname}:15672/\r\n\r\nThe management plugin is included in the RabbitMQ distribution. Like any other plugin, it must be enabled before it can be used. \r\n\r\nplease refer below URL:\r\nhttps://www.rabbitmq.com/management.html\r\n","title":"RabbitMQ is running still getting connection refused Connect Exception","body":"<p>The management UI can be accessed using a Web browser at http://{node-hostname}:15672/</p>\n\n<p>The management plugin is included in the RabbitMQ distribution. Like any other plugin, it must be enabled before it can be used. </p>\n\n<p>please refer below URL:\n<a href=\"https://www.rabbitmq.com/management.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/management.html</a></p>\n"},{"tags":[],"owner":{"account_id":12730678,"reputation":2541,"user_id":9247465,"accept_rate":100,"display_name":"AConsumer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1585674462,"creation_date":1585674462,"answer_id":60956071,"question_id":60825661,"body_markdown":" 1. Stop rabbitmq\r\n 2. Create the RABBITMQ_BASE environment variable set its value to full\r\n        path of rabbit mq server. (eg. C:\\Program Files\\RabbitMQ Server)\r\n 3. Restart the rabbit mq and make sure the rabbit mq plugin is enabled.\r\n\r\n","title":"RabbitMQ is running still getting connection refused Connect Exception","body":"<ol>\n<li>Stop rabbitmq</li>\n<li>Create the RABBITMQ_BASE environment variable set its value to full\n    path of rabbit mq server. (eg. C:\\Program Files\\RabbitMQ Server)</li>\n<li>Restart the rabbit mq and make sure the rabbit mq plugin is enabled.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":29817146,"reputation":1,"user_id":22851205,"display_name":"Anas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699250090,"creation_date":1699000331,"answer_id":77415178,"question_id":60825661,"body_markdown":"In my case I did the following steps :\r\n\r\nOpen a command prompt and type\r\n```bash\r\nCD C:\\Program Files\\RabbitMQ Server\\rabbitmq_server-3.12.7\\sbin\r\n```\r\nThen\r\n```\r\nrabbitmq-plugins enable rabbitmq_management\r\n```\r\nNow you should access it using http://localhost:15672/.","title":"RabbitMQ is running still getting connection refused Connect Exception","body":"<p>In my case I did the following steps :</p>\n<p>Open a command prompt and type</p>\n<pre class=\"lang-bash prettyprint-override\"><code>CD C:\\Program Files\\RabbitMQ Server\\rabbitmq_server-3.12.7\\sbin\n</code></pre>\n<p>Then</p>\n<pre><code>rabbitmq-plugins enable rabbitmq_management\n</code></pre>\n<p>Now you should access it using http://localhost:15672/.</p>\n"}],"owner":{"account_id":12730678,"reputation":2541,"user_id":9247465,"accept_rate":100,"display_name":"AConsumer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6743,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60956071,"answer_count":3,"score":1,"last_activity_date":1699250090,"creation_date":1585029520,"question_id":60825661,"body_markdown":"I have installed rabbit MQ 3.8.3 on windows 10 and I can see it is running as windows services.\r\nWhen I try to access http://localhost:15672/ it is unreachable.\r\n\r\nI have enabled the rabbit MQ management plugin in sbin directory\r\nrabbitmq-plugins enable rabbitmq_management\r\n\r\nBut still, http://localhost:15672/ is unreachable.\r\n\r\nGetting the following error in java service :\r\n\r\n    org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect\r\n\r\nI have also run the command to see if anything is running on port 5672:\r\n\r\nCommand :  `netstat -ano | find &quot;5672&quot;`\r\n\r\nResponse : `TCP    0.0.0.0:25672          0.0.0.0:0              LISTENING       2900`\r\n\r\nHow do I fix this?","title":"RabbitMQ is running still getting connection refused Connect Exception","body":"<p>I have installed rabbit MQ 3.8.3 on windows 10 and I can see it is running as windows services.\nWhen I try to access <a href=\"http://localhost:15672/\" rel=\"nofollow noreferrer\">http://localhost:15672/</a> it is unreachable.</p>\n\n<p>I have enabled the rabbit MQ management plugin in sbin directory\nrabbitmq-plugins enable rabbitmq_management</p>\n\n<p>But still, <a href=\"http://localhost:15672/\" rel=\"nofollow noreferrer\">http://localhost:15672/</a> is unreachable.</p>\n\n<p>Getting the following error in java service :</p>\n\n<pre><code>org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect\n</code></pre>\n\n<p>I have also run the command to see if anything is running on port 5672:</p>\n\n<p>Command :  <code>netstat -ano | find \"5672\"</code></p>\n\n<p>Response : <code>TCP    0.0.0.0:25672          0.0.0.0:0              LISTENING       2900</code></p>\n\n<p>How do I fix this?</p>\n"},{"tags":["java","jshell"],"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1699249679,"creation_date":1699249679,"question_id":77428984,"body_markdown":"How do you use `jdk.jshell.CompletenessAnalyzer` ? this class is not public !        \r\nI want to implement my own shell with jshell with my own custom commands like /bin/bash .         \r\nhow can implement auto completion ?       \r\njshell support double tab for auto completion , but i can not understand how can implement for my own commands .     \r\nthis is my example code :      \r\n```\r\nimport jdk.jshell.JShell;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class App {\r\n    private static JShell jshell;\r\n\r\n    public static void main(String[] args) {\r\n        jshell = JShell.create();\r\n\r\n        System.out.println(&quot;Custom Shell&quot;);\r\n        System.out.println(&quot;Type &#39;/exit&#39; to exit the shell&quot;);\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        String userInput;\r\n\r\n        do {\r\n            System.out.print(&quot;&gt; &quot;);\r\n            userInput = scanner.nextLine();\r\n\r\n            if (!userInput.equals(&quot;/exit&quot;)) {\r\n                executeCommand(userInput);\r\n            }\r\n        } while (!userInput.equals(&quot;/exit&quot;));\r\n\r\n        jshell.close();\r\n        scanner.close();\r\n    }\r\n\r\n    private static void executeCommand(String command) {\r\n        jshell.eval(command).forEach(System.out::println);\r\n    }\r\n}\r\n```     \r\n**Note** : i won&#39;t to use jline . ","title":"Java jdk.jshell.CompletenessAnalyzer","body":"<p>How do you use <code>jdk.jshell.CompletenessAnalyzer</code> ? this class is not public !<br />\nI want to implement my own shell with jshell with my own custom commands like /bin/bash .<br />\nhow can implement auto completion ?<br />\njshell support double tab for auto completion , but i can not understand how can implement for my own commands .<br />\nthis is my example code :</p>\n<pre><code>import jdk.jshell.JShell;\n\nimport java.util.Scanner;\n\npublic class App {\n    private static JShell jshell;\n\n    public static void main(String[] args) {\n        jshell = JShell.create();\n\n        System.out.println(&quot;Custom Shell&quot;);\n        System.out.println(&quot;Type '/exit' to exit the shell&quot;);\n\n        Scanner scanner = new Scanner(System.in);\n        String userInput;\n\n        do {\n            System.out.print(&quot;&gt; &quot;);\n            userInput = scanner.nextLine();\n\n            if (!userInput.equals(&quot;/exit&quot;)) {\n                executeCommand(userInput);\n            }\n        } while (!userInput.equals(&quot;/exit&quot;));\n\n        jshell.close();\n        scanner.close();\n    }\n\n    private static void executeCommand(String command) {\n        jshell.eval(command).forEach(System.out::println);\n    }\n}\n</code></pre>\n<p><strong>Note</strong> : i won't to use jline .</p>\n"},{"tags":["java","spring","spring-boot","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":27226326,"reputation":43,"user_id":20754780,"display_name":"tsavaph"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671990727,"creation_date":1671990727,"answer_id":74914972,"question_id":74912836,"body_markdown":"I used Postman and it helped me to get the right URL for an authentification code.\r\nThe link is `http://localhost:9000/oauth2/authorize?response_type=code&amp;client_id=sandwich-admin-client&amp;scope=writeIngredients deleteIngredients&amp;redirect_uri=http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client`\r\n\r\nPostman request is shown on the picture below\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DM0Ph.png","title":"Can&#39;t get an authorization code from spring-security-oauth2-authorization-server 1.0.0","body":"<p>I used Postman and it helped me to get the right URL for an authentification code.\nThe link is <code>http://localhost:9000/oauth2/authorize?response_type=code&amp;client_id=sandwich-admin-client&amp;scope=writeIngredients deleteIngredients&amp;redirect_uri=http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client</code></p>\n<p>Postman request is shown on the picture below\n<a href=\"https://i.stack.imgur.com/DM0Ph.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DM0Ph.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":21757681,"reputation":1,"user_id":16062767,"display_name":"Алексей Конопацкий"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699247097,"creation_date":1699247097,"answer_id":77428844,"question_id":74912836,"body_markdown":"Your link is incorrect, there is an extra dash before the &quot;scope&quot; parameter &quot;&amp;-scope&quot;.\r\nhttp://localhost:9000/oauth2/authorize?response_type=code&amp;client_id=sandwich-admin-client&amp;redirect_uri=http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client&amp;scope=writeIngredients+deleteIngredients","title":"Can&#39;t get an authorization code from spring-security-oauth2-authorization-server 1.0.0","body":"<p>Your link is incorrect, there is an extra dash before the &quot;scope&quot; parameter &quot;&amp;-scope&quot;.\nhttp://localhost:9000/oauth2/authorize?response_type=code&amp;client_id=sandwich-admin-client&amp;redirect_uri=http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client&amp;scope=writeIngredients+deleteIngredients</p>\n"}],"owner":{"account_id":27226326,"reputation":43,"user_id":20754780,"display_name":"tsavaph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":993,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74914972,"answer_count":2,"score":0,"last_activity_date":1699247097,"creation_date":1671965299,"question_id":74912836,"body_markdown":"I can&#39;t get a authorization code from http request from browser  using link `http://localhost:9000/oauth2/authorize?response_type=code&amp;client_id=sandwich-admin-client&amp;redirect_uri=http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client&amp;-scope=writeIngredients+deleteIngredients`.\r\n\r\nI believe I have to see code parameter in browser’s address bar.\r\n\r\nOnce I sign in (user has ROLE_ADMIN) and then &quot;Submit Consent&quot; I receive link `http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client?error=access_denied&amp;error_description=OAuth 2.0 Parameter: client_id&amp;error_uri=https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.2.1` and refusal to connect. It is client id error, but it is the same as configured in the link.\r\n\r\nIs my linked is wrong or is there any mistake in my code?\r\n\r\nHere is my AuthorizationServerConfig class:\r\n\r\n```\r\n@Configuration(proxyBeanMethods = false)\r\npublic class AuthorizationServerConfig {\r\n\r\n    @Bean\r\n    @Order(2)\r\n    public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http)\r\n            throws Exception {\r\n        http\r\n                .authorizeHttpRequests(authorize -&gt; authorize.anyRequest().authenticated())\r\n                .formLogin(Customizer.withDefaults());\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    UserDetailsService userDetailsService(UserRepository userRepo) {\r\n        return username -&gt; userRepo.findByUsername(username);\r\n    }\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    @Order(1)\r\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http)\r\n            throws Exception {\r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\r\n                .oidc(Customizer.withDefaults());\t// Enable OpenID Connect 1.0\r\n        http\r\n                .exceptionHandling((exceptions) -&gt; exceptions\r\n                        .authenticationEntryPoint(\r\n                                new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;))\r\n                )\r\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public RegisteredClientRepository registeredClientRepository(PasswordEncoder passwordEncoder) {\r\n        RegisteredClient registeredClient = RegisteredClient.withId(UUID.randomUUID().toString())\r\n                .clientId(&quot;sandwich-admin-client&quot;)\r\n                .clientSecret(passwordEncoder.encode(&quot;secret&quot;))\r\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n                .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n                .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\r\n                .redirectUri(&quot;http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client&quot;)\r\n                .scope(&quot;writeIngredients&quot;)\r\n                .scope(&quot;deleteIngredients&quot;)\r\n                .scope(OidcScopes.OPENID)\r\n                .clientSettings(ClientSettings.builder().requireAuthorizationConsent(true).build())\r\n                .build();\r\n        return new InMemoryRegisteredClientRepository(registeredClient);\r\n    }\r\n\r\n    @Bean\r\n    public JWKSource&lt;SecurityContext&gt; jwkSource() {\r\n        KeyPair keyPair = generateRsaKey();\r\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\r\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\r\n        RSAKey rsaKey = new RSAKey.Builder(publicKey)\r\n                .privateKey(privateKey)\r\n                .keyID(UUID.randomUUID().toString())\r\n                .build();\r\n        JWKSet jwkSet = new JWKSet(rsaKey);\r\n        return new ImmutableJWKSet&lt;&gt;(jwkSet);\r\n    }\r\n\r\n    private static KeyPair generateRsaKey() {\r\n        KeyPair keyPair;\r\n        try {\r\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n            keyPairGenerator.initialize(2048);\r\n            keyPair = keyPairGenerator.generateKeyPair();\r\n        }\r\n        catch (Exception ex) {\r\n            throw new IllegalStateException(ex);\r\n        }\r\n        return keyPair;\r\n    }\r\n\r\n    @Bean\r\n    public JwtDecoder jwtDecoder(JWKSource&lt;SecurityContext&gt; jwkSource) {\r\n        return OAuth2AuthorizationServerConfiguration.jwtDecoder(jwkSource);\r\n    }\r\n\r\n    @Bean\r\n    public AuthorizationServerSettings authorizationServerSettings() {\r\n        return AuthorizationServerSettings.builder().build();\r\n    }\r\n}\r\n```\r\n","title":"Can&#39;t get an authorization code from spring-security-oauth2-authorization-server 1.0.0","body":"<p>I can't get a authorization code from http request from browser  using link <code>http://localhost:9000/oauth2/authorize?response_type=code&amp;client_id=sandwich-admin-client&amp;redirect_uri=http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client&amp;-scope=writeIngredients+deleteIngredients</code>.</p>\n<p>I believe I have to see code parameter in browser’s address bar.</p>\n<p>Once I sign in (user has ROLE_ADMIN) and then &quot;Submit Consent&quot; I receive link <code>http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client?error=access_denied&amp;error_description=OAuth 2.0 Parameter: client_id&amp;error_uri=https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.2.1</code> and refusal to connect. It is client id error, but it is the same as configured in the link.</p>\n<p>Is my linked is wrong or is there any mistake in my code?</p>\n<p>Here is my AuthorizationServerConfig class:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\npublic class AuthorizationServerConfig {\n\n    @Bean\n    @Order(2)\n    public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http)\n            throws Exception {\n        http\n                .authorizeHttpRequests(authorize -&gt; authorize.anyRequest().authenticated())\n                .formLogin(Customizer.withDefaults());\n\n        return http.build();\n    }\n\n    @Bean\n    UserDetailsService userDetailsService(UserRepository userRepo) {\n        return username -&gt; userRepo.findByUsername(username);\n    }\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    @Order(1)\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http)\n            throws Exception {\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\n                .oidc(Customizer.withDefaults());   // Enable OpenID Connect 1.0\n        http\n                .exceptionHandling((exceptions) -&gt; exceptions\n                        .authenticationEntryPoint(\n                                new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;))\n                )\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n\n        return http.build();\n    }\n\n    @Bean\n    public RegisteredClientRepository registeredClientRepository(PasswordEncoder passwordEncoder) {\n        RegisteredClient registeredClient = RegisteredClient.withId(UUID.randomUUID().toString())\n                .clientId(&quot;sandwich-admin-client&quot;)\n                .clientSecret(passwordEncoder.encode(&quot;secret&quot;))\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n                .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n                .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\n                .redirectUri(&quot;http://127.0.0.1:9090/login/oauth2/code/sandwich-admin-client&quot;)\n                .scope(&quot;writeIngredients&quot;)\n                .scope(&quot;deleteIngredients&quot;)\n                .scope(OidcScopes.OPENID)\n                .clientSettings(ClientSettings.builder().requireAuthorizationConsent(true).build())\n                .build();\n        return new InMemoryRegisteredClientRepository(registeredClient);\n    }\n\n    @Bean\n    public JWKSource&lt;SecurityContext&gt; jwkSource() {\n        KeyPair keyPair = generateRsaKey();\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\n        RSAKey rsaKey = new RSAKey.Builder(publicKey)\n                .privateKey(privateKey)\n                .keyID(UUID.randomUUID().toString())\n                .build();\n        JWKSet jwkSet = new JWKSet(rsaKey);\n        return new ImmutableJWKSet&lt;&gt;(jwkSet);\n    }\n\n    private static KeyPair generateRsaKey() {\n        KeyPair keyPair;\n        try {\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n            keyPairGenerator.initialize(2048);\n            keyPair = keyPairGenerator.generateKeyPair();\n        }\n        catch (Exception ex) {\n            throw new IllegalStateException(ex);\n        }\n        return keyPair;\n    }\n\n    @Bean\n    public JwtDecoder jwtDecoder(JWKSource&lt;SecurityContext&gt; jwkSource) {\n        return OAuth2AuthorizationServerConfiguration.jwtDecoder(jwkSource);\n    }\n\n    @Bean\n    public AuthorizationServerSettings authorizationServerSettings() {\n        return AuthorizationServerSettings.builder().build();\n    }\n}\n</code></pre>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":3,"creation_date":1699245293,"post_id":77428741,"comment_id":136502726,"body_markdown":"One way to improve a large amount of BigDecimal arithmetic being used is to use less BigDecimal arithmetic. What is it being used for? Are there alternatives?","body":"One way to improve a large amount of BigDecimal arithmetic being used is to use less BigDecimal arithmetic. What is it being used for? Are there alternatives?"},{"owner":{"account_id":5398341,"reputation":163,"user_id":8192138,"display_name":"onRiv"},"score":0,"creation_date":1699245753,"post_id":77428741,"comment_id":136502754,"body_markdown":"@harold Most of them are used for switching amount between different currencies, calculating coupons or taxes. Yeah some of them could be replaced by double float point operations I think, although it’s quite subtle.","body":"@harold Most of them are used for switching amount between different currencies, calculating coupons or taxes. Yeah some of them could be replaced by double float point operations I think, although it’s quite subtle."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":5,"creation_date":1699245923,"post_id":77428741,"comment_id":136502769,"body_markdown":"Could it be done with fixed-point arithmetic (implicitly scaled by a fixed power of ten) with plain old `long`?","body":"Could it be done with fixed-point arithmetic (implicitly scaled by a fixed power of ten) with plain old <code>long</code>?"},{"owner":{"account_id":5398341,"reputation":163,"user_id":8192138,"display_name":"onRiv"},"score":0,"creation_date":1699246071,"post_id":77428741,"comment_id":136502782,"body_markdown":"It’s a good idea.  Let me check the codebase to see if it’s possible. Thank you very much @harold","body":"It’s a good idea.  Let me check the codebase to see if it’s possible. Thank you very much @harold"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1699247625,"post_id":77428741,"comment_id":136502902,"body_markdown":"Make sure that you have a good test suite which will pick up any problems you introduce.","body":"Make sure that you have a good test suite which will pick up any problems you introduce."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1699251890,"post_id":77428741,"comment_id":136503260,"body_markdown":"And do not even consider floating-point.","body":"And do not even consider floating-point."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1699253797,"post_id":77428741,"comment_id":136503474,"body_markdown":"Floating-point is [*not* the solution](https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems) here.","body":"Floating-point is <a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\" rel=\"nofollow noreferrer\"><i>not</i> the solution</a> here."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1699983788,"post_id":77428741,"comment_id":136598185,"body_markdown":"The fact that your JFR screenshot shows that you&#39;re calling `BigDecimal.valueOf(double)` means that your application may be experiencing loss of precision, as you&#39;re using double _somewhere_. It may be unavoidable (for example, if you&#39;re calculating options/futures/derivatives, it would be unavoidable). But if double can be avoided, avoid it.","body":"The fact that your JFR screenshot shows that you&#39;re calling <code>BigDecimal.valueOf(double)</code> means that your application may be experiencing loss of precision, as you&#39;re using double <i>somewhere</i>. It may be unavoidable (for example, if you&#39;re calculating options/futures/derivatives, it would be unavoidable). But if double can be avoided, avoid it."}],"owner":{"account_id":5398341,"reputation":163,"user_id":8192138,"display_name":"onRiv"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1699245111,"creation_date":1699245111,"question_id":77428741,"body_markdown":"In a web application I concerned, there is a blizzard of BigDecimal operations. Is there any way to optimize this in both memory footprint and cpu util?\r\n\r\nI want to write some specific implementations like `BigDecimal2` or `BigDecimal10` for making the fields like `scale` and `precision` static. Nevertheless, I am not sure how much this can improve, or how much does it impact on the codebase.\r\n\r\nThe following screenshot is taken from jfr:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KY5oF.png","title":"Optimize BigDecimal in java","body":"<p>In a web application I concerned, there is a blizzard of BigDecimal operations. Is there any way to optimize this in both memory footprint and cpu util?</p>\n<p>I want to write some specific implementations like <code>BigDecimal2</code> or <code>BigDecimal10</code> for making the fields like <code>scale</code> and <code>precision</code> static. Nevertheless, I am not sure how much this can improve, or how much does it impact on the codebase.</p>\n<p>The following screenshot is taken from jfr:</p>\n<p><a href=\"https://i.stack.imgur.com/KY5oF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KY5oF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arraylist","minecraft"],"comments":[{"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"score":0,"creation_date":1518216764,"post_id":48715244,"comment_id":84429676,"body_markdown":"That is because that is how the result of `ArrayList.toString()` looks like. If you&#39;re only trying to keep a reference to only one `String`, do that using a `String` variable instead of an `ArrayList`","body":"That is because that is how the result of <code>ArrayList.toString()</code> looks like. If you&#39;re only trying to keep a reference to only one <code>String</code>, do that using a <code>String</code> variable instead of an <code>ArrayList</code>"},{"owner":{"account_id":11410788,"reputation":31,"user_id":8364994,"display_name":"Jackson Roberts"},"score":0,"creation_date":1518217023,"post_id":48715244,"comment_id":84429752,"body_markdown":"Could you me more specific?","body":"Could you me more specific?"},{"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"score":0,"creation_date":1518217132,"post_id":48715244,"comment_id":84429778,"body_markdown":"Instead of `public static ArrayList&lt;String&gt; target = new ArrayList&lt;String&gt;();` use `public static String target;` and instead of `target.add(player.getPlayerListName());` use `target = player.getPlayerListName();`. This will make it work but is not an optimal solution in my opinion.","body":"Instead of <code>public static ArrayList&lt;String&gt; target = new ArrayList&lt;String&gt;();</code> use <code>public static String target;</code> and instead of <code>target.add(player.getPlayerListName());</code> use <code>target = player.getPlayerListName();</code>. This will make it work but is not an optimal solution in my opinion."}],"answers":[{"tags":[],"owner":{"account_id":1231743,"reputation":3244,"user_id":1196170,"accept_rate":48,"display_name":"jprism"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1518217223,"creation_date":1518217223,"answer_id":48715355,"question_id":48715244,"body_markdown":"This is because of toString method of ArrayList class.\r\n\r\nExtends the ArryList class and override the toString\r\n\r\n    \r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;()\r\n    {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Override public String toString()\r\n        {\r\n            return super.toString().substring(1,super.toString().length-1) ;\r\n        }\r\n    };\r\n\r\n","title":"How to extract a string from an ArrayList in Java?","body":"<p>This is because of toString method of ArrayList class.</p>\n\n<p>Extends the ArryList class and override the toString</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;()\n{\n    private static final long serialVersionUID = 1L;\n\n    @Override public String toString()\n    {\n        return super.toString().substring(1,super.toString().length-1) ;\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104678,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1518217984,"creation_date":1518217984,"answer_id":48715463,"question_id":48715244,"body_markdown":"Speaking absolutely nothing to the Minecraft angle, if you wanted to get the list of elements back and not have to print the collection, you could aggregate it with a `StringJoiner` instead.\r\n\r\n    String values = String.join(&quot;,&quot;, target);\r\n    System.out.println(values);","title":"How to extract a string from an ArrayList in Java?","body":"<p>Speaking absolutely nothing to the Minecraft angle, if you wanted to get the list of elements back and not have to print the collection, you could aggregate it with a <code>StringJoiner</code> instead.</p>\n\n<pre><code>String values = String.join(\",\", target);\nSystem.out.println(values);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9955769,"reputation":304,"user_id":7366749,"display_name":"George Andrews"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1518218129,"creation_date":1518218129,"answer_id":48715477,"question_id":48715244,"body_markdown":"Just expanding on what Titus has said in their comment. \r\n\r\nInstead of using `ArrayList`, try using a `String` as the type for target. This will allow the output to be `player executed command: /kill HoloPanio`.\r\n\r\n    String target = Main.target;\r\n\r\n    @EventHandler\r\n    public void invClickEvent(InventoryClickEvent e) {\r\n\r\n       Inventory inv = e.getInventory();\r\n       Player player = (Player) e.getWhoClicked();\r\n\r\n       String name = inv.getName();\r\n       if ( name.equals(ChatColor.RED + &quot;Ban Menu&quot;)) {\r\n\r\n           e.setCancelled(true);\r\n           int slot = e.getSlot();\r\n           if (slot &lt; 0)\r\n           {\r\n               return;\r\n           }\r\n           if (slot == 0)\r\n           {\r\n               player.performCommand(&quot;kill &quot; + target);\r\n               player.closeInventory();\r\n               return;\r\n           }\r\n\r\nThe below would be updated to initial target as an empty `String`. Note that a static variable will be updated for every user of this class. This means that any other code accessing this class will have the same target. And, any other code accessing this class can change the target. \r\n\r\n    public static String target = &quot;&quot;;\r\n\r\n    public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\r\n\r\n\r\n\r\n        if (sender instanceof Player &amp;&amp; args.length == 1)\r\n        {\r\n            Player p = (Player) sender;\r\n            if (args.length &gt; 0) {\r\n                switch (args.length)\r\n                {\r\n                case 1: \r\n                  Player player = Bukkit.getPlayer(args[0]);\r\n                  if (player == null) {\r\n                    sender.sendMessage(&quot;That player is not online&quot;);\r\n\r\n                  } else if (player.isOnline()) {\r\n\r\n                      Menus.openMenu(p);\r\n                      target = player.getPlayerListName();\r\n\r\n                  }\r\n\r\nAlso as Titus said, this is not the best solution because, as a static variable, the `target` will likely change when you don&#39;t want it to (or will end up being the same when you want it to change). But, this should solve the command issue. ","title":"How to extract a string from an ArrayList in Java?","body":"<p>Just expanding on what Titus has said in their comment. </p>\n\n<p>Instead of using <code>ArrayList</code>, try using a <code>String</code> as the type for target. This will allow the output to be <code>player executed command: /kill HoloPanio</code>.</p>\n\n<pre><code>String target = Main.target;\n\n@EventHandler\npublic void invClickEvent(InventoryClickEvent e) {\n\n   Inventory inv = e.getInventory();\n   Player player = (Player) e.getWhoClicked();\n\n   String name = inv.getName();\n   if ( name.equals(ChatColor.RED + \"Ban Menu\")) {\n\n       e.setCancelled(true);\n       int slot = e.getSlot();\n       if (slot &lt; 0)\n       {\n           return;\n       }\n       if (slot == 0)\n       {\n           player.performCommand(\"kill \" + target);\n           player.closeInventory();\n           return;\n       }\n</code></pre>\n\n<p>The below would be updated to initial target as an empty <code>String</code>. Note that a static variable will be updated for every user of this class. This means that any other code accessing this class will have the same target. And, any other code accessing this class can change the target. </p>\n\n<pre><code>public static String target = \"\";\n\npublic boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n\n\n\n    if (sender instanceof Player &amp;&amp; args.length == 1)\n    {\n        Player p = (Player) sender;\n        if (args.length &gt; 0) {\n            switch (args.length)\n            {\n            case 1: \n              Player player = Bukkit.getPlayer(args[0]);\n              if (player == null) {\n                sender.sendMessage(\"That player is not online\");\n\n              } else if (player.isOnline()) {\n\n                  Menus.openMenu(p);\n                  target = player.getPlayerListName();\n\n              }\n</code></pre>\n\n<p>Also as Titus said, this is not the best solution because, as a static variable, the <code>target</code> will likely change when you don't want it to (or will end up being the same when you want it to change). But, this should solve the command issue. </p>\n"},{"tags":[],"owner":{"account_id":11608543,"reputation":65,"user_id":8503392,"display_name":"javaxplain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518273047,"creation_date":1518273047,"answer_id":48721826,"question_id":48715244,"body_markdown":"This is default ArrayList toString.\r\n\r\nUse to String.join to remove the brackets\r\n\r\n    String result = String.join(&quot;&quot;, list);","title":"How to extract a string from an ArrayList in Java?","body":"<p>This is default ArrayList toString.</p>\n\n<p>Use to String.join to remove the brackets</p>\n\n<pre><code>String result = String.join(\"\", list);\n</code></pre>\n"}],"owner":{"account_id":11410788,"reputation":31,"user_id":8364994,"display_name":"Jackson Roberts"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2060,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48715477,"answer_count":4,"score":1,"last_activity_date":1699244727,"creation_date":1518216514,"question_id":48715244,"body_markdown":"So I am making a plugin for a Minecraft server and I had to get my command command argument from one class to another and After trying multiple things, I started using an ArrayList&lt;String&gt;, It worked for the most part but it put brackets around\r\nthe argument.\r\n\r\n```java\r\nArrayList&lt;String&gt; target = Main.target;\r\n      \r\n@EventHandler\r\npublic void invClickEvent(InventoryClickEvent e) {\r\n  \r\n  Inventory inv = e.getInventory();\r\n  Player player = (Player) e.getWhoClicked();\r\n  \r\n  String name = inv.getName();\r\n  if ( name.equals(ChatColor.RED + &quot;Ban Menu&quot;)) {\r\n  \r\n    e.setCancelled(true);\r\n    int slot = e.getSlot();\r\n    if (slot &lt; 0) return;\r\n    if (slot == 0) {\r\n      player.performCommand(&quot;kill &quot; + target);\r\n      player.closeInventory();\r\n      return;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThat is the code that is giving me troubles.  It is pulling the data from my main class.  It the ArrayList is pulling text from an argument.\r\n\r\n```java\r\npublic static ArrayList&lt;String&gt; target = new ArrayList&lt;String&gt;();\r\npublic boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\r\n\r\nif (sender instanceof Player &amp;&amp; args.length == 1) {\r\n  Player p = (Player) sender;\r\n  if (args.length &gt; 0) {\r\n    switch (args.length) {\r\n      case 1: \r\n        Player player = Bukkit.getPlayer(args[0]);\r\n        if (player == null) {\r\n          sender.sendMessage(&quot;That player is not online&quot;);\r\n          \r\n        } else if (player.isOnline()) {\r\n      \r\n          Menus.openMenu(p);\r\n          target.add(player.getPlayerListName());\r\n          \r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThat is where the array is pulling the argument. The output would be something like `player executed command: /kill [HoloPanio]` and I want it to output `player executed command: /kill HoloPanio`\r\n\r\nIf there is another method to import the arguments please let me know, if not then please tell me how to fix this issue.\r\n\r\nThanks!\r\n\r\n# **Clarification**\r\nTo clarify on what I originally meant with this question was that I was trying to store a string inside of an ArrayList in Java, and when I went to retrieve the value I was expecting nothing but a plain string.\r\n\r\nI was in fact using the incorrect type for the variable that I was assigning the string to.  I should&#39;ve been using type `String` as pointed out by several people.  so the correct way of doing this would look like: \r\n\r\n```java\r\npublic String target;\r\npublic boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\r\n\r\n  if (sender instanceof Player &amp;&amp; args.length == 1) {\r\n      Player p = (Player) sender;\r\n      if (args.length &gt; 0) {\r\n          switch (args.length) {\r\n          case 1: \r\n            Player player = Bukkit.getPlayer(args[0]);\r\n            if (player == null) {\r\n              sender.sendMessage(&quot;That player is not online&quot;);\r\n              \r\n            } else if (player.isOnline()) {\r\n          \r\n              Menus.openMenu(p);\r\n              target = player.getPlayerListName();\r\n              \r\n            }\r\n          }\r\n      }\r\n  }\r\n}\r\n```\r\n\r\nIn the above code block I am declaring the `target` variable as a string then setting it further down with the line `target = player.getPlayerListName();`.  This is a much more efficient way defining the value. The only change that would need to be made to the first block is changing:\r\n```java\r\nArrayList&lt;String&gt; target = Main.target;\r\n```\r\nto \r\n```java\r\nString target = Main.target;\r\n```\r\n\r\n## **Final Note**\r\nThis post was originally written when I was still learning java and would like to add that I would not use an ArrayList for a string nor would I define it statically as I had done when this post was originally written.\r\n\r\n\r\n","title":"How to extract a string from an ArrayList in Java?","body":"<p>So I am making a plugin for a Minecraft server and I had to get my command command argument from one class to another and After trying multiple things, I started using an ArrayList, It worked for the most part but it put brackets around\nthe argument.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; target = Main.target;\n      \n@EventHandler\npublic void invClickEvent(InventoryClickEvent e) {\n  \n  Inventory inv = e.getInventory();\n  Player player = (Player) e.getWhoClicked();\n  \n  String name = inv.getName();\n  if ( name.equals(ChatColor.RED + &quot;Ban Menu&quot;)) {\n  \n    e.setCancelled(true);\n    int slot = e.getSlot();\n    if (slot &lt; 0) return;\n    if (slot == 0) {\n      player.performCommand(&quot;kill &quot; + target);\n      player.closeInventory();\n      return;\n    }\n  }\n}\n</code></pre>\n<p>That is the code that is giving me troubles.  It is pulling the data from my main class.  It the ArrayList is pulling text from an argument.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static ArrayList&lt;String&gt; target = new ArrayList&lt;String&gt;();\npublic boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n\nif (sender instanceof Player &amp;&amp; args.length == 1) {\n  Player p = (Player) sender;\n  if (args.length &gt; 0) {\n    switch (args.length) {\n      case 1: \n        Player player = Bukkit.getPlayer(args[0]);\n        if (player == null) {\n          sender.sendMessage(&quot;That player is not online&quot;);\n          \n        } else if (player.isOnline()) {\n      \n          Menus.openMenu(p);\n          target.add(player.getPlayerListName());\n          \n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>That is where the array is pulling the argument. The output would be something like <code>player executed command: /kill [HoloPanio]</code> and I want it to output <code>player executed command: /kill HoloPanio</code></p>\n<p>If there is another method to import the arguments please let me know, if not then please tell me how to fix this issue.</p>\n<p>Thanks!</p>\n<h1><strong>Clarification</strong></h1>\n<p>To clarify on what I originally meant with this question was that I was trying to store a string inside of an ArrayList in Java, and when I went to retrieve the value I was expecting nothing but a plain string.</p>\n<p>I was in fact using the incorrect type for the variable that I was assigning the string to.  I should've been using type <code>String</code> as pointed out by several people.  so the correct way of doing this would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String target;\npublic boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n\n  if (sender instanceof Player &amp;&amp; args.length == 1) {\n      Player p = (Player) sender;\n      if (args.length &gt; 0) {\n          switch (args.length) {\n          case 1: \n            Player player = Bukkit.getPlayer(args[0]);\n            if (player == null) {\n              sender.sendMessage(&quot;That player is not online&quot;);\n              \n            } else if (player.isOnline()) {\n          \n              Menus.openMenu(p);\n              target = player.getPlayerListName();\n              \n            }\n          }\n      }\n  }\n}\n</code></pre>\n<p>In the above code block I am declaring the <code>target</code> variable as a string then setting it further down with the line <code>target = player.getPlayerListName();</code>.  This is a much more efficient way defining the value. The only change that would need to be made to the first block is changing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; target = Main.target;\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>String target = Main.target;\n</code></pre>\n<h2><strong>Final Note</strong></h2>\n<p>This post was originally written when I was still learning java and would like to add that I would not use an ArrayList for a string nor would I define it statically as I had done when this post was originally written.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1624987051,"post_id":68182984,"comment_id":120505328,"body_markdown":"Returning a DAO (Data Access Object) is definitely *not* a good practice!! --- Returning a DTO (Data Transfer Object) would be.","body":"Returning a DAO (Data Access Object) is definitely <i>not</i> a good practice!! --- Returning a DTO (Data Transfer Object) would be."},{"owner":{"account_id":18114025,"reputation":295,"user_id":13170878,"display_name":"Valery"},"score":0,"creation_date":1624987167,"post_id":68182984,"comment_id":120505365,"body_markdown":"Oh, yes. My mistake. DTO instead of DAO. I will edit the question.","body":"Oh, yes. My mistake. DTO instead of DAO. I will edit the question."},{"owner":{"account_id":4712900,"reputation":3227,"user_id":3812888,"accept_rate":73,"display_name":"The Head Rush"},"score":0,"creation_date":1624987305,"post_id":68182984,"comment_id":120505415,"body_markdown":"Conciseness. In many cases your entity will contain properties that are unnecessary for a given operation. As a contrived example, shipping the full `User` entity to the client in order to print the user&#39;s name is probably overkill.","body":"Conciseness. In many cases your entity will contain properties that are unnecessary for a given operation. As a contrived example, shipping the full <code>User</code> entity to the client in order to print the user&#39;s name is probably overkill."},{"owner":{"account_id":18114025,"reputation":295,"user_id":13170878,"display_name":"Valery"},"score":0,"creation_date":1624987477,"post_id":68182984,"comment_id":120505475,"body_markdown":"I agree, but what if I need to return exactly the same structured object? So, I don&#39;t need to configure any of its properties.","body":"I agree, but what if I need to return exactly the same structured object? So, I don&#39;t need to configure any of its properties."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1624987561,"post_id":68182984,"comment_id":120505509,"body_markdown":"&quot;Tomorrow&quot; you will decide that the data is not to be stored in a local database (local to the web server), but should be accessible as a micro-service, at which point the DAO class will be changed to make a web service call, instead of connecting to the database directly. The data received from the micro-service are not &quot;entities&quot;. If you leak implementation outside the DAO API, making changes like that in the future will require a lot of changes. Prepare for the future!","body":"&quot;Tomorrow&quot; you will decide that the data is not to be stored in a local database (local to the web server), but should be accessible as a micro-service, at which point the DAO class will be changed to make a web service call, instead of connecting to the database directly. The data received from the micro-service are not &quot;entities&quot;. If you leak implementation outside the DAO API, making changes like that in the future will require a lot of changes. Prepare for the future!"},{"owner":{"account_id":18114025,"reputation":295,"user_id":13170878,"display_name":"Valery"},"score":0,"creation_date":1624987826,"post_id":68182984,"comment_id":120505596,"body_markdown":"Now it is clear! Thank you!","body":"Now it is clear! Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":4189805,"reputation":3365,"user_id":3432678,"accept_rate":100,"display_name":"Lorelorelore"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1699244201,"creation_date":1624987551,"answer_id":68183172,"question_id":68182984,"body_markdown":"Probably you mean a DTO (Data Transfer Object), not DAO (Data Access Object). Let me clarify this:\r\n\r\nData Transfer Object:\r\n\r\nA Pojo that represents a piece of information. Usually it has aggregated data in it.\r\n\r\nData Access Object:\r\n\r\nAn object that performs access to some kind of persistence storage for retrieving information, someone considers it a synonym of Repository, someone not.\r\n\r\nEntity:\r\n\r\nAn object that represents data that has been retrieved from the database.\r\n\r\nWhy is returning an Entity from the Service considered a bad practice?\r\n\r\nThe reason is that the Entity is something that is very close to the database. It contains primary key, someone could guess your database structure from it and the set of the data in case of query can be verbose. Hence, it is preferable to have some kind of logic, usually a mapper, that hides primary key and aggregates data to be less verbose and to not expose the db structure. Also, while the Entity is built on the table structure, the DTO can be customized in base of caller needs. Usually it contains exactly the data that is needed for some action and nothing more than this. Suppose you have third party software that calls your backend services: you should not expose the db structure (Entities) to this service. It is better to define a contract, with the minimal information needed for this third party service to operate, and expose only this part of the information, hiding all the rest.\r\n\r\nHope that&#39;s a little bit more clear now.\r\n\r\nEdit:\r\nOf course there are other good reasons for using DTOs instead of Entities, this is only an introductory explanation to the subject.","title":"Returning Entity from Service method is a bad practice?","body":"<p>Probably you mean a DTO (Data Transfer Object), not DAO (Data Access Object). Let me clarify this:</p>\n<p>Data Transfer Object:</p>\n<p>A Pojo that represents a piece of information. Usually it has aggregated data in it.</p>\n<p>Data Access Object:</p>\n<p>An object that performs access to some kind of persistence storage for retrieving information, someone considers it a synonym of Repository, someone not.</p>\n<p>Entity:</p>\n<p>An object that represents data that has been retrieved from the database.</p>\n<p>Why is returning an Entity from the Service considered a bad practice?</p>\n<p>The reason is that the Entity is something that is very close to the database. It contains primary key, someone could guess your database structure from it and the set of the data in case of query can be verbose. Hence, it is preferable to have some kind of logic, usually a mapper, that hides primary key and aggregates data to be less verbose and to not expose the db structure. Also, while the Entity is built on the table structure, the DTO can be customized in base of caller needs. Usually it contains exactly the data that is needed for some action and nothing more than this. Suppose you have third party software that calls your backend services: you should not expose the db structure (Entities) to this service. It is better to define a contract, with the minimal information needed for this third party service to operate, and expose only this part of the information, hiding all the rest.</p>\n<p>Hope that's a little bit more clear now.</p>\n<p>Edit:\nOf course there are other good reasons for using DTOs instead of Entities, this is only an introductory explanation to the subject.</p>\n"}],"owner":{"account_id":18114025,"reputation":295,"user_id":13170878,"display_name":"Valery"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1767,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68183172,"answer_count":1,"score":2,"last_activity_date":1699244201,"creation_date":1624986514,"question_id":68182984,"body_markdown":"I&#39;ve heard when you want to return some object from a service method, you have to define a DTO object (or POJO object generated with JSON Schema) instead of using an Entity.\r\n\r\nTo make it clear, here is the example:\r\n\r\nWe have an entity and a jpa repository for it:\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;tables&quot;)\r\npublic class Table {\r\n    @Id\r\n    private Long id;\r\n    private String brand;\r\n}\r\n```\r\nThis is a **bad** practice:\r\n```\r\n@Service\r\npublic class MyService {\r\n    @Autowired\r\n    private TableRepository tableRepository;\r\n\r\n    @Transactional\r\n    public Table create() {\r\n        Table table = new Table();\r\n        // Some logic for creating and saving table\r\n        return table;\r\n    }\r\n}\r\n```\r\nThis is a **good** practice:\r\n```\r\n@Service\r\npublic class MyService {\r\n    @Autowired\r\n    private TableRepository tableRepository;\r\n\r\n    @Transactional\r\n    public TableDTO create() {\r\n        Table table = new Table();\r\n        // Some logic for creating and saving table\r\n        // Logic for converting Table object to TableDTO object\r\n        return tableDTO;\r\n    }\r\n}\r\n```\r\nWhy is this so?\r\n\r\nThank you!","title":"Returning Entity from Service method is a bad practice?","body":"<p>I've heard when you want to return some object from a service method, you have to define a DTO object (or POJO object generated with JSON Schema) instead of using an Entity.</p>\n<p>To make it clear, here is the example:</p>\n<p>We have an entity and a jpa repository for it:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;tables&quot;)\npublic class Table {\n    @Id\n    private Long id;\n    private String brand;\n}\n</code></pre>\n<p>This is a <strong>bad</strong> practice:</p>\n<pre><code>@Service\npublic class MyService {\n    @Autowired\n    private TableRepository tableRepository;\n\n    @Transactional\n    public Table create() {\n        Table table = new Table();\n        // Some logic for creating and saving table\n        return table;\n    }\n}\n</code></pre>\n<p>This is a <strong>good</strong> practice:</p>\n<pre><code>@Service\npublic class MyService {\n    @Autowired\n    private TableRepository tableRepository;\n\n    @Transactional\n    public TableDTO create() {\n        Table table = new Table();\n        // Some logic for creating and saving table\n        // Logic for converting Table object to TableDTO object\n        return tableDTO;\n    }\n}\n</code></pre>\n<p>Why is this so?</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security","spring-security-oauth2"],"comments":[{"owner":{"account_id":9905560,"reputation":641,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"score":0,"creation_date":1591854342,"post_id":62317451,"comment_id":110214868,"body_markdown":"All right, I have found it in `org.springframework.security.config.annotation.web.configurers.FormLoginConfigurer`","body":"All right, I have found it in <code>org.springframework.security.config.annotation.web.configure&zwnj;&#8203;rs.FormLoginConfigur&zwnj;&#8203;er</code>"},{"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"score":0,"creation_date":1591893640,"post_id":62317451,"comment_id":110235092,"body_markdown":"For folks that stumble on this same question, you might share what you did to debug/find it.","body":"For folks that stumble on this same question, you might share what you did to debug/find it."}],"answers":[{"tags":[],"owner":{"account_id":9905560,"reputation":641,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699243114,"creation_date":1699243114,"answer_id":77428662,"question_id":62317451,"body_markdown":"`AbstractAuthenticationProcessingFilter` - a base Filter used for authentication. This also gives a good idea of the high level flow of authentication and how pieces work together. [Spring Security reference][1]\r\n\r\nSpring Security provides support for username and password being provided through an html form. This section provides details on how form based authentication works within Spring Security. [Form Login reference][2]\r\n\r\n`loginProcessingUrl` default is `/login`, and also can see `org.springframework.security.config.annotation.web.configurers.FormLoginConfigurer#FormLoginConfigurer`\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.7/servlet/authentication/architecture.html\r\n  [2]: https://docs.spring.io/spring-security/reference/5.7/servlet/authentication/passwords/form.html","title":"I have an endpoint of /oauth/login. I don&#39;t know which class it is in , how can I debug to find it?","body":"<p><code>AbstractAuthenticationProcessingFilter</code> - a base Filter used for authentication. This also gives a good idea of the high level flow of authentication and how pieces work together. <a href=\"https://docs.spring.io/spring-security/reference/5.7/servlet/authentication/architecture.html\" rel=\"nofollow noreferrer\">Spring Security reference</a></p>\n<p>Spring Security provides support for username and password being provided through an html form. This section provides details on how form based authentication works within Spring Security. <a href=\"https://docs.spring.io/spring-security/reference/5.7/servlet/authentication/passwords/form.html\" rel=\"nofollow noreferrer\">Form Login reference</a></p>\n<p><code>loginProcessingUrl</code> default is <code>/login</code>, and also can see <code>org.springframework.security.config.annotation.web.configurers.FormLoginConfigurer#FormLoginConfigurer</code></p>\n"}],"owner":{"account_id":9905560,"reputation":641,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699243114,"creation_date":1591852112,"question_id":62317451,"body_markdown":"I have an endpoint of `/oauth/login`, a public endpoint. And I don&#39;t know which class it is in. As I know, there is an `TokenEndpoint` with &#39;/oauth/token&#39;, but not with `/oauth/login`.\r\n\r\nI try to make a breakpoint in `org.springframework.web.servlet.FrameworkServlet#doPost` and `org.springframework.web.servlet.FrameworkServlet#doGet`, but it doesn&#39;t step into.\r\n\r\nSo how can I debug to find it out ? ","title":"I have an endpoint of /oauth/login. I don&#39;t know which class it is in , how can I debug to find it?","body":"<p>I have an endpoint of <code>/oauth/login</code>, a public endpoint. And I don't know which class it is in. As I know, there is an <code>TokenEndpoint</code> with '/oauth/token', but not with <code>/oauth/login</code>.</p>\n\n<p>I try to make a breakpoint in <code>org.springframework.web.servlet.FrameworkServlet#doPost</code> and <code>org.springframework.web.servlet.FrameworkServlet#doGet</code>, but it doesn't step into.</p>\n\n<p>So how can I debug to find it out ? </p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1380014166,"post_id":18977397,"comment_id":28030840,"body_markdown":"There&#39;s a &quot;debug as&quot; option right next to the &quot;run as&quot;. It&#39;s pretty obvious.","body":"There&#39;s a &quot;debug as&quot; option right next to the &quot;run as&quot;. It&#39;s pretty obvious."},{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":0,"creation_date":1380014194,"post_id":18977397,"comment_id":28030850,"body_markdown":"Read this: http://www.vogella.com/articles/EclipseDebugging/article.html","body":"Read this: <a href=\"http://www.vogella.com/articles/EclipseDebugging/article.html\" rel=\"nofollow noreferrer\">vogella.com/articles/EclipseDebugging/article.html</a>"},{"owner":{"account_id":133893,"reputation":731,"user_id":335606,"accept_rate":88,"display_name":"Arjun Sol"},"score":0,"creation_date":1380014212,"post_id":18977397,"comment_id":28030864,"body_markdown":"How are you running your java application? Kayaman is right that there is a debugging option but the config will vary greatly.","body":"How are you running your java application? Kayaman is right that there is a debugging option but the config will vary greatly."}],"answers":[{"tags":[],"owner":{"account_id":2415386,"reputation":2987,"user_id":2109526,"accept_rate":43,"display_name":"Alex Suo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1380014294,"creation_date":1380014204,"answer_id":18977437,"question_id":18977397,"body_markdown":"Create a break point in the first line of your main method then using F5 (step into) to walk through it.\r\n\r\nBTW, such questions are all over the web. To be a good programmer, use google wisely.","title":"debug java program step by step in Eclipse","body":"<p>Create a break point in the first line of your main method then using F5 (step into) to walk through it.</p>\n\n<p>BTW, such questions are all over the web. To be a good programmer, use google wisely.</p>\n"},{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1380014295,"creation_date":1380014295,"answer_id":18977466,"question_id":18977397,"body_markdown":"There are multiple steps required to debug a java program in eclipse such as:\r\n\r\n1. Setting breakpoints\r\n2. Starting the debugger\r\n3. controlling the program execution. **For line by line use F6 and F5 to step into a method**\r\n4. Evaluating variables etc\r\n\r\nPutting everthing here will make the answer too long. I advice you to follow this tutorial :\r\n\r\nhttp://www.vogella.com/articles/EclipseDebugging/article.html","title":"debug java program step by step in Eclipse","body":"<p>There are multiple steps required to debug a java program in eclipse such as:</p>\n\n<ol>\n<li>Setting breakpoints</li>\n<li>Starting the debugger</li>\n<li>controlling the program execution. <strong>For line by line use F6 and F5 to step into a method</strong></li>\n<li>Evaluating variables etc</li>\n</ol>\n\n<p>Putting everthing here will make the answer too long. I advice you to follow this tutorial :</p>\n\n<p><a href=\"http://www.vogella.com/articles/EclipseDebugging/article.html\" rel=\"noreferrer\">http://www.vogella.com/articles/EclipseDebugging/article.html</a></p>\n"},{"tags":[],"owner":{"account_id":9984655,"reputation":588,"user_id":7386335,"display_name":"ArockiaRaj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524814621,"creation_date":1524814621,"answer_id":50057578,"question_id":18977397,"body_markdown":"- Set the breakpoints in all the method which you want to debug\r\n- F3 can be used to navigate into the method\r\n- Then start the debugging\r\n- Press F5\r\n","title":"debug java program step by step in Eclipse","body":"<ul>\n<li>Set the breakpoints in all the method which you want to debug</li>\n<li>F3 can be used to navigate into the method</li>\n<li>Then start the debugging</li>\n<li>Press F5</li>\n</ul>\n"}],"owner":{"account_id":2300943,"reputation":1011,"user_id":2021253,"accept_rate":47,"display_name":"Chriss"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44895,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":18977466,"answer_count":3,"score":12,"last_activity_date":1699242981,"creation_date":1380014105,"question_id":18977397,"body_markdown":"I would like to debug the whole flow of a java program line by line and I am using eclipse \r\nhow can I do that?","title":"debug java program step by step in Eclipse","body":"<p>I would like to debug the whole flow of a java program line by line and I am using eclipse \nhow can I do that?</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":29588792,"reputation":3,"user_id":22676906,"display_name":"GAmeya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699111086,"creation_date":1699111086,"answer_id":77422622,"question_id":77422402,"body_markdown":"I tried changing the code a bit with Try catch block and it seems to be working fine now. \r\n\r\nCan anyone please let me know if this is an acceptable solution or do I need to do something else?\r\n\r\n    public static String waitForTitleAndCapture(String value, int timeOut) {\r\n\t\tWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(timeOut));\r\n\t\t\r\n\t\ttry {\r\n\t\t\tboolean flag = wait.until(ExpectedConditions.titleContains(value));\r\n\t\t\tif(flag) {\r\n\t\t\t\tString title = driver.getTitle();\r\n\t\t\t\treturn title;\r\n\t\t\t}\r\n\t\t}catch(Exception e) {\r\n\t\t\tSystem.out.println(&quot;Title is not present within the given timeout: &quot; + timeOut);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n","title":"Handling Url Title with Wait in selenium with java","body":"<p>I tried changing the code a bit with Try catch block and it seems to be working fine now.</p>\n<p>Can anyone please let me know if this is an acceptable solution or do I need to do something else?</p>\n<pre><code>public static String waitForTitleAndCapture(String value, int timeOut) {\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(timeOut));\n    \n    try {\n        boolean flag = wait.until(ExpectedConditions.titleContains(value));\n        if(flag) {\n            String title = driver.getTitle();\n            return title;\n        }\n    }catch(Exception e) {\n        System.out.println(&quot;Title is not present within the given timeout: &quot; + timeOut);\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":29588792,"reputation":3,"user_id":22676906,"display_name":"GAmeya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699242550,"creation_date":1699107693,"question_id":77422402,"body_markdown":"I&#39;m just trying to capture the title of the page using wait in selenium with java.\r\nThe code seems to be working correctly for positive test case but for negative, the code in the else{} part does not seem to work. Not sure why I get a TimeOutException before the else part is executed.\r\n\r\nEx. 1. Positive TC: When I enter the value for title as &quot;Log In&quot;, it works fine.\r\n\r\nEx. 2. Negative TC: When I enter the value for title as &quot;Log in&quot;, the else part is not executed.\r\n\r\n\r\n```\r\npublic class WaitForTitleURL {\r\n\tstatic WebDriver driver;\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tdriver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://classic.crmpro.com/&quot;);\r\n\t\t\r\n        Thread.sleep(5000);\r\n\t\tBy forgotPwd = By.xpath(&quot;//a[text()=&#39;Forgot Password?&#39;]&quot;);\r\n\t\t\r\n\t\t\r\n\t\tdriver.findElement(forgotPwd).click();\r\n\t\t\r\n\t\tString title = waitForTitleAndCapture(&quot;Log in&quot;, 5);\r\n\t\tSystem.out.println(title);\r\n\t}\r\n\t\r\n\tpublic static String waitForTitleAndCapture(String value, int timeOut) {\r\n\t\tWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(timeOut));\r\n\t\tif(wait.until(ExpectedConditions.titleContains(value))) {\r\n\t\t\tString title = driver.getTitle();\r\n\t\t\treturn title;\r\n\t\t}else {\r\n\t\t\tSystem.out.println(&quot;Title is not present within the given timeout: &quot; + timeOut);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n","title":"Handling Url Title with Wait in selenium with java","body":"<p>I'm just trying to capture the title of the page using wait in selenium with java.\nThe code seems to be working correctly for positive test case but for negative, the code in the else{} part does not seem to work. Not sure why I get a TimeOutException before the else part is executed.</p>\n<p>Ex. 1. Positive TC: When I enter the value for title as &quot;Log In&quot;, it works fine.</p>\n<p>Ex. 2. Negative TC: When I enter the value for title as &quot;Log in&quot;, the else part is not executed.</p>\n<pre><code>public class WaitForTitleURL {\n    static WebDriver driver;\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        \n        driver = new ChromeDriver();\n        driver.get(&quot;https://classic.crmpro.com/&quot;);\n        \n        Thread.sleep(5000);\n        By forgotPwd = By.xpath(&quot;//a[text()='Forgot Password?']&quot;);\n        \n        \n        driver.findElement(forgotPwd).click();\n        \n        String title = waitForTitleAndCapture(&quot;Log in&quot;, 5);\n        System.out.println(title);\n    }\n    \n    public static String waitForTitleAndCapture(String value, int timeOut) {\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(timeOut));\n        if(wait.until(ExpectedConditions.titleContains(value))) {\n            String title = driver.getTitle();\n            return title;\n        }else {\n            System.out.println(&quot;Title is not present within the given timeout: &quot; + timeOut);\n            return null;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":27578861,"reputation":19,"user_id":21048473,"display_name":"FL C."},"score":0,"creation_date":1698911410,"post_id":77407607,"comment_id":136464983,"body_markdown":"@ValerijDobler the current output is\n\n1 2 3 4 5\n1          5\n1         5\n1 2 3 4 5","body":"@ValerijDobler the current output is  1 2 3 4 5 1          5 1         5 1 2 3 4 5"},{"owner":{"account_id":27578861,"reputation":19,"user_id":21048473,"display_name":"FL C."},"score":0,"creation_date":1698911566,"post_id":77407607,"comment_id":136465004,"body_markdown":"i added in my question.","body":"i added in my question."},{"owner":{"account_id":27578861,"reputation":19,"user_id":21048473,"display_name":"FL C."},"score":0,"creation_date":1698911702,"post_id":77407607,"comment_id":136465026,"body_markdown":"noted. sorry for that @ValerijDobler","body":"noted. sorry for that @ValerijDobler"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1698914119,"post_id":77407607,"comment_id":136465423,"body_markdown":"What is the expected format for double digit?","body":"What is the expected format for double digit?"}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698912684,"creation_date":1698911545,"answer_id":77407760,"question_id":77407607,"body_markdown":"I would build an algorithm to do three things:\r\n\r\n1. Iterate the numbers 1..n\r\n2. The gab is always floor(n-2) numbers, so you can pad this in this step. And add k = 2..n-1 and t = n-1..2 at the ends.\r\n3. Iterate the numbers n..1\r\n\r\nI&#39;d recommend you tackle this problem for yourself with the aforementioned outline. Here is a solution to check against:\r\n\r\nThis code works for single digit numbers:\r\n```java\r\npublic static String print(int n) {\r\n    final var sb = new StringBuilder();\r\n    // Step 1\r\n    for (int i = 1; i &lt;= n; ++i) {\r\n        sb.append(i);\r\n        if (i != n) {\r\n            sb.append(&quot; &quot;);\r\n        }\r\n    }\r\n    if (n &gt; 1) {\r\n        sb.append(&quot;\\n&quot;);\r\n        // Step 2\r\n        if (n &gt; 2) {\r\n            final var gap = &quot; &quot;.repeat((n - 1) * 2 - 1);\r\n            for (int k = 2; k &lt; n; ++k) {\r\n                final var t = n - k + 1;\r\n                sb.append(k).append(gap).append(t).append(&quot;\\n&quot;);\r\n            }\r\n        }\r\n        // Step 3\r\n        for (int i = n; i &gt;= 1; --i) {\r\n            sb.append(i);\r\n            if (i != 1) {\r\n                sb.append(&quot; &quot;);\r\n            }\r\n        }\r\n    }\r\n    return sb.toString();\r\n}\r\n```\r\n\r\nNote: `String.repeat(n)` was added in Java 11.","title":"Hollow Square Number Pattern","body":"<p>I would build an algorithm to do three things:</p>\n<ol>\n<li>Iterate the numbers 1..n</li>\n<li>The gab is always floor(n-2) numbers, so you can pad this in this step. And add k = 2..n-1 and t = n-1..2 at the ends.</li>\n<li>Iterate the numbers n..1</li>\n</ol>\n<p>I'd recommend you tackle this problem for yourself with the aforementioned outline. Here is a solution to check against:</p>\n<p>This code works for single digit numbers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String print(int n) {\n    final var sb = new StringBuilder();\n    // Step 1\n    for (int i = 1; i &lt;= n; ++i) {\n        sb.append(i);\n        if (i != n) {\n            sb.append(&quot; &quot;);\n        }\n    }\n    if (n &gt; 1) {\n        sb.append(&quot;\\n&quot;);\n        // Step 2\n        if (n &gt; 2) {\n            final var gap = &quot; &quot;.repeat((n - 1) * 2 - 1);\n            for (int k = 2; k &lt; n; ++k) {\n                final var t = n - k + 1;\n                sb.append(k).append(gap).append(t).append(&quot;\\n&quot;);\n            }\n        }\n        // Step 3\n        for (int i = n; i &gt;= 1; --i) {\n            sb.append(i);\n            if (i != 1) {\n                sb.append(&quot; &quot;);\n            }\n        }\n    }\n    return sb.toString();\n}\n</code></pre>\n<p>Note: <code>String.repeat(n)</code> was added in Java 11.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698914606,"creation_date":1698914606,"answer_id":77408069,"question_id":77407607,"body_markdown":"I would split this pattern into 3 parts. The first row, the middle rows, and the bottom row.\r\n\r\nThe first row is relatively easy. Just print the numbers from 1 to `num` inclusive.\r\n\r\n```\r\nfor (int i=1; i&lt;=num; i++){\r\n    System.out.print(i + &quot; &quot;);\r\n}\r\nSystem.out.println();\r\n```\r\n\r\nThe middle rows follow a pattern like this:\r\n\r\n```\r\n2        num - 1\r\n3        num - 2\r\n4        num - 3\r\n...\r\nnum - 3        4\r\nnum - 2        3\r\nnum - 1        2\r\n```\r\n\r\nIt goes from `2` to `num - 1`, and the numbers on the side always add up to `num + 1`.\r\n\r\nAs for how many spaces you should print in between, you can first calculate the width of the entire rectangle. First count how many numbers there needs to be, add one for each space that follows each number (there are `num - 1` spaces in total). Finally, add one for each two digit number, because they need an extra space.\r\n\r\n```\r\nint rectangleWidth;\r\nrectangleWidth = num * 2 - 1;\r\nif (num &gt;= 10) {\r\n    rectangleWidth += num - 9; // num - 9 is how many two digit numbers there are\r\n}\r\n```\r\n\r\nThe number of empty spaces to print is the rectangle&#39;s width minus the number of digits of the number on the left. You can further subtract the number of digits of the number on the right from this, so that the number on the right aligns.\r\n\r\n```\r\nfor (int i = 2 ; i &lt;= num - 1 ; i++) {\r\n    int left = i;\r\n    int right = num + 1 - i;\r\n    int emptyCount = rectangleWidth - (left &gt; 9 ? 2 : 1) - (right &gt; 9 ? 2 : 1);\r\n    System.out.print(left);\r\n    System.out.print(&quot; &quot;.repeat(emptyCount));\r\n    System.out.println(right);\r\n}\r\n```\r\n\r\nFinally, the last row is the numbers going in decreasing order. Note that the last row should only exist if `num &gt; 1`. The middle rows should only exist if `num &gt; 2`, but we already encoded that in the stopping condition of the loop `i &lt;= num - 1`.\r\n\r\n```\r\nif (num &gt; 1) {\r\n    for (int i = num; i &gt;= 1; i--) {\r\n        System.out.print(i + &quot; &quot;);\r\n    }\r\n    System.out.println();\r\n}\r\n```","title":"Hollow Square Number Pattern","body":"<p>I would split this pattern into 3 parts. The first row, the middle rows, and the bottom row.</p>\n<p>The first row is relatively easy. Just print the numbers from 1 to <code>num</code> inclusive.</p>\n<pre><code>for (int i=1; i&lt;=num; i++){\n    System.out.print(i + &quot; &quot;);\n}\nSystem.out.println();\n</code></pre>\n<p>The middle rows follow a pattern like this:</p>\n<pre><code>2        num - 1\n3        num - 2\n4        num - 3\n...\nnum - 3        4\nnum - 2        3\nnum - 1        2\n</code></pre>\n<p>It goes from <code>2</code> to <code>num - 1</code>, and the numbers on the side always add up to <code>num + 1</code>.</p>\n<p>As for how many spaces you should print in between, you can first calculate the width of the entire rectangle. First count how many numbers there needs to be, add one for each space that follows each number (there are <code>num - 1</code> spaces in total). Finally, add one for each two digit number, because they need an extra space.</p>\n<pre><code>int rectangleWidth;\nrectangleWidth = num * 2 - 1;\nif (num &gt;= 10) {\n    rectangleWidth += num - 9; // num - 9 is how many two digit numbers there are\n}\n</code></pre>\n<p>The number of empty spaces to print is the rectangle's width minus the number of digits of the number on the left. You can further subtract the number of digits of the number on the right from this, so that the number on the right aligns.</p>\n<pre><code>for (int i = 2 ; i &lt;= num - 1 ; i++) {\n    int left = i;\n    int right = num + 1 - i;\n    int emptyCount = rectangleWidth - (left &gt; 9 ? 2 : 1) - (right &gt; 9 ? 2 : 1);\n    System.out.print(left);\n    System.out.print(&quot; &quot;.repeat(emptyCount));\n    System.out.println(right);\n}\n</code></pre>\n<p>Finally, the last row is the numbers going in decreasing order. Note that the last row should only exist if <code>num &gt; 1</code>. The middle rows should only exist if <code>num &gt; 2</code>, but we already encoded that in the stopping condition of the loop <code>i &lt;= num - 1</code>.</p>\n<pre><code>if (num &gt; 1) {\n    for (int i = num; i &gt;= 1; i--) {\n        System.out.print(i + &quot; &quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699241178,"creation_date":1699241178,"answer_id":77428584,"question_id":77407607,"body_markdown":"Here is an example.\r\n\r\n```java\r\nString draw(int v) {\r\n    StringBuilder s = new StringBuilder();\r\n    for (int i = 1; i &lt;= v; i++) {\r\n        if (i != 1) s.append(&#39; &#39;);\r\n        s.append(i);\r\n    }\r\n    for (int i = 2; i &lt;= v - 1; i++) {\r\n        s.append(&#39;\\n&#39;);\r\n        s.append(i);\r\n        s.append(&quot; &quot;.repeat((v * 2) - 3));\r\n        s.append(v - i + 1);\r\n    }\r\n    s.append(&#39;\\n&#39;);\r\n    for (int i = v; i &gt;= 1; i--) {\r\n        if (i != v) s.append(&#39; &#39;);\r\n        s.append(i);\r\n    }\r\n    return s.toString();\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n1 2 3 4 5\r\n2       4\r\n3       3\r\n4       2\r\n5 4 3 2 1\r\n```\r\n\r\n```none\r\n1 2 3 4 5 6 7 8 9\r\n2               8\r\n3               7\r\n4               6\r\n5               5\r\n6               4\r\n7               3\r\n8               2\r\n9 8 7 6 5 4 3 2 1\r\n```","title":"Hollow Square Number Pattern","body":"<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String draw(int v) {\n    StringBuilder s = new StringBuilder();\n    for (int i = 1; i &lt;= v; i++) {\n        if (i != 1) s.append(' ');\n        s.append(i);\n    }\n    for (int i = 2; i &lt;= v - 1; i++) {\n        s.append('\\n');\n        s.append(i);\n        s.append(&quot; &quot;.repeat((v * 2) - 3));\n        s.append(v - i + 1);\n    }\n    s.append('\\n');\n    for (int i = v; i &gt;= 1; i--) {\n        if (i != v) s.append(' ');\n        s.append(i);\n    }\n    return s.toString();\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 2 3 4 5\n2       4\n3       3\n4       2\n5 4 3 2 1\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>1 2 3 4 5 6 7 8 9\n2               8\n3               7\n4               6\n5               5\n6               4\n7               3\n8               2\n9 8 7 6 5 4 3 2 1\n</code></pre>\n"}],"owner":{"account_id":27578861,"reputation":19,"user_id":21048473,"display_name":"FL C."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1699241178,"creation_date":1698909751,"question_id":77407607,"body_markdown":"I am trying to create something like an asterisk rectangle shape. \r\n\r\nHereby is my code. \r\n\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class Exercise2 {\r\n    public static void main (String args[]) {\r\n        Scanner scanner = new Scanner (System.in);\r\n        boolean check = false;\r\n        \r\n        while (check != true){\r\n            System.out.println(&quot;Enter an integer between 1 and 20: &quot;);\r\n            int num = scanner.nextInt();\r\n            if (num &gt; 0 &amp;&amp; num &lt;= 20){\r\n                for (int i=1; i&lt;=num; i++){\r\n                    for (int j=1; j&lt;=num; j++){\r\n                        if (i == 1 || i == num || j == 1 || j == num) { \r\n                              System.out.print(j + &quot; &quot;);\r\n                        } else {\r\n                            System.out.print(&quot;  &quot;); // Two spaces for inner area\r\n                        }\r\n                    }\r\n                    System.out.println();\r\n                }\r\n                check = false;\r\n            }\r\n            else {\r\n                System.out.println(&quot;Number not between 1 and 20. Exiting.&quot;);\r\n                check = true;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI am expecting to get this.\r\n\r\n`Enter an integer between 1 and 20: 5`\r\n\r\n`output:`\r\n\r\n```\r\n1 2 3 4 5\r\n2       4\r\n3       3\r\n4       2\r\n5 4 3 2 1\r\n```\r\n\r\nBut I don&#39;t know where I should amend to get to this. Please help. Thank you \r\n\r\nthis is what my code displays.\r\n\r\n```\r\n1 2 3 4 5\r\n1       5\r\n1       5\r\n1       5\r\n1 2 3 4 5\r\n```","title":"Hollow Square Number Pattern","body":"<p>I am trying to create something like an asterisk rectangle shape.</p>\n<p>Hereby is my code.</p>\n<pre><code>import java.util.*;\n\npublic class Exercise2 {\n    public static void main (String args[]) {\n        Scanner scanner = new Scanner (System.in);\n        boolean check = false;\n        \n        while (check != true){\n            System.out.println(&quot;Enter an integer between 1 and 20: &quot;);\n            int num = scanner.nextInt();\n            if (num &gt; 0 &amp;&amp; num &lt;= 20){\n                for (int i=1; i&lt;=num; i++){\n                    for (int j=1; j&lt;=num; j++){\n                        if (i == 1 || i == num || j == 1 || j == num) { \n                              System.out.print(j + &quot; &quot;);\n                        } else {\n                            System.out.print(&quot;  &quot;); // Two spaces for inner area\n                        }\n                    }\n                    System.out.println();\n                }\n                check = false;\n            }\n            else {\n                System.out.println(&quot;Number not between 1 and 20. Exiting.&quot;);\n                check = true;\n            }\n        }\n    }\n}\n</code></pre>\n<p>I am expecting to get this.</p>\n<p><code>Enter an integer between 1 and 20: 5</code></p>\n<p><code>output:</code></p>\n<pre><code>1 2 3 4 5\n2       4\n3       3\n4       2\n5 4 3 2 1\n</code></pre>\n<p>But I don't know where I should amend to get to this. Please help. Thank you</p>\n<p>this is what my code displays.</p>\n<pre><code>1 2 3 4 5\n1       5\n1       5\n1       5\n1 2 3 4 5\n</code></pre>\n"},{"tags":["java","spring-boot","redis","spring-data-redis","redis-sentinel"],"owner":{"account_id":5351903,"reputation":1369,"user_id":4265824,"accept_rate":45,"display_name":"Ganesh Gudghe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699240572,"creation_date":1699069293,"question_id":77420672,"body_markdown":"I am facing an issue with the Subscription being lost after the Master node gets down and another slave node becomes a master that time it not getting Re-subscribed again.\r\n\r\n**I have a cluster with 3 Redis replicas and 3 Sentinel replicas**\r\n\r\nGetting the following error and after that in onMessage() no message gets received.\r\n\r\n    2023-11-03 04:31:48.784  INFO 1 --- [ter.local:5000]] r.c.j.p.SentineledConnectionProvider     : Created connection pool to master at imm-db-2.redis.imm-ns.svc.cluster.local:6379.\r\n    2023-11-03 04:31:58.855  INFO 1 --- [   scheduling-1] o.s.d.r.c.l.LettuceConnectionFactory     : Validation of shared connection failed. Creating a new connection.\r\n    2023-11-03 04:32:02.746  WARN 1 --- [ioEventLoop-4-1] i.l.c.m.MasterSlaveTopologyRefresh       : Unable to connect to imm-db-1.redis.imm-ns.svc.cluster.local:6379\r\n\r\nI also used handleSubscriptionException() to Re-subscribe it but no call received in handleSubscriptionException()\r\n\r\n**Following is my code.**\r\n\r\n    @Bean\r\n    \tpublic LettuceConnectionFactory lettuceConnectionFactory() {\r\n                           LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder().build();\r\n    \r\n    \t\t\t    ClusterTopologyRefreshOptions topologyRefreshOptions = ClusterTopologyRefreshOptions.builder()\r\n    \t\t\t\t\t.adaptiveRefreshTriggersTimeout(Duration.ofSeconds(60)).enableAllAdaptiveRefreshTriggers()\r\n    \t\t\t\t\t.enablePeriodicRefresh().dynamicRefreshSources(true).build();\r\n    \r\n    \t\t\t     ClusterClientOptions clusterClientOptions = ClusterClientOptions.builder()\r\n    \t\t\t\t\t.topologyRefreshOptions(topologyRefreshOptions).build();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\t\t\tRedisSentinelConfiguration sentinelConfig = new \r\n                                     RedisSentinelConfiguration().master(&quot;mymaster&quot;)\r\n    \t\t\t\t\t.sentinel(&quot;imm-db-0.redis.imm-ns.svc.cluster.local&quot;, 5000)\r\n    \t\t\t\t\t.sentinel(&quot;imm-db-1.redis.imm-ns.svc.cluster.local&quot;, 5000)\r\n    \t\t\t\t\t.sentinel(&quot;imm-db-2.redis.imm-ns.svc.cluster.local&quot;, 5000);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\treturn new LettuceConnectionFactory(sentinelConfig, LettuceClientConfiguration\r\n    \t\t\t\t\t.builder().readFrom(ReadFrom.MASTER).clientOptions(clusterClientOptions).build());\r\n    \r\n    }\r\n    \t          @Bean\r\n    \t          public MessageListener messageListener() {\r\n    \t\t          return new Http2IFR();\r\n    \t          }\r\n    \r\n    \t@Bean\r\n    \tpublic RedisMessageListenerContainer redisMessageListenerContainer(RedisConnectionFactory connectionFactory,\r\n    \t\t\tMessageListener messageListener) {\r\n    \r\n    \t\tlog.info(&quot;********************RedisMessageListenerContainer**************************init done&quot;);\r\n    \t\tRedisMessageListenerContainer container = new RedisMessageListenerContainer() {\r\n    \t\t\t@Override\r\n    \t\t\tprotected void handleSubscriptionException(CompletableFuture&lt;Void&gt; future,\r\n    \t\t\t\t\tBackOffExecution backOffExecution, Throwable ex) {\r\n    \t\t\t\tsuper.handleSubscriptionException(future, backOffExecution, ex);\r\n    \r\n    \t\t\t\tif (ex instanceof RedisConnectionFailureException) {\r\n    \t\t\t\t\tlog.error(&quot;***************RedisConnectionFailureException :{}&quot;, ex.getMessage());\r\n    \r\n    \t\t\t\t} else if (ex instanceof InterruptedException) {\r\n    \t\t\t\t\t// can ignore those I guess\r\n    \t\t\t\t\tlog.error(&quot;***************InterruptedException :{}&quot;, ex.getMessage());\r\n    \t\t\t\t} else if (ex instanceof TransientDataAccessException || ex instanceof RecoverableDataAccessException) {\r\n    \t\t\t\t\t// try to restart in those cases?\r\n    \t\t\t\t\tlog.error(&quot;***************RecoverableDataAccessException :{} isRunning:{}&quot;, ex.getMessage(),\r\n    \t\t\t\t\t\t\tisRunning());\r\n    \t\t\t\t\tlog.error(\r\n    \t\t\t\t\t\t\t&quot;***************Connection failure occurred. Restarting subscription task manually due to &quot;\r\n    \t\t\t\t\t\t\t\t\t+ ex,\r\n    \t\t\t\t\t\t\tex);\r\n    \t\t\t\t\tif (isRunning()) {\r\n    \t\t\t\t\t\tlog.error(\r\n    \t\t\t\t\t\t\t\t&quot;***************INSIDE Connection failure occurred. Restarting subscription task manually due to &quot;\r\n    \t\t\t\t\t\t\t\t\t\t+ ex,\r\n    \t\t\t\t\t\t\t\tex);\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\tThread.sleep(5000);\r\n    \t\t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t\tlog.error(&quot;thred inturrepted....:{}&quot;, e.getMessage());\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tstart(); // best we can do\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\t// otherwise shutdown and hope for the best next time\r\n    \t\t\t\t\tlog.error(&quot;*****************Shutting down application due to unknown exception is running:{}&quot;, ex);\r\n    \t\t\t\t\tif (isRunning()) {\r\n    \t\t\t\t\t\tlog.warn(&quot;*****************Shutting down application due to unknown exception &quot; + ex, ex);\r\n    //\t\t                    context.close();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tcontainer.setConnectionFactory(connectionFactory);\r\n    \t\tcontainer.setErrorHandler(new ErrorHandler() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void handleError(Throwable t) {\r\n    \t\t\t\tlog.info(&quot;********Inside exception handler:{}&quot;, t.getMessage());\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tcontainer.addMessageListener(messageListener, new ChannelTopic(&quot;TOPIC_HTTP_TRIGGER&quot;));\r\n    \t\treturn container;\r\n    \t}\r\n\r\nIs there any configuration setting that I am missing here?\r\n\r\nHow to re-subscribe it?","title":"Spring Boot Redis Subscription lost after one master Redis down and another slave became master.(spring-boot-starter-data-redis v2.7.8)","body":"<p>I am facing an issue with the Subscription being lost after the Master node gets down and another slave node becomes a master that time it not getting Re-subscribed again.</p>\n<p><strong>I have a cluster with 3 Redis replicas and 3 Sentinel replicas</strong></p>\n<p>Getting the following error and after that in onMessage() no message gets received.</p>\n<pre><code>2023-11-03 04:31:48.784  INFO 1 --- [ter.local:5000]] r.c.j.p.SentineledConnectionProvider     : Created connection pool to master at imm-db-2.redis.imm-ns.svc.cluster.local:6379.\n2023-11-03 04:31:58.855  INFO 1 --- [   scheduling-1] o.s.d.r.c.l.LettuceConnectionFactory     : Validation of shared connection failed. Creating a new connection.\n2023-11-03 04:32:02.746  WARN 1 --- [ioEventLoop-4-1] i.l.c.m.MasterSlaveTopologyRefresh       : Unable to connect to imm-db-1.redis.imm-ns.svc.cluster.local:6379\n</code></pre>\n<p>I also used handleSubscriptionException() to Re-subscribe it but no call received in handleSubscriptionException()</p>\n<p><strong>Following is my code.</strong></p>\n<pre><code>@Bean\n    public LettuceConnectionFactory lettuceConnectionFactory() {\n                       LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder().build();\n\n                ClusterTopologyRefreshOptions topologyRefreshOptions = ClusterTopologyRefreshOptions.builder()\n                    .adaptiveRefreshTriggersTimeout(Duration.ofSeconds(60)).enableAllAdaptiveRefreshTriggers()\n                    .enablePeriodicRefresh().dynamicRefreshSources(true).build();\n\n                 ClusterClientOptions clusterClientOptions = ClusterClientOptions.builder()\n                    .topologyRefreshOptions(topologyRefreshOptions).build();\n                    \n                                RedisSentinelConfiguration sentinelConfig = new \n                                 RedisSentinelConfiguration().master(&quot;mymaster&quot;)\n                    .sentinel(&quot;imm-db-0.redis.imm-ns.svc.cluster.local&quot;, 5000)\n                    .sentinel(&quot;imm-db-1.redis.imm-ns.svc.cluster.local&quot;, 5000)\n                    .sentinel(&quot;imm-db-2.redis.imm-ns.svc.cluster.local&quot;, 5000);\n                    \n                    return new LettuceConnectionFactory(sentinelConfig, LettuceClientConfiguration\n                    .builder().readFrom(ReadFrom.MASTER).clientOptions(clusterClientOptions).build());\n\n}\n              @Bean\n              public MessageListener messageListener() {\n                  return new Http2IFR();\n              }\n\n    @Bean\n    public RedisMessageListenerContainer redisMessageListenerContainer(RedisConnectionFactory connectionFactory,\n            MessageListener messageListener) {\n\n        log.info(&quot;********************RedisMessageListenerContainer**************************init done&quot;);\n        RedisMessageListenerContainer container = new RedisMessageListenerContainer() {\n            @Override\n            protected void handleSubscriptionException(CompletableFuture&lt;Void&gt; future,\n                    BackOffExecution backOffExecution, Throwable ex) {\n                super.handleSubscriptionException(future, backOffExecution, ex);\n\n                if (ex instanceof RedisConnectionFailureException) {\n                    log.error(&quot;***************RedisConnectionFailureException :{}&quot;, ex.getMessage());\n\n                } else if (ex instanceof InterruptedException) {\n                    // can ignore those I guess\n                    log.error(&quot;***************InterruptedException :{}&quot;, ex.getMessage());\n                } else if (ex instanceof TransientDataAccessException || ex instanceof RecoverableDataAccessException) {\n                    // try to restart in those cases?\n                    log.error(&quot;***************RecoverableDataAccessException :{} isRunning:{}&quot;, ex.getMessage(),\n                            isRunning());\n                    log.error(\n                            &quot;***************Connection failure occurred. Restarting subscription task manually due to &quot;\n                                    + ex,\n                            ex);\n                    if (isRunning()) {\n                        log.error(\n                                &quot;***************INSIDE Connection failure occurred. Restarting subscription task manually due to &quot;\n                                        + ex,\n                                ex);\n                        try {\n                            Thread.sleep(5000);\n                        } catch (InterruptedException e) {\n                            log.error(&quot;thred inturrepted....:{}&quot;, e.getMessage());\n                        }\n                        start(); // best we can do\n                    }\n                } else {\n                    // otherwise shutdown and hope for the best next time\n                    log.error(&quot;*****************Shutting down application due to unknown exception is running:{}&quot;, ex);\n                    if (isRunning()) {\n                        log.warn(&quot;*****************Shutting down application due to unknown exception &quot; + ex, ex);\n//                          context.close();\n                    }\n                }\n            }\n        };\n\n        container.setConnectionFactory(connectionFactory);\n        container.setErrorHandler(new ErrorHandler() {\n            @Override\n            public void handleError(Throwable t) {\n                log.info(&quot;********Inside exception handler:{}&quot;, t.getMessage());\n            }\n        });\n        container.addMessageListener(messageListener, new ChannelTopic(&quot;TOPIC_HTTP_TRIGGER&quot;));\n        return container;\n    }\n</code></pre>\n<p>Is there any configuration setting that I am missing here?</p>\n<p>How to re-subscribe it?</p>\n"},{"tags":["java","class","methods","constructor","instance-variables"],"comments":[{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1698911598,"post_id":77407750,"comment_id":136465011,"body_markdown":"Your code should throw `StackOverflowError`. Why are calling `new Rectangle` inside the same constructor? `height` and `width` should not be static. Also, in your second constructor, it should be `this.width = width` and `this.height = height`.","body":"Your code should throw <code>StackOverflowError</code>. Why are calling <code>new Rectangle</code> inside the same constructor? <code>height</code> and <code>width</code> should not be static. Also, in your second constructor, it should be <code>this.width = width</code> and <code>this.height = height</code>."},{"owner":{"account_id":29645253,"reputation":15,"user_id":22720404,"display_name":"Sheebs"},"score":0,"creation_date":1698911877,"post_id":77407750,"comment_id":136465050,"body_markdown":"Like I said, I&#39;m new to java, so I&#39;m not entirely sure what I&#39;m doing. I&#39;m trying to follow the notes my professor gave us, but they weren&#39;t too helpful. I thought calling new Rectangle would be the thing to use according to the notes given.","body":"Like I said, I&#39;m new to java, so I&#39;m not entirely sure what I&#39;m doing. I&#39;m trying to follow the notes my professor gave us, but they weren&#39;t too helpful. I thought calling new Rectangle would be the thing to use according to the notes given."},{"owner":{"account_id":328715,"reputation":4400,"user_id":651827,"accept_rate":38,"display_name":"codebrane"},"score":1,"creation_date":1698912269,"post_id":77407750,"comment_id":136465111,"body_markdown":"computeArea has &quot;height&quot; but the class has &quot;heigth&quot;. That&#39;s why it won&#39;t compile.","body":"computeArea has &quot;height&quot; but the class has &quot;heigth&quot;. That&#39;s why it won&#39;t compile."},{"owner":{"account_id":29645253,"reputation":15,"user_id":22720404,"display_name":"Sheebs"},"score":0,"creation_date":1698912936,"post_id":77407750,"comment_id":136465214,"body_markdown":"@codebrane Can you explain more about what you mean about it not compiling?","body":"@codebrane Can you explain more about what you mean about it not compiling?"},{"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":0,"creation_date":1698914648,"post_id":77407750,"comment_id":136465516,"body_markdown":"If your professor&#39;s notes aren&#39;t helping you, you&#39;re probably best off searching for a textbook (either physical or digital) or an online tutorial. Oracle has some free ones, though I can&#39;t comment on their quality: https://docs.oracle.com/javase/tutorial/","body":"If your professor&#39;s notes aren&#39;t helping you, you&#39;re probably best off searching for a textbook (either physical or digital) or an online tutorial. Oracle has some free ones, though I can&#39;t comment on their quality: <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial</a>"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1698920715,"post_id":77407750,"comment_id":136466629,"body_markdown":"“I&#39;m not entirely sure what I&#39;m doing” is not an excuse. If you don’t know what `static` means, don’t add it to the code. And even without knowing anything about Java, just read your line from the constructor aloud: “width = new Rectangle” and you should realize how odd that is.","body":"“I&#39;m not entirely sure what I&#39;m doing” is not an excuse. If you don’t know what <code>static</code> means, don’t add it to the code. And even without knowing anything about Java, just read your line from the constructor aloud: “width = new Rectangle” and you should realize how odd that is."}],"answers":[{"tags":[],"owner":{"account_id":328715,"reputation":4400,"user_id":651827,"accept_rate":38,"display_name":"codebrane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698913403,"creation_date":1698911974,"answer_id":77407797,"question_id":77407750,"body_markdown":"Don&#39;t make the private variables static or they will be shared by all instances of Rectangle.\r\n\r\n    class Rectangle{\r\n         \r\n         private double width;\r\n         private double height;\r\n         \r\n         public Rectangle(double sideLength) {\r\n             \r\n             this.width = sideLength;\r\n             this.height = sideLength;\r\n         }\r\n             \r\n         public Rectangle(double width, double height){\r\n             this.width = width;\r\n             this.height = height;\r\n         }    \r\n    \r\n         public double computeArea() {\r\n             return height * width;\r\n         }\r\n             \r\n         public double computePerimeter() {\r\n             return 2 * (height + width);\r\n         }\r\n             \r\n         public double getHeight() {\r\n             return height;\r\n         }\r\n         \r\n         public double getWidth() {\r\n             return width;\r\n         }\r\n     }\r\n\r\nTo use it in other code:\r\n\r\n    public class Test {\r\n      public static void main(String[] args) {\r\n        Rectangle square = new Rectangle(1.0);\r\n        double area = square.computeArea();\r\n        System.out.println(area);\r\n        Rectangle rectangle = new Rectangle(1.0, 2.0);\r\n        area = rectangle.computeArea();\r\n        System.out.println(area);\r\n      }\r\n    }","title":"I need help creating a Rectangle class with private instance variables, but public methods and constructors","body":"<p>Don't make the private variables static or they will be shared by all instances of Rectangle.</p>\n<pre><code>class Rectangle{\n     \n     private double width;\n     private double height;\n     \n     public Rectangle(double sideLength) {\n         \n         this.width = sideLength;\n         this.height = sideLength;\n     }\n         \n     public Rectangle(double width, double height){\n         this.width = width;\n         this.height = height;\n     }    \n\n     public double computeArea() {\n         return height * width;\n     }\n         \n     public double computePerimeter() {\n         return 2 * (height + width);\n     }\n         \n     public double getHeight() {\n         return height;\n     }\n     \n     public double getWidth() {\n         return width;\n     }\n }\n</code></pre>\n<p>To use it in other code:</p>\n<pre><code>public class Test {\n  public static void main(String[] args) {\n    Rectangle square = new Rectangle(1.0);\n    double area = square.computeArea();\n    System.out.println(area);\n    Rectangle rectangle = new Rectangle(1.0, 2.0);\n    area = rectangle.computeArea();\n    System.out.println(area);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699240128,"creation_date":1699240128,"answer_id":77428542,"question_id":77407750,"body_markdown":"&gt; _&quot;... I keep getting an error that says height cannot be found from the computeArea method and down. ...&quot;_\r\n\r\nThis is because _height_ is declared as _[static](https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html)_, thus cannot be accessed from the _non-static_, _instance_ method.\r\n\r\n```java\r\nclass Rectangle {\r\n    double width, height;\r\n\r\n    Rectangle(double sideLength) {\r\n        width = height = sideLength;\r\n    }\r\n\r\n    Rectangle(double width, double height) {\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n\r\n    public double computeArea() {\r\n        return width * height;\r\n    }\r\n\r\n    public double computePerimeter() {\r\n        return 2 * (width + height);\r\n    }\r\n\r\n    public double getHeight() {\r\n        return height;\r\n    }\r\n\r\n    public double getWidth() {\r\n        return width;\r\n    }\r\n}\r\n```\r\n\r\nAlternately, use a _[record](https://docs.oracle.com/en/java/javase/21/language/records.html)_.\r\n\r\n```java\r\nrecord Rectangle(double width, double height) {\r\n    Rectangle(double sideLength) {\r\n        this(sideLength, sideLength);\r\n    }\r\n    \r\n    public double computeArea() {\r\n        return width * height;\r\n    }\r\n    \r\n    public double computePerimeter() {\r\n        return 2 * (width + height);\r\n    }\r\n}\r\n```","title":"I need help creating a Rectangle class with private instance variables, but public methods and constructors","body":"<blockquote>\n<p><em>&quot;... I keep getting an error that says height cannot be found from the computeArea method and down. ...&quot;</em></p>\n</blockquote>\n<p>This is because <em>height</em> is declared as <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">static</a></em>, thus cannot be accessed from the <em>non-static</em>, <em>instance</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Rectangle {\n    double width, height;\n\n    Rectangle(double sideLength) {\n        width = height = sideLength;\n    }\n\n    Rectangle(double width, double height) {\n        this.width = width;\n        this.height = height;\n    }\n\n    public double computeArea() {\n        return width * height;\n    }\n\n    public double computePerimeter() {\n        return 2 * (width + height);\n    }\n\n    public double getHeight() {\n        return height;\n    }\n\n    public double getWidth() {\n        return width;\n    }\n}\n</code></pre>\n<p>Alternately, use a <em><a href=\"https://docs.oracle.com/en/java/javase/21/language/records.html\" rel=\"nofollow noreferrer\">record</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Rectangle(double width, double height) {\n    Rectangle(double sideLength) {\n        this(sideLength, sideLength);\n    }\n    \n    public double computeArea() {\n        return width * height;\n    }\n    \n    public double computePerimeter() {\n        return 2 * (width + height);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29645253,"reputation":15,"user_id":22720404,"display_name":"Sheebs"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77407797,"answer_count":2,"score":0,"last_activity_date":1699240128,"creation_date":1698911367,"question_id":77407750,"body_markdown":"I&#39;m new to using java and I need to make a class called Rectangle, but the code I&#39;m using doesn&#39;t seem to work, and the notes for class aren&#39;t helpful. I feel like it has something to do with my methods because I don&#39;t understand those too well.\r\n\r\nThe class needs to follow these requirements:\r\nCreate a class called rectangle with the following instance variables and public constructors:\r\n\r\n- width, double\r\n- height, double\r\n\r\n- a constructor with one parameter (double) called sideLength, which sets both the width and height to sideLength.\r\n\r\n- a constructor with two parameters width and height (double), which sets both the width and height to the corresponding values that are passed on.\r\n\r\n- a public method computeArea with no parameters that returns the area of Rectangle as a double\r\n\r\n- a public method computePerimeter with no parameters that returns the perimeter of Rectangle as a double\r\n\r\n- a public method getHeight with no parameters that returns the height of Rectangle as a double\r\n\r\n- a public method getWidth with no parameters that returns the width of Rectangle as a double\r\n\r\nI don&#39;t need to make a main method because that was already provided.\r\n\r\n\r\nThis is the code that I&#39;m using, but I keep getting an error that says height cannot be found from the computeArea method and down.\r\n\r\n     class Rectangle{\r\n         \r\n         private static double width;\r\n         private static double heigth;\r\n         \r\n         public Rectangle(double sideLength) {\r\n             \r\n             Rectangle width = new Rectangle(sideLength);\r\n             Rectangle height = new Rectangle(sideLength);\r\n         }\r\n             \r\n         public Rectangle(double width, double height){\r\n             width = width;\r\n             height = height;\r\n         }    \r\n    \r\n         public double computeArea() {\r\n             return height * width;\r\n         }\r\n             \r\n         public double computePerimeter() {\r\n             return 2 * (height + width);\r\n         }\r\n             \r\n         public double getHeight() {\r\n             return height;\r\n         }\r\n         \r\n         public double getWidth() {\r\n             return width;\r\n         }\r\n         \r\n     }\r\n","title":"I need help creating a Rectangle class with private instance variables, but public methods and constructors","body":"<p>I'm new to using java and I need to make a class called Rectangle, but the code I'm using doesn't seem to work, and the notes for class aren't helpful. I feel like it has something to do with my methods because I don't understand those too well.</p>\n<p>The class needs to follow these requirements:\nCreate a class called rectangle with the following instance variables and public constructors:</p>\n<ul>\n<li><p>width, double</p>\n</li>\n<li><p>height, double</p>\n</li>\n<li><p>a constructor with one parameter (double) called sideLength, which sets both the width and height to sideLength.</p>\n</li>\n<li><p>a constructor with two parameters width and height (double), which sets both the width and height to the corresponding values that are passed on.</p>\n</li>\n<li><p>a public method computeArea with no parameters that returns the area of Rectangle as a double</p>\n</li>\n<li><p>a public method computePerimeter with no parameters that returns the perimeter of Rectangle as a double</p>\n</li>\n<li><p>a public method getHeight with no parameters that returns the height of Rectangle as a double</p>\n</li>\n<li><p>a public method getWidth with no parameters that returns the width of Rectangle as a double</p>\n</li>\n</ul>\n<p>I don't need to make a main method because that was already provided.</p>\n<p>This is the code that I'm using, but I keep getting an error that says height cannot be found from the computeArea method and down.</p>\n<pre><code> class Rectangle{\n     \n     private static double width;\n     private static double heigth;\n     \n     public Rectangle(double sideLength) {\n         \n         Rectangle width = new Rectangle(sideLength);\n         Rectangle height = new Rectangle(sideLength);\n     }\n         \n     public Rectangle(double width, double height){\n         width = width;\n         height = height;\n     }    \n\n     public double computeArea() {\n         return height * width;\n     }\n         \n     public double computePerimeter() {\n         return 2 * (height + width);\n     }\n         \n     public double getHeight() {\n         return height;\n     }\n     \n     public double getWidth() {\n         return width;\n     }\n     \n }\n</code></pre>\n"},{"tags":["java","transactions"],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698897170,"creation_date":1698897170,"answer_id":77406832,"question_id":77406283,"body_markdown":"&gt; The transaction will be rollback if an exception is thrown.\r\n\r\nThis is a correct statement, but your `method1()` and `method2()` do not throw any exceptions out of the method. In `transactionMethod` point of view, there are no exceptions propagated to me, so I can process the rest.\r\n\r\nIf you want to do it, remove your `catch` in `method1()` or `method2()`. \r\nOr you can throw another exception like\r\n\r\n```\r\ntry{\r\n    save();\r\n} catch() {\r\n    log.error();\r\n    throw new RuntimeException(); // here is the throw ex\r\n}\r\n```\r\nHope my explanation helps!","title":"Transactional method from class 1 calling external methods, throws error, and is not rolling back","body":"<blockquote>\n<p>The transaction will be rollback if an exception is thrown.</p>\n</blockquote>\n<p>This is a correct statement, but your <code>method1()</code> and <code>method2()</code> do not throw any exceptions out of the method. In <code>transactionMethod</code> point of view, there are no exceptions propagated to me, so I can process the rest.</p>\n<p>If you want to do it, remove your <code>catch</code> in <code>method1()</code> or <code>method2()</code>.\nOr you can throw another exception like</p>\n<pre><code>try{\n    save();\n} catch() {\n    log.error();\n    throw new RuntimeException(); // here is the throw ex\n}\n</code></pre>\n<p>Hope my explanation helps!</p>\n"},{"tags":[],"owner":{"account_id":29386739,"reputation":1,"user_id":22516044,"display_name":"JoeyCactus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699239880,"creation_date":1698905611,"answer_id":77407290,"question_id":77406283,"body_markdown":"Maybe you can try to throw an exception and make sure it is not being caught within the valid area of the transaction;\r\n\r\nAnother way is that you can add `@Transactional` on `methodB`; then, when the exception is thrown from `methodB` to where it is called, the transaction will roll back.\r\n\r\nAnd you can set some parameters of `@Transactional`, like propagation, that will change transaction&#39;s delivery mode.","title":"Transactional method from class 1 calling external methods, throws error, and is not rolling back","body":"<p>Maybe you can try to throw an exception and make sure it is not being caught within the valid area of the transaction;</p>\n<p>Another way is that you can add <code>@Transactional</code> on <code>methodB</code>; then, when the exception is thrown from <code>methodB</code> to where it is called, the transaction will roll back.</p>\n<p>And you can set some parameters of <code>@Transactional</code>, like propagation, that will change transaction's delivery mode.</p>\n"}],"owner":{"account_id":7956914,"reputation":377,"user_id":6005868,"accept_rate":53,"display_name":"cparks10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699239880,"creation_date":1698884079,"question_id":77406283,"body_markdown":"I need it to rollback the entire transaction when an error is thrown, but it does not roll back, just throws the errors and continues to process. \r\n\r\nComponent Class has a transactional method with a try catch block. Within the try, two external calls are being made to two different classes. The first call (serviceA.method1) succeeds and I see the DB update. The second one fails. Adding @Transactional to the other methods in the other classes does not seem to be working either.\r\n\r\nI am under the impression that unless specifically stated, when transactionMethod instantiates, a Transaction is created. From there, any additional calls are part of that transaction unless the method or class states otherwise with Propagation.\r\n\r\n```\r\nimport javax.transaction.Transactional;\r\n\r\ncomponentClass:\r\n   @Transactional\r\n   public transactionMethod() {\r\n      try{\r\n        serviceA.method1();\r\n        serviceB.method2();\r\n      } catch() {\r\n        log.error();\r\n      }\r\n   }\r\n   \r\nserviceA:\r\n   public method1() {\r\n      try{\r\n        save();\r\n      } catch() {\r\n        log.error();\r\n      }\r\n   }   \r\n   \r\nserviceC:\r\n   public method2() {\r\n      try{\r\n        save();\r\n      } catch() {\r\n        log.error();\r\n      }\r\n   }  ```","title":"Transactional method from class 1 calling external methods, throws error, and is not rolling back","body":"<p>I need it to rollback the entire transaction when an error is thrown, but it does not roll back, just throws the errors and continues to process.</p>\n<p>Component Class has a transactional method with a try catch block. Within the try, two external calls are being made to two different classes. The first call (serviceA.method1) succeeds and I see the DB update. The second one fails. Adding @Transactional to the other methods in the other classes does not seem to be working either.</p>\n<p>I am under the impression that unless specifically stated, when transactionMethod instantiates, a Transaction is created. From there, any additional calls are part of that transaction unless the method or class states otherwise with Propagation.</p>\n<pre><code>import javax.transaction.Transactional;\n\ncomponentClass:\n   @Transactional\n   public transactionMethod() {\n      try{\n        serviceA.method1();\n        serviceB.method2();\n      } catch() {\n        log.error();\n      }\n   }\n   \nserviceA:\n   public method1() {\n      try{\n        save();\n      } catch() {\n        log.error();\n      }\n   }   \n   \nserviceC:\n   public method2() {\n      try{\n        save();\n      } catch() {\n        log.error();\n      }\n   }  ```\n</code></pre>\n"},{"tags":["java","playframework","sbt","log4j"],"comments":[{"owner":{"account_id":7034556,"reputation":12315,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1699039669,"post_id":77411375,"comment_id":136485867,"body_markdown":"There&#39;s nothing in your build.sbt that relates to log4j.","body":"There&#39;s nothing in your build.sbt that relates to log4j."},{"owner":{"account_id":7034556,"reputation":12315,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1699039693,"post_id":77411375,"comment_id":136485870,"body_markdown":"Does this answer your question? [Is there a simple way to specify a global dependency exclude in SBT](https://stackoverflow.com/questions/25747900/is-there-a-simple-way-to-specify-a-global-dependency-exclude-in-sbt)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25747900/is-there-a-simple-way-to-specify-a-global-dependency-exclude-in-sbt\">Is there a simple way to specify a global dependency exclude in SBT</a>"},{"owner":{"account_id":7034556,"reputation":12315,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1699039751,"post_id":77411375,"comment_id":136485875,"body_markdown":"You&#39;ll have to explicitly add the replacement version from reload4j in your build.sbt if your code relies on log4j 1.x.","body":"You&#39;ll have to explicitly add the replacement version from reload4j in your build.sbt if your code relies on log4j 1.x."},{"owner":{"account_id":7034556,"reputation":12315,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1699039848,"post_id":77411375,"comment_id":136485894,"body_markdown":"Last thing: you&#39;re using very very old versions of almost everything! SBT, Scala, Play, Jackson.. Your project already has many vulnerabilities because of this. I would strongly recommend to spend some time to upgrade.","body":"Last thing: you&#39;re using very very old versions of almost everything! SBT, Scala, Play, Jackson.. Your project already has many vulnerabilities because of this. I would strongly recommend to spend some time to upgrade."}],"answers":[{"tags":[],"owner":{"account_id":221739,"reputation":12705,"user_id":479900,"display_name":"James Roper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699239406,"creation_date":1699238387,"answer_id":77428466,"question_id":77411375,"body_markdown":"The problem with excluding log4j 1.2, is that log4j2 doesn&#39;t replace it. That&#39;s why adding a dependency on log4j2 doesn&#39;t work. They are completely different libraries. They have different artifact IDs (log4j 1.2 can be found at `log4j:log4j`, while log4j2 uses `org.apache.logging.log4j:log4j-api`), they use different Java package names (log4j 1.2 uses `org.apache.log4j`, while log4j2 uses `org.apache.logging.log4j`). They just happen to both have the word `log4j` in their name, but from a build tool/dependency managers perspective, they share nothing in common, so when you tell your build to use log4j2, the build tool has no idea that that package has any relation to log4j 1, and keeps both in your dependencies.\r\n\r\nIt&#39;s obviously being brought in by one of your dependencies. If you exclude it, most likely, the dependency that brings it in will stop working, because when it loads, it will try to load the log4j 1.2 API, which won&#39;t be on the classpath, and so it&#39;ll fail with class not found errors.\r\n\r\nThe work around is to use [reload4j](https://reload4j.qos.ch/). This provides a binary compatible implementation of the log4j 1.2 APIs, but with major security vulnerabilities fixed.\r\n\r\nTo do this, you need to identify which of your dependencies depends on log4j 1.2. You can do this using the sbt dependency tree plugin, a tutorial on how to use this can be found [here](https://www.baeldung.com/scala/sbt-dependency-tree).\r\n\r\nThen, exclude log4j from those dependencies transitive dependencies, as [documented here](https://www.scala-sbt.org/1.x/docs/Library-Management.html#Exclude+Transitive+Dependencies).\r\n\r\nFinally, you can add reload4j as a dependency to your project.\r\n\r\nBetter than all this would be to update your project to stop using very old versions of libraries at all. The last version of Play to support sbt 0.13.11 was Play 2.5, released in 2016. Play 2.6 replaced it in 2017. Play 2.5 support finished in 2018. You&#39;re using a version of Play that&#39;s been unsupported for over 5 years. Look at all these security vulnerabilities that have been fixed in Play since then that you&#39;re probably vulnerable to, many of the vulnerabilities reported since 2018 Play 2.5.x would be vulnerable to, it&#39;s just that because Play 2.5 is out of support, we don&#39;t list those vulnerabilities against it:\r\n\r\nhttps://www.playframework.com/security/vulnerability\r\n\r\nNot to mention all the vulnerabilities in the dependencies you&#39;re using.","title":"How to exclude log4j vulnerable transitive dependencies in SBT?","body":"<p>The problem with excluding log4j 1.2, is that log4j2 doesn't replace it. That's why adding a dependency on log4j2 doesn't work. They are completely different libraries. They have different artifact IDs (log4j 1.2 can be found at <code>log4j:log4j</code>, while log4j2 uses <code>org.apache.logging.log4j:log4j-api</code>), they use different Java package names (log4j 1.2 uses <code>org.apache.log4j</code>, while log4j2 uses <code>org.apache.logging.log4j</code>). They just happen to both have the word <code>log4j</code> in their name, but from a build tool/dependency managers perspective, they share nothing in common, so when you tell your build to use log4j2, the build tool has no idea that that package has any relation to log4j 1, and keeps both in your dependencies.</p>\n<p>It's obviously being brought in by one of your dependencies. If you exclude it, most likely, the dependency that brings it in will stop working, because when it loads, it will try to load the log4j 1.2 API, which won't be on the classpath, and so it'll fail with class not found errors.</p>\n<p>The work around is to use <a href=\"https://reload4j.qos.ch/\" rel=\"nofollow noreferrer\">reload4j</a>. This provides a binary compatible implementation of the log4j 1.2 APIs, but with major security vulnerabilities fixed.</p>\n<p>To do this, you need to identify which of your dependencies depends on log4j 1.2. You can do this using the sbt dependency tree plugin, a tutorial on how to use this can be found <a href=\"https://www.baeldung.com/scala/sbt-dependency-tree\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Then, exclude log4j from those dependencies transitive dependencies, as <a href=\"https://www.scala-sbt.org/1.x/docs/Library-Management.html#Exclude+Transitive+Dependencies\" rel=\"nofollow noreferrer\">documented here</a>.</p>\n<p>Finally, you can add reload4j as a dependency to your project.</p>\n<p>Better than all this would be to update your project to stop using very old versions of libraries at all. The last version of Play to support sbt 0.13.11 was Play 2.5, released in 2016. Play 2.6 replaced it in 2017. Play 2.5 support finished in 2018. You're using a version of Play that's been unsupported for over 5 years. Look at all these security vulnerabilities that have been fixed in Play since then that you're probably vulnerable to, many of the vulnerabilities reported since 2018 Play 2.5.x would be vulnerable to, it's just that because Play 2.5 is out of support, we don't list those vulnerabilities against it:</p>\n<p><a href=\"https://www.playframework.com/security/vulnerability\" rel=\"nofollow noreferrer\">https://www.playframework.com/security/vulnerability</a></p>\n<p>Not to mention all the vulnerabilities in the dependencies you're using.</p>\n"}],"owner":{"account_id":29804573,"reputation":1,"user_id":22841545,"display_name":"Krishna Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699239406,"creation_date":1698942916,"question_id":77411375,"body_markdown":"How to exclude log4j 1.2.17 vulnerable from all dependencies in build.sbt\r\n\r\nWe are using Sbt (0.13.11) based Play framework application as mentioned configuration in the attachment, we want to exclude dependencies related to vulnerable log4j 1.2.17.\r\n\r\n```\r\n\r\nname := &quot;&quot;&quot;xxxx&quot;&quot;&quot;\r\n\r\nversion := &quot;1.0&quot;\r\n\r\nlazy val playCommonDI = (project in file(&quot;./modules/play-common-di&quot;)).enablePlugins(PlayJava)\r\nlazy val libsf = (project in file(&quot;libsf&quot;))\r\n\r\nlazy val root = (project in file(&quot;.&quot;))\r\n  .enablePlugins(PlayJava, PlayEbean, SbtWeb)\r\n  .aggregate(playCommonDI, libsf)\r\n  .dependsOn(playCommonDI, libsf)\r\n\r\nscalaVersion := &quot;2.11.7&quot;\r\n\r\nscalacOptions := Seq(&quot;-feature&quot;, &quot;-unchecked&quot;, &quot;-deprecation&quot;, &quot;-encoding&quot;, &quot;utf8&quot;)\r\n\r\nresolvers += Resolver.url(&quot;Objectify Play Repository&quot;, url(&quot;http://deadbolt.ws/releases/&quot;))(Resolver.ivyStylePatterns)\r\n\r\nresolvers += &quot;(Plugins) Project Maven Repo&quot; at &quot;file://&quot; + file(&quot;.&quot;).getCanonicalPath + &quot;/local-repo/maven/&quot;\r\n\r\n\r\nval junitVersion = &quot;5.4.0&quot;\r\n\r\nval apachePOIVersion = &quot;4.1.2&quot;\r\nval apachePOIDependencies = Seq(\r\n  &quot;org.apache.poi&quot; % &quot;poi-ooxml&quot; % apachePOIVersion,\r\n  &quot;org.apache.poi&quot; % &quot;poi&quot; % apachePOIVersion,\r\n  &quot;org.apache.poi&quot; % &quot;poi-ooxml-schemas&quot; % apachePOIVersion\r\n)\r\nlibraryDependencies ++= apachePOIDependencies\r\nlibraryDependencies ++= Seq(\r\n  javaJdbc,\r\n  cache,\r\n  javaWs,\r\n  filters,\r\n\r\n  // Tests\r\n  &quot;org.junit.platform&quot; % &quot;junit-platform-launcher&quot; % &quot;1.4.0&quot; % Test,\r\n  &quot;org.junit.jupiter&quot; % &quot;junit-jupiter-engine&quot; % junitVersion % Test,\r\n  &quot;org.junit.jupiter&quot; % &quot;junit-jupiter-params&quot; % junitVersion % Test,\r\n  &quot;org.junit.jupiter&quot; % &quot;junit-jupiter-api&quot; % junitVersion % Test,\r\n\r\n  &quot;org.dhatim&quot; % &quot;fastexcel&quot; % &quot;0.12.15&quot;,\r\n\r\n  &quot;com.akamai&quot; % &quot;edgeauth&quot; % &quot;0.2.0&quot;,\r\n\r\n  &quot;org.mockito&quot; % &quot;mockito-core&quot; % &quot;2.23.4&quot; % Test,\r\n  &quot;org.mockito&quot; % &quot;mockito-junit-jupiter&quot; % &quot;2.23.4&quot; % Test,\r\n\r\n  &quot;net.aichler&quot; % &quot;jupiter-interface&quot; % JupiterKeys.jupiterVersion.value % Test,\r\n  &quot;org.jacoco&quot; % &quot;org.jacoco.core&quot; % &quot;0.8.3&quot;,\r\n\r\n  &quot;org.testcontainers&quot; % &quot;testcontainers&quot; % &quot;1.9.1&quot; % Test,\r\n  &quot;org.testcontainers&quot; % &quot;jdbc&quot; % &quot;1.9.1&quot; % Test,\r\n  &quot;org.testcontainers&quot; % &quot;mysql&quot; % &quot;1.9.1&quot; % Test,\r\n\r\n  &quot;mysql&quot; % &quot;mysql-connector-java&quot; % &quot;5.1.31&quot;,\r\n  &quot;org.apache.commons&quot; % &quot;commons-lang3&quot; % &quot;3.3.2&quot;,\r\n  &quot;commons-validator&quot; % &quot;commons-validator&quot; % &quot;1.4.0&quot;,\r\n  &quot;com.thoughtworks.xstream&quot; % &quot;xstream&quot; % &quot;1.4.4&quot;,\r\n  &quot;be.objectify&quot; %% &quot;deadbolt-java&quot; % &quot;2.5.6&quot;,\r\n  &quot;org.ocpsoft.prettytime&quot;%&quot;prettytime&quot;%&quot;3.2.5.Final&quot;,\r\n\r\n  &quot;dom4j&quot; % &quot;dom4j&quot; % &quot;1.6.1&quot;,\r\n  &quot;net.logstash.logback&quot; % &quot;logstash-logback-encoder&quot; % &quot;4.11&quot;,\r\n  &quot;org.apache.commons&quot; % &quot;commons-math3&quot; % &quot;3.5&quot;,\r\n  &quot;org.redisson&quot; % &quot;redisson&quot; % &quot;2.6.0&quot;,\r\n  &quot;org.atmosphere&quot; % &quot;atmosphere-play&quot; % &quot;2.3.0&quot;,\r\n  &quot;org.atmosphere&quot; % &quot;wasync&quot; % &quot;2.1.4&quot;,\r\n  &quot;com.hazelcast&quot; % &quot;hazelcast&quot; % &quot;3.4.2&quot;,\r\n  &quot;com.hazelcast&quot; % &quot;hazelcast-cloud&quot; % &quot;3.4.2&quot;,\r\n  &quot;org.elasticsearch&quot; % &quot;elasticsearch&quot; % &quot;1.5.0&quot;,\r\n  &quot;org.apache.commons&quot; % &quot;commons-exec&quot; % &quot;1.3&quot;,\r\n  &quot;net.htmlparser.jericho&quot; % &quot;jericho-html&quot; % &quot;3.4&quot;,\r\n  &quot;org.apache.commons&quot; % &quot;commons-csv&quot; % &quot;1.2&quot;,\r\n  &quot;com.itextpdf&quot; % &quot;itextpdf&quot; % &quot;5.5.11&quot;,\r\n  &quot;com.itextpdf.tool&quot; % &quot;xmlworker&quot; % &quot;5.5.11&quot;,\r\n  &quot;com.hierynomus&quot; % &quot;sshj&quot; % &quot;0.21.1&quot;,\r\n  &quot;com.onelogin&quot; % &quot;java-saml&quot; % &quot;2.0.1&quot;,\r\n  &quot;com.rusticisoftware&quot; % &quot;tincan&quot; % &quot;1.1.0&quot;,\r\n  \r\n  &quot;com.tokbox&quot; % &quot;opentok-server-sdk&quot; % &quot;4.3.0&quot; excludeAll(\r\n    ExclusionRule(organization = &quot;org.asynchttpclient&quot;)\r\n  ),\r\n  &quot;org.bitbucket.b_c&quot; % &quot;jose4j&quot; % &quot;0.6.4&quot;,\r\n  \r\n  &quot;com.pusher&quot; % &quot;pusher-http-java&quot; % &quot;1.0.0&quot;,\r\n  &quot;com.typesafe.akka&quot; % &quot;akka-remote_2.11&quot; % &quot;2.4.17&quot;,\r\n  &quot;org.bouncycastle&quot; % &quot;bcprov-jdk15on&quot; % &quot;1.56&quot;,\r\n\r\n  &quot;org.flywaydb&quot; %% &quot;flyway-play&quot; % &quot;3.2.0&quot;,\r\n\r\n  &quot;org.togglz&quot; % &quot;togglz-core&quot; % &quot;2.6.1.Final&quot;,\r\n  &quot;org.togglz&quot; % &quot;togglz-console&quot; % &quot;2.6.1.Final&quot;,\r\n  &quot;org.togglz&quot; % &quot;togglz-testing&quot; % &quot;2.6.1.Final&quot; % Test,\r\n  &quot;org.togglz&quot; % &quot;togglz-junit&quot; % &quot;2.6.1.Final&quot; % Test,\r\n\r\n  &quot;com.twilio.sdk&quot; % &quot;twilio&quot; % &quot;7.32.0&quot;,\r\n\r\n  &quot;com.google.inject.extensions&quot; % &quot;guice-multibindings&quot; % &quot;4.0&quot;\r\n)\r\n\r\ndependencyOverrides += &quot;net.bytebuddy&quot; % &quot;byte-buddy&quot; % &quot;1.9.3&quot;\r\ndependencyOverrides += &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-core&quot; % &quot;2.9.9&quot;\r\ndependencyOverrides += &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-databind&quot; % &quot;2.9.9.1&quot;\r\ndependencyOverrides += &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-annotations&quot; % &quot;2.9.9&quot;\r\n\r\nparallelExecution in Global := false\r\n\r\nroutesGenerator := InjectedRoutesGenerator\r\n\r\n//API Documentation\r\nsources in (Compile, doc) := Seq.empty\r\n\r\npublishArtifact in (Compile, packageDoc) := false\r\n\r\n//CSS assets\r\nincludeFilter in (Assets, LessKeys.less) := &quot;*.less&quot;\r\n\r\nexcludeFilter in (Assets, LessKeys.less) := &quot;_*.less&quot;\r\n\r\nLessKeys.compress in Assets := true\r\n\r\n//JSHint\r\nJsEngineKeys.engineType := JsEngineKeys.EngineType.Node\r\n\r\n//Digest\r\npipelineStages := Seq(uglify, digest, gzip)\r\n\r\n//Exclude documentation in dist\r\ndoc in Compile &lt;&lt;= target.map(_ / &quot;none&quot;)\r\n\r\n//SBT + Scala + idea support required (2.12?): Keys.javacOptions ++= Seq(&quot;-source&quot;, &quot;1.8&quot;, &quot;-target&quot;, &quot;1.8&quot;, &quot;-Xlint:unchecked&quot;)\r\nKeys.javacOptions += &quot;-Xlint:deprecation&quot;\r\n\r\nKeys.javacOptions += &quot;-Xlint:unchecked&quot;\r\n\r\n// Enable testes to run in it&#39;s own VM\r\nKeys.fork in Test := true\r\n\r\nivyConfiguration ~= { originalIvyConfiguration =&gt;\r\n  val config = originalIvyConfiguration.asInstanceOf[InlineIvyConfiguration]\r\n  val ivyHome = file(Path.userHome.absolutePath+&quot;/ivy2_sbt-plugin-2.5.14&quot;)\r\n  val ivyPaths = new IvyPaths(config.paths.baseDirectory, Some(ivyHome))\r\n  new InlineIvyConfiguration(ivyPaths, config.resolvers, config.otherResolvers,\r\n    config.moduleConfigurations, config.localOnly, config.lock,\r\n    config.checksums, config.resolutionCacheDir, config.log)\r\n}\r\n\r\njacocoReportSettings in Test := JacocoReportSettings().withTitle(&quot;xxxx Report&quot;)\r\n```\r\n\r\nAs mentioned in the build file, we tried to mention the proper log4j 2.17, seems default one log4j 1.2.17 is not getting replaced with new version of log4j.\r\n\r\nCan you please help us on this ?","title":"How to exclude log4j vulnerable transitive dependencies in SBT?","body":"<p>How to exclude log4j 1.2.17 vulnerable from all dependencies in build.sbt</p>\n<p>We are using Sbt (0.13.11) based Play framework application as mentioned configuration in the attachment, we want to exclude dependencies related to vulnerable log4j 1.2.17.</p>\n<pre><code>\nname := &quot;&quot;&quot;xxxx&quot;&quot;&quot;\n\nversion := &quot;1.0&quot;\n\nlazy val playCommonDI = (project in file(&quot;./modules/play-common-di&quot;)).enablePlugins(PlayJava)\nlazy val libsf = (project in file(&quot;libsf&quot;))\n\nlazy val root = (project in file(&quot;.&quot;))\n  .enablePlugins(PlayJava, PlayEbean, SbtWeb)\n  .aggregate(playCommonDI, libsf)\n  .dependsOn(playCommonDI, libsf)\n\nscalaVersion := &quot;2.11.7&quot;\n\nscalacOptions := Seq(&quot;-feature&quot;, &quot;-unchecked&quot;, &quot;-deprecation&quot;, &quot;-encoding&quot;, &quot;utf8&quot;)\n\nresolvers += Resolver.url(&quot;Objectify Play Repository&quot;, url(&quot;http://deadbolt.ws/releases/&quot;))(Resolver.ivyStylePatterns)\n\nresolvers += &quot;(Plugins) Project Maven Repo&quot; at &quot;file://&quot; + file(&quot;.&quot;).getCanonicalPath + &quot;/local-repo/maven/&quot;\n\n\nval junitVersion = &quot;5.4.0&quot;\n\nval apachePOIVersion = &quot;4.1.2&quot;\nval apachePOIDependencies = Seq(\n  &quot;org.apache.poi&quot; % &quot;poi-ooxml&quot; % apachePOIVersion,\n  &quot;org.apache.poi&quot; % &quot;poi&quot; % apachePOIVersion,\n  &quot;org.apache.poi&quot; % &quot;poi-ooxml-schemas&quot; % apachePOIVersion\n)\nlibraryDependencies ++= apachePOIDependencies\nlibraryDependencies ++= Seq(\n  javaJdbc,\n  cache,\n  javaWs,\n  filters,\n\n  // Tests\n  &quot;org.junit.platform&quot; % &quot;junit-platform-launcher&quot; % &quot;1.4.0&quot; % Test,\n  &quot;org.junit.jupiter&quot; % &quot;junit-jupiter-engine&quot; % junitVersion % Test,\n  &quot;org.junit.jupiter&quot; % &quot;junit-jupiter-params&quot; % junitVersion % Test,\n  &quot;org.junit.jupiter&quot; % &quot;junit-jupiter-api&quot; % junitVersion % Test,\n\n  &quot;org.dhatim&quot; % &quot;fastexcel&quot; % &quot;0.12.15&quot;,\n\n  &quot;com.akamai&quot; % &quot;edgeauth&quot; % &quot;0.2.0&quot;,\n\n  &quot;org.mockito&quot; % &quot;mockito-core&quot; % &quot;2.23.4&quot; % Test,\n  &quot;org.mockito&quot; % &quot;mockito-junit-jupiter&quot; % &quot;2.23.4&quot; % Test,\n\n  &quot;net.aichler&quot; % &quot;jupiter-interface&quot; % JupiterKeys.jupiterVersion.value % Test,\n  &quot;org.jacoco&quot; % &quot;org.jacoco.core&quot; % &quot;0.8.3&quot;,\n\n  &quot;org.testcontainers&quot; % &quot;testcontainers&quot; % &quot;1.9.1&quot; % Test,\n  &quot;org.testcontainers&quot; % &quot;jdbc&quot; % &quot;1.9.1&quot; % Test,\n  &quot;org.testcontainers&quot; % &quot;mysql&quot; % &quot;1.9.1&quot; % Test,\n\n  &quot;mysql&quot; % &quot;mysql-connector-java&quot; % &quot;5.1.31&quot;,\n  &quot;org.apache.commons&quot; % &quot;commons-lang3&quot; % &quot;3.3.2&quot;,\n  &quot;commons-validator&quot; % &quot;commons-validator&quot; % &quot;1.4.0&quot;,\n  &quot;com.thoughtworks.xstream&quot; % &quot;xstream&quot; % &quot;1.4.4&quot;,\n  &quot;be.objectify&quot; %% &quot;deadbolt-java&quot; % &quot;2.5.6&quot;,\n  &quot;org.ocpsoft.prettytime&quot;%&quot;prettytime&quot;%&quot;3.2.5.Final&quot;,\n\n  &quot;dom4j&quot; % &quot;dom4j&quot; % &quot;1.6.1&quot;,\n  &quot;net.logstash.logback&quot; % &quot;logstash-logback-encoder&quot; % &quot;4.11&quot;,\n  &quot;org.apache.commons&quot; % &quot;commons-math3&quot; % &quot;3.5&quot;,\n  &quot;org.redisson&quot; % &quot;redisson&quot; % &quot;2.6.0&quot;,\n  &quot;org.atmosphere&quot; % &quot;atmosphere-play&quot; % &quot;2.3.0&quot;,\n  &quot;org.atmosphere&quot; % &quot;wasync&quot; % &quot;2.1.4&quot;,\n  &quot;com.hazelcast&quot; % &quot;hazelcast&quot; % &quot;3.4.2&quot;,\n  &quot;com.hazelcast&quot; % &quot;hazelcast-cloud&quot; % &quot;3.4.2&quot;,\n  &quot;org.elasticsearch&quot; % &quot;elasticsearch&quot; % &quot;1.5.0&quot;,\n  &quot;org.apache.commons&quot; % &quot;commons-exec&quot; % &quot;1.3&quot;,\n  &quot;net.htmlparser.jericho&quot; % &quot;jericho-html&quot; % &quot;3.4&quot;,\n  &quot;org.apache.commons&quot; % &quot;commons-csv&quot; % &quot;1.2&quot;,\n  &quot;com.itextpdf&quot; % &quot;itextpdf&quot; % &quot;5.5.11&quot;,\n  &quot;com.itextpdf.tool&quot; % &quot;xmlworker&quot; % &quot;5.5.11&quot;,\n  &quot;com.hierynomus&quot; % &quot;sshj&quot; % &quot;0.21.1&quot;,\n  &quot;com.onelogin&quot; % &quot;java-saml&quot; % &quot;2.0.1&quot;,\n  &quot;com.rusticisoftware&quot; % &quot;tincan&quot; % &quot;1.1.0&quot;,\n  \n  &quot;com.tokbox&quot; % &quot;opentok-server-sdk&quot; % &quot;4.3.0&quot; excludeAll(\n    ExclusionRule(organization = &quot;org.asynchttpclient&quot;)\n  ),\n  &quot;org.bitbucket.b_c&quot; % &quot;jose4j&quot; % &quot;0.6.4&quot;,\n  \n  &quot;com.pusher&quot; % &quot;pusher-http-java&quot; % &quot;1.0.0&quot;,\n  &quot;com.typesafe.akka&quot; % &quot;akka-remote_2.11&quot; % &quot;2.4.17&quot;,\n  &quot;org.bouncycastle&quot; % &quot;bcprov-jdk15on&quot; % &quot;1.56&quot;,\n\n  &quot;org.flywaydb&quot; %% &quot;flyway-play&quot; % &quot;3.2.0&quot;,\n\n  &quot;org.togglz&quot; % &quot;togglz-core&quot; % &quot;2.6.1.Final&quot;,\n  &quot;org.togglz&quot; % &quot;togglz-console&quot; % &quot;2.6.1.Final&quot;,\n  &quot;org.togglz&quot; % &quot;togglz-testing&quot; % &quot;2.6.1.Final&quot; % Test,\n  &quot;org.togglz&quot; % &quot;togglz-junit&quot; % &quot;2.6.1.Final&quot; % Test,\n\n  &quot;com.twilio.sdk&quot; % &quot;twilio&quot; % &quot;7.32.0&quot;,\n\n  &quot;com.google.inject.extensions&quot; % &quot;guice-multibindings&quot; % &quot;4.0&quot;\n)\n\ndependencyOverrides += &quot;net.bytebuddy&quot; % &quot;byte-buddy&quot; % &quot;1.9.3&quot;\ndependencyOverrides += &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-core&quot; % &quot;2.9.9&quot;\ndependencyOverrides += &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-databind&quot; % &quot;2.9.9.1&quot;\ndependencyOverrides += &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-annotations&quot; % &quot;2.9.9&quot;\n\nparallelExecution in Global := false\n\nroutesGenerator := InjectedRoutesGenerator\n\n//API Documentation\nsources in (Compile, doc) := Seq.empty\n\npublishArtifact in (Compile, packageDoc) := false\n\n//CSS assets\nincludeFilter in (Assets, LessKeys.less) := &quot;*.less&quot;\n\nexcludeFilter in (Assets, LessKeys.less) := &quot;_*.less&quot;\n\nLessKeys.compress in Assets := true\n\n//JSHint\nJsEngineKeys.engineType := JsEngineKeys.EngineType.Node\n\n//Digest\npipelineStages := Seq(uglify, digest, gzip)\n\n//Exclude documentation in dist\ndoc in Compile &lt;&lt;= target.map(_ / &quot;none&quot;)\n\n//SBT + Scala + idea support required (2.12?): Keys.javacOptions ++= Seq(&quot;-source&quot;, &quot;1.8&quot;, &quot;-target&quot;, &quot;1.8&quot;, &quot;-Xlint:unchecked&quot;)\nKeys.javacOptions += &quot;-Xlint:deprecation&quot;\n\nKeys.javacOptions += &quot;-Xlint:unchecked&quot;\n\n// Enable testes to run in it's own VM\nKeys.fork in Test := true\n\nivyConfiguration ~= { originalIvyConfiguration =&gt;\n  val config = originalIvyConfiguration.asInstanceOf[InlineIvyConfiguration]\n  val ivyHome = file(Path.userHome.absolutePath+&quot;/ivy2_sbt-plugin-2.5.14&quot;)\n  val ivyPaths = new IvyPaths(config.paths.baseDirectory, Some(ivyHome))\n  new InlineIvyConfiguration(ivyPaths, config.resolvers, config.otherResolvers,\n    config.moduleConfigurations, config.localOnly, config.lock,\n    config.checksums, config.resolutionCacheDir, config.log)\n}\n\njacocoReportSettings in Test := JacocoReportSettings().withTitle(&quot;xxxx Report&quot;)\n</code></pre>\n<p>As mentioned in the build file, we tried to mention the proper log4j 2.17, seems default one log4j 1.2.17 is not getting replaced with new version of log4j.</p>\n<p>Can you please help us on this ?</p>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"answers":[{"tags":[],"owner":{"account_id":8202462,"reputation":4165,"user_id":6173350,"display_name":"Avinash"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1484937496,"creation_date":1484937496,"answer_id":41770321,"question_id":41770156,"body_markdown":"Create your class implementing `UserDetails` interface.\r\n\r\n    public class User implements UserDetails {\r\n        // Your user properties\r\n        // implement methods\r\n    }\r\n\r\nAnd then, once authenticated, you can access this object anywhere in the project like this.\r\n\r\n    User user = (User) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n\r\n","title":"SPRING: Add custom user details to spring security user","body":"<p>Create your class implementing <code>UserDetails</code> interface.</p>\n\n<pre><code>public class User implements UserDetails {\n    // Your user properties\n    // implement methods\n}\n</code></pre>\n\n<p>And then, once authenticated, you can access this object anywhere in the project like this.</p>\n\n<pre><code>User user = (User) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8320522,"reputation":847,"user_id":6252395,"display_name":"Daniel Arechiga"},"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1484947578,"creation_date":1484947161,"answer_id":41772510,"question_id":41770156,"body_markdown":"Just like Avinash said, you can make your `User` class implement `UserDetails` and you can also implement `UserDetailsService` and override corresponding methods to return the custom `User` object: \r\n\r\n    @Service(&quot;userDetailsService&quot;)\r\n    public class MyUserDetailsService implements UserDetailsService {\r\n    \r\n    \t//get user from the database, via Hibernate\r\n    \t@Autowired\r\n    \tprivate UserDao userDao;\r\n    \r\n    \t@Transactional(readOnly=true)\r\n    \t@Override\r\n    \tpublic UserDetails loadUserByUsername(final String username)\r\n    \t\tthrows UsernameNotFoundException {\r\n    //CUSTOM USER HERE vvv\r\n    \t\tUser user = userDao.findByUserName(username);\r\n    \t\tList&lt;GrantedAuthority&gt; authorities =\r\n                                          buildUserAuthority(user.getUserRole());\r\n    //if you&#39;re implementing UserDetails you wouldn&#39;t need to call this method and instead return the User as it is\r\n    \t\t//return buildUserForAuthentication(user, authorities);\r\n    return user;\r\n    \r\n    \t}\r\n    \r\n    \t// Converts user to spring.springframework.security.core.userdetails.User\r\n    \tprivate User buildUserForAuthentication(user,\r\n    \t\tList&lt;GrantedAuthority&gt; authorities) {\r\n    \t\treturn new User(user.getUsername(), user.getPassword(),\r\n    \t\t\tuser.isEnabled(), true, true, true, authorities);\r\n    \t}\r\n    \r\n    \tprivate List&lt;GrantedAuthority&gt; buildUserAuthority(Set&lt;UserRole&gt; userRoles) {\r\n    \r\n    \t\tSet&lt;GrantedAuthority&gt; setAuths = new HashSet&lt;GrantedAuthority&gt;();\r\n    \r\n    \t\t// add user&#39;s authorities\r\n    \t\tfor (UserRole userRole : userRoles) {\r\n    \t\t\tsetAuths.add(new SimpleGrantedAuthority(userRole.getRole()));\r\n    \t\t}\r\n    \r\n    \t\tList&lt;GrantedAuthority&gt; Result = new ArrayList&lt;GrantedAuthority&gt;(setAuths);\r\n    \r\n    \t\treturn Result;\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd you just configure your `WebConfigurerAdapter` using the custom `UserdetailsService` :\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t@Autowired\r\n\t@Qualifier(&quot;userDetailsService&quot;)\r\n\tUserDetailsService userDetailsService;\r\n\r\n\t@Autowired\r\n\tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\r\n\t    //authorization logic here ...\r\n\t}\r\n\r\n        @Bean\r\n    \tpublic PasswordEncoder passwordEncoder(){\r\n    \t\t// return preferred PasswordEncoder ...//\r\n    \t}\r\n    \r\n    \t\r\n    }\r\n\r\nHere, a sample of a custom `UserDetails` implementation:\r\n[custom UserDetails][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7737602/example-of-custom-implementation-of-userdetails","title":"SPRING: Add custom user details to spring security user","body":"<p>Just like Avinash said, you can make your <code>User</code> class implement <code>UserDetails</code> and you can also implement <code>UserDetailsService</code> and override corresponding methods to return the custom <code>User</code> object: </p>\n\n<pre><code>@Service(\"userDetailsService\")\npublic class MyUserDetailsService implements UserDetailsService {\n\n    //get user from the database, via Hibernate\n    @Autowired\n    private UserDao userDao;\n\n    @Transactional(readOnly=true)\n    @Override\n    public UserDetails loadUserByUsername(final String username)\n        throws UsernameNotFoundException {\n//CUSTOM USER HERE vvv\n        User user = userDao.findByUserName(username);\n        List&lt;GrantedAuthority&gt; authorities =\n                                      buildUserAuthority(user.getUserRole());\n//if you're implementing UserDetails you wouldn't need to call this method and instead return the User as it is\n        //return buildUserForAuthentication(user, authorities);\nreturn user;\n\n    }\n\n    // Converts user to spring.springframework.security.core.userdetails.User\n    private User buildUserForAuthentication(user,\n        List&lt;GrantedAuthority&gt; authorities) {\n        return new User(user.getUsername(), user.getPassword(),\n            user.isEnabled(), true, true, true, authorities);\n    }\n\n    private List&lt;GrantedAuthority&gt; buildUserAuthority(Set&lt;UserRole&gt; userRoles) {\n\n        Set&lt;GrantedAuthority&gt; setAuths = new HashSet&lt;GrantedAuthority&gt;();\n\n        // add user's authorities\n        for (UserRole userRole : userRoles) {\n            setAuths.add(new SimpleGrantedAuthority(userRole.getRole()));\n        }\n\n        List&lt;GrantedAuthority&gt; Result = new ArrayList&lt;GrantedAuthority&gt;(setAuths);\n\n        return Result;\n    }\n\n}\n</code></pre>\n\n<p>And you just configure your <code>WebConfigurerAdapter</code> using the custom <code>UserdetailsService</code> :</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n@Autowired\n@Qualifier(\"userDetailsService\")\nUserDetailsService userDetailsService;\n\n@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n\n    //authorization logic here ...\n}\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        // return preferred PasswordEncoder ...//\n    }\n\n\n}\n</code></pre>\n\n<p>Here, a sample of a custom <code>UserDetails</code> implementation:\n<a href=\"https://stackoverflow.com/questions/7737602/example-of-custom-implementation-of-userdetails\">custom UserDetails</a></p>\n"},{"tags":[],"owner":{"account_id":10553380,"reputation":2165,"user_id":10324087,"display_name":"viveknaskar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1577443914,"creation_date":1577443914,"answer_id":59499667,"question_id":41770156,"body_markdown":"I had worked on this in the following way.\r\n\r\n**AccountDetailsService.java**\r\n\r\n    @Service\r\n    public class AccountDetailsService implements UserDetailsService {\r\n    \r\n        @Autowired\r\n        AccountRepository accountRepository;\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException, JSONException {\r\n            return loadUser(s);\r\n        }\r\n    \r\n        public UserDetails loadUserByUsernameWithoutCredentials(String s) throws UsernameNotFoundException, JSONException {\r\n            CustomUserDetails customUserDetails=loadUser(s);\r\n            if (customUserDetails != null){\r\n                customUserDetails.eraseCredentials();\r\n            }\r\n            return customUserDetails;\r\n        }\r\n    \r\n        private CustomUserDetails loadUser(String s) throws UsernameNotFoundException, JSONException {\r\n    \r\n            Account userAccount = accountDbRepository.getAccountByUserName(s);\r\n            if (userAccount==null){\r\n                return null;\r\n            }\r\n            Collection&lt;GrantedAuthority&gt; grantedAuthoritySet = new HashSet&lt;&gt;();\r\n           \r\n            for (int i=0; i&lt;userAccount.getRoles().size();i++)\r\n            {\r\n                JSONObject jsonObject = new JSONObject(userAccount.getRoles().get(i));\r\n                String role = jsonObject.getString(&quot;role&quot;);\r\n                gas.add(new SimpleGrantedAuthority(role));\r\n            }\r\n            return new CustomUserDetails(userAccount.getEmail(),userAccount.getDisplayName(),userAccount.getUserName(),userAccount.getPassword(),userAccount.getEnabled(),gas);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n**CustomUserDetails.java**\r\n\r\n    public class CustomUserDetails implements UserDetails {\r\n\r\n    private Collection&lt;? extends GrantedAuthority&gt; authorities;\r\n\r\n    private String email;\r\n\r\n    private String displayName;\r\n\r\n    private String password;\r\n\r\n    private String username;\r\n\r\n    private Boolean enabled;\r\n\r\n    private Boolean accountNonExpired;\r\n\r\n    private Boolean accountNonLocked;\r\n\r\n    private boolean credentialsNonExpired;\r\n\r\n    public CustomUserDetails(String email, String displayName, String username, String password, Boolean enabled, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n        this.email = email;\r\n        this.displayName = displayName;\r\n        this.enabled=enabled;\r\n        this.username=username;\r\n        this.password=password;\r\n        this.accountNonExpired=true;\r\n        this.accountNonLocked=true;\r\n        this.credentialsNonExpired=true;\r\n        this.authorities=authorities;\r\n    }\r\n        \r\n    public CustomUserDetails(String email, String displayName, String password, String username, Boolean enabled, Boolean accountNonExpired, Boolean accountNonLocked, boolean credentialsNonExpired, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n            this.authorities = authorities;\r\n            this.email = email;\r\n            this.displayName = displayName;\r\n            this.password = password;\r\n            this.username = username;\r\n            this.enabled = enabled;\r\n            this.accountNonExpired = accountNonExpired;\r\n            this.accountNonLocked = accountNonLocked;\r\n            this.credentialsNonExpired = credentialsNonExpired;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getDisplayName() {\r\n            return displayName;\r\n        }\r\n    \r\n        public void setDisplayName(String displayName) {\r\n            this.displayName = displayName;\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            return authorities;\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        @Override\r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return accountNonExpired;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return accountNonLocked;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return credentialsNonExpired;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return enabled;\r\n        }\r\n    \r\n        public void eraseCredentials(){\r\n            this.password=null;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"SPRING: Add custom user details to spring security user","body":"<p>I had worked on this in the following way.</p>\n\n<p><strong>AccountDetailsService.java</strong></p>\n\n<pre><code>@Service\npublic class AccountDetailsService implements UserDetailsService {\n\n    @Autowired\n    AccountRepository accountRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException, JSONException {\n        return loadUser(s);\n    }\n\n    public UserDetails loadUserByUsernameWithoutCredentials(String s) throws UsernameNotFoundException, JSONException {\n        CustomUserDetails customUserDetails=loadUser(s);\n        if (customUserDetails != null){\n            customUserDetails.eraseCredentials();\n        }\n        return customUserDetails;\n    }\n\n    private CustomUserDetails loadUser(String s) throws UsernameNotFoundException, JSONException {\n\n        Account userAccount = accountDbRepository.getAccountByUserName(s);\n        if (userAccount==null){\n            return null;\n        }\n        Collection&lt;GrantedAuthority&gt; grantedAuthoritySet = new HashSet&lt;&gt;();\n\n        for (int i=0; i&lt;userAccount.getRoles().size();i++)\n        {\n            JSONObject jsonObject = new JSONObject(userAccount.getRoles().get(i));\n            String role = jsonObject.getString(\"role\");\n            gas.add(new SimpleGrantedAuthority(role));\n        }\n        return new CustomUserDetails(userAccount.getEmail(),userAccount.getDisplayName(),userAccount.getUserName(),userAccount.getPassword(),userAccount.getEnabled(),gas);\n\n    }\n\n}\n</code></pre>\n\n<p><strong>CustomUserDetails.java</strong></p>\n\n<pre><code>public class CustomUserDetails implements UserDetails {\n\nprivate Collection&lt;? extends GrantedAuthority&gt; authorities;\n\nprivate String email;\n\nprivate String displayName;\n\nprivate String password;\n\nprivate String username;\n\nprivate Boolean enabled;\n\nprivate Boolean accountNonExpired;\n\nprivate Boolean accountNonLocked;\n\nprivate boolean credentialsNonExpired;\n\npublic CustomUserDetails(String email, String displayName, String username, String password, Boolean enabled, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n    this.email = email;\n    this.displayName = displayName;\n    this.enabled=enabled;\n    this.username=username;\n    this.password=password;\n    this.accountNonExpired=true;\n    this.accountNonLocked=true;\n    this.credentialsNonExpired=true;\n    this.authorities=authorities;\n}\n\npublic CustomUserDetails(String email, String displayName, String password, String username, Boolean enabled, Boolean accountNonExpired, Boolean accountNonLocked, boolean credentialsNonExpired, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        this.authorities = authorities;\n        this.email = email;\n        this.displayName = displayName;\n        this.password = password;\n        this.username = username;\n        this.enabled = enabled;\n        this.accountNonExpired = accountNonExpired;\n        this.accountNonLocked = accountNonLocked;\n        this.credentialsNonExpired = credentialsNonExpired;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getDisplayName() {\n        return displayName;\n    }\n\n    public void setDisplayName(String displayName) {\n        this.displayName = displayName;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return authorities;\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return accountNonExpired;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return accountNonLocked;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return credentialsNonExpired;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return enabled;\n    }\n\n    public void eraseCredentials(){\n        this.password=null;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18663827,"reputation":11,"user_id":13604354,"display_name":"Sriraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590265715,"creation_date":1590265715,"answer_id":61978191,"question_id":41770156,"body_markdown":"Don&#39;t directly wite `userRole.getRole()` directly if you want to send the role as `ADMIN/USER` instead write it as `&quot;ROLE_&quot; + userRole.getRole()`. So that you can get the error-free run of your code.\r\n\r\n**Example:**\r\n  \r\n\r\n    @Service(&quot;listUserDetailsService&quot;)\r\n    public class ListUserDetailsService implements UserDetailsService {\r\n    \t\r\n    \t@Transactional(readOnly = true)\r\n    \t@Override\r\n    \tpublic UserDetails loadUserByUsername(String email) throws UsernameNotFoundException{\r\n    \t\t\r\n    \t\tUser user = userRepo.findByEmail(email);\r\n    \t\t\r\n    \t\tif (user == null) {\r\n    \t\t\tthrow new UsernameNotFoundException(&quot;Invalid User&quot;);\r\n    \t\t\t\r\n    \t\t} else {\r\n    \t\t    Set&lt;GrantedAuthority&gt; grantedAuthorities = new HashSet&lt;&gt;();\r\n    \t\t    for (Role role : user.getRoles()){\r\n    \t\t        grantedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot;+role.getName()));\r\n    \t\t    }\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\treturn new org\r\n    \t\t\t\t\t.springframework\r\n                        .security\r\n                        .core\r\n                        .userdetails\r\n                        .User(user.getEmail(), user.getPassword(), grantedAuthorities);\r\n    \r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tprivate final UserRepo userRepo;\r\n    \t\r\n    \tpublic ListUserDetailsService(UserRepo userRepo) {\t\r\n    \t\tthis.userRepo = userRepo;\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"SPRING: Add custom user details to spring security user","body":"<p>Don't directly wite <code>userRole.getRole()</code> directly if you want to send the role as <code>ADMIN/USER</code> instead write it as <code>\"ROLE_\" + userRole.getRole()</code>. So that you can get the error-free run of your code.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>@Service(\"listUserDetailsService\")\npublic class ListUserDetailsService implements UserDetailsService {\n\n    @Transactional(readOnly = true)\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException{\n\n        User user = userRepo.findByEmail(email);\n\n        if (user == null) {\n            throw new UsernameNotFoundException(\"Invalid User\");\n\n        } else {\n            Set&lt;GrantedAuthority&gt; grantedAuthorities = new HashSet&lt;&gt;();\n            for (Role role : user.getRoles()){\n                grantedAuthorities.add(new SimpleGrantedAuthority(\"ROLE_\"+role.getName()));\n            }\n\n\n            return new org\n                    .springframework\n                    .security\n                    .core\n                    .userdetails\n                    .User(user.getEmail(), user.getPassword(), grantedAuthorities);\n\n        }\n\n    }\n\n    private final UserRepo userRepo;\n\n    public ListUserDetailsService(UserRepo userRepo) {  \n        this.userRepo = userRepo;\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12211707,"reputation":367,"user_id":8913302,"display_name":"Johan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699238929,"creation_date":1699238929,"answer_id":77428488,"question_id":41770156,"body_markdown":"Instead of implements the interface `UserDetails`, it is more clean and simple by extending class `org.springframework.security.core.userdetails.User`.\r\n\r\n\r\n    import org.springframework.security.core.userdetails.User;\r\n    \r\n    public class CustomUserDetails extends User {\r\n        // you can add custom field here, example field &#39;name&#39;\r\n        private String name;\r\n    \r\n        public CustomUserDetails(String username, String password, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n            super(username, password, authorities);\r\n        }\r\n        // don&#39;t forget getter-setter\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\nAnd then, once authenticated, you can access this object anywhere in the project like this.\r\n\r\n    CustomUserDetails user = (CustomUserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n\r\n","title":"SPRING: Add custom user details to spring security user","body":"<p>Instead of implements the interface <code>UserDetails</code>, it is more clean and simple by extending class <code>org.springframework.security.core.userdetails.User</code>.</p>\n<pre><code>import org.springframework.security.core.userdetails.User;\n\npublic class CustomUserDetails extends User {\n    // you can add custom field here, example field 'name'\n    private String name;\n\n    public CustomUserDetails(String username, String password, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        super(username, password, authorities);\n    }\n    // don't forget getter-setter\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>And then, once authenticated, you can access this object anywhere in the project like this.</p>\n<pre><code>CustomUserDetails user = (CustomUserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n</code></pre>\n"}],"owner":{"account_id":10075396,"reputation":343,"user_id":7447692,"display_name":"counter1602"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75629,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":41772510,"answer_count":5,"score":24,"last_activity_date":1699238929,"creation_date":1484936831,"question_id":41770156,"body_markdown":"I&#39;m currently working on a Spring MVC application and I need to add a custom field to my Spring Security log-in user right when I log in (I insert username, password, custom value).\r\nThis value needs to be available on everywhere when the user is logged in (e.g. via pricipal.getValue).\r\n\r\nI read a lot about custom user classes and custom services, but can&#39;t really find a working solution for my problem...\r\n\r\nAny help would be great!","title":"SPRING: Add custom user details to spring security user","body":"<p>I'm currently working on a Spring MVC application and I need to add a custom field to my Spring Security log-in user right when I log in (I insert username, password, custom value).\nThis value needs to be available on everywhere when the user is logged in (e.g. via pricipal.getValue).</p>\n\n<p>I read a lot about custom user classes and custom services, but can't really find a working solution for my problem...</p>\n\n<p>Any help would be great!</p>\n"},{"tags":["java","tomcat"],"owner":{"account_id":29834458,"reputation":1,"user_id":22864150,"display_name":"user22864150"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699238757,"creation_date":1699238757,"question_id":77428481,"body_markdown":"One or more filters in org. apache. catalina. core. StandardContext. startInternal failed to start. The complete detailed information will be found in the corresponding container log file,\r\norg.apache.catalina.core.StandardContext.filterStart Abnormal startup filter [jfinal](启动过滤器异常[jfinal])\r\n\tcom.swan.platform.common.PlatformException: Failed to start DBConfigPlugin, database configuration file not found!(启动DBConfigPlugin失败，没有找到数据库配置文件！)\r\n\r\n[enter image description here](https://i.stack.imgur.com/ZdRua.png)\r\n[enter image description here](https://i.stack.imgur.com/cbmB7.png)\r\nThe project can be run locally on IDEA and tomcat8.5, but deploying the project to tomcat8.5 on a remote server will result in an error","title":"Abnormal startup filter [jfinal],Tomcat failed to start DBConfigPlugin, database configuration file not found","body":"<p>One or more filters in org. apache. catalina. core. StandardContext. startInternal failed to start. The complete detailed information will be found in the corresponding container log file,\norg.apache.catalina.core.StandardContext.filterStart Abnormal startup filter jfinal\ncom.swan.platform.common.PlatformException: Failed to start DBConfigPlugin, database configuration file not found!(启动DBConfigPlugin失败，没有找到数据库配置文件！)</p>\n<p><a href=\"https://i.stack.imgur.com/ZdRua.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/cbmB7.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThe project can be run locally on IDEA and tomcat8.5, but deploying the project to tomcat8.5 on a remote server will result in an error</p>\n"},{"tags":["java","spring","postgresql","junit","flyway"],"answers":[{"tags":[],"owner":{"account_id":262115,"reputation":712,"user_id":546757,"accept_rate":40,"display_name":"Alan Cabrera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699237874,"creation_date":1699237874,"answer_id":77428447,"question_id":74952144,"body_markdown":"In https://stackoverflow.com/a/2784421/546757, a user posted that the issue was solved by adding &quot;?preparedStatementCacheQueries=0&quot; to the JDBC URL to disable prepared statements caching. That user claims that the error is due to Flyway clearing and recreating the schema between caching the statement and reusing it.\r\n\r\nI&#39;m not sure if the explanation is accurate, but adding &quot;?preparedStatementCacheQueries=0&quot; to the JDBC URL worked for me.","title":"I need help understanding why JUnit tests throw a `org.postgresql.util.PSQLException: ERROR: cached plan must not change result type`","body":"<p>In <a href=\"https://stackoverflow.com/a/2784421/546757\">https://stackoverflow.com/a/2784421/546757</a>, a user posted that the issue was solved by adding &quot;?preparedStatementCacheQueries=0&quot; to the JDBC URL to disable prepared statements caching. That user claims that the error is due to Flyway clearing and recreating the schema between caching the statement and reusing it.</p>\n<p>I'm not sure if the explanation is accurate, but adding &quot;?preparedStatementCacheQueries=0&quot; to the JDBC URL worked for me.</p>\n"}],"owner":{"account_id":8327656,"reputation":1,"user_id":6257236,"display_name":"eager_to_learn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699237874,"creation_date":1672322872,"question_id":74952144,"body_markdown":"I have a Spring application with a bunch of integration tests that use TestContainers and JUnit. I create a `protected static final PostgreSQLContainer&lt;?&gt; container = new PostgreSQLContainer&lt;&gt;(&quot;postgres:14-alpine&quot;)` that I then use in my tests, and I have a method annotated with `@BeforeEach` that cleans the DB and then re-apply the migration.\r\n\r\nEverything was working fine until I added a new migration script to my application:\r\n```sql\r\nCREATE TYPE user_state_enum AS ENUM (&#39;ACTIVE&#39;, &#39;DELETED&#39;);\r\n\r\nALTER TABLE users ALTER COLUMN user_state TYPE user_state_enum; -- this was a text field before\r\n```\r\nand suddenly I started getting some fails in my integration tests. It consistently fails on some tests while executing `userRepository.findByUserId(userId)` with the error `org.postgresql.util.PSQLException: ERROR: cached plan must not change result type`. I modified my entity Java class according to [this tutorial][1], so I created a class that extends from `org.hibernate.type.EnumType` and implemented the `nullSafeSet` method.\r\n\r\nI managed to solve the problem already by setting in my `application-test.yaml` the following property: \r\n```yaml\r\nspring:\r\n  datasource:\r\n    hikari:\r\n      data-source-properties:\r\n        preparedStatementCacheQueries: 0\r\n```\r\nbut I am still struggling to understand why this is happening. I read on some other SO posts that it might be due to Flyway altering the DB while I execute some `select` queries in a test, but afaik Flyway should be done migrating the DB once a test is executed, and the next migration should not start until the tests is done executing. I have an idea that it might be due to the fact that I delete and recreate the whole schema after every test, but I never encountered this behaviour in any other integration test I&#39;ve written.\r\n\r\n  [1]: https://thorben-janssen.com/hibernate-enum-mappings/#Customized_Mapping_to_a_Database-Specific_Enum_Type","title":"I need help understanding why JUnit tests throw a `org.postgresql.util.PSQLException: ERROR: cached plan must not change result type`","body":"<p>I have a Spring application with a bunch of integration tests that use TestContainers and JUnit. I create a <code>protected static final PostgreSQLContainer&lt;?&gt; container = new PostgreSQLContainer&lt;&gt;(&quot;postgres:14-alpine&quot;)</code> that I then use in my tests, and I have a method annotated with <code>@BeforeEach</code> that cleans the DB and then re-apply the migration.</p>\n<p>Everything was working fine until I added a new migration script to my application:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TYPE user_state_enum AS ENUM ('ACTIVE', 'DELETED');\n\nALTER TABLE users ALTER COLUMN user_state TYPE user_state_enum; -- this was a text field before\n</code></pre>\n<p>and suddenly I started getting some fails in my integration tests. It consistently fails on some tests while executing <code>userRepository.findByUserId(userId)</code> with the error <code>org.postgresql.util.PSQLException: ERROR: cached plan must not change result type</code>. I modified my entity Java class according to <a href=\"https://thorben-janssen.com/hibernate-enum-mappings/#Customized_Mapping_to_a_Database-Specific_Enum_Type\" rel=\"nofollow noreferrer\">this tutorial</a>, so I created a class that extends from <code>org.hibernate.type.EnumType</code> and implemented the <code>nullSafeSet</code> method.</p>\n<p>I managed to solve the problem already by setting in my <code>application-test.yaml</code> the following property:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    hikari:\n      data-source-properties:\n        preparedStatementCacheQueries: 0\n</code></pre>\n<p>but I am still struggling to understand why this is happening. I read on some other SO posts that it might be due to Flyway altering the DB while I execute some <code>select</code> queries in a test, but afaik Flyway should be done migrating the DB once a test is executed, and the next migration should not start until the tests is done executing. I have an idea that it might be due to the fact that I delete and recreate the whole schema after every test, but I never encountered this behaviour in any other integration test I've written.</p>\n"},{"tags":["java","android","react-native","kotlin","gradle"],"comments":[{"owner":{"account_id":5083634,"reputation":8667,"user_id":4079010,"accept_rate":50,"display_name":"Rahul Khurana"},"score":2,"creation_date":1654254809,"post_id":72168494,"comment_id":128052841,"body_markdown":"Have you resolved this issue?","body":"Have you resolved this issue?"},{"owner":{"account_id":9570349,"reputation":543,"user_id":7108174,"accept_rate":0,"display_name":"Nilesh"},"score":0,"creation_date":1657030063,"post_id":72168494,"comment_id":128709029,"body_markdown":"Bro have you solved this issue?","body":"Bro have you solved this issue?"},{"owner":{"account_id":13248215,"reputation":720,"user_id":9566611,"display_name":"abdou-tech"},"score":3,"creation_date":1657703354,"post_id":72168494,"comment_id":128871271,"body_markdown":"My project was working fine yesterday, today I got this issue out of nowhere without making any changes :(","body":"My project was working fine yesterday, today I got this issue out of nowhere without making any changes :("}],"answers":[{"tags":[],"owner":{"account_id":405812,"reputation":352,"user_id":774944,"accept_rate":83,"display_name":"jamil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657666946,"creation_date":1657666946,"answer_id":72959212,"question_id":72168494,"body_markdown":"Download and install JDK \r\nyou can check this link for more help:\r\nhttps://github.com/Jire/Charlatano/issues/854","title":"Task :react-native-gradle-plugin:compileKotlin FAILED","body":"<p>Download and install JDK\nyou can check this link for more help:\n<a href=\"https://github.com/Jire/Charlatano/issues/854\" rel=\"nofollow noreferrer\">https://github.com/Jire/Charlatano/issues/854</a></p>\n"},{"tags":[],"owner":{"account_id":8159345,"reputation":69,"user_id":6490115,"display_name":"RamboLu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667879483,"creation_date":1667879483,"answer_id":74355509,"question_id":72168494,"body_markdown":"Try:\r\n\r\n    rm -rf ./node_modules\r\n    yarn\r\n    npm run android","title":"Task :react-native-gradle-plugin:compileKotlin FAILED","body":"<p>Try:</p>\n<pre><code>rm -rf ./node_modules\nyarn\nnpm run android\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28780839,"reputation":11,"user_id":22042499,"display_name":"Programmer Yearsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686232708,"creation_date":1686232708,"answer_id":76432640,"question_id":72168494,"body_markdown":"All you had to upgrade the gradle, \r\ngo to android/gradle/wrapper/gradle-wrapper.properties\r\nand change the distributionUrl to distributionUrl=https\\://services.gradle.org/distributions/gradle-8.1.1-all.zip\r\n\r\nif it doesn&#39;t work just check the current version of the gradle in the link https://gradle.org/releases/ and replace with the gradle version in distributionUrl property. ","title":"Task :react-native-gradle-plugin:compileKotlin FAILED","body":"<p>All you had to upgrade the gradle,\ngo to android/gradle/wrapper/gradle-wrapper.properties\nand change the distributionUrl to distributionUrl=https://services.gradle.org/distributions/gradle-8.1.1-all.zip</p>\n<p>if it doesn't work just check the current version of the gradle in the link <a href=\"https://gradle.org/releases/\" rel=\"nofollow noreferrer\">https://gradle.org/releases/</a> and replace with the gradle version in distributionUrl property.</p>\n"}],"owner":{"account_id":25240193,"reputation":71,"user_id":19074165,"display_name":"Zeref"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11451,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1699236295,"creation_date":1652082025,"question_id":72168494,"body_markdown":"&gt; Task :react-native-gradle-plugin:compileKotlin FAILED\r\n&#39;compileJava&#39; task (current target is 1.8) and &#39;compileKotlin&#39; task (current target is 11) jvm target compatibility should be set to the same Java version.\r\n1 actionable task: 1 executed\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:react-native-gradle-plugin:compileKotlin&#39;.\r\n&gt; Failed to query the value of task &#39;:react-native-gradle-plugin:compileKotlin&#39; property &#39;compilerRunner$kotlin_gradle_plugin&#39;.\r\n   &gt; Kotlin could not find the required JDK tools in the Java installation. Make sure Kotlin compilation is \r\nrunning on a JDK, not JRE.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 31s\r\n\r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:react-native-gradle-plugin:compileKotlin&#39;.\r\n&gt; Failed to query the value of task &#39;:react-native-gradle-plugin:compileKotlin&#39; property &#39;compilerRunner$kotlin_gradle_plugin&#39;.\r\n   &gt; Kotlin could not find the required JDK tools in the Java installation. Make sure Kotlin compilation is \r\nrunning on a JDK, not JRE.","title":"Task :react-native-gradle-plugin:compileKotlin FAILED","body":"<blockquote>\n<p>Task :react-native-gradle-plugin:compileKotlin FAILED\n'compileJava' task (current target is 1.8) and 'compileKotlin' task (current target is 11) jvm target compatibility should be set to the same Java version.\n1 actionable task: 1 executed</p>\n</blockquote>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':react-native-gradle-plugin:compileKotlin'.</li>\n</ul>\n<blockquote>\n<p>Failed to query the value of task ':react-native-gradle-plugin:compileKotlin' property 'compilerRunner$kotlin_gradle_plugin'.\nKotlin could not find the required JDK tools in the Java installation. Make sure Kotlin compilation is\nrunning on a JDK, not JRE.</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 31s</p>\n<p>error Failed to install the app. Make sure you have the Android development environment set up: <a href=\"https://reactnative.dev/docs/environment-setup\" rel=\"noreferrer\">https://reactnative.dev/docs/environment-setup</a>.\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':react-native-gradle-plugin:compileKotlin'.</li>\n</ul>\n<blockquote>\n<p>Failed to query the value of task ':react-native-gradle-plugin:compileKotlin' property 'compilerRunner$kotlin_gradle_plugin'.\nKotlin could not find the required JDK tools in the Java installation. Make sure Kotlin compilation is\nrunning on a JDK, not JRE.</p>\n</blockquote>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":11163581,"reputation":1048,"user_id":8192914,"display_name":"ganjaam"},"score":1,"creation_date":1683779253,"post_id":76223772,"comment_id":134419536,"body_markdown":"Although I&#39;m unsure if pinging Google (or 8.8.8.8) is the best solution, I can vouch that it&#39;s reliable. So, if you don&#39;t have a problem waiting a few seconds to confirm whether the device is connected to the internet, I recommend this approach.","body":"Although I&#39;m unsure if pinging Google (or 8.8.8.8) is the best solution, I can vouch that it&#39;s reliable. So, if you don&#39;t have a problem waiting a few seconds to confirm whether the device is connected to the internet, I recommend this approach."}],"owner":{"account_id":11171166,"reputation":881,"user_id":8198089,"display_name":"Isma Rekathakusuma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699236191,"creation_date":1683772237,"question_id":76223772,"body_markdown":"I work on Unity and I have problem cehcek Internet connection. I try to use function from unity https://docs.unity3d.com/ScriptReference/Application-internetReachability.html . In document itselft said it&#39;s not realiable. I test it and yes, If you use this, when your device connect to WIFI without internet connection, above function will return true. So it&#39;s not realiable. My option right know is to detect internet connection from native for every platform. Right know I want to discuss for Android platform.\r\n\r\nI create function to detect internet connection at Android platform. Everything is work as expected except when device is connect to WIFI without internet connection. My expectation it should return NO_CONNECTIVITY but it&#39;s return CONNECTIVITY_WIFI. Here is my code at java :\r\n\r\n\r\n```\r\n//for Build.VERSION.SDK_INT &gt; 23\r\nint connectionType = CONNECTIVITY_UNKNOWN;\r\n\r\nNetwork[] networksList = connectivityManager.getAllNetworks();\r\n            int len = networksList.length;\r\n\r\n            if(len == 0) {\r\n                return NO_CONNECTIVITY;\r\n            }\r\n\r\n            for(Network network : networksList) {\r\n                NetworkCapabilities networkCapabilities = connectivityManager.getNetworkCapabilities(network);\r\n                if(networkCapabilities == null) {\r\n                    connectionType = NO_CONNECTIVITY;\r\n                    continue;\r\n                }\r\n                else {\r\n                    if(networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)\r\n                            &amp;&amp; !networkCapabilities.hasCapability(NetworkCapabilities.NET_CAPABILITY_WIFI_P2P)) {\r\n                        if(connectionType != CONNECTIVITY_ETHERNET) {\r\n                            connectionType = CONNECTIVITY_WIFI;\r\n                        }\r\n                    }\r\n                    if(networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR)) {\r\n                        if(connectionType != CONNECTIVITY_WIFI) {\r\n                            connectionType = CONNECTIVITY_CELLULAR;\r\n                        }\r\n                    }\r\n                    if(networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET)) {\r\n                        connectionType = CONNECTIVITY_ETHERNET;\r\n                    }\r\n                }\r\n            }\r\n\r\nreturn connectionType;\r\n```\r\n\r\nThere are some answer suggest to ping google to check the connection. I don&#39;t know that is the best approach, maybe there is another way from the android sdk ?\r\n\r\n","title":"How to Detect Android Connect WIFI but without Internet Connection","body":"<p>I work on Unity and I have problem cehcek Internet connection. I try to use function from unity <a href=\"https://docs.unity3d.com/ScriptReference/Application-internetReachability.html\" rel=\"nofollow noreferrer\">https://docs.unity3d.com/ScriptReference/Application-internetReachability.html</a> . In document itselft said it's not realiable. I test it and yes, If you use this, when your device connect to WIFI without internet connection, above function will return true. So it's not realiable. My option right know is to detect internet connection from native for every platform. Right know I want to discuss for Android platform.</p>\n<p>I create function to detect internet connection at Android platform. Everything is work as expected except when device is connect to WIFI without internet connection. My expectation it should return NO_CONNECTIVITY but it's return CONNECTIVITY_WIFI. Here is my code at java :</p>\n<pre><code>//for Build.VERSION.SDK_INT &gt; 23\nint connectionType = CONNECTIVITY_UNKNOWN;\n\nNetwork[] networksList = connectivityManager.getAllNetworks();\n            int len = networksList.length;\n\n            if(len == 0) {\n                return NO_CONNECTIVITY;\n            }\n\n            for(Network network : networksList) {\n                NetworkCapabilities networkCapabilities = connectivityManager.getNetworkCapabilities(network);\n                if(networkCapabilities == null) {\n                    connectionType = NO_CONNECTIVITY;\n                    continue;\n                }\n                else {\n                    if(networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)\n                            &amp;&amp; !networkCapabilities.hasCapability(NetworkCapabilities.NET_CAPABILITY_WIFI_P2P)) {\n                        if(connectionType != CONNECTIVITY_ETHERNET) {\n                            connectionType = CONNECTIVITY_WIFI;\n                        }\n                    }\n                    if(networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR)) {\n                        if(connectionType != CONNECTIVITY_WIFI) {\n                            connectionType = CONNECTIVITY_CELLULAR;\n                        }\n                    }\n                    if(networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET)) {\n                        connectionType = CONNECTIVITY_ETHERNET;\n                    }\n                }\n            }\n\nreturn connectionType;\n</code></pre>\n<p>There are some answer suggest to ping google to check the connection. I don't know that is the best approach, maybe there is another way from the android sdk ?</p>\n"},{"tags":["java","arraylist","android-wear-data-api","dataitem"],"answers":[{"tags":[],"owner":{"account_id":5923362,"reputation":103,"user_id":4660085,"accept_rate":73,"display_name":"conedmiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1460764658,"creation_date":1460764658,"answer_id":36658586,"question_id":36394554,"body_markdown":"WearableListenerService is required REGARDLESS\r\n\r\nonly briefly mentioned in the documentation [which should definitely be updated] ","title":"How do I get past mGoogleApiClient.connect() when it doesn&#39;t seem to actually connect?","body":"<p>WearableListenerService is required REGARDLESS</p>\n\n<p>only briefly mentioned in the documentation [which should definitely be updated] </p>\n"}],"owner":{"account_id":5923362,"reputation":103,"user_id":4660085,"accept_rate":73,"display_name":"conedmiro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36658586,"answer_count":1,"score":0,"last_activity_date":1699235201,"creation_date":1459743886,"question_id":36394554,"body_markdown":"I&#39;m trying to send an ArrayList&lt;String&gt; to my Android Wear device from the mobile device.\r\n\r\nUnfortunately I&#39;m not getting past the mGoogleApiClient.connect() as per my sop statements.\r\n\r\nWhat I&#39;ve done is set up a DataLayer item and used the onDataChanged() to monitor the code and the DataItem being sent with it, but unfortunately it seems like nothing is getting across.\r\n\r\nConsole output is at the bottom of the post, if that helps pinpoint anything.\r\n\r\n**MAIN ACTIVITY - MOBILE**\r\n\r\n    public class MainActivity extends AppCompatActivity implements  GoogleApiClient.ConnectionCallbacks, GoogleApiClient.OnConnectionFailedListener {\r\n\r\n    Set&lt;String&gt; tasksSet;\r\n    ArrayList&lt;String&gt; actsList;\r\n    ArrayAdapter adapter;\r\n    ListView list;\r\n    GoogleApiClient mGoogleApiClient;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        mGoogleApiClient = new GoogleApiClient.Builder(this)\r\n                .addConnectionCallbacks(this)\r\n                .addOnConnectionFailedListener(this)\r\n                .addApi(Wearable.API)\r\n                .build();\r\n\r\n        mGoogleApiClient.connect();\r\n\r\n        if(!PreferenceManager.getDefaultSharedPreferences(this)\r\n                .getStringSet(&quot;wristaroo&quot;, new HashSet&lt;String&gt;()).isEmpty()) {\r\n            tasksSet = PreferenceManager.getDefaultSharedPreferences(this)\r\n                    .getStringSet(&quot;wristaroo&quot;, new HashSet&lt;String&gt;());\r\n            actsList = new ArrayList&lt;String&gt;(tasksSet);\r\n        }\r\n        else {\r\n            actsList = new ArrayList&lt;&gt;();\r\n            Set&lt;String&gt; tasksSet = new HashSet&lt;&gt;(actsList);\r\n            PreferenceManager.getDefaultSharedPreferences(this)\r\n                    .edit()\r\n                    .putStringSet(&quot;wristaroo&quot;, tasksSet)\r\n                    .commit();\r\n        }\r\n\r\n        xxxxxxx\r\n        other populating code\r\n        xxxxxxx\r\n\r\n        Button btnSend = (Button) findViewById(R.id.sendButton);\r\n        btnSend.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n                sendCustomSchedule(actsList);\r\n                System.out.println(&quot;Button Pressed: Send&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void populateListView() {\r\n        list = (ListView) findViewById(R.id.listViewAdd);\r\n        list.setAdapter(adapter);\r\n    }\r\n\r\n    public MainActivity getActivity() {\r\n        return this;\r\n    }\r\n\r\n    @Override\r\n    public void onConnected(@Nullable Bundle bundle) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionSuspended(int i) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\r\n\r\n    }\r\n\r\n    public void sendCustomSchedule(ArrayList&lt;String&gt; customSchedule) {\r\n        PutDataMapRequest putDataMapRequest = PutDataMapRequest.create(&quot;/customSched&quot;);\r\n\r\n        putDataMapRequest.getDataMap().putStringArrayList(&quot;customSched&quot;, customSchedule);\r\n\r\n        PutDataRequest request = putDataMapRequest.asPutDataRequest().setUrgent();\r\n        Wearable.DataApi.putDataItem(mGoogleApiClient, request)\r\n                .setResultCallback(new ResultCallback&lt;DataApi.DataItemResult&gt;() {\r\n                    @Override\r\n                    public void onResult(@NonNull DataApi.DataItemResult dataItemResult) {\r\n                        if(!dataItemResult.getStatus().isSuccess()) {\r\n                            System.out.println(&quot;Apparent Failure!&quot;);\r\n                        } else {\r\n\r\n                            System.out.println(&quot;Apparent Success!&quot;);\r\n                        }\r\n                    }\r\n                });\r\n        System.out.println(&quot;When in doubt...&quot;);\r\n        }\r\n    }\r\n\r\n**MAIN ACTIVITY - WEAR**\r\n\r\n     public class byTimeActivity extends Activity  implements DataApi.DataListener,GoogleApiClient.ConnectionCallbacks, GoogleApiClient.OnConnectionFailedListener   {\r\n    ArrayList&lt;String&gt; choicesList;\r\n    ArrayAdapter adapter;\r\n    ListView list;\r\n    ArrayList&lt;String&gt; data;\r\n    String dayExtra;\r\n    String howExtra;\r\n    String schedExtra;\r\n    GoogleApiClient mGoogleApiClient;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n\r\n        mGoogleApiClient = new GoogleApiClient.Builder(this)\r\n                .addConnectionCallbacks(this)\r\n                .addOnConnectionFailedListener(this)\r\n                .addApi(Wearable.API)\r\n                .build();\r\n\r\n        mGoogleApiClient.connect();\r\n\r\n        setContentView(R.layout.activity_main);\r\n        final WatchViewStub stub = (WatchViewStub) findViewById(R.id.watch_view_stub);\r\n\r\n        dayExtra = getIntent().getExtras().getString(&quot;dayExtra&quot;);\r\n        schedExtra = getIntent().getExtras().getString(&quot;schedExtra&quot;);\r\n        howExtra = getIntent().getExtras().getString(&quot;howExtra&quot;);\r\n\r\n        System.out.println(&quot;dayExtra: &quot; + dayExtra);\r\n        System.out.println(&quot;schedExtra: &quot; + schedExtra);\r\n        System.out.println(&quot;howExtra: &quot; + howExtra);\r\n\r\n        switch(dayExtra) {\r\n            case &quot;Thursday&quot;:\r\n                if(schedExtra.equals(&quot;Full Schedule&quot;)) {\r\n                    setStage(thTime);\r\n                }\r\n                if(schedExtra.equals(&quot;Custom Schedule&quot;)) {\r\n                    adapter = new ArrayAdapter&lt;&gt;(this, R.layout.da_item, data);\r\n                }\r\n                break;\r\n            case &quot;Friday&quot;:\r\n                setStage(frTime);\r\n                break;\r\n            case &quot;Saturday&quot;:\r\n                setStage(saTime);\r\n                break;\r\n            case &quot;Sunday&quot;:\r\n                setStage(suTime);\r\n                break;\r\n        }\r\n        stub.setOnLayoutInflatedListener(new WatchViewStub.OnLayoutInflatedListener() {\r\n            @Override\r\n            public void onLayoutInflated(WatchViewStub stub) {\r\n                list = (ListView) findViewById(R.id.mainChoiceList);\r\n                list.setAdapter(adapter);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void setStage(String[] dayStage) {\r\n        choicesList = new ArrayList&lt;&gt;(Arrays.asList(dayStage));\r\n        adapter = new ArrayAdapter&lt;&gt;(this, R.layout.da_item, choicesList);\r\n        adapter.notifyDataSetChanged();\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        mGoogleApiClient.connect();\r\n    }\r\n\r\n    @Override\r\n    public void onConnected(@Nullable Bundle bundle) {\r\n        Wearable.DataApi.addListener(mGoogleApiClient, this);\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        Wearable.DataApi.removeListener(mGoogleApiClient, this);\r\n        mGoogleApiClient.disconnect();\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionSuspended(int i) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onDataChanged(DataEventBuffer dataEvents) {\r\n        for (DataEvent event : dataEvents) {\r\n            if (event.getType() == DataEvent.TYPE_CHANGED) {\r\n                DataItem item = event.getDataItem();\r\n                if (item.getUri().getPath().compareTo(&quot;/customSched&quot;) == 0) {\r\n                    DataMap dataMap = DataMapItem.fromDataItem(item).getDataMap();\r\n                    data = dataMap.getStringArrayList(&quot;customSched&quot;);\r\n\r\n                    System.out.println(&quot;Data: &quot; + data);\r\n                }\r\n            } else if (event.getType() == DataEvent.TYPE_DELETED) {\r\n                //dataItem Deleted\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\r\n\r\n    }\r\n    }\r\n\r\n\r\n**CONSOLE OUTPUT - MOBILE**\r\n\r\n    W/System: ClassLoader referenced unknown path: /data/app/com.conedmiro.schedaroo-2/lib/arm\r\n    I/GMPM: App measurement is starting up, version: 8487\r\n    I/GMPM: To enable debug logging run: adb shell setprop log.tag.GMPM VERBOSE\r\n    E/GMPM: GoogleService failed to initialize, status: 10, Missing an expected resource: &#39;R.string.google_app_id&#39; for initializing Google services.  Possible causes are missing google-services.json or com.google.gms.google-services gradle plugin.\r\n    E/GMPM: Scheduler not set. Not logging error/warn.\r\n    E/GMPM: Uploading is not possible. App measurement disabled\r\n    D/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true\r\n    I/Adreno200-EGL: &lt;qeglDrvAPI_eglInitialize:265&gt;: EGL 1.4 QUALCOMM build: AU_LINUX_ANDROID_JB_2.5.5.04.02.02.092.059_msm8960_JB_2.5.5_CL3896081_release_AU (CL3896081)\r\n            Build Date: 06/25/13 Tue\r\n            Local Branch:\r\n            Remote Branch: quic/jb_2.5.5\r\n            Local Patches: NONE\r\n            Reconstruct Branch: AU_LINUX_ANDROID_JB_2.5.5.04.02.02.092.059 +  NOTHING\r\n    I/OpenGLRenderer: Initialized EGL, version 1.4\r\n    W/art: Before Android 4.1, method int android.support.v7.widget.ListViewCompat.lookForSelectablePosition(int, boolean) would have incorrectly overridden the package-private method in android.widget.ListView\r\n    I/System.out: When in doubt...\r\n    I/System.out: Button Pressed: Send\r\n    I/System.out: Apparent Success!\r\n\r\n**CONSOLE OUTPUT - WEAR**\r\n\r\n    W/art: Suspending all threads took: 17.121ms\r\n    I/art: Background sticky concurrent mark sweep GC freed 1601(90KB) AllocSpace objects, 0(0B) LOS objects, 23% free, 508KB/663KB, paused 20.603ms total 53.990ms\r\n    W/art: Suspending all threads took: 5.855ms\r\n    I/art: Background partial concurrent mark sweep GC freed 168(48KB) AllocSpace objects, 0(0B) LOS objects, 45% free, 611KB/1123KB, paused 8.179ms total 61.166ms\r\n    I/System.out: mGoogleApiClient connected!\r\n    W/GooglePlayServicesUtil: Google Play services out of date.  Requires 8487000 but found 8299574\r\n    D/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true\r\n                                                                                           \r\n          [ 04-03 23:16:13.428 15148:15148 D/         ]\r\n          HostConnection::get() New Host Connection established 0xb3edca60, tid 15148\r\n    D/Atlas: Validating map...\r\n    I/OpenGLRenderer: Initialized EGL, version 1.4\r\n    D/OpenGLRenderer: Enabling debug mode 0\r\n    W/EGL_emulation: eglSurfaceAttrib not implemented\r\n    W/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xb3f625e0, error=EGL_SUCCESS\r\n    I/System.out: mGoogleApiClient disconnected! //dis/connecting in MainActivity, before switching activities\r\n    W/EGL_emulation: eglSurfaceAttrib not implemented\r\n    W/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xb3f628a0, error=EGL_SUCCESS\r\n    W/EGL_emulation: eglSurfaceAttrib not implemented\r\n    W/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xb3f62700, error=EGL_SUCCESS\r\n    I/System.out: schedExtra: Custom Schedule\r\n    I/System.out: dayExtra: Thursday\r\n    I/System.out: howExtra: By Time\r\n    I/System.out: dayExtra: Thursday\r\n    I/System.out: schedExtra: Custom Schedule\r\n    I/System.out: howExtra: By Time\r\n    I/System.out: mGoogleApiClient connected!\r\n    D/AndroidRuntime: Shutting down VM                                                                                       \r\n                                                                                           \r\n    --------- beginning of crash\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n          Process: com.conedmiro.schedaroo, PID: 15148\r\n          java.lang.NullPointerException: Attempt to invoke interface method &#39;int java.util.List.size()&#39; on a null object reference\r\n    W/GooglePlayServicesUtil: Google Play services out of date.  Requires 8487000 but found 8299574\r\n\r\n","title":"How do I get past mGoogleApiClient.connect() when it doesn&#39;t seem to actually connect?","body":"<p>I'm trying to send an ArrayList to my Android Wear device from the mobile device.</p>\n<p>Unfortunately I'm not getting past the mGoogleApiClient.connect() as per my sop statements.</p>\n<p>What I've done is set up a DataLayer item and used the onDataChanged() to monitor the code and the DataItem being sent with it, but unfortunately it seems like nothing is getting across.</p>\n<p>Console output is at the bottom of the post, if that helps pinpoint anything.</p>\n<p><strong>MAIN ACTIVITY - MOBILE</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity implements  GoogleApiClient.ConnectionCallbacks, GoogleApiClient.OnConnectionFailedListener {\n\nSet&lt;String&gt; tasksSet;\nArrayList&lt;String&gt; actsList;\nArrayAdapter adapter;\nListView list;\nGoogleApiClient mGoogleApiClient;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    mGoogleApiClient = new GoogleApiClient.Builder(this)\n            .addConnectionCallbacks(this)\n            .addOnConnectionFailedListener(this)\n            .addApi(Wearable.API)\n            .build();\n\n    mGoogleApiClient.connect();\n\n    if(!PreferenceManager.getDefaultSharedPreferences(this)\n            .getStringSet(&quot;wristaroo&quot;, new HashSet&lt;String&gt;()).isEmpty()) {\n        tasksSet = PreferenceManager.getDefaultSharedPreferences(this)\n                .getStringSet(&quot;wristaroo&quot;, new HashSet&lt;String&gt;());\n        actsList = new ArrayList&lt;String&gt;(tasksSet);\n    }\n    else {\n        actsList = new ArrayList&lt;&gt;();\n        Set&lt;String&gt; tasksSet = new HashSet&lt;&gt;(actsList);\n        PreferenceManager.getDefaultSharedPreferences(this)\n                .edit()\n                .putStringSet(&quot;wristaroo&quot;, tasksSet)\n                .commit();\n    }\n\n    xxxxxxx\n    other populating code\n    xxxxxxx\n\n    Button btnSend = (Button) findViewById(R.id.sendButton);\n    btnSend.setOnClickListener(new View.OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n            sendCustomSchedule(actsList);\n            System.out.println(&quot;Button Pressed: Send&quot;);\n        }\n    });\n}\n\nprivate void populateListView() {\n    list = (ListView) findViewById(R.id.listViewAdd);\n    list.setAdapter(adapter);\n}\n\npublic MainActivity getActivity() {\n    return this;\n}\n\n@Override\npublic void onConnected(@Nullable Bundle bundle) {\n\n}\n\n@Override\npublic void onConnectionSuspended(int i) {\n\n}\n\n@Override\npublic void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\n\n}\n\npublic void sendCustomSchedule(ArrayList&lt;String&gt; customSchedule) {\n    PutDataMapRequest putDataMapRequest = PutDataMapRequest.create(&quot;/customSched&quot;);\n\n    putDataMapRequest.getDataMap().putStringArrayList(&quot;customSched&quot;, customSchedule);\n\n    PutDataRequest request = putDataMapRequest.asPutDataRequest().setUrgent();\n    Wearable.DataApi.putDataItem(mGoogleApiClient, request)\n            .setResultCallback(new ResultCallback&lt;DataApi.DataItemResult&gt;() {\n                @Override\n                public void onResult(@NonNull DataApi.DataItemResult dataItemResult) {\n                    if(!dataItemResult.getStatus().isSuccess()) {\n                        System.out.println(&quot;Apparent Failure!&quot;);\n                    } else {\n\n                        System.out.println(&quot;Apparent Success!&quot;);\n                    }\n                }\n            });\n    System.out.println(&quot;When in doubt...&quot;);\n    }\n}\n</code></pre>\n<p><strong>MAIN ACTIVITY - WEAR</strong></p>\n<pre><code> public class byTimeActivity extends Activity  implements DataApi.DataListener,GoogleApiClient.ConnectionCallbacks, GoogleApiClient.OnConnectionFailedListener   {\nArrayList&lt;String&gt; choicesList;\nArrayAdapter adapter;\nListView list;\nArrayList&lt;String&gt; data;\nString dayExtra;\nString howExtra;\nString schedExtra;\nGoogleApiClient mGoogleApiClient;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n\n    mGoogleApiClient = new GoogleApiClient.Builder(this)\n            .addConnectionCallbacks(this)\n            .addOnConnectionFailedListener(this)\n            .addApi(Wearable.API)\n            .build();\n\n    mGoogleApiClient.connect();\n\n    setContentView(R.layout.activity_main);\n    final WatchViewStub stub = (WatchViewStub) findViewById(R.id.watch_view_stub);\n\n    dayExtra = getIntent().getExtras().getString(&quot;dayExtra&quot;);\n    schedExtra = getIntent().getExtras().getString(&quot;schedExtra&quot;);\n    howExtra = getIntent().getExtras().getString(&quot;howExtra&quot;);\n\n    System.out.println(&quot;dayExtra: &quot; + dayExtra);\n    System.out.println(&quot;schedExtra: &quot; + schedExtra);\n    System.out.println(&quot;howExtra: &quot; + howExtra);\n\n    switch(dayExtra) {\n        case &quot;Thursday&quot;:\n            if(schedExtra.equals(&quot;Full Schedule&quot;)) {\n                setStage(thTime);\n            }\n            if(schedExtra.equals(&quot;Custom Schedule&quot;)) {\n                adapter = new ArrayAdapter&lt;&gt;(this, R.layout.da_item, data);\n            }\n            break;\n        case &quot;Friday&quot;:\n            setStage(frTime);\n            break;\n        case &quot;Saturday&quot;:\n            setStage(saTime);\n            break;\n        case &quot;Sunday&quot;:\n            setStage(suTime);\n            break;\n    }\n    stub.setOnLayoutInflatedListener(new WatchViewStub.OnLayoutInflatedListener() {\n        @Override\n        public void onLayoutInflated(WatchViewStub stub) {\n            list = (ListView) findViewById(R.id.mainChoiceList);\n            list.setAdapter(adapter);\n        }\n    });\n}\n\nprivate void setStage(String[] dayStage) {\n    choicesList = new ArrayList&lt;&gt;(Arrays.asList(dayStage));\n    adapter = new ArrayAdapter&lt;&gt;(this, R.layout.da_item, choicesList);\n    adapter.notifyDataSetChanged();\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    mGoogleApiClient.connect();\n}\n\n@Override\npublic void onConnected(@Nullable Bundle bundle) {\n    Wearable.DataApi.addListener(mGoogleApiClient, this);\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    Wearable.DataApi.removeListener(mGoogleApiClient, this);\n    mGoogleApiClient.disconnect();\n}\n\n@Override\npublic void onConnectionSuspended(int i) {\n\n}\n\n@Override\npublic void onDataChanged(DataEventBuffer dataEvents) {\n    for (DataEvent event : dataEvents) {\n        if (event.getType() == DataEvent.TYPE_CHANGED) {\n            DataItem item = event.getDataItem();\n            if (item.getUri().getPath().compareTo(&quot;/customSched&quot;) == 0) {\n                DataMap dataMap = DataMapItem.fromDataItem(item).getDataMap();\n                data = dataMap.getStringArrayList(&quot;customSched&quot;);\n\n                System.out.println(&quot;Data: &quot; + data);\n            }\n        } else if (event.getType() == DataEvent.TYPE_DELETED) {\n            //dataItem Deleted\n        }\n    }\n}\n\n@Override\npublic void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\n\n}\n}\n</code></pre>\n<p><strong>CONSOLE OUTPUT - MOBILE</strong></p>\n<pre><code>W/System: ClassLoader referenced unknown path: /data/app/com.conedmiro.schedaroo-2/lib/arm\nI/GMPM: App measurement is starting up, version: 8487\nI/GMPM: To enable debug logging run: adb shell setprop log.tag.GMPM VERBOSE\nE/GMPM: GoogleService failed to initialize, status: 10, Missing an expected resource: 'R.string.google_app_id' for initializing Google services.  Possible causes are missing google-services.json or com.google.gms.google-services gradle plugin.\nE/GMPM: Scheduler not set. Not logging error/warn.\nE/GMPM: Uploading is not possible. App measurement disabled\nD/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true\nI/Adreno200-EGL: &lt;qeglDrvAPI_eglInitialize:265&gt;: EGL 1.4 QUALCOMM build: AU_LINUX_ANDROID_JB_2.5.5.04.02.02.092.059_msm8960_JB_2.5.5_CL3896081_release_AU (CL3896081)\n        Build Date: 06/25/13 Tue\n        Local Branch:\n        Remote Branch: quic/jb_2.5.5\n        Local Patches: NONE\n        Reconstruct Branch: AU_LINUX_ANDROID_JB_2.5.5.04.02.02.092.059 +  NOTHING\nI/OpenGLRenderer: Initialized EGL, version 1.4\nW/art: Before Android 4.1, method int android.support.v7.widget.ListViewCompat.lookForSelectablePosition(int, boolean) would have incorrectly overridden the package-private method in android.widget.ListView\nI/System.out: When in doubt...\nI/System.out: Button Pressed: Send\nI/System.out: Apparent Success!\n</code></pre>\n<p><strong>CONSOLE OUTPUT - WEAR</strong></p>\n<pre><code>W/art: Suspending all threads took: 17.121ms\nI/art: Background sticky concurrent mark sweep GC freed 1601(90KB) AllocSpace objects, 0(0B) LOS objects, 23% free, 508KB/663KB, paused 20.603ms total 53.990ms\nW/art: Suspending all threads took: 5.855ms\nI/art: Background partial concurrent mark sweep GC freed 168(48KB) AllocSpace objects, 0(0B) LOS objects, 45% free, 611KB/1123KB, paused 8.179ms total 61.166ms\nI/System.out: mGoogleApiClient connected!\nW/GooglePlayServicesUtil: Google Play services out of date.  Requires 8487000 but found 8299574\nD/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true\n                                                                                       \n      [ 04-03 23:16:13.428 15148:15148 D/         ]\n      HostConnection::get() New Host Connection established 0xb3edca60, tid 15148\nD/Atlas: Validating map...\nI/OpenGLRenderer: Initialized EGL, version 1.4\nD/OpenGLRenderer: Enabling debug mode 0\nW/EGL_emulation: eglSurfaceAttrib not implemented\nW/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xb3f625e0, error=EGL_SUCCESS\nI/System.out: mGoogleApiClient disconnected! //dis/connecting in MainActivity, before switching activities\nW/EGL_emulation: eglSurfaceAttrib not implemented\nW/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xb3f628a0, error=EGL_SUCCESS\nW/EGL_emulation: eglSurfaceAttrib not implemented\nW/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xb3f62700, error=EGL_SUCCESS\nI/System.out: schedExtra: Custom Schedule\nI/System.out: dayExtra: Thursday\nI/System.out: howExtra: By Time\nI/System.out: dayExtra: Thursday\nI/System.out: schedExtra: Custom Schedule\nI/System.out: howExtra: By Time\nI/System.out: mGoogleApiClient connected!\nD/AndroidRuntime: Shutting down VM                                                                                       \n                                                                                       \n--------- beginning of crash\nE/AndroidRuntime: FATAL EXCEPTION: main\n      Process: com.conedmiro.schedaroo, PID: 15148\n      java.lang.NullPointerException: Attempt to invoke interface method 'int java.util.List.size()' on a null object reference\nW/GooglePlayServicesUtil: Google Play services out of date.  Requires 8487000 but found 8299574\n</code></pre>\n"},{"tags":["java","reflection","final"],"comments":[{"owner":{"account_id":2127643,"reputation":4031,"user_id":1889327,"accept_rate":48,"display_name":"andy"},"score":0,"creation_date":1375871553,"post_id":1615163,"comment_id":26497131,"body_markdown":"this may tightly related to the compiler.","body":"this may tightly related to the compiler."}],"answers":[{"tags":[],"owner":{"account_id":3282,"reputation":146276,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1699234432,"creation_date":1256323163,"answer_id":1615218,"question_id":1615163,"body_markdown":"Compile-time constants are inlined (at javac compile-time). See the JLS, in particular 15.28 defines a constant expression and 13.4.9 discusses binary compatibility or final fields and constants.\r\n\r\nIf you make the field non-final or assign a non-compile time constant, the value is not inlined. For instance:\r\n\r\n```java\r\nprivate final String stringValue = null!=null?&quot;&quot;: &quot;42&quot;;\r\n```","title":"Modifying final fields in Java","body":"<p>Compile-time constants are inlined (at javac compile-time). See the JLS, in particular 15.28 defines a constant expression and 13.4.9 discusses binary compatibility or final fields and constants.</p>\n<p>If you make the field non-final or assign a non-compile time constant, the value is not inlined. For instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final String stringValue = null!=null?&quot;&quot;: &quot;42&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1256335888,"creation_date":1256335888,"answer_id":1616206,"question_id":1615163,"body_markdown":"This is not an answer, but it brings up another point of confusion:\r\n\r\nI wanted to see if the issue was compile-time evaluation or whether the reflection was actually allowing Java to get around the `final` keyword. Here&#39;s a test program. All I added was another set of getter calls, so there&#39;s one before and after each `changeField()` call.\r\n\r\n    package com.example.gotchas;\r\n    \r\n    import java.lang.reflect.Field;\r\n    \r\n    public class MostlyFinal {\r\n      private final int primitiveInt = 42;\r\n      private final Integer wrappedInt = 42;\r\n      private final String stringValue = &quot;42&quot;;\r\n    \r\n      public int getPrimitiveInt()   { return this.primitiveInt; }\r\n      public int getWrappedInt()     { return this.wrappedInt; }\r\n      public String getStringValue() { return this.stringValue; }\r\n    \r\n      public void changeField(String name, Object value) throws IllegalAccessException, NoSuchFieldException {\r\n        Field field = MostlyFinal.class.getDeclaredField(name);\r\n        field.setAccessible(true);\r\n        field.set(this, value);\r\n        System.out.println(&quot;reflection: &quot; + name + &quot; = &quot; + field.get(this));\r\n      }\r\n    \r\n      public static void main(String[] args) throws IllegalAccessException, NoSuchFieldException {\r\n        MostlyFinal test = new MostlyFinal();\r\n    \r\n        System.out.println(&quot;direct: primitiveInt = &quot; + test.getPrimitiveInt());\r\n        test.changeField(&quot;primitiveInt&quot;, 84);\r\n        System.out.println(&quot;direct: primitiveInt = &quot; + test.getPrimitiveInt());\r\n    \r\n        System.out.println();\r\n        \r\n        System.out.println(&quot;direct: wrappedInt = &quot; + test.getWrappedInt());\r\n        test.changeField(&quot;wrappedInt&quot;, 84);\r\n        System.out.println(&quot;direct: wrappedInt = &quot; + test.getWrappedInt());\r\n    \r\n        System.out.println();\r\n        \r\n        System.out.println(&quot;direct: stringValue = &quot; + test.getStringValue());\r\n        test.changeField(&quot;stringValue&quot;, &quot;84&quot;);\r\n        System.out.println(&quot;direct: stringValue = &quot; + test.getStringValue());\r\n      }\r\n    }\r\n\r\nHere&#39;s the output I get (under Eclipse, Java 1.6)\r\n\r\n    direct: primitiveInt = 42\r\n    reflection: primitiveInt = 84\r\n    direct: primitiveInt = 42\r\n    \r\n    direct: wrappedInt = 42\r\n    reflection: wrappedInt = 84\r\n    direct: wrappedInt = 84\r\n    \r\n    direct: stringValue = 42\r\n    reflection: stringValue = 84\r\n    direct: stringValue = 42\r\n\r\nWhy the heck does the direct call to getWrappedInt() change ?","title":"Modifying final fields in Java","body":"<p>This is not an answer, but it brings up another point of confusion:</p>\n\n<p>I wanted to see if the issue was compile-time evaluation or whether the reflection was actually allowing Java to get around the <code>final</code> keyword. Here's a test program. All I added was another set of getter calls, so there's one before and after each <code>changeField()</code> call.</p>\n\n<pre><code>package com.example.gotchas;\n\nimport java.lang.reflect.Field;\n\npublic class MostlyFinal {\n  private final int primitiveInt = 42;\n  private final Integer wrappedInt = 42;\n  private final String stringValue = \"42\";\n\n  public int getPrimitiveInt()   { return this.primitiveInt; }\n  public int getWrappedInt()     { return this.wrappedInt; }\n  public String getStringValue() { return this.stringValue; }\n\n  public void changeField(String name, Object value) throws IllegalAccessException, NoSuchFieldException {\n    Field field = MostlyFinal.class.getDeclaredField(name);\n    field.setAccessible(true);\n    field.set(this, value);\n    System.out.println(\"reflection: \" + name + \" = \" + field.get(this));\n  }\n\n  public static void main(String[] args) throws IllegalAccessException, NoSuchFieldException {\n    MostlyFinal test = new MostlyFinal();\n\n    System.out.println(\"direct: primitiveInt = \" + test.getPrimitiveInt());\n    test.changeField(\"primitiveInt\", 84);\n    System.out.println(\"direct: primitiveInt = \" + test.getPrimitiveInt());\n\n    System.out.println();\n\n    System.out.println(\"direct: wrappedInt = \" + test.getWrappedInt());\n    test.changeField(\"wrappedInt\", 84);\n    System.out.println(\"direct: wrappedInt = \" + test.getWrappedInt());\n\n    System.out.println();\n\n    System.out.println(\"direct: stringValue = \" + test.getStringValue());\n    test.changeField(\"stringValue\", \"84\");\n    System.out.println(\"direct: stringValue = \" + test.getStringValue());\n  }\n}\n</code></pre>\n\n<p>Here's the output I get (under Eclipse, Java 1.6)</p>\n\n<pre><code>direct: primitiveInt = 42\nreflection: primitiveInt = 84\ndirect: primitiveInt = 42\n\ndirect: wrappedInt = 42\nreflection: wrappedInt = 84\ndirect: wrappedInt = 84\n\ndirect: stringValue = 42\nreflection: stringValue = 84\ndirect: stringValue = 42\n</code></pre>\n\n<p>Why the heck does the direct call to getWrappedInt() change ?</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590434,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1264089896,"creation_date":1264064545,"answer_id":2107976,"question_id":1615163,"body_markdown":"Reflection&#39;s `set(..)` method works with `FieldAccessor`s.\r\n\r\nFor `int` it gets an `UnsafeQualifiedIntegerFieldAccessorImpl`, whose superclass defines the `readOnly` property to be true only if the field is _both_ `static` and `final`\r\n\r\nSo to first answer the unasked question - here&#39;s why the `final` is changed without exception.\r\n\r\nAll subclasses of `UnsafeQualifiedFieldAccessor` use the `sun.misc.Unsafe` class to get the values. The methods there are all `native`, but their names are `getVolatileInt(..)` and `getInt(..)` (`getVolatileObject(..)` and `getObject(..)` respectively). The aforementioned accessors use the &quot;volatile&quot; version. Here&#39;s what happens if we add the non-volatile version:\r\n\r\n    System.out.println(&quot;reflection: non-volatile primitiveInt = &quot;\r\n         unsafe.getInt(test, (long) unsafe.fieldOffset(getField(&quot;primitiveInt&quot;))));\r\n\r\n(where `unsafe` is instantiated by reflection - it is not allowed otherwise)\r\n(and I call `getObject` for `Integer` and `String`)\r\n\r\nThat gives some interesting results:\r\n\r\n\r\n    reflection: primitiveInt = 84\r\n    direct: primitiveInt = 42\r\n    reflection: non-volatile primitiveInt = 84\r\n    reflection: wrappedInt = 84\r\n    direct: wrappedInt = 84\r\n    reflection: non-volatile wrappedInt = 84\r\n    reflection: stringValue = 84\r\n    direct: stringValue = 42\r\n    reflection: non-volatile stringValue = 84\r\n\r\n\r\nAt this point I recall &lt;a href=&quot;http://www.javaspecialists.eu/archive/Issue096.html&quot;&gt;an article at javaspecialists.eu&lt;/a&gt; discussing an related matter. It quotes &lt;a href=&quot;http://www.cs.umd.edu/~pugh/java/memoryModel/jsr133.pdf&quot;&gt;JSR-133&lt;/a&gt;:\r\n\r\n&gt; If a final field is initialized to a compile-time constant in the field declaration, changes to the final field may not be observed, since uses of that final field are replaced at compile time with the compile-time constant.\r\n\r\nChapter 9 discusses the details observed in this question.\r\n\r\nAnd it turns out this behaviour is not that unexpected, since modifications of `final` fields are supposed to happen only right after initialization of the object.","title":"Modifying final fields in Java","body":"<p>Reflection's <code>set(..)</code> method works with <code>FieldAccessor</code>s.</p>\n\n<p>For <code>int</code> it gets an <code>UnsafeQualifiedIntegerFieldAccessorImpl</code>, whose superclass defines the <code>readOnly</code> property to be true only if the field is <em>both</em> <code>static</code> and <code>final</code></p>\n\n<p>So to first answer the unasked question - here's why the <code>final</code> is changed without exception.</p>\n\n<p>All subclasses of <code>UnsafeQualifiedFieldAccessor</code> use the <code>sun.misc.Unsafe</code> class to get the values. The methods there are all <code>native</code>, but their names are <code>getVolatileInt(..)</code> and <code>getInt(..)</code> (<code>getVolatileObject(..)</code> and <code>getObject(..)</code> respectively). The aforementioned accessors use the \"volatile\" version. Here's what happens if we add the non-volatile version:</p>\n\n<pre><code>System.out.println(\"reflection: non-volatile primitiveInt = \"\n     unsafe.getInt(test, (long) unsafe.fieldOffset(getField(\"primitiveInt\"))));\n</code></pre>\n\n<p>(where <code>unsafe</code> is instantiated by reflection - it is not allowed otherwise)\n(and I call <code>getObject</code> for <code>Integer</code> and <code>String</code>)</p>\n\n<p>That gives some interesting results:</p>\n\n<pre><code>reflection: primitiveInt = 84\ndirect: primitiveInt = 42\nreflection: non-volatile primitiveInt = 84\nreflection: wrappedInt = 84\ndirect: wrappedInt = 84\nreflection: non-volatile wrappedInt = 84\nreflection: stringValue = 84\ndirect: stringValue = 42\nreflection: non-volatile stringValue = 84\n</code></pre>\n\n<p>At this point I recall <a href=\"http://www.javaspecialists.eu/archive/Issue096.html\" rel=\"noreferrer\">an article at javaspecialists.eu</a> discussing an related matter. It quotes <a href=\"http://www.cs.umd.edu/~pugh/java/memoryModel/jsr133.pdf\" rel=\"noreferrer\">JSR-133</a>:</p>\n\n<blockquote>\n  <p>If a final field is initialized to a compile-time constant in the field declaration, changes to the final field may not be observed, since uses of that final field are replaced at compile time with the compile-time constant.</p>\n</blockquote>\n\n<p>Chapter 9 discusses the details observed in this question.</p>\n\n<p>And it turns out this behaviour is not that unexpected, since modifications of <code>final</code> fields are supposed to happen only right after initialization of the object.</p>\n"},{"tags":[],"owner":{"account_id":110019,"reputation":271,"user_id":291304,"display_name":"GandalfIX"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1297154925,"creation_date":1297154925,"answer_id":4931092,"question_id":1615163,"body_markdown":"In my opinion this is even worse: A colleague pointed to the following funny thing:\r\n\r\n    @Test public void  testInteger() throws SecurityException,  NoSuchFieldException, IllegalArgumentException, IllegalAccessException  { &#160;&#160;&#160;  \r\n        Field value = Integer.class.getDeclaredField(&quot;value&quot;); &#160;&#160;&#160;  \r\n        value.setAccessible(true);  &#160;&#160;&#160;  \r\n        Integer manipulatedInt = Integer.valueOf(7); &#160;&#160;&#160;  \r\n        value.setInt(manipulatedInt, 666);  &#160;&#160;&#160;  \r\n        Integer testInt = Integer.valueOf(7); &#160;&#160;&#160;  \r\n        System.out.println(testInt.toString());\r\n    }\r\n\r\nBy doing this, you can change the behaviour of the whole JVM you are running in.\r\n(of course you can change only the values for the values between -127 and 127)","title":"Modifying final fields in Java","body":"<p>In my opinion this is even worse: A colleague pointed to the following funny thing:</p>\n\n<pre><code>@Test public void  testInteger() throws SecurityException,  NoSuchFieldException, IllegalArgumentException, IllegalAccessException  {      \n    Field value = Integer.class.getDeclaredField(\"value\");      \n    value.setAccessible(true);       \n    Integer manipulatedInt = Integer.valueOf(7);      \n    value.setInt(manipulatedInt, 666);       \n    Integer testInt = Integer.valueOf(7);      \n    System.out.println(testInt.toString());\n}\n</code></pre>\n\n<p>By doing this, you can change the behaviour of the whole JVM you are running in.\n(of course you can change only the values for the values between -127 and 127)</p>\n"},{"tags":[],"owner":{"account_id":2498779,"reputation":1563,"user_id":2174504,"accept_rate":48,"display_name":"Joan P.S"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1388496890,"creation_date":1388496890,"answer_id":20858219,"question_id":1615163,"body_markdown":"There is a work around for this. if you set the value of the private static final filed in the static {} block it will work because it will not inline the fileld:\r\n\r\n    private static final String MY_FIELD;\r\n    \r\n    static {\r\n        MY_FIELD = &quot;SomeText&quot;\r\n    }\r\n    \r\n    ...\r\n    \r\n    Field field = VisitorId.class.getDeclaredField(&quot;MY_FIELD&quot;);\r\n    \t\t\t\t\r\n    field.setAccessible(true);\r\n    field.set(field, &quot;fakeText&quot;);\r\n","title":"Modifying final fields in Java","body":"<p>There is a work around for this. if you set the value of the private static final filed in the static {} block it will work because it will not inline the fileld:</p>\n\n<pre><code>private static final String MY_FIELD;\n\nstatic {\n    MY_FIELD = \"SomeText\"\n}\n\n...\n\nField field = VisitorId.class.getDeclaredField(\"MY_FIELD\");\n\nfield.setAccessible(true);\nfield.set(field, \"fakeText\");\n</code></pre>\n"}],"owner":{"account_id":44712,"reputation":99786,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13632,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":1615218,"answer_count":5,"score":54,"last_activity_date":1699234432,"creation_date":1256322485,"question_id":1615163,"body_markdown":"Let&#39;s start with a simple test case:\r\n\r\n    import java.lang.reflect.Field;\r\n    \r\n    public class Test {\r\n      private final int primitiveInt = 42;\r\n      private final Integer wrappedInt = 42;\r\n      private final String stringValue = &quot;42&quot;;\r\n    \r\n      public int getPrimitiveInt()   { return this.primitiveInt; }\r\n      public int getWrappedInt()     { return this.wrappedInt; }\r\n      public String getStringValue() { return this.stringValue; }\r\n      \r\n      public void changeField(String name, Object value) throws IllegalAccessException, NoSuchFieldException {\r\n        Field field = Test.class.getDeclaredField(name);\r\n        field.setAccessible(true);\r\n        field.set(this, value);\r\n        System.out.println(&quot;reflection: &quot; + name + &quot; = &quot; + field.get(this));\r\n      }\r\n    \r\n      public static void main(String[] args) throws IllegalAccessException, NoSuchFieldException {\r\n        Test test = new Test();\r\n    \r\n        test.changeField(&quot;primitiveInt&quot;, 84);\r\n        System.out.println(&quot;direct: primitiveInt = &quot; + test.getPrimitiveInt());\r\n    \r\n        test.changeField(&quot;wrappedInt&quot;, 84);\r\n        System.out.println(&quot;direct: wrappedInt = &quot; + test.getWrappedInt());\r\n    \r\n        test.changeField(&quot;stringValue&quot;, &quot;84&quot;);\r\n        System.out.println(&quot;direct: stringValue = &quot; + test.getStringValue());\r\n      }\r\n    }\r\n\r\nAnybody care to guess what will be printed as output (shown at the bottom as to not spoil the surprise immediately).\r\n\r\nThe questions are:\r\n\r\n 1. Why do primitive and wrapped integer behave differently?\r\n 2. Why does reflective vs direct access return different results?\r\n 3. The one that plagues me most - why does String behave like primitive `int` and not like `Integer`?\r\n\r\nResults (java 1.5):\r\n\r\n    reflection: primitiveInt = 84\r\n    direct: primitiveInt = 42\r\n    reflection: wrappedInt = 84\r\n    direct: wrappedInt = 84\r\n    reflection: stringValue = 84\r\n    direct: stringValue = 42","title":"Modifying final fields in Java","body":"<p>Let's start with a simple test case:</p>\n\n<pre><code>import java.lang.reflect.Field;\n\npublic class Test {\n  private final int primitiveInt = 42;\n  private final Integer wrappedInt = 42;\n  private final String stringValue = \"42\";\n\n  public int getPrimitiveInt()   { return this.primitiveInt; }\n  public int getWrappedInt()     { return this.wrappedInt; }\n  public String getStringValue() { return this.stringValue; }\n\n  public void changeField(String name, Object value) throws IllegalAccessException, NoSuchFieldException {\n    Field field = Test.class.getDeclaredField(name);\n    field.setAccessible(true);\n    field.set(this, value);\n    System.out.println(\"reflection: \" + name + \" = \" + field.get(this));\n  }\n\n  public static void main(String[] args) throws IllegalAccessException, NoSuchFieldException {\n    Test test = new Test();\n\n    test.changeField(\"primitiveInt\", 84);\n    System.out.println(\"direct: primitiveInt = \" + test.getPrimitiveInt());\n\n    test.changeField(\"wrappedInt\", 84);\n    System.out.println(\"direct: wrappedInt = \" + test.getWrappedInt());\n\n    test.changeField(\"stringValue\", \"84\");\n    System.out.println(\"direct: stringValue = \" + test.getStringValue());\n  }\n}\n</code></pre>\n\n<p>Anybody care to guess what will be printed as output (shown at the bottom as to not spoil the surprise immediately).</p>\n\n<p>The questions are:</p>\n\n<ol>\n<li>Why do primitive and wrapped integer behave differently?</li>\n<li>Why does reflective vs direct access return different results?</li>\n<li>The one that plagues me most - why does String behave like primitive <code>int</code> and not like <code>Integer</code>?</li>\n</ol>\n\n<p>Results (java 1.5):</p>\n\n<pre><code>reflection: primitiveInt = 84\ndirect: primitiveInt = 42\nreflection: wrappedInt = 84\ndirect: wrappedInt = 84\nreflection: stringValue = 84\ndirect: stringValue = 42\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rabbitmq"],"owner":{"account_id":4116401,"reputation":1189,"user_id":3377836,"accept_rate":62,"display_name":"frank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699232777,"creation_date":1699016275,"question_id":77416842,"body_markdown":"spring boot 2.1, rabbitmq 3.12.\r\n\r\nI need to send data/upload file to third party server via ftp and it has to be sent successful. While sometimes the network has problem, as a consequence, the system cannot connect to ftp server or upload file.\r\n\r\nThere is only one consumer now, what I need to do is `if upload failed because of network issue, I need to wait 10 minutes then re-upload, at the mean time, this consumer can continue handle next message during this delay time(10 minutes), it cannot be blocked for this retry. And if retry failed again, then wait 10 minutes again and retry again, and so on until success`\r\n\r\nMy solution is:\r\n\r\nthere should be three queues, one for normal, one for delay queue(ttl is 10 minutes), and the third is dead letter queue. The consumer is bound to normal queue, if there is network exception in consumer, this message will be sent to delay queue, after ttl expire, this message is routed to dead letter queue, the dead letter queue consumer will upload again, if failed, this message will be sent to normal queue.\r\n\r\nIs it ok for this solution? is there better solution?\r\n\r\n","title":"how to retry after delay time in rabbitmq","body":"<p>spring boot 2.1, rabbitmq 3.12.</p>\n<p>I need to send data/upload file to third party server via ftp and it has to be sent successful. While sometimes the network has problem, as a consequence, the system cannot connect to ftp server or upload file.</p>\n<p>There is only one consumer now, what I need to do is <code>if upload failed because of network issue, I need to wait 10 minutes then re-upload, at the mean time, this consumer can continue handle next message during this delay time(10 minutes), it cannot be blocked for this retry. And if retry failed again, then wait 10 minutes again and retry again, and so on until success</code></p>\n<p>My solution is:</p>\n<p>there should be three queues, one for normal, one for delay queue(ttl is 10 minutes), and the third is dead letter queue. The consumer is bound to normal queue, if there is network exception in consumer, this message will be sent to delay queue, after ttl expire, this message is routed to dead letter queue, the dead letter queue consumer will upload again, if failed, this message will be sent to normal queue.</p>\n<p>Is it ok for this solution? is there better solution?</p>\n"},{"tags":["java","spring","mongodb","spring-data","event-listener"],"answers":[{"tags":[],"owner":{"account_id":9074506,"reputation":151,"user_id":6756576,"display_name":"Leonardo Castanheira"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1558691386,"creation_date":1522318494,"answer_id":49553462,"question_id":49536371,"body_markdown":"I was trying to use OnBeforeSave and you cannot change properties after a MongoConverter has been called unless you change the event.getDBObject(). If you want to make changes using your class Object then you need to use OnBeforeConvert... I spent a lot of time tracking this because of the poor documentation...","title":"OnBeforeSave gets called but nothing happens","body":"<p>I was trying to use OnBeforeSave and you cannot change properties after a MongoConverter has been called unless you change the event.getDBObject(). If you want to make changes using your class Object then you need to use OnBeforeConvert... I spent a lot of time tracking this because of the poor documentation...</p>\n"}],"owner":{"account_id":9074506,"reputation":151,"user_id":6756576,"display_name":"Leonardo Castanheira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1738,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1699231922,"creation_date":1522245024,"question_id":49536371,"body_markdown":"I am trying to check if the object I am trying to persist already have a &quot;owner&quot; and if not I set the logged in user. This EventListener is working for any other field of Contact and it does set the user when I debug. The return of the MongoRepository save method contains the correct set user but when I look in the DB the user wasn&#39;t saved.\r\n\r\nOwnedByUserMongoEventListener class\r\n\r\n\tpublic void onBeforeSave(BeforeSaveEvent&lt;Contact&gt; event) {\r\n\t\tContact source = event.getSource();\r\n\t\tReflectionUtils.doWithFields(source.getClass(), new OwnedByUserCallback(source));\r\n\t}\r\n\r\nOwnedByUserCallback class\r\n\r\n\t@Override\r\n\tpublic void doWith(java.lang.reflect.Field field) throws IllegalArgumentException, IllegalAccessException {\r\n        ReflectionUtils.makeAccessible(field);\r\n        final Object fieldValue = field.get(getSource());\r\n        if (field.isAnnotationPresent(OwnedByUser.class)) {\r\n            if ( fieldValue == null ) {\r\n            \tJwtUser principal = (JwtUser) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n            \tUser user = mongoOperations.findOne(Query.query(Criteria.where(&quot;username&quot;).is(principal.getUsername())), User.class);\r\n                field.set(getSource(), user);\r\n            }\r\n        }\r\n\t\t\r\n\t}\r\n\r\n/\r\n\t\r\n\r\n    \r\n    Contact extends Auditable {\r\n\r\n\t    @Id\r\n    \tprivate String id;\r\n\t\r\n\t\t@Indexed(unique=true,sparse=true)\r\n\t\t@NotNull\r\n\t\tprivate Long seqId;\r\n\t\r\n\t\tprivate BasicDBObject attributes = new BasicDBObject(new HashMap&lt;&gt;());\r\n\r\n\t\tpublic String getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\r\n\t\tpublic void setId(String id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tpublic Map&lt;String, Object&gt; getAttributes() {\r\n\t\t\treturn attributes.toMap();\r\n\t\t}\r\n\r\n\t\tpublic void setAttributes(Map&lt;String, Object&gt; attributes) {\r\n\t\t\tthis.attributes = new BasicDBObject(attributes);\r\n\t\t}\r\n\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;ID: &quot;+getId() +&quot; Attributes: &quot; + getAttributes();\r\n\t\t}\r\n\r\n\t\tpublic Long getSeqId() {\r\n\t\t\treturn seqId;\r\n\t\t}\r\n\r\n\t\tpublic void setSeqId(Long seqId) {\r\n\t\t\tthis.seqId = seqId;\r\n\t\t}\r\n\r\n    }\r\n\r\n\r\n\r\n    public abstract class Auditable {\r\n\r\n\t\t@CreatedDate\r\n\t\tprivate Date createdDate;\r\n\r\n\t\t@DBRef\r\n\t\t@CreatedBy\r\n\t\tprivate User createdBy;\r\n\t\r\n\t\t@DBRef\r\n\t\t@OwnedByUser\r\n\t\tprivate User owner;\r\n\r\n\t\t@LastModifiedDate\r\n\t\tprivate Date updatedDate;\r\n\r\n\t\t@DBRef\r\n\t\t@LastModifiedBy\r\n\t\tprivate User updatedBy;\r\n\r\n\t\tpublic Date getCreatedDate() {\r\n\t\t\treturn createdDate;\r\n\t\t}\r\n\r\n\t\tpublic void setCreatedDate(Date createdDate) {\r\n\t\t\tthis.createdDate = createdDate;\r\n\t\t}\r\n\r\n\t\tpublic User getCreatedBy() {\r\n\t\t\treturn createdBy;\r\n\t\t}\r\n\r\n\t\tpublic void setCreatedBy(User createdBy) {\r\n\t\t\tthis.createdBy = createdBy;\r\n\t\t}\r\n\r\n\t\tpublic Date getUpdatedDate() {\r\n\t\t\treturn updatedDate;\r\n\t\t}\r\n\r\n\t\tpublic void setUpdatedDate(Date updatedDate) {\r\n\t\t\tthis.updatedDate = updatedDate;\r\n\t\t}\r\n\r\n\t\tpublic User getUpdatedBy() {\r\n\t\t\treturn updatedBy;\r\n\t\t}\r\n\r\n\t\tpublic void setUpdatedBy(User updatedBy) {\r\n\t\t\tthis.updatedBy = updatedBy;\r\n\t\t}\r\n\r\n\t\tpublic User getOwner() {\r\n\t\t\treturn owner;\r\n\t\t}\r\n\r\n\t\tpublic void setOwner(User owner) {\r\n\t\t\tthis.owner = owner;\r\n\t\t}\r\n\r\n    }\r\n\r\n\r\n","title":"OnBeforeSave gets called but nothing happens","body":"<p>I am trying to check if the object I am trying to persist already have a \"owner\" and if not I set the logged in user. This EventListener is working for any other field of Contact and it does set the user when I debug. The return of the MongoRepository save method contains the correct set user but when I look in the DB the user wasn't saved.</p>\n\n<p>OwnedByUserMongoEventListener class</p>\n\n<pre><code>public void onBeforeSave(BeforeSaveEvent&lt;Contact&gt; event) {\n    Contact source = event.getSource();\n    ReflectionUtils.doWithFields(source.getClass(), new OwnedByUserCallback(source));\n}\n</code></pre>\n\n<p>OwnedByUserCallback class</p>\n\n<pre><code>@Override\npublic void doWith(java.lang.reflect.Field field) throws IllegalArgumentException, IllegalAccessException {\n    ReflectionUtils.makeAccessible(field);\n    final Object fieldValue = field.get(getSource());\n    if (field.isAnnotationPresent(OwnedByUser.class)) {\n        if ( fieldValue == null ) {\n            JwtUser principal = (JwtUser) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n            User user = mongoOperations.findOne(Query.query(Criteria.where(\"username\").is(principal.getUsername())), User.class);\n            field.set(getSource(), user);\n        }\n    }\n\n}\n</code></pre>\n\n<p>/</p>\n\n<pre><code>Contact extends Auditable {\n\n    @Id\n    private String id;\n\n    @Indexed(unique=true,sparse=true)\n    @NotNull\n    private Long seqId;\n\n    private BasicDBObject attributes = new BasicDBObject(new HashMap&lt;&gt;());\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public Map&lt;String, Object&gt; getAttributes() {\n        return attributes.toMap();\n    }\n\n    public void setAttributes(Map&lt;String, Object&gt; attributes) {\n        this.attributes = new BasicDBObject(attributes);\n    }\n\n    public String toString() {\n        return \"ID: \"+getId() +\" Attributes: \" + getAttributes();\n    }\n\n    public Long getSeqId() {\n        return seqId;\n    }\n\n    public void setSeqId(Long seqId) {\n        this.seqId = seqId;\n    }\n\n}\n\n\n\npublic abstract class Auditable {\n\n    @CreatedDate\n    private Date createdDate;\n\n    @DBRef\n    @CreatedBy\n    private User createdBy;\n\n    @DBRef\n    @OwnedByUser\n    private User owner;\n\n    @LastModifiedDate\n    private Date updatedDate;\n\n    @DBRef\n    @LastModifiedBy\n    private User updatedBy;\n\n    public Date getCreatedDate() {\n        return createdDate;\n    }\n\n    public void setCreatedDate(Date createdDate) {\n        this.createdDate = createdDate;\n    }\n\n    public User getCreatedBy() {\n        return createdBy;\n    }\n\n    public void setCreatedBy(User createdBy) {\n        this.createdBy = createdBy;\n    }\n\n    public Date getUpdatedDate() {\n        return updatedDate;\n    }\n\n    public void setUpdatedDate(Date updatedDate) {\n        this.updatedDate = updatedDate;\n    }\n\n    public User getUpdatedBy() {\n        return updatedBy;\n    }\n\n    public void setUpdatedBy(User updatedBy) {\n        this.updatedBy = updatedBy;\n    }\n\n    public User getOwner() {\n        return owner;\n    }\n\n    public void setOwner(User owner) {\n        this.owner = owner;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","java-9","java-11"],"comments":[{"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"score":4,"creation_date":1548155174,"post_id":54306697,"comment_id":95433546,"body_markdown":"This is not your legacy code, this is the result of running a decompiler on a JDK class. It&#39;s extremely strange that you need to compile this code as part of your system.","body":"This is not your legacy code, this is the result of running a decompiler on a JDK class. It&#39;s extremely strange that you need to compile this code as part of your system."},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":1,"creation_date":1548155895,"post_id":54306697,"comment_id":95433970,"body_markdown":"sun.* packages are JVM internal and have never been meant for use by implementation classes. If you&#39;ve not been bitten by that before, you just got extremely lucky.","body":"sun.* packages are JVM internal and have never been meant for use by implementation classes. If you&#39;ve not been bitten by that before, you just got extremely lucky."},{"owner":{"account_id":534273,"reputation":1449,"user_id":899169,"accept_rate":31,"display_name":"vibhas"},"score":0,"creation_date":1548158273,"post_id":54306697,"comment_id":95435184,"body_markdown":"Ohh I see, It was bundled in a jar. Is there any alternate of using it in new Libraries","body":"Ohh I see, It was bundled in a jar. Is there any alternate of using it in new Libraries"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1548177403,"post_id":54306697,"comment_id":95446713,"body_markdown":"Of course, there is an alternative. Don’t use that code. Once we know what you actually want to do, we can tell you, how to do it. Java has easy-to-use charset conversion methods since version 1.1.","body":"Of course, there is an alternative. Don’t use that code. Once we know what you actually want to do, we can tell you, how to do it. Java has easy-to-use charset conversion methods since version 1.1."},{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1548179262,"post_id":54306697,"comment_id":95447566,"body_markdown":"CharacterEncoding was located in `sun.io` and is deprecated since Java 1.6 (and now removed). Use `java.nio.charset` instead.","body":"CharacterEncoding was located in <code>sun.io</code> and is deprecated since Java 1.6 (and now removed). Use <code>java.nio.charset</code> instead."},{"owner":{"account_id":534273,"reputation":1449,"user_id":899169,"accept_rate":31,"display_name":"vibhas"},"score":0,"creation_date":1548223913,"post_id":54306697,"comment_id":95461036,"body_markdown":"There use to be a very weird code not sure in which era and bundled into jars , which I noticed now.  ByteToCharRoman8 converter = new ByteToCharRoman8(); and calling converter.convert(...). The problem is due to this and all its dependencies are of Java 2 , I guess.","body":"There use to be a very weird code not sure in which era and bundled into jars , which I noticed now.  ByteToCharRoman8 converter = new ByteToCharRoman8(); and calling converter.convert(...). The problem is due to this and all its dependencies are of Java 2 , I guess."},{"owner":{"account_id":534273,"reputation":1449,"user_id":899169,"accept_rate":31,"display_name":"vibhas"},"score":0,"creation_date":1548224088,"post_id":54306697,"comment_id":95461101,"body_markdown":"Not sure if there was any standard library like that ByteToCharRoman8  in any of Java earlier version which converts the byte. Is there any standard library available now?","body":"Not sure if there was any standard library like that ByteToCharRoman8  in any of Java earlier version which converts the byte. Is there any standard library available now?"},{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":0,"creation_date":1548232204,"post_id":54306697,"comment_id":95464464,"body_markdown":"Robert is right. The charset API was added in Java SE 1.4 and developers have had 17 years to move away from the legacy sun.io converters.","body":"Robert is right. The charset API was added in Java SE 1.4 and developers have had 17 years to move away from the legacy sun.io converters."}],"answers":[{"tags":[],"owner":{"account_id":4424946,"reputation":5229,"user_id":3603660,"accept_rate":75,"display_name":"loicmathieu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1548171944,"creation_date":1548165424,"answer_id":54309896,"question_id":54306697,"body_markdown":"As pointed out, these are internal classes that should not be used directly. If refactoring is out of scope, you should use `--add-export` and this should work!\r\n\r\nYour `--add-export` argument is wrong. You need to use the correct package to export (`sun.security.action` in your case) and the name of your module (ALL-UNNAMED if you don&#39;t use modules, all in **capital letters** !).\r\n\r\nSo this should be `--add-exports java.base/sun.security.action=ALL-UNNAMED`\r\n\r\n\r\nFrom the documentation of javac :\r\n\r\n&gt; --add-exports module/package=other-module(,other-module)* Specifies a package to be considered as exported from its defining module to\r\n&gt; additional modules or to all unnamed modules when the value of\r\n&gt; other-module is ALL-UNNAMED.\r\n\r\n","title":"Migration Issue to Java 11 from legacy code","body":"<p>As pointed out, these are internal classes that should not be used directly. If refactoring is out of scope, you should use <code>--add-export</code> and this should work!</p>\n\n<p>Your <code>--add-export</code> argument is wrong. You need to use the correct package to export (<code>sun.security.action</code> in your case) and the name of your module (ALL-UNNAMED if you don't use modules, all in <strong>capital letters</strong> !).</p>\n\n<p>So this should be <code>--add-exports java.base/sun.security.action=ALL-UNNAMED</code></p>\n\n<p>From the documentation of javac :</p>\n\n<blockquote>\n  <p>--add-exports module/package=other-module(,other-module)* Specifies a package to be considered as exported from its defining module to\n  additional modules or to all unnamed modules when the value of\n  other-module is ALL-UNNAMED.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548399424,"creation_date":1548399424,"answer_id":54360366,"question_id":54306697,"body_markdown":"Since Java 9, most of the JDK&#39;s internal APIs [are inaccessible at compile time][1] (and in the future, they will be inaccessible at run time too). `sun.security.action` is an internal package so you should avoid using it. In your case, you can simply remove `new GetPropertyAction(&quot;file.encoding.pkg&quot;)` and replace it with a lambda:\r\n\r\n    AccessController.doPrivileged((PrivilegedAction&lt;Object&gt;) () -&gt; System.getProperty(&quot;prop&quot;));\r\n\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/260","title":"Migration Issue to Java 11 from legacy code","body":"<p>Since Java 9, most of the JDK's internal APIs <a href=\"https://openjdk.java.net/jeps/260\" rel=\"nofollow noreferrer\">are inaccessible at compile time</a> (and in the future, they will be inaccessible at run time too). <code>sun.security.action</code> is an internal package so you should avoid using it. In your case, you can simply remove <code>new GetPropertyAction(\"file.encoding.pkg\")</code> and replace it with a lambda:</p>\n\n<pre><code>AccessController.doPrivileged((PrivilegedAction&lt;Object&gt;) () -&gt; System.getProperty(\"prop\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29834033,"reputation":1,"user_id":22863829,"display_name":"Evgeniy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699231004,"creation_date":1699230359,"answer_id":77428155,"question_id":54306697,"body_markdown":"There&#39;s example file for java 17:\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;ru.readcrl_2&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ReadCRL_2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.11.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n              &lt;compilerArgs&gt;\r\n                &lt;arg&gt;--add-exports&lt;/arg&gt;\r\n                &lt;arg&gt;java.base/sun.security.x509=ALL-UNNAMED&lt;/arg&gt;            \r\n              &lt;/compilerArgs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n                &lt;version&gt;1.70&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n                &lt;version&gt;1.70&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;reporting&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;configLocation&gt;config/sun_checks.xml&lt;/configLocation&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/reporting&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        \r\n    &lt;/project&gt;","title":"Migration Issue to Java 11 from legacy code","body":"<p>There's example file for java 17:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;ru.readcrl_2&lt;/groupId&gt;\n    &lt;artifactId&gt;ReadCRL_2&lt;/artifactId&gt;\n    &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n          &lt;compilerArgs&gt;\n            &lt;arg&gt;--add-exports&lt;/arg&gt;\n            &lt;arg&gt;java.base/sun.security.x509=ALL-UNNAMED&lt;/arg&gt;            \n          &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n            &lt;version&gt;1.70&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n            &lt;version&gt;1.70&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;configLocation&gt;config/sun_checks.xml&lt;/configLocation&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    \n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":534273,"reputation":1449,"user_id":899169,"accept_rate":31,"display_name":"vibhas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5657,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1699231004,"creation_date":1548154478,"question_id":54306697,"body_markdown":"We are migrating our old code, in fact pretty old to Java 11. I am facing issues while compiling one of the classes. The sample code is:\r\n\r\n    package XXXX;\r\n    \r\n    import java.lang.ref.*;\r\n    import sun.security.action.*;\r\n    import java.security.*;\r\n    import java.io.*;\r\n    \r\n    class Converters\r\n    {\r\n        private static Object lock;\r\n        private static String converterPackageName;\r\n        private static String defaultEncoding;\r\n        public static final int BYTE_TO_CHAR = 0;\r\n        public static final int CHAR_TO_BYTE = 1;\r\n        private static final String[] converterPrefix;\r\n        private static SoftReference[] classCache;\r\n        static /* synthetic */ Class class$sun$io$Converters;\r\n        \r\n        private static String getConverterPackageName() {\r\n            final String converterPackageName = Converters.converterPackageName;\r\n            if (converterPackageName != null) {\r\n                return converterPackageName;\r\n            }\r\n            String converterPackageName2 = AccessController.doPrivileged((PrivilegedAction&lt;String&gt;)new GetPropertyAction(&quot;file.encoding.pkg&quot;));\r\n            if (converterPackageName2 != null) {\r\n                Converters.converterPackageName = converterPackageName2;\r\n            }\r\n            else {\r\n                converterPackageName2 = &quot;sun.io&quot;;\r\n            }\r\n            return converterPackageName2;\r\n        }\r\n        \r\n        private static Class getConverterClass(final int n, final String s) throws UnsupportedEncodingException {\r\n            String aliasName = null;\r\n            if (!s.equals(&quot;ISO8859_1&quot;)) {\r\n                if (s.equals(&quot;8859_1&quot;)) {\r\n                    aliasName = &quot;ISO8859_1&quot;;\r\n                }\r\n                else if (s.equals(&quot;ISO8859-1&quot;)) {\r\n                    aliasName = &quot;ISO8859_1&quot;;\r\n                }\r\n                else if (s.equals(&quot;646&quot;)) {\r\n                    aliasName = &quot;ASCII&quot;;\r\n                }\r\n                else {\r\n                    aliasName = CharacterEncoding.aliasName(s);\r\n                }\r\n            }\r\n            if (aliasName == null) {\r\n                aliasName = s;\r\n            }\r\n            try {\r\n                return Class.forName(getConverterPackageName() + &quot;.&quot; + Converters.converterPrefix[n] + aliasName);\r\n            }\r\n            catch (ClassNotFoundException ex) {\r\n                throw new UnsupportedEncodingException(aliasName);\r\n            }\r\n        }\r\n        \r\n        private static Object newConverter(final String s, final Class clazz) throws UnsupportedEncodingException {\r\n            try {\r\n                return clazz.newInstance();\r\n            }\r\n            catch (InstantiationException ex) {\r\n                throw new UnsupportedEncodingException(s);\r\n            }\r\n            catch (IllegalAccessException ex2) {\r\n                throw new UnsupportedEncodingException(s);\r\n            }\r\n        }\r\n        \r\n        static Object newConverter(final int n, final String s) throws UnsupportedEncodingException {\r\n            final Class converterClass;\r\n            synchronized (Converters.lock) {\r\n                converterClass = getConverterClass(n, s);\r\n            }\r\n            return newConverter(s, converterClass);\r\n        }\r\n        \r\n        private static Class getDefaultConverterClass(final int n) {\r\n            boolean b = false;\r\n            final SoftReference softReference = Converters.classCache[n];\r\n            if (softReference != null) {\r\n                final Class clazz = softReference.get();\r\n                if (clazz != null) {\r\n                    return clazz;\r\n                }\r\n                Converters.classCache[n] = null;\r\n            }\r\n            String defaultEncoding = Converters.defaultEncoding;\r\n            if (Converters.defaultEncoding != null) {\r\n                b = true;\r\n            }\r\n            else {\r\n                defaultEncoding = AccessController.doPrivileged((PrivilegedAction&lt;String&gt;)new GetPropertyAction(&quot;file.encoding&quot;));\r\n                if (defaultEncoding != null) {\r\n                    Converters.defaultEncoding = defaultEncoding;\r\n                    b = true;\r\n                }\r\n                else {\r\n                    defaultEncoding = &quot;ISO8859_1&quot;;\r\n                }\r\n            }\r\n            Class clazz2;\r\n            try {\r\n                clazz2 = getConverterClass(n, defaultEncoding);\r\n                if (b) {\r\n                    Converters.classCache[n] = new SoftReference(clazz2);\r\n                }\r\n            }\r\n            catch (UnsupportedEncodingException ex) {\r\n                try {\r\n                    clazz2 = getConverterClass(n, &quot;ISO8859_1&quot;);\r\n                }\r\n                catch (UnsupportedEncodingException ex2) {\r\n                    throw new InternalError(&quot;Cannot find default &quot; + Converters.converterPrefix[n] + &quot; converter class&quot;);\r\n                }\r\n            }\r\n            return clazz2;\r\n        }\r\n        \r\n        static Object newDefaultConverter(final int n) {\r\n            final Class defaultConverterClass;\r\n            synchronized (Converters.lock) {\r\n                defaultConverterClass = getDefaultConverterClass(n);\r\n            }\r\n            try {\r\n                return newConverter(&quot;&quot;, defaultConverterClass);\r\n            }\r\n            catch (UnsupportedEncodingException ex) {\r\n                throw new InternalError(&quot;Cannot instantiate default converter class &quot; + defaultConverterClass.getName());\r\n            }\r\n        }\r\n        \r\n        static /* synthetic */ Class class$(final String s) {\r\n            try {\r\n                return Class.forName(s);\r\n            }\r\n            catch (ClassNotFoundException ex) {\r\n                throw new NoClassDefFoundError(ex.getMessage());\r\n            }\r\n        }\r\n        \r\n        static {\r\n            Converters.lock = ((Converters.class$sun$io$Converters == null) ? (Converters.class$sun$io$Converters = class$(&quot;sun.io.Converters&quot;)) : Converters.class$sun$io$Converters);\r\n            Converters.converterPackageName = null;\r\n            Converters.defaultEncoding = null;\r\n            converterPrefix = new String[] { &quot;ByteToChar&quot;, &quot;CharToByte&quot; };\r\n            Converters.classCache = new SoftReference[2];\r\n        }\r\n    }\r\n\r\n   \r\nWhile compiling it using `javac Converter.java`, I am getting the error below:\r\n\r\n    import sun.security.action.*;\r\n                       ^\r\n      (package sun.security.action is declared in module java.base, which does not export it to the unnamed module)\r\n    Converters.java:47: error: cannot find symbol\r\n                    aliasName = CharacterEncoding.aliasName(s);\r\n                                ^\r\n      symbol:   variable CharacterEncoding\r\n      location: class Converters\r\n    Converters.java:85: error: incompatible types: Object cannot be converted to Class\r\n                final Class clazz = softReference.get();\r\n                                                     ^\r\n    Note: Converters.java uses or overrides a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n    Note: Converters.java uses unchecked or unsafe operations.\r\n    Note: Recompile with -Xlint:unchecked for details.\r\n    3 errors\r\n\r\nI tried to export this using `--add--export\r\njava.base/sun.security=All-UNNAMED`, it&#39;s still throwing the error.\r\n\r\nAny help? Also would like to know is there any other way to remove this old legacy code with new one.\r\n\r\n","title":"Migration Issue to Java 11 from legacy code","body":"<p>We are migrating our old code, in fact pretty old to Java 11. I am facing issues while compiling one of the classes. The sample code is:</p>\n\n<pre><code>package XXXX;\n\nimport java.lang.ref.*;\nimport sun.security.action.*;\nimport java.security.*;\nimport java.io.*;\n\nclass Converters\n{\n    private static Object lock;\n    private static String converterPackageName;\n    private static String defaultEncoding;\n    public static final int BYTE_TO_CHAR = 0;\n    public static final int CHAR_TO_BYTE = 1;\n    private static final String[] converterPrefix;\n    private static SoftReference[] classCache;\n    static /* synthetic */ Class class$sun$io$Converters;\n\n    private static String getConverterPackageName() {\n        final String converterPackageName = Converters.converterPackageName;\n        if (converterPackageName != null) {\n            return converterPackageName;\n        }\n        String converterPackageName2 = AccessController.doPrivileged((PrivilegedAction&lt;String&gt;)new GetPropertyAction(\"file.encoding.pkg\"));\n        if (converterPackageName2 != null) {\n            Converters.converterPackageName = converterPackageName2;\n        }\n        else {\n            converterPackageName2 = \"sun.io\";\n        }\n        return converterPackageName2;\n    }\n\n    private static Class getConverterClass(final int n, final String s) throws UnsupportedEncodingException {\n        String aliasName = null;\n        if (!s.equals(\"ISO8859_1\")) {\n            if (s.equals(\"8859_1\")) {\n                aliasName = \"ISO8859_1\";\n            }\n            else if (s.equals(\"ISO8859-1\")) {\n                aliasName = \"ISO8859_1\";\n            }\n            else if (s.equals(\"646\")) {\n                aliasName = \"ASCII\";\n            }\n            else {\n                aliasName = CharacterEncoding.aliasName(s);\n            }\n        }\n        if (aliasName == null) {\n            aliasName = s;\n        }\n        try {\n            return Class.forName(getConverterPackageName() + \".\" + Converters.converterPrefix[n] + aliasName);\n        }\n        catch (ClassNotFoundException ex) {\n            throw new UnsupportedEncodingException(aliasName);\n        }\n    }\n\n    private static Object newConverter(final String s, final Class clazz) throws UnsupportedEncodingException {\n        try {\n            return clazz.newInstance();\n        }\n        catch (InstantiationException ex) {\n            throw new UnsupportedEncodingException(s);\n        }\n        catch (IllegalAccessException ex2) {\n            throw new UnsupportedEncodingException(s);\n        }\n    }\n\n    static Object newConverter(final int n, final String s) throws UnsupportedEncodingException {\n        final Class converterClass;\n        synchronized (Converters.lock) {\n            converterClass = getConverterClass(n, s);\n        }\n        return newConverter(s, converterClass);\n    }\n\n    private static Class getDefaultConverterClass(final int n) {\n        boolean b = false;\n        final SoftReference softReference = Converters.classCache[n];\n        if (softReference != null) {\n            final Class clazz = softReference.get();\n            if (clazz != null) {\n                return clazz;\n            }\n            Converters.classCache[n] = null;\n        }\n        String defaultEncoding = Converters.defaultEncoding;\n        if (Converters.defaultEncoding != null) {\n            b = true;\n        }\n        else {\n            defaultEncoding = AccessController.doPrivileged((PrivilegedAction&lt;String&gt;)new GetPropertyAction(\"file.encoding\"));\n            if (defaultEncoding != null) {\n                Converters.defaultEncoding = defaultEncoding;\n                b = true;\n            }\n            else {\n                defaultEncoding = \"ISO8859_1\";\n            }\n        }\n        Class clazz2;\n        try {\n            clazz2 = getConverterClass(n, defaultEncoding);\n            if (b) {\n                Converters.classCache[n] = new SoftReference(clazz2);\n            }\n        }\n        catch (UnsupportedEncodingException ex) {\n            try {\n                clazz2 = getConverterClass(n, \"ISO8859_1\");\n            }\n            catch (UnsupportedEncodingException ex2) {\n                throw new InternalError(\"Cannot find default \" + Converters.converterPrefix[n] + \" converter class\");\n            }\n        }\n        return clazz2;\n    }\n\n    static Object newDefaultConverter(final int n) {\n        final Class defaultConverterClass;\n        synchronized (Converters.lock) {\n            defaultConverterClass = getDefaultConverterClass(n);\n        }\n        try {\n            return newConverter(\"\", defaultConverterClass);\n        }\n        catch (UnsupportedEncodingException ex) {\n            throw new InternalError(\"Cannot instantiate default converter class \" + defaultConverterClass.getName());\n        }\n    }\n\n    static /* synthetic */ Class class$(final String s) {\n        try {\n            return Class.forName(s);\n        }\n        catch (ClassNotFoundException ex) {\n            throw new NoClassDefFoundError(ex.getMessage());\n        }\n    }\n\n    static {\n        Converters.lock = ((Converters.class$sun$io$Converters == null) ? (Converters.class$sun$io$Converters = class$(\"sun.io.Converters\")) : Converters.class$sun$io$Converters);\n        Converters.converterPackageName = null;\n        Converters.defaultEncoding = null;\n        converterPrefix = new String[] { \"ByteToChar\", \"CharToByte\" };\n        Converters.classCache = new SoftReference[2];\n    }\n}\n</code></pre>\n\n<p>While compiling it using <code>javac Converter.java</code>, I am getting the error below:</p>\n\n<pre><code>import sun.security.action.*;\n                   ^\n  (package sun.security.action is declared in module java.base, which does not export it to the unnamed module)\nConverters.java:47: error: cannot find symbol\n                aliasName = CharacterEncoding.aliasName(s);\n                            ^\n  symbol:   variable CharacterEncoding\n  location: class Converters\nConverters.java:85: error: incompatible types: Object cannot be converted to Class\n            final Class clazz = softReference.get();\n                                                 ^\nNote: Converters.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Converters.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n3 errors\n</code></pre>\n\n<p>I tried to export this using <code>--add--export\njava.base/sun.security=All-UNNAMED</code>, it's still throwing the error.</p>\n\n<p>Any help? Also would like to know is there any other way to remove this old legacy code with new one.</p>\n"},{"tags":["java","android","phpmyadmin"],"owner":{"account_id":29405571,"reputation":21,"user_id":22530711,"display_name":"lalalalala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1699228423,"creation_date":1699228304,"question_id":77428087,"body_markdown":"**BarrioRate.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;ScrollView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/white&quot;\r\n    tools:context=&quot;.BarrioRate&quot;\r\n    android:theme=&quot;@style/ThemeOverlay.AppCompat.DayNight.ActionBar&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/barrioRate&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_marginEnd=&quot;0dp&quot;\r\n            android:fontFamily=&quot;sans-serif-black&quot;\r\n            android:text=&quot;@string/barrio_crime&quot;\r\n            android:textColor=&quot;@color/Poseidon&quot;\r\n            android:textSize=&quot;30sp&quot;/&gt;\r\n\r\n\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/topBarrio&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_marginEnd=&quot;0dp&quot;\r\n            android:fontFamily=&quot;sans-serif-black&quot;\r\n            android:text=&quot;Top 5 Barrio that have a highest Crimes&quot;\r\n            android:textColor=&quot;@color/Poseidon&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n&quot;/&gt;\r\n\r\n        &lt;com.github.mikephil.charting.charts.BarChart\r\n            android:id=&quot;@+id/barChart&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;300dp&quot;\r\n            android:layout_below=&quot;@id/topBarrio&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginStart=&quot;30dp&quot;\r\n            android:layout_marginEnd=&quot;30dp&quot; /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n&lt;/ScrollView&gt;\r\n```\r\n\r\n**CrimeRate.java**\r\n\r\nGet the total of each barrios crime in phpmyadin then display the top 5 highest barrios crime rates in the bar graph with their rates\r\n\r\n```\r\npackage com.example.mobile;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.github.mikephil.charting.charts.BarChart;\r\n\r\nimport com.github.mikephil.charting.utils.ColorTemplate;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\n\r\npublic class BarrioRate extends AppCompatActivity {\r\n\r\n    private BarChart barChart;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n       \r\n\r\n        \r\n        barChart = findViewById(R.id.barChart);\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nBarrio.php\r\n\r\ncount the crime of each barrio then get the total of it then get the rates of it. I just really don&#39;t know what code I should use. I am a beginner and this is my first time to create a mobile app\r\n\r\n```\r\n&lt;?php\r\n    \r\n    include &#39;connection.php&#39;;\r\n    \r\n    // Create a connection to the database\r\n    $con = mysqli_connect($hostname, $username, $password, $dbName);\r\n\r\n    \r\n    if ($con-&gt;connect_error) {\r\n        die(&quot;Connection failed: &quot; . $con-&gt;connect_error);\r\n    }\r\n    \r\n    // SQL query to retrieve crime data\r\nbarrio_crime    $sql = &quot;SELECT b, COUNT(*) as count FROM report GROUP BY barrio_crime&quot;;\r\n    \r\n    $result = $con-&gt;query($sql);\r\n    \r\n    $data = array();\r\n    \r\n    if ($result-&gt;num_rows &gt; 0) {\r\n        while ($row = $result-&gt;fetch_assoc()) {\r\n            $barrio_crime = $row[&#39;barrio_crime&#39;];\r\n            $count = $row[&#39;count&#39;];\r\n            $data[] = array(&quot;barrio_crime&quot; =&gt; $barrio_crime, &quot;count&quot; =&gt; $count);\r\n        }\r\n    }\r\n    \r\n    // Close the database connection\r\n    $conn-&gt;close();\r\n    \r\n    // Return the data as JSON\r\n    echo json_encode($data);\r\n?&gt;\r\n```\r\n\r\nI expect that barangay that have a highest crime to be displayed in the bar graph. I expect that barangay that have a highest crime to be displayed in the bar graph.","title":"How to display the rates in bargraph from phpmyadmin to bargraph in android studio(JAVA)?","body":"<p><strong>BarrioRate.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/white&quot;\n    tools:context=&quot;.BarrioRate&quot;\n    android:theme=&quot;@style/ThemeOverlay.AppCompat.DayNight.ActionBar&quot;&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n        &lt;TextView\n            android:id=&quot;@+id/barrioRate&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:layout_marginStart=&quot;0dp&quot;\n            android:gravity=&quot;center&quot;\n            android:layout_marginTop=&quot;20dp&quot;\n            android:layout_marginEnd=&quot;0dp&quot;\n            android:fontFamily=&quot;sans-serif-black&quot;\n            android:text=&quot;@string/barrio_crime&quot;\n            android:textColor=&quot;@color/Poseidon&quot;\n            android:textSize=&quot;30sp&quot;/&gt;\n\n\n\n        &lt;TextView\n            android:id=&quot;@+id/topBarrio&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:layout_marginStart=&quot;0dp&quot;\n            android:gravity=&quot;center&quot;\n            android:layout_marginTop=&quot;20dp&quot;\n            android:layout_marginEnd=&quot;0dp&quot;\n            android:fontFamily=&quot;sans-serif-black&quot;\n            android:text=&quot;Top 5 Barrio that have a highest Crimes&quot;\n            android:textColor=&quot;@color/Poseidon&quot;\n            android:textSize=&quot;18sp&quot;\n&quot;/&gt;\n\n        &lt;com.github.mikephil.charting.charts.BarChart\n            android:id=&quot;@+id/barChart&quot;\n            android:layout_width=&quot;200dp&quot;\n            android:layout_height=&quot;300dp&quot;\n            android:layout_below=&quot;@id/topBarrio&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:layout_marginStart=&quot;30dp&quot;\n            android:layout_marginEnd=&quot;30dp&quot; /&gt;\n\n    &lt;/RelativeLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n<p><strong>CrimeRate.java</strong></p>\n<p>Get the total of each barrios crime in phpmyadin then display the top 5 highest barrios crime rates in the bar graph with their rates</p>\n<pre><code>package com.example.mobile;\n\nimport android.os.Bundle;\n\nimport com.github.mikephil.charting.charts.BarChart;\n\nimport com.github.mikephil.charting.utils.ColorTemplate;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class BarrioRate extends AppCompatActivity {\n\n    private BarChart barChart;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n       \n\n        \n        barChart = findViewById(R.id.barChart);\n\n\n    }\n}\n</code></pre>\n<p>Barrio.php</p>\n<p>count the crime of each barrio then get the total of it then get the rates of it. I just really don't know what code I should use. I am a beginner and this is my first time to create a mobile app</p>\n<pre><code>&lt;?php\n    \n    include 'connection.php';\n    \n    // Create a connection to the database\n    $con = mysqli_connect($hostname, $username, $password, $dbName);\n\n    \n    if ($con-&gt;connect_error) {\n        die(&quot;Connection failed: &quot; . $con-&gt;connect_error);\n    }\n    \n    // SQL query to retrieve crime data\nbarrio_crime    $sql = &quot;SELECT b, COUNT(*) as count FROM report GROUP BY barrio_crime&quot;;\n    \n    $result = $con-&gt;query($sql);\n    \n    $data = array();\n    \n    if ($result-&gt;num_rows &gt; 0) {\n        while ($row = $result-&gt;fetch_assoc()) {\n            $barrio_crime = $row['barrio_crime'];\n            $count = $row['count'];\n            $data[] = array(&quot;barrio_crime&quot; =&gt; $barrio_crime, &quot;count&quot; =&gt; $count);\n        }\n    }\n    \n    // Close the database connection\n    $conn-&gt;close();\n    \n    // Return the data as JSON\n    echo json_encode($data);\n?&gt;\n</code></pre>\n<p>I expect that barangay that have a highest crime to be displayed in the bar graph. I expect that barangay that have a highest crime to be displayed in the bar graph.</p>\n"},{"tags":["java","spring","mapping","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699227920,"creation_date":1699227920,"answer_id":77428078,"question_id":77421287,"body_markdown":"I am aware you mentioned that you obtained the same results but in my opinion using the following `Mapper` definition should give you the right results:\r\n\r\n```java\r\n@Mapper(uses = MessageMapper.class)\r\npublic interface ChatMapper {\r\n\r\n    @Mapping(source = &quot;messageList&quot;, target = &quot;messageEntityList&quot;)\r\n    ChatEntity toEntity(Chat chat);\r\n\r\n    @Mapping(source = &quot;messageEntityList&quot;, target = &quot;messageList&quot;)\r\n    Chat toModel(ChatEntity chatEntity);\r\n}\r\n```\r\n\r\nIf this code doesn&#39;t work, please, pay attention to your JPA relationships: all are defined as lazy, and perhaps they haven&#39;e been initialized when the mapper is evaluated.\r\n\r\nPlease, analyze the source code of the generated mappers, it will give you a good understanding about the actual code that it being executed.\r\n\r\nAs a work around, consider include the identifiers of the user that sended and received the message as additional read-only columns in your `MessageEntity`:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;message&quot;)\r\n@Builder(toBuilder = true)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class MessageEntity {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;content&quot;)\r\n    private String content;\r\n\r\n    @Column(name = &quot;creation_date&quot;)\r\n    private ZonedDateTime creationDate;\r\n\r\n    @Column(name = &quot;user_to_id&quot;, updatable=false, insertable=false)\r\n    private UUID userToEntityId;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;user_to_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private UserEntity userToEntity;\r\n\r\n    @Column(name = &quot;user_from_id&quot;, updatable=false, insertable=false)\r\n    private UUID userFromEntityId;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;user_from_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private UserEntity userFromEntity;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;chat_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private ChatEntity chatEntity;\r\n```\r\n\r\nand modify `MessageMapper` to take into account the new columns:\r\n\r\n```java\r\n@Mapper\r\npublic interface MessageMapper {\r\n\r\n    @Mapping(source = &quot;userFromId&quot;, target = &quot;userFromEntityId&quot;)\r\n    @Mapping(source = &quot;userToId&quot;, target = &quot;userToEntityId&quot;)\r\n    MessageEntity toEntity(Message message);\r\n\r\n    @Mapping(source = &quot;userFromEntityId&quot;, target = &quot;userFromId&quot;)\r\n    @Mapping(source = &quot;userToEntityId&quot;, target = &quot;userToId&quot;)\r\n    Message toModel(MessageEntity messageEntity);\r\n}\r\n```\r\n\r\nPlease, if you adopt this new approach, pay attention to the way the relationships are resolved.","title":"Mapstruck null failure for inner field mapped by another mapper","body":"<p>I am aware you mentioned that you obtained the same results but in my opinion using the following <code>Mapper</code> definition should give you the right results:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(uses = MessageMapper.class)\npublic interface ChatMapper {\n\n    @Mapping(source = &quot;messageList&quot;, target = &quot;messageEntityList&quot;)\n    ChatEntity toEntity(Chat chat);\n\n    @Mapping(source = &quot;messageEntityList&quot;, target = &quot;messageList&quot;)\n    Chat toModel(ChatEntity chatEntity);\n}\n</code></pre>\n<p>If this code doesn't work, please, pay attention to your JPA relationships: all are defined as lazy, and perhaps they haven'e been initialized when the mapper is evaluated.</p>\n<p>Please, analyze the source code of the generated mappers, it will give you a good understanding about the actual code that it being executed.</p>\n<p>As a work around, consider include the identifiers of the user that sended and received the message as additional read-only columns in your <code>MessageEntity</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;message&quot;)\n@Builder(toBuilder = true)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class MessageEntity {\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @Column(name = &quot;content&quot;)\n    private String content;\n\n    @Column(name = &quot;creation_date&quot;)\n    private ZonedDateTime creationDate;\n\n    @Column(name = &quot;user_to_id&quot;, updatable=false, insertable=false)\n    private UUID userToEntityId;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;user_to_id&quot;, referencedColumnName = &quot;id&quot;)\n    private UserEntity userToEntity;\n\n    @Column(name = &quot;user_from_id&quot;, updatable=false, insertable=false)\n    private UUID userFromEntityId;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;user_from_id&quot;, referencedColumnName = &quot;id&quot;)\n    private UserEntity userFromEntity;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;chat_id&quot;, referencedColumnName = &quot;id&quot;)\n    private ChatEntity chatEntity;\n</code></pre>\n<p>and modify <code>MessageMapper</code> to take into account the new columns:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface MessageMapper {\n\n    @Mapping(source = &quot;userFromId&quot;, target = &quot;userFromEntityId&quot;)\n    @Mapping(source = &quot;userToId&quot;, target = &quot;userToEntityId&quot;)\n    MessageEntity toEntity(Message message);\n\n    @Mapping(source = &quot;userFromEntityId&quot;, target = &quot;userFromId&quot;)\n    @Mapping(source = &quot;userToEntityId&quot;, target = &quot;userToId&quot;)\n    Message toModel(MessageEntity messageEntity);\n}\n</code></pre>\n<p>Please, if you adopt this new approach, pay attention to the way the relationships are resolved.</p>\n"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77428078,"answer_count":1,"score":0,"last_activity_date":1699227920,"creation_date":1699086626,"question_id":77421287,"body_markdown":"\r\nIn my application, each chat contains a list of messages, and each message contains info about the users who are their sender and receiver. However, I’m struggling to use a mapper with mapstruct that from a chat mapper would allow me to map both the list of messages and the user info related to each message, which are mapped by the message mapper.\r\n\r\nSo this fails with valid message, but null userTo and userFrom id.\r\n\r\n```\r\nreturn chatRepository.findAll()\r\n        .stream()\r\n        .map(chatMapper::toModel)\r\n        .toList();\r\n```\r\n\r\nBut when it&#39;s replaced by the below piece where I map each message and then manually add them to a chat, it passes:\r\n\r\n```\r\nList&lt;ChatEntity&gt; chatEntityList = chatRepository.findAll();\r\n\r\nList&lt;Chat&gt; chatList = new ArrayList&lt;&gt;();\r\nfor (ChatEntity chatEntity : chatEntityList) {\r\n    List&lt;Message&gt; messageList = chatEntity.getMessageEntityList()\r\n            .stream()\r\n            .map(messageMapper::toModel)\r\n            .toList();\r\n\r\n    Chat chat = Chat.builder()\r\n            .id(chatEntity.getId())\r\n            .messageList(messageList)\r\n            .build();\r\n\r\n    chatList.add(chat);\r\n}\r\nreturn chatList;\r\n\r\n```\r\n\r\nI’ve been trying for days, but am really at loss at why this is?\r\n\r\nThese are my mappers:\r\n\r\n```\r\n@Mapper //tried @Mapper(uses = MessageMapper.class) but the result is the same\r\npublic interface ChatMapper {\r\n\r\n    @Mapping(source = &quot;messageList&quot;, target = &quot;messageEntityList&quot;)\r\n    ChatEntity toEntity(Chat chat);\r\n\r\n    @Mapping(source = &quot;messageEntityList&quot;, target = &quot;messageList&quot;)\r\n    Chat toModel(ChatEntity chatEntity);\r\n}\r\n\r\n@Mapper\r\npublic interface MessageMapper {\r\n\r\n    @Mapping(source = &quot;userFromId&quot;, target = &quot;userFromEntity.id&quot;)\r\n    @Mapping(source = &quot;userToId&quot;, target = &quot;userToEntity.id&quot;)\r\n    MessageEntity toEntity(Message message);\r\n\r\n    @Mapping(source = &quot;userFromEntity.id&quot;, target = &quot;userFromId&quot;)\r\n    @Mapping(source = &quot;userToEntity.id&quot;, target = &quot;userToId&quot;)\r\n    Message toModel(MessageEntity messageEntity);\r\n}\r\n```\r\n\r\nAnd here models:\r\n\r\n```\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Chat {\r\n\r\n    private UUID id;\r\n\r\n    @JsonProperty(&quot;messages&quot;)\r\n    private List&lt;Message&gt; messageList;\r\n}\r\n\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Message {\r\n\r\n    private UUID id;\r\n    private String content;\r\n    private ZonedDateTime creationDate;\r\n    private UUID parentId;\r\n    private UUID userFromId;\r\n    private UUID userToId;\r\n}\r\n```\r\n\r\nAnd entities:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;chat&quot;)\r\n@Builder(toBuilder = true)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ChatEntity {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @OneToMany(mappedBy = &quot;chatEntity&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    private List&lt;MessageEntity&gt; messageEntityList;\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;message&quot;)\r\n@Builder(toBuilder = true)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class MessageEntity {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;content&quot;)\r\n    private String content;\r\n\r\n    @Column(name = &quot;creation_date&quot;)\r\n    private ZonedDateTime creationDate;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;user_to_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private UserEntity userToEntity;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;user_from_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private UserEntity userFromEntity;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;chat_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private ChatEntity chatEntity;\r\n}\r\n```","title":"Mapstruck null failure for inner field mapped by another mapper","body":"<p>In my application, each chat contains a list of messages, and each message contains info about the users who are their sender and receiver. However, I’m struggling to use a mapper with mapstruct that from a chat mapper would allow me to map both the list of messages and the user info related to each message, which are mapped by the message mapper.</p>\n<p>So this fails with valid message, but null userTo and userFrom id.</p>\n<pre><code>return chatRepository.findAll()\n        .stream()\n        .map(chatMapper::toModel)\n        .toList();\n</code></pre>\n<p>But when it's replaced by the below piece where I map each message and then manually add them to a chat, it passes:</p>\n<pre><code>List&lt;ChatEntity&gt; chatEntityList = chatRepository.findAll();\n\nList&lt;Chat&gt; chatList = new ArrayList&lt;&gt;();\nfor (ChatEntity chatEntity : chatEntityList) {\n    List&lt;Message&gt; messageList = chatEntity.getMessageEntityList()\n            .stream()\n            .map(messageMapper::toModel)\n            .toList();\n\n    Chat chat = Chat.builder()\n            .id(chatEntity.getId())\n            .messageList(messageList)\n            .build();\n\n    chatList.add(chat);\n}\nreturn chatList;\n\n</code></pre>\n<p>I’ve been trying for days, but am really at loss at why this is?</p>\n<p>These are my mappers:</p>\n<pre><code>@Mapper //tried @Mapper(uses = MessageMapper.class) but the result is the same\npublic interface ChatMapper {\n\n    @Mapping(source = &quot;messageList&quot;, target = &quot;messageEntityList&quot;)\n    ChatEntity toEntity(Chat chat);\n\n    @Mapping(source = &quot;messageEntityList&quot;, target = &quot;messageList&quot;)\n    Chat toModel(ChatEntity chatEntity);\n}\n\n@Mapper\npublic interface MessageMapper {\n\n    @Mapping(source = &quot;userFromId&quot;, target = &quot;userFromEntity.id&quot;)\n    @Mapping(source = &quot;userToId&quot;, target = &quot;userToEntity.id&quot;)\n    MessageEntity toEntity(Message message);\n\n    @Mapping(source = &quot;userFromEntity.id&quot;, target = &quot;userFromId&quot;)\n    @Mapping(source = &quot;userToEntity.id&quot;, target = &quot;userToId&quot;)\n    Message toModel(MessageEntity messageEntity);\n}\n</code></pre>\n<p>And here models:</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Chat {\n\n    private UUID id;\n\n    @JsonProperty(&quot;messages&quot;)\n    private List&lt;Message&gt; messageList;\n}\n\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Message {\n\n    private UUID id;\n    private String content;\n    private ZonedDateTime creationDate;\n    private UUID parentId;\n    private UUID userFromId;\n    private UUID userToId;\n}\n</code></pre>\n<p>And entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;chat&quot;)\n@Builder(toBuilder = true)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ChatEntity {\n    @Id\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @OneToMany(mappedBy = &quot;chatEntity&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    private List&lt;MessageEntity&gt; messageEntityList;\n}\n\n@Entity\n@Table(name = &quot;message&quot;)\n@Builder(toBuilder = true)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class MessageEntity {\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @Column(name = &quot;content&quot;)\n    private String content;\n\n    @Column(name = &quot;creation_date&quot;)\n    private ZonedDateTime creationDate;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;user_to_id&quot;, referencedColumnName = &quot;id&quot;)\n    private UserEntity userToEntity;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;user_from_id&quot;, referencedColumnName = &quot;id&quot;)\n    private UserEntity userFromEntity;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;chat_id&quot;, referencedColumnName = &quot;id&quot;)\n    private ChatEntity chatEntity;\n}\n</code></pre>\n"},{"tags":["java","internationalization","locale","utf"],"comments":[{"owner":{"account_id":873206,"reputation":49,"user_id":289543,"display_name":"HoleInVoid"},"score":0,"creation_date":1543934254,"post_id":53614514,"comment_id":94091263,"body_markdown":"The difference in equal signs where introduced with java 10, in java 8 they were similar","body":"The difference in equal signs where introduced with java 10, in java 8 they were similar"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1543944909,"post_id":53614514,"comment_id":94097388,"body_markdown":"I don&#39;t think anybody other than the developers of Java can answer a question like &quot;Why&quot;. And it doesn&#39;t help you anyway - you are stuck with the situation whether it is justifiable or not. Perhaps you&#39;d prefer to change your question to something practical like how to go around this issue.","body":"I don&#39;t think anybody other than the developers of Java can answer a question like &quot;Why&quot;. And it doesn&#39;t help you anyway - you are stuck with the situation whether it is justifiable or not. Perhaps you&#39;d prefer to change your question to something practical like how to go around this issue."},{"owner":{"account_id":873206,"reputation":49,"user_id":289543,"display_name":"HoleInVoid"},"score":1,"creation_date":1543953273,"post_id":53614514,"comment_id":94101323,"body_markdown":"Yes, thanks for input, I probably used Stack overflow a bit wrong here but I thought it was so strange that maybe I did something wrong. I have gotten around it a bit ugly but will update my question with it.","body":"Yes, thanks for input, I probably used Stack overflow a bit wrong here but I thought it was so strange that maybe I did something wrong. I have gotten around it a bit ugly but will update my question with it."},{"owner":{"account_id":873206,"reputation":49,"user_id":289543,"display_name":"HoleInVoid"},"score":0,"creation_date":1593680382,"post_id":53614514,"comment_id":110866732,"body_markdown":"Another workaround is to use &quot;-Djava.locale.providers=COMPAT,CLDR&quot; as a JDK parameter. This tells Java to use the old way for locale spesific formatting.","body":"Another workaround is to use &quot;-Djava.locale.providers=COMPAT,CLDR&quot; as a JDK parameter. This tells Java to use the old way for locale spesific formatting."},{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":1,"creation_date":1699227603,"post_id":53614514,"comment_id":136501523,"body_markdown":"There is probably a bug in the code above as `U+200E` is `LEFT-TO-RIGHT MARK` and `U+200F` is `RIGHT-TO-LEFT MARK`. Both bidi formatting control characters and not negative signs. My guess is that those locales use muti-character string for their negative signs and the code assumes a single character is always used so only reports the first character in the negative sign string.","body":"There is probably a bug in the code above as <code>U+200E</code> is <code>LEFT-TO-RIGHT MARK</code> and <code>U+200F</code> is <code>RIGHT-TO-LEFT MARK</code>. Both bidi formatting control characters and not negative signs. My guess is that those locales use muti-character string for their negative signs and the code assumes a single character is always used so only reports the first character in the negative sign string."},{"owner":{"account_id":873206,"reputation":49,"user_id":289543,"display_name":"HoleInVoid"},"score":0,"creation_date":1700001471,"post_id":53614514,"comment_id":136600893,"body_markdown":"Thanks for good comment and you are probably correct. But still strange that negative sign changed from Java 8 to 11? But I might be terrible wrong here due to little traffic on this issue:-)","body":"Thanks for good comment and you are probably correct. But still strange that negative sign changed from Java 8 to 11? But I might be terrible wrong here due to little traffic on this issue:-)"}],"owner":{"account_id":873206,"reputation":49,"user_id":289543,"display_name":"HoleInVoid"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1699227415,"creation_date":1543931643,"question_id":53614514,"body_markdown":"Trying to format negative number to String using:\r\n\r\n    (DecimalFormat) NumberFormat.getNumberInstance(new Locale(&quot;no&quot;)));\r\n\r\nUsing jdk-10.0.2. I have found out that Norway and some other countries are using Unicode Character &#39;MINUS SIGN&#39; (U+2212) for negative prefix, while most other countries are using Unicode Character &#39;HYPHEN-MINUS&#39; (U+002D). This is a problem as tests are failing on `.isEqualTo` and on my Mac negative prefix is always HYPHEN-MINUS. \r\n\r\nA solution I have found is to call `setNegativePrefix(&quot;-&quot;)` after getting the DecimalFormat to override the strange local negative prefixes. \r\n\r\nPlease also see workaround at Orcale (end of page) https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8214926.\r\n\r\n    @Test\r\n    public void norwegianNegativePrefixDifferentFromEnglish() throws UnsupportedEncodingException {\r\n        Assertions.assertThat(((DecimalFormat) NumberFormat.getNumberInstance(new Locale(&quot;no&quot;))).getNegativePrefix())\r\n                .isEqualTo(((DecimalFormat) NumberFormat.getNumberInstance(new Locale(&quot;en&quot;))).getNegativePrefix());\r\n    }\r\n\r\n\r\nAnyone know why? Executing this Java gives the attached results: \r\n\r\n        public void fintLocals() {\r\n        HashMap&lt;String, List&lt;String&gt;&gt; negativeSignAndLocals = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n        for (Locale locale : Locale.getAvailableLocales()) {\r\n            DecimalFormat formatForLocal = ((DecimalFormat) NumberFormat.getNumberInstance(locale));\r\n            // System.out.println(formatForLocal.getNegativePrefix()+ &quot; minus for &quot;+locale);\r\n            List&lt;String&gt; negLoc = negativeSignAndLocals.get(formatForLocal.getNegativePrefix());\r\n            if (negLoc == null) {\r\n                negativeSignAndLocals.put(formatForLocal.getNegativePrefix(), new ArrayList&lt;&gt;());\r\n            }\r\n            negativeSignAndLocals.get(formatForLocal.getNegativePrefix()).add(locale.toString());\r\n        }\r\n        for (Map.Entry&lt;String, List&lt;String&gt;&gt; entry : negativeSignAndLocals.entrySet()) {\r\n\r\n            System.out.println(&quot;Negative sign = &quot; + entry.getKey() + &quot; as Hex value &quot; + charToHex(entry.getKey().charAt(0))\r\n                    + &quot; is used by: &quot; + (String) String.join(&quot;,&quot;, entry.getValue()));\r\n        }\r\n    }\r\n\r\n    static public String byteToHex(byte b) {\r\n        // Returns hex String representation of byte b\r\n        char hexDigit[] = {\r\n                &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;,\r\n                &#39;8&#39;, &#39;9&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;\r\n        };\r\n        char[] array = {hexDigit[(b &gt;&gt; 4) &amp; 0x0f], hexDigit[b &amp; 0x0f]};\r\n        return new String(array);\r\n    }\r\n\r\n    static public String charToHex(char c) {\r\n        // Returns hex String representation of char c\r\n        byte hi = (byte) (c &gt;&gt;&gt; 8);\r\n        byte lo = (byte) (c &amp; 0xff);\r\n        return byteToHex(hi) + byteToHex(lo);\r\n    }\r\n\r\nNegative sign − as Hex value 2212 is used by: nn,sv_SE,sv,se_NO,nb_SJ,no_NO_NY,sv_FI,no,ksh,gsw_CH,et,gsw,gsw_FR,fi,et_EE,rm,nb_NO,fi_FI,rm_CH,ksh_DE,se_FI,no_NO,lt_LT,nn_NO,se_SE,se,fo_DK,fo_FO,fo,lt,gsw_LI,sv_AX,nb\r\n\r\nNegative sign - as Hex value 002d is used by: ,bg,kea,zu,am_ET,fr_DZ,ti_ET,bo_CN,hsb,qu_EC,ta_SG,lv,en_NU,zh_SG_#Hans,en_MS,en_GG,en_JM,vo,kkj,sr_ME,es_BO,dz_BT,mer,sah,en_ZM,fr_ML,br,ha_NG,bs_BA,dsb_DE,sk,os_GE,ml,en_MT,en_LR,en_GH,en_IL,cs,el,tzm_MA,af,sw_UG,ses_ML,smn,tk_TM,sr_ME_#Cyrl,dsb,lkt_US,vai_LR_#Latn,ji_001,yo_NG,khq,sw_CD,vo_001,en_PW,pl_PL,fil_PH,sr_CS,ne_IN,es_PH,es_ES,es_CO,bg_BG,ji,bs_BA_#Latn,en_VC,es_US,agq,hsb_DE,en_US_POSIX,en_150,en_KN,ha_NE,pt_MO,ebu,ro_RO,zh__#Hans,lb_LU,sr_ME_#Latn,es_GT,so_KE,dje_NE,bas_CM,fr_PM,fr_MG,es_CL,mn,agq_CM,kam_KE,teo,tr_TR,eu,en_MO,shi__#Tfng,en_BZ,sq_AL,es_DO,ru,twq_NE,az,nmg_CM,kl_GL,en_NR,nd,kk,az__#Cyrl,en_MP,en_GD,tk,hy,shi__#Latn,en_BW,en_AU,en_CY,kab_DZ,kde_TZ,ta_MY,ti_ER,nus_SS,en_RW,nd_ZW,ksb,luo,lb,ne,en_IE,zh_SG,ln_CD,en_KI,nnh_CM,om_ET,ja_JP,my,ka,mgh,or_IN,fr_MF,shi,kl,yue_HK,en_SZ,rwk_TZ,zh,es_PE,mgh_MZ,saq,az__#Latn,ta,en_GB,lag,zh_HK_#Hant,ksf_CM,bo,kk_KZ,es_PA,om_KE,en_AS,fr_VU,zh_TW,bez,kln,fr_MC,kw,pt_MZ,fr_NE,vai__#Latn,ksb_TZ,ln,en_JE,ln_CF,uz_AF,en_CX,luy_KE,pt,en_AT,gl,kkj_CM,sr__#Cyrl,es_GQ,kn_IN,to,en_SX,ga,qu,ru_KZ,en_TZ,en_PR,mua,ko_KP,in,sn,nl_SR,rof,en_BS,km,zgh,fr_NC,be,gv,es,dua,gd_GB,jgo,nl_BQ,fr_CM,uz_UZ_#Cyrl,pa_IN_#Guru,en_KE,guz,mfe,asa_TZ,teo_UG,ja,fr_SN,or,brx,fr_MA,pt_LU,fr_BL,en_NL,mgo_CM,ln_CG,te,az_AZ,sl,ko_KR,el_CY,mr_IN,ha,es_MX,es_HN,hu_HU,ff_SN,sbp,sq_MK,sr_BA_#Cyrl,uz,bs__#Cyrl,sr__#Latn,en_SS,sw,bo_IN,fy_NL,tr_CY,nmg,en_MG,fr_BI,shi_MA,uz_UZ_#Latn,bn,dua_CM,vai__#Vaii,kn,fr_TN,sr_RS,de_CH,bn_BD,nnh,fr_PF,en_ZA,gu,pt_GQ,vun_TZ,jmc_TZ,en_TV,lo,fr_FR,en_PN,pa_IN,en_MH,fr_BJ,vai_LR,zh__#Hant,cu_RU,zh_HK_#Hans,nl_NL,sah_RU,en_GY,bs__#Latn,ky,mas,dyo_SN,os,bs_BA_#Cyrl,nl_CW,sk_SK,pt_CH,fr_GQ,ff_CM,am,en_NG,fr_CI,ki_KE,en_PK,zh_CN,en_LC,rw,brx_IN,gv_IM,mk_MK,en_TT,dav,sl_SI,fr_HT,te_IN,nl_SX,ses,ce,fr_CG,fr_BE,jgo_CM,mt_MT,es_VE,mg,mr,mer_KE,ko,en_BM,ak,seh,kde,dz,kea_CV,mgo,vi_VN,en_VU,en_US,to_TO,mfe_MU,seh_MZ,fr_BF,pa__#Guru,it_SM,fr_YT,gu_IN,ii_CN,ast,fr_RE,ca_FR,sr_BA_#Latn,bn_IN,fr_GP,pa,zgh_MA,uk_UA,fr_DJ,rn,rwk,hu,fr_CH,en_NF,twq,ha_GH,sr_XK_#Cyrl,bm,en_GU,nl_AW,de_BE,en_AI,en_CM,xog_UG,cs_CZ,tr,ca_ES,cgg,nyn_UG,ru_MD,ms_MY,ta_LK,ksf,en_TO,cy,en_PG,fr_CF,pt_TL,sq,fr,en_ER,qu_PE,sr_BA,es_PY,de,es_EC,kok_IN,lg_UG,zu_ZA,fr_TG,sr_XK_#Latn,en_PH,ig_NG,fr_GN,prg_001,cgg_UG,zh_MO_#Hans,lg,ru_RU,ff,en_DM,en_CK,ga_IE,en_BI,en_AG,fr_TD,en_WS,fr_LU,ebu_KE,bem_ZM,xog,ewo_CM,fr_CD,so,rn_BI,en_NA,kab,ms,nus,sn_ZW,prg,ug,es_EA,th_TH_TH_#u-nu-thai,hi,fr_SC,ca_IT,lag_TZ,en_SL,teo_KE,ca_AD,zh_MO_#Hant,en_SH,vai,qu_BO,haw_US,vi,fr_CA,de_LU,sq_XK,dyo,en_KY,mt,it_CH,de_DE,si_LK,luo_KE,en_DK,yav,so_DJ,it_IT,eo,kam,en_ZW,ro,eo_001,ee,en_UM,fr_MU,pl,en_TK,en_SI,mua_CM,vai_LR_#Vaii,saq_KE,pt_GW,lo_LA,chr,af_ZA,ms_SG,ee_TG,ln_AO,be_BY,ff_GN,in_ID,hr_HR,luy,as,rof_TZ,it,pt_CV,uk,my_MM,mn_MN,da_DK,en_FM,es_PR,wae_CH,en_BE,ii,fr_WF,ru_BY,naq,en_SG,ee_GH,kln_KE,tzm,fur,om,hi_IN,en_CH,asa,yo_BJ,ast_ES,fr_KM,bez_TZ,fr_MQ,en_SD,es_AR,en_MY,ja_JP_JP_#u-ca-japanese,es_SV,pt_BR,ml_IN,sbp_TZ,fil,en_FK,uz__#Cyrl,is_IS,hy_AM,en_GM,en_DG,ne_NP,hr,pt_ST,ak_GH,fur_IT,ta_IN,en_SE,fr_GF,lkt,zh_CN_#Hans,is,es_419,si,pt_AO,en_001,en,guz_KE,es_IC,ca,ru_KG,fr_MR,zh_TW_#Hant,bm_ML,pa_PK,kw_GB,ug_CN,as_IN,es_BR,zh_HK,khq_ML,sw_KE,en_SB,th_TH,rw_RW,chr_US,shi_MA_#Tfng,nyn,yue,jmc,en_MW,naq_NA,mk,en_IO,en_DE,en_CC,bs,ro_MD,en_FI,pt_PT,fy,az_AZ_#Cyrl,th,dav_KE,uz_UZ,shi_MA_#Latn,es_CU,en_SC,en_VI,haw,eu_ES,en_UG,en_NZ,dje,es_UY,bas,mas_KE,ru_UA,sg_CF,el_GR,yav_CM,uz__#Latn,sg,da_GL,en_FJ,de_LI,en_BB,km_KH,smn_FI,hr_BA,de_AT,nl,lu_CD,ca_ES_VALENCIA,so_SO,lv_LV,es_CR,fr_GA,sr,sr_RS_#Cyrl,bem,en_MU,da,wae,gl_ES,en_IM,az_AZ_#Latn,en_LS,ig,en_HK,en_GI,ce_RU,en_CA,gd,ka_GE,fr_SY,sw_TZ,fr_RW,so_ET,nl_BE,mg_MG,cy_GB,en_VG,cu,os_RU,sr_RS_#Latn,en_TC,ky_KG,af_NA,vun,en_IN,lu,ki,yo,es_NI,ff_MR,mas_TZ,ti,kok,ewo,ms_BN,br_FR\r\n\r\nNegative sign ‎ as Hex value 200e is used by: fa_AF,ar_EH,fa_IR,ar_MR,fa,ur_IN,ps,lrc_IR,lrc_IQ,ps_AF,ar_DZ,iw,lrc,pa_PK_#Arab,ar_MA,iw_IL,ur,uz__#Arab,ar_LB,ks_IN,ur_PK,mzn,mzn_IR,uz_AF_#Arab,ar_TN,ks,pa__#Arab,ar_LY\r\n\r\nNegative sign ‏ as Hex value 200f is used by: ar_JO,ar_SA,ar_TD,ar_EG,ar_SD,ar_KM,ar_IL,ar_SY,ar_PS,ar_YE,ar_OM,ar_SS,ar_ER,ar_SO,ar_AE,ar_BH,ar_IQ,ar_QA,ckb_IQ,ar,ckb_IR,ar_001,ckb,ar_KW,ar_DJ","title":"Java NumberFormat.getNumberInstance(Locale) inconsistent for negativePrefix","body":"<p>Trying to format negative number to String using:</p>\n<pre><code>(DecimalFormat) NumberFormat.getNumberInstance(new Locale(&quot;no&quot;)));\n</code></pre>\n<p>Using jdk-10.0.2. I have found out that Norway and some other countries are using Unicode Character 'MINUS SIGN' (U+2212) for negative prefix, while most other countries are using Unicode Character 'HYPHEN-MINUS' (U+002D). This is a problem as tests are failing on <code>.isEqualTo</code> and on my Mac negative prefix is always HYPHEN-MINUS.</p>\n<p>A solution I have found is to call <code>setNegativePrefix(&quot;-&quot;)</code> after getting the DecimalFormat to override the strange local negative prefixes.</p>\n<p>Please also see workaround at Orcale (end of page) <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8214926\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8214926</a>.</p>\n<pre><code>@Test\npublic void norwegianNegativePrefixDifferentFromEnglish() throws UnsupportedEncodingException {\n    Assertions.assertThat(((DecimalFormat) NumberFormat.getNumberInstance(new Locale(&quot;no&quot;))).getNegativePrefix())\n            .isEqualTo(((DecimalFormat) NumberFormat.getNumberInstance(new Locale(&quot;en&quot;))).getNegativePrefix());\n}\n</code></pre>\n<p>Anyone know why? Executing this Java gives the attached results:</p>\n<pre><code>    public void fintLocals() {\n    HashMap&lt;String, List&lt;String&gt;&gt; negativeSignAndLocals = new HashMap&lt;String, List&lt;String&gt;&gt;();\n    for (Locale locale : Locale.getAvailableLocales()) {\n        DecimalFormat formatForLocal = ((DecimalFormat) NumberFormat.getNumberInstance(locale));\n        // System.out.println(formatForLocal.getNegativePrefix()+ &quot; minus for &quot;+locale);\n        List&lt;String&gt; negLoc = negativeSignAndLocals.get(formatForLocal.getNegativePrefix());\n        if (negLoc == null) {\n            negativeSignAndLocals.put(formatForLocal.getNegativePrefix(), new ArrayList&lt;&gt;());\n        }\n        negativeSignAndLocals.get(formatForLocal.getNegativePrefix()).add(locale.toString());\n    }\n    for (Map.Entry&lt;String, List&lt;String&gt;&gt; entry : negativeSignAndLocals.entrySet()) {\n\n        System.out.println(&quot;Negative sign = &quot; + entry.getKey() + &quot; as Hex value &quot; + charToHex(entry.getKey().charAt(0))\n                + &quot; is used by: &quot; + (String) String.join(&quot;,&quot;, entry.getValue()));\n    }\n}\n\nstatic public String byteToHex(byte b) {\n    // Returns hex String representation of byte b\n    char hexDigit[] = {\n            '0', '1', '2', '3', '4', '5', '6', '7',\n            '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'\n    };\n    char[] array = {hexDigit[(b &gt;&gt; 4) &amp; 0x0f], hexDigit[b &amp; 0x0f]};\n    return new String(array);\n}\n\nstatic public String charToHex(char c) {\n    // Returns hex String representation of char c\n    byte hi = (byte) (c &gt;&gt;&gt; 8);\n    byte lo = (byte) (c &amp; 0xff);\n    return byteToHex(hi) + byteToHex(lo);\n}\n</code></pre>\n<p>Negative sign − as Hex value 2212 is used by: nn,sv_SE,sv,se_NO,nb_SJ,no_NO_NY,sv_FI,no,ksh,gsw_CH,et,gsw,gsw_FR,fi,et_EE,rm,nb_NO,fi_FI,rm_CH,ksh_DE,se_FI,no_NO,lt_LT,nn_NO,se_SE,se,fo_DK,fo_FO,fo,lt,gsw_LI,sv_AX,nb</p>\n<p>Negative sign - as Hex value 002d is used by: ,bg,kea,zu,am_ET,fr_DZ,ti_ET,bo_CN,hsb,qu_EC,ta_SG,lv,en_NU,zh_SG_#Hans,en_MS,en_GG,en_JM,vo,kkj,sr_ME,es_BO,dz_BT,mer,sah,en_ZM,fr_ML,br,ha_NG,bs_BA,dsb_DE,sk,os_GE,ml,en_MT,en_LR,en_GH,en_IL,cs,el,tzm_MA,af,sw_UG,ses_ML,smn,tk_TM,sr_ME_#Cyrl,dsb,lkt_US,vai_LR_#Latn,ji_001,yo_NG,khq,sw_CD,vo_001,en_PW,pl_PL,fil_PH,sr_CS,ne_IN,es_PH,es_ES,es_CO,bg_BG,ji,bs_BA_#Latn,en_VC,es_US,agq,hsb_DE,en_US_POSIX,en_150,en_KN,ha_NE,pt_MO,ebu,ro_RO,zh__#Hans,lb_LU,sr_ME_#Latn,es_GT,so_KE,dje_NE,bas_CM,fr_PM,fr_MG,es_CL,mn,agq_CM,kam_KE,teo,tr_TR,eu,en_MO,shi__#Tfng,en_BZ,sq_AL,es_DO,ru,twq_NE,az,nmg_CM,kl_GL,en_NR,nd,kk,az__#Cyrl,en_MP,en_GD,tk,hy,shi__#Latn,en_BW,en_AU,en_CY,kab_DZ,kde_TZ,ta_MY,ti_ER,nus_SS,en_RW,nd_ZW,ksb,luo,lb,ne,en_IE,zh_SG,ln_CD,en_KI,nnh_CM,om_ET,ja_JP,my,ka,mgh,or_IN,fr_MF,shi,kl,yue_HK,en_SZ,rwk_TZ,zh,es_PE,mgh_MZ,saq,az__#Latn,ta,en_GB,lag,zh_HK_#Hant,ksf_CM,bo,kk_KZ,es_PA,om_KE,en_AS,fr_VU,zh_TW,bez,kln,fr_MC,kw,pt_MZ,fr_NE,vai__#Latn,ksb_TZ,ln,en_JE,ln_CF,uz_AF,en_CX,luy_KE,pt,en_AT,gl,kkj_CM,sr__#Cyrl,es_GQ,kn_IN,to,en_SX,ga,qu,ru_KZ,en_TZ,en_PR,mua,ko_KP,in,sn,nl_SR,rof,en_BS,km,zgh,fr_NC,be,gv,es,dua,gd_GB,jgo,nl_BQ,fr_CM,uz_UZ_#Cyrl,pa_IN_#Guru,en_KE,guz,mfe,asa_TZ,teo_UG,ja,fr_SN,or,brx,fr_MA,pt_LU,fr_BL,en_NL,mgo_CM,ln_CG,te,az_AZ,sl,ko_KR,el_CY,mr_IN,ha,es_MX,es_HN,hu_HU,ff_SN,sbp,sq_MK,sr_BA_#Cyrl,uz,bs__#Cyrl,sr__#Latn,en_SS,sw,bo_IN,fy_NL,tr_CY,nmg,en_MG,fr_BI,shi_MA,uz_UZ_#Latn,bn,dua_CM,vai__#Vaii,kn,fr_TN,sr_RS,de_CH,bn_BD,nnh,fr_PF,en_ZA,gu,pt_GQ,vun_TZ,jmc_TZ,en_TV,lo,fr_FR,en_PN,pa_IN,en_MH,fr_BJ,vai_LR,zh__#Hant,cu_RU,zh_HK_#Hans,nl_NL,sah_RU,en_GY,bs__#Latn,ky,mas,dyo_SN,os,bs_BA_#Cyrl,nl_CW,sk_SK,pt_CH,fr_GQ,ff_CM,am,en_NG,fr_CI,ki_KE,en_PK,zh_CN,en_LC,rw,brx_IN,gv_IM,mk_MK,en_TT,dav,sl_SI,fr_HT,te_IN,nl_SX,ses,ce,fr_CG,fr_BE,jgo_CM,mt_MT,es_VE,mg,mr,mer_KE,ko,en_BM,ak,seh,kde,dz,kea_CV,mgo,vi_VN,en_VU,en_US,to_TO,mfe_MU,seh_MZ,fr_BF,pa__#Guru,it_SM,fr_YT,gu_IN,ii_CN,ast,fr_RE,ca_FR,sr_BA_#Latn,bn_IN,fr_GP,pa,zgh_MA,uk_UA,fr_DJ,rn,rwk,hu,fr_CH,en_NF,twq,ha_GH,sr_XK_#Cyrl,bm,en_GU,nl_AW,de_BE,en_AI,en_CM,xog_UG,cs_CZ,tr,ca_ES,cgg,nyn_UG,ru_MD,ms_MY,ta_LK,ksf,en_TO,cy,en_PG,fr_CF,pt_TL,sq,fr,en_ER,qu_PE,sr_BA,es_PY,de,es_EC,kok_IN,lg_UG,zu_ZA,fr_TG,sr_XK_#Latn,en_PH,ig_NG,fr_GN,prg_001,cgg_UG,zh_MO_#Hans,lg,ru_RU,ff,en_DM,en_CK,ga_IE,en_BI,en_AG,fr_TD,en_WS,fr_LU,ebu_KE,bem_ZM,xog,ewo_CM,fr_CD,so,rn_BI,en_NA,kab,ms,nus,sn_ZW,prg,ug,es_EA,th_TH_TH_#u-nu-thai,hi,fr_SC,ca_IT,lag_TZ,en_SL,teo_KE,ca_AD,zh_MO_#Hant,en_SH,vai,qu_BO,haw_US,vi,fr_CA,de_LU,sq_XK,dyo,en_KY,mt,it_CH,de_DE,si_LK,luo_KE,en_DK,yav,so_DJ,it_IT,eo,kam,en_ZW,ro,eo_001,ee,en_UM,fr_MU,pl,en_TK,en_SI,mua_CM,vai_LR_#Vaii,saq_KE,pt_GW,lo_LA,chr,af_ZA,ms_SG,ee_TG,ln_AO,be_BY,ff_GN,in_ID,hr_HR,luy,as,rof_TZ,it,pt_CV,uk,my_MM,mn_MN,da_DK,en_FM,es_PR,wae_CH,en_BE,ii,fr_WF,ru_BY,naq,en_SG,ee_GH,kln_KE,tzm,fur,om,hi_IN,en_CH,asa,yo_BJ,ast_ES,fr_KM,bez_TZ,fr_MQ,en_SD,es_AR,en_MY,ja_JP_JP_#u-ca-japanese,es_SV,pt_BR,ml_IN,sbp_TZ,fil,en_FK,uz__#Cyrl,is_IS,hy_AM,en_GM,en_DG,ne_NP,hr,pt_ST,ak_GH,fur_IT,ta_IN,en_SE,fr_GF,lkt,zh_CN_#Hans,is,es_419,si,pt_AO,en_001,en,guz_KE,es_IC,ca,ru_KG,fr_MR,zh_TW_#Hant,bm_ML,pa_PK,kw_GB,ug_CN,as_IN,es_BR,zh_HK,khq_ML,sw_KE,en_SB,th_TH,rw_RW,chr_US,shi_MA_#Tfng,nyn,yue,jmc,en_MW,naq_NA,mk,en_IO,en_DE,en_CC,bs,ro_MD,en_FI,pt_PT,fy,az_AZ_#Cyrl,th,dav_KE,uz_UZ,shi_MA_#Latn,es_CU,en_SC,en_VI,haw,eu_ES,en_UG,en_NZ,dje,es_UY,bas,mas_KE,ru_UA,sg_CF,el_GR,yav_CM,uz__#Latn,sg,da_GL,en_FJ,de_LI,en_BB,km_KH,smn_FI,hr_BA,de_AT,nl,lu_CD,ca_ES_VALENCIA,so_SO,lv_LV,es_CR,fr_GA,sr,sr_RS_#Cyrl,bem,en_MU,da,wae,gl_ES,en_IM,az_AZ_#Latn,en_LS,ig,en_HK,en_GI,ce_RU,en_CA,gd,ka_GE,fr_SY,sw_TZ,fr_RW,so_ET,nl_BE,mg_MG,cy_GB,en_VG,cu,os_RU,sr_RS_#Latn,en_TC,ky_KG,af_NA,vun,en_IN,lu,ki,yo,es_NI,ff_MR,mas_TZ,ti,kok,ewo,ms_BN,br_FR</p>\n<p>Negative sign ‎ as Hex value 200e is used by: fa_AF,ar_EH,fa_IR,ar_MR,fa,ur_IN,ps,lrc_IR,lrc_IQ,ps_AF,ar_DZ,iw,lrc,pa_PK_#Arab,ar_MA,iw_IL,ur,uz__#Arab,ar_LB,ks_IN,ur_PK,mzn,mzn_IR,uz_AF_#Arab,ar_TN,ks,pa__#Arab,ar_LY</p>\n<p>Negative sign ‏ as Hex value 200f is used by: ar_JO,ar_SA,ar_TD,ar_EG,ar_SD,ar_KM,ar_IL,ar_SY,ar_PS,ar_YE,ar_OM,ar_SS,ar_ER,ar_SO,ar_AE,ar_BH,ar_IQ,ar_QA,ckb_IQ,ar,ckb_IR,ar_001,ckb,ar_KW,ar_DJ</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1671534250,"post_id":74861789,"comment_id":132115127,"body_markdown":"The universal repository already exists in JPA: `javax.persistence.EntityManager#find(java.lang.Class&lt;T&gt;, java.lang.Object)`","body":"The universal repository already exists in JPA: <code>javax.persistence.EntityManager#find(java.lang.Class&lt;T&gt;, java.lang.Object)</code>"},{"owner":{"account_id":5704563,"reputation":1278,"user_id":4508555,"accept_rate":80,"display_name":"Joniras"},"score":0,"creation_date":1671534532,"post_id":74861789,"comment_id":132115220,"body_markdown":"This would still require a Class where i have the entityManager and i can also not create Queries (like findByIdAndName) with other fields, right?","body":"This would still require a Class where i have the entityManager and i can also not create Queries (like findByIdAndName) with other fields, right?"},{"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"score":1,"creation_date":1671544748,"post_id":74861789,"comment_id":132118605,"body_markdown":"what&#39;s the problem using ```extends JpaRepository&lt;Entity, IdType&gt;&#39;","body":"what&#39;s the problem using ```extends JpaRepository&lt;Entity, IdType&gt;&#39;"},{"owner":{"account_id":5704563,"reputation":1278,"user_id":4508555,"accept_rate":80,"display_name":"Joniras"},"score":0,"creation_date":1671638372,"post_id":74861789,"comment_id":132142830,"body_markdown":"This actually solves a portion of the Problem, thats true. Nevertheless i cannot produce queries with other fields. like findByIdAndType(K id, String type). if the jparepository can build such queries, why cant I?","body":"This actually solves a portion of the Problem, thats true. Nevertheless i cannot produce queries with other fields. like findByIdAndType(K id, String type). if the jparepository can build such queries, why cant I?"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1699227263,"creation_date":1671682864,"answer_id":74884096,"question_id":74861789,"body_markdown":"The idea of retrieving JPA entities via &quot;id query&quot; is not so good as you might think, the main problem is that is much slower, especially when you are hitting the same entity within transaction multiple times: if flush mode is set to AUTO (which is actually the reasonable default) Hibernate needs to perform dirty checking and flush changes into database before executing JPQL query, moreover, Hibernate doesn&#39;t guarantee that entities, retrieved via &quot;id query&quot; are not actually stale - if entity was already present in persistence context Hibernate basically ignores DB data.\r\n\r\nThe best way to retrieve entities by id is to call `EntityManager#find(java.lang.Class&lt;T&gt;, java.lang.Object)` method, which in turn backs up `CrudRepository#findById` method, so, yours `findByIdAndType(K id, String type)` should actually look like:\r\n\r\n\r\n```\r\ndefault Optional&lt;T&gt; findByIdAndType(K id, String type) {\r\n\treturn findById(id)\r\n\t\t\t.filter(e -&gt; Objects.equals(e.getType(), type));\r\n}\r\n```\r\n\r\nHowever, the desire to place some kind of `id` placeholder in JQPL query is not so bad - one of it&#39;s applications could be preserving order stability in queries with pagination. I would suggest you to file corresponding CR to `spring-data` project.","title":"JPA Query with several different @Id columns","body":"<p>The idea of retrieving JPA entities via &quot;id query&quot; is not so good as you might think, the main problem is that is much slower, especially when you are hitting the same entity within transaction multiple times: if flush mode is set to AUTO (which is actually the reasonable default) Hibernate needs to perform dirty checking and flush changes into database before executing JPQL query, moreover, Hibernate doesn't guarantee that entities, retrieved via &quot;id query&quot; are not actually stale - if entity was already present in persistence context Hibernate basically ignores DB data.</p>\n<p>The best way to retrieve entities by id is to call <code>EntityManager#find(java.lang.Class&lt;T&gt;, java.lang.Object)</code> method, which in turn backs up <code>CrudRepository#findById</code> method, so, yours <code>findByIdAndType(K id, String type)</code> should actually look like:</p>\n<pre><code>default Optional&lt;T&gt; findByIdAndType(K id, String type) {\n    return findById(id)\n            .filter(e -&gt; Objects.equals(e.getType(), type));\n}\n</code></pre>\n<p>However, the desire to place some kind of <code>id</code> placeholder in JQPL query is not so bad - one of it's applications could be preserving order stability in queries with pagination. I would suggest you to file corresponding CR to <code>spring-data</code> project.</p>\n"}],"owner":{"account_id":5704563,"reputation":1278,"user_id":4508555,"accept_rate":80,"display_name":"Joniras"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74884096,"answer_count":1,"score":1,"last_activity_date":1699227263,"creation_date":1671532806,"question_id":74861789,"body_markdown":"# Problem\r\nTo make my code cleaner i want to introduce a generic Repository that each Repository could extend and therefore reduce the code i have to have in each of them. The problem is, that the Ids differ from Class to Class. On one (see example below) it would be `id` and in the other `randomNumber` and on the other may even be an @EmbeddedId. I want to have a derived (or non derived) query in the respository that gets One by id.\r\n\r\n## Preferred solution\r\nI Imagine having something like:\r\n\r\n```java \r\npublic interface IUniversalRepository&lt;T, K&gt;{\r\n    @Query(&quot;select t from # {#entityName} where @id = ?1&quot;)\r\n    public T findById(K id);\r\n}\r\n```\r\n\r\n\r\n# Ecample Code \r\n#### (that does not work because attribute `id` cannot be found on Settings)\r\n```java\r\npublic interface IUniversalRepository&lt;T, K&gt;{\r\n    //should return the object with the id, reagardless of the column name\r\n    public T findById(K id);\r\n}\r\n```\r\n\r\n```java \r\n// two example classes with different @Id fields\r\npublic class TaxRate {\r\n\r\n    @Id\r\n    @Column()\r\n    private Integer id;\r\n\r\n    ...\r\n}\r\n\r\npublic class Settings{\r\n\r\n    @Id\r\n    @Column() //cannot rename this column because it has to be named exactly as it is for backup reason\r\n    private String randomNumber;\r\n\r\n    ...\r\n}\r\n```\r\n\r\n```java\r\n// the Repository would be used like this\r\npublic interface TaxRateRepository extends IUniversalRepository&lt;TaxRate, Integer&gt; {\r\n}\r\n\r\npublic interface SettingsRepository extends IUniversalRepository&lt;TaxRate, String&gt; {\r\n}\r\n```\r\n\r\nHappy for suggestions.","title":"JPA Query with several different @Id columns","body":"<h1>Problem</h1>\n<p>To make my code cleaner i want to introduce a generic Repository that each Repository could extend and therefore reduce the code i have to have in each of them. The problem is, that the Ids differ from Class to Class. On one (see example below) it would be <code>id</code> and in the other <code>randomNumber</code> and on the other may even be an @EmbeddedId. I want to have a derived (or non derived) query in the respository that gets One by id.</p>\n<h2>Preferred solution</h2>\n<p>I Imagine having something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface IUniversalRepository&lt;T, K&gt;{\n    @Query(&quot;select t from # {#entityName} where @id = ?1&quot;)\n    public T findById(K id);\n}\n</code></pre>\n<h1>Ecample Code</h1>\n<h4>(that does not work because attribute <code>id</code> cannot be found on Settings)</h4>\n<pre class=\"lang-java prettyprint-override\"><code>public interface IUniversalRepository&lt;T, K&gt;{\n    //should return the object with the id, reagardless of the column name\n    public T findById(K id);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// two example classes with different @Id fields\npublic class TaxRate {\n\n    @Id\n    @Column()\n    private Integer id;\n\n    ...\n}\n\npublic class Settings{\n\n    @Id\n    @Column() //cannot rename this column because it has to be named exactly as it is for backup reason\n    private String randomNumber;\n\n    ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// the Repository would be used like this\npublic interface TaxRateRepository extends IUniversalRepository&lt;TaxRate, Integer&gt; {\n}\n\npublic interface SettingsRepository extends IUniversalRepository&lt;TaxRate, String&gt; {\n}\n</code></pre>\n<p>Happy for suggestions.</p>\n"},{"tags":["java","wpf","swing","look-and-feel"],"answers":[{"tags":[],"owner":{"account_id":107337,"reputation":1,"user_id":285465,"accept_rate":80,"display_name":"TomTom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699226103,"creation_date":1292586292,"answer_id":4470123,"question_id":4470081,"body_markdown":"&gt; I can change it manually, by adopting\r\n&gt; manually crated styles on various\r\n&gt; controls...\r\n\r\nDepends how smart you were developing it.\r\n\r\nNormal WPF controls have no look at all - to start with. They use INHERITED STYLES, which you can override. If you override them manually, as you said, on various controls, you basically willfully ignore the inheritance. Just put in a new style catalogue at the root of the inheritance tree.","title":"Change look and feel in WPF application?","body":"<blockquote>\n<p>I can change it manually, by adopting\nmanually crated styles on various\ncontrols...</p>\n</blockquote>\n<p>Depends how smart you were developing it.</p>\n<p>Normal WPF controls have no look at all - to start with. They use INHERITED STYLES, which you can override. If you override them manually, as you said, on various controls, you basically willfully ignore the inheritance. Just put in a new style catalogue at the root of the inheritance tree.</p>\n"},{"tags":[],"owner":{"account_id":211836,"reputation":12869,"user_id":464250,"display_name":"as-cii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1292586468,"creation_date":1292586468,"answer_id":4470142,"question_id":4470081,"body_markdown":"I don&#39;t know if I have well understood the question but in [WPF Toolkit][1] there are some themes that allows you to change quickly your application interface.\r\n\r\n\r\n  [1]: http://wpf.codeplex.com/wikipage?title=WPF%20Themes&amp;referringTitle=Home","title":"Change look and feel in WPF application?","body":"<p>I don't know if I have well understood the question but in <a href=\"http://wpf.codeplex.com/wikipage?title=WPF%20Themes&amp;referringTitle=Home\" rel=\"nofollow\">WPF Toolkit</a> there are some themes that allows you to change quickly your application interface.</p>\n"}],"owner":{"account_id":247145,"reputation":585,"user_id":521683,"accept_rate":83,"display_name":"Dejan Stuparic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":929,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4470142,"answer_count":2,"score":2,"last_activity_date":1699226103,"creation_date":1292585963,"question_id":4470081,"body_markdown":"Is there easy way to change look and feel of your WPF app, just like in Java Swing?\r\n\r\nI can change it manually, by adopting manually crated styles on various controls...","title":"Change look and feel in WPF application?","body":"<p>Is there easy way to change look and feel of your WPF app, just like in Java Swing?</p>\n\n<p>I can change it manually, by adopting manually crated styles on various controls...</p>\n"},{"tags":["java","annotations","openapi-generator","java-module"],"answers":[{"tags":[],"owner":{"account_id":8448295,"reputation":702,"user_id":6338085,"display_name":"David Miller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699226081,"creation_date":1699223136,"answer_id":77427889,"question_id":77427878,"body_markdown":"**Solution**\r\n\r\nMove from javax.annotation to jakarta.annotation in source code:\r\n\r\n    @jakarta.annotation.Generated\r\n    @jakarta.annotation.Nonnull\r\n    @jakarta.annotation.Nullable\r\n\r\nand in my build.gradle include this dependency:\r\n\r\n   \r\n\r\n    \r\n    \r\n    dependencies {\r\n     implementation &#39;one.gfw:jakarta.annotation-api:2.1.1&#39;\r\n    }\r\n\r\nAnd in my module-info.java I included:\r\n\r\n    requires jakarta.annotation;\r\n\r\nn.b. The other dependency I found `jakarta.annotation:jakarta.annotation-api:1.3.5` didn&#39;t have all the annotations I wanted, only @javax.annotation.Generated and not Nonnull &amp; Nullable, and so I used `one.gfw:jakarta.annotation-api:2.1.1` \r\n\r\n-------------------------------------------------------------------------\r\nAs an aside, my source code was generated by the OpenAPI generator and I included the option `useJakartaEe: &#39;true&#39;` in the generator&#39;s config to generate &quot;jakarta.annotation&quot; in place of &quot;javax.annotation&quot;. In my OpenAPI generator&#39;s project - separate from the above project - here&#39;s my config in its build.gradle:\r\n\r\n    openApiGenerate {\r\n     generatorName  = &quot;java&quot;\r\n     inputSpec      = &quot;${rootDir}/specs/${project.specName}&quot;\r\n     outputDir      = &quot;${buildDir}/${project.apiName}&quot;\r\n     apiPackage     = &quot;${project.packageName}.controllers&quot;\r\n     modelPackage   = &quot;${project.packageName}.models&quot;\r\n     configOptions.set([\r\n      dateLibrary: &quot;java8&quot;,\r\n      useJakartaEe: &#39;true&#39;\r\n    ])\r\n    }\r\n\r\nHope this helps.\r\n\r\n","title":"module reads package javax.annotation from both jsr305 and java.annotation","body":"<p><strong>Solution</strong></p>\n<p>Move from javax.annotation to jakarta.annotation in source code:</p>\n<pre><code>@jakarta.annotation.Generated\n@jakarta.annotation.Nonnull\n@jakarta.annotation.Nullable\n</code></pre>\n<p>and in my build.gradle include this dependency:</p>\n<pre><code>dependencies {\n implementation 'one.gfw:jakarta.annotation-api:2.1.1'\n}\n</code></pre>\n<p>And in my module-info.java I included:</p>\n<pre><code>requires jakarta.annotation;\n</code></pre>\n<p>n.b. The other dependency I found <code>jakarta.annotation:jakarta.annotation-api:1.3.5</code> didn't have all the annotations I wanted, only @javax.annotation.Generated and not Nonnull &amp; Nullable, and so I used <code>one.gfw:jakarta.annotation-api:2.1.1</code></p>\n<hr />\n<p>As an aside, my source code was generated by the OpenAPI generator and I included the option <code>useJakartaEe: 'true'</code> in the generator's config to generate &quot;jakarta.annotation&quot; in place of &quot;javax.annotation&quot;. In my OpenAPI generator's project - separate from the above project - here's my config in its build.gradle:</p>\n<pre><code>openApiGenerate {\n generatorName  = &quot;java&quot;\n inputSpec      = &quot;${rootDir}/specs/${project.specName}&quot;\n outputDir      = &quot;${buildDir}/${project.apiName}&quot;\n apiPackage     = &quot;${project.packageName}.controllers&quot;\n modelPackage   = &quot;${project.packageName}.models&quot;\n configOptions.set([\n  dateLibrary: &quot;java8&quot;,\n  useJakartaEe: 'true'\n])\n}\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":8448295,"reputation":702,"user_id":6338085,"display_name":"David Miller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699226081,"creation_date":1699222913,"question_id":77427878,"body_markdown":"I go the error message:\r\n\r\n    module reads package javax.annotation from both jsr305 and java.annotation\r\n\r\nIn my build.gradle I used these dependencies:`\r\n\r\n    implementation &quot;javax.annotation:jsr305:1.0&quot;                  //  for @javax.annotation.Nonnull &amp; Nullable\r\n    implementation &quot;javax.annotation:javax.annotation-api:1.3.2&quot;  //  for @javax.annotation.Generated`\r\n\r\nIn my OpenAPI generated source these annotations are used:\r\n\r\n    @javax.annotation.Nonnull &amp; Nullable`\r\n    @javax.annotation.Generated`\r\n\r\n\r\nI tried to use an exclude but it didn&#39;t work:\r\n\r\n    implementation (&#39;javax.annotation:jsr305:1.0&#39;) {  \r\n      exclude group:&quot;javax.annotation&quot;, module: &quot;javax.annotation-api&quot; \r\n    }","title":"module reads package javax.annotation from both jsr305 and java.annotation","body":"<p>I go the error message:</p>\n<pre><code>module reads package javax.annotation from both jsr305 and java.annotation\n</code></pre>\n<p>In my build.gradle I used these dependencies:`</p>\n<pre><code>implementation &quot;javax.annotation:jsr305:1.0&quot;                  //  for @javax.annotation.Nonnull &amp; Nullable\nimplementation &quot;javax.annotation:javax.annotation-api:1.3.2&quot;  //  for @javax.annotation.Generated`\n</code></pre>\n<p>In my OpenAPI generated source these annotations are used:</p>\n<pre><code>@javax.annotation.Nonnull &amp; Nullable`\n@javax.annotation.Generated`\n</code></pre>\n<p>I tried to use an exclude but it didn't work:</p>\n<pre><code>implementation ('javax.annotation:jsr305:1.0') {  \n  exclude group:&quot;javax.annotation&quot;, module: &quot;javax.annotation-api&quot; \n}\n</code></pre>\n"},{"tags":["java","maven","sonarqube","maven-toolchains-plugin"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1635939674,"post_id":69823845,"comment_id":123424132,"body_markdown":"Wouldn&#39;t it be better to configure Java 8 just for the maven compile plugin? Then the build could run on Java 11 in both cases.","body":"Wouldn&#39;t it be better to configure Java 8 just for the maven compile plugin? Then the build could run on Java 11 in both cases."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635941671,"post_id":69823845,"comment_id":123424954,"body_markdown":"Use JDK11 for build and define `--release` or via `maven.compiler.release` the target for the class files...that works perfectly fine...is easier etc. I would even think to go to build with JDK17 instead of JDK11...","body":"Use JDK11 for build and define <code>--release</code> or via <code>maven.compiler.release</code> the target for the class files...that works perfectly fine...is easier etc. I would even think to go to build with JDK17 instead of JDK11..."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1635962365,"post_id":69823845,"comment_id":123434250,"body_markdown":"This is exactly the situation we have to deal with in our enterprise, and from my initial research, I believe (without testing yet) that the previous comment illustrates the basic strategy that should likely work. Note that you can also set the &quot;release&quot; property in the configuration of &quot;maven-compiler-plugin&quot;, instead of setting the &quot;target&quot; and &quot;source&quot;.","body":"This is exactly the situation we have to deal with in our enterprise, and from my initial research, I believe (without testing yet) that the previous comment illustrates the basic strategy that should likely work. Note that you can also set the &quot;release&quot; property in the configuration of &quot;maven-compiler-plugin&quot;, instead of setting the &quot;target&quot; and &quot;source&quot;."},{"owner":{"account_id":1857600,"reputation":555,"user_id":2641727,"accept_rate":100,"display_name":"abbasdgr8"},"score":0,"creation_date":1636005040,"post_id":69823845,"comment_id":123443811,"body_markdown":"Are you running mvn clean install from your IDE or from the terminal?","body":"Are you running mvn clean install from your IDE or from the terminal?"},{"owner":{"account_id":2188149,"reputation":1083,"user_id":1936023,"accept_rate":52,"display_name":"satish marathe"},"score":0,"creation_date":1636070561,"post_id":69823845,"comment_id":123466440,"body_markdown":"from the command prompt","body":"from the command prompt"}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635938802,"creation_date":1635938381,"answer_id":69823939,"question_id":69823845,"body_markdown":"You can run your project on java 11 also.\r\nIt will run java 8 code no problem for 99% of the cases.\r\nThis is what I would do. Therefore, upgrading the projects java version seems to be the easiest solution.\r\n\r\nIf this does not work, check out this [answer][1]\r\n\r\nAlso, if you need to be able to quickly change JVM versions for various tasks and in various folders, you can use this [tool][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/20787334/2599899\r\n  [2]: https://reflectoring.io/manage-jdks-with-jenv/","title":"force maven to use different java version","body":"<p>You can run your project on java 11 also.\nIt will run java 8 code no problem for 99% of the cases.\nThis is what I would do. Therefore, upgrading the projects java version seems to be the easiest solution.</p>\n<p>If this does not work, check out this <a href=\"https://stackoverflow.com/a/20787334/2599899\">answer</a></p>\n<p>Also, if you need to be able to quickly change JVM versions for various tasks and in various folders, you can use this <a href=\"https://reflectoring.io/manage-jdks-with-jenv/\" rel=\"nofollow noreferrer\">tool</a></p>\n"},{"tags":[],"owner":{"account_id":21401283,"reputation":21,"user_id":15763374,"display_name":"Markus Hoffrogge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699226069,"creation_date":1699216827,"answer_id":77427601,"question_id":69823845,"body_markdown":"There are two main aspects to understand:\r\n\r\n 1. The Maven toolchains plugin enables us to **separate** the JDK/JRE version being used for the projects **building Maven plugin execution runtime** from the JDK version being used to compile AND to run the surefire plugins running the JUnit tests.\r\n\r\n 2. The Maven compile plugins configuration `&lt;target&gt;` (user property `maven.compiler.target`) JAVA version defines the code and class JAVA version the compiler will create - BUT this does **NOT guarantee that your code will run 100%** on that **target versions actual JAVA runtime** (s. below under the risk headline).\r\n\r\nBoth topics have to be well understood in terms of risks and pre-requisites.\r\n\r\nThe most common required scenario is like this:\r\n\r\n## Maven build execution requires JAVA version A&lt;br&gt;Target classes compiled require JAVA version B\r\n\r\nIn your questioned case you have to meet:\r\n\r\n 1. Use **JAVA 11** for **Maven build execution** to meet SonarQube plugin requirements\r\n 2. Use **JAVA 1.8** to **compile** and JUnit test your code\r\n\r\nThe correct configuration to meet this requirement is:\r\n\r\n 1. Define your **`JAVA_HOME`** being used to run the Maven build process to the **JDK 11** home&lt;br&gt;\r\n=&gt; meets your **question #2**\r\n 2. Configure your **toolchains** plugin to make use of the **JDK 1.8** home\r\n 3. Configure the **maven-compiler-plugin**\r\n  ```XML\r\n  ...\r\n    &lt;configuration&gt;\r\n      &lt;source&gt;1.8&lt;/source&gt;\r\n      &lt;target&gt;1.8&lt;/target&gt;\r\n    &lt;/configuration&gt;\r\n  ... \r\n  ```\r\n=&gt; **2.** and **3.** meet your **question #1**\r\n\r\n## Potential risk if not configuring a separate toolchain\r\n\r\nIf you run the build with JDK 11 without having defined a separate JDK 8 by the toolchain, then your compiled classes will be compliant to JDK 8, **if** you configure the **maven-compiler-plugin** target to 1.8,\r\n\r\n**__ BUT __**\r\n\r\n - You compile your code **vs. the JDK 11 API (JDK&#39;s rt.jar)** - and by this your code would even get compiled if it is **using JAVA 11 API&#39;s** that are NOT available on JAVA 8 or did have been modified vs. JAVA 8.&lt;br&gt;\r\n**=&gt;** Your project goes risk to fail late on JAVA 8 runtime with unexpected and suspicious class not found or method missing exceptions.\r\n - JUnit tests may endup different as if they would have been run within a JAVA 8 runtime.\r\n","title":"force maven to use different java version","body":"<p>There are two main aspects to understand:</p>\n<ol>\n<li><p>The Maven toolchains plugin enables us to <strong>separate</strong> the JDK/JRE version being used for the projects <strong>building Maven plugin execution runtime</strong> from the JDK version being used to compile AND to run the surefire plugins running the JUnit tests.</p>\n</li>\n<li><p>The Maven compile plugins configuration <code>&lt;target&gt;</code> (user property <code>maven.compiler.target</code>) JAVA version defines the code and class JAVA version the compiler will create - BUT this does <strong>NOT guarantee that your code will run 100%</strong> on that <strong>target versions actual JAVA runtime</strong> (s. below under the risk headline).</p>\n</li>\n</ol>\n<p>Both topics have to be well understood in terms of risks and pre-requisites.</p>\n<p>The most common required scenario is like this:</p>\n<h2>Maven build execution requires JAVA version A<br>Target classes compiled require JAVA version B</h2>\n<p>In your questioned case you have to meet:</p>\n<ol>\n<li>Use <strong>JAVA 11</strong> for <strong>Maven build execution</strong> to meet SonarQube plugin requirements</li>\n<li>Use <strong>JAVA 1.8</strong> to <strong>compile</strong> and JUnit test your code</li>\n</ol>\n<p>The correct configuration to meet this requirement is:</p>\n<ol>\n<li>Define your <strong><code>JAVA_HOME</code></strong> being used to run the Maven build process to the <strong>JDK 11</strong> home<br>\n=&gt; meets your <strong>question #2</strong></li>\n<li>Configure your <strong>toolchains</strong> plugin to make use of the <strong>JDK 1.8</strong> home</li>\n<li>Configure the <strong>maven-compiler-plugin</strong></li>\n</ol>\n<pre><code>...\n  &lt;configuration&gt;\n    &lt;source&gt;1.8&lt;/source&gt;\n    &lt;target&gt;1.8&lt;/target&gt;\n  &lt;/configuration&gt;\n... \n</code></pre>\n<p>=&gt; <strong>2.</strong> and <strong>3.</strong> meet your <strong>question #1</strong></p>\n<h2>Potential risk if not configuring a separate toolchain</h2>\n<p>If you run the build with JDK 11 without having defined a separate JDK 8 by the toolchain, then your compiled classes will be compliant to JDK 8, <strong>if</strong> you configure the <strong>maven-compiler-plugin</strong> target to 1.8,</p>\n<p><strong>__ BUT __</strong></p>\n<ul>\n<li>You compile your code <strong>vs. the JDK 11 API (JDK's rt.jar)</strong> - and by this your code would even get compiled if it is <strong>using JAVA 11 API's</strong> that are NOT available on JAVA 8 or did have been modified vs. JAVA 8.<br>\n<strong>=&gt;</strong> Your project goes risk to fail late on JAVA 8 runtime with unexpected and suspicious class not found or method missing exceptions.</li>\n<li>JUnit tests may endup different as if they would have been run within a JAVA 8 runtime.</li>\n</ul>\n"}],"owner":{"account_id":2188149,"reputation":1083,"user_id":1936023,"accept_rate":52,"display_name":"satish marathe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1958,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699226069,"creation_date":1635937945,"question_id":69823845,"body_markdown":"I have my existing project that uses Java 1.8 \r\nMy JAVA_HOME is set to Java 1.8 \r\nAs a result maven is using Java 1.8 , which is fine \r\nNow our project has decided to start using SonarQube 9.x which runs on Java 11\r\nIn addition to run any scan / analysis of our code - it needs Java 11 as well \r\n\r\nSo here is what I need to be doing :\r\n\r\n#1 Compile code using default jdk ( 1.8 ) ( mvn clean install ) \r\n\r\n#2 Run sonar scan using jdk 11 ( mvn sonar:sonar ) \r\n\r\nTo execute #2 need maven to use jdk 11 while to execute #1 need maven to use jdk 1.8.\r\n\r\nAfter reading various questions on SO came across &#39;toolchain&#39; \r\n\r\nSo added toolchains.xml into my &#39;m2&#39; folder :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;toolchains&gt;\r\n     &lt;!-- JDK toolchains --&gt;\r\n     &lt;toolchain&gt;\r\n      &lt;type&gt;jdk&lt;/type&gt;\r\n      &lt;provides&gt;\r\n       &lt;version&gt;1.11&lt;/version&gt;\r\n       &lt;vendor&gt;sun&lt;/vendor&gt;\r\n      &lt;/provides&gt;\r\n      &lt;configuration&gt;\r\n       &lt;jdkHome&gt;C:\\construction\\tools\\jdk-11.0.12&lt;/jdkHome&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/toolchain&gt;\r\n    &lt;toolchain&gt;\r\n     &lt;type&gt;jdk&lt;/type&gt;\r\n     &lt;provides&gt;\r\n      &lt;version&gt;1.8&lt;/version&gt;\r\n      &lt;vendor&gt;sun&lt;/vendor&gt;\r\n     &lt;/provides&gt;\r\n     &lt;configuration&gt;\r\n      &lt;jdkHome&gt;C:\\Program Files\\Java\\jdk1.8.0_191&lt;/jdkHome&gt;\r\n     &lt;/configuration&gt;\r\n    &lt;/toolchain&gt;  \r\n  &lt;/toolchains&gt;\r\n\r\nAdded toolchain plugin in my projects pom.xml\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t  &lt;goal&gt;toolchain&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;toolchains&gt;\r\n\t\t\t\t\t\t&lt;jdk&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;1.11&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;vendor&gt;sun&lt;/vendor&gt;\r\n\t\t\t\t\t\t&lt;/jdk&gt;\r\n\t\t\t\t\t&lt;/toolchains&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\r\nNow when I run maven clean install can see in logs that java 11 &#39;seems&#39; to be used :\r\n\r\n&gt; [INFO] --- maven-toolchains-plugin:1.1:toolchain (default) @ TreeSurveyAPI ---\r\n  \r\n&gt; [INFO] Required toolchain: jdk [ vendor=&#39;sun&#39; version=&#39;1.11&#39; ]\r\n&gt; [INFO] Found matching toolchain for type jdk: JDK[C:\\construction\\tools\\jdk-11.0.12]\r\n\r\n&gt; [INFO] --- maven-compiler-plugin:3.7.0:compile (default-compile) @ TreeSurveyAPI ---\r\n&gt; [INFO] Toolchain in maven-compiler-plugin: JDK[C:\\construction\\tools\\jdk-11.0.12]\r\n&gt; [INFO] Changes detected - recompiling the module!\r\n&gt; [INFO] Compiling 11 source files to C:\\construction\\xxx\\XYZ-main\\target\\classes\r\n\r\nSo it &#39;seems&#39; that maven along with toolchain is using Java 11 to compile the code .\r\nHowever after executing javap against compiled class file indicates Major version as 52 ( Java 8 ) \r\n\r\n    javap -verbose Abc.class | findstr &quot;major&quot;\r\n\r\nSo here are my questions :\r\n\r\n#1 \r\nin the above case since toolchain points to java 11 shouldnt the code be compiled with java 11 ? why is it using java 8 ?\r\n\r\n#2 \r\nHow can I conditionally use java 8 Vs java 11 ( compile and build using java 8 and run sonar task using java 11 ) ?\r\n\r\nThanks ","title":"force maven to use different java version","body":"<p>I have my existing project that uses Java 1.8\nMy JAVA_HOME is set to Java 1.8\nAs a result maven is using Java 1.8 , which is fine\nNow our project has decided to start using SonarQube 9.x which runs on Java 11\nIn addition to run any scan / analysis of our code - it needs Java 11 as well</p>\n<p>So here is what I need to be doing :</p>\n<p>#1 Compile code using default jdk ( 1.8 ) ( mvn clean install )</p>\n<p>#2 Run sonar scan using jdk 11 ( mvn sonar:sonar )</p>\n<p>To execute #2 need maven to use jdk 11 while to execute #1 need maven to use jdk 1.8.</p>\n<p>After reading various questions on SO came across 'toolchain'</p>\n<p>So added toolchains.xml into my 'm2' folder :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;toolchains&gt;\n &lt;!-- JDK toolchains --&gt;\n &lt;toolchain&gt;\n  &lt;type&gt;jdk&lt;/type&gt;\n  &lt;provides&gt;\n   &lt;version&gt;1.11&lt;/version&gt;\n   &lt;vendor&gt;sun&lt;/vendor&gt;\n  &lt;/provides&gt;\n  &lt;configuration&gt;\n   &lt;jdkHome&gt;C:\\construction\\tools\\jdk-11.0.12&lt;/jdkHome&gt;\n  &lt;/configuration&gt;\n&lt;/toolchain&gt;\n&lt;toolchain&gt;\n &lt;type&gt;jdk&lt;/type&gt;\n &lt;provides&gt;\n  &lt;version&gt;1.8&lt;/version&gt;\n  &lt;vendor&gt;sun&lt;/vendor&gt;\n &lt;/provides&gt;\n &lt;configuration&gt;\n  &lt;jdkHome&gt;C:\\Program Files\\Java\\jdk1.8.0_191&lt;/jdkHome&gt;\n &lt;/configuration&gt;\n&lt;/toolchain&gt;  \n</code></pre>\n  \n<p>Added toolchain plugin in my projects pom.xml</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                      &lt;goal&gt;toolchain&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;toolchains&gt;\n                    &lt;jdk&gt;\n                        &lt;version&gt;1.11&lt;/version&gt;\n                        &lt;vendor&gt;sun&lt;/vendor&gt;\n                    &lt;/jdk&gt;\n                &lt;/toolchains&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>Now when I run maven clean install can see in logs that java 11 'seems' to be used :</p>\n<blockquote>\n<p>[INFO] --- maven-toolchains-plugin:1.1:toolchain (default) @ TreeSurveyAPI ---</p>\n</blockquote>\n<blockquote>\n<p>[INFO] Required toolchain: jdk [ vendor='sun' version='1.11' ]\n[INFO] Found matching toolchain for type jdk: JDK[C:\\construction\\tools\\jdk-11.0.12]</p>\n</blockquote>\n<blockquote>\n<p>[INFO] --- maven-compiler-plugin:3.7.0:compile (default-compile) @ TreeSurveyAPI ---\n[INFO] Toolchain in maven-compiler-plugin: JDK[C:\\construction\\tools\\jdk-11.0.12]\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 11 source files to C:\\construction\\xxx\\XYZ-main\\target\\classes</p>\n</blockquote>\n<p>So it 'seems' that maven along with toolchain is using Java 11 to compile the code .\nHowever after executing javap against compiled class file indicates Major version as 52 ( Java 8 )</p>\n<pre><code>javap -verbose Abc.class | findstr &quot;major&quot;\n</code></pre>\n<p>So here are my questions :</p>\n<p>#1\nin the above case since toolchain points to java 11 shouldnt the code be compiled with java 11 ? why is it using java 8 ?</p>\n<p>#2\nHow can I conditionally use java 8 Vs java 11 ( compile and build using java 8 and run sonar task using java 11 ) ?</p>\n<p>Thanks</p>\n"},{"tags":["java","mongodb","performance","spring-data-mongodb"],"owner":{"account_id":4195953,"reputation":21,"user_id":3437378,"display_name":"user3437378"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699226030,"creation_date":1699226030,"question_id":77428010,"body_markdown":"This is how the logic should work\r\n\r\nSearch names: Ram, David, Lakshman\r\n\r\nNegated names: Ram\r\n\r\nSearch has the following names\r\n\r\nRam Kumar\r\n\r\nRam Lakshman\r\n\r\nDavid Kumar\r\n\r\n\r\n---------------------------------\r\n\r\nThe Search result should be :\r\n\r\nRam Lakshman\r\n\r\nDavid&#160;Kumar\r\n\r\n---------------------------------\r\nPerformed the text search query with exclusions:\r\ndb.names.find({ $text: { $search: &quot;Ram David Lakshman -Ram&quot;} });\r\n\r\nThe Search result has only 1 record\r\n\r\nDavid&#160;Kumar\r\n\r\n---------------------------------\r\nMy Search Names are around 5000 and exclusions are in 100s and &quot;names&quot; collection in Millions. ","title":"Mongodb text Search with Search words with Negated Term","body":"<p>This is how the logic should work</p>\n<p>Search names: Ram, David, Lakshman</p>\n<p>Negated names: Ram</p>\n<p>Search has the following names</p>\n<p>Ram Kumar</p>\n<p>Ram Lakshman</p>\n<p>David Kumar</p>\n<hr />\n<p>The Search result should be :</p>\n<p>Ram Lakshman</p>\n<p>David Kumar</p>\n<hr />\n<p>Performed the text search query with exclusions:\ndb.names.find({ $text: { $search: &quot;Ram David Lakshman -Ram&quot;} });</p>\n<p>The Search result has only 1 record</p>\n<p>David Kumar</p>\n<hr />\n<p>My Search Names are around 5000 and exclusions are in 100s and &quot;names&quot; collection in Millions.</p>\n"},{"tags":["java","php","android-studio"],"owner":{"account_id":29405571,"reputation":21,"user_id":22530711,"display_name":"lalalalala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699225426,"creation_date":1699221944,"question_id":77427845,"body_markdown":"How to display user&#39;s data to textboxes in android studio(JAVA) using the email that been used to login the app that will get data from phpmyadmin?\r\n\r\n**Android Studio (Login Code)**\r\n\r\n        @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_login);\r\n    \r\n    TextInputEditText email = findViewById(R.id.email);\r\n        TextInputEditText password = findViewById(R.id.password);\r\n    \r\n        password.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);\r\n    \r\n        Button btnLogin = findViewById(R.id.loginButton);\r\n        Button create = findViewById(R.id.createButton);\r\n        findViewById(R.id.forgotButton).setOnClickListener(v -&gt; {\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(Login.this);\r\n            ViewGroup viewGroup = findViewById(android.R.id.content);\r\n            View dialogView = LayoutInflater.from(v.getContext()).inflate(R.layout.forgot_password_dialog, viewGroup, false);\r\n            builder.setView(dialogView);\r\n            AlertDialog alertDialog = builder.create();\r\n            alertDialog.show();\r\n        });\r\n    \r\n    \r\n    \r\n        create.setOnClickListener(v -&gt; {\r\n            Intent intent = new Intent(Login.this, RegisterInformation.class);\r\n            startActivity(intent);\r\n        });\r\n    \r\n        btnLogin.setOnClickListener(view -&gt; {\r\n            String userEmail = Objects.requireNonNull(email.getText()).toString();\r\n            String userPassword = Objects.requireNonNull(password.getText()).toString();\r\n    \r\n            if (! (userEmail.isEmpty() || userPassword.isEmpty())){\r\n    \r\n                RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\r\n    \r\n                StringRequest stringRequest = new StringRequest(Request.Method.GET, &quot;https://cmobile.com/mobile/login.php&quot; + &quot;?email=&quot; + userEmail + &quot;&amp;password=&quot; + userPassword, response -&gt; {\r\n                    if (response.equals(&quot;Welcome&quot;)){\r\n                        Toast.makeText(getApplicationContext(), &quot;Login Succeed&quot;, Toast.LENGTH_SHORT).show();\r\n                        String Email = Objects.requireNonNull(email.getText()).toString();\r\n                        Intent intent = new Intent(Login.this, Profile.class);\r\n                        intent.putExtra(&quot;email&quot;, Email);\r\n                        startActivity(intent);\r\n    \r\n                    } else {\r\n                        Toast.makeText(getApplicationContext(), &quot;Login Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }, error -&gt; Toast.makeText(getApplicationContext(), error.toString(), Toast.LENGTH_SHORT).show());\r\n                requestQueue.add(stringRequest);\r\n    \r\n            } else {\r\n                Toast.makeText(getApplicationContext(), &quot;Wrong Password or Username&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n            }\r\n        });\r\n\r\n**Android Studio (Profile Code)**\r\n\r\n\r\n\r\nIn this code i use JSON to get all the data that the email row have and display it to the textviews that are provided\r\n\r\n```\r\n        // Initialize your TextViews\r\n        fullNameTextView = findViewById(R.id.fullNameTextView);\r\n        genderTextView = findViewById(R.id.genderTextView);\r\n        birthdateTextView = findViewById(R.id.birthdateTextView);\r\n        ageTextView = findViewById(R.id.ageTextView);\r\n        addressTextView = findViewById(R.id.addressTextView);\r\n        contactTextView = findViewById(R.id.contactTextView);\r\n        emailTextView = findViewById(R.id.emailTextView);\r\n\r\n        // Retrieve the user&#39;s email from the intent\r\n        String Email = getIntent().getStringExtra(&quot;email&quot;);\r\n\r\n        fetchDataFromServer(Email);\r\n}\r\n\r\n  private void fetchDataFromServer(String Email) {\r\n        new FetchDataAsyncTask().execute(Email);\r\n    }\r\n\r\n\r\n    private class FetchDataAsyncTask extends AsyncTask&lt;String, Void, String&gt; {\r\n        @Override\r\n        protected String doInBackground(String... params) {\r\n            String Email = params[0];\r\n            OkHttpClient client = new OkHttpClient();\r\n            Request request = new Request.Builder()\r\n                    .url(&quot;https://cmobile.com/mobile/getData.php&quot; + &quot;?email=&quot; + Email)\r\n                    .build();\r\n\r\n            try {\r\n                Response response = client.newCall(request).execute();\r\n                if (response.isSuccessful()) {\r\n                    return response.body().string();\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @SuppressLint(&quot;SetTextI18n&quot;)\r\n        @Override\r\n        protected void onPostExecute(String jsonData) {\r\n            if (jsonData != null) {\r\n                // Parse the JSON data\r\n                try {\r\n                    JSONObject jsonObject = new JSONObject(jsonData);\r\n\r\n                    String lastName = jsonObject.getString(&quot;lastName&quot;);\r\n                    String firstName = jsonObject.getString(&quot;firstName&quot;);\r\n                    String middleName = jsonObject.getString(&quot;middleName&quot;);\r\n                    String suffix = jsonObject.getString(&quot;suffix&quot;);\r\n                    String gender = jsonObject.getString(&quot;gender&quot;);\r\n                    String dateOfBirth = jsonObject.getString(&quot;dateOfBirth&quot;);\r\n                    String age = jsonObject.getString(&quot;age&quot;);\r\n                    String address = jsonObject.getString(&quot;address&quot;);\r\n                    String contact = jsonObject.getString(&quot;contact&quot;);\r\n                    String email = jsonObject.getString(&quot;email&quot;);\r\n\r\n                    // Set the retrieved data to the TextViews\r\n                    fullNameTextView.setText(firstName + &quot; &quot; + middleName + &quot; &quot; + lastName + &quot; &quot; + suffix);\r\n                    genderTextView.setText(gender);\r\n                    birthdateTextView.setText(dateOfBirth);\r\n                    ageTextView.setText(age);\r\n                    addressTextView.setText(address);\r\n                    contactTextView.setText(contact);\r\n                    emailTextView.setText(email);\r\n\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                    // Handle JSON parsing error\r\n                }\r\n            } else {\r\n                // Handle the case where the request was not successful\r\n                Toast.makeText(Profile.this, &quot;Failed to fetch data from the server&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Php Code(connection.php and getData.php)**\r\n\r\n```\r\n&lt;?php\r\n\r\n    $hostname = &quot;localhost&quot;;\r\n    $username = &quot;root&quot;;\r\n    $password = &quot;&quot;;\r\n    $dbName = &quot;mobile&quot;;\r\n\r\n    $con = mysqli_connect($hostname, $username, $password, $dbName);\r\n\r\n    if (!$con){\r\n        echo &quot;Connection Failed&quot;;\r\n    }\r\n?&gt;\r\n```\r\n\r\nI want to know what the problem to my code\r\n\r\n```\r\n &lt;?php\r\ninclude &#39;connection.php&#39;;\r\n\r\n$email = $_GET[&#39;email&#39;];\r\n\r\nif (!empty($email)) {\r\n    $email = mysqli_real_escape_string($con, $email);\r\n\r\n    $query = &quot;SELECT lastname, firstName, middleName, suffix, gender, dateOfBirth, age, address, contact FROM local_users WHERE email = &#39;$email&#39;&quot;;\r\n    $result = mysqli_query($con, $query);\r\n\r\n    if ($result &amp;&amp; mysqli_num_rows($result) &gt; 0) {\r\n        $row = mysqli_fetch_assoc($result);\r\n        // Return user data as JSON response\r\n        echo json_encode($row);\r\n    } else {\r\n        // Email not found in the database\r\n        echo json_encode([&quot;error&quot; =&gt; &quot;Email not found&quot;]);\r\n    }\r\n} else {\r\n    // Invalid request\r\n    echo json_encode([&quot;error&quot; =&gt; &quot;Invalid request&quot;]);\r\n}\r\n?&gt;\r\n```","title":"How to display user&#39;s data to textboxes in android studio(JAVA) using the email that been used to login the app that will get data from phpmyadmin?","body":"<p>How to display user's data to textboxes in android studio(JAVA) using the email that been used to login the app that will get data from phpmyadmin?</p>\n<p><strong>Android Studio (Login Code)</strong></p>\n<pre><code>    @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_login);\n\nTextInputEditText email = findViewById(R.id.email);\n    TextInputEditText password = findViewById(R.id.password);\n\n    password.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);\n\n    Button btnLogin = findViewById(R.id.loginButton);\n    Button create = findViewById(R.id.createButton);\n    findViewById(R.id.forgotButton).setOnClickListener(v -&gt; {\n        AlertDialog.Builder builder = new AlertDialog.Builder(Login.this);\n        ViewGroup viewGroup = findViewById(android.R.id.content);\n        View dialogView = LayoutInflater.from(v.getContext()).inflate(R.layout.forgot_password_dialog, viewGroup, false);\n        builder.setView(dialogView);\n        AlertDialog alertDialog = builder.create();\n        alertDialog.show();\n    });\n\n\n\n    create.setOnClickListener(v -&gt; {\n        Intent intent = new Intent(Login.this, RegisterInformation.class);\n        startActivity(intent);\n    });\n\n    btnLogin.setOnClickListener(view -&gt; {\n        String userEmail = Objects.requireNonNull(email.getText()).toString();\n        String userPassword = Objects.requireNonNull(password.getText()).toString();\n\n        if (! (userEmail.isEmpty() || userPassword.isEmpty())){\n\n            RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\n\n            StringRequest stringRequest = new StringRequest(Request.Method.GET, &quot;https://cmobile.com/mobile/login.php&quot; + &quot;?email=&quot; + userEmail + &quot;&amp;password=&quot; + userPassword, response -&gt; {\n                if (response.equals(&quot;Welcome&quot;)){\n                    Toast.makeText(getApplicationContext(), &quot;Login Succeed&quot;, Toast.LENGTH_SHORT).show();\n                    String Email = Objects.requireNonNull(email.getText()).toString();\n                    Intent intent = new Intent(Login.this, Profile.class);\n                    intent.putExtra(&quot;email&quot;, Email);\n                    startActivity(intent);\n\n                } else {\n                    Toast.makeText(getApplicationContext(), &quot;Login Failed&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }, error -&gt; Toast.makeText(getApplicationContext(), error.toString(), Toast.LENGTH_SHORT).show());\n            requestQueue.add(stringRequest);\n\n        } else {\n            Toast.makeText(getApplicationContext(), &quot;Wrong Password or Username&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n    });\n</code></pre>\n<p><strong>Android Studio (Profile Code)</strong></p>\n<p>In this code i use JSON to get all the data that the email row have and display it to the textviews that are provided</p>\n<pre><code>        // Initialize your TextViews\n        fullNameTextView = findViewById(R.id.fullNameTextView);\n        genderTextView = findViewById(R.id.genderTextView);\n        birthdateTextView = findViewById(R.id.birthdateTextView);\n        ageTextView = findViewById(R.id.ageTextView);\n        addressTextView = findViewById(R.id.addressTextView);\n        contactTextView = findViewById(R.id.contactTextView);\n        emailTextView = findViewById(R.id.emailTextView);\n\n        // Retrieve the user's email from the intent\n        String Email = getIntent().getStringExtra(&quot;email&quot;);\n\n        fetchDataFromServer(Email);\n}\n\n  private void fetchDataFromServer(String Email) {\n        new FetchDataAsyncTask().execute(Email);\n    }\n\n\n    private class FetchDataAsyncTask extends AsyncTask&lt;String, Void, String&gt; {\n        @Override\n        protected String doInBackground(String... params) {\n            String Email = params[0];\n            OkHttpClient client = new OkHttpClient();\n            Request request = new Request.Builder()\n                    .url(&quot;https://cmobile.com/mobile/getData.php&quot; + &quot;?email=&quot; + Email)\n                    .build();\n\n            try {\n                Response response = client.newCall(request).execute();\n                if (response.isSuccessful()) {\n                    return response.body().string();\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            return null;\n        }\n\n        @SuppressLint(&quot;SetTextI18n&quot;)\n        @Override\n        protected void onPostExecute(String jsonData) {\n            if (jsonData != null) {\n                // Parse the JSON data\n                try {\n                    JSONObject jsonObject = new JSONObject(jsonData);\n\n                    String lastName = jsonObject.getString(&quot;lastName&quot;);\n                    String firstName = jsonObject.getString(&quot;firstName&quot;);\n                    String middleName = jsonObject.getString(&quot;middleName&quot;);\n                    String suffix = jsonObject.getString(&quot;suffix&quot;);\n                    String gender = jsonObject.getString(&quot;gender&quot;);\n                    String dateOfBirth = jsonObject.getString(&quot;dateOfBirth&quot;);\n                    String age = jsonObject.getString(&quot;age&quot;);\n                    String address = jsonObject.getString(&quot;address&quot;);\n                    String contact = jsonObject.getString(&quot;contact&quot;);\n                    String email = jsonObject.getString(&quot;email&quot;);\n\n                    // Set the retrieved data to the TextViews\n                    fullNameTextView.setText(firstName + &quot; &quot; + middleName + &quot; &quot; + lastName + &quot; &quot; + suffix);\n                    genderTextView.setText(gender);\n                    birthdateTextView.setText(dateOfBirth);\n                    ageTextView.setText(age);\n                    addressTextView.setText(address);\n                    contactTextView.setText(contact);\n                    emailTextView.setText(email);\n\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                    // Handle JSON parsing error\n                }\n            } else {\n                // Handle the case where the request was not successful\n                Toast.makeText(Profile.this, &quot;Failed to fetch data from the server&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Php Code(connection.php and getData.php)</strong></p>\n<pre><code>&lt;?php\n\n    $hostname = &quot;localhost&quot;;\n    $username = &quot;root&quot;;\n    $password = &quot;&quot;;\n    $dbName = &quot;mobile&quot;;\n\n    $con = mysqli_connect($hostname, $username, $password, $dbName);\n\n    if (!$con){\n        echo &quot;Connection Failed&quot;;\n    }\n?&gt;\n</code></pre>\n<p>I want to know what the problem to my code</p>\n<pre><code> &lt;?php\ninclude 'connection.php';\n\n$email = $_GET['email'];\n\nif (!empty($email)) {\n    $email = mysqli_real_escape_string($con, $email);\n\n    $query = &quot;SELECT lastname, firstName, middleName, suffix, gender, dateOfBirth, age, address, contact FROM local_users WHERE email = '$email'&quot;;\n    $result = mysqli_query($con, $query);\n\n    if ($result &amp;&amp; mysqli_num_rows($result) &gt; 0) {\n        $row = mysqli_fetch_assoc($result);\n        // Return user data as JSON response\n        echo json_encode($row);\n    } else {\n        // Email not found in the database\n        echo json_encode([&quot;error&quot; =&gt; &quot;Email not found&quot;]);\n    }\n} else {\n    // Invalid request\n    echo json_encode([&quot;error&quot; =&gt; &quot;Invalid request&quot;]);\n}\n?&gt;\n</code></pre>\n"},{"tags":["java","netbeans","soa","bpel","open-esb"],"owner":{"account_id":29584783,"reputation":11,"user_id":22673703,"display_name":"Johhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699224152,"creation_date":1699224152,"question_id":77427928,"body_markdown":"I am trying to create an OpenESB project, I need to implement the SOA category and the BPEL module.\r\nBut, I don&#39;t have this category in my OpenESB, I can&#39;t find a solution because nobody uses this program.\r\n\r\nI try to reinstall OpenESB, set the environment variables, and run openESB.bat","title":"Missing Categories OpenESB","body":"<p>I am trying to create an OpenESB project, I need to implement the SOA category and the BPEL module.\nBut, I don't have this category in my OpenESB, I can't find a solution because nobody uses this program.</p>\n<p>I try to reinstall OpenESB, set the environment variables, and run openESB.bat</p>\n"},{"tags":["java","sql-server","connection"],"answers":[{"tags":[],"owner":{"account_id":2230843,"reputation":116,"user_id":1968456,"display_name":"Rodrigo Martin Tato Rothamel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530651718,"creation_date":1530651718,"answer_id":51162769,"question_id":51162019,"body_markdown":"It&#39;s been a while since I don&#39;t use Glassfish, but as far as I remember you should install the jar for your database provider that has the implementation of XADataSource interface. In MS SQL Server I&#39;ve used the jTDS driver.\r\n\r\nAnother thing to consider from your code snippet is that you should have different configurations of glassfish for development and production, you should leave that kind of things to the application server and not inside your code. Glassfish is a full JavaEE Application Server, it has all the benefits including database connection pooling.","title":"Java &amp; SQL - XADataSource","body":"<p>It's been a while since I don't use Glassfish, but as far as I remember you should install the jar for your database provider that has the implementation of XADataSource interface. In MS SQL Server I've used the jTDS driver.</p>\n\n<p>Another thing to consider from your code snippet is that you should have different configurations of glassfish for development and production, you should leave that kind of things to the application server and not inside your code. Glassfish is a full JavaEE Application Server, it has all the benefits including database connection pooling.</p>\n"}],"owner":{"account_id":1485204,"reputation":962,"user_id":1393620,"accept_rate":69,"display_name":"Marcel Marino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699222681,"creation_date":1530647702,"question_id":51162019,"body_markdown":"We are running glassfish 4 for our java web application and are running into an issue with timers. Normal servlet calls are able to enjoy as many different connections as they want, which makes integrations much easier. Once we add timers however, the datasources need to be &quot;XA&quot; datasources instead. We set one up as such below:\r\n\r\n    public XADataSource getNewConnection() {\r\n        Encapsulations encap = new Encapsulations();\r\n        XADataSource ds = null;\r\n        try {\r\n            Context ctx = new InitialContext();\r\n            if(!encap.getDataSource().equals(&quot;Production&quot;)){\r\n                  ds = (XADataSource) ctx.lookup(&quot;jdbc/XA_TEST&quot;);\r\n            }else{\r\n                  ds = (XADataSource) ctx.lookup(&quot;jdbc/XA&quot;);\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            CatchException.logException(null, e);\r\n            String error = e.toString();\r\n        }\r\n        return ds;\r\n    } \r\n\r\n\r\nThe problem is that when the ds = (XADataSource) ctx.lookup(&quot;jdbc/XA_TEST&quot;) line runs we get this error:\r\n\r\n&gt; java.lang.ClassCastException: com.sun.gjc.spi.jdbc40.DataSource40 cannot be cast to javax.sql.XADataSource\r\n\r\nWe use the sqljdbc42 jar for our normal connections, so it is a bit strange to see 40 in there. Anyone know what the problem is? The datasource we are using was set up as an XADataSource, other than downloading a different jar I don&#39;t know what is missing.","title":"Java &amp; SQL - XADataSource","body":"<p>We are running glassfish 4 for our java web application and are running into an issue with timers. Normal servlet calls are able to enjoy as many different connections as they want, which makes integrations much easier. Once we add timers however, the datasources need to be \"XA\" datasources instead. We set one up as such below:</p>\n\n<pre><code>public XADataSource getNewConnection() {\n    Encapsulations encap = new Encapsulations();\n    XADataSource ds = null;\n    try {\n        Context ctx = new InitialContext();\n        if(!encap.getDataSource().equals(\"Production\")){\n              ds = (XADataSource) ctx.lookup(\"jdbc/XA_TEST\");\n        }else{\n              ds = (XADataSource) ctx.lookup(\"jdbc/XA\");\n        }\n\n    } catch (Exception e) {\n        CatchException.logException(null, e);\n        String error = e.toString();\n    }\n    return ds;\n} \n</code></pre>\n\n<p>The problem is that when the ds = (XADataSource) ctx.lookup(\"jdbc/XA_TEST\") line runs we get this error:</p>\n\n<blockquote>\n  <p>java.lang.ClassCastException: com.sun.gjc.spi.jdbc40.DataSource40 cannot be cast to javax.sql.XADataSource</p>\n</blockquote>\n\n<p>We use the sqljdbc42 jar for our normal connections, so it is a bit strange to see 40 in there. Anyone know what the problem is? The datasource we are using was set up as an XADataSource, other than downloading a different jar I don't know what is missing.</p>\n"},{"tags":["java","random","thread-safety"],"comments":[{"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1698820663,"post_id":77400700,"comment_id":136452315,"body_markdown":"Did they perhaps misunderstand [JEP 356](https://openjdk.org/jeps/356)?","body":"Did they perhaps misunderstand <a href=\"https://openjdk.org/jeps/356\" rel=\"nofollow noreferrer\">JEP 356</a>?"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698822766,"post_id":77400700,"comment_id":136452543,"body_markdown":"@Sweeper Indeed, I think it was related to new Random Number Generators. But I never saw any detail explanation, only references to `ThreadLocalRandom` being old-school.","body":"@Sweeper Indeed, I think it was related to new Random Number Generators. But I never saw any detail explanation, only references to <code>ThreadLocalRandom</code> being old-school."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1700835762,"post_id":77400700,"comment_id":136705176,"body_markdown":"Without seeing the exact statements, we can’t tell what they meant. But you can see any of the new random number generators as a replacement for `ThreadLocalRandom` if it fits your particular use case.","body":"Without seeing the exact statements, we can’t tell what they meant. But you can see any of the new random number generators as a replacement for <code>ThreadLocalRandom</code> if it fits your particular use case."}],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699221409,"creation_date":1698819710,"question_id":77400700,"body_markdown":"I vaguely recall reading some mentions that [`ThreadLocalRandom`][1] has been supplanted in modern Java by some new random number generators.\r\n\r\n&#128073;&#127997; Did Java add a new feature for housing a random number generator per thread? \r\n\r\nPerhaps I am thinking of [*JEP 356: Enhanced Pseudo-Random Number Generators*][2], explained well in this article, [*Random Number Generators in Java 17*](https://www.baeldung.com/java-17-random-number-generators) by Daniel Strmecki on Baeldung.com. But I do not see any discussion on those pages regarding a replacement for `ThreadLocalRandom`. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/concurrent/ThreadLocalRandom.html\r\n  [2]: https://openjdk.org/jeps/356","title":"Did Java get a new feature to supplant `ThreadLocalRandom`?","body":"<p>I vaguely recall reading some mentions that <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/concurrent/ThreadLocalRandom.html\" rel=\"nofollow noreferrer\"><code>ThreadLocalRandom</code></a> has been supplanted in modern Java by some new random number generators.</p>\n<p>👉🏽 Did Java add a new feature for housing a random number generator per thread?</p>\n<p>Perhaps I am thinking of <a href=\"https://openjdk.org/jeps/356\" rel=\"nofollow noreferrer\"><em>JEP 356: Enhanced Pseudo-Random Number Generators</em></a>, explained well in this article, <a href=\"https://www.baeldung.com/java-17-random-number-generators\" rel=\"nofollow noreferrer\"><em>Random Number Generators in Java 17</em></a> by Daniel Strmecki on Baeldung.com. But I do not see any discussion on those pages regarding a replacement for <code>ThreadLocalRandom</code>.</p>\n"},{"tags":["java","multithreading","random","concurrency"],"comments":[{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1444929819,"post_id":33126322,"comment_id":54118679,"body_markdown":"Well, using a locally created `Random` instance requires the JVM’s optimizer to find out that it’s purely local (to elide synchronization) whereas `ThreadLocalRandom` is purely local in the first place…","body":"Well, using a locally created <code>Random</code> instance requires the JVM’s optimizer to find out that it’s purely local (to elide synchronization) whereas <code>ThreadLocalRandom</code> is purely local in the first place…"}],"answers":[{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1444828825,"creation_date":1444828825,"answer_id":33126482,"question_id":33126322,"body_markdown":"If you create your own threads, like you do here, it makes no difference.\r\n\r\nBut if your code is called from different threads beyond your control, `ThreadLocalRandom` is the correct one to use.\r\n\r\nThere is one difference that does matter though: for obvious reasons you can&#39;t set a seed for `ThreadLocalRandom`. So if you want to have repeatable sequences, you need to create your own `Random` instances. (But then if you&#39;re running multiple threads, having your RNGs seeded to the same value doesn&#39;t always guarantee repeatable behaviour anyway.)\r\n\r\nI would personally use `ThreadLocalRandom` in all cases where I don&#39;t need repeatable sequences.","title":"ThreadLocalRandom or new Random for each thread","body":"<p>If you create your own threads, like you do here, it makes no difference.</p>\n\n<p>But if your code is called from different threads beyond your control, <code>ThreadLocalRandom</code> is the correct one to use.</p>\n\n<p>There is one difference that does matter though: for obvious reasons you can't set a seed for <code>ThreadLocalRandom</code>. So if you want to have repeatable sequences, you need to create your own <code>Random</code> instances. (But then if you're running multiple threads, having your RNGs seeded to the same value doesn't always guarantee repeatable behaviour anyway.)</p>\n\n<p>I would personally use <code>ThreadLocalRandom</code> in all cases where I don't need repeatable sequences.</p>\n"}],"owner":{"account_id":3827997,"reputation":429,"user_id":3174377,"accept_rate":100,"display_name":"Peter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2042,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33126482,"answer_count":1,"score":2,"last_activity_date":1699220892,"creation_date":1444828391,"question_id":33126322,"body_markdown":"Is there any difference when I create in each thread new `java.util.Random` object or use the `ThreadLocalRandom.current().nextInt(3);` ? \r\n\r\nFrom what I&#39;ve read, `ThreadLocalRandom` should be used instead of using the same instance of `java.util.Random` for all threads. But what if I create a new instance for each thread?\r\n\r\nWhen should I use `java.util.Random` and when `ThreadLocalRandom` if I need to generate random numbers in multiple threads?\r\n\r\n[![screenshot of source code][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/RWFKl.png","title":"ThreadLocalRandom or new Random for each thread","body":"<p>Is there any difference when I create in each thread new <code>java.util.Random</code> object or use the <code>ThreadLocalRandom.current().nextInt(3);</code> ?</p>\n<p>From what I've read, <code>ThreadLocalRandom</code> should be used instead of using the same instance of <code>java.util.Random</code> for all threads. But what if I create a new instance for each thread?</p>\n<p>When should I use <code>java.util.Random</code> and when <code>ThreadLocalRandom</code> if I need to generate random numbers in multiple threads?</p>\n<p><a href=\"https://i.stack.imgur.com/RWFKl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RWFKl.png\" alt=\"screenshot of source code\" /></a></p>\n"},{"tags":["java","addition","factors"],"comments":[{"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"score":0,"creation_date":1444736544,"post_id":33101773,"comment_id":54018232,"body_markdown":"What&#39;s the question? :)","body":"What&#39;s the question? :)"},{"owner":{"account_id":16878,"reputation":306133,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":3,"creation_date":1444736580,"post_id":33101773,"comment_id":54018262,"body_markdown":"Looks like badly done homework to me.","body":"Looks like badly done homework to me."}],"answers":[{"tags":[],"owner":{"account_id":4053412,"reputation":1135,"user_id":3332186,"accept_rate":22,"display_name":"Pankaj Saboo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1444737294,"creation_date":1444737294,"answer_id":33102050,"question_id":33101773,"body_markdown":"    import java.util.Scanner;\r\n\r\n    public class Demo {\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t    Scanner x=new Scanner(System.in);\r\n\t    int n=0;int g=0; int term=0;int temp=0;\r\n\t    int sum=0; int factor=1;\r\n\t    System.out.print(&quot;Input N:&quot;);\r\n\r\n\t    n=x.nextInt();\r\n\t    g=n;\r\n\t    int number = 0;\r\n\t    if (n&lt;=0)\r\n\t    {\r\n\t        System.out.println(&quot;Please enter a positive integer&quot;);\r\n\t        System.exit(0);\r\n\t    }\r\n\r\n\t    if (n&gt;0)\r\n\t    {\r\n\t        System.out.print(&quot;The factors are:&quot;);\r\n\r\n\t        while (factor&lt;n)\r\n\t        {\r\n\t            if (n%factor==0)\r\n\t            {\r\n\t                System.out.println(factor+&quot;,&quot;);\r\n\t                number+=factor;\r\n\t            }\r\n\t            factor++;\r\n\t        }\r\n\t    }\r\n\t    System.out.println(&quot;Sum = &quot;+number);\r\n\t}\r\n    }\r\n","title":"Add the factors of a number","body":"<pre><code>import java.util.Scanner;\n\npublic class Demo {\npublic static void main(String[] args)\n{\n    Scanner x=new Scanner(System.in);\n    int n=0;int g=0; int term=0;int temp=0;\n    int sum=0; int factor=1;\n    System.out.print(\"Input N:\");\n\n    n=x.nextInt();\n    g=n;\n    int number = 0;\n    if (n&lt;=0)\n    {\n        System.out.println(\"Please enter a positive integer\");\n        System.exit(0);\n    }\n\n    if (n&gt;0)\n    {\n        System.out.print(\"The factors are:\");\n\n        while (factor&lt;n)\n        {\n            if (n%factor==0)\n            {\n                System.out.println(factor+\",\");\n                number+=factor;\n            }\n            factor++;\n        }\n    }\n    System.out.println(\"Sum = \"+number);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16873852,"reputation":1,"user_id":12201767,"display_name":"benson lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699219149,"creation_date":1570804921,"answer_id":58343623,"question_id":33101773,"body_markdown":"    import static java.lang.System.*;\r\n    import java.util.*\r\n   \r\n    \r\n    public class Main\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            Scanner kb = new Scanner(in);\r\n            System.out.print(&quot;Enter a number: &quot;);\r\n            int num = kb.nextInt();\r\n            int sum = 0;\r\n            int x = 1;\r\n            for(x = 1; x &lt;= num; x++){\r\n                if (num % x == 0){\r\n                    sum = sum + x;\r\n                } \r\n            }\r\n            System.out.print(sum);\r\n        }\r\n    }","title":"Add the factors of a number","body":"<pre><code>import static java.lang.System.*;\nimport java.util.*\n\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        Scanner kb = new Scanner(in);\n        System.out.print(&quot;Enter a number: &quot;);\n        int num = kb.nextInt();\n        int sum = 0;\n        int x = 1;\n        for(x = 1; x &lt;= num; x++){\n            if (num % x == 0){\n                sum = sum + x;\n            } \n        }\n        System.out.print(sum);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6271317,"reputation":31,"user_id":4875475,"display_name":"Nic Gon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2630,"favorite_count":0,"down_vote_count":12,"up_vote_count":0,"accepted_answer_id":33102050,"answer_count":2,"score":-12,"last_activity_date":1699219149,"creation_date":1444736504,"question_id":33101773,"body_markdown":"```\r\npublic static void main(String[] args) {\r\n  Scanner x = new Scanner(System.in);\r\n  int n = 0;\r\n  int g = 0;\r\n  int term = 0;\r\n  int temp = 0;\r\n  int sum = 0;\r\n  int factor = 1;\r\n  System.out.print(&quot;Input N:&quot;);\r\n\r\n  n = x.nextInt();\r\n  g = n;\r\n  if (n &lt;= 0) {\r\n    System.out.println(&quot;Please enter a positive integer&quot;);\r\n    System.exit(0);\r\n  }\r\n\r\n  if (n &gt; 0) {\r\n    System.out.print(&quot;The factors are:&quot;);\r\n\r\n    while (factor &lt; n) {\r\n      if (n % factor == 0) {\r\n        System.out.print(factor + &quot;,&quot;);\r\n      }\r\n      factor++;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIf I input number 8, the factors are 1,2, and 4. What I am trying to achieve is to add the factors of 8 which are 1,2 and 4, which would result in 7.","title":"Add the factors of a number","body":"<pre><code>public static void main(String[] args) {\n  Scanner x = new Scanner(System.in);\n  int n = 0;\n  int g = 0;\n  int term = 0;\n  int temp = 0;\n  int sum = 0;\n  int factor = 1;\n  System.out.print(&quot;Input N:&quot;);\n\n  n = x.nextInt();\n  g = n;\n  if (n &lt;= 0) {\n    System.out.println(&quot;Please enter a positive integer&quot;);\n    System.exit(0);\n  }\n\n  if (n &gt; 0) {\n    System.out.print(&quot;The factors are:&quot;);\n\n    while (factor &lt; n) {\n      if (n % factor == 0) {\n        System.out.print(factor + &quot;,&quot;);\n      }\n      factor++;\n    }\n  }\n}\n</code></pre>\n<p>If I input number 8, the factors are 1,2, and 4. What I am trying to achieve is to add the factors of 8 which are 1,2 and 4, which would result in 7.</p>\n"},{"tags":["java","cassandra"],"owner":{"account_id":29802424,"reputation":1,"user_id":22839902,"display_name":"Simon Leo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699218976,"creation_date":1698842352,"question_id":77402688,"body_markdown":"we use cassandra 3.11, now had a 7 nodes cluster.\r\nnow we join a new node(172.19.19.33) into this. in system.log,we got those messages:\r\n```\r\nERROR StreamSession.java:593 [Stream #xxxx] Streaming error occured on session with peer 172.19.19.12\r\njava.lang.NullPointerException: null\r\nat org.apache.cassandra.db.lifecycle.LifecycleTransaction.update(LifecycleTransaction.java:340)\r\nxxxxx\r\nxxxx\r\nat ort.apache.cassandra.streaming.ConnectionHandler$IncomingMessageHandler.run(ConnectionHandler.java:317)\r\n```\r\nthen we join once more, and use tcpdump catch the pacakges from 172.19.19.12 and this node, we found when 172.19.19.12 send a TCP ZeroWindow to 172.19.19.19.33 and then send TCP Flag RST right away。\r\n\r\nhow do we do for this.\r\nwhat can i do for join a new node into this cluster.\r\n\r\nI do set linux tcp_rmem and  use nodetool setstreamthrougput 32 and nodetool setinterdcstreamthrougput 32 for other nodes exclude 172.19.19.33. These methods does not fix this problem.\r\nThen we create a new cluster, insert about 1TB data, then join new node to this cluster.\r\nIt look like normal and work good.\r\n\r\nThe 172.19.19.12 cluster had some problems before, at 70&#39;s day before, the cluster Schema vesionss had changed by one of the cluster&#39;s node restart, then we found the table was not created in all nodes, so we got the table data file and place it into seed&#39;s nodes (one of them),then the cluster become normal.","title":"apache cassandra join new node error by streaming error","body":"<p>we use cassandra 3.11, now had a 7 nodes cluster.\nnow we join a new node(172.19.19.33) into this. in system.log,we got those messages:</p>\n<pre><code>ERROR StreamSession.java:593 [Stream #xxxx] Streaming error occured on session with peer 172.19.19.12\njava.lang.NullPointerException: null\nat org.apache.cassandra.db.lifecycle.LifecycleTransaction.update(LifecycleTransaction.java:340)\nxxxxx\nxxxx\nat ort.apache.cassandra.streaming.ConnectionHandler$IncomingMessageHandler.run(ConnectionHandler.java:317)\n</code></pre>\n<p>then we join once more, and use tcpdump catch the pacakges from 172.19.19.12 and this node, we found when 172.19.19.12 send a TCP ZeroWindow to 172.19.19.19.33 and then send TCP Flag RST right away。</p>\n<p>how do we do for this.\nwhat can i do for join a new node into this cluster.</p>\n<p>I do set linux tcp_rmem and  use nodetool setstreamthrougput 32 and nodetool setinterdcstreamthrougput 32 for other nodes exclude 172.19.19.33. These methods does not fix this problem.\nThen we create a new cluster, insert about 1TB data, then join new node to this cluster.\nIt look like normal and work good.</p>\n<p>The 172.19.19.12 cluster had some problems before, at 70's day before, the cluster Schema vesionss had changed by one of the cluster's node restart, then we found the table was not created in all nodes, so we got the table data file and place it into seed's nodes (one of them),then the cluster become normal.</p>\n"},{"tags":["java","javafx","dojo","oslc"],"comments":[{"owner":{"account_id":1522013,"reputation":165,"user_id":1421418,"accept_rate":33,"display_name":"mjr"},"score":1,"creation_date":1686815628,"post_id":76475221,"comment_id":134851958,"body_markdown":"such a lucky guy am I!&#129318;‍♂️ after long time I asked a question in stackoverflow and it was in the middle of a Strike ⚔️&#128518;. Good luck then! :)","body":"such a lucky guy am I!🤦‍♂️ after long time I asked a question in stackoverflow and it was in the middle of a Strike ⚔️😆. Good luck then! :)"}],"owner":{"account_id":1522013,"reputation":165,"user_id":1421418,"accept_rate":33,"display_name":"mjr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699218538,"creation_date":1686756545,"question_id":76475221,"body_markdown":"I use javafx &amp; webview to load a delegated UI in new stage in an iframe. the page contain paginated table with checkbox,which the selected Items will be send back to my listener as json format.delegated UI provided by the server and I have no access to the source.as far as I know delegated page use dojo library.\r\n\r\nproblem is that when clicking on the page number and selecting multiple items, sometimes when pressing OK button, it will not send data to my listener and it seems no event is working anymore as the cancel button also not send back event, but the drawer menue is working(if it use kind of script). the window must be reopen to work again. \r\n\r\nhere is a snippet of how the page will be loaded:\r\n```\r\nprivate void openWebViewWindow(String url) {\r\n\r\n\t\t....\r\n\r\n\t\twebViewStage = new Stage();\r\n\t\tWebView webView = new WebView();\r\n\t\tWebEngine webEngine = webView.getEngine();\r\n\r\n\t\t// Enable JavaScript support\r\n\t\twebEngine.setJavaScriptEnabled(true);\r\n\r\n\r\n\t\t// Ignore SSL certificate validation\r\n\t\tignoreCertificateValidation();\r\n\r\n\t\t// Load a blank page first\r\n\t\twebEngine.loadContent(&quot;&quot;);\r\n\r\n\t\t// Authenticate the user\r\n\t\tauthenticateUser(webEngine);\r\n\r\n\t\t// Create the iframe HTML code\r\n\t\tString iframe = &quot;&lt;div&gt;&lt;iframe id=\\&quot;myIframe\\&quot; src=\\&quot;&quot; + url + &quot;\\&quot; width=\\&quot;1024\\&quot; height=\\&quot;800\\&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&quot;;\r\n\t\tiframe = &quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;div&gt;&lt;iframe id=\\&quot;myIframe\\&quot; src=\\&quot;&quot; + url + &quot;\\&quot; width=\\&quot;1024\\&quot; height=\\&quot;800\\&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\r\n\t\t// Attach a Console object to intercept console messages\r\n\t\twebEngine.setOnError(event -&gt; {\r\n\t\t\tSystem.err.println(&quot;Web Engine Error: &quot; + event.getMessage());\r\n\t\t});\r\n\r\n\r\n\t\t// Add a JavaScript interface to the webEngine\r\n\t\twebEngine.getLoadWorker().stateProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n\t\t\tif (newValue == Worker.State.SUCCEEDED) {\r\n\t\t\t\tJSObject window = (JSObject) webEngine.executeScript(&quot;window&quot;);\r\n\t\t\t\twindow.setMember(&quot;javaAppListener&quot;, new ListenerClass());\r\n\t\t\t\twebEngine.executeScript(&quot;window.addEventListener(&#39;message&#39;, function(event) { &quot;\r\n\t\t\t\t\t\t+ &quot;javaAppListener.processEvent(event.data);&quot; + &quot;});&quot;);\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\t// Create the scene and show the stage\r\n\t\tScene webViewScene = new Scene(webView, 1024, 800);\r\n\t\twebViewStage.setScene(webViewScene);\r\n\t\twebViewStage.show();\r\n\r\n\r\n\t\t// Load the iframe content into the WebView\r\n\t\tif(url.endsWith(&quot;condition&quot;)) {\r\n\t\t\twebEngine.load(url);\r\n\t\t}\r\n\t\telse {\r\n\t\t\twebEngine.loadContent(iframe);\r\n\t\t}\r\n...\r\n\r\n\t}\r\n```\r\n\r\nI Tried loading the page with and without iframe, as it is says that the delegated page must be wraped in ifram as it transfer data using postMessage/windowName protocol. both case has the same issue\r\nI used it with jdk 1.8 and 11, both has the same result.\r\nattempted to debug it by injecting firebug https://stackoverflow.com/questions/72387141/how-to-debug-javafx-webview-in-2022, but firebug did not loaded finally i could inject firebug into loaded page but i could not use the inspector or console to find a clue as firebug did not show scripts as of &quot;access to restricted URI&quot;  :(\r\nAlso tried to use setOnAlert and exceptionProperty events but they did not return any warning or errors.\r\n\r\n\r\n\r\nThank you in advance\r\n","title":"JavaFx + webview, stop sending back data to java listener stochastically, while webview loaded delegated UI in an iframe","body":"<p>I use javafx &amp; webview to load a delegated UI in new stage in an iframe. the page contain paginated table with checkbox,which the selected Items will be send back to my listener as json format.delegated UI provided by the server and I have no access to the source.as far as I know delegated page use dojo library.</p>\n<p>problem is that when clicking on the page number and selecting multiple items, sometimes when pressing OK button, it will not send data to my listener and it seems no event is working anymore as the cancel button also not send back event, but the drawer menue is working(if it use kind of script). the window must be reopen to work again.</p>\n<p>here is a snippet of how the page will be loaded:</p>\n<pre><code>private void openWebViewWindow(String url) {\n\n        ....\n\n        webViewStage = new Stage();\n        WebView webView = new WebView();\n        WebEngine webEngine = webView.getEngine();\n\n        // Enable JavaScript support\n        webEngine.setJavaScriptEnabled(true);\n\n\n        // Ignore SSL certificate validation\n        ignoreCertificateValidation();\n\n        // Load a blank page first\n        webEngine.loadContent(&quot;&quot;);\n\n        // Authenticate the user\n        authenticateUser(webEngine);\n\n        // Create the iframe HTML code\n        String iframe = &quot;&lt;div&gt;&lt;iframe id=\\&quot;myIframe\\&quot; src=\\&quot;&quot; + url + &quot;\\&quot; width=\\&quot;1024\\&quot; height=\\&quot;800\\&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&quot;;\n        iframe = &quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;div&gt;&lt;iframe id=\\&quot;myIframe\\&quot; src=\\&quot;&quot; + url + &quot;\\&quot; width=\\&quot;1024\\&quot; height=\\&quot;800\\&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\n\n        // Attach a Console object to intercept console messages\n        webEngine.setOnError(event -&gt; {\n            System.err.println(&quot;Web Engine Error: &quot; + event.getMessage());\n        });\n\n\n        // Add a JavaScript interface to the webEngine\n        webEngine.getLoadWorker().stateProperty().addListener((observable, oldValue, newValue) -&gt; {\n            if (newValue == Worker.State.SUCCEEDED) {\n                JSObject window = (JSObject) webEngine.executeScript(&quot;window&quot;);\n                window.setMember(&quot;javaAppListener&quot;, new ListenerClass());\n                webEngine.executeScript(&quot;window.addEventListener('message', function(event) { &quot;\n                        + &quot;javaAppListener.processEvent(event.data);&quot; + &quot;});&quot;);\n\n            }\n        });\n\n\n        // Create the scene and show the stage\n        Scene webViewScene = new Scene(webView, 1024, 800);\n        webViewStage.setScene(webViewScene);\n        webViewStage.show();\n\n\n        // Load the iframe content into the WebView\n        if(url.endsWith(&quot;condition&quot;)) {\n            webEngine.load(url);\n        }\n        else {\n            webEngine.loadContent(iframe);\n        }\n...\n\n    }\n</code></pre>\n<p>I Tried loading the page with and without iframe, as it is says that the delegated page must be wraped in ifram as it transfer data using postMessage/windowName protocol. both case has the same issue\nI used it with jdk 1.8 and 11, both has the same result.\nattempted to debug it by injecting firebug <a href=\"https://stackoverflow.com/questions/72387141/how-to-debug-javafx-webview-in-2022\">How to debug JavaFX webview in 2022</a>, but firebug did not loaded finally i could inject firebug into loaded page but i could not use the inspector or console to find a clue as firebug did not show scripts as of &quot;access to restricted URI&quot;  :(\nAlso tried to use setOnAlert and exceptionProperty events but they did not return any warning or errors.</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","tomcat"],"owner":{"account_id":11916276,"reputation":101,"user_id":8720085,"display_name":"Parab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699218217,"creation_date":1699217967,"question_id":77427653,"body_markdown":"I&#39;ve installed Apache Tomcat and active mq properly - both are running on their default port i.e 8080 and 61616 with default settings.\r\n\r\nI need to create connection-factory and topic for this I&#39;ve configured &#39;conf/context.xml&#39; of Tomcat as below.\r\n\r\n    &lt;Resource name=&quot;jms/ConnectionFactory&quot; auth=&quot;Container&quot;\r\n          type=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;\r\n          description=&quot;JMS Connection Factory&quot;\r\n          factory=&quot;org.apache.activemq.jndi.JNDIReferenceFactory&quot;\r\n          brokerURL=&quot;tcp://localhost:61616&quot;\r\n          brokerName=&quot;LocalActiveMQBroker&quot;/&gt;\r\n&#160;\r\n\r\nUpon booting up the server no issues were reported in Tomcat logs.\r\n\r\nNow I&#39;ve configured the ANT build script such that before building the final EAR package perform Junit. This Junit class &#39;ResourcesLocatorTest&#39; has a basic job to do - get Initial context, get connection factory, and get topic with jndi name. Upon locating these resources just put a message in the topic and assert it.\r\n\r\n    public class ResourcesLocatorTest {\r\n    @Test\r\n    public void testJms() throws Exception {\r\n        // Get the initial context\r\n        InitialContext context = new InitialContext();\r\n\r\n        // Lookup the connection factory\r\n        ConnectionFactory connectionFactory = (ConnectionFactory) context.lookup(&quot;jms/ConnectionFactory&quot;);\r\n\r\n        // Lookup the topic\r\n        Topic topic = (Topic) context.lookup(&quot;jms/Topic&quot;);\r\n\r\n        // Create a connection\r\n        Connection connection = connectionFactory.createConnection();\r\n\r\n        // Create a session\r\n        Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n\r\n        // Create a message producer\r\n        MessageProducer producer = session.createProducer(topic);\r\n\r\n        // Create a message consumer\r\n        MessageConsumer consumer = session.createConsumer(topic);\r\n\r\n        // Start the connection\r\n        connection.start();\r\n\r\n        // Send a message\r\n        TextMessage message = session.createTextMessage(&quot;Hello, World!&quot;);\r\n        producer.send(message);\r\n\r\n        // Receive a message\r\n        TextMessage receivedMessage = (TextMessage) consumer.receive(1000);\r\n\r\n        // Assert that the received message is the same as the sent message\r\n        assertEquals(message.getText(), receivedMessage.getText());\r\n\r\n        // Close the resources\r\n        consumer.close();\r\n        producer.close();\r\n        session.close();\r\n        connection.close();\r\n    }\r\n}\r\n\r\nWhen this test gets executed in console NameNotFoundException being thrown - &#39;jms/ConnectionFactory&#39; \r\n\r\nI suspect some connection issue here, since in my JUnit class I haven&#39;t defined the tomcat  URL. If yes, how to do it?","title":"Tomcat 9.0.82 - Unable to locate defined resources using jndi","body":"<p>I've installed Apache Tomcat and active mq properly - both are running on their default port i.e 8080 and 61616 with default settings.</p>\n<p>I need to create connection-factory and topic for this I've configured 'conf/context.xml' of Tomcat as below.</p>\n<pre><code>&lt;Resource name=&quot;jms/ConnectionFactory&quot; auth=&quot;Container&quot;\n      type=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;\n      description=&quot;JMS Connection Factory&quot;\n      factory=&quot;org.apache.activemq.jndi.JNDIReferenceFactory&quot;\n      brokerURL=&quot;tcp://localhost:61616&quot;\n      brokerName=&quot;LocalActiveMQBroker&quot;/&gt;\n</code></pre>\n<p> </p>\n<p>Upon booting up the server no issues were reported in Tomcat logs.</p>\n<p>Now I've configured the ANT build script such that before building the final EAR package perform Junit. This Junit class 'ResourcesLocatorTest' has a basic job to do - get Initial context, get connection factory, and get topic with jndi name. Upon locating these resources just put a message in the topic and assert it.</p>\n<pre><code>public class ResourcesLocatorTest {\n@Test\npublic void testJms() throws Exception {\n    // Get the initial context\n    InitialContext context = new InitialContext();\n\n    // Lookup the connection factory\n    ConnectionFactory connectionFactory = (ConnectionFactory) context.lookup(&quot;jms/ConnectionFactory&quot;);\n\n    // Lookup the topic\n    Topic topic = (Topic) context.lookup(&quot;jms/Topic&quot;);\n\n    // Create a connection\n    Connection connection = connectionFactory.createConnection();\n\n    // Create a session\n    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n\n    // Create a message producer\n    MessageProducer producer = session.createProducer(topic);\n\n    // Create a message consumer\n    MessageConsumer consumer = session.createConsumer(topic);\n\n    // Start the connection\n    connection.start();\n\n    // Send a message\n    TextMessage message = session.createTextMessage(&quot;Hello, World!&quot;);\n    producer.send(message);\n\n    // Receive a message\n    TextMessage receivedMessage = (TextMessage) consumer.receive(1000);\n\n    // Assert that the received message is the same as the sent message\n    assertEquals(message.getText(), receivedMessage.getText());\n\n    // Close the resources\n    consumer.close();\n    producer.close();\n    session.close();\n    connection.close();\n}\n</code></pre>\n<p>}</p>\n<p>When this test gets executed in console NameNotFoundException being thrown - 'jms/ConnectionFactory'</p>\n<p>I suspect some connection issue here, since in my JUnit class I haven't defined the tomcat  URL. If yes, how to do it?</p>\n"},{"tags":["java","database","spring","oracle","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458682615,"creation_date":1458682615,"answer_id":36165717,"question_id":36133468,"body_markdown":"You can use several different ways to archive your objective, for example:\r\n\r\n - [Follow this official doc and use Spring with jpa directly][1]\r\n - [This one  just adapted to spring-boot][2] in combination with [official spring jpa example][3]\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/articles/javaee/marx-oepe-spring-095718.html\r\n  [2]: https://springframework.guru/configuring-spring-boot-for-oracle/\r\n  [3]: https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples/spring-boot-sample-data-jpa","title":"How to connect from STS(spring tool suite) to database(oracle)","body":"<p>You can use several different ways to archive your objective, for example:</p>\n\n<ul>\n<li><a href=\"http://www.oracle.com/technetwork/articles/javaee/marx-oepe-spring-095718.html\" rel=\"nofollow\">Follow this official doc and use Spring with jpa directly</a></li>\n<li><a href=\"https://springframework.guru/configuring-spring-boot-for-oracle/\" rel=\"nofollow\">This one  just adapted to spring-boot</a> in combination with <a href=\"https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples/spring-boot-sample-data-jpa\" rel=\"nofollow\">official spring jpa example</a></li>\n</ul>\n"}],"owner":{"account_id":2898315,"reputation":11,"user_id":2485610,"display_name":"user2485610"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10702,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699218090,"creation_date":1458569882,"question_id":36133468,"body_markdown":"I am new at spring. I am trying to build my first web service, and I would like to connect to a database, get data, and return it as a JSON.\r\n\r\nI use the spring example https://spring.io/guides/gs/rest-service and I change it a bit, so I can get a war file.\r\n\r\nMy server that war file will deploy is Wildfly 8.2.0.\r\n\r\nI want to connect to oracle 11g database and run SQL queries. Can you help me?\r\n\r\nMy code is posted below.\r\n\r\n[My project format in eclipse][1]\r\n\r\nApplication.java:\r\n\r\n    package hello;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.builder.SpringApplicationBuilder;\r\n    import org.springframework.boot.context.web.SpringBootServletInitializer;\r\n\r\n    @SpringBootApplication\r\n    public class Application extends SpringBootServletInitializer {\r\n\r\n    \r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(Application.class);\r\n    }\r\n\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n\r\n    \r\n    }\r\n\r\nGreeting.java:\r\n\r\n    package hello;\r\n\r\n    public class Greeting {\r\n\r\n    private final long id;\r\n    private final String content;\r\n\r\n    public Greeting(long id, String content) {\r\n        this.id = id;\r\n        this.content = content;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getContent() {\r\n        return content;\r\n    }\r\n    }\r\n\r\nGreetingController.java:\r\n\r\n\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n\r\n    @RestController\r\n    public class GreetingController {\r\n\r\n    \r\n    private static final String template = &quot;Hello, %s!&quot;;\r\n    private final AtomicLong counter = new AtomicLong();\r\n\r\n    \r\n    @RequestMapping(value=&quot;/greeting&quot;,method=RequestMethod.GET)\r\n    public List&lt;Greeting&gt; greeting(@RequestParam(value=&quot;name&quot;, defaultValue=&quot;World&quot;) String name,\r\n                                   @RequestParam(value=&quot;content&quot;, defaultValue=&quot;World&quot;) String content,HttpServletResponse response) {\r\n        List&lt;Greeting&gt; list_greet = new ArrayList&lt;Greeting&gt;();\r\n        list_greet.add(new Greeting(counter.incrementAndGet(),\r\n                                    String.format(template, name)));\r\n        list_greet.add(new Greeting(counter.incrementAndGet(),\r\n                                    String.format(template, content)));\r\n        list_greet.add(new Greeting(counter.incrementAndGet(),\r\n                                    String.format(template, name)));\r\n        list_greet.add(new Greeting(counter.incrementAndGet(),\r\n                                    String.format(template, name)));\r\n        //to have webservice work,beacause cors cut it out.\r\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\r\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;x-requested-with&quot;);\r\n\r\n        \r\n        return list_greet;\r\n    }\r\n    }\r\n\r\n\r\npom.xml:\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gs-rest-service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1.0&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t   &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-releases&lt;/id&gt;\r\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;spring-releases&lt;/id&gt;\r\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nThanks in advance!\r\n\r\n  [1]: https://i.stack.imgur.com/NZ8yQ.png","title":"How to connect from STS(spring tool suite) to database(oracle)","body":"<p>I am new at spring. I am trying to build my first web service, and I would like to connect to a database, get data, and return it as a JSON.</p>\n\n<p>I use the spring example <a href=\"https://spring.io/guides/gs/rest-service\" rel=\"nofollow\">https://spring.io/guides/gs/rest-service</a> and I change it a bit, so I can get a war file.</p>\n\n<p>My server that war file will deploy is Wildfly 8.2.0.</p>\n\n<p>I want to connect to oracle 11g database and run SQL queries. Can you help me?</p>\n\n<p>My code is posted below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/NZ8yQ.png\" rel=\"nofollow\">My project format in eclipse</a></p>\n\n<p>Application.java:</p>\n\n<pre><code>package hello;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.context.web.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n\n\n@Override\nprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n    return application.sources(Application.class);\n}\n\n\npublic static void main(String[] args) throws Exception {\n    SpringApplication.run(Application.class, args);\n}\n\n\n}\n</code></pre>\n\n<p>Greeting.java:</p>\n\n<pre><code>package hello;\n\npublic class Greeting {\n\nprivate final long id;\nprivate final String content;\n\npublic Greeting(long id, String content) {\n    this.id = id;\n    this.content = content;\n}\n\npublic long getId() {\n    return id;\n}\n\npublic String getContent() {\n    return content;\n}\n}\n</code></pre>\n\n<p>GreetingController.java:</p>\n\n<pre><code>import org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n\n@RestController\npublic class GreetingController {\n\n\nprivate static final String template = \"Hello, %s!\";\nprivate final AtomicLong counter = new AtomicLong();\n\n\n@RequestMapping(value=\"/greeting\",method=RequestMethod.GET)\npublic List&lt;Greeting&gt; greeting(@RequestParam(value=\"name\", defaultValue=\"World\") String name,\n                               @RequestParam(value=\"content\", defaultValue=\"World\") String content,HttpServletResponse response) {\n    List&lt;Greeting&gt; list_greet = new ArrayList&lt;Greeting&gt;();\n    list_greet.add(new Greeting(counter.incrementAndGet(),\n                                String.format(template, name)));\n    list_greet.add(new Greeting(counter.incrementAndGet(),\n                                String.format(template, content)));\n    list_greet.add(new Greeting(counter.incrementAndGet(),\n                                String.format(template, name)));\n    list_greet.add(new Greeting(counter.incrementAndGet(),\n                                String.format(template, name)));\n    //to have webservice work,beacause cors cut it out.\n    response.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n    response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, DELETE\");\n    response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n    response.setHeader(\"Access-Control-Allow-Headers\", \"x-requested-with\");\n\n\n    return list_greet;\n}\n}\n</code></pre>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.springframework&lt;/groupId&gt;\n&lt;artifactId&gt;gs-rest-service&lt;/artifactId&gt;\n&lt;version&gt;0.1.0&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n   &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","github-actions","cicd","pmd"],"owner":{"account_id":540053,"reputation":3780,"user_id":908124,"accept_rate":52,"display_name":"NNikN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699216417,"creation_date":1699216417,"question_id":77427581,"body_markdown":"I have the java code at following location - someRootFolder/someproject/src/main/java. And performing a static code analysis the Action runs and succeeds but no report. \r\n\r\nHow do I make sure it&#39;s working and report is generated for the files scanned.\r\n\r\nAlso looking to add a condition in case reports has failure block the code review request.\r\n \r\n```\r\nname: pmd-for-java\r\nrun-name: ${{ github.actor }} PMD\r\non: [push]\r\njobs:\r\n  pmd-for-java-job:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      # You may pin to the exact commit or the version.\r\n      - uses: actions/checkout@v3\r\n      - uses: actions/setup-java@v3\r\n        with:\r\n          distribution: &#39;temurin&#39;\r\n          java-version: &#39;11&#39;\r\n      - uses: pmd/pmd-github-action@v1\r\n        id: pmd\r\n        with:\r\n          version: &#39;6.40.0&#39;\r\n          sourcePath: &#39;someRootFolder/someproject/src/main/java&#39;   \r\n```\r\n","title":"PMD java Scan report Github actions workflow","body":"<p>I have the java code at following location - someRootFolder/someproject/src/main/java. And performing a static code analysis the Action runs and succeeds but no report.</p>\n<p>How do I make sure it's working and report is generated for the files scanned.</p>\n<p>Also looking to add a condition in case reports has failure block the code review request.</p>\n<pre><code>name: pmd-for-java\nrun-name: ${{ github.actor }} PMD\non: [push]\njobs:\n  pmd-for-java-job:\n    runs-on: ubuntu-latest\n    steps:\n      # You may pin to the exact commit or the version.\n      - uses: actions/checkout@v3\n      - uses: actions/setup-java@v3\n        with:\n          distribution: 'temurin'\n          java-version: '11'\n      - uses: pmd/pmd-github-action@v1\n        id: pmd\n        with:\n          version: '6.40.0'\n          sourcePath: 'someRootFolder/someproject/src/main/java'   \n</code></pre>\n"},{"tags":["java","string","replace"],"comments":[{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":0,"creation_date":1679032004,"post_id":10827872,"comment_id":133651357,"body_markdown":"Check out [this](https://github.com/openjdk/jdk/commit/f35750c5d63f5df4d31322b372e25c01696028df) commit.","body":"Check out <a href=\"https://github.com/openjdk/jdk/commit/f35750c5d63f5df4d31322b372e25c01696028df\" rel=\"nofollow noreferrer\">this</a> commit."}],"answers":[{"tags":[],"owner":{"account_id":304031,"reputation":12865,"user_id":613318,"accept_rate":68,"display_name":"emilan"},"down_vote_count":1,"up_vote_count":250,"is_accepted":true,"score":249,"last_activity_date":1699216219,"creation_date":1338442087,"answer_id":10827900,"question_id":10827872,"body_markdown":"* In [`java.lang.String`][1], the `replace` method either takes a pair of char&#39;s or a pair of `CharSequence`&#39;s (which String is implementing, so it&#39;ll happily take a pair of String&#39;s). The `replace` method will replace all occurrences of a char or `CharSequence`.\r\n* On the other hand, the first  `String` arguments of `replaceFirst` and `replaceAll` are regular expressions (regex).\r\n\r\nUsing the wrong function can lead to subtle bugs.\r\n\r\n---\r\n\r\nRelevant sections from [`java.lang.String`][1]:\r\n\r\n* `String replace(char oldChar, char newChar)`  \r\nReturns a new string resulting from replacing all occurrences of oldChar in this string with newChar.\r\n\r\n* `String replace(CharSequence target, CharSequence replacement)`  \r\nReplaces each substring of this string that matches the literal target sequence with the specified literal replacement sequence.\r\n\r\n* `String replaceAll(String regex, String replacement)`  \r\nReplaces each substring of this string that matches the given regular expression with the given replacement.\r\n\r\n* `String replaceFirst(String regex, String replacement)`  \r\nReplaces the first substring of this string that matches the given regular expression with the given replacement.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html","title":"Difference between String replace() and replaceAll()","body":"<ul>\n<li>In <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>java.lang.String</code></a>, the <code>replace</code> method either takes a pair of char's or a pair of <code>CharSequence</code>'s (which String is implementing, so it'll happily take a pair of String's). The <code>replace</code> method will replace all occurrences of a char or <code>CharSequence</code>.</li>\n<li>On the other hand, the first  <code>String</code> arguments of <code>replaceFirst</code> and <code>replaceAll</code> are regular expressions (regex).</li>\n</ul>\n<p>Using the wrong function can lead to subtle bugs.</p>\n<hr />\n<p>Relevant sections from <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>java.lang.String</code></a>:</p>\n<ul>\n<li><p><code>String replace(char oldChar, char newChar)</code><br />\nReturns a new string resulting from replacing all occurrences of oldChar in this string with newChar.</p>\n</li>\n<li><p><code>String replace(CharSequence target, CharSequence replacement)</code><br />\nReplaces each substring of this string that matches the literal target sequence with the specified literal replacement sequence.</p>\n</li>\n<li><p><code>String replaceAll(String regex, String replacement)</code><br />\nReplaces each substring of this string that matches the given regular expression with the given replacement.</p>\n</li>\n<li><p><code>String replaceFirst(String regex, String replacement)</code><br />\nReplaces the first substring of this string that matches the given regular expression with the given replacement.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":157,"is_accepted":false,"score":157,"last_activity_date":1606315983,"creation_date":1338442153,"answer_id":10827912,"question_id":10827872,"body_markdown":"**Q:** What&#39;s the difference between the `java.lang.String` methods `replace()` and `replaceAll()`, other than that the latter uses regex. \r\n\r\n**A:** Just the regex.  They both **replace all** :)\r\n\r\nhttp://docs.oracle.com/javase/8/docs/api/java/lang/String.html\r\n\r\nPS:\r\n\r\nThere&#39;s also a `replaceFirst()` (which takes a regex)","title":"Difference between String replace() and replaceAll()","body":"<p><strong>Q:</strong> What's the difference between the <code>java.lang.String</code> methods <code>replace()</code> and <code>replaceAll()</code>, other than that the latter uses regex.</p>\n<p><strong>A:</strong> Just the regex.  They both <strong>replace all</strong> :)</p>\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/docs/api/java/lang/String.html</a></p>\n<p>PS:</p>\n<p>There's also a <code>replaceFirst()</code> (which takes a regex)</p>\n"},{"tags":[],"owner":{"account_id":1462165,"reputation":3978,"user_id":1376167,"accept_rate":88,"display_name":"Surender Thakran"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1512770546,"creation_date":1338442402,"answer_id":10827945,"question_id":10827872,"body_markdown":"The `replace()` method is overloaded to accept both a primitive `char` and a `CharSequence` as arguments.\r\n\r\nNow as far as the performance is concerned, the `replace()` method is a bit faster than `replaceAll()` because the latter first compiles the regex pattern and then matches before finally replacing whereas the former simply matches for the provided argument and replaces.\r\n\r\nSince we know the regex pattern matching is a bit more complex and consequently slower, then preferring `replace()` over `replaceAll()` is suggested whenever possible.\r\n\r\nFor example, for simple substitutions like you mentioned, it is better to use:\r\n\r\n    replace(&#39;.&#39;, &#39;\\\\&#39;);\r\n\r\ninstead of:\r\n\r\n    replaceAll(&quot;\\\\.&quot;, &quot;\\\\\\\\&quot;);\r\n\r\nNote: the above conversion method arguments are system-dependent.","title":"Difference between String replace() and replaceAll()","body":"<p>The <code>replace()</code> method is overloaded to accept both a primitive <code>char</code> and a <code>CharSequence</code> as arguments.</p>\n\n<p>Now as far as the performance is concerned, the <code>replace()</code> method is a bit faster than <code>replaceAll()</code> because the latter first compiles the regex pattern and then matches before finally replacing whereas the former simply matches for the provided argument and replaces.</p>\n\n<p>Since we know the regex pattern matching is a bit more complex and consequently slower, then preferring <code>replace()</code> over <code>replaceAll()</code> is suggested whenever possible.</p>\n\n<p>For example, for simple substitutions like you mentioned, it is better to use:</p>\n\n<pre><code>replace('.', '\\\\');\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>replaceAll(\"\\\\.\", \"\\\\\\\\\");\n</code></pre>\n\n<p>Note: the above conversion method arguments are system-dependent.</p>\n"},{"tags":[],"owner":{"account_id":1513180,"reputation":7944,"user_id":1414799,"accept_rate":56,"display_name":"Pramod Kumar"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1338442551,"creation_date":1338442551,"answer_id":10827970,"question_id":10827872,"body_markdown":"replace works on char data type but replaceAll works on String datatype and both replace the all occurrences of first argument with second argument.","title":"Difference between String replace() and replaceAll()","body":"<p>replace works on char data type but replaceAll works on String datatype and both replace the all occurrences of first argument with second argument.</p>\n"},{"tags":[],"owner":{"account_id":273560,"reputation":6511,"user_id":565244,"accept_rate":70,"display_name":"Codebeat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395494330,"creation_date":1395494330,"answer_id":22578124,"question_id":10827872,"body_markdown":"Old thread I know but I am sort of new to Java and discover one of it&#39;s strange things. I have used `String.replaceAll()` but get unpredictable results.\r\n\r\nSomething like this mess up the string:\r\n\r\n    sUrl = sUrl.replaceAll( &quot;./&quot;, &quot;//&quot;).replaceAll( &quot;//&quot;, &quot;/&quot;);\r\n\r\nSo I designed this function to get around the weird problem:\r\n\r\n    //String.replaceAll does not work OK, that&#39;s why this function is here\r\n    public String strReplace( String s1, String s2, String s ) \r\n    {\r\n        if((( s == null ) || (s.length() == 0 )) || (( s1 == null ) || (s1.length() == 0 )))\r\n         { return s; }\r\n       \r\n       while( (s != null) &amp;&amp; (s.indexOf( s1 ) &gt;= 0) )\r\n        { s = s.replace( s1, s2 ); }\r\n      return s;\r\n    }\r\n\r\nWhich make you able to do:\r\n\r\n    sUrl=this.strReplace(&quot;./&quot;, &quot;//&quot;, sUrl );\r\n    sUrl=this.strReplace( &quot;//&quot;, &quot;/&quot;, sUrl );\r\n\r\n \r\n\r\n\r\n","title":"Difference between String replace() and replaceAll()","body":"<p>Old thread I know but I am sort of new to Java and discover one of it's strange things. I have used <code>String.replaceAll()</code> but get unpredictable results.</p>\n\n<p>Something like this mess up the string:</p>\n\n<pre><code>sUrl = sUrl.replaceAll( \"./\", \"//\").replaceAll( \"//\", \"/\");\n</code></pre>\n\n<p>So I designed this function to get around the weird problem:</p>\n\n<pre><code>//String.replaceAll does not work OK, that's why this function is here\npublic String strReplace( String s1, String s2, String s ) \n{\n    if((( s == null ) || (s.length() == 0 )) || (( s1 == null ) || (s1.length() == 0 )))\n     { return s; }\n\n   while( (s != null) &amp;&amp; (s.indexOf( s1 ) &gt;= 0) )\n    { s = s.replace( s1, s2 ); }\n  return s;\n}\n</code></pre>\n\n<p>Which make you able to do:</p>\n\n<pre><code>sUrl=this.strReplace(\"./\", \"//\", sUrl );\nsUrl=this.strReplace( \"//\", \"/\", sUrl );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5556407,"reputation":41,"user_id":4407616,"display_name":"S. Rahul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1430379637,"creation_date":1430379277,"answer_id":29961730,"question_id":10827872,"body_markdown":"    String replace(char oldChar, char newChar)\r\n\r\nReturns a new string resulting from replacing all occurrences of oldChar in this string with newChar.\r\n\r\n    String replaceAll(String regex, String replacement\r\n\r\nReplaces each substring of this string that matches the given regular expression with the given replacement.\r\n\r\n","title":"Difference between String replace() and replaceAll()","body":"<pre><code>String replace(char oldChar, char newChar)\n</code></pre>\n\n<p>Returns a new string resulting from replacing all occurrences of oldChar in this string with newChar.</p>\n\n<pre><code>String replaceAll(String regex, String replacement\n</code></pre>\n\n<p>Replaces each substring of this string that matches the given regular expression with the given replacement.</p>\n"},{"tags":[],"owner":{"account_id":4897302,"reputation":135,"user_id":3946466,"accept_rate":86,"display_name":"aman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1444643421,"creation_date":1433920057,"answer_id":30749407,"question_id":10827872,"body_markdown":"`replace()` method doesn&#39;t uses regex pattern whereas `replaceAll()` method uses regex pattern. So `replace()` performs faster than `replaceAll()`.","title":"Difference between String replace() and replaceAll()","body":"<p><code>replace()</code> method doesn't uses regex pattern whereas <code>replaceAll()</code> method uses regex pattern. So <code>replace()</code> performs faster than <code>replaceAll()</code>.</p>\n"},{"tags":[],"owner":{"account_id":6821772,"reputation":467,"user_id":5248705,"display_name":"Aarya"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1455691266,"creation_date":1455689626,"answer_id":35449197,"question_id":10827872,"body_markdown":"1. Both replace() and replaceAll() accepts two arguments and replaces all occurrences of the first substring(first argument) in a string with the second substring (second argument).\r\n2. replace() accepts a pair of char or charsequence and replaceAll() accepts a pair of regex.\r\n3. It is not true that replace() works faster than replaceAll() since both uses the same code in its implementation\r\n\r\n    Pattern.compile(regex).matcher(this).replaceAll(replacement);\r\n\r\nNow the question is when to use replace and when to use replaceAll().\r\nWhen you want to replace a substring with another substring regardless of its place of occurrence in the string use replace(). But if you have some particular preference or condition like replace only those substrings at the beginning or end of a string use replaceAll(). Here are some examples to prove my point:\r\n\r\n    String str = new String(&quot;==qwerty==&quot;).replaceAll(&quot;^==&quot;, &quot;?&quot;); \\\\str: &quot;?qwerty==&quot;\r\n    String str = new String(&quot;==qwerty==&quot;).replaceAll(&quot;==$&quot;, &quot;?&quot;); \\\\str: &quot;==qwerty?&quot;\r\n    String str = new String(&quot;===qwerty==&quot;).replaceAll(&quot;(=)+&quot;, &quot;?&quot;); \\\\str: &quot;?qwerty?&quot;","title":"Difference between String replace() and replaceAll()","body":"<ol>\n<li>Both replace() and replaceAll() accepts two arguments and replaces all occurrences of the first substring(first argument) in a string with the second substring (second argument).</li>\n<li>replace() accepts a pair of char or charsequence and replaceAll() accepts a pair of regex.</li>\n<li><p>It is not true that replace() works faster than replaceAll() since both uses the same code in its implementation</p>\n\n<p>Pattern.compile(regex).matcher(this).replaceAll(replacement);</p></li>\n</ol>\n\n<p>Now the question is when to use replace and when to use replaceAll().\nWhen you want to replace a substring with another substring regardless of its place of occurrence in the string use replace(). But if you have some particular preference or condition like replace only those substrings at the beginning or end of a string use replaceAll(). Here are some examples to prove my point:</p>\n\n<pre><code>String str = new String(\"==qwerty==\").replaceAll(\"^==\", \"?\"); \\\\str: \"?qwerty==\"\nString str = new String(\"==qwerty==\").replaceAll(\"==$\", \"?\"); \\\\str: \"==qwerty?\"\nString str = new String(\"===qwerty==\").replaceAll(\"(=)+\", \"?\"); \\\\str: \"?qwerty?\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10022197,"reputation":21,"user_id":7411547,"display_name":"Keith Crews"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487973535,"creation_date":1487973535,"answer_id":42448996,"question_id":10827872,"body_markdown":"As alluded to in wickeD&#39;s answer, with replaceAll the replacement string is handled differently between replace and replaceAll.  I expected a[3] and a[4] to have the same value, but they are different.\r\n\r\n    public static void main(String[] args) {\r\n        String[] a = new String[5];\r\n        a[0] = &quot;\\\\&quot;;\r\n        a[1] = &quot;X&quot;;\r\n        a[2] = a[0] + a[1];\r\n        a[3] = a[1].replaceAll(&quot;X&quot;, a[0] + &quot;X&quot;);\r\n        a[4] = a[1].replace(&quot;X&quot;, a[0] + &quot;X&quot;);\r\n        \r\n        for (String s : a) {\r\n            System.out.println(s + &quot;\\t&quot; + s.length());\r\n        }\r\n    }\r\n\r\nThe output of this is:\r\n\r\n    \\\t1\r\n    X\t1\r\n    \\X\t2\r\n    X\t1\r\n    \\X\t2\r\n\r\nThis is different from perl where the replacement does not require the extra level of escaping:\r\n\r\n    #!/bin/perl\r\n    $esc = &quot;\\\\&quot;;\r\n    $s = &quot;X&quot;;\r\n    \r\n    $s =~ s/X/${esc}X/;\r\n    print &quot;$s &quot; . length($s) . &quot;\\n&quot;;\r\n\r\nwhich prints\r\n\\X 2\r\n\r\nThis can be quite a nuisance, as when trying to use the value returned by java.sql.DatabaseMetaData.getSearchStringEscape() with replaceAll().","title":"Difference between String replace() and replaceAll()","body":"<p>As alluded to in wickeD's answer, with replaceAll the replacement string is handled differently between replace and replaceAll.  I expected a[3] and a[4] to have the same value, but they are different.</p>\n\n<pre><code>public static void main(String[] args) {\n    String[] a = new String[5];\n    a[0] = \"\\\\\";\n    a[1] = \"X\";\n    a[2] = a[0] + a[1];\n    a[3] = a[1].replaceAll(\"X\", a[0] + \"X\");\n    a[4] = a[1].replace(\"X\", a[0] + \"X\");\n\n    for (String s : a) {\n        System.out.println(s + \"\\t\" + s.length());\n    }\n}\n</code></pre>\n\n<p>The output of this is:</p>\n\n<pre><code>\\   1\nX   1\n\\X  2\nX   1\n\\X  2\n</code></pre>\n\n<p>This is different from perl where the replacement does not require the extra level of escaping:</p>\n\n<pre><code>#!/bin/perl\n$esc = \"\\\\\";\n$s = \"X\";\n\n$s =~ s/X/${esc}X/;\nprint \"$s \" . length($s) . \"\\n\";\n</code></pre>\n\n<p>which prints\n\\X 2</p>\n\n<p>This can be quite a nuisance, as when trying to use the value returned by java.sql.DatabaseMetaData.getSearchStringEscape() with replaceAll().</p>\n"},{"tags":[],"owner":{"account_id":4531600,"reputation":491487,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1515162327,"creation_date":1510626499,"answer_id":47276732,"question_id":10827872,"body_markdown":"Both `replace()` and `replaceAll()` replace all occurrences in the String.\r\n\r\n#Examples \r\n\r\nI always find examples helpful to understand the differences.\r\n\r\n#[`replace()`][1]\r\n\r\nUse `replace()` if you just want to replace some `char` with another `char` or some `String` with another `String` (actually `CharSequence`).\r\n\r\n**Example 1**\r\n\r\nReplace all occurrences of the character `x` with `o`. \r\n\r\n    String myString = &quot;__x___x___x_x____xx_&quot;;\r\n\r\n    char oldChar = &#39;x&#39;;\r\n    char newChar = &#39;o&#39;;\r\n\r\n    String newString = myString.replace(oldChar, newChar);\r\n    // __o___o___o_o____oo_\r\n\r\n**Example 2**\r\n\r\nReplace all occurrences of the string `fish` with `sheep`. \r\n\r\n    String myString = &quot;one fish, two fish, three fish&quot;;\r\n\r\n    String target = &quot;fish&quot;;\r\n    String replacement = &quot;sheep&quot;;\r\n\r\n    String newString = myString.replace(target, replacement);\r\n    // one sheep, two sheep, three sheep\r\n\r\n#[`replaceAll()`][2]\r\n\r\nUse `replaceAll()` if you want to use a [regular expression pattern][3].\r\n\r\n**Example 3**\r\n\r\nReplace any number with an `x`.\r\n\r\n    String myString = &quot;__1_6____3__6_345____0&quot;;\r\n\r\n    String regex = &quot;\\\\d&quot;;\r\n    String replacement = &quot;x&quot;;\r\n\r\n    String newString = myString.replaceAll(regex, replacement); \r\n    // __x_x____x__x_xxx____x\r\n\r\n**Example 4**\r\n\r\nRemove all whitespace.\r\n\r\n    String myString = &quot;   Horse         Cow\\n\\n   \\r Camel \\t\\t Sheep \\n Goat        &quot;;\r\n\r\n    String regex = &quot;\\\\s&quot;;\r\n    String replacement = &quot;&quot;;\r\n\r\n    String newString = myString.replaceAll(regex, replacement); \r\n    // HorseCowCamelSheepGoat\r\n\r\n#See also\r\n\r\nDocumentation\r\n\r\n- [`replace(char oldChar, char newChar)`][4]\r\n- [`replace(CharSequence target, CharSequence replacement)`][1]\r\n- [`replaceAll(String regex, String replacement)`][2]\r\n- [`replaceFirst(String regex, String replacement)`][5]\r\n\r\nRegular Expressions\r\n\r\n- [Tutorial][6]\r\n- [List of patterns][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace(java.lang.CharSequence,%20java.lang.CharSequence)\r\n  [2]: https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)\r\n  [3]: https://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#sum\r\n  [4]: https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace(char,%20char)\r\n  [5]: http://replaceFirst(String%20regex,%20String%20replacement)\r\n  [6]: http://www.ocpsoft.org/opensource/guide-to-regular-expressions-in-java-part-1/","title":"Difference between String replace() and replaceAll()","body":"<p>Both <code>replace()</code> and <code>replaceAll()</code> replace all occurrences in the String.</p>\n\n<h1>Examples</h1>\n\n<p>I always find examples helpful to understand the differences.</p>\n\n<h1><a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace(java.lang.CharSequence,%20java.lang.CharSequence)\" rel=\"noreferrer\"><code>replace()</code></a></h1>\n\n<p>Use <code>replace()</code> if you just want to replace some <code>char</code> with another <code>char</code> or some <code>String</code> with another <code>String</code> (actually <code>CharSequence</code>).</p>\n\n<p><strong>Example 1</strong></p>\n\n<p>Replace all occurrences of the character <code>x</code> with <code>o</code>. </p>\n\n<pre><code>String myString = \"__x___x___x_x____xx_\";\n\nchar oldChar = 'x';\nchar newChar = 'o';\n\nString newString = myString.replace(oldChar, newChar);\n// __o___o___o_o____oo_\n</code></pre>\n\n<p><strong>Example 2</strong></p>\n\n<p>Replace all occurrences of the string <code>fish</code> with <code>sheep</code>. </p>\n\n<pre><code>String myString = \"one fish, two fish, three fish\";\n\nString target = \"fish\";\nString replacement = \"sheep\";\n\nString newString = myString.replace(target, replacement);\n// one sheep, two sheep, three sheep\n</code></pre>\n\n<h1><a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)\" rel=\"noreferrer\"><code>replaceAll()</code></a></h1>\n\n<p>Use <code>replaceAll()</code> if you want to use a <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#sum\" rel=\"noreferrer\">regular expression pattern</a>.</p>\n\n<p><strong>Example 3</strong></p>\n\n<p>Replace any number with an <code>x</code>.</p>\n\n<pre><code>String myString = \"__1_6____3__6_345____0\";\n\nString regex = \"\\\\d\";\nString replacement = \"x\";\n\nString newString = myString.replaceAll(regex, replacement); \n// __x_x____x__x_xxx____x\n</code></pre>\n\n<p><strong>Example 4</strong></p>\n\n<p>Remove all whitespace.</p>\n\n<pre><code>String myString = \"   Horse         Cow\\n\\n   \\r Camel \\t\\t Sheep \\n Goat        \";\n\nString regex = \"\\\\s\";\nString replacement = \"\";\n\nString newString = myString.replaceAll(regex, replacement); \n// HorseCowCamelSheepGoat\n</code></pre>\n\n<h1>See also</h1>\n\n<p>Documentation</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace(char,%20char)\" rel=\"noreferrer\"><code>replace(char oldChar, char newChar)</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace(java.lang.CharSequence,%20java.lang.CharSequence)\" rel=\"noreferrer\"><code>replace(CharSequence target, CharSequence replacement)</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)\" rel=\"noreferrer\"><code>replaceAll(String regex, String replacement)</code></a></li>\n<li><a href=\"http://replaceFirst(String%20regex,%20String%20replacement)\" rel=\"noreferrer\"><code>replaceFirst(String regex, String replacement)</code></a></li>\n</ul>\n\n<p>Regular Expressions</p>\n\n<ul>\n<li><a href=\"http://www.ocpsoft.org/opensource/guide-to-regular-expressions-in-java-part-1/\" rel=\"noreferrer\">Tutorial</a></li>\n<li><a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#sum\" rel=\"noreferrer\">List of patterns</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578432539,"creation_date":1578432539,"answer_id":59636325,"question_id":10827872,"body_markdown":"To add to the already selected &quot;Best Answer&quot; (and others that are just as good like Suragch&#39;s), `String.replace()` is constrained by replacing characters that are sequential (thus taking `CharSequence`). However, `String.replaceAll()` is not constrained by replacing sequential characters only. You could replace non-sequential characters as well as long as your regular expression is constructed in such a way.\r\n\r\nAlso (most importantly and painfully obvious), `replace()` can only replace literal values; whereas `replaceAll` can replace &#39;like&#39; sequences (not necessarily identical).","title":"Difference between String replace() and replaceAll()","body":"<p>To add to the already selected \"Best Answer\" (and others that are just as good like Suragch's), <code>String.replace()</code> is constrained by replacing characters that are sequential (thus taking <code>CharSequence</code>). However, <code>String.replaceAll()</code> is not constrained by replacing sequential characters only. You could replace non-sequential characters as well as long as your regular expression is constructed in such a way.</p>\n\n<p>Also (most importantly and painfully obvious), <code>replace()</code> can only replace literal values; whereas <code>replaceAll</code> can replace 'like' sequences (not necessarily identical).</p>\n"},{"tags":[],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599140971,"creation_date":1599140971,"answer_id":63725052,"question_id":10827872,"body_markdown":"From Java 9 there is some optimizations in replace method.\r\n\r\nIn Java 8 it uses a regex.\r\n\r\n    public String replace(CharSequence target, CharSequence replacement) {\r\n        return Pattern.compile(target.toString(), Pattern.LITERAL).matcher(\r\n                this).replaceAll(Matcher.quoteReplacement(replacement.toString()));\r\n    }\r\n\r\nFrom Java 9 and on.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd Stringlatin implementation.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhich perform way better.\r\n\r\n[https://medium.com/madhash/composite-pattern-in-a-nutshell-ad1bf78479cc?source=post_internal_links---------2------------------][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TMb7B.png\r\n  [2]: https://i.stack.imgur.com/7RW94.png\r\n  [3]: https://medium.com/madhash/composite-pattern-in-a-nutshell-ad1bf78479cc?source=post_internal_links---------2------------------","title":"Difference between String replace() and replaceAll()","body":"<p>From Java 9 there is some optimizations in replace method.</p>\n<p>In Java 8 it uses a regex.</p>\n<pre><code>public String replace(CharSequence target, CharSequence replacement) {\n    return Pattern.compile(target.toString(), Pattern.LITERAL).matcher(\n            this).replaceAll(Matcher.quoteReplacement(replacement.toString()));\n}\n</code></pre>\n<p>From Java 9 and on.</p>\n<p><a href=\"https://i.stack.imgur.com/TMb7B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TMb7B.png\" alt=\"enter image description here\" /></a></p>\n<p>And Stringlatin implementation.</p>\n<p><a href=\"https://i.stack.imgur.com/7RW94.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7RW94.png\" alt=\"enter image description here\" /></a></p>\n<p>Which perform way better.</p>\n<p><a href=\"https://medium.com/madhash/composite-pattern-in-a-nutshell-ad1bf78479cc?source=post_internal_links---------2------------------\" rel=\"nofollow noreferrer\">https://medium.com/madhash/composite-pattern-in-a-nutshell-ad1bf78479cc?source=post_internal_links---------2------------------</a></p>\n"},{"tags":[],"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1621845430,"creation_date":1621845430,"answer_id":67668989,"question_id":10827872,"body_markdown":"To throw more light with an example into how both are going to work for below code:\r\n\r\n```\r\npublic static void main(String[] args)\r\n{\r\n    String s = &quot;My\\\\s aaab\\\\s is\\\\s aaab\\\\s name&quot;;\r\n    String s1 = s.replace(&quot;\\\\s&quot;, &quot;c&quot;);\r\n    System.out.println(s1);\r\n    String s2 = s.replaceAll(&quot;\\\\s&quot;, &quot;c&quot;);\r\n    System.out.println(s2);\r\n}\r\n```\r\n\r\n**Output:**\r\n```\r\nMyc aaabc isc aaabc name\r\nMy\\scaaab\\scis\\scaaab\\scname\r\n```\r\n\r\n**Explanation**\r\n\r\ns.replace replaces &quot;\\\\\\s&quot; sequence of characters with c. Hence, the output in first line.\r\ns.replaceAll considers \\\\\\s as a regex rather(equivalent to space) and replaces spaces with c. \\\\\\s in String s is escaped with first \\ encountered and becomes \\s.\r\n\r\nIntellij Idea is smart enough to notify you of the usage as well. If you take a closer look at below image, you will see the difference in interpretation by Intellij idea for replace and replaceAll usage.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ICXW7.png","title":"Difference between String replace() and replaceAll()","body":"<p>To throw more light with an example into how both are going to work for below code:</p>\n<pre><code>public static void main(String[] args)\n{\n    String s = &quot;My\\\\s aaab\\\\s is\\\\s aaab\\\\s name&quot;;\n    String s1 = s.replace(&quot;\\\\s&quot;, &quot;c&quot;);\n    System.out.println(s1);\n    String s2 = s.replaceAll(&quot;\\\\s&quot;, &quot;c&quot;);\n    System.out.println(s2);\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Myc aaabc isc aaabc name\nMy\\scaaab\\scis\\scaaab\\scname\n</code></pre>\n<p><strong>Explanation</strong></p>\n<p>s.replace replaces &quot;\\\\s&quot; sequence of characters with c. Hence, the output in first line.\ns.replaceAll considers \\\\s as a regex rather(equivalent to space) and replaces spaces with c. \\\\s in String s is escaped with first \\ encountered and becomes \\s.</p>\n<p>Intellij Idea is smart enough to notify you of the usage as well. If you take a closer look at below image, you will see the difference in interpretation by Intellij idea for replace and replaceAll usage.</p>\n<p><a href=\"https://i.stack.imgur.com/ICXW7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ICXW7.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":30602,"reputation":12424,"user_id":83501,"accept_rate":78,"display_name":"Jijoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335755,"favorite_count":0,"down_vote_count":2,"up_vote_count":320,"accepted_answer_id":10827900,"answer_count":13,"score":318,"last_activity_date":1699216219,"creation_date":1338441898,"question_id":10827872,"body_markdown":"What&#39;s the difference between java.lang.String &#39;s `replace()` and `replaceAll()` methods, \r\nother than the latter uses regex? For simple substitutions like, replace `.` with `/`, is there any difference?","title":"Difference between String replace() and replaceAll()","body":"<p>What's the difference between java.lang.String 's <code>replace()</code> and <code>replaceAll()</code> methods,\nother than the latter uses regex? For simple substitutions like, replace <code>.</code> with <code>/</code>, is there any difference?</p>\n"},{"tags":["java","multithreading","daemon"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1699133692,"post_id":77423883,"comment_id":136493867,"body_markdown":"From the [documentation of `Thread` (`docs.oracle.com`)](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html): &quot;*Platform threads are designated daemon or non-daemon threads. When the Java virtual machine starts up, there is usually one non-daemon thread (the thread that typically calls the application&#39;s main method). The shutdown sequence begins when all started non-daemon threads have terminated. Unstarted non-daemon threads do not prevent the shutdown sequence from beginning.*&quot;","body":"From the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html\" rel=\"nofollow noreferrer\">documentation of <code>Thread</code> (<code>docs.oracle.com</code>)</a>: &quot;<i>Platform threads are designated daemon or non-daemon threads. When the Java virtual machine starts up, there is usually one non-daemon thread (the thread that typically calls the application&#39;s main method). The shutdown sequence begins when all started non-daemon threads have terminated. Unstarted non-daemon threads do not prevent the shutdown sequence from beginning.</i>&quot;"},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1699133807,"post_id":77423883,"comment_id":136493876,"body_markdown":"And for completeness: [Shutdown Sequence (`docs.oracle.com`)](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runtime.html#shutdown)","body":"And for completeness: <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runtime.html#shutdown\" rel=\"nofollow noreferrer\">Shutdown Sequence (<code>docs.oracle.com</code>)</a>"},{"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"score":0,"creation_date":1699133944,"post_id":77423883,"comment_id":136493889,"body_markdown":"I&#39;m still new to the multi-threading in Java world... I don&#39;t understand a word written there :( All I have gathered till now is that the jvm exits whenever one of the three conditions are met.","body":"I&#39;m still new to the multi-threading in Java world... I don&#39;t understand a word written there :( All I have gathered till now is that the jvm exits whenever one of the three conditions are met."},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1699134082,"post_id":77423883,"comment_id":136493899,"body_markdown":"In short: the JVM waits until all running non-daemon threads are terminated and starts the shutdown sequence. If, for any reason, there should still be a thread runing during the shutdown sequence, the thread gets terminated.","body":"In short: the JVM waits until all running non-daemon threads are terminated and starts the shutdown sequence. If, for any reason, there should still be a thread runing during the shutdown sequence, the thread gets terminated."},{"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"score":0,"creation_date":1699134147,"post_id":77423883,"comment_id":136493906,"body_markdown":"So will the non-main thread run or...?","body":"So will the non-main thread run or...?"},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1699134588,"post_id":77423883,"comment_id":136493937,"body_markdown":"Maybe. It depends whether it is started before the `main`-method terminates. If it started before the `main`-method terminates, it will prevent the JVM form terminating. See [this `ideone.com` demo](https://ideone.com/Ilw9zX).","body":"Maybe. It depends whether it is started before the <code>main</code>-method terminates. If it started before the <code>main</code>-method terminates, it will prevent the JVM form terminating. See <a href=\"https://ideone.com/Ilw9zX\" rel=\"nofollow noreferrer\">this <code>ideone.com</code> demo</a>."},{"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"score":0,"creation_date":1699134756,"post_id":77423883,"comment_id":136493946,"body_markdown":"@Turing85 will that depend on the fact that the main method does not end after the call to start in the example?","body":"@Turing85 will that depend on the fact that the main method does not end after the call to start in the example?"},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1699134899,"post_id":77423883,"comment_id":136493962,"body_markdown":"Again: It depends whether the new `Thread` is started before the `main`-method terminates.","body":"Again: It depends whether the new <code>Thread</code> is started before the <code>main</code>-method terminates."},{"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"score":0,"creation_date":1699134974,"post_id":77423883,"comment_id":136493968,"body_markdown":"Ok, I&#39;m lost :( How will it ever not start before the main method terminates?","body":"Ok, I&#39;m lost :( How will it ever not start before the main method terminates?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1699192959,"post_id":77423883,"comment_id":136497960,"body_markdown":"@queeg, see the discussion about what `start()` means in comments on dan1st&#39;s answer, below.","body":"@queeg, see the discussion about what <code>start()</code> means in comments on dan1st&#39;s answer, below."}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1699170813,"creation_date":1699136351,"answer_id":77424025,"question_id":77423883,"body_markdown":"## TL;DR\r\nIn your example, the thread will be started and the JVM won&#39;t shutdown until that thread also terminates (unless a different shutdown event is triggered). You don&#39;t need extra synchronization for that.\r\n\r\n## longer description \r\n\r\nYou are starting the thread in your main method.\r\nBecause the `start()` method finishes before the `main` method stops, the application will _not_ shut down. As mentioned in the comments of your question (and also directly in your question), the JVM doesn&#39;t attempt to shut down before all non-daemon threads are stopped.\r\n\r\nWhen you create a thread, it will be in [`ThreadState.NEW`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.State.html) but as soon as you have called `start()`, it [will be in `ThreadState.RUNNABLE`](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/thread.cpp#L382) (or similar if it had already performed some work) and will stop the application from shutting down.\r\n\r\n```java\r\nThread t = new Thread(()-&gt;{\r\n    //you can do something here if you want to\r\n});\r\nt.start();\r\nSystem.out.println(t.getState());//this will never be NEW\r\n```\r\n\r\nIf a thread is neither `NEW` nor `TERMINATED`, it [is alive](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#isAlive()) hence it it will prevent the JVM from shutting down.\r\n\r\nSo, your second thread would continue running until it finishes or something else stops the JVM.\r\n\r\nAs soon as you call `Thread#start`, you have a thread preventing the JVM from shutting down, no matter whether the thread actually started working.\r\n\r\nHowever, as [mentioned in the comments](https://stackoverflow.com/questions/77423883/can-there-be-zombie-threads-in-a-java-program#comment136493899_77423883), this can be different if `Thread#start` is invoked after the last non-daemon thread has stopped. If the JVM is already shutting down, calling `Thread#start` on another thread won&#39;t cancel shutdown.\r\n\r\nIf the last non-daemon thread stops and a daemon thread attempts to start a non-daemon thread &quot;at the same time&quot;, you will have a race condition and the thread might win or be stopped.  \r\nIf the thread is actually marked as started before the last (non-daemon thread) thread stops, it will run normally and the JVM won&#39;t shutdown.  \r\nHowever, if the JVM detects all threads are stopped before the new thread is marked as started/`RUNNABLE`, the JVM would initiate the shutdown sequence and kill the newly started thread after all shutdown hooks finish.\r\n\r\n\r\nIf you are using virtual threads, it should be noted that these always are daemon threads.","title":"Can there be zombie threads in a java program?","body":"<h2>TL;DR</h2>\n<p>In your example, the thread will be started and the JVM won't shutdown until that thread also terminates (unless a different shutdown event is triggered). You don't need extra synchronization for that.</p>\n<h2>longer description</h2>\n<p>You are starting the thread in your main method.\nBecause the <code>start()</code> method finishes before the <code>main</code> method stops, the application will <em>not</em> shut down. As mentioned in the comments of your question (and also directly in your question), the JVM doesn't attempt to shut down before all non-daemon threads are stopped.</p>\n<p>When you create a thread, it will be in <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.State.html\" rel=\"nofollow noreferrer\"><code>ThreadState.NEW</code></a> but as soon as you have called <code>start()</code>, it <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/thread.cpp#L382\" rel=\"nofollow noreferrer\">will be in <code>ThreadState.RUNNABLE</code></a> (or similar if it had already performed some work) and will stop the application from shutting down.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Thread t = new Thread(()-&gt;{\n    //you can do something here if you want to\n});\nt.start();\nSystem.out.println(t.getState());//this will never be NEW\n</code></pre>\n<p>If a thread is neither <code>NEW</code> nor <code>TERMINATED</code>, it <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#isAlive()\" rel=\"nofollow noreferrer\">is alive</a> hence it it will prevent the JVM from shutting down.</p>\n<p>So, your second thread would continue running until it finishes or something else stops the JVM.</p>\n<p>As soon as you call <code>Thread#start</code>, you have a thread preventing the JVM from shutting down, no matter whether the thread actually started working.</p>\n<p>However, as <a href=\"https://stackoverflow.com/questions/77423883/can-there-be-zombie-threads-in-a-java-program#comment136493899_77423883\">mentioned in the comments</a>, this can be different if <code>Thread#start</code> is invoked after the last non-daemon thread has stopped. If the JVM is already shutting down, calling <code>Thread#start</code> on another thread won't cancel shutdown.</p>\n<p>If the last non-daemon thread stops and a daemon thread attempts to start a non-daemon thread &quot;at the same time&quot;, you will have a race condition and the thread might win or be stopped.<br />\nIf the thread is actually marked as started before the last (non-daemon thread) thread stops, it will run normally and the JVM won't shutdown.<br />\nHowever, if the JVM detects all threads are stopped before the new thread is marked as started/<code>RUNNABLE</code>, the JVM would initiate the shutdown sequence and kill the newly started thread after all shutdown hooks finish.</p>\n<p>If you are using virtual threads, it should be noted that these always are daemon threads.</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699195352,"creation_date":1699195352,"answer_id":77426365,"question_id":77423883,"body_markdown":"FYI: You may have heard of &quot;zombies&quot; from Linux. Linux, processes refer to other processes by their system-wide _PIDs_ (Process IDs). The OS re-uses PIDs, but it will never re-use PID C\\* until some live process P\\* has received notification that C has died and, that its PID no longer is valid. That happens when P calls [`wait()`](https://man7.org/linux/man-pages/man2/wait.2.html) or one of several other, similar system calls.\r\n\r\nA _zombie process_ in Linux simply is the PID of some dead process for which no other living process has yet received the death notice. If process P itself dies without ever waiting for its zombie child C, then the `init` process will `wait` for both of them, and the zombie will be reaped.\r\n\r\nThe only way that zombies can be a problem is if process P runs for a long time and continually creates new children without ever `wait`ing for any of them. PIDs are a limited resource, and eventually, the process table could be so clogged with zombies that [`fork()`](https://man7.org/linux/man-pages/man2/fork.2.html) calls start failing with `ENOMEM`.\r\n\r\n-----------------\r\n\r\nI&#39;m not aware of anything similar happening with Java threads. The Java `Thread` object representing a dead thread gets managed (garbage collected) just like any other Java object, and if the OS requires some kind of cleanup after the underlying _native_ thread has ended, AFAIK, the JVM is supposed to  automatically take care of that for you. \r\n\r\n-----------------\r\n\r\n\\* I&#39;m using &quot;P&quot; for &quot;parent&quot; and &quot;C&quot; for &quot;child&quot; because that&#39;s the most common way for one process to know the PID of another.\r\n","title":"Can there be zombie threads in a java program?","body":"<p>FYI: You may have heard of &quot;zombies&quot; from Linux. Linux, processes refer to other processes by their system-wide <em>PIDs</em> (Process IDs). The OS re-uses PIDs, but it will never re-use PID C* until some live process P* has received notification that C has died and, that its PID no longer is valid. That happens when P calls <a href=\"https://man7.org/linux/man-pages/man2/wait.2.html\" rel=\"nofollow noreferrer\"><code>wait()</code></a> or one of several other, similar system calls.</p>\n<p>A <em>zombie process</em> in Linux simply is the PID of some dead process for which no other living process has yet received the death notice. If process P itself dies without ever waiting for its zombie child C, then the <code>init</code> process will <code>wait</code> for both of them, and the zombie will be reaped.</p>\n<p>The only way that zombies can be a problem is if process P runs for a long time and continually creates new children without ever <code>wait</code>ing for any of them. PIDs are a limited resource, and eventually, the process table could be so clogged with zombies that <a href=\"https://man7.org/linux/man-pages/man2/fork.2.html\" rel=\"nofollow noreferrer\"><code>fork()</code></a> calls start failing with <code>ENOMEM</code>.</p>\n<hr />\n<p>I'm not aware of anything similar happening with Java threads. The Java <code>Thread</code> object representing a dead thread gets managed (garbage collected) just like any other Java object, and if the OS requires some kind of cleanup after the underlying <em>native</em> thread has ended, AFAIK, the JVM is supposed to  automatically take care of that for you.</p>\n<hr />\n<p>* I'm using &quot;P&quot; for &quot;parent&quot; and &quot;C&quot; for &quot;child&quot; because that's the most common way for one process to know the PID of another.</p>\n"}],"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77424025,"answer_count":2,"score":0,"last_activity_date":1699215563,"creation_date":1699133263,"question_id":77423883,"body_markdown":"Consider the folowing code:\r\n\r\n```lang-java\r\npublic... main( String[] args ) // yeah yeah, I&#39;m too lazy to type it out\r\n    new ThreadExample().start(); // the run function just prints out &quot;this is run&quot;\r\n}\r\n```\r\n\r\nNow, it may so happen that the moment the call to start is made, the scheduler switches back to the main and the main block ends. What will happen to the thread that the start method created? There&#39;s still a non-daemon thread running (the one we created) meaning the program should continue execution or it can become a zombie thread (I still don&#39;t fully understand what that entails...). \r\nWhat might (or what passes for &quot;might&quot; in the absence of synchronization) happen?\r\n\r\n\r\n----------\r\n\r\nEdit:\r\n\r\nThis question is better rephrased as: &quot;What exactly does the start() method call do?&quot;  \r\nMore may be found at: [Why do we call Thread.start() method?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8052522/why-we-call-thread-start-method-which-in-turns-calls-run-method","title":"Can there be zombie threads in a java program?","body":"<p>Consider the folowing code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public... main( String[] args ) // yeah yeah, I'm too lazy to type it out\n    new ThreadExample().start(); // the run function just prints out &quot;this is run&quot;\n}\n</code></pre>\n<p>Now, it may so happen that the moment the call to start is made, the scheduler switches back to the main and the main block ends. What will happen to the thread that the start method created? There's still a non-daemon thread running (the one we created) meaning the program should continue execution or it can become a zombie thread (I still don't fully understand what that entails...).\nWhat might (or what passes for &quot;might&quot; in the absence of synchronization) happen?</p>\n<hr />\n<p>Edit:</p>\n<p>This question is better rephrased as: &quot;What exactly does the start() method call do?&quot;<br />\nMore may be found at: <a href=\"https://stackoverflow.com/questions/8052522/why-we-call-thread-start-method-which-in-turns-calls-run-method\">Why do we call Thread.start() method?</a></p>\n"},{"tags":["java","methods","static-methods","invoke"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1699126091,"post_id":77423492,"comment_id":136493134,"body_markdown":"I recommend reading a tutorial on static class members, e.g. [this one over at `oracle.com`](https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html).","body":"I recommend reading a tutorial on static class members, e.g. <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">this one over at <code>oracle.com</code></a>."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699126338,"post_id":77423492,"comment_id":136493154,"body_markdown":"not sure in which context *invoker*  is being used, but a static method can also call a method (static or not), so we can say the (calling) static method is the invoker, or the class containing that method ...","body":"not sure in which context <i>invoker</i>  is being used, but a static method can also call a method (static or not), so we can say the (calling) static method is the invoker, or the class containing that method ..."},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1699126731,"post_id":77423492,"comment_id":136493195,"body_markdown":"&quot;The &quot;calc&quot; object is the invoker&quot; the `calc` object is the _receiver_.","body":"&quot;The &quot;calc&quot; object is the invoker&quot; the <code>calc</code> object is the <i>receiver</i>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699127046,"post_id":77423492,"comment_id":136493228,"body_markdown":"I thought the _invoker_ was the calling _object_, and not the _class_ which contains the method.  I don&#39;t follow design patterns, though.","body":"I thought the <i>invoker</i> was the calling <i>object</i>, and not the <i>class</i> which contains the method.  I don&#39;t follow design patterns, though."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699127174,"post_id":77423492,"comment_id":136493242,"body_markdown":"@user85421, here&#39;s a context, _&#39;... an &quot;invoker&quot; refers to an object or code that initiates/invokes the execution of a method or function on another object.&#39;_","body":"@user85421, here&#39;s a context, <i>&#39;... an &quot;invoker&quot; refers to an object or code that initiates/invokes the execution of a method or function on another object.&#39;</i>"}],"answers":[{"tags":[],"owner":{"account_id":29825426,"reputation":26,"user_id":22857518,"display_name":"Dimitris Dranidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699126676,"creation_date":1699125961,"answer_id":77423524,"question_id":77423492,"body_markdown":"In a class there could be two types of methods: **instance methods** and **class (or static) methods**. To call an instance method you use an instance (object) of the class to invoke the method, like you did in your example. To call a class method you use the class name to invoke the method.\r\n\r\nTaking your example:\r\n```java\r\npublic class Calculator {\r\n  public static int add(int a, int b) { \r\n    return a + b;\r\n  } \r\n}\r\n    \r\npublic static void main(String[] args) { \r\n  System.out.println(Calculator.add(5,3));\r\n}\r\n```\r\nMethod `add` is declared as `static` and we call it using the class name `Calculator`.\r\n\r\nIn the Calculator class there is no state, there are no attributes. Usually a class with no state will have only static methods since the behaviour of the method does not depend on any state. \r\n ","title":"Who will be the method invoker of a Class with no object?","body":"<p>In a class there could be two types of methods: <strong>instance methods</strong> and <strong>class (or static) methods</strong>. To call an instance method you use an instance (object) of the class to invoke the method, like you did in your example. To call a class method you use the class name to invoke the method.</p>\n<p>Taking your example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Calculator {\n  public static int add(int a, int b) { \n    return a + b;\n  } \n}\n    \npublic static void main(String[] args) { \n  System.out.println(Calculator.add(5,3));\n}\n</code></pre>\n<p>Method <code>add</code> is declared as <code>static</code> and we call it using the class name <code>Calculator</code>.</p>\n<p>In the Calculator class there is no state, there are no attributes. Usually a class with no state will have only static methods since the behaviour of the method does not depend on any state.</p>\n"}],"owner":{"account_id":17354628,"reputation":3,"user_id":12572358,"display_name":"Swapnil Mishra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77423524,"answer_count":1,"score":-1,"last_activity_date":1699213910,"creation_date":1699125238,"question_id":77423492,"body_markdown":"In object-oriented programming, an &quot;invoker&quot; refers to an object or code that initiates/invokes the execution of a method or function on another object.  But my question is what if a class has just methods(static) and no object who will then be the invoker of that method?\r\n\r\nExample Code of what I am trying to ask :\r\n\r\n``` \r\npublic class Calculator {\r\n    public int add(int a, int b) { \r\n    return a + b; \r\n    }\r\npublic static void main(String[] args) { \r\n//Creating an instance of the Calculator class \r\n\r\nCalculator calc = new Calculator();\r\n\r\n// Invoking the &quot;add&quot; method with the invoker (calc)\r\nint result = calc.add(5, 3);\r\n\r\n/*\r\nThe &quot;calc&quot; object is the invoker, and it invokes the &quot;add&quot; method with arguments\r\n5 and 3. \r\nbut what if there was no calc object in the calculator class \r\nwho would have been the invoker of the method then? \r\nhow would you have then called the add() method? by making it static ?\r\nand calling it directly? if yes, who would be invoker of that static add() method?\r\n*/\r\n\r\nSystem.out.println(&quot;Result of addition: &quot; + result);\r\n    }\r\n}\r\n```","title":"Who will be the method invoker of a Class with no object?","body":"<p>In object-oriented programming, an &quot;invoker&quot; refers to an object or code that initiates/invokes the execution of a method or function on another object.  But my question is what if a class has just methods(static) and no object who will then be the invoker of that method?</p>\n<p>Example Code of what I am trying to ask :</p>\n<pre><code>public class Calculator {\n    public int add(int a, int b) { \n    return a + b; \n    }\npublic static void main(String[] args) { \n//Creating an instance of the Calculator class \n\nCalculator calc = new Calculator();\n\n// Invoking the &quot;add&quot; method with the invoker (calc)\nint result = calc.add(5, 3);\n\n/*\nThe &quot;calc&quot; object is the invoker, and it invokes the &quot;add&quot; method with arguments\n5 and 3. \nbut what if there was no calc object in the calculator class \nwho would have been the invoker of the method then? \nhow would you have then called the add() method? by making it static ?\nand calling it directly? if yes, who would be invoker of that static add() method?\n*/\n\nSystem.out.println(&quot;Result of addition: &quot; + result);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","terminal","su"],"comments":[{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1699200523,"post_id":77426267,"comment_id":136498866,"body_markdown":"Could you please correct the code? You posted `executeCommandSU` twice.","body":"Could you please correct the code? You posted <code>executeCommandSU</code> twice."}],"answers":[{"tags":[],"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699201188,"creation_date":1699201188,"answer_id":77426712,"question_id":77426267,"body_markdown":"You are using `ready()` incorrectly. Look up the docs to see why. Change:\r\n\r\n     while (br.ready()) {\r\n         sb.append(br.readLine()+&quot;\\n&quot;);\r\n     }\r\n\r\nto\r\n\r\n     while (true) {\r\n         String l = br.readLine();\r\n         if (l == null) // EOF\r\n             break;\r\n         sb.append(l+&quot;\\n&quot;);\r\n     }\r\n\r\nDo the same for the error stream.\r\n\r\nAlso to make `su` terminate change:\r\n\r\n    process.getOutputStream().write((command + &quot;\\n&quot;).getBytes(&quot;ASCII&quot;));\r\n\r\nto:\r\n\r\n    process.getOutputStream().write((command + &quot;\\nexit\\n&quot;).getBytes(&quot;ASCII&quot;));\r\n\r\nHaven&#39;t tested it. Hope it works.","title":"android coding java excute su command android not work","body":"<p>You are using <code>ready()</code> incorrectly. Look up the docs to see why. Change:</p>\n<pre><code> while (br.ready()) {\n     sb.append(br.readLine()+&quot;\\n&quot;);\n }\n</code></pre>\n<p>to</p>\n<pre><code> while (true) {\n     String l = br.readLine();\n     if (l == null) // EOF\n         break;\n     sb.append(l+&quot;\\n&quot;);\n }\n</code></pre>\n<p>Do the same for the error stream.</p>\n<p>Also to make <code>su</code> terminate change:</p>\n<pre><code>process.getOutputStream().write((command + &quot;\\n&quot;).getBytes(&quot;ASCII&quot;));\n</code></pre>\n<p>to:</p>\n<pre><code>process.getOutputStream().write((command + &quot;\\nexit\\n&quot;).getBytes(&quot;ASCII&quot;));\n</code></pre>\n<p>Haven't tested it. Hope it works.</p>\n"},{"tags":[],"owner":{"account_id":29657527,"reputation":11,"user_id":22729950,"display_name":"Defi Nghĩa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699213026,"creation_date":1699213026,"answer_id":77427379,"question_id":77426267,"body_markdown":"edit targetSdk 29 in build.gradle file will solve problem","title":"android coding java excute su command android not work","body":"<p>edit targetSdk 29 in build.gradle file will solve problem</p>\n"}],"owner":{"account_id":29657527,"reputation":11,"user_id":22729950,"display_name":"Defi Nghĩa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1699213026,"creation_date":1699193869,"question_id":77426267,"body_markdown":"i have a device rooted by magisk. i want to make an app to excute &quot;su ls data/data&quot;. But when i run app it only returned two packages eg: com.google.android.gms, com.nghiatd.nghiaclicker( this is package name of my app). But when i excute that command on terminal emulator app it returned full package name of apps in data/data folder. i have added read,write,ACCESS_SUPERUSER permission in manifest. magisk granted permission.i have tested on android 10. that funtion returned full package name of all apps. anyone know why android 12 does not return full ? This is funtion: \r\n \r\n`\r\n```\r\n\r\n    enter code here\r\n\r\npublic static String executeCommandSU( String command)\r\n    {\r\n            try {\r\n                Process process = new ProcessBuilder().command(&quot;su&quot;).start();\r\n                process.getOutputStream().write((command + &quot;\\n&quot;).getBytes(&quot;ASCII&quot;));\r\n                //process.getOutputStream().write((&quot;ls data&quot; + &quot;\\n&quot;).getBytes(&quot;ASCII&quot;));\r\n                process.getOutputStream().flush();\r\n                SystemClock.sleep(3000);\r\n                StringBuffer sb = new StringBuffer();\r\n                BufferedReader bre = new BufferedReader(\r\n                        new InputStreamReader(process.getErrorStream()));\r\n                while (bre.ready()) {\r\n                    sb.append(bre.readLine());\r\n                }\r\n                String s = sb.toString();\r\n                if (!s.replaceAll(&quot; &quot;, &quot;&quot;).equalsIgnoreCase(&quot;&quot;)) {\r\n                    Log.e(&quot;SystemHelper&quot;, &quot;Error with command: &quot; + s);\r\n                    return s;\r\n                }\r\n                sb = new StringBuffer();\r\n                BufferedReader br = new BufferedReader(\r\n                        new InputStreamReader(process.getInputStream()));\r\n                while (br.ready()) {\r\n                    sb.append(br.readLine()+&quot;\\n&quot;);\r\n                }\r\n                s = sb.toString();\r\n                if (!s.replaceAll(&quot; &quot;, &quot;&quot;).equalsIgnoreCase(&quot;&quot;)) {\r\n                    Log.e(&quot;`SystemHelper`&quot;, &quot;Output from command: &quot; + s);\r\n                    return s;\r\n                }\r\n                return s;\r\n            } catch (IOException e) {\r\n                 Log.e(&quot;SystemHelper&quot;, &quot;Error executing: &quot; + command, e);\r\n            }\r\n        return &quot;&quot;;\r\n    }`\r\n```\r\n`\r\n\r\n      @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        requestPermission();\r\n        //String s=executeCommand(new String[]{&quot;su&quot;,&quot;-c&quot;,&quot;ls data/data&quot;});\r\n        String s=executeCommandSU(&quot;ls data/data&quot;);\r\n        Log.i(&quot;vvvvv&quot;,s);\r\n        Toast.makeText(getApplicationContext(),&quot;aaaaaaa: &quot;,Toast.LENGTH_LONG).show();\r\n    }\r\n","title":"android coding java excute su command android not work","body":"<p>i have a device rooted by magisk. i want to make an app to excute &quot;su ls data/data&quot;. But when i run app it only returned two packages eg: com.google.android.gms, com.nghiatd.nghiaclicker( this is package name of my app). But when i excute that command on terminal emulator app it returned full package name of apps in data/data folder. i have added read,write,ACCESS_SUPERUSER permission in manifest. magisk granted permission.i have tested on android 10. that funtion returned full package name of all apps. anyone know why android 12 does not return full ? This is funtion:</p>\n<p>`</p>\n<pre><code>\n    enter code here\n\npublic static String executeCommandSU( String command)\n    {\n            try {\n                Process process = new ProcessBuilder().command(&quot;su&quot;).start();\n                process.getOutputStream().write((command + &quot;\\n&quot;).getBytes(&quot;ASCII&quot;));\n                //process.getOutputStream().write((&quot;ls data&quot; + &quot;\\n&quot;).getBytes(&quot;ASCII&quot;));\n                process.getOutputStream().flush();\n                SystemClock.sleep(3000);\n                StringBuffer sb = new StringBuffer();\n                BufferedReader bre = new BufferedReader(\n                        new InputStreamReader(process.getErrorStream()));\n                while (bre.ready()) {\n                    sb.append(bre.readLine());\n                }\n                String s = sb.toString();\n                if (!s.replaceAll(&quot; &quot;, &quot;&quot;).equalsIgnoreCase(&quot;&quot;)) {\n                    Log.e(&quot;SystemHelper&quot;, &quot;Error with command: &quot; + s);\n                    return s;\n                }\n                sb = new StringBuffer();\n                BufferedReader br = new BufferedReader(\n                        new InputStreamReader(process.getInputStream()));\n                while (br.ready()) {\n                    sb.append(br.readLine()+&quot;\\n&quot;);\n                }\n                s = sb.toString();\n                if (!s.replaceAll(&quot; &quot;, &quot;&quot;).equalsIgnoreCase(&quot;&quot;)) {\n                    Log.e(&quot;`SystemHelper`&quot;, &quot;Output from command: &quot; + s);\n                    return s;\n                }\n                return s;\n            } catch (IOException e) {\n                 Log.e(&quot;SystemHelper&quot;, &quot;Error executing: &quot; + command, e);\n            }\n        return &quot;&quot;;\n    }`\n</code></pre>\n<p>`</p>\n<pre><code>  @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    requestPermission();\n    //String s=executeCommand(new String[]{&quot;su&quot;,&quot;-c&quot;,&quot;ls data/data&quot;});\n    String s=executeCommandSU(&quot;ls data/data&quot;);\n    Log.i(&quot;vvvvv&quot;,s);\n    Toast.makeText(getApplicationContext(),&quot;aaaaaaa: &quot;,Toast.LENGTH_LONG).show();\n}\n</code></pre>\n"},{"tags":["java","jvm","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699212353,"creation_date":1699210987,"answer_id":77427280,"question_id":77426977,"body_markdown":"&gt; Can native methods be interpreted, and not compiled (from the java perspective)?\r\n\r\nYes, see e.g. here where the interpreter stub is being generated (in `TemplateInterpreterGenerator::generate_native_entry`): https://github.com/openjdk/jdk/blob/01c0d5dd0a4f7587288219bad8ed4648f4e456ce/src/hotspot/cpu/x86/templateInterpreterGenerator_x86.cpp#L793\r\n\r\nThe main difference between the compiled and interpreted stub, is that the interpreter stub handles _all_ interpreted native calls (well, there are 2 stubs: one for `synchronized` methods, and one for regular methods), while the compiled wrapper is specialized for just one method.\r\n\r\nFor the interpreter stub, different parameter and return types are handled with an out-of-line call to a &#39;signature handler&#39; and &#39;result handler&#39;.","title":"Are native methods (JNI) always compiled?","body":"<blockquote>\n<p>Can native methods be interpreted, and not compiled (from the java perspective)?</p>\n</blockquote>\n<p>Yes, see e.g. here where the interpreter stub is being generated (in <code>TemplateInterpreterGenerator::generate_native_entry</code>): <a href=\"https://github.com/openjdk/jdk/blob/01c0d5dd0a4f7587288219bad8ed4648f4e456ce/src/hotspot/cpu/x86/templateInterpreterGenerator_x86.cpp#L793\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/01c0d5dd0a4f7587288219bad8ed4648f4e456ce/src/hotspot/cpu/x86/templateInterpreterGenerator_x86.cpp#L793</a></p>\n<p>The main difference between the compiled and interpreted stub, is that the interpreter stub handles <em>all</em> interpreted native calls (well, there are 2 stubs: one for <code>synchronized</code> methods, and one for regular methods), while the compiled wrapper is specialized for just one method.</p>\n<p>For the interpreter stub, different parameter and return types are handled with an out-of-line call to a 'signature handler' and 'result handler'.</p>\n"}],"owner":{"account_id":25554154,"reputation":181,"user_id":19338016,"display_name":"hololensen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77427280,"answer_count":1,"score":1,"last_activity_date":1699212353,"creation_date":1699205536,"question_id":77426977,"body_markdown":"I noticed [here][1] that when `native` methods are called, a wrapper is generated. However, it appears that this wrapper is only generated when the method is compiled. So, my question is:\r\nCan `native` methods be interpreted, and not compiled (**from the java perspective**)?\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/sharedRuntime.cpp#L3031","title":"Are native methods (JNI) always compiled?","body":"<p>I noticed <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/sharedRuntime.cpp#L3031\" rel=\"nofollow noreferrer\">here</a> that when <code>native</code> methods are called, a wrapper is generated. However, it appears that this wrapper is only generated when the method is compiled. So, my question is:\nCan <code>native</code> methods be interpreted, and not compiled (<strong>from the java perspective</strong>)?</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":13,"creation_date":1357990112,"post_id":14292863,"comment_id":19850046,"body_markdown":"Mockito does not allow it, however PowerMock does.","body":"Mockito does not allow it, however PowerMock does."},{"owner":{"account_id":1729972,"reputation":1689,"user_id":1583763,"accept_rate":89,"display_name":"Kent"},"score":3,"creation_date":1521762849,"post_id":14292863,"comment_id":85882582,"body_markdown":"As of Mockito 2.x, Mockito now supports mocking of final classes and methods.","body":"As of Mockito 2.x, Mockito now supports mocking of final classes and methods."},{"owner":{"account_id":4166553,"reputation":39856,"user_id":3415409,"accept_rate":93,"display_name":"eliasah"},"score":0,"creation_date":1532511700,"post_id":14292863,"comment_id":89999758,"body_markdown":"Possible duplicate of [Mock final class with Mockito 2](https://stackoverflow.com/questions/40979402/mock-final-class-with-mockito-2)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/40979402/mock-final-class-with-mockito-2\">Mock final class with Mockito 2</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user180100"},"down_vote_count":1,"up_vote_count":304,"is_accepted":true,"score":303,"last_activity_date":1551877134,"creation_date":1357989974,"answer_id":14292888,"question_id":14292863,"body_markdown":"[Mocking final/static classes/methods is possible with Mockito v2 only.](https://stackoverflow.com/a/40018295/208809)\r\n\r\nadd this in your gradle file:\r\n\r\n    testImplementation &#39;org.mockito:mockito-inline:2.13.0&#39;\r\n\r\n\r\nThis is not possible with Mockito v1, from the [Mockito FAQ][1]:\r\n\r\n&gt;What are the limitations of Mockito\r\n&gt;\r\n&gt; - Needs java 1.5+\r\n&gt;\r\n&gt; - Cannot mock final classes\r\n&gt;\r\n&gt; ...\r\n\r\n\r\n\r\n  [1]: https://github.com/mockito/mockito/wiki/FAQ#what-are-the-limitations-of-mockito","title":"How to mock a final class with mockito","body":"<p><a href=\"https://stackoverflow.com/a/40018295/208809\">Mocking final/static classes/methods is possible with Mockito v2 only.</a></p>\n\n<p>add this in your gradle file:</p>\n\n<pre><code>testImplementation 'org.mockito:mockito-inline:2.13.0'\n</code></pre>\n\n<p>This is not possible with Mockito v1, from the <a href=\"https://github.com/mockito/mockito/wiki/FAQ#what-are-the-limitations-of-mockito\" rel=\"noreferrer\">Mockito FAQ</a>:</p>\n\n<blockquote>\n  <p>What are the limitations of Mockito</p>\n  \n  <ul>\n  <li><p>Needs java 1.5+</p></li>\n  <li><p>Cannot mock final classes</p></li>\n  </ul>\n  \n  <p>...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":94649,"reputation":8699,"user_id":258289,"accept_rate":95,"display_name":"Luigi"},"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1357991134,"creation_date":1357990795,"answer_id":14292975,"question_id":14292863,"body_markdown":"You cannot mock a final class with Mockito, as you can&#39;t do it by yourself.\r\n\r\nWhat I do, is to create a non-final class to wrap the final class and use as delegate. An example of this is [`TwitterFactory`][1] class, and this is my mockable class:\r\n\r\n\r\n    public class TwitterFactory {\r\n\r\n        private final twitter4j.TwitterFactory factory;\r\n\r\n        public TwitterFactory() {\r\n            factory = new twitter4j.TwitterFactory();\r\n        }\r\n\r\n        public Twitter getInstance(User user) {\r\n            return factory.getInstance(accessToken(user));\r\n        }\r\n \r\n        private AccessToken accessToken(User user) {\r\n            return new AccessToken(user.getAccessToken(), user.getAccessTokenSecret());\r\n        }\r\n\r\n        public Twitter getInstance() {\r\n            return factory.getInstance();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://twitter4j.org/javadoc/twitter4j/TwitterFactory.html\r\n\r\nThe disadvantage is that there is a lot of boilerplate code; the advantage is that you can add some methods that may relate to your application business (like the getInstance that is taking a user instead of an accessToken, in the above case).\r\n\r\nIn your case I would create a non-final `RainOnTrees` class that delegate to the final class. Or, if you can make it non-final, it would be better.","title":"How to mock a final class with mockito","body":"<p>You cannot mock a final class with Mockito, as you can't do it by yourself.</p>\n\n<p>What I do, is to create a non-final class to wrap the final class and use as delegate. An example of this is <a href=\"http://twitter4j.org/javadoc/twitter4j/TwitterFactory.html\" rel=\"noreferrer\"><code>TwitterFactory</code></a> class, and this is my mockable class:</p>\n\n<pre><code>public class TwitterFactory {\n\n    private final twitter4j.TwitterFactory factory;\n\n    public TwitterFactory() {\n        factory = new twitter4j.TwitterFactory();\n    }\n\n    public Twitter getInstance(User user) {\n        return factory.getInstance(accessToken(user));\n    }\n\n    private AccessToken accessToken(User user) {\n        return new AccessToken(user.getAccessToken(), user.getAccessTokenSecret());\n    }\n\n    public Twitter getInstance() {\n        return factory.getInstance();\n    }\n}\n</code></pre>\n\n<p>The disadvantage is that there is a lot of boilerplate code; the advantage is that you can add some methods that may relate to your application business (like the getInstance that is taking a user instead of an accessToken, in the above case).</p>\n\n<p>In your case I would create a non-final <code>RainOnTrees</code> class that delegate to the final class. Or, if you can make it non-final, it would be better.</p>\n"},{"tags":[],"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"down_vote_count":3,"up_vote_count":27,"is_accepted":false,"score":24,"last_activity_date":1459242516,"creation_date":1358107636,"answer_id":14307615,"question_id":14292863,"body_markdown":"Use Powermock. This link shows, how to do it: https://github.com/jayway/powermock/wiki/MockFinal","title":"How to mock a final class with mockito","body":"<p>Use Powermock. This link shows, how to do it: <a href=\"https://github.com/jayway/powermock/wiki/MockFinal\">https://github.com/jayway/powermock/wiki/MockFinal</a></p>\n"},{"tags":[],"owner":{"account_id":2201069,"reputation":304,"user_id":1945457,"display_name":"user1945457"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1386675322,"creation_date":1386675322,"answer_id":20493419,"question_id":14292863,"body_markdown":"I had the same problem. Since the class I was trying to mock was a simple class, I simply created an instance of it and returned that.","title":"How to mock a final class with mockito","body":"<p>I had the same problem. Since the class I was trying to mock was a simple class, I simply created an instance of it and returned that.</p>\n"},{"tags":[],"owner":{"account_id":3409182,"reputation":364,"user_id":2859563,"display_name":"BJYC"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1466200137,"creation_date":1405653559,"answer_id":24816719,"question_id":14292863,"body_markdown":"Yes same problem here, we cannot mock a final class with Mockito. To be accurate, Mockito cannot mock/spy following:\r\n\r\n  - final classes\r\n  - anonymous classes\r\n  - primitive types\r\n\r\nBut using a wrapper class seems to me a big price to pay, so get PowerMockito instead.\r\n\r\n","title":"How to mock a final class with mockito","body":"<p>Yes same problem here, we cannot mock a final class with Mockito. To be accurate, Mockito cannot mock/spy following:</p>\n\n<ul>\n<li>final classes</li>\n<li>anonymous classes</li>\n<li>primitive types</li>\n</ul>\n\n<p>But using a wrapper class seems to me a big price to pay, so get PowerMockito instead.</p>\n"},{"tags":[],"owner":{"account_id":314537,"reputation":1467,"user_id":629762,"accept_rate":80,"display_name":"Marcin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414788401,"creation_date":1414788401,"answer_id":26683152,"question_id":14292863,"body_markdown":"Please look at [JMockit][1]. It has extensive documentation with a lot of examples. Here you have an example solution of your problem (to simplify I&#39;ve added constructor to `Seasons` to inject mocked `RainOnTrees` instance):\r\n   \r\n\r\n    package jmockitexample;\r\n    \r\n    import mockit.Mocked;\r\n    import mockit.Verifications;\r\n    import mockit.integration.junit4.JMockit;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    \r\n    @RunWith(JMockit.class)\r\n    public class SeasonsTest {\r\n    \r\n        @Test\r\n        public void shouldStartRain(@Mocked final RainOnTrees rain) {\r\n            Seasons seasons = new Seasons(rain);\r\n    \r\n            seasons.findSeasonAndRain();\r\n    \r\n            new Verifications() {{\r\n                rain.startRain();\r\n            }};\r\n        }\r\n    \r\n        public final class RainOnTrees {\r\n            public void startRain() {\r\n                // some code here\r\n            }\r\n    \r\n        }\r\n    \r\n        public class Seasons {\r\n    \r\n            private final RainOnTrees rain;\r\n    \r\n            public Seasons(RainOnTrees rain) {\r\n                this.rain = rain;\r\n            }\r\n    \r\n            public void findSeasonAndRain() {\r\n                rain.startRain();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: http://jmockit.github.io/\r\n","title":"How to mock a final class with mockito","body":"<p>Please look at <a href=\"http://jmockit.github.io/\" rel=\"nofollow\">JMockit</a>. It has extensive documentation with a lot of examples. Here you have an example solution of your problem (to simplify I've added constructor to <code>Seasons</code> to inject mocked <code>RainOnTrees</code> instance):</p>\n\n<pre><code>package jmockitexample;\n\nimport mockit.Mocked;\nimport mockit.Verifications;\nimport mockit.integration.junit4.JMockit;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\n\n@RunWith(JMockit.class)\npublic class SeasonsTest {\n\n    @Test\n    public void shouldStartRain(@Mocked final RainOnTrees rain) {\n        Seasons seasons = new Seasons(rain);\n\n        seasons.findSeasonAndRain();\n\n        new Verifications() {{\n            rain.startRain();\n        }};\n    }\n\n    public final class RainOnTrees {\n        public void startRain() {\n            // some code here\n        }\n\n    }\n\n    public class Seasons {\n\n        private final RainOnTrees rain;\n\n        public Seasons(RainOnTrees rain) {\n            this.rain = rain;\n        }\n\n        public void findSeasonAndRain() {\n            rain.startRain();\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1296380,"reputation":2059,"user_id":1247323,"accept_rate":76,"display_name":"sakis kaliakoudas"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1416485854,"creation_date":1416485854,"answer_id":27039427,"question_id":14292863,"body_markdown":"Give this a try:\r\n\r\n    Mockito.mock(SomeMockableType.class,AdditionalAnswers.delegatesTo(someInstanceThatIsNotMockableOrSpyable));\r\n\r\nIt worked for me. &quot;SomeMockableType.class&quot; is the parent class of what you want to mock or spy, and someInstanceThatIsNotMockableOrSpyable is the actual class that you want to mock or spy.\r\n\r\nFor more details have a look [here][1]\r\n\r\n\r\n  [1]: http://code.google.com/p/mockito/issues/detail?id=145","title":"How to mock a final class with mockito","body":"<p>Give this a try:</p>\n\n<pre><code>Mockito.mock(SomeMockableType.class,AdditionalAnswers.delegatesTo(someInstanceThatIsNotMockableOrSpyable));\n</code></pre>\n\n<p>It worked for me. \"SomeMockableType.class\" is the parent class of what you want to mock or spy, and someInstanceThatIsNotMockableOrSpyable is the actual class that you want to mock or spy.</p>\n\n<p>For more details have a look <a href=\"http://code.google.com/p/mockito/issues/detail?id=145\">here</a></p>\n"},{"tags":[],"owner":{"account_id":18687,"reputation":1624,"user_id":43046,"accept_rate":65,"display_name":"andresp"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1422891999,"creation_date":1422891999,"answer_id":28281419,"question_id":14292863,"body_markdown":"Another workaround, which may apply in some cases, is to create an interface that is implemented by that final class, change the code to use the interface instead of the concrete class and then mock the interface. This lets you separate the contract (interface) from the implementation (final class). Of course, if what you want is really to bind to the final class, this will not apply.","title":"How to mock a final class with mockito","body":"<p>Another workaround, which may apply in some cases, is to create an interface that is implemented by that final class, change the code to use the interface instead of the concrete class and then mock the interface. This lets you separate the contract (interface) from the implementation (final class). Of course, if what you want is really to bind to the final class, this will not apply.</p>\n"},{"tags":[],"owner":{"account_id":1084850,"reputation":2100,"user_id":1080793,"accept_rate":69,"display_name":"Neel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449612271,"creation_date":1449611971,"answer_id":34166839,"question_id":14292863,"body_markdown":"Solutions provided by RC and Luigi R. Viggiano together is possibly the best idea.\r\n\r\nAlthough Mockito **cannot**, by design, mock final classes, the delegation approach **is possible**. This has its advantages:\r\n\r\n 1. You are not forced to change your class to non-final if that is what your API intends in the first place (final classes have their [benefits][1]).\r\n 2. You are testing the possibility of a [decoration][2] around your API.\r\n\r\nIn your test case, you deliberately forward the calls to the system under test. Hence, by design, your decoration does *not* do anything.\r\n\r\nHence you test can also demonstrate that the user can only decorate the API instead of extending it.\r\n\r\nOn a more subjective note:\r\nI prefer keeping the frameworks to a minimum, which is why JUnit and Mockito are usually sufficient for me. In fact, restricting this way sometimes forces me to refactor for good as well.\r\n\r\n  [1]: https://books.google.com/books?id=ka2VUBqHiWkC&amp;pg=PA87&amp;lpg=PA87&amp;dq=bloch%20effective%20java%20item%2017&amp;source=bl&amp;ots=yZGoOfo2VY&amp;sig=ke5qo7Dw9IkMLKq0dyTIfbTuzyk&amp;hl=en&amp;sa=X&amp;sqi=2&amp;ved=0ahUKEwj_-Kn_n83JAhWJGY4KHc-HB2UQ6AEIMjAD#v=onepage&amp;q=bloch%20effective%20java%20item%2017&amp;f=false\r\n  [2]: https://en.wikipedia.org/wiki/Decorator_pattern","title":"How to mock a final class with mockito","body":"<p>Solutions provided by RC and Luigi R. Viggiano together is possibly the best idea.</p>\n\n<p>Although Mockito <strong>cannot</strong>, by design, mock final classes, the delegation approach <strong>is possible</strong>. This has its advantages:</p>\n\n<ol>\n<li>You are not forced to change your class to non-final if that is what your API intends in the first place (final classes have their <a href=\"https://books.google.com/books?id=ka2VUBqHiWkC&amp;pg=PA87&amp;lpg=PA87&amp;dq=bloch%20effective%20java%20item%2017&amp;source=bl&amp;ots=yZGoOfo2VY&amp;sig=ke5qo7Dw9IkMLKq0dyTIfbTuzyk&amp;hl=en&amp;sa=X&amp;sqi=2&amp;ved=0ahUKEwj_-Kn_n83JAhWJGY4KHc-HB2UQ6AEIMjAD#v=onepage&amp;q=bloch%20effective%20java%20item%2017&amp;f=false\" rel=\"nofollow\">benefits</a>).</li>\n<li>You are testing the possibility of a <a href=\"https://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow\">decoration</a> around your API.</li>\n</ol>\n\n<p>In your test case, you deliberately forward the calls to the system under test. Hence, by design, your decoration does <em>not</em> do anything.</p>\n\n<p>Hence you test can also demonstrate that the user can only decorate the API instead of extending it.</p>\n\n<p>On a more subjective note:\nI prefer keeping the frameworks to a minimum, which is why JUnit and Mockito are usually sufficient for me. In fact, restricting this way sometimes forces me to refactor for good as well.</p>\n"},{"tags":[],"owner":{"account_id":178358,"reputation":25369,"user_id":410289,"accept_rate":0,"display_name":"Jackie"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1531280839,"creation_date":1462261761,"answer_id":36998521,"question_id":14292863,"body_markdown":"Didn&#39;t try final, but for private, using reflection remove the modifier worked ! have checked further, it doesn&#39;t work for final.","title":"How to mock a final class with mockito","body":"<p>Didn't try final, but for private, using reflection remove the modifier worked ! have checked further, it doesn't work for final.</p>\n"},{"tags":[],"owner":{"account_id":292867,"reputation":6585,"user_id":595881,"accept_rate":85,"display_name":"Fl&#225;vio Faria"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1468583762,"creation_date":1468532846,"answer_id":38384788,"question_id":14292863,"body_markdown":"I guess you made it `final` because you want to prevent other classes from extending `RainOnTrees`. As [Effective Java][1] suggests (item 15), there&#39;s another way to keep a class close for extension without making it `final`:\r\n\r\n1. Remove the `final` keyword;\r\n\r\n2. Make its constructor `private`. No class will be able to extend it because it won&#39;t be able to call the `super` constructor;\r\n\r\n3. Create a static factory method to instantiate your class.\r\n    \r\n        // No more final keyword here.\r\n        public class RainOnTrees {\r\n    \r\n            public static RainOnTrees newInstance() {\r\n                return new RainOnTrees();\r\n            }\r\n    \r\n    \r\n            private RainOnTrees() {\r\n                // Private constructor.\r\n            }\r\n    \r\n            public void startRain() {\r\n    \r\n                // some code here\r\n            }\r\n        }\r\n\r\n\r\nBy using this strategy, you&#39;ll be able to use Mockito and keep your class closed for extension with little boilerplate code.\r\n\r\n  [1]: https://www.amazon.com/Effective-Java-2nd-Joshua-Bloch/dp/0321356683","title":"How to mock a final class with mockito","body":"<p>I guess you made it <code>final</code> because you want to prevent other classes from extending <code>RainOnTrees</code>. As <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321356683\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Effective Java</a> suggests (item 15), there's another way to keep a class close for extension without making it <code>final</code>:</p>\n\n<ol>\n<li><p>Remove the <code>final</code> keyword;</p></li>\n<li><p>Make its constructor <code>private</code>. No class will be able to extend it because it won't be able to call the <code>super</code> constructor;</p></li>\n<li><p>Create a static factory method to instantiate your class.</p>\n\n<pre><code>// No more final keyword here.\npublic class RainOnTrees {\n\n    public static RainOnTrees newInstance() {\n        return new RainOnTrees();\n    }\n\n\n    private RainOnTrees() {\n        // Private constructor.\n    }\n\n    public void startRain() {\n\n        // some code here\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>By using this strategy, you'll be able to use Mockito and keep your class closed for extension with little boilerplate code.</p>\n"},{"tags":[],"owner":{"account_id":2765300,"reputation":3426,"user_id":2381172,"display_name":"xuesheng"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1560054576,"creation_date":1472054784,"answer_id":39128168,"question_id":14292863,"body_markdown":"Actually there is one way, which I use for spying. It would work for you only if two preconditions are satisfied:\r\n\r\n 1. You use some kind of DI to inject an instance of final class\r\n 2. Final class implements an interface\r\n\r\nPlease recall Item 16 from [Effective Java][1]. You may create a wrapper (not final) and forward all call to the instance of final class:\r\n\r\n    public final class RainOnTrees implement IRainOnTrees {\r\n        @Override public void startRain() { // some code here }\r\n    }\r\n\r\n    public class RainOnTreesWrapper implement IRainOnTrees {\r\n        private IRainOnTrees delegate;\r\n        public RainOnTreesWrapper(IRainOnTrees delegate) {this.delegate = delegate;}\r\n        @Override public void startRain() { delegate.startRain(); }\r\n    }\r\n\r\nNow not only can you mock your final class but also spy on it:\r\n\r\n    public class Seasons{\r\n        RainOnTrees rain;\r\n        public Seasons(IRainOnTrees rain) { this.rain = rain; };\r\n        public void findSeasonAndRain(){\r\n            rain.startRain();\r\n       }\r\n    }\r\n\r\n    IRainOnTrees rain = spy(new RainOnTreesWrapper(new RainOnTrees()) // or mock(IRainOnTrees.class)\r\n    doNothing().when(rain).startRain();\r\n    new Seasons(rain).findSeasonAndRain();\r\n\r\n\r\n  [1]: https://rads.stackoverflow.com/amzn/click/0321356683","title":"How to mock a final class with mockito","body":"<p>Actually there is one way, which I use for spying. It would work for you only if two preconditions are satisfied:</p>\n\n<ol>\n<li>You use some kind of DI to inject an instance of final class</li>\n<li>Final class implements an interface</li>\n</ol>\n\n<p>Please recall Item 16 from <a href=\"https://rads.stackoverflow.com/amzn/click/0321356683\" rel=\"nofollow noreferrer\">Effective Java</a>. You may create a wrapper (not final) and forward all call to the instance of final class:</p>\n\n<pre><code>public final class RainOnTrees implement IRainOnTrees {\n    @Override public void startRain() { // some code here }\n}\n\npublic class RainOnTreesWrapper implement IRainOnTrees {\n    private IRainOnTrees delegate;\n    public RainOnTreesWrapper(IRainOnTrees delegate) {this.delegate = delegate;}\n    @Override public void startRain() { delegate.startRain(); }\n}\n</code></pre>\n\n<p>Now not only can you mock your final class but also spy on it:</p>\n\n<pre><code>public class Seasons{\n    RainOnTrees rain;\n    public Seasons(IRainOnTrees rain) { this.rain = rain; };\n    public void findSeasonAndRain(){\n        rain.startRain();\n   }\n}\n\nIRainOnTrees rain = spy(new RainOnTreesWrapper(new RainOnTrees()) // or mock(IRainOnTrees.class)\ndoNothing().when(rain).startRain();\nnew Seasons(rain).findSeasonAndRain();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":208286,"reputation":12128,"user_id":458668,"accept_rate":70,"display_name":"WindRider"},"down_vote_count":0,"up_vote_count":294,"is_accepted":false,"score":294,"last_activity_date":1500014935,"creation_date":1476353979,"answer_id":40018295,"question_id":14292863,"body_markdown":"**Mockito 2 now supports final** classes and methods!\n\nBut for now that&#39;s an &quot;incubating&quot; feature. It requires some steps to activate it which are described in [What&#39;s New in Mockito 2][1]:\n\n&gt; Mocking of final classes and methods is an **incubating**, opt-in feature. It uses a combination of Java agent instrumentation and subclassing in order to enable mockability of these types. As this works differently to our current mechanism and this one has different limitations and as we want to gather experience and user feedback, this feature had to be explicitly activated to be available ; it can be done via the mockito extension mechanism by creating the file `src/test/resources/mockito-extensions/org.mockito.plugins.MockMaker` containing a single line:\n&gt;\n&gt;     mock-maker-inline\n&gt;\n&gt;After you created this file, Mockito will automatically use this new engine and one can do :\n&gt;\n&gt;  \n&gt;\n&gt;      final class FinalClass {\n&gt;        final String finalMethod() { return &quot;something&quot;; }\n&gt;      }\n&gt;    \n&gt;      FinalClass concrete = new FinalClass(); \n&gt;    \n&gt;      FinalClass mock = mock(FinalClass.class);\n&gt;      given(mock.finalMethod()).willReturn(&quot;not anymore&quot;);\n&gt;    \n&gt;      assertThat(mock.finalMethod()).isNotEqualTo(concrete.finalMethod());\n&gt;\n&gt;In subsequent milestones, the team will bring a programmatic way of using this feature. We will identify and provide support for all unmockable scenarios. Stay tuned and please let us know what you think of this feature!\n\n\n  [1]: https://github.com/mockito/mockito/wiki/What&#39;s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods\n","title":"How to mock a final class with mockito","body":"<p><strong>Mockito 2 now supports final</strong> classes and methods!</p>\n<p>But for now that's an &quot;incubating&quot; feature. It requires some steps to activate it which are described in <a href=\"https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods\" rel=\"noreferrer\">What's New in Mockito 2</a>:</p>\n<blockquote>\n<p>Mocking of final classes and methods is an <strong>incubating</strong>, opt-in feature. It uses a combination of Java agent instrumentation and subclassing in order to enable mockability of these types. As this works differently to our current mechanism and this one has different limitations and as we want to gather experience and user feedback, this feature had to be explicitly activated to be available ; it can be done via the mockito extension mechanism by creating the file <code>src/test/resources/mockito-extensions/org.mockito.plugins.MockMaker</code> containing a single line:</p>\n<pre><code>mock-maker-inline\n</code></pre>\n<p>After you created this file, Mockito will automatically use this new engine and one can do :</p>\n<pre><code> final class FinalClass {\n   final String finalMethod() { return &quot;something&quot;; }\n }\n\n FinalClass concrete = new FinalClass(); \n\n FinalClass mock = mock(FinalClass.class);\n given(mock.finalMethod()).willReturn(&quot;not anymore&quot;);\n\n assertThat(mock.finalMethod()).isNotEqualTo(concrete.finalMethod());\n</code></pre>\n<p>In subsequent milestones, the team will bring a programmatic way of using this feature. We will identify and provide support for all unmockable scenarios. Stay tuned and please let us know what you think of this feature!</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4124813,"reputation":96,"user_id":3384245,"display_name":"Tom N."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483624489,"creation_date":1483624489,"answer_id":41486861,"question_id":14292863,"body_markdown":"As others have stated, this won&#39;t work out of the box with Mockito. I would suggest using reflection to set the specific fields on the object that is being used by the code under test. If you find yourself doing this a lot, you can wrap this functionality in a library.\r\n\r\nAs an aside, if you are the one marking classes final, stop doing that. I ran across this question because I am working with an API where everything was marked final to prevent my legitimate need for extension (mocking), and I wish that the developer had not assumed that I would never need to extend the class.","title":"How to mock a final class with mockito","body":"<p>As others have stated, this won't work out of the box with Mockito. I would suggest using reflection to set the specific fields on the object that is being used by the code under test. If you find yourself doing this a lot, you can wrap this functionality in a library.</p>\n\n<p>As an aside, if you are the one marking classes final, stop doing that. I ran across this question because I am working with an API where everything was marked final to prevent my legitimate need for extension (mocking), and I wish that the developer had not assumed that I would never need to extend the class.</p>\n"},{"tags":[],"owner":{"account_id":10182304,"reputation":41,"user_id":7518602,"display_name":"ksl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1486323845,"creation_date":1486290134,"answer_id":42050897,"question_id":14292863,"body_markdown":"This can be done if you are using Mockito2, with the new incubating feature which supports mocking of final classes &amp; methods. \r\n\r\n**Key points to note:**  \r\n1.\tCreate a simple file with the name “org.mockito.plugins.MockMaker” and place it in a folder named “mockito-extensions”. This folder should be made available on the classpath.  \r\n2.\tThe content of the file created above should be a single line as given below:  \r\n**mock-maker-inline**\r\n\r\nThe above two steps are required in order to activate the mockito extension mechanism and use this opt-in feature.\r\n\r\nSample classes are as follows:- \r\n\r\nFinalClass.java\r\n\r\n    public final class FinalClass {\r\n\t\r\n\tpublic final String hello(){\r\n\t\tSystem.out.println(&quot;Final class says Hello!!!&quot;);\r\n\t\treturn &quot;0&quot;;\r\n\t}\r\n\r\n}\r\n\r\nFoo.java\r\n\r\n    public class Foo {\r\n\t\r\n\tpublic String executeFinal(FinalClass finalClass){\r\n\t\treturn finalClass.hello();\r\n\t}\r\n\r\n}\r\n\r\nFooTest.java\r\n\r\n    public class FooTest {\r\n\t\r\n\t@Test\r\n\tpublic void testFinalClass(){\r\n\t\t// Instantiate the class under test.\r\n\t\tFoo foo = new Foo();\r\n\r\n\t\t// Instantiate the external dependency\r\n\t\tFinalClass realFinalClass = new FinalClass();\r\n\t\t\r\n\t\t// Create mock object for the final class. \r\n\t\tFinalClass mockedFinalClass = mock(FinalClass.class);\r\n\t\t\r\n\t\t// Provide stub for mocked object.\r\n\t\twhen(mockedFinalClass.hello()).thenReturn(&quot;1&quot;);\r\n\t\t\r\n\t\t// assert\r\n\t\tassertEquals(&quot;0&quot;, foo.executeFinal(realFinalClass));\r\n\t\tassertEquals(&quot;1&quot;, foo.executeFinal(mockedFinalClass));\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\nHope it helps.\r\n\r\nComplete article present here [mocking-the-unmockable](https://dzone.com/articles/mocking-the-unmockable-the-mockito2-way).\r\n","title":"How to mock a final class with mockito","body":"<p>This can be done if you are using Mockito2, with the new incubating feature which supports mocking of final classes &amp; methods. </p>\n\n<p><strong>Key points to note:</strong><br>\n1.  Create a simple file with the name “org.mockito.plugins.MockMaker” and place it in a folder named “mockito-extensions”. This folder should be made available on the classpath.<br>\n2.  The content of the file created above should be a single line as given below:<br>\n<strong>mock-maker-inline</strong></p>\n\n<p>The above two steps are required in order to activate the mockito extension mechanism and use this opt-in feature.</p>\n\n<p>Sample classes are as follows:- </p>\n\n<p>FinalClass.java</p>\n\n<pre><code>public final class FinalClass {\n\npublic final String hello(){\n    System.out.println(\"Final class says Hello!!!\");\n    return \"0\";\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Foo.java</p>\n\n<pre><code>public class Foo {\n\npublic String executeFinal(FinalClass finalClass){\n    return finalClass.hello();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>FooTest.java</p>\n\n<pre><code>public class FooTest {\n\n@Test\npublic void testFinalClass(){\n    // Instantiate the class under test.\n    Foo foo = new Foo();\n\n    // Instantiate the external dependency\n    FinalClass realFinalClass = new FinalClass();\n\n    // Create mock object for the final class. \n    FinalClass mockedFinalClass = mock(FinalClass.class);\n\n    // Provide stub for mocked object.\n    when(mockedFinalClass.hello()).thenReturn(\"1\");\n\n    // assert\n    assertEquals(\"0\", foo.executeFinal(realFinalClass));\n    assertEquals(\"1\", foo.executeFinal(mockedFinalClass));\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Hope it helps.</p>\n\n<p>Complete article present here <a href=\"https://dzone.com/articles/mocking-the-unmockable-the-mockito2-way\" rel=\"nofollow noreferrer\">mocking-the-unmockable</a>.</p>\n"},{"tags":[],"owner":{"account_id":7058239,"reputation":333,"user_id":5404637,"display_name":"Michael_Zhang"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1499294521,"creation_date":1499294521,"answer_id":44937130,"question_id":14292863,"body_markdown":"Just to follow up. Please add this line to your gradle file:\r\n\r\n    testCompile group: &#39;org.mockito&#39;, name: &#39;mockito-inline&#39;, version: &#39;2.8.9&#39;\r\n\r\nI have tried various version of mockito-core and mockito-all. Neither of them work.","title":"How to mock a final class with mockito","body":"<p>Just to follow up. Please add this line to your gradle file:</p>\n\n<pre><code>testCompile group: 'org.mockito', name: 'mockito-inline', version: '2.8.9'\n</code></pre>\n\n<p>I have tried various version of mockito-core and mockito-all. Neither of them work.</p>\n"},{"tags":[],"owner":{"account_id":3676021,"reputation":1747,"user_id":3062108,"accept_rate":71,"display_name":"BennyP"},"down_vote_count":1,"up_vote_count":93,"is_accepted":false,"score":92,"last_activity_date":1618323943,"creation_date":1519289274,"answer_id":48923018,"question_id":14292863,"body_markdown":"add this in your build file:\r\n\r\n* if using [gradle](https://gradle.org/): `build.gradle`\r\n``` gradle\r\ntestImplementation &#39;org.mockito:mockito-inline:2.13.0&#39;\r\n```\r\n* if using [maven](https://maven.apache.org/): `pom.xml`\r\n``` xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.13.0&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nthis is a configuration to make mockito work with final classes\r\n\r\nIf you faced the `Could not initialize inline Byte Buddy mock maker. (This mock maker is not supported on Android.)`\r\nAdd the **Byte Buddy** dependency to your `build.gradle` file:\r\n\r\n    testImplementation &#39;net.bytebuddy:byte-buddy-agent:1.10.19&#39;\r\nsrc: https://mvnrepository.com/artifact/net.bytebuddy/byte-buddy\r\n\r\n","title":"How to mock a final class with mockito","body":"<p>add this in your build file:</p>\n<ul>\n<li>if using <a href=\"https://gradle.org/\" rel=\"noreferrer\">gradle</a>: <code>build.gradle</code></li>\n</ul>\n<pre><code>testImplementation 'org.mockito:mockito-inline:2.13.0'\n</code></pre>\n<ul>\n<li>if using <a href=\"https://maven.apache.org/\" rel=\"noreferrer\">maven</a>: <code>pom.xml</code></li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;version&gt;2.13.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>this is a configuration to make mockito work with final classes</p>\n<p>If you faced the <code>Could not initialize inline Byte Buddy mock maker. (This mock maker is not supported on Android.)</code>\nAdd the <strong>Byte Buddy</strong> dependency to your <code>build.gradle</code> file:</p>\n<pre><code>testImplementation 'net.bytebuddy:byte-buddy-agent:1.10.19'\n</code></pre>\n<p>src: <a href=\"https://mvnrepository.com/artifact/net.bytebuddy/byte-buddy\" rel=\"noreferrer\">https://mvnrepository.com/artifact/net.bytebuddy/byte-buddy</a></p>\n"},{"tags":[],"owner":{"account_id":905932,"reputation":126,"user_id":940841,"display_name":"Ozeetee"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1526942859,"creation_date":1526942859,"answer_id":50457516,"question_id":14292863,"body_markdown":"Time saver for people who are facing the same issue (Mockito + Final Class) on Android + Kotlin. As in Kotlin classes are final by default. I found a solution in one of Google Android samples with Architecture component. Solution picked from here : https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample\r\n\r\nCreate following annotations :\r\n\r\n    /**\r\n     * This annotation allows us to open some classes for mocking purposes while they are final in\r\n     * release builds.\r\n     */\r\n    @Target(AnnotationTarget.ANNOTATION_CLASS)\r\n    annotation class OpenClass\r\n    \r\n    /**\r\n     * Annotate a class with [OpenForTesting] if you want it to be extendable in debug builds.\r\n     */\r\n    @OpenClass\r\n    @Target(AnnotationTarget.CLASS)\r\n    annotation class OpenForTesting\r\n\r\n\r\nModify your gradle file. Take example from here : https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/build.gradle\r\n\r\n    apply plugin: &#39;kotlin-allopen&#39;\r\n    \r\n    allOpen {\r\n        // allows mocking for classes w/o directly opening them for release builds\r\n        annotation &#39;com.android.example.github.testing.OpenClass&#39;\r\n    }\r\n\r\nNow you can annotate any class to make it open for testing :\r\n\r\n    @OpenForTesting\r\n    class RepoRepository \r\n\r\n","title":"How to mock a final class with mockito","body":"<p>Time saver for people who are facing the same issue (Mockito + Final Class) on Android + Kotlin. As in Kotlin classes are final by default. I found a solution in one of Google Android samples with Architecture component. Solution picked from here : <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample\" rel=\"noreferrer\">https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample</a></p>\n\n<p>Create following annotations :</p>\n\n<pre><code>/**\n * This annotation allows us to open some classes for mocking purposes while they are final in\n * release builds.\n */\n@Target(AnnotationTarget.ANNOTATION_CLASS)\nannotation class OpenClass\n\n/**\n * Annotate a class with [OpenForTesting] if you want it to be extendable in debug builds.\n */\n@OpenClass\n@Target(AnnotationTarget.CLASS)\nannotation class OpenForTesting\n</code></pre>\n\n<p>Modify your gradle file. Take example from here : <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/build.gradle\" rel=\"noreferrer\">https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/build.gradle</a></p>\n\n<pre><code>apply plugin: 'kotlin-allopen'\n\nallOpen {\n    // allows mocking for classes w/o directly opening them for release builds\n    annotation 'com.android.example.github.testing.OpenClass'\n}\n</code></pre>\n\n<p>Now you can annotate any class to make it open for testing :</p>\n\n<pre><code>@OpenForTesting\nclass RepoRepository \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4324334,"reputation":3019,"user_id":3531558,"display_name":"Allen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544047002,"creation_date":1544047002,"answer_id":53641370,"question_id":14292863,"body_markdown":"If you trying to run unit-test under the **test** folder, the top solution is fine. Just follow it adding an extension.\r\n\r\nBut if you want to run it with **android related** class like context or activity which is under **androidtest** folder, [the answer][1] is for you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50457516/3531558","title":"How to mock a final class with mockito","body":"<p>If you trying to run unit-test under the <strong>test</strong> folder, the top solution is fine. Just follow it adding an extension.</p>\n\n<p>But if you want to run it with <strong>android related</strong> class like context or activity which is under <strong>androidtest</strong> folder, <a href=\"https://stackoverflow.com/a/50457516/3531558\">the answer</a> is for you.</p>\n"},{"tags":[],"owner":{"account_id":91472,"reputation":2329,"user_id":251120,"accept_rate":67,"display_name":"kenyee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551813374,"creation_date":1551813374,"answer_id":55009989,"question_id":14292863,"body_markdown":"For us, it was because we excluded mockito-inline from koin-test.  One gradle module actually needed this and for reason only failed on release builds (debug builds in the IDE worked) :-P","title":"How to mock a final class with mockito","body":"<p>For us, it was because we excluded mockito-inline from koin-test.  One gradle module actually needed this and for reason only failed on release builds (debug builds in the IDE worked) :-P</p>\n"},{"tags":[],"owner":{"account_id":8469613,"reputation":2411,"user_id":6352712,"accept_rate":89,"display_name":"Serg Burlaka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552296992,"creation_date":1552296992,"answer_id":55098861,"question_id":14292863,"body_markdown":"I think you need think more in principle. Instead you final class use his interface and mock interface  instead.\r\n\r\nFor this:\r\n \r\n\r\n     public class RainOnTrees{\r\n    \r\n       fun startRain():Observable&lt;Boolean&gt;{\r\n    \r\n            // some code here\r\n       }\r\n    }\r\n\r\nadd\r\n\r\n    interface iRainOnTrees{\r\n      public void startRain():Observable&lt;Boolean&gt;\r\n    }\r\n\r\n\r\nand mock you interface:\r\n\r\n   \r\n\r\n     @Before\r\n        fun setUp() {\r\n            rainService= Mockito.mock(iRainOnTrees::class.java)\r\n    \r\n            `when`(rainService.startRain()).thenReturn(\r\n                just(true).delay(3, TimeUnit.SECONDS)\r\n            )\r\n    \r\n        }","title":"How to mock a final class with mockito","body":"<p>I think you need think more in principle. Instead you final class use his interface and mock interface  instead.</p>\n\n<p>For this:</p>\n\n<pre><code> public class RainOnTrees{\n\n   fun startRain():Observable&lt;Boolean&gt;{\n\n        // some code here\n   }\n}\n</code></pre>\n\n<p>add</p>\n\n<pre><code>interface iRainOnTrees{\n  public void startRain():Observable&lt;Boolean&gt;\n}\n</code></pre>\n\n<p>and mock you interface:</p>\n\n<pre><code> @Before\n    fun setUp() {\n        rainService= Mockito.mock(iRainOnTrees::class.java)\n\n        `when`(rainService.startRain()).thenReturn(\n            just(true).delay(3, TimeUnit.SECONDS)\n        )\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4354839,"reputation":2493,"user_id":3553843,"accept_rate":70,"display_name":"Sattar"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1577547173,"creation_date":1577547173,"answer_id":59512261,"question_id":14292863,"body_markdown":"In Mockito 3 and more I have the same problem and fixed it as from this link \n\n[Mock Final Classes and Methods with Mockito][1]\nas follow \n\n&gt;  Before Mockito can be used for mocking final classes and methods, it needs to be &gt; configured.\n&gt;\n&gt; We need to add a text file to the project&#39;s src/test/resources/mockito-extensions directory named org.mockito.plugins.MockMaker and add a single line of text:\n&gt;\n&gt;     mock-maker-inline\n&gt;\n&gt; Mockito checks the extensions directory for configuration files when it is loaded. This file enables the mocking of final methods and classes.\n\n  [1]: https://www.baeldung.com/mockito-final#configure-mocktio","title":"How to mock a final class with mockito","body":"<p>In Mockito 3 and more I have the same problem and fixed it as from this link</p>\n<p><a href=\"https://www.baeldung.com/mockito-final#configure-mocktio\" rel=\"noreferrer\">Mock Final Classes and Methods with Mockito</a>\nas follow</p>\n<blockquote>\n<p>Before Mockito can be used for mocking final classes and methods, it needs to be &gt; configured.</p>\n<p>We need to add a text file to the project's src/test/resources/mockito-extensions directory named org.mockito.plugins.MockMaker and add a single line of text:</p>\n<pre><code>mock-maker-inline\n</code></pre>\n<p>Mockito checks the extensions directory for configuration files when it is loaded. This file enables the mocking of final methods and classes.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8659601,"reputation":865,"user_id":6482564,"display_name":"Manas Kumar Maharana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578564295,"creation_date":1578564295,"answer_id":59661517,"question_id":14292863,"body_markdown":"For final class add below to mock and call static or non static.\r\n\r\n1- add this in class level\r\n   @SuppressStatucInitializationFor(value ={class name with package})      \r\n2- PowerMockito.mockStatic(classname.class) will mock class     \r\n3- then use your when statement to return mock object when calling method of this class.\r\n\r\nEnjoy \r\n","title":"How to mock a final class with mockito","body":"<p>For final class add below to mock and call static or non static.</p>\n\n<p>1- add this in class level\n   @SuppressStatucInitializationFor(value ={class name with package})<br>\n2- PowerMockito.mockStatic(classname.class) will mock class<br>\n3- then use your when statement to return mock object when calling method of this class.</p>\n\n<p>Enjoy </p>\n"},{"tags":[],"owner":{"account_id":11905400,"reputation":1028,"user_id":8712102,"display_name":"HandyPawan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587394467,"creation_date":1587394467,"answer_id":61325447,"question_id":14292863,"body_markdown":"\r\nAdd these dependencies for run mockito successfully :\r\n\r\n**testImplementation &#39;org.mockito:mockito-core:2.24.5&#39;   \r\ntestImplementation &quot;org.mockito:mockito-inline:2.24.5&quot;**","title":"How to mock a final class with mockito","body":"<p>Add these dependencies for run mockito successfully :</p>\n\n<p><strong>testImplementation 'org.mockito:mockito-core:2.24.5'<br>\ntestImplementation \"org.mockito:mockito-inline:2.24.5\"</strong></p>\n"},{"tags":[],"owner":{"account_id":5885102,"reputation":1044,"user_id":4633354,"accept_rate":50,"display_name":"metis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596708706,"creation_date":1594734620,"answer_id":62896746,"question_id":14292863,"body_markdown":"Mocking final classes is **not supported** for **mockito-android** as per this GitHub issue. You should use Mockk instead for this.\r\n\r\nFor both unit test and ui test, you can use Mockk with no problem.\r\n\r\n","title":"How to mock a final class with mockito","body":"<p>Mocking final classes is <strong>not supported</strong> for <strong>mockito-android</strong> as per this GitHub issue. You should use Mockk instead for this.</p>\n<p>For both unit test and ui test, you can use Mockk with no problem.</p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63710,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609968862,"creation_date":1609968862,"answer_id":65603675,"question_id":14292863,"body_markdown":"I was able to overcome this message:\r\n\r\n\r\n&gt; org.mockito.exceptions.base.MockitoException: \r\nCannot mock/spy class org.slf4j.impl.Log4jLoggerAdapter\r\nMockito cannot mock/spy because :\r\n&gt; - final or anonymous class\r\n\r\nfrom this: `log = spy(log);`\r\n\r\nBy using this instead:\r\n\r\n`log = mock(Logger.class);`\r\n\r\nThen it works.\r\n\r\nI guess that &quot;default&quot; logger adapter is an instance of a final class so I couldn&#39;t &quot;spy&quot; it, but I could mock the whole thing.  Go figure...\r\n\r\nThis may mean that you could substitute it for some other &quot;non final&quot; instance if you have that handy, as well.  Or a simplified version, etc. FWIW...","title":"How to mock a final class with mockito","body":"<p>I was able to overcome this message:</p>\n<blockquote>\n<p>org.mockito.exceptions.base.MockitoException:\nCannot mock/spy class org.slf4j.impl.Log4jLoggerAdapter\nMockito cannot mock/spy because :</p>\n<ul>\n<li>final or anonymous class</li>\n</ul>\n</blockquote>\n<p>from this: <code>log = spy(log);</code></p>\n<p>By using this instead:</p>\n<p><code>log = mock(Logger.class);</code></p>\n<p>Then it works.</p>\n<p>I guess that &quot;default&quot; logger adapter is an instance of a final class so I couldn't &quot;spy&quot; it, but I could mock the whole thing.  Go figure...</p>\n<p>This may mean that you could substitute it for some other &quot;non final&quot; instance if you have that handy, as well.  Or a simplified version, etc. FWIW...</p>\n"},{"tags":[],"owner":{"account_id":195068,"reputation":3936,"user_id":2380518,"display_name":"Miloš Černilovsk&#253;"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1683729767,"creation_date":1616778078,"answer_id":66821282,"question_id":14292863,"body_markdown":"If you need to use Mockito in an instrumented test in Android (i. e. running in an Android device), you cannot use `mockito-inline`. There is a special `mockito-android` version which doesn&#39;t solve the &quot;final class&quot; problem either. The only solution which seems to work is the [Dexmaker library][1]. The only limitation is that it works only in Android P (Android 9, API 28) and higher. It can be imported as follows:\r\n\r\n    androidTestImplementation &quot;com.linkedin.dexmaker:dexmaker-mockito-inline:2.28.1&quot;\r\n\r\nBeware that there is also a &quot;dexmaker-mockito&quot; version which doesn&#39;t work for final classes either. Make sure you import &quot;dexmaker-mockito-inline&quot;.\r\n\r\nEdit: Eventually I just migrated everything to Mockk to get rid of all the problems.\r\n\r\n\r\n  [1]: https://github.com/linkedin/dexmaker","title":"How to mock a final class with mockito","body":"<p>If you need to use Mockito in an instrumented test in Android (i. e. running in an Android device), you cannot use <code>mockito-inline</code>. There is a special <code>mockito-android</code> version which doesn't solve the &quot;final class&quot; problem either. The only solution which seems to work is the <a href=\"https://github.com/linkedin/dexmaker\" rel=\"nofollow noreferrer\">Dexmaker library</a>. The only limitation is that it works only in Android P (Android 9, API 28) and higher. It can be imported as follows:</p>\n<pre><code>androidTestImplementation &quot;com.linkedin.dexmaker:dexmaker-mockito-inline:2.28.1&quot;\n</code></pre>\n<p>Beware that there is also a &quot;dexmaker-mockito&quot; version which doesn't work for final classes either. Make sure you import &quot;dexmaker-mockito-inline&quot;.</p>\n<p>Edit: Eventually I just migrated everything to Mockk to get rid of all the problems.</p>\n"},{"tags":[],"owner":{"account_id":6211451,"reputation":49,"user_id":4837627,"display_name":"Pawan Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664521845,"creation_date":1664521845,"answer_id":73905168,"question_id":14292863,"body_markdown":"I am writing the steps I followed after various unsuccessful attempts to mock final/private classes and their methods in Java 11, which finally worked for me.\r\n\r\n 1. Create a file named *org.mockito.plugins.MockMaker* inside\r\n    your *test/resources/mockito-extensions* folder. Please create\r\n    *mockito-extensions* folder if not present already.\r\n 2. Add a single line *mock-maker-inline* as the content of the above *org.mockito.plugins.MockMaker* file\r\n 3. Add\r\n\r\n``` \r\n@RunWith(PowerMockRunner.class)\r\n@PowerMockIgnore({&quot;javax.management.*&quot;, &quot;jdk.internal.reflect.*&quot;, &quot;com.sun.org.apache.xerces.*&quot;, &quot;javax.xml.*&quot;, &quot;org.xml.*&quot;, &quot;org.w3c.*&quot;})\r\n@PrepareForTest(Utility.class)\r\n```\r\nannotations at the class level.\r\n\r\nSetup process in the test class\r\n```\r\n  @Before\r\n  public void setup () {\r\n    MockitoAnnotations.initMocks(this);\r\n    Mockito.mockStatic(ClassToBeMocked.class); \r\n  }\r\n```\r\n \r\n 4. Use *Mockito.when(..).thenReturn(..)* for assertions \r\n 5. In case of multiple test cases, add the below code\r\n\r\n```\r\n  @After\r\n  public void after() {\r\n        Mockito.framework().clearInlineMocks();\r\n  }\r\n```\r\nThe mockito version which I am using: 3.9.0\r\nJava version: 11\r\n\r\n","title":"How to mock a final class with mockito","body":"<p>I am writing the steps I followed after various unsuccessful attempts to mock final/private classes and their methods in Java 11, which finally worked for me.</p>\n<ol>\n<li>Create a file named <em>org.mockito.plugins.MockMaker</em> inside\nyour <em>test/resources/mockito-extensions</em> folder. Please create\n<em>mockito-extensions</em> folder if not present already.</li>\n<li>Add a single line <em>mock-maker-inline</em> as the content of the above <em>org.mockito.plugins.MockMaker</em> file</li>\n<li>Add</li>\n</ol>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PowerMockIgnore({&quot;javax.management.*&quot;, &quot;jdk.internal.reflect.*&quot;, &quot;com.sun.org.apache.xerces.*&quot;, &quot;javax.xml.*&quot;, &quot;org.xml.*&quot;, &quot;org.w3c.*&quot;})\n@PrepareForTest(Utility.class)\n</code></pre>\n<p>annotations at the class level.</p>\n<p>Setup process in the test class</p>\n<pre><code>  @Before\n  public void setup () {\n    MockitoAnnotations.initMocks(this);\n    Mockito.mockStatic(ClassToBeMocked.class); \n  }\n</code></pre>\n<ol start=\"4\">\n<li>Use <em>Mockito.when(..).thenReturn(..)</em> for assertions</li>\n<li>In case of multiple test cases, add the below code</li>\n</ol>\n<pre><code>  @After\n  public void after() {\n        Mockito.framework().clearInlineMocks();\n  }\n</code></pre>\n<p>The mockito version which I am using: 3.9.0\nJava version: 11</p>\n"},{"tags":[],"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699210415,"creation_date":1699210415,"answer_id":77427246,"question_id":14292863,"body_markdown":"### As of Mockito 5.x, you can mock final classes and methods out-of-the-box like any non-finals.\r\n\r\nNo additional dependencies (such as `mockito-inline`) required anymore.\r\n\r\nHere is an article outlining the most important changes and improvements in version 5: https://www.infoq.com/news/2023/01/mockito-5/\r\n\r\nSidenote: i was actually rather confused after reading this [Baeldung tutorial](https://www.baeldung.com/mockito-final) which is from June 2023 and simply omits the most important detail, namely that you need Mockito 5 for this.","title":"How to mock a final class with mockito","body":"<h3>As of Mockito 5.x, you can mock final classes and methods out-of-the-box like any non-finals.</h3>\n<p>No additional dependencies (such as <code>mockito-inline</code>) required anymore.</p>\n<p>Here is an article outlining the most important changes and improvements in version 5: <a href=\"https://www.infoq.com/news/2023/01/mockito-5/\" rel=\"nofollow noreferrer\">https://www.infoq.com/news/2023/01/mockito-5/</a></p>\n<p>Sidenote: i was actually rather confused after reading this <a href=\"https://www.baeldung.com/mockito-final\" rel=\"nofollow noreferrer\">Baeldung tutorial</a> which is from June 2023 and simply omits the most important detail, namely that you need Mockito 5 for this.</p>\n"}],"owner":{"account_id":1838226,"reputation":4757,"user_id":1668170,"accept_rate":78,"display_name":"buttowski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569285,"favorite_count":0,"down_vote_count":0,"up_vote_count":380,"accepted_answer_id":14292888,"answer_count":29,"score":380,"last_activity_date":1699210415,"creation_date":1357989781,"question_id":14292863,"body_markdown":"I have a final class, something like this:\r\n\r\n\r\n    public final class RainOnTrees{\r\n    \r\n       public void startRain(){\r\n    \r\n            // some code here\r\n       }\r\n    }\r\n\r\nI am using this class in some other class like this:\r\n\r\n    public class Seasons{\r\n            \r\n       RainOnTrees rain = new RainOnTrees();\r\n            \r\n       public void findSeasonAndRain(){\r\n            \r\n            rain.startRain();\r\n            \r\n        }\r\n    }\r\n\r\nand in my JUnit test class for `Seasons.java` I want to mock the `RainOnTrees` class. How can I do this with Mockito?\r\n\r\n\r\n\r\n","title":"How to mock a final class with mockito","body":"<p>I have a final class, something like this:</p>\n\n<pre><code>public final class RainOnTrees{\n\n   public void startRain(){\n\n        // some code here\n   }\n}\n</code></pre>\n\n<p>I am using this class in some other class like this:</p>\n\n<pre><code>public class Seasons{\n\n   RainOnTrees rain = new RainOnTrees();\n\n   public void findSeasonAndRain(){\n\n        rain.startRain();\n\n    }\n}\n</code></pre>\n\n<p>and in my JUnit test class for <code>Seasons.java</code> I want to mock the <code>RainOnTrees</code> class. How can I do this with Mockito?</p>\n"},{"tags":["java","hibernate","hibernate-6.x"],"comments":[{"owner":{"account_id":17341040,"reputation":13,"user_id":13792906,"display_name":"Eduardo"},"score":0,"creation_date":1699143047,"post_id":77424268,"comment_id":136494545,"body_markdown":"If my code&#39;s intention is not clear, please note that it aims to retrieve children records associated with a parent entity.","body":"If my code&#39;s intention is not clear, please note that it aims to retrieve children records associated with a parent entity."}],"owner":{"account_id":17341040,"reputation":13,"user_id":13792906,"display_name":"Eduardo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699209474,"creation_date":1699142838,"question_id":77424268,"body_markdown":"I&#39;m facing an issue with Hibernate after upgrading to version 6.0.0 (it was working fine in previous versions). I have the following code snippet:\r\n\r\n   \r\n\r\n     CriteriaBuilder builder = session.getCriteriaBuilder();\r\n     CriteriaQuery&lt;T&gt; criteria = builder.createQuery(classe);\r\n     Root&lt;?&gt; root = criteria.from(fatherClass);\r\n     Join&lt;?, T&gt; join = root.join(table);\r\n     criteria.select(join).where(builder.equal(root.get(nameField), id));\r\n     TypedQuery&lt;T&gt; query = session.createQuery(criteria); // QueryTypeMismatchException\r\n     List&lt;T&gt; resultList = query.getResultList();\r\n\r\nWhen I execute this code, I receive the following error:\r\n\r\n    org.hibernate.query.QueryTypeMismatchException: Specified result type [com.hcf.test.entities.TestEntitiyParent] did not match Query selection type [com.hcf.test.entities.TestEntitiyChildren] - multiple selections: use Tuple or array\r\n\r\nThis error didn&#39;t occur in previous versions of Hibernate but started happening after the update to version 6.0.0. Can someone explain why this is happening and how I can resolve this issue in Hibernate version 6.0.0?\r\n\r\nAny help or guidance will be greatly appreciated. Thank you!\r\n\r\n","title":"Error in Hibernate 6.0.0: QueryTypeMismatchException - Specified result type [type1] did not match Query selection type [type2]","body":"<p>I'm facing an issue with Hibernate after upgrading to version 6.0.0 (it was working fine in previous versions). I have the following code snippet:</p>\n<pre><code> CriteriaBuilder builder = session.getCriteriaBuilder();\n CriteriaQuery&lt;T&gt; criteria = builder.createQuery(classe);\n Root&lt;?&gt; root = criteria.from(fatherClass);\n Join&lt;?, T&gt; join = root.join(table);\n criteria.select(join).where(builder.equal(root.get(nameField), id));\n TypedQuery&lt;T&gt; query = session.createQuery(criteria); // QueryTypeMismatchException\n List&lt;T&gt; resultList = query.getResultList();\n</code></pre>\n<p>When I execute this code, I receive the following error:</p>\n<pre><code>org.hibernate.query.QueryTypeMismatchException: Specified result type [com.hcf.test.entities.TestEntitiyParent] did not match Query selection type [com.hcf.test.entities.TestEntitiyChildren] - multiple selections: use Tuple or array\n</code></pre>\n<p>This error didn't occur in previous versions of Hibernate but started happening after the update to version 6.0.0. Can someone explain why this is happening and how I can resolve this issue in Hibernate version 6.0.0?</p>\n<p>Any help or guidance will be greatly appreciated. Thank you!</p>\n"},{"tags":["java","mysql","bufferedreader"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":3,"creation_date":1699198401,"post_id":77426519,"comment_id":136498629,"body_markdown":"Post your code that you have so far.","body":"Post your code that you have so far."},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1699198518,"post_id":77426519,"comment_id":136498646,"body_markdown":"&quot;I tried (good idea) but it doesn&#39;t work&quot; isn&#39;t a suitable SO question. Add the code you tried; the _idea_ is fine, if it doesn&#39;t work for you, you have bugs in that. We can help, but only if you add that code so we can point out where you&#39;ve written the bugs.","body":"&quot;I tried (good idea) but it doesn&#39;t work&quot; isn&#39;t a suitable SO question. Add the code you tried; the <i>idea</i> is fine, if it doesn&#39;t work for you, you have bugs in that. We can help, but only if you add that code so we can point out where you&#39;ve written the bugs."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1699198911,"post_id":77426519,"comment_id":136498687,"body_markdown":"Doesn&#39;t work is not clarified.","body":"Doesn&#39;t work is not clarified."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1699202461,"post_id":77426519,"comment_id":136499083,"body_markdown":"You have a csv file. Most RDBMS allow direct import from that format","body":"You have a csv file. Most RDBMS allow direct import from that format"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1699244773,"post_id":77426519,"comment_id":136502678,"body_markdown":"&quot;Using line.startsWith(&quot;^[0-9].*&quot;) doesn&#39;t seem to work,...&quot; - try `line.matches(^[0-9].*)`, where `line` is the string data for each line in your text file. String class&#39;s `matches` method takes a regex string as an argument.","body":"&quot;Using line.startsWith(&quot;^[0-9].*&quot;) doesn&#39;t seem to work,...&quot; - try <code>line.matches(^[0-9].*)</code>, where <code>line</code> is the string data for each line in your text file. String class&#39;s <code>matches</code> method takes a regex string as an argument."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1699259877,"post_id":77426519,"comment_id":136504335,"body_markdown":"In my above comment the code snippet `line.matches(^[0-9].*)` is correctly used as `line.matches(&quot;^[0-9].*&quot;)`. Note the `String#startsWith(String prefix)` does not use a regex as parameter.","body":"In my above comment the code snippet <code>line.matches(^[0-9].*)</code> is correctly used as <code>line.matches(&quot;^[0-9].*&quot;)</code>. Note the <code>String#startsWith(String prefix)</code> does not use a regex as parameter."}],"answers":[{"tags":[],"owner":{"account_id":23198235,"reputation":54,"user_id":17293521,"display_name":"Oğuz Yeşil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699199086,"creation_date":1699199086,"answer_id":77426583,"question_id":77426519,"body_markdown":"this code worked for me\r\n\r\n    public class Main {\r\n\r\n\t\r\n\tpublic static String[][] arrayedDatas(String data){\r\n\t\tString[] datas = data.split(&quot;,&quot;);\r\n\t\t\r\n\t\tint sizeOfData = datas.length/5;\r\n\t\t\r\n\t\tString[][] arrayed = new String[sizeOfData][5];\r\n\t\t\r\n\t\tint j = 0;\r\n\t\tfor(int i=0; i&lt;arrayed.length; i++) {\r\n\t\t\tarrayed[i][0] = datas[j].trim();\r\n\t\t\tarrayed[i][1] = datas[j+1].trim();\r\n\t\t\tarrayed[i][2] = datas[j+2].trim();\r\n\t\t\tarrayed[i][3] = datas[j+3].trim();\r\n\t\t\tarrayed[i][4] = datas[j+4].trim();\r\n\t\t\tj += 5;\r\n\t\t}\r\n\t\t\r\n\t\treturn arrayed;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tString datas = &quot;1, &#39;Aar&#243;n&#39;, &#39;Rivero&#39;, &#39;G&#243;mez&#39;, &#39;Almer&#237;a&#39;, 100 2, &#39;Adela&#39;, &#39;Salas&#39;, &#39;D&#237;az&#39;, &#39;Granada&#39;, 200 3, &#39;Adolfo&#39;, &#39;Rubio&#39;, &#39;Flores&#39;, &#39;Sevilla&#39;, NULL 4, &#39;Adri&#225;n&#39;, &#39;Su&#225;rez&#39;, NULL, &#39;Ja&#233;n&#39;, 300 5, &#39;Marcos&#39;, &#39;Loyola&#39;, &#39;M&#233;ndez&#39;, &#39;Almer&#237;a&#39;, 200 6, &#39;Mar&#237;a&#39;, &#39;Santana&#39;, &#39;Moreno&#39;, &#39;C&#225;diz&#39;, 100 7, &#39;Pilar&#39;, &#39;Ruiz&#39;, NULL, &#39;Sevilla&#39;, 300 8, &#39;Pepe&#39;, &#39;Ruiz&#39;, &#39;Santana&#39;, &#39;Huelva&#39;, 200 9, &#39;Guillermo&#39;, &#39;L&#243;pez&#39;, &#39;G&#243;mez&#39;, &#39;Granada&#39;, 225 10, &#39;Daniel&#39;, &#39;Santana&#39;, &#39;Loyola&#39;, &#39;Sevilla&#39;&quot;;\r\n\t\t\r\n\t\tString[][] arrayed = arrayedDatas(datas);\r\n\t\t\r\n\t\tfor(String[] a : arrayed) {\r\n\t\t\tfor(String b : a) {\r\n\t\t\t\tSystem.out.println(b);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;===========&quot;);\r\n\t\t}\r\n\t\t\r\n\t }\r\n\t\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DrgF4.png","title":"Extracting SQL from a .txt","body":"<p>this code worked for me</p>\n<pre><code>public class Main {\n\n\npublic static String[][] arrayedDatas(String data){\n    String[] datas = data.split(&quot;,&quot;);\n    \n    int sizeOfData = datas.length/5;\n    \n    String[][] arrayed = new String[sizeOfData][5];\n    \n    int j = 0;\n    for(int i=0; i&lt;arrayed.length; i++) {\n        arrayed[i][0] = datas[j].trim();\n        arrayed[i][1] = datas[j+1].trim();\n        arrayed[i][2] = datas[j+2].trim();\n        arrayed[i][3] = datas[j+3].trim();\n        arrayed[i][4] = datas[j+4].trim();\n        j += 5;\n    }\n    \n    return arrayed;\n}\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    \n    String datas = &quot;1, 'Aarón', 'Rivero', 'Gómez', 'Almería', 100 2, 'Adela', 'Salas', 'Díaz', 'Granada', 200 3, 'Adolfo', 'Rubio', 'Flores', 'Sevilla', NULL 4, 'Adrián', 'Suárez', NULL, 'Jaén', 300 5, 'Marcos', 'Loyola', 'Méndez', 'Almería', 200 6, 'María', 'Santana', 'Moreno', 'Cádiz', 100 7, 'Pilar', 'Ruiz', NULL, 'Sevilla', 300 8, 'Pepe', 'Ruiz', 'Santana', 'Huelva', 200 9, 'Guillermo', 'López', 'Gómez', 'Granada', 225 10, 'Daniel', 'Santana', 'Loyola', 'Sevilla'&quot;;\n    \n    String[][] arrayed = arrayedDatas(datas);\n    \n    for(String[] a : arrayed) {\n        for(String b : a) {\n            System.out.println(b);\n        }\n        System.out.println(&quot;===========&quot;);\n    }\n    \n }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DrgF4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DrgF4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":28673417,"reputation":1,"user_id":21955977,"display_name":"MPCatcher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699199169,"creation_date":1699199169,"answer_id":77426588,"question_id":77426519,"body_markdown":"\r\n    public static void main(String[] args) throws IOException {\r\n        try {\r\n            String line;\r\n            String currentSection = null;\r\n\r\n            BufferedReader reader = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\nombr\\\\Downloads\\\\datos_ventas.txt&quot;));\r\n\r\n            while ((line = reader.readLine()) != null) {\r\n                System.out.println(line);\r\n                if (line.startsWith(&quot;Cliente&quot;)) {\r\n                    \r\n                    currentSection = &quot;Clientes&quot;;\r\n                    \r\n                    if (line.startsWith(&quot;^[0-9].*&quot;)){\r\n                        \r\n                        String[] valores = line.split(&quot;,&quot;);\r\n                        if (valores != null){\r\n                            String valor1 = valores[0];\r\n                            String valor2 = valores[1];\r\n                            String valor3 = valores[2];\r\n                            String valor4 = valores[3];\r\n                            String valor5 = valores[4];\r\n                            String valor6 = valores[5];\r\n                            System.out.print(&quot;Id : &quot; + valor1);\r\n                            System.out.println(&quot;Nombre : &quot; + valor2);\r\n                            System.out.println(&quot;Apellidos : &quot; + valor3 + &quot; &quot; + valor4);\r\n                            System.out.println(&quot;Vivienda : &quot; + valor5);\r\n                            System.out.println(&quot;Precio : &quot; + valor6);\r\n                            \r\n                            \r\n                        }\r\n                    }\r\n                }\r\n            }","title":"Extracting SQL from a .txt","body":"<pre><code>public static void main(String[] args) throws IOException {\n    try {\n        String line;\n        String currentSection = null;\n\n        BufferedReader reader = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\nombr\\\\Downloads\\\\datos_ventas.txt&quot;));\n\n        while ((line = reader.readLine()) != null) {\n            System.out.println(line);\n            if (line.startsWith(&quot;Cliente&quot;)) {\n                \n                currentSection = &quot;Clientes&quot;;\n                \n                if (line.startsWith(&quot;^[0-9].*&quot;)){\n                    \n                    String[] valores = line.split(&quot;,&quot;);\n                    if (valores != null){\n                        String valor1 = valores[0];\n                        String valor2 = valores[1];\n                        String valor3 = valores[2];\n                        String valor4 = valores[3];\n                        String valor5 = valores[4];\n                        String valor6 = valores[5];\n                        System.out.print(&quot;Id : &quot; + valor1);\n                        System.out.println(&quot;Nombre : &quot; + valor2);\n                        System.out.println(&quot;Apellidos : &quot; + valor3 + &quot; &quot; + valor4);\n                        System.out.println(&quot;Vivienda : &quot; + valor5);\n                        System.out.println(&quot;Precio : &quot; + valor6);\n                        \n                        \n                    }\n                }\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699204647,"creation_date":1699204305,"answer_id":77426908,"question_id":77426519,"body_markdown":"Load your file into (temporary) table with the next query:\r\n```\r\nload data infile &#39;C:/ProgramData/MySQL/MySQL Server 8.0/Uploads/csv_data.csv&#39; -- data file\r\ninto table test                                       -- destination table\r\ncharacter set utf8mb4                                 -- CSV file charset\r\nfields terminated by &#39;,&#39; optionally enclosed by &#39;&#39;&#39;&#39;  -- columns data parsing parameters\r\nlines terminated by &#39;\\r\\n&#39;                            -- lines terminator\r\n(id, name1, name2, name2, city, @data)                -- columns and variables list where the data will be loaded into\r\nset data = nullif(@data, &#39; NULL&#39;);                    -- additional processing loaded data\r\n```\r\nA copy from CLI:\r\n```\r\nmysql&gt; create table test (id int, name1 text, name2 text, name3 text, city text, data int);\r\nQuery OK, 0 rows affected (0.39 sec)\r\n\r\nmysql&gt; load data infile &#39;C:/ProgramData/MySQL/MySQL Server 8.0/Uploads/csv_data.csv&#39; into table test character set utf8mb4 fields terminated by &#39;,&#39; optionally enclosed by &#39;&#39;&#39;&#39; lines terminated by &#39;\\r\\n&#39; (id, name1, name2, name2, city, @data) set data = nullif(@data, &#39; NULL&#39;);\r\nQuery OK, 10 rows affected (0.07 sec)\r\nRecords: 10  Deleted: 0  Skipped: 0  Warnings: 0\r\n\r\nmysql&gt; SELECT * FROM test;\r\n+------+--------------+------------+-------+-------------+------+\r\n| id   | name1        | name2      | name3 | city        | data |\r\n+------+--------------+------------+-------+-------------+------+\r\n|    1 |  &#39;Aar&#243;n&#39;     |  &#39;G&#243;mez&#39;   | NULL  |  &#39;Almer&#237;a&#39;  |  100 |\r\n|    2 |  &#39;Adela&#39;     |  &#39;D&#237;az&#39;    | NULL  |  &#39;Granada&#39;  |  200 |\r\n|    3 |  &#39;Adolfo&#39;    |  &#39;Flores&#39;  | NULL  |  &#39;Sevilla&#39;  | NULL |\r\n|    4 |  &#39;Adri&#225;n&#39;    |  NULL      | NULL  |  &#39;Ja&#233;n&#39;     |  300 |\r\n|    5 |  &#39;Marcos&#39;    |  &#39;M&#233;ndez&#39;  | NULL  |  &#39;Almer&#237;a&#39;  |  200 |\r\n|    6 |  &#39;Mar&#237;a&#39;     |  &#39;Moreno&#39;  | NULL  |  &#39;C&#225;diz&#39;    |  100 |\r\n|    7 |  &#39;Pilar&#39;     |  NULL      | NULL  |  &#39;Sevilla&#39;  |  300 |\r\n|    8 |  &#39;Pepe&#39;      |  &#39;Santana&#39; | NULL  |  &#39;Huelva&#39;   |  200 |\r\n|    9 |  &#39;Guillermo&#39; |  &#39;G&#243;mez&#39;   | NULL  |  &#39;Granada&#39;  |  225 |\r\n|   10 |  &#39;Daniel&#39;    |  &#39;Loyola&#39;  | NULL  |  &#39;Sevilla&#39;  |  125 |\r\n+------+--------------+------------+-------+-------------+------+\r\n```\r\nThen you can process the loaded data as you need.","title":"Extracting SQL from a .txt","body":"<p>Load your file into (temporary) table with the next query:</p>\n<pre><code>load data infile 'C:/ProgramData/MySQL/MySQL Server 8.0/Uploads/csv_data.csv' -- data file\ninto table test                                       -- destination table\ncharacter set utf8mb4                                 -- CSV file charset\nfields terminated by ',' optionally enclosed by ''''  -- columns data parsing parameters\nlines terminated by '\\r\\n'                            -- lines terminator\n(id, name1, name2, name2, city, @data)                -- columns and variables list where the data will be loaded into\nset data = nullif(@data, ' NULL');                    -- additional processing loaded data\n</code></pre>\n<p>A copy from CLI:</p>\n<pre><code>mysql&gt; create table test (id int, name1 text, name2 text, name3 text, city text, data int);\nQuery OK, 0 rows affected (0.39 sec)\n\nmysql&gt; load data infile 'C:/ProgramData/MySQL/MySQL Server 8.0/Uploads/csv_data.csv' into table test character set utf8mb4 fields terminated by ',' optionally enclosed by '''' lines terminated by '\\r\\n' (id, name1, name2, name2, city, @data) set data = nullif(@data, ' NULL');\nQuery OK, 10 rows affected (0.07 sec)\nRecords: 10  Deleted: 0  Skipped: 0  Warnings: 0\n\nmysql&gt; SELECT * FROM test;\n+------+--------------+------------+-------+-------------+------+\n| id   | name1        | name2      | name3 | city        | data |\n+------+--------------+------------+-------+-------------+------+\n|    1 |  'Aarón'     |  'Gómez'   | NULL  |  'Almería'  |  100 |\n|    2 |  'Adela'     |  'Díaz'    | NULL  |  'Granada'  |  200 |\n|    3 |  'Adolfo'    |  'Flores'  | NULL  |  'Sevilla'  | NULL |\n|    4 |  'Adrián'    |  NULL      | NULL  |  'Jaén'     |  300 |\n|    5 |  'Marcos'    |  'Méndez'  | NULL  |  'Almería'  |  200 |\n|    6 |  'María'     |  'Moreno'  | NULL  |  'Cádiz'    |  100 |\n|    7 |  'Pilar'     |  NULL      | NULL  |  'Sevilla'  |  300 |\n|    8 |  'Pepe'      |  'Santana' | NULL  |  'Huelva'   |  200 |\n|    9 |  'Guillermo' |  'Gómez'   | NULL  |  'Granada'  |  225 |\n|   10 |  'Daniel'    |  'Loyola'  | NULL  |  'Sevilla'  |  125 |\n+------+--------------+------------+-------+-------------+------+\n</code></pre>\n<p>Then you can process the loaded data as you need.</p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699209366,"creation_date":1699209366,"answer_id":77427192,"question_id":77426519,"body_markdown":"You can use this as a basis for strong typing for your insert instead of treating everything as a `String`. You can easily change the `Scanner` to read a file instead of the embedded input:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class SqlInserter {\r\n    final static String DATA = &quot;&quot;&quot;\r\n        1, &#39;Aar&#243;n&#39;, &#39;Rivero&#39;, &#39;G&#243;mez&#39;, &#39;Almer&#237;a&#39;, 100\r\n        2, &#39;Adela&#39;, &#39;Salas&#39;, &#39;D&#237;az&#39;, &#39;Granada&#39;, 200\r\n        3, &#39;Adolfo&#39;, &#39;Rubio&#39;, &#39;Flores&#39;, &#39;Sevilla&#39;, NULL\r\n        4, &#39;Adri&#225;n&#39;, &#39;Su&#225;rez&#39;, NULL, &#39;Ja&#233;n&#39;, 300\r\n        5, &#39;Marcos&#39;, &#39;Loyola&#39;, &#39;M&#233;ndez&#39;, &#39;Almer&#237;a&#39;, 200\r\n        6, &#39;Mar&#237;a&#39;, &#39;Santana&#39;, &#39;Moreno&#39;, &#39;C&#225;diz&#39;, 100\r\n        7, &#39;Pilar&#39;, &#39;Ruiz&#39;, NULL, &#39;Sevilla&#39;, 300\r\n        8, &#39;Pepe&#39;, &#39;Ruiz&#39;, &#39;Santana&#39;, &#39;Huelva&#39;, 200\r\n        9, &#39;Guillermo&#39;, &#39;L&#243;pez&#39;, &#39;G&#243;mez&#39;, &#39;Granada&#39;, 225\r\n        10, &#39;Daniel&#39;, &#39;Santana&#39;, &#39;Loyola&#39;, &#39;Sevilla&#39;, 125\r\n        &quot;&quot;&quot;;\r\n\r\n    record Person (Integer id, String name1, String name2, String name3, String city, Integer something) {\r\n        public Person(String[] atoms) {\r\n            this(&quot;NULL&quot;.equals(atoms[0])? null : Integer.valueOf(atoms[0]),\r\n            atoms[1],\r\n            atoms[2],\r\n            atoms[3],\r\n            atoms[4],\r\n            &quot;NULL&quot;.equals(atoms[5])? null : Integer.valueOf(atoms[5]));\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        try (Scanner s = new Scanner(DATA).useDelimiter(&quot;\\\\R&quot;)) {\r\n            s.tokens()\r\n                .map(line -&gt; line.replaceAll(&quot;&#39;&quot;, &quot;&quot;))\r\n                .map(line -&gt;line.split(&quot;\\\\s*,\\\\s*&quot;))\r\n                .map(a -&gt; new Person(a))\r\n                .forEach(System.out::println);\r\n        }\r\n    }\r\n}\r\n```","title":"Extracting SQL from a .txt","body":"<p>You can use this as a basis for strong typing for your insert instead of treating everything as a <code>String</code>. You can easily change the <code>Scanner</code> to read a file instead of the embedded input:</p>\n<pre><code>import java.util.Scanner;\n\npublic class SqlInserter {\n    final static String DATA = &quot;&quot;&quot;\n        1, 'Aarón', 'Rivero', 'Gómez', 'Almería', 100\n        2, 'Adela', 'Salas', 'Díaz', 'Granada', 200\n        3, 'Adolfo', 'Rubio', 'Flores', 'Sevilla', NULL\n        4, 'Adrián', 'Suárez', NULL, 'Jaén', 300\n        5, 'Marcos', 'Loyola', 'Méndez', 'Almería', 200\n        6, 'María', 'Santana', 'Moreno', 'Cádiz', 100\n        7, 'Pilar', 'Ruiz', NULL, 'Sevilla', 300\n        8, 'Pepe', 'Ruiz', 'Santana', 'Huelva', 200\n        9, 'Guillermo', 'López', 'Gómez', 'Granada', 225\n        10, 'Daniel', 'Santana', 'Loyola', 'Sevilla', 125\n        &quot;&quot;&quot;;\n\n    record Person (Integer id, String name1, String name2, String name3, String city, Integer something) {\n        public Person(String[] atoms) {\n            this(&quot;NULL&quot;.equals(atoms[0])? null : Integer.valueOf(atoms[0]),\n            atoms[1],\n            atoms[2],\n            atoms[3],\n            atoms[4],\n            &quot;NULL&quot;.equals(atoms[5])? null : Integer.valueOf(atoms[5]));\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        try (Scanner s = new Scanner(DATA).useDelimiter(&quot;\\\\R&quot;)) {\n            s.tokens()\n                .map(line -&gt; line.replaceAll(&quot;'&quot;, &quot;&quot;))\n                .map(line -&gt;line.split(&quot;\\\\s*,\\\\s*&quot;))\n                .map(a -&gt; new Person(a))\n                .forEach(System.out::println);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28673417,"reputation":1,"user_id":21955977,"display_name":"MPCatcher"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":4,"score":-2,"last_activity_date":1699209366,"creation_date":1699197915,"question_id":77426519,"body_markdown":"I&#39;m trying to extract values from a text file. The content of the file is as follows:\r\n\r\n\r\nCliente\r\n\r\n    1, &#39;Aar&#243;n&#39;, &#39;Rivero&#39;, &#39;G&#243;mez&#39;, &#39;Almer&#237;a&#39;, 100\r\n    2, &#39;Adela&#39;, &#39;Salas&#39;, &#39;D&#237;az&#39;, &#39;Granada&#39;, 200\r\n    3, &#39;Adolfo&#39;, &#39;Rubio&#39;, &#39;Flores&#39;, &#39;Sevilla&#39;, NULL\r\n    4, &#39;Adri&#225;n&#39;, &#39;Su&#225;rez&#39;, NULL, &#39;Ja&#233;n&#39;, 300\r\n    5, &#39;Marcos&#39;, &#39;Loyola&#39;, &#39;M&#233;ndez&#39;, &#39;Almer&#237;a&#39;, 200\r\n    6, &#39;Mar&#237;a&#39;, &#39;Santana&#39;, &#39;Moreno&#39;, &#39;C&#225;diz&#39;, 100\r\n    7, &#39;Pilar&#39;, &#39;Ruiz&#39;, NULL, &#39;Sevilla&#39;, 300\r\n    8, &#39;Pepe&#39;, &#39;Ruiz&#39;, &#39;Santana&#39;, &#39;Huelva&#39;, 200\r\n    9, &#39;Guillermo&#39;, &#39;L&#243;pez&#39;, &#39;G&#243;mez&#39;, &#39;Granada&#39;, 225\r\n    10, &#39;Daniel&#39;, &#39;Santana&#39;, &#39;Loyola&#39;, &#39;Sevilla&#39;, 125\r\n\r\n\r\nI&#39;ve managed to read the file and get the lines, but I can&#39;t specify the exact lines that start with digits. I want to split the values and add them to an SQL table. Using `line.startsWith(&quot;^[0-9].*&quot;)` doesn&#39;t seem to work, and I&#39;m out of ideas. I tried using a `matcher` to match the line, and it doesn&#39;t work either.\r\n\r\n","title":"Extracting SQL from a .txt","body":"<p>I'm trying to extract values from a text file. The content of the file is as follows:</p>\n<p>Cliente</p>\n<pre><code>1, 'Aarón', 'Rivero', 'Gómez', 'Almería', 100\n2, 'Adela', 'Salas', 'Díaz', 'Granada', 200\n3, 'Adolfo', 'Rubio', 'Flores', 'Sevilla', NULL\n4, 'Adrián', 'Suárez', NULL, 'Jaén', 300\n5, 'Marcos', 'Loyola', 'Méndez', 'Almería', 200\n6, 'María', 'Santana', 'Moreno', 'Cádiz', 100\n7, 'Pilar', 'Ruiz', NULL, 'Sevilla', 300\n8, 'Pepe', 'Ruiz', 'Santana', 'Huelva', 200\n9, 'Guillermo', 'López', 'Gómez', 'Granada', 225\n10, 'Daniel', 'Santana', 'Loyola', 'Sevilla', 125\n</code></pre>\n<p>I've managed to read the file and get the lines, but I can't specify the exact lines that start with digits. I want to split the values and add them to an SQL table. Using <code>line.startsWith(&quot;^[0-9].*&quot;)</code> doesn't seem to work, and I'm out of ideas. I tried using a <code>matcher</code> to match the line, and it doesn't work either.</p>\n"},{"tags":["java","spring-boot","mariadb"],"comments":[{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1699202893,"post_id":77426655,"comment_id":136499133,"body_markdown":"My guess is that value substituted for OwnerID comparison causes the issue. Btw you use mariadb, not mysql","body":"My guess is that value substituted for OwnerID comparison causes the issue. Btw you use mariadb, not mysql"},{"owner":{"account_id":21212530,"reputation":71,"user_id":15600837,"display_name":"AdamPI"},"score":0,"creation_date":1699203481,"post_id":77426655,"comment_id":136499215,"body_markdown":"which comparison do you mean? this one OwnerID!=?. If so what&#39;s wrong with it?","body":"which comparison do you mean? this one OwnerID!=?. If so what&#39;s wrong with it?"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1699203904,"post_id":77426655,"comment_id":136499278,"body_markdown":"You need to check what gets substituted into the parameter","body":"You need to check what gets substituted into the parameter"},{"owner":{"account_id":21212530,"reputation":71,"user_id":15600837,"display_name":"AdamPI"},"score":0,"creation_date":1699204734,"post_id":77426655,"comment_id":136499390,"body_markdown":"I modified my query the following way: ...and `Country`=? and `City`=? and OwnerID!=&#39;NameSurname&#39;... and it still throws the same exception. of course I commented UID in my java function:\n                City,\n                //UID,\n                from,","body":"I modified my query the following way: ...and <code>Country</code>=? and <code>City</code>=? and OwnerID!=&#39;NameSurname&#39;... and it still throws the same exception. of course I commented UID in my java function:                 City,                 //UID,                 from,"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1699206756,"post_id":77426655,"comment_id":136499643,"body_markdown":"We can&#39;t see the actually executed sql statement, so we cannot be sure what&#39;s going on before the position of the error. The error usually occures just before the part of the code indicated by the near part of the error message.","body":"We can&#39;t see the actually executed sql statement, so we cannot be sure what&#39;s going on before the position of the error. The error usually occures just before the part of the code indicated by the near part of the error message."},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1699207083,"post_id":77426655,"comment_id":136499687,"body_markdown":"Although the first two criteria in the where clause do not make sense. One is the same as the join clause and the other should be in the join clause.","body":"Although the first two criteria in the where clause do not make sense. One is the same as the join clause and the other should be in the join clause."}],"answers":[{"tags":[],"owner":{"account_id":21212530,"reputation":71,"user_id":15600837,"display_name":"AdamPI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699209338,"creation_date":1699209338,"answer_id":77427189,"question_id":77426655,"body_markdown":"When I&#39;ve been deploying app on googlecloud I didn&#39;t notice that I chose incorrect project adam314pi@cloudshell:~/quickadoptionapiserver (**wrong_project**)$. That&#39;s why I&#39;ve been updating wrong project and when I changed project to the correct one everything started to work","title":"spring boot app in google cloud 500 error","body":"<p>When I've been deploying app on googlecloud I didn't notice that I chose incorrect project adam314pi@cloudshell:~/quickadoptionapiserver (<strong>wrong_project</strong>)$. That's why I've been updating wrong project and when I changed project to the correct one everything started to work</p>\n"}],"owner":{"account_id":21212530,"reputation":71,"user_id":15600837,"display_name":"AdamPI"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77427189,"answer_count":1,"score":0,"last_activity_date":1699209338,"creation_date":1699200232,"question_id":77426655,"body_markdown":"my repository method:\r\n```\r\npublic List&lt;PublicAnnouncementListItem&gt; getAllPublicAnnouncementListItems(String Country, String City, String DateRange, String UID) {\r\n        String from = DateRange.split(&quot;-&quot;)[0];\r\n        String to = DateRange.split(&quot;-&quot;)[1];\r\n        return jdbcTemplate.query(\r\n                &quot;SELECT `AnnouncementID`, `AnimalName`, `Species`, `Breed`, `DateRange`, `AnimalImage`, `Country`, `City` FROM `announcement` JOIN `user` ON `announcement`.`OwnerID`=`user`.`UID` WHERE `OwnerID` = `AssignedKeeperID` AND `user`.`UID` = `announcement`.`OwnerID` and `Country`=? and `City`=? and OwnerID!=? and STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, &#39;-&#39;, 1), &#39;%d.%m.%Y&#39;) BETWEEN STR_TO_DATE(?, &#39;%d.%m.%Y&#39;) AND STR_TO_DATE(?, &#39;%d.%m.%Y&#39;) AND STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, &#39;-&#39;, -1), &#39;%d.%m.%Y&#39;) BETWEEN STR_TO_DATE(?, &#39;%d.%m.%Y&#39;) AND  STR_TO_DATE(?, &#39;%d.%m.%Y&#39;);&quot;,\r\n                BeanPropertyRowMapper.newInstance(PublicAnnouncementListItem.class),\r\n                Country,\r\n                City,\r\n                UID,\r\n                from,\r\n                to,\r\n                from,\r\n                to\r\n        );\r\n    }\r\n```\r\n\r\nmy controller method:\r\n\r\n```\r\n    @GetMapping(&quot;/api/getAllPublicAnnouncementListItems/{Country}/{City}/{DateRange}/{UID}&quot;)\r\n    public List&lt;PublicAnnouncementListItem&gt; getAllPublicAnnouncementListItems(@PathVariable(&quot;Country&quot;) String Country, @PathVariable(&quot;City&quot;) String City, @PathVariable(&quot;DateRange&quot;) String DateRange, @PathVariable(&quot;UID&quot;) String UID) {\r\n       return announcementsRepository.getAllPublicAnnouncementListItems(Country, City, DateRange, UID);\r\n    }\r\n```\r\n\r\nsql query more readable:\r\n\r\n```\r\nSELECT \r\n`AnnouncementID`, \r\n`AnimalName`,\r\n`Species`, \r\n`Breed`, \r\n`DateRange`, \r\n`AnimalImage`, \r\n`Country`, \r\n`City`\r\nFROM \r\n`announcement`\r\nJOIN `user` ON `announcement`.`OwnerID`=`user`.`UID`\r\nWHERE\r\n `OwnerID` = `AssignedKeeperID` AND\r\n `user`.`UID` = `announcement`.`OwnerID` \r\n  and `Country`=? and `City`=? and OwnerID!=? \r\n  and STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, &#39;-&#39;, 1), &#39;%d.%m.%Y&#39;) BETWEEN STR_TO_DATE(?, &#39;%d.%m.%Y&#39;) AND STR_TO_DATE(?, &#39;%d.%m.%Y&#39;) \r\n  AND STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, &#39;-&#39;, -1), &#39;%d.%m.%Y&#39;) BETWEEN STR_TO_DATE(?, &#39;%d.%m.%Y&#39;) AND STR_TO_DATE(?, &#39;%d.%m.%Y&#39;);\r\n``` \r\nquery is for getting records based on specified date range\r\n\r\nTell my what can be wrong with my code. **When I run my app on my local computer it works** but If I deploy my spring boot app to google cloud I got an error: ``` java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;and STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, &#39;-&#39;, 1), &#39;%d.%m.%Y&#39;) BETWEEN STR...&#39; at line 1 ```. The interesting is that **when I try to perform my query in php my admin - I mean in database connected to my spring boot app - everything works fine and query doens&#39;t return any error.**","title":"spring boot app in google cloud 500 error","body":"<p>my repository method:</p>\n<pre><code>public List&lt;PublicAnnouncementListItem&gt; getAllPublicAnnouncementListItems(String Country, String City, String DateRange, String UID) {\n        String from = DateRange.split(&quot;-&quot;)[0];\n        String to = DateRange.split(&quot;-&quot;)[1];\n        return jdbcTemplate.query(\n                &quot;SELECT `AnnouncementID`, `AnimalName`, `Species`, `Breed`, `DateRange`, `AnimalImage`, `Country`, `City` FROM `announcement` JOIN `user` ON `announcement`.`OwnerID`=`user`.`UID` WHERE `OwnerID` = `AssignedKeeperID` AND `user`.`UID` = `announcement`.`OwnerID` and `Country`=? and `City`=? and OwnerID!=? and STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, '-', 1), '%d.%m.%Y') BETWEEN STR_TO_DATE(?, '%d.%m.%Y') AND STR_TO_DATE(?, '%d.%m.%Y') AND STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, '-', -1), '%d.%m.%Y') BETWEEN STR_TO_DATE(?, '%d.%m.%Y') AND  STR_TO_DATE(?, '%d.%m.%Y');&quot;,\n                BeanPropertyRowMapper.newInstance(PublicAnnouncementListItem.class),\n                Country,\n                City,\n                UID,\n                from,\n                to,\n                from,\n                to\n        );\n    }\n</code></pre>\n<p>my controller method:</p>\n<pre><code>    @GetMapping(&quot;/api/getAllPublicAnnouncementListItems/{Country}/{City}/{DateRange}/{UID}&quot;)\n    public List&lt;PublicAnnouncementListItem&gt; getAllPublicAnnouncementListItems(@PathVariable(&quot;Country&quot;) String Country, @PathVariable(&quot;City&quot;) String City, @PathVariable(&quot;DateRange&quot;) String DateRange, @PathVariable(&quot;UID&quot;) String UID) {\n       return announcementsRepository.getAllPublicAnnouncementListItems(Country, City, DateRange, UID);\n    }\n</code></pre>\n<p>sql query more readable:</p>\n<pre><code>SELECT \n`AnnouncementID`, \n`AnimalName`,\n`Species`, \n`Breed`, \n`DateRange`, \n`AnimalImage`, \n`Country`, \n`City`\nFROM \n`announcement`\nJOIN `user` ON `announcement`.`OwnerID`=`user`.`UID`\nWHERE\n `OwnerID` = `AssignedKeeperID` AND\n `user`.`UID` = `announcement`.`OwnerID` \n  and `Country`=? and `City`=? and OwnerID!=? \n  and STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, '-', 1), '%d.%m.%Y') BETWEEN STR_TO_DATE(?, '%d.%m.%Y') AND STR_TO_DATE(?, '%d.%m.%Y') \n  AND STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, '-', -1), '%d.%m.%Y') BETWEEN STR_TO_DATE(?, '%d.%m.%Y') AND STR_TO_DATE(?, '%d.%m.%Y');\n</code></pre>\n<p>query is for getting records based on specified date range</p>\n<p>Tell my what can be wrong with my code. <strong>When I run my app on my local computer it works</strong> but If I deploy my spring boot app to google cloud I got an error: <code>java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'and STR_TO_DATE(SUBSTRING_INDEX(`DateRange`, '-', 1), '%d.%m.%Y') BETWEEN STR...' at line 1</code>. The interesting is that <strong>when I try to perform my query in php my admin - I mean in database connected to my spring boot app - everything works fine and query doens't return any error.</strong></p>\n"},{"tags":["java","spring-boot","google-drive-api","google-oauth","google-api-java-client"],"comments":[{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1699208951,"post_id":77426660,"comment_id":136499867,"body_markdown":"LocalServerReceiver and AuthorizationCodeInstalledApp are for installed apps.  When you upload or install the app on a new machine it should work the same as it did when you ran it on your machine.   All native applications use localhost.   Redirect uris are only for web applications.","body":"LocalServerReceiver and AuthorizationCodeInstalledApp are for installed apps.  When you upload or install the app on a new machine it should work the same as it did when you ran it on your machine.   All native applications use localhost.   Redirect uris are only for web applications."},{"owner":{"account_id":10590338,"reputation":13,"user_id":7801148,"display_name":"Madushan"},"score":0,"creation_date":1699352193,"post_id":77426660,"comment_id":136517895,"body_markdown":"This is a web application","body":"This is a web application"},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1699355551,"post_id":77426660,"comment_id":136518579,"body_markdown":"Then your using the wrong code.","body":"Then your using the wrong code."}],"owner":{"account_id":10590338,"reputation":13,"user_id":7801148,"display_name":"Madushan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1699208965,"creation_date":1699200290,"question_id":77426660,"body_markdown":"I have successfully tested my file upload application in localhost and now i want it go live. I&#39;m not sure how to replace \r\n\r\n``` LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8080).build();``` \r\n\r\nsince I don&#39;t have the IP and port of the redirect URL I can&#39;t change the code like \r\n```\r\n LocalServerReceiver receiver = new LocalServerReceiver.Builder().setHost(&quot;1.1.1.1&quot;).setPort(9090).build();\r\n```\r\n I only have the url like &quot;example.com&quot; \r\nCould anybody help me to go production. \r\n\r\n``` \r\nprivate static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT)\r\n            throws IOException {\r\n        // Load client secrets.\r\n        InputStream in = StorageServiceImpl.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n        if (in == null) {\r\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n        }\r\n        GoogleClientSecrets clientSecrets =\r\n                GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n\r\n        // Build flow and trigger user authorization request.\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                .setAccessType(&quot;offline&quot;)\r\n                .build();\r\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8080).build();\r\n        Credential credential = new AuthorizationCodeInstalledApp(flow,receiver).authorize(&quot;user&quot;);\r\n        return credential;\r\n    } \r\n```\r\n\r\n","title":"Google Drive API Springboot","body":"<p>I have successfully tested my file upload application in localhost and now i want it go live. I'm not sure how to replace</p>\n<p><code> LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8080).build();</code></p>\n<p>since I don't have the IP and port of the redirect URL I can't change the code like</p>\n<pre><code> LocalServerReceiver receiver = new LocalServerReceiver.Builder().setHost(&quot;1.1.1.1&quot;).setPort(9090).build();\n</code></pre>\n<p>I only have the url like &quot;example.com&quot;\nCould anybody help me to go production.</p>\n<pre><code>private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT)\n            throws IOException {\n        // Load client secrets.\n        InputStream in = StorageServiceImpl.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n        if (in == null) {\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n        }\n        GoogleClientSecrets clientSecrets =\n                GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n        // Build flow and trigger user authorization request.\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n                .setAccessType(&quot;offline&quot;)\n                .build();\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8080).build();\n        Credential credential = new AuthorizationCodeInstalledApp(flow,receiver).authorize(&quot;user&quot;);\n        return credential;\n    } \n</code></pre>\n"},{"tags":["java","soap","wsdl"],"answers":[{"tags":[],"owner":{"account_id":7969588,"reputation":21,"user_id":6014758,"display_name":"Sharjeel Tariq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654150531,"creation_date":1654150531,"answer_id":72471479,"question_id":71219018,"body_markdown":"I was going through this same issue. So, I used cfx plugin to generate the class files from WSDL. After that I used maven-replacer-plugin to replace javax.xml.bind imports with jakarta.xml.bind.\r\n\r\n    \t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.code.maven-replacer-plugin&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-replacer-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.4.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;replace-for-jakarta&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;process-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;replace&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;filesToInclude&gt;target/generated-sources/**/*.java&lt;/filesToInclude&gt;\r\n\t\t\t\t\t\t\t&lt;preserveDir&gt;true&lt;/preserveDir&gt;\r\n\t\t\t\t\t\t\t&lt;replacements&gt;\r\n\t\t\t\t\t\t\t\t&lt;replacement&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;token&gt;javax.xml.bind&lt;/token&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;value&gt;jakarta.xml.bind&lt;/value&gt;\r\n\t\t\t\t\t\t\t\t&lt;/replacement&gt;\r\n\t\t\t\t\t\t\t\t&lt;replacement&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;token&gt;javax.xml.ws&lt;/token&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;value&gt;jakarta.xml.ws&lt;/value&gt;\r\n\t\t\t\t\t\t\t\t&lt;/replacement&gt;\r\n\t\t\t\t\t\t\t\t&lt;replacement&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;token&gt;javax.jws&lt;/token&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;value&gt;jakarta.jws&lt;/value&gt;\r\n\t\t\t\t\t\t\t\t&lt;/replacement&gt;\r\n\t\t\t\t\t\t\t&lt;/replacements&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;","title":"Import WSDL with Java and maven without using deprecated libs","body":"<p>I was going through this same issue. So, I used cfx plugin to generate the class files from WSDL. After that I used maven-replacer-plugin to replace javax.xml.bind imports with jakarta.xml.bind.</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;com.google.code.maven-replacer-plugin&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-replacer-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.4.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;replace-for-jakarta&lt;/id&gt;\n                    &lt;phase&gt;process-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;replace&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;filesToInclude&gt;target/generated-sources/**/*.java&lt;/filesToInclude&gt;\n                        &lt;preserveDir&gt;true&lt;/preserveDir&gt;\n                        &lt;replacements&gt;\n                            &lt;replacement&gt;\n                                &lt;token&gt;javax.xml.bind&lt;/token&gt;\n                                &lt;value&gt;jakarta.xml.bind&lt;/value&gt;\n                            &lt;/replacement&gt;\n                            &lt;replacement&gt;\n                                &lt;token&gt;javax.xml.ws&lt;/token&gt;\n                                &lt;value&gt;jakarta.xml.ws&lt;/value&gt;\n                            &lt;/replacement&gt;\n                            &lt;replacement&gt;\n                                &lt;token&gt;javax.jws&lt;/token&gt;\n                                &lt;value&gt;jakarta.jws&lt;/value&gt;\n                            &lt;/replacement&gt;\n                        &lt;/replacements&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":5519376,"reputation":21,"user_id":4382882,"display_name":"Marisa B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699208362,"creation_date":1645523130,"question_id":71219018,"body_markdown":"I&#39;m trying to update the Java version of a Java project (using intellij as IDE).\r\n\r\nSo, I installed JDK 17 and I found out that wsimport was removed. But is there any solution/alternative that is not deprecated so I can import and generate java classes?\r\n\r\nI also found that I can still use wsimport (only if I set as java path Java 8) and run the code with maven jaxws-rt, but that packages in 2022 also look like they&#39;re already deprecated too, because I can only use 2.x version.\r\n\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nthere&#39;s already a &quot;3.0.2&quot; version, but if I update it i&#39;ll get a compilation error when I execute &quot;mvn clean install&quot;:\r\npackage javax.jws does not exist\r\n\r\nand the runtime error when I try to consume the service:\r\njavax.xml.ws.WebServiceException: Provider com.sun.xml.internal.ws.spi.ProviderImpl not found\r\n\tat javax.xml.ws.spi.FactoryFinder$1.createException(FactoryFinder.java:61) ~[jaxws-api-2.3.1.jar:?]\r\n\r\n\r\nthe is my pom.xml file:\r\n\r\n\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;log4j.version&gt;2.17.0&lt;/log4j.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;!-- Build an executable JAR --&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n\t\t\t\t\t\t\t&lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;rm.ccr.JCCUI&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!-- Copy project dependency --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;copy-dependencies&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;!-- exclude junit, we need runtime dependency only --&gt;\r\n\t\t\t\t\t\t\t&lt;includeScope&gt;runtime&lt;/includeScope&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/lib/&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/resources&lt;/directory&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${log4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${log4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.jgoodies/jgoodies-common --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.jgoodies&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jgoodies-common&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-cli/commons-cli --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-cli&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.media&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jai_core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-rt --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;rt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.media&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jai_imageio&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.jgoodies&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jgoodies-forms&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\r\nSo, these are in reality two questions:\r\n\r\n1- How can I generate wsdl java classes only with jdk17 and non-deprecated libs.\r\n\r\n2- How can I consume SOAP services in java without deprecated libs?\r\n","title":"Import WSDL with Java and maven without using deprecated libs","body":"<p>I'm trying to update the Java version of a Java project (using intellij as IDE).</p>\n<p>So, I installed JDK 17 and I found out that wsimport was removed. But is there any solution/alternative that is not deprecated so I can import and generate java classes?</p>\n<p>I also found that I can still use wsimport (only if I set as java path Java 8) and run the code with maven jaxws-rt, but that packages in 2022 also look like they're already deprecated too, because I can only use 2.x version.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n        &lt;version&gt;2.3.5&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>there's already a &quot;3.0.2&quot; version, but if I update it i'll get a compilation error when I execute &quot;mvn clean install&quot;:\npackage javax.jws does not exist</p>\n<p>and the runtime error when I try to consume the service:\njavax.xml.ws.WebServiceException: Provider com.sun.xml.internal.ws.spi.ProviderImpl not found\nat javax.xml.ws.spi.FactoryFinder$1.createException(FactoryFinder.java:61) ~[jaxws-api-2.3.1.jar:?]</p>\n<p>the is my pom.xml file:</p>\n<pre><code>&lt;properties&gt;\n    &lt;log4j.version&gt;2.17.0&lt;/log4j.version&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;!-- Build an executable JAR --&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                        &lt;mainClass&gt;rm.ccr.JCCUI&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;!-- Copy project dependency --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-dependencies&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;!-- exclude junit, we need runtime dependency only --&gt;\n                        &lt;includeScope&gt;runtime&lt;/includeScope&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/lib/&lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/resources&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.properties&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;/build&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.jgoodies/jgoodies-common --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jgoodies&lt;/groupId&gt;\n        &lt;artifactId&gt;jgoodies-common&lt;/artifactId&gt;\n        &lt;version&gt;1.8.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-cli/commons-cli --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-cli&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jai_core&lt;/artifactId&gt;\n        &lt;version&gt;1.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n        &lt;version&gt;2.3.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-rt --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;rt&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jai_imageio&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jgoodies&lt;/groupId&gt;\n        &lt;artifactId&gt;jgoodies-forms&lt;/artifactId&gt;\n        &lt;version&gt;1.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n</code></pre>\n<p>So, these are in reality two questions:</p>\n<p>1- How can I generate wsdl java classes only with jdk17 and non-deprecated libs.</p>\n<p>2- How can I consume SOAP services in java without deprecated libs?</p>\n"},{"tags":["java","android","react-native","kotlin","gradle"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699134461,"post_id":77423922,"comment_id":136493926,"body_markdown":"Please use multiline code (``` in a single line) format for logs and code. Using Quote format makes it unreadable.","body":"Please use multiline code (``` in a single line) format for logs and code. Using Quote format makes it unreadable."}],"owner":{"account_id":21861237,"reputation":31,"user_id":16152010,"display_name":"Kingsley"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699207453,"creation_date":1699134202,"question_id":77423922,"body_markdown":"I keep getting this error when I try using react native navigation.\r\n\r\nhow do I go about solving it.\r\n\r\n\r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\n```\r\nA problem occurred configuring project &#39;:react-native-safe-area-context&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:react-native-safe-area-context:classpath&#39;.\r\n   &gt; Could not download kotlin-gradle-plugin-1.6.20.jar (org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.20)\r\n      &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-gradle-plugin/1.6.20/kotlin-gradle-plugin-1.6.20.jar&#39;.\r\n         &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-gradle-plugin/1.6.20/kotlin-gradle-plugin-1.6.20.jar&#39;.\r\n            &gt; No such host is known (repo.maven.apache.org)\r\n   &gt; Could not download kotlin-android-extensions-1.6.20.jar (org.jetbrains.kotlin:kotlin-android-extensions:1.6.20)\r\n      &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-android-extensions/1.6.20/kotlin-android-extensions-1.6.20.jar&#39;.\r\n         &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-android-extensions/1.6.20/kotlin-android-extensions-1.6.20.jar&#39;.\r\n            &gt; repo.maven.apache.org\r\n   &gt; Could not download kotlin-compiler-embeddable-1.6.20.jar (org.jetbrains.kotlin:kotlin-compiler-embeddable:1.6.20)\r\n      &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-compiler-embeddable/1.6.20/kotlin-compiler-embeddable-1.6.20.jar&#39;.\r\n         &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-compiler-embeddable/1.6.20/kotlin-compiler-embeddable-1.6.20.jar&#39;.\r\n            &gt; repo.maven.apache.org\r\n   &gt; Could not download kotlin-scripting-compiler-embeddable-1.6.20.jar (org.jetbrains.kotlin:kotlin-scripting-compiler-embeddable:1.6.20)\r\n      &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-scripting-compiler-embeddable/1.6.20/kotlin-scripting-compiler-embeddable-1.6.20.jar&#39;.\r\n         &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-scripting-compiler-embeddable/1.6.20/kotlin-scripting-compiler-embeddable-1.6.20.jar&#39;.\r\n            &gt; repo.maven.apache.org\r\n   &gt; Could not download kotlin-scripting-compiler-impl-embeddable-1.6.20.jar (org.jetbrains.kotlin:kotlin-scripting-compiler-impl-embeddable:1.6.20)\r\n      &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-scripting-compiler-impl-embeddable/1.6.20/kotlin-scripting-compiler-impl-embeddable-1.6.20.jar&#39;.\r\n         &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-scripting-compiler-impl-embeddable/1.6.20/kotlin-scripting-compiler-impl-embeddable-1.6.20.jar&#39;.\r\n            &gt; repo.maven.apache.org\r\n   &gt; Could not download kotlin-native-utils-1.6.20.jar (org.jetbrains.kotlin:kotlin-native-utils:1.6.20)\r\n      &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-native-utils/1.6.20/kotlin-native-utils-1.6.20.jar&#39;.\r\n         &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-native-utils/1.6.20/kotlin-native-utils-1.6.20.jar&#39;.\r\n            &gt; repo.maven.apache.org\r\n   &gt; Could not download kotlin-daemon-embeddable-1.6.20.jar (org.jetbrains.kotlin:kotlin-daemon-embeddable:1.6.20)\r\n      &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-daemon-embeddable/1.6.20/kotlin-daemon-embeddable-1.6.20.jar&#39;.\r\n         &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-daemon-embeddable/1.6.20/kotlin-daemon-embeddable-1.6.20.jar&#39;.\r\n            &gt; repo.maven.apache.org\r\n```","title":"* What went wrong: A problem occurred configuring project &#39;:react-native-safe-area-context&#39;","body":"<p>I keep getting this error when I try using react native navigation.</p>\n<p>how do I go about solving it.</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:</li>\n</ul>\n<pre><code>A problem occurred configuring project ':react-native-safe-area-context'.\n&gt; Could not resolve all files for configuration ':react-native-safe-area-context:classpath'.\n   &gt; Could not download kotlin-gradle-plugin-1.6.20.jar (org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.20)\n      &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-gradle-plugin/1.6.20/kotlin-gradle-plugin-1.6.20.jar'.\n         &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-gradle-plugin/1.6.20/kotlin-gradle-plugin-1.6.20.jar'.\n            &gt; No such host is known (repo.maven.apache.org)\n   &gt; Could not download kotlin-android-extensions-1.6.20.jar (org.jetbrains.kotlin:kotlin-android-extensions:1.6.20)\n      &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-android-extensions/1.6.20/kotlin-android-extensions-1.6.20.jar'.\n         &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-android-extensions/1.6.20/kotlin-android-extensions-1.6.20.jar'.\n            &gt; repo.maven.apache.org\n   &gt; Could not download kotlin-compiler-embeddable-1.6.20.jar (org.jetbrains.kotlin:kotlin-compiler-embeddable:1.6.20)\n      &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-compiler-embeddable/1.6.20/kotlin-compiler-embeddable-1.6.20.jar'.\n         &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-compiler-embeddable/1.6.20/kotlin-compiler-embeddable-1.6.20.jar'.\n            &gt; repo.maven.apache.org\n   &gt; Could not download kotlin-scripting-compiler-embeddable-1.6.20.jar (org.jetbrains.kotlin:kotlin-scripting-compiler-embeddable:1.6.20)\n      &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-scripting-compiler-embeddable/1.6.20/kotlin-scripting-compiler-embeddable-1.6.20.jar'.\n         &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-scripting-compiler-embeddable/1.6.20/kotlin-scripting-compiler-embeddable-1.6.20.jar'.\n            &gt; repo.maven.apache.org\n   &gt; Could not download kotlin-scripting-compiler-impl-embeddable-1.6.20.jar (org.jetbrains.kotlin:kotlin-scripting-compiler-impl-embeddable:1.6.20)\n      &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-scripting-compiler-impl-embeddable/1.6.20/kotlin-scripting-compiler-impl-embeddable-1.6.20.jar'.\n         &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-scripting-compiler-impl-embeddable/1.6.20/kotlin-scripting-compiler-impl-embeddable-1.6.20.jar'.\n            &gt; repo.maven.apache.org\n   &gt; Could not download kotlin-native-utils-1.6.20.jar (org.jetbrains.kotlin:kotlin-native-utils:1.6.20)\n      &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-native-utils/1.6.20/kotlin-native-utils-1.6.20.jar'.\n         &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-native-utils/1.6.20/kotlin-native-utils-1.6.20.jar'.\n            &gt; repo.maven.apache.org\n   &gt; Could not download kotlin-daemon-embeddable-1.6.20.jar (org.jetbrains.kotlin:kotlin-daemon-embeddable:1.6.20)\n      &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-daemon-embeddable/1.6.20/kotlin-daemon-embeddable-1.6.20.jar'.\n         &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-daemon-embeddable/1.6.20/kotlin-daemon-embeddable-1.6.20.jar'.\n            &gt; repo.maven.apache.org\n</code></pre>\n"},{"tags":["java","macos","java-home"],"comments":[{"owner":{"account_id":893101,"reputation":3385,"user_id":931004,"accept_rate":100,"display_name":"Ghokun"},"score":3,"creation_date":1602595554,"post_id":64335935,"comment_id":113765361,"body_markdown":"That is just the JAVA_HOME variable. You need to add $JAVA_HOME/bin to your $PATH. Please check your $PATH variable","body":"That is just the JAVA_HOME variable. You need to add $JAVA_HOME/bin to your $PATH. Please check your $PATH variable"},{"owner":{"account_id":9365949,"reputation":2414,"user_id":6950859,"accept_rate":92,"display_name":"cela"},"score":0,"creation_date":1602595678,"post_id":64335935,"comment_id":113765418,"body_markdown":"Try this one, I believe the others are for the current session and terminal: https://stackoverflow.com/a/44169445/6950859","body":"Try this one, I believe the others are for the current session and terminal: <a href=\"https://stackoverflow.com/a/44169445/6950859\">stackoverflow.com/a/44169445/6950859</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1602597720,"creation_date":1602597720,"answer_id":64336726,"question_id":64335935,"body_markdown":"Install [sdkman](https://sdkman.io) which takes care of the rather tedious command line voodoo you have to employ to try to make this happen. The problem is, JAVA_HOME is just an environment variable, it changes nothing - only tools that explicitly look for it (generally, maven and ant for example) will be affected by messing with it. When you type `java` on a mac, it runs `/usr/bin/java`, which is not a file you can change even as root. This java will then invoke the real java, and __does not look at JAVA_HOME__ to get the job done: It is a softlink to `/System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java`, and because it is in `/System` you can&#39;t change that either, not even as root.\r\n\r\nThat&#39;s why this is so hard, and why you want a nice tool (sdkman) to do it for you.\r\n","title":"(Mac OS) JAVA version does not change","body":"<p>Install <a href=\"https://sdkman.io\" rel=\"noreferrer\">sdkman</a> which takes care of the rather tedious command line voodoo you have to employ to try to make this happen. The problem is, JAVA_HOME is just an environment variable, it changes nothing - only tools that explicitly look for it (generally, maven and ant for example) will be affected by messing with it. When you type <code>java</code> on a mac, it runs <code>/usr/bin/java</code>, which is not a file you can change even as root. This java will then invoke the real java, and <strong>does not look at JAVA_HOME</strong> to get the job done: It is a softlink to <code>/System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java</code>, and because it is in <code>/System</code> you can't change that either, not even as root.</p>\n<p>That's why this is so hard, and why you want a nice tool (sdkman) to do it for you.</p>\n"},{"tags":[],"owner":{"account_id":135720,"reputation":2208,"user_id":338784,"accept_rate":75,"display_name":"Jihed Amine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602602301,"creation_date":1602602301,"answer_id":64338099,"question_id":64335935,"body_markdown":"Try `export JAVA_HOME=&#39;/usr/libexec/java_home -v 11&#39;` (without the minor version), it outputs the right java -version for me on Mac.","title":"(Mac OS) JAVA version does not change","body":"<p>Try <code>export JAVA_HOME='/usr/libexec/java_home -v 11'</code> (without the minor version), it outputs the right java -version for me on Mac.</p>\n"},{"tags":[],"owner":{"account_id":5458748,"reputation":524,"user_id":4341458,"accept_rate":20,"display_name":"Pelonomi Moiloa"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1616591687,"creation_date":1616591687,"answer_id":66781847,"question_id":64335935,"body_markdown":"The removal of quotes around the JAVA_HOME and then setting the path variable variable worked for me (Mac OS Catalina):\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/openjdk.jdk/Contents/Home\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n ","title":"(Mac OS) JAVA version does not change","body":"<p>The removal of quotes around the JAVA_HOME and then setting the path variable variable worked for me (Mac OS Catalina):</p>\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/openjdk.jdk/Contents/Home\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3531464,"reputation":16212,"user_id":8160318,"display_name":"Joe - Check out my books"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1642762136,"creation_date":1642762136,"answer_id":70800090,"question_id":64335935,"body_markdown":"If you need to switch between versions and already have the JDKs installed, you can adjust your bash profile with aliases that reset `JAVA_HOME` and reinitialize your `PATH` each time:\r\n```bash\r\nexport JAVA_11_HOME=$(/usr/libexec/java_home -v11)\r\nexport JAVA_14_HOME=$(/usr/libexec/java_home -v14)\r\n\r\nalias java11=&#39;export JAVA_HOME=$JAVA_11_HOME; export PATH=$JAVA_HOME/bin:$PATH&#39;\r\nalias java14=&#39;export JAVA_HOME=$JAVA_14_HOME; export PATH=$JAVA_HOME/bin:$PATH&#39;\r\n```\r\n\r\nThen, after restarting your terminal session, you can switch back and forth:\r\n```bash\r\n$ java11\r\n$ java -version\r\n```\r\nand \r\n```bash\r\n$ java14\r\n$ java -version\r\n```","title":"(Mac OS) JAVA version does not change","body":"<p>If you need to switch between versions and already have the JDKs installed, you can adjust your bash profile with aliases that reset <code>JAVA_HOME</code> and reinitialize your <code>PATH</code> each time:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>export JAVA_11_HOME=$(/usr/libexec/java_home -v11)\nexport JAVA_14_HOME=$(/usr/libexec/java_home -v14)\n\nalias java11='export JAVA_HOME=$JAVA_11_HOME; export PATH=$JAVA_HOME/bin:$PATH'\nalias java14='export JAVA_HOME=$JAVA_14_HOME; export PATH=$JAVA_HOME/bin:$PATH'\n</code></pre>\n<p>Then, after restarting your terminal session, you can switch back and forth:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ java11\n$ java -version\n</code></pre>\n<p>and</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ java14\n$ java -version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22412926,"reputation":1,"user_id":16621418,"display_name":"buddhasatta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699206994,"creation_date":1699206994,"answer_id":77427063,"question_id":64335935,"body_markdown":"I also faced the same problem in my apple macbook pro with m1 arm chip.\r\nThe solution is simple.\r\n\r\n1: First You have to check that what are the installed JDK in your computer .For That you have to use the following command.\r\n\r\n/usr/libexec/java_home -V\r\n\r\nAbove will give yout the versions  like\r\n 20.0.1 (arm64) &quot;Oracle Corporation&quot; - &quot;OpenJDK 20.0.1&quot; /Users/buddhasattaduttaroy/Library/Java/JavaVirtualMachines/openjdk-20.0.1/Contents/Home\r\n    16.0.1 (x86_64) &quot;AdoptOpenJDK&quot; - &quot;AdoptOpenJDK 16&quot; /Library/Java/JavaVirtualMachines/adoptopenjdk-16.jdk/Contents/Home\r\n    11.0.20 (arm64) &quot;Oracle Corporation&quot; - &quot;Java SE 11.0.20&quot; /Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home\r\n    11.0.19 (arm64) &quot;Amazon.com Inc.&quot; - &quot;Amazon Corretto 11&quot; /Users/buddhasattaduttaroy/Library/Java/JavaVirtualMachines/corretto-11.0.19/Contents/Home\r\n\r\n\r\nYou have to select the version from here and then apply like this\r\n\r\nexport JAVA_HOME=`/usr/libexec/java_home -v 1.8`\r\n ** mind it you dont have to specify the complete version of the java but the normal one (means not 11.0.6. but 11.o or 1.8 as per ur requirement)**\r\n\r\n2:You have to put these command in the .bashrc and .zshrc and do source over them.\r\n\r\nI think this will solve your problem\r\n\r\n\r\n","title":"(Mac OS) JAVA version does not change","body":"<p>I also faced the same problem in my apple macbook pro with m1 arm chip.\nThe solution is simple.</p>\n<p>1: First You have to check that what are the installed JDK in your computer .For That you have to use the following command.</p>\n<p>/usr/libexec/java_home -V</p>\n<p>Above will give yout the versions  like\n20.0.1 (arm64) &quot;Oracle Corporation&quot; - &quot;OpenJDK 20.0.1&quot; /Users/buddhasattaduttaroy/Library/Java/JavaVirtualMachines/openjdk-20.0.1/Contents/Home\n16.0.1 (x86_64) &quot;AdoptOpenJDK&quot; - &quot;AdoptOpenJDK 16&quot; /Library/Java/JavaVirtualMachines/adoptopenjdk-16.jdk/Contents/Home\n11.0.20 (arm64) &quot;Oracle Corporation&quot; - &quot;Java SE 11.0.20&quot; /Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home\n11.0.19 (arm64) &quot;Amazon.com Inc.&quot; - &quot;Amazon Corretto 11&quot; /Users/buddhasattaduttaroy/Library/Java/JavaVirtualMachines/corretto-11.0.19/Contents/Home</p>\n<p>You have to select the version from here and then apply like this</p>\n<p>export JAVA_HOME=<code>/usr/libexec/java_home -v 1.8</code>\n** mind it you dont have to specify the complete version of the java but the normal one (means not 11.0.6. but 11.o or 1.8 as per ur requirement)**</p>\n<p>2:You have to put these command in the .bashrc and .zshrc and do source over them.</p>\n<p>I think this will solve your problem</p>\n"}],"owner":{"account_id":5144135,"reputation":2717,"user_id":4120583,"accept_rate":29,"display_name":"Hikaru Shindo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10511,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":5,"score":10,"last_activity_date":1699206994,"creation_date":1602594440,"question_id":64335935,"body_markdown":"I have 2 JAVA version on my Macbook. I want to change version from 14 to 11. I found 2 solutions on the internet but both are not working.\r\n\r\nMy **java -version** result is \r\n\r\n    openjdk version &quot;14.0.1&quot; 2020-04-14\r\n    OpenJDK Runtime Environment (build 14.0.1+14)\r\n    OpenJDK 64-Bit Server VM (build 14.0.1+14, mixed mode, sharing)\r\n\r\n**1st Solution (https://stackoverflow.com/questions/21964709/how-to-set-or-change-the-default-java-jdk-version-on-os-x),**\r\n I run **/usr/libexec/java_home -V** then I got a result below,\r\n\r\n    Matching Java Virtual Machines (2):\r\n    14.0.1, x86_64:\t&quot;OpenJDK 14.0.1&quot;\t/Library/Java/JavaVirtualMachines/openjdk.jdk/Contents/Home\r\n    11.0.8, x86_64:\t&quot;Java SE 11.0.8&quot;\t/Library/Java/JavaVirtualMachines/jdk-11.0.8.jdk/Contents/Home\r\n\r\nThen I did \r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home -v 11.0.8`\r\n\r\nAfter checking from **java -version**, The result is still 14.0.1\r\n\r\n**2nd solution (https://stackoverflow.com/questions/14702702/how-to-set-java-home-in-mac-permanently),** I edit ~/.bash_profile file as below,\r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home -v 11.0.8`\r\n\r\nAnd I run command\r\n\r\n    source ~/.bash_profile\r\n    echo $JAVA_HOME\r\n\r\nIt shows the result,\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk-11.0.8.jdk/Contents/Home\r\n\r\nBut when I check the result with **java -version**, It&#39;s still 14.0.1 as well\r\n","title":"(Mac OS) JAVA version does not change","body":"<p>I have 2 JAVA version on my Macbook. I want to change version from 14 to 11. I found 2 solutions on the internet but both are not working.</p>\n<p>My <strong>java -version</strong> result is</p>\n<pre><code>openjdk version &quot;14.0.1&quot; 2020-04-14\nOpenJDK Runtime Environment (build 14.0.1+14)\nOpenJDK 64-Bit Server VM (build 14.0.1+14, mixed mode, sharing)\n</code></pre>\n<p><strong>1st Solution (<a href=\"https://stackoverflow.com/questions/21964709/how-to-set-or-change-the-default-java-jdk-version-on-os-x\">How to set or change the default Java (JDK) version on OS X?</a>),</strong>\nI run <strong>/usr/libexec/java_home -V</strong> then I got a result below,</p>\n<pre><code>Matching Java Virtual Machines (2):\n14.0.1, x86_64: &quot;OpenJDK 14.0.1&quot;    /Library/Java/JavaVirtualMachines/openjdk.jdk/Contents/Home\n11.0.8, x86_64: &quot;Java SE 11.0.8&quot;    /Library/Java/JavaVirtualMachines/jdk-11.0.8.jdk/Contents/Home\n</code></pre>\n<p>Then I did</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 11.0.8`\n</code></pre>\n<p>After checking from <strong>java -version</strong>, The result is still 14.0.1</p>\n<p><strong>2nd solution (<a href=\"https://stackoverflow.com/questions/14702702/how-to-set-java-home-in-mac-permanently\">How to set JAVA_HOME in Mac permanently?</a>),</strong> I edit ~/.bash_profile file as below,</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 11.0.8`\n</code></pre>\n<p>And I run command</p>\n<pre><code>source ~/.bash_profile\necho $JAVA_HOME\n</code></pre>\n<p>It shows the result,</p>\n<pre><code>/Library/Java/JavaVirtualMachines/jdk-11.0.8.jdk/Contents/Home\n</code></pre>\n<p>But when I check the result with <strong>java -version</strong>, It's still 14.0.1 as well</p>\n"},{"tags":["javascript","java","spring","pdf-generation"],"comments":[{"owner":{"account_id":20037859,"reputation":1,"user_id":14689166,"display_name":"elyes"},"score":0,"creation_date":1699273706,"post_id":77427043,"comment_id":136506721,"body_markdown":"Can you elaborate more please how can I introduce a delay from outside for the javascript to be executed before the pdf?","body":"Can you elaborate more please how can I introduce a delay from outside for the javascript to be executed before the pdf?"}],"owner":{"account_id":20037859,"reputation":1,"user_id":14689166,"display_name":"elyes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699206601,"creation_date":1699206601,"question_id":77427043,"body_markdown":"The code works and generates the pdf, but only the static html part and not the javascript generated chart: \r\n```\r\n&lt;!-- report.html --&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/chart.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js&quot;&gt;&lt;/script&gt; \r\n\r\n&lt;/head&gt;\r\n&lt;p&gt;this is chart&lt;/p&gt;\r\n&lt;body&gt;\r\n&lt;div style=&quot;width: 800px; height: 400px;&quot;&gt;\r\n    &lt;canvas id=&quot;barChart&quot;&gt;&lt;/canvas&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;script type=&quot;text/javascript&quot; src=&quot;/static/js/ChartInitialization.js&quot;&gt;&lt;/script&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nHere is the script, which is working fine with the HTML when opened in the browser and it generates the chart correctly:\r\n```\r\n\r\nvar barData = [10, 20, 30, 40, 50];\r\n\r\n\r\nvar barChart = new Chart(document.getElementById(&#39;barChart&#39;).getContext(&#39;2d&#39;), {\r\n    type: &#39;bar&#39;,\r\n    data: {\r\n        labels: [&#39;Label 1&#39;, &#39;Label 2&#39;, &#39;Label 3&#39;, &#39;Label 4&#39;, &#39;Label 5&#39;],\r\n        datasets: [{\r\n            label: &#39;Bar Chart&#39;,\r\n            data: barData,\r\n            backgroundColor: &#39;rgba(75, 192, 192, 0.2)&#39;,\r\n            borderColor: &#39;rgba(75, 192, 192, 1)&#39;,\r\n            borderWidth: 1\r\n        }]\r\n    },\r\n});\r\n```\r\nHere is the controller code:\r\n```\r\npackage com.example.chartjs.controllers;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.servlet.ModelAndView;\r\nimport org.xhtmlrenderer.pdf.ITextRenderer;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.thymeleaf.TemplateEngine;\r\nimport org.thymeleaf.context.Context;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.OutputStream;\r\nimport java.io.IOException;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/pdf&quot;)\r\npublic class PDFController {\r\n\r\n    @Autowired\r\n    private TemplateEngine templateEngine;\r\n\r\n    @GetMapping(&quot;/generate&quot;)\r\n    public void generatePDF(HttpServletResponse response) {\r\n        Context context = new Context();\r\n\r\n\r\n        String htmlContent = templateEngine.process(&quot;report&quot;, context);\r\n\r\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n\r\n        try {\r\n            ITextRenderer renderer = new ITextRenderer();\r\n            renderer.setDocumentFromString(htmlContent);\r\n            renderer.layout();\r\n            renderer.createPDF(os, false);\r\n            renderer.finishPDF();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        response.setContentType(&quot;application/pdf&quot;);\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=report.pdf&quot;);\r\n\r\n        try (OutputStream out = response.getOutputStream()) {\r\n            os.writeTo(out);\r\n            os.flush();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nI&#39;m not sure if the javascript code is executing after the generation of the pdf, or is there some other issue.","title":"I&#39;m trying to generate a pdf from a HTML with a javascript in it via a java spring endpoint","body":"<p>The code works and generates the pdf, but only the static html part and not the javascript generated chart:</p>\n<pre><code>&lt;!-- report.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/chart.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js&quot;&gt;&lt;/script&gt; \n\n&lt;/head&gt;\n&lt;p&gt;this is chart&lt;/p&gt;\n&lt;body&gt;\n&lt;div style=&quot;width: 800px; height: 400px;&quot;&gt;\n    &lt;canvas id=&quot;barChart&quot;&gt;&lt;/canvas&gt;\n&lt;/div&gt;\n\n&lt;script type=&quot;text/javascript&quot; src=&quot;/static/js/ChartInitialization.js&quot;&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Here is the script, which is working fine with the HTML when opened in the browser and it generates the chart correctly:</p>\n<pre><code>\nvar barData = [10, 20, 30, 40, 50];\n\n\nvar barChart = new Chart(document.getElementById('barChart').getContext('2d'), {\n    type: 'bar',\n    data: {\n        labels: ['Label 1', 'Label 2', 'Label 3', 'Label 4', 'Label 5'],\n        datasets: [{\n            label: 'Bar Chart',\n            data: barData,\n            backgroundColor: 'rgba(75, 192, 192, 0.2)',\n            borderColor: 'rgba(75, 192, 192, 1)',\n            borderWidth: 1\n        }]\n    },\n});\n</code></pre>\n<p>Here is the controller code:</p>\n<pre><code>package com.example.chartjs.controllers;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.servlet.ModelAndView;\nimport org.xhtmlrenderer.pdf.ITextRenderer;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.thymeleaf.TemplateEngine;\nimport org.thymeleaf.context.Context;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.OutputStream;\nimport java.io.IOException;\nimport javax.servlet.http.HttpServletResponse;\n\n@Controller\n@RequestMapping(&quot;/pdf&quot;)\npublic class PDFController {\n\n    @Autowired\n    private TemplateEngine templateEngine;\n\n    @GetMapping(&quot;/generate&quot;)\n    public void generatePDF(HttpServletResponse response) {\n        Context context = new Context();\n\n\n        String htmlContent = templateEngine.process(&quot;report&quot;, context);\n\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\n\n        try {\n            ITextRenderer renderer = new ITextRenderer();\n            renderer.setDocumentFromString(htmlContent);\n            renderer.layout();\n            renderer.createPDF(os, false);\n            renderer.finishPDF();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        response.setContentType(&quot;application/pdf&quot;);\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=report.pdf&quot;);\n\n        try (OutputStream out = response.getOutputStream()) {\n            os.writeTo(out);\n            os.flush();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I'm not sure if the javascript code is executing after the generation of the pdf, or is there some other issue.</p>\n"},{"tags":["java","macos","arm","x86-64","apple-m1"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1687448944,"post_id":76533631,"comment_id":134941564,"body_markdown":"On linux I would do `file $(which javac)` and it would tell me what kind of architecture it was compiled for. Not sure it works on mac but worth a try.","body":"On linux I would do <code>file $(which javac)</code> and it would tell me what kind of architecture it was compiled for. Not sure it works on mac but worth a try."},{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1687452915,"post_id":76533631,"comment_id":134942329,"body_markdown":"When Java was developed I don&#39;t think anybody considered that an os may be able to execute more than one architecture.  And the common way to check if an app uses Rosetta isn&#39;t feasible in Java: https://developer.apple.com/forums/thread/653009. The only way I see is by try and error e.g. by trying to load a library of MacOS you know that is arm64 via `System.load()`. If this works Java is an arm64 version.","body":"When Java was developed I don&#39;t think anybody considered that an os may be able to execute more than one architecture.  And the common way to check if an app uses Rosetta isn&#39;t feasible in Java: <a href=\"https://developer.apple.com/forums/thread/653009\" rel=\"nofollow noreferrer\">developer.apple.com/forums/thread/653009</a>. The only way I see is by try and error e.g. by trying to load a library of MacOS you know that is arm64 via <code>System.load()</code>. If this works Java is an arm64 version."},{"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1687534558,"post_id":76533631,"comment_id":134955367,"body_markdown":"@FedericoklezCulloca Great, that works on macOS, and could become accepted answer.","body":"@FedericoklezCulloca Great, that works on macOS, and could become accepted answer."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1687534778,"post_id":76533631,"comment_id":134955424,"body_markdown":"@PaulVerest and an answer it is, now.","body":"@PaulVerest and an answer it is, now."},{"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1687534826,"post_id":76533631,"comment_id":134955437,"body_markdown":"@Robert At least it is possibly from command line &#39;file $JAVA_HOME/bin/javac&#39;\nSo so it would be possible (thought no nice) to run similar from within Java","body":"@Robert At least it is possibly from command line &#39;file $JAVA_HOME/bin/javac&#39; So so it would be possible (thought no nice) to run similar from within Java"},{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1687541827,"post_id":76533631,"comment_id":134956843,"body_markdown":"Considering the answer from Federico you could search for a library that allows to parse MachO files and that can handle thin and fat binaries and allows to extract the info what architectures the contained Macho files require. Then you could read the Java binary that is currently executed to get the info.","body":"Considering the answer from Federico you could search for a library that allows to parse MachO files and that can handle thin and fat binaries and allows to extract the info what architectures the contained Macho files require. Then you could read the Java binary that is currently executed to get the info."}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687535663,"creation_date":1687534767,"answer_id":76541598,"question_id":76533631,"body_markdown":"If you only need to check by hand you can use the `file` utility which, for executables, should tell you what architecture the binary was built for.\r\n\r\nSo assuming you want to know about the `javac` that&#39;s on your path you can run\r\n\r\n    file $(which javac)\r\n\r\nOr, more generally\r\n\r\n    file /path/to/your/binary\r\n\r\nAnd read its output.\r\n\r\nAn example:\r\n\r\n\r\n`$ file $JAVA_HOME/bin/javac`\r\n\r\n&gt;/Users/user/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/bin/javac: Mach-O 64-bit executable x86_64\r\n\r\n`$ file $JAVA_OTHER_HOME/bin/javac`\r\n\r\n&gt;/Users/user/Library/Java/JavaVirtualMachines/corretto-1.8.0_362-1/Contents/Home/bin/javac: Mach-O 64-bit executable arm64\r\n\r\n","title":"How to check What architecture JDK was build for? / Whether installed JDK on mac is for arm (aka arm64) or for Intel CPU (aka amd64)?","body":"<p>If you only need to check by hand you can use the <code>file</code> utility which, for executables, should tell you what architecture the binary was built for.</p>\n<p>So assuming you want to know about the <code>javac</code> that's on your path you can run</p>\n<pre><code>file $(which javac)\n</code></pre>\n<p>Or, more generally</p>\n<pre><code>file /path/to/your/binary\n</code></pre>\n<p>And read its output.</p>\n<p>An example:</p>\n<p><code>$ file $JAVA_HOME/bin/javac</code></p>\n<blockquote>\n<p>/Users/user/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/bin/javac: Mach-O 64-bit executable x86_64</p>\n</blockquote>\n<p><code>$ file $JAVA_OTHER_HOME/bin/javac</code></p>\n<blockquote>\n<p>/Users/user/Library/Java/JavaVirtualMachines/corretto-1.8.0_362-1/Contents/Home/bin/javac: Mach-O 64-bit executable arm64</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11915443,"reputation":67,"user_id":9393379,"display_name":"tkrakowian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699206026,"creation_date":1699206026,"answer_id":77427007,"question_id":76533631,"body_markdown":"on macOS 14 and later the easiest way is to use the command: \r\n\r\n```/usr/libexec/java_home -V```\r\n\r\nthe answer will be something like this \r\n\r\n```\r\nMatching Java Virtual Machines (1):\r\n    21.0.1 (arm64) &quot;Eclipse Adoptium&quot; - &quot;OpenJDK 21.0.1&quot; /Library/Java/JavaVirtualMachines/temurin-21.jdk/Contents/Home\r\n/Library/Java/JavaVirtualMachines/temurin-21.jdk/Contents/Home\r\n```\r\n\r\nso: \r\n```21.0.1``` -&gt; version\r\n```arm64``` -&gt; architecture (Apple Sillicon)\r\n```Eclipse Adoptium``` -&gt; distribution","title":"How to check What architecture JDK was build for? / Whether installed JDK on mac is for arm (aka arm64) or for Intel CPU (aka amd64)?","body":"<p>on macOS 14 and later the easiest way is to use the command:</p>\n<p><code>/usr/libexec/java_home -V</code></p>\n<p>the answer will be something like this</p>\n<pre><code>Matching Java Virtual Machines (1):\n    21.0.1 (arm64) &quot;Eclipse Adoptium&quot; - &quot;OpenJDK 21.0.1&quot; /Library/Java/JavaVirtualMachines/temurin-21.jdk/Contents/Home\n/Library/Java/JavaVirtualMachines/temurin-21.jdk/Contents/Home\n</code></pre>\n<p>so:\n<code>21.0.1</code> -&gt; version\n<code>arm64</code> -&gt; architecture (Apple Sillicon)\n<code>Eclipse Adoptium</code> -&gt; distribution</p>\n"}],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1267,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":76541598,"answer_count":2,"score":2,"last_activity_date":1699206026,"creation_date":1687448847,"question_id":76533631,"body_markdown":"Because on Apple with M1, M2 ... (Apple Silicon) it is possible to install both JDK for arm (aka arm64) or for Intel CPU (aka amd64), and it will just work, there is problem to tell (to colleague on other mac) how to check\r\n\r\n**How to check that installed JDK on mac is for arm64 or amd64 ?**\r\n 1. From command line?\r\n 2. From within Java program? (not the OS arch `System.getProperty(&quot;os.arch&quot;)`)\r\n\r\nFor example `mvn -v` used to be enough to tell all details.\r\n\r\n```bash\r\nmvn -v\r\nApache Maven 3.9.1 (2e178502fcdbffc201671fb2537d0cb4b4cc58f8)\r\nMaven home: /opt/homebrew/Cellar/maven/3.9.1/libexec\r\nJava version: 17.0.6, vendor: Amazon.com Inc., runtime: /Users/user/Library/Java/JavaVirtualMachines/corretto-17.0.6-1/Contents/Home\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;13.4&quot;, arch: &quot;aarch64&quot;, family: &quot;mac&quot;\r\n```\r\n\r\nJDK java/javac don&#39;t give clue either.\r\n```bash\r\njavac -version\r\njavac 17.0.6\r\n\r\njava -version\r\nopenjdk version &quot;17.0.6&quot; 2023-01-17 LTS\r\nOpenJDK Runtime Environment Corretto-17.0.6.10.1 (build 17.0.6+10-LTS)\r\nOpenJDK 64-Bit Server VM Corretto-17.0.6.10.1 (build 17.0.6+10-LTS, mixed mode, sharing)\r\n```\r\n\r\nWe also have JDK installed by scripts, JDK installed in docker container.\r\nThere should be some common way to check.\r\n\r\n","title":"How to check What architecture JDK was build for? / Whether installed JDK on mac is for arm (aka arm64) or for Intel CPU (aka amd64)?","body":"<p>Because on Apple with M1, M2 ... (Apple Silicon) it is possible to install both JDK for arm (aka arm64) or for Intel CPU (aka amd64), and it will just work, there is problem to tell (to colleague on other mac) how to check</p>\n<p><strong>How to check that installed JDK on mac is for arm64 or amd64 ?</strong></p>\n<ol>\n<li>From command line?</li>\n<li>From within Java program? (not the OS arch <code>System.getProperty(&quot;os.arch&quot;)</code>)</li>\n</ol>\n<p>For example <code>mvn -v</code> used to be enough to tell all details.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn -v\nApache Maven 3.9.1 (2e178502fcdbffc201671fb2537d0cb4b4cc58f8)\nMaven home: /opt/homebrew/Cellar/maven/3.9.1/libexec\nJava version: 17.0.6, vendor: Amazon.com Inc., runtime: /Users/user/Library/Java/JavaVirtualMachines/corretto-17.0.6-1/Contents/Home\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;13.4&quot;, arch: &quot;aarch64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p>JDK java/javac don't give clue either.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac -version\njavac 17.0.6\n\njava -version\nopenjdk version &quot;17.0.6&quot; 2023-01-17 LTS\nOpenJDK Runtime Environment Corretto-17.0.6.10.1 (build 17.0.6+10-LTS)\nOpenJDK 64-Bit Server VM Corretto-17.0.6.10.1 (build 17.0.6+10-LTS, mixed mode, sharing)\n</code></pre>\n<p>We also have JDK installed by scripts, JDK installed in docker container.\nThere should be some common way to check.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","graphql"],"comments":[{"owner":{"account_id":2064278,"reputation":13118,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1699208979,"post_id":77426979,"comment_id":136499871,"body_markdown":"Please enable spring security DEBUG logs and edit your question to include the full logs.","body":"Please enable spring security DEBUG logs and edit your question to include the full logs."}],"owner":{"account_id":473623,"reputation":1305,"user_id":882837,"accept_rate":52,"display_name":"Wasif Kirmani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699205569,"creation_date":1699205569,"question_id":77426979,"body_markdown":"I have been trying to implement GraphAPI methods authorization. But, always get 403.\r\n\r\n**Environment:**\r\n\r\n - JDK 17\r\n - Spring Boot 3.1.5\r\n - MongoDB\r\n - Spring Security \r\n - Graph QL\r\n - OS: MacOS\r\n\r\nJDK 17\r\n\r\nMy application file looks like:\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration;\r\n    import org.springframework.context.annotation.EnableAspectJAutoProxy;\r\n    \r\n    @SpringBootApplication(exclude = {SecurityAutoConfiguration.class,\r\n    \tUserDetailsServiceAutoConfiguration.class})\r\n    @EnableAspectJAutoProxy\r\n    public class JoblobApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tSpringApplication.run(JoblobApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\nBook entity looks like: \r\n\r\n    @Document(collection = &quot;books&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class Book {\r\n        @Id\r\n        private String id;\r\n        private String title;\r\n        private String author;\r\n    \r\n        // Getters and setters\r\n    }\r\n\r\nBook Repository :\r\n\r\n\r\n    public interface BookRepository extends MongoRepository&lt;Book, String&gt; {\r\n    }\r\n\r\nGraphQL Resolver:\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Component\r\n    public @interface GraphQLResolver {\r\n    }\r\n\r\n\r\n    @Component\r\n    public class ResourceResolver {\r\n    \r\n    \r\n    \r\n        @Autowired\r\n        private BookRepository bookRepository;\r\n    \r\n        @QueryMapping\r\n        @PreAuthorize(&quot;hasRole(&#39;ROLE_USER&#39;)&quot;)\r\n        public List&lt;Book&gt; books() {\r\n            return bookRepository.findAll();\r\n        }\r\n    \r\n        @QueryMapping\r\n        @PreAuthorize(&quot;hasRole(&#39;ROLE_USER&#39;)&quot;)\r\n        public Book bookById(String id) {\r\n            return bookRepository.findById(id).orElse(null);\r\n        }\r\n    }\r\n\r\nGraphQL Aspect:\r\n\r\n\r\n    @Aspect\r\n    @Component\r\n    @Order(1)\r\n    public class SecurityQraphQLAspect {\r\n        @Before(&quot;allGraphQLResolverMethods() &amp;&amp; isDefinedInApplication() &amp;&amp; !isMethodAnnotatedAsUnsecured()&quot;)\r\n        public void doSecurityCheck() {\r\n            if (SecurityContextHolder.getContext() == null ||\r\n                SecurityContextHolder.getContext().getAuthentication() == null ||\r\n                !SecurityContextHolder.getContext().getAuthentication().isAuthenticated() ||\r\n                AnonymousAuthenticationToken.class.isAssignableFrom(SecurityContextHolder.getContext().getAuthentication().getClass())) {\r\n                throw new AccessDeniedException(&quot;User not authenticated&quot;);\r\n            }\r\n        }\r\n        @Pointcut(&quot;@annotation(resolver.GraphQLResolver)&quot;)\r\n        private void allGraphQLResolverMethods() {\r\n        }\r\n         @Pointcut(&quot;within(resolver.*)&quot;)\r\n        private void isDefinedInApplication() {\r\n        }\r\n        @Pointcut(&quot;execution(public java.lang.String resolver.ResourceResolver.unsecuredResource())&quot;)\r\n        private void isUnsecuredResourceMethod() {\r\n        }\r\n    \r\n        @Pointcut(&quot;@annotation(oresolver.Unsecured)&quot;)\r\n        private void isMethodAnnotatedAsUnsecured() {\r\n        }\r\n    }\r\n\r\nAnnotation Unsecured:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface Unsecured {\r\n    }\r\n\r\n\r\nWhenever I try to access using graphiql it returns 403. If I add @Unsecured to any query method it returns the response.\r\n\r\nSecurity config looks like:\r\n\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfiguration {\r\n        private static final String REALM_ACCESS_CLAIM = &quot;realm_access&quot;;\r\n        private static final String ROLES_CLAIM = &quot;roles&quot;;\r\n    \r\n        @Bean\r\n        public SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .oauth2Client()\r\n                .and()\r\n                .oauth2Login()\r\n                .tokenEndpoint()\r\n                .and()\r\n                .userInfoEndpoint();\r\n    \r\n            http\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.ALWAYS);\r\n    \r\n            http\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/unauthenticated&quot;, &quot;/graphiql&quot;,&quot;/graphql&quot;, &quot;/oauth2/**&quot;, &quot;/login/**&quot;).permitAll()\r\n                .anyRequest()\r\n                .fullyAuthenticated()\r\n                .and()\r\n                .logout()\r\n                .logoutSuccessUrl(\r\n                    &quot;http://localhost:8180/realms/test/protocol/openid-connect/logout?redirect_uri=http://localhost:9999/&quot;);\r\n            http.csrf().disable();\r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public GrantedAuthoritiesMapper userAuthoritiesMapperForKeycloak() {\r\n            return authorities -&gt; {\r\n                Set&lt;GrantedAuthority&gt; mappedAuthorities = new HashSet&lt;&gt;();\r\n                var authority = authorities.iterator().next();\r\n                boolean isOidc = authority instanceof OidcUserAuthority;\r\n    \r\n                if (isOidc) {\r\n                    var oidcUserAuthority = (OidcUserAuthority) authority;\r\n                    var userInfo = oidcUserAuthority.getUserInfo();\r\n    \r\n                    if (userInfo.hasClaim(REALM_ACCESS_CLAIM)) {\r\n                        var realmAccess = userInfo.getClaimAsMap(REALM_ACCESS_CLAIM);\r\n                        var roles = (Collection&lt;String&gt;) realmAccess.get(ROLES_CLAIM);\r\n                        mappedAuthorities.addAll(generateAuthoritiesFromClaim(roles));\r\n                    }\r\n                } else {\r\n                    var oauth2UserAuthority = (OAuth2UserAuthority) authority;\r\n                    Map&lt;String, Object&gt; userAttributes = oauth2UserAuthority.getAttributes();\r\n    \r\n                    if (userAttributes.containsKey(REALM_ACCESS_CLAIM)) {\r\n                        var realmAccess = (Map&lt;String, Object&gt;) userAttributes.get(REALM_ACCESS_CLAIM);\r\n                        var roles = (Collection&lt;String&gt;) realmAccess.get(ROLES_CLAIM);\r\n                        mappedAuthorities.addAll(generateAuthoritiesFromClaim(roles));\r\n                    }\r\n                }\r\n                return mappedAuthorities;\r\n            };\r\n        }\r\n    \r\n        Collection&lt;GrantedAuthority&gt; generateAuthoritiesFromClaim(Collection&lt;String&gt; roles) {\r\n            return roles.stream().map(role -&gt; new SimpleGrantedAuthority(&quot;ROLE_&quot; + role.toUpperCase(Locale.ROOT))).collect(Collectors.toList());\r\n        }","title":"GraphQL with Spring Boot Security returning 403","body":"<p>I have been trying to implement GraphAPI methods authorization. But, always get 403.</p>\n<p><strong>Environment:</strong></p>\n<ul>\n<li>JDK 17</li>\n<li>Spring Boot 3.1.5</li>\n<li>MongoDB</li>\n<li>Spring Security</li>\n<li>Graph QL</li>\n<li>OS: MacOS</li>\n</ul>\n<p>JDK 17</p>\n<p>My application file looks like:</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\nimport org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration;\nimport org.springframework.context.annotation.EnableAspectJAutoProxy;\n\n@SpringBootApplication(exclude = {SecurityAutoConfiguration.class,\n    UserDetailsServiceAutoConfiguration.class})\n@EnableAspectJAutoProxy\npublic class JoblobApplication {\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(JoblobApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Book entity looks like:</p>\n<pre><code>@Document(collection = &quot;books&quot;)\n@Getter\n@Setter\npublic class Book {\n    @Id\n    private String id;\n    private String title;\n    private String author;\n\n    // Getters and setters\n}\n</code></pre>\n<p>Book Repository :</p>\n<pre><code>public interface BookRepository extends MongoRepository&lt;Book, String&gt; {\n}\n</code></pre>\n<p>GraphQL Resolver:</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Component\npublic @interface GraphQLResolver {\n}\n\n\n@Component\npublic class ResourceResolver {\n\n\n\n    @Autowired\n    private BookRepository bookRepository;\n\n    @QueryMapping\n    @PreAuthorize(&quot;hasRole('ROLE_USER')&quot;)\n    public List&lt;Book&gt; books() {\n        return bookRepository.findAll();\n    }\n\n    @QueryMapping\n    @PreAuthorize(&quot;hasRole('ROLE_USER')&quot;)\n    public Book bookById(String id) {\n        return bookRepository.findById(id).orElse(null);\n    }\n}\n</code></pre>\n<p>GraphQL Aspect:</p>\n<pre><code>@Aspect\n@Component\n@Order(1)\npublic class SecurityQraphQLAspect {\n    @Before(&quot;allGraphQLResolverMethods() &amp;&amp; isDefinedInApplication() &amp;&amp; !isMethodAnnotatedAsUnsecured()&quot;)\n    public void doSecurityCheck() {\n        if (SecurityContextHolder.getContext() == null ||\n            SecurityContextHolder.getContext().getAuthentication() == null ||\n            !SecurityContextHolder.getContext().getAuthentication().isAuthenticated() ||\n            AnonymousAuthenticationToken.class.isAssignableFrom(SecurityContextHolder.getContext().getAuthentication().getClass())) {\n            throw new AccessDeniedException(&quot;User not authenticated&quot;);\n        }\n    }\n    @Pointcut(&quot;@annotation(resolver.GraphQLResolver)&quot;)\n    private void allGraphQLResolverMethods() {\n    }\n     @Pointcut(&quot;within(resolver.*)&quot;)\n    private void isDefinedInApplication() {\n    }\n    @Pointcut(&quot;execution(public java.lang.String resolver.ResourceResolver.unsecuredResource())&quot;)\n    private void isUnsecuredResourceMethod() {\n    }\n\n    @Pointcut(&quot;@annotation(oresolver.Unsecured)&quot;)\n    private void isMethodAnnotatedAsUnsecured() {\n    }\n}\n</code></pre>\n<p>Annotation Unsecured:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface Unsecured {\n}\n</code></pre>\n<p>Whenever I try to access using graphiql it returns 403. If I add @Unsecured to any query method it returns the response.</p>\n<p>Security config looks like:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfiguration {\n    private static final String REALM_ACCESS_CLAIM = &quot;realm_access&quot;;\n    private static final String ROLES_CLAIM = &quot;roles&quot;;\n\n    @Bean\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\n        http\n            .oauth2Client()\n            .and()\n            .oauth2Login()\n            .tokenEndpoint()\n            .and()\n            .userInfoEndpoint();\n\n        http\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.ALWAYS);\n\n        http\n            .authorizeHttpRequests()\n            .requestMatchers(&quot;/unauthenticated&quot;, &quot;/graphiql&quot;,&quot;/graphql&quot;, &quot;/oauth2/**&quot;, &quot;/login/**&quot;).permitAll()\n            .anyRequest()\n            .fullyAuthenticated()\n            .and()\n            .logout()\n            .logoutSuccessUrl(\n                &quot;http://localhost:8180/realms/test/protocol/openid-connect/logout?redirect_uri=http://localhost:9999/&quot;);\n        http.csrf().disable();\n        return http.build();\n    }\n\n    @Bean\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public GrantedAuthoritiesMapper userAuthoritiesMapperForKeycloak() {\n        return authorities -&gt; {\n            Set&lt;GrantedAuthority&gt; mappedAuthorities = new HashSet&lt;&gt;();\n            var authority = authorities.iterator().next();\n            boolean isOidc = authority instanceof OidcUserAuthority;\n\n            if (isOidc) {\n                var oidcUserAuthority = (OidcUserAuthority) authority;\n                var userInfo = oidcUserAuthority.getUserInfo();\n\n                if (userInfo.hasClaim(REALM_ACCESS_CLAIM)) {\n                    var realmAccess = userInfo.getClaimAsMap(REALM_ACCESS_CLAIM);\n                    var roles = (Collection&lt;String&gt;) realmAccess.get(ROLES_CLAIM);\n                    mappedAuthorities.addAll(generateAuthoritiesFromClaim(roles));\n                }\n            } else {\n                var oauth2UserAuthority = (OAuth2UserAuthority) authority;\n                Map&lt;String, Object&gt; userAttributes = oauth2UserAuthority.getAttributes();\n\n                if (userAttributes.containsKey(REALM_ACCESS_CLAIM)) {\n                    var realmAccess = (Map&lt;String, Object&gt;) userAttributes.get(REALM_ACCESS_CLAIM);\n                    var roles = (Collection&lt;String&gt;) realmAccess.get(ROLES_CLAIM);\n                    mappedAuthorities.addAll(generateAuthoritiesFromClaim(roles));\n                }\n            }\n            return mappedAuthorities;\n        };\n    }\n\n    Collection&lt;GrantedAuthority&gt; generateAuthoritiesFromClaim(Collection&lt;String&gt; roles) {\n        return roles.stream().map(role -&gt; new SimpleGrantedAuthority(&quot;ROLE_&quot; + role.toUpperCase(Locale.ROOT))).collect(Collectors.toList());\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","postman"],"comments":[{"owner":{"account_id":3957272,"reputation":506,"user_id":3265362,"display_name":"nader.h"},"score":0,"creation_date":1557843134,"post_id":56132447,"comment_id":98895874,"body_markdown":"can you add your http request ? are you sure you are passing the request body ?","body":"can you add your http request ? are you sure you are passing the request body ?"},{"owner":{"account_id":10224013,"reputation":107,"user_id":7547303,"display_name":"redi ramaj"},"score":0,"creation_date":1557843590,"post_id":56132447,"comment_id":98896183,"body_markdown":"@NaderHajlaoui i have updated my question","body":"@NaderHajlaoui i have updated my question"},{"owner":{"account_id":3957272,"reputation":506,"user_id":3265362,"display_name":"nader.h"},"score":0,"creation_date":1557843982,"post_id":56132447,"comment_id":98896440,"body_markdown":"you need to provide the request body, otherwise you&#39;ll always have 400 bad request. because when you look at your endpoint signature `@Valid @RequestBody ProjectTask projectTask` we clearly see that a `projectTask` is needed as input.","body":"you need to provide the request body, otherwise you&#39;ll always have 400 bad request. because when you look at your endpoint signature <code>@Valid @RequestBody ProjectTask projectTask</code> we clearly see that a <code>projectTask</code> is needed as input."},{"owner":{"account_id":10224013,"reputation":107,"user_id":7547303,"display_name":"redi ramaj"},"score":0,"creation_date":1557844452,"post_id":56132447,"comment_id":98896765,"body_markdown":"@NaderHajlaoui how can i provide what u said?","body":"@NaderHajlaoui how can i provide what u said?"},{"owner":{"account_id":3957272,"reputation":506,"user_id":3265362,"display_name":"nader.h"},"score":0,"creation_date":1557844571,"post_id":56132447,"comment_id":98896846,"body_markdown":"when you call your endpoint, you have to provide the request body, if you&#39;re using postman, you need to put some data in the body as `application/json`, please refer to my answer, i provided a sample request code, you can import it in your postman.","body":"when you call your endpoint, you have to provide the request body, if you&#39;re using postman, you need to put some data in the body as <code>application&#47;json</code>, please refer to my answer, i provided a sample request code, you can import it in your postman."}],"answers":[{"tags":[],"owner":{"account_id":14066336,"reputation":240,"user_id":10161086,"display_name":"PPetkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557844464,"creation_date":1557843264,"answer_id":56132518,"question_id":56132447,"body_markdown":"Since it is a @PostMapping you need to make a postman POST request like this:\r\n[![enter image description here][1]][1]\r\n\r\nmake sure to select `raw` and content type of `application/json` along with a json object for the body of the request\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I1Bvu.png","title":"&quot;Required request body is missing: public org.springframework.http.ResponseEntity&lt;?&gt;","body":"<p>Since it is a @PostMapping you need to make a postman POST request like this:\n<a href=\"https://i.stack.imgur.com/I1Bvu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I1Bvu.png\" alt=\"enter image description here\"></a></p>\n\n<p>make sure to select <code>raw</code> and content type of <code>application/json</code> along with a json object for the body of the request</p>\n"},{"tags":[],"owner":{"account_id":3957272,"reputation":506,"user_id":3265362,"display_name":"nader.h"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557844227,"creation_date":1557844227,"answer_id":56132831,"question_id":56132447,"body_markdown":"Redi here&#39;s a sample request : \r\n```\r\ncurl -X POST \\\r\n  &#39;http://&gt;&gt;&gt;&gt; your endpoint url&#39; \\\r\n  -H &#39;Content-Type: application/json&#39; \\\r\n  -d &#39;{\r\n&quot;summary&quot; : &quot;sample summary&quot;,\r\n&quot;acceptanceCriteria&quot; : &quot;blabla&quot;,\r\n&quot;status&quot; : &quot;fake status&quot;\r\n}&#39;\r\n```","title":"&quot;Required request body is missing: public org.springframework.http.ResponseEntity&lt;?&gt;","body":"<p>Redi here's a sample request : </p>\n\n<pre><code>curl -X POST \\\n  'http://&gt;&gt;&gt;&gt; your endpoint url' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n\"summary\" : \"sample summary\",\n\"acceptanceCriteria\" : \"blabla\",\n\"status\" : \"fake status\"\n}'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557864386,"creation_date":1557863439,"answer_id":56137691,"question_id":56132447,"body_markdown":"That&#39;s right..! Yeah you are sending a bad request. You have to send request payload in POST request.\n\n\n**Solution :** \nWhile sending the POST request please send with body like this in your case.\n\n    {\n    &quot;summary&quot;:&quot;any&quot;,\n    &quot;acceptance&quot;:&quot;any&quot;,\n    &quot;status&quot;:&quot;any&quot;\n    }","title":"&quot;Required request body is missing: public org.springframework.http.ResponseEntity&lt;?&gt;","body":"<p>That's right..! Yeah you are sending a bad request. You have to send request payload in POST request.</p>\n\n<p><strong>Solution :</strong> \nWhile sending the POST request please send with body like this in your case.</p>\n\n<pre><code>{\n\"summary\":\"any\",\n\"acceptance\":\"any\",\n\"status\":\"any\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27772579,"reputation":34,"user_id":21202611,"display_name":"Imran Ullah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686174982,"creation_date":1686032196,"answer_id":76411890,"question_id":56132447,"body_markdown":" You can follow these steps, hope it&#39;ll work:\r\n\r\n 1. Open Postman and locate the &quot;Import&quot; button located on the top left corner.\r\n 2. Click on the &quot;Import&quot; button and select the &quot;Paste Raw Text&quot; option.\r\n 3. In the text field that appears, paste the curl command I&#39;ve provided below:\r\n```\r\ncurl --location &#39;http://localhost:8080/api/board&#39; \\\r\n    --header &#39;Content-Type: application/json&#39; \\\r\n    --data &#39;{\r\n        &quot;summary&quot;: &quot;Sample summary&quot;,\r\n        &quot;acceptanceCriteria&quot;: &quot;Sample acceptance criteria&quot;,\r\n        &quot;status&quot;: &quot;Sample status&quot;\r\n    }&#39;\r\n```\r\n\r\n 4. Click the &quot;Continue&quot; button to import the curl command.\r\n\r\n 5. Adjust the sample values in the JSON request body (summary, acceptanceCriteria, and status) with your own data.\r\n\r\n 6. Finally, click the &quot;Send&quot; button to make the POST request to `http://localhost:8080/api/board`.\r\n\r\n   \r\n\r\n","title":"&quot;Required request body is missing: public org.springframework.http.ResponseEntity&lt;?&gt;","body":"<p>You can follow these steps, hope it'll work:</p>\n<ol>\n<li>Open Postman and locate the &quot;Import&quot; button located on the top left corner.</li>\n<li>Click on the &quot;Import&quot; button and select the &quot;Paste Raw Text&quot; option.</li>\n<li>In the text field that appears, paste the curl command I've provided below:</li>\n</ol>\n<pre><code>curl --location 'http://localhost:8080/api/board' \\\n    --header 'Content-Type: application/json' \\\n    --data '{\n        &quot;summary&quot;: &quot;Sample summary&quot;,\n        &quot;acceptanceCriteria&quot;: &quot;Sample acceptance criteria&quot;,\n        &quot;status&quot;: &quot;Sample status&quot;\n    }'\n</code></pre>\n<ol start=\"4\">\n<li><p>Click the &quot;Continue&quot; button to import the curl command.</p>\n</li>\n<li><p>Adjust the sample values in the JSON request body (summary, acceptanceCriteria, and status) with your own data.</p>\n</li>\n<li><p>Finally, click the &quot;Send&quot; button to make the POST request to <code>http://localhost:8080/api/board</code>.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":10224013,"reputation":107,"user_id":7547303,"display_name":"redi ramaj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20330,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1699204136,"creation_date":1557843040,"question_id":56132447,"body_markdown":"\r\nI am learning Spring-Boot features and going through them also with Postman. But when i run the code i get 400 Bad Request Error on Postman like this: \r\n&quot;Required request body is missing: public org.springframework.http.ResponseEntity&lt;?&gt;&quot;. Have i missed an attribute or the coding is all the way wrong?\r\n\r\n\r\n\r\n     @RestController\r\n     @RequestMapping(&quot;/api/board&quot;)\r\n     @CrossOrigin\r\n    public class ProjectTaskController {\r\n\t\r\n\t@Autowired\r\n\tprivate ProjectTaskService projectTaskService;\r\n\t\r\n\t@PostMapping(&quot;&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; addPTToBoard( @Valid @RequestBody ProjectTask projectTask, BindingResult result){\r\n\t\tif(result.hasErrors()) {\r\n\t\t\tMap&lt;String, String&gt; errorMap= new HashMap&lt;&gt;();\r\n\t\t\t\r\n\t\t\tfor(FieldError error: result.getFieldErrors()) {\r\n\t\t\t\terrorMap.put(error.getField(), error.getDefaultMessage());\r\n\t\t\t}\r\n\t\t\t return new ResponseEntity&lt;Map&lt;String, String&gt;&gt;(errorMap, HttpStatus.BAD_REQUEST);\r\n\t\t}\r\n\t\t\r\n\t\tProjectTask newPT= projectTaskService.saveOrUpdateProjectTask(projectTask);\r\n\t\treturn new ResponseEntity&lt;ProjectTask&gt;(newPT, HttpStatus.CREATED);\r\n\t}\r\n\r\nThe projectTask code, it has getters and setters also.\r\n\r\n    @Entity\r\n    public class ProjectTask {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy= GenerationType.IDENTITY)\r\n\tprivate long id;\r\n\t\r\n\t@NotBlank(message = &quot;summary cannot be blank&quot;)\r\n\tprivate String summary;\r\n\tprivate String acceptanceCriteria;\r\n\tprivate String status;\r\n\t\r\n\tpublic ProjectTask() {\r\n\t\t\r\n\t}\r\n\r\n[Postman request][1] Here\r\n\r\n  [1]: https://i.stack.imgur.com/57BUX.jpg\r\n\r\n","title":"&quot;Required request body is missing: public org.springframework.http.ResponseEntity&lt;?&gt;","body":"<p>I am learning Spring-Boot features and going through them also with Postman. But when i run the code i get 400 Bad Request Error on Postman like this: \n\"Required request body is missing: public org.springframework.http.ResponseEntity\". Have i missed an attribute or the coding is all the way wrong?</p>\n\n<pre><code> @RestController\n @RequestMapping(\"/api/board\")\n @CrossOrigin\npublic class ProjectTaskController {\n\n@Autowired\nprivate ProjectTaskService projectTaskService;\n\n@PostMapping(\"\")\npublic ResponseEntity&lt;?&gt; addPTToBoard( @Valid @RequestBody ProjectTask projectTask, BindingResult result){\n    if(result.hasErrors()) {\n        Map&lt;String, String&gt; errorMap= new HashMap&lt;&gt;();\n\n        for(FieldError error: result.getFieldErrors()) {\n            errorMap.put(error.getField(), error.getDefaultMessage());\n        }\n         return new ResponseEntity&lt;Map&lt;String, String&gt;&gt;(errorMap, HttpStatus.BAD_REQUEST);\n    }\n\n    ProjectTask newPT= projectTaskService.saveOrUpdateProjectTask(projectTask);\n    return new ResponseEntity&lt;ProjectTask&gt;(newPT, HttpStatus.CREATED);\n}\n</code></pre>\n\n<p>The projectTask code, it has getters and setters also.</p>\n\n<pre><code>@Entity\npublic class ProjectTask {\n\n@Id\n@GeneratedValue(strategy= GenerationType.IDENTITY)\nprivate long id;\n\n@NotBlank(message = \"summary cannot be blank\")\nprivate String summary;\nprivate String acceptanceCriteria;\nprivate String status;\n\npublic ProjectTask() {\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/57BUX.jpg\" rel=\"noreferrer\">Postman request</a> Here</p>\n"},{"tags":["java","jackson","micronaut"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696019857,"post_id":77198236,"comment_id":136105396,"body_markdown":"By the way, generally best to use only [ISO 8601](https://en.m.wikipedia.org/wiki/ISO_8601) standard formats for data-exchange.","body":"By the way, generally best to use only <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard formats for data-exchange."}],"answers":[{"tags":[],"owner":{"account_id":60400,"reputation":19147,"user_id":180416,"accept_rate":63,"display_name":"rich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696019206,"creation_date":1696019206,"answer_id":77204632,"question_id":77198236,"body_markdown":"The annotation processor micronaut-serde-processor wasn&#39;t running, that was the cause.\r\n\r\n(I&#39;d moved my dtos out to a separate jar file / maven module, from one that had the annotation processor configured in its pom to one that didn&#39;t).","title":"Micronaut deserialize into LocalDateTime","body":"<p>The annotation processor micronaut-serde-processor wasn't running, that was the cause.</p>\n<p>(I'd moved my dtos out to a separate jar file / maven module, from one that had the annotation processor configured in its pom to one that didn't).</p>\n"}],"owner":{"account_id":60400,"reputation":19147,"user_id":180416,"accept_rate":63,"display_name":"rich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77204632,"answer_count":1,"score":0,"last_activity_date":1699203133,"creation_date":1695934614,"question_id":77198236,"body_markdown":"I&#39;ve got a request body class that looks like this:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonFormat;\r\n    import io.micronaut.serde.annotation.Serdeable;\r\n    import jakarta.validation.constraints.NotNull;\r\n    import lombok.Data;\r\n    import java.time.LocalDateTime;\r\n\r\n    @Data\r\n    @Serdeable\r\n    public class CheckDto {\r\n    \r\n        ...\r\n    \r\n        @NotNull\r\n        @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm&quot;)\r\n        private LocalDateTime startTime;\r\n    }\r\n\r\nIf I manually deserialize it with Jackson and JSR310, it works fine. If I leave it to Micronaut&#39;s reimplementation of Jackson it fails (seems to break when it gets to the space). I can repeat it with a test class:\r\n\r\n    import io.micronaut.serde.ObjectMapper;\r\n    import mypackage.CheckDto;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class Test {\r\n    \r\n        private static final ObjectMapper mapper = ObjectMapper.getDefault();\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            String json = &quot;{\\&quot;startTime\\&quot;:\\&quot;2023-09-28 17:00\\&quot;}&quot;;\r\n            CheckDto dto = mapper.readValue(json, CheckDto.class);\r\n    \r\n            System.out.println(dto.getStartTime());\r\n        }\r\n    }\r\n\r\nError:\r\n\r\n    Exception in thread &quot;main&quot; io.micronaut.serde.exceptions.SerdeException: Error decoding property [LocalDateTime startTime] of type [class mypackage.CheckDto]: Text &#39;2023-09-28 17:00&#39; could not be parsed at index 10\r\n    \tat io.micronaut.serde.support.deserializers.DeserBean$DerProperty.deserializeAndSetPropertyValue(DeserBean.java:825)\r\n    \tat io.micronaut.serde.support.deserializers.SimpleObjectDeserializer.deserializeInto(SimpleObjectDeserializer.java:96)\r\n    \tat io.micronaut.serde.support.deserializers.SimpleObjectDeserializer.deserialize(SimpleObjectDeserializer.java:68)\r\n    \tat io.micronaut.serde.support.deserializers.SimpleObjectDeserializer.deserializeNullable(SimpleObjectDeserializer.java:78)\r\n    \tat io.micronaut.serde.jackson.JacksonJsonMapper.readValue0(JacksonJsonMapper.java:130)\r\n    \tat io.micronaut.serde.jackson.JacksonJsonMapper.readValue(JacksonJsonMapper.java:122)\r\n    \tat io.micronaut.serde.jackson.JacksonJsonMapper.readValue(JacksonJsonMapper.java:168)\r\n    \tat io.micronaut.json.JsonMapper.readValue(JsonMapper.java:141)\r\n    \tat io.micronaut.json.JsonMapper.readValue(JsonMapper.java:168)\r\n    \tat Test.main(Test.java:12)\r\n    Caused by: java.time.format.DateTimeParseException: Text &#39;2023-09-28 17:00&#39; could not be parsed at index 10\r\n    \tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2106)\r\n    \tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2008)\r\n    \tat io.micronaut.serde.support.serdes.DefaultFormattedTemporalSerde.deserialize(DefaultFormattedTemporalSerde.java:71)\r\n    \tat io.micronaut.serde.support.serdes.DefaultFormattedTemporalSerde.deserialize(DefaultFormattedTemporalSerde.java:35)\r\n    \tat io.micronaut.serde.Deserializer.deserializeNullable(Deserializer.java:85)\r\n    \tat io.micronaut.serde.support.deserializers.DeserBean$DerProperty.deserializeAndSetPropertyValue(DeserBean.java:806)\r\n    \t... 9 more\r\n\r\nAny suggestions? Thanks.\r\n\r\nETA: Perhaps I should point out, I *think* I had this working under Micronaut 3, I&#39;ve upgraded to 4 recently.","title":"Micronaut deserialize into LocalDateTime","body":"<p>I've got a request body class that looks like this:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonFormat;\nimport io.micronaut.serde.annotation.Serdeable;\nimport jakarta.validation.constraints.NotNull;\nimport lombok.Data;\nimport java.time.LocalDateTime;\n\n@Data\n@Serdeable\npublic class CheckDto {\n\n    ...\n\n    @NotNull\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm&quot;)\n    private LocalDateTime startTime;\n}\n</code></pre>\n<p>If I manually deserialize it with Jackson and JSR310, it works fine. If I leave it to Micronaut's reimplementation of Jackson it fails (seems to break when it gets to the space). I can repeat it with a test class:</p>\n<pre><code>import io.micronaut.serde.ObjectMapper;\nimport mypackage.CheckDto;\n\nimport java.io.IOException;\n\npublic class Test {\n\n    private static final ObjectMapper mapper = ObjectMapper.getDefault();\n\n    public static void main(String[] args) throws IOException {\n        String json = &quot;{\\&quot;startTime\\&quot;:\\&quot;2023-09-28 17:00\\&quot;}&quot;;\n        CheckDto dto = mapper.readValue(json, CheckDto.class);\n\n        System.out.println(dto.getStartTime());\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; io.micronaut.serde.exceptions.SerdeException: Error decoding property [LocalDateTime startTime] of type [class mypackage.CheckDto]: Text '2023-09-28 17:00' could not be parsed at index 10\n    at io.micronaut.serde.support.deserializers.DeserBean$DerProperty.deserializeAndSetPropertyValue(DeserBean.java:825)\n    at io.micronaut.serde.support.deserializers.SimpleObjectDeserializer.deserializeInto(SimpleObjectDeserializer.java:96)\n    at io.micronaut.serde.support.deserializers.SimpleObjectDeserializer.deserialize(SimpleObjectDeserializer.java:68)\n    at io.micronaut.serde.support.deserializers.SimpleObjectDeserializer.deserializeNullable(SimpleObjectDeserializer.java:78)\n    at io.micronaut.serde.jackson.JacksonJsonMapper.readValue0(JacksonJsonMapper.java:130)\n    at io.micronaut.serde.jackson.JacksonJsonMapper.readValue(JacksonJsonMapper.java:122)\n    at io.micronaut.serde.jackson.JacksonJsonMapper.readValue(JacksonJsonMapper.java:168)\n    at io.micronaut.json.JsonMapper.readValue(JsonMapper.java:141)\n    at io.micronaut.json.JsonMapper.readValue(JsonMapper.java:168)\n    at Test.main(Test.java:12)\nCaused by: java.time.format.DateTimeParseException: Text '2023-09-28 17:00' could not be parsed at index 10\n    at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2106)\n    at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2008)\n    at io.micronaut.serde.support.serdes.DefaultFormattedTemporalSerde.deserialize(DefaultFormattedTemporalSerde.java:71)\n    at io.micronaut.serde.support.serdes.DefaultFormattedTemporalSerde.deserialize(DefaultFormattedTemporalSerde.java:35)\n    at io.micronaut.serde.Deserializer.deserializeNullable(Deserializer.java:85)\n    at io.micronaut.serde.support.deserializers.DeserBean$DerProperty.deserializeAndSetPropertyValue(DeserBean.java:806)\n    ... 9 more\n</code></pre>\n<p>Any suggestions? Thanks.</p>\n<p>ETA: Perhaps I should point out, I <em>think</em> I had this working under Micronaut 3, I've upgraded to 4 recently.</p>\n"},{"tags":["java","mongodb","maven","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1596067195,"post_id":63164092,"comment_id":111695013,"body_markdown":"Does it build from the command line using `mvn clean package`? What error do you see there? Is there any proxy configuration required for your system?","body":"Does it build from the command line using <code>mvn clean package</code>? What error do you see there? Is there any proxy configuration required for your system?"},{"owner":{"account_id":11973659,"reputation":1295,"user_id":8761466,"display_name":"bsaverino"},"score":0,"creation_date":1596067378,"post_id":63164092,"comment_id":111695044,"body_markdown":"What does `mvn dependency:tree`say about this?","body":"What does <code>mvn dependency:tree</code>say about this?"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1596080839,"post_id":63164092,"comment_id":111697634,"body_markdown":"Given the pom that you&#39;ve shared, there is no mention of `org.mongodb:mongodb-driver-sync` and its not a transitive dependency of the [artifact `mongo-java-driver`](https://search.maven.org/artifact/org.mongodb/mongo-java-driver/3.12.6/jar) either. Also, this doesn&#39;t quite relate to the Java version, so editing the tags.","body":"Given the pom that you&#39;ve shared, there is no mention of <code>org.mongodb:mongodb-driver-sync</code> and its not a transitive dependency of the <a href=\"https://search.maven.org/artifact/org.mongodb/mongo-java-driver/3.12.6/jar\" rel=\"nofollow noreferrer\">artifact <code>mongo-java-driver</code></a> either. Also, this doesn&#39;t quite relate to the Java version, so editing the tags."}],"answers":[{"tags":[],"owner":{"account_id":13285643,"reputation":530,"user_id":9591844,"display_name":"dinobi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596067244,"creation_date":1596067244,"answer_id":63164226,"question_id":63164092,"body_markdown":"please [read installation][1]\r\n\r\nyou can try this \r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mongodb-driver&lt;/artifactId&gt;\r\n        &lt;version&gt;3.12.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n\r\n  [1]: https://mongodb.github.io/mongo-java-driver/3.12/driver/getting-started/installation/#mongodb-driver-sync","title":"Issue adding MongoDB Java Driver as a Maven dependency","body":"<p>please <a href=\"https://mongodb.github.io/mongo-java-driver/3.12/driver/getting-started/installation/#mongodb-driver-sync\" rel=\"nofollow noreferrer\">read installation</a></p>\n<p>you can try this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongodb-driver&lt;/artifactId&gt;\n        &lt;version&gt;3.12.6&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14590756,"reputation":73,"user_id":10537960,"display_name":"Sean E."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1596144887,"creation_date":1596144887,"answer_id":63181703,"question_id":63164092,"body_markdown":"So after restarting IntelliJ the above code seems to work fine. I&#39;m unsure of where the issue was, but the dependency is being found now without any changes to the pom.","title":"Issue adding MongoDB Java Driver as a Maven dependency","body":"<p>So after restarting IntelliJ the above code seems to work fine. I'm unsure of where the issue was, but the dependency is being found now without any changes to the pom.</p>\n"},{"tags":[],"owner":{"account_id":14584317,"reputation":109,"user_id":10533692,"display_name":"kriti arora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685965201,"creation_date":1685965201,"answer_id":76406047,"question_id":63164092,"body_markdown":"If you are working on VPN for different environments, please make sure it is connected to the environment of your data. This happened with me. ","title":"Issue adding MongoDB Java Driver as a Maven dependency","body":"<p>If you are working on VPN for different environments, please make sure it is connected to the environment of your data. This happened with me.</p>\n"},{"tags":[],"owner":{"account_id":24024818,"reputation":41,"user_id":18590971,"display_name":"Roy Huang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699201198,"creation_date":1699200809,"answer_id":77426688,"question_id":63164092,"body_markdown":"On the right side of the IDEA, click `Maven`\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\nClick `blue circled button`. \r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z91jk.png\r\n  [2]: https://i.stack.imgur.com/fSGn1.png\r\n\r\nThen dependencies should throw no more errors. \r\n\r\n","title":"Issue adding MongoDB Java Driver as a Maven dependency","body":"<p>On the right side of the IDEA, click <code>Maven</code></p>\n<p><a href=\"https://i.stack.imgur.com/z91jk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z91jk.png\" alt=\"enter image description here\" /></a></p>\n<p>Click <code>blue circled button</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/fSGn1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fSGn1.png\" alt=\"enter image description here\" /></a></p>\n<p>Then dependencies should throw no more errors.</p>\n"}],"owner":{"account_id":14590756,"reputation":73,"user_id":10537960,"display_name":"Sean E."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5458,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":63181703,"answer_count":4,"score":1,"last_activity_date":1699201198,"creation_date":1596066215,"question_id":63164092,"body_markdown":"The title says it all really, my pom is shown below:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;CouncillorsApp&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n                &lt;version&gt;3.12.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nThe following error is given:\r\n\r\n&quot;Dependency &#39;org.mongodb:mongodb-driver-sync:3.10.2&#39; not found&quot;\r\n\r\n\r\nI&#39;m using Java 14.0.2 and the latest version of IntelliJ","title":"Issue adding MongoDB Java Driver as a Maven dependency","body":"<p>The title says it all really, my pom is shown below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;CouncillorsApp&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n            &lt;version&gt;3.12.6&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The following error is given:</p>\n<p>&quot;Dependency 'org.mongodb:mongodb-driver-sync:3.10.2' not found&quot;</p>\n<p>I'm using Java 14.0.2 and the latest version of IntelliJ</p>\n"},{"tags":["java","amazon-sqs","aws-java-sdk"],"comments":[{"owner":{"account_id":263350,"reputation":792,"user_id":548841,"accept_rate":60,"display_name":"mjuopperi"},"score":0,"creation_date":1436208043,"post_id":31252207,"comment_id":50503412,"body_markdown":"Are you passing the endpoint to your method so that it&#39;s set? It&#39;s required.","body":"Are you passing the endpoint to your method so that it&#39;s set? It&#39;s required."},{"owner":{"account_id":5019597,"reputation":175,"user_id":4033416,"accept_rate":29,"display_name":"Programmer"},"score":0,"creation_date":1436210530,"post_id":31252207,"comment_id":50504849,"body_markdown":"Yes, the constructor sets the endpoint for the sqs object.","body":"Yes, the constructor sets the endpoint for the sqs object."},{"owner":{"account_id":6522903,"reputation":4553,"user_id":5046548,"display_name":"David Murray"},"score":12,"creation_date":1436238443,"post_id":31252207,"comment_id":50514377,"body_markdown":"Does your instance role have permission to call GetQueueUrl? You&#39;re bypassing that call when using the CLI by manually constructing the QueueUrl parameter.","body":"Does your instance role have permission to call GetQueueUrl? You&#39;re bypassing that call when using the CLI by manually constructing the QueueUrl parameter."},{"owner":{"account_id":5019597,"reputation":175,"user_id":4033416,"accept_rate":29,"display_name":"Programmer"},"score":1,"creation_date":1436289593,"post_id":31252207,"comment_id":50544566,"body_markdown":"@DavidMurray that is a good point. I was not aware if there were permissions needed to call getQueueUrl(). I might need to check it. Do they need to be the same as the Queue permissions? Or how does it work?","body":"@DavidMurray that is a good point. I was not aware if there were permissions needed to call getQueueUrl(). I might need to check it. Do they need to be the same as the Queue permissions? Or how does it work?"},{"owner":{"account_id":5019597,"reputation":175,"user_id":4033416,"accept_rate":29,"display_name":"Programmer"},"score":0,"creation_date":1436293903,"post_id":31252207,"comment_id":50547101,"body_markdown":"The permissions were added to access getQueueUrl(). I have edited my question to show how I call the method and the place it errors out.","body":"The permissions were added to access getQueueUrl(). I have edited my question to show how I call the method and the place it errors out."},{"owner":{"account_id":1298380,"reputation":898,"user_id":1248817,"accept_rate":83,"display_name":"Mattiavelli"},"score":2,"creation_date":1469028385,"post_id":31252207,"comment_id":64371417,"body_markdown":"@DavidMurray +1 Your suggestion solved my problem. Worthy of an answer.","body":"@DavidMurray +1 Your suggestion solved my problem. Worthy of an answer."}],"answers":[{"tags":[],"owner":{"account_id":53076,"reputation":50835,"user_id":158668,"accept_rate":100,"display_name":"Dennis Traub"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686220705,"creation_date":1686220705,"answer_id":76430993,"question_id":31252207,"body_markdown":"As [David Murray][1] pointed out in the comments above, if the SQS Queue exists, it probably is an issue with the permissions. Make sure that the EC2 instance role is allowed to use the `sqs:GetQueueUrl` action.\r\n\r\nHere&#39;s an example policy including the necessary statement.:\r\n\r\n    {\r\n       &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n       &quot;Statement&quot;: [{\r\n          &quot;Effect&quot;: &quot;Allow&quot;,\r\n          &quot;Action&quot;: &quot;sqs:GetQueueUrl&quot;,\r\n          &quot;Resource&quot;: &quot;QUEUE_ARN&quot;\r\n       }]\r\n    }\r\n\r\n(make sure to replace `QUEUE_ARN` with SQS queue ARN)\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/5046548/david-murray","title":"Amazon SQS Queue Does Not Exist","body":"<p>As <a href=\"https://stackoverflow.com/users/5046548/david-murray\">David Murray</a> pointed out in the comments above, if the SQS Queue exists, it probably is an issue with the permissions. Make sure that the EC2 instance role is allowed to use the <code>sqs:GetQueueUrl</code> action.</p>\n<p>Here's an example policy including the necessary statement.:</p>\n<pre><code>{\n   &quot;Version&quot;: &quot;2012-10-17&quot;,\n   &quot;Statement&quot;: [{\n      &quot;Effect&quot;: &quot;Allow&quot;,\n      &quot;Action&quot;: &quot;sqs:GetQueueUrl&quot;,\n      &quot;Resource&quot;: &quot;QUEUE_ARN&quot;\n   }]\n}\n</code></pre>\n<p>(make sure to replace <code>QUEUE_ARN</code> with SQS queue ARN)</p>\n"}],"owner":{"account_id":5019597,"reputation":175,"user_id":4033416,"accept_rate":29,"display_name":"Programmer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11807,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1699200315,"creation_date":1436204279,"question_id":31252207,"body_markdown":"I am trying to access an amazon queue using java sdk. The queue is set in an environment with EC2 instance roles so I do not need to use credentials to access it.\r\nHere is my code\r\n\r\n    public AWSSimpleQueueServiceClient(String queueName, String endPoint) {\r\n\t\ttry{\r\n\t\t\tthis.queueName = queueName;\r\n\t\t\tlogger.debug(&quot;Queue Name = &quot; + this.queueName + &quot;Endpoint = &quot; + endPoint);\r\n\t\t\tthis.sqs = new AmazonSQSClient(new InstanceProfileCredentialsProvider());\r\n\t\t\tif(endPoint != null) {\r\n\t\t\t\tthis.sqs.setEndpoint(endPoint);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(&quot;Exception while creating AWS SQS Client = &quot; + e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\nQueueName and Endpoint are got from configuration files.\r\nI try to send/receive messages from the queue but it gives me the following exception\r\n\r\n    Exception in thread &quot;main&quot; com.amazonaws.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist or you do not have access to it. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: c30b2c9a-0e62-560d-9306-628ebff676d8)\r\n\tat com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1160)\r\n\tat com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:748)\r\n\tat com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:467)\r\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:302)\r\n\tat com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2422)\r\n\tat com.amazonaws.services.sqs.AmazonSQSClient.getQueueUrl(AmazonSQSClient.java:541)\r\n\tat com.ensighten.inform.sqsClient.AWSSimpleQueueServiceClient.getQueueUrl(AWSSimpleQueueServiceClient.java:66)\r\n\r\nHowever, when I try to access the queue using the curl command, I get a response\r\n\r\n    aws sqs receive-message --queue-url &lt;Endpoint&gt;/031143137427/&lt;QueueName&gt; --    region us-east-1\r\n     {\r\n        &quot;Messages&quot;: [\r\n            {\r\n                &quot;Body&quot;: &quot;Test&quot;, \r\n                &quot;ReceiptHandle&quot;:     &quot;AQEBA49LjMDLPyyl4QKwHx9/oVFDV7mZDiOOpdKS/IC2zR3GNblg2IoHuqWBgr5iw7URCkL03Dm23TCs0Z2hB2DIzU+9qxZTOa9Ti57eiHOyAL2XAlbk7TAqGCR4lcsdSW8+LJ5zWCTkBUg5iZOqy4P0KFTfI7KtJJb2aAmeWJpApu+yJRTNAkYtdN91EcYOVFHqc1p6HJmtvvW6vJwfHB5JEbagXdfWwH3/UnJ/O36JwuFoLDp/NBRu6TO+bmYxeZmCN4GdhHuT0a11weki6Ez47Ln63G11LeQ4SFdZTC7QOWflypf8FSbG8W4JGGPZ8J8iWTkW7PGGw6DRavSu97rx3w==&quot;, \r\n                &quot;MD5OfBody&quot;: &quot;1f871ceacd9f4028ed371e91400efe80&quot;, \r\n                &quot;MessageId&quot;: &quot;0f6290d2-4554-4d96-8f93-7564ef667feb&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nThis is an exception that I get when I try it on another machine setup with EC2 roles.\r\n\r\n    Exception in thread &quot;main&quot; com.amazonaws.AmazonClientException: Unable to load credentials from Amazon EC2 metadata service\r\n\tat com.amazonaws.auth.InstanceProfileCredentialsProvider.handleError(InstanceProfileCredentialsProvider.java:244)\r\n\tat com.amazonaws.auth.InstanceProfileCredentialsProvider.loadCredentials(InstanceProfileCredentialsProvider.java:225)\r\n\tat com.amazonaws.auth.InstanceProfileCredentialsProvider.getCredentials(InstanceProfileCredentialsProvider.java:124)\r\n\tat com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2413)\r\n\tat com.amazonaws.services.sqs.AmazonSQSClient.getQueueUrl(AmazonSQSClient.java:541)\r\n\tat com.ensighten.inform.sqsClient.AWSSimpleQueueServiceClient.getQueueUrl(AWSSimpleQueueServiceClient.java:74)\r\n\tat com.ensighten.inform.sqsClient.AWSSimpleQueueServiceClient.getMessagesFromQueue(AWSSimpleQueueServiceClient.java:93)\r\n\tat com.ensighten.inform.jobRunner.TestJobRunner.execute(TestJobRunner.java:96)\r\n\tat com.ensighten.inform.jobRunner.TestJobRunner.main(TestJobRunner.java:90)\r\n    Caused by: java.net.SocketTimeoutException: connect timed out\r\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n\tat   java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)\r\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\tat java.net.Socket.connect(Socket.java:579)\r\n\tat sun.net.NetworkClient.doConnect(NetworkClient.java:175)\r\n\tat sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\r\n\tat sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\r\n\tat sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:211)\r\n\tat sun.net.www.http.HttpClient.New(HttpClient.java:308)\r\n\tat sun.net.www.http.HttpClient.New(HttpClient.java:326)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:996)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:932)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:850)\r\n\tat com.amazonaws.internal.EC2MetadataClient.readResource(EC2MetadataClient.java:90)\r\n\tat com.amazonaws.internal.EC2MetadataClient.getDefaultCredentials(EC2MetadataClient.java:55)\r\n\tat com.amazonaws.auth.InstanceProfileCredentialsProvider.loadCredentials(InstanceProfileCredentialsProvider.java:186)\r\n\t... 7 more\r\n\r\nThis is how I get the URL of the queue. Tried doing it two ways below. It errors out with the above exception\r\n\r\n    public String getQueueUrl() {\r\n\t\tGetQueueUrlRequest queueUrlRequest = new GetQueueUrlRequest(this.queueName);\r\n\t\tlogger.debug(&quot;Queue Name... = &quot; + this.queueName);\r\n        //FIRST WAY -----------&gt; EXCEPTION on the line below\r\n        System.out.println(&quot;Queue URL .....= &quot; + this.sqs.getQueueUrl(this.queueName));\r\n        //SECOND WAY\r\n\t\treturn this.sqs.getQueueUrl(queueUrlRequest).getQueueUrl();\r\n\t}\r\n\r\n\r\nI have been trying to figure this out for a while now. Any help is appreciated.","title":"Amazon SQS Queue Does Not Exist","body":"<p>I am trying to access an amazon queue using java sdk. The queue is set in an environment with EC2 instance roles so I do not need to use credentials to access it.\nHere is my code</p>\n\n<pre><code>public AWSSimpleQueueServiceClient(String queueName, String endPoint) {\n    try{\n        this.queueName = queueName;\n        logger.debug(\"Queue Name = \" + this.queueName + \"Endpoint = \" + endPoint);\n        this.sqs = new AmazonSQSClient(new InstanceProfileCredentialsProvider());\n        if(endPoint != null) {\n            this.sqs.setEndpoint(endPoint);\n        }\n    } catch (Exception e) {\n        logger.error(\"Exception while creating AWS SQS Client = \" + e.getMessage());\n    }\n}\n</code></pre>\n\n<p>QueueName and Endpoint are got from configuration files.\nI try to send/receive messages from the queue but it gives me the following exception</p>\n\n<pre><code>Exception in thread \"main\" com.amazonaws.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist or you do not have access to it. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: c30b2c9a-0e62-560d-9306-628ebff676d8)\nat com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1160)\nat com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:748)\nat com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:467)\nat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:302)\nat com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2422)\nat com.amazonaws.services.sqs.AmazonSQSClient.getQueueUrl(AmazonSQSClient.java:541)\nat com.ensighten.inform.sqsClient.AWSSimpleQueueServiceClient.getQueueUrl(AWSSimpleQueueServiceClient.java:66)\n</code></pre>\n\n<p>However, when I try to access the queue using the curl command, I get a response</p>\n\n<pre><code>aws sqs receive-message --queue-url &lt;Endpoint&gt;/031143137427/&lt;QueueName&gt; --    region us-east-1\n {\n    \"Messages\": [\n        {\n            \"Body\": \"Test\", \n            \"ReceiptHandle\":     \"AQEBA49LjMDLPyyl4QKwHx9/oVFDV7mZDiOOpdKS/IC2zR3GNblg2IoHuqWBgr5iw7URCkL03Dm23TCs0Z2hB2DIzU+9qxZTOa9Ti57eiHOyAL2XAlbk7TAqGCR4lcsdSW8+LJ5zWCTkBUg5iZOqy4P0KFTfI7KtJJb2aAmeWJpApu+yJRTNAkYtdN91EcYOVFHqc1p6HJmtvvW6vJwfHB5JEbagXdfWwH3/UnJ/O36JwuFoLDp/NBRu6TO+bmYxeZmCN4GdhHuT0a11weki6Ez47Ln63G11LeQ4SFdZTC7QOWflypf8FSbG8W4JGGPZ8J8iWTkW7PGGw6DRavSu97rx3w==\", \n            \"MD5OfBody\": \"1f871ceacd9f4028ed371e91400efe80\", \n            \"MessageId\": \"0f6290d2-4554-4d96-8f93-7564ef667feb\"\n        }\n    ]\n}\n</code></pre>\n\n<p>This is an exception that I get when I try it on another machine setup with EC2 roles.</p>\n\n<pre><code>Exception in thread \"main\" com.amazonaws.AmazonClientException: Unable to load credentials from Amazon EC2 metadata service\nat com.amazonaws.auth.InstanceProfileCredentialsProvider.handleError(InstanceProfileCredentialsProvider.java:244)\nat com.amazonaws.auth.InstanceProfileCredentialsProvider.loadCredentials(InstanceProfileCredentialsProvider.java:225)\nat com.amazonaws.auth.InstanceProfileCredentialsProvider.getCredentials(InstanceProfileCredentialsProvider.java:124)\nat com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2413)\nat com.amazonaws.services.sqs.AmazonSQSClient.getQueueUrl(AmazonSQSClient.java:541)\nat com.ensighten.inform.sqsClient.AWSSimpleQueueServiceClient.getQueueUrl(AWSSimpleQueueServiceClient.java:74)\nat com.ensighten.inform.sqsClient.AWSSimpleQueueServiceClient.getMessagesFromQueue(AWSSimpleQueueServiceClient.java:93)\nat com.ensighten.inform.jobRunner.TestJobRunner.execute(TestJobRunner.java:96)\nat com.ensighten.inform.jobRunner.TestJobRunner.main(TestJobRunner.java:90)\nCaused by: java.net.SocketTimeoutException: connect timed out\nat java.net.PlainSocketImpl.socketConnect(Native Method)\nat   java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)\nat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)\nat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\nat java.net.Socket.connect(Socket.java:579)\nat sun.net.NetworkClient.doConnect(NetworkClient.java:175)\nat sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\nat sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\nat sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:211)\nat sun.net.www.http.HttpClient.New(HttpClient.java:308)\nat sun.net.www.http.HttpClient.New(HttpClient.java:326)\nat sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:996)\nat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:932)\nat sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:850)\nat com.amazonaws.internal.EC2MetadataClient.readResource(EC2MetadataClient.java:90)\nat com.amazonaws.internal.EC2MetadataClient.getDefaultCredentials(EC2MetadataClient.java:55)\nat com.amazonaws.auth.InstanceProfileCredentialsProvider.loadCredentials(InstanceProfileCredentialsProvider.java:186)\n... 7 more\n</code></pre>\n\n<p>This is how I get the URL of the queue. Tried doing it two ways below. It errors out with the above exception</p>\n\n<pre><code>public String getQueueUrl() {\n    GetQueueUrlRequest queueUrlRequest = new GetQueueUrlRequest(this.queueName);\n    logger.debug(\"Queue Name... = \" + this.queueName);\n    //FIRST WAY -----------&gt; EXCEPTION on the line below\n    System.out.println(\"Queue URL .....= \" + this.sqs.getQueueUrl(this.queueName));\n    //SECOND WAY\n    return this.sqs.getQueueUrl(queueUrlRequest).getQueueUrl();\n}\n</code></pre>\n\n<p>I have been trying to figure this out for a while now. Any help is appreciated.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":0,"creation_date":1698790249,"post_id":77399315,"comment_id":136449716,"body_markdown":"What command(s) or tool(s) are you using to compile and run your project?","body":"What command(s) or tool(s) are you using to compile and run your project?"},{"owner":{"account_id":26080243,"reputation":1,"user_id":19778529,"display_name":"idpop48"},"score":0,"creation_date":1698791925,"post_id":77399315,"comment_id":136449890,"body_markdown":"I&#39;m using eclipse to compile and run. I only need to import from the folder to the package class.","body":"I&#39;m using eclipse to compile and run. I only need to import from the folder to the package class."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698801940,"post_id":77399315,"comment_id":136450845,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1698826884,"post_id":77399315,"comment_id":136453093,"body_markdown":"can you please add a scribble (preferrably a nested bulletpoint list or similar) of your folder structure and use the folder / file names in your question to give us a better idea of your problem? Also: the java file from &quot;imports a java file from a folder to a package inside the src folder.&quot; is java sourcecode that you want to use in your project to call methods? Or is it just &quot;data&quot; (can also be java source but as pure text file) you want to access?","body":"can you please add a scribble (preferrably a nested bulletpoint list or similar) of your folder structure and use the folder / file names in your question to give us a better idea of your problem? Also: the java file from &quot;imports a java file from a folder to a package inside the src folder.&quot; is java sourcecode that you want to use in your project to call methods? Or is it just &quot;data&quot; (can also be java source but as pure text file) you want to access?"},{"owner":{"account_id":26080243,"reputation":1,"user_id":19778529,"display_name":"idpop48"},"score":0,"creation_date":1698853538,"post_id":77399315,"comment_id":136458170,"body_markdown":"What I&#39;m trying to do is import a java file from the toolbox folder( which is located outside the src folder) and import it into a class inside the collsion detection package. Is this possible? Reason why I won&#39;t make it into a package is because i got the java project sent to me that way and that is the way the person who sent it to me set up there project.","body":"What I&#39;m trying to do is import a java file from the toolbox folder( which is located outside the src folder) and import it into a class inside the collsion detection package. Is this possible? Reason why I won&#39;t make it into a package is because i got the java project sent to me that way and that is the way the person who sent it to me set up there project."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1698857312,"post_id":77399315,"comment_id":136458893,"body_markdown":"If you mean to use the Java `import` statement, you have to add the folder to your project classpath - I think this still works as described in this other SO question [Setting the classpath in Java using Eclipse IDE](https://stackoverflow.com/questions/5144258/setting-the-classpath-in-java-using-eclipse-ide)","body":"If you mean to use the Java <code>import</code> statement, you have to add the folder to your project classpath - I think this still works as described in this other SO question <a href=\"https://stackoverflow.com/questions/5144258/setting-the-classpath-in-java-using-eclipse-ide\">Setting the classpath in Java using Eclipse IDE</a>"},{"owner":{"account_id":26080243,"reputation":1,"user_id":19778529,"display_name":"idpop48"},"score":0,"creation_date":1698878670,"post_id":77399315,"comment_id":136462130,"body_markdown":"OK I just did that but it didn&#39;t work and it just created errors epic render engine. I have a folder inside the epic render engine acts as a package but its outside the src. So I think my problem is that I&#39;m trying to import a java class which is outside the src. I tried what you just said but it didn&#39;t work even though I specified which folder it was that I needed. If anyone else knows how to fix this just drop a message below","body":"OK I just did that but it didn&#39;t work and it just created errors epic render engine. I have a folder inside the epic render engine acts as a package but its outside the src. So I think my problem is that I&#39;m trying to import a java class which is outside the src. I tried what you just said but it didn&#39;t work even though I specified which folder it was that I needed. If anyone else knows how to fix this just drop a message below"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1698997114,"post_id":77399315,"comment_id":136477746,"body_markdown":"you have to setup a proper build system here. If you want to use external source code as library, you have to build that first into a JAR file, and only then you can use it in your project. Everything else will result in a big mess.","body":"you have to setup a proper build system here. If you want to use external source code as library, you have to build that first into a JAR file, and only then you can use it in your project. Everything else will result in a big mess."},{"owner":{"account_id":26080243,"reputation":1,"user_id":19778529,"display_name":"idpop48"},"score":0,"creation_date":1699024897,"post_id":77399315,"comment_id":136482930,"body_markdown":"Could you maybe link an YouTube video or online tutorial on that? Thanks","body":"Could you maybe link an YouTube video or online tutorial on that? Thanks"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699200235,"creation_date":1699200235,"answer_id":77426656,"question_id":77399315,"body_markdown":"To use &quot;foreign&quot; source code that is shipped as a &quot;bundle&quot;, this is probably a library that you should compile on it&#39;s own, package into one or more JAR-files and then depend on them in your project so they will be included in your classpath.\r\n\r\nYou really should setup a proper build system to build the 3rd party library and also to build your own program. \r\nCommon build tools include Maven (https://maven.apache.org/) which is mature and widely supported in the world of java, and also Gradle (https://gradle.org/) which is more modern and the &quot;primary supported&quot; (by Google) build system for Android Apps.\r\n\r\nLooking at the screenshot of your code, it could be possible that you want to use the EpicRenderEngine from github (https://github.com/SkyWorld117/EpicRenderEngine/tree/main).\r\n\r\nIt has a ready made build file for Gradle (_build.gradle_), so I would recommend that you use Gradle also for your own project, just so you don&#39;t have to learn and install two build systems at once.\r\n\r\n(Maven builds typically have one or more files called _pom.xml_, just in case...)\r\n\r\nThere are plugins for Eclipse to support Gradle (https://projects.eclipse.org/projects/tools.buildship) and also a plugin for Gradle to support eclipse (https://docs.gradle.org/current/userguide/eclipse_plugin.html).\r\n\r\nUsually you set up a build system so the build runs smooth even when started from the command line. This ensures independence from your IDE - IDEs also support the popular build systems very good and so usually you don&#39;t have to use the commandline to build your software - but for sharing code among multiple developers, it&#39;s always easier if every dev can use the personal favoured IDE instead of an IDE that&#39;s dictated by the project.\r\n\r\nTo get more info about Gradle or Maven, go to their homepages, both have a lot docs to get started and to get deeper into the topic if you want to.\r\n\r\n(I&#39;m not used to watch developer docs as videos, so I don&#39;t have any advice there that I could pull out of my sleeve, and to send you just some search results doesn&#39;t seem useful to me...)","title":"How to import a java class from a folder outside src into a package located in src?","body":"<p>To use &quot;foreign&quot; source code that is shipped as a &quot;bundle&quot;, this is probably a library that you should compile on it's own, package into one or more JAR-files and then depend on them in your project so they will be included in your classpath.</p>\n<p>You really should setup a proper build system to build the 3rd party library and also to build your own program.\nCommon build tools include Maven (<a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">https://maven.apache.org/</a>) which is mature and widely supported in the world of java, and also Gradle (<a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">https://gradle.org/</a>) which is more modern and the &quot;primary supported&quot; (by Google) build system for Android Apps.</p>\n<p>Looking at the screenshot of your code, it could be possible that you want to use the EpicRenderEngine from github (<a href=\"https://github.com/SkyWorld117/EpicRenderEngine/tree/main\" rel=\"nofollow noreferrer\">https://github.com/SkyWorld117/EpicRenderEngine/tree/main</a>).</p>\n<p>It has a ready made build file for Gradle (<em>build.gradle</em>), so I would recommend that you use Gradle also for your own project, just so you don't have to learn and install two build systems at once.</p>\n<p>(Maven builds typically have one or more files called <em>pom.xml</em>, just in case...)</p>\n<p>There are plugins for Eclipse to support Gradle (<a href=\"https://projects.eclipse.org/projects/tools.buildship\" rel=\"nofollow noreferrer\">https://projects.eclipse.org/projects/tools.buildship</a>) and also a plugin for Gradle to support eclipse (<a href=\"https://docs.gradle.org/current/userguide/eclipse_plugin.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/eclipse_plugin.html</a>).</p>\n<p>Usually you set up a build system so the build runs smooth even when started from the command line. This ensures independence from your IDE - IDEs also support the popular build systems very good and so usually you don't have to use the commandline to build your software - but for sharing code among multiple developers, it's always easier if every dev can use the personal favoured IDE instead of an IDE that's dictated by the project.</p>\n<p>To get more info about Gradle or Maven, go to their homepages, both have a lot docs to get started and to get deeper into the topic if you want to.</p>\n<p>(I'm not used to watch developer docs as videos, so I don't have any advice there that I could pull out of my sleeve, and to send you just some search results doesn't seem useful to me...)</p>\n"}],"owner":{"account_id":26080243,"reputation":1,"user_id":19778529,"display_name":"idpop48"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699200235,"creation_date":1698789960,"question_id":77399315,"body_markdown":"So, I have this project I am currently trying to fix just for personal reasons.\r\n\r\nIn some of my classes it imports a java file from a folder to a package inside the src folder. The folders are located outside the src folder but I need it to stay like that. So how would I be able to import a java file from inside a folder (Which is located outside the src) into another java file (Located inside the source)?\r\n\r\n[Trying to import a file from the toolbox into the collision detection packcage](https://i.stack.imgur.com/2SXaf.jpg)\r\n\r\nI moved the actual folder into the src file but that is not what I am really intending to do. I need the folder to stay inside where it is currently right now incase I dont mess up anything.\r\n\r\nPlease try and give the simplest answer possible so I can understand and try to answer the question rather than telling me to do other things.\r\n\r\nThanks","title":"How to import a java class from a folder outside src into a package located in src?","body":"<p>So, I have this project I am currently trying to fix just for personal reasons.</p>\n<p>In some of my classes it imports a java file from a folder to a package inside the src folder. The folders are located outside the src folder but I need it to stay like that. So how would I be able to import a java file from inside a folder (Which is located outside the src) into another java file (Located inside the source)?</p>\n<p><a href=\"https://i.stack.imgur.com/2SXaf.jpg\" rel=\"nofollow noreferrer\">Trying to import a file from the toolbox into the collision detection packcage</a></p>\n<p>I moved the actual folder into the src file but that is not what I am really intending to do. I need the folder to stay inside where it is currently right now incase I dont mess up anything.</p>\n<p>Please try and give the simplest answer possible so I can understand and try to answer the question rather than telling me to do other things.</p>\n<p>Thanks</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3624931,"reputation":5148,"user_id":3022836,"accept_rate":50,"display_name":"Kunu"},"score":0,"creation_date":1518156923,"post_id":48699739,"comment_id":84398088,"body_markdown":"You don&#39;t need inbuilt library or method for everything. If you use simple logic then you can achieve what you have mentioned.","body":"You don&#39;t need inbuilt library or method for everything. If you use simple logic then you can achieve what you have mentioned."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518157698,"creation_date":1518156931,"answer_id":48699800,"question_id":48699739,"body_markdown":"You could try stripping the commas, casting to an integer, the dividing to get the number of Lakhs:\r\n\r\n    DecimalFormat df = new DecimalFormat(&quot;#.#####&quot;);\r\n    String input = &quot;5,50,000&quot;;\r\n    double lakhs = Double.parseDouble(input.replaceAll(&quot;,&quot;, &quot;&quot;)) / 100000;\r\n    String out = df.format(lakhs);\r\n    System.out.println(out);\r\n\r\n[&lt;h2&gt;Demo&lt;/h2&gt;][1]\r\n\r\n\r\n  [1]: http://rextester.com/YLZ95549","title":"format numeric currency to textual Indian number format Android","body":"<p>You could try stripping the commas, casting to an integer, the dividing to get the number of Lakhs:</p>\n\n<pre><code>DecimalFormat df = new DecimalFormat(\"#.#####\");\nString input = \"5,50,000\";\ndouble lakhs = Double.parseDouble(input.replaceAll(\",\", \"\")) / 100000;\nString out = df.format(lakhs);\nSystem.out.println(out);\n</code></pre>\n\n<p><a href=\"http://rextester.com/YLZ95549\" rel=\"nofollow noreferrer\"><h2>Demo</h2></a></p>\n"}],"owner":{"account_id":5444964,"reputation":49,"user_id":4331855,"accept_rate":0,"display_name":"suvendu pradhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699197938,"creation_date":1518156610,"question_id":48699739,"body_markdown":"I have some numbers like **100,000** and I want to output as **1 Lakh** in [Indian numbering system][1]. is there any method that supports it?\r\n\r\nDetailed Example:\r\n\r\nInput  5,50,000\r\n\r\nOutput  5.5 Lakh\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Indian_numbering_system","title":"format numeric currency to textual Indian number format Android","body":"<p>I have some numbers like <strong>100,000</strong> and I want to output as <strong>1 Lakh</strong> in <a href=\"https://en.wikipedia.org/wiki/Indian_numbering_system\" rel=\"nofollow noreferrer\">Indian numbering system</a>. is there any method that supports it?</p>\n<p>Detailed Example:</p>\n<p>Input  5,50,000</p>\n<p>Output  5.5 Lakh</p>\n"},{"tags":["java","android-studio","exception","mobile"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699253148,"post_id":77426520,"comment_id":136503413,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":18138030,"reputation":1,"user_id":13192269,"display_name":"fekhreddine bouziane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699197934,"creation_date":1699197934,"question_id":77426520,"body_markdown":"I am getting some exceptions in crashlytics. but not able find the file or cause of an exception. Also, I am getting different line number every time.\r\n\r\nI don&#39;t have much information I am seeking for the details.\r\n\r\nsamsung a20 (Galaxy A20)\r\nAndroid 9 (SDK 28)\r\n\r\n\r\nType \r\n```\r\njava.lang.IllegalArgumentException\r\n\r\nException java.lang.IllegalArgumentException:\r\n  at android.view.View.onRestoreInstanceState (View.java:20290)\r\n  at android.widget.TextView.onRestoreInstanceState (TextView.java:6000)\r\n  at android.view.View.dispatchRestoreInstanceState (View.java:20262)\r\n  at android.view.ViewGroup.dispatchRestoreInstanceState (ViewGroup.java:4045)\r\n  at android.view.ViewGroup.dispatchRestoreInstanceState (ViewGroup.java:4045)\r\n  at android.view.ViewGroup.dispatchRestoreInstanceState (ViewGroup.java:4045)\r\n  at android.view.ViewGroup.dispatchRestoreInstanceState (ViewGroup.java:4045)\r\n  at android.view.ViewGroup.dispatchRestoreInstanceState (ViewGroup.java:4045)\r\n  at android.view.ViewGroup.dispatchRestoreInstanceState (ViewGroup.java:4045)\r\n  at android.view.View.restoreHierarchyState (View.java:20240)\r\n  at com.android.internal.policy.PhoneWindow.restoreHierarchyState (PhoneWindow.java:2184)\r\n  at android.app.Activity.onRestoreInstanceState (Activity.java:1195)\r\n  at android.app.Activity.performRestoreInstanceState (Activity.java:1150)\r\n  at android.app.Instrumentation.callActivityOnRestoreInstanceState (Instrumentation.java:1321)\r\n  at android.app.ActivityThread.handleStartActivity (ActivityThread.java:3161)\r\n  at android.app.servertransaction.TransactionExecutor.performLifecycleSequence (TransactionExecutor.java:180)\r\n  at android.app.servertransaction.TransactionExecutor.cycleToPath (TransactionExecutor.java:165)\r\n  at android.app.servertransaction.TransactionExecutor.executeLifecycleState (TransactionExecutor.java:142)\r\n  at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:70)\r\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:1955)\r\n  at android.os.Handler.dispatchMessage (Handler.java:106)\r\n  at android.os.Looper.loop (Looper.java:214)\r\n  at android.app.ActivityThread.main (ActivityThread.java:7091)\r\n  at java.lang.reflect.Method.invoke\r\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:493)\r\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:965)\r\n```\r\n\r\n\r\n\r\nPlease let me know if you face such an exception or you may know any cause for this.\r\n\r\nThank you!\r\n\r\ni dont have two viwes with the smae id in my project","title":"Crash details android.view.View.onRestoreInstanceState","body":"<p>I am getting some exceptions in crashlytics. but not able find the file or cause of an exception. Also, I am getting different line number every time.</p>\n<p>I don't have much information I am seeking for the details.</p>\n<p>samsung a20 (Galaxy A20)\nAndroid 9 (SDK 28)</p>\n<p>Type</p>\n<pre><code>java.lang.IllegalArgumentException\n\nException java.lang.IllegalArgumentException:\n  at android.view.View.onRestoreInstanceState (View.java:20290)\n  at android.widget.TextView.onRestoreInstanceState (TextView.java:6000)\n  at android.view.View.dispatchRestoreInstanceState (View.java:20262)\n  at android.view.ViewGroup.dispatchRestoreInstanceState (ViewGroup.java:4045)\n  at android.view.ViewGroup.dispatchRestoreInstanceState (ViewGroup.java:4045)\n  at android.view.ViewGroup.dispatchRestoreInstanceState (ViewGroup.java:4045)\n  at android.view.ViewGroup.dispatchRestoreInstanceState (ViewGroup.java:4045)\n  at android.view.ViewGroup.dispatchRestoreInstanceState (ViewGroup.java:4045)\n  at android.view.ViewGroup.dispatchRestoreInstanceState (ViewGroup.java:4045)\n  at android.view.View.restoreHierarchyState (View.java:20240)\n  at com.android.internal.policy.PhoneWindow.restoreHierarchyState (PhoneWindow.java:2184)\n  at android.app.Activity.onRestoreInstanceState (Activity.java:1195)\n  at android.app.Activity.performRestoreInstanceState (Activity.java:1150)\n  at android.app.Instrumentation.callActivityOnRestoreInstanceState (Instrumentation.java:1321)\n  at android.app.ActivityThread.handleStartActivity (ActivityThread.java:3161)\n  at android.app.servertransaction.TransactionExecutor.performLifecycleSequence (TransactionExecutor.java:180)\n  at android.app.servertransaction.TransactionExecutor.cycleToPath (TransactionExecutor.java:165)\n  at android.app.servertransaction.TransactionExecutor.executeLifecycleState (TransactionExecutor.java:142)\n  at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:70)\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:1955)\n  at android.os.Handler.dispatchMessage (Handler.java:106)\n  at android.os.Looper.loop (Looper.java:214)\n  at android.app.ActivityThread.main (ActivityThread.java:7091)\n  at java.lang.reflect.Method.invoke\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:493)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:965)\n</code></pre>\n<p>Please let me know if you face such an exception or you may know any cause for this.</p>\n<p>Thank you!</p>\n<p>i dont have two viwes with the smae id in my project</p>\n"},{"tags":["java","unit-testing","static","mocking","mockito"],"comments":[{"owner":{"account_id":1110848,"reputation":3563,"user_id":1101332,"accept_rate":67,"display_name":"sasankad"},"score":1,"creation_date":1389669199,"post_id":21105403,"comment_id":31752516,"body_markdown":"would this help? http://stackoverflow.com/questions/19464975/how-to-mock-drivermanager-getconnection","body":"would this help? <a href=\"http://stackoverflow.com/questions/19464975/how-to-mock-drivermanager-getconnection\" title=\"how to mock drivermanager getconnection\">stackoverflow.com/questions/19464975/&hellip;</a>"},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1389670040,"post_id":21105403,"comment_id":31752723,"body_markdown":"You can&#39;t with mockito. You&#39;d need to use powermock on top of it.","body":"You can&#39;t with mockito. You&#39;d need to use powermock on top of it."},{"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"score":7,"creation_date":1389709533,"post_id":21105403,"comment_id":31770596,"body_markdown":"You can&#39;t with mockito **by desing** :)","body":"You can&#39;t with mockito <b>by desing</b> :)"},{"owner":{"account_id":274414,"reputation":3004,"user_id":566639,"accept_rate":57,"display_name":"Joe"},"score":0,"creation_date":1420019286,"post_id":21105403,"comment_id":43850055,"body_markdown":"I know it&#39;s not what you asked about, but this is done easily with [JMockit](http://jmockit.github.io/).","body":"I know it&#39;s not what you asked about, but this is done easily with <a href=\"http://jmockit.github.io/\" rel=\"nofollow noreferrer\">JMockit</a>."},{"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"score":40,"creation_date":1446485289,"post_id":21105403,"comment_id":54751695,"body_markdown":"@MariuszS It isn&#39;t by design that Mockito (or EasyMock, or jMock) does not support mocking `static` methods, but *by accident*. This limitation (along with no support for mocking `final` classes/methods, or `new`-ed objects) is a natural (but unintended) consequence of the approach employed to implement mocking, where new classes are dynamically created that implement/extend the type to be mocked; other mocking libraries use other approaches which avoid these limitations. This happened in the .NET world as well.","body":"@MariuszS It isn&#39;t by design that Mockito (or EasyMock, or jMock) does not support mocking <code>static</code> methods, but <i>by accident</i>. This limitation (along with no support for mocking <code>final</code> classes/methods, or <code>new</code>-ed objects) is a natural (but unintended) consequence of the approach employed to implement mocking, where new classes are dynamically created that implement/extend the type to be mocked; other mocking libraries use other approaches which avoid these limitations. This happened in the .NET world as well."},{"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"score":6,"creation_date":1446496951,"post_id":21105403,"comment_id":54757776,"body_markdown":"@Rog&#233;rio Thanks for explanation. https://github.com/mockito/mockito/wiki/FAQ **Can I mock static methods?** *No. Mockito prefers object orientation and dependency injection over static, procedural code that is hard to understand &amp; change.* There is some *design* behind this limitation too :)","body":"@Rog&#233;rio Thanks for explanation. <a href=\"https://github.com/mockito/mockito/wiki/FAQ\" rel=\"nofollow noreferrer\">github.com/mockito/mockito/wiki/FAQ</a> <b>Can I mock static methods?</b> <i>No. Mockito prefers object orientation and dependency injection over static, procedural code that is hard to understand &amp; change.</i> There is some <i>design</i> behind this limitation too :)"},{"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"score":21,"creation_date":1446561903,"post_id":21105403,"comment_id":54787305,"body_markdown":"@MariuszS I read that as an attempt to dismiss legitimate use cases instead of admiting the tool has limitations that cannot be (easily) removed, and without providing any reasoned justification. BTW, [here is such a discussion](http://jmockit.org/about.html#productionCode) for the opposite viewpoint, with references.","body":"@MariuszS I read that as an attempt to dismiss legitimate use cases instead of admiting the tool has limitations that cannot be (easily) removed, and without providing any reasoned justification. BTW, <a href=\"http://jmockit.org/about.html#productionCode\" rel=\"nofollow noreferrer\">here is such a discussion</a> for the opposite viewpoint, with references."},{"owner":{"account_id":1682106,"reputation":3953,"user_id":1546137,"accept_rate":67,"display_name":"ihebiheb"},"score":0,"creation_date":1557247820,"post_id":21105403,"comment_id":98698004,"body_markdown":"@Rog&#233;rio the link is removed. can you please correct it","body":"@Rog&#233;rio the link is removed. can you please correct it"},{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1564753349,"post_id":21105403,"comment_id":101145369,"body_markdown":"Feature-tracking issue is https://github.com/mockito/mockito/issues/1013","body":"Feature-tracking issue is <a href=\"https://github.com/mockito/mockito/issues/1013\" rel=\"nofollow noreferrer\">github.com/mockito/mockito/issues/1013</a>"},{"owner":{"account_id":1287025,"reputation":749,"user_id":1239904,"accept_rate":64,"display_name":"Mahatma_Fatal_Error"},"score":17,"creation_date":1594466654,"post_id":21105403,"comment_id":111139680,"body_markdown":"Mockito now supports mocking static methods since v3.4.0 https://github.com/mockito/mockito/pull/1955","body":"Mockito now supports mocking static methods since v3.4.0 <a href=\"https://github.com/mockito/mockito/pull/1955\" rel=\"nofollow noreferrer\">github.com/mockito/mockito/pull/1955</a>"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":6,"creation_date":1594860868,"post_id":21105403,"comment_id":111278018,"body_markdown":"See also [Mockito \\[3.4.0\\] can mock static methods!](https://asolntsev.github.io/en/2020/07/11/mockito-static-methods/).","body":"See also <a href=\"https://asolntsev.github.io/en/2020/07/11/mockito-static-methods/\" rel=\"nofollow noreferrer\">Mockito &#91;3.4.0&#93; can mock static methods!</a>."},{"owner":{"account_id":3505571,"reputation":989,"user_id":2931171,"display_name":"Magnus Reftel"},"score":2,"creation_date":1699014949,"post_id":21105403,"comment_id":136480683,"body_markdown":"@ihebiheb last archived version of the page with that heading was: https://web.archive.org/web/20160505223248/http://jmockit.org/about.html#productionCode","body":"@ihebiheb last archived version of the page with that heading was: <a href=\"https://web.archive.org/web/20160505223248/http://jmockit.org/about.html#productionCode\" rel=\"nofollow noreferrer\">web.archive.org/web/20160505223248/http://jmockit.org/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3832499,"reputation":672,"user_id":3177710,"display_name":"marek.kapowicki"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1495190768,"creation_date":1389696541,"answer_id":21111644,"question_id":21105403,"body_markdown":"To mock static method you should use a Powermock look at:\r\nhttps://github.com/powermock/powermock/wiki/MockStatic.\r\nMockito [doesn&#39;t provide][1] this functionality.\r\n\r\n\r\nYou can read nice a article about mockito:\r\nhttp://refcardz.dzone.com/refcardz/mockito\r\n\r\n\r\n  [1]: https://code.google.com/p/mockito/wiki/FAQ#What_are_the_limitations_of_Mockito","title":"Mocking static methods with Mockito","body":"<p>To mock static method you should use a Powermock look at:\n<a href=\"https://github.com/powermock/powermock/wiki/MockStatic\" rel=\"nofollow noreferrer\">https://github.com/powermock/powermock/wiki/MockStatic</a>.\nMockito <a href=\"https://code.google.com/p/mockito/wiki/FAQ#What_are_the_limitations_of_Mockito\" rel=\"nofollow noreferrer\">doesn't provide</a> this functionality.</p>\n\n<p>You can read nice a article about mockito:\n<a href=\"http://refcardz.dzone.com/refcardz/mockito\" rel=\"nofollow noreferrer\">http://refcardz.dzone.com/refcardz/mockito</a></p>\n"},{"tags":[],"owner":{"account_id":3821302,"reputation":1148,"user_id":3169348,"accept_rate":64,"display_name":"ChrisM"},"down_vote_count":2,"up_vote_count":27,"is_accepted":false,"score":25,"last_activity_date":1389706143,"creation_date":1389706143,"answer_id":21114773,"question_id":21105403,"body_markdown":"As mentioned before you can not mock static methods with mockito. \r\n\r\nIf changing your testing framework is not an option you can do the following:\r\n\r\nCreate an interface for DriverManager, mock this interface, inject it via some kind of dependency injection and verify on that mock. ","title":"Mocking static methods with Mockito","body":"<p>As mentioned before you can not mock static methods with mockito. </p>\n\n<p>If changing your testing framework is not an option you can do the following:</p>\n\n<p>Create an interface for DriverManager, mock this interface, inject it via some kind of dependency injection and verify on that mock. </p>\n"},{"tags":[],"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"down_vote_count":6,"up_vote_count":420,"is_accepted":true,"score":414,"last_activity_date":1552901578,"creation_date":1389709624,"answer_id":21116014,"question_id":21105403,"body_markdown":"Use [PowerMockito](https://github.com/powermock/powermock/wiki/Mockito) on top of Mockito.\r\n\r\nExample code:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(DriverManager.class)\r\n    public class Mocker {\r\n    \r\n        @Test\r\n        public void shouldVerifyParameters() throws Exception {\r\n    \r\n            //given\r\n            PowerMockito.mockStatic(DriverManager.class);\r\n            BDDMockito.given(DriverManager.getConnection(...)).willReturn(...);\r\n    \r\n            //when\r\n            sut.execute(); // System Under Test (sut)\r\n    \r\n            //then\r\n            PowerMockito.verifyStatic();\r\n            DriverManager.getConnection(...);\r\n    \r\n        }\r\n\r\nMore information:\r\n\r\n* https://stackoverflow.com/questions/4482315/why-does-mockito-not-mock-static-methods\r\n","title":"Mocking static methods with Mockito","body":"<p>Use <a href=\"https://github.com/powermock/powermock/wiki/Mockito\" rel=\"noreferrer\">PowerMockito</a> on top of Mockito.</p>\n\n<p>Example code:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(DriverManager.class)\npublic class Mocker {\n\n    @Test\n    public void shouldVerifyParameters() throws Exception {\n\n        //given\n        PowerMockito.mockStatic(DriverManager.class);\n        BDDMockito.given(DriverManager.getConnection(...)).willReturn(...);\n\n        //when\n        sut.execute(); // System Under Test (sut)\n\n        //then\n        PowerMockito.verifyStatic();\n        DriverManager.getConnection(...);\n\n    }\n</code></pre>\n\n<p>More information:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4482315/why-does-mockito-not-mock-static-methods\">Why doesn&#39;t Mockito mock static methods?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":57405,"reputation":3587,"user_id":171956,"accept_rate":19,"display_name":"99Sono"},"down_vote_count":2,"up_vote_count":90,"is_accepted":false,"score":88,"last_activity_date":1500991666,"creation_date":1429862264,"answer_id":29841824,"question_id":21105403,"body_markdown":"The typical strategy for dodging static methods that you have no way of avoiding using, is by creating wrapped objects and using the wrapper objects instead.\r\n\r\nThe wrapper objects become facades to the real static classes, and you do not test those.\r\n\r\nA wrapper object could be something like\r\n\r\n    public class Slf4jMdcWrapper {\r\n        public static final Slf4jMdcWrapper SINGLETON = new Slf4jMdcWrapper();\r\n    \r\n        public String myApisToTheSaticMethodsInSlf4jMdcStaticUtilityClass() {\r\n            return MDC.getWhateverIWant();\r\n        }\r\n    }\r\n\r\nFinally, your class under test can use this singleton object by, for example, \r\nhaving a default constructor for real life use:\r\n\r\n    public class SomeClassUnderTest {\r\n        final Slf4jMdcWrapper myMockableObject;\r\n    \r\n        /** constructor used by CDI or whatever real life use case */\r\n        public myClassUnderTestContructor() {\r\n            this.myMockableObject = Slf4jMdcWrapper.SINGLETON;\r\n        }\r\n    \r\n        /** constructor used in tests*/\r\n        myClassUnderTestContructor(Slf4jMdcWrapper myMock) {\r\n            this.myMockableObject = myMock;\r\n        }\r\n    }\r\n\r\nAnd here you have a class that can easily be tested, because you do not  directly use a class with static methods.\r\n\r\nIf you are using CDI and can make use of the @Inject annotation then it is even easier.\r\nJust make your Wrapper bean @ApplicationScoped, get that thing injected as a collaborator (you do not even need messy constructors for testing), and go on with the mocking.","title":"Mocking static methods with Mockito","body":"<p>The typical strategy for dodging static methods that you have no way of avoiding using, is by creating wrapped objects and using the wrapper objects instead.</p>\n\n<p>The wrapper objects become facades to the real static classes, and you do not test those.</p>\n\n<p>A wrapper object could be something like</p>\n\n<pre><code>public class Slf4jMdcWrapper {\n    public static final Slf4jMdcWrapper SINGLETON = new Slf4jMdcWrapper();\n\n    public String myApisToTheSaticMethodsInSlf4jMdcStaticUtilityClass() {\n        return MDC.getWhateverIWant();\n    }\n}\n</code></pre>\n\n<p>Finally, your class under test can use this singleton object by, for example, \nhaving a default constructor for real life use:</p>\n\n<pre><code>public class SomeClassUnderTest {\n    final Slf4jMdcWrapper myMockableObject;\n\n    /** constructor used by CDI or whatever real life use case */\n    public myClassUnderTestContructor() {\n        this.myMockableObject = Slf4jMdcWrapper.SINGLETON;\n    }\n\n    /** constructor used in tests*/\n    myClassUnderTestContructor(Slf4jMdcWrapper myMock) {\n        this.myMockableObject = myMock;\n    }\n}\n</code></pre>\n\n<p>And here you have a class that can easily be tested, because you do not  directly use a class with static methods.</p>\n\n<p>If you are using CDI and can make use of the @Inject annotation then it is even easier.\nJust make your Wrapper bean @ApplicationScoped, get that thing injected as a collaborator (you do not even need messy constructors for testing), and go on with the mocking.</p>\n"},{"tags":[],"owner":{"account_id":1383363,"reputation":3329,"user_id":1315900,"accept_rate":80,"display_name":"Fermin Silva"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1439415333,"creation_date":1439415333,"answer_id":31975820,"question_id":21105403,"body_markdown":"You can do it with a little bit of refactoring:\r\n\r\n    public class MySQLDatabaseConnectionFactory implements DatabaseConnectionFactory {\r\n    \r\n        @Override public Connection getConnection() {\r\n            try {\r\n                return _getConnection(...some params...);\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        //method to forward parameters, enabling mocking, extension, etc\r\n        Connection _getConnection(...some params...) throws SQLException {\r\n            return DriverManager.getConnection(...some params...);\r\n        }\r\n    }\r\n\r\nThen you can extend your class `MySQLDatabaseConnectionFactory` to return a mocked connection, do assertions on the parameters, etc.\r\n\r\nThe extended class can reside within the test case, if it&#39;s located in the same package (which I encourage you to do)\r\n\r\n    public class MockedConnectionFactory extends MySQLDatabaseConnectionFactory {\r\n        \r\n        Connection _getConnection(...some params...) throws SQLException {\r\n            if (some param != something) throw new InvalidParameterException();\r\n \r\n            //consider mocking some methods with when(yourMock.something()).thenReturn(value)\r\n            return Mockito.mock(Connection.class);\r\n        }\r\n    }","title":"Mocking static methods with Mockito","body":"<p>You can do it with a little bit of refactoring:</p>\n\n<pre><code>public class MySQLDatabaseConnectionFactory implements DatabaseConnectionFactory {\n\n    @Override public Connection getConnection() {\n        try {\n            return _getConnection(...some params...);\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    //method to forward parameters, enabling mocking, extension, etc\n    Connection _getConnection(...some params...) throws SQLException {\n        return DriverManager.getConnection(...some params...);\n    }\n}\n</code></pre>\n\n<p>Then you can extend your class <code>MySQLDatabaseConnectionFactory</code> to return a mocked connection, do assertions on the parameters, etc.</p>\n\n<p>The extended class can reside within the test case, if it's located in the same package (which I encourage you to do)</p>\n\n<pre><code>public class MockedConnectionFactory extends MySQLDatabaseConnectionFactory {\n\n    Connection _getConnection(...some params...) throws SQLException {\n        if (some param != something) throw new InvalidParameterException();\n\n        //consider mocking some methods with when(yourMock.something()).thenReturn(value)\n        return Mockito.mock(Connection.class);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5158277,"reputation":4738,"user_id":4130867,"accept_rate":100,"display_name":"6324"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1530797472,"creation_date":1484347921,"answer_id":41644686,"question_id":21105403,"body_markdown":"I had a similar issue. The accepted answer did not work for me, until I made the change:  `@PrepareForTest(TheClassThatContainsStaticMethod.class)`, according to [PowerMock&#39;s documentation for mockStatic][1].\r\n\r\nAnd I don&#39;t have to use `BDDMockito`. \r\n\r\nMy class:\r\n\r\n    public class SmokeRouteBuilder {\r\n        public static String smokeMessageId() {\r\n            try {\r\n                return InetAddress.getLocalHost().getHostAddress();\r\n            } catch (UnknownHostException e) {\r\n                log.error(&quot;Exception occurred while fetching localhost address&quot;, e);\r\n                return UUID.randomUUID().toString();\r\n            }\r\n        }\r\n    }\r\n\r\nMy test class:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(SmokeRouteBuilder.class)\r\n    public class SmokeRouteBuilderTest {\r\n        @Test\r\n        public void testSmokeMessageId_exception() throws UnknownHostException {\r\n            UUID id = UUID.randomUUID();\r\n    \r\n            mockStatic(InetAddress.class);\r\n            mockStatic(UUID.class);\r\n            when(InetAddress.getLocalHost()).thenThrow(UnknownHostException.class);\r\n            when(UUID.randomUUID()).thenReturn(id);\r\n    \r\n            assertEquals(id.toString(), SmokeRouteBuilder.smokeMessageId());\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/powermock/powermock/wiki/MockStatic","title":"Mocking static methods with Mockito","body":"<p>I had a similar issue. The accepted answer did not work for me, until I made the change:  <code>@PrepareForTest(TheClassThatContainsStaticMethod.class)</code>, according to <a href=\"https://github.com/powermock/powermock/wiki/MockStatic\" rel=\"noreferrer\">PowerMock's documentation for mockStatic</a>.</p>\n\n<p>And I don't have to use <code>BDDMockito</code>. </p>\n\n<p>My class:</p>\n\n<pre><code>public class SmokeRouteBuilder {\n    public static String smokeMessageId() {\n        try {\n            return InetAddress.getLocalHost().getHostAddress();\n        } catch (UnknownHostException e) {\n            log.error(\"Exception occurred while fetching localhost address\", e);\n            return UUID.randomUUID().toString();\n        }\n    }\n}\n</code></pre>\n\n<p>My test class:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(SmokeRouteBuilder.class)\npublic class SmokeRouteBuilderTest {\n    @Test\n    public void testSmokeMessageId_exception() throws UnknownHostException {\n        UUID id = UUID.randomUUID();\n\n        mockStatic(InetAddress.class);\n        mockStatic(UUID.class);\n        when(InetAddress.getLocalHost()).thenThrow(UnknownHostException.class);\n        when(UUID.randomUUID()).thenReturn(id);\n\n        assertEquals(id.toString(), SmokeRouteBuilder.smokeMessageId());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5506605,"reputation":430,"user_id":4374300,"display_name":"some random guy"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1509389758,"creation_date":1509389758,"answer_id":47022387,"question_id":21105403,"body_markdown":"Observation : When you call static method within a static entity, you need to change the class in @PrepareForTest.\r\n\r\nFor e.g. :\r\n\r\n    securityAlgo = MessageDigest.getInstance(SECURITY_ALGORITHM);\r\n\r\nFor the above code if you need to mock MessageDigest class, use \r\n\r\n    @PrepareForTest(MessageDigest.class)\r\n\r\nWhile if you have something like below : \r\n\r\n    public class CustomObjectRule {\r\n\r\n        object = DatatypeConverter.printHexBinary(MessageDigest.getInstance(SECURITY_ALGORITHM)\r\n                 .digest(message.getBytes(ENCODING)));\r\n\r\n    }\r\n\r\n\r\nthen, you&#39;d need to prepare the class this code resides in. \r\n\r\n    @PrepareForTest(CustomObjectRule.class)\r\n\r\nAnd then mock the method : \r\n\r\n    PowerMockito.mockStatic(MessageDigest.class);\r\n    PowerMockito.when(MessageDigest.getInstance(Mockito.anyString()))\r\n          .thenThrow(new RuntimeException());","title":"Mocking static methods with Mockito","body":"<p>Observation : When you call static method within a static entity, you need to change the class in @PrepareForTest.</p>\n\n<p>For e.g. :</p>\n\n<pre><code>securityAlgo = MessageDigest.getInstance(SECURITY_ALGORITHM);\n</code></pre>\n\n<p>For the above code if you need to mock MessageDigest class, use </p>\n\n<pre><code>@PrepareForTest(MessageDigest.class)\n</code></pre>\n\n<p>While if you have something like below : </p>\n\n<pre><code>public class CustomObjectRule {\n\n    object = DatatypeConverter.printHexBinary(MessageDigest.getInstance(SECURITY_ALGORITHM)\n             .digest(message.getBytes(ENCODING)));\n\n}\n</code></pre>\n\n<p>then, you'd need to prepare the class this code resides in. </p>\n\n<pre><code>@PrepareForTest(CustomObjectRule.class)\n</code></pre>\n\n<p>And then mock the method : </p>\n\n<pre><code>PowerMockito.mockStatic(MessageDigest.class);\nPowerMockito.when(MessageDigest.getInstance(Mockito.anyString()))\n      .thenThrow(new RuntimeException());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":214894,"reputation":9047,"user_id":469153,"accept_rate":71,"display_name":"iirekm"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1542463768,"creation_date":1509558379,"answer_id":47060787,"question_id":21105403,"body_markdown":"I also wrote a combination of Mockito and AspectJ: https://github.com/iirekm/varia/tree/develop/ajmock\r\n\r\nYour example becomes:\r\n\r\n    when(() -&gt; DriverManager.getConnection(...)).thenReturn(...);","title":"Mocking static methods with Mockito","body":"<p>I also wrote a combination of Mockito and AspectJ: <a href=\"https://github.com/iirekm/varia/tree/develop/ajmock\" rel=\"nofollow noreferrer\">https://github.com/iirekm/varia/tree/develop/ajmock</a></p>\n\n<p>Your example becomes:</p>\n\n<pre><code>when(() -&gt; DriverManager.getConnection(...)).thenReturn(...);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8290076,"reputation":12924,"user_id":6305235,"accept_rate":0,"display_name":"David Miguel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1534713115,"creation_date":1534712164,"answer_id":51921796,"question_id":21105403,"body_markdown":"Mockito cannot capture static methods, but since [Mockito 2.14.0](https://github.com/mockito/mockito/blob/release/2.x/doc/release-notes/official.md) you can simulate it by creating invocation instances of static methods.\r\n\r\nExample (extracted from [their tests][1]):\r\n\r\n    public class StaticMockingExperimentTest extends TestBase {\r\n    \r\n        Foo mock = Mockito.mock(Foo.class);\r\n        MockHandler handler = Mockito.mockingDetails(mock).getMockHandler();\r\n        Method staticMethod;\r\n        InvocationFactory.RealMethodBehavior realMethod = new InvocationFactory.RealMethodBehavior() {\r\n            @Override\r\n            public Object call() throws Throwable {\r\n                return null;\r\n            }\r\n        };\r\n    \r\n        @Before\r\n        public void before() throws Throwable {\r\n            staticMethod = Foo.class.getDeclaredMethod(&quot;staticMethod&quot;, String.class);\r\n        }\r\n    \r\n        @Test\r\n        public void verify_static_method() throws Throwable {\r\n            //register staticMethod call on mock\r\n            Invocation invocation = Mockito.framework().getInvocationFactory().createInvocation(mock, withSettings().build(Foo.class), staticMethod, realMethod,\r\n                    &quot;some arg&quot;);\r\n            handler.handle(invocation);\r\n    \r\n            //verify staticMethod on mock\r\n            //Mockito cannot capture static methods so we will simulate this scenario in 3 steps:\r\n            //1. Call standard &#39;verify&#39; method. Internally, it will add verificationMode to the thread local state.\r\n            //  Effectively, we indicate to Mockito that right now we are about to verify a method call on this mock.\r\n            verify(mock);\r\n            //2. Create the invocation instance using the new public API\r\n            //  Mockito cannot capture static methods but we can create an invocation instance of that static invocation\r\n            Invocation verification = Mockito.framework().getInvocationFactory().createInvocation(mock, withSettings().build(Foo.class), staticMethod, realMethod,\r\n                    &quot;some arg&quot;);\r\n            //3. Make Mockito handle the static method invocation\r\n            //  Mockito will find verification mode in thread local state and will try verify the invocation\r\n            handler.handle(verification);\r\n    \r\n            //verify zero times, method with different argument\r\n            verify(mock, times(0));\r\n            Invocation differentArg = Mockito.framework().getInvocationFactory().createInvocation(mock, withSettings().build(Foo.class), staticMethod, realMethod,\r\n                    &quot;different arg&quot;);\r\n            handler.handle(differentArg);\r\n        }\r\n    \r\n        @Test\r\n        public void stubbing_static_method() throws Throwable {\r\n            //register staticMethod call on mock\r\n            Invocation invocation = Mockito.framework().getInvocationFactory().createInvocation(mock, withSettings().build(Foo.class), staticMethod, realMethod,\r\n                    &quot;foo&quot;);\r\n            handler.handle(invocation);\r\n    \r\n            //register stubbing\r\n            when(null).thenReturn(&quot;hey&quot;);\r\n    \r\n            //validate stubbed return value\r\n            assertEquals(&quot;hey&quot;, handler.handle(invocation));\r\n            assertEquals(&quot;hey&quot;, handler.handle(invocation));\r\n    \r\n            //default null value is returned if invoked with different argument\r\n            Invocation differentArg = Mockito.framework().getInvocationFactory().createInvocation(mock, withSettings().build(Foo.class), staticMethod, realMethod,\r\n                    &quot;different arg&quot;);\r\n            assertEquals(null, handler.handle(differentArg));\r\n        }\r\n    \r\n        static class Foo {\r\n    \r\n            private final String arg;\r\n    \r\n            public Foo(String arg) {\r\n                this.arg = arg;\r\n            }\r\n    \r\n            public static String staticMethod(String arg) {\r\n                return &quot;&quot;;\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return &quot;foo:&quot; + arg;\r\n            }\r\n        }\r\n    }\r\n\r\nTheir goal is not to directly support static mocking, but to improve its public APIs so that other libraries, like [Powermockito][2], don&#39;t have to rely on internal APIs or directly have to duplicate some Mockito code. ([source][3])\r\n\r\n&gt; Disclaimer: Mockito team thinks that the road to hell is paved with static methods. However, Mockito&#39;s job is not to protect your code from static methods. If you don’t like your team doing static mocking, stop using Powermockito in your organization. Mockito needs to evolve as a toolkit with an opinionated vision on how Java tests should be written (e.g. don&#39;t mock statics!!!). However, Mockito is not dogmatic. We don&#39;t want to block unrecommended use cases like static mocking. It&#39;s just not our job.\r\n\r\n\r\n  [1]: https://github.com/moltmann/mockito/blob/641ef30b41c5bcd36f36db54fc8b3a7b6c732a4c/src/test/java/org/mockito/StaticMockingExperimentTest.java\r\n  [2]: https://github.com/powermock/powermock/wiki/Mockito\r\n  [3]: https://www.linkedin.com/pulse/mockito-vs-powermock-opinionated-dogmatic-static-mocking-faber/","title":"Mocking static methods with Mockito","body":"<p>Mockito cannot capture static methods, but since <a href=\"https://github.com/mockito/mockito/blob/release/2.x/doc/release-notes/official.md\" rel=\"noreferrer\">Mockito 2.14.0</a> you can simulate it by creating invocation instances of static methods.</p>\n\n<p>Example (extracted from <a href=\"https://github.com/moltmann/mockito/blob/641ef30b41c5bcd36f36db54fc8b3a7b6c732a4c/src/test/java/org/mockito/StaticMockingExperimentTest.java\" rel=\"noreferrer\">their tests</a>):</p>\n\n<pre><code>public class StaticMockingExperimentTest extends TestBase {\n\n    Foo mock = Mockito.mock(Foo.class);\n    MockHandler handler = Mockito.mockingDetails(mock).getMockHandler();\n    Method staticMethod;\n    InvocationFactory.RealMethodBehavior realMethod = new InvocationFactory.RealMethodBehavior() {\n        @Override\n        public Object call() throws Throwable {\n            return null;\n        }\n    };\n\n    @Before\n    public void before() throws Throwable {\n        staticMethod = Foo.class.getDeclaredMethod(\"staticMethod\", String.class);\n    }\n\n    @Test\n    public void verify_static_method() throws Throwable {\n        //register staticMethod call on mock\n        Invocation invocation = Mockito.framework().getInvocationFactory().createInvocation(mock, withSettings().build(Foo.class), staticMethod, realMethod,\n                \"some arg\");\n        handler.handle(invocation);\n\n        //verify staticMethod on mock\n        //Mockito cannot capture static methods so we will simulate this scenario in 3 steps:\n        //1. Call standard 'verify' method. Internally, it will add verificationMode to the thread local state.\n        //  Effectively, we indicate to Mockito that right now we are about to verify a method call on this mock.\n        verify(mock);\n        //2. Create the invocation instance using the new public API\n        //  Mockito cannot capture static methods but we can create an invocation instance of that static invocation\n        Invocation verification = Mockito.framework().getInvocationFactory().createInvocation(mock, withSettings().build(Foo.class), staticMethod, realMethod,\n                \"some arg\");\n        //3. Make Mockito handle the static method invocation\n        //  Mockito will find verification mode in thread local state and will try verify the invocation\n        handler.handle(verification);\n\n        //verify zero times, method with different argument\n        verify(mock, times(0));\n        Invocation differentArg = Mockito.framework().getInvocationFactory().createInvocation(mock, withSettings().build(Foo.class), staticMethod, realMethod,\n                \"different arg\");\n        handler.handle(differentArg);\n    }\n\n    @Test\n    public void stubbing_static_method() throws Throwable {\n        //register staticMethod call on mock\n        Invocation invocation = Mockito.framework().getInvocationFactory().createInvocation(mock, withSettings().build(Foo.class), staticMethod, realMethod,\n                \"foo\");\n        handler.handle(invocation);\n\n        //register stubbing\n        when(null).thenReturn(\"hey\");\n\n        //validate stubbed return value\n        assertEquals(\"hey\", handler.handle(invocation));\n        assertEquals(\"hey\", handler.handle(invocation));\n\n        //default null value is returned if invoked with different argument\n        Invocation differentArg = Mockito.framework().getInvocationFactory().createInvocation(mock, withSettings().build(Foo.class), staticMethod, realMethod,\n                \"different arg\");\n        assertEquals(null, handler.handle(differentArg));\n    }\n\n    static class Foo {\n\n        private final String arg;\n\n        public Foo(String arg) {\n            this.arg = arg;\n        }\n\n        public static String staticMethod(String arg) {\n            return \"\";\n        }\n\n        @Override\n        public String toString() {\n            return \"foo:\" + arg;\n        }\n    }\n}\n</code></pre>\n\n<p>Their goal is not to directly support static mocking, but to improve its public APIs so that other libraries, like <a href=\"https://github.com/powermock/powermock/wiki/Mockito\" rel=\"noreferrer\">Powermockito</a>, don't have to rely on internal APIs or directly have to duplicate some Mockito code. (<a href=\"https://www.linkedin.com/pulse/mockito-vs-powermock-opinionated-dogmatic-static-mocking-faber/\" rel=\"noreferrer\">source</a>)</p>\n\n<blockquote>\n  <p>Disclaimer: Mockito team thinks that the road to hell is paved with static methods. However, Mockito's job is not to protect your code from static methods. If you don’t like your team doing static mocking, stop using Powermockito in your organization. Mockito needs to evolve as a toolkit with an opinionated vision on how Java tests should be written (e.g. don't mock statics!!!). However, Mockito is not dogmatic. We don't want to block unrecommended use cases like static mocking. It's just not our job.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11923581,"reputation":1,"user_id":8725481,"display_name":"Zlatan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542029649,"creation_date":1542028770,"answer_id":53263055,"question_id":21105403,"body_markdown":"**Use JMockit framework**. It worked for me. You don&#39;t have to write statements for mocking DBConenction.getConnection() method. Just the below code is enough.\r\n\r\n@Mock below is mockit.Mock package\r\n\r\n    Connection jdbcConnection = Mockito.mock(Connection.class);\r\n\r\n    MockUp&lt;DBConnection&gt; mockUp = new MockUp&lt;DBConnection&gt;() {\r\n\r\n\t            DBConnection singleton = new DBConnection();\r\n\r\n                @Mock\r\n\t            public DBConnection getInstance() { \r\n\t                return singleton;\r\n\t            }\r\n\r\n\t            @Mock\r\n\t            public Connection getConnection() {\r\n\t                return jdbcConnection;\r\n\t            }\r\n\t         };","title":"Mocking static methods with Mockito","body":"<p><strong>Use JMockit framework</strong>. It worked for me. You don't have to write statements for mocking DBConenction.getConnection() method. Just the below code is enough.</p>\n\n<p>@Mock below is mockit.Mock package</p>\n\n<pre><code>Connection jdbcConnection = Mockito.mock(Connection.class);\n\nMockUp&lt;DBConnection&gt; mockUp = new MockUp&lt;DBConnection&gt;() {\n\n            DBConnection singleton = new DBConnection();\n\n            @Mock\n            public DBConnection getInstance() { \n                return singleton;\n            }\n\n            @Mock\n            public Connection getConnection() {\n                return jdbcConnection;\n            }\n         };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2392528,"reputation":2186,"user_id":2092109,"accept_rate":83,"display_name":"Benas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581504411,"creation_date":1581502902,"answer_id":60186077,"question_id":21105403,"body_markdown":"Since that method is static, it already has everything you need to use it, so it defeats the purpose of mocking. \r\nMocking the static methods is considered to be a bad practice.\r\n\r\nIf you try to do that, it means there is something wrong with the way you want to perform testing.\r\n\r\nOf course you can use PowerMockito or any other framework capable of doing that, but try to rethink your approach.\r\n\r\nFor example: try to mock/provide the objects, which that static method consumes instead.","title":"Mocking static methods with Mockito","body":"<p>Since that method is static, it already has everything you need to use it, so it defeats the purpose of mocking. \nMocking the static methods is considered to be a bad practice.</p>\n\n<p>If you try to do that, it means there is something wrong with the way you want to perform testing.</p>\n\n<p>Of course you can use PowerMockito or any other framework capable of doing that, but try to rethink your approach.</p>\n\n<p>For example: try to mock/provide the objects, which that static method consumes instead.</p>\n"},{"tags":[],"owner":{"account_id":135086,"reputation":709,"user_id":337666,"display_name":"Shrikant Prabhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592568061,"creation_date":1592568061,"answer_id":62469844,"question_id":21105403,"body_markdown":"There is an easy solution by using java FunctionalInterface and then add that interface as dependency for the class you are trying to unit test.","title":"Mocking static methods with Mockito","body":"<p>There is an easy solution by using java FunctionalInterface and then add that interface as dependency for the class you are trying to unit test.</p>\n"},{"tags":[],"owner":{"account_id":1532505,"reputation":1954,"user_id":1429367,"accept_rate":71,"display_name":"leokom"},"down_vote_count":0,"up_vote_count":131,"is_accepted":false,"score":131,"last_activity_date":1699197832,"creation_date":1594553085,"answer_id":62860455,"question_id":21105403,"body_markdown":"Mocking of static methods in Mockito is possible since Mockito 3.4.0.\r\nFor more details see:\r\n\r\nhttps://github.com/mockito/mockito/releases/tag/v3.4.0\r\n\r\nhttps://github.com/mockito/mockito/issues/1013\r\n\r\nhttps://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#static_mocks\r\n\r\n \r\n\r\n    assertEquals(&quot;foo&quot;, Foo.method());\r\n    try (MockedStatic mocked = mockStatic(Foo.class)) {\r\n     mocked.when(Foo::method).thenReturn(&quot;bar&quot;);\r\n     assertEquals(&quot;bar&quot;, Foo.method());\r\n     mocked.verify(Foo::method);\r\n    }\r\n    assertEquals(&quot;foo&quot;, Foo.method());\r\n\r\nIn your case, something like this:\r\n\r\n      @Test\r\n      public void testStaticMockWithVerification() throws SQLException {\r\n        try (MockedStatic&lt;DriverManager&gt; dummy = Mockito.mockStatic(DriverManager.class)) {\r\n          DatabaseConnectionFactory factory = new MySQLDatabaseConnectionFactory();\r\n          dummy.when(() -&gt; DriverManager.getConnection(&quot;arg1&quot;, &quot;arg2&quot;, &quot;arg3&quot;))\r\n            .thenReturn(new Connection() {/*...*/});\r\n    \r\n          factory.getConnection();\r\n    \r\n          dummy.verify(() -&gt; DriverManager.getConnection(eq(&quot;arg1&quot;), eq(&quot;arg2&quot;), eq(&quot;arg3&quot;)));\r\n        }\r\n      }\r\n\r\n(Before Mockito 5.0.0, mocking static methods required an additional dependency on `mockito-inline`)\r\n\r\n\r\nFor JUnit5 also add this:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n      &lt;version&gt;${mockito.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Mocking static methods with Mockito","body":"<p>Mocking of static methods in Mockito is possible since Mockito 3.4.0.\nFor more details see:</p>\n<p><a href=\"https://github.com/mockito/mockito/releases/tag/v3.4.0\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito/releases/tag/v3.4.0</a></p>\n<p><a href=\"https://github.com/mockito/mockito/issues/1013\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito/issues/1013</a></p>\n<p><a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#static_mocks\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#static_mocks</a></p>\n<pre><code>assertEquals(&quot;foo&quot;, Foo.method());\ntry (MockedStatic mocked = mockStatic(Foo.class)) {\n mocked.when(Foo::method).thenReturn(&quot;bar&quot;);\n assertEquals(&quot;bar&quot;, Foo.method());\n mocked.verify(Foo::method);\n}\nassertEquals(&quot;foo&quot;, Foo.method());\n</code></pre>\n<p>In your case, something like this:</p>\n<pre><code>  @Test\n  public void testStaticMockWithVerification() throws SQLException {\n    try (MockedStatic&lt;DriverManager&gt; dummy = Mockito.mockStatic(DriverManager.class)) {\n      DatabaseConnectionFactory factory = new MySQLDatabaseConnectionFactory();\n      dummy.when(() -&gt; DriverManager.getConnection(&quot;arg1&quot;, &quot;arg2&quot;, &quot;arg3&quot;))\n        .thenReturn(new Connection() {/*...*/});\n\n      factory.getConnection();\n\n      dummy.verify(() -&gt; DriverManager.getConnection(eq(&quot;arg1&quot;), eq(&quot;arg2&quot;), eq(&quot;arg3&quot;)));\n    }\n  }\n</code></pre>\n<p>(Before Mockito 5.0.0, mocking static methods required an additional dependency on <code>mockito-inline</code>)</p>\n<p>For JUnit5 also add this:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n  &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n  &lt;version&gt;${mockito.version}&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1643994769,"creation_date":1604664455,"answer_id":64714397,"question_id":21105403,"body_markdown":"For those who use JUnit 5, Powermock is not an option. You&#39;ll require the following dependencies to successfully mock a static method with just Mockito.\r\n\r\n```\r\ntestCompile    group: &#39;org.mockito&#39;, name: &#39;mockito-core&#39;,           version: &#39;3.6.0&#39;\r\ntestCompile    group: &#39;org.mockito&#39;, name: &#39;mockito-junit-jupiter&#39;,  version: &#39;3.6.0&#39;\r\ntestCompile    group: &#39;org.mockito&#39;, name: &#39;mockito-inline&#39;,         version: &#39;3.6.0&#39;\r\n```\r\n\r\n`mockito-junit-jupiter` add supports for JUnit 5. \r\n\r\nAnd support for mocking static methods is provided by `mockito-inline` dependency.\r\n\r\nExample:\r\n\r\n```\r\n@Test\r\nvoid returnUtilTest() {\r\n    assertEquals(&quot;foo&quot;, UtilClass.staticMethod(&quot;foo&quot;));\r\n\r\n    try (MockedStatic&lt;UtilClass&gt; classMock = mockStatic(UtilClass.class)) {\r\n\r\n        classMock.when(() -&gt; UtilClass.staticMethod(&quot;foo&quot;)).thenReturn(&quot;bar&quot;);\r\n\r\n        assertEquals(&quot;bar&quot;, UtilClass.staticMethod(&quot;foo&quot;));\r\n     }\r\n\r\n     assertEquals(&quot;foo&quot;, UtilClass.staticMethod(&quot;foo&quot;));\r\n}\r\n```\r\n\r\nThe try-with-resource block is used to make the static mock remains temporary, so it&#39;s mocked only within that scope.\r\n\r\nWhen not using a try block, make sure to close the mock, once you are done with the assertions.\r\n\r\n```\r\nMockedStatic&lt;UtilClass&gt; classMock = mockStatic(UtilClass.class)\r\nclassMock.when(() -&gt; UtilClass.staticMethod(&quot;foo&quot;)).thenReturn(&quot;bar&quot;);\r\nassertEquals(&quot;bar&quot;, UtilClass.staticMethod(&quot;foo&quot;));\r\nclassMock.close();\r\n```\r\n\r\n**Mocking void methods:**\r\n\r\nWhen `mockStatic` is called on a class, all the static void methods in that class automatically get mocked to `doNothing()`.\r\n\r\n\r\n\r\n","title":"Mocking static methods with Mockito","body":"<p>For those who use JUnit 5, Powermock is not an option. You'll require the following dependencies to successfully mock a static method with just Mockito.</p>\n<pre><code>testCompile    group: 'org.mockito', name: 'mockito-core',           version: '3.6.0'\ntestCompile    group: 'org.mockito', name: 'mockito-junit-jupiter',  version: '3.6.0'\ntestCompile    group: 'org.mockito', name: 'mockito-inline',         version: '3.6.0'\n</code></pre>\n<p><code>mockito-junit-jupiter</code> add supports for JUnit 5.</p>\n<p>And support for mocking static methods is provided by <code>mockito-inline</code> dependency.</p>\n<p>Example:</p>\n<pre><code>@Test\nvoid returnUtilTest() {\n    assertEquals(&quot;foo&quot;, UtilClass.staticMethod(&quot;foo&quot;));\n\n    try (MockedStatic&lt;UtilClass&gt; classMock = mockStatic(UtilClass.class)) {\n\n        classMock.when(() -&gt; UtilClass.staticMethod(&quot;foo&quot;)).thenReturn(&quot;bar&quot;);\n\n        assertEquals(&quot;bar&quot;, UtilClass.staticMethod(&quot;foo&quot;));\n     }\n\n     assertEquals(&quot;foo&quot;, UtilClass.staticMethod(&quot;foo&quot;));\n}\n</code></pre>\n<p>The try-with-resource block is used to make the static mock remains temporary, so it's mocked only within that scope.</p>\n<p>When not using a try block, make sure to close the mock, once you are done with the assertions.</p>\n<pre><code>MockedStatic&lt;UtilClass&gt; classMock = mockStatic(UtilClass.class)\nclassMock.when(() -&gt; UtilClass.staticMethod(&quot;foo&quot;)).thenReturn(&quot;bar&quot;);\nassertEquals(&quot;bar&quot;, UtilClass.staticMethod(&quot;foo&quot;));\nclassMock.close();\n</code></pre>\n<p><strong>Mocking void methods:</strong></p>\n<p>When <code>mockStatic</code> is called on a class, all the static void methods in that class automatically get mocked to <code>doNothing()</code>.</p>\n"},{"tags":[],"owner":{"account_id":4028316,"reputation":169,"user_id":3423146,"display_name":"Alexander Stohr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610533567,"creation_date":1610533567,"answer_id":65699992,"question_id":21105403,"body_markdown":"For mocking static functions i was able to do it that way:\r\n* create a wrapper function in some helper class/object. (using a name variant might be beneficial for keeping things separated and maintainable.)\r\n* use this wrapper in your codes. (Yes, codes need to be realized with testing in mind.)\r\n* mock the wrapper function.\r\n\r\nwrapper code snippet (not really functional, just for illustration)\r\n\r\n    class myWrapperClass ...\r\n        def myWrapperFunction (...) {\r\n            return theOriginalFunction (...)\r\n        }\r\n\r\nof course having multiple such functions accumulated in a single wrapper class might be beneficial in terms of code reuse.","title":"Mocking static methods with Mockito","body":"<p>For mocking static functions i was able to do it that way:</p>\n<ul>\n<li>create a wrapper function in some helper class/object. (using a name variant might be beneficial for keeping things separated and maintainable.)</li>\n<li>use this wrapper in your codes. (Yes, codes need to be realized with testing in mind.)</li>\n<li>mock the wrapper function.</li>\n</ul>\n<p>wrapper code snippet (not really functional, just for illustration)</p>\n<pre><code>class myWrapperClass ...\n    def myWrapperFunction (...) {\n        return theOriginalFunction (...)\n    }\n</code></pre>\n<p>of course having multiple such functions accumulated in a single wrapper class might be beneficial in terms of code reuse.</p>\n"},{"tags":[],"owner":{"account_id":6615151,"reputation":7343,"user_id":5108695,"display_name":"Dupinder Singh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1619508009,"creation_date":1619508009,"answer_id":67278574,"question_id":21105403,"body_markdown":"I found one solution in Mockito. This feature comes with a version only from `3.4.0`\r\n\r\nhttps://asolntsev.github.io/en/2020/07/11/mockito-static-methods/\r\n\r\n\r\n\r\n-  dependency\r\n\r\n     In your build.gradle replace mockito-core:3.3.3 by mockito-inline:3.4.0:\r\n\r\n\r\n\r\n       testImplementation(&#39;org.mockito:mockito-inline:3.4.0&#39;)\r\n\r\n -  what are we going to mock\r\n    \r\n\r\n    \r\n         class Buddy \r\n         {\r\n             static String name() \r\n             {\r\n                return &quot;John&quot;;\r\n             }\r\n         }\r\n\r\n\r\n- Mock the static method\r\n\r\n\r\n\r\n\r\n\r\n\r\n          @Test\r\n          void lookMomICanMockStaticMethods() \r\n          {\r\n               assertThat(Buddy.name()).isEqualTo(&quot;John&quot;);\r\n\r\n              try (MockedStatic&lt;Buddy&gt; theMock = Mockito.mockStatic(Buddy.class)) \r\n              {\r\n                  theMock.when(Buddy::name).thenReturn(&quot;Rafael&quot;);\r\n                  assertThat(Buddy.name()).isEqualTo(&quot;Rafael&quot;);\r\n              }\r\n\r\n              assertThat(Buddy.name()).isEqualTo(&quot;John&quot;);\r\n          }\r\n\r\n\r\n\r\n\r\nI think this could help us.\r\n","title":"Mocking static methods with Mockito","body":"<p>I found one solution in Mockito. This feature comes with a version only from <code>3.4.0</code></p>\n<p><a href=\"https://asolntsev.github.io/en/2020/07/11/mockito-static-methods/\" rel=\"noreferrer\">https://asolntsev.github.io/en/2020/07/11/mockito-static-methods/</a></p>\n<ul>\n<li><p>dependency</p>\n<p>In your build.gradle replace mockito-core:3.3.3 by mockito-inline:3.4.0:</p>\n<pre><code>testImplementation('org.mockito:mockito-inline:3.4.0')\n</code></pre>\n</li>\n<li><p>what are we going to mock</p>\n<pre><code> class Buddy \n {\n     static String name() \n     {\n        return &quot;John&quot;;\n     }\n }\n</code></pre>\n</li>\n<li><p>Mock the static method</p>\n<pre><code>    @Test\n    void lookMomICanMockStaticMethods() \n    {\n         assertThat(Buddy.name()).isEqualTo(&quot;John&quot;);\n\n        try (MockedStatic&lt;Buddy&gt; theMock = Mockito.mockStatic(Buddy.class)) \n        {\n            theMock.when(Buddy::name).thenReturn(&quot;Rafael&quot;);\n            assertThat(Buddy.name()).isEqualTo(&quot;Rafael&quot;);\n        }\n\n        assertThat(Buddy.name()).isEqualTo(&quot;John&quot;);\n    }\n</code></pre>\n</li>\n</ul>\n<p>I think this could help us.</p>\n"},{"tags":[],"owner":{"account_id":7613907,"reputation":81,"user_id":5773994,"display_name":"Radboud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645111197,"creation_date":1645110877,"answer_id":71160714,"question_id":21105403,"body_markdown":"Here I share my mockito MockStatic solution based on an extension as promised in my answer to leokom&#39;s solution.\r\n\r\nSo, why does Mockito choose try-with-resources? Well, simply because they want to keep a tidy ship. That is good programming after all. Try-with-resources allows construction with guaranteed calling of the close method. But in JUnit we already have that in BeforeEach and AfterEach. And one can easily add these for a generic purpose to each test class using an Extension that implements BeforeEachCallback and AfterEachCallback.\r\n\r\nSo much for the theory. Let&#39;s make a static mock for \r\n\r\n    Instant.now()\r\n\r\nI started with an annotation to be able to mark the fields in my test class that I want to use as static mocks.\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.FIELD)\r\n    public @interface StaticMock {\r\n    \r\n    }\r\n\r\nThis allows me to create a field in my test class for static mocking that I can easily find in my Extension class.\r\n\r\n      @StaticMock\r\n      private MockedStatic&lt;Instant&gt; staticInstantMock;\r\n\r\nI added the Extension I created to my test class. You have two options.\r\n\r\n 1. Create an Extension for this purpose and add it to the class next to MockitoExtension, which you also need.\r\n 2. Create an Extension and have it inherit from MockitoExtension. Now you can replace MockitoExtension on your test class.\r\n\r\nI used the latter of the two.\r\n\r\n    @ExtendWith({CompanyMockitoExtension.class})\r\n    class MyExtendedTestClass {\r\n\r\nNow we need something to be returned for the static when it&#39;s called:\r\n\r\n      @Mock\r\n      private Instant now;\r\n\r\n      staticInstantMock.when(Instant::now).thenReturn(now);\r\n\r\nThe whole test class:\r\n\r\n    @ExtendWith({CompanyMockitoExtension.class})\r\n    class MyExtendedTestClass {\r\n    \r\n      @StaticMock\r\n      private MockedStatic&lt;Instant&gt; staticInstantMock;\r\n\r\n      @Mock\r\n      private Instant now;\r\n\r\n      @Test\r\n      void myTestMethod() {\r\n        staticInstantMock.when(Instant::now).thenReturn(now);\r\n    \r\n        assertThat(Instant::now).isSameAs(now); // This would normally happen in the class you are testing...\r\n      }\r\n    }\r\n\r\nNow let&#39;s take a look at the Extension class.\r\n\r\n\r\n    import static org.mockito.Mockito.mockStatic;\r\n    \r\n    import java.lang.reflect.Field;\r\n    import java.lang.reflect.Method;\r\n    import java.util.List;\r\n    import org.junit.jupiter.api.extension.ExtensionContext;\r\n    import org.mockito.MockedStatic;\r\n    import org.mockito.Mockito;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n    \r\n    public class CompanyMockitoExtension extends MockitoExtension {\r\n\r\n      @Override\r\n      public void beforeEach(ExtensionContext context) {\r\n        super.beforeEach(context); // Don&#39;t forget to call the super!!\r\n        if (context.getTestInstance().isEmpty()) { // Just to be sure...\r\n          return;\r\n        }\r\n        // Get the unit test instance\r\n        Object testSubject = context.getTestInstance().get();\r\n        initializeStaticMocks(testSubject);\r\n      }\r\n    \r\n      private void initializeStaticMocks(Object testSubject) {\r\n        // Find all fields that I want to static mock\r\n        List&lt;Field&gt; staticMockFields = ReflectionHelper.getFieldsWithAnnotation(testSubject, StaticMock.class);\r\n        staticMockFields.forEach(field -&gt; initializeStaticMock(field, testSubject));\r\n      }\r\n    \r\n      private void initializeStaticMock(Field field, Object testSubject) {\r\n        // Get the type of the static mock. It is within the generic MockedStatic&lt;&gt; class type.\r\n        Class&lt;?&gt; typeForStaticMock = (Class&lt;?&gt;) ReflectionHelper.getTypesForGeneric(field)[0];\r\n        try {\r\n          // Now set the field with the mockStatic method of Mockito.\r\n          field.setAccessible(true);\r\n          field.set(testSubject, mockStatic(typeForStaticMock));\r\n        } catch (IllegalAccessException e) {\r\n          throw new RuntimeException(&quot;Failed to instantiate Static Mock with type: &quot; + typeForStaticMock.getName());\r\n        }\r\n      }\r\n\r\n      @Override\r\n      public void afterEach(ExtensionContext context) {\r\n        super.afterEach(context); // Again, do not forget to call the super.\r\n        if (context.getTestInstance().isEmpty()) {\r\n          return;\r\n        }\r\n        Object testSubject = context.getTestInstance().get();\r\n        closeStaticMocks(testSubject); // Close all static mocks.\r\n      }\r\n    \r\n      private void closeStaticMocks(Object testSubject) {\r\n        // Again find all fields we annotated\r\n        List&lt;Field&gt; staticMockFields = ReflectionHelper.getFieldsWithAnnotation(testSubject, StaticMock.class);\r\n        staticMockFields.forEach(field -&gt; closeStaticMock(field, testSubject));\r\n      }\r\n    \r\n      private void closeStaticMock(Field field, Object testSubject) {\r\n        // Get the instance and simply call close.\r\n        MockedStatic&lt;?&gt; mockedStaticInstance = ReflectionHelper.getFieldInstance(field, testSubject, MockedStatic.class);\r\n        mockedStaticInstance.close();\r\n      }\r\n    }\r\n\r\nThe nice thing about this extension is that you can add additional mocking stuff. I added verification of no more interactions on all mocks in the AfterEach. This is now automatic when we use this extension. I also added similar behavior for construction mocking as for the static mocking.\r\n\r\nAs you see, I made my own reflection helper class. I know there are some standard reflection helper classes and those might be better. Here is mine for this purpose.\r\n\r\n    public class ReflectionHelper {\r\n    \r\n      public static List&lt;Field&gt; getFieldsWithAnnotation(\r\n          Object testSubject,\r\n          Class&lt;? extends Annotation&gt; annotationType\r\n      ) {\r\n        Class&lt;?&gt; testSubjectClass = testSubject.getClass();\r\n    \r\n        return Arrays.stream(testSubjectClass.getDeclaredFields())\r\n                     .filter(field -&gt; field.isAnnotationPresent(annotationType))\r\n                     .collect(toUnmodifiableList());\r\n      }\r\n    \r\n      public static List&lt;Field&gt; getCollectionFields(Object testSubject) {\r\n        Class&lt;?&gt; testSubjectClass = testSubject.getClass();\r\n    \r\n        return Arrays.stream(testSubjectClass.getDeclaredFields())\r\n                     .filter(field -&gt; Collection.class.isAssignableFrom(field.getType()))\r\n                     .collect(toUnmodifiableList());\r\n      }\r\n    \r\n      @SuppressWarnings(&quot;unchecked&quot;)\r\n      public static &lt;T&gt; T getFieldInstance(Field field, Object testSubject, Class&lt;T&gt; type) {\r\n        return (T) getFieldInstance(field, testSubject);\r\n      }\r\n    \r\n      public static Object getFieldInstance(Field field, Object testSubject) {\r\n        try {\r\n          boolean isStatic = isStatic(field.getModifiers());\r\n          Object context = isStatic ? null : testSubject;\r\n          field.setAccessible(true);\r\n          return field.get(context);\r\n        } catch (IllegalAccessException e) {\r\n          throw new RuntimeException(&quot;Failed to get instance of field.&quot;);\r\n        }\r\n      }\r\n    \r\n      public static Type[] getTypesForGeneric(Field field) {\r\n        ParameterizedType parameterizedType = (ParameterizedType) field.getGenericType();\r\n        return parameterizedType.getActualTypeArguments();\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Mocking static methods with Mockito","body":"<p>Here I share my mockito MockStatic solution based on an extension as promised in my answer to leokom's solution.</p>\n<p>So, why does Mockito choose try-with-resources? Well, simply because they want to keep a tidy ship. That is good programming after all. Try-with-resources allows construction with guaranteed calling of the close method. But in JUnit we already have that in BeforeEach and AfterEach. And one can easily add these for a generic purpose to each test class using an Extension that implements BeforeEachCallback and AfterEachCallback.</p>\n<p>So much for the theory. Let's make a static mock for</p>\n<pre><code>Instant.now()\n</code></pre>\n<p>I started with an annotation to be able to mark the fields in my test class that I want to use as static mocks.</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface StaticMock {\n\n}\n</code></pre>\n<p>This allows me to create a field in my test class for static mocking that I can easily find in my Extension class.</p>\n<pre><code>  @StaticMock\n  private MockedStatic&lt;Instant&gt; staticInstantMock;\n</code></pre>\n<p>I added the Extension I created to my test class. You have two options.</p>\n<ol>\n<li>Create an Extension for this purpose and add it to the class next to MockitoExtension, which you also need.</li>\n<li>Create an Extension and have it inherit from MockitoExtension. Now you can replace MockitoExtension on your test class.</li>\n</ol>\n<p>I used the latter of the two.</p>\n<pre><code>@ExtendWith({CompanyMockitoExtension.class})\nclass MyExtendedTestClass {\n</code></pre>\n<p>Now we need something to be returned for the static when it's called:</p>\n<pre><code>  @Mock\n  private Instant now;\n\n  staticInstantMock.when(Instant::now).thenReturn(now);\n</code></pre>\n<p>The whole test class:</p>\n<pre><code>@ExtendWith({CompanyMockitoExtension.class})\nclass MyExtendedTestClass {\n\n  @StaticMock\n  private MockedStatic&lt;Instant&gt; staticInstantMock;\n\n  @Mock\n  private Instant now;\n\n  @Test\n  void myTestMethod() {\n    staticInstantMock.when(Instant::now).thenReturn(now);\n\n    assertThat(Instant::now).isSameAs(now); // This would normally happen in the class you are testing...\n  }\n}\n</code></pre>\n<p>Now let's take a look at the Extension class.</p>\n<pre><code>import static org.mockito.Mockito.mockStatic;\n\nimport java.lang.reflect.Field;\nimport java.lang.reflect.Method;\nimport java.util.List;\nimport org.junit.jupiter.api.extension.ExtensionContext;\nimport org.mockito.MockedStatic;\nimport org.mockito.Mockito;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\npublic class CompanyMockitoExtension extends MockitoExtension {\n\n  @Override\n  public void beforeEach(ExtensionContext context) {\n    super.beforeEach(context); // Don't forget to call the super!!\n    if (context.getTestInstance().isEmpty()) { // Just to be sure...\n      return;\n    }\n    // Get the unit test instance\n    Object testSubject = context.getTestInstance().get();\n    initializeStaticMocks(testSubject);\n  }\n\n  private void initializeStaticMocks(Object testSubject) {\n    // Find all fields that I want to static mock\n    List&lt;Field&gt; staticMockFields = ReflectionHelper.getFieldsWithAnnotation(testSubject, StaticMock.class);\n    staticMockFields.forEach(field -&gt; initializeStaticMock(field, testSubject));\n  }\n\n  private void initializeStaticMock(Field field, Object testSubject) {\n    // Get the type of the static mock. It is within the generic MockedStatic&lt;&gt; class type.\n    Class&lt;?&gt; typeForStaticMock = (Class&lt;?&gt;) ReflectionHelper.getTypesForGeneric(field)[0];\n    try {\n      // Now set the field with the mockStatic method of Mockito.\n      field.setAccessible(true);\n      field.set(testSubject, mockStatic(typeForStaticMock));\n    } catch (IllegalAccessException e) {\n      throw new RuntimeException(&quot;Failed to instantiate Static Mock with type: &quot; + typeForStaticMock.getName());\n    }\n  }\n\n  @Override\n  public void afterEach(ExtensionContext context) {\n    super.afterEach(context); // Again, do not forget to call the super.\n    if (context.getTestInstance().isEmpty()) {\n      return;\n    }\n    Object testSubject = context.getTestInstance().get();\n    closeStaticMocks(testSubject); // Close all static mocks.\n  }\n\n  private void closeStaticMocks(Object testSubject) {\n    // Again find all fields we annotated\n    List&lt;Field&gt; staticMockFields = ReflectionHelper.getFieldsWithAnnotation(testSubject, StaticMock.class);\n    staticMockFields.forEach(field -&gt; closeStaticMock(field, testSubject));\n  }\n\n  private void closeStaticMock(Field field, Object testSubject) {\n    // Get the instance and simply call close.\n    MockedStatic&lt;?&gt; mockedStaticInstance = ReflectionHelper.getFieldInstance(field, testSubject, MockedStatic.class);\n    mockedStaticInstance.close();\n  }\n}\n</code></pre>\n<p>The nice thing about this extension is that you can add additional mocking stuff. I added verification of no more interactions on all mocks in the AfterEach. This is now automatic when we use this extension. I also added similar behavior for construction mocking as for the static mocking.</p>\n<p>As you see, I made my own reflection helper class. I know there are some standard reflection helper classes and those might be better. Here is mine for this purpose.</p>\n<pre><code>public class ReflectionHelper {\n\n  public static List&lt;Field&gt; getFieldsWithAnnotation(\n      Object testSubject,\n      Class&lt;? extends Annotation&gt; annotationType\n  ) {\n    Class&lt;?&gt; testSubjectClass = testSubject.getClass();\n\n    return Arrays.stream(testSubjectClass.getDeclaredFields())\n                 .filter(field -&gt; field.isAnnotationPresent(annotationType))\n                 .collect(toUnmodifiableList());\n  }\n\n  public static List&lt;Field&gt; getCollectionFields(Object testSubject) {\n    Class&lt;?&gt; testSubjectClass = testSubject.getClass();\n\n    return Arrays.stream(testSubjectClass.getDeclaredFields())\n                 .filter(field -&gt; Collection.class.isAssignableFrom(field.getType()))\n                 .collect(toUnmodifiableList());\n  }\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  public static &lt;T&gt; T getFieldInstance(Field field, Object testSubject, Class&lt;T&gt; type) {\n    return (T) getFieldInstance(field, testSubject);\n  }\n\n  public static Object getFieldInstance(Field field, Object testSubject) {\n    try {\n      boolean isStatic = isStatic(field.getModifiers());\n      Object context = isStatic ? null : testSubject;\n      field.setAccessible(true);\n      return field.get(context);\n    } catch (IllegalAccessException e) {\n      throw new RuntimeException(&quot;Failed to get instance of field.&quot;);\n    }\n  }\n\n  public static Type[] getTypesForGeneric(Field field) {\n    ParameterizedType parameterizedType = (ParameterizedType) field.getGenericType();\n    return parameterizedType.getActualTypeArguments();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1652878733,"creation_date":1652878733,"answer_id":72289685,"question_id":21105403,"body_markdown":"When you try to mock the static method, you have to write the test inside the try block. because It&#39;s important to note that scoped mocks must be closed by the entity that activates the mock.\r\n```java\r\n      try (MockedStatic&lt;Tester&gt; tester = Mockito.mockStatic(Tester.class)) {\r\n            tester.when(() -&gt; Tester.testStatic(&quot;Testing..&quot;)).thenReturn(mock(ReturnObject.class));\r\n    //Here you have to write the test cases\r\n      }\r\n```\r\n\r\nIn the above example, we have to mock the Tester Class testStatic Method with input param as &quot;Testing...&quot;. Here, this method will return a ReturnObject class type object. Hence we write mockito when chain like above.\r\n\r\nDon&#39;t forget to add below dependency in your Gradle/maven\r\n```\r\n    testImplementation &#39;org.mockito:mockito-inline:4.3.1&#39;\r\n```\r\n\r\n\r\n","title":"Mocking static methods with Mockito","body":"<p>When you try to mock the static method, you have to write the test inside the try block. because It's important to note that scoped mocks must be closed by the entity that activates the mock.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      try (MockedStatic&lt;Tester&gt; tester = Mockito.mockStatic(Tester.class)) {\n            tester.when(() -&gt; Tester.testStatic(&quot;Testing..&quot;)).thenReturn(mock(ReturnObject.class));\n    //Here you have to write the test cases\n      }\n</code></pre>\n<p>In the above example, we have to mock the Tester Class testStatic Method with input param as &quot;Testing...&quot;. Here, this method will return a ReturnObject class type object. Hence we write mockito when chain like above.</p>\n<p>Don't forget to add below dependency in your Gradle/maven</p>\n<pre><code>    testImplementation 'org.mockito:mockito-inline:4.3.1'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670782868,"creation_date":1668582787,"answer_id":74456490,"question_id":21105403,"body_markdown":"Refactor it a little bit:\r\n\r\n    public class MySQLDatabaseConnectionFactory implements DatabaseConnectionFactory {\r\n        ConnectionSupplier connectionSupplier = () -&gt; SupplierDriverManager.getConnection();\r\n    \r\n        public void setConnSupplier(ConnectionSupplier supplier) {\r\n            this.connectionSupplier = supplier;\r\n        }\r\n    \r\n        @Override \r\n        public Connection getConnection() {\r\n            try {\r\n                return connectionSupplier.conn();\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n        @FunctionalInterface\r\n        interface ConnectionSupplier {\r\n            Connection conn();\r\n        }\r\n    }\r\n\r\nThen you can use the `mockito`:\r\n\r\n    MySQLDatabaseConnectionFactory.ConnectionSupplier connectionSupplier = mock(MySQLDatabaseConnectionFactory.ConnectionSupplier.class);\r\n    when(connectionSupplier.conn()).thenReturn(yourMockObject);\r\n    yourConnectionFactory.setConnSupplier(connectionSupplier);\r\n\r\n","title":"Mocking static methods with Mockito","body":"<p>Refactor it a little bit:</p>\n<pre><code>public class MySQLDatabaseConnectionFactory implements DatabaseConnectionFactory {\n    ConnectionSupplier connectionSupplier = () -&gt; SupplierDriverManager.getConnection();\n\n    public void setConnSupplier(ConnectionSupplier supplier) {\n        this.connectionSupplier = supplier;\n    }\n\n    @Override \n    public Connection getConnection() {\n        try {\n            return connectionSupplier.conn();\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n    @FunctionalInterface\n    interface ConnectionSupplier {\n        Connection conn();\n    }\n}\n</code></pre>\n<p>Then you can use the <code>mockito</code>:</p>\n<pre><code>MySQLDatabaseConnectionFactory.ConnectionSupplier connectionSupplier = mock(MySQLDatabaseConnectionFactory.ConnectionSupplier.class);\nwhen(connectionSupplier.conn()).thenReturn(yourMockObject);\nyourConnectionFactory.setConnSupplier(connectionSupplier);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4001886,"reputation":1833,"user_id":4118434,"display_name":"R.A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678787278,"creation_date":1678787278,"answer_id":75731460,"question_id":21105403,"body_markdown":"**Mocking LocalDate.now()** for stable tests.\r\n\r\nPlease refer to @leokom answer above for more details on setting up static mock and dependencies.\r\n\r\n**Mockito.CALLS_REAL_METHODS** makes sure other methods still work as usual. Otherwise LocalDate.of() would return null.\r\n\r\n    private static final LocalDate TODAY_IS_2023_03_13 = LocalDate.of(2023, 03, 13);\r\n    @Test\r\n    void now() {\r\n    try (MockedStatic&lt;LocalDate&gt; localDateStaticMock = Mockito.mockStatic(LocalDate.class, Mockito.CALLS_REAL_METHODS)) {\r\n      localDateStaticMock.when(LocalDate::now).thenReturn(TODAY_IS_2023_03_13);\r\n\r\n      assertThat(LocalDate.now()).isEqualTo(TODAY_IS_2023_03_13);\r\n    assertThat(LocalDate.of(2023,03,16)).isNotNull().isEqualTo(TODAY_IS_2023_03_13);\r\n    }\r\n  }","title":"Mocking static methods with Mockito","body":"<p><strong>Mocking LocalDate.now()</strong> for stable tests.</p>\n<p>Please refer to @leokom answer above for more details on setting up static mock and dependencies.</p>\n<p><strong>Mockito.CALLS_REAL_METHODS</strong> makes sure other methods still work as usual. Otherwise LocalDate.of() would return null.</p>\n<pre><code>private static final LocalDate TODAY_IS_2023_03_13 = LocalDate.of(2023, 03, 13);\n@Test\nvoid now() {\ntry (MockedStatic&lt;LocalDate&gt; localDateStaticMock = Mockito.mockStatic(LocalDate.class, Mockito.CALLS_REAL_METHODS)) {\n  localDateStaticMock.when(LocalDate::now).thenReturn(TODAY_IS_2023_03_13);\n\n  assertThat(LocalDate.now()).isEqualTo(TODAY_IS_2023_03_13);\nassertThat(LocalDate.of(2023,03,16)).isNotNull().isEqualTo(TODAY_IS_2023_03_13);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":9049597,"reputation":88,"user_id":6740371,"display_name":"Mohammed ESSABRI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684736832,"creation_date":1684485506,"answer_id":76287393,"question_id":21105403,"body_markdown":"You can mock static without adding any dependency or using PowerMock. It&#39;s by doing this trick :) \r\n\r\nAdd the file org.mockito.plugins.MockMaker under the folder src/test/resources/mockito-extensions/ with this content:\r\n\r\n    mock-maker-inline\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2SJYw.png","title":"Mocking static methods with Mockito","body":"<p>You can mock static without adding any dependency or using PowerMock. It's by doing this trick :)</p>\n<p>Add the file org.mockito.plugins.MockMaker under the folder src/test/resources/mockito-extensions/ with this content:</p>\n<pre><code>mock-maker-inline\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2SJYw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2SJYw.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6910880,"reputation":504,"user_id":9578492,"display_name":"Yaroslav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691699458,"creation_date":1691699458,"answer_id":76879137,"question_id":21105403,"body_markdown":"My example how I mock with Mockito final static fields:\r\n\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.keycloak.broker.provider.BrokeredIdentityContext;\r\n    import org.keycloak.broker.provider.ConfigConstants;\r\n    import org.keycloak.broker.provider.IdentityBrokerException;\r\n    import org.keycloak.models.*;\r\n    import org.keycloak.provider.ProviderConfigProperty;\r\n    import org.mockito.Mock;\r\n    import org.mockito.Spy;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n    \r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Stream;\r\n    \r\n    import static org.junit.Assert.assertEquals;\r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    import static org.keycloak.broker.provider.IdentityProviderMapper.ANY_PROVIDER;\r\n    import static org.mockito.Mockito.verify;\r\n    import static org.powermock.api.mockito.PowerMockito.when;\r\n    \r\n    @ExtendWith(MockitoExtension.class)\r\n    class HardcodedGroupMapperTest {\r\n        @Mock\r\n        private KeycloakSession session;\r\n        @Mock\r\n        private RealmModel realm;\r\n        @Mock\r\n        private Logger logger;\r\n        \r\n        private final HardcodedGroupMapper sut = new HardcodedGroupMapper();\r\n    \r\n        \r\n         @Test\r\n    void shouldReturnEmptyTokenWhenHttpResponseStatusCode400() throws IOException {\r\n        prepareMockEnvironment();\r\n        when(statusLine.getStatusCode()).thenReturn(400);\r\n        Whitebox.setInternalState(AeAuthTokenOidcMapper.class, &quot;logger&quot;, logger);\r\n    \r\n        AccessToken token = new AccessToken();\r\n        token.setOtherClaims(&quot;tenant&quot;, &quot;tenant1&quot;);\r\n    \r\n        AccessToken transformedToken = sut.transformAccessToken(token, mappingModel, session, userSession, clientSessionCtx);\r\n    \r\n        String expectedJsonBody = &quot;{\\&quot;platSite\\&quot;:[\\&quot;plat-site\\&quot;,\\&quot;site1\\&quot;,\\&quot;site2\\&quot;],\\&quot;expiresIn\\&quot;:259200,\\&quot;customerAssociation\\&quot;:{\\&quot;ecrId\\&quot;:\\&quot;tenant1\\&quot;,\\&quot;ipAddress\\&quot;:\\&quot;127.0.0.1\\&quot;}}&quot;;\r\n        Assertions.assertNull(transformedToken.getOtherClaims().get(&quot;auth_token&quot;));\r\n        verify(logger).error(&quot;Bad requeset from access key API &quot; + expectedJsonBody);\r\n    }\r\n    }\r\n\r\nDependency for code above (included PowerMock for mocking static final fields with Whitebox):\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nHow I mock with PowerMock static methods:\r\n\r\n        import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.keycloak.broker.provider.BrokeredIdentityContext;\r\n    import org.keycloak.broker.provider.ConfigConstants;\r\n    import org.keycloak.models.*;\r\n    import org.keycloak.models.utils.KeycloakModelUtils;\r\n    import org.mockito.Mock;\r\n    import org.powermock.api.mockito.PowerMockito;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n    \r\n    import java.util.Map;\r\n    \r\n    import static org.mockito.Mockito.verify;\r\n    import static org.powermock.api.mockito.PowerMockito.mockStatic;\r\n    import static org.powermock.api.mockito.PowerMockito.when;\r\n    \r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({KeycloakModelUtils.class})\r\n    class HardcodedGroupMapperStaticTest {\r\n        public HardcodedGroupMapperStaticTest() {\r\n        }\r\n    \r\n        @Mock\r\n        private KeycloakSession session;\r\n        @Mock\r\n        private RealmModel realm;\r\n        @Mock\r\n        private UserModel user;\r\n        @Mock\r\n        private IdentityProviderMapperModel mapperModel;\r\n        @Mock\r\n        private BrokeredIdentityContext context;\r\n        @Mock\r\n        private GroupModel group;\r\n        private final HardcodedGroupMapper sut = new HardcodedGroupMapper();\r\n    \r\n        @Test\r\n        public void shouldImportNewUser() {\r\n            String testGroup = &quot;testGroup&quot;;\r\n            when(mapperModel.getConfig()).thenReturn(Map.of(ConfigConstants.GROUP, testGroup));\r\n            mockStatic(KeycloakModelUtils.class);\r\n            when(KeycloakModelUtils.findGroupByPath(realm, testGroup)).thenReturn(group);\r\n            sut.importNewUser(session, realm, user, mapperModel, context);\r\n            verify(user).joinGroup(group);\r\n    // assert ...\r\n    // assert ...\r\n        }\r\n    \r\n    }\r\n\r\nDependency for code above (https://howtodoinjava.com/java/library/mock-testing-using-powermock-with-junit-and-mockito/):\r\n\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n        &lt;version&gt;3.12.4&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.9&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.9&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.9&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWatch carrefully your dependencies and not mix Mockito @Mock and Powermock @Mock annotations.","title":"Mocking static methods with Mockito","body":"<p>My example how I mock with Mockito final static fields:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.keycloak.broker.provider.BrokeredIdentityContext;\nimport org.keycloak.broker.provider.ConfigConstants;\nimport org.keycloak.broker.provider.IdentityBrokerException;\nimport org.keycloak.models.*;\nimport org.keycloak.provider.ProviderConfigProperty;\nimport org.mockito.Mock;\nimport org.mockito.Spy;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Stream;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.jupiter.api.Assertions.*;\nimport static org.keycloak.broker.provider.IdentityProviderMapper.ANY_PROVIDER;\nimport static org.mockito.Mockito.verify;\nimport static org.powermock.api.mockito.PowerMockito.when;\n\n@ExtendWith(MockitoExtension.class)\nclass HardcodedGroupMapperTest {\n    @Mock\n    private KeycloakSession session;\n    @Mock\n    private RealmModel realm;\n    @Mock\n    private Logger logger;\n    \n    private final HardcodedGroupMapper sut = new HardcodedGroupMapper();\n\n    \n     @Test\nvoid shouldReturnEmptyTokenWhenHttpResponseStatusCode400() throws IOException {\n    prepareMockEnvironment();\n    when(statusLine.getStatusCode()).thenReturn(400);\n    Whitebox.setInternalState(AeAuthTokenOidcMapper.class, &quot;logger&quot;, logger);\n\n    AccessToken token = new AccessToken();\n    token.setOtherClaims(&quot;tenant&quot;, &quot;tenant1&quot;);\n\n    AccessToken transformedToken = sut.transformAccessToken(token, mappingModel, session, userSession, clientSessionCtx);\n\n    String expectedJsonBody = &quot;{\\&quot;platSite\\&quot;:[\\&quot;plat-site\\&quot;,\\&quot;site1\\&quot;,\\&quot;site2\\&quot;],\\&quot;expiresIn\\&quot;:259200,\\&quot;customerAssociation\\&quot;:{\\&quot;ecrId\\&quot;:\\&quot;tenant1\\&quot;,\\&quot;ipAddress\\&quot;:\\&quot;127.0.0.1\\&quot;}}&quot;;\n    Assertions.assertNull(transformedToken.getOtherClaims().get(&quot;auth_token&quot;));\n    verify(logger).error(&quot;Bad requeset from access key API &quot; + expectedJsonBody);\n}\n}\n</code></pre>\n<p>Dependency for code above (included PowerMock for mocking static final fields with Whitebox):</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n        &lt;version&gt;2.0.9&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n        &lt;version&gt;2.0.9&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;5.4.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>How I mock with PowerMock static methods:</p>\n<pre><code>    import org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.keycloak.broker.provider.BrokeredIdentityContext;\nimport org.keycloak.broker.provider.ConfigConstants;\nimport org.keycloak.models.*;\nimport org.keycloak.models.utils.KeycloakModelUtils;\nimport org.mockito.Mock;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\nimport java.util.Map;\n\nimport static org.mockito.Mockito.verify;\nimport static org.powermock.api.mockito.PowerMockito.mockStatic;\nimport static org.powermock.api.mockito.PowerMockito.when;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({KeycloakModelUtils.class})\nclass HardcodedGroupMapperStaticTest {\n    public HardcodedGroupMapperStaticTest() {\n    }\n\n    @Mock\n    private KeycloakSession session;\n    @Mock\n    private RealmModel realm;\n    @Mock\n    private UserModel user;\n    @Mock\n    private IdentityProviderMapperModel mapperModel;\n    @Mock\n    private BrokeredIdentityContext context;\n    @Mock\n    private GroupModel group;\n    private final HardcodedGroupMapper sut = new HardcodedGroupMapper();\n\n    @Test\n    public void shouldImportNewUser() {\n        String testGroup = &quot;testGroup&quot;;\n        when(mapperModel.getConfig()).thenReturn(Map.of(ConfigConstants.GROUP, testGroup));\n        mockStatic(KeycloakModelUtils.class);\n        when(KeycloakModelUtils.findGroupByPath(realm, testGroup)).thenReturn(group);\n        sut.importNewUser(session, realm, user, mapperModel, context);\n        verify(user).joinGroup(group);\n// assert ...\n// assert ...\n    }\n\n}\n</code></pre>\n<p>Dependency for code above (<a href=\"https://howtodoinjava.com/java/library/mock-testing-using-powermock-with-junit-and-mockito/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/java/library/mock-testing-using-powermock-with-junit-and-mockito/</a>):</p>\n<pre><code>    &lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;version&gt;3.12.4&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\n    &lt;version&gt;2.0.9&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n    &lt;version&gt;2.0.9&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n    &lt;version&gt;2.0.9&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Watch carrefully your dependencies and not mix Mockito @Mock and Powermock @Mock annotations.</p>\n"}],"owner":{"account_id":44027,"reputation":88490,"user_id":128967,"accept_rate":85,"display_name":"Naftuli Kay"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1165380,"favorite_count":0,"down_vote_count":1,"up_vote_count":504,"accepted_answer_id":21116014,"answer_count":22,"score":503,"last_activity_date":1699197832,"creation_date":1389668933,"question_id":21105403,"body_markdown":"I&#39;ve written a factory to produce `java.sql.Connection` objects:\r\n\r\n    public class MySQLDatabaseConnectionFactory implements DatabaseConnectionFactory {\r\n    \r\n        @Override public Connection getConnection() {\r\n            try {\r\n                return DriverManager.getConnection(...);\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;d like to validate the parameters passed to `DriverManager.getConnection`, but I don&#39;t know how to mock a static method. I&#39;m using JUnit 4 and Mockito for my test cases. Is there a good way to mock/verify this specific use-case?","title":"Mocking static methods with Mockito","body":"<p>I've written a factory to produce <code>java.sql.Connection</code> objects:</p>\n\n<pre><code>public class MySQLDatabaseConnectionFactory implements DatabaseConnectionFactory {\n\n    @Override public Connection getConnection() {\n        try {\n            return DriverManager.getConnection(...);\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n\n<p>I'd like to validate the parameters passed to <code>DriverManager.getConnection</code>, but I don't know how to mock a static method. I'm using JUnit 4 and Mockito for my test cases. Is there a good way to mock/verify this specific use-case?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1699197151,"post_id":77426266,"comment_id":136498457,"body_markdown":"I suspect the problem is that `dbFile` is returning null/default values. What is the mapping there?","body":"I suspect the problem is that <code>dbFile</code> is returning null/default values. What is the mapping there?"},{"owner":{"account_id":29831400,"reputation":1,"user_id":22861952,"display_name":"V&#237;ctor Monteiro"},"score":0,"creation_date":1699209581,"post_id":77426266,"comment_id":136499936,"body_markdown":"@Shadow It&#39;s mapped by the entity","body":"@Shadow It&#39;s mapped by the entity"},{"owner":{"account_id":29831400,"reputation":1,"user_id":22861952,"display_name":"V&#237;ctor Monteiro"},"score":0,"creation_date":1699209598,"post_id":77426266,"comment_id":136499940,"body_markdown":"`\n@Entity\n@Table(name = &quot;RESULTADOS_EXAMES&quot;)\npublic class ResultadosExames {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id_exame&quot;)\n    private Integer idExame;\n    @ManyToOne\n    @JoinColumn(name = &quot;ID_PACIENTE_FK&quot;)\n    private Paciente idPaciente;\n\n    @Column(name = &quot;TIPO_EXAME&quot;)\n    private String tipoExame;\n\n    @Column(name = &quot;DATA_EXAME&quot;)\n    private LocalDate dataExame;\n\n    @Column (name = &quot;NOME_ARQUIVO&quot;)\n    private String nomeArquivo;\n\n    @Lob\n    @Column(name = &quot;ARQUIVO_EXAME&quot;)\n    private byte[] arquivoExame;`","body":"` @Entity @Table(name = &quot;RESULTADOS_EXAMES&quot;) public class ResultadosExames {      @Id     @GeneratedValue(strategy = GenerationType.IDENTITY)     @Column(name=&quot;id_exame&quot;)     private Integer idExame;     @ManyToOne     @JoinColumn(name = &quot;ID_PACIENTE_FK&quot;)     private Paciente idPaciente;      @Column(name = &quot;TIPO_EXAME&quot;)     private String tipoExame;      @Column(name = &quot;DATA_EXAME&quot;)     private LocalDate dataExame;      @Column (name = &quot;NOME_ARQUIVO&quot;)     private String nomeArquivo;      @Lob     @Column(name = &quot;ARQUIVO_EXAME&quot;)     private byte[] arquivoExame;`"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1699263125,"post_id":77426266,"comment_id":136504886,"body_markdown":"Don&#39;t post more than one line of code in comments. Edit your question instead.","body":"Don&#39;t post more than one line of code in comments. Edit your question instead."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1699263261,"post_id":77426266,"comment_id":136504905,"body_markdown":"Your ResponseFile has null values, because the dbFile has empty values. Do deeper. Learn to use a debugger.","body":"Your ResponseFile has null values, because the dbFile has empty values. Do deeper. Learn to use a debugger."}],"answers":[{"tags":[],"owner":{"account_id":23198235,"reputation":54,"user_id":17293521,"display_name":"Oğuz Yeşil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699197618,"creation_date":1699197618,"answer_id":77426505,"question_id":77426266,"body_markdown":"If I am not wrong, your problem occurs due to ResponseFile. I think ResponseFile should not look like that, it should look more like this.\r\n\r\n    @Entity\r\n    @Table(name=&quot;cashes&quot;)\r\n    public class Cash {\r\n\t  @Id\r\n\t  @Column(name=&quot;id&quot;)\r\n\t  @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t  int id;\r\n\t\r\n\t  @Column(name=&quot;storecode&quot;)\r\n\t  int storeCode;\r\n\t\r\n\t  @Column(name=&quot;storecashcode&quot;)\r\n\t  int storeCashCode;\r\n\t\r\n\t  @Column(name=&quot;generatedtoken&quot;)\r\n\t  String generatedToken;\r\n\t\r\n\t  @Column(name=&quot;usage&quot;)\r\n\t  int usage;\r\n\r\n\t  public Cash(int id, int storeCode, int storeCashCode, String generatedToken,\r\n\t\t\tint usage) {\r\n\t\t  this.id = id;\r\n\t\t  this.storeCode = storeCode;\r\n\t\t  this.storeCashCode = storeCashCode;\r\n\t\t  this.generatedToken = generatedToken;\r\n\t\t  this.usage = usage;\r\n\t  }\r\n\t\r\n\t  public Cash() {}\r\n\t\r\n\t  //getters and setters","title":"Recieving JSON with null fields","body":"<p>If I am not wrong, your problem occurs due to ResponseFile. I think ResponseFile should not look like that, it should look more like this.</p>\n<pre><code>@Entity\n@Table(name=&quot;cashes&quot;)\npublic class Cash {\n  @Id\n  @Column(name=&quot;id&quot;)\n  @GeneratedValue(strategy=GenerationType.IDENTITY)\n  int id;\n\n  @Column(name=&quot;storecode&quot;)\n  int storeCode;\n\n  @Column(name=&quot;storecashcode&quot;)\n  int storeCashCode;\n\n  @Column(name=&quot;generatedtoken&quot;)\n  String generatedToken;\n\n  @Column(name=&quot;usage&quot;)\n  int usage;\n\n  public Cash(int id, int storeCode, int storeCashCode, String generatedToken,\n        int usage) {\n      this.id = id;\n      this.storeCode = storeCode;\n      this.storeCashCode = storeCashCode;\n      this.generatedToken = generatedToken;\n      this.usage = usage;\n  }\n\n  public Cash() {}\n\n  //getters and setters\n</code></pre>\n"}],"owner":{"account_id":29831400,"reputation":1,"user_id":22861952,"display_name":"V&#237;ctor Monteiro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699197618,"creation_date":1699193864,"question_id":77426266,"body_markdown":"I&#39;m developing an API (just for study), when I try to list files saved on my DB (local) using endpoint to list the files, I&#39;m recieving this:\r\n\r\n    [\r\n    {\r\n        &quot;nome&quot;: null,\r\n        &quot;url&quot;: null,\r\n        &quot;type&quot;: null,\r\n        &quot;size&quot;: 0,\r\n        &quot;paciente&quot;: null,\r\n        &quot;medico&quot;: null\r\n    }\r\n]\r\n\r\nthis is my endpoint:\r\n\r\n```\r\n    @GetMapping(&quot;/files&quot;)\r\n    public ResponseEntity&lt;List&lt;ResponseFile&gt;&gt; getListFiles() {\r\n        List&lt;ResponseFile&gt; files = resultadosExamesService.listarTodosArquivos().map(dbFile -&gt; {\r\n            String fileDownloadUri = ServletUriComponentsBuilder\r\n                    .fromCurrentContextPath()\r\n                    .path(&quot;/exames/files/&quot;)\r\n                    .path(dbFile.getIdExame().toString())\r\n                    .toUriString();\r\n\r\n            return new ResponseFile(\r\n                    dbFile.getNomeArquivo(),\r\n                    fileDownloadUri,\r\n                    dbFile.getTipoExame(),\r\n                    dbFile.getArquivoExame().length);\r\n        }).collect(Collectors.toList());\r\n\r\n        return ResponseEntity.status(HttpStatus.OK).body(files);\r\n    }\r\n```\r\n\r\nand my ResponseFile:\r\n\r\n```\r\npublic class ResponseFile {\r\n    private String nome;\r\n    private String url;\r\n    private String type;\r\n    private long size;\r\n    private Paciente paciente;\r\n\r\n    private PacientesDTO pacienteDTO;\r\n    private Medico medico;\r\n\r\n    public ResponseFile(String nomeArquivo, String fileDownloadUri, String tipoExame, int length) {\r\n        this.nome = nome;\r\n        this.url = url;\r\n        this.type = type;\r\n        this.size = size;\r\n\r\n    }\r\n//get and set...\r\n```\r\n\r\n\r\n\r\nI was expecting to recieve a JSON like this:\r\n(this endpoint lists doctor&#39;s appointments from DB)\r\n\r\n    [\r\n    {\r\n        &quot;idConsulta&quot;: 2,\r\n        &quot;nomeMedico&quot;: &quot;Camila Bernardo&quot;,\r\n        &quot;nomePaciente&quot;: &quot;Jo&#227;o&quot;,\r\n        &quot;motivoConsulta&quot;: &quot;fortes dores de cabe&#231;a&quot;,\r\n        &quot;dataConsulta&quot;: &quot;2023-12-12T14:00:00&quot;\r\n    },\r\n    {\r\n        &quot;idConsulta&quot;: 3,\r\n        &quot;nomeMedico&quot;: &quot;Camila Bernardo&quot;,\r\n        &quot;nomePaciente&quot;: &quot;Jo&#227;o&quot;,\r\n        &quot;motivoConsulta&quot;: &quot;fortes dores de cabe&#231;a&quot;,\r\n        &quot;dataConsulta&quot;: &quot;2023-12-12T16:00:00&quot;\r\n    }\r\n]","title":"Recieving JSON with null fields","body":"<p>I'm developing an API (just for study), when I try to list files saved on my DB (local) using endpoint to list the files, I'm recieving this:</p>\n<pre><code>[\n{\n    &quot;nome&quot;: null,\n    &quot;url&quot;: null,\n    &quot;type&quot;: null,\n    &quot;size&quot;: 0,\n    &quot;paciente&quot;: null,\n    &quot;medico&quot;: null\n}\n</code></pre>\n<p>]</p>\n<p>this is my endpoint:</p>\n<pre><code>    @GetMapping(&quot;/files&quot;)\n    public ResponseEntity&lt;List&lt;ResponseFile&gt;&gt; getListFiles() {\n        List&lt;ResponseFile&gt; files = resultadosExamesService.listarTodosArquivos().map(dbFile -&gt; {\n            String fileDownloadUri = ServletUriComponentsBuilder\n                    .fromCurrentContextPath()\n                    .path(&quot;/exames/files/&quot;)\n                    .path(dbFile.getIdExame().toString())\n                    .toUriString();\n\n            return new ResponseFile(\n                    dbFile.getNomeArquivo(),\n                    fileDownloadUri,\n                    dbFile.getTipoExame(),\n                    dbFile.getArquivoExame().length);\n        }).collect(Collectors.toList());\n\n        return ResponseEntity.status(HttpStatus.OK).body(files);\n    }\n</code></pre>\n<p>and my ResponseFile:</p>\n<pre><code>public class ResponseFile {\n    private String nome;\n    private String url;\n    private String type;\n    private long size;\n    private Paciente paciente;\n\n    private PacientesDTO pacienteDTO;\n    private Medico medico;\n\n    public ResponseFile(String nomeArquivo, String fileDownloadUri, String tipoExame, int length) {\n        this.nome = nome;\n        this.url = url;\n        this.type = type;\n        this.size = size;\n\n    }\n//get and set...\n</code></pre>\n<p>I was expecting to recieve a JSON like this:\n(this endpoint lists doctor's appointments from DB)</p>\n<pre><code>[\n{\n    &quot;idConsulta&quot;: 2,\n    &quot;nomeMedico&quot;: &quot;Camila Bernardo&quot;,\n    &quot;nomePaciente&quot;: &quot;João&quot;,\n    &quot;motivoConsulta&quot;: &quot;fortes dores de cabeça&quot;,\n    &quot;dataConsulta&quot;: &quot;2023-12-12T14:00:00&quot;\n},\n{\n    &quot;idConsulta&quot;: 3,\n    &quot;nomeMedico&quot;: &quot;Camila Bernardo&quot;,\n    &quot;nomePaciente&quot;: &quot;João&quot;,\n    &quot;motivoConsulta&quot;: &quot;fortes dores de cabeça&quot;,\n    &quot;dataConsulta&quot;: &quot;2023-12-12T16:00:00&quot;\n}\n</code></pre>\n<p>]</p>\n"},{"tags":["java","json","parsing","json-simple"],"comments":[{"owner":{"account_id":7594758,"reputation":8039,"user_id":5761243,"display_name":"Muhammed Fasil"},"score":0,"creation_date":1664348397,"post_id":10926353,"comment_id":130447991,"body_markdown":"Please refer the below answer https://stackoverflow.com/questions/7463414/what-s-the-best-way-to-load-a-jsonobject-from-a-json-text-file","body":"Please refer the below answer <a href=\"https://stackoverflow.com/questions/7463414/what-s-the-best-way-to-load-a-jsonobject-from-a-json-text-file\" title=\"what s the best way to load a jsonobject from a json text file\">stackoverflow.com/questions/7463414/&hellip;</a>"},{"owner":{"account_id":903826,"reputation":646,"user_id":939217,"display_name":"Mostafa Nazari"},"score":0,"creation_date":1671086779,"post_id":10926353,"comment_id":132022951,"body_markdown":"don&#39;t want to use data model? it&#39;s as easy as a pie, if you use gson you can simply parse it by s.th like this: `List&lt;YOUR_USER_MODEL&gt; info = new Gson().fromJson(YOUR_JSON_STRING, new TypeToken&lt;List&lt;YOUR_USER_MODEL&gt;&gt;() {}.getType())`","body":"don&#39;t want to use data model? it&#39;s as easy as a pie, if you use gson you can simply parse it by s.th like this: <code>List&lt;YOUR_USER_MODEL&gt; info = new Gson().fromJson(YOUR_JSON_STRING, new TypeToken&lt;List&lt;YOUR_USER_MODEL&gt;&gt;() {}.getType())</code>"}],"answers":[{"tags":[],"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"down_vote_count":1,"up_vote_count":109,"is_accepted":false,"score":108,"last_activity_date":1515920899,"creation_date":1339048494,"answer_id":10926379,"question_id":10926353,"body_markdown":"&gt; ***The whole file is an array and there are objects and other arrays (e.g. cars) in the whole array of the file.***\r\n\r\nAs you say, the outermost layer of your JSON blob is an array.  Therefore, your parser will return a `JSONArray`.  You can then get `JSONObject`s from the array ...\r\n\r\n      JSONArray a = (JSONArray) parser.parse(new FileReader(&quot;c:\\\\exer4-courses.json&quot;));\r\n\r\n      for (Object o : a)\r\n      {\r\n        JSONObject person = (JSONObject) o;\r\n\r\n        String name = (String) person.get(&quot;name&quot;);\r\n        System.out.println(name);\r\n\r\n        String city = (String) person.get(&quot;city&quot;);\r\n        System.out.println(city);\r\n\r\n        String job = (String) person.get(&quot;job&quot;);\r\n        System.out.println(job);\r\n\r\n        JSONArray cars = (JSONArray) person.get(&quot;cars&quot;);\r\n\r\n        for (Object c : cars)\r\n        {\r\n          System.out.println(c+&quot;&quot;);\r\n        }\r\n      }\r\n\r\nFor reference, see &quot;Example 1&quot; on the [json-simple decoding example][1] page.\r\n\r\n[1]: http://code.google.com/p/json-simple/wiki/DecodingExamples","title":"How to read json file into java with simple JSON library","body":"<blockquote>\n  <p><strong><em>The whole file is an array and there are objects and other arrays (e.g. cars) in the whole array of the file.</em></strong></p>\n</blockquote>\n\n<p>As you say, the outermost layer of your JSON blob is an array.  Therefore, your parser will return a <code>JSONArray</code>.  You can then get <code>JSONObject</code>s from the array ...</p>\n\n<pre><code>  JSONArray a = (JSONArray) parser.parse(new FileReader(\"c:\\\\exer4-courses.json\"));\n\n  for (Object o : a)\n  {\n    JSONObject person = (JSONObject) o;\n\n    String name = (String) person.get(\"name\");\n    System.out.println(name);\n\n    String city = (String) person.get(\"city\");\n    System.out.println(city);\n\n    String job = (String) person.get(\"job\");\n    System.out.println(job);\n\n    JSONArray cars = (JSONArray) person.get(\"cars\");\n\n    for (Object c : cars)\n    {\n      System.out.println(c+\"\");\n    }\n  }\n</code></pre>\n\n<p>For reference, see \"Example 1\" on the <a href=\"http://code.google.com/p/json-simple/wiki/DecodingExamples\" rel=\"noreferrer\">json-simple decoding example</a> page.</p>\n"},{"tags":[],"owner":{"account_id":294218,"reputation":5096,"user_id":597983,"accept_rate":75,"display_name":"Mady"},"down_vote_count":0,"up_vote_count":82,"is_accepted":false,"score":82,"last_activity_date":1365944227,"creation_date":1365944227,"answer_id":15999290,"question_id":10926353,"body_markdown":"You can use jackson library and simply use these 3 lines to convert your json file to Java Object.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    InputStream is = Test.class.getResourceAsStream(&quot;/test.json&quot;);\r\n    testObj = mapper.readValue(is, Test.class);","title":"How to read json file into java with simple JSON library","body":"<p>You can use jackson library and simply use these 3 lines to convert your json file to Java Object.</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nInputStream is = Test.class.getResourceAsStream(\"/test.json\");\ntestObj = mapper.readValue(is, Test.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6300324,"reputation":41,"user_id":4895210,"display_name":"Delvin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1431511805,"creation_date":1431511805,"answer_id":30211720,"question_id":10926353,"body_markdown":"    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    \r\n    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n    \r\n    public class Delete_01 {\r\n    \tpublic static void main(String[] args) throws FileNotFoundException,\r\n    \t\t\tIOException, ParseException {\r\n    \r\n    \t\tJSONParser parser = new JSONParser();\r\n    \t\tJSONArray jsonArray = (JSONArray) parser.parse(new FileReader(\r\n    \t\t\t\t&quot;delete_01.json&quot;));\r\n    \r\n    \t\tfor (Object o : jsonArray) {\r\n    \t\t\tJSONObject person = (JSONObject) o;\r\n    \r\n    \t\t\tString strName = (String) person.get(&quot;name&quot;);\r\n    \t\t\tSystem.out.println(&quot;Name::::&quot; + strName);\r\n    \r\n    \t\t\tString strCity = (String) person.get(&quot;city&quot;);\r\n    \t\t\tSystem.out.println(&quot;City::::&quot; + strCity);\r\n    \r\n    \t\t\tJSONArray arrays = (JSONArray) person.get(&quot;cars&quot;);\r\n    \t\t\tfor (Object object : arrays) {\r\n    \t\t\t\tSystem.out.println(&quot;cars::::&quot; + object);\r\n    \t\t\t}\r\n    \t\t\tString strJob = (String) person.get(&quot;job&quot;);\r\n    \t\t\tSystem.out.println(&quot;Job::::&quot; + strJob);\r\n    \t\t\tSystem.out.println();\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"How to read json file into java with simple JSON library","body":"<pre><code>import java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\n\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\n\npublic class Delete_01 {\n    public static void main(String[] args) throws FileNotFoundException,\n            IOException, ParseException {\n\n        JSONParser parser = new JSONParser();\n        JSONArray jsonArray = (JSONArray) parser.parse(new FileReader(\n                \"delete_01.json\"));\n\n        for (Object o : jsonArray) {\n            JSONObject person = (JSONObject) o;\n\n            String strName = (String) person.get(\"name\");\n            System.out.println(\"Name::::\" + strName);\n\n            String strCity = (String) person.get(\"city\");\n            System.out.println(\"City::::\" + strCity);\n\n            JSONArray arrays = (JSONArray) person.get(\"cars\");\n            for (Object object : arrays) {\n                System.out.println(\"cars::::\" + object);\n            }\n            String strJob = (String) person.get(\"job\");\n            System.out.println(\"Job::::\" + strJob);\n            System.out.println();\n\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6296279,"reputation":11,"user_id":4892382,"display_name":"rehan hanar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435132249,"creation_date":1435132249,"answer_id":31020781,"question_id":10926353,"body_markdown":"Hope this example helps too\r\n\r\nI have done java coding in a similar way for the below json array example as follows :\r\n\r\nfollowing is the json data format : stored as &quot;EMPJSONDATA.json&quot;\r\n\r\n[{&quot;EMPNO&quot;:275172,&quot;EMP_NAME&quot;:&quot;Rehan&quot;,&quot;DOB&quot;:&quot;29-02-1992&quot;,&quot;DOJ&quot;:&quot;10-06-2013&quot;,&quot;ROLE&quot;:&quot;JAVA DEVELOPER&quot;},\r\n\r\n{&quot;EMPNO&quot;:275173,&quot;EMP_NAME&quot;:&quot;G.K&quot;,&quot;DOB&quot;:&quot;10-02-1992&quot;,&quot;DOJ&quot;:&quot;11-07-2013&quot;,&quot;ROLE&quot;:&quot;WINDOWS ADMINISTRATOR&quot;},\r\n\r\n{&quot;EMPNO&quot;:275174,&quot;EMP_NAME&quot;:&quot;Abiram&quot;,&quot;DOB&quot;:&quot;10-04-1992&quot;,&quot;DOJ&quot;:&quot;12-08-2013&quot;,&quot;ROLE&quot;:&quot;PROJECT ANALYST&quot;}\r\n\r\n{&quot;EMPNO&quot;:275174,&quot;EMP_NAME&quot;:&quot;Mohamed Mushi&quot;,&quot;DOB&quot;:&quot;10-04-1992&quot;,&quot;DOJ&quot;:&quot;12-08-2013&quot;,&quot;ROLE&quot;:&quot;PROJECT ANALYST&quot;}]\r\n\r\n\r\n\r\n    public class Jsonminiproject {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t  JSONParser parser = new JSONParser();\r\n\t\t  \r\n\t\ttry {\r\n\t\t\tJSONArray a = (JSONArray) parser.parse(new FileReader(&quot;F:/JSON DATA/EMPJSONDATA.json&quot;));\r\n\t\t\tfor (Object o : a)\r\n\t\t\t{\r\n\t\t\t\tJSONObject employee = (JSONObject) o;\r\n\t\t\t\t\r\n\t\t\t\tLong no = (Long) employee.get(&quot;EMPNO&quot;);\r\n\t\t\t    System.out.println(&quot;Employee Number : &quot; + no);\r\n\t\t\t    \r\n\t\t\t    String st = (String) employee.get(&quot;EMP_NAME&quot;);\r\n\t\t\t    System.out.println(&quot;Employee Name : &quot; + st);\r\n\t\t\t    \r\n\t\t\t    String dob = (String) employee.get(&quot;DOB&quot;);\r\n\t\t\t    System.out.println(&quot;Employee DOB : &quot; + dob);\r\n\t\t\t    \r\n\t\t\t    String doj = (String) employee.get(&quot;DOJ&quot;);\r\n\t\t\t    System.out.println(&quot;Employee DOJ : &quot; + doj);\r\n\t\t\t    \r\n\t\t\t    String role = (String) employee.get(&quot;ROLE&quot;);\r\n\t\t\t    System.out.println(&quot;Employee Role : &quot; + role);\r\n\t\t\t    \r\n\t\t\t    System.out.println(&quot;\\n&quot;);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (ParseException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\r\n\t\r\n\t}\r\n\r\n    }\r\n","title":"How to read json file into java with simple JSON library","body":"<p>Hope this example helps too</p>\n\n<p>I have done java coding in a similar way for the below json array example as follows :</p>\n\n<p>following is the json data format : stored as \"EMPJSONDATA.json\"</p>\n\n<p>[{\"EMPNO\":275172,\"EMP_NAME\":\"Rehan\",\"DOB\":\"29-02-1992\",\"DOJ\":\"10-06-2013\",\"ROLE\":\"JAVA DEVELOPER\"},</p>\n\n<p>{\"EMPNO\":275173,\"EMP_NAME\":\"G.K\",\"DOB\":\"10-02-1992\",\"DOJ\":\"11-07-2013\",\"ROLE\":\"WINDOWS ADMINISTRATOR\"},</p>\n\n<p>{\"EMPNO\":275174,\"EMP_NAME\":\"Abiram\",\"DOB\":\"10-04-1992\",\"DOJ\":\"12-08-2013\",\"ROLE\":\"PROJECT ANALYST\"}</p>\n\n<p>{\"EMPNO\":275174,\"EMP_NAME\":\"Mohamed Mushi\",\"DOB\":\"10-04-1992\",\"DOJ\":\"12-08-2013\",\"ROLE\":\"PROJECT ANALYST\"}]</p>\n\n<pre><code>public class Jsonminiproject {\n\npublic static void main(String[] args) {\n\n      JSONParser parser = new JSONParser();\n\n    try {\n        JSONArray a = (JSONArray) parser.parse(new FileReader(\"F:/JSON DATA/EMPJSONDATA.json\"));\n        for (Object o : a)\n        {\n            JSONObject employee = (JSONObject) o;\n\n            Long no = (Long) employee.get(\"EMPNO\");\n            System.out.println(\"Employee Number : \" + no);\n\n            String st = (String) employee.get(\"EMP_NAME\");\n            System.out.println(\"Employee Name : \" + st);\n\n            String dob = (String) employee.get(\"DOB\");\n            System.out.println(\"Employee DOB : \" + dob);\n\n            String doj = (String) employee.get(\"DOJ\");\n            System.out.println(\"Employee DOJ : \" + doj);\n\n            String role = (String) employee.get(\"ROLE\");\n            System.out.println(\"Employee Role : \" + role);\n\n            System.out.println(\"\\n\");\n\n        }\n\n\n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (ParseException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n\n\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8139979,"reputation":151,"user_id":6130486,"display_name":"Teddy"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1459270883,"creation_date":1459269752,"answer_id":36290229,"question_id":10926353,"body_markdown":"Reading from JsonFile\r\n\r\n    public static ArrayList&lt;Employee&gt; readFromJsonFile(String fileName){\r\n    \t\tArrayList&lt;Employee&gt; result = new ArrayList&lt;Employee&gt;();\r\n    \r\n    \t\ttry{\r\n    \t\t\tString text = new String(Files.readAllBytes(Paths.get(fileName)), StandardCharsets.UTF_8);\r\n    \t\r\n    \t\t\tJSONObject obj = new JSONObject(text);\r\n    \t\t\tJSONArray arr = obj.getJSONArray(&quot;employees&quot;);\r\n    \t\r\n    \t\t\tfor(int i = 0; i &lt; arr.length(); i++){\r\n    \t\t\t\tString name = arr.getJSONObject(i).getString(&quot;name&quot;);\r\n    \t\t\t\tshort salary = Short.parseShort(arr.getJSONObject(i).getString(&quot;salary&quot;));\r\n    \t\t\t\tString position = arr.getJSONObject(i).getString(&quot;position&quot;);\r\n    \t\t\t\tbyte years_in_company = Byte.parseByte(arr.getJSONObject(i).getString(&quot;years_in_company&quot;));\t\r\n    \t\t\t\tif (position.compareToIgnoreCase(&quot;manager&quot;) == 0){\r\n    \t\t\t\t\tresult.add(new Manager(name, salary, position, years_in_company));\r\n    \t\t\t\t}\r\n    \t\t\t\telse{\r\n    \t\t\t\t\tresult.add(new OrdinaryEmployee(name, salary, position, years_in_company));\r\n    \t\t\t\t}\r\n    \t\t\t}\t\t\t\r\n    \t\t}\r\n    \t\tcatch(Exception ex){\r\n    \t\t\tSystem.out.println(ex.toString());\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}","title":"How to read json file into java with simple JSON library","body":"<p>Reading from JsonFile</p>\n\n<pre><code>public static ArrayList&lt;Employee&gt; readFromJsonFile(String fileName){\n        ArrayList&lt;Employee&gt; result = new ArrayList&lt;Employee&gt;();\n\n        try{\n            String text = new String(Files.readAllBytes(Paths.get(fileName)), StandardCharsets.UTF_8);\n\n            JSONObject obj = new JSONObject(text);\n            JSONArray arr = obj.getJSONArray(\"employees\");\n\n            for(int i = 0; i &lt; arr.length(); i++){\n                String name = arr.getJSONObject(i).getString(\"name\");\n                short salary = Short.parseShort(arr.getJSONObject(i).getString(\"salary\"));\n                String position = arr.getJSONObject(i).getString(\"position\");\n                byte years_in_company = Byte.parseByte(arr.getJSONObject(i).getString(\"years_in_company\")); \n                if (position.compareToIgnoreCase(\"manager\") == 0){\n                    result.add(new Manager(name, salary, position, years_in_company));\n                }\n                else{\n                    result.add(new OrdinaryEmployee(name, salary, position, years_in_company));\n                }\n            }           \n        }\n        catch(Exception ex){\n            System.out.println(ex.toString());\n        }\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5812420,"reputation":7,"user_id":4583038,"display_name":"Rajat Mahajan"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1485199252,"creation_date":1485199252,"answer_id":41814000,"question_id":10926353,"body_markdown":"You can use readAllBytes.\r\n\r\n`return String(Files.readAllBytes(Paths.get(filePath)),StandardCharsets.UTF_8);`","title":"How to read json file into java with simple JSON library","body":"<p>You can use readAllBytes.</p>\n\n<p><code>return String(Files.readAllBytes(Paths.get(filePath)),StandardCharsets.UTF_8);</code></p>\n"},{"tags":[],"owner":{"account_id":4877821,"reputation":3416,"user_id":3932396,"accept_rate":78,"display_name":"Ankur Mahajan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1487943514,"creation_date":1487943514,"answer_id":42440060,"question_id":10926353,"body_markdown":"Use google-simple library.\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nPlease find the sample code below:\r\n\r\n    public static void main(String[] args) {\r\n    \ttry {\r\n    \t\tJSONParser parser = new JSONParser();\r\n            //Use JSONObject for simple JSON and JSONArray for array of JSON.\r\n    \t\tJSONObject data = (JSONObject) parser.parse(\r\n    \t\t\t  new FileReader(&quot;/resources/config.json&quot;));//path to the JSON file.\r\n    \r\n    \t\tString json = data.toJSONString();\r\n    \t} catch (IOException | ParseException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n&lt;p&gt;Use JSONObject for simple JSON like `{&quot;id&quot;:&quot;1&quot;,&quot;name&quot;:&quot;ankur&quot;}` and JSONArray for array of JSON like `[{&quot;id&quot;:&quot;1&quot;,&quot;name&quot;:&quot;ankur&quot;},{&quot;id&quot;:&quot;2&quot;,&quot;name&quot;:&quot;mahajan&quot;}]`.","title":"How to read json file into java with simple JSON library","body":"<p>Use google-simple library.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n    &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Please find the sample code below:</p>\n\n<pre><code>public static void main(String[] args) {\n    try {\n        JSONParser parser = new JSONParser();\n        //Use JSONObject for simple JSON and JSONArray for array of JSON.\n        JSONObject data = (JSONObject) parser.parse(\n              new FileReader(\"/resources/config.json\"));//path to the JSON file.\n\n        String json = data.toJSONString();\n    } catch (IOException | ParseException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p><p>Use JSONObject for simple JSON like <code>{\"id\":\"1\",\"name\":\"ankur\"}</code> and JSONArray for array of JSON like <code>[{\"id\":\"1\",\"name\":\"ankur\"},{\"id\":\"2\",\"name\":\"mahajan\"}]</code>.</p>\n"},{"tags":[],"owner":{"account_id":7893242,"reputation":8340,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1490614321,"creation_date":1490614321,"answer_id":43045241,"question_id":10926353,"body_markdown":"Add Jackson databind:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.0.pr2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCreate DTO class with related fields and read JSON file:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    ExampleClass example = objectMapper.readValue(new File(&quot;example.json&quot;), ExampleClass.class);","title":"How to read json file into java with simple JSON library","body":"<p>Add Jackson databind:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.9.0.pr2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Create DTO class with related fields and read JSON file:</p>\n\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nExampleClass example = objectMapper.readValue(new File(\"example.json\"), ExampleClass.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7523338,"reputation":683,"user_id":5714489,"accept_rate":71,"display_name":"Srijan Sharma"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1502185556,"creation_date":1502185556,"answer_id":45564953,"question_id":10926353,"body_markdown":"Might be of help for someone else facing the same issue.You can load the file as string and then can convert the string to jsonobject to access the values.\r\n\r\n    import java.util.Scanner;\r\n    import org.json.JSONObject;\r\n    String myJson = new Scanner(new File(filename)).useDelimiter(&quot;\\\\Z&quot;).next();\r\n    JSONObject myJsonobject = new JSONObject(myJson);\r\n\r\n\r\n    ","title":"How to read json file into java with simple JSON library","body":"<p>Might be of help for someone else facing the same issue.You can load the file as string and then can convert the string to jsonobject to access the values.</p>\n\n<pre><code>import java.util.Scanner;\nimport org.json.JSONObject;\nString myJson = new Scanner(new File(filename)).useDelimiter(\"\\\\Z\").next();\nJSONObject myJsonobject = new JSONObject(myJson);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11339947,"reputation":23,"user_id":8314388,"display_name":"P RAJESH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508759249,"creation_date":1508759249,"answer_id":46888601,"question_id":10926353,"body_markdown":"    package com.json;\r\n    \r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.Iterator;\r\n    \r\n    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n    \r\n    public class ReadJSONFile {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tJSONParser parser = new JSONParser();\r\n    \r\n    \t\ttry {\r\n    \t\t\tObject obj = parser.parse(new FileReader(&quot;C:/My Workspace/JSON Test/file.json&quot;));\r\n    \r\n    \t\t\tJSONArray array = (JSONArray) obj;\r\n    \t\t\tJSONObject jsonObject = (JSONObject) array.get(0);\r\n    \r\n    \t\t\tString name = (String) jsonObject.get(&quot;name&quot;);\r\n    \t\t\tSystem.out.println(name);\r\n    \r\n    \t\t\tString city = (String) jsonObject.get(&quot;city&quot;);\r\n    \t\t\tSystem.out.println(city);\r\n    \r\n    \t\t\tString job = (String) jsonObject.get(&quot;job&quot;);\r\n    \t\t\tSystem.out.println(job);\r\n    \r\n    \t\t\t// loop array\r\n    \t\t\tJSONArray cars = (JSONArray) jsonObject.get(&quot;cars&quot;);\r\n    \t\t\tIterator&lt;String&gt; iterator = cars.iterator();\r\n    \t\t\twhile (iterator.hasNext()) {\r\n    \t\t\t\tSystem.out.println(iterator.next());\r\n    \t\t\t}\r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to read json file into java with simple JSON library","body":"<pre><code>package com.json;\n\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.Iterator;\n\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\n\npublic class ReadJSONFile {\n\n    public static void main(String[] args) {\n\n        JSONParser parser = new JSONParser();\n\n        try {\n            Object obj = parser.parse(new FileReader(\"C:/My Workspace/JSON Test/file.json\"));\n\n            JSONArray array = (JSONArray) obj;\n            JSONObject jsonObject = (JSONObject) array.get(0);\n\n            String name = (String) jsonObject.get(\"name\");\n            System.out.println(name);\n\n            String city = (String) jsonObject.get(\"city\");\n            System.out.println(city);\n\n            String job = (String) jsonObject.get(\"job\");\n            System.out.println(job);\n\n            // loop array\n            JSONArray cars = (JSONArray) jsonObject.get(\"cars\");\n            Iterator&lt;String&gt; iterator = cars.iterator();\n            while (iterator.hasNext()) {\n                System.out.println(iterator.next());\n            }\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10188796,"reputation":29,"user_id":7522887,"display_name":"lokesh sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523514675,"creation_date":1523509925,"answer_id":49788463,"question_id":10926353,"body_markdown":"Sample Json \r\n\r\n    {\r\n    \t&quot;per_page&quot;: 3,\r\n    \t&quot;total&quot;: 12,\r\n    \t&quot;data&quot;: [{\r\n    \t\t\t&quot;last_name&quot;: &quot;Bluth&quot;,\r\n    \t\t\t&quot;id&quot;: 1,\r\n    \t\t\t&quot;avatar&quot;: &quot;https://s3.amazonaws.com/uifaces/faces/twitter/calebogden/128.jpg&quot;,\r\n    \t\t\t&quot;first_name&quot;: &quot;George&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;last_name&quot;: &quot;Weaver&quot;,\r\n    \t\t\t&quot;id&quot;: 2,\r\n    \t\t\t//&quot;avatar&quot;: &quot;https://s3.amazonaws.com/uifaces/faces/twitter/josephstein/128.jpg&quot;,\r\n    \t\t\t&quot;first_name&quot;: &quot;Janet&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;last_name&quot;: &quot;Wong&quot;,\r\n    \t\t\t&quot;id&quot;: 3,\r\n    \t\t\t//&quot;avatar&quot;: &quot;https://s3.amazonaws.com/uifaces/faces/twitter/olegpogodaev/128.jpg&quot;,\r\n    \t\t\t&quot;first_name&quot;: &quot;Emma&quot;\r\n    \t\t}\r\n    \t],\r\n    \t&quot;page&quot;: 1,\r\n    \t&quot;total_pages&quot;: 4\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nFirst If statement will convert the single data from the body\r\nSecond if statement will differentiate the JsonArray object\r\n\r\n    public static String getvalueJpath(JSONObject responseJson, String Jpath ) {\r\n    \t\tObject obj = responseJson;\r\n    \t\tfor(String s : Jpath.split(&quot;/&quot;))\r\n    \t\t\tif (s.isEmpty())\r\n    \t\t\t\tif(!(s.contains(&quot;[&quot;) || s.contains(&quot;]&quot;)))\r\n    \t\t\t\t\tobj = ((JSONObject) obj).get(s);\r\n    \t\t\t\telse\r\n    \t\t\t\t\tif(s.contains(&quot;[&quot;) || s.contains(&quot;]&quot;))\r\n    \t\t\t\t\t\tobj = ((JSONArray)((JSONObject)obj).get(s.split(&quot;\\\\[&quot;)[0])).get(Integer.parseInt(s.split(&quot;//[&quot;)[1].replaceAll(&quot;]&quot;, &quot;&quot;)));\r\n    \t\t\t\t\r\n    \t\treturn obj.toString();\r\n    \t}\r\n    }\r\n\r\n","title":"How to read json file into java with simple JSON library","body":"<p>Sample Json </p>\n\n<pre><code>{\n    \"per_page\": 3,\n    \"total\": 12,\n    \"data\": [{\n            \"last_name\": \"Bluth\",\n            \"id\": 1,\n            \"avatar\": \"https://s3.amazonaws.com/uifaces/faces/twitter/calebogden/128.jpg\",\n            \"first_name\": \"George\"\n        },\n        {\n            \"last_name\": \"Weaver\",\n            \"id\": 2,\n            //\"avatar\": \"https://s3.amazonaws.com/uifaces/faces/twitter/josephstein/128.jpg\",\n            \"first_name\": \"Janet\"\n        },\n        {\n            \"last_name\": \"Wong\",\n            \"id\": 3,\n            //\"avatar\": \"https://s3.amazonaws.com/uifaces/faces/twitter/olegpogodaev/128.jpg\",\n            \"first_name\": \"Emma\"\n        }\n    ],\n    \"page\": 1,\n    \"total_pages\": 4\n}\n</code></pre>\n\n<hr>\n\n<p>First If statement will convert the single data from the body\nSecond if statement will differentiate the JsonArray object</p>\n\n<pre><code>public static String getvalueJpath(JSONObject responseJson, String Jpath ) {\n        Object obj = responseJson;\n        for(String s : Jpath.split(\"/\"))\n            if (s.isEmpty())\n                if(!(s.contains(\"[\") || s.contains(\"]\")))\n                    obj = ((JSONObject) obj).get(s);\n                else\n                    if(s.contains(\"[\") || s.contains(\"]\"))\n                        obj = ((JSONArray)((JSONObject)obj).get(s.split(\"\\\\[\")[0])).get(Integer.parseInt(s.split(\"//[\")[1].replaceAll(\"]\", \"\")));\n\n        return obj.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15012948,"reputation":926,"user_id":10837620,"display_name":"Atul KS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545896893,"creation_date":1545896893,"answer_id":53941543,"question_id":10926353,"body_markdown":"Solution using Jackson library. Sorted this problem by verifying the json on JSONLint.com and then using Jackson. Below is the code for the same.\r\n\r\n     Main Class:-\r\n\r\n\tString jsonStr = &quot;[{\\r\\n&quot; + &quot;\t\t\\&quot;name\\&quot;: \\&quot;John\\&quot;,\\r\\n&quot; + &quot;\t\t\\&quot;city\\&quot;: \\&quot;Berlin\\&quot;,\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;\t        \\&quot;cars\\&quot;: [\\r\\n&quot; + &quot;\t\t\t\\&quot;FIAT\\&quot;,\\r\\n&quot; + &quot;\t\t\t\\&quot;Toyata\\&quot;\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;\t\t],\\r\\n&quot; + &quot;\t\t\\&quot;job\\&quot;: \\&quot;Teacher\\&quot;\\r\\n&quot; + &quot;\t},\\r\\n&quot; + &quot;\t{\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;\t\t\\&quot;name\\&quot;: \\&quot;Mark\\&quot;,\\r\\n&quot; + &quot;\t\t\\&quot;city\\&quot;: \\&quot;Oslo\\&quot;,\\r\\n&quot; + &quot;\t\t\\&quot;cars\\&quot;: [\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;\t\t\t\\&quot;VW\\&quot;,\\r\\n&quot; + &quot;\t\t\t\\&quot;Toyata\\&quot;\\r\\n&quot; + &quot;\t\t],\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;\t\t\\&quot;job\\&quot;: \\&quot;Doctor\\&quot;\\r\\n&quot; + &quot;\t}\\r\\n&quot; + &quot;]&quot;;\r\n\r\n\t\t\tObjectMapper mapper = new ObjectMapper();\r\n\r\n\t\t\tMyPojo jsonObj[] = mapper.readValue(jsonStr, MyPojo[].class);\r\n\r\n\t\t\tfor (MyPojo itr : jsonObj) {\r\n\r\n\t\t\t\tSystem.out.println(&quot;Val of getName is: &quot; + itr.getName());\r\n\t\t\t\tSystem.out.println(&quot;Val of getCity is: &quot; + itr.getCity());\r\n\t\t\t\tSystem.out.println(&quot;Val of getJob is: &quot; + itr.getJob());\r\n\t\t\t\tSystem.out.println(&quot;Val of getCars is: &quot; + itr.getCars() + &quot;\\n&quot;);\r\n\r\n\t\t\t}\r\n\r\n    POJO:\r\n    \r\n    public class MyPojo {\r\n\r\n\tprivate List&lt;String&gt; cars = new ArrayList&lt;String&gt;();\r\n\r\n\tprivate String name;\r\n\r\n\tprivate String job;\r\n\r\n\tprivate String city;\r\n\r\n\tpublic List&lt;String&gt; getCars() {\r\n\t\treturn cars;\r\n\t}\r\n\r\n\tpublic void setCars(List&lt;String&gt; cars) {\r\n\t\tthis.cars = cars;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getJob() {\r\n\t\treturn job;\r\n\t}\r\n\r\n\tpublic void setJob(String job) {\r\n\t\tthis.job = job;\r\n\t}\r\n\r\n\tpublic String getCity() {\r\n\t\treturn city;\r\n\t}\r\n\r\n\tpublic void setCity(String city) {\r\n\t\tthis.city = city;\r\n\t} }\r\n\r\n      RESULT:-\r\n             Val of getName is: John\r\n             Val of getCity is: Berlin\r\n             Val of getJob is: Teacher\r\n             Val of getCars is: [FIAT, Toyata]\r\n\r\n              Val of getName is: Mark\r\n              Val of getCity is: Oslo\r\n              Val of getJob is: Doctor\r\n              Val of getCars is: [VW, Toyata]","title":"How to read json file into java with simple JSON library","body":"<p>Solution using Jackson library. Sorted this problem by verifying the json on JSONLint.com and then using Jackson. Below is the code for the same.</p>\n\n<pre><code> Main Class:-\n\nString jsonStr = \"[{\\r\\n\" + \"       \\\"name\\\": \\\"John\\\",\\r\\n\" + \"        \\\"city\\\": \\\"Berlin\\\",\\r\\n\"\n                + \"         \\\"cars\\\": [\\r\\n\" + \"            \\\"FIAT\\\",\\r\\n\" + \"          \\\"Toyata\\\"\\r\\n\"\n                + \"     ],\\r\\n\" + \"     \\\"job\\\": \\\"Teacher\\\"\\r\\n\" + \"   },\\r\\n\" + \" {\\r\\n\"\n                + \"     \\\"name\\\": \\\"Mark\\\",\\r\\n\" + \"        \\\"city\\\": \\\"Oslo\\\",\\r\\n\" + \"        \\\"cars\\\": [\\r\\n\"\n                + \"         \\\"VW\\\",\\r\\n\" + \"            \\\"Toyata\\\"\\r\\n\" + \"     ],\\r\\n\"\n                + \"     \\\"job\\\": \\\"Doctor\\\"\\r\\n\" + \"    }\\r\\n\" + \"]\";\n\n        ObjectMapper mapper = new ObjectMapper();\n\n        MyPojo jsonObj[] = mapper.readValue(jsonStr, MyPojo[].class);\n\n        for (MyPojo itr : jsonObj) {\n\n            System.out.println(\"Val of getName is: \" + itr.getName());\n            System.out.println(\"Val of getCity is: \" + itr.getCity());\n            System.out.println(\"Val of getJob is: \" + itr.getJob());\n            System.out.println(\"Val of getCars is: \" + itr.getCars() + \"\\n\");\n\n        }\n\nPOJO:\n\npublic class MyPojo {\n\nprivate List&lt;String&gt; cars = new ArrayList&lt;String&gt;();\n\nprivate String name;\n\nprivate String job;\n\nprivate String city;\n\npublic List&lt;String&gt; getCars() {\n    return cars;\n}\n\npublic void setCars(List&lt;String&gt; cars) {\n    this.cars = cars;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getJob() {\n    return job;\n}\n\npublic void setJob(String job) {\n    this.job = job;\n}\n\npublic String getCity() {\n    return city;\n}\n\npublic void setCity(String city) {\n    this.city = city;\n} }\n\n  RESULT:-\n         Val of getName is: John\n         Val of getCity is: Berlin\n         Val of getJob is: Teacher\n         Val of getCars is: [FIAT, Toyata]\n\n          Val of getName is: Mark\n          Val of getCity is: Oslo\n          Val of getJob is: Doctor\n          Val of getCars is: [VW, Toyata]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1601372183,"creation_date":1601372183,"answer_id":64116866,"question_id":10926353,"body_markdown":"**your json file look like this** \r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import org.json.simple.*;\r\n    import org.json.simple.parser.*;\r\n    public class JSONReadFromTheFileTest {\r\n       public static void main(String[] args) {\r\n          JSONParser parser = new JSONParser();\r\n          try {\r\n             Object obj = parser.parse(new FileReader(&quot;/Users/User/Desktop/course.json&quot;));\r\n             JSONObject jsonObject = (JSONObject)obj;\r\n             String name = (String)jsonObject.get(&quot;Name&quot;);\r\n             String course = (String)jsonObject.get(&quot;Course&quot;);\r\n             JSONArray subjects = (JSONArray)jsonObject.get(&quot;Subjects&quot;);\r\n             System.out.println(&quot;Name: &quot; + name);\r\n             System.out.println(&quot;Course: &quot; + course);\r\n             System.out.println(&quot;Subjects:&quot;);\r\n             Iterator iterator = subjects.iterator();\r\n             while (iterator.hasNext()) {\r\n                System.out.println(iterator.next());\r\n             }\r\n          } catch(Exception e) {\r\n             e.printStackTrace();\r\n          }\r\n       }\r\n    }\r\n\r\n\r\nthe output is\r\n\r\n    Name: Raja\r\n    Course: MCA\r\n    Subjects:\r\n    subject1: MIS\r\n    subject2: DBMS\r\n    subject3: UML\r\n\r\n\r\n[took it from here][2]\r\n\r\n  [1]: https://i.stack.imgur.com/ySbGG.png\r\n  [2]: https://www.tutorialspoint.com/how-can-we-read-a-json-file-in-java","title":"How to read json file into java with simple JSON library","body":"<p><strong>your json file look like this</strong></p>\n<p><a href=\"https://i.stack.imgur.com/ySbGG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ySbGG.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.io.*;\nimport java.util.*;\nimport org.json.simple.*;\nimport org.json.simple.parser.*;\npublic class JSONReadFromTheFileTest {\n   public static void main(String[] args) {\n      JSONParser parser = new JSONParser();\n      try {\n         Object obj = parser.parse(new FileReader(&quot;/Users/User/Desktop/course.json&quot;));\n         JSONObject jsonObject = (JSONObject)obj;\n         String name = (String)jsonObject.get(&quot;Name&quot;);\n         String course = (String)jsonObject.get(&quot;Course&quot;);\n         JSONArray subjects = (JSONArray)jsonObject.get(&quot;Subjects&quot;);\n         System.out.println(&quot;Name: &quot; + name);\n         System.out.println(&quot;Course: &quot; + course);\n         System.out.println(&quot;Subjects:&quot;);\n         Iterator iterator = subjects.iterator();\n         while (iterator.hasNext()) {\n            System.out.println(iterator.next());\n         }\n      } catch(Exception e) {\n         e.printStackTrace();\n      }\n   }\n}\n</code></pre>\n<p>the output is</p>\n<pre><code>Name: Raja\nCourse: MCA\nSubjects:\nsubject1: MIS\nsubject2: DBMS\nsubject3: UML\n</code></pre>\n<p><a href=\"https://www.tutorialspoint.com/how-can-we-read-a-json-file-in-java\" rel=\"nofollow noreferrer\">took it from here</a></p>\n"},{"tags":[],"owner":{"account_id":10586269,"reputation":21,"user_id":7798513,"display_name":"Arpit Raizada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609235603,"creation_date":1609235603,"answer_id":65490305,"question_id":10926353,"body_markdown":"This issue occurs when you are importing the org. json library for JSONObject class. Instead you need to import org.json.simple library. ","title":"How to read json file into java with simple JSON library","body":"<p>This issue occurs when you are importing the org. json library for JSONObject class. Instead you need to import org.json.simple library.</p>\n"},{"tags":[],"owner":{"account_id":8792169,"reputation":481,"user_id":6571548,"display_name":"HIMANSHU GOYAL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620286143,"creation_date":1620286143,"answer_id":67413604,"question_id":10926353,"body_markdown":"    private static final JsonParser JSON_PARSER = new JsonParser();    \r\n    private static final String FILE_PATH = &quot;configuration/data.json&quot;;\r\n    \r\n    private JsonObject readJsonDataFromFile() {\r\n        try {\r\n            File indexFile = new File(FILE_PATH);\r\n            String fileData = Files.toString(indexFile, Charsets.UTF_8);\r\n            return (JsonObject) JSON_PARSER.parse(fileData);\r\n        } catch (IOException | JsonParseException e) {\r\n            String error = String.format(&quot;Error while reading file %s&quot;, FILE_PATH);\r\n            log.error(error);\r\n            throw new RuntimeException(error, e);\r\n        }\r\n    }","title":"How to read json file into java with simple JSON library","body":"<pre><code>private static final JsonParser JSON_PARSER = new JsonParser();    \nprivate static final String FILE_PATH = &quot;configuration/data.json&quot;;\n\nprivate JsonObject readJsonDataFromFile() {\n    try {\n        File indexFile = new File(FILE_PATH);\n        String fileData = Files.toString(indexFile, Charsets.UTF_8);\n        return (JsonObject) JSON_PARSER.parse(fileData);\n    } catch (IOException | JsonParseException e) {\n        String error = String.format(&quot;Error while reading file %s&quot;, FILE_PATH);\n        log.error(error);\n        throw new RuntimeException(error, e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10428304,"reputation":131,"user_id":7688875,"display_name":"Aman Garg"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1627768577,"creation_date":1627768577,"answer_id":68606076,"question_id":10926353,"body_markdown":"[Gson][1] can be used here:\r\n\r\n\r\n  [1]: https://github.com/google/gson\r\n\r\n    public Object getObjectFromJsonFile(String jsonData, Class classObject) {\r\n        Gson gson = new Gson();\r\n        JsonParser parser = new JsonParser();\r\n        JsonObject object = (JsonObject) parser.parse(jsonData);\r\n        return gson.fromJson(object, classObject);\r\n    }","title":"How to read json file into java with simple JSON library","body":"<p><a href=\"https://github.com/google/gson\" rel=\"noreferrer\">Gson</a> can be used here:</p>\n<pre><code>public Object getObjectFromJsonFile(String jsonData, Class classObject) {\n    Gson gson = new Gson();\n    JsonParser parser = new JsonParser();\n    JsonObject object = (JsonObject) parser.parse(jsonData);\n    return gson.fromJson(object, classObject);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10188796,"reputation":29,"user_id":7522887,"display_name":"lokesh sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638860094,"creation_date":1638859998,"answer_id":70255959,"question_id":10926353,"body_markdown":"```\r\npublic class JsonParser {\r\n\r\n    public static JSONObject parse(String file) {\r\n        InputStream is = JsonParser.class.getClassLoader().getResourceAsStream(file);\r\n        assert is != null;\r\n        return new JSONObject(new JSONTokener(is));\r\n    }\r\n}\r\n// Read Json \r\n    JSONObject deviceObj = new JSONObject(JsonParser.parse(&quot;Your Json filename&quot;).getJSONObject(deviceID).toString());\r\n```\r\nPerform logic to iterate ","title":"How to read json file into java with simple JSON library","body":"<pre><code>public class JsonParser {\n\n    public static JSONObject parse(String file) {\n        InputStream is = JsonParser.class.getClassLoader().getResourceAsStream(file);\n        assert is != null;\n        return new JSONObject(new JSONTokener(is));\n    }\n}\n// Read Json \n    JSONObject deviceObj = new JSONObject(JsonParser.parse(&quot;Your Json filename&quot;).getJSONObject(deviceID).toString());\n</code></pre>\n<p>Perform logic to iterate</p>\n"},{"tags":[],"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639723162,"creation_date":1639723162,"answer_id":70389319,"question_id":10926353,"body_markdown":"Following is the working solution to your problem statement as,\r\n\r\n```\r\nFile file = new File(&quot;json-file.json&quot;);\r\n    JSONParser parser = new JSONParser();\r\n    Object obj = parser.parse(new FileReader(file));\r\n    JSONArray jsonArray = new JSONArray(obj.toString());\r\n    for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n      JSONObject jsonObject = jsonArray.getJSONObject(i);\r\n      System.out.println(jsonObject.get(&quot;name&quot;));\r\n      System.out.println(jsonObject.get(&quot;city&quot;));\r\n      System.out.println(jsonObject.get(&quot;job&quot;));\r\n      jsonObject.getJSONArray(&quot;cars&quot;).forEach(System.out::println);\r\n    }\r\n```","title":"How to read json file into java with simple JSON library","body":"<p>Following is the working solution to your problem statement as,</p>\n<pre><code>File file = new File(&quot;json-file.json&quot;);\n    JSONParser parser = new JSONParser();\n    Object obj = parser.parse(new FileReader(file));\n    JSONArray jsonArray = new JSONArray(obj.toString());\n    for (int i = 0; i &lt; jsonArray.length(); i++) {\n      JSONObject jsonObject = jsonArray.getJSONObject(i);\n      System.out.println(jsonObject.get(&quot;name&quot;));\n      System.out.println(jsonObject.get(&quot;city&quot;));\n      System.out.println(jsonObject.get(&quot;job&quot;));\n      jsonObject.getJSONArray(&quot;cars&quot;).forEach(System.out::println);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user19680274"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659506019,"creation_date":1659506019,"answer_id":73216822,"question_id":10926353,"body_markdown":"\r\n   \r\n\t  try {\r\n          Object obj = parser.parse(new FileReader(&quot;C:/Local Disk/file.json&quot;));\r\n\r\n         // JSONArray array = (JSONArray) obj;\r\n          JSONObject jsonObject = (JSONObject) obj;\r\n\t\t  \r\n\t\t  JSONObject orchestration = (JSONObject) jsonObject.get(&quot;orchestration&quot;);\r\n         \r\n\r\n          JSONObject trigger = (JSONObject) orchestration.get(&quot;trigger-definition&quot;);\r\n         \r\n\r\n          JSONObject schedule = (JSONObject) trigger.get(&quot;schedule&quot;);\r\n        \r\n\t\t   JSONObject trade = (JSONObject) schedule.get(&quot;trade-query&quot;);\r\n        \r\n\t\t // loop array\r\n          JSONArray filter = (JSONArray) trade.get(&quot;filter&quot;);\r\n       \r\n      \r\n          for (Object o : filter) {\r\n              JSONObject person = (JSONObject) o;\r\n\r\n              String strName = (String) person.get(&quot;name&quot;);\r\n              System.out.println(&quot;Name::::&quot; + strName);\r\n\r\n              String operand = (String) person.get(&quot;operand&quot;);\r\n              System.out.println(&quot;City::::&quot; + operand);\r\n\r\n              String value = (String) person.get(&quot;value&quot;);\r\n              System.out.println(&quot;value::::&quot; + value);\r\n          }\r\n         \r\n          JSONArray parameter = (JSONArray) trade.get(&quot;parameter&quot;);\r\n          for (Object o : parameter) {\r\n              JSONObject person = (JSONObject) o;\r\n\r\n              String strName = (String) person.get(&quot;name&quot;);\r\n              System.out.println(&quot;Name::::&quot; + strName);\r\n\r\n              String value = (String) person.get(&quot;value&quot;);\r\n              System.out.println(&quot;value::::&quot; + value);\r\n          }\r\n\r\n\r\n      } catch (FileNotFoundException e) {\r\n          e.printStackTrace();\r\n      } catch (IOException e) {\r\n          e.printStackTrace();\r\n      } catch (ParseException e) {\r\n          e.printStackTrace();\r\n      }\r\n  }\r\n","title":"How to read json file into java with simple JSON library","body":"<pre><code>  try {\n      Object obj = parser.parse(new FileReader(&quot;C:/Local Disk/file.json&quot;));\n\n     // JSONArray array = (JSONArray) obj;\n      JSONObject jsonObject = (JSONObject) obj;\n      \n      JSONObject orchestration = (JSONObject) jsonObject.get(&quot;orchestration&quot;);\n     \n\n      JSONObject trigger = (JSONObject) orchestration.get(&quot;trigger-definition&quot;);\n     \n\n      JSONObject schedule = (JSONObject) trigger.get(&quot;schedule&quot;);\n    \n       JSONObject trade = (JSONObject) schedule.get(&quot;trade-query&quot;);\n    \n     // loop array\n      JSONArray filter = (JSONArray) trade.get(&quot;filter&quot;);\n   \n  \n      for (Object o : filter) {\n          JSONObject person = (JSONObject) o;\n\n          String strName = (String) person.get(&quot;name&quot;);\n          System.out.println(&quot;Name::::&quot; + strName);\n\n          String operand = (String) person.get(&quot;operand&quot;);\n          System.out.println(&quot;City::::&quot; + operand);\n\n          String value = (String) person.get(&quot;value&quot;);\n          System.out.println(&quot;value::::&quot; + value);\n      }\n     \n      JSONArray parameter = (JSONArray) trade.get(&quot;parameter&quot;);\n      for (Object o : parameter) {\n          JSONObject person = (JSONObject) o;\n\n          String strName = (String) person.get(&quot;name&quot;);\n          System.out.println(&quot;Name::::&quot; + strName);\n\n          String value = (String) person.get(&quot;value&quot;);\n          System.out.println(&quot;value::::&quot; + value);\n      }\n\n\n  } catch (FileNotFoundException e) {\n      e.printStackTrace();\n  } catch (IOException e) {\n      e.printStackTrace();\n  } catch (ParseException e) {\n      e.printStackTrace();\n  }\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"display_name":"user19680274"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659515990,"creation_date":1659515990,"answer_id":73218712,"question_id":10926353,"body_markdown":"\r\n\t  try {\r\n          //Object obj = parser.parse(new FileReader(&quot;C:/Local Disk/file.json&quot;));\r\n\t\t  \r\n\t\t   // create object mapper instance\r\n\t\t    ObjectMapper mapper = new ObjectMapper();\r\n\r\n\t\t    // convert JSON string to Book object\r\n\t\t    Object obj = mapper.readValue(Paths.get(&quot;C:/Local Disk/file.json&quot;).toFile(), Object.class);\r\n\r\n\t\t    // print book\r\n\t\t    System.out.println(obj);\r\n\r\n\t\t    String jsonInString = new Gson().toJson(obj);\r\n\t\t    JSONObject mJSONObject = new JSONObject(jsonInString);\r\n\t\t    \r\n\t\t    System.out.println(&quot;value::::&quot; + mJSONObject);  \r\n\t\t  \r\n\t\t  JSONObject orchestration = (JSONObject) mJSONObject.get(&quot;orchestration&quot;);\r\n         \r\n\r\n          JSONObject trigger = (JSONObject) orchestration.get(&quot;trigger-definition&quot;);\r\n         \r\n\r\n          JSONObject schedule = (JSONObject) trigger.get(&quot;schedule&quot;);\r\n        \r\n\t\t   JSONObject trade = (JSONObject) schedule.get(&quot;trade-query&quot;);\r\n        \r\n\t\t // loop array\r\n          JSONArray filter = (JSONArray) trade.get(&quot;filter&quot;);\r\n       \r\n      \r\n          for (Object o : filter) {\r\n              JSONObject person = (JSONObject) o;\r\n\r\n              String strName = (String) person.get(&quot;name&quot;);\r\n              System.out.println(&quot;Name::::&quot; + strName);\r\n\r\n              String operand = (String) person.get(&quot;operand&quot;);\r\n              System.out.println(&quot;City::::&quot; + operand);\r\n\r\n              String value = (String) person.get(&quot;value&quot;);\r\n              System.out.println(&quot;value::::&quot; + value);\r\n          }\r\n         \r\n          JSONArray parameter = (JSONArray) trade.get(&quot;parameter&quot;);\r\n          for (Object o : parameter) {\r\n              JSONObject person = (JSONObject) o;\r\n\r\n              String strName = (String) person.get(&quot;name&quot;);\r\n              System.out.println(&quot;Name::::&quot; + strName);\r\n\r\n              String value = (String) person.get(&quot;value&quot;);\r\n              System.out.println(&quot;value::::&quot; + value);\r\n          }\r\n\r\n\r\n      } catch (FileNotFoundException e) {\r\n          e.printStackTrace();\r\n      } catch (IOException e) {\r\n          e.printStackTrace();\r\n      }\r\n\t  \r\n\t  \r\n\t\r\n\t  \r\n  ","title":"How to read json file into java with simple JSON library","body":"<pre><code>  try {\n      //Object obj = parser.parse(new FileReader(&quot;C:/Local Disk/file.json&quot;));\n      \n       // create object mapper instance\n        ObjectMapper mapper = new ObjectMapper();\n\n        // convert JSON string to Book object\n        Object obj = mapper.readValue(Paths.get(&quot;C:/Local Disk/file.json&quot;).toFile(), Object.class);\n\n        // print book\n        System.out.println(obj);\n\n        String jsonInString = new Gson().toJson(obj);\n        JSONObject mJSONObject = new JSONObject(jsonInString);\n        \n        System.out.println(&quot;value::::&quot; + mJSONObject);  \n      \n      JSONObject orchestration = (JSONObject) mJSONObject.get(&quot;orchestration&quot;);\n     \n\n      JSONObject trigger = (JSONObject) orchestration.get(&quot;trigger-definition&quot;);\n     \n\n      JSONObject schedule = (JSONObject) trigger.get(&quot;schedule&quot;);\n    \n       JSONObject trade = (JSONObject) schedule.get(&quot;trade-query&quot;);\n    \n     // loop array\n      JSONArray filter = (JSONArray) trade.get(&quot;filter&quot;);\n   \n  \n      for (Object o : filter) {\n          JSONObject person = (JSONObject) o;\n\n          String strName = (String) person.get(&quot;name&quot;);\n          System.out.println(&quot;Name::::&quot; + strName);\n\n          String operand = (String) person.get(&quot;operand&quot;);\n          System.out.println(&quot;City::::&quot; + operand);\n\n          String value = (String) person.get(&quot;value&quot;);\n          System.out.println(&quot;value::::&quot; + value);\n      }\n     \n      JSONArray parameter = (JSONArray) trade.get(&quot;parameter&quot;);\n      for (Object o : parameter) {\n          JSONObject person = (JSONObject) o;\n\n          String strName = (String) person.get(&quot;name&quot;);\n          System.out.println(&quot;Name::::&quot; + strName);\n\n          String value = (String) person.get(&quot;value&quot;);\n          System.out.println(&quot;value::::&quot; + value);\n      }\n\n\n  } catch (FileNotFoundException e) {\n      e.printStackTrace();\n  } catch (IOException e) {\n      e.printStackTrace();\n  }\n  \n  \n\n  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7318440,"reputation":11,"user_id":5575199,"display_name":"Sanjay singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671089921,"creation_date":1670789161,"answer_id":74764101,"question_id":10926353,"body_markdown":"    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import com.google.gson.JsonElement;\r\n    import com.google.gson.JsonObject;\r\n    import com.google.gson.JsonParser;\r\n    public class JsonParserTest {\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tString data = new String(Files.readAllBytes(Paths.get(&quot;C:/json.txt&quot;))); \r\n    \t\tJsonElement jsonElement = JsonParser.parseString(data);\r\n    \t\tJsonObject json = jsonElement.getAsJsonObject();\r\n    \t\tSystem.out.println(json.get(&quot;userId&quot;));\r\n    \t\tSystem.out.println(json.get(&quot;id&quot;));\r\n    \t\tSystem.out.println(json.get(&quot;title&quot;));\r\n    \t\tSystem.out.println(json.get(&quot;completed&quot;));\r\n    \t}\r\n    }\r\n    \r\n    Use the below repositay from GSON.\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    &lt;version&gt;2.8.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How to read json file into java with simple JSON library","body":"<pre><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\npublic class JsonParserTest {\n    public static void main(String[] args) throws IOException {\n        String data = new String(Files.readAllBytes(Paths.get(&quot;C:/json.txt&quot;))); \n        JsonElement jsonElement = JsonParser.parseString(data);\n        JsonObject json = jsonElement.getAsJsonObject();\n        System.out.println(json.get(&quot;userId&quot;));\n        System.out.println(json.get(&quot;id&quot;));\n        System.out.println(json.get(&quot;title&quot;));\n        System.out.println(json.get(&quot;completed&quot;));\n    }\n}\n\nUse the below repositay from GSON.\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.8.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12046379,"reputation":11,"user_id":8811235,"display_name":"Kishan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686639621,"creation_date":1686639621,"answer_id":76462371,"question_id":10926353,"body_markdown":"Add Jackson dependency to use ObjectMapper in your `pom.xml` file.\r\n\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n       &lt;version&gt;2.12.3&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nIn your main class `App.java`, use the mapper to convert your JSON file to JsonNode\r\n\r\n    public static void main(Strings[] args) {\r\n \r\n        ObjectMapper mapper = new ObjectMapper();\r\n        JsonNode json = mapper.readValue(new File(&quot;/path/to/file&quot;), JsonNode.class);\r\n        json.fields()\r\n                .forEachRemaining((field) -&gt; {\r\n                    String key = field.getKey();\r\n                    JsonNode value = field.getValue(); // value can be yet another JSON\r\n                   // Do your stuff with the keys and values here.\r\n                });\r\n\r\n\r\n    }\r\n\r\n","title":"How to read json file into java with simple JSON library","body":"<p>Add Jackson dependency to use ObjectMapper in your <code>pom.xml</code> file.</p>\n<pre><code> &lt;dependency&gt;\n   &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n   &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n   &lt;version&gt;2.12.3&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>In your main class <code>App.java</code>, use the mapper to convert your JSON file to JsonNode</p>\n<pre><code>public static void main(Strings[] args) {\n\n    ObjectMapper mapper = new ObjectMapper();\n    JsonNode json = mapper.readValue(new File(&quot;/path/to/file&quot;), JsonNode.class);\n    json.fields()\n            .forEachRemaining((field) -&gt; {\n                String key = field.getKey();\n                JsonNode value = field.getValue(); // value can be yet another JSON\n               // Do your stuff with the keys and values here.\n            });\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29831662,"reputation":1,"user_id":22862146,"display_name":"ckarosta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699196926,"creation_date":1699196926,"answer_id":77426471,"question_id":10926353,"body_markdown":"    @JsonTypeInfo(use=JsonTypeInfo.Id.NAME,property = &quot;type&quot;)\r\n    @JsonSubTypes({\r\n            @JsonSubTypes.Type(value = Dog.class,name = &quot;Dog&quot;),\r\n            @JsonSubTypes.Type(value=Bagamol.class,name=&quot;Bagamol&quot;)","title":"How to read json file into java with simple JSON library","body":"<pre><code>@JsonTypeInfo(use=JsonTypeInfo.Id.NAME,property = &quot;type&quot;)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = Dog.class,name = &quot;Dog&quot;),\n        @JsonSubTypes.Type(value=Bagamol.class,name=&quot;Bagamol&quot;)\n</code></pre>\n"}],"owner":{"account_id":188085,"reputation":1449,"user_id":426595,"accept_rate":0,"display_name":"billz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":912870,"favorite_count":0,"down_vote_count":0,"up_vote_count":144,"answer_count":23,"score":144,"last_activity_date":1699196926,"creation_date":1339048297,"question_id":10926353,"body_markdown":"I want to read this `JSON` file with java using json simple library. \r\n\r\nMy `JSON` file looks like this:\r\n \r\n\r\n    [  \r\n        {  \r\n            &quot;name&quot;:&quot;John&quot;,\r\n            &quot;city&quot;:&quot;Berlin&quot;,\r\n            &quot;cars&quot;:[  \r\n                &quot;audi&quot;,\r\n                &quot;bmw&quot;\r\n            ],\r\n            &quot;job&quot;:&quot;Teacher&quot;\r\n        },\r\n        {  \r\n            &quot;name&quot;:&quot;Mark&quot;,\r\n            &quot;city&quot;:&quot;Oslo&quot;,\r\n            &quot;cars&quot;:[  \r\n                &quot;VW&quot;,\r\n                &quot;Toyata&quot;\r\n            ],\r\n            &quot;job&quot;:&quot;Doctor&quot;\r\n        }\r\n    ]\r\n\r\nThis is the java code I wrote to read this file:\r\n\r\n \r\n\r\n    package javaapplication1;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.Iterator;\r\n    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n     \r\n    public class JavaApplication1 {\r\n        public static void main(String[] args) {\r\n     \r\n            JSONParser parser = new JSONParser();\r\n     \r\n    \t    try {     \r\n    \t\t    Object obj = parser.parse(new FileReader(&quot;c:\\\\file.json&quot;));\r\n     \r\n    \t\t    JSONObject jsonObject =  (JSONObject) obj;\r\n     \r\n    \t\t    String name = (String) jsonObject.get(&quot;name&quot;);\r\n    \t\t    System.out.println(name);\r\n     \r\n    \t\t    String city = (String) jsonObject.get(&quot;city&quot;);\r\n    \t\t    System.out.println(city);\r\n                    \r\n                String job = (String) jsonObject.get(&quot;job&quot;);\r\n    \t\t    System.out.println(job);\r\n     \r\n    \t\t    // loop array\r\n    \t\t    JSONArray cars = (JSONArray) jsonObject.get(&quot;cars&quot;);\r\n    \t\t    Iterator&lt;String&gt; iterator = cars.iterator();\r\n    \t\t    while (iterator.hasNext()) {\r\n    \t\t     System.out.println(iterator.next());\r\n    \t\t    }\r\n       \t    } catch (FileNotFoundException e) {\r\n    \t\t    e.printStackTrace();\r\n    \t    } catch (IOException e) {\r\n    \t\t    e.printStackTrace();\r\n    \t    } catch (ParseException e) {\r\n    \t\t    e.printStackTrace();\r\n    \t    }\r\n        }\r\n    }\r\n\r\nBut I get the following exception:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ClassCastException:\r\n&gt; org.json.simple.JSONArray cannot be cast to org.json.simple.JSONObject\r\n&gt; \tat javaapplication1.JavaApplication1.main(JavaApplication1.java:24)\r\n\r\nCan somebody tell me what I am doing wrong? The whole file is a array and there are objects and another array (cars) in the whole array of the file. But i dont know how I can parse the whole array into a java array. I hope somebody can help me with a code line which I am missing in my code.\r\n\r\nThanks\r\n","title":"How to read json file into java with simple JSON library","body":"<p>I want to read this <code>JSON</code> file with java using json simple library. </p>\n\n<p>My <code>JSON</code> file looks like this:</p>\n\n<pre><code>[  \n    {  \n        \"name\":\"John\",\n        \"city\":\"Berlin\",\n        \"cars\":[  \n            \"audi\",\n            \"bmw\"\n        ],\n        \"job\":\"Teacher\"\n    },\n    {  \n        \"name\":\"Mark\",\n        \"city\":\"Oslo\",\n        \"cars\":[  \n            \"VW\",\n            \"Toyata\"\n        ],\n        \"job\":\"Doctor\"\n    }\n]\n</code></pre>\n\n<p>This is the java code I wrote to read this file:</p>\n\n<pre><code>package javaapplication1;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.Iterator;\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\n\npublic class JavaApplication1 {\n    public static void main(String[] args) {\n\n        JSONParser parser = new JSONParser();\n\n        try {     \n            Object obj = parser.parse(new FileReader(\"c:\\\\file.json\"));\n\n            JSONObject jsonObject =  (JSONObject) obj;\n\n            String name = (String) jsonObject.get(\"name\");\n            System.out.println(name);\n\n            String city = (String) jsonObject.get(\"city\");\n            System.out.println(city);\n\n            String job = (String) jsonObject.get(\"job\");\n            System.out.println(job);\n\n            // loop array\n            JSONArray cars = (JSONArray) jsonObject.get(\"cars\");\n            Iterator&lt;String&gt; iterator = cars.iterator();\n            while (iterator.hasNext()) {\n             System.out.println(iterator.next());\n            }\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>But I get the following exception:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.ClassCastException:\n  org.json.simple.JSONArray cannot be cast to org.json.simple.JSONObject\n    at javaapplication1.JavaApplication1.main(JavaApplication1.java:24)</p>\n</blockquote>\n\n<p>Can somebody tell me what I am doing wrong? The whole file is a array and there are objects and another array (cars) in the whole array of the file. But i dont know how I can parse the whole array into a java array. I hope somebody can help me with a code line which I am missing in my code.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","amazon-efs"],"answers":[{"tags":[],"owner":{"account_id":10594606,"reputation":3598,"user_id":7803797,"display_name":"Chaitanya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699128821,"creation_date":1669624416,"answer_id":74597918,"question_id":74597616,"body_markdown":"There isn&#39;t any direct way to upload/download files to AWS EFS from the local system. You need to mount the EFS file system locally using `amazon-efs-utils` package and then perform normal file operations using Java file I/O.\r\n\r\nMore details regarding mounting an EFS file system are here:\r\n\r\n1. *[Mounting EFS file systems][1]*\r\n2. *[Manually installing the Amazon EFS client][2]*\r\n\r\n  [1]: https://docs.aws.amazon.com/efs/latest/ug/mounting-fs.html\r\n  [2]: https://docs.aws.amazon.com/efs/latest/ug/installing-amazon-efs-utils.html\r\n\r\n\r\n","title":"Can we upload and download files from AWS EFS using Java and Spring Boot through an API?","body":"<p>There isn't any direct way to upload/download files to AWS EFS from the local system. You need to mount the EFS file system locally using <code>amazon-efs-utils</code> package and then perform normal file operations using Java file I/O.</p>\n<p>More details regarding mounting an EFS file system are here:</p>\n<ol>\n<li><em><a href=\"https://docs.aws.amazon.com/efs/latest/ug/mounting-fs.html\" rel=\"nofollow noreferrer\">Mounting EFS file systems</a></em></li>\n<li><em><a href=\"https://docs.aws.amazon.com/efs/latest/ug/installing-amazon-efs-utils.html\" rel=\"nofollow noreferrer\">Manually installing the Amazon EFS client</a></em></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699128398,"creation_date":1672299139,"answer_id":74948377,"question_id":74597616,"body_markdown":"You need to use either [AWS Transfer family][1] or [AWS Data sync][2].\r\n\r\nCurrently, Spring cloud AWS does not have support for EFS, but it has it for [S3][3]. See *[9.3. Downloading files][4]*.\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/transfer/AWSTransferClient.html\r\n  [2]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/datasync/AWSDataSyncClient.html\r\n  [3]: https://en.wikipedia.org/wiki/Amazon_S3\r\n  [4]: https://docs.awspring.io/spring-cloud-aws/docs/current/reference/html/index.html#downloading-files\r\n\r\n\r\n","title":"Can we upload and download files from AWS EFS using Java and Spring Boot through an API?","body":"<p>You need to use either <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/transfer/AWSTransferClient.html\" rel=\"nofollow noreferrer\">AWS Transfer family</a> or <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/datasync/AWSDataSyncClient.html\" rel=\"nofollow noreferrer\">AWS Data sync</a>.</p>\n<p>Currently, Spring cloud AWS does not have support for EFS, but it has it for <a href=\"https://en.wikipedia.org/wiki/Amazon_S3\" rel=\"nofollow noreferrer\">S3</a>. See <em><a href=\"https://docs.awspring.io/spring-cloud-aws/docs/current/reference/html/index.html#downloading-files\" rel=\"nofollow noreferrer\">9.3. Downloading files</a></em>.</p>\n"}],"owner":{"account_id":15705433,"reputation":1,"user_id":11332304,"display_name":"sagar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699196827,"creation_date":1669622513,"question_id":74597616,"body_markdown":"Can we use Java and [Spring Boot][1] to upload files through an API?\r\n\r\nI tried to get the details of integration of [EFS][2] with Spring Boot from the AWS website, but without any luck.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\r\n  [2]: https://en.wikipedia.org/wiki/Amazon_Elastic_File_System\r\n\r\n\r\n","title":"Can we upload and download files from AWS EFS using Java and Spring Boot through an API?","body":"<p>Can we use Java and <a href=\"https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\" rel=\"nofollow noreferrer\">Spring Boot</a> to upload files through an API?</p>\n<p>I tried to get the details of integration of <a href=\"https://en.wikipedia.org/wiki/Amazon_Elastic_File_System\" rel=\"nofollow noreferrer\">EFS</a> with Spring Boot from the AWS website, but without any luck.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"display_name":"user6490462"},"score":0,"creation_date":1488109130,"post_id":42467072,"comment_id":72077031,"body_markdown":"try to install it from sdk and skip this step.","body":"try to install it from sdk and skip this step."},{"owner":{"account_id":2479836,"reputation":33513,"user_id":2159528,"accept_rate":71,"display_name":"Louys Patrice Bessette"},"score":0,"creation_date":1488424858,"post_id":42467072,"comment_id":72227947,"body_markdown":"I &quot;installed&quot; your image inline your question... Maybe it will help. If you have any other usefull info to add to your question, feel free to edit. ;)","body":"I &quot;installed&quot; your image inline your question... Maybe it will help. If you have any other usefull info to add to your question, feel free to edit. ;)"}],"answers":[{"tags":[],"owner":{"account_id":4906347,"reputation":831,"user_id":3952987,"accept_rate":64,"display_name":"Mehran Zamani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488105205,"creation_date":1488105205,"answer_id":42467379,"question_id":42467072,"body_markdown":"just click on cancel and when you are done with setup, you can update and install it later.\r\n\r\nfrom [official android site](https://developer.android.com/studio/intro/update.html):\r\n\r\nTo open the SDK Manager from Android Studio, click Tools &gt; Android &gt; SDK Manager or click SDK Manager  in the toolbar. If you&#39;re not using Android Studio, you can download tools using the sdkmanager command-line tool.\r\n\r\nWhen an update is available for a package you already have, a dash  appears in the check box next to the package.\r\n\r\nTo update an item or install a new one, click the check box so it shows a checkmark.\r\nTo uninstall a package, click to clear the check box.\r\nPending updates are indicated in the left column with a download icon . Pending removals are indicated with a red cross .\r\n\r\nTo update the selected packages, click Apply or OK, then agree to any license agreements.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C4c0V.jpg","title":"Android Support Repository, SDK Patch Applier v4 and 4 more SDK components were not installed","body":"<p>just click on cancel and when you are done with setup, you can update and install it later.</p>\n\n<p>from <a href=\"https://developer.android.com/studio/intro/update.html\" rel=\"nofollow noreferrer\">official android site</a>:</p>\n\n<p>To open the SDK Manager from Android Studio, click Tools > Android > SDK Manager or click SDK Manager  in the toolbar. If you're not using Android Studio, you can download tools using the sdkmanager command-line tool.</p>\n\n<p>When an update is available for a package you already have, a dash  appears in the check box next to the package.</p>\n\n<p>To update an item or install a new one, click the check box so it shows a checkmark.\nTo uninstall a package, click to clear the check box.\nPending updates are indicated in the left column with a download icon . Pending removals are indicated with a red cross .</p>\n\n<p>To update the selected packages, click Apply or OK, then agree to any license agreements.</p>\n\n<p><a href=\"https://i.stack.imgur.com/C4c0V.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C4c0V.jpg\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":10289748,"reputation":11,"user_id":7591834,"display_name":"Yassmin Mahmoud"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14750,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1699196545,"creation_date":1488103159,"question_id":42467072,"body_markdown":"Android Support Repository, SDK Patch Applier v4 and 4 more SDK components were not installed...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z2FxC.png","title":"Android Support Repository, SDK Patch Applier v4 and 4 more SDK components were not installed","body":"<p>Android Support Repository, SDK Patch Applier v4 and 4 more SDK components were not installed...</p>\n\n<p><a href=\"https://i.stack.imgur.com/Z2FxC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z2FxC.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring-boot","maven"],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699196438,"creation_date":1699172720,"answer_id":77425225,"question_id":77425057,"body_markdown":"For Integration-test execution, you should use `maven-failsafe-plugin` instead of `maven-surefire-plugin`.\r\n\r\nYou didn&#39;t specify the goal.\r\n```\r\n     &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;integration-test&lt;/goal&gt;\r\n              &lt;goal&gt;verify&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n```","title":"Replacing a spring-boot-starter-parent by a spring-boot-starter + spring-boot-dependencies: it compiles but doesn&#39;t run integration tests anymore","body":"<p>For Integration-test execution, you should use <code>maven-failsafe-plugin</code> instead of <code>maven-surefire-plugin</code>.</p>\n<p>You didn't specify the goal.</p>\n<pre><code>     &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.1&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;integration-test&lt;/goal&gt;\n              &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699196438,"creation_date":1699168639,"question_id":77425057,"body_markdown":"All the 60 modules of my project are using a parent POM, based on `Spring-boot 2.7.14`\r\n   - that runs JUnit 5 tests (without starting _Spring-Boot_) when running a `mvn install` \r\n   - and `integration-test` on launched (during tests) _Spring-Boot_ servers, when running a `mvn install -Passemblage`\r\n\r\n```xml\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-boot.version&gt;2.7.14&lt;/spring-boot.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.14&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;profiles&gt;\r\n\t\t&lt;!-- Construction normale --&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;default&lt;/id&gt;\r\n\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;!-- Tests unitaires activ&#233;s par d&#233;faut, et tests d&#39;int&#233;gration d&#233;sactiv&#233;s --&gt;\r\n\t\t\t\t&lt;skip.integration.tests&gt;true&lt;/skip.integration.tests&gt;\r\n\t\t\t\t&lt;skip.unit.tests&gt;false&lt;/skip.unit.tests&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\r\n\t\t&lt;!-- Construction avec tests d&#39;assemblage --&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;assemblage&lt;/id&gt;\r\n\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;!-- Tests unitaires et tests d&#39;int&#233;gration activ&#233;s en Int&#233;gration --&gt;\r\n\t\t\t\t&lt;skip.integration.tests&gt;false&lt;/skip.integration.tests&gt;\r\n\t\t\t\t&lt;skip.unit.tests&gt;false&lt;/skip.unit.tests&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;!-- Plugin Failsafe : ex&#233;cution de tests d&#39;int&#233;gration --&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;integration-test&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;skipTests&gt;${skip.integration.tests}&lt;/skipTests&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;!-- Plugin Surefire : ex&#233;cution tests unitaires --&gt;\r\n\t\t\t&lt;!-- Tous les tests sauf ceux d&#233;butant par IT* --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${surefire-version}&lt;/version&gt;\r\n\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;skipTests&gt;${skip.unit.tests}&lt;/skipTests&gt;\r\n\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;**/IT*.java&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nIt works conveniently.  \r\nBut the event is that I have to exclude few modules from that building, that must be built before the existence of _Spring-Boot_ is known.  \r\n\r\nUntil today, I had for module compilation: `&lt;POM Parent&gt;, A, B, C, D...`  \r\nand now I will have: `&lt;POM Parent&gt;, A, B, &lt;POM declaring Spring-Boot&gt;, C, D...`\r\n\r\nTherefore, I cannot declare `org.springframework.boot:spring-boot-starter-parent:2.7.14` for parent anymore.\r\n\r\n---\r\n\r\n1. I removed `org.springframework.boot:spring-boot-starter-parent:2.7.14` declaration\r\n\r\n2. I&#39;ve added for dependency: `org.springframework.boot:spring-boot-starter:2.7.14`\r\n\r\n3. And in dependency management: `org.springframework.boot:spring-boot-dependencies:2.7.14` with `import` scope.\r\n\r\nIt still compiles the project.\r\n\r\nBut my issue is that a `mvn install -Passemblage` do not start _Spring-Boot_ `integration-test` anymore (and a `mvn integration-test -Passemblage` has also no effect).","title":"Replacing a spring-boot-starter-parent by a spring-boot-starter + spring-boot-dependencies: it compiles but doesn&#39;t run integration tests anymore","body":"<p>All the 60 modules of my project are using a parent POM, based on <code>Spring-boot 2.7.14</code></p>\n<ul>\n<li>that runs JUnit 5 tests (without starting <em>Spring-Boot</em>) when running a <code>mvn install</code></li>\n<li>and <code>integration-test</code> on launched (during tests) <em>Spring-Boot</em> servers, when running a <code>mvn install -Passemblage</code></li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-boot.version&gt;2.7.14&lt;/spring-boot.version&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.14&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;profiles&gt;\n        &lt;!-- Construction normale --&gt;\n        &lt;profile&gt;\n            &lt;id&gt;default&lt;/id&gt;\n\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n\n            &lt;properties&gt;\n                &lt;!-- Tests unitaires activés par défaut, et tests d'intégration désactivés --&gt;\n                &lt;skip.integration.tests&gt;true&lt;/skip.integration.tests&gt;\n                &lt;skip.unit.tests&gt;false&lt;/skip.unit.tests&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n\n        &lt;!-- Construction avec tests d'assemblage --&gt;\n        &lt;profile&gt;\n            &lt;id&gt;assemblage&lt;/id&gt;\n\n            &lt;properties&gt;\n                &lt;!-- Tests unitaires et tests d'intégration activés en Intégration --&gt;\n                &lt;skip.integration.tests&gt;false&lt;/skip.integration.tests&gt;\n                &lt;skip.unit.tests&gt;false&lt;/skip.unit.tests&gt;\n            &lt;/properties&gt;\n\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;!-- Plugin Failsafe : exécution de tests d'intégration --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;integration-test&lt;/id&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n\n                        &lt;configuration&gt;\n                            &lt;skipTests&gt;${skip.integration.tests}&lt;/skipTests&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- Plugin Surefire : exécution tests unitaires --&gt;\n            &lt;!-- Tous les tests sauf ceux débutant par IT* --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${surefire-version}&lt;/version&gt;\n\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;${skip.unit.tests}&lt;/skipTests&gt;\n\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/IT*.java&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n&lt;/project&gt;\n</code></pre>\n<p>It works conveniently.<br />\nBut the event is that I have to exclude few modules from that building, that must be built before the existence of <em>Spring-Boot</em> is known.</p>\n<p>Until today, I had for module compilation: <code>&lt;POM Parent&gt;, A, B, C, D...</code><br />\nand now I will have: <code>&lt;POM Parent&gt;, A, B, &lt;POM declaring Spring-Boot&gt;, C, D...</code></p>\n<p>Therefore, I cannot declare <code>org.springframework.boot:spring-boot-starter-parent:2.7.14</code> for parent anymore.</p>\n<hr />\n<ol>\n<li><p>I removed <code>org.springframework.boot:spring-boot-starter-parent:2.7.14</code> declaration</p>\n</li>\n<li><p>I've added for dependency: <code>org.springframework.boot:spring-boot-starter:2.7.14</code></p>\n</li>\n<li><p>And in dependency management: <code>org.springframework.boot:spring-boot-dependencies:2.7.14</code> with <code>import</code> scope.</p>\n</li>\n</ol>\n<p>It still compiles the project.</p>\n<p>But my issue is that a <code>mvn install -Passemblage</code> do not start <em>Spring-Boot</em> <code>integration-test</code> anymore (and a <code>mvn integration-test -Passemblage</code> has also no effect).</p>\n"},{"tags":["java","android","android-studio","build.gradle"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1691810531,"post_id":76887498,"comment_id":135545561,"body_markdown":"Can you also add your Gradle build file.","body":"Can you also add your Gradle build file."},{"owner":{"account_id":25292021,"reputation":61,"user_id":19117902,"display_name":"Amir Yazdi"},"score":0,"creation_date":1691810886,"post_id":76887498,"comment_id":135545579,"body_markdown":"I add this you can check it","body":"I add this you can check it"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1691811115,"post_id":76887498,"comment_id":135545593,"body_markdown":"Yes so what happens when you update your compileSdk and targetSdk to 34?","body":"Yes so what happens when you update your compileSdk and targetSdk to 34?"},{"owner":{"account_id":25292021,"reputation":61,"user_id":19117902,"display_name":"Amir Yazdi"},"score":0,"creation_date":1691829388,"post_id":76887498,"comment_id":135546729,"body_markdown":"Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.20 (org.jetbrains.kotlin:kotlin-stdlib:1.8.20) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n--------I got some thing like this --&gt; duplicate class found","body":"Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.20 (org.jetbrains.kotlin:kotlin-stdlib:1.8.20) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21) --------I got some thing like this --&gt; duplicate class found"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1691832517,"post_id":76887498,"comment_id":135547008,"body_markdown":"Looks good to me. What gradle plugin version are you using? Also add your project level gradle file.","body":"Looks good to me. What gradle plugin version are you using? Also add your project level gradle file."},{"owner":{"account_id":25292021,"reputation":61,"user_id":19117902,"display_name":"Amir Yazdi"},"score":0,"creation_date":1691835488,"post_id":76887498,"comment_id":135547310,"body_markdown":"id &#39;com.android.application&#39; version &#39;8.1.0&#39; apply false","body":"id &#39;com.android.application&#39; version &#39;8.1.0&#39; apply false"},{"owner":{"account_id":25292021,"reputation":61,"user_id":19117902,"display_name":"Amir Yazdi"},"score":0,"creation_date":1691836651,"post_id":76887498,"comment_id":135547425,"body_markdown":"I add new data you can see a pic","body":"I add new data you can see a pic"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1691836832,"post_id":76887498,"comment_id":135547443,"body_markdown":"Can you try replacing with compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_17\n        targetCompatibility = JavaVersion.VERSION_17\n    }","body":"Can you try replacing with compileOptions {         sourceCompatibility = JavaVersion.VERSION_17         targetCompatibility = JavaVersion.VERSION_17     }"}],"answers":[{"tags":[],"owner":{"account_id":13368336,"reputation":723,"user_id":9647713,"display_name":"Siddharth Shakya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691813149,"creation_date":1691813149,"answer_id":76887683,"question_id":76887498,"body_markdown":"Add this line of code above defaultConfig\r\n\r\n     compileSdk = 34\r\n","title":"basic view activity in android studio error","body":"<p>Add this line of code above defaultConfig</p>\n<pre><code> compileSdk = 34\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1691872092,"creation_date":1691820538,"answer_id":76887999,"question_id":76887498,"body_markdown":"To solve the error while using basic view Activity in Android Studio, please try the following steps:\r\n\r\nIn Android Studio right hand side (Top corner find `SDK Manager` click here) and open pop up. Then checkbox checked `Android API level 34` and download it. Then download successfully then finish and `Apply` and `Ok`. After that go to file and search `Invalidate Caches and Restart` then wait. Then rebuild your project and follow this below code:\r\n\r\n`build.gradle` file (module app):\r\n```\r\nandroid {\r\ncompileSdkVersion 34\r\n\r\ndefaultConfig {\r\n    applicationId &quot;com.appynitty.navapur_citizen&quot;\r\n    minSdkVersion 23\r\n    targetSdkVersion 34\r\n    versionCode 6\r\n    versionName &quot;1.0&quot;\r\n    multiDexEnabled false\r\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n}}\r\n```\r\n\r\n`build.gradle` (project_file):\r\n```\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        mavenCentral()\r\n    }\r\n}\r\n```\r\n\r\nThen in Android Studio, go to file option and select setting. Search `Gradle` and check `JDK` requirement, `JDK11`.","title":"basic view activity in android studio error","body":"<p>To solve the error while using basic view Activity in Android Studio, please try the following steps:</p>\n<p>In Android Studio right hand side (Top corner find <code>SDK Manager</code> click here) and open pop up. Then checkbox checked <code>Android API level 34</code> and download it. Then download successfully then finish and <code>Apply</code> and <code>Ok</code>. After that go to file and search <code>Invalidate Caches and Restart</code> then wait. Then rebuild your project and follow this below code:</p>\n<p><code>build.gradle</code> file (module app):</p>\n<pre><code>android {\ncompileSdkVersion 34\n\ndefaultConfig {\n    applicationId &quot;com.appynitty.navapur_citizen&quot;\n    minSdkVersion 23\n    targetSdkVersion 34\n    versionCode 6\n    versionName &quot;1.0&quot;\n    multiDexEnabled false\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}}\n</code></pre>\n<p><code>build.gradle</code> (project_file):</p>\n<pre><code>allprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n    }\n}\n</code></pre>\n<p>Then in Android Studio, go to file option and select setting. Search <code>Gradle</code> and check <code>JDK</code> requirement, <code>JDK11</code>.</p>\n"},{"tags":[],"owner":{"account_id":25292021,"reputation":61,"user_id":19117902,"display_name":"Amir Yazdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691861482,"creation_date":1691861482,"answer_id":76890419,"question_id":76887498,"body_markdown":"I solved this \r\nadd this to build.gradel.kts(:app)\r\n\r\n     constraints {\r\n            implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\r\n                because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\r\n            }\r\n            implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\r\n                because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\r\n            }\r\n        }\r\n\r\nit will be like this :\r\n\r\n    dependencies {\r\n        constraints {\r\n            implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\r\n                because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\r\n            }\r\n            implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\r\n                because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\r\n            }\r\n        }\r\n        implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\r\n        implementation(&quot;com.google.android.material:material:1.9.0&quot;)\r\n        implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\r\n        implementation(&quot;androidx.navigation:navigation-fragment:2.7.0&quot;)\r\n        implementation(&quot;androidx.navigation:navigation-ui:2.7.0&quot;)\r\n        testImplementation(&quot;junit:junit:4.13.2&quot;)\r\n        androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\r\n        androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\r\n    }\r\n\r\n\r\nSee this [note][1] in the official kotlin docs for an explanation of how alignment works with these dependencies and build flags. The below original answer is an alternative approach which doesn&#39;t take this into account.\r\nThe constraints section above can be added in alongside your other dependencies. Choose the version (here 1.8.0) to match the one you actually want to be used, which should be the one that your non-jdkN-named version is in the duplicate class error (e.g. (org.jetbrains.kotlin:kotlin-stdlib:1.8.0))\r\n\r\n  [1]: https://kotlinlang.org/docs/whatsnew18.html#resolution-of-kotlin-gradle-plugins-transitive-dependencies","title":"basic view activity in android studio error","body":"<p>I solved this\nadd this to build.gradel.kts(:app)</p>\n<pre><code> constraints {\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\n        }\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\n        }\n    }\n</code></pre>\n<p>it will be like this :</p>\n<pre><code>dependencies {\n    constraints {\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\n        }\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\n        }\n    }\n    implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\n    implementation(&quot;com.google.android.material:material:1.9.0&quot;)\n    implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\n    implementation(&quot;androidx.navigation:navigation-fragment:2.7.0&quot;)\n    implementation(&quot;androidx.navigation:navigation-ui:2.7.0&quot;)\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\n}\n</code></pre>\n<p>See this <a href=\"https://kotlinlang.org/docs/whatsnew18.html#resolution-of-kotlin-gradle-plugins-transitive-dependencies\" rel=\"nofollow noreferrer\">note</a> in the official kotlin docs for an explanation of how alignment works with these dependencies and build flags. The below original answer is an alternative approach which doesn't take this into account.\nThe constraints section above can be added in alongside your other dependencies. Choose the version (here 1.8.0) to match the one you actually want to be used, which should be the one that your non-jdkN-named version is in the duplicate class error (e.g. (org.jetbrains.kotlin:kotlin-stdlib:1.8.0))</p>\n"},{"tags":[],"owner":{"account_id":17789133,"reputation":11,"user_id":17579039,"display_name":"Gustavo Graeff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692149798,"creation_date":1692149798,"answer_id":76909974,"question_id":76887498,"body_markdown":"I just added `implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.20&quot;` to my `dependencies` on `build.gradle (:app)` file and the problem was gone.","title":"basic view activity in android studio error","body":"<p>I just added <code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.20&quot;</code> to my <code>dependencies</code> on <code>build.gradle (:app)</code> file and the problem was gone.</p>\n"},{"tags":[],"owner":{"account_id":17291118,"reputation":49,"user_id":12522659,"display_name":"R1b0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692453490,"creation_date":1692453490,"answer_id":76935469,"question_id":76887498,"body_markdown":"I have to do both : \r\n\r\n    compileSdkVersion 34\r\n\r\n    targetSdkVersion 34\r\n\r\nAnd \r\n\r\n    dependencies {\r\n        constraints {\r\n            implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\r\n                because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\r\n            }\r\n            implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\r\n                because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\r\n            }\r\n        }\r\n\r\n\r\n    \r\n\r\n\r\n","title":"basic view activity in android studio error","body":"<p>I have to do both :</p>\n<pre><code>compileSdkVersion 34\n\ntargetSdkVersion 34\n</code></pre>\n<p>And</p>\n<pre><code>dependencies {\n    constraints {\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\n        }\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4332082,"reputation":1622,"user_id":3537322,"display_name":"Stanojkovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692654690,"creation_date":1692654690,"answer_id":76948907,"question_id":76887498,"body_markdown":"Set:\r\n\r\n    android {\r\n        namespace = &quot;com.example.myapplication&quot;\r\n        compileSdk = 34\r\n    \r\n        defaultConfig {\r\n            applicationId = &quot;com.example.myapplication&quot;\r\n            minSdk = 24\r\n            targetSdk = 33\r\n            versionCode = 1\r\n            versionName = &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n\r\nFrom your `build.gradle.kts`, change this:\r\n\r\n    compileOptions {\r\n        sourceCompatibility = JavaVersion.VERSION_1_8\r\n        targetCompatibility = JavaVersion.VERSION_1_8\r\n    }\r\n\r\nto this:\r\n\r\n    compileOptions {\r\n        sourceCompatibility = JavaVersion.VERSION_17\r\n        targetCompatibility = JavaVersion.VERSION_17\r\n    }\r\n \r\nAlso, from the `Project Structure` set Android Gradle Plugin Version to 8.1.0 and Gradle version to 8.1.\r\n\r\nThen go to File -&gt; Settings -&gt; Build tools -&gt; Gradle, set `Gradle JDK` path to:\r\n`jbr-17 JetBrains Runtime version 17.0.6. jbr-17 C:\\Program Files\\Android\\Android Studio\\jbr` ","title":"basic view activity in android studio error","body":"<p>Set:</p>\n<pre><code>android {\n    namespace = &quot;com.example.myapplication&quot;\n    compileSdk = 34\n\n    defaultConfig {\n        applicationId = &quot;com.example.myapplication&quot;\n        minSdk = 24\n        targetSdk = 33\n        versionCode = 1\n        versionName = &quot;1.0&quot;\n\n        testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n</code></pre>\n<p>From your <code>build.gradle.kts</code>, change this:</p>\n<pre><code>compileOptions {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n    targetCompatibility = JavaVersion.VERSION_1_8\n}\n</code></pre>\n<p>to this:</p>\n<pre><code>compileOptions {\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n}\n</code></pre>\n<p>Also, from the <code>Project Structure</code> set Android Gradle Plugin Version to 8.1.0 and Gradle version to 8.1.</p>\n<p>Then go to File -&gt; Settings -&gt; Build tools -&gt; Gradle, set <code>Gradle JDK</code> path to:\n<code>jbr-17 JetBrains Runtime version 17.0.6. jbr-17 C:\\Program Files\\Android\\Android Studio\\jbr</code></p>\n"},{"tags":[],"owner":{"account_id":14049443,"reputation":19,"user_id":10148684,"display_name":"kouranyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694428502,"creation_date":1694428502,"answer_id":77080887,"question_id":76887498,"body_markdown":"in your project build.gradle file,\r\nupgrade this \r\n\r\nid &#39;org.jetbrains.kotlin.android&#39; version &#39;1.6.21&#39; apply false\r\n\r\nto \r\n\r\nid &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.20&#39; apply false\r\n\r\nsycn and rebuild.","title":"basic view activity in android studio error","body":"<p>in your project build.gradle file,\nupgrade this</p>\n<p>id 'org.jetbrains.kotlin.android' version '1.6.21' apply false</p>\n<p>to</p>\n<p>id 'org.jetbrains.kotlin.android' version '1.8.20' apply false</p>\n<p>sycn and rebuild.</p>\n"}],"owner":{"account_id":25292021,"reputation":61,"user_id":19117902,"display_name":"Amir Yazdi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4524,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":7,"score":6,"last_activity_date":1699196404,"creation_date":1691806602,"question_id":76887498,"body_markdown":"hello guys I try to make new project with java in android studio but when I wanna run the project there is some problem with this :::\r\n\r\n***4 issues were found when checking AAR metadata:\r\n\r\n1.  Dependency &#39;androidx.navigation:navigation-common:2.7.0&#39; requires libraries and applications that\r\ndepend on it to compile against version 34 or later of the\r\nAndroid APIs.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n&gt;       :app is currently compiled against android-33.\r\n\r\nAlso, the maximum recommended compile SDK version for Android Gradle\r\nplugin 8.1.0 is 33.\r\n\r\nRecommended action: Update this project&#39;s version of the Android Gradle\r\nplugin to one that supports 34, then update this project to use\r\ncompileSdk of at least 34.\r\n\r\nNote that updating a library or application&#39;s compileSdk (which\r\nallows newer APIs to be used) can be done separately from updating\r\ntargetSdk (which opts the app in to new runtime behavior) and\r\nminSdk (which determines which devices the app can be installed\r\non).\r\n\r\n2.  Dependency &#39;androidx.navigation:navigation-runtime:2.7.0&#39; requires libraries and applications that\r\ndepend on it to compile against version 34 or later of the\r\nAndroid APIs.\r\n\r\n&gt;       :app is currently compiled against android-33.\r\n\r\nAlso, the maximum recommended compile SDK version for Android Gradle\r\nplugin 8.1.0 is 33.\r\n\r\nRecommended action: Update this project&#39;s version of the Android Gradle\r\nplugin to one that supports 34, then update this project to use\r\ncompileSdk of at least 34.\r\n\r\nNote that updating a library or application&#39;s compileSdk (which\r\nallows newer APIs to be used) can be done separately from updating\r\ntargetSdk (which opts the app in to new runtime behavior) and\r\nminSdk (which determines which devices the app can be installed\r\non).\r\n\r\n3.  Dependency &#39;androidx.navigation:navigation-fragment:2.7.0&#39; requires libraries and applications that\r\ndepend on it to compile against version 34 or later of the\r\nAndroid APIs.\r\n\r\n&gt;       :app is currently compiled against android-33.\r\n\r\nAlso, the maximum recommended compile SDK version for Android Gradle\r\nplugin 8.1.0 is 33.\r\n\r\nRecommended action: Update this project&#39;s version of the Android Gradle\r\nplugin to one that supports 34, then update this project to use\r\ncompileSdk of at least 34.\r\n\r\nNote that updating a library or application&#39;s compileSdk (which\r\nallows newer APIs to be used) can be done separately from updating\r\ntargetSdk (which opts the app in to new runtime behavior) and\r\nminSdk (which determines which devices the app can be installed\r\non).\r\n\r\n4.  Dependency &#39;androidx.navigation:navigation-ui:2.7.0&#39; requires libraries and applications that\r\ndepend on it to compile against version 34 or later of the\r\nAndroid APIs.\r\n\r\n&gt;       :app is currently compiled against android-33.\r\n\r\nAlso, the maximum recommended compile SDK version for Android Gradle\r\nplugin 8.1.0 is 33.\r\n\r\nRecommended action: Update this project&#39;s version of the Android Gradle\r\nplugin to one that supports 34, then update this project to use\r\ncompileSdk of at least 34.\r\n\r\nNote that updating a library or application&#39;s compileSdk (which\r\nallows newer APIs to be used) can be done separately from updating\r\ntargetSdk (which opts the app in to new runtime behavior) and\r\nminSdk (which determines which devices the app can be installed\r\non).*\r\n**\r\n[enter image description here](https://i.stack.imgur.com/L3xVr.png)\r\nand this is my gradel build -&gt;\r\n&gt;  plugins {\r\n&gt;     id(&quot;com.android.application&quot;) }\r\n&gt; \r\n&gt; android {\r\n&gt;     namespace = &quot;com.arzju.myapplication&quot;\r\n&gt;     compileSdk = 33\r\n&gt; \r\n&gt;     defaultConfig {\r\n&gt;         applicationId = &quot;com.arzju.myapplication&quot;\r\n&gt;         minSdk = 24\r\n&gt;         targetSdk = 33\r\n&gt;         versionCode = 1\r\n&gt;         versionName = &quot;1.0&quot;\r\n&gt; \r\n&gt;         testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n&gt;     }\r\n&gt; \r\n&gt;     buildTypes {\r\n&gt;         release {\r\n&gt;             isMinifyEnabled = false\r\n&gt;             proguardFiles(\r\n&gt;                 getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;),\r\n&gt;                 &quot;proguard-rules.pro&quot;\r\n&gt;             )\r\n&gt;         }\r\n&gt;     }\r\n&gt;     compileOptions {\r\n&gt;         sourceCompatibility = JavaVersion.VERSION_1_8\r\n&gt;         targetCompatibility = JavaVersion.VERSION_1_8\r\n&gt;     }\r\n&gt;     buildFeatures {\r\n&gt;         viewBinding = true\r\n&gt;     } }\r\n&gt; \r\n&gt; dependencies {\r\n&gt; \r\n&gt;     implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\r\n&gt;     implementation(&quot;com.google.android.material:material:1.9.0&quot;)\r\n&gt;     implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\r\n&gt;     implementation(&quot;androidx.navigation:navigation-fragment:2.7.0&quot;)\r\n&gt;     implementation(&quot;androidx.navigation:navigation-ui:2.7.0&quot;)\r\n&gt;     testImplementation(&quot;junit:junit:4.13.2&quot;)\r\n&gt;     androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\r\n&gt;     androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\r\n&gt; }\r\n\r\nI change the version of some lib and sdk to 34 , 33 for compiling and target but it dosnt work\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z61rr.png","title":"basic view activity in android studio error","body":"<p>hello guys I try to make new project with java in android studio but when I wanna run the project there is some problem with this :::</p>\n<p>***4 issues were found when checking AAR metadata:</p>\n<ol>\n<li>Dependency 'androidx.navigation:navigation-common:2.7.0' requires libraries and applications that\ndepend on it to compile against version 34 or later of the\nAndroid APIs.\n<a href=\"https://i.stack.imgur.com/z61rr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/z61rr.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<blockquote>\n<pre><code>  :app is currently compiled against android-33.\n</code></pre>\n</blockquote>\n<p>Also, the maximum recommended compile SDK version for Android Gradle\nplugin 8.1.0 is 33.</p>\n<p>Recommended action: Update this project's version of the Android Gradle\nplugin to one that supports 34, then update this project to use\ncompileSdk of at least 34.</p>\n<p>Note that updating a library or application's compileSdk (which\nallows newer APIs to be used) can be done separately from updating\ntargetSdk (which opts the app in to new runtime behavior) and\nminSdk (which determines which devices the app can be installed\non).</p>\n<ol start=\"2\">\n<li>Dependency 'androidx.navigation:navigation-runtime:2.7.0' requires libraries and applications that\ndepend on it to compile against version 34 or later of the\nAndroid APIs.</li>\n</ol>\n<blockquote>\n<pre><code>  :app is currently compiled against android-33.\n</code></pre>\n</blockquote>\n<p>Also, the maximum recommended compile SDK version for Android Gradle\nplugin 8.1.0 is 33.</p>\n<p>Recommended action: Update this project's version of the Android Gradle\nplugin to one that supports 34, then update this project to use\ncompileSdk of at least 34.</p>\n<p>Note that updating a library or application's compileSdk (which\nallows newer APIs to be used) can be done separately from updating\ntargetSdk (which opts the app in to new runtime behavior) and\nminSdk (which determines which devices the app can be installed\non).</p>\n<ol start=\"3\">\n<li>Dependency 'androidx.navigation:navigation-fragment:2.7.0' requires libraries and applications that\ndepend on it to compile against version 34 or later of the\nAndroid APIs.</li>\n</ol>\n<blockquote>\n<pre><code>  :app is currently compiled against android-33.\n</code></pre>\n</blockquote>\n<p>Also, the maximum recommended compile SDK version for Android Gradle\nplugin 8.1.0 is 33.</p>\n<p>Recommended action: Update this project's version of the Android Gradle\nplugin to one that supports 34, then update this project to use\ncompileSdk of at least 34.</p>\n<p>Note that updating a library or application's compileSdk (which\nallows newer APIs to be used) can be done separately from updating\ntargetSdk (which opts the app in to new runtime behavior) and\nminSdk (which determines which devices the app can be installed\non).</p>\n<ol start=\"4\">\n<li>Dependency 'androidx.navigation:navigation-ui:2.7.0' requires libraries and applications that\ndepend on it to compile against version 34 or later of the\nAndroid APIs.</li>\n</ol>\n<blockquote>\n<pre><code>  :app is currently compiled against android-33.\n</code></pre>\n</blockquote>\n<p>Also, the maximum recommended compile SDK version for Android Gradle\nplugin 8.1.0 is 33.</p>\n<p>Recommended action: Update this project's version of the Android Gradle\nplugin to one that supports 34, then update this project to use\ncompileSdk of at least 34.</p>\n<p>Note that updating a library or application's compileSdk (which\nallows newer APIs to be used) can be done separately from updating\ntargetSdk (which opts the app in to new runtime behavior) and\nminSdk (which determines which devices the app can be installed\non).*\n**\n<a href=\"https://i.stack.imgur.com/L3xVr.png\" rel=\"noreferrer\">enter image description here</a>\nand this is my gradel build -&gt;</p>\n<blockquote>\n<p>plugins {\nid(&quot;com.android.application&quot;) }</p>\n<p>android {\nnamespace = &quot;com.arzju.myapplication&quot;\ncompileSdk = 33</p>\n<pre><code>defaultConfig {\n    applicationId = &quot;com.arzju.myapplication&quot;\n    minSdk = 24\n    targetSdk = 33\n    versionCode = 1\n    versionName = &quot;1.0&quot;\n\n    testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        isMinifyEnabled = false\n        proguardFiles(\n            getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;),\n            &quot;proguard-rules.pro&quot;\n        )\n    }\n}\ncompileOptions {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n    targetCompatibility = JavaVersion.VERSION_1_8\n}\nbuildFeatures {\n    viewBinding = true\n} }\n</code></pre>\n<p>dependencies {</p>\n<pre><code>implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\nimplementation(&quot;com.google.android.material:material:1.9.0&quot;)\nimplementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\nimplementation(&quot;androidx.navigation:navigation-fragment:2.7.0&quot;)\nimplementation(&quot;androidx.navigation:navigation-ui:2.7.0&quot;)\ntestImplementation(&quot;junit:junit:4.13.2&quot;)\nandroidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\nandroidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\n</code></pre>\n<p>}</p>\n</blockquote>\n<p>I change the version of some lib and sdk to 34 , 33 for compiling and target but it dosnt work</p>\n"},{"tags":["java","android","android-studio","webview","android-webview"],"answers":[{"tags":[],"owner":{"account_id":9884920,"reputation":2245,"user_id":7319704,"display_name":"Abhinav Gupta"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1522740414,"creation_date":1522732986,"answer_id":49622767,"question_id":49622607,"body_markdown":"See you have to enable `JavaScriptEnabled` in it and in url must have http:\r\n\r\n    wv1.getSettings().setLoadsImagesAutomatically(true);\r\n    wv1.getSettings().setJavaScriptEnabled(true);\r\n    wv1.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\r\n    wv1.loadUrl(url);\r\n\r\nYou can take basic information in these links:\r\n\r\n - https://developer.android.com/reference/android/webkit/WebView.html\r\n - https://www.tutorialspoint.com/android/android_webview_layout.htm\r\n - https://developer.android.com/guide/webapps/webview.html\r\n - https://developer.chrome.com/multidevice/webview/gettingstarted","title":"How to resolve the white Screen of WebView?","body":"<p>See you have to enable <code>JavaScriptEnabled</code> in it and in url must have http:</p>\n\n<pre><code>wv1.getSettings().setLoadsImagesAutomatically(true);\nwv1.getSettings().setJavaScriptEnabled(true);\nwv1.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\nwv1.loadUrl(url);\n</code></pre>\n\n<p>You can take basic information in these links:</p>\n\n<ul>\n<li><a href=\"https://developer.android.com/reference/android/webkit/WebView.html\" rel=\"noreferrer\">https://developer.android.com/reference/android/webkit/WebView.html</a></li>\n<li><a href=\"https://www.tutorialspoint.com/android/android_webview_layout.htm\" rel=\"noreferrer\">https://www.tutorialspoint.com/android/android_webview_layout.htm</a></li>\n<li><a href=\"https://developer.android.com/guide/webapps/webview.html\" rel=\"noreferrer\">https://developer.android.com/guide/webapps/webview.html</a></li>\n<li><a href=\"https://developer.chrome.com/multidevice/webview/gettingstarted\" rel=\"noreferrer\">https://developer.chrome.com/multidevice/webview/gettingstarted</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6314503,"reputation":2915,"user_id":4904995,"accept_rate":40,"display_name":"Tung Tran"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1522779268,"creation_date":1522779268,"answer_id":49636672,"question_id":49622607,"body_markdown":"You try this:\r\n\r\n    WebSettings settings = webView.getSettings();\r\n    settings.setJavaScriptEnabled(true);\r\n    settings.setAllowContentAccess(true);\r\n    settings.setDomStorageEnabled(true);\r\n    webView.setWebViewClient(new WebViewClient());\r\n    webView.loadUrl(url);","title":"How to resolve the white Screen of WebView?","body":"<p>You try this:</p>\n\n<pre><code>WebSettings settings = webView.getSettings();\nsettings.setJavaScriptEnabled(true);\nsettings.setAllowContentAccess(true);\nsettings.setDomStorageEnabled(true);\nwebView.setWebViewClient(new WebViewClient());\nwebView.loadUrl(url);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6914700,"reputation":4797,"user_id":5309419,"display_name":"DmitryArc"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1522834917,"creation_date":1522834917,"answer_id":49647722,"question_id":49622607,"body_markdown":"Most likely you&#39;ve faced the issue with View Layer Type.\r\nTry this code:\r\n\r\n    if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n        webSettings.setMixedContentMode(0);\r\n        webView.setLayerType(View.LAYER_TYPE_HARDWARE, null);\r\n    } else if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n        webView.setLayerType(View.LAYER_TYPE_HARDWARE, null);\r\n    } else {\r\n        webView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);\r\n    }\r\n\r\nAnd try also to set hardware acceleration in Manifest:\r\n\r\n    android:hardwareAccelerated=&quot;true&quot;\r\nPlease refer this [link][1] for more details.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/graphics/hardware-accel.html","title":"How to resolve the white Screen of WebView?","body":"<p>Most likely you've faced the issue with View Layer Type.\nTry this code:</p>\n\n<pre><code>if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n    webSettings.setMixedContentMode(0);\n    webView.setLayerType(View.LAYER_TYPE_HARDWARE, null);\n} else if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n    webView.setLayerType(View.LAYER_TYPE_HARDWARE, null);\n} else {\n    webView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);\n}\n</code></pre>\n\n<p>And try also to set hardware acceleration in Manifest:</p>\n\n<pre><code>android:hardwareAccelerated=\"true\"\n</code></pre>\n\n<p>Please refer this <a href=\"https://developer.android.com/guide/topics/graphics/hardware-accel.html\" rel=\"noreferrer\">link</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":3135607,"reputation":7,"user_id":2652166,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653036855,"creation_date":1653036855,"answer_id":72316135,"question_id":49622607,"body_markdown":"I have a problem with my website. All application requests went to AJAX.\r\n\r\n    if(!empty($_SERVER[&#39;HTTP_X_REQUESTED_WITH&#39;])&#39;)\r\n    {//the result is returned to the application}\r\n\r\nthen I changed the request to\r\n\r\n    if(!empty($_SERVER[&#39;HTTP_X_REQUESTED_WITH&#39;]) &amp;&amp; strtolower($_SERVER[&#39;HTTP_X_REQUESTED_WITH&#39;]) == &#39;xmlhttprequest&#39;)\r\n    {//does not return to the application}\r\n\r\nThe white screen is gone and the app is working.","title":"How to resolve the white Screen of WebView?","body":"<p>I have a problem with my website. All application requests went to AJAX.</p>\n<pre><code>if(!empty($_SERVER['HTTP_X_REQUESTED_WITH'])')\n{//the result is returned to the application}\n</code></pre>\n<p>then I changed the request to</p>\n<pre><code>if(!empty($_SERVER['HTTP_X_REQUESTED_WITH']) &amp;&amp; strtolower($_SERVER['HTTP_X_REQUESTED_WITH']) == 'xmlhttprequest')\n{//does not return to the application}\n</code></pre>\n<p>The white screen is gone and the app is working.</p>\n"},{"tags":[],"owner":{"account_id":6198627,"reputation":96,"user_id":4829205,"display_name":"Wander O Filho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655235729,"creation_date":1655235729,"answer_id":72622575,"question_id":49622607,"body_markdown":"I could fix it by overrinding WebViewClient class, just implement onPageFinished() doing a validation whereas the loading progress of the page has finished.\r\n\r\nSometimes it can occur that the content of the page is not fully loaded. Just reload it until you reach 100 percent.\r\n\r\n```\r\nwhile(view.getProgress() &lt; 100) ()-&gt; {view.reload()};\r\n```\r\n\r\nYou should have to implement something like a   timeout validation.\r\n\r\n```\r\nprivate class MyWebViewClient extends WebViewClient\r\n{\r\n   @Override\r\n   public void onPageFinished(WebView view, String url)\r\n   {\r\n      try\r\n      {\r\n         while(view.getProgress() &lt; 100)\r\n         {\r\n             view.reload();\r\n         }\r\n      }\r\n      catch (Exception e)\r\n      {\r\n         e.printStackTrace();\r\n      }\r\n   }\r\n}\r\n\r\n```","title":"How to resolve the white Screen of WebView?","body":"<p>I could fix it by overrinding WebViewClient class, just implement onPageFinished() doing a validation whereas the loading progress of the page has finished.</p>\n<p>Sometimes it can occur that the content of the page is not fully loaded. Just reload it until you reach 100 percent.</p>\n<pre><code>while(view.getProgress() &lt; 100) ()-&gt; {view.reload()};\n</code></pre>\n<p>You should have to implement something like a   timeout validation.</p>\n<pre><code>private class MyWebViewClient extends WebViewClient\n{\n   @Override\n   public void onPageFinished(WebView view, String url)\n   {\n      try\n      {\n         while(view.getProgress() &lt; 100)\n         {\n             view.reload();\n         }\n      }\n      catch (Exception e)\n      {\n         e.printStackTrace();\n      }\n   }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26946841,"reputation":1,"user_id":20516698,"display_name":"Kelvin Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699195952,"creation_date":1699195952,"answer_id":77426411,"question_id":49622607,"body_markdown":"make your webviews height and width match parent \r\n\r\n        &lt;WebView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:id=&quot;@+id/webview&quot;/&gt;\r\n\r\nthis worked for me ","title":"How to resolve the white Screen of WebView?","body":"<p>make your webviews height and width match parent</p>\n<pre><code>    &lt;WebView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/webview&quot;/&gt;\n</code></pre>\n<p>this worked for me</p>\n"}],"owner":{"account_id":13229785,"reputation":155,"user_id":9553798,"display_name":"Rishiram Ranabhat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15867,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":49647722,"answer_count":6,"score":4,"last_activity_date":1699195952,"creation_date":1522731974,"question_id":49622607,"body_markdown":"I&#39;m using the below code to populate my `WebView` with local html files, but it appears fine in some device but recently I noticed in some Device like *`Colors X114`*, the `WebView` appears fine for one Second and then everything disappears and white blank screen appears.  \r\n&lt;h3&gt;The Code:&lt;/h3&gt;\r\n\r\n    package com.nepalpolice.mnemonics;\r\n\r\n    import android.os.Bundle;\r\n    import android.support.v4.app.Fragment;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.view.KeyEvent;\r\n    import android.view.LayoutInflater;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.LinearLayout;\r\n\r\n\r\n    /**\r\n     * Created by Sagar on 2017/09/23. yo chai menupage ko Fragments ko lagi\r\n     */\r\n\r\n    public class Homepage extends Fragment {\r\n\r\n        WebView myWebView;\r\n        private LinearLayout container;\r\n        private Button nextButton, closeButton;\r\n        private EditText findBox;\r\n\r\n\r\n        public Homepage() {\r\n            // Required empty public constructor\r\n        }\r\n\r\n\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            View rootView = inflater.inflate(R.layout.fragment_homepage, container,  false);\r\n\r\n\r\n            String url = getArguments().getString(&quot;url&quot;);\r\n           \r\n\r\n            myWebView=(WebView)rootView.findViewById(R.id.webview);\r\n            myWebView.getSettings().setBuiltInZoomControls(true);\r\n\r\n            myWebView.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\r\n            myWebView.getSettings().setLoadsImagesAutomatically(true);\r\n            myWebView.getSettings().setJavaScriptEnabled(true);\r\n\r\n            myWebView.getSettings().setBuiltInZoomControls(true);\r\n\r\n            myWebView.setInitialScale(1);\r\n            myWebView.getSettings().setLoadWithOverviewMode(true);\r\n            myWebView.getSettings().setUseWideViewPort(true);\r\n\r\n            WebSettings webSettings = myWebView.getSettings();\r\n\r\n            myWebView.loadUrl(url);\r\n          \r\n\r\n            return rootView;\r\n\r\n\r\n        }\r\n\r\n        public static String changedHeaderHtml(String htmlText) {\r\n\r\n            String head = &quot;&lt;head&gt;&lt;meta name=\\&quot;viewport\\&quot; content=\\&quot;width=device-width, user-scalable=yes\\&quot; /&gt;&lt;/head&gt;&quot;;\r\n\r\n            String closedTag = &quot;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n            String changeFontHtml = head + htmlText + closedTag;\r\n            return changeFontHtml;\r\n\r\n        }\r\n    }\r\n\r\n\r\nand this is how it appears or should appears\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut how it appears in some Device.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DDx8h.jpg\r\n  [2]: https://i.stack.imgur.com/gfy5j.png\r\n\r\nand I&#39;m passing the url as string as below\r\n\r\n      args3.putString(&quot;url1&quot;, &quot;file:///android_asset/b/dbpm.html&quot;);","title":"How to resolve the white Screen of WebView?","body":"<p>I'm using the below code to populate my <code>WebView</code> with local html files, but it appears fine in some device but recently I noticed in some Device like <em><code>Colors X114</code></em>, the <code>WebView</code> appears fine for one Second and then everything disappears and white blank screen appears.  </p>\n\n<h3>The Code:</h3>\n\n<pre><code>package com.nepalpolice.mnemonics;\n\nimport android.os.Bundle;\nimport android.support.v4.app.Fragment;\nimport android.support.v7.app.AppCompatActivity;\nimport android.view.KeyEvent;\nimport android.view.LayoutInflater;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.LinearLayout;\n\n\n/**\n * Created by Sagar on 2017/09/23. yo chai menupage ko Fragments ko lagi\n */\n\npublic class Homepage extends Fragment {\n\n    WebView myWebView;\n    private LinearLayout container;\n    private Button nextButton, closeButton;\n    private EditText findBox;\n\n\n    public Homepage() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View rootView = inflater.inflate(R.layout.fragment_homepage, container,  false);\n\n\n        String url = getArguments().getString(\"url\");\n\n\n        myWebView=(WebView)rootView.findViewById(R.id.webview);\n        myWebView.getSettings().setBuiltInZoomControls(true);\n\n        myWebView.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\n        myWebView.getSettings().setLoadsImagesAutomatically(true);\n        myWebView.getSettings().setJavaScriptEnabled(true);\n\n        myWebView.getSettings().setBuiltInZoomControls(true);\n\n        myWebView.setInitialScale(1);\n        myWebView.getSettings().setLoadWithOverviewMode(true);\n        myWebView.getSettings().setUseWideViewPort(true);\n\n        WebSettings webSettings = myWebView.getSettings();\n\n        myWebView.loadUrl(url);\n\n\n        return rootView;\n\n\n    }\n\n    public static String changedHeaderHtml(String htmlText) {\n\n        String head = \"&lt;head&gt;&lt;meta name=\\\"viewport\\\" content=\\\"width=device-width, user-scalable=yes\\\" /&gt;&lt;/head&gt;\";\n\n        String closedTag = \"&lt;/body&gt;&lt;/html&gt;\";\n        String changeFontHtml = head + htmlText + closedTag;\n        return changeFontHtml;\n\n    }\n}\n</code></pre>\n\n<p>and this is how it appears or should appears</p>\n\n<p><a href=\"https://i.stack.imgur.com/DDx8h.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DDx8h.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>But how it appears in some Device.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gfy5j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gfy5j.png\" alt=\"enter image description here\"></a></p>\n\n<p>and I'm passing the url as string as below</p>\n\n<pre><code>  args3.putString(\"url1\", \"file:///android_asset/b/dbpm.html\");\n</code></pre>\n"},{"tags":["java","youtube"],"comments":[{"owner":{"account_id":150404,"reputation":42099,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":1,"creation_date":1429486948,"post_id":4032766,"comment_id":47607534,"body_markdown":"possible duplicate of [How to download Youtube video in java](http://stackoverflow.com/questions/19198185/how-to-download-youtube-video-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/19198185/how-to-download-youtube-video-in-java\">How to download Youtube video in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1288181062,"creation_date":1288181062,"answer_id":4032947,"question_id":4032766,"body_markdown":"Regarding the format (mp4 or flv) decide which [URL][1] you want to use. Then use this [tutorial][2] to download the video and save it into a local directory.\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/832306/playing-youtube-videos-in-a-windows-mobile-application/1007705#1007705\r\n  [2]: http://www.roseindia.net/java/example/java/io/file-url-download.shtml","title":"How to download videos from youtube on java?","body":"<p>Regarding the format (mp4 or flv) decide which <a href=\"https://stackoverflow.com/questions/832306/playing-youtube-videos-in-a-windows-mobile-application/1007705#1007705\">URL</a> you want to use. Then use this <a href=\"http://www.roseindia.net/java/example/java/io/file-url-download.shtml\" rel=\"nofollow noreferrer\">tutorial</a> to download the video and save it into a local directory.</p>\n"},{"tags":[],"owner":{"account_id":275518,"reputation":433,"user_id":568438,"display_name":"pinkteddybear888"},"down_vote_count":4,"up_vote_count":32,"is_accepted":false,"score":28,"last_activity_date":1294531513,"creation_date":1294531513,"answer_id":4636908,"question_id":4032766,"body_markdown":"    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.Reader;\r\n    import java.io.StringWriter;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.io.Writer;\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    import java.util.logging.Formatter;\r\n    import java.util.logging.Handler;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.LogRecord;\r\n    import java.util.logging.Logger;\r\n    import java.util.regex.Pattern;\r\n    \r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.NameValuePair;\r\n    import org.apache.http.client.CookieStore;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.client.protocol.ClientContext;\r\n    import org.apache.http.client.utils.URIUtils;\r\n    import org.apache.http.client.utils.URLEncodedUtils;\r\n    import org.apache.http.impl.client.BasicCookieStore;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    import org.apache.http.message.BasicNameValuePair;\r\n    import org.apache.http.protocol.BasicHttpContext;\r\n    import org.apache.http.protocol.HttpContext;\r\n    \r\n    public class JavaYoutubeDownloader {\r\n    \r\n     public static String newline = System.getProperty(&quot;line.separator&quot;);\r\n     private static final Logger log = Logger.getLogger(JavaYoutubeDownloader.class.getCanonicalName());\r\n     private static final Level defaultLogLevelSelf = Level.FINER;\r\n     private static final Level defaultLogLevel = Level.WARNING;\r\n     private static final Logger rootlog = Logger.getLogger(&quot;&quot;);\r\n     private static final String scheme = &quot;http&quot;;\r\n     private static final String host = &quot;www.youtube.com&quot;;\r\n     private static final Pattern commaPattern = Pattern.compile(&quot;,&quot;);\r\n     private static final Pattern pipePattern = Pattern.compile(&quot;\\\\|&quot;);\r\n     private static final char[] ILLEGAL_FILENAME_CHARACTERS = { &#39;/&#39;, &#39;\\n&#39;, &#39;\\r&#39;, &#39;\\t&#39;, &#39;\\0&#39;, &#39;\\f&#39;, &#39;`&#39;, &#39;?&#39;, &#39;*&#39;, &#39;\\\\&#39;, &#39;&lt;&#39;, &#39;&gt;&#39;, &#39;|&#39;, &#39;\\&quot;&#39;, &#39;:&#39; };\r\n    \r\n     private static void usage(String error) {\r\n      if (error != null) {\r\n       System.err.println(&quot;Error: &quot; + error);\r\n      }\r\n      System.err.println(&quot;usage: JavaYoutubeDownload VIDEO_ID DESTINATION_DIRECTORY&quot;);\r\n      System.exit(-1);\r\n     }\r\n    \r\n     public static void main(String[] args) {\r\n      if (args == null || args.length == 0) {\r\n       usage(&quot;Missing video id. Extract from http://www.youtube.com/watch?v=VIDEO_ID&quot;);\r\n      }\r\n      try {\r\n       setupLogging();\r\n    \r\n       log.fine(&quot;Starting&quot;);\r\n       String videoId = null;\r\n       String outdir = &quot;.&quot;;\r\n       // TODO Ghetto command line parsing\r\n       if (args.length == 1) {\r\n        videoId = args[0];\r\n       } else if (args.length == 2) {\r\n        videoId = args[0];\r\n        outdir = args[1];\r\n       }\r\n    \r\n       int format = 18; // http://en.wikipedia.org/wiki/YouTube#Quality_and_codecs\r\n       String encoding = &quot;UTF-8&quot;;\r\n       String userAgent = &quot;Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.13) Gecko/20101203 Firefox/3.6.13&quot;;\r\n       File outputDir = new File(outdir);\r\n       String extension = getExtension(format);\r\n    \r\n       play(videoId, format, encoding, userAgent, outputDir, extension);\r\n    \r\n      } catch (Throwable t) {\r\n       t.printStackTrace();\r\n      }\r\n      log.fine(&quot;Finished&quot;);\r\n     }\r\n    \r\n     private static String getExtension(int format) {\r\n      // TODO\r\n      return &quot;mp4&quot;;\r\n     }\r\n    \r\n     private static void play(String videoId, int format, String encoding, String userAgent, File outputdir, String extension) throws Throwable {\r\n      log.fine(&quot;Retrieving &quot; + videoId);\r\n      List&lt;NameValuePair&gt; qparams = new ArrayList&lt;NameValuePair&gt;();\r\n      qparams.add(new BasicNameValuePair(&quot;video_id&quot;, videoId));\r\n      qparams.add(new BasicNameValuePair(&quot;fmt&quot;, &quot;&quot; + format));\r\n      URI uri = getUri(&quot;get_video_info&quot;, qparams);\r\n    \r\n      CookieStore cookieStore = new BasicCookieStore();\r\n      HttpContext localContext = new BasicHttpContext();\r\n      localContext.setAttribute(ClientContext.COOKIE_STORE, cookieStore);\r\n    \r\n      HttpClient httpclient = new DefaultHttpClient();\r\n      HttpGet httpget = new HttpGet(uri);\r\n      httpget.setHeader(&quot;User-Agent&quot;, userAgent);\r\n    \r\n      log.finer(&quot;Executing &quot; + uri);\r\n      HttpResponse response = httpclient.execute(httpget, localContext);\r\n      HttpEntity entity = response.getEntity();\r\n      if (entity != null &amp;&amp; response.getStatusLine().getStatusCode() == 200) {\r\n       InputStream instream = entity.getContent();\r\n       String videoInfo = getStringFromInputStream(encoding, instream);\r\n       if (videoInfo != null &amp;&amp; videoInfo.length() &gt; 0) {\r\n        List&lt;NameValuePair&gt; infoMap = new ArrayList&lt;NameValuePair&gt;();\r\n        URLEncodedUtils.parse(infoMap, new Scanner(videoInfo), encoding);\r\n        String token = null;\r\n        String downloadUrl = null;\r\n        String filename = videoId;\r\n    \r\n        for (NameValuePair pair : infoMap) {\r\n         String key = pair.getName();\r\n         String val = pair.getValue();\r\n         log.finest(key + &quot;=&quot; + val);\r\n         if (key.equals(&quot;token&quot;)) {\r\n          token = val;\r\n         } else if (key.equals(&quot;title&quot;)) {\r\n          filename = val;\r\n         } else if (key.equals(&quot;fmt_url_map&quot;)) {\r\n          String[] formats = commaPattern.split(val);\r\n          for (String fmt : formats) {\r\n           String[] fmtPieces = pipePattern.split(fmt);\r\n           if (fmtPieces.length == 2) {\r\n            // in the end, download somethin!\r\n            downloadUrl = fmtPieces[1];\r\n            int pieceFormat = Integer.parseInt(fmtPieces[0]);\r\n            if (pieceFormat == format) {\r\n             // found what we want\r\n             downloadUrl = fmtPieces[1];\r\n             break;\r\n            }\r\n           }\r\n          }\r\n         }\r\n        }\r\n    \r\n        filename = cleanFilename(filename);\r\n        if (filename.length() == 0) {\r\n         filename = videoId;\r\n        } else {\r\n         filename += &quot;_&quot; + videoId;\r\n        }\r\n        filename += &quot;.&quot; + extension;\r\n        File outputfile = new File(outputdir, filename);\r\n    \r\n        if (downloadUrl != null) {\r\n         downloadWithHttpClient(userAgent, downloadUrl, outputfile);\r\n        }\r\n       }\r\n      }\r\n     }\r\n    \r\n     private static void downloadWithHttpClient(String userAgent, String downloadUrl, File outputfile) throws Throwable {\r\n      HttpGet httpget2 = new HttpGet(downloadUrl);\r\n      httpget2.setHeader(&quot;User-Agent&quot;, userAgent);\r\n    \r\n      log.finer(&quot;Executing &quot; + httpget2.getURI());\r\n      HttpClient httpclient2 = new DefaultHttpClient();\r\n      HttpResponse response2 = httpclient2.execute(httpget2);\r\n      HttpEntity entity2 = response2.getEntity();\r\n      if (entity2 != null &amp;&amp; response2.getStatusLine().getStatusCode() == 200) {\r\n       long length = entity2.getContentLength();\r\n       InputStream instream2 = entity2.getContent();\r\n       log.finer(&quot;Writing &quot; + length + &quot; bytes to &quot; + outputfile);\r\n       if (outputfile.exists()) {\r\n        outputfile.delete();\r\n       }\r\n       FileOutputStream outstream = new FileOutputStream(outputfile);\r\n       try {\r\n        byte[] buffer = new byte[2048];\r\n        int count = -1;\r\n        while ((count = instream2.read(buffer)) != -1) {\r\n         outstream.write(buffer, 0, count);\r\n        }\r\n        outstream.flush();\r\n       } finally {\r\n        outstream.close();\r\n       }\r\n      }\r\n     }\r\n    \r\n     private static String cleanFilename(String filename) {\r\n      for (char c : ILLEGAL_FILENAME_CHARACTERS) {\r\n       filename = filename.replace(c, &#39;_&#39;);\r\n      }\r\n      return filename;\r\n     }\r\n    \r\n     private static URI getUri(String path, List&lt;NameValuePair&gt; qparams) throws URISyntaxException {\r\n      URI uri = URIUtils.createURI(scheme, host, -1, &quot;/&quot; + path, URLEncodedUtils.format(qparams, &quot;UTF-8&quot;), null);\r\n      return uri;\r\n     }\r\n    \r\n     private static void setupLogging() {\r\n      changeFormatter(new Formatter() {\r\n       @Override\r\n       public String format(LogRecord arg0) {\r\n        return arg0.getMessage() + newline;\r\n       }\r\n      });\r\n      explicitlySetAllLogging(Level.FINER);\r\n     }\r\n    \r\n     private static void changeFormatter(Formatter formatter) {\r\n      Handler[] handlers = rootlog.getHandlers();\r\n      for (Handler handler : handlers) {\r\n       handler.setFormatter(formatter);\r\n      }\r\n     }\r\n    \r\n     private static void explicitlySetAllLogging(Level level) {\r\n      rootlog.setLevel(Level.ALL);\r\n      for (Handler handler : rootlog.getHandlers()) {\r\n       handler.setLevel(defaultLogLevelSelf);\r\n      }\r\n      log.setLevel(level);\r\n      rootlog.setLevel(defaultLogLevel);\r\n     }\r\n    \r\n     private static String getStringFromInputStream(String encoding, InputStream instream) throws UnsupportedEncodingException, IOException {\r\n      Writer writer = new StringWriter();\r\n    \r\n      char[] buffer = new char[1024];\r\n      try {\r\n       Reader reader = new BufferedReader(new InputStreamReader(instream, encoding));\r\n       int n;\r\n       while ((n = reader.read(buffer)) != -1) {\r\n        writer.write(buffer, 0, n);\r\n       }\r\n      } finally {\r\n       instream.close();\r\n      }\r\n      String result = writer.toString();\r\n      return result;\r\n     }\r\n    }\r\n    \r\n    /**\r\n     * &lt;pre&gt;\r\n     * Exploded results from get_video_info:\r\n     * \r\n     * fexp=90...\r\n     * allow_embed=1\r\n     * fmt_stream_map=35|http://v9.lscache8...\r\n     * fmt_url_map=35|http://v9.lscache8...\r\n     * allow_ratings=1\r\n     * keywords=Stefan Molyneux,Luke Bessey,anarchy,stateless society,giant stone cow,the story of our unenslavement,market anarchy,voluntaryism,anarcho capitalism\r\n     * track_embed=0\r\n     * fmt_list=35/854x480/9/0/115,34/640x360/9/0/115,18/640x360/9/0/115,5/320x240/7/0/0\r\n     * author=lukebessey\r\n     * muted=0\r\n     * length_seconds=390\r\n     * plid=AA...\r\n     * ftoken=null\r\n     * status=ok\r\n     * watermark=http://s.ytimg.com/yt/swf/logo-vfl_bP6ud.swf,http://s.ytimg.com/yt/swf/hdlogo-vfloR6wva.swf\r\n     * timestamp=12...\r\n     * has_cc=False\r\n     * fmt_map=35/854x480/9/0/115,34/640x360/9/0/115,18/640x360/9/0/115,5/320x240/7/0/0\r\n     * leanback_module=http://s.ytimg.com/yt/swfbin/leanback_module-vflJYyeZN.swf\r\n     * hl=en_US\r\n     * endscreen_module=http://s.ytimg.com/yt/swfbin/endscreen-vflk19iTq.swf\r\n     * vq=auto\r\n     * avg_rating=5.0\r\n     * video_id=S6IZP3yRJ9I\r\n     * token=vPpcFNh...\r\n     * thumbnail_url=http://i4.ytimg.com/vi/S6IZP3yRJ9I/default.jpg\r\n     * title=The Story of Our Unenslavement - Animated\r\n     * &lt;/pre&gt;\r\n     */\r\n\r\n","title":"How to download videos from youtube on java?","body":"<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\nimport java.io.StringWriter;\nimport java.io.UnsupportedEncodingException;\nimport java.io.Writer;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.util.logging.Formatter;\nimport java.util.logging.Handler;\nimport java.util.logging.Level;\nimport java.util.logging.LogRecord;\nimport java.util.logging.Logger;\nimport java.util.regex.Pattern;\n\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.NameValuePair;\nimport org.apache.http.client.CookieStore;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.client.protocol.ClientContext;\nimport org.apache.http.client.utils.URIUtils;\nimport org.apache.http.client.utils.URLEncodedUtils;\nimport org.apache.http.impl.client.BasicCookieStore;\nimport org.apache.http.impl.client.DefaultHttpClient;\nimport org.apache.http.message.BasicNameValuePair;\nimport org.apache.http.protocol.BasicHttpContext;\nimport org.apache.http.protocol.HttpContext;\n\npublic class JavaYoutubeDownloader {\n\n public static String newline = System.getProperty(\"line.separator\");\n private static final Logger log = Logger.getLogger(JavaYoutubeDownloader.class.getCanonicalName());\n private static final Level defaultLogLevelSelf = Level.FINER;\n private static final Level defaultLogLevel = Level.WARNING;\n private static final Logger rootlog = Logger.getLogger(\"\");\n private static final String scheme = \"http\";\n private static final String host = \"www.youtube.com\";\n private static final Pattern commaPattern = Pattern.compile(\",\");\n private static final Pattern pipePattern = Pattern.compile(\"\\\\|\");\n private static final char[] ILLEGAL_FILENAME_CHARACTERS = { '/', '\\n', '\\r', '\\t', '\\0', '\\f', '`', '?', '*', '\\\\', '&lt;', '&gt;', '|', '\\\"', ':' };\n\n private static void usage(String error) {\n  if (error != null) {\n   System.err.println(\"Error: \" + error);\n  }\n  System.err.println(\"usage: JavaYoutubeDownload VIDEO_ID DESTINATION_DIRECTORY\");\n  System.exit(-1);\n }\n\n public static void main(String[] args) {\n  if (args == null || args.length == 0) {\n   usage(\"Missing video id. Extract from http://www.youtube.com/watch?v=VIDEO_ID\");\n  }\n  try {\n   setupLogging();\n\n   log.fine(\"Starting\");\n   String videoId = null;\n   String outdir = \".\";\n   // TODO Ghetto command line parsing\n   if (args.length == 1) {\n    videoId = args[0];\n   } else if (args.length == 2) {\n    videoId = args[0];\n    outdir = args[1];\n   }\n\n   int format = 18; // http://en.wikipedia.org/wiki/YouTube#Quality_and_codecs\n   String encoding = \"UTF-8\";\n   String userAgent = \"Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.13) Gecko/20101203 Firefox/3.6.13\";\n   File outputDir = new File(outdir);\n   String extension = getExtension(format);\n\n   play(videoId, format, encoding, userAgent, outputDir, extension);\n\n  } catch (Throwable t) {\n   t.printStackTrace();\n  }\n  log.fine(\"Finished\");\n }\n\n private static String getExtension(int format) {\n  // TODO\n  return \"mp4\";\n }\n\n private static void play(String videoId, int format, String encoding, String userAgent, File outputdir, String extension) throws Throwable {\n  log.fine(\"Retrieving \" + videoId);\n  List&lt;NameValuePair&gt; qparams = new ArrayList&lt;NameValuePair&gt;();\n  qparams.add(new BasicNameValuePair(\"video_id\", videoId));\n  qparams.add(new BasicNameValuePair(\"fmt\", \"\" + format));\n  URI uri = getUri(\"get_video_info\", qparams);\n\n  CookieStore cookieStore = new BasicCookieStore();\n  HttpContext localContext = new BasicHttpContext();\n  localContext.setAttribute(ClientContext.COOKIE_STORE, cookieStore);\n\n  HttpClient httpclient = new DefaultHttpClient();\n  HttpGet httpget = new HttpGet(uri);\n  httpget.setHeader(\"User-Agent\", userAgent);\n\n  log.finer(\"Executing \" + uri);\n  HttpResponse response = httpclient.execute(httpget, localContext);\n  HttpEntity entity = response.getEntity();\n  if (entity != null &amp;&amp; response.getStatusLine().getStatusCode() == 200) {\n   InputStream instream = entity.getContent();\n   String videoInfo = getStringFromInputStream(encoding, instream);\n   if (videoInfo != null &amp;&amp; videoInfo.length() &gt; 0) {\n    List&lt;NameValuePair&gt; infoMap = new ArrayList&lt;NameValuePair&gt;();\n    URLEncodedUtils.parse(infoMap, new Scanner(videoInfo), encoding);\n    String token = null;\n    String downloadUrl = null;\n    String filename = videoId;\n\n    for (NameValuePair pair : infoMap) {\n     String key = pair.getName();\n     String val = pair.getValue();\n     log.finest(key + \"=\" + val);\n     if (key.equals(\"token\")) {\n      token = val;\n     } else if (key.equals(\"title\")) {\n      filename = val;\n     } else if (key.equals(\"fmt_url_map\")) {\n      String[] formats = commaPattern.split(val);\n      for (String fmt : formats) {\n       String[] fmtPieces = pipePattern.split(fmt);\n       if (fmtPieces.length == 2) {\n        // in the end, download somethin!\n        downloadUrl = fmtPieces[1];\n        int pieceFormat = Integer.parseInt(fmtPieces[0]);\n        if (pieceFormat == format) {\n         // found what we want\n         downloadUrl = fmtPieces[1];\n         break;\n        }\n       }\n      }\n     }\n    }\n\n    filename = cleanFilename(filename);\n    if (filename.length() == 0) {\n     filename = videoId;\n    } else {\n     filename += \"_\" + videoId;\n    }\n    filename += \".\" + extension;\n    File outputfile = new File(outputdir, filename);\n\n    if (downloadUrl != null) {\n     downloadWithHttpClient(userAgent, downloadUrl, outputfile);\n    }\n   }\n  }\n }\n\n private static void downloadWithHttpClient(String userAgent, String downloadUrl, File outputfile) throws Throwable {\n  HttpGet httpget2 = new HttpGet(downloadUrl);\n  httpget2.setHeader(\"User-Agent\", userAgent);\n\n  log.finer(\"Executing \" + httpget2.getURI());\n  HttpClient httpclient2 = new DefaultHttpClient();\n  HttpResponse response2 = httpclient2.execute(httpget2);\n  HttpEntity entity2 = response2.getEntity();\n  if (entity2 != null &amp;&amp; response2.getStatusLine().getStatusCode() == 200) {\n   long length = entity2.getContentLength();\n   InputStream instream2 = entity2.getContent();\n   log.finer(\"Writing \" + length + \" bytes to \" + outputfile);\n   if (outputfile.exists()) {\n    outputfile.delete();\n   }\n   FileOutputStream outstream = new FileOutputStream(outputfile);\n   try {\n    byte[] buffer = new byte[2048];\n    int count = -1;\n    while ((count = instream2.read(buffer)) != -1) {\n     outstream.write(buffer, 0, count);\n    }\n    outstream.flush();\n   } finally {\n    outstream.close();\n   }\n  }\n }\n\n private static String cleanFilename(String filename) {\n  for (char c : ILLEGAL_FILENAME_CHARACTERS) {\n   filename = filename.replace(c, '_');\n  }\n  return filename;\n }\n\n private static URI getUri(String path, List&lt;NameValuePair&gt; qparams) throws URISyntaxException {\n  URI uri = URIUtils.createURI(scheme, host, -1, \"/\" + path, URLEncodedUtils.format(qparams, \"UTF-8\"), null);\n  return uri;\n }\n\n private static void setupLogging() {\n  changeFormatter(new Formatter() {\n   @Override\n   public String format(LogRecord arg0) {\n    return arg0.getMessage() + newline;\n   }\n  });\n  explicitlySetAllLogging(Level.FINER);\n }\n\n private static void changeFormatter(Formatter formatter) {\n  Handler[] handlers = rootlog.getHandlers();\n  for (Handler handler : handlers) {\n   handler.setFormatter(formatter);\n  }\n }\n\n private static void explicitlySetAllLogging(Level level) {\n  rootlog.setLevel(Level.ALL);\n  for (Handler handler : rootlog.getHandlers()) {\n   handler.setLevel(defaultLogLevelSelf);\n  }\n  log.setLevel(level);\n  rootlog.setLevel(defaultLogLevel);\n }\n\n private static String getStringFromInputStream(String encoding, InputStream instream) throws UnsupportedEncodingException, IOException {\n  Writer writer = new StringWriter();\n\n  char[] buffer = new char[1024];\n  try {\n   Reader reader = new BufferedReader(new InputStreamReader(instream, encoding));\n   int n;\n   while ((n = reader.read(buffer)) != -1) {\n    writer.write(buffer, 0, n);\n   }\n  } finally {\n   instream.close();\n  }\n  String result = writer.toString();\n  return result;\n }\n}\n\n/**\n * &lt;pre&gt;\n * Exploded results from get_video_info:\n * \n * fexp=90...\n * allow_embed=1\n * fmt_stream_map=35|http://v9.lscache8...\n * fmt_url_map=35|http://v9.lscache8...\n * allow_ratings=1\n * keywords=Stefan Molyneux,Luke Bessey,anarchy,stateless society,giant stone cow,the story of our unenslavement,market anarchy,voluntaryism,anarcho capitalism\n * track_embed=0\n * fmt_list=35/854x480/9/0/115,34/640x360/9/0/115,18/640x360/9/0/115,5/320x240/7/0/0\n * author=lukebessey\n * muted=0\n * length_seconds=390\n * plid=AA...\n * ftoken=null\n * status=ok\n * watermark=http://s.ytimg.com/yt/swf/logo-vfl_bP6ud.swf,http://s.ytimg.com/yt/swf/hdlogo-vfloR6wva.swf\n * timestamp=12...\n * has_cc=False\n * fmt_map=35/854x480/9/0/115,34/640x360/9/0/115,18/640x360/9/0/115,5/320x240/7/0/0\n * leanback_module=http://s.ytimg.com/yt/swfbin/leanback_module-vflJYyeZN.swf\n * hl=en_US\n * endscreen_module=http://s.ytimg.com/yt/swfbin/endscreen-vflk19iTq.swf\n * vq=auto\n * avg_rating=5.0\n * video_id=S6IZP3yRJ9I\n * token=vPpcFNh...\n * thumbnail_url=http://i4.ytimg.com/vi/S6IZP3yRJ9I/default.jpg\n * title=The Story of Our Unenslavement - Animated\n * &lt;/pre&gt;\n */\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1578323133,"creation_date":1423072235,"answer_id":28328029,"question_id":4032766,"body_markdown":"[`ytd2`][1] is a fully functional YouTube video downloader. [Check out its source code][2] if you want to see how it&#39;s done.\r\n\r\nAlternatively, you can also call an external process like [`youtube-dl`][3] to do the job. This is probably the easiest solution but it isn&#39;t in &quot;pure&quot; Java.\r\n\r\n  [1]: http://sourceforge.net/projects/ytd2/\r\n  [2]: https://sourceforge.net/p/ytd2/code/HEAD/tree/branches/\r\n  [3]: https://github.com/ytdl-org/youtube-dl","title":"How to download videos from youtube on java?","body":"<p><a href=\"http://sourceforge.net/projects/ytd2/\" rel=\"nofollow noreferrer\"><code>ytd2</code></a> is a fully functional YouTube video downloader. <a href=\"https://sourceforge.net/p/ytd2/code/HEAD/tree/branches/\" rel=\"nofollow noreferrer\">Check out its source code</a> if you want to see how it's done.</p>\n\n<p>Alternatively, you can also call an external process like <a href=\"https://github.com/ytdl-org/youtube-dl\" rel=\"nofollow noreferrer\"><code>youtube-dl</code></a> to do the job. This is probably the easiest solution but it isn't in \"pure\" Java.</p>\n"},{"tags":[],"owner":{"account_id":3911816,"reputation":999,"user_id":3236903,"accept_rate":58,"display_name":"Manindar"},"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1699195804,"creation_date":1466760197,"answer_id":38009888,"question_id":4032766,"body_markdown":"I know i am answering late. But this code may useful for some one. So i am attaching it here.\r\n\r\nUse the following java code to download the videos from YouTube.\r\n\r\n```java\r\npackage com.mycompany.ytd;\r\n\r\nimport java.io.File;\r\nimport java.net.URL;\r\nimport com.github.axet.vget.VGet;\r\n\r\n/**\r\n *\r\n * @author Manindar\r\n */\r\npublic class YTD {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            String url = &quot;https://www.youtube.com/watch?v=s10ARdfQUOY&quot;;\r\n            String path = &quot;D:\\\\Manindar\\\\YTD\\\\&quot;;\r\n            VGet v = new VGet(new URL(url), new File(path));\r\n            v.download();\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAdd the below Dependency in your **POM.XML** file\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.axet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;vget&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.33&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHope this will be useful.","title":"How to download videos from youtube on java?","body":"<p>I know i am answering late. But this code may useful for some one. So i am attaching it here.</p>\n<p>Use the following java code to download the videos from YouTube.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mycompany.ytd;\n\nimport java.io.File;\nimport java.net.URL;\nimport com.github.axet.vget.VGet;\n\n/**\n *\n * @author Manindar\n */\npublic class YTD {\n\n    public static void main(String[] args) {\n        try {\n            String url = &quot;https://www.youtube.com/watch?v=s10ARdfQUOY&quot;;\n            String path = &quot;D:\\\\Manindar\\\\YTD\\\\&quot;;\n            VGet v = new VGet(new URL(url), new File(path));\n            v.download();\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Add the below Dependency in your <strong>POM.XML</strong> file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.axet&lt;/groupId&gt;\n    &lt;artifactId&gt;vget&lt;/artifactId&gt;\n    &lt;version&gt;1.1.33&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Hope this will be useful.</p>\n"},{"tags":[],"owner":{"account_id":13732063,"reputation":4892,"user_id":9909365,"display_name":"Ashvin solanki"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1550234140,"creation_date":1539085498,"answer_id":52720288,"question_id":4032766,"body_markdown":"Ref :https://stackoverflow.com/questions/52588551/youtube-video-download-android-java\r\n\r\n**Edit 3**\r\n\r\n\r\nYou can use the Lib : https://github.com/HaarigerHarald/android-youtubeExtractor\r\n\r\nEx : \r\n\r\n    String youtubeLink = &quot;http://youtube.com/watch?v=xxxx&quot;;\r\n\r\n    new YouTubeExtractor(this) {\r\n    @Override\r\n    public void onExtractionComplete(SparseArray&lt;YtFile&gt; ytFiles, VideoMeta vMeta) {\r\n        if (ytFiles != null) {\r\n            int itag = 22;\r\n\t    String downloadUrl = ytFiles.get(itag).getUrl();\r\n        }\r\n    }\r\n    }.extract(youtubeLink, true, true);\r\n\r\nThey decipherSignature using : \r\n\r\n    private boolean decipherSignature(final SparseArray&lt;String&gt; encSignatures) throws IOException {\r\n        // Assume the functions don&#39;t change that much\r\n        if (decipherFunctionName == null || decipherFunctions == null) {\r\n            String decipherFunctUrl = &quot;https://s.ytimg.com/yts/jsbin/&quot; + decipherJsFileName;\r\n\r\n            BufferedReader reader = null;\r\n            String javascriptFile;\r\n            URL url = new URL(decipherFunctUrl);\r\n            HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\r\n            urlConnection.setRequestProperty(&quot;User-Agent&quot;, USER_AGENT);\r\n            try {\r\n                reader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream()));\r\n                StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n                String line;\r\n                while ((line = reader.readLine()) != null) {\r\n                    sb.append(line);\r\n                    sb.append(&quot; &quot;);\r\n                }\r\n                javascriptFile = sb.toString();\r\n            } finally {\r\n                if (reader != null)\r\n                    reader.close();\r\n                urlConnection.disconnect();\r\n            }\r\n\r\n            if (LOGGING)\r\n                Log.d(LOG_TAG, &quot;Decipher FunctURL: &quot; + decipherFunctUrl);\r\n            Matcher mat = patSignatureDecFunction.matcher(javascriptFile);\r\n            if (mat.find()) {\r\n                decipherFunctionName = mat.group(1);\r\n                if (LOGGING)\r\n                    Log.d(LOG_TAG, &quot;Decipher Functname: &quot; + decipherFunctionName);\r\n\r\n                Pattern patMainVariable = Pattern.compile(&quot;(var |\\\\s|,|;)&quot; + decipherFunctionName.replace(&quot;$&quot;, &quot;\\\\$&quot;) +\r\n                        &quot;(=function\\\\((.{1,3})\\\\)\\\\{)&quot;);\r\n\r\n                String mainDecipherFunct;\r\n\r\n                mat = patMainVariable.matcher(javascriptFile);\r\n                if (mat.find()) {\r\n                    mainDecipherFunct = &quot;var &quot; + decipherFunctionName + mat.group(2);\r\n                } else {\r\n                    Pattern patMainFunction = Pattern.compile(&quot;function &quot; + decipherFunctionName.replace(&quot;$&quot;, &quot;\\\\$&quot;) +\r\n                            &quot;(\\\\((.{1,3})\\\\)\\\\{)&quot;);\r\n                    mat = patMainFunction.matcher(javascriptFile);\r\n                    if (!mat.find())\r\n                        return false;\r\n                    mainDecipherFunct = &quot;function &quot; + decipherFunctionName + mat.group(2);\r\n                }\r\n\r\n                int startIndex = mat.end();\r\n\r\n                for (int braces = 1, i = startIndex; i &lt; javascriptFile.length(); i++) {\r\n                    if (braces == 0 &amp;&amp; startIndex + 5 &lt; i) {\r\n                        mainDecipherFunct += javascriptFile.substring(startIndex, i) + &quot;;&quot;;\r\n                        break;\r\n                    }\r\n                    if (javascriptFile.charAt(i) == &#39;{&#39;)\r\n                        braces++;\r\n                    else if (javascriptFile.charAt(i) == &#39;}&#39;)\r\n                        braces--;\r\n                }\r\n                decipherFunctions = mainDecipherFunct;\r\n                // Search the main function for extra functions and variables\r\n                // needed for deciphering\r\n                // Search for variables\r\n                mat = patVariableFunction.matcher(mainDecipherFunct);\r\n                while (mat.find()) {\r\n                    String variableDef = &quot;var &quot; + mat.group(2) + &quot;={&quot;;\r\n                    if (decipherFunctions.contains(variableDef)) {\r\n                        continue;\r\n                    }\r\n                    startIndex = javascriptFile.indexOf(variableDef) + variableDef.length();\r\n                    for (int braces = 1, i = startIndex; i &lt; javascriptFile.length(); i++) {\r\n                        if (braces == 0) {\r\n                            decipherFunctions += variableDef + javascriptFile.substring(startIndex, i) + &quot;;&quot;;\r\n                            break;\r\n                        }\r\n                        if (javascriptFile.charAt(i) == &#39;{&#39;)\r\n                            braces++;\r\n                        else if (javascriptFile.charAt(i) == &#39;}&#39;)\r\n                            braces--;\r\n                    }\r\n                }\r\n                // Search for functions\r\n                mat = patFunction.matcher(mainDecipherFunct);\r\n                while (mat.find()) {\r\n                    String functionDef = &quot;function &quot; + mat.group(2) + &quot;(&quot;;\r\n                    if (decipherFunctions.contains(functionDef)) {\r\n                        continue;\r\n                    }\r\n                    startIndex = javascriptFile.indexOf(functionDef) + functionDef.length();\r\n                    for (int braces = 0, i = startIndex; i &lt; javascriptFile.length(); i++) {\r\n                        if (braces == 0 &amp;&amp; startIndex + 5 &lt; i) {\r\n                            decipherFunctions += functionDef + javascriptFile.substring(startIndex, i) + &quot;;&quot;;\r\n                            break;\r\n                        }\r\n                        if (javascriptFile.charAt(i) == &#39;{&#39;)\r\n                            braces++;\r\n                        else if (javascriptFile.charAt(i) == &#39;}&#39;)\r\n                            braces--;\r\n                    }\r\n                }\r\n\r\n                if (LOGGING)\r\n                    Log.d(LOG_TAG, &quot;Decipher Function: &quot; + decipherFunctions);\r\n                decipherViaWebView(encSignatures);\r\n                if (CACHING) {\r\n                    writeDeciperFunctToChache();\r\n                }\r\n            } else {\r\n                return false;\r\n            }\r\n        } else {\r\n            decipherViaWebView(encSignatures);\r\n        }\r\n        return true;\r\n    }\r\n\r\nNow with use of this library **High Quality Videos** Lossing Audio so i use the [MediaMuxer][1] for `Murging Audio` and Video for Final Output\r\n\r\n\r\n**Edit 1**\r\n\r\nhttps://stackoverflow.com/a/15240012/9909365\r\n\r\n**Why the previous answer not worked** \r\n\r\n     Pattern p2 = Pattern.compile(&quot;sig=(.*?)[&amp;]&quot;);\r\n            Matcher m2 = p2.matcher(url);\r\n            String sig = null;\r\n            if (m2.find()) {\r\n                sig = m2.group(1);\r\n            }\r\n\r\n&gt; As of November 2016, this is a little rough around the edges, but\r\n&gt; displays the basic principle. The url_encoded_fmt_stream_map today\r\n&gt; does not have a space after the colon (better make this optional) and\r\n&gt; &quot;`sig`&quot; has been changed to &quot;`signature`&quot;\r\n&gt; \r\n&gt; and while i am debuging the code i found the new keyword its\r\n&gt; `signature&amp;s` in many video&#39;s URL\r\n\r\n\r\n\r\nhere edited answer\r\n\r\n    private static final HashMap&lt;String, Meta&gt; typeMap = new HashMap&lt;String, Meta&gt;();\r\n\r\n**initTypeMap(); call first**\r\n\r\n\r\n    class Meta {\r\n        public String num;\r\n        public String type;\r\n        public String ext;\r\n\r\n        Meta(String num, String ext, String type) {\r\n            this.num = num;\r\n            this.ext = ext;\r\n            this.type = type;\r\n        }\r\n    }\r\n\r\n    class Video {\r\n        public String ext = &quot;&quot;;\r\n        public String type = &quot;&quot;;\r\n        public String url = &quot;&quot;;\r\n\r\n        Video(String ext, String type, String url) {\r\n            this.ext = ext;\r\n            this.type = type;\r\n            this.url = url;\r\n        }\r\n    }\r\n\r\n    public ArrayList&lt;Video&gt; getStreamingUrisFromYouTubePage(String ytUrl)\r\n            throws IOException {\r\n        if (ytUrl == null) {\r\n            return null;\r\n        }\r\n\r\n        // Remove any query params in query string after the watch?v=&lt;vid&gt; in\r\n        // e.g.\r\n        // http://www.youtube.com/watch?v=0RUPACpf8Vs&amp;feature=youtube_gdata_player\r\n        int andIdx = ytUrl.indexOf(&#39;&amp;&#39;);\r\n        if (andIdx &gt;= 0) {\r\n            ytUrl = ytUrl.substring(0, andIdx);\r\n        }\r\n\r\n        // Get the HTML response\r\n        /* String userAgent = &quot;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:8.0.1)&quot;;*/\r\n       /* HttpClient client = new DefaultHttpClient();\r\n        client.getParams().setParameter(CoreProtocolPNames.USER_AGENT,\r\n                userAgent);\r\n        HttpGet request = new HttpGet(ytUrl);\r\n        HttpResponse response = client.execute(request);*/\r\n        String html = &quot;&quot;;\r\n        HttpsURLConnection c = (HttpsURLConnection) new URL(ytUrl).openConnection();\r\n        c.setRequestMethod(&quot;GET&quot;);\r\n        c.setDoOutput(true);\r\n        c.connect();\r\n        InputStream in = c.getInputStream();\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(in));\r\n        StringBuilder str = new StringBuilder();\r\n        String line = null;\r\n        while ((line = reader.readLine()) != null) {\r\n            str.append(line.replace(&quot;\\\\u0026&quot;, &quot;&amp;&quot;));\r\n        }\r\n        in.close();\r\n        html = str.toString();\r\n\r\n        // Parse the HTML response and extract the streaming URIs\r\n        if (html.contains(&quot;verify-age-thumb&quot;)) {\r\n            Log.e(&quot;Downloader&quot;, &quot;YouTube is asking for age verification. We can&#39;t handle that sorry.&quot;);\r\n            return null;\r\n        }\r\n\r\n        if (html.contains(&quot;das_captcha&quot;)) {\r\n            Log.e(&quot;Downloader&quot;, &quot;Captcha found, please try with different IP address.&quot;);\r\n            return null;\r\n        }\r\n\r\n        Pattern p = Pattern.compile(&quot;stream_map\\&quot;:\\&quot;(.*?)?\\&quot;&quot;);\r\n        // Pattern p = Pattern.compile(&quot;/stream_map=(.[^&amp;]*?)\\&quot;/&quot;);\r\n        Matcher m = p.matcher(html);\r\n        List&lt;String&gt; matches = new ArrayList&lt;String&gt;();\r\n        while (m.find()) {\r\n            matches.add(m.group());\r\n        }\r\n\r\n        if (matches.size() != 1) {\r\n            Log.e(&quot;Downloader&quot;, &quot;Found zero or too many stream maps.&quot;);\r\n            return null;\r\n        }\r\n\r\n        String urls[] = matches.get(0).split(&quot;,&quot;);\r\n        HashMap&lt;String, String&gt; foundArray = new HashMap&lt;String, String&gt;();\r\n        for (String ppUrl : urls) {\r\n            String url = URLDecoder.decode(ppUrl, &quot;UTF-8&quot;);\r\n            Log.e(&quot;URL&quot;,&quot;URL : &quot;+url);\r\n\r\n            Pattern p1 = Pattern.compile(&quot;itag=([0-9]+?)[&amp;]&quot;);\r\n            Matcher m1 = p1.matcher(url);\r\n            String itag = null;\r\n            if (m1.find()) {\r\n                itag = m1.group(1);\r\n            }\r\n\r\n            Pattern p2 = Pattern.compile(&quot;signature=(.*?)[&amp;]&quot;);\r\n            Matcher m2 = p2.matcher(url);\r\n            String sig = null;\r\n            if (m2.find()) {\r\n                sig = m2.group(1);\r\n            } else {\r\n                Pattern p23 = Pattern.compile(&quot;signature&amp;s=(.*?)[&amp;]&quot;);\r\n                Matcher m23 = p23.matcher(url);\r\n                if (m23.find()) {\r\n                    sig = m23.group(1);\r\n                }\r\n            }\r\n\r\n            Pattern p3 = Pattern.compile(&quot;url=(.*?)[&amp;]&quot;);\r\n            Matcher m3 = p3.matcher(ppUrl);\r\n            String um = null;\r\n            if (m3.find()) {\r\n                um = m3.group(1);\r\n            }\r\n\r\n            if (itag != null &amp;&amp; sig != null &amp;&amp; um != null) {\r\n                Log.e(&quot;foundArray&quot;,&quot;Adding Value&quot;);\r\n                foundArray.put(itag, URLDecoder.decode(um, &quot;UTF-8&quot;) + &quot;&amp;&quot;\r\n                        + &quot;signature=&quot; + sig);\r\n            }\r\n        }\r\n        Log.e(&quot;foundArray&quot;,&quot;Size : &quot;+foundArray.size());\r\n        if (foundArray.size() == 0) {\r\n            Log.e(&quot;Downloader&quot;, &quot;Couldn&#39;t find any URLs and corresponding signatures&quot;);\r\n            return null;\r\n        }\r\n        \r\n\r\n        ArrayList&lt;Video&gt; videos = new ArrayList&lt;Video&gt;();\r\n\r\n        for (String format : typeMap.keySet()) {\r\n            Meta meta = typeMap.get(format);\r\n\r\n            if (foundArray.containsKey(format)) {\r\n                Video newVideo = new Video(meta.ext, meta.type,\r\n                        foundArray.get(format));\r\n                videos.add(newVideo);\r\n                Log.d(&quot;Downloader&quot;, &quot;YouTube Video streaming details: ext:&quot; + newVideo.ext\r\n                        + &quot;, type:&quot; + newVideo.type + &quot;, url:&quot; + newVideo.url);\r\n            }\r\n        }\r\n\r\n        return videos;\r\n    }\r\n\r\n    private class YouTubePageStreamUriGetter extends AsyncTask&lt;String, String, ArrayList&lt;Video&gt;&gt; {\r\n        ProgressDialog progressDialog;\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            progressDialog = ProgressDialog.show(webViewActivity.this, &quot;&quot;,\r\n                    &quot;Connecting to YouTube...&quot;, true);\r\n        }\r\n\r\n        @Override\r\n        protected ArrayList&lt;Video&gt; doInBackground(String... params) {\r\n            ArrayList&lt;Video&gt; fVideos = new ArrayList&lt;&gt;();\r\n            String url = params[0];\r\n            try {\r\n                ArrayList&lt;Video&gt; videos = getStreamingUrisFromYouTubePage(url);\r\n                /*                Log.e(&quot;Downloader&quot;,&quot;Size of Video : &quot;+videos.size());*/\r\n                if (videos != null &amp;&amp; !videos.isEmpty()) {\r\n                    for (Video video : videos)\r\n                    {\r\n                        Log.e(&quot;Downloader&quot;, &quot;ext : &quot; + video.ext);\r\n                        if (video.ext.toLowerCase().contains(&quot;mp4&quot;) || video.ext.toLowerCase().contains(&quot;3gp&quot;) || video.ext.toLowerCase().contains(&quot;flv&quot;) || video.ext.toLowerCase().contains(&quot;webm&quot;)) {\r\n                            ext = video.ext.toLowerCase();\r\n                            fVideos.add(new Video(video.ext,video.type,video.url));\r\n                        }\r\n                    }\r\n\r\n\r\n                    return fVideos;\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                Log.e(&quot;Downloader&quot;, &quot;Couldn&#39;t get YouTube streaming URL&quot;, e);\r\n            }\r\n            Log.e(&quot;Downloader&quot;, &quot;Couldn&#39;t get stream URI for &quot; + url);\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(ArrayList&lt;Video&gt; streamingUrl) {\r\n            super.onPostExecute(streamingUrl);\r\n            progressDialog.dismiss();\r\n            if (streamingUrl != null) {\r\n                if (!streamingUrl.isEmpty()) {\r\n                    //Log.e(&quot;Steaming Url&quot;, &quot;Value : &quot; + streamingUrl);\r\n\r\n                    for (int i = 0; i &lt; streamingUrl.size(); i++) {\r\n                        Video fX = streamingUrl.get(i);\r\n                        Log.e(&quot;Founded Video&quot;, &quot;URL : &quot; + fX.url);\r\n                        Log.e(&quot;Founded Video&quot;, &quot;TYPE : &quot; + fX.type);\r\n                        Log.e(&quot;Founded Video&quot;, &quot;EXT : &quot; + fX.ext);\r\n                    }\r\n                    //new ProgressBack().execute(new String[]{streamingUrl, filename + &quot;.&quot; + ext});\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public void initTypeMap()\r\n    {\r\n        typeMap.put(&quot;13&quot;, new Meta(&quot;13&quot;, &quot;3GP&quot;, &quot;Low Quality - 176x144&quot;));\r\n        typeMap.put(&quot;17&quot;, new Meta(&quot;17&quot;, &quot;3GP&quot;, &quot;Medium Quality - 176x144&quot;));\r\n        typeMap.put(&quot;36&quot;, new Meta(&quot;36&quot;, &quot;3GP&quot;, &quot;High Quality - 320x240&quot;));\r\n        typeMap.put(&quot;5&quot;, new Meta(&quot;5&quot;, &quot;FLV&quot;, &quot;Low Quality - 400x226&quot;));\r\n        typeMap.put(&quot;6&quot;, new Meta(&quot;6&quot;, &quot;FLV&quot;, &quot;Medium Quality - 640x360&quot;));\r\n        typeMap.put(&quot;34&quot;, new Meta(&quot;34&quot;, &quot;FLV&quot;, &quot;Medium Quality - 640x360&quot;));\r\n        typeMap.put(&quot;35&quot;, new Meta(&quot;35&quot;, &quot;FLV&quot;, &quot;High Quality - 854x480&quot;));\r\n        typeMap.put(&quot;43&quot;, new Meta(&quot;43&quot;, &quot;WEBM&quot;, &quot;Low Quality - 640x360&quot;));\r\n        typeMap.put(&quot;44&quot;, new Meta(&quot;44&quot;, &quot;WEBM&quot;, &quot;Medium Quality - 854x480&quot;));\r\n        typeMap.put(&quot;45&quot;, new Meta(&quot;45&quot;, &quot;WEBM&quot;, &quot;High Quality - 1280x720&quot;));\r\n        typeMap.put(&quot;18&quot;, new Meta(&quot;18&quot;, &quot;MP4&quot;, &quot;Medium Quality - 480x360&quot;));\r\n        typeMap.put(&quot;22&quot;, new Meta(&quot;22&quot;, &quot;MP4&quot;, &quot;High Quality - 1280x720&quot;));\r\n        typeMap.put(&quot;37&quot;, new Meta(&quot;37&quot;, &quot;MP4&quot;, &quot;High Quality - 1920x1080&quot;));\r\n        typeMap.put(&quot;33&quot;, new Meta(&quot;38&quot;, &quot;MP4&quot;, &quot;High Quality - 4096x230&quot;));\r\n    }\r\n\r\n\r\n**Edit 2:**\r\n\r\n&gt; Some time This Code Not worked proper\r\n\r\n\r\n\r\n**Same-origin policy**\r\n\r\nhttps://en.wikipedia.org/wiki/Same-origin_policy\r\n\r\nhttps://en.wikipedia.org/wiki/Cross-origin_resource_sharing\r\n\r\n\r\n    problem of Same-origin policy. Essentially, you cannot download this file from www.youtube.com because they are different domains. A workaround of this problem is [CORS][1]. \r\n\r\n\r\nRef : https://superuser.com/questions/773719/how-do-all-of-these-save-video-from-youtube-services-work/773998#773998\r\n\r\n\r\n    url_encoded_fmt_stream_map // traditional: contains video and audio stream\r\n    adaptive_fmts              // DASH: contains video or audio stream\r\n\r\nEach of these is a comma separated array of what I would call &quot;stream objects&quot;. Each &quot;stream object&quot; will contain values like this\r\n\r\n    url  // direct HTTP link to a video\r\n    itag // code specifying the quality\r\n    s    // signature, security measure to counter downloading\r\n\r\nEach URL will be encoded so you will need to decode them. Now the tricky part.\r\n\r\nYouTube has at least 3 security levels for their videos\r\n\r\n    unsecured // as expected, you can download these with just the unencoded URL\r\n    s         // see below\r\n    RTMPE     // uses &quot;rtmpe://&quot; protocol, no known method for these\r\n\r\nThe RTMPE videos are typically used on official full length movies, and are protected with SWF Verification Type 2. This has been around since 2011 and has yet to be reverse engineered.\r\n\r\nThe type &quot;s&quot; videos are the most difficult that can actually be downloaded. You will typcially see these on VEVO videos and the like. They start with a signature such as\r\n\r\nAA5D05FA7771AD4868BA4C977C3DEAAC620DE020E.0F421820F42978A1F8EAFCDAC4EF507DB5\r\nThen the signature is scrambled with a function like this\r\n\r\n    function mo(a) {\r\n      a = a.split(&quot;&quot;);\r\n      a = lo.rw(a, 1);\r\n      a = lo.rw(a, 32);\r\n      a = lo.IC(a, 1);\r\n      a = lo.wS(a, 77);\r\n      a = lo.IC(a, 3);\r\n      a = lo.wS(a, 77);\r\n      a = lo.IC(a, 3);\r\n      a = lo.wS(a, 44);\r\n      return a.join(&quot;&quot;)\r\n    }\r\n\r\nThis function is dynamic, it typically changes every day. To make it more difficult the function is hosted at a URL such as\r\n\r\nhttp://s.ytimg.com/yts/jsbin/html5player-en_US-vflycBCEX.js\r\n\r\nthis introduces the problem of Same-origin policy. Essentially, you cannot download this file from www.youtube.com because they are different domains. A workaround of this problem is CORS. With CORS, s.ytimg.com could add this header\r\n\r\n    Access-Control-Allow-Origin: http://www.youtube.com\r\n\r\nand it would allow the JavaScript to download from www.youtube.com. Of course they do not do this. A workaround for this workaround is to use a CORS proxy. This is a proxy that responds with the following header to all requests\r\n\r\n    Access-Control-Allow-Origin: *\r\n\r\nSo, now that you have proxied your JS file, and used the function to scramble the signature, you can use that in the querystring to download a video.\r\n\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/media/MediaMuxer","title":"How to download videos from youtube on java?","body":"<p>Ref :<a href=\"https://stackoverflow.com/questions/52588551/youtube-video-download-android-java\">Youtube Video Download (Android/Java)</a></p>\n\n<p><strong>Edit 3</strong></p>\n\n<p>You can use the Lib : <a href=\"https://github.com/HaarigerHarald/android-youtubeExtractor\" rel=\"nofollow noreferrer\">https://github.com/HaarigerHarald/android-youtubeExtractor</a></p>\n\n<p>Ex : </p>\n\n<pre><code>String youtubeLink = \"http://youtube.com/watch?v=xxxx\";\n\nnew YouTubeExtractor(this) {\n@Override\npublic void onExtractionComplete(SparseArray&lt;YtFile&gt; ytFiles, VideoMeta vMeta) {\n    if (ytFiles != null) {\n        int itag = 22;\n    String downloadUrl = ytFiles.get(itag).getUrl();\n    }\n}\n}.extract(youtubeLink, true, true);\n</code></pre>\n\n<p>They decipherSignature using : </p>\n\n<pre><code>private boolean decipherSignature(final SparseArray&lt;String&gt; encSignatures) throws IOException {\n    // Assume the functions don't change that much\n    if (decipherFunctionName == null || decipherFunctions == null) {\n        String decipherFunctUrl = \"https://s.ytimg.com/yts/jsbin/\" + decipherJsFileName;\n\n        BufferedReader reader = null;\n        String javascriptFile;\n        URL url = new URL(decipherFunctUrl);\n        HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\n        urlConnection.setRequestProperty(\"User-Agent\", USER_AGENT);\n        try {\n            reader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream()));\n            StringBuilder sb = new StringBuilder(\"\");\n            String line;\n            while ((line = reader.readLine()) != null) {\n                sb.append(line);\n                sb.append(\" \");\n            }\n            javascriptFile = sb.toString();\n        } finally {\n            if (reader != null)\n                reader.close();\n            urlConnection.disconnect();\n        }\n\n        if (LOGGING)\n            Log.d(LOG_TAG, \"Decipher FunctURL: \" + decipherFunctUrl);\n        Matcher mat = patSignatureDecFunction.matcher(javascriptFile);\n        if (mat.find()) {\n            decipherFunctionName = mat.group(1);\n            if (LOGGING)\n                Log.d(LOG_TAG, \"Decipher Functname: \" + decipherFunctionName);\n\n            Pattern patMainVariable = Pattern.compile(\"(var |\\\\s|,|;)\" + decipherFunctionName.replace(\"$\", \"\\\\$\") +\n                    \"(=function\\\\((.{1,3})\\\\)\\\\{)\");\n\n            String mainDecipherFunct;\n\n            mat = patMainVariable.matcher(javascriptFile);\n            if (mat.find()) {\n                mainDecipherFunct = \"var \" + decipherFunctionName + mat.group(2);\n            } else {\n                Pattern patMainFunction = Pattern.compile(\"function \" + decipherFunctionName.replace(\"$\", \"\\\\$\") +\n                        \"(\\\\((.{1,3})\\\\)\\\\{)\");\n                mat = patMainFunction.matcher(javascriptFile);\n                if (!mat.find())\n                    return false;\n                mainDecipherFunct = \"function \" + decipherFunctionName + mat.group(2);\n            }\n\n            int startIndex = mat.end();\n\n            for (int braces = 1, i = startIndex; i &lt; javascriptFile.length(); i++) {\n                if (braces == 0 &amp;&amp; startIndex + 5 &lt; i) {\n                    mainDecipherFunct += javascriptFile.substring(startIndex, i) + \";\";\n                    break;\n                }\n                if (javascriptFile.charAt(i) == '{')\n                    braces++;\n                else if (javascriptFile.charAt(i) == '}')\n                    braces--;\n            }\n            decipherFunctions = mainDecipherFunct;\n            // Search the main function for extra functions and variables\n            // needed for deciphering\n            // Search for variables\n            mat = patVariableFunction.matcher(mainDecipherFunct);\n            while (mat.find()) {\n                String variableDef = \"var \" + mat.group(2) + \"={\";\n                if (decipherFunctions.contains(variableDef)) {\n                    continue;\n                }\n                startIndex = javascriptFile.indexOf(variableDef) + variableDef.length();\n                for (int braces = 1, i = startIndex; i &lt; javascriptFile.length(); i++) {\n                    if (braces == 0) {\n                        decipherFunctions += variableDef + javascriptFile.substring(startIndex, i) + \";\";\n                        break;\n                    }\n                    if (javascriptFile.charAt(i) == '{')\n                        braces++;\n                    else if (javascriptFile.charAt(i) == '}')\n                        braces--;\n                }\n            }\n            // Search for functions\n            mat = patFunction.matcher(mainDecipherFunct);\n            while (mat.find()) {\n                String functionDef = \"function \" + mat.group(2) + \"(\";\n                if (decipherFunctions.contains(functionDef)) {\n                    continue;\n                }\n                startIndex = javascriptFile.indexOf(functionDef) + functionDef.length();\n                for (int braces = 0, i = startIndex; i &lt; javascriptFile.length(); i++) {\n                    if (braces == 0 &amp;&amp; startIndex + 5 &lt; i) {\n                        decipherFunctions += functionDef + javascriptFile.substring(startIndex, i) + \";\";\n                        break;\n                    }\n                    if (javascriptFile.charAt(i) == '{')\n                        braces++;\n                    else if (javascriptFile.charAt(i) == '}')\n                        braces--;\n                }\n            }\n\n            if (LOGGING)\n                Log.d(LOG_TAG, \"Decipher Function: \" + decipherFunctions);\n            decipherViaWebView(encSignatures);\n            if (CACHING) {\n                writeDeciperFunctToChache();\n            }\n        } else {\n            return false;\n        }\n    } else {\n        decipherViaWebView(encSignatures);\n    }\n    return true;\n}\n</code></pre>\n\n<p>Now with use of this library <strong>High Quality Videos</strong> Lossing Audio so i use the <a href=\"https://developer.android.com/reference/android/media/MediaMuxer\" rel=\"nofollow noreferrer\">MediaMuxer</a> for <code>Murging Audio</code> and Video for Final Output</p>\n\n<p><strong>Edit 1</strong></p>\n\n<p><a href=\"https://stackoverflow.com/a/15240012/9909365\">https://stackoverflow.com/a/15240012/9909365</a></p>\n\n<p><strong>Why the previous answer not worked</strong> </p>\n\n<pre><code> Pattern p2 = Pattern.compile(\"sig=(.*?)[&amp;]\");\n        Matcher m2 = p2.matcher(url);\n        String sig = null;\n        if (m2.find()) {\n            sig = m2.group(1);\n        }\n</code></pre>\n\n<blockquote>\n  <p>As of November 2016, this is a little rough around the edges, but\n  displays the basic principle. The url_encoded_fmt_stream_map today\n  does not have a space after the colon (better make this optional) and\n  \"<code>sig</code>\" has been changed to \"<code>signature</code>\"</p>\n  \n  <p>and while i am debuging the code i found the new keyword its\n  <code>signature&amp;s</code> in many video's URL</p>\n</blockquote>\n\n<p>here edited answer</p>\n\n<pre><code>private static final HashMap&lt;String, Meta&gt; typeMap = new HashMap&lt;String, Meta&gt;();\n</code></pre>\n\n<p><strong>initTypeMap(); call first</strong></p>\n\n<pre><code>class Meta {\n    public String num;\n    public String type;\n    public String ext;\n\n    Meta(String num, String ext, String type) {\n        this.num = num;\n        this.ext = ext;\n        this.type = type;\n    }\n}\n\nclass Video {\n    public String ext = \"\";\n    public String type = \"\";\n    public String url = \"\";\n\n    Video(String ext, String type, String url) {\n        this.ext = ext;\n        this.type = type;\n        this.url = url;\n    }\n}\n\npublic ArrayList&lt;Video&gt; getStreamingUrisFromYouTubePage(String ytUrl)\n        throws IOException {\n    if (ytUrl == null) {\n        return null;\n    }\n\n    // Remove any query params in query string after the watch?v=&lt;vid&gt; in\n    // e.g.\n    // http://www.youtube.com/watch?v=0RUPACpf8Vs&amp;feature=youtube_gdata_player\n    int andIdx = ytUrl.indexOf('&amp;');\n    if (andIdx &gt;= 0) {\n        ytUrl = ytUrl.substring(0, andIdx);\n    }\n\n    // Get the HTML response\n    /* String userAgent = \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:8.0.1)\";*/\n   /* HttpClient client = new DefaultHttpClient();\n    client.getParams().setParameter(CoreProtocolPNames.USER_AGENT,\n            userAgent);\n    HttpGet request = new HttpGet(ytUrl);\n    HttpResponse response = client.execute(request);*/\n    String html = \"\";\n    HttpsURLConnection c = (HttpsURLConnection) new URL(ytUrl).openConnection();\n    c.setRequestMethod(\"GET\");\n    c.setDoOutput(true);\n    c.connect();\n    InputStream in = c.getInputStream();\n    BufferedReader reader = new BufferedReader(new InputStreamReader(in));\n    StringBuilder str = new StringBuilder();\n    String line = null;\n    while ((line = reader.readLine()) != null) {\n        str.append(line.replace(\"\\\\u0026\", \"&amp;\"));\n    }\n    in.close();\n    html = str.toString();\n\n    // Parse the HTML response and extract the streaming URIs\n    if (html.contains(\"verify-age-thumb\")) {\n        Log.e(\"Downloader\", \"YouTube is asking for age verification. We can't handle that sorry.\");\n        return null;\n    }\n\n    if (html.contains(\"das_captcha\")) {\n        Log.e(\"Downloader\", \"Captcha found, please try with different IP address.\");\n        return null;\n    }\n\n    Pattern p = Pattern.compile(\"stream_map\\\":\\\"(.*?)?\\\"\");\n    // Pattern p = Pattern.compile(\"/stream_map=(.[^&amp;]*?)\\\"/\");\n    Matcher m = p.matcher(html);\n    List&lt;String&gt; matches = new ArrayList&lt;String&gt;();\n    while (m.find()) {\n        matches.add(m.group());\n    }\n\n    if (matches.size() != 1) {\n        Log.e(\"Downloader\", \"Found zero or too many stream maps.\");\n        return null;\n    }\n\n    String urls[] = matches.get(0).split(\",\");\n    HashMap&lt;String, String&gt; foundArray = new HashMap&lt;String, String&gt;();\n    for (String ppUrl : urls) {\n        String url = URLDecoder.decode(ppUrl, \"UTF-8\");\n        Log.e(\"URL\",\"URL : \"+url);\n\n        Pattern p1 = Pattern.compile(\"itag=([0-9]+?)[&amp;]\");\n        Matcher m1 = p1.matcher(url);\n        String itag = null;\n        if (m1.find()) {\n            itag = m1.group(1);\n        }\n\n        Pattern p2 = Pattern.compile(\"signature=(.*?)[&amp;]\");\n        Matcher m2 = p2.matcher(url);\n        String sig = null;\n        if (m2.find()) {\n            sig = m2.group(1);\n        } else {\n            Pattern p23 = Pattern.compile(\"signature&amp;s=(.*?)[&amp;]\");\n            Matcher m23 = p23.matcher(url);\n            if (m23.find()) {\n                sig = m23.group(1);\n            }\n        }\n\n        Pattern p3 = Pattern.compile(\"url=(.*?)[&amp;]\");\n        Matcher m3 = p3.matcher(ppUrl);\n        String um = null;\n        if (m3.find()) {\n            um = m3.group(1);\n        }\n\n        if (itag != null &amp;&amp; sig != null &amp;&amp; um != null) {\n            Log.e(\"foundArray\",\"Adding Value\");\n            foundArray.put(itag, URLDecoder.decode(um, \"UTF-8\") + \"&amp;\"\n                    + \"signature=\" + sig);\n        }\n    }\n    Log.e(\"foundArray\",\"Size : \"+foundArray.size());\n    if (foundArray.size() == 0) {\n        Log.e(\"Downloader\", \"Couldn't find any URLs and corresponding signatures\");\n        return null;\n    }\n\n\n    ArrayList&lt;Video&gt; videos = new ArrayList&lt;Video&gt;();\n\n    for (String format : typeMap.keySet()) {\n        Meta meta = typeMap.get(format);\n\n        if (foundArray.containsKey(format)) {\n            Video newVideo = new Video(meta.ext, meta.type,\n                    foundArray.get(format));\n            videos.add(newVideo);\n            Log.d(\"Downloader\", \"YouTube Video streaming details: ext:\" + newVideo.ext\n                    + \", type:\" + newVideo.type + \", url:\" + newVideo.url);\n        }\n    }\n\n    return videos;\n}\n\nprivate class YouTubePageStreamUriGetter extends AsyncTask&lt;String, String, ArrayList&lt;Video&gt;&gt; {\n    ProgressDialog progressDialog;\n\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        progressDialog = ProgressDialog.show(webViewActivity.this, \"\",\n                \"Connecting to YouTube...\", true);\n    }\n\n    @Override\n    protected ArrayList&lt;Video&gt; doInBackground(String... params) {\n        ArrayList&lt;Video&gt; fVideos = new ArrayList&lt;&gt;();\n        String url = params[0];\n        try {\n            ArrayList&lt;Video&gt; videos = getStreamingUrisFromYouTubePage(url);\n            /*                Log.e(\"Downloader\",\"Size of Video : \"+videos.size());*/\n            if (videos != null &amp;&amp; !videos.isEmpty()) {\n                for (Video video : videos)\n                {\n                    Log.e(\"Downloader\", \"ext : \" + video.ext);\n                    if (video.ext.toLowerCase().contains(\"mp4\") || video.ext.toLowerCase().contains(\"3gp\") || video.ext.toLowerCase().contains(\"flv\") || video.ext.toLowerCase().contains(\"webm\")) {\n                        ext = video.ext.toLowerCase();\n                        fVideos.add(new Video(video.ext,video.type,video.url));\n                    }\n                }\n\n\n                return fVideos;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            Log.e(\"Downloader\", \"Couldn't get YouTube streaming URL\", e);\n        }\n        Log.e(\"Downloader\", \"Couldn't get stream URI for \" + url);\n        return null;\n    }\n\n    @Override\n    protected void onPostExecute(ArrayList&lt;Video&gt; streamingUrl) {\n        super.onPostExecute(streamingUrl);\n        progressDialog.dismiss();\n        if (streamingUrl != null) {\n            if (!streamingUrl.isEmpty()) {\n                //Log.e(\"Steaming Url\", \"Value : \" + streamingUrl);\n\n                for (int i = 0; i &lt; streamingUrl.size(); i++) {\n                    Video fX = streamingUrl.get(i);\n                    Log.e(\"Founded Video\", \"URL : \" + fX.url);\n                    Log.e(\"Founded Video\", \"TYPE : \" + fX.type);\n                    Log.e(\"Founded Video\", \"EXT : \" + fX.ext);\n                }\n                //new ProgressBack().execute(new String[]{streamingUrl, filename + \".\" + ext});\n            }\n        }\n    }\n}\npublic void initTypeMap()\n{\n    typeMap.put(\"13\", new Meta(\"13\", \"3GP\", \"Low Quality - 176x144\"));\n    typeMap.put(\"17\", new Meta(\"17\", \"3GP\", \"Medium Quality - 176x144\"));\n    typeMap.put(\"36\", new Meta(\"36\", \"3GP\", \"High Quality - 320x240\"));\n    typeMap.put(\"5\", new Meta(\"5\", \"FLV\", \"Low Quality - 400x226\"));\n    typeMap.put(\"6\", new Meta(\"6\", \"FLV\", \"Medium Quality - 640x360\"));\n    typeMap.put(\"34\", new Meta(\"34\", \"FLV\", \"Medium Quality - 640x360\"));\n    typeMap.put(\"35\", new Meta(\"35\", \"FLV\", \"High Quality - 854x480\"));\n    typeMap.put(\"43\", new Meta(\"43\", \"WEBM\", \"Low Quality - 640x360\"));\n    typeMap.put(\"44\", new Meta(\"44\", \"WEBM\", \"Medium Quality - 854x480\"));\n    typeMap.put(\"45\", new Meta(\"45\", \"WEBM\", \"High Quality - 1280x720\"));\n    typeMap.put(\"18\", new Meta(\"18\", \"MP4\", \"Medium Quality - 480x360\"));\n    typeMap.put(\"22\", new Meta(\"22\", \"MP4\", \"High Quality - 1280x720\"));\n    typeMap.put(\"37\", new Meta(\"37\", \"MP4\", \"High Quality - 1920x1080\"));\n    typeMap.put(\"33\", new Meta(\"38\", \"MP4\", \"High Quality - 4096x230\"));\n}\n</code></pre>\n\n<p><strong>Edit 2:</strong></p>\n\n<blockquote>\n  <p>Some time This Code Not worked proper</p>\n</blockquote>\n\n<p><strong>Same-origin policy</strong></p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Same-origin_policy\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Same-origin_policy</a></p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Cross-origin_resource_sharing\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Cross-origin_resource_sharing</a></p>\n\n<pre><code>problem of Same-origin policy. Essentially, you cannot download this file from www.youtube.com because they are different domains. A workaround of this problem is [CORS][1]. \n</code></pre>\n\n<p>Ref : <a href=\"https://superuser.com/questions/773719/how-do-all-of-these-save-video-from-youtube-services-work/773998#773998\">https://superuser.com/questions/773719/how-do-all-of-these-save-video-from-youtube-services-work/773998#773998</a></p>\n\n<pre><code>url_encoded_fmt_stream_map // traditional: contains video and audio stream\nadaptive_fmts              // DASH: contains video or audio stream\n</code></pre>\n\n<p>Each of these is a comma separated array of what I would call \"stream objects\". Each \"stream object\" will contain values like this</p>\n\n<pre><code>url  // direct HTTP link to a video\nitag // code specifying the quality\ns    // signature, security measure to counter downloading\n</code></pre>\n\n<p>Each URL will be encoded so you will need to decode them. Now the tricky part.</p>\n\n<p>YouTube has at least 3 security levels for their videos</p>\n\n<pre><code>unsecured // as expected, you can download these with just the unencoded URL\ns         // see below\nRTMPE     // uses \"rtmpe://\" protocol, no known method for these\n</code></pre>\n\n<p>The RTMPE videos are typically used on official full length movies, and are protected with SWF Verification Type 2. This has been around since 2011 and has yet to be reverse engineered.</p>\n\n<p>The type \"s\" videos are the most difficult that can actually be downloaded. You will typcially see these on VEVO videos and the like. They start with a signature such as</p>\n\n<p>AA5D05FA7771AD4868BA4C977C3DEAAC620DE020E.0F421820F42978A1F8EAFCDAC4EF507DB5\nThen the signature is scrambled with a function like this</p>\n\n<pre><code>function mo(a) {\n  a = a.split(\"\");\n  a = lo.rw(a, 1);\n  a = lo.rw(a, 32);\n  a = lo.IC(a, 1);\n  a = lo.wS(a, 77);\n  a = lo.IC(a, 3);\n  a = lo.wS(a, 77);\n  a = lo.IC(a, 3);\n  a = lo.wS(a, 44);\n  return a.join(\"\")\n}\n</code></pre>\n\n<p>This function is dynamic, it typically changes every day. To make it more difficult the function is hosted at a URL such as</p>\n\n<p><a href=\"http://s.ytimg.com/yts/jsbin/html5player-en_US-vflycBCEX.js\" rel=\"nofollow noreferrer\">http://s.ytimg.com/yts/jsbin/html5player-en_US-vflycBCEX.js</a></p>\n\n<p>this introduces the problem of Same-origin policy. Essentially, you cannot download this file from www.youtube.com because they are different domains. A workaround of this problem is CORS. With CORS, s.ytimg.com could add this header</p>\n\n<pre><code>Access-Control-Allow-Origin: http://www.youtube.com\n</code></pre>\n\n<p>and it would allow the JavaScript to download from www.youtube.com. Of course they do not do this. A workaround for this workaround is to use a CORS proxy. This is a proxy that responds with the following header to all requests</p>\n\n<pre><code>Access-Control-Allow-Origin: *\n</code></pre>\n\n<p>So, now that you have proxied your JS file, and used the function to scramble the signature, you can use that in the querystring to download a video.</p>\n"}],"owner":{"account_id":101199,"reputation":973,"user_id":272416,"accept_rate":92,"display_name":"Vytas P."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166110,"favorite_count":0,"down_vote_count":7,"up_vote_count":43,"closed_date":1580458542,"answer_count":5,"score":36,"last_activity_date":1699195804,"creation_date":1288179291,"question_id":4032766,"body_markdown":"how to download videos from youtube on Java?\r\nneed class(or piece of code) which describes how to do that.\r\nThank you.","title":"How to download videos from youtube on java?","body":"<p>how to download videos from youtube on Java?\nneed class(or piece of code) which describes how to do that.\nThank you.</p>\n"},{"tags":["java","eclipse","tomcat"],"comments":[{"owner":{"account_id":5896458,"reputation":5083,"user_id":4641455,"display_name":"JFPicard"},"score":0,"creation_date":1439299269,"post_id":31942876,"comment_id":51795837,"body_markdown":"Have you see any error in the console when you are trying to start Tomcat ?","body":"Have you see any error in the console when you are trying to start Tomcat ?"},{"owner":{"account_id":6772171,"reputation":19,"user_id":5215229,"accept_rate":20,"display_name":"priya"},"score":0,"creation_date":1439299646,"post_id":31942876,"comment_id":51796126,"body_markdown":"Aug 11, 2015 6:53:01 PM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service Catalina\nAug 11, 2015 6:53:01 PM org.apache.coyote.AbstractProtocol destroy\nINFO: Destroying ProtocolHandler [&quot;http-bio-80&quot;]\nAug 11, 2015 6:53:01 PM org.apache.coyote.AbstractProtocol destroy\nINFO: Destroying ProtocolHandler [&quot;ajp-bio-8009&quot;]","body":"Aug 11, 2015 6:53:01 PM org.apache.catalina.core.StandardService stopInternal INFO: Stopping service Catalina Aug 11, 2015 6:53:01 PM org.apache.coyote.AbstractProtocol destroy INFO: Destroying ProtocolHandler [&quot;http-bio-80&quot;] Aug 11, 2015 6:53:01 PM org.apache.coyote.AbstractProtocol destroy INFO: Destroying ProtocolHandler [&quot;ajp-bio-8009&quot;]"},{"owner":{"account_id":6772171,"reputation":19,"user_id":5215229,"accept_rate":20,"display_name":"priya"},"score":0,"creation_date":1439299787,"post_id":31942876,"comment_id":51796241,"body_markdown":"it shows the above msg","body":"it shows the above msg"},{"owner":{"account_id":6772171,"reputation":19,"user_id":5215229,"accept_rate":20,"display_name":"priya"},"score":0,"creation_date":1439300138,"post_id":31942876,"comment_id":51796497,"body_markdown":"ya it displays lot of msg on console..","body":"ya it displays lot of msg on console.."},{"owner":{"account_id":6772171,"reputation":19,"user_id":5215229,"accept_rate":20,"display_name":"priya"},"score":0,"creation_date":1439300146,"post_id":31942876,"comment_id":51796507,"body_markdown":"SEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/FirstPro]]\n\tat java.util.concurrent.FutureTask.report(Unknown Source)","body":"SEVERE: A child container failed during start java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardCo&zwnj;&#8203;ntext[/FirstPro]] \tat java.util.concurrent.FutureTask.report(Unknown Source)"}],"answers":[{"tags":[],"owner":{"account_id":3191420,"reputation":1344,"user_id":2695569,"display_name":"solar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439299214,"creation_date":1439299214,"answer_id":31942941,"question_id":31942876,"body_markdown":"In most cases it helps to remove .snap file located in the directory : `&lt;workspace-directory&gt;\\.metadata\\.plugins\\org.eclipse.core.resources`\r\n","title":"Tomcat Server fails to start in eclipse","body":"<p>In most cases it helps to remove .snap file located in the directory : <code>&lt;workspace-directory&gt;\\.metadata\\.plugins\\org.eclipse.core.resources</code></p>\n"}],"owner":{"account_id":6772171,"reputation":19,"user_id":5215229,"accept_rate":20,"display_name":"priya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":931,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1699195079,"creation_date":1439299032,"question_id":31942876,"body_markdown":"I work in eclipse but it shows a error message &quot;Server Tomcat v7.0 Server at localhost failed to start.&quot;\r\n\r\n\r\nand the server fails and the application not run.\r\nI also delete temp file from C:\\workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\r\nbut still the problem have been not resloved...","title":"Tomcat Server fails to start in eclipse","body":"<p>I work in eclipse but it shows a error message \"Server Tomcat v7.0 Server at localhost failed to start.\"</p>\n\n<p>and the server fails and the application not run.\nI also delete temp file from C:\\workspace.metadata.plugins\\org.eclipse.wst.server.core\nbut still the problem have been not resloved...</p>\n"},{"tags":["java","ubuntu","amazon-ec2","apache-kafka","service"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1698515737,"post_id":77375531,"comment_id":136416754,"body_markdown":"have you tried to run the script manually ? ```/etc/init.d/kafka start``` what is the output ? and can you put ```#!/bin/bash``` to the top of /etc/init.d/kafka and retry ?","body":"have you tried to run the script manually ? <code>&#47;etc&#47;init.d&#47;kafka start</code> what is the output ? and can you put <code>#!&#47;bin&#47;bash</code> to the top of /etc/init.d/kafka and retry ?"},{"owner":{"account_id":557134,"reputation":2371,"user_id":919480,"accept_rate":59,"display_name":"cogitoergosum"},"score":0,"creation_date":1698845745,"post_id":77375531,"comment_id":136456331,"body_markdown":"`sudo /etc/init.d/kafka start` did launch Kafka successfully.","body":"<code>sudo &#47;etc&#47;init.d&#47;kafka start</code> did launch Kafka successfully."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":1,"creation_date":1698862020,"post_id":77375531,"comment_id":136459810,"body_markdown":"than putting the [shebang](https://en.wikipedia.org/wiki/Shebang_(Unix)) on top probably will fix this error. if it does not fix the error you can check journalctl as explained [here](https://serverfault.com/a/826685) also this maybe related to systemd configuration in that case I would suggest to create a service file something like [this](https://stackoverflow.com/a/37891610/175554)","body":"than putting the <a href=\"https://en.wikipedia.org/wiki/Shebang_(Unix)\" rel=\"nofollow noreferrer\">shebang</a> on top probably will fix this error. if it does not fix the error you can check journalctl as explained <a href=\"https://serverfault.com/a/826685\">here</a> also this maybe related to systemd configuration in that case I would suggest to create a service file something like <a href=\"https://stackoverflow.com/a/37891610/175554\">this</a>"},{"owner":{"account_id":557134,"reputation":2371,"user_id":919480,"accept_rate":59,"display_name":"cogitoergosum"},"score":0,"creation_date":1699075930,"post_id":77375531,"comment_id":136488748,"body_markdown":"Yes, that worked! Can you please explain why adding `#!/bin/bash` at the top worked?","body":"Yes, that worked! Can you please explain why adding <code>#!&#47;bin&#47;bash</code> at the top worked?"},{"owner":{"account_id":557134,"reputation":2371,"user_id":919480,"accept_rate":59,"display_name":"cogitoergosum"},"score":0,"creation_date":1699075952,"post_id":77375531,"comment_id":136488749,"body_markdown":"Also, please write your comment as an answer so that I can acknowledge.","body":"Also, please write your comment as an answer so that I can acknowledge."}],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699194523,"creation_date":1699114502,"answer_id":77422842,"question_id":77375531,"body_markdown":"Putting the [shebang](https://en.wikipedia.org/wiki/Shebang_(Unix)) on top of the starting shell script probably will fix this error. If it does not fix the error you can check [journalctl](https://serverfault.com/a/826685) as explained here also this maybe related to systemd configuration in that case I would suggest to create a service file something like [this](https://stackoverflow.com/a/37891610/175554) \r\n\r\n[why we use shebang](https://stackoverflow.com/a/3009280/175554), in short it is to telling linux system to use bash to run the code &quot;below&quot; in the file.\r\n\r\nworking code below\r\n\r\n```shell\r\n#!/bin/bash\r\nKAFKA_HOME=/opt/kafka\r\n# See how we were called.\r\ncase &quot;$1&quot; in\r\n  start)\r\n        # Start daemon.\r\n        echo &quot;Generate cluster UUID&quot;\r\n        KAFKA_CLUSTER_ID=&quot;$(${KAFKA_HOME}/bin/kafka-storage.sh random-uuid)&quot;\r\n        echo &quot;Format log directories&quot;\r\n        ${KAFKA_HOME}/bin/kafka-storage.sh format -t $KAFKA_CLUSTER_ID -c ${KAFKA_HOME}/config/kraft/server.properties\r\n        echo &quot;Start Kafka server&quot;\r\n        ${KAFKA_HOME}/bin/kafka-server-start.sh -daemon ${KAFKA_HOME}/config/kraft/server.properties\r\n        ;;\r\n  stop)\r\n        # Stop daemons.\r\n        echo &quot;Shutting down Kafka&quot;;\r\n        pid=`ps ax | grep -i &#39;kafka.Kafka&#39; | grep -v grep | awk &#39;{print $1}&#39;`\r\n        if [ -n &quot;$pid&quot; ]\r\n          then\r\n          kill -9 $pid\r\n        else\r\n          echo &quot;Kafka was not Running&quot;\r\n        fi\r\n        ;;\r\n  restart)\r\n        $0 stop\r\n        sleep 2\r\n        $0 start\r\n        ;;\r\n  status)\r\n        pid=`ps ax | grep -i &#39;kafka.Kafka&#39; | grep -v grep | awk &#39;{print $1}&#39;`\r\n        if [ -n &quot;$pid&quot; ]\r\n          then\r\n          echo &quot;Kafka is Running as PID: $pid&quot;\r\n        else\r\n          echo &quot;Kafka is not Running&quot;\r\n        fi\r\n        ;;\r\n  *)\r\n        echo &quot;Usage: $0 {start|stop|restart|status}&quot;\r\n        exit 1\r\nesac\r\n\r\nexit 0\r\n```","title":"Start Apache Kafka in Kraft mode as a servcice on Ubuntu","body":"<p>Putting the <a href=\"https://en.wikipedia.org/wiki/Shebang_(Unix)\" rel=\"nofollow noreferrer\">shebang</a> on top of the starting shell script probably will fix this error. If it does not fix the error you can check <a href=\"https://serverfault.com/a/826685\">journalctl</a> as explained here also this maybe related to systemd configuration in that case I would suggest to create a service file something like <a href=\"https://stackoverflow.com/a/37891610/175554\">this</a></p>\n<p><a href=\"https://stackoverflow.com/a/3009280/175554\">why we use shebang</a>, in short it is to telling linux system to use bash to run the code &quot;below&quot; in the file.</p>\n<p>working code below</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\nKAFKA_HOME=/opt/kafka\n# See how we were called.\ncase &quot;$1&quot; in\n  start)\n        # Start daemon.\n        echo &quot;Generate cluster UUID&quot;\n        KAFKA_CLUSTER_ID=&quot;$(${KAFKA_HOME}/bin/kafka-storage.sh random-uuid)&quot;\n        echo &quot;Format log directories&quot;\n        ${KAFKA_HOME}/bin/kafka-storage.sh format -t $KAFKA_CLUSTER_ID -c ${KAFKA_HOME}/config/kraft/server.properties\n        echo &quot;Start Kafka server&quot;\n        ${KAFKA_HOME}/bin/kafka-server-start.sh -daemon ${KAFKA_HOME}/config/kraft/server.properties\n        ;;\n  stop)\n        # Stop daemons.\n        echo &quot;Shutting down Kafka&quot;;\n        pid=`ps ax | grep -i 'kafka.Kafka' | grep -v grep | awk '{print $1}'`\n        if [ -n &quot;$pid&quot; ]\n          then\n          kill -9 $pid\n        else\n          echo &quot;Kafka was not Running&quot;\n        fi\n        ;;\n  restart)\n        $0 stop\n        sleep 2\n        $0 start\n        ;;\n  status)\n        pid=`ps ax | grep -i 'kafka.Kafka' | grep -v grep | awk '{print $1}'`\n        if [ -n &quot;$pid&quot; ]\n          then\n          echo &quot;Kafka is Running as PID: $pid&quot;\n        else\n          echo &quot;Kafka is not Running&quot;\n        fi\n        ;;\n  *)\n        echo &quot;Usage: $0 {start|stop|restart|status}&quot;\n        exit 1\nesac\n\nexit 0\n</code></pre>\n"}],"owner":{"account_id":557134,"reputation":2371,"user_id":919480,"accept_rate":59,"display_name":"cogitoergosum"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77422842,"answer_count":1,"score":0,"last_activity_date":1699194523,"creation_date":1698422103,"question_id":77375531,"body_markdown":"I am using the instructions from [this answer][1] to set-up Kafka as a service on Ubuntu-22.04 on AWS EC2. I am installing Kafka using instructions [from here][2]. Here is my `/etc/init.d/kafka` file. Please note that, I am able to launch Kafka successfully from the command line; but, the launch fails as a service.\r\n\r\n```bash\r\nKAFKA_HOME=/opt/kafka\r\n# See how we were called.\r\ncase &quot;$1&quot; in\r\n  start)\r\n        # Start daemon.\r\n        echo &quot;Generate cluster UUID&quot;\r\n        KAFKA_CLUSTER_ID=&quot;$(${KAFKA_HOME}/bin/kafka-storage.sh random-uuid)&quot;\r\n        echo &quot;Format log directories&quot;\r\n        ${KAFKA_HOME}/bin/kafka-storage.sh format -t $KAFKA_CLUSTER_ID -c ${KAFKA_HOME}/config/kraft/server.properties\r\n        echo &quot;Start Kafka server&quot;\r\n        ${KAFKA_HOME}/bin/kafka-server-start.sh -daemon ${KAFKA_HOME}/config/kraft/server.properties\r\n        ;;\r\n  stop)\r\n        # Stop daemons.\r\n        echo &quot;Shutting down Kafka&quot;;\r\n        pid=`ps ax | grep -i &#39;kafka.Kafka&#39; | grep -v grep | awk &#39;{print $1}&#39;`\r\n        if [ -n &quot;$pid&quot; ]\r\n          then\r\n          kill -9 $pid\r\n        else\r\n          echo &quot;Kafka was not Running&quot;\r\n        fi\r\n        ;;\r\n  restart)\r\n        $0 stop\r\n        sleep 2\r\n        $0 start\r\n        ;;\r\n  status)\r\n        pid=`ps ax | grep -i &#39;kafka.Kafka&#39; | grep -v grep | awk &#39;{print $1}&#39;`\r\n        if [ -n &quot;$pid&quot; ]\r\n          then\r\n          echo &quot;Kafka is Running as PID: $pid&quot;\r\n        else\r\n          echo &quot;Kafka is not Running&quot;\r\n        fi\r\n        ;;\r\n  *)\r\n        echo &quot;Usage: $0 {start|stop|restart|status}&quot;\r\n        exit 1\r\nesac\r\n\r\nexit 0\r\n```\r\n\r\nUpon running `sudo systemctl kafka start` I get the following error.\r\n\r\n```bash\r\nJob for kafka.service failed because the control process exited with error code.\r\nSee &quot;systemctl status kafka.service&quot; and &quot;journalctl -xeu kafka.service&quot; for details.\r\n```\r\n\r\nAnd, `sudo systemctl kafka status` shows this.\r\n\r\n```bash\r\n&#215; kafka.service\r\n     Loaded: loaded (/etc/init.d/kafka; generated)\r\n     Active: failed (Result: exit-code) since Fri 2023-10-27 15:42:14 UTC; 2s ago\r\n       Docs: man:systemd-sysv-generator(8)\r\n    Process: 8492 ExecStart=/etc/init.d/kafka start (code=exited, status=203/EXEC)\r\n        CPU: 946us\r\n\r\nOct 27 15:42:14 ip-172-31-15-126 systemd[8492]: kafka.service: Failed to execute /etc/init.d/kafka: Exec format error\r\nOct 27 15:42:14 ip-172-31-15-126 systemd[8492]: kafka.service: Failed at step EXEC spawning /etc/init.d/kafka: Exec format error\r\nOct 27 15:42:14 ip-172-31-15-126 systemd[1]: Starting kafka.service...\r\nOct 27 15:42:14 ip-172-31-15-126 systemd[1]: kafka.service: Control process exited, code=exited, status=203/EXEC\r\nOct 27 15:42:14 ip-172-31-15-126 systemd[1]: kafka.service: Failed with result &#39;exit-code&#39;.\r\nOct 27 15:42:14 ip-172-31-15-126 systemd[1]: Failed to start kafka.service.\r\n```\r\n\r\nHere is my Java version - if it helps.\r\n\r\n```bash\r\njava -version\r\nopenjdk version &quot;19.0.2&quot; 2023-01-17\r\nOpenJDK Runtime Environment (build 19.0.2+7-Ubuntu-0ubuntu322.04)\r\nOpenJDK 64-Bit Server VM (build 19.0.2+7-Ubuntu-0ubuntu322.04, mixed mode, sharing)\r\n```\r\n\r\n\r\nPlease let me know how to launch Kafka as a service.\r\n\r\n  [1]: https://stackoverflow.com/a/39901893/919480\r\n  [2]: https://kafka.apache.org/quickstart","title":"Start Apache Kafka in Kraft mode as a servcice on Ubuntu","body":"<p>I am using the instructions from <a href=\"https://stackoverflow.com/a/39901893/919480\">this answer</a> to set-up Kafka as a service on Ubuntu-22.04 on AWS EC2. I am installing Kafka using instructions <a href=\"https://kafka.apache.org/quickstart\" rel=\"nofollow noreferrer\">from here</a>. Here is my <code>/etc/init.d/kafka</code> file. Please note that, I am able to launch Kafka successfully from the command line; but, the launch fails as a service.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>KAFKA_HOME=/opt/kafka\n# See how we were called.\ncase &quot;$1&quot; in\n  start)\n        # Start daemon.\n        echo &quot;Generate cluster UUID&quot;\n        KAFKA_CLUSTER_ID=&quot;$(${KAFKA_HOME}/bin/kafka-storage.sh random-uuid)&quot;\n        echo &quot;Format log directories&quot;\n        ${KAFKA_HOME}/bin/kafka-storage.sh format -t $KAFKA_CLUSTER_ID -c ${KAFKA_HOME}/config/kraft/server.properties\n        echo &quot;Start Kafka server&quot;\n        ${KAFKA_HOME}/bin/kafka-server-start.sh -daemon ${KAFKA_HOME}/config/kraft/server.properties\n        ;;\n  stop)\n        # Stop daemons.\n        echo &quot;Shutting down Kafka&quot;;\n        pid=`ps ax | grep -i 'kafka.Kafka' | grep -v grep | awk '{print $1}'`\n        if [ -n &quot;$pid&quot; ]\n          then\n          kill -9 $pid\n        else\n          echo &quot;Kafka was not Running&quot;\n        fi\n        ;;\n  restart)\n        $0 stop\n        sleep 2\n        $0 start\n        ;;\n  status)\n        pid=`ps ax | grep -i 'kafka.Kafka' | grep -v grep | awk '{print $1}'`\n        if [ -n &quot;$pid&quot; ]\n          then\n          echo &quot;Kafka is Running as PID: $pid&quot;\n        else\n          echo &quot;Kafka is not Running&quot;\n        fi\n        ;;\n  *)\n        echo &quot;Usage: $0 {start|stop|restart|status}&quot;\n        exit 1\nesac\n\nexit 0\n</code></pre>\n<p>Upon running <code>sudo systemctl kafka start</code> I get the following error.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Job for kafka.service failed because the control process exited with error code.\nSee &quot;systemctl status kafka.service&quot; and &quot;journalctl -xeu kafka.service&quot; for details.\n</code></pre>\n<p>And, <code>sudo systemctl kafka status</code> shows this.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>× kafka.service\n     Loaded: loaded (/etc/init.d/kafka; generated)\n     Active: failed (Result: exit-code) since Fri 2023-10-27 15:42:14 UTC; 2s ago\n       Docs: man:systemd-sysv-generator(8)\n    Process: 8492 ExecStart=/etc/init.d/kafka start (code=exited, status=203/EXEC)\n        CPU: 946us\n\nOct 27 15:42:14 ip-172-31-15-126 systemd[8492]: kafka.service: Failed to execute /etc/init.d/kafka: Exec format error\nOct 27 15:42:14 ip-172-31-15-126 systemd[8492]: kafka.service: Failed at step EXEC spawning /etc/init.d/kafka: Exec format error\nOct 27 15:42:14 ip-172-31-15-126 systemd[1]: Starting kafka.service...\nOct 27 15:42:14 ip-172-31-15-126 systemd[1]: kafka.service: Control process exited, code=exited, status=203/EXEC\nOct 27 15:42:14 ip-172-31-15-126 systemd[1]: kafka.service: Failed with result 'exit-code'.\nOct 27 15:42:14 ip-172-31-15-126 systemd[1]: Failed to start kafka.service.\n</code></pre>\n<p>Here is my Java version - if it helps.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -version\nopenjdk version &quot;19.0.2&quot; 2023-01-17\nOpenJDK Runtime Environment (build 19.0.2+7-Ubuntu-0ubuntu322.04)\nOpenJDK 64-Bit Server VM (build 19.0.2+7-Ubuntu-0ubuntu322.04, mixed mode, sharing)\n</code></pre>\n<p>Please let me know how to launch Kafka as a service.</p>\n"},{"tags":["java","selenium-webdriver","testng","abstract-class","pom.xml"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1652732421,"post_id":72258891,"comment_id":127672769,"body_markdown":"Please don&#39;t post images of code or errors; see [ask]. Instead include your code as a [mcve].","body":"Please don&#39;t post images of code or errors; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Instead include your code as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699193896,"creation_date":1652753540,"answer_id":72267460,"question_id":72258891,"body_markdown":"The dependencies in your pom are consistent. However you are using Intellij IDEA which does not automatically reload the project after making changes to the pom file.\r\n\r\nYou may have to reimport tbe project. There should be a button for that in the Maven drawer.","title":"java.lang.AbstractMethodError: Receiver class io.cucumber.testng","body":"<p>The dependencies in your pom are consistent. However you are using Intellij IDEA which does not automatically reload the project after making changes to the pom file.</p>\n<p>You may have to reimport tbe project. There should be a button for that in the Maven drawer.</p>\n"}],"owner":{"account_id":23691944,"reputation":1,"user_id":17716200,"display_name":"Jeena Devasia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699193896,"creation_date":1652702500,"question_id":72258891,"body_markdown":"I am getting &quot;java.lang.AbstractMethodError: Receiver class io.cucumber.testng&quot; When I try to runrunner class in selenium cucumber automation.\r\n\r\n[Error log screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ehd1D.png\r\n\r\nPlease find below pom.xml:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;seleniumMaster&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;16&lt;/source&gt;\r\n              &lt;target&gt;16&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n          &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n          &lt;version&gt;7.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-testng --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n          &lt;version&gt;7.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n          &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;","title":"java.lang.AbstractMethodError: Receiver class io.cucumber.testng","body":"<p>I am getting &quot;java.lang.AbstractMethodError: Receiver class io.cucumber.testng&quot; When I try to runrunner class in selenium cucumber automation.</p>\n<p><a href=\"https://i.stack.imgur.com/ehd1D.png\" rel=\"nofollow noreferrer\">Error log screenshot</a></p>\n<p>Please find below pom.xml:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;seleniumMaster&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;16&lt;/source&gt;\n          &lt;target&gt;16&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n      &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n      &lt;version&gt;7.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-testng --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n      &lt;version&gt;7.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n      &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","paypal-sandbox","spark-java","discord-jda","paypal-webhooks"],"owner":{"account_id":29831264,"reputation":1,"user_id":22861853,"display_name":"A1meida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699192944,"creation_date":1699192356,"question_id":77426174,"body_markdown":"I am trying to automate a Task for my Discord Server. The Task is that if someone donates me via paypal, my Discord bot should send a message and add the donator role to the discord user.\r\n\r\nWell, I am currently trying to that using Paypal Webhooks, a webserver and an endpoint (using Spark).\r\n\r\nPaypal can successfully send the webhook to my web-server from zap-hosting.com. But code wise, everything except the post request works out,\r\n\r\nThis is the code (I censored all private data):\r\n\r\n```\r\npackage org.example;\r\n\r\nimport net.dv8tion.jda.api.JDABuilder;\r\nimport net.dv8tion.jda.api.OnlineStatus;\r\nimport net.dv8tion.jda.api.entities.Activity;\r\nimport spark.Spark;\r\nimport spark.Spark.*;\r\n\r\n\r\npublic class Main{\r\n\r\n    private static JDABuilder jda;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        jda = JDABuilder.createDefault(&quot;[Discord Token]&quot;);\r\n\r\n        jda.setStatus(OnlineStatus.ONLINE);\r\n        jda.setActivity(Activity.watching(&quot; your bank account.&quot;));\r\n\r\n        jda.build();\r\n\r\n        webHookGathering webthread = new webHookGathering();\r\n        Thread thread = new Thread(webthread);\r\n        thread.start();\r\n\r\n\r\n        Spark.port(8443);\r\n        Spark.init();\r\n        Spark.awaitInitialization();\r\n\r\n    }\r\n\r\n    public static class webHookGathering extends Thread\r\n    {\r\n        @Override\r\n        public void run() {\r\n            while (true)\r\n            {\r\n                try {\r\n                    System.out.println(&quot;Gathering Started&quot;);\r\n\r\n                    Spark.post(&quot;https://[Adress].com&quot;, (request, response) -&gt; {\r\n                        String webhookData = request.body();\r\n\r\n\r\n                        System.out.println(webhookData);\r\n                        response.status(200);\r\n                        return &quot;Webhook erhalten!&quot;;\r\n\r\n\r\n                    });\r\n                }\r\n                catch (Exception e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                try{\r\n                    Thread.sleep(1000);\r\n                    System.out.println(&quot;next&quot;);\r\n                }\r\n                catch (InterruptedException e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nI created comments using sysout to see where my code gets and where not. This resulted that I was able to see that all the outputs are working except for the one in the post request.","title":"Webhook post request using Spark and Paypal Webhook Simulator for a Discord Bot","body":"<p>I am trying to automate a Task for my Discord Server. The Task is that if someone donates me via paypal, my Discord bot should send a message and add the donator role to the discord user.</p>\n<p>Well, I am currently trying to that using Paypal Webhooks, a webserver and an endpoint (using Spark).</p>\n<p>Paypal can successfully send the webhook to my web-server from zap-hosting.com. But code wise, everything except the post request works out,</p>\n<p>This is the code (I censored all private data):</p>\n<pre><code>package org.example;\n\nimport net.dv8tion.jda.api.JDABuilder;\nimport net.dv8tion.jda.api.OnlineStatus;\nimport net.dv8tion.jda.api.entities.Activity;\nimport spark.Spark;\nimport spark.Spark.*;\n\n\npublic class Main{\n\n    private static JDABuilder jda;\n\n    public static void main(String[] args) {\n\n        jda = JDABuilder.createDefault(&quot;[Discord Token]&quot;);\n\n        jda.setStatus(OnlineStatus.ONLINE);\n        jda.setActivity(Activity.watching(&quot; your bank account.&quot;));\n\n        jda.build();\n\n        webHookGathering webthread = new webHookGathering();\n        Thread thread = new Thread(webthread);\n        thread.start();\n\n\n        Spark.port(8443);\n        Spark.init();\n        Spark.awaitInitialization();\n\n    }\n\n    public static class webHookGathering extends Thread\n    {\n        @Override\n        public void run() {\n            while (true)\n            {\n                try {\n                    System.out.println(&quot;Gathering Started&quot;);\n\n                    Spark.post(&quot;https://[Adress].com&quot;, (request, response) -&gt; {\n                        String webhookData = request.body();\n\n\n                        System.out.println(webhookData);\n                        response.status(200);\n                        return &quot;Webhook erhalten!&quot;;\n\n\n                    });\n                }\n                catch (Exception e)\n                {\n                    e.printStackTrace();\n                }\n\n                try{\n                    Thread.sleep(1000);\n                    System.out.println(&quot;next&quot;);\n                }\n                catch (InterruptedException e)\n                {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>I created comments using sysout to see where my code gets and where not. This resulted that I was able to see that all the outputs are working except for the one in the post request.</p>\n"},{"tags":["java","swing","jlabel"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1698981042,"post_id":77413966,"comment_id":136476372,"body_markdown":"Start by getting rid of `logoLabel.setPreferredSize(new Dimension(logo.getIconWidth(), logo.getIconHeight()));` - it&#39;s otherwise irrelevant","body":"Start by getting rid of <code>logoLabel.setPreferredSize(new Dimension(logo.getIconWidth(), logo.getIconHeight()));</code> - it&#39;s otherwise irrelevant"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1698981224,"post_id":77413966,"comment_id":136476389,"body_markdown":"Java won&#39;t modify the &quot;quality&quot; of the image and `JLabel` will prefer to show the image at it&#39;s full size - which suggests that you&#39;re window is smaller then the image and it&#39;s then been scaled to fit the area. Consider providing a runnable example","body":"Java won&#39;t modify the &quot;quality&quot; of the image and <code>JLabel</code> will prefer to show the image at it&#39;s full size - which suggests that you&#39;re window is smaller then the image and it&#39;s then been scaled to fit the area. Consider providing a runnable example"},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1698981388,"post_id":77413966,"comment_id":136476405,"body_markdown":"I use frame.setSize(1000, 800); to set the size of my window. The image is 600x173, so that shouldn&#39;t be a problem.","body":"I use frame.setSize(1000, 800); to set the size of my window. The image is 600x173, so that shouldn&#39;t be a problem."},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1698981563,"post_id":77413966,"comment_id":136476417,"body_markdown":"But I did add the full code and an image I&#39;m using.","body":"But I did add the full code and an image I&#39;m using."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1698985278,"post_id":77413966,"comment_id":136476658,"body_markdown":"A JLabel will paint the image in its original state. *without loss of quality.* - define loss of quality. Upload your image to this site and upload an image of the frame with the image to this site. Don&#39;t use imgur.","body":"A JLabel will paint the image in its original state. <i>without loss of quality.</i> - define loss of quality. Upload your image to this site and upload an image of the frame with the image to this site. Don&#39;t use imgur."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1698987749,"post_id":77413966,"comment_id":136476838,"body_markdown":"`frame.setSize(1100, 900);` &lt;- use `frame.pack()` instead","body":"<code>frame.setSize(1100, 900);</code> &lt;- use <code>frame.pack()</code> instead"},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1698989613,"post_id":77413966,"comment_id":136476996,"body_markdown":"@camickr - added the images.","body":"@camickr - added the images."},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1698989870,"post_id":77413966,"comment_id":136477011,"body_markdown":"@MadProgrammer - but wouldn&#39;t I have to set the size of each panel individually then? Because right now, if I use ```frame.pack()```, it makes the smallest window possible and you can&#39;t see anything.","body":"@MadProgrammer - but wouldn&#39;t I have to set the size of each panel individually then? Because right now, if I use <code>frame.pack()</code>, it makes the smallest window possible and you can&#39;t see anything."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1698991214,"post_id":77413966,"comment_id":136477111,"body_markdown":"@righN You don&#39;t define the size of the components, that&#39;s their responsibilities. Take `frame.add(panel, BorderLayout.CENTER);` and move it above `frame.pack`","body":"@righN You don&#39;t define the size of the components, that&#39;s their responsibilities. Take <code>frame.add(panel, BorderLayout.CENTER);</code> and move it above <code>frame.pack</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1699023693,"post_id":77413966,"comment_id":136482615,"body_markdown":"What I see is jagged edges on curved and diagonal lines. This seems like an anti-aliasing problem for your OS. Image displays fine on my Windows 11 desktop. Not sure how to check/verify what your desktop is doing. Maybe this: https://stackoverflow.com/questions/29039498/java-system-setproperty-not-affecting-anti-aliasing-command-line-option-works will help.","body":"What I see is jagged edges on curved and diagonal lines. This seems like an anti-aliasing problem for your OS. Image displays fine on my Windows 11 desktop. Not sure how to check/verify what your desktop is doing. Maybe this: <a href=\"https://stackoverflow.com/questions/29039498/java-system-setproperty-not-affecting-anti-aliasing-command-line-option-works\" title=\"java system setproperty not affecting anti aliasing command line option works\">stackoverflow.com/questions/29039498/&hellip;</a> will help."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699025704,"post_id":77413966,"comment_id":136483149,"body_markdown":"You should include the Java version. Older versions may have problems with HiDPI displays. Make sure that your os is *not* applying “helpful” compatibility settings.","body":"You should include the Java version. Older versions may have problems with HiDPI displays. Make sure that your os is <i>not</i> applying “helpful” compatibility settings."},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1699073770,"post_id":77413966,"comment_id":136488671,"body_markdown":"@camickr - I&#39;m on Windows 11 too, but I have AMD Ryzen APU and using its iGPU, if that makes a difference? Java version is 11.0.20. I&#39;ll check out that link and see if there&#39;s any compatibility settings. Thank you!","body":"@camickr - I&#39;m on Windows 11 too, but I have AMD Ryzen APU and using its iGPU, if that makes a difference? Java version is 11.0.20. I&#39;ll check out that link and see if there&#39;s any compatibility settings. Thank you!"},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1699074558,"post_id":77413966,"comment_id":136488701,"body_markdown":"After a quick search, I understood IntelliJ set quite an old Java version. Updated it to OpenJDK 21, as that what IntelliJ us using, I think? Going to see other things.","body":"After a quick search, I understood IntelliJ set quite an old Java version. Updated it to OpenJDK 21, as that what IntelliJ us using, I think? Going to see other things."}],"answers":[{"tags":[],"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699192851,"creation_date":1699076835,"answer_id":77420892,"question_id":77413966,"body_markdown":"So, after updating Java to OpenJDK 21, it still wasn&#39;t solved. The real issue actually was with my own system. As I&#39;m using a laptop with QHD screen, it&#39;s not comfortable to use it at 100% scaling so I set it to 125%. This was causing the issue. The solution was to add a VM option to the IDE \r\n\r\n    -Dsun.java2d.uiScale=1.0\r\n\r\nThis is what worked for me. Thanks everyone for giving ideas on how to solve it!","title":"Add an image with JLabel without loss of quality","body":"<p>So, after updating Java to OpenJDK 21, it still wasn't solved. The real issue actually was with my own system. As I'm using a laptop with QHD screen, it's not comfortable to use it at 100% scaling so I set it to 125%. This was causing the issue. The solution was to add a VM option to the IDE</p>\n<pre><code>-Dsun.java2d.uiScale=1.0\n</code></pre>\n<p>This is what worked for me. Thanks everyone for giving ideas on how to solve it!</p>\n"}],"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77420892,"answer_count":1,"score":0,"last_activity_date":1699192851,"creation_date":1698980760,"question_id":77413966,"body_markdown":"so I just started learning Java (have some C++ experience) and I&#39;m having some trouble. I never created a GUI, so I&#39;m experimenting with it right now, while learning Java at the same time. The issue I have right now is that I can&#39;t figure out a way how to add an image with JLabel without loss of quality. Every method I tried, using Graphics 2D, Thumbnailator, BufferedImage gets me the same result. It feels like image loses it&#39;s sharpness from the original one. \r\n\r\nI have looked for solutions, I really did, but most of them are really old or really hard to understand. So, I&#39;m asking for help where, if you can, explain it to me like I&#39;m five.\r\n\r\nThis is how I import an image right now, as it seems like the easiest method.\r\n\r\n    \r\n\r\n    ImageIcon logo = new \r\n    ImageIcon(this.getClass().getResource(&quot;logo.png&quot;));\r\n    \r\n        logoLabel.setIcon(logo);\r\n        logoLabel.setPreferredSize(new Dimension(logo.getIconWidth(), \r\n        logo.getIconHeight()));\r\n    \r\nBut I&#39;m sure there are other methods. Thanks for the help in advance.\r\n\r\nI&#39;m on Windows 11 Home 22H2, using IntelliJ Community Edition 232.10203.10 with Java 11.0.20\r\n\r\nFull code:\r\n\r\n   \r\n\r\n     import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    public class GUI implements ActionListener {\r\n    \r\n        private int count = 0;\r\n        private JLabel label;\r\n        private JFrame frame;\r\n        private JPanel panel;\r\n        private JButton button;\r\n        public GUI() {\r\n            frame = new JFrame();\r\n            button = new JButton(&quot;Click me&quot;);\r\n            label = new JLabel(&quot;Number of clicks: 0&quot;);\r\n            panel = new JPanel();\r\n            JLabel logoLabel = new JLabel();\r\n            ImageIcon logo = new ImageIcon(this.getClass().getResource(&quot;logo.png&quot;));\r\n            Dimension buttonDim = new Dimension(100, 40);\r\n    \r\n            logoLabel.setIcon(logo);\r\n    \r\n            button.addActionListener(this);\r\n            button.setPreferredSize(buttonDim);\r\n    \r\n            panel.setBorder(BorderFactory.createEmptyBorder(30, 30, 10, 30));\r\n            panel.add(button);\r\n            panel.add(label);\r\n            panel.add(logoLabel);\r\n    \r\n            frame.setSize(1100, 900);\r\n            frame.add(panel, BorderLayout.CENTER);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setTitle(&quot;Our GUI&quot;);\r\n            frame.setVisible(true);\r\n        }\r\n        public static void main(String[] args) {\r\n            new GUI();\r\n        }\r\n    \r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            count++;\r\n            label.setText(&quot;Number of clicks: &quot; + count);\r\n        }\r\n    }\r\n\r\nOriginal image:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhat I get in the GUI\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dWDOH.png\r\n  [2]: https://i.stack.imgur.com/6oA5q.png\r\n\r\nI&#39;m not resizing it or anything.","title":"Add an image with JLabel without loss of quality","body":"<p>so I just started learning Java (have some C++ experience) and I'm having some trouble. I never created a GUI, so I'm experimenting with it right now, while learning Java at the same time. The issue I have right now is that I can't figure out a way how to add an image with JLabel without loss of quality. Every method I tried, using Graphics 2D, Thumbnailator, BufferedImage gets me the same result. It feels like image loses it's sharpness from the original one.</p>\n<p>I have looked for solutions, I really did, but most of them are really old or really hard to understand. So, I'm asking for help where, if you can, explain it to me like I'm five.</p>\n<p>This is how I import an image right now, as it seems like the easiest method.</p>\n<pre><code>ImageIcon logo = new \nImageIcon(this.getClass().getResource(&quot;logo.png&quot;));\n\n    logoLabel.setIcon(logo);\n    logoLabel.setPreferredSize(new Dimension(logo.getIconWidth(), \n    logo.getIconHeight()));\n</code></pre>\n<p>But I'm sure there are other methods. Thanks for the help in advance.</p>\n<p>I'm on Windows 11 Home 22H2, using IntelliJ Community Edition 232.10203.10 with Java 11.0.20</p>\n<p>Full code:</p>\n<pre><code> import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class GUI implements ActionListener {\n\n    private int count = 0;\n    private JLabel label;\n    private JFrame frame;\n    private JPanel panel;\n    private JButton button;\n    public GUI() {\n        frame = new JFrame();\n        button = new JButton(&quot;Click me&quot;);\n        label = new JLabel(&quot;Number of clicks: 0&quot;);\n        panel = new JPanel();\n        JLabel logoLabel = new JLabel();\n        ImageIcon logo = new ImageIcon(this.getClass().getResource(&quot;logo.png&quot;));\n        Dimension buttonDim = new Dimension(100, 40);\n\n        logoLabel.setIcon(logo);\n\n        button.addActionListener(this);\n        button.setPreferredSize(buttonDim);\n\n        panel.setBorder(BorderFactory.createEmptyBorder(30, 30, 10, 30));\n        panel.add(button);\n        panel.add(label);\n        panel.add(logoLabel);\n\n        frame.setSize(1100, 900);\n        frame.add(panel, BorderLayout.CENTER);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setTitle(&quot;Our GUI&quot;);\n        frame.setVisible(true);\n    }\n    public static void main(String[] args) {\n        new GUI();\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        count++;\n        label.setText(&quot;Number of clicks: &quot; + count);\n    }\n}\n</code></pre>\n<p>Original image:</p>\n<p><a href=\"https://i.stack.imgur.com/dWDOH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dWDOH.png\" alt=\"enter image description here\" /></a></p>\n<p>What I get in the GUI</p>\n<p><a href=\"https://i.stack.imgur.com/6oA5q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6oA5q.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm not resizing it or anything.</p>\n"},{"tags":["java","swing","border","jtabbedpane"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1699038783,"post_id":77418740,"comment_id":136485724,"body_markdown":"*I would also like to know how all the properties of components are changed if there is no method/it doesn&#39;t work.* - then you need to create a custom UI class for that component and do the custom painting yourself. Generally not a good idea. *I heard there is something called UIManager* - each LAF has some properties defined for the component that can be changed. See: [UIManager Defaults](https://tips4java.wordpress.com/2008/10/09/uimanager-defaults/). You can also search this site using &quot;jtabbedpane border&quot; for other postings on this topic.","body":"<i>I would also like to know how all the properties of components are changed if there is no method/it doesn&#39;t work.</i> - then you need to create a custom UI class for that component and do the custom painting yourself. Generally not a good idea. <i>I heard there is something called UIManager</i> - each LAF has some properties defined for the component that can be changed. See: <a href=\"https://tips4java.wordpress.com/2008/10/09/uimanager-defaults/\" rel=\"nofollow noreferrer\">UIManager Defaults</a>. You can also search this site using &quot;jtabbedpane border&quot; for other postings on this topic."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699281713,"post_id":77418740,"comment_id":136508467,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699191959,"creation_date":1699191593,"answer_id":77426126,"question_id":77418740,"body_markdown":"These properties are defined by the Look &amp; Feel you are using (e.g. Windows L&amp;F or Metal L&amp;F). \r\n\r\nYou can change these properties globally (i.e. this applies to all JTabbedPanes you are using). The following code works for the Windows L&amp;F and the Motiv L&amp;F (you need to check for other L&amp;F implementations):\r\n\r\n\timport javax.swing.SwingUtilities;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JTabbedPane;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.UIManager;\r\n\timport java.awt.BorderLayout;\r\n\timport java.awt.Insets;\r\n\r\n\tpublic class Main extends JFrame {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSwingUtilities.invokeLater(() -&gt; new Main());\r\n\t\t}\r\n\r\n\t\tpublic Main() {\r\n\t\t\tthis.setLayout(new BorderLayout());\r\n\r\n\t\t\tJTabbedPane pane = new JTabbedPane();\r\n\t\t\tpane.addTab(&quot;A&quot;, new JPanel());\r\n\t\t\tpane.addTab(&quot;B&quot;, new JPanel());\r\n\t\t\tpane.addTab(&quot;C&quot;, new JPanel());\r\n\r\n\t\t\tInsets insets = UIManager.getInsets(&quot;TabbedPane.contentBorderInsets&quot;);\r\n\t\t\tinsets.top = -1;\r\n\t\t\tinsets.bottom = -1;\r\n\t\t\tinsets.left = -1;\r\n\t\t\tinsets.right = -1;\r\n\t\t\tUIManager.put(&quot;TabbedPane.contentBorderInsets&quot;, insets);\r\n\r\n\t\t\tthis.add(pane, BorderLayout.CENTER);\r\n\t\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tthis.setSize(800, 600);\r\n\t\t\tthis.setVisible(true);\r\n\t\t}\r\n\r\n\t}\r\n","title":"How to remove JTabbedPane border?","body":"<p>These properties are defined by the Look &amp; Feel you are using (e.g. Windows L&amp;F or Metal L&amp;F).</p>\n<p>You can change these properties globally (i.e. this applies to all JTabbedPanes you are using). The following code works for the Windows L&amp;F and the Motiv L&amp;F (you need to check for other L&amp;F implementations):</p>\n<pre><code>import javax.swing.SwingUtilities;\nimport javax.swing.JFrame;\nimport javax.swing.JTabbedPane;\nimport javax.swing.JPanel;\nimport javax.swing.UIManager;\nimport java.awt.BorderLayout;\nimport java.awt.Insets;\n\npublic class Main extends JFrame {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new Main());\n    }\n\n    public Main() {\n        this.setLayout(new BorderLayout());\n\n        JTabbedPane pane = new JTabbedPane();\n        pane.addTab(&quot;A&quot;, new JPanel());\n        pane.addTab(&quot;B&quot;, new JPanel());\n        pane.addTab(&quot;C&quot;, new JPanel());\n\n        Insets insets = UIManager.getInsets(&quot;TabbedPane.contentBorderInsets&quot;);\n        insets.top = -1;\n        insets.bottom = -1;\n        insets.left = -1;\n        insets.right = -1;\n        UIManager.put(&quot;TabbedPane.contentBorderInsets&quot;, insets);\n\n        this.add(pane, BorderLayout.CENTER);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setSize(800, 600);\n        this.setVisible(true);\n    }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user22677964"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77426126,"answer_count":1,"score":0,"last_activity_date":1699191959,"creation_date":1699033729,"question_id":77418740,"body_markdown":"I want to remove the awkward blue border which I cannot remove by doing `myTabbedPane.setBorder(null);`. What is a way of doing that?\r\n\r\nThis is the blue border I am talking about:\r\n\r\n[![https://i.stack.imgur.com/RlAh5.png][1]][1]\r\n\r\nAs I am new to the swing java library, I would also like to know how all the properties of components are changed if there is no method/it doesn&#39;t work. I heard there is something called UIManager but I can&#39;t find useful information about it.\r\n\r\nThe only thing I tried was calling setBorder property and calling null on it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RlAh5.png","title":"How to remove JTabbedPane border?","body":"<p>I want to remove the awkward blue border which I cannot remove by doing <code>myTabbedPane.setBorder(null);</code>. What is a way of doing that?</p>\n<p>This is the blue border I am talking about:</p>\n<p><a href=\"https://i.stack.imgur.com/RlAh5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RlAh5.png\" alt=\"https://i.stack.imgur.com/RlAh5.png\" /></a></p>\n<p>As I am new to the swing java library, I would also like to know how all the properties of components are changed if there is no method/it doesn't work. I heard there is something called UIManager but I can't find useful information about it.</p>\n<p>The only thing I tried was calling setBorder property and calling null on it.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9778,"page":79,"page_size":100}
